cscope 15 $HOME/Prajwala-webrtc/workspace/webrtc-checkout/src/rtc_base               0003024019
	@arraysize.h

11 #iâdeà
RTC_BASE_ARRAYSIZE_H_


12 
	#RTC_BASE_ARRAYSIZE_H_


	)

14 
	~<¡ddef.h
>

27 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
size_t
 
	gN
>

28 (&
A¼aySizeH–³r
(
T
 (&
¬¿y
)[
N
]))[N];

30 
	#¬¿ysize
(
¬¿y
è((
	`A¼aySizeH–³r
×¼ay)))

	)

	@async_invoker.cc

11 
	~"¹c_ba£/async_švok”.h
"

13 
	~"¹c_ba£/checks.h
"

14 
	~"¹c_ba£/loggšg.h
"

16 
Çme¥aû
 
	g¹c
 {

18 
	gAsyncInvok”
::
AsyncInvok”
()

19 : 
³ndšg_švoÿtiÚs_
(0),

20 
švoÿtiÚ_com¶‘e_
(
Ãw
 
RefCouÁedObjeù
<
Ev’t
>()),

21 
de¡royšg_
(
çl£
) {}

23 
	gAsyncInvok”
::~
AsyncInvok”
() {

24 
de¡royšg_
.
¡Üe
(
Œue
, 
¡d
::
memÜy_Üd”_»Ïxed
);

26 
	gTh»adMªag”
::
CË¬
(
this
);

30 
	g³ndšg_švoÿtiÚs_
.
lßd
(
¡d
::
memÜy_Üd”_acquœe
) > 0) {

35 
Th»ad
::
Cu¼’t
()->
CË¬
(
this
);

36 
	gšvoÿtiÚ_com¶‘e_
->
Wa™
(
Ev’t
::
kFÜev”
);

40 
	gAsyncInvok”
::
OnMes§ge
(
Mes§ge
* 
msg
) {

42 
ScİedMes§geD©a
<
AsyncClosu»
>* 
d©a
 =

43 
¡©ic_ÿ¡
<
ScİedMes§geD©a
<
AsyncClosu»
>*>(
msg
->
pd©a
);

45 
	gd©a
->
šÃr_d©a
().
Execu‹
();

46 
d–‘e
 
	gd©a
;

49 
	gAsyncInvok”
::
Flush
(
Th»ad
* 
th»ad
, 
ušt32_t
 
id
 ) {

52 ià(
	gde¡royšg_
.
lßd
(
¡d
::
memÜy_Üd”_»Ïxed
))

56 ià(
	gTh»ad
::
Cu¼’t
(è!ğ
th»ad
) {

57 
th»ad
->
Invoke
<>(
RTC_FROM_HERE
,

58 
Bšd
(&
AsyncInvok”
::
Flush
, 
this
, 
th»ad
, 
id
));

62 
Mes§geLi¡
 
	g»moved
;

63 
	gth»ad
->
CË¬
(
this
, 
id
, &
»moved
);

64 
	gMes§geLi¡
::
™”©Ü
 
™
 = 
»moved
.
begš
(); 
	g™
 !ğ»moved.
’d
(); ++it) {

66 
	gth»ad
->
S’d
(
™
->
po¡ed_äom
, it->
phªdËr
, it->
mes§ge_id
, it->
pd©a
);

70 
	gAsyncInvok”
::
CË¬
() {

71 
Th»adMªag”
::
CË¬
(
this
);

74 
	gAsyncInvok”
::
DoInvoke
(cÚ¡ 
LoÿtiÚ
& 
po¡ed_äom
,

75 
Th»ad
* 
th»ad
,

76 
¡d
::
unique_±r
<
AsyncClosu»
> 
şosu»
,

77 
ušt32_t
 
id
) {

78 ià(
	gde¡royšg_
.
lßd
(
¡d
::
memÜy_Üd”_»Ïxed
)) {

83 
RTC_LOG
(
LS_WARNING
) << "Triedo invoke while destroyinghe invoker.";

86 
	gth»ad
->
Po¡
(
po¡ed_äom
, 
this
, 
id
,

87 
Ãw
 
ScİedMes§geD©a
<
AsyncClosu»
>(
¡d
::
move
(
şosu»
)));

90 
	gAsyncInvok”
::
DoInvokeD–ayed
(cÚ¡ 
LoÿtiÚ
& 
po¡ed_äom
,

91 
Th»ad
* 
th»ad
,

92 
¡d
::
unique_±r
<
AsyncClosu»
> 
şosu»
,

93 
ušt32_t
 
d–ay_ms
,

94 
ušt32_t
 
id
) {

95 ià(
	gde¡royšg_
.
lßd
(
¡d
::
memÜy_Üd”_»Ïxed
)) {

97 
RTC_LOG
(
LS_WARNING
) << "Triedo invoke while destroyinghe invoker.";

100 
	gth»ad
->
Po¡D–ayed
(
po¡ed_äom
, 
d–ay_ms
, 
this
, 
id
,

101 
Ãw
 
ScİedMes§geD©a
<
AsyncClosu»
>(
¡d
::
move
(
şosu»
)));

104 
	gGu¬dedAsyncInvok”
::
Gu¬dedAsyncInvok”
(è: 
th»ad_
(
Th»ad
::
Cu¼’t
()) {

105 
th»ad_
->
SigÇlQueueDe¡royed
.
cÚÃù
(
this
,

106 &
Gu¬dedAsyncInvok”
::
Th»adDe¡royed
);

109 
	gGu¬dedAsyncInvok”
::~
Gu¬dedAsyncInvok”
() {}

111 
boŞ
 
Gu¬dedAsyncInvok”
::
Flush
(
ušt32_t
 
id
) {

112 
Cr™Scİe
 
cs
(&
ü™_
);

113 ià(
	gth»ad_
 =ğ
nuÎ±r
)

114  
çl£
;

115 
	gšvok”_
.
Flush
(
th»ad_
, 
id
);

116  
	gŒue
;

119 
	gGu¬dedAsyncInvok”
::
Th»adDe¡royed
() {

120 
Cr™Scİe
 
cs
(&
ü™_
);

122 
RTC_DCHECK
(
th»ad_
 !ğ
nuÎ±r
);

123 
	gth»ad_
 = 
nuÎ±r
;

126 
	gAsyncClosu»
::
AsyncClosu»
(
AsyncInvok”
* 
švok”
)

127 : 
švok”_
(
švok”
), 
švoÿtiÚ_com¶‘e_
(invoker_->invocation_complete_) {

128 
	gšvok”_
->
	g³ndšg_švoÿtiÚs_
.
ãtch_add
(1, 
¡d
::
memÜy_Üd”_»Ïxed
);

131 
	gAsyncClosu»
::~
AsyncClosu»
() {

134 
švok”_
->
³ndšg_švoÿtiÚs_
.
ãtch_sub
(1, 
¡d
::
memÜy_Üd”_»Ëa£
);

143 
	gšvoÿtiÚ_com¶‘e_
->
S‘
();

	@async_invoker.h

11 #iâdeà
RTC_BASE_ASYNC_INVOKER_H_


12 
	#RTC_BASE_ASYNC_INVOKER_H_


	)

14 
	~<©omic
>

15 
	~<memÜy
>

16 
	~<ut™y
>

18 
	~"­i/scİed_»åŒ.h
"

19 
	~"¹c_ba£/async_švok”_šl.h
"

20 
	~"¹c_ba£/bšd.h
"

21 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

22 
	~"¹c_ba£/ev’t.h
"

23 
	~"¹c_ba£/»f_couÁed_objeù.h
"

24 
	~"¹c_ba£/thœd_·¹y/sig¦Ù/sig¦Ù.h
"

25 
	~"¹c_ba£/th»ad.h
"

27 
Çme¥aû
 
	g¹c
 {

90 şas 
	cAsyncInvok”
 : 
public
 
Mes§geHªdËr
 {

91 
public
:

92 
AsyncInvok”
();

93 ~
AsyncInvok”
(è
	gov”ride
;

97 
	g‹m¶©e
 <
şass
 
	gR‘uºT
, cÏs 
	gFunùÜT
>

98 
AsyncInvoke
(cÚ¡ 
LoÿtiÚ
& 
po¡ed_äom
,

99 
Th»ad
* 
th»ad
,

100 
FunùÜT
&& 
funùÜ
,

101 
ušt32_t
 
id
 = 0) {

102 
¡d
::
unique_±r
<
AsyncClosu»
> 
şosu»
(

103 
Ãw
 
FœeAndFÜg‘AsyncClosu»
<
FunùÜT
>(

104 
this
, 
¡d
::
fÜw¬d
<
FunùÜT
>(
funùÜ
)));

105 
DoInvoke
(
po¡ed_äom
, 
th»ad
, 
¡d
::
move
(
şosu»
), 
id
);

110 
	g‹m¶©e
 <
şass
 
	gR‘uºT
, cÏs 
	gFunùÜT
>

111 
AsyncInvokeD–ayed
(cÚ¡ 
LoÿtiÚ
& 
po¡ed_äom
,

112 
Th»ad
* 
th»ad
,

113 
FunùÜT
&& 
funùÜ
,

114 
ušt32_t
 
d–ay_ms
,

115 
ušt32_t
 
id
 = 0) {

116 
¡d
::
unique_±r
<
AsyncClosu»
> 
şosu»
(

117 
Ãw
 
FœeAndFÜg‘AsyncClosu»
<
FunùÜT
>(

118 
this
, 
¡d
::
fÜw¬d
<
FunùÜT
>(
funùÜ
)));

119 
DoInvokeD–ayed
(
po¡ed_äom
, 
th»ad
, 
¡d
::
move
(
şosu»
), 
d–ay_ms
, 
id
);

127 
Flush
(
Th»ad
* 
th»ad
, 
ušt32_t
 
id
 = 
MQID_ANY
);

132 
CË¬
();

134 
	g´iv©e
:

135 
OnMes§ge
(
Mes§ge
* 
msg
è
ov”ride
;

136 
DoInvoke
(cÚ¡ 
LoÿtiÚ
& 
po¡ed_äom
,

137 
Th»ad
* 
th»ad
,

138 
¡d
::
unique_±r
<
AsyncClosu»
> 
şosu»
,

139 
ušt32_t
 
id
);

140 
DoInvokeD–ayed
(cÚ¡ 
LoÿtiÚ
& 
po¡ed_äom
,

141 
Th»ad
* 
th»ad
,

142 
¡d
::
unique_±r
<
AsyncClosu»
> 
şosu»
,

143 
ušt32_t
 
d–ay_ms
,

144 
ušt32_t
 
id
);

154 
	g¡d
::
©omic
<> 
³ndšg_švoÿtiÚs_
;

160 
	gscİed_»åŒ
<
	gRefCouÁedObjeù
<
	gEv’t
>> 
	gšvoÿtiÚ_com¶‘e_
;

165 
	g¡d
::
©omic
<
boŞ
> 
de¡royšg_
;

167 
ä›nd
 
şass
 
	gAsyncClosu»
;

169 
RTC_DISALLOW_COPY_AND_ASSIGN
(
AsyncInvok”
);

178 
şass
 
	gGu¬dedAsyncInvok”
 : 
public
 
sig¦Ù
::
has_¦Ùs
<> {

179 
public
:

180 
Gu¬dedAsyncInvok”
();

181 ~
Gu¬dedAsyncInvok”
(è
	gov”ride
;

187 
boŞ
 
Flush
(
ušt32_t
 
id
 = 
MQID_ANY
);

191 
	g‹m¶©e
 <
şass
 
	gR‘uºT
, cÏs 
	gFunùÜT
>

192 
boŞ
 
AsyncInvoke
(cÚ¡ 
LoÿtiÚ
& 
po¡ed_äom
,

193 
FunùÜT
&& 
funùÜ
,

194 
ušt32_t
 
id
 = 0) {

195 
Cr™Scİe
 
cs
(&
ü™_
);

196 ià(
	gth»ad_
 =ğ
nuÎ±r
)

197  
çl£
;

198 
	gšvok”_
.
	gAsyncInvoke
<
	gR‘uºT
, 
	gFunùÜT
>(

199 
	gpo¡ed_äom
, 
	gth»ad_
, 
	g¡d
::
fÜw¬d
<
FunùÜT
>(
funùÜ
), 
	gid
);

200  
	gŒue
;

205 
	g‹m¶©e
 <
şass
 
	gR‘uºT
, cÏs 
	gFunùÜT
>

206 
boŞ
 
AsyncInvokeD–ayed
(cÚ¡ 
LoÿtiÚ
& 
po¡ed_äom
,

207 
FunùÜT
&& 
funùÜ
,

208 
ušt32_t
 
d–ay_ms
,

209 
ušt32_t
 
id
 = 0) {

210 
Cr™Scİe
 
cs
(&
ü™_
);

211 ià(
	gth»ad_
 =ğ
nuÎ±r
)

212  
çl£
;

213 
	gšvok”_
.
	gAsyncInvokeD–ayed
<
	gR‘uºT
, 
	gFunùÜT
>(

214 
	gpo¡ed_äom
, 
	gth»ad_
, 
	g¡d
::
fÜw¬d
<
FunùÜT
>(
funùÜ
), 
	gd–ay_ms
, 
	gid
);

215  
	gŒue
;

220 
	g‹m¶©e
 <
şass
 
	gR‘uºT
, cÏs 
	gFunùÜT
, cÏs 
	gHo¡T
>

221 
boŞ
 
AsyncInvoke
(cÚ¡ 
LoÿtiÚ
& 
po¡ed_äom
,

222 cÚ¡ 
LoÿtiÚ
& 
ÿÎback_po¡ed_äom
,

223 
FunùÜT
&& 
funùÜ
,

224 (
Ho¡T
::*
ÿÎback
)(
R‘uºT
),

225 
Ho¡T
* 
ÿÎback_ho¡
,

226 
ušt32_t
 
id
 = 0) {

227 
Cr™Scİe
 
cs
(&
ü™_
);

228 ià(
	gth»ad_
 =ğ
nuÎ±r
)

229  
çl£
;

230 
	gšvok”_
.
	gAsyncInvoke
<
	gR‘uºT
, 
	gFunùÜT
, 
	gHo¡T
>(

231 
	gpo¡ed_äom
, 
	gÿÎback_po¡ed_äom
, 
	gth»ad_
,

232 
	g¡d
::
fÜw¬d
<
FunùÜT
>(
funùÜ
), 
	gÿÎback
, 
	gÿÎback_ho¡
, 
	gid
);

233  
	gŒue
;

238 
	g‹m¶©e
 <
şass
 
	gR‘uºT
, cÏs 
	gFunùÜT
, cÏs 
	gHo¡T
>

239 
boŞ
 
AsyncInvoke
(cÚ¡ 
LoÿtiÚ
& 
po¡ed_äom
,

240 cÚ¡ 
LoÿtiÚ
& 
ÿÎback_po¡ed_äom
,

241 
FunùÜT
&& 
funùÜ
,

242 (
Ho¡T
::*
ÿÎback
)(),

243 
Ho¡T
* 
ÿÎback_ho¡
,

244 
ušt32_t
 
id
 = 0) {

245 
Cr™Scİe
 
cs
(&
ü™_
);

246 ià(
	gth»ad_
 =ğ
nuÎ±r
)

247  
çl£
;

248 
	gšvok”_
.
	gAsyncInvoke
<
	gR‘uºT
, 
	gFunùÜT
, 
	gHo¡T
>(

249 
	gpo¡ed_äom
, 
	gÿÎback_po¡ed_äom
, 
	gth»ad_
,

250 
	g¡d
::
fÜw¬d
<
FunùÜT
>(
funùÜ
), 
	gÿÎback
, 
	gÿÎback_ho¡
, 
	gid
);

251  
	gŒue
;

254 
	g´iv©e
:

256 
Th»adDe¡royed
();

258 
Cr™iÿlSeùiÚ
 
	gü™_
;

259 
Th»ad
* 
th»ad_
 
RTC_GUARDED_BY
(
ü™_
);

260 
AsyncInvok”
 
švok”_
 
RTC_GUARDED_BY
(
ü™_
);

	@async_invoker_inl.h

11 #iâdeà
RTC_BASE_ASYNC_INVOKER_INL_H_


12 
	#RTC_BASE_ASYNC_INVOKER_INL_H_


	)

14 
	~"­i/scİed_»åŒ.h
"

15 
	~"¹c_ba£/bšd.h
"

16 
	~"¹c_ba£/ü™iÿl_£ùiÚ.h
"

17 
	~"¹c_ba£/ev’t.h
"

18 
	~"¹c_ba£/mes§ge_hªdËr.h
"

19 
	~"¹c_ba£/»f_couÁed_objeù.h
"

20 
	~"¹c_ba£/thœd_·¹y/sig¦Ù/sig¦Ù.h
"

21 
	~"¹c_ba£/th»ad.h
"

22 
	~"¹c_ba£/th»ad_ªnÙ©iÚs.h
"

24 
Çme¥aû
 
	g¹c
 {

26 
şass
 
	gAsyncInvok”
;

30 şas 
	cAsyncClosu»
 {

31 
	gpublic
:

32 
ex¶ic™
 
AsyncClosu»
(
AsyncInvok”
* 
švok”
);

33 
	gvœtu®
 ~
AsyncClosu»
();

36 
vœtu®
 
Execu‹
() = 0;

38 
	g´Ùeùed
:

39 
AsyncInvok”
* 
švok”_
;

44 
	gscİed_»åŒ
<
	gRefCouÁedObjeù
<
	gEv’t
>> 
	gšvoÿtiÚ_com¶‘e_
;

48 
	g‹m¶©e
 <
şass
 
	gFunùÜT
>

49 şas 
	cFœeAndFÜg‘AsyncClosu»
 : 
public
 
AsyncClosu»
 {

50 
public
:

51 
ex¶ic™
 
FœeAndFÜg‘AsyncClosu»
(
AsyncInvok”
* 
švok”
, 
FunùÜT
&& 
funùÜ
)

52 : 
AsyncClosu»
(
švok”
), 
funùÜ_
(
¡d
::
fÜw¬d
<
FunùÜT
>(
funùÜ
)) {}

53 
vœtu®
 
Execu‹
(è{ 
funùÜ_
(); }

55 
	g´iv©e
:

56 
ty³Çme
 
¡d
::
deÿy
<
FunùÜT
>::
ty³
 
funùÜ_
;

	@async_packet_socket.cc

11 
	~"¹c_ba£/async_·ck‘_sock‘.h
"

13 
Çme¥aû
 
	g¹c
 {

15 
	gPack‘TimeUpd©eP¬ams
::
Pack‘TimeUpd©eP¬ams
() = ;

17 
	gPack‘TimeUpd©eP¬ams
::
Pack‘TimeUpd©eP¬ams
(

18 cÚ¡ 
Pack‘TimeUpd©eP¬ams
& 
Ùh”
) = ;

20 
	gPack‘TimeUpd©eP¬ams
::~
Pack‘TimeUpd©eP¬ams
() = ;

22 
	gPack‘O±iÚs
::
Pack‘O±iÚs
() = ;

23 
	gPack‘O±iÚs
::
Pack‘O±iÚs
(
DiffS”vCodePošt
 
dsı
) : dscp(dscp) {}

24 
Pack‘O±iÚs
::Pack‘O±iÚs(cÚ¡ Pack‘O±iÚs& 
Ùh”
) = ;

25 
	gPack‘O±iÚs
::~
Pack‘O±iÚs
() = ;

27 
	gAsyncPack‘Sock‘
::
AsyncPack‘Sock‘
() = ;

29 
	gAsyncPack‘Sock‘
::~
AsyncPack‘Sock‘
() = ;

31 
CİySock‘InfÜm©iÚToPack‘Info
(
size_t
 
·ck‘_size_by‹s
,

32 cÚ¡ 
AsyncPack‘Sock‘
& 
sock‘_äom
,

33 
boŞ
 
is_cÚÃùiÚËss
,

34 
¹c
::
Pack‘Info
* 
šfo
) {

35 
šfo
->
·ck‘_size_by‹s
 =…acket_size_bytes;

36 
	gšfo
->
	g_ov”h—d_by‹s
 = 
sock‘_äom
.
G‘LoÿlAdd»ss
().
addr
().
ov”h—d
();

	@async_packet_socket.h

11 #iâdeà
RTC_BASE_ASYNC_PACKET_SOCKET_H_


12 
	#RTC_BASE_ASYNC_PACKET_SOCKET_H_


	)

14 
	~<veùÜ
>

16 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

17 
	~"¹c_ba£/dsı.h
"

18 
	~"¹c_ba£/ÃtwÜk/£Á_·ck‘.h
"

19 
	~"¹c_ba£/sock‘.h
"

20 
	~"¹c_ba£/sy¡em/¹c_expÜt.h
"

21 
	~"¹c_ba£/thœd_·¹y/sig¦Ù/sig¦Ù.h
"

22 
	~"¹c_ba£/time_uts.h
"

24 
Çme¥aû
 
	g¹c
 {

29 
	sPack‘TimeUpd©eP¬ams
 {

30 
Pack‘TimeUpd©eP¬ams
();

31 
Pack‘TimeUpd©eP¬ams
(cÚ¡ Pack‘TimeUpd©eP¬ams& 
Ùh”
);

32 ~
Pack‘TimeUpd©eP¬ams
();

34 
	g¹p_£ndtime_ex‹nsiÚ_id
 = -1;

35 
	g¡d
::
veùÜ
<> 
¤_auth_key
;

36 
	g¤_auth_g_Ën
 = -1;

37 
št64_t
 
	g¤_·ck‘_šdex
 = -1;

42 
RTC_EXPORT
 
	gPack‘O±iÚs
 {

43 
Pack‘O±iÚs
();

44 
ex¶ic™
 
Pack‘O±iÚs
(
DiffS”vCodePošt
 
dsı
);

45 
Pack‘O±iÚs
(cÚ¡ Pack‘O±iÚs& 
Ùh”
);

46 ~
Pack‘O±iÚs
();

48 
DiffS”vCodePošt
 
	gdsı
 = 
DSCP_NO_CHANGE
;

51 
št64_t
 
	g·ck‘_id
 = -1;

52 
Pack‘TimeUpd©eP¬ams
 
	g·ck‘_time_·¿ms
;

54 
Pack‘Info
 
	gšfo_sigÇËd_aá”_£Á
;

59 
şass
 
RTC_EXPORT
 
	gAsyncPack‘Sock‘
 : 
public
 
sig¦Ù
::
has_¦Ùs
<> {

60 
public
:

61 
	eS‹
 {

62 
STATE_CLOSED
,

63 
	gSTATE_BINDING
,

64 
	gSTATE_BOUND
,

65 
	gSTATE_CONNECTING
,

66 
	gSTATE_CONNECTED


69 
AsyncPack‘Sock‘
();

70 ~
AsyncPack‘Sock‘
(è
	gov”ride
;

74 
vœtu®
 
Sock‘Add»ss
 
G‘LoÿlAdd»ss
() const = 0;

77 
vœtu®
 
Sock‘Add»ss
 
G‘RemÙeAdd»ss
() const = 0;

80 
vœtu®
 
S’d
(cÚ¡ * 
pv
, 
size_t
 
cb
, cÚ¡ 
Pack‘O±iÚs
& 
İtiÚs
) = 0;

81 
vœtu®
 
S’dTo
(cÚ¡ * 
pv
,

82 
size_t
 
cb
,

83 cÚ¡ 
Sock‘Add»ss
& 
addr
,

84 cÚ¡ 
Pack‘O±iÚs
& 
İtiÚs
) = 0;

87 
vœtu®
 
Clo£
() = 0;

90 
vœtu®
 
S‹
 
G‘S‹
() const = 0;

93 
vœtu®
 
G‘O±iÚ
(
Sock‘
::
O±iÚ
 
İt
, * 
v®ue
) = 0;

94 
vœtu®
 
S‘O±iÚ
(
Sock‘
::
O±iÚ
 
İt
, 
v®ue
) = 0;

98 
vœtu®
 
G‘E¼Ü
() const = 0;

99 
vœtu®
 
S‘E¼Ü
(
”rÜ
) = 0;

103 
	gsig¦Ù
::
sigÇl5
<
AsyncPack‘Sock‘
*,

105 
	gsize_t
,

106 cÚ¡ 
	gSock‘Add»ss
&,

109 cÚ¡ 
	gšt64_t
&>

110 
	gSigÇlR—dPack‘
;

113 
	gsig¦Ù
::
sigÇl2
<
AsyncPack‘Sock‘
*, cÚ¡ 
	gS’tPack‘
&> 
	gSigÇlS’tPack‘
;

116 
	gsig¦Ù
::
sigÇl1
<
AsyncPack‘Sock‘
*> 
SigÇlR—dyToS’d
;

122 
	gsig¦Ù
::
sigÇl2
<
AsyncPack‘Sock‘
*, cÚ¡ 
	gSock‘Add»ss
&> 
	gSigÇlAdd»ssR—dy
;

126 
	gsig¦Ù
::
sigÇl1
<
AsyncPack‘Sock‘
*> 
SigÇlCÚÃù
;

130 
	gsig¦Ù
::
sigÇl2
<
AsyncPack‘Sock‘
*, > 
	gSigÇlClo£
;

133 
	gsig¦Ù
::
sigÇl2
<
AsyncPack‘Sock‘
*, 
	gAsyncPack‘Sock‘
*> 
	gSigÇlNewCÚÃùiÚ
;

135 
	g´iv©e
:

136 
RTC_DISALLOW_COPY_AND_ASSIGN
(
AsyncPack‘Sock‘
);

139 
CİySock‘InfÜm©iÚToPack‘Info
(
size_t
 
·ck‘_size_by‹s
,

140 cÚ¡ 
AsyncPack‘Sock‘
& 
sock‘_äom
,

141 
boŞ
 
is_cÚÃùiÚËss
,

142 
¹c
::
Pack‘Info
* 
šfo
);

	@async_resolver_interface.cc

11 
	~"¹c_ba£/async_»sŞv”_š‹rçû.h
"

13 
Çme¥aû
 
	g¹c
 {

15 
	gAsyncResŞv”IÁ”çû
::
AsyncResŞv”IÁ”çû
() {}

17 
AsyncResŞv”IÁ”çû
::~AsyncResolverInterface() = ;

	@async_resolver_interface.h

11 #iâdeà
RTC_BASE_ASYNC_RESOLVER_INTERFACE_H_


12 
	#RTC_BASE_ASYNC_RESOLVER_INTERFACE_H_


	)

14 
	~"¹c_ba£/sock‘_add»ss.h
"

15 
	~"¹c_ba£/sy¡em/¹c_expÜt.h
"

16 
	~"¹c_ba£/thœd_·¹y/sig¦Ù/sig¦Ù.h
"

18 
Çme¥aû
 
	g¹c
 {

21 şas 
	cRTC_EXPORT
 
	gAsyncResŞv”IÁ”çû
 {

22 
	gpublic
:

23 
AsyncResŞv”IÁ”çû
();

24 
	gvœtu®
 ~
AsyncResŞv”IÁ”çû
();

27 
vœtu®
 
S¹
(cÚ¡ 
Sock‘Add»ss
& 
addr
) = 0;

32 
vœtu®
 
boŞ
 
G‘ResŞvedAdd»ss
(
çmy
, 
Sock‘Add»ss
* 
addr
) const = 0;

34 
vœtu®
 
G‘E¼Ü
() const = 0;

36 
vœtu®
 
De¡roy
(
boŞ
 
wa™
) = 0;

39 
Sock‘Add»ss
 
add»ss
() const {

40 
Sock‘Add»ss
 
	gaddr
;

41 
G‘ResŞvedAdd»ss
(
AF_INET
, &
addr
);

42  
	gaddr
;

46 
	gsig¦Ù
::
sigÇl1
<
AsyncResŞv”IÁ”çû
*> 
SigÇlDÚe
;

	@async_socket.cc

11 
	~"¹c_ba£/async_sock‘.h
"

13 
	~"¹c_ba£/checks.h
"

15 
Çme¥aû
 
	g¹c
 {

17 
	gAsyncSock‘
::
AsyncSock‘
() {}

19 
AsyncSock‘
::~AsyncSocket() {}

21 
AsyncSock‘Ad­‹r
::AsyncSock‘Ad­‹r(
AsyncSock‘
* 
sock‘
è: 
sock‘_
(
nuÎ±r
) {

22 
A‰ach
(
sock‘
);

25 
	gAsyncSock‘Ad­‹r
::~
AsyncSock‘Ad­‹r
() {

26 
d–‘e
 
sock‘_
;

29 
	gAsyncSock‘Ad­‹r
::
A‰ach
(
AsyncSock‘
* 
sock‘
) {

30 
RTC_DCHECK
(!
sock‘_
);

31 
	gsock‘_
 = 
sock‘
;

32 ià(
	gsock‘_
) {

33 
	gsock‘_
->
	gSigÇlCÚÃùEv’t
.
cÚÃù
(
this
,

34 &
AsyncSock‘Ad­‹r
::
OnCÚÃùEv’t
);

35 
	gsock‘_
->
	gSigÇlR—dEv’t
.
cÚÃù
(
this
, &
AsyncSock‘Ad­‹r
::
OnR—dEv’t
);

36 
	gsock‘_
->
	gSigÇlWr™eEv’t
.
cÚÃù
(
this
, &
AsyncSock‘Ad­‹r
::
OnWr™eEv’t
);

37 
	gsock‘_
->
	gSigÇlClo£Ev’t
.
cÚÃù
(
this
, &
AsyncSock‘Ad­‹r
::
OnClo£Ev’t
);

41 
Sock‘Add»ss
 
	gAsyncSock‘Ad­‹r
::
G‘LoÿlAdd»ss
() const {

42  
sock‘_
->
G‘LoÿlAdd»ss
();

45 
Sock‘Add»ss
 
	gAsyncSock‘Ad­‹r
::
G‘RemÙeAdd»ss
() const {

46  
sock‘_
->
G‘RemÙeAdd»ss
();

49 
	gAsyncSock‘Ad­‹r
::
Bšd
(cÚ¡ 
Sock‘Add»ss
& 
addr
) {

50  
sock‘_
->
Bšd
(
addr
);

53 
	gAsyncSock‘Ad­‹r
::
CÚÃù
(cÚ¡ 
Sock‘Add»ss
& 
addr
) {

54  
sock‘_
->
CÚÃù
(
addr
);

57 
	gAsyncSock‘Ad­‹r
::
S’d
(cÚ¡ * 
pv
, 
size_t
 
cb
) {

58  
	gsock‘_
->
S’d
(
pv
, 
cb
);

61 
	gAsyncSock‘Ad­‹r
::
S’dTo
(cÚ¡ * 
pv
,

62 
size_t
 
cb
,

63 cÚ¡ 
Sock‘Add»ss
& 
addr
) {

64  
	gsock‘_
->
S’dTo
(
pv
, 
cb
, 
addr
);

67 
	gAsyncSock‘Ad­‹r
::
Recv
(* 
pv
, 
size_t
 
cb
, 
št64_t
* 
time¡amp
) {

68  
	gsock‘_
->
Recv
(
pv
, 
cb
, 
time¡amp
);

71 
	gAsyncSock‘Ad­‹r
::
RecvFrom
(* 
pv
,

72 
size_t
 
cb
,

73 
Sock‘Add»ss
* 
·ddr
,

74 
št64_t
* 
time¡amp
) {

75  
	gsock‘_
->
RecvFrom
(
pv
, 
cb
, 
·ddr
, 
time¡amp
);

78 
	gAsyncSock‘Ad­‹r
::
Li¡’
(
backlog
) {

79  
sock‘_
->
Li¡’
(
backlog
);

82 
AsyncSock‘
* 
	gAsyncSock‘Ad­‹r
::
Acû±
(
Sock‘Add»ss
* 
·ddr
) {

83  
sock‘_
->
Acû±
(
·ddr
);

86 
	gAsyncSock‘Ad­‹r
::
Clo£
() {

87  
sock‘_
->
Clo£
();

90 
	gAsyncSock‘Ad­‹r
::
G‘E¼Ü
() const {

91  
sock‘_
->
G‘E¼Ü
();

94 
	gAsyncSock‘Ad­‹r
::
S‘E¼Ü
(
”rÜ
) {

95  
sock‘_
->
S‘E¼Ü
(
”rÜ
);

98 
	gAsyncSock‘
::
CÚnS‹
 
AsyncSock‘Ad­‹r
::
G‘S‹
() const {

99  
sock‘_
->
G‘S‹
();

102 
	gAsyncSock‘Ad­‹r
::
G‘O±iÚ
(
O±iÚ
 
İt
, * 
v®ue
) {

103  
	gsock‘_
->
G‘O±iÚ
(
İt
, 
v®ue
);

106 
	gAsyncSock‘Ad­‹r
::
S‘O±iÚ
(
O±iÚ
 
İt
, 
v®ue
) {

107  
	gsock‘_
->
S‘O±iÚ
(
İt
, 
v®ue
);

110 
	gAsyncSock‘Ad­‹r
::
OnCÚÃùEv’t
(
AsyncSock‘
* 
sock‘
) {

111 
SigÇlCÚÃùEv’t
(
this
);

114 
	gAsyncSock‘Ad­‹r
::
OnR—dEv’t
(
AsyncSock‘
* 
sock‘
) {

115 
SigÇlR—dEv’t
(
this
);

118 
	gAsyncSock‘Ad­‹r
::
OnWr™eEv’t
(
AsyncSock‘
* 
sock‘
) {

119 
SigÇlWr™eEv’t
(
this
);

122 
	gAsyncSock‘Ad­‹r
::
OnClo£Ev’t
(
AsyncSock‘
* 
sock‘
, 
”r
) {

123 
SigÇlClo£Ev’t
(
this
, 
”r
);

	@async_socket.h

11 #iâdeà
RTC_BASE_ASYNC_SOCKET_H_


12 
	#RTC_BASE_ASYNC_SOCKET_H_


	)

14 
	~<¡ddef.h
>

15 
	~<¡dšt.h
>

17 
	~"¹c_ba£/sock‘.h
"

18 
	~"¹c_ba£/sock‘_add»ss.h
"

19 
	~"¹c_ba£/thœd_·¹y/sig¦Ù/sig¦Ù.h
"

21 
Çme¥aû
 
	g¹c
 {

26 şas 
	cAsyncSock‘
 : 
public
 
Sock‘
 {

27 
public
:

28 
AsyncSock‘
();

29 ~
AsyncSock‘
(è
	gov”ride
;

31 
AsyncSock‘
* 
Acû±
(
Sock‘Add»ss
* 
·ddr
è
	gov”ride
 = 0;

38 
	gsig¦Ù
::
sigÇl1
<
AsyncSock‘
*, sig¦Ù::
muÉi_th»aded_loÿl
> 
SigÇlR—dEv’t
;

40 
	gsig¦Ù
::
sigÇl1
<
AsyncSock‘
*, sig¦Ù::
muÉi_th»aded_loÿl
>

41 
SigÇlWr™eEv’t
;

42 
	gsig¦Ù
::
sigÇl1
<
AsyncSock‘
*> 
SigÇlCÚÃùEv’t
;

43 
	gsig¦Ù
::
sigÇl2
<
AsyncSock‘
*, > 
	gSigÇlClo£Ev’t
;

46 
şass
 
	gAsyncSock‘Ad­‹r
 : 
public
 
AsyncSock‘
,…ubliø
	gsig¦Ù
::
has_¦Ùs
<> {

47 
public
:

52 
ex¶ic™
 
AsyncSock‘Ad­‹r
(
AsyncSock‘
* 
sock‘
);

53 ~
AsyncSock‘Ad­‹r
(è
	gov”ride
;

54 
A‰ach
(
AsyncSock‘
* 
sock‘
);

55 
Sock‘Add»ss
 
G‘LoÿlAdd»ss
(ècÚ¡ 
	gov”ride
;

56 
Sock‘Add»ss
 
G‘RemÙeAdd»ss
(ècÚ¡ 
	gov”ride
;

57 
Bšd
(cÚ¡ 
Sock‘Add»ss
& 
addr
è
	gov”ride
;

58 
CÚÃù
(cÚ¡ 
Sock‘Add»ss
& 
addr
è
	gov”ride
;

59 
S’d
(cÚ¡ * 
pv
, 
size_t
 
cb
è
	gov”ride
;

60 
S’dTo
(cÚ¡ * 
pv
, 
size_t
 
cb
, cÚ¡ 
Sock‘Add»ss
& 
addr
è
	gov”ride
;

61 
Recv
(* 
pv
, 
size_t
 
cb
, 
št64_t
* 
time¡amp
è
	gov”ride
;

62 
RecvFrom
(* 
pv
,

63 
size_t
 
cb
,

64 
Sock‘Add»ss
* 
·ddr
,

65 
št64_t
* 
time¡amp
è
	gov”ride
;

66 
Li¡’
(
backlog
è
	gov”ride
;

67 
AsyncSock‘
* 
Acû±
(
Sock‘Add»ss
* 
·ddr
è
	gov”ride
;

68 
Clo£
(è
	gov”ride
;

69 
G‘E¼Ü
(ècÚ¡ 
	gov”ride
;

70 
S‘E¼Ü
(
”rÜ
è
	gov”ride
;

71 
CÚnS‹
 
G‘S‹
(ècÚ¡ 
	gov”ride
;

72 
G‘O±iÚ
(
O±iÚ
 
İt
, * 
v®ue
è
	gov”ride
;

73 
S‘O±iÚ
(
O±iÚ
 
İt
, 
v®ue
è
	gov”ride
;

75 
	g´Ùeùed
:

76 
vœtu®
 
OnCÚÃùEv’t
(
AsyncSock‘
* 
sock‘
);

77 
vœtu®
 
OnR—dEv’t
(
AsyncSock‘
* 
sock‘
);

78 
vœtu®
 
OnWr™eEv’t
(
AsyncSock‘
* 
sock‘
);

79 
vœtu®
 
OnClo£Ev’t
(
AsyncSock‘
* 
sock‘
, 
”r
);

81 
AsyncSock‘
* 
	gsock‘_
;

	@async_tcp_socket.cc

11 
	~"¹c_ba£/async_tı_sock‘.h
"

13 
	~<¡dšt.h
>

14 
	~<¡ršg.h
>

16 
	~<®gÜ™hm
>

17 
	~<memÜy
>

19 
	~"­i/¬¿y_v›w.h
"

20 
	~"¹c_ba£/by‹_Üd”.h
"

21 
	~"¹c_ba£/checks.h
"

22 
	~"¹c_ba£/loggšg.h
"

23 
	~"¹c_ba£/ÃtwÜk/£Á_·ck‘.h
"

24 
	~"¹c_ba£/thœd_·¹y/sig¦Ù/sig¦Ù.h
"

25 
	~"¹c_ba£/time_uts.h
"

27 #ià
defšed
(
WEBRTC_POSIX
)

28 
	~<”ºo.h
>

31 
Çme¥aû
 
	g¹c
 {

33 cÚ¡ 
size_t
 
	gkMaxPack‘Size
 = 64 * 1024;

35 
ušt16_t
 
	tPack‘L’gth
;

36 cÚ¡ 
size_t
 
	gkPack‘L’Size
 = (
Pack‘L’gth
);

38 cÚ¡ 
size_t
 
	gkBufSize
 = 
kMaxPack‘Size
 + 
kPack‘L’Size
;

43 cÚ¡ 
size_t
 
	gkMšimumRecvSize
 = 128;

45 cÚ¡ 
	gkLi¡’Backlog
 = 5;

48 
AsyncSock‘
* 
	gAsyncTCPSock‘Ba£
::
CÚÃùSock‘
(

49 
¹c
::
AsyncSock‘
* 
sock‘
,

50 cÚ¡ 
¹c
::
Sock‘Add»ss
& 
bšd_add»ss
,

51 cÚ¡ 
¹c
::
Sock‘Add»ss
& 
»mÙe_add»ss
) {

52 
¡d
::
unique_±r
<
¹c
::
AsyncSock‘
> 
owÃd_sock‘
(
sock‘
);

53 ià(
	gsock‘
->
Bšd
(
bšd_add»ss
) < 0) {

54 
RTC_LOG
(
LS_ERROR
è<< "Bšd(èçed w™hƒ¼Ü " << 
	gsock‘
->
G‘E¼Ü
();

55  
	gnuÎ±r
;

57 ià(
	gsock‘
->
CÚÃù
(
»mÙe_add»ss
) < 0) {

58 
RTC_LOG
(
LS_ERROR
è<< "CÚÃù(èçed w™hƒ¼Ü " << 
	gsock‘
->
G‘E¼Ü
();

59  
	gnuÎ±r
;

61  
	gowÃd_sock‘
.
»Ëa£
();

64 
	gAsyncTCPSock‘Ba£
::
AsyncTCPSock‘Ba£
(
AsyncSock‘
* 
sock‘
,

65 
boŞ
 
li¡’
,

66 
size_t
 
max_·ck‘_size
)

67 : 
sock‘_
(
sock‘
),

68 
li¡’_
(
li¡’
),

69 
max_šsize_
(
max_·ck‘_size
),

70 
max_outsize_
(
max_·ck‘_size
) {

71 ià(!
	gli¡’_
) {

73 
	gšbuf_
.
Ensu»C­ac™y
(
kMšimumRecvSize
);

76 
RTC_DCHECK
(
sock‘_
.
g‘
(è!ğ
nuÎ±r
);

77 
	gsock‘_
->
	gSigÇlCÚÃùEv’t
.
cÚÃù
(
this
,

78 &
AsyncTCPSock‘Ba£
::
OnCÚÃùEv’t
);

79 
	gsock‘_
->
	gSigÇlR—dEv’t
.
cÚÃù
(
this
, &
AsyncTCPSock‘Ba£
::
OnR—dEv’t
);

80 
	gsock‘_
->
	gSigÇlWr™eEv’t
.
cÚÃù
(
this
, &
AsyncTCPSock‘Ba£
::
OnWr™eEv’t
);

81 
	gsock‘_
->
	gSigÇlClo£Ev’t
.
cÚÃù
(
this
, &
AsyncTCPSock‘Ba£
::
OnClo£Ev’t
);

83 ià(
	gli¡’_
) {

84 ià(
	gsock‘_
->
Li¡’
(
kLi¡’Backlog
) < 0) {

85 
RTC_LOG
(
LS_ERROR
è<< "Li¡’(èçed w™hƒ¼Ü " << 
	gsock‘_
->
G‘E¼Ü
();

90 
	gAsyncTCPSock‘Ba£
::~
AsyncTCPSock‘Ba£
() {}

92 
Sock‘Add»ss
 
AsyncTCPSock‘Ba£
::
G‘LoÿlAdd»ss
() const {

93  
sock‘_
->
G‘LoÿlAdd»ss
();

96 
Sock‘Add»ss
 
	gAsyncTCPSock‘Ba£
::
G‘RemÙeAdd»ss
() const {

97  
sock‘_
->
G‘RemÙeAdd»ss
();

100 
	gAsyncTCPSock‘Ba£
::
Clo£
() {

101  
sock‘_
->
Clo£
();

104 
	gAsyncTCPSock‘
::
S‹
 
AsyncTCPSock‘Ba£
::
G‘S‹
() const {

105 
sock‘_
->
G‘S‹
()) {

106 
Sock‘
::
CS_CLOSED
:

107  
STATE_CLOSED
;

108 
	gSock‘
::
CS_CONNECTING
:

109 ià(
li¡’_
) {

110  
STATE_BOUND
;

112  
	gSTATE_CONNECTING
;

114 
	gSock‘
::
CS_CONNECTED
:

115  
STATE_CONNECTED
;

117 
RTC_NOTREACHED
();

118  
	gSTATE_CLOSED
;

122 
	gAsyncTCPSock‘Ba£
::
G‘O±iÚ
(
Sock‘
::
O±iÚ
 
İt
, * 
v®ue
) {

123  
	gsock‘_
->
G‘O±iÚ
(
İt
, 
v®ue
);

126 
	gAsyncTCPSock‘Ba£
::
S‘O±iÚ
(
Sock‘
::
O±iÚ
 
İt
, 
v®ue
) {

127  
	gsock‘_
->
S‘O±iÚ
(
İt
, 
v®ue
);

130 
	gAsyncTCPSock‘Ba£
::
G‘E¼Ü
() const {

131  
sock‘_
->
G‘E¼Ü
();

134 
	gAsyncTCPSock‘Ba£
::
S‘E¼Ü
(
”rÜ
) {

135  
sock‘_
->
S‘E¼Ü
(
”rÜ
);

138 
	gAsyncTCPSock‘Ba£
::
S’dTo
(cÚ¡ * 
pv
,

139 
size_t
 
cb
,

140 cÚ¡ 
Sock‘Add»ss
& 
addr
,

141 cÚ¡ 
¹c
::
Pack‘O±iÚs
& 
İtiÚs
) {

142 cÚ¡ 
Sock‘Add»ss
& 
»mÙe_add»ss
 = 
G‘RemÙeAdd»ss
();

143 ià(
	gaddr
 =ğ
»mÙe_add»ss
)

144  
S’d
(
pv
, 
cb
, 
İtiÚs
);

146 
RTC_DCHECK
(
»mÙe_add»ss
.
IsN
());

147 
	gsock‘_
->
S‘E¼Ü
(
ENOTCONN
);

151 
	gAsyncTCPSock‘Ba£
::
FlushOutBufãr
() {

152 
RTC_DCHECK
(!
li¡’_
);

153 
RTC_DCHECK_GT
(
outbuf_
.
size
(), 0);

154 
	g¹c
::
A¼ayV›w
<
ušt8_t
> 
v›w
 = 
outbuf_
;

155 
	g»s
;

156 
	gv›w
.
size
() > 0) {

157 
	g»s
 = 
sock‘_
->
S’d
(
v›w
.
d©a
(), v›w.
size
());

158 ià(
	g»s
 <= 0) {

161 ià(
	g¡©ic_ÿ¡
<
	gsize_t
>(
	g»s
è> 
	gv›w
.
size
()) {

162 
RTC_NOTREACHED
();

163 
	g»s
 = -1;

166 
	gv›w
 = 
v›w
.
subv›w
(
»s
);

168 ià(
	g»s
 > 0) {

171 
RTC_DCHECK_EQ
(
v›w
.
size
(), 0);

172 
	g»s
 = 
outbuf_
.
size
();

173 
	goutbuf_
.
CË¬
();

177 
RTC_DCHECK_GT
(
v›w
.
size
(), 0);

179 ià(
	gsock‘_
->
G‘E¼Ü
(è=ğ
EWOULDBLOCK
) {

180 
»s
 = 
outbuf_
.
size
(è- 
v›w
.size();

182 ià(
	gv›w
.
size
(è< 
	goutbuf_
.size()) {

183 
memmove
(
outbuf_
.
d©a
(), 
v›w
.d©a(), v›w.
size
());

184 
	goutbuf_
.
S‘Size
(
v›w
.
size
());

187  
	g»s
;

190 
	gAsyncTCPSock‘Ba£
::
Aµ’dToOutBufãr
(cÚ¡ * 
pv
, 
size_t
 
cb
) {

191 
RTC_DCHECK
(
outbuf_
.
size
(è+ 
cb
 <ğ
max_outsize_
);

192 
RTC_DCHECK
(!
li¡’_
);

193 
	goutbuf_
.
Aµ’dD©a
(
¡©ic_ÿ¡
<cÚ¡ 
ušt8_t
*>(
pv
), 
cb
);

196 
	gAsyncTCPSock‘Ba£
::
OnCÚÃùEv’t
(
AsyncSock‘
* 
sock‘
) {

197 
SigÇlCÚÃù
(
this
);

200 
	gAsyncTCPSock‘Ba£
::
OnR—dEv’t
(
AsyncSock‘
* 
sock‘
) {

201 
RTC_DCHECK
(
sock‘_
.
g‘
(è=ğ
sock‘
);

203 ià(
	gli¡’_
) {

204 
	g¹c
::
Sock‘Add»ss
 
add»ss
;

205 
	g¹c
::
AsyncSock‘
* 
Ãw_sock‘
 = 
sock‘
->
Acû±
(&
add»ss
);

206 ià(!
	gÃw_sock‘
) {

209 
RTC_LOG
(
LS_ERROR
) << "TCP‡ccept failed withƒrror "

210 << 
	gsock‘_
->
G‘E¼Ü
();

214 
HªdËIncomšgCÚÃùiÚ
(
Ãw_sock‘
);

217 
	gÃw_sock‘
->
SigÇlR—dEv’t
(
Ãw_sock‘
);

219 
size_t
 
	gtÙ®_»cv
 = 0;

220 
	gŒue
) {

221 
size_t
 
	gä“_size
 = 
šbuf_
.
ÿ·c™y
(è- inbuf_.
size
();

222 ià(
	gä“_size
 < 
	gkMšimumRecvSize
 && 
	gšbuf_
.
ÿ·c™y
(è< 
	gmax_šsize_
) {

223 
	gšbuf_
.
Ensu»C­ac™y
(
¡d
::
mš
(
max_šsize_
, 
šbuf_
.
ÿ·c™y
() * 2));

224 
	gä“_size
 = 
šbuf_
.
ÿ·c™y
(è- inbuf_.
size
();

227 
	gËn
 =

228 
sock‘_
->
Recv
(
šbuf_
.
d©a
(è+ inbuf_.
size
(), 
ä“_size
, 
nuÎ±r
);

229 ià(
	gËn
 < 0) {

232 ià(!
	gsock‘_
->
IsBlockšg
()) {

233 
RTC_LOG
(
LS_ERROR
è<< "Recv(è»tuºedƒ¼Ü: " << 
	gsock‘_
->
G‘E¼Ü
();

238 
	gtÙ®_»cv
 +ğ
Ën
;

239 
	gšbuf_
.
S‘Size
(
šbuf_
.
size
(è+ 
Ën
);

240 ià(!
	gËn
 || 
	g¡©ic_ÿ¡
<
	gsize_t
>Ö’è< 
	gä“_size
) {

245 ià(!
	gtÙ®_»cv
) {

249 
size_t
 
	gsize
 = 
šbuf_
.
size
();

250 
ProûssIÅut
(
šbuf_
.
d©a
<>(), &
size
);

252 ià(
	gsize
 > 
	gšbuf_
.
size
()) {

253 
RTC_LOG
(
LS_ERROR
) << "input buffer overflow";

254 
RTC_NOTREACHED
();

255 
	gšbuf_
.
CË¬
();

257 
	gšbuf_
.
S‘Size
(
size
);

262 
	gAsyncTCPSock‘Ba£
::
OnWr™eEv’t
(
AsyncSock‘
* 
sock‘
) {

263 
RTC_DCHECK
(
sock‘_
.
g‘
(è=ğ
sock‘
);

265 ià(
	goutbuf_
.
size
() > 0) {

266 
FlushOutBufãr
();

269 ià(
	goutbuf_
.
size
() == 0) {

270 
SigÇlR—dyToS’d
(
this
);

274 
	gAsyncTCPSock‘Ba£
::
OnClo£Ev’t
(
AsyncSock‘
* 
sock‘
, 
”rÜ
) {

275 
SigÇlClo£
(
this
, 
”rÜ
);

282 
AsyncTCPSock‘
* 
	gAsyncTCPSock‘
::
C»©e
(
AsyncSock‘
* 
sock‘
,

283 cÚ¡ 
Sock‘Add»ss
& 
bšd_add»ss
,

284 cÚ¡ 
Sock‘Add»ss
& 
»mÙe_add»ss
) {

285  
Ãw
 
AsyncTCPSock‘
(

286 
AsyncTCPSock‘Ba£
::
CÚÃùSock‘
(
sock‘
, 
bšd_add»ss
, 
»mÙe_add»ss
),

287 
çl£
);

290 
	gAsyncTCPSock‘
::
AsyncTCPSock‘
(
AsyncSock‘
* 
sock‘
, 
boŞ
 
li¡’
)

291 : 
AsyncTCPSock‘Ba£
(
sock‘
, 
li¡’
, 
kBufSize
) {}

293 
	gAsyncTCPSock‘
::
S’d
(cÚ¡ * 
pv
,

294 
size_t
 
cb
,

295 cÚ¡ 
¹c
::
Pack‘O±iÚs
& 
İtiÚs
) {

296 ià(
cb
 > 
kBufSize
) {

297 
S‘E¼Ü
(
EMSGSIZE
);

302 ià(!
IsOutBufãrEm±y
())

303  
	g¡©ic_ÿ¡
<>(
	gcb
);

305 
Pack‘L’gth
 
	gpkt_Ën
 = 
Ho¡ToN‘wÜk16
(
¡©ic_ÿ¡
<Pack‘L’gth>(
cb
));

306 
Aµ’dToOutBufãr
(&
pkt_Ën
, 
kPack‘L’Size
);

307 
Aµ’dToOutBufãr
(
pv
, 
cb
);

309 
	g»s
 = 
FlushOutBufãr
();

310 ià(
	g»s
 <= 0) {

312 
CË¬OutBufãr
();

313  
	g»s
;

316 
	g¹c
::
S’tPack‘
 
£Á_·ck‘
(
İtiÚs
.
·ck‘_id
, 
¹c
::
TimeMlis
(),

317 
İtiÚs
.
šfo_sigÇËd_aá”_£Á
);

318 
CİySock‘InfÜm©iÚToPack‘Info
(
cb
, *
this
, 
çl£
, &
£Á_·ck‘
.
šfo
);

319 
SigÇlS’tPack‘
(
this
, 
£Á_·ck‘
);

322  
	g¡©ic_ÿ¡
<>(
	gcb
);

325 
	gAsyncTCPSock‘
::
ProûssIÅut
(* 
d©a
, 
size_t
* 
Ën
) {

326 
Sock‘Add»ss
 
»mÙe_addr
(
G‘RemÙeAdd»ss
());

328 
	gŒue
) {

329 ià(*
	gËn
 < 
	gkPack‘L’Size
)

332 
Pack‘L’gth
 
	gpkt_Ën
 = 
¹c
::
G‘BE16
(
d©a
);

333 ià(*
	gËn
 < 
	gkPack‘L’Size
 + 
	gpkt_Ën
)

336 
SigÇlR—dPack‘
(
this
, 
d©a
 + 
kPack‘L’Size
, 
pkt_Ën
, 
»mÙe_addr
,

337 
TimeMiüos
());

339 *
	gËn
 -ğ
kPack‘L’Size
 + 
pkt_Ën
;

340 ià(*
	gËn
 > 0) {

341 
memmove
(
d©a
, d©¨+ 
kPack‘L’Size
 + 
pkt_Ën
, *
Ën
);

346 
	gAsyncTCPSock‘
::
HªdËIncomšgCÚÃùiÚ
(
AsyncSock‘
* 
sock‘
) {

347 
SigÇlNewCÚÃùiÚ
(
this
, 
Ãw
 
AsyncTCPSock‘
(
sock‘
, 
çl£
));

	@async_tcp_socket.h

11 #iâdeà
RTC_BASE_ASYNC_TCP_SOCKET_H_


12 
	#RTC_BASE_ASYNC_TCP_SOCKET_H_


	)

14 
	~<¡ddef.h
>

16 
	~<memÜy
>

18 
	~"¹c_ba£/async_·ck‘_sock‘.h
"

19 
	~"¹c_ba£/async_sock‘.h
"

20 
	~"¹c_ba£/bufãr.h
"

21 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

22 
	~"¹c_ba£/sock‘.h
"

23 
	~"¹c_ba£/sock‘_add»ss.h
"

25 
Çme¥aû
 
	g¹c
 {

30 şas 
	cAsyncTCPSock‘Ba£
 : 
public
 
AsyncPack‘Sock‘
 {

31 
public
:

32 
AsyncTCPSock‘Ba£
(
AsyncSock‘
* 
sock‘
, 
boŞ
 
li¡’
, 
size_t
 
max_·ck‘_size
);

33 ~
AsyncTCPSock‘Ba£
(è
	gov”ride
;

36 
S’d
(cÚ¡ * 
pv
,

37 
size_t
 
cb
,

38 cÚ¡ 
¹c
::
Pack‘O±iÚs
& 
İtiÚs
è
ov”ride
 = 0;

39 
vœtu®
 
ProûssIÅut
(* 
d©a
, 
size_t
* 
Ën
) = 0;

41 
vœtu®
 
HªdËIncomšgCÚÃùiÚ
(
AsyncSock‘
* 
sock‘
) = 0;

43 
Sock‘Add»ss
 
G‘LoÿlAdd»ss
(ècÚ¡ 
	gov”ride
;

44 
Sock‘Add»ss
 
G‘RemÙeAdd»ss
(ècÚ¡ 
	gov”ride
;

45 
S’dTo
(cÚ¡ * 
pv
,

46 
size_t
 
cb
,

47 cÚ¡ 
Sock‘Add»ss
& 
addr
,

48 cÚ¡ 
¹c
::
Pack‘O±iÚs
& 
İtiÚs
è
ov”ride
;

49 
Clo£
(è
	gov”ride
;

51 
S‹
 
G‘S‹
(ècÚ¡ 
	gov”ride
;

52 
G‘O±iÚ
(
Sock‘
::
O±iÚ
 
İt
, * 
v®ue
è
	gov”ride
;

53 
S‘O±iÚ
(
Sock‘
::
O±iÚ
 
İt
, 
v®ue
è
	gov”ride
;

54 
G‘E¼Ü
(ècÚ¡ 
	gov”ride
;

55 
S‘E¼Ü
(
”rÜ
è
	gov”ride
;

57 
	g´Ùeùed
:

61 
AsyncSock‘
* 
CÚÃùSock‘
(AsyncSock‘* 
sock‘
,

62 cÚ¡ 
Sock‘Add»ss
& 
bšd_add»ss
,

63 cÚ¡ 
Sock‘Add»ss
& 
»mÙe_add»ss
);

64 
FlushOutBufãr
();

66 
Aµ’dToOutBufãr
(cÚ¡ * 
pv
, 
size_t
 
cb
);

69 
boŞ
 
IsOutBufãrEm±y
(ècÚ¡ {  
	goutbuf_
.
size
() == 0; }

70 
CË¬OutBufãr
(è{ 
	goutbuf_
.
CË¬
(); }

72 
	g´iv©e
:

74 
OnCÚÃùEv’t
(
AsyncSock‘
* 
sock‘
);

75 
OnR—dEv’t
(
AsyncSock‘
* 
sock‘
);

76 
OnWr™eEv’t
(
AsyncSock‘
* 
sock‘
);

77 
OnClo£Ev’t
(
AsyncSock‘
* 
sock‘
, 
”rÜ
);

79 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
sock‘_
;

80 
boŞ
 
	gli¡’_
;

81 
Bufãr
 
	gšbuf_
;

82 
Bufãr
 
	goutbuf_
;

83 
size_t
 
	gmax_šsize_
;

84 
size_t
 
	gmax_outsize_
;

86 
RTC_DISALLOW_COPY_AND_ASSIGN
(
AsyncTCPSock‘Ba£
);

89 şas 
	cAsyncTCPSock‘
 : 
public
 
AsyncTCPSock‘Ba£
 {

90 
public
:

94 
AsyncTCPSock‘
* 
C»©e
(
AsyncSock‘
* 
sock‘
,

95 cÚ¡ 
Sock‘Add»ss
& 
bšd_add»ss
,

96 cÚ¡ 
Sock‘Add»ss
& 
»mÙe_add»ss
);

97 
AsyncTCPSock‘
(
AsyncSock‘
* 
sock‘
, 
boŞ
 
li¡’
);

98 ~
AsyncTCPSock‘
(è
	gov”ride
 {}

100 
S’d
(cÚ¡ * 
pv
,

101 
size_t
 
cb
,

102 cÚ¡ 
¹c
::
Pack‘O±iÚs
& 
İtiÚs
è
ov”ride
;

103 
ProûssIÅut
(* 
d©a
, 
size_t
* 
Ën
è
	gov”ride
;

104 
HªdËIncomšgCÚÃùiÚ
(
AsyncSock‘
* 
sock‘
è
	gov”ride
;

106 
	g´iv©e
:

107 
RTC_DISALLOW_COPY_AND_ASSIGN
(
AsyncTCPSock‘
);

	@async_tcp_socket_unittest.cc

11 
	~"¹c_ba£/async_tı_sock‘.h
"

13 
	~<memÜy
>

14 
	~<¡ršg
>

16 
	~"¹c_ba£/gun™.h
"

17 
	~"¹c_ba£/vœtu®_sock‘_£rv”.h
"

19 
Çme¥aû
 
	g¹c
 {

21 
şass
 
	gAsyncTCPSock‘Te¡
 : 
public
 ::
‹¡šg
::
Te¡
,…ubliø
	gsig¦Ù
::
has_¦Ùs
<> {

22 
public
:

23 
AsyncTCPSock‘Te¡
()

24 : 
vss_
(
Ãw
 
¹c
::
Vœtu®Sock‘S”v”
()),

25 
sock‘_
(
vss_
->
C»©eAsyncSock‘
(
SOCK_STREAM
)),

26 
tı_sock‘_
(
Ãw
 
AsyncTCPSock‘
(
sock‘_
, 
Œue
)),

27 
»ady_to_£nd_
(
çl£
) {

28 
	gtı_sock‘_
->
	gSigÇlR—dyToS’d
.
cÚÃù
(
this
,

29 &
AsyncTCPSock‘Te¡
::
OnR—dyToS’d
);

32 
OnR—dyToS’d
(
¹c
::
AsyncPack‘Sock‘
* 
sock‘
è{ 
»ady_to_£nd_
 = 
Œue
; }

34 
	g´Ùeùed
:

35 
¡d
::
unique_±r
<
Vœtu®Sock‘S”v”
> 
vss_
;

36 
AsyncSock‘
* 
	gsock‘_
;

37 
	g¡d
::
unique_±r
<
AsyncTCPSock‘
> 
tı_sock‘_
;

38 
boŞ
 
	g»ady_to_£nd_
;

41 
TEST_F
(
AsyncTCPSock‘Te¡
, 
OnWr™eEv’t
) {

42 
EXPECT_FALSE
(
»ady_to_£nd_
);

43 
	gsock‘_
->
SigÇlWr™eEv’t
(
sock‘_
);

44 
EXPECT_TRUE
(
»ady_to_£nd_
);

	@async_udp_socket.cc

11 
	~"¹c_ba£/async_udp_sock‘.h
"

13 
	~<¡dšt.h
>

15 
	~<¡ršg
>

17 
	~"¹c_ba£/checks.h
"

18 
	~"¹c_ba£/loggšg.h
"

19 
	~"¹c_ba£/ÃtwÜk/£Á_·ck‘.h
"

20 
	~"¹c_ba£/thœd_·¹y/sig¦Ù/sig¦Ù.h
"

21 
	~"¹c_ba£/time_uts.h
"

23 
Çme¥aû
 
	g¹c
 {

25 cÚ¡ 
	gBUF_SIZE
 = 64 * 1024;

27 
AsyncUDPSock‘
* 
	gAsyncUDPSock‘
::
C»©e
(
AsyncSock‘
* 
sock‘
,

28 cÚ¡ 
Sock‘Add»ss
& 
bšd_add»ss
) {

29 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
owÃd_sock‘
(
sock‘
);

30 ià(
	gsock‘
->
Bšd
(
bšd_add»ss
) < 0) {

31 
RTC_LOG
(
LS_ERROR
è<< "Bšd(èçed w™hƒ¼Ü " << 
	gsock‘
->
G‘E¼Ü
();

32  
	gnuÎ±r
;

34  
Ãw
 
AsyncUDPSock‘
(
owÃd_sock‘
.
»Ëa£
());

37 
AsyncUDPSock‘
* 
	gAsyncUDPSock‘
::
C»©e
(
Sock‘FaùÜy
* 
çùÜy
,

38 cÚ¡ 
Sock‘Add»ss
& 
bšd_add»ss
) {

39 
AsyncSock‘
* 
	gsock‘
 =

40 
çùÜy
->
C»©eAsyncSock‘
(
bšd_add»ss
.
çmy
(), 
SOCK_DGRAM
);

41 ià(!
	gsock‘
)

42  
	gnuÎ±r
;

43  
C»©e
(
sock‘
, 
bšd_add»ss
);

46 
	gAsyncUDPSock‘
::
AsyncUDPSock‘
(
AsyncSock‘
* 
sock‘
è: 
sock‘_
(socket) {

47 
size_
 = 
BUF_SIZE
;

48 
	gbuf_
 = 
Ãw
 [
size_
];

51 
	gsock‘_
->
	gSigÇlR—dEv’t
.
cÚÃù
(
this
, &
AsyncUDPSock‘
::
OnR—dEv’t
);

52 
	gsock‘_
->
	gSigÇlWr™eEv’t
.
cÚÃù
(
this
, &
AsyncUDPSock‘
::
OnWr™eEv’t
);

55 
	gAsyncUDPSock‘
::~
AsyncUDPSock‘
() {

56 
d–‘e
[] 
buf_
;

59 
Sock‘Add»ss
 
	gAsyncUDPSock‘
::
G‘LoÿlAdd»ss
() const {

60  
sock‘_
->
G‘LoÿlAdd»ss
();

63 
Sock‘Add»ss
 
	gAsyncUDPSock‘
::
G‘RemÙeAdd»ss
() const {

64  
sock‘_
->
G‘RemÙeAdd»ss
();

67 
	gAsyncUDPSock‘
::
S’d
(cÚ¡ * 
pv
,

68 
size_t
 
cb
,

69 cÚ¡ 
¹c
::
Pack‘O±iÚs
& 
İtiÚs
) {

70 
¹c
::
S’tPack‘
 
£Á_·ck‘
(
İtiÚs
.
·ck‘_id
,„tc::
TimeMlis
(),

71 
İtiÚs
.
šfo_sigÇËd_aá”_£Á
);

72 
CİySock‘InfÜm©iÚToPack‘Info
(
cb
, *
this
, 
çl£
, &
£Á_·ck‘
.
šfo
);

73 
	g»t
 = 
sock‘_
->
S’d
(
pv
, 
cb
);

74 
SigÇlS’tPack‘
(
this
, 
£Á_·ck‘
);

75  
	g»t
;

78 
	gAsyncUDPSock‘
::
S’dTo
(cÚ¡ * 
pv
,

79 
size_t
 
cb
,

80 cÚ¡ 
Sock‘Add»ss
& 
addr
,

81 cÚ¡ 
¹c
::
Pack‘O±iÚs
& 
İtiÚs
) {

82 
¹c
::
S’tPack‘
 
£Á_·ck‘
(
İtiÚs
.
·ck‘_id
,„tc::
TimeMlis
(),

83 
İtiÚs
.
šfo_sigÇËd_aá”_£Á
);

84 
CİySock‘InfÜm©iÚToPack‘Info
(
cb
, *
this
, 
Œue
, &
£Á_·ck‘
.
šfo
);

85 
	g»t
 = 
sock‘_
->
S’dTo
(
pv
, 
cb
, 
addr
);

86 
SigÇlS’tPack‘
(
this
, 
£Á_·ck‘
);

87  
	g»t
;

90 
	gAsyncUDPSock‘
::
Clo£
() {

91  
sock‘_
->
Clo£
();

94 
	gAsyncUDPSock‘
::
S‹
 
AsyncUDPSock‘
::
G‘S‹
() const {

95  
STATE_BOUND
;

98 
	gAsyncUDPSock‘
::
G‘O±iÚ
(
Sock‘
::
O±iÚ
 
İt
, * 
v®ue
) {

99  
	gsock‘_
->
G‘O±iÚ
(
İt
, 
v®ue
);

102 
	gAsyncUDPSock‘
::
S‘O±iÚ
(
Sock‘
::
O±iÚ
 
İt
, 
v®ue
) {

103  
	gsock‘_
->
S‘O±iÚ
(
İt
, 
v®ue
);

106 
	gAsyncUDPSock‘
::
G‘E¼Ü
() const {

107  
sock‘_
->
G‘E¼Ü
();

110 
	gAsyncUDPSock‘
::
S‘E¼Ü
(
”rÜ
) {

111  
sock‘_
->
S‘E¼Ü
(
”rÜ
);

114 
	gAsyncUDPSock‘
::
OnR—dEv’t
(
AsyncSock‘
* 
sock‘
) {

115 
RTC_DCHECK
(
sock‘_
.
g‘
(è=ğ
sock‘
);

117 
Sock‘Add»ss
 
	g»mÙe_addr
;

118 
št64_t
 
	gtime¡amp
;

119 
	gËn
 = 
sock‘_
->
RecvFrom
(
buf_
, 
size_
, &
»mÙe_addr
, &
time¡amp
);

120 ià(
	gËn
 < 0) {

125 
Sock‘Add»ss
 
	gloÿl_addr
 = 
sock‘_
->
G‘LoÿlAdd»ss
();

126 
RTC_LOG
(
LS_INFO
è<< "AsyncUDPSock‘[" << 
	gloÿl_addr
.
ToS’s™iveSŒšg
()

127 << "]„eûivçed w™hƒ¼Ü " << 
	gsock‘_
->
G‘E¼Ü
();

133 
SigÇlR—dPack‘
(
this
, 
buf_
, 
¡©ic_ÿ¡
<
size_t
>(
Ën
), 
»mÙe_addr
,

134 (
time¡amp
 > -1 ?ime¡am°: 
TimeMiüos
()));

137 
	gAsyncUDPSock‘
::
OnWr™eEv’t
(
AsyncSock‘
* 
sock‘
) {

138 
SigÇlR—dyToS’d
(
this
);

	@async_udp_socket.h

11 #iâdeà
RTC_BASE_ASYNC_UDP_SOCKET_H_


12 
	#RTC_BASE_ASYNC_UDP_SOCKET_H_


	)

14 
	~<¡ddef.h
>

16 
	~<memÜy
>

18 
	~"¹c_ba£/async_·ck‘_sock‘.h
"

19 
	~"¹c_ba£/async_sock‘.h
"

20 
	~"¹c_ba£/sock‘.h
"

21 
	~"¹c_ba£/sock‘_add»ss.h
"

22 
	~"¹c_ba£/sock‘_çùÜy.h
"

24 
Çme¥aû
 
	g¹c
 {

28 şas 
	cAsyncUDPSock‘
 : 
public
 
AsyncPack‘Sock‘
 {

29 
public
:

33 
AsyncUDPSock‘
* 
C»©e
(
AsyncSock‘
* 
sock‘
,

34 cÚ¡ 
Sock‘Add»ss
& 
bšd_add»ss
);

37 
AsyncUDPSock‘
* 
C»©e
(
Sock‘FaùÜy
* 
çùÜy
,

38 cÚ¡ 
Sock‘Add»ss
& 
bšd_add»ss
);

39 
ex¶ic™
 
AsyncUDPSock‘
(
AsyncSock‘
* 
sock‘
);

40 ~
AsyncUDPSock‘
(è
	gov”ride
;

42 
Sock‘Add»ss
 
G‘LoÿlAdd»ss
(ècÚ¡ 
	gov”ride
;

43 
Sock‘Add»ss
 
G‘RemÙeAdd»ss
(ècÚ¡ 
	gov”ride
;

44 
S’d
(cÚ¡ * 
pv
,

45 
size_t
 
cb
,

46 cÚ¡ 
¹c
::
Pack‘O±iÚs
& 
İtiÚs
è
ov”ride
;

47 
S’dTo
(cÚ¡ * 
pv
,

48 
size_t
 
cb
,

49 cÚ¡ 
Sock‘Add»ss
& 
addr
,

50 cÚ¡ 
¹c
::
Pack‘O±iÚs
& 
İtiÚs
è
ov”ride
;

51 
Clo£
(è
	gov”ride
;

53 
S‹
 
G‘S‹
(ècÚ¡ 
	gov”ride
;

54 
G‘O±iÚ
(
Sock‘
::
O±iÚ
 
İt
, * 
v®ue
è
	gov”ride
;

55 
S‘O±iÚ
(
Sock‘
::
O±iÚ
 
İt
, 
v®ue
è
	gov”ride
;

56 
G‘E¼Ü
(ècÚ¡ 
	gov”ride
;

57 
S‘E¼Ü
(
”rÜ
è
	gov”ride
;

59 
	g´iv©e
:

61 
OnR—dEv’t
(
AsyncSock‘
* 
sock‘
);

63 
OnWr™eEv’t
(
AsyncSock‘
* 
sock‘
);

65 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
sock‘_
;

66 * 
	gbuf_
;

67 
size_t
 
	gsize_
;

	@async_udp_socket_unittest.cc

11 
	~"¹c_ba£/async_udp_sock‘.h
"

13 
	~<memÜy
>

14 
	~<¡ršg
>

16 
	~"¹c_ba£/gun™.h
"

17 
	~"¹c_ba£/physiÿl_sock‘_£rv”.h
"

18 
	~"¹c_ba£/vœtu®_sock‘_£rv”.h
"

20 
Çme¥aû
 
	g¹c
 {

22 
şass
 
	gAsyncUdpSock‘Te¡
 : 
public
 ::
‹¡šg
::
Te¡
,…ubliø
	gsig¦Ù
::
has_¦Ùs
<> {

23 
public
:

24 
AsyncUdpSock‘Te¡
()

25 : 
pss_
(
Ãw
 
¹c
::
PhysiÿlSock‘S”v”
),

26 
vss_
(
Ãw
 
¹c
::
Vœtu®Sock‘S”v”
(
pss_
.
g‘
())),

27 
sock‘_
(
vss_
->
C»©eAsyncSock‘
(
SOCK_DGRAM
)),

28 
udp_sock‘_
(
Ãw
 
AsyncUDPSock‘
(
sock‘_
)),

29 
»ady_to_£nd_
(
çl£
) {

30 
	gudp_sock‘_
->
	gSigÇlR—dyToS’d
.
cÚÃù
(
this
,

31 &
AsyncUdpSock‘Te¡
::
OnR—dyToS’d
);

34 
OnR—dyToS’d
(
¹c
::
AsyncPack‘Sock‘
* 
sock‘
è{ 
»ady_to_£nd_
 = 
Œue
; }

36 
	g´Ùeùed
:

37 
¡d
::
unique_±r
<
PhysiÿlSock‘S”v”
> 
pss_
;

38 
	g¡d
::
unique_±r
<
Vœtu®Sock‘S”v”
> 
vss_
;

39 
AsyncSock‘
* 
	gsock‘_
;

40 
	g¡d
::
unique_±r
<
AsyncUDPSock‘
> 
udp_sock‘_
;

41 
boŞ
 
	g»ady_to_£nd_
;

44 
TEST_F
(
AsyncUdpSock‘Te¡
, 
OnWr™eEv’t
) {

45 
EXPECT_FALSE
(
»ady_to_£nd_
);

46 
	gsock‘_
->
SigÇlWr™eEv’t
(
sock‘_
);

47 
EXPECT_TRUE
(
»ady_to_£nd_
);

	@atomic_ops.h

11 #iâdeà
RTC_BASE_ATOMIC_OPS_H_


12 
	#RTC_BASE_ATOMIC_OPS_H_


	)

14 #ià
defšed
(
WEBRTC_WIN
)

21 
	~<wšsock2.h
>

22 
	~<wšdows.h
>

26 
Çme¥aû
 
	g¹c
 {

27 şas 
	cAtomicOps
 {

28 
	gpublic
:

29 #ià
defšed
(
WEBRTC_WIN
)

31 
Inüem’t
(vŞ©* 
i
) {

32  ::
IÁ”lockedInüem’t
(
»š‹½»t_ÿ¡
<vŞ©
LONG
*>(
i
));

34 
Deüem’t
(vŞ©* 
i
) {

35  ::
IÁ”lockedDeüem’t
(
»š‹½»t_ÿ¡
<vŞ©
LONG
*>(
i
));

37 
AcquœeLßd
(vŞ©cÚ¡ * 
i
è{  *
	gi
; }

38 
R–—£StÜe
(vŞ©* 
i
, 
v®ue
è{ *
	gi
 = value; }

39 
Com·»AndSw­
(vŞ©* 
i
, 
Şd_v®ue
, 
Ãw_v®ue
) {

40  ::
IÁ”lockedCom·»Exchªge
(
»š‹½»t_ÿ¡
<vŞ©
LONG
*>(
i
),

41 
Ãw_v®ue
, 
Şd_v®ue
);

44 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

45 
T
* 
AcquœeLßdPŒ
(T* vŞ©e* 
±r
) {

46  *
	g±r
;

48 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

49 
T
* 
Com·»AndSw­PŒ
(T* vŞ©e* 
±r
, T* 
Şd_v®ue
, T* 
Ãw_v®ue
) {

50  
	g¡©ic_ÿ¡
<
	gT
*>(::
IÁ”lockedCom·»ExchªgePoš‹r
(

51 
»š‹½»t_ÿ¡
<
PVOID
 vŞ©e*>(
±r
), 
Ãw_v®ue
, 
Şd_v®ue
));

54 
Inüem’t
(vŞ©* 
i
è{  
__sync_add_ªd_ãtch
(i, 1); }

55 
Deüem’t
(vŞ©* 
i
è{  
__sync_sub_ªd_ãtch
(i, 1); }

56 
AcquœeLßd
(vŞ©cÚ¡ * 
i
) {

57  
__©omic_lßd_n
(
i
, 
__ATOMIC_ACQUIRE
);

59 
R–—£StÜe
(vŞ©* 
i
, 
v®ue
) {

60 
__©omic_¡Üe_n
(
i
, 
v®ue
, 
__ATOMIC_RELEASE
);

62 
Com·»AndSw­
(vŞ©* 
i
, 
Şd_v®ue
, 
Ãw_v®ue
) {

63  
__sync_v®_com·»_ªd_sw­
(
i
, 
Şd_v®ue
, 
Ãw_v®ue
);

66 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

67 
T
* 
AcquœeLßdPŒ
(T* vŞ©e* 
±r
) {

68  
__©omic_lßd_n
(
±r
, 
__ATOMIC_ACQUIRE
);

70 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

71 
T
* 
Com·»AndSw­PŒ
(T* vŞ©e* 
±r
, T* 
Şd_v®ue
, T* 
Ãw_v®ue
) {

72  
__sync_v®_com·»_ªd_sw­
(
±r
, 
Şd_v®ue
, 
Ãw_v®ue
);

	@atomic_ops_unittest.cc

	@base64_unittest.cc

11 
	~"¹c_ba£/thœd_·¹y/ba£64/ba£64.h
"

13 
	~<¡dio.h
>

14 
	~<¡ršg.h
>

16 
	~<®gÜ™hm
>

18 
	~"¹c_ba£/loggšg.h
"

19 
	~"¹c_ba£/‹¡_ba£64.h
"

20 
	~"‹¡/g‹¡.h
"

22 
Çme¥aû
 
	g¹c
 {

23 
	gÇme¥aû
 {

26 
size_t
 
	g¶aš_Ëngth
;

27 cÚ¡ * 
	g¶aš‹xt
;

28 cÚ¡ * 
	gcyph”‹xt
;

29 } 
	gba£64_‹¡s
[] = {

285 cÚ¡ * 
	g¶aš‹xt
;

286 cÚ¡ * 
	gcyph”‹xt
;

287 } 
	gba£64_¡ršgs
[] = {

327 
	#EXPECT_EQ_ARRAY
(
Ën
, 
x
, 
y
, 
msg
) \

328 
size_t
 
j
 = 0; j < 
Ën
; ++j) { \

329 ià(
x
[
j
] !ğ
y
[j]) { \

330 
	`RTC_LOG
(
LS_ERROR
è<< "" #x << " !ğ" #y << " by‹ " << 
j
 \

331 << " msg: " << 
msg
; \

333 }

	)

335 
size_t
 
Ba£64Esÿ³
(cÚ¡ * 
¤c
,

336 
size_t
 
sz¤c
,

337 * 
de¡
,

338 
size_t
 
szde¡
) {

339 
	g¡d
::
¡ršg
 
esÿ³d
;

340 
	gBa£64
::
EncodeFromA¼ay
((cÚ¡ *)
¤c
, 
sz¤c
, &
esÿ³d
);

341 
memıy
(
de¡
, 
esÿ³d
.
d©a
(), 
¡d
::
mš
Ósÿ³d.
size
(), 
szde¡
));

342  
	gesÿ³d
.
size
();

345 
size_t
 
Ba£64UÃsÿ³
(cÚ¡ * 
¤c
,

346 
size_t
 
sz¤c
,

347 * 
de¡
,

348 
size_t
 
szde¡
) {

349 
	g¡d
::
¡ršg
 
uÃsÿ³d
;

350 
EXPECT_TRUE
(

351 
Ba£64
::
DecodeFromA¼ay
(
¤c
, 
sz¤c
, Ba£64::
DO_LAX
, &
uÃsÿ³d
, 
nuÎ±r
));

352 
memıy
(
de¡
, 
uÃsÿ³d
.
d©a
(), 
¡d
::
mš
(uÃsÿ³d.
size
(), 
szde¡
));

353  
	guÃsÿ³d
.
size
();

356 
size_t
 
Ba£64UÃsÿ³
(cÚ¡ * 
¤c
, size_ˆ
sz¤c
, 
¡d
::
¡ršg
* 
s
) {

357 
EXPECT_TRUE
(
Ba£64
::
DecodeFromA¼ay
(
¤c
, 
sz¤c
, Ba£64::
DO_LAX
, 
s
, 
nuÎ±r
));

358  
	gs
->
size
();

361 
TEST
(
Ba£64
, 
EncodeDecodeB©‹ry
) {

362 
RTC_LOG
(
LS_VERBOSE
) << "Testing base-64";

364 
size_t
 
	gi
;

367 
	gi
 = 0; i < (
	gba£64_‹¡s
) / (base64_tests[0]); ++i) {

368 
	g’code_bufãr
[100];

369 
size_t
 
	g’code_Ëngth
;

370 
	gdecode_bufãr
[100];

371 
size_t
 
	gdecode_Ëngth
;

372 
size_t
 
	gcyph”_Ëngth
;

374 
RTC_LOG
(
LS_VERBOSE
è<< "B64: " << 
	gba£64_‹¡s
[
i
].
	gcyph”‹xt
;

376 cÚ¡ * 
	gunsigÃd_¶aš‹xt
 =

377 
»š‹½»t_ÿ¡
<cÚ¡ *>(
ba£64_‹¡s
[
i
].
¶aš‹xt
);

379 
	gcyph”_Ëngth
 = 
¡¾’
(
ba£64_‹¡s
[
i
].
cyph”‹xt
);

382 
mem£t
(
’code_bufãr
, 0, (encode_buffer));

383 
	g’code_Ëngth
 =

384 
Ba£64Esÿ³
(
unsigÃd_¶aš‹xt
, 
ba£64_‹¡s
[
i
].
¶aš_Ëngth
,

385 
’code_bufãr
, (encode_buffer));

387 
EXPECT_EQ
(
’code_Ëngth
, 
cyph”_Ëngth
);

390 
EXPECT_STREQ
(
’code_bufãr
, 
ba£64_‹¡s
[
i
].
cyph”‹xt
);

393 
mem£t
(
’code_bufãr
, 0, (encode_buffer));

394 
	g’code_Ëngth
 =

395 
Ba£64Esÿ³
(
unsigÃd_¶aš‹xt
, 
ba£64_‹¡s
[
i
].
¶aš_Ëngth
,

396 
’code_bufãr
, 
cyph”_Ëngth
);

398 
EXPECT_EQ
(
’code_Ëngth
, 
cyph”_Ëngth
);

401 
EXPECT_STREQ
(
’code_bufãr
, 
ba£64_‹¡s
[
i
].
cyph”‹xt
);

404 
mem£t
(
decode_bufãr
, 0, (decode_buffer));

405 
	gdecode_Ëngth
 = 
Ba£64UÃsÿ³
(
’code_bufãr
, 
cyph”_Ëngth
, 
decode_bufãr
,

406 (
decode_bufãr
));

409 
EXPECT_EQ
(
decode_Ëngth
, 
ba£64_‹¡s
[
i
].
¶aš_Ëngth
);

412 
EXPECT_EQ
(0,

413 
memcmp
(
decode_bufãr
, 
ba£64_‹¡s
[
i
].
¶aš‹xt
, 
decode_Ëngth
));

418 * 
	gfœ¡_equ®s
 = 
¡rchr
(
’code_bufãr
, '=');

419 ià(
	gfœ¡_equ®s
) {

421 
	gequ®s
 = (*(
fœ¡_equ®s
 + 1) == '=') ? 2 : 1;

425 
	g¡d
::
¡ršg
 
decoded2
("this junk should‡lso be ignored");

426 *
	gfœ¡_equ®s
 = '\0';

427 
EXPECT_NE
(0U, 
Ba£64UÃsÿ³
(
’code_bufãr
, 
fœ¡_equ®s
 -ƒncode_buffer,

428 &
decoded2
));

429 
EXPECT_EQ
(
decoded2
.
size
(), 
ba£64_‹¡s
[
i
].
¶aš_Ëngth
);

430 
EXPECT_EQ_ARRAY
(
decoded2
.
size
(), decoded2.
d©a
(),

431 
ba£64_‹¡s
[
i
].
¶aš‹xt
, i);

433 
size_t
 
	gËn
;

436 ià(
	gequ®s
 == 2) {

437 
¢´štf
(
fœ¡_equ®s
, 6, " = = ");

438 
	gËn
 = 
fœ¡_equ®s
 - 
’code_bufãr
 + 5;

440 
¢´štf
(
fœ¡_equ®s
, 6, " = ");

441 
	gËn
 = 
fœ¡_equ®s
 - 
’code_bufãr
 + 3;

443 
	gdecoded2
.
assign
("this junk should be ignored");

444 
EXPECT_NE
(0U, 
Ba£64UÃsÿ³
(
’code_bufãr
, 
Ën
, &
decoded2
));

445 
EXPECT_EQ
(
decoded2
.
size
(), 
ba£64_‹¡s
[
i
].
¶aš_Ëngth
);

446 
EXPECT_EQ_ARRAY
(
decoded2
.
size
(), decoded2, 
ba£64_‹¡s
[
i
].
¶aš‹xt
, i);

453 cÚ¡ 
	gS³cificTe¡
[] =

1350 
	g¡d
::
¡ršg
 
gCommªdLše
;

1352 
TEST
(
Ba£64
, 
L¬geSam¶e
) {

1353 
RTC_LOG
(
LS_VERBOSE
) << "Testing specific base64 file";

1355 
	guÃsÿ³d
[64 * 1024];

1358 
size_t
 
	gsize
 = 
Ba£64UÃsÿ³
(
S³cificTe¡
, (S³cificTe¡), 
uÃsÿ³d
,

1359 (
uÃsÿ³d
));

1361 
EXPECT_EQ
(
size
, (
‹¡ba£64
));

1362 
EXPECT_EQ
(0, 
memcmp
(
‹¡ba£64
, 
uÃsÿ³d
, (testbase64)));

1365 
boŞ
 
DecodeTe¡
(cÚ¡ * 
’coded
,

1366 
size_t
 
ex³ù_uÅ¬£d
,

1367 cÚ¡ * 
decoded
,

1368 
Ba£64
::
DecodeFÏgs
 
æags
) {

1369 
¡d
::
¡ršg
 
»suÉ
;

1370 
size_t
 
	gcÚsumed
 = 0, 
	g’coded_Ën
 = 
¡¾’
(
’coded
);

1371 
boŞ
 
	gsucûss
 =

1372 
Ba£64
::
DecodeFromA¼ay
(
’coded
, 
’coded_Ën
, 
æags
, &
»suÉ
, &
cÚsumed
);

1373 
size_t
 
	guÅ¬£d
 = 
’coded_Ën
 - 
cÚsumed
;

1374 
EXPECT_EQ
(
ex³ù_uÅ¬£d
, 
uÅ¬£d
)

1375 << "\"" << 
	g’coded
 << "\" -> \"" << 
	gdecoded
 << "\"";

1376 
EXPECT_STREQ
(
decoded
, 
»suÉ
.
c_¡r
());

1377  
	gsucûss
;

1380 
	#FÏgs
(
x
, 
y
, 
z
) \

1381 
Ba£64
::
DO_PARSE_
##
x
 | Ba£64::
DO_PAD_
##
y
 | Ba£64::
DO_TERM_
##
z


	)

1383 
TEST
(
Ba£64
, 
DecodeP¬£O±iÚs
) {

1385 
EXPECT_TRUE
(
DecodeTe¡
("YWJjZA=ğ", 1, "abcd", 
FÏgs
(
STRICT
, 
YES
, 
CHAR
)));

1386 
EXPECT_TRUE
(
DecodeTe¡
("YWJjZA=ğ", 0, "abcd", 
FÏgs
(
WHITE
, 
YES
, 
CHAR
)));

1387 
EXPECT_TRUE
(
DecodeTe¡
("YWJjZA=ğ", 0, "abcd", 
FÏgs
(
ANY
, 
YES
, 
CHAR
)));

1390 
EXPECT_FALSE
(
DecodeTe¡
("YWJjZAğ=", 3, "abcd", 
FÏgs
(
STRICT
, 
YES
, 
CHAR
)));

1391 
EXPECT_TRUE
(
DecodeTe¡
("YWJjZAğ=", 0, "abcd", 
FÏgs
(
WHITE
, 
YES
, 
CHAR
)));

1392 
EXPECT_TRUE
(
DecodeTe¡
("YWJjZAğ=", 0, "abcd", 
FÏgs
(
ANY
, 
YES
, 
CHAR
)));

1395 
EXPECT_FALSE
(
DecodeTe¡
("YWJjZA=*=", 3, "abcd", 
FÏgs
(
STRICT
, 
YES
, 
CHAR
)));

1396 
EXPECT_FALSE
(
DecodeTe¡
("YWJjZA=*=", 3, "abcd", 
FÏgs
(
WHITE
, 
YES
, 
CHAR
)));

1397 
EXPECT_TRUE
(
DecodeTe¡
("YWJjZA=*=", 0, "abcd", 
FÏgs
(
ANY
, 
YES
, 
CHAR
)));

1400 
EXPECT_FALSE
(
DecodeTe¡
("YW=JjZA==", 7, "a", 
FÏgs
(
STRICT
, 
YES
, 
CHAR
)));

1401 
EXPECT_FALSE
(
DecodeTe¡
("YW=JjZA==", 7, "a", 
FÏgs
(
WHITE
, 
YES
, 
CHAR
)));

1402 
EXPECT_TRUE
(
DecodeTe¡
("YW=JjZA==", 0, "abcd", 
FÏgs
(
ANY
, 
YES
, 
CHAR
)));

1405 
TEST
(
Ba£64
, 
DecodePadO±iÚs
) {

1407 
EXPECT_TRUE
(
DecodeTe¡
("YWJjZA==", 0, "abcd", 
FÏgs
(
STRICT
, 
YES
, 
CHAR
)));

1408 
EXPECT_TRUE
(
DecodeTe¡
("YWJjZA==", 0, "abcd", 
FÏgs
(
STRICT
, 
ANY
, 
CHAR
)));

1409 
EXPECT_TRUE
(
DecodeTe¡
("YWJjZA==", 2, "abcd", 
FÏgs
(
STRICT
, 
NO
, 
CHAR
)));

1412 
EXPECT_FALSE
(
DecodeTe¡
("YWJjZA=", 1, "abcd", 
FÏgs
(
STRICT
, 
YES
, 
CHAR
)));

1413 
EXPECT_TRUE
(
DecodeTe¡
("YWJjZA=", 1, "abcd", 
FÏgs
(
STRICT
, 
ANY
, 
CHAR
)));

1414 
EXPECT_TRUE
(
DecodeTe¡
("YWJjZA=", 1, "abcd", 
FÏgs
(
STRICT
, 
NO
, 
CHAR
)));

1417 
EXPECT_FALSE
(
DecodeTe¡
("YWJjZA", 0, "abcd", 
FÏgs
(
STRICT
, 
YES
, 
CHAR
)));

1418 
EXPECT_TRUE
(
DecodeTe¡
("YWJjZA", 0, "abcd", 
FÏgs
(
STRICT
, 
ANY
, 
CHAR
)));

1419 
EXPECT_TRUE
(
DecodeTe¡
("YWJjZA", 0, "abcd", 
FÏgs
(
STRICT
, 
NO
, 
CHAR
)));

1422 
TEST
(
Ba£64
, 
DecodeT”mš©eO±iÚs
) {

1424 
EXPECT_TRUE
(
DecodeTe¡
("YWJj", 0, "abc", 
FÏgs
(
STRICT
, 
NO
, 
BUFFER
)));

1425 
EXPECT_TRUE
(
DecodeTe¡
("YWJj", 0, "abc", 
FÏgs
(
STRICT
, 
NO
, 
CHAR
)));

1426 
EXPECT_TRUE
(
DecodeTe¡
("YWJj", 0, "abc", 
FÏgs
(
STRICT
, 
NO
, 
ANY
)));

1429 
EXPECT_FALSE
(
DecodeTe¡
("YWJj*", 1, "abc", 
FÏgs
(
STRICT
, 
NO
, 
BUFFER
)));

1430 
EXPECT_TRUE
(
DecodeTe¡
("YWJj*", 1, "abc", 
FÏgs
(
STRICT
, 
NO
, 
CHAR
)));

1431 
EXPECT_TRUE
(
DecodeTe¡
("YWJj*", 1, "abc", 
FÏgs
(
STRICT
, 
NO
, 
ANY
)));

1434 
EXPECT_FALSE
(
DecodeTe¡
("YWJ", 0, "ab", 
FÏgs
(
STRICT
, 
NO
, 
BUFFER
)));

1435 
EXPECT_FALSE
(
DecodeTe¡
("YWJ", 0, "ab", 
FÏgs
(
STRICT
, 
NO
, 
CHAR
)));

1436 
EXPECT_TRUE
(
DecodeTe¡
("YWJ", 0, "ab", 
FÏgs
(
STRICT
, 
NO
, 
ANY
)));

1439 
TEST
(
Ba£64
, 
G‘NextBa£64Ch¬
) {

1442 
	gÃxt_ch¬
;

1443 
EXPECT_TRUE
(
Ba£64
::
G‘NextBa£64Ch¬
('A', &
Ãxt_ch¬
));

1444 
EXPECT_EQ
('B', 
Ãxt_ch¬
);

1445 
EXPECT_TRUE
(
Ba£64
::
G‘NextBa£64Ch¬
('Z', &
Ãxt_ch¬
));

1446 
EXPECT_EQ
('a', 
Ãxt_ch¬
);

1447 
EXPECT_TRUE
(
Ba£64
::
G‘NextBa£64Ch¬
('/', &
Ãxt_ch¬
));

1448 
EXPECT_EQ
('A', 
Ãxt_ch¬
);

1449 
EXPECT_FALSE
(
Ba£64
::
G‘NextBa£64Ch¬
('&', &
Ãxt_ch¬
));

1450 
EXPECT_FALSE
(
Ba£64
::
G‘NextBa£64Ch¬
('Z', 
nuÎ±r
));

	@bind.h

61 #iâdeà
RTC_BASE_BIND_H_


62 
	#RTC_BASE_BIND_H_


	)

64 
	~<tu¶e
>

65 
	~<ty³_Œa™s
>

67 
	~"­i/scİed_»åŒ.h
"

69 
	#NONAME


	)

71 
Çme¥aû
 
	g¹c
 {

72 
Çme¥aû
 
	gd‘a
 {

79 
	g‹m¶©e
 <
şass
 
	gT
>

80 
	sid’t™y
 {

81 
T
 
	tty³
;

88 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

89 şas 
	cIsRefCouÁed
 {

93 
	sYes
 {

94 
	gdummy
[1];

96 
	sNo
 {

97 
	gdummy
[2];

105 
	g‹m¶©e
 <
ty³Çme
 
	gR
>

106 
Yes
 
‹¡
(
R
* 
r
, 
deşty³
Ô->
AddRef
(),„->
R–—£
(), 42));

107 
	g‹m¶©e
 <
ty³Çme
 
	gC
>

108 
No
 
‹¡
(...);

110 
	gpublic
:

112 cÚ¡ 
boŞ
 
v®ue
 = (
‹¡
<
T
>((T*)
nuÎ±r
, 42)è=ğ(
Yes
);

117 
	g‹m¶©e
 <
boŞ
 
	gcÚd™iÚ
, 
ty³Çme
 
	gIfTrueT
,y³Çm
	gIfF®£T
>

118 
	sT”ÇryTy³O³¿tÜ
 {};

120 
	g‹m¶©e
 <
ty³Çme
 
	gIfTrueT
,y³Çm
	gIfF®£T
>

121 
	gT”ÇryTy³O³¿tÜ
<
	gŒue
, 
	gIfTrueT
, 
	gIfF®£T
> {

122 
IfTrueT
 
	tty³
;

125 
	g‹m¶©e
 <
ty³Çme
 
	gIfTrueT
,y³Çm
	gIfF®£T
>

126 
	gT”ÇryTy³O³¿tÜ
<
	gçl£
, 
	gIfTrueT
, 
	gIfF®£T
> {

127 
IfF®£T
 
	tty³
;

132 
	g‹m¶©e
 <
şass
 
	gT
>

133 
	sPoš‹rTy³
 {

134 
ty³Çme
 
	tT”ÇryTy³O³¿tÜ
<
	tIsRefCouÁed
<
	tT
>::
	tv®ue
,

135 
	tscİed_»åŒ
<
	tT
>,

136 
	tT
*>::
	tty³
ype;

139 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

140 şas 
	cUÄ‘ašedW¿µ”
 {

141 
	gpublic
:

142 
ex¶ic™
 
UÄ‘ašedW¿µ”
(
T
* 
o
è: 
±r_
(o) {}

143 
T
* 
g‘
(ècÚ¡ {  
±r_
; }

145 
	g´iv©e
:

146 
T
* 
±r_
;

151 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

152 
šlše
 
	gd‘a
::
UÄ‘ašedW¿µ”
<
T
> 
	$UÄ‘ašed
(
T
* 
o
) {

153  
d‘a
::
UÄ‘ašedW¿µ”
<
T
>(
o
);

154 
	}
}

156 
	g‹m¶©e
 <
şass
 
	gObjeùT
, cÏs 
	gM‘hodT
, cÏs 
	gR
, 
	gty³Çme
... 
	gArgs
>

157 şas 
	cM‘hodFunùÜ
 {

158 
	gpublic
:

159 
M‘hodFunùÜ
(
M‘hodT
 
m‘hod
, 
ObjeùT
* 
objeù
, 
Args
... 
¬gs
)

160 : 
m‘hod_
(
m‘hod
), 
objeù_
(
objeù
), 
¬gs_
(
¬gs
...) {}

161 
R
 
İ”©Ü
()() const {

162  
C®lM‘hod
(
¡d
::
šdex_£qu’û_fÜ
<
Args
...>());

165 
	g´iv©e
:

166 
‹m¶©e
 <
size_t
... 
S
>

167 
R
 
C®lM‘hod
(
¡d
::
šdex_£qu’û
<
S
...>) const {

168  (
objeù_
->*
m‘hod_
)(
¡d
::
g‘
<
S
>(
¬gs_
)...);

171 
M‘hodT
 
	gm‘hod_
;

172 
ty³Çme
 
	gd‘a
::
Poš‹rTy³
<
ObjeùT
>::
ty³
 
objeù_
;

173 
ty³Çme
 
	g¡d
::
tu¶e
<ty³Çm
¡d
::
»move_»ã»nû
<
Args
>::
ty³
...> 
¬gs_
;

176 
	g‹m¶©e
 <
şass
 
	gObjeùT
, cÏs 
	gM‘hodT
, cÏs 
	gR
, 
	gty³Çme
... 
	gArgs
>

177 şas 
	cUÄ‘ašedM‘hodFunùÜ
 {

178 
	gpublic
:

179 
UÄ‘ašedM‘hodFunùÜ
(
M‘hodT
 
m‘hod
,

180 
d‘a
::
UÄ‘ašedW¿µ”
<
ObjeùT
> 
objeù
,

181 
Args
... 
¬gs
)

182 : 
m‘hod_
(
m‘hod
), 
objeù_
(
objeù
.
g‘
()), 
¬gs_
(
¬gs
...) {}

183 
R
 
İ”©Ü
()() const {

184  
C®lM‘hod
(
¡d
::
šdex_£qu’û_fÜ
<
Args
...>());

187 
	g´iv©e
:

188 
‹m¶©e
 <
size_t
... 
S
>

189 
R
 
C®lM‘hod
(
¡d
::
šdex_£qu’û
<
S
...>) const {

190  (
objeù_
->*
m‘hod_
)(
¡d
::
g‘
<
S
>(
¬gs_
)...);

193 
M‘hodT
 
	gm‘hod_
;

194 
ObjeùT
* 
	gobjeù_
;

195 
ty³Çme
 
	g¡d
::
tu¶e
<ty³Çm
¡d
::
»move_»ã»nû
<
Args
>::
ty³
...> 
¬gs_
;

198 
	g‹m¶©e
 <
şass
 
	gFunùÜT
, cÏs 
	gR
, 
	gty³Çme
... 
	gArgs
>

199 şas 
	cFunùÜ
 {

200 
	gpublic
:

201 
FunùÜ
(cÚ¡ 
FunùÜT
& 
funùÜ
, 
Args
... 
¬gs
)

202 : 
funùÜ_
(
funùÜ
), 
¬gs_
(
¬gs
...) {}

203 
R
 
İ”©Ü
()() const {

204  
C®lFunùiÚ
(
¡d
::
šdex_£qu’û_fÜ
<
Args
...>());

207 
	g´iv©e
:

208 
‹m¶©e
 <
size_t
... 
S
>

209 
R
 
C®lFunùiÚ
(
¡d
::
šdex_£qu’û
<
S
...>) const {

210  
funùÜ_
(
¡d
::
g‘
<
S
>(
¬gs_
)...);

213 
FunùÜT
 
	gfunùÜ_
;

214 
ty³Çme
 
	g¡d
::
tu¶e
<ty³Çm
¡d
::
»move_»ã»nû
<
Args
>::
ty³
...> 
¬gs_
;

217 
	#FP_T
(
x
è
	$R
 (
ObjeùT
::*
x
)(
Args
...)

	)

219 
‹m¶©e
 <
şass
 
ObjeùT
, cÏs 
R
, 
ty³Çme
... 
Args
>

220 
M‘hodFunùÜ
<
ObjeùT
, 
	`FP_T
(
NONAME
), 
R
, 
Args
...> 
	`Bšd
(

221 
	`FP_T
(
m‘hod
),

222 
ObjeùT
* 
objeù
,

223 
ty³Çme
 
d‘a
::
id’t™y
<
Args
>::
ty³
... 
¬gs
) {

224  
M‘hodFunùÜ
<
ObjeùT
, 
	`FP_T
(
NONAME
), 
R
, 
Args
...>(
m‘hod
, 
objeù
,

225 
¬gs
...);

226 
	}
}

228 
	g‹m¶©e
 <
şass
 
	gObjeùT
, cÏs 
	gR
, 
	gty³Çme
... 
	gArgs
>

229 
	gM‘hodFunùÜ
<
	gObjeùT
, 
FP_T
(
NONAME
), 
	gR
, 
	gArgs
...> 
Bšd
(

230 
FP_T
(
m‘hod
),

231 cÚ¡ 
scİed_»åŒ
<
ObjeùT
>& 
objeù
,

232 
ty³Çme
 
d‘a
::
id’t™y
<
Args
>::
ty³
... 
¬gs
) {

233  
M‘hodFunùÜ
<
ObjeùT
, 
FP_T
(
NONAME
), 
	gR
, 
	gArgs
...>(
	gm‘hod
, 
	gobjeù
.
g‘
(),

234 
	g¬gs
...);

237 
	g‹m¶©e
 <
şass
 
	gObjeùT
, cÏs 
	gR
, 
	gty³Çme
... 
	gArgs
>

238 
	gUÄ‘ašedM‘hodFunùÜ
<
	gObjeùT
, 
FP_T
(
NONAME
), 
	gR
, 
	gArgs
...> 
Bšd
(

239 
FP_T
(
m‘hod
),

240 
d‘a
::
UÄ‘ašedW¿µ”
<
ObjeùT
> 
objeù
,

241 
ty³Çme
 
d‘a
::
id’t™y
<
Args
>::
ty³
... 
¬gs
) {

242  
UÄ‘ašedM‘hodFunùÜ
<
ObjeùT
, 
FP_T
(
NONAME
), 
	gR
, 
	gArgs
...>(

243 
	gm‘hod
, 
	gobjeù
, 
	g¬gs
...);

246 #undeà
FP_T


247 
	#FP_T
(
x
è
	$R
 (
ObjeùT
::*
x
)(
Args
...ècÚ¡

	)

249 
‹m¶©e
 <
şass
 
ObjeùT
, cÏs 
R
, 
ty³Çme
... 
Args
>

250 
M‘hodFunùÜ
<cÚ¡ 
ObjeùT
, 
	`FP_T
(
NONAME
), 
R
, 
Args
...> 
	`Bšd
(

251 
	`FP_T
(
m‘hod
),

252 cÚ¡ 
ObjeùT
* 
objeù
,

253 
ty³Çme
 
d‘a
::
id’t™y
<
Args
>::
ty³
... 
¬gs
) {

254  
M‘hodFunùÜ
<cÚ¡ 
ObjeùT
, 
	`FP_T
(
NONAME
), 
R
, 
Args
...>(
m‘hod
, 
objeù
,

255 
¬gs
...);

256 
	}
}

257 
	g‹m¶©e
 <
şass
 
	gObjeùT
, cÏs 
	gR
, 
	gty³Çme
... 
	gArgs
>

258 
	gUÄ‘ašedM‘hodFunùÜ
<cÚ¡ 
	gObjeùT
, 
FP_T
(
NONAME
), 
	gR
, 
	gArgs
...> 
Bšd
(

259 
FP_T
(
m‘hod
),

260 
d‘a
::
UÄ‘ašedW¿µ”
<cÚ¡ 
ObjeùT
> 
objeù
,

261 
ty³Çme
 
d‘a
::
id’t™y
<
Args
>::
ty³
... 
¬gs
) {

262  
UÄ‘ašedM‘hodFunùÜ
<cÚ¡ 
ObjeùT
, 
FP_T
(
NONAME
), 
	gR
, 
	gArgs
...>(

263 
	gm‘hod
, 
	gobjeù
, 
	g¬gs
...);

266 #undeà
FP_T


267 
	#FP_T
(
x
è
	$R
 (*
x
)(
Args
...)

	)

269 
‹m¶©e
 <
şass
 
R
, 
ty³Çme
... 
Args
>

270 
FunùÜ
<
	`FP_T
(
NONAME
), 
R
, 
Args
...> 
	`Bšd
(

271 
	`FP_T
(
funùiÚ
),

272 
ty³Çme
 
d‘a
::
id’t™y
<
Args
>::
ty³
... 
¬gs
) {

273  
FunùÜ
<
	`FP_T
(
NONAME
), 
R
, 
Args
...>(
funùiÚ
, 
¬gs
...);

274 
	}
}

276 #undeà
FP_T


280 #undeà
NONAME


	@bind_unittest.cc

11 
	~"¹c_ba£/bšd.h
"

13 
	~<¡ršg
>

15 
	~"¹c_ba£/»f_couÁ.h
"

16 
	~"¹c_ba£/»f_couÁed_objeù.h
"

17 
	~"‹¡/g‹¡.h
"

19 
Çme¥aû
 
	g¹c
 {

21 
	gÇme¥aû
 {

23 
	gLiãTimeCheck
;

25 
	sM‘hodBšdTe¡”
 {

26 
NuÎ¬yVoid
(è{ ++
	gÿÎ_couÁ
; }

27 
NuÎ¬yIÁ
() {

28 ++
	gÿÎ_couÁ
;

31 
NuÎ¬yCÚ¡
() const {

32 ++
	gÿÎ_couÁ
;

35 
UÇryVoid
(
dummy
è{ ++
	gÿÎ_couÁ
; }

36 
	g‹m¶©e
 <
şass
 
	gT
>

37 
T
 
Id’t™y
(T 
v®ue
) {

38 ++
	gÿÎ_couÁ
;

39  
	gv®ue
;

41 
UÇryByPoš‹r
(* 
v®ue
) const {

42 ++
	gÿÎ_couÁ
;

43  ++(*
	gv®ue
);

45 
UÇryByRef
(cÚ¡ & 
v®ue
) const {

46 ++
	gÿÎ_couÁ
;

47  ++
	gcÚ¡_ÿ¡
<&>(
	gv®ue
);

49 
MuÉly
(
a
, 
b
) const {

50 ++
	gÿÎ_couÁ
;

51  
a
 * 
	gb
;

53 
RefArgum’t
(cÚ¡ 
scİed_»åŒ
<
LiãTimeCheck
>& 
objeù
) {

54 
EXPECT_TRUE
(
objeù
.
g‘
(è!ğ
nuÎ±r
);

57 
mubË
 
	gÿÎ_couÁ
;

60 
	sA
 {

61 
	gdummy
;

63 
	gB
 : 
public
 
RefCouÁIÁ”çû
 {

64 
dummy
;

66 
	gC
 : 
public
 
A
, 
	gB
 {};

67 
	sD
 {

68 
AddRef
();

70 
	gE
 : 
public
 
D
 {

71 
R–—£
();

73 
	sF
 {

74 
AddRef
();

75 
R–—£
();

78 
	sLiãTimeCheck
 {

79 
LiãTimeCheck
(è: 
»f_couÁ_
(0) {}

80 
AddRef
(è{ ++
»f_couÁ_
; }

81 
R–—£
(è{ --
	g»f_couÁ_
; }

82 
NuÎ¬yVoid
() {}

83 
	g»f_couÁ_
;

86 
R‘uº42
() {

89 
Neg©e
(
a
) {

90  -
	ga
;

92 
MuÉly
(
a
, 
b
) {

93  
a
 * 
	gb
;

100 
	#EXPECT_IS_CAPTURED_AS_PTR
(
T
) \

101 
	`¡©ic_as£¹
(
¡d
::
is_§me
<
d‘a
::
Poš‹rTy³
<
T
>::
ty³
, T*>::
v®ue
, \

102 "Poš‹rTy³")

	)

103 
	#EXPECT_IS_CAPTURED_AS_SCOPED_REFPTR
(
T
) \

104 
	`¡©ic_as£¹
( \

105 
¡d
::
is_§me
<
d‘a
::
Poš‹rTy³
<
T
>::
ty³
, 
scİed_»åŒ
<T>>::
v®ue
, \

106 "Poš‹rTy³")

	)

108 
EXPECT_IS_CAPTURED_AS_PTR
();

109 
EXPECT_IS_CAPTURED_AS_PTR
();

110 
EXPECT_IS_CAPTURED_AS_PTR
();

111 
EXPECT_IS_CAPTURED_AS_PTR
(
A
);

112 
EXPECT_IS_CAPTURED_AS_PTR
(
D
);

113 
EXPECT_IS_CAPTURED_AS_PTR
(
RefCouÁIÁ”çû
*);

114 
EXPECT_IS_CAPTURED_AS_PTR
(

115 
deşty³
(
UÄ‘ašed
<
RefCouÁedObjeù
<
RefCouÁIÁ”çû
>>));

117 
EXPECT_IS_CAPTURED_AS_SCOPED_REFPTR
(
RefCouÁIÁ”çû
);

118 
EXPECT_IS_CAPTURED_AS_SCOPED_REFPTR
(
B
);

119 
EXPECT_IS_CAPTURED_AS_SCOPED_REFPTR
(
C
);

120 
EXPECT_IS_CAPTURED_AS_SCOPED_REFPTR
(
E
);

121 
EXPECT_IS_CAPTURED_AS_SCOPED_REFPTR
(
F
);

122 
EXPECT_IS_CAPTURED_AS_SCOPED_REFPTR
(
RefCouÁedObjeù
<
RefCouÁIÁ”çû
>);

123 
EXPECT_IS_CAPTURED_AS_SCOPED_REFPTR
(
RefCouÁedObjeù
<
B
>);

124 
EXPECT_IS_CAPTURED_AS_SCOPED_REFPTR
(
RefCouÁedObjeù
<
C
>);

125 
EXPECT_IS_CAPTURED_AS_SCOPED_REFPTR
(cÚ¡ 
RefCouÁedObjeù
<
RefCouÁIÁ”çû
>);

127 
TEST
(
BšdTe¡
, 
BšdToM‘hod
) {

128 
M‘hodBšdTe¡”
 
	gobjeù
 = {0};

129 
EXPECT_EQ
(0, 
objeù
.
ÿÎ_couÁ
);

130 
Bšd
(&
M‘hodBšdTe¡”
::
NuÎ¬yVoid
, &
objeù
)();

131 
EXPECT_EQ
(1, 
objeù
.
ÿÎ_couÁ
);

132 
EXPECT_EQ
(1, 
Bšd
(&
M‘hodBšdTe¡”
::
NuÎ¬yIÁ
, &
objeù
)());

133 
EXPECT_EQ
(2, 
objeù
.
ÿÎ_couÁ
);

134 
EXPECT_EQ
(2, 
Bšd
(&
M‘hodBšdTe¡”
::
NuÎ¬yCÚ¡
,

135 
¡©ic_ÿ¡
<cÚ¡ 
M‘hodBšdTe¡”
*>(&
objeù
))());

136 
EXPECT_EQ
(3, 
objeù
.
ÿÎ_couÁ
);

137 
Bšd
(&
M‘hodBšdTe¡”
::
UÇryVoid
, &
objeù
, 5)();

138 
EXPECT_EQ
(4, 
objeù
.
ÿÎ_couÁ
);

139 
EXPECT_EQ
(100, 
Bšd
(&
M‘hodBšdTe¡”
::
Id’t™y
<>, &
objeù
, 100)());

140 
EXPECT_EQ
(5, 
objeù
.
ÿÎ_couÁ
);

141 cÚ¡ 
	g¡d
::
¡ršg
 
¡ršg_v®ue
("test string");

142 
EXPECT_EQ
(
¡ršg_v®ue
, 
Bšd
(&
M‘hodBšdTe¡”
::
Id’t™y
<
¡d
::
¡ršg
>,

143 &
objeù
, 
¡ršg_v®ue
)());

144 
EXPECT_EQ
(6, 
objeù
.
ÿÎ_couÁ
);

145 
	gv®ue
 = 11;

148 
EXPECT_EQ
(12, 
Bšd
(&
M‘hodBšdTe¡”
::
UÇryByPoš‹r
, &
objeù
, &
v®ue
)());

149 
EXPECT_EQ
(12, 
v®ue
);

150 
EXPECT_EQ
(7, 
objeù
.
ÿÎ_couÁ
);

154 
EXPECT_EQ
(13, 
Bšd
(&
M‘hodBšdTe¡”
::
UÇryByRef
, &
objeù
, 
v®ue
)());

156 
EXPECT_EQ
(12, 
v®ue
);

157 
EXPECT_EQ
(8, 
objeù
.
ÿÎ_couÁ
);

158 
EXPECT_EQ
(56, 
Bšd
(&
M‘hodBšdTe¡”
::
MuÉly
, &
objeù
, 7, 8)());

159 
EXPECT_EQ
(9, 
objeù
.
ÿÎ_couÁ
);

162 
TEST
(
BšdTe¡
, 
BšdToFunùiÚ
) {

163 
EXPECT_EQ
(42, 
Bšd
(&
R‘uº42
)());

164 
EXPECT_EQ
(3, 
Bšd
(&
Neg©e
, -3)());

165 
EXPECT_EQ
(56, 
Bšd
(&
MuÉly
, 8, 7)());

170 
TEST
(
BšdTe¡
, 
C­tu»Poš‹rAsScİedRefPŒ
) {

171 
LiãTimeCheck
 
	gobjeù
;

172 
EXPECT_EQ
(
objeù
.
»f_couÁ_
, 0);

173 
	gscİed_»åŒ
<
	gLiãTimeCheck
> 
scİed_objeù
(&
objeù
);

174 
EXPECT_EQ
(
objeù
.
»f_couÁ_
, 1);

176 autØ
	gfunùÜ
 = 
Bšd
(&
LiãTimeCheck
::
NuÎ¬yVoid
, &
objeù
);

177 
EXPECT_EQ
(
objeù
.
»f_couÁ_
, 2);

178 
	gscİed_objeù
 = 
nuÎ±r
;

179 
EXPECT_EQ
(
objeù
.
»f_couÁ_
, 1);

181 
EXPECT_EQ
(
objeù
.
»f_couÁ_
, 0);

186 
TEST
(
BšdTe¡
, 
C­tu»ScİedRefPŒAsScİedRefPŒ
) {

187 
LiãTimeCheck
 
	gobjeù
;

188 
EXPECT_EQ
(
objeù
.
»f_couÁ_
, 0);

189 
	gscİed_»åŒ
<
	gLiãTimeCheck
> 
scİed_objeù
(&
objeù
);

190 
EXPECT_EQ
(
objeù
.
»f_couÁ_
, 1);

192 autØ
	gfunùÜ
 = 
Bšd
(&
LiãTimeCheck
::
NuÎ¬yVoid
, 
scİed_objeù
);

193 
EXPECT_EQ
(
objeù
.
»f_couÁ_
, 2);

194 
	gscİed_objeù
 = 
nuÎ±r
;

195 
EXPECT_EQ
(
objeù
.
»f_couÁ_
, 1);

197 
EXPECT_EQ
(
objeù
.
»f_couÁ_
, 0);

202 
TEST
(
BšdTe¡
, 
FunùÜR–—£sObjeùOnDe¡ruùiÚ
) {

203 
LiãTimeCheck
 
	gobjeù
;

204 
EXPECT_EQ
(
objeù
.
»f_couÁ_
, 0);

205 
	gscİed_»åŒ
<
	gLiãTimeCheck
> 
scİed_objeù
(&
objeù
);

206 
EXPECT_EQ
(
objeù
.
»f_couÁ_
, 1);

207 
Bšd
(&
LiãTimeCheck
::
NuÎ¬yVoid
, &
objeù
)();

208 
EXPECT_EQ
(
objeù
.
»f_couÁ_
, 1);

209 
	gscİed_objeù
 = 
nuÎ±r
;

210 
EXPECT_EQ
(
objeù
.
»f_couÁ_
, 0);

214 
TEST
(
BšdTe¡
, 
ScİedRefPoš‹rArgum’t
) {

215 
LiãTimeCheck
 
	gobjeù
;

216 
EXPECT_EQ
(
objeù
.
»f_couÁ_
, 0);

217 
	gscİed_»åŒ
<
	gLiãTimeCheck
> 
scİed_objeù
(&
objeù
);

218 
EXPECT_EQ
(
objeù
.
»f_couÁ_
, 1);

220 
M‘hodBšdTe¡”
 
	gbšd_‹¡”
;

221 autØ
	gfunùÜ
 =

222 
Bšd
(&
M‘hodBšdTe¡”
::
RefArgum’t
, &
bšd_‹¡”
, 
scİed_objeù
);

223 
EXPECT_EQ
(
objeù
.
»f_couÁ_
, 2);

225 
EXPECT_EQ
(
objeù
.
»f_couÁ_
, 1);

226 
	gscİed_objeù
 = 
nuÎ±r
;

227 
EXPECT_EQ
(
objeù
.
»f_couÁ_
, 0);

230 
	gÇme¥aû
 {

232 cÚ¡ * 
Ref
(cÚ¡ & 
a
) {

233  &
	ga
;

240 
TEST
(
BšdTe¡
, 
RefArgum’t
) {

241 cÚ¡ 
	gx
 = 42;

242 
EXPECT_EQ
(&
x
, 
Ref
(x));

244 autØ
	gfunùÜ
 = 
Bšd
(&
Ref
, 
x
);

245 
EXPECT_NE
(&
x
, 
funùÜ
());

	@bit_buffer.cc

11 
	~"¹c_ba£/b™_bufãr.h
"

13 
	~<®gÜ™hm
>

14 
	~<lim™s
>

16 
	~"¹c_ba£/checks.h
"

18 
	gÇme¥aû
 {

21 
ušt8_t
 
Lowe¡B™s
(ušt8_ˆ
by‹
, 
size_t
 
b™_couÁ
) {

22 
RTC_DCHECK_LE
(
b™_couÁ
, 8);

23  
	gby‹
 & ((1 << 
	gb™_couÁ
) - 1);

28 
ušt8_t
 
Highe¡B™s
(ušt8_ˆ
by‹
, 
size_t
 
b™_couÁ
) {

29 
RTC_DCHECK_LE
(
b™_couÁ
, 8);

30 
ušt8_t
 
	gshiá
 = 8 - 
¡©ic_ÿ¡
<ušt8_t>(
b™_couÁ
);

31 
ušt8_t
 
	gmask
 = 0xFF << 
shiá
;

32  (
	gby‹
 & 
	gmask
è>> 
	gshiá
;

36 
ušt8_t
 
Highe¡By‹
(
ušt64_t
 
v®
) {

37  
	g¡©ic_ÿ¡
<
	gušt8_t
>(
	gv®
 >> 56);

43 
ušt8_t
 
Wr™eP¬tŸlBy‹
(ušt8_ˆ
sourû
,

44 
size_t
 
sourû_b™_couÁ
,

45 
ušt8_t
 
rg‘
,

46 
size_t
 
rg‘_b™_off£t
) {

47 
RTC_DCHECK
(
rg‘_b™_off£t
 < 8);

48 
RTC_DCHECK
(
sourû_b™_couÁ
 < 9);

49 
RTC_DCHECK
(
sourû_b™_couÁ
 <ğ(8 - 
rg‘_b™_off£t
));

51 
ušt8_t
 
	gmask
 =

53 
¡©ic_ÿ¡
<
ušt8_t
>(0xFF << (8 - 
sourû_b™_couÁ
))

55 >> 
rg‘_b™_off£t
;

59  (
	grg‘
 & ~
	gmask
è| (
	gsourû
 >> 
	grg‘_b™_off£t
);

63 
size_t
 
CouÁB™s
(
ušt64_t
 
v®
) {

64 
size_t
 
	gb™_couÁ
 = 0;

65 
	gv®
 != 0) {

66 
b™_couÁ
++;

67 
	gv®
 >>= 1;

69  
	gb™_couÁ
;

74 
Çme¥aû
 
	g¹c
 {

76 
	gB™Bufãr
::
B™Bufãr
(cÚ¡ 
ušt8_t
* 
by‹s
, 
size_t
 
by‹_couÁ
)

77 : 
by‹s_
(
by‹s
), 
by‹_couÁ_
(
by‹_couÁ
), 
by‹_off£t_
(), 
b™_off£t_
() {

78 
RTC_DCHECK
(
¡©ic_ÿ¡
<
ušt64_t
>(
by‹_couÁ_
) <=

79 
¡d
::
num”ic_lim™s
<
ušt32_t
>::
max
());

82 
ušt64_t
 
	gB™Bufãr
::
RemaššgB™CouÁ
() const {

83  (
¡©ic_ÿ¡
<
ušt64_t
>(
by‹_couÁ_
è- 
by‹_off£t_
è* 8 - 
b™_off£t_
;

86 
boŞ
 
	gB™Bufãr
::
R—dUIÁ8
(
ušt8_t
* 
v®
) {

87 
ušt32_t
 
b™_v®
;

88 ià(!
R—dB™s
(&
b™_v®
, (
ušt8_t
) * 8)) {

89  
	gçl£
;

91 
RTC_DCHECK
(
b™_v®
 <ğ
¡d
::
num”ic_lim™s
<
ušt8_t
>::
max
());

92 *
	gv®
 = 
¡©ic_ÿ¡
<
ušt8_t
>(
b™_v®
);

93  
	gŒue
;

96 
boŞ
 
	gB™Bufãr
::
R—dUIÁ16
(
ušt16_t
* 
v®
) {

97 
ušt32_t
 
b™_v®
;

98 ià(!
R—dB™s
(&
b™_v®
, (
ušt16_t
) * 8)) {

99  
	gçl£
;

101 
RTC_DCHECK
(
b™_v®
 <ğ
¡d
::
num”ic_lim™s
<
ušt16_t
>::
max
());

102 *
	gv®
 = 
¡©ic_ÿ¡
<
ušt16_t
>(
b™_v®
);

103  
	gŒue
;

106 
boŞ
 
	gB™Bufãr
::
R—dUIÁ32
(
ušt32_t
* 
v®
) {

107  
R—dB™s
(
v®
, (
ušt32_t
) * 8);

110 
boŞ
 
	gB™Bufãr
::
P“kB™s
(
ušt32_t
* 
v®
, 
size_t
 
b™_couÁ
) {

114 
RTC_DCHECK
(
b™_couÁ
 > 0);

115 ià(!
	gv®
 || 
	gb™_couÁ
 > 
RemaššgB™CouÁ
() || bit_count > 32) {

116  
	gçl£
;

118 cÚ¡ 
ušt8_t
* 
	gby‹s
 = 
by‹s_
 + 
by‹_off£t_
;

119 
size_t
 
	g»maššg_b™s_š_cu¼’t_by‹
 = 8 - 
b™_off£t_
;

120 
ušt32_t
 
	gb™s
 = 
Lowe¡B™s
(*
by‹s
++, 
»maššg_b™s_š_cu¼’t_by‹
);

123 ià(
	gb™_couÁ
 < 
	g»maššg_b™s_š_cu¼’t_by‹
) {

124 *
	gv®
 = 
Highe¡B™s
(
b™s
, 
b™_off£t_
 + 
b™_couÁ
);

125  
	gŒue
;

129 
	gb™_couÁ
 -ğ
»maššg_b™s_š_cu¼’t_by‹
;

130 
	gb™_couÁ
 >= 8) {

131 
b™s
 = (b™ << 8è| *
by‹s
++;

132 
	gb™_couÁ
 -= 8;

136 ià(
	gb™_couÁ
 > 0) {

137 
	gb™s
 <<ğ
b™_couÁ
;

138 
	gb™s
 |ğ
Highe¡B™s
(*
by‹s
, 
b™_couÁ
);

140 *
	gv®
 = 
b™s
;

141  
	gŒue
;

144 
boŞ
 
	gB™Bufãr
::
R—dB™s
(
ušt32_t
* 
v®
, 
size_t
 
b™_couÁ
) {

145  
P“kB™s
(
v®
, 
b™_couÁ
è&& 
CÚsumeB™s
(bit_count);

148 
boŞ
 
	gB™Bufãr
::
CÚsumeBy‹s
(
size_t
 
by‹_couÁ
) {

149  
CÚsumeB™s
(
by‹_couÁ
 * 8);

152 
boŞ
 
	gB™Bufãr
::
CÚsumeB™s
(
size_t
 
b™_couÁ
) {

153 ià(
b™_couÁ
 > 
RemaššgB™CouÁ
()) {

154  
çl£
;

157 
	gby‹_off£t_
 +ğ(
b™_off£t_
 + 
b™_couÁ
) / 8;

158 
	gb™_off£t_
 = (
b™_off£t_
 + 
b™_couÁ
) % 8;

159  
	gŒue
;

162 
boŞ
 
	gB™Bufãr
::
R—dNÚSymm‘ric
(
ušt32_t
* 
v®
, ušt32_ˆ
num_v®ues
) {

163 
RTC_DCHECK_GT
(
num_v®ues
, 0);

164 
RTC_DCHECK_LE
(
num_v®ues
, 
ušt32_t
{1} << 31);

165 
size_t
 
	gcouÁ_b™s
 = 
CouÁB™s
(
num_v®ues
);

166 
ušt32_t
 
	gnum_mš_b™s_v®ues
 = (ušt32_t{1} << 
couÁ_b™s
è- 
num_v®ues
;

168 ià(!
R—dB™s
(
v®
, 
couÁ_b™s
 - 1)) {

169  
	gçl£
;

172 ià(*
	gv®
 < 
	gnum_mš_b™s_v®ues
) {

173  
	gŒue
;

176 
ušt32_t
 
	gexŒa_b™
;

177 ià(!
R—dB™s
(&
exŒa_b™
, 1)) {

178  
	gçl£
;

181 *
	gv®
 = (*
v®
 << 1è+ 
exŒa_b™
 - 
num_mš_b™s_v®ues
;

182  
	gŒue
;

185 
boŞ
 
	gB™Bufãr
::
R—dExpÚ’tŸlGŞomb
(
ušt32_t
* 
v®
) {

186 ià(!
v®
) {

187  
çl£
;

191 
size_t
 
	gÜigš®_by‹_off£t
 = 
by‹_off£t_
;

192 
size_t
 
	gÜigš®_b™_off£t
 = 
b™_off£t_
;

195 
size_t
 
	gz”o_b™_couÁ
 = 0;

196 
ušt32_t
 
	g³eked_b™
;

197 
P“kB™s
(&
³eked_b™
, 1è&& 
	g³eked_b™
 == 0) {

198 
z”o_b™_couÁ
++;

199 
CÚsumeB™s
(1);

203 
RTC_DCHECK
(!
P“kB™s
(&
³eked_b™
, 1) ||…eeked_bit == 1);

208 
size_t
 
	gv®ue_b™_couÁ
 = 
z”o_b™_couÁ
 + 1;

209 ià(
	gv®ue_b™_couÁ
 > 32 || !
R—dB™s
(
v®
, 
v®ue_b™_couÁ
)) {

210 
RTC_CHECK
(
S“k
(
Üigš®_by‹_off£t
, 
Üigš®_b™_off£t
));

211  
	gçl£
;

213 *
	gv®
 -= 1;

214  
	gŒue
;

217 
boŞ
 
	gB™Bufãr
::
R—dSigÃdExpÚ’tŸlGŞomb
(
št32_t
* 
v®
) {

218 
ušt32_t
 
unsigÃd_v®
;

219 ià(!
R—dExpÚ’tŸlGŞomb
(&
unsigÃd_v®
)) {

220  
	gçl£
;

222 ià((
	gunsigÃd_v®
 & 1) == 0) {

223 *
v®
 = -
¡©ic_ÿ¡
<
št32_t
>(
unsigÃd_v®
 / 2);

225 *
	gv®
 = (
unsigÃd_v®
 + 1) / 2;

227  
	gŒue
;

230 
	gB™Bufãr
::
G‘Cu¼’tOff£t
(
size_t
* 
out_by‹_off£t
,

231 
size_t
* 
out_b™_off£t
) {

232 
RTC_CHECK
(
out_by‹_off£t
 !ğ
nuÎ±r
);

233 
RTC_CHECK
(
out_b™_off£t
 !ğ
nuÎ±r
);

234 *
	gout_by‹_off£t
 = 
by‹_off£t_
;

235 *
	gout_b™_off£t
 = 
b™_off£t_
;

238 
boŞ
 
	gB™Bufãr
::
S“k
(
size_t
 
by‹_off£t
, size_ˆ
b™_off£t
) {

239 ià(
	gby‹_off£t
 > 
	gby‹_couÁ_
 || 
	gb™_off£t
 > 7 ||

240 (
	gby‹_off£t
 =ğ
by‹_couÁ_
 && 
b™_off£t
 > 0)) {

241  
çl£
;

243 
	gby‹_off£t_
 = 
by‹_off£t
;

244 
	gb™_off£t_
 = 
b™_off£t
;

245  
	gŒue
;

248 
	gB™BufãrWr™”
::
B™BufãrWr™”
(
ušt8_t
* 
by‹s
, 
size_t
 
by‹_couÁ
)

249 : 
B™Bufãr
(
by‹s
, 
by‹_couÁ
), 
wr™abË_by‹s_
(bytes) {}

251 
boŞ
 
	gB™BufãrWr™”
::
Wr™eUIÁ8
(
ušt8_t
 
v®
) {

252  
Wr™eB™s
(
v®
, (
ušt8_t
) * 8);

255 
boŞ
 
	gB™BufãrWr™”
::
Wr™eUIÁ16
(
ušt16_t
 
v®
) {

256  
Wr™eB™s
(
v®
, (
ušt16_t
) * 8);

259 
boŞ
 
	gB™BufãrWr™”
::
Wr™eUIÁ32
(
ušt32_t
 
v®
) {

260  
Wr™eB™s
(
v®
, (
ušt32_t
) * 8);

263 
boŞ
 
	gB™BufãrWr™”
::
Wr™eB™s
(
ušt64_t
 
v®
, 
size_t
 
b™_couÁ
) {

264 ià(
	gb™_couÁ
 > 
RemaššgB™CouÁ
()) {

265  
	gçl£
;

267 
size_t
 
	gtÙ®_b™s
 = 
b™_couÁ
;

270 
	gv®
 <<ğ((
ušt64_t
è* 8 - 
b™_couÁ
);

272 
ušt8_t
* 
	gby‹s
 = 
wr™abË_by‹s_
 + 
by‹_off£t_
;

277 
size_t
 
	g»maššg_b™s_š_cu¼’t_by‹
 = 8 - 
b™_off£t_
;

278 
size_t
 
	gb™s_š_fœ¡_by‹
 =

279 
¡d
::
mš
(
b™_couÁ
, 
»maššg_b™s_š_cu¼’t_by‹
);

280 *
	gby‹s
 = 
Wr™eP¬tŸlBy‹
(
Highe¡By‹
(
v®
), 
b™s_š_fœ¡_by‹
, *
by‹s
,

281 
b™_off£t_
);

282 ià(
	gb™_couÁ
 <ğ
»maššg_b™s_š_cu¼’t_by‹
) {

284  
CÚsumeB™s
(
tÙ®_b™s
);

289 
	gv®
 <<ğ
b™s_š_fœ¡_by‹
;

290 
	gby‹s
++;

291 
	gb™_couÁ
 -ğ
b™s_š_fœ¡_by‹
;

292 
	gb™_couÁ
 >= 8) {

293 *
by‹s
++ = 
Highe¡By‹
(
v®
);

294 
	gv®
 <<= 8;

295 
	gb™_couÁ
 -= 8;

300 ià(
	gb™_couÁ
 > 0) {

301 *
	gby‹s
 = 
Wr™eP¬tŸlBy‹
(
Highe¡By‹
(
v®
), 
b™_couÁ
, *
by‹s
, 0);

305  
CÚsumeB™s
(
tÙ®_b™s
);

308 
boŞ
 
	gB™BufãrWr™”
::
Wr™eNÚSymm‘ric
(
ušt32_t
 
v®
, ušt32_ˆ
num_v®ues
) {

309 
RTC_DCHECK_LT
(
v®
, 
num_v®ues
);

310 
RTC_DCHECK_LE
(
num_v®ues
, 
ušt32_t
{1} << 31);

311 
size_t
 
	gcouÁ_b™s
 = 
CouÁB™s
(
num_v®ues
);

312 
ušt32_t
 
	gnum_mš_b™s_v®ues
 = (ušt32_t{1} << 
couÁ_b™s
è- 
num_v®ues
;

314  
	gv®
 < 
	gnum_mš_b™s_v®ues


315 ? 
Wr™eB™s
(
v®
, 
couÁ_b™s
 - 1)

316 : 
Wr™eB™s
(
v®
 + 
num_mš_b™s_v®ues
, 
couÁ_b™s
);

319 
size_t
 
	gB™BufãrWr™”
::
SizeNÚSymm‘ricB™s
(
ušt32_t
 
v®
,

320 
ušt32_t
 
num_v®ues
) {

321 
RTC_DCHECK_LT
(
v®
, 
num_v®ues
);

322 
RTC_DCHECK_LE
(
num_v®ues
, 
ušt32_t
{1} << 31);

323 
size_t
 
	gcouÁ_b™s
 = 
CouÁB™s
(
num_v®ues
);

324 
ušt32_t
 
	gnum_mš_b™s_v®ues
 = (ušt32_t{1} << 
couÁ_b™s
è- 
num_v®ues
;

326  
	gv®
 < 
	gnum_mš_b™s_v®ues
 ? (
	gcouÁ_b™s
 - 1è: 
couÁ_b™s
;

329 
boŞ
 
	gB™BufãrWr™”
::
Wr™eExpÚ’tŸlGŞomb
(
ušt32_t
 
v®
) {

332 ià(
v®
 =ğ
¡d
::
num”ic_lim™s
<
ušt32_t
>::
max
()) {

333  
çl£
;

335 
ušt64_t
 
	gv®_to_’code
 = 
¡©ic_ÿ¡
<ušt64_t>(
v®
) + 1;

340  
Wr™eB™s
(
v®_to_’code
, 
CouÁB™s
(val_to_encode) * 2 - 1);

343 
boŞ
 
	gB™BufãrWr™”
::
Wr™eSigÃdExpÚ’tŸlGŞomb
(
št32_t
 
v®
) {

344 ià(
v®
 == 0) {

345  
Wr™eExpÚ’tŸlGŞomb
(0);

346 } ià(
	gv®
 > 0) {

347 
ušt32_t
 
	gsigÃd_v®
 = 
v®
;

348  
Wr™eExpÚ’tŸlGŞomb
((
sigÃd_v®
 * 2) - 1);

350 ià(
	gv®
 =ğ
¡d
::
num”ic_lim™s
<
št32_t
>::
mš
())

351  
çl£
;

352 
ušt32_t
 
	gsigÃd_v®
 = -
v®
;

353  
Wr™eExpÚ’tŸlGŞomb
(
sigÃd_v®
 * 2);

	@bit_buffer.h

11 #iâdeà
RTC_BASE_BIT_BUFFER_H_


12 
	#RTC_BASE_BIT_BUFFER_H_


	)

14 
	~<¡ddef.h
>

15 
	~<¡dšt.h
>

17 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

19 
Çme¥aû
 
	g¹c
 {

28 şas 
	cB™Bufãr
 {

29 
	gpublic
:

30 
B™Bufãr
(cÚ¡ 
ušt8_t
* 
by‹s
, 
size_t
 
by‹_couÁ
);

34 
G‘Cu¼’tOff£t
(
size_t
* 
out_by‹_off£t
, size_t* 
out_b™_off£t
);

37 
ušt64_t
 
RemaššgB™CouÁ
() const;

41 
boŞ
 
R—dUIÁ8
(
ušt8_t
* 
v®
);

42 
boŞ
 
R—dUIÁ16
(
ušt16_t
* 
v®
);

43 
boŞ
 
R—dUIÁ32
(
ušt32_t
* 
v®
);

47 
boŞ
 
R—dB™s
(
ušt32_t
* 
v®
, 
size_t
 
b™_couÁ
);

52 
boŞ
 
P“kB™s
(
ušt32_t
* 
v®
, 
size_t
 
b™_couÁ
);

64 
boŞ
 
R—dNÚSymm‘ric
(
ušt32_t
* 
v®
, ušt32_ˆ
num_v®ues
);

74 
boŞ
 
R—dExpÚ’tŸlGŞomb
(
ušt32_t
* 
v®
);

78 
boŞ
 
R—dSigÃdExpÚ’tŸlGŞomb
(
št32_t
* 
v®
);

82 
boŞ
 
CÚsumeBy‹s
(
size_t
 
by‹_couÁ
);

85 
boŞ
 
CÚsumeB™s
(
size_t
 
b™_couÁ
);

89 
boŞ
 
S“k
(
size_t
 
by‹_off£t
, size_ˆ
b™_off£t
);

91 
	g´Ùeùed
:

92 cÚ¡ 
ušt8_t
* cÚ¡ 
by‹s_
;

94 
size_t
 
	gby‹_couÁ_
;

96 
size_t
 
	gby‹_off£t_
;

98 
size_t
 
	gb™_off£t_
;

100 
RTC_DISALLOW_COPY_AND_ASSIGN
(
B™Bufãr
);

106 şas 
	cB™BufãrWr™”
 : 
public
 
B™Bufãr
 {

107 
public
:

109 
B™BufãrWr™”
(
ušt8_t
* 
by‹s
, 
size_t
 
by‹_couÁ
);

113 
boŞ
 
Wr™eUIÁ8
(
ušt8_t
 
v®
);

114 
boŞ
 
Wr™eUIÁ16
(
ušt16_t
 
v®
);

115 
boŞ
 
Wr™eUIÁ32
(
ušt32_t
 
v®
);

119 
boŞ
 
Wr™eB™s
(
ušt64_t
 
v®
, 
size_t
 
b™_couÁ
);

125 
boŞ
 
Wr™eNÚSymm‘ric
(
ušt32_t
 
v®
, ušt32_ˆ
num_v®ues
);

127 
size_t
 
SizeNÚSymm‘ricB™s
(
ušt32_t
 
v®
, ušt32_ˆ
num_v®ues
);

131 
boŞ
 
Wr™eExpÚ’tŸlGŞomb
(
ušt32_t
 
v®
);

135 
boŞ
 
Wr™eSigÃdExpÚ’tŸlGŞomb
(
št32_t
 
v®
);

137 
	g´iv©e
:

139 
ušt8_t
* cÚ¡ 
wr™abË_by‹s_
;

141 
RTC_DISALLOW_COPY_AND_ASSIGN
(
B™BufãrWr™”
);

	@bit_buffer_unittest.cc

11 
	~"¹c_ba£/b™_bufãr.h
"

13 
	~<lim™s
>

15 
	~"¹c_ba£/¬¿ysize.h
"

16 
	~"¹c_ba£/by‹_bufãr.h
"

17 
	~"‹¡/gmock.h
"

18 
	~"‹¡/g‹¡.h
"

20 
Çme¥aû
 
	g¹c
 {

22 
	gusšg
 ::
‹¡šg
::
EËm’tsA»
;

24 
TEST
(
B™BufãrTe¡
, 
CÚsumeB™s
) {

25 cÚ¡ 
ušt8_t
 
	gby‹s
[64] = {0};

26 
B™Bufãr
 
bufãr
(
by‹s
, 32);

27 
ušt64_t
 
	gtÙ®_b™s
 = 32 * 8;

28 
EXPECT_EQ
(
tÙ®_b™s
, 
bufãr
.
RemaššgB™CouÁ
());

29 
EXPECT_TRUE
(
bufãr
.
CÚsumeB™s
(3));

30 
	gtÙ®_b™s
 -= 3;

31 
EXPECT_EQ
(
tÙ®_b™s
, 
bufãr
.
RemaššgB™CouÁ
());

32 
EXPECT_TRUE
(
bufãr
.
CÚsumeB™s
(3));

33 
	gtÙ®_b™s
 -= 3;

34 
EXPECT_EQ
(
tÙ®_b™s
, 
bufãr
.
RemaššgB™CouÁ
());

35 
EXPECT_TRUE
(
bufãr
.
CÚsumeB™s
(15));

36 
	gtÙ®_b™s
 -= 15;

37 
EXPECT_EQ
(
tÙ®_b™s
, 
bufãr
.
RemaššgB™CouÁ
());

38 
EXPECT_TRUE
(
bufãr
.
CÚsumeB™s
(37));

39 
	gtÙ®_b™s
 -= 37;

40 
EXPECT_EQ
(
tÙ®_b™s
, 
bufãr
.
RemaššgB™CouÁ
());

42 
EXPECT_FALSE
(
bufãr
.
CÚsumeB™s
(32 * 8));

43 
EXPECT_EQ
(
tÙ®_b™s
, 
bufãr
.
RemaššgB™CouÁ
());

46 
TEST
(
B™BufãrTe¡
, 
R—dBy‹sAligÃd
) {

47 cÚ¡ 
ušt8_t
 
	gby‹s
[] = {0x0A, 0xBC, 0xDE, 0xF1, 0x23, 0x45, 0x67, 0x89};

48 
ušt8_t
 
	gv®8
;

49 
ušt16_t
 
	gv®16
;

50 
ušt32_t
 
	gv®32
;

51 
B™Bufãr
 
bufãr
(
by‹s
, 8);

52 
EXPECT_TRUE
(
bufãr
.
R—dUIÁ8
(&
v®8
));

53 
EXPECT_EQ
(0x0Au, 
v®8
);

54 
EXPECT_TRUE
(
bufãr
.
R—dUIÁ8
(&
v®8
));

55 
EXPECT_EQ
(0xBCu, 
v®8
);

56 
EXPECT_TRUE
(
bufãr
.
R—dUIÁ16
(&
v®16
));

57 
EXPECT_EQ
(0xDEF1u, 
v®16
);

58 
EXPECT_TRUE
(
bufãr
.
R—dUIÁ32
(&
v®32
));

59 
EXPECT_EQ
(0x23456789u, 
v®32
);

62 
TEST
(
B™BufãrTe¡
, 
R—dBy‹sOff£t4
) {

63 cÚ¡ 
ušt8_t
 
	gby‹s
[] = {0x0A, 0xBC, 0xDE, 0xF1, 0x23,

65 
ušt8_t
 
	gv®8
;

66 
ušt16_t
 
	gv®16
;

67 
ušt32_t
 
	gv®32
;

68 
B™Bufãr
 
bufãr
(
by‹s
, 9);

69 
EXPECT_TRUE
(
bufãr
.
CÚsumeB™s
(4));

71 
EXPECT_TRUE
(
bufãr
.
R—dUIÁ8
(&
v®8
));

72 
EXPECT_EQ
(0xABu, 
v®8
);

73 
EXPECT_TRUE
(
bufãr
.
R—dUIÁ8
(&
v®8
));

74 
EXPECT_EQ
(0xCDu, 
v®8
);

75 
EXPECT_TRUE
(
bufãr
.
R—dUIÁ16
(&
v®16
));

76 
EXPECT_EQ
(0xEF12u, 
v®16
);

77 
EXPECT_TRUE
(
bufãr
.
R—dUIÁ32
(&
v®32
));

78 
EXPECT_EQ
(0x34567890u, 
v®32
);

81 
TEST
(
B™BufãrTe¡
, 
R—dBy‹sOff£t3
) {

98 cÚ¡ 
ušt8_t
 
	gby‹s
[] = {0x1F, 0xDB, 0x97, 0x53, 0x0E, 0xCA, 0x86, 0x42};

100 
ušt8_t
 
	gv®8
;

101 
ušt16_t
 
	gv®16
;

102 
ušt32_t
 
	gv®32
;

103 
B™Bufãr
 
bufãr
(
by‹s
, 8);

104 
EXPECT_TRUE
(
bufãr
.
CÚsumeB™s
(3));

105 
EXPECT_TRUE
(
bufãr
.
R—dUIÁ8
(&
v®8
));

106 
EXPECT_EQ
(0xFEu, 
v®8
);

107 
EXPECT_TRUE
(
bufãr
.
R—dUIÁ16
(&
v®16
));

108 
EXPECT_EQ
(0xDCBAu, 
v®16
);

109 
EXPECT_TRUE
(
bufãr
.
R—dUIÁ32
(&
v®32
));

110 
EXPECT_EQ
(0x98765432u, 
v®32
);

112 
EXPECT_EQ
(5u, 
bufãr
.
RemaššgB™CouÁ
());

113 
EXPECT_FALSE
(
bufãr
.
R—dUIÁ8
(&
v®8
));

116 
TEST
(
B™BufãrTe¡
, 
R—dB™s
) {

120 cÚ¡ 
ušt8_t
 
	gby‹s
[] = {0x4D, 0x32};

121 
ušt32_t
 
	gv®
;

122 
B™Bufãr
 
bufãr
(
by‹s
, 2);

123 
EXPECT_TRUE
(
bufãr
.
R—dB™s
(&
v®
, 3));

125 
EXPECT_EQ
(0x2u, 
v®
);

126 
EXPECT_TRUE
(
bufãr
.
R—dB™s
(&
v®
, 2));

128 
EXPECT_EQ
(0x1u, 
v®
);

129 
EXPECT_TRUE
(
bufãr
.
R—dB™s
(&
v®
, 7));

131 
EXPECT_EQ
(0x53u, 
v®
);

132 
EXPECT_TRUE
(
bufãr
.
R—dB™s
(&
v®
, 2));

134 
EXPECT_EQ
(0x0u, 
v®
);

135 
EXPECT_TRUE
(
bufãr
.
R—dB™s
(&
v®
, 1));

137 
EXPECT_EQ
(0x1u, 
v®
);

138 
EXPECT_TRUE
(
bufãr
.
R—dB™s
(&
v®
, 1));

140 
EXPECT_EQ
(0x0u, 
v®
);

142 
EXPECT_FALSE
(
bufãr
.
R—dB™s
(&
v®
, 1));

145 
TEST
(
B™BufãrTe¡
, 
S‘Off£tV®ues
) {

146 
ušt8_t
 
	gby‹s
[4] = {0};

147 
B™BufãrWr™”
 
bufãr
(
by‹s
, 4);

149 
size_t
 
	gby‹_off£t
, 
	gb™_off£t
;

151 
EXPECT_TRUE
(
bufãr
.
S“k
(0, 0));

152 
EXPECT_TRUE
(
bufãr
.
S“k
(0, 7));

153 
	gbufãr
.
G‘Cu¼’tOff£t
(&
by‹_off£t
, &
b™_off£t
);

154 
EXPECT_EQ
(0u, 
by‹_off£t
);

155 
EXPECT_EQ
(7u, 
b™_off£t
);

156 
EXPECT_FALSE
(
bufãr
.
S“k
(0, 8));

157 
	gbufãr
.
G‘Cu¼’tOff£t
(&
by‹_off£t
, &
b™_off£t
);

158 
EXPECT_EQ
(0u, 
by‹_off£t
);

159 
EXPECT_EQ
(7u, 
b™_off£t
);

162 
EXPECT_TRUE
(
bufãr
.
S“k
(0, 0));

163 
EXPECT_TRUE
(
bufãr
.
S“k
(2, 4));

164 
	gbufãr
.
G‘Cu¼’tOff£t
(&
by‹_off£t
, &
b™_off£t
);

165 
EXPECT_EQ
(2u, 
by‹_off£t
);

166 
EXPECT_EQ
(4u, 
b™_off£t
);

167 
EXPECT_TRUE
(
bufãr
.
S“k
(4, 0));

168 
EXPECT_FALSE
(
bufãr
.
S“k
(5, 0));

169 
	gbufãr
.
G‘Cu¼’tOff£t
(&
by‹_off£t
, &
b™_off£t
);

170 
EXPECT_EQ
(4u, 
by‹_off£t
);

171 
EXPECT_EQ
(0u, 
b™_off£t
);

172 
EXPECT_FALSE
(
bufãr
.
S“k
(4, 1));

176 #ià
GTEST_HAS_DEATH_TEST


177 #ià!
defšed
(
WEBRTC_ANDROID
)

179 
EXPECT_DEATH
(
bufãr
.
G‘Cu¼’tOff£t
(&
by‹_off£t
, 
nuÎ±r
), "");

184 
TEST
(
B™BufãrTe¡
, 
R—dNÚSymm‘ricSameNumb”OfB™sWh’NumV®uesPow”Of2
) {

185 cÚ¡ 
ušt8_t
 
	gby‹s
[2] = {0xf3, 0xa0};

186 
B™Bufãr
 
»ad”
(
by‹s
, 2);

188 
ušt32_t
 
	gv®ues
[4];

189 
ASSERT_EQ
(
»ad”
.
RemaššgB™CouÁ
(), 16u);

190 
EXPECT_TRUE
(
»ad”
.
R—dNÚSymm‘ric
(&
v®ues
[0], 1 << 4));

191 
EXPECT_TRUE
(
»ad”
.
R—dNÚSymm‘ric
(&
v®ues
[1], 1 << 4));

192 
EXPECT_TRUE
(
»ad”
.
R—dNÚSymm‘ric
(&
v®ues
[2], 1 << 4));

193 
EXPECT_TRUE
(
»ad”
.
R—dNÚSymm‘ric
(&
v®ues
[3], 1 << 4));

194 
ASSERT_EQ
(
»ad”
.
RemaššgB™CouÁ
(), 0u);

196 
EXPECT_THAT
(
v®ues
, 
EËm’tsA»
(0xf, 0x3, 0xa, 0x0));

199 
TEST
(
B™BufãrWr™”Te¡
,

200 
Wr™eNÚSymm‘ricSameNumb”OfB™sWh’NumV®uesPow”Of2
) {

201 
ušt8_t
 
	gby‹s
[2] = {};

202 
B™BufãrWr™”
 
wr™”
(
by‹s
, 2);

204 
ASSERT_EQ
(
wr™”
.
RemaššgB™CouÁ
(), 16u);

205 
EXPECT_TRUE
(
wr™”
.
Wr™eNÚSymm‘ric
(0xf, 1 << 4));

206 
ASSERT_EQ
(
wr™”
.
RemaššgB™CouÁ
(), 12u);

207 
EXPECT_TRUE
(
wr™”
.
Wr™eNÚSymm‘ric
(0x3, 1 << 4));

208 
ASSERT_EQ
(
wr™”
.
RemaššgB™CouÁ
(), 8u);

209 
EXPECT_TRUE
(
wr™”
.
Wr™eNÚSymm‘ric
(0xa, 1 << 4));

210 
ASSERT_EQ
(
wr™”
.
RemaššgB™CouÁ
(), 4u);

211 
EXPECT_TRUE
(
wr™”
.
Wr™eNÚSymm‘ric
(0x0, 1 << 4));

212 
ASSERT_EQ
(
wr™”
.
RemaššgB™CouÁ
(), 0u);

214 
EXPECT_THAT
(
by‹s
, 
EËm’tsA»
(0xf3, 0xa0));

217 
TEST
(
B™BufãrWr™”Te¡
, 
NÚSymm‘ricR—dsM©chesWr™es
) {

218 
ušt8_t
 
	gby‹s
[2] = {};

219 
B™BufãrWr™”
 
wr™”
(
by‹s
, 2);

221 
EXPECT_EQ
(
B™BufãrWr™”
::
SizeNÚSymm‘ricB™s
( 1, 6),

223 
EXPECT_EQ
(
B™BufãrWr™”
::
SizeNÚSymm‘ricB™s
( 2, 6),

226 
ASSERT_EQ
(
wr™”
.
RemaššgB™CouÁ
(), 16u);

227 
EXPECT_TRUE
(
wr™”
.
Wr™eNÚSymm‘ric
( 0, 6));

228 
ASSERT_EQ
(
wr™”
.
RemaššgB™CouÁ
(), 14u);

229 
EXPECT_TRUE
(
wr™”
.
Wr™eNÚSymm‘ric
( 1, 6));

230 
ASSERT_EQ
(
wr™”
.
RemaššgB™CouÁ
(), 12u);

232 
EXPECT_TRUE
(
wr™”
.
Wr™eNÚSymm‘ric
( 2, 6));

233 
ASSERT_EQ
(
wr™”
.
RemaššgB™CouÁ
(), 9u);

234 
EXPECT_TRUE
(
wr™”
.
Wr™eNÚSymm‘ric
( 3, 6));

235 
ASSERT_EQ
(
wr™”
.
RemaššgB™CouÁ
(), 6u);

236 
EXPECT_TRUE
(
wr™”
.
Wr™eNÚSymm‘ric
( 4, 6));

237 
ASSERT_EQ
(
wr™”
.
RemaššgB™CouÁ
(), 3u);

238 
EXPECT_TRUE
(
wr™”
.
Wr™eNÚSymm‘ric
( 5, 6));

239 
ASSERT_EQ
(
wr™”
.
RemaššgB™CouÁ
(), 0u);

243 
EXPECT_THAT
(
by‹s
, 
EËm’tsA»
(0x19, 0x77));

245 
	g¹c
::
B™Bufãr
 
»ad”
(
by‹s
, 2);

246 
ušt32_t
 
	gv®ues
[6];

247 
EXPECT_TRUE
(
»ad”
.
R—dNÚSymm‘ric
(&
v®ues
[0], 6));

248 
EXPECT_TRUE
(
»ad”
.
R—dNÚSymm‘ric
(&
v®ues
[1], 6));

249 
EXPECT_TRUE
(
»ad”
.
R—dNÚSymm‘ric
(&
v®ues
[2], 6));

250 
EXPECT_TRUE
(
»ad”
.
R—dNÚSymm‘ric
(&
v®ues
[3], 6));

251 
EXPECT_TRUE
(
»ad”
.
R—dNÚSymm‘ric
(&
v®ues
[4], 6));

252 
EXPECT_TRUE
(
»ad”
.
R—dNÚSymm‘ric
(&
v®ues
[5], 6));

254 
EXPECT_THAT
(
v®ues
, 
EËm’tsA»
(0, 1, 2, 3, 4, 5));

257 
ušt64_t
 
GŞombEncoded
(
ušt32_t
 
v®
) {

258 
	gv®
++;

259 
ušt32_t
 
	gb™_couÁ”
 = 
v®
;

260 
ušt64_t
 
	gb™_couÁ
 = 0;

261 
	gb™_couÁ”
 > 0) {

262 
	gb™_couÁ
++;

263 
	gb™_couÁ”
 >>= 1;

265  
	g¡©ic_ÿ¡
<
	gušt64_t
>(
	gv®
è<< (64 - (
	gb™_couÁ
 * 2 - 1));

268 
TEST
(
B™BufãrTe¡
, 
GŞombUšt32V®ues
) {

269 
By‹BufãrWr™”
 
	gby‹Bufãr
;

270 
	gby‹Bufãr
.
Resize
(16);

271 
B™Bufãr
 
bufãr
(
»š‹½»t_ÿ¡
<cÚ¡ 
ušt8_t
*>(
by‹Bufãr
.
D©a
()),

272 
by‹Bufãr
.
C­ac™y
());

275 cÚ¡ 
	gkS‹p
 = 
¡d
::
num”ic_lim™s
<
ušt32_t
>::
max
() / 20000;

276 
ušt32_t
 
	gi
 = 0; i < 
	g¡d
::
num”ic_lim™s
<ušt32_t>::
max
(è- 
kS‹p
;

277 
	gi
 +ğ
kS‹p
) {

278 
ušt64_t
 
’coded_v®
 = 
GŞombEncoded
(
i
);

279 
	gby‹Bufãr
.
CË¬
();

280 
	gby‹Bufãr
.
Wr™eUIÁ64
(
’coded_v®
);

281 
ušt32_t
 
	gdecoded_v®
;

282 
EXPECT_TRUE
(
bufãr
.
S“k
(0, 0));

283 
EXPECT_TRUE
(
bufãr
.
R—dExpÚ’tŸlGŞomb
(&
decoded_v®
));

284 
EXPECT_EQ
(
i
, 
decoded_v®
);

288 
TEST
(
B™BufãrTe¡
, 
SigÃdGŞombV®ues
) {

289 
ušt8_t
 
	ggŞomb_b™s
[] = {

296 
št32_t
 
	gex³ùed
[] = {0, 1, -1, 2, -3};

297 
size_t
 
	gi
 = 0; i < (
	ggŞomb_b™s
); ++i) {

298 
B™Bufãr
 
bufãr
(&
gŞomb_b™s
[
i
], 1);

299 
št32_t
 
	gdecoded_v®
;

300 
ASSERT_TRUE
(
bufãr
.
R—dSigÃdExpÚ’tŸlGŞomb
(&
decoded_v®
));

301 
EXPECT_EQ
(
ex³ùed
[
i
], 
decoded_v®
)

302 << "Mism©ch iÀex³ùed/decoded v®ufÜ gŞomb_b™s[" << 
	gi


303 << "]: " << 
	g¡©ic_ÿ¡
<>(
	ggŞomb_b™s
[
i
]);

307 
TEST
(
B™BufãrTe¡
, 
NoGŞombOv”»ad
) {

308 cÚ¡ 
ušt8_t
 
	gby‹s
[] = {0x00, 0xFF, 0xFF};

311 
B™Bufãr
 
bufãr
(
by‹s
, 1);

312 
ušt32_t
 
	gdecoded_v®
;

313 
EXPECT_FALSE
(
bufãr
.
R—dExpÚ’tŸlGŞomb
(&
decoded_v®
));

315 
B™Bufãr
 
lÚg”_bufãr
(
by‹s
, 2);

316 
EXPECT_FALSE
(
lÚg”_bufãr
.
R—dExpÚ’tŸlGŞomb
(&
decoded_v®
));

318 
B™Bufãr
 
lÚge¡_bufãr
(
by‹s
, 3);

319 
EXPECT_TRUE
(
lÚge¡_bufãr
.
R—dExpÚ’tŸlGŞomb
(&
decoded_v®
));

322 
EXPECT_EQ
(0x01FEu, 
decoded_v®
);

325 
TEST
(
B™BufãrWr™”Te¡
, 
Symm‘ricR—dWr™e
) {

326 
ušt8_t
 
	gby‹s
[16] = {0};

327 
B™BufãrWr™”
 
bufãr
(
by‹s
, 4);

330 
EXPECT_TRUE
(
bufãr
.
Wr™eB™s
(0x2u, 3));

331 
EXPECT_TRUE
(
bufãr
.
Wr™eB™s
(0x1u, 2));

332 
EXPECT_TRUE
(
bufãr
.
Wr™eB™s
(0x53u, 7));

333 
EXPECT_TRUE
(
bufãr
.
Wr™eB™s
(0x0u, 2));

334 
EXPECT_TRUE
(
bufãr
.
Wr™eB™s
(0x1u, 1));

335 
EXPECT_TRUE
(
bufãr
.
Wr™eB™s
(0x1ABCDu, 17));

337 
EXPECT_FALSE
(
bufãr
.
Wr™eB™s
(1, 1));

339 
EXPECT_TRUE
(
bufãr
.
S“k
(0, 0));

340 
ušt32_t
 
	gv®
;

341 
EXPECT_TRUE
(
bufãr
.
R—dB™s
(&
v®
, 3));

342 
EXPECT_EQ
(0x2u, 
v®
);

343 
EXPECT_TRUE
(
bufãr
.
R—dB™s
(&
v®
, 2));

344 
EXPECT_EQ
(0x1u, 
v®
);

345 
EXPECT_TRUE
(
bufãr
.
R—dB™s
(&
v®
, 7));

346 
EXPECT_EQ
(0x53u, 
v®
);

347 
EXPECT_TRUE
(
bufãr
.
R—dB™s
(&
v®
, 2));

348 
EXPECT_EQ
(0x0u, 
v®
);

349 
EXPECT_TRUE
(
bufãr
.
R—dB™s
(&
v®
, 1));

350 
EXPECT_EQ
(0x1u, 
v®
);

351 
EXPECT_TRUE
(
bufãr
.
R—dB™s
(&
v®
, 17));

352 
EXPECT_EQ
(0x1ABCDu, 
v®
);

354 
EXPECT_FALSE
(
bufãr
.
R—dB™s
(&
v®
, 1));

357 
TEST
(
B™BufãrWr™”Te¡
, 
Symm‘ricBy‹sMi§ligÃd
) {

358 
ušt8_t
 
	gby‹s
[16] = {0};

359 
B™BufãrWr™”
 
bufãr
(
by‹s
, 16);

362 
EXPECT_TRUE
(
bufãr
.
CÚsumeB™s
(3));

363 
EXPECT_TRUE
(
bufãr
.
Wr™eUIÁ8
(0x12u));

364 
EXPECT_TRUE
(
bufãr
.
Wr™eUIÁ16
(0x3456u));

365 
EXPECT_TRUE
(
bufãr
.
Wr™eUIÁ32
(0x789ABCDEu));

367 
	gbufãr
.
S“k
(0, 3);

368 
ušt8_t
 
	gv®8
;

369 
ušt16_t
 
	gv®16
;

370 
ušt32_t
 
	gv®32
;

371 
EXPECT_TRUE
(
bufãr
.
R—dUIÁ8
(&
v®8
));

372 
EXPECT_EQ
(0x12u, 
v®8
);

373 
EXPECT_TRUE
(
bufãr
.
R—dUIÁ16
(&
v®16
));

374 
EXPECT_EQ
(0x3456u, 
v®16
);

375 
EXPECT_TRUE
(
bufãr
.
R—dUIÁ32
(&
v®32
));

376 
EXPECT_EQ
(0x789ABCDEu, 
v®32
);

379 
TEST
(
B™BufãrWr™”Te¡
, 
Symm‘ricGŞomb
) {

380 
	g‹¡_¡ršg
[] = "my…recious";

381 
ušt8_t
 
	gby‹s
[64] = {0};

382 
B™BufãrWr™”
 
bufãr
(
by‹s
, 64);

383 
size_t
 
	gi
 = 0; i < 
¬¿ysize
(
‹¡_¡ršg
); ++i) {

384 
EXPECT_TRUE
(
bufãr
.
Wr™eExpÚ’tŸlGŞomb
(
‹¡_¡ršg
[
i
]));

386 
	gbufãr
.
S“k
(0, 0);

387 
size_t
 
	gi
 = 0; i < 
¬¿ysize
(
‹¡_¡ršg
); ++i) {

388 
ušt32_t
 
	gv®
;

389 
EXPECT_TRUE
(
bufãr
.
R—dExpÚ’tŸlGŞomb
(&
v®
));

390 
EXPECT_LE
(
v®
, 
¡d
::
num”ic_lim™s
<
ušt8_t
>::
max
());

391 
EXPECT_EQ
(
‹¡_¡ršg
[
i
], 
¡©ic_ÿ¡
<>(
v®
));

395 
TEST
(
B™BufãrWr™”Te¡
, 
Wr™eCË¬sB™s
) {

396 
ušt8_t
 
	gby‹s
[] = {0xFF, 0xFF};

397 
B™BufãrWr™”
 
bufãr
(
by‹s
, 2);

398 
EXPECT_TRUE
(
bufãr
.
CÚsumeB™s
(3));

399 
EXPECT_TRUE
(
bufãr
.
Wr™eB™s
(0, 1));

400 
EXPECT_EQ
(0xEFu, 
by‹s
[0]);

401 
EXPECT_TRUE
(
bufãr
.
Wr™eB™s
(0, 3));

402 
EXPECT_EQ
(0xE1u, 
by‹s
[0]);

403 
EXPECT_TRUE
(
bufãr
.
Wr™eB™s
(0, 2));

404 
EXPECT_EQ
(0xE0u, 
by‹s
[0]);

405 
EXPECT_EQ
(0x7F, 
by‹s
[1]);

	@bounded_inline_vector.h

11 #iâdeà
RTC_BASE_BOUNDED_INLINE_VECTOR_H_


12 
	#RTC_BASE_BOUNDED_INLINE_VECTOR_H_


	)

14 
	~<¡dšt.h
>

16 
	~<memÜy
>

17 
	~<ty³_Œa™s
>

18 
	~<ut™y
>

20 
	~"¹c_ba£/bounded_šlše_veùÜ_im¶.h
"

21 
	~"¹c_ba£/checks.h
"

23 
Çme¥aû
 
	gweb¹c
 {

31 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
	gfixed_ÿ·c™y
>

32 şas 
	cBoundedIÆšeVeùÜ
 {

33 
¡©ic_as£¹
(!
¡d
::
is_cÚ¡
<
T
>::
v®ue
, "T may‚ot be const");

34 
¡©ic_as£¹
(
fixed_ÿ·c™y
 > 0, "Capacity must be strictly…ositive");

36 
	gpublic
:

37 
usšg
 
size_ty³
 = ;

38 
usšg
 
	gv®ue_ty³
 = 
T
;

39 
usšg
 
	gcÚ¡_™”©Ü
 = cÚ¡ 
T
*;

41 
BoundedIÆšeVeùÜ
() = ;

42 
BoundedIÆšeVeùÜ
(const BoundedInlineVector&) = ;

43 
BoundedIÆšeVeùÜ
(BoundedInlineVector&&) = ;

44 
	gBoundedIÆšeVeùÜ
& 
	gİ”©Ü
=(cÚ¡ 
BoundedIÆšeVeùÜ
&) = ;

45 
	gBoundedIÆšeVeùÜ
& 
	gİ”©Ü
=(
BoundedIÆšeVeùÜ
&&) = ;

46 ~
BoundedIÆšeVeùÜ
() = ;

57 
	g‹m¶©e
 <
	gty³Çme
... 
	gTs
,

58 
ty³Çme
 
	g¡d
::
’abË_if_t
<

59 
bounded_šlše_veùÜ_im¶
::
AÎCÚv”tibË
<
T
, 
	gTs
...>::
v®ue
>* =

60 
nuÎ±r
>

61 
BoundedIÆšeVeùÜ
(
Ts
&&... 
–em’ts
)

62 : 
¡Üage_
(
¡d
::
fÜw¬d
<
Ts
>(
–em’ts
)...) {

63 
¡©ic_as£¹
(...(
Ts
è<ğ
fixed_ÿ·c™y
, "");

66 
	g‹m¶©e
 <

67 
	gÙh”_ÿ·c™y
,

68 
ty³Çme
 
	g¡d
::
’abË_if_t
<
Ùh”_ÿ·c™y
 !ğ
fixed_ÿ·c™y
>* = 
nuÎ±r
>

69 
BoundedIÆšeVeùÜ
(cÚ¡ BoundedIÆšeVeùÜ<
T
, 
Ùh”_ÿ·c™y
>& 
Ùh”
) {

70 
RTC_DCHECK_LE
(
Ùh”
.
size
(), 
fixed_ÿ·c™y
);

71 
	gbounded_šlše_veùÜ_im¶
::
CİyEËm’ts
(
Ùh”
.
d©a
(), oth”.
size
(),

72 
¡Üage_
.
d©a
, &¡Üage_.
size
);

75 
	g‹m¶©e
 <

76 
	gÙh”_ÿ·c™y
,

77 
ty³Çme
 
	g¡d
::
’abË_if_t
<
Ùh”_ÿ·c™y
 !ğ
fixed_ÿ·c™y
>* = 
nuÎ±r
>

78 
BoundedIÆšeVeùÜ
(BoundedIÆšeVeùÜ<
T
, 
Ùh”_ÿ·c™y
>&& 
Ùh”
) {

79 
RTC_DCHECK_LE
(
Ùh”
.
size
(), 
fixed_ÿ·c™y
);

80 
	gbounded_šlše_veùÜ_im¶
::
MoveEËm’ts
(
Ùh”
.
d©a
(), oth”.
size
(),

81 
¡Üage_
.
d©a
, &¡Üage_.
size
);

84 
	g‹m¶©e
 <

85 
	gÙh”_ÿ·c™y
,

86 
ty³Çme
 
	g¡d
::
’abË_if_t
<
Ùh”_ÿ·c™y
 !ğ
fixed_ÿ·c™y
>* = 
nuÎ±r
>

87 
BoundedIÆšeVeùÜ
& 
İ”©Ü
=(

88 cÚ¡ 
BoundedIÆšeVeùÜ
<
T
, 
	gÙh”_ÿ·c™y
>& 
	gÙh”
) {

89 
	gbounded_šlše_veùÜ_im¶
::
De¡royEËm’ts
(
¡Üage_
.
d©a
, stÜage_.
size
);

90 
RTC_DCHECK_LE
(
Ùh”
.
size
(), 
fixed_ÿ·c™y
);

91 
	gbounded_šlše_veùÜ_im¶
::
CİyEËm’ts
(
Ùh”
.
d©a
(), oth”.
size
(),

92 
¡Üage_
.
d©a
, &¡Üage_.
size
);

93  *
	gthis
;

96 
	g‹m¶©e
 <

97 
	gÙh”_ÿ·c™y
,

98 
ty³Çme
 
	g¡d
::
’abË_if_t
<
Ùh”_ÿ·c™y
 !ğ
fixed_ÿ·c™y
>* = 
nuÎ±r
>

99 
BoundedIÆšeVeùÜ
& 
İ”©Ü
=(

100 
BoundedIÆšeVeùÜ
<
T
, 
	gÙh”_ÿ·c™y
>&& 
	gÙh”
) {

101 
	gbounded_šlše_veùÜ_im¶
::
De¡royEËm’ts
(
¡Üage_
.
d©a
, stÜage_.
size
);

102 
RTC_DCHECK_LE
(
Ùh”
.
size
(), 
fixed_ÿ·c™y
);

103 
	gbounded_šlše_veùÜ_im¶
::
MoveEËm’ts
(
Ùh”
.
d©a
(), oth”.
size
(),

104 
¡Üage_
.
d©a
, &¡Üage_.
size
);

105  *
	gthis
;

108 
boŞ
 
em±y
(ècÚ¡ {  
	g¡Üage_
.
	gsize
 == 0; }

109 
size
(ècÚ¡ {  
	g¡Üage_
.
	gsize
; }

110 
cÚ¡ex´
 
ÿ·c™y
(ècÚ¡ {  
	gfixed_ÿ·c™y
; }

115 
»size
(
Ãw_size
) {

116 
RTC_DCHECK_GE
(
Ãw_size
, 0);

117 
RTC_DCHECK_LE
(
Ãw_size
, 
fixed_ÿ·c™y
);

118 ià(
	gÃw_size
 > 
	g¡Üage_
.
	gsize
) {

119 
	gbounded_šlše_veùÜ_im¶
::
DeçuÉIn™ŸlizeEËm’ts
(

120 
¡Üage_
.
d©a
 + stÜage_.
size
, 
Ãw_size
 - storage_.size);

121 } ià(
	gÃw_size
 < 
	g¡Üage_
.
	gsize
) {

122 
	gbounded_šlše_veùÜ_im¶
::
De¡royEËm’ts
(
¡Üage_
.
d©a
 + 
Ãw_size
,

123 
¡Üage_
.
size
 - 
Ãw_size
);

125 
	g¡Üage_
.
	gsize
 = 
Ãw_size
;

128 cÚ¡ 
T
* 
d©a
(ècÚ¡ {  
	g¡Üage_
.
	gd©a
; }

129 
T
* 
d©a
(è{  
	g¡Üage_
.
	gd©a
; }

131 cÚ¡ 
	gT
& 
	gİ”©Ü
[](
	gšdex
) const {

132 
RTC_DCHECK_GE
(
šdex
, 0);

133 
RTC_DCHECK_LT
(
šdex
, 
¡Üage_
.
size
);

134  
	g¡Üage_
.
	gd©a
[
šdex
];

136 
	gT
& 
	gİ”©Ü
[](
	gšdex
) {

137 
RTC_DCHECK_GE
(
šdex
, 0);

138 
RTC_DCHECK_LT
(
šdex
, 
¡Üage_
.
size
);

139  
	g¡Üage_
.
	gd©a
[
šdex
];

142 
T
* 
begš
(è{  
	g¡Üage_
.
	gd©a
; }

143 
T
* 
’d
(è{  
	g¡Üage_
.
	gd©a
 + stÜage_.
	gsize
; }

144 cÚ¡ 
T
* 
begš
(ècÚ¡ {  
	g¡Üage_
.
	gd©a
; }

145 cÚ¡ 
T
* 
’d
(ècÚ¡ {  
	g¡Üage_
.
	gd©a
 + stÜage_.
	gsize
; }

146 cÚ¡ 
T
* 
cbegš
(ècÚ¡ {  
	g¡Üage_
.
	gd©a
; }

147 cÚ¡ 
T
* 
ûnd
(ècÚ¡ {  
	g¡Üage_
.
	gd©a
 + stÜage_.
	gsize
; }

149 
	g´iv©e
:

150 
bounded_šlše_veùÜ_im¶
::
StÜage
<
T
, 
	gfixed_ÿ·c™y
> 
	g¡Üage_
;

	@bounded_inline_vector_impl.h

11 #iâdeà
RTC_BASE_BOUNDED_INLINE_VECTOR_IMPL_H_


12 
	#RTC_BASE_BOUNDED_INLINE_VECTOR_IMPL_H_


	)

14 
	~<¡dšt.h
>

16 
	~<c¡ršg
>

17 
	~<memÜy
>

18 
	~<ty³_Œa™s
>

19 
	~<ut™y
>

21 
Çme¥aû
 
	gweb¹c
 {

22 
Çme¥aû
 
	gbounded_šlše_veùÜ_im¶
 {

24 
	g‹m¶©e
 <
	gboŞ
...>

25 
	gBoŞPack
;

30 
	g‹m¶©e
 <
	gboŞ
... 
	gBs
>

31 
usšg
 
	gAÎTrue
 = 
¡d
::
is_§me
<
BoŞPack
<
Bs
..., 
	gŒue
>, 
	gBoŞPack
<Œue, 
	gBs
...>>;

33 
	g‹m¶©e
 <
ty³Çme
 
	gTo
, 
	gty³Çme
... 
	gFroms
>

34 
usšg
 
	gAÎCÚv”tibË
 = 
AÎTrue
<
¡d
::
is_cÚv”tibË
<
Froms
, 
	gTo
>::
v®ue
...>;

39 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

40 
In™ŸlizeEËm’ts
(
T
* 
d©a
) {}

41 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gU
, 
	gty³Çme
... 
	gUs
>

42 
In™ŸlizeEËm’ts
(
T
* 
d©a
, 
U
&& 
–em’t
, 
Us
&&... 
–em’ts
) {

44 ::
Ãw
 (
d©a
è
T
(
¡d
::
fÜw¬d
<
U
>(
–em’t
));

45 
In™ŸlizeEËm’ts
(
d©a
 + 1, 
¡d
::
fÜw¬d
<
Us
>(
–em’ts
)...);

50 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

51 
DeçuÉIn™ŸlizeEËm’ts
(
T
* 
d©a
, 
size
) {

52 
	gi
 = 0; i < 
	gsize
; ++i) {

54 ::
Ãw
 (&
d©a
[
i
]è
T
;

60 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

61 
CİyEËm’ts
(cÚ¡ 
T
* 
¤c_d©a
, 
¤c_size
, T* 
d¡_d©a
, * 
d¡_size
) {

62 ià (
	g¡d
::
is_ŒivŸÎy_cİy_cÚ¡ruùibË
<
T
>::
v®ue
) {

63 
¡d
::
memıy
(
d¡_d©a
, 
¤c_d©a
, 
¤c_size
 * (
T
));

65 
	g¡d
::
unš™Ÿlized_cİy_n
(
¤c_d©a
, 
¤c_size
, 
d¡_d©a
);

67 *
	gd¡_size
 = 
¤c_size
;

72 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

73 
MoveEËm’ts
(
T
* 
¤c_d©a
, 
¤c_size
, T* 
d¡_d©a
, * 
d¡_size
) {

74 ià (
	g¡d
::
is_ŒivŸÎy_move_cÚ¡ruùibË
<
T
>::
v®ue
) {

75 
¡d
::
memıy
(
d¡_d©a
, 
¤c_d©a
, 
¤c_size
 * (
T
));

78 
	gi
 = 0; i < 
	g¤c_size
; ++i) {

81 ::
Ãw
 (&
d¡_d©a
[
i
]è
T
(
¡d
::
move
(
¤c_d©a
[i]));

84 *
	gd¡_size
 = 
¤c_size
;

88 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

89 
De¡royEËm’ts
(
T
* 
d©a
, 
size
) {

90 ià (!
	g¡d
::
is_ŒivŸÎy_de¡ruùibË
<
T
>::
v®ue
) {

91 
i
 = 0; 
	gi
 < 
	gsize
; ++i) {

92 
	gd©a
[
i
].~
T
();

100 
cÚ¡ex´
 
	gkSm®lSize
 = 64;

119 
	g‹m¶©e
 <
ty³Çme
 
	gT
,

120 
	gfixed_ÿ·c™y
,

121 
boŞ
 
	gis_ŒivŸl
 = 
¡d
::
is_ŒivŸl
<
T
>::
v®ue
,

122 
boŞ
 
	gis_sm®l
 = ((
T
è* 
fixed_ÿ·c™y
 <ğ
kSm®lSize
)>

123 
	sStÜage
 {

124 
¡©ic_as£¹
(!
¡d
::
is_ŒivŸl
<
T
>::
v®ue
, "");

126 
	g‹m¶©e
 <

127 
	gty³Çme
... 
	gTs
,

128 
ty³Çme
 
	g¡d
::
’abË_if_t
<
AÎCÚv”tibË
<
T
, 
	gTs
...>::
v®ue
>* = 
nuÎ±r
>

129 
ex¶ic™
 
StÜage
(
Ts
&&... 
–em’ts
è: 
size
(...(Ts)) {

130 
In™ŸlizeEËm’ts
(
d©a
, 
¡d
::
fÜw¬d
<
Ts
>(
–em’ts
)...);

133 
StÜage
(cÚ¡ StÜage& 
Ùh”
) {

134 
CİyEËm’ts
(
Ùh”
.
d©a
, oth”.
size
, data, &size);

137 
StÜage
(StÜage&& 
Ùh”
) {

138 
MoveEËm’ts
(
Ùh”
.
d©a
, oth”.
size
, data, &size);

141 
	gStÜage
& 
	gİ”©Ü
=(cÚ¡ 
StÜage
& 
Ùh”
) {

142 ià(
this
 !ğ&
Ùh”
) {

143 
De¡royEËm’ts
(
d©a
, 
size
);

144 
CİyEËm’ts
(
Ùh”
.
d©a
, oth”.
size
, data, &size);

146  *
	gthis
;

149 
	gStÜage
& 
	gİ”©Ü
=(
StÜage
&& 
Ùh”
) {

150 
De¡royEËm’ts
(
d©a
, 
size
);

151 
	gsize
 = 0;

152 
MoveEËm’ts
(
Ùh”
.
d©a
, oth”.
size
, data, &size);

153  *
	gthis
;

156 ~
StÜage
(è{ 
De¡royEËm’ts
(
d©a
, 
size
); }

158 
	gsize
;

162 
T
 
	gd©a
[
fixed_ÿ·c™y
];

168 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
	gfixed_ÿ·c™y
>

169 
	gStÜage
<
	gT
, 
	gfixed_ÿ·c™y
, 
	gŒue
,rue> {

170 
¡©ic_as£¹
(
¡d
::
is_ŒivŸl
<
T
>::
v®ue
, "");

171 
¡©ic_as£¹
((
T
è* 
fixed_ÿ·c™y
 <ğ
kSm®lSize
, "");

173 
	g‹m¶©e
 <

174 
	gty³Çme
... 
	gTs
,

175 
ty³Çme
 
	g¡d
::
’abË_if_t
<
AÎCÚv”tibË
<
T
, 
	gTs
...>::
v®ue
>* = 
nuÎ±r
>

176 
ex¶ic™
 
StÜage
(
Ts
&&... 
–em’ts
è: 
size
(...(Ts)) {

177 
In™ŸlizeEËm’ts
(
d©a
, 
¡d
::
fÜw¬d
<
Ts
>(
–em’ts
)...);

180 
StÜage
(const Storage&) = ;

181 
	gStÜage
& 
	gİ”©Ü
=(cÚ¡ 
StÜage
&) = ;

182 ~
StÜage
() = ;

184 
	gsize
;

185 
T
 
	gd©a
[
fixed_ÿ·c™y
];

190 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
	gfixed_ÿ·c™y
>

191 
	gStÜage
<
	gT
, 
	gfixed_ÿ·c™y
, 
	gŒue
, 
	gçl£
> {

192 
¡©ic_as£¹
(
¡d
::
is_ŒivŸl
<
T
>::
v®ue
, "");

193 
¡©ic_as£¹
((
T
è* 
fixed_ÿ·c™y
 > 
kSm®lSize
, "");

195 
	g‹m¶©e
 <

196 
	gty³Çme
... 
	gTs
,

197 
ty³Çme
 
	g¡d
::
’abË_if_t
<
AÎCÚv”tibË
<
T
, 
	gTs
...>::
v®ue
>* = 
nuÎ±r
>

198 
ex¶ic™
 
StÜage
(
Ts
&&... 
–em’ts
è: 
size
(...(Ts)) {

199 
In™ŸlizeEËm’ts
(
d©a
, 
¡d
::
fÜw¬d
<
Ts
>(
–em’ts
)...);

202 
StÜage
(cÚ¡ StÜage& 
Ùh”
è: 
size
(other.size) {

203 
¡d
::
memıy
(
d©a
, 
Ùh”
.d©a, oth”.
size
 * (
T
));

206 
	gStÜage
& 
	gİ”©Ü
=(cÚ¡ 
StÜage
& 
Ùh”
) {

207 ià(
this
 !ğ&
Ùh”
) {

208 
size
 = 
Ùh”
.size;

209 
	g¡d
::
memıy
(
d©a
, 
Ùh”
.d©a, oth”.
size
 * (
T
));

211  *
	gthis
;

214 ~
StÜage
() = ;

216 
	gsize
;

218 
T
 
	gd©a
[
fixed_ÿ·c™y
];

	@bounded_inline_vector_unittest.cc

11 
	~"¹c_ba£/bounded_šlše_veùÜ.h
"

13 
	~<memÜy
>

14 
	~<¡ršg
>

15 
	~<ut™y
>

17 
	~"‹¡/gmock.h
"

18 
	~"‹¡/g‹¡.h
"

20 
Çme¥aû
 
	gweb¹c
 {

21 
	gÇme¥aû
 {

23 
usšg
 
	gSm®lTrivŸl
 = 
BoundedIÆšeVeùÜ
<, 2>;

24 
usšg
 
	gL¬geTrivŸl
 = 
BoundedIÆšeVeùÜ
<, 200>;

25 
usšg
 
	gNÚTrivŸl
 = 
BoundedIÆšeVeùÜ
<
¡d
::
¡ršg
, 2>;

26 
¡©ic_as£¹
(
¡d
::
is_ŒivŸÎy_cİyabË
<
Sm®lTrivŸl
>::
v®ue
, "");

27 
¡©ic_as£¹
(!
¡d
::
is_ŒivŸÎy_cİyabË
<
L¬geTrivŸl
>::
v®ue
, "");

28 
¡©ic_as£¹
(
¡d
::
is_ŒivŸÎy_de¡ruùibË
<
L¬geTrivŸl
>::
v®ue
, "");

29 
¡©ic_as£¹
(!
¡d
::
is_ŒivŸÎy_cİyabË
<
NÚTrivŸl
>::
v®ue
, "");

30 
¡©ic_as£¹
(!
¡d
::
is_ŒivŸÎy_de¡ruùibË
<
NÚTrivŸl
>::
v®ue
, "");

32 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

33 şas 
	cBoundedIÆšeVeùÜTe¡AÎTy³s
 : 
public
 ::
‹¡šg
::
Te¡
 {};

35 
usšg
 
	gAÎTy³s
 =

36 ::
‹¡šg
::
Ty³s
<,

37 
	g¡d
::
·œ
<, >,

38 
	g¡d
::
unique_±r
<>,

39 
	g¡d
::
¡ršg
>;

40 
TYPED_TEST_SUITE
(
BoundedIÆšeVeùÜTe¡AÎTy³s
, 
AÎTy³s
);

42 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

43 şas 
	cBoundedIÆšeVeùÜTe¡CİyabËTy³s
 : 
public
 ::
‹¡šg
::
Te¡
 {};

45 
usšg
 
	gCİyabËTy³s
 = ::
‹¡šg
::
Ty³s
<, 
	g¡d
::
·œ
<, >, std::
¡ršg
>;

46 
TYPED_TEST_SUITE
(
BoundedIÆšeVeùÜTe¡CİyabËTy³s
, 
CİyabËTy³s
);

48 
TYPED_TEST
(
BoundedIÆšeVeùÜTe¡AÎTy³s
, 
CÚ¡ruùEm±y
) {

49 
	gBoundedIÆšeVeùÜ
<
	gTy³P¬am
, 3> 
	gx
;

50 
EXPECT_EQ
(
x
.
size
(), 0);

51 
EXPECT_EQ
(
x
.
begš
(), x.
’d
());

52 
¡©ic_as£¹
(
x
.
ÿ·c™y
() == 3, "");

55 
TYPED_TEST
(
BoundedIÆšeVeùÜTe¡AÎTy³s
, 
CÚ¡ruùNÚem±y
) {

56 
	gBoundedIÆšeVeùÜ
<
	gTy³P¬am
, 3> 
	gx
 = {
Ty³P¬am
(), TypeParam()};

57 
EXPECT_EQ
(
x
.
size
(), 2);

58 
¡©ic_as£¹
(
x
.
ÿ·c™y
() == 3, "");

61 
TYPED_TEST
(
BoundedIÆšeVeùÜTe¡CİyabËTy³s
, 
CİyCÚ¡ruù
) {

62 
	gBoundedIÆšeVeùÜ
<
	gTy³P¬am
, 3> 
	gx
 = {
Ty³P¬am
(), TypeParam()};

63 
	gBoundedIÆšeVeùÜ
<
	gTy³P¬am
, 2> 
	gy
 = 
x
;

64 
EXPECT_EQ
(
y
.
size
(), 2);

65 
¡©ic_as£¹
(
x
.
ÿ·c™y
() == 3, "");

66 
¡©ic_as£¹
(
y
.
ÿ·c™y
() == 2, "");

69 
TYPED_TEST
(
BoundedIÆšeVeùÜTe¡CİyabËTy³s
, 
CİyAssign
) {

70 
	gBoundedIÆšeVeùÜ
<
	gTy³P¬am
, 3> 
	gx
 = {
Ty³P¬am
(), TypeParam()};

71 
	gBoundedIÆšeVeùÜ
<
	gTy³P¬am
, 2> 
	gy
;

72 
EXPECT_EQ
(
y
.
size
(), 0);

73 
	gy
 = 
x
;

74 
EXPECT_EQ
(
y
.
size
(), 2);

77 
TYPED_TEST
(
BoundedIÆšeVeùÜTe¡AÎTy³s
, 
MoveCÚ¡ruù
) {

78 
	gBoundedIÆšeVeùÜ
<
	gTy³P¬am
, 3> 
	gx
 = {
Ty³P¬am
(), TypeParam()};

79 
	gBoundedIÆšeVeùÜ
<
	gTy³P¬am
, 2> 
	gy
 = 
¡d
::
move
(
x
);

80 
EXPECT_EQ
(
y
.
size
(), 2);

81 
¡©ic_as£¹
(
x
.
ÿ·c™y
() == 3, "");

82 
¡©ic_as£¹
(
y
.
ÿ·c™y
() == 2, "");

85 
TYPED_TEST
(
BoundedIÆšeVeùÜTe¡AÎTy³s
, 
MoveAssign
) {

86 
	gBoundedIÆšeVeùÜ
<
	gTy³P¬am
, 3> 
	gx
 = {
Ty³P¬am
(), TypeParam()};

87 
	gBoundedIÆšeVeùÜ
<
	gTy³P¬am
, 2> 
	gy
;

88 
EXPECT_EQ
(
y
.
size
(), 0);

89 
	gy
 = 
¡d
::
move
(
x
);

90 
EXPECT_EQ
(
y
.
size
(), 2);

93 
TEST
(
BoundedIÆšeVeùÜTe¡OÃTy³
, 
I‹¿tiÚ
) {

94 
	gBoundedIÆšeVeùÜ
<
	g¡d
::
¡ršg
, 4> 
	gsv
{"one", "two", "three", "four"};

95 
	g¡d
::
¡ršg
 
ÿt
;

96 cÚ¡‡uto& 
	gs
 : 
sv
) {

97 
ÿt
 +ğ
s
;

99 
EXPECT_EQ
(
ÿt
, "onetwothreefour");

102 
TEST
(
BoundedIÆšeVeùÜTe¡OÃTy³
, 
Indexšg
) {

103 
	gBoundedIÆšeVeùÜ
<, 1> 
	gx
 = {3.14};

104 
EXPECT_EQ
(
x
[0], 3.14);

107 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
	gÿ·c™y
, 
	gty³Çme
... 
	gTs
>

108 
	gBoundedIÆšeVeùÜ
<
	gT
, 
	gÿ·c™y
> 
R‘uºs
(
Ts
... 
v®ues
) {

109  {
	g¡d
::
fÜw¬d
<
Ts
>(
v®ues
)...};

112 
TYPED_TEST
(
BoundedIÆšeVeùÜTe¡AÎTy³s
, 
R‘uº
) {

113 
EXPECT_EQ
((
R‘uºs
<
Ty³P¬am
, 3>().
size
()), 0);

114 
EXPECT_EQ
((
R‘uºs
<
Ty³P¬am
, 3>(Ty³P¬am(), Ty³P¬am()).
size
()), 2);

117 
TYPED_TEST
(
BoundedIÆšeVeùÜTe¡AÎTy³s
, 
Resize
) {

118 
	gBoundedIÆšeVeùÜ
<
	gTy³P¬am
, 17> 
	gx
;

119 
EXPECT_EQ
(
x
.
size
(), 0);

120 
	gx
.
»size
(17);

121 
EXPECT_EQ
(
x
.
size
(), 17);

125 ià(!
	g¡d
::
is_ŒivŸÎy_deçuÉ_cÚ¡ruùibË
<
Ty³P¬am
>::
v®ue
) {

126 
EXPECT_EQ
(
x
[4], 
Ty³P¬am
());

128 
	gx
.
»size
(2);

129 
EXPECT_EQ
(
x
.
size
(), 2);

	@buffer.h

11 #iâdeà
RTC_BASE_BUFFER_H_


12 
	#RTC_BASE_BUFFER_H_


	)

14 
	~<¡dšt.h
>

16 
	~<®gÜ™hm
>

17 
	~<c¡ršg
>

18 
	~<memÜy
>

19 
	~<ty³_Œa™s
>

20 
	~<ut™y
>

22 
	~"­i/¬¿y_v›w.h
"

23 
	~"¹c_ba£/checks.h
"

24 
	~"¹c_ba£/ty³_Œa™s.h
"

25 
	~"¹c_ba£/z”o_memÜy.h
"

27 
Çme¥aû
 
	g¹c
 {

29 
Çme¥aû
 
	gš‹º®
 {

37 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gU
>

38 
	sBufãrCom·t
 {

39 
cÚ¡ex´
 
boŞ
 
	gv®ue
 =

40 !
¡d
::
is_vŞ©e
<
U
>::
v®ue
 &&

41 ((
¡d
::
is_š‹g¿l
<
T
>::
v®ue
 && (T) == 1)

42 ? (
¡d
::
is_š‹g¿l
<
U
>::
v®ue
 && (U) == 1)

43 : (
¡d
::
is_§me
<
T
, 
ty³Çme
 
	g¡d
::
»move_cÚ¡
<
U
>::
ty³
>::
v®ue
));

53 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
boŞ
 
	gZ”oOnF»e
 = 
çl£
>

54 şas 
	cBufãrT
 {

60 
¡©ic_as£¹
(
¡d
::
is_ŒivŸl
<
T
>::
v®ue
, "T must be‡rivialype.");

63 
¡©ic_as£¹
(!
¡d
::
is_cÚ¡
<
T
>::
v®ue
, "T may‚ot be const");

65 
	gpublic
:

66 
usšg
 
v®ue_ty³
 = 
T
;

67 
usšg
 
	gcÚ¡_™”©Ü
 = cÚ¡ 
T
*;

70 
BufãrT
(è: 
size_
(0), 
ÿ·c™y_
(0), 
d©a_
(
nuÎ±r
) {

71 
RTC_DCHECK
(
IsCÚsi¡’t
());

76 
BufãrT
(cÚ¡ BufãrT&èğ
d–‘e
;

77 
	gBufãrT
& 
	gİ”©Ü
=(cÚ¡ 
BufãrT
&èğ
d–‘e
;

79 
BufãrT
(BufãrT&& 
buf
)

80 : 
size_
(
buf
.
size
()),

81 
ÿ·c™y_
(
buf
.
ÿ·c™y
()),

82 
d©a_
(
¡d
::
move
(
buf
.data_)) {

83 
RTC_DCHECK
(
IsCÚsi¡’t
());

84 
	gbuf
.
OnMovedFrom
();

88 
ex¶ic™
 
BufãrT
(
size_t
 
size
) : BufferT(size, size) {}

90 
BufãrT
(
size_t
 
size
, size_ˆ
ÿ·c™y
)

91 : 
size_
(
size
),

92 
ÿ·c™y_
(
¡d
::
max
(
size
, 
ÿ·c™y
)),

93 
d©a_
(
ÿ·c™y_
 > 0 ? 
Ãw
 
T
[ÿ·c™y_] : 
nuÎ±r
) {

94 
RTC_DCHECK
(
IsCÚsi¡’t
());

98 
	g‹m¶©e
 <
ty³Çme
 
	gU
,

99 
ty³Çme
 
	g¡d
::
’abË_if
<

100 
š‹º®
::
BufãrCom·t
<
T
, 
	gU
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

101 
BufãrT
(cÚ¡ 
U
* 
d©a
, 
size_t
 
size
) : BufferT(data, size, size) {}

103 
	g‹m¶©e
 <
ty³Çme
 
	gU
,

104 
ty³Çme
 
	g¡d
::
’abË_if
<

105 
š‹º®
::
BufãrCom·t
<
T
, 
	gU
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

106 
BufãrT
(
U
* 
d©a
, 
size_t
 
size
, size_ˆ
ÿ·c™y
) : BufferT(size, capacity) {

107 
¡©ic_as£¹
((
T
è=ğ(
U
), "");

108 
	g¡d
::
memıy
(
d©a_
.
g‘
(), 
d©a
, 
size
 * (
U
));

112 
	g‹m¶©e
 <
ty³Çme
 
	gU
,

113 
size_t
 
	gN
,

114 
ty³Çme
 
	g¡d
::
’abË_if
<

115 
š‹º®
::
BufãrCom·t
<
T
, 
	gU
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

116 
BufãrT
(
U
 (&
¬¿y
)[
N
]) : BufferT(array, N) {}

118 ~
BufãrT
(è{ 
MaybeZ”oCom¶‘eBufãr
(); }

123 
	g‹m¶©e
 <
ty³Çme
 
	gU
 = 
T
,

124 
ty³Çme
 
	g¡d
::
’abË_if
<

125 
š‹º®
::
BufãrCom·t
<
T
, 
	gU
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

126 cÚ¡ 
U
* 
d©a
() const {

127 
RTC_DCHECK
(
IsCÚsi¡’t
());

128  
	g»š‹½»t_ÿ¡
<
	gU
*>(
	gd©a_
.
g‘
());

131 
	g‹m¶©e
 <
ty³Çme
 
	gU
 = 
T
,

132 
ty³Çme
 
	g¡d
::
’abË_if
<

133 
š‹º®
::
BufãrCom·t
<
T
, 
	gU
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

134 
U
* 
d©a
() {

135 
RTC_DCHECK
(
IsCÚsi¡’t
());

136  
	g»š‹½»t_ÿ¡
<
	gU
*>(
	gd©a_
.
g‘
());

139 
boŞ
 
em±y
() const {

140 
RTC_DCHECK
(
IsCÚsi¡’t
());

141  
	gsize_
 == 0;

144 
size_t
 
size
() const {

145 
RTC_DCHECK
(
IsCÚsi¡’t
());

146  
	gsize_
;

149 
size_t
 
ÿ·c™y
() const {

150 
RTC_DCHECK
(
IsCÚsi¡’t
());

151  
	gÿ·c™y_
;

154 
	gBufãrT
& 
	gİ”©Ü
=(
BufãrT
&& 
buf
) {

155 
RTC_DCHECK
(
buf
.
IsCÚsi¡’t
());

156 
MaybeZ”oCom¶‘eBufãr
();

157 
	gsize_
 = 
buf
.
size_
;

158 
	gÿ·c™y_
 = 
buf
.
ÿ·c™y_
;

159 
usšg
 
	g¡d
::
sw­
;

160 
sw­
(
d©a_
, 
buf
.data_);

161 
	gbuf
.
	gd©a_
.
»£t
();

162 
	gbuf
.
OnMovedFrom
();

163  *
	gthis
;

166 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
BufãrT
& 
buf
) const {

167 
RTC_DCHECK
(
IsCÚsi¡’t
());

168 ià(
	gsize_
 !ğ
buf
.
size_
) {

169  
çl£
;

171 ià(
	g¡d
::
is_š‹g¿l
<
T
>::
v®ue
) {

173  
¡d
::
memcmp
(
d©a_
.
g‘
(), 
buf
.d©a_.g‘(), 
size_
 * (
T
)) == 0;

175 
size_t
 
	gi
 = 0; i < 
	gsize_
; ++i) {

176 ià(
	gd©a_
[
i
] !ğ
buf
.
d©a_
[i]) {

177  
çl£
;

180  
	gŒue
;

183 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
BufãrT
& 
buf
ècÚ¡ {  !(*
this
 == buf); }

185 
	gT
& 
	gİ”©Ü
[](
size_t
 
	gšdex
) {

186 
RTC_DCHECK_LT
(
šdex
, 
size_
);

187  
d©a
()[
šdex
];

190 
T
 
	gİ”©Ü
[](
size_t
 
	gšdex
) const {

191 
RTC_DCHECK_LT
(
šdex
, 
size_
);

192  
d©a
()[
šdex
];

195 
T
* 
begš
(è{  
d©a
(); }

196 
T
* 
’d
(è{  
d©a
(è+ 
size
(); }

197 cÚ¡ 
T
* 
begš
(ècÚ¡ {  
d©a
(); }

198 cÚ¡ 
T
* 
’d
(ècÚ¡ {  
d©a
(è+ 
size
(); }

199 cÚ¡ 
T
* 
cbegš
(ècÚ¡ {  
d©a
(); }

200 cÚ¡ 
T
* 
ûnd
(ècÚ¡ {  
d©a
(è+ 
size
(); }

204 
	g‹m¶©e
 <
ty³Çme
 
	gU
,

205 
ty³Çme
 
	g¡d
::
’abË_if
<

206 
š‹º®
::
BufãrCom·t
<
T
, 
	gU
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

207 
S‘D©a
(cÚ¡ 
U
* 
d©a
, 
size_t
 
size
) {

208 
RTC_DCHECK
(
IsCÚsi¡’t
());

209 cÚ¡ 
size_t
 
	gŞd_size
 = 
size_
;

210 
	gsize_
 = 0;

211 
Aµ’dD©a
(
d©a
, 
size
);

212 ià(
	gZ”oOnF»e
 && 
	gsize_
 < 
	gŞd_size
) {

213 
Z”oT¿šgD©a
(
Şd_size
 - 
size_
);

217 
	g‹m¶©e
 <
ty³Çme
 
	gU
,

218 
size_t
 
	gN
,

219 
ty³Çme
 
	g¡d
::
’abË_if
<

220 
š‹º®
::
BufãrCom·t
<
T
, 
	gU
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

221 
S‘D©a
(cÚ¡ 
U
 (&
¬¿y
)[
N
]) {

222 
S‘D©a
(
¬¿y
, 
N
);

225 
	g‹m¶©e
 <
ty³Çme
 
	gW
,

226 
ty³Çme
 
	g¡d
::
’abË_if
<

227 
HasD©aAndSize
<cÚ¡ 
W
, cÚ¡ 
	gT
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

228 
S‘D©a
(cÚ¡ 
W
& 
w
) {

229 
S‘D©a
(
w
.
d©a
(), w.
size
());

241 
	g‹m¶©e
 <
ty³Çme
 
	gU
 = 
T
,

242 
ty³Çme
 
	gF
,

243 
ty³Çme
 
	g¡d
::
’abË_if
<

244 
š‹º®
::
BufãrCom·t
<
T
, 
	gU
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

245 
size_t
 
S‘D©a
(size_ˆ
max_–em’ts
, 
F
&& 
£‰”
) {

246 
RTC_DCHECK
(
IsCÚsi¡’t
());

247 cÚ¡ 
size_t
 
	gŞd_size
 = 
size_
;

248 
	gsize_
 = 0;

249 cÚ¡ 
size_t
 
	gwr™‹n
 = 
Aµ’dD©a
<
U
>(
max_–em’ts
, 
	g¡d
::
fÜw¬d
<
F
>(
£‰”
));

250 ià(
	gZ”oOnF»e
 && 
	gsize_
 < 
	gŞd_size
) {

251 
Z”oT¿šgD©a
(
Şd_size
 - 
size_
);

253  
	gwr™‹n
;

258 
	g‹m¶©e
 <
ty³Çme
 
	gU
,

259 
ty³Çme
 
	g¡d
::
’abË_if
<

260 
š‹º®
::
BufãrCom·t
<
T
, 
	gU
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

261 
Aµ’dD©a
(cÚ¡ 
U
* 
d©a
, 
size_t
 
size
) {

262 
RTC_DCHECK
(
IsCÚsi¡’t
());

263 cÚ¡ 
size_t
 
	gÃw_size
 = 
size_
 + 
size
;

264 
Ensu»C­ac™yW™hH—droom
(
Ãw_size
, 
Œue
);

265 
¡©ic_as£¹
((
T
è=ğ(
U
), "");

266 
	g¡d
::
memıy
(
d©a_
.
g‘
(è+ 
size_
, 
d©a
, 
size
 * (
U
));

267 
	gsize_
 = 
Ãw_size
;

268 
RTC_DCHECK
(
IsCÚsi¡’t
());

271 
	g‹m¶©e
 <
ty³Çme
 
	gU
,

272 
size_t
 
	gN
,

273 
ty³Çme
 
	g¡d
::
’abË_if
<

274 
š‹º®
::
BufãrCom·t
<
T
, 
	gU
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

275 
Aµ’dD©a
(cÚ¡ 
U
 (&
¬¿y
)[
N
]) {

276 
Aµ’dD©a
(
¬¿y
, 
N
);

279 
	g‹m¶©e
 <
ty³Çme
 
	gW
,

280 
ty³Çme
 
	g¡d
::
’abË_if
<

281 
HasD©aAndSize
<cÚ¡ 
W
, cÚ¡ 
	gT
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

282 
Aµ’dD©a
(cÚ¡ 
W
& 
w
) {

283 
Aµ’dD©a
(
w
.
d©a
(), w.
size
());

286 
	g‹m¶©e
 <
ty³Çme
 
	gU
,

287 
ty³Çme
 
	g¡d
::
’abË_if
<

288 
š‹º®
::
BufãrCom·t
<
T
, 
	gU
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

289 
Aµ’dD©a
(cÚ¡ 
U
& 
™em
) {

290 
Aµ’dD©a
(&
™em
, 1);

302 
	g‹m¶©e
 <
ty³Çme
 
	gU
 = 
T
,

303 
ty³Çme
 
	gF
,

304 
ty³Çme
 
	g¡d
::
’abË_if
<

305 
š‹º®
::
BufãrCom·t
<
T
, 
	gU
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

306 
size_t
 
Aµ’dD©a
(size_ˆ
max_–em’ts
, 
F
&& 
£‰”
) {

307 
RTC_DCHECK
(
IsCÚsi¡’t
());

308 cÚ¡ 
size_t
 
	gŞd_size
 = 
size_
;

309 
S‘Size
(
Şd_size
 + 
max_–em’ts
);

310 
U
* 
	gba£_±r
 = 
d©a
<U>(è+ 
Şd_size
;

311 
size_t
 
	gwr™‹n_–em’ts
 = 
£‰”
(
¹c
::
A¼ayV›w
<
U
>(
ba£_±r
, 
max_–em’ts
));

313 
RTC_CHECK_LE
(
wr™‹n_–em’ts
, 
max_–em’ts
);

314 
	gsize_
 = 
Şd_size
 + 
wr™‹n_–em’ts
;

315 
RTC_DCHECK
(
IsCÚsi¡’t
());

316  
	gwr™‹n_–em’ts
;

323 
S‘Size
(
size_t
 
size
) {

324 cÚ¡ 
size_t
 
	gŞd_size
 = 
size_
;

325 
Ensu»C­ac™yW™hH—droom
(
size
, 
Œue
);

326 
	gsize_
 = 
size
;

327 ià(
	gZ”oOnF»e
 && 
	gsize_
 < 
	gŞd_size
) {

328 
Z”oT¿šgD©a
(
Şd_size
 - 
size_
);

335 
Ensu»C­ac™y
(
size_t
 
ÿ·c™y
) {

338 
Ensu»C­ac™yW™hH—droom
(
ÿ·c™y
, 
çl£
);

343 
CË¬
() {

344 
MaybeZ”oCom¶‘eBufãr
();

345 
	gsize_
 = 0;

346 
RTC_DCHECK
(
IsCÚsi¡’t
());

350 
ä›nd
 
sw­
(
BufãrT
& 
a
, BufãrT& 
b
) {

351 
usšg
 
	g¡d
::
sw­
;

352 
sw­
(
a
.
size_
, 
b
.size_);

353 
sw­
(
a
.
ÿ·c™y_
, 
b
.capacity_);

354 
sw­
(
a
.
d©a_
, 
b
.data_);

357 
	g´iv©e
:

358 
Ensu»C­ac™yW™hH—droom
(
size_t
 
ÿ·c™y
, 
boŞ
 
exŒa_h—droom
) {

359 
RTC_DCHECK
(
IsCÚsi¡’t
());

360 ià(
	gÿ·c™y
 <ğ
ÿ·c™y_
)

368 cÚ¡ 
size_t
 
	gÃw_ÿ·c™y
 =

369 
exŒa_h—droom
 ? 
¡d
::
max
(
ÿ·c™y
, 
ÿ·c™y_
 + capacity_ / 2)

370 : 
ÿ·c™y
;

372 
	g¡d
::
unique_±r
<
T
[]> 
Ãw_d©a
(
Ãw
 T[
Ãw_ÿ·c™y
]);

373 
	g¡d
::
memıy
(
Ãw_d©a
.
g‘
(), 
d©a_
.g‘(), 
size_
 * (
T
));

374 
MaybeZ”oCom¶‘eBufãr
();

375 
	gd©a_
 = 
¡d
::
move
(
Ãw_d©a
);

376 
	gÿ·c™y_
 = 
Ãw_ÿ·c™y
;

377 
RTC_DCHECK
(
IsCÚsi¡’t
());

381 
MaybeZ”oCom¶‘eBufãr
() {

382 ià(
	gZ”oOnF»e
 && 
	gÿ·c™y_
 > 0) {

386 
Ex¶ic™Z”oMemÜy
(
d©a_
.
g‘
(), 
ÿ·c™y_
 * (
T
));

391 
Z”oT¿šgD©a
(
size_t
 
couÁ
) {

392 
RTC_DCHECK
(
IsCÚsi¡’t
());

393 
RTC_DCHECK_LE
(
couÁ
, 
ÿ·c™y_
 - 
size_
);

394 
Ex¶ic™Z”oMemÜy
(
d©a_
.
g‘
(è+ 
size_
, 
couÁ
 * (
T
));

401 
boŞ
 
IsCÚsi¡’t
() const {

402  (
	gd©a_
 || 
	gÿ·c™y_
 =ğ0è&& 
ÿ·c™y_
 >ğ
size_
;

407 
OnMovedFrom
() {

408 
RTC_DCHECK
(!
d©a_
);

409 #ià
RTC_DCHECK_IS_ON


411 
	gsize_
 = 1;

412 
	gÿ·c™y_
 = 0;

416 
	gsize_
 = 0;

417 
	gÿ·c™y_
 = 0;

421 
size_t
 
	gsize_
;

422 
size_t
 
	gÿ·c™y_
;

423 
	g¡d
::
unique_±r
<
T
[]> 
d©a_
;

427 
usšg
 
	gBufãr
 = 
BufãrT
<
ušt8_t
>;

430 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

431 
usšg
 
	gZ”oOnF»eBufãr
 = 
BufãrT
<
T
, 
	gŒue
>;

	@buffer_queue.cc

11 
	~"¹c_ba£/bufãr_queue.h
"

13 
	~<¡dšt.h
>

14 
	~<¡ršg.h
>

16 
	~<®gÜ™hm
>

18 
Çme¥aû
 
	g¹c
 {

20 
	gBufãrQueue
::
BufãrQueue
(
size_t
 
ÿ·c™y
, size_ˆ
deçuÉ_size
)

21 : 
ÿ·c™y_
(
ÿ·c™y
), 
deçuÉ_size_
(
deçuÉ_size
) {}

23 
	gBufãrQueue
::~
BufãrQueue
() {

24 
Cr™Scİe
 
cs
(&
ü™_
);

26 
Bufãr
* 
	gbufãr
 : 
queue_
) {

27 
d–‘e
 
bufãr
;

29 
Bufãr
* 
	gbufãr
 : 
ä“_li¡_
) {

30 
d–‘e
 
bufãr
;

34 
size_t
 
	gBufãrQueue
::
size
() const {

35 
Cr™Scİe
 
cs
(&
ü™_
);

36  
	gqueue_
.
size
();

39 
	gBufãrQueue
::
CË¬
() {

40 
Cr™Scİe
 
cs
(&
ü™_
);

41 !
	gqueue_
.
em±y
()) {

42 
	gä“_li¡_
.
push_back
(
queue_
.
äÚt
());

43 
	gqueue_
.
pİ_äÚt
();

47 
boŞ
 
	gBufãrQueue
::
R—dFrÚt
(* 
bufãr
, 
size_t
 
by‹s
, size_t* 
by‹s_»ad
) {

48 
Cr™Scİe
 
cs
(&
ü™_
);

49 ià(
	gqueue_
.
em±y
()) {

50  
	gçl£
;

53 
boŞ
 
	gwas_wr™abË
 = 
queue_
.
size
(è< 
ÿ·c™y_
;

54 
Bufãr
* 
	g·ck‘
 = 
queue_
.
äÚt
();

55 
	gqueue_
.
pİ_äÚt
();

57 
	gby‹s
 = 
¡d
::
mš
(
by‹s
, 
·ck‘
->
size
());

58 
memıy
(
bufãr
, 
·ck‘
->
d©a
(), 
by‹s
);

59 ià(
	gby‹s_»ad
) {

60 *
	gby‹s_»ad
 = 
by‹s
;

62 
	gä“_li¡_
.
push_back
(
·ck‘
);

63 ià(!
	gwas_wr™abË
) {

64 
NÙifyWr™abËFÜTe¡
();

66  
	gŒue
;

69 
boŞ
 
	gBufãrQueue
::
Wr™eBack
(cÚ¡ * 
bufãr
,

70 
size_t
 
by‹s
,

71 
size_t
* 
by‹s_wr™‹n
) {

72 
Cr™Scİe
 
cs
(&
ü™_
);

73 ià(
	gqueue_
.
size
(è=ğ
ÿ·c™y_
) {

74  
çl£
;

77 
boŞ
 
	gwas_»adabË
 = !
queue_
.
em±y
();

78 
Bufãr
* 
	g·ck‘
;

79 ià(!
	gä“_li¡_
.
em±y
()) {

80 
	g·ck‘
 = 
ä“_li¡_
.
back
();

81 
	gä“_li¡_
.
pİ_back
();

83 
	g·ck‘
 = 
Ãw
 
Bufãr
(
by‹s
, 
deçuÉ_size_
);

86 
	g·ck‘
->
S‘D©a
(
¡©ic_ÿ¡
<cÚ¡ 
ušt8_t
*>(
bufãr
), 
by‹s
);

87 ià(
	gby‹s_wr™‹n
) {

88 *
	gby‹s_wr™‹n
 = 
by‹s
;

90 
	gqueue_
.
push_back
(
·ck‘
);

91 ià(!
	gwas_»adabË
) {

92 
NÙifyR—dabËFÜTe¡
();

94  
	gŒue
;

	@buffer_queue.h

11 #iâdeà
RTC_BASE_BUFFER_QUEUE_H_


12 
	#RTC_BASE_BUFFER_QUEUE_H_


	)

14 
	~<¡ddef.h
>

16 
	~<deque
>

17 
	~<veùÜ
>

19 
	~"¹c_ba£/bufãr.h
"

20 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

21 
	~"¹c_ba£/ü™iÿl_£ùiÚ.h
"

22 
	~"¹c_ba£/th»ad_ªnÙ©iÚs.h
"

24 
Çme¥aû
 
	g¹c
 {

26 şas 
	cBufãrQueue
 {

27 
	gpublic
:

29 
BufãrQueue
(
size_t
 
ÿ·c™y
, size_ˆ
deçuÉ_size
);

30 
	gvœtu®
 ~
BufãrQueue
();

33 
size_t
 
size
() const;

36 
CË¬
();

41 
boŞ
 
R—dFrÚt
(* 
d©a
, 
size_t
 
by‹s
, size_t* 
by‹s_»ad
);

45 
boŞ
 
Wr™eBack
(cÚ¡ * 
d©a
, 
size_t
 
by‹s
, size_t* 
by‹s_wr™‹n
);

47 
	g´Ùeùed
:

49 
vœtu®
 
NÙifyR—dabËFÜTe¡
() {}

50 
vœtu®
 
NÙifyWr™abËFÜTe¡
() {}

52 
´iv©e
:

53 
size_t
 
ÿ·c™y_
;

54 
size_t
 
	gdeçuÉ_size_
;

55 
Cr™iÿlSeùiÚ
 
	gü™_
;

56 
	g¡d
::
deque
<
Bufãr
*> 
queue_
 
RTC_GUARDED_BY
(
ü™_
);

57 
	g¡d
::
veùÜ
<
Bufãr
*> 
ä“_li¡_
 
RTC_GUARDED_BY
(
ü™_
);

59 
RTC_DISALLOW_COPY_AND_ASSIGN
(
BufãrQueue
);

	@buffer_queue_unittest.cc

11 
	~"¹c_ba£/bufãr_queue.h
"

13 
	~<¡ršg.h
>

15 
	~"‹¡/g‹¡.h
"

17 
Çme¥aû
 
	g¹c
 {

19 
TEST
(
BufãrQueueTe¡
, 
Te¡AÎ
) {

20 cÚ¡ 
size_t
 
	gkSize
 = 16;

21 cÚ¡ 
	gš
[
kSize
 * 2 + 1] = "0123456789ABCDEFGHIJKLMNOPQRSTUV";

22 
	gout
[
kSize
 * 2];

23 
size_t
 
	gby‹s
;

24 
BufãrQueue
 
queue1
(1, 
kSize
);

25 
BufãrQueue
 
queue2
(2, 
kSize
);

28 
EXPECT_EQ
(0u, 
queue1
.
size
());

29 
EXPECT_FALSE
(
queue1
.
R—dFrÚt
(
out
, 
kSize
, &
by‹s
));

32 
EXPECT_TRUE
(
queue1
.
Wr™eBack
(
š
, 
kSize
, &
by‹s
));

33 
EXPECT_EQ
(
kSize
, 
by‹s
);

34 
EXPECT_EQ
(1u, 
queue1
.
size
());

37 
EXPECT_FALSE
(
queue1
.
Wr™eBack
(
š
, 
kSize
, &
by‹s
));

38 
EXPECT_EQ
(1u, 
queue1
.
size
());

41 
EXPECT_TRUE
(
queue1
.
R—dFrÚt
(
out
, 
kSize
, &
by‹s
));

42 
EXPECT_EQ
(
kSize
, 
by‹s
);

43 
EXPECT_EQ
(0, 
memcmp
(
š
, 
out
, 
kSize
));

46 
EXPECT_FALSE
(
queue1
.
R—dFrÚt
(
out
, 
kSize
, &
by‹s
));

47 
EXPECT_EQ
(0u, 
queue1
.
size
());

50 
EXPECT_TRUE
(
queue1
.
Wr™eBack
(
š
, 
kSize
, &
by‹s
));

51 
EXPECT_EQ
(
kSize
, 
by‹s
);

52 
EXPECT_EQ
(1u, 
queue1
.
size
());

53 
EXPECT_TRUE
(
queue1
.
R—dFrÚt
(
out
, 
kSize
 * 2, &
by‹s
));

54 
EXPECT_EQ
(
kSize
, 
by‹s
);

55 
EXPECT_EQ
(0, 
memcmp
(
š
, 
out
, 
kSize
));

56 
EXPECT_EQ
(0u, 
queue1
.
size
());

59 
EXPECT_TRUE
(
queue2
.
Wr™eBack
(
š
, 
kSize
 / 2, &
by‹s
));

60 
EXPECT_EQ
(1u, 
queue2
.
size
());

61 
EXPECT_TRUE
(
queue2
.
Wr™eBack
(
š
 + 
kSize
 / 2, kSiz/ 2, &
by‹s
));

62 
EXPECT_EQ
(2u, 
queue2
.
size
());

63 
EXPECT_TRUE
(
queue2
.
R—dFrÚt
(
out
, 
kSize
, &
by‹s
));

64 
EXPECT_EQ
(
kSize
 / 2, 
by‹s
);

65 
EXPECT_EQ
(0, 
memcmp
(
š
, 
out
, 
kSize
 / 2));

66 
EXPECT_EQ
(1u, 
queue2
.
size
());

67 
EXPECT_TRUE
(
queue2
.
R—dFrÚt
(
out
, 
kSize
, &
by‹s
));

68 
EXPECT_EQ
(
kSize
 / 2, 
by‹s
);

69 
EXPECT_EQ
(0, 
memcmp
(
š
 + 
kSize
 / 2, 
out
, kSize / 2));

70 
EXPECT_EQ
(0u, 
queue2
.
size
());

73 
EXPECT_TRUE
(
queue2
.
Wr™eBack
(
š
, 
kSize
 / 2, &
by‹s
));

74 
EXPECT_EQ
(1u, 
queue2
.
size
());

75 
EXPECT_TRUE
(
queue2
.
Wr™eBack
(
š
 + 
kSize
 / 2, kSiz/ 2, &
by‹s
));

76 
EXPECT_EQ
(2u, 
queue2
.
size
());

78 
EXPECT_TRUE
(
queue2
.
R—dFrÚt
(
out
, 
kSize
 / 4, &
by‹s
));

79 
EXPECT_EQ
(
kSize
 / 4, 
by‹s
);

80 
EXPECT_EQ
(0, 
memcmp
(
š
, 
out
, 
kSize
 / 4));

81 
EXPECT_EQ
(1u, 
queue2
.
size
());

83 
EXPECT_TRUE
(
queue2
.
R—dFrÚt
(
out
, 
kSize
, &
by‹s
));

84 
EXPECT_EQ
(
kSize
 / 2, 
by‹s
);

85 
EXPECT_EQ
(0, 
memcmp
(
š
 + 
kSize
 / 2, 
out
, kSize / 2));

86 
EXPECT_EQ
(0u, 
queue2
.
size
());

	@buffer_unittest.cc

11 
	~"¹c_ba£/bufãr.h
"

13 
	~<c¡dšt
>

14 
	~<ut™y
>

16 
	~"­i/¬¿y_v›w.h
"

17 
	~"‹¡/gmock.h
"

18 
	~"‹¡/g‹¡.h
"

20 
Çme¥aû
 
	g¹c
 {

22 
	gÇme¥aû
 {

24 
	gusšg
 ::
‹¡šg
::
EËm’tsA»
;

25 
	gusšg
 ::
‹¡šg
::
EËm’tsA»A¼ay
;

28 cÚ¡ 
ušt8_t
 
	gkTe¡D©a
[] = {0x0, 0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7,

32 
Te¡Buf
(cÚ¡ 
Bufãr
& 
b1
, 
size_t
 
size
, size_ˆ
ÿ·c™y
) {

33 
EXPECT_EQ
(
b1
.
size
(), size);

34 
EXPECT_EQ
(
b1
.
ÿ·c™y
(), capacity);

39 
TEST
(
BufãrTe¡
, 
Te¡CÚ¡ruùEm±y
) {

40 
Te¡Buf
(
Bufãr
(), 0, 0);

41 
Te¡Buf
(
Bufãr
(Buffer()), 0, 0);

42 
Te¡Buf
(
Bufãr
(0), 0, 0);

46 
Te¡Buf
(
Bufãr
(0 + 0, 10), 0, 10);

48 
Te¡Buf
(
Bufãr
(
kTe¡D©a
, 0), 0, 0);

49 
Te¡Buf
(
Bufãr
(
kTe¡D©a
, 0, 20), 0, 20);

52 
TEST
(
BufãrTe¡
, 
Te¡CÚ¡ruùD©a
) {

53 
Bufãr
 
buf
(
kTe¡D©a
, 7);

54 
EXPECT_EQ
(
buf
.
size
(), 7u);

55 
EXPECT_EQ
(
buf
.
ÿ·c™y
(), 7u);

56 
EXPECT_FALSE
(
buf
.
em±y
());

57 
EXPECT_EQ
(0, 
memcmp
(
buf
.
d©a
(), 
kTe¡D©a
, 7));

60 
TEST
(
BufãrTe¡
, 
Te¡CÚ¡ruùD©aW™hC­ac™y
) {

61 
Bufãr
 
buf
(
kTe¡D©a
, 7, 14);

62 
EXPECT_EQ
(
buf
.
size
(), 7u);

63 
EXPECT_EQ
(
buf
.
ÿ·c™y
(), 14u);

64 
EXPECT_FALSE
(
buf
.
em±y
());

65 
EXPECT_EQ
(0, 
memcmp
(
buf
.
d©a
(), 
kTe¡D©a
, 7));

68 
TEST
(
BufãrTe¡
, 
Te¡CÚ¡ruùA¼ay
) {

69 
Bufãr
 
buf
(
kTe¡D©a
);

70 
EXPECT_EQ
(
buf
.
size
(), 16u);

71 
EXPECT_EQ
(
buf
.
ÿ·c™y
(), 16u);

72 
EXPECT_FALSE
(
buf
.
em±y
());

73 
EXPECT_EQ
(0, 
memcmp
(
buf
.
d©a
(), 
kTe¡D©a
, 16));

76 
TEST
(
BufãrTe¡
, 
Te¡S‘D©a
) {

77 
Bufãr
 
buf
(
kTe¡D©a
 + 4, 7);

78 
	gbuf
.
S‘D©a
(
kTe¡D©a
, 9);

79 
EXPECT_EQ
(
buf
.
size
(), 9u);

80 
EXPECT_EQ
(
buf
.
ÿ·c™y
(), 7u * 3 / 2);

81 
EXPECT_FALSE
(
buf
.
em±y
());

82 
EXPECT_EQ
(0, 
memcmp
(
buf
.
d©a
(), 
kTe¡D©a
, 9));

83 
Bufãr
 
	gbuf2
;

84 
	gbuf2
.
S‘D©a
(
buf
);

85 
EXPECT_EQ
(
buf
.
size
(), 9u);

86 
EXPECT_EQ
(
buf
.
ÿ·c™y
(), 7u * 3 / 2);

87 
EXPECT_EQ
(0, 
memcmp
(
buf
.
d©a
(), 
kTe¡D©a
, 9));

90 
TEST
(
BufãrTe¡
, 
Te¡Aµ’dD©a
) {

91 
Bufãr
 
buf
(
kTe¡D©a
 + 4, 3);

92 
	gbuf
.
Aµ’dD©a
(
kTe¡D©a
 + 10, 2);

93 cÚ¡ 
št8_t
 
	gexp
[] = {0x4, 0x5, 0x6, 0xa, 0xb};

94 
EXPECT_EQ
(
buf
, 
Bufãr
(
exp
));

95 
Bufãr
 
	gbuf2
;

96 
	gbuf2
.
Aµ’dD©a
(
buf
);

97 
	gbuf2
.
Aµ’dD©a
(
¹c
::
A¼ayV›w
<
ušt8_t
>(
buf
));

98 cÚ¡ 
št8_t
 
	gexp2
[] = {0x4, 0x5, 0x6, 0xa, 0xb, 0x4, 0x5, 0x6, 0xa, 0xb};

99 
EXPECT_EQ
(
buf2
, 
Bufãr
(
exp2
));

102 
TEST
(
BufãrTe¡
, 
Te¡S‘AndAµ’dW™hUnknownArg
) {

103 
	sTe¡D©aCÚš”
 {

104 
size_t
 
size
() const {  3; }

105 cÚ¡ 
ušt8_t
* 
d©a
(ècÚ¡ {  
	gkTe¡D©a
; }

107 
Bufãr
 
	gbuf
;

108 
	gbuf
.
S‘D©a
(
Te¡D©aCÚš”
());

109 
EXPECT_EQ
(3u, 
buf
.
size
());

110 
EXPECT_EQ
(
Bufãr
(
kTe¡D©a
, 3), 
buf
);

111 
EXPECT_THAT
(
buf
, 
EËm’tsA»
(0, 1, 2));

112 
	gbuf
.
Aµ’dD©a
(
Te¡D©aCÚš”
());

113 
EXPECT_EQ
(6u, 
buf
.
size
());

114 
EXPECT_EQ
(0, 
memcmp
(
buf
.
d©a
(), 
kTe¡D©a
, 3));

115 
EXPECT_EQ
(0, 
memcmp
(
buf
.
d©a
(è+ 3, 
kTe¡D©a
, 3));

116 
EXPECT_THAT
(
buf
, 
EËm’tsA»
(0, 1, 2, 0, 1, 2));

119 
TEST
(
BufãrTe¡
, 
Te¡S‘SizeSm®Ër
) {

120 
Bufãr
 
	gbuf
;

121 
	gbuf
.
S‘D©a
(
kTe¡D©a
, 15);

122 
	gbuf
.
S‘Size
(10);

123 
EXPECT_EQ
(
buf
.
size
(), 10u);

124 
EXPECT_EQ
(
buf
.
ÿ·c™y
(), 15u);

125 
EXPECT_FALSE
(
buf
.
em±y
());

126 
EXPECT_EQ
(
buf
, 
Bufãr
(
kTe¡D©a
, 10));

129 
TEST
(
BufãrTe¡
, 
Te¡S‘SizeL¬g”
) {

130 
Bufãr
 
	gbuf
;

131 
	gbuf
.
S‘D©a
(
kTe¡D©a
, 15);

132 
EXPECT_EQ
(
buf
.
size
(), 15u);

133 
EXPECT_EQ
(
buf
.
ÿ·c™y
(), 15u);

134 
EXPECT_FALSE
(
buf
.
em±y
());

135 
	gbuf
.
S‘Size
(20);

136 
EXPECT_EQ
(
buf
.
size
(), 20u);

137 
EXPECT_EQ
(
buf
.
ÿ·c™y
(), 15u * 3 / 2);

138 
EXPECT_FALSE
(
buf
.
em±y
());

139 
EXPECT_EQ
(0, 
memcmp
(
buf
.
d©a
(), 
kTe¡D©a
, 15));

142 
TEST
(
BufãrTe¡
, 
Te¡Ensu»C­ac™ySm®Ër
) {

143 
Bufãr
 
buf
(
kTe¡D©a
);

144 cÚ¡ * 
	gd©a
 = 
buf
.
d©a
<>();

145 
	gbuf
.
Ensu»C­ac™y
(4);

146 
EXPECT_EQ
(
buf
.
ÿ·c™y
(), 16u);

147 
EXPECT_EQ
(
buf
.
d©a
<>(), data);

148 
EXPECT_FALSE
(
buf
.
em±y
());

149 
EXPECT_EQ
(
buf
, 
Bufãr
(
kTe¡D©a
));

152 
TEST
(
BufãrTe¡
, 
Te¡Ensu»C­ac™yL¬g”
) {

153 
Bufãr
 
buf
(
kTe¡D©a
, 5);

154 
	gbuf
.
Ensu»C­ac™y
(10);

155 cÚ¡ 
št8_t
* 
	gd©a
 = 
buf
.
d©a
<int8_t>();

156 
EXPECT_EQ
(
buf
.
ÿ·c™y
(), 10u);

157 
	gbuf
.
Aµ’dD©a
(
kTe¡D©a
 + 5, 5);

158 
EXPECT_EQ
(
buf
.
d©a
<
št8_t
>(), data);

159 
EXPECT_FALSE
(
buf
.
em±y
());

160 
EXPECT_EQ
(
buf
, 
Bufãr
(
kTe¡D©a
, 10));

163 
TEST
(
BufãrTe¡
, 
Te¡MoveCÚ¡ruù
) {

164 
Bufãr
 
buf1
(
kTe¡D©a
, 3, 40);

165 cÚ¡ 
ušt8_t
* 
	gd©a
 = 
buf1
.
d©a
();

166 
Bufãr
 
buf2
(
¡d
::
move
(
buf1
));

167 
EXPECT_EQ
(
buf2
.
size
(), 3u);

168 
EXPECT_EQ
(
buf2
.
ÿ·c™y
(), 40u);

169 
EXPECT_EQ
(
buf2
.
d©a
(), data);

170 
EXPECT_FALSE
(
buf2
.
em±y
());

171 
	gbuf1
.
CË¬
();

172 
EXPECT_EQ
(
buf1
.
size
(), 0u);

173 
EXPECT_EQ
(
buf1
.
ÿ·c™y
(), 0u);

174 
EXPECT_EQ
(
buf1
.
d©a
(), 
nuÎ±r
);

175 
EXPECT_TRUE
(
buf1
.
em±y
());

178 
TEST
(
BufãrTe¡
, 
Te¡MoveAssign
) {

179 
Bufãr
 
buf1
(
kTe¡D©a
, 3, 40);

180 cÚ¡ 
ušt8_t
* 
	gd©a
 = 
buf1
.
d©a
();

181 
Bufãr
 
buf2
(
kTe¡D©a
);

182 
	gbuf2
 = 
¡d
::
move
(
buf1
);

183 
EXPECT_EQ
(
buf2
.
size
(), 3u);

184 
EXPECT_EQ
(
buf2
.
ÿ·c™y
(), 40u);

185 
EXPECT_EQ
(
buf2
.
d©a
(), data);

186 
EXPECT_FALSE
(
buf2
.
em±y
());

187 
	gbuf1
.
CË¬
();

188 
EXPECT_EQ
(
buf1
.
size
(), 0u);

189 
EXPECT_EQ
(
buf1
.
ÿ·c™y
(), 0u);

190 
EXPECT_EQ
(
buf1
.
d©a
(), 
nuÎ±r
);

191 
EXPECT_TRUE
(
buf1
.
em±y
());

194 
TEST
(
BufãrTe¡
, 
Te¡MoveAssignS–f
) {

200 
Bufãr
 
buf
(
kTe¡D©a
, 3, 40);

201 
Bufãr
* 
	gbuf_±r
 = &
buf
;

202 
	gbuf
 = 
¡d
::
move
(*
buf_±r
);

205 
TEST
(
BufãrTe¡
, 
Te¡Sw­
) {

206 
Bufãr
 
buf1
(
kTe¡D©a
, 3);

207 
Bufãr
 
buf2
(
kTe¡D©a
, 6, 40);

208 
ušt8_t
* 
	gd©a1
 = 
buf1
.
d©a
();

209 
ušt8_t
* 
	gd©a2
 = 
buf2
.
d©a
();

210 
usšg
 
	g¡d
::
sw­
;

211 
sw­
(
buf1
, 
buf2
);

212 
EXPECT_EQ
(
buf1
.
size
(), 6u);

213 
EXPECT_EQ
(
buf1
.
ÿ·c™y
(), 40u);

214 
EXPECT_EQ
(
buf1
.
d©a
(), 
d©a2
);

215 
EXPECT_FALSE
(
buf1
.
em±y
());

216 
EXPECT_EQ
(
buf2
.
size
(), 3u);

217 
EXPECT_EQ
(
buf2
.
ÿ·c™y
(), 3u);

218 
EXPECT_EQ
(
buf2
.
d©a
(), 
d©a1
);

219 
EXPECT_FALSE
(
buf2
.
em±y
());

222 
TEST
(
BufãrTe¡
, 
Te¡CË¬
) {

223 
Bufãr
 
	gbuf
;

224 
	gbuf
.
S‘D©a
(
kTe¡D©a
, 15);

225 
EXPECT_EQ
(
buf
.
size
(), 15u);

226 
EXPECT_EQ
(
buf
.
ÿ·c™y
(), 15u);

227 
EXPECT_FALSE
(
buf
.
em±y
());

228 cÚ¡ * 
	gd©a
 = 
buf
.
d©a
<>();

229 
	gbuf
.
CË¬
();

230 
EXPECT_EQ
(
buf
.
size
(), 0u);

231 
EXPECT_EQ
(
buf
.
ÿ·c™y
(), 15u);

232 
EXPECT_EQ
(
buf
.
d©a
<>(), data);

233 
EXPECT_TRUE
(
buf
.
em±y
());

236 
TEST
(
BufãrTe¡
, 
Te¡LambdaS‘Aµ’d
) {

237 autØ
	g£‰”
 = [](
¹c
::
A¼ayV›w
<
ušt8_t
> 
av
) {

238 
i
 = 0; 
	gi
 != 15; ++i)

239 
	gav
[
i
] = 
kTe¡D©a
[i];

243 
Bufãr
 
	gbuf1
;

244 
	gbuf1
.
S‘D©a
(
kTe¡D©a
, 15);

245 
	gbuf1
.
Aµ’dD©a
(
kTe¡D©a
, 15);

247 
Bufãr
 
	gbuf2
;

248 
EXPECT_EQ
(
buf2
.
S‘D©a
(15, 
£‰”
), 15u);

249 
EXPECT_EQ
(
buf2
.
Aµ’dD©a
(15, 
£‰”
), 15u);

250 
EXPECT_EQ
(
buf1
, 
buf2
);

251 
EXPECT_EQ
(
buf1
.
ÿ·c™y
(), 
buf2
.capacity());

252 
EXPECT_FALSE
(
buf1
.
em±y
());

253 
EXPECT_FALSE
(
buf2
.
em±y
());

256 
TEST
(
BufãrTe¡
, 
Te¡LambdaS‘Aµ’dSigÃd
) {

257 autØ
	g£‰”
 = [](
¹c
::
A¼ayV›w
<
št8_t
> 
av
) {

258 
i
 = 0; 
	gi
 != 15; ++i)

259 
	gav
[
i
] = 
kTe¡D©a
[i];

263 
Bufãr
 
	gbuf1
;

264 
	gbuf1
.
S‘D©a
(
kTe¡D©a
, 15);

265 
	gbuf1
.
Aµ’dD©a
(
kTe¡D©a
, 15);

267 
Bufãr
 
	gbuf2
;

268 
EXPECT_EQ
(
buf2
.
S‘D©a
<
št8_t
>(15, 
£‰”
), 15u);

269 
EXPECT_EQ
(
buf2
.
Aµ’dD©a
<
št8_t
>(15, 
£‰”
), 15u);

270 
EXPECT_EQ
(
buf1
, 
buf2
);

271 
EXPECT_EQ
(
buf1
.
ÿ·c™y
(), 
buf2
.capacity());

272 
EXPECT_FALSE
(
buf1
.
em±y
());

273 
EXPECT_FALSE
(
buf2
.
em±y
());

276 
TEST
(
BufãrTe¡
, 
Te¡LambdaAµ’dEm±y
) {

277 autØ
	g£‰”
 = [](
¹c
::
A¼ayV›w
<
ušt8_t
> 
av
) {

278 
i
 = 0; 
	gi
 != 15; ++i)

279 
	gav
[
i
] = 
kTe¡D©a
[i];

283 
Bufãr
 
	gbuf1
;

284 
	gbuf1
.
S‘D©a
(
kTe¡D©a
, 15);

286 
Bufãr
 
	gbuf2
;

287 
EXPECT_EQ
(
buf2
.
Aµ’dD©a
(15, 
£‰”
), 15u);

288 
EXPECT_EQ
(
buf1
, 
buf2
);

289 
EXPECT_EQ
(
buf1
.
ÿ·c™y
(), 
buf2
.capacity());

290 
EXPECT_FALSE
(
buf1
.
em±y
());

291 
EXPECT_FALSE
(
buf2
.
em±y
());

294 
TEST
(
BufãrTe¡
, 
Te¡LambdaAµ’dP¬tŸl
) {

295 autØ
	g£‰”
 = [](
¹c
::
A¼ayV›w
<
ušt8_t
> 
av
) {

296 
i
 = 0; 
	gi
 != 7; ++i)

297 
	gav
[
i
] = 
kTe¡D©a
[i];

301 
Bufãr
 
	gbuf
;

302 
EXPECT_EQ
(
buf
.
Aµ’dD©a
(15, 
£‰”
), 7u);

303 
EXPECT_EQ
(
buf
.
size
(), 7u);

304 
EXPECT_GE
(
buf
.
ÿ·c™y
(), 7u);

305 
EXPECT_NE
(
buf
.
d©a
<>(), 
nuÎ±r
);

306 
EXPECT_FALSE
(
buf
.
em±y
());

309 
TEST
(
BufãrTe¡
, 
Te¡MubËLambdaS‘Aµ’d
) {

310 
ušt8_t
 
	gmagic_numb”
 = 17;

311 autØ
	g£‰”
 = [
magic_numb”
](
¹c
::
A¼ayV›w
<
ušt8_t
> 
av
è
mubË
 {

312 
i
 = 0; 
	gi
 != 15; ++i) {

313 
	gav
[
i
] = 
magic_numb”
;

314 ++
	gmagic_numb”
;

319 
EXPECT_EQ
(
magic_numb”
, 17);

321 
Bufãr
 
	gbuf
;

322 
EXPECT_EQ
(
buf
.
S‘D©a
(15, 
£‰”
), 15u);

323 
EXPECT_EQ
(
buf
.
Aµ’dD©a
(15, 
£‰”
), 15u);

324 
EXPECT_EQ
(
buf
.
size
(), 30u);

325 
EXPECT_GE
(
buf
.
ÿ·c™y
(), 30u);

326 
EXPECT_NE
(
buf
.
d©a
<>(), 
nuÎ±r
);

327 
EXPECT_FALSE
(
buf
.
em±y
());

329 
ušt8_t
 
	gi
 = 0; i !ğ
buf
.
size
(); ++i) {

330 
EXPECT_EQ
(
buf
.
d©a
()[
i
], 
magic_numb”
 + i);

334 
TEST
(
BufãrTe¡
, 
Te¡B¿ck‘R—d
) {

335 
Bufãr
 
buf
(
kTe¡D©a
, 7);

336 
EXPECT_EQ
(
buf
.
size
(), 7u);

337 
EXPECT_EQ
(
buf
.
ÿ·c™y
(), 7u);

338 
EXPECT_NE
(
buf
.
d©a
(), 
nuÎ±r
);

339 
EXPECT_FALSE
(
buf
.
em±y
());

341 
size_t
 
	gi
 = 0; i != 7u; ++i) {

342 
EXPECT_EQ
(
buf
[
i
], 
kTe¡D©a
[i]);

346 
TEST
(
BufãrTe¡
, 
Te¡B¿ck‘R—dCÚ¡
) {

347 
Bufãr
 
buf
(
kTe¡D©a
, 7);

348 
EXPECT_EQ
(
buf
.
size
(), 7u);

349 
EXPECT_EQ
(
buf
.
ÿ·c™y
(), 7u);

350 
EXPECT_NE
(
buf
.
d©a
(), 
nuÎ±r
);

351 
EXPECT_FALSE
(
buf
.
em±y
());

353 cÚ¡ 
	gBufãr
& 
	gcbuf
 = 
buf
;

355 
size_t
 
	gi
 = 0; i != 7u; ++i) {

356 
EXPECT_EQ
(
cbuf
[
i
], 
kTe¡D©a
[i]);

360 
TEST
(
BufãrTe¡
, 
Te¡B¿ck‘Wr™e
) {

361 
Bufãr
 
buf
(7);

362 
EXPECT_EQ
(
buf
.
size
(), 7u);

363 
EXPECT_EQ
(
buf
.
ÿ·c™y
(), 7u);

364 
EXPECT_NE
(
buf
.
d©a
(), 
nuÎ±r
);

365 
EXPECT_FALSE
(
buf
.
em±y
());

367 
size_t
 
	gi
 = 0; i != 7u; ++i) {

368 
	gbuf
[
i
] = 
kTe¡D©a
[i];

371 
EXPECT_THAT
(
buf
, 
EËm’tsA»A¼ay
(
kTe¡D©a
, 7));

374 
TEST
(
BufãrTe¡
, 
Te¡BegšEnd
) {

375 cÚ¡ 
Bufãr
 
cbuf
(
kTe¡D©a
);

376 
Bufãr
 
buf
(
kTe¡D©a
);

377 auto* 
	gb1
 = 
cbuf
.
begš
();

378 auto& 
	gx
 : 
buf
) {

379 
EXPECT_EQ
(*
b1
, 
x
);

380 ++
	gb1
;

381 ++
	gx
;

383 
EXPECT_EQ
(
cbuf
.
’d
(), 
b1
);

384 auto* 
	gb2
 = 
buf
.
begš
();

385 auto& 
	gy
 : 
cbuf
) {

386 
EXPECT_EQ
(*
b2
, 
y
 + 1);

387 ++
	gb2
;

389 
EXPECT_EQ
(
buf
.
’d
(), 
b2
);

392 
TEST
(
BufãrTe¡
, 
Te¡IÁ16
) {

393 
cÚ¡ex´
 
št16_t
 
	g‹¡_d©a
[] = {14, 15, 16, 17, 18};

394 
	gBufãrT
<
	gšt16_t
> 
buf
(
‹¡_d©a
);

395 
EXPECT_EQ
(
buf
.
size
(), 5u);

396 
EXPECT_EQ
(
buf
.
ÿ·c™y
(), 5u);

397 
EXPECT_NE
(
buf
.
d©a
(), 
nuÎ±r
);

398 
EXPECT_FALSE
(
buf
.
em±y
());

399 
EXPECT_THAT
(
buf
, 
EËm’tsA»A¼ay
(
‹¡_d©a
));

400 
	gBufãrT
<
	gšt16_t
> 
buf2
(
‹¡_d©a
);

401 
EXPECT_EQ
(
buf
, 
buf2
);

402 
	gbuf2
[0] = 9;

403 
EXPECT_NE
(
buf
, 
buf2
);

406 
TEST
(
BufãrTe¡
, 
Te¡Flßt
) {

407 
cÚ¡ex´
 
	g‹¡_d©a
[] = {14, 15, 16, 17, 18};

408 
	gBufãrT
<> 
	gbuf
;

409 
EXPECT_EQ
(
buf
.
size
(), 0u);

410 
EXPECT_EQ
(
buf
.
ÿ·c™y
(), 0u);

411 
EXPECT_EQ
(
buf
.
d©a
(), 
nuÎ±r
);

412 
EXPECT_TRUE
(
buf
.
em±y
());

413 
	gbuf
.
S‘D©a
(
‹¡_d©a
);

414 
EXPECT_EQ
(
buf
.
size
(), 5u);

415 
EXPECT_EQ
(
buf
.
ÿ·c™y
(), 5u);

416 
EXPECT_NE
(
buf
.
d©a
(), 
nuÎ±r
);

417 
EXPECT_FALSE
(
buf
.
em±y
());

418 * 
	gp1
 = 
buf
.
d©a
();

419 
	gbuf
.
d©a
(è=ğ
p1
) {

420 
buf
.
Aµ’dD©a
(
‹¡_d©a
);

422 
EXPECT_EQ
(
buf
.
size
(), buf.
ÿ·c™y
());

423 
EXPECT_GT
(
buf
.
size
(), 5u);

424 
EXPECT_EQ
(
buf
.
size
() % 5, 0u);

425 
EXPECT_NE
(
buf
.
d©a
(), 
nuÎ±r
);

426 
size_t
 
	gi
 = 0; i !ğ
buf
.
size
(); ++i) {

427 
EXPECT_EQ
(
‹¡_d©a
[
i
 % 5], 
buf
[i]);

431 
TEST
(
BufãrTe¡
, 
Te¡SŒuù
) {

432 
	sBloodStÚe
 {

433 
boŞ
 
	gblood
;

434 cÚ¡ * 
	g¡Úe
;

436 
	gBufãrT
<
	gBloodStÚe
> 
buf
(4);

437 
EXPECT_EQ
(
buf
.
size
(), 4u);

438 
EXPECT_EQ
(
buf
.
ÿ·c™y
(), 4u);

439 
EXPECT_NE
(
buf
.
d©a
(), 
nuÎ±r
);

440 
EXPECT_FALSE
(
buf
.
em±y
());

441 
	gBufãrT
<
	gBloodStÚe
*> 
buf2
(4);

442 
size_t
 
	gi
 = 0; i < 
	gbuf2
.
size
(); ++i) {

443 
	gbuf2
[
i
] = &
buf
[i];

445 cÚ¡ 
	gkObsidŸn
[] = "obsidian";

446 
	gbuf2
[2]->
	g¡Úe
 = 
kObsidŸn
;

447 
EXPECT_EQ
(
kObsidŸn
, 
buf
[2].
¡Úe
);

450 
TEST
(
BufãrTe¡
, 
D›OnU£Aá”Move
) {

451 
Bufãr
 
buf
(17);

452 
Bufãr
 
	gbuf2
 = 
¡d
::
move
(
buf
);

453 
EXPECT_EQ
(
buf2
.
size
(), 17u);

454 #ià
RTC_DCHECK_IS_ON


455 #ià
GTEST_HAS_DEATH_TEST
 && !
defšed
(
WEBRTC_ANDROID
)

456 
EXPECT_DEATH
(
buf
.
em±y
(), "");

459 
EXPECT_TRUE
(
buf
.
em±y
());

463 
TEST
(
Z”oOnF»eBufãrTe¡
, 
Te¡Z”oOnS‘D©a
) {

464 
	gZ”oOnF»eBufãr
<
	gušt8_t
> 
buf
(
kTe¡D©a
, 7);

465 cÚ¡ 
ušt8_t
* 
	gŞd_d©a
 = 
buf
.
d©a
();

466 cÚ¡ 
size_t
 
	gŞd_ÿ·c™y
 = 
buf
.
ÿ·c™y
();

467 cÚ¡ 
size_t
 
	gŞd_size
 = 
buf
.
size
();

468 
cÚ¡ex´
 
size_t
 
	goff£t
 = 1;

469 
	gbuf
.
S‘D©a
(
kTe¡D©a
 + 
off£t
, 2);

471 
EXPECT_EQ
(
Şd_d©a
, 
buf
.
d©a
());

472 
EXPECT_EQ
(
Şd_ÿ·c™y
, 
buf
.
ÿ·c™y
());

475 
EXPECT_EQ
(
kTe¡D©a
[
off£t
], 
buf
[0]);

476 
EXPECT_EQ
(
kTe¡D©a
[
off£t
 + 1], 
buf
[1]);

477 
size_t
 
	gi
 = 2; i < 
	gŞd_size
; i++) {

478 
EXPECT_EQ
(0, 
Şd_d©a
[
i
]);

482 
TEST
(
Z”oOnF»eBufãrTe¡
, 
Te¡Z”oOnS‘D©aFromS‘‹r
) {

483 
cÚ¡ex´
 
size_t
 
	goff£t
 = 1;

484 cÚ¡‡utØ
	g£‰”
 = [](
¹c
::
A¼ayV›w
<
ušt8_t
> 
av
) {

485 
i
 = 0; 
	gi
 != 2; ++i)

486 
	gav
[
i
] = 
kTe¡D©a
[
off£t
 + i];

490 
	gZ”oOnF»eBufãr
<
	gušt8_t
> 
buf
(
kTe¡D©a
, 7);

491 cÚ¡ 
ušt8_t
* 
	gŞd_d©a
 = 
buf
.
d©a
();

492 cÚ¡ 
size_t
 
	gŞd_ÿ·c™y
 = 
buf
.
ÿ·c™y
();

493 cÚ¡ 
size_t
 
	gŞd_size
 = 
buf
.
size
();

494 
	gbuf
.
S‘D©a
(2, 
£‰”
);

496 
EXPECT_EQ
(
Şd_d©a
, 
buf
.
d©a
());

497 
EXPECT_EQ
(
Şd_ÿ·c™y
, 
buf
.
ÿ·c™y
());

500 
EXPECT_EQ
(
kTe¡D©a
[
off£t
], 
buf
[0]);

501 
EXPECT_EQ
(
kTe¡D©a
[
off£t
 + 1], 
buf
[1]);

502 
size_t
 
	gi
 = 2; i < 
	gŞd_size
; i++) {

503 
EXPECT_EQ
(0, 
Şd_d©a
[
i
]);

507 
TEST
(
Z”oOnF»eBufãrTe¡
, 
Te¡Z”oOnS‘Size
) {

508 
	gZ”oOnF»eBufãr
<
	gušt8_t
> 
buf
(
kTe¡D©a
, 7);

509 cÚ¡ 
ušt8_t
* 
	gŞd_d©a
 = 
buf
.
d©a
();

510 cÚ¡ 
size_t
 
	gŞd_ÿ·c™y
 = 
buf
.
ÿ·c™y
();

511 cÚ¡ 
size_t
 
	gŞd_size
 = 
buf
.
size
();

512 
	gbuf
.
S‘Size
(2);

514 
EXPECT_EQ
(
Şd_d©a
, 
buf
.
d©a
());

515 
EXPECT_EQ
(
Şd_ÿ·c™y
, 
buf
.
ÿ·c™y
());

518 
EXPECT_EQ
(
kTe¡D©a
[0], 
buf
[0]);

519 
EXPECT_EQ
(
kTe¡D©a
[1], 
buf
[1]);

520 
size_t
 
	gi
 = 2; i < 
	gŞd_size
; i++) {

521 
EXPECT_EQ
(0, 
Şd_d©a
[
i
]);

525 
TEST
(
Z”oOnF»eBufãrTe¡
, 
Te¡Z”oOnCË¬
) {

526 
	gZ”oOnF»eBufãr
<
	gušt8_t
> 
buf
(
kTe¡D©a
, 7);

527 cÚ¡ 
ušt8_t
* 
	gŞd_d©a
 = 
buf
.
d©a
();

528 cÚ¡ 
size_t
 
	gŞd_ÿ·c™y
 = 
buf
.
ÿ·c™y
();

529 cÚ¡ 
size_t
 
	gŞd_size
 = 
buf
.
size
();

530 
	gbuf
.
CË¬
();

532 
EXPECT_EQ
(
Şd_d©a
, 
buf
.
d©a
());

533 
EXPECT_EQ
(
Şd_ÿ·c™y
, 
buf
.
ÿ·c™y
());

535 
size_t
 
	gi
 = 0; i < 
	gŞd_size
; i++) {

536 
EXPECT_EQ
(0, 
Şd_d©a
[
i
]);

	@byte_buffer.cc

11 
	~"¹c_ba£/by‹_bufãr.h
"

13 
	~<¡ršg.h
>

15 
Çme¥aû
 
	g¹c
 {

17 
	gBy‹BufãrWr™”
::
By‹BufãrWr™”
(è: 
By‹BufãrWr™”T
() {}

19 
By‹BufãrWr™”
::By‹BufãrWr™”(cÚ¡ * 
by‹s
, 
size_t
 
Ën
)

20 : 
By‹BufãrWr™”T
(
by‹s
, 
Ën
) {}

22 
	gBy‹BufãrR—d”
::
By‹BufãrR—d”
(cÚ¡ * 
by‹s
, 
size_t
 
Ën
) {

23 
CÚ¡ruù
(
by‹s
, 
Ën
);

26 
	gBy‹BufãrR—d”
::
By‹BufãrR—d”
(cÚ¡ * 
by‹s
) {

27 
CÚ¡ruù
(
by‹s
, 
¡¾’
(bytes));

30 
	gBy‹BufãrR—d”
::
By‹BufãrR—d”
(cÚ¡ 
Bufãr
& 
buf
) {

31 
CÚ¡ruù
(
buf
.
d©a
<>(), buf.
size
());

34 
	gBy‹BufãrR—d”
::
By‹BufãrR—d”
(cÚ¡ 
By‹BufãrWr™”
& 
buf
) {

35 
CÚ¡ruù
(
buf
.
D©a
(), buf.
L’gth
());

38 
	gBy‹BufãrR—d”
::
CÚ¡ruù
(cÚ¡ * 
by‹s
, 
size_t
 
Ën
) {

39 
	gby‹s_
 = 
by‹s
;

40 
	gsize_
 = 
Ën
;

41 
	g¡¬t_
 = 0;

42 
	g’d_
 = 
Ën
;

45 
boŞ
 
	gBy‹BufãrR—d”
::
R—dUIÁ8
(
ušt8_t
* 
v®
) {

46 ià(!
v®
)

47  
çl£
;

49  
R—dBy‹s
(
»š‹½»t_ÿ¡
<*>(
v®
), 1);

52 
boŞ
 
	gBy‹BufãrR—d”
::
R—dUIÁ16
(
ušt16_t
* 
v®
) {

53 ià(!
v®
)

54  
çl£
;

56 
ušt16_t
 
	gv
;

57 ià(!
R—dBy‹s
(
»š‹½»t_ÿ¡
<*>(&
v
), 2)) {

58  
	gçl£
;

60 *
	gv®
 = 
N‘wÜkToHo¡16
(
v
);

61  
	gŒue
;

65 
boŞ
 
	gBy‹BufãrR—d”
::
R—dUIÁ24
(
ušt32_t
* 
v®
) {

66 ià(!
v®
)

67  
çl£
;

69 
ušt32_t
 
	gv
 = 0;

70 * 
	g»ad_što
 = 
»š‹½»t_ÿ¡
<*>(&
v
);

71 ++
	g»ad_što
;

73 ià(!
R—dBy‹s
(
»ad_što
, 3)) {

74  
	gçl£
;

76 *
	gv®
 = 
N‘wÜkToHo¡32
(
v
);

77  
	gŒue
;

81 
boŞ
 
	gBy‹BufãrR—d”
::
R—dUIÁ32
(
ušt32_t
* 
v®
) {

82 ià(!
v®
)

83  
çl£
;

85 
ušt32_t
 
	gv
;

86 ià(!
R—dBy‹s
(
»š‹½»t_ÿ¡
<*>(&
v
), 4)) {

87  
	gçl£
;

89 *
	gv®
 = 
N‘wÜkToHo¡32
(
v
);

90  
	gŒue
;

94 
boŞ
 
	gBy‹BufãrR—d”
::
R—dUIÁ64
(
ušt64_t
* 
v®
) {

95 ià(!
v®
)

96  
çl£
;

98 
ušt64_t
 
	gv
;

99 ià(!
R—dBy‹s
(
»š‹½»t_ÿ¡
<*>(&
v
), 8)) {

100  
	gçl£
;

102 *
	gv®
 = 
N‘wÜkToHo¡64
(
v
);

103  
	gŒue
;

107 
boŞ
 
	gBy‹BufãrR—d”
::
R—dUV¬št
(
ušt64_t
* 
v®
) {

108 ià(!
v®
) {

109  
çl£
;

113 
ušt64_t
 
	gv
 = 0;

114 
	gi
 = 0; i < 64; i += 7) {

115 
by‹
;

116 ià(!
R—dBy‹s
(&
by‹
, 1)) {

117  
	gçl£
;

120 
	gv
 |ğ(
¡©ic_ÿ¡
<
ušt64_t
>(
by‹
è& 0x7Fè<< 
i
;

122 ià(
	g¡©ic_ÿ¡
<
	gušt64_t
>(
	gby‹
) < 0x80) {

123 *
	gv®
 = 
v
;

124  
	gŒue
;

127  
	gçl£
;

130 
boŞ
 
	gBy‹BufãrR—d”
::
R—dSŒšg
(
¡d
::
¡ršg
* 
v®
, 
size_t
 
Ën
) {

131 ià(!
	gv®
)

132  
	gçl£
;

134 ià(
	gËn
 > 
L’gth
()) {

135  
	gçl£
;

137 
	gv®
->
­³nd
(
by‹s_
 + 
¡¬t_
, 
Ën
);

138 
	g¡¬t_
 +ğ
Ën
;

139  
	gŒue
;

143 
boŞ
 
	gBy‹BufãrR—d”
::
R—dBy‹s
(* 
v®
, 
size_t
 
Ën
) {

144 ià(
	gËn
 > 
L’gth
()) {

145  
	gçl£
;

147 
memıy
(
v®
, 
by‹s_
 + 
¡¬t_
, 
Ën
);

148 
	g¡¬t_
 +ğ
Ën
;

149  
	gŒue
;

153 
boŞ
 
	gBy‹BufãrR—d”
::
CÚsume
(
size_t
 
size
) {

154 ià(
size
 > 
L’gth
())

155  
çl£
;

156 
	g¡¬t_
 +ğ
size
;

157  
	gŒue
;

	@byte_buffer.h

11 #iâdeà
RTC_BASE_BYTE_BUFFER_H_


12 
	#RTC_BASE_BYTE_BUFFER_H_


	)

14 
	~<¡ddef.h
>

15 
	~<¡dšt.h
>

17 
	~<¡ršg
>

19 
	~"¹c_ba£/bufãr.h
"

20 
	~"¹c_ba£/by‹_Üd”.h
"

21 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

24 
Çme¥aû
 
	g¹c
 {

26 
	g‹m¶©e
 <
şass
 
	gBufãrCÏssT
>

27 şas 
	cBy‹BufãrWr™”T
 {

28 
	gpublic
:

29 
By‹BufãrWr™”T
(è{ 
CÚ¡ruù
(
nuÎ±r
, 
kDeçuÉC­ac™y
); }

30 
By‹BufãrWr™”T
(cÚ¡ * 
by‹s
, 
size_t
 
Ën
è{ 
CÚ¡ruù
(bytes,†en); }

32 cÚ¡ * 
D©a
(ècÚ¡ {  
	gbufãr_
.
d©a
(); }

33 
size_t
 
L’gth
(ècÚ¡ {  
	gbufãr_
.
size
(); }

34 
size_t
 
C­ac™y
(ècÚ¡ {  
	gbufãr_
.
ÿ·c™y
(); }

38 
Wr™eUIÁ8
(
ušt8_t
 
v®
) {

39 
Wr™eBy‹s
(
»š‹½»t_ÿ¡
<cÚ¡ *>(&
v®
), 1);

41 
Wr™eUIÁ16
(
ušt16_t
 
v®
) {

42 
ušt16_t
 
	gv
 = 
Ho¡ToN‘wÜk16
(
v®
);

43 
Wr™eBy‹s
(
»š‹½»t_ÿ¡
<cÚ¡ *>(&
v
), 2);

45 
Wr™eUIÁ24
(
ušt32_t
 
v®
) {

46 
ušt32_t
 
	gv
 = 
Ho¡ToN‘wÜk32
(
v®
);

47 * 
	g¡¬t
 = 
»š‹½»t_ÿ¡
<*>(&
v
);

48 ++
	g¡¬t
;

49 
Wr™eBy‹s
(
¡¬t
, 3);

51 
Wr™eUIÁ32
(
ušt32_t
 
v®
) {

52 
ušt32_t
 
	gv
 = 
Ho¡ToN‘wÜk32
(
v®
);

53 
Wr™eBy‹s
(
»š‹½»t_ÿ¡
<cÚ¡ *>(&
v
), 4);

55 
Wr™eUIÁ64
(
ušt64_t
 
v®
) {

56 
ušt64_t
 
	gv
 = 
Ho¡ToN‘wÜk64
(
v®
);

57 
Wr™eBy‹s
(
»š‹½»t_ÿ¡
<cÚ¡ *>(&
v
), 8);

62 
Wr™eUV¬št
(
ušt64_t
 
v®
) {

63 
	gv®
 >= 0x80) {

66 
by‹
 = 
¡©ic_ÿ¡
<>(
v®
) | 0x80;

67 
Wr™eBy‹s
(&
by‹
, 1);

68 
	gv®
 >>= 7;

70 
	gÏ¡_by‹
 = 
¡©ic_ÿ¡
<>(
v®
);

71 
Wr™eBy‹s
(&
Ï¡_by‹
, 1);

73 
Wr™eSŒšg
(cÚ¡ 
¡d
::
¡ršg
& 
v®
) {

74 
Wr™eBy‹s
(
v®
.
c_¡r
(), v®.
size
());

76 
Wr™eBy‹s
(cÚ¡ * 
v®
, 
size_t
 
Ën
è{ 
	gbufãr_
.
Aµ’dD©a
(val,†en); }

81 * 
Re£rveWr™eBufãr
(
size_t
 
Ën
) {

82 
	gbufãr_
.
S‘Size
(
bufãr_
.
size
(è+ 
Ën
);

83  
	gbufãr_
.
d©a
();

87 
Resize
(
size_t
 
size
è{ 
	gbufãr_
.
S‘Size
(size); }

90 
CË¬
(è{ 
	gbufãr_
.Clear(); }

92 
	g´iv©e
:

93 
cÚ¡ex´
 
size_t
 
kDeçuÉC­ac™y
 = 4096;

95 
CÚ¡ruù
(cÚ¡ * 
by‹s
, 
size_t
 
size
) {

96 ià(
	gby‹s
) {

97 
	gbufãr_
.
Aµ’dD©a
(
by‹s
, 
size
);

99 
	gbufãr_
.
Ensu»C­ac™y
(
size
);

103 
BufãrCÏssT
 
	gbufãr_
;

107 
RTC_DISALLOW_COPY_AND_ASSIGN
(
By‹BufãrWr™”T
);

110 
şass
 
	gBy‹BufãrWr™”
 : 
public
 
By‹BufãrWr™”T
<
BufãrT
<>> {

111 
public
:

112 
By‹BufãrWr™”
();

113 
By‹BufãrWr™”
(cÚ¡ * 
by‹s
, 
size_t
 
Ën
);

115 
	g´iv©e
:

116 
RTC_DISALLOW_COPY_AND_ASSIGN
(
By‹BufãrWr™”
);

121 şas 
	cBy‹BufãrR—d”
 {

122 
	gpublic
:

123 
By‹BufãrR—d”
(cÚ¡ * 
by‹s
, 
size_t
 
Ën
);

126 
ex¶ic™
 
By‹BufãrR—d”
(cÚ¡ * 
by‹s
);

128 
ex¶ic™
 
By‹BufãrR—d”
(cÚ¡ 
Bufãr
& 
buf
);

130 
ex¶ic™
 
By‹BufãrR—d”
(cÚ¡ 
By‹BufãrWr™”
& 
buf
);

133 cÚ¡ * 
D©a
(ècÚ¡ {  
	gby‹s_
 + 
	g¡¬t_
; }

135 
size_t
 
L’gth
(ècÚ¡ {  
	g’d_
 - 
	g¡¬t_
; }

139 
boŞ
 
R—dUIÁ8
(
ušt8_t
* 
v®
);

140 
boŞ
 
R—dUIÁ16
(
ušt16_t
* 
v®
);

141 
boŞ
 
R—dUIÁ24
(
ušt32_t
* 
v®
);

142 
boŞ
 
R—dUIÁ32
(
ušt32_t
* 
v®
);

143 
boŞ
 
R—dUIÁ64
(
ušt64_t
* 
v®
);

144 
boŞ
 
R—dUV¬št
(
ušt64_t
* 
v®
);

145 
boŞ
 
R—dBy‹s
(* 
v®
, 
size_t
 
Ën
);

149 
boŞ
 
R—dSŒšg
(
¡d
::
¡ršg
* 
v®
, 
size_t
 
Ën
);

155 
boŞ
 
CÚsume
(
size_t
 
size
);

157 
	g´Ùeùed
:

158 
CÚ¡ruù
(cÚ¡ * 
by‹s
, 
size_t
 
size
);

160 cÚ¡ * 
	gby‹s_
;

161 
size_t
 
	gsize_
;

162 
size_t
 
	g¡¬t_
;

163 
size_t
 
	g’d_
;

165 
	g´iv©e
:

166 
RTC_DISALLOW_COPY_AND_ASSIGN
(
By‹BufãrR—d”
);

	@byte_buffer_unittest.cc

11 
	~"¹c_ba£/by‹_bufãr.h
"

13 
	~<¡ršg.h
>

15 
	~"¹c_ba£/¬¿ysize.h
"

16 
	~"¹c_ba£/by‹_Üd”.h
"

17 
	~"‹¡/g‹¡.h
"

19 
Çme¥aû
 
	g¹c
 {

21 
TEST
(
By‹BufãrTe¡
, 
Te¡By‹Ord”
) {

22 
ušt16_t
 
	gn16
 = 1;

23 
ušt32_t
 
	gn32
 = 1;

24 
ušt64_t
 
	gn64
 = 1;

26 
EXPECT_EQ
(
n16
, 
N‘wÜkToHo¡16
(
Ho¡ToN‘wÜk16
(n16)));

27 
EXPECT_EQ
(
n32
, 
N‘wÜkToHo¡32
(
Ho¡ToN‘wÜk32
(n32)));

28 
EXPECT_EQ
(
n64
, 
N‘wÜkToHo¡64
(
Ho¡ToN‘wÜk64
(n64)));

30 ià(
IsHo¡BigEndŸn
()) {

32 
EXPECT_EQ
(
n16
, 
Ho¡ToN‘wÜk16
(n16));

33 
EXPECT_EQ
(
n32
, 
Ho¡ToN‘wÜk32
(n32));

34 
EXPECT_EQ
(
n64
, 
Ho¡ToN‘wÜk64
(n64));

37 
EXPECT_EQ
(
n16
 >> 8, 
G‘BE16
(&n16));

38 
EXPECT_EQ
(
n32
 >> 24, 
G‘BE32
(&n32));

39 
EXPECT_EQ
(
n64
 >> 56, 
G‘BE64
(&n64));

42 
EXPECT_NE
(
n16
, 
Ho¡ToN‘wÜk16
(n16));

43 
EXPECT_NE
(
n32
, 
Ho¡ToN‘wÜk32
(n32));

44 
EXPECT_NE
(
n64
, 
Ho¡ToN‘wÜk64
(n64));

47 
EXPECT_EQ
(
G‘BE16
(&
n16
), 
Ho¡ToN‘wÜk16
(n16));

48 
EXPECT_EQ
(
G‘BE32
(&
n32
), 
Ho¡ToN‘wÜk32
(n32));

49 
EXPECT_EQ
(
G‘BE64
(&
n64
), 
Ho¡ToN‘wÜk64
(n64));

52 
EXPECT_EQ
(
n16
 << 8, 
G‘BE16
(&n16));

53 
EXPECT_EQ
(
n32
 << 24, 
G‘BE32
(&n32));

54 
EXPECT_EQ
(
n64
 << 56, 
G‘BE64
(&n64));

58 
TEST
(
By‹BufãrTe¡
, 
Te¡BufãrL’gth
) {

59 
By‹BufãrWr™”
 
	gbufãr
;

60 
size_t
 
	gsize
 = 0;

61 
EXPECT_EQ
(
size
, 
bufãr
.
L’gth
());

63 
	gbufãr
.
Wr™eUIÁ8
(1);

64 ++
	gsize
;

65 
EXPECT_EQ
(
size
, 
bufãr
.
L’gth
());

67 
	gbufãr
.
Wr™eUIÁ16
(1);

68 
	gsize
 += 2;

69 
EXPECT_EQ
(
size
, 
bufãr
.
L’gth
());

71 
	gbufãr
.
Wr™eUIÁ24
(1);

72 
	gsize
 += 3;

73 
EXPECT_EQ
(
size
, 
bufãr
.
L’gth
());

75 
	gbufãr
.
Wr™eUIÁ32
(1);

76 
	gsize
 += 4;

77 
EXPECT_EQ
(
size
, 
bufãr
.
L’gth
());

79 
	gbufãr
.
Wr™eUIÁ64
(1);

80 
	gsize
 += 8;

81 
EXPECT_EQ
(
size
, 
bufãr
.
L’gth
());

84 
TEST
(
By‹BufãrTe¡
, 
Te¡R—dWr™eBufãr
) {

85 
By‹BufãrWr™”
 
	gbufãr
;

86 
By‹BufãrR—d”
 
»ad_buf
(
nuÎ±r
, 0);

87 
ušt8_t
 
	gru8
;

88 
EXPECT_FALSE
(
»ad_buf
.
R—dUIÁ8
(&
ru8
));

91 
ušt8_t
 
	gwu8
 = 1;

92 
	gbufãr
.
Wr™eUIÁ8
(
wu8
);

93 
By‹BufãrR—d”
 
»ad_buf1
(
bufãr
.
D©a
(), bufãr.
L’gth
());

94 
EXPECT_TRUE
(
»ad_buf1
.
R—dUIÁ8
(&
ru8
));

95 
EXPECT_EQ
(
wu8
, 
ru8
);

96 
EXPECT_EQ
(0U, 
»ad_buf1
.
L’gth
());

97 
	gbufãr
.
CË¬
();

100 
ušt16_t
 
	gwu16
 = (1 << 8) + 1;

101 
	gbufãr
.
Wr™eUIÁ16
(
wu16
);

102 
By‹BufãrR—d”
 
»ad_buf2
(
bufãr
.
D©a
(), bufãr.
L’gth
());

103 
ušt16_t
 
	gru16
;

104 
EXPECT_TRUE
(
»ad_buf2
.
R—dUIÁ16
(&
ru16
));

105 
EXPECT_EQ
(
wu16
, 
ru16
);

106 
EXPECT_EQ
(0U, 
»ad_buf2
.
L’gth
());

107 
	gbufãr
.
CË¬
();

110 
ušt32_t
 
	gwu24
 = (3 << 16) + (2 << 8) + 1;

111 
	gbufãr
.
Wr™eUIÁ24
(
wu24
);

112 
By‹BufãrR—d”
 
»ad_buf3
(
bufãr
.
D©a
(), bufãr.
L’gth
());

113 
ušt32_t
 
	gru24
;

114 
EXPECT_TRUE
(
»ad_buf3
.
R—dUIÁ24
(&
ru24
));

115 
EXPECT_EQ
(
wu24
, 
ru24
);

116 
EXPECT_EQ
(0U, 
»ad_buf3
.
L’gth
());

117 
	gbufãr
.
CË¬
();

120 
ušt32_t
 
	gwu32
 = (4 << 24) + (3 << 16) + (2 << 8) + 1;

121 
	gbufãr
.
Wr™eUIÁ32
(
wu32
);

122 
By‹BufãrR—d”
 
»ad_buf4
(
bufãr
.
D©a
(), bufãr.
L’gth
());

123 
ušt32_t
 
	gru32
;

124 
EXPECT_TRUE
(
»ad_buf4
.
R—dUIÁ32
(&
ru32
));

125 
EXPECT_EQ
(
wu32
, 
ru32
);

126 
EXPECT_EQ
(0U, 
»ad_buf3
.
L’gth
());

127 
	gbufãr
.
CË¬
();

130 
ušt32_t
 
	gªÙh”32
 = (8 << 24) + (7 << 16) + (6 << 8) + 5;

131 
ušt64_t
 
	gwu64
 = (
¡©ic_ÿ¡
<ušt64_t>(
ªÙh”32
è<< 32è+ 
wu32
;

132 
	gbufãr
.
Wr™eUIÁ64
(
wu64
);

133 
By‹BufãrR—d”
 
»ad_buf5
(
bufãr
.
D©a
(), bufãr.
L’gth
());

134 
ušt64_t
 
	gru64
;

135 
EXPECT_TRUE
(
»ad_buf5
.
R—dUIÁ64
(&
ru64
));

136 
EXPECT_EQ
(
wu64
, 
ru64
);

137 
EXPECT_EQ
(0U, 
»ad_buf5
.
L’gth
());

138 
	gbufãr
.
CË¬
();

141 
	g¡d
::
¡ršg
 
wr™e_¡ršg
("hello");

142 
	gbufãr
.
Wr™eSŒšg
(
wr™e_¡ršg
);

143 
By‹BufãrR—d”
 
»ad_buf6
(
bufãr
.
D©a
(), bufãr.
L’gth
());

144 
	g¡d
::
¡ršg
 
»ad_¡ršg
;

145 
EXPECT_TRUE
(
»ad_buf6
.
R—dSŒšg
(&
»ad_¡ršg
, 
wr™e_¡ršg
.
size
()));

146 
EXPECT_EQ
(
wr™e_¡ršg
, 
»ad_¡ršg
);

147 
EXPECT_EQ
(0U, 
»ad_buf6
.
L’gth
());

148 
	gbufãr
.
CË¬
();

151 
	gwr™e_by‹s
[] = "foo";

152 
	gbufãr
.
Wr™eBy‹s
(
wr™e_by‹s
, 3);

153 
By‹BufãrR—d”
 
»ad_buf7
(
bufãr
.
D©a
(), bufãr.
L’gth
());

154 
	g»ad_by‹s
[3];

155 
EXPECT_TRUE
(
»ad_buf7
.
R—dBy‹s
(
»ad_by‹s
, 3));

156 
	gi
 = 0; i < 3; ++i) {

157 
EXPECT_EQ
(
wr™e_by‹s
[
i
], 
»ad_by‹s
[i]);

159 
EXPECT_EQ
(0U, 
»ad_buf7
.
L’gth
());

160 
	gbufãr
.
CË¬
();

163 * 
	gwr™e_d¡
 = 
bufãr
.
Re£rveWr™eBufãr
(3);

164 
memıy
(
wr™e_d¡
, 
wr™e_by‹s
, 3);

165 
By‹BufãrR—d”
 
»ad_buf8
(
bufãr
.
D©a
(), bufãr.
L’gth
());

166 
mem£t
(
»ad_by‹s
, 0, 3);

167 
EXPECT_TRUE
(
»ad_buf8
.
R—dBy‹s
(
»ad_by‹s
, 3));

168 
	gi
 = 0; i < 3; ++i) {

169 
EXPECT_EQ
(
wr™e_by‹s
[
i
], 
»ad_by‹s
[i]);

171 
EXPECT_EQ
(0U, 
»ad_buf8
.
L’gth
());

172 
	gbufãr
.
CË¬
();

175 
	gbufãr
.
Wr™eUIÁ8
(
wu8
);

176 
	gbufãr
.
Wr™eUIÁ16
(
wu16
);

177 
	gbufãr
.
Wr™eUIÁ24
(
wu24
);

178 
	gbufãr
.
Wr™eUIÁ32
(
wu32
);

179 
	gbufãr
.
Wr™eUIÁ64
(
wu64
);

180 
By‹BufãrR—d”
 
»ad_buf9
(
bufãr
.
D©a
(), bufãr.
L’gth
());

181 
EXPECT_TRUE
(
»ad_buf9
.
R—dUIÁ8
(&
ru8
));

182 
EXPECT_EQ
(
wu8
, 
ru8
);

183 
EXPECT_TRUE
(
»ad_buf9
.
R—dUIÁ16
(&
ru16
));

184 
EXPECT_EQ
(
wu16
, 
ru16
);

185 
EXPECT_TRUE
(
»ad_buf9
.
R—dUIÁ24
(&
ru24
));

186 
EXPECT_EQ
(
wu24
, 
ru24
);

187 
EXPECT_TRUE
(
»ad_buf9
.
R—dUIÁ32
(&
ru32
));

188 
EXPECT_EQ
(
wu32
, 
ru32
);

189 
EXPECT_TRUE
(
»ad_buf9
.
R—dUIÁ64
(&
ru64
));

190 
EXPECT_EQ
(
wu64
, 
ru64
);

191 
EXPECT_EQ
(0U, 
»ad_buf9
.
L’gth
());

192 
	gbufãr
.
CË¬
();

195 
TEST
(
By‹BufãrTe¡
, 
Te¡R—dWr™eUV¬št
) {

196 
By‹BufãrWr™”
 
	gwr™e_bufãr
;

197 
size_t
 
	gsize
 = 0;

198 
EXPECT_EQ
(
size
, 
wr™e_bufãr
.
L’gth
());

200 
	gwr™e_bufãr
.
Wr™eUV¬št
(1u);

201 ++
	gsize
;

202 
EXPECT_EQ
(
size
, 
wr™e_bufãr
.
L’gth
());

204 
	gwr™e_bufãr
.
Wr™eUV¬št
(2u);

205 ++
	gsize
;

206 
EXPECT_EQ
(
size
, 
wr™e_bufãr
.
L’gth
());

208 
	gwr™e_bufãr
.
Wr™eUV¬št
(27u);

209 ++
	gsize
;

210 
EXPECT_EQ
(
size
, 
wr™e_bufãr
.
L’gth
());

212 
	gwr™e_bufãr
.
Wr™eUV¬št
(149u);

213 
	gsize
 += 2;

214 
EXPECT_EQ
(
size
, 
wr™e_bufãr
.
L’gth
());

216 
	gwr™e_bufãr
.
Wr™eUV¬št
(68719476736u);

217 
	gsize
 += 6;

218 
EXPECT_EQ
(
size
, 
wr™e_bufãr
.
L’gth
());

220 
By‹BufãrR—d”
 
»ad_bufãr
(
wr™e_bufãr
.
D©a
(), wr™e_bufãr.
L’gth
());

221 
EXPECT_EQ
(
size
, 
»ad_bufãr
.
L’gth
());

222 
ušt64_t
 
	gv®1
, 
	gv®2
, 
	gv®3
, 
	gv®4
, 
	gv®5
;

224 
ASSERT_TRUE
(
»ad_bufãr
.
R—dUV¬št
(&
v®1
));

225 
EXPECT_EQ
(1u, 
v®1
);

226 --
	gsize
;

227 
EXPECT_EQ
(
size
, 
»ad_bufãr
.
L’gth
());

229 
ASSERT_TRUE
(
»ad_bufãr
.
R—dUV¬št
(&
v®2
));

230 
EXPECT_EQ
(2u, 
v®2
);

231 --
	gsize
;

232 
EXPECT_EQ
(
size
, 
»ad_bufãr
.
L’gth
());

234 
ASSERT_TRUE
(
»ad_bufãr
.
R—dUV¬št
(&
v®3
));

235 
EXPECT_EQ
(27u, 
v®3
);

236 --
	gsize
;

237 
EXPECT_EQ
(
size
, 
»ad_bufãr
.
L’gth
());

239 
ASSERT_TRUE
(
»ad_bufãr
.
R—dUV¬št
(&
v®4
));

240 
EXPECT_EQ
(149u, 
v®4
);

241 
	gsize
 -= 2;

242 
EXPECT_EQ
(
size
, 
»ad_bufãr
.
L’gth
());

244 
ASSERT_TRUE
(
»ad_bufãr
.
R—dUV¬št
(&
v®5
));

245 
EXPECT_EQ
(68719476736u, 
v®5
);

246 
	gsize
 -= 6;

247 
EXPECT_EQ
(
size
, 
»ad_bufãr
.
L’gth
());

	@byte_order.h

11 #iâdeà
RTC_BASE_BYTE_ORDER_H_


12 
	#RTC_BASE_BYTE_ORDER_H_


	)

14 
	~<¡dšt.h
>

16 #ià
defšed
(
WEBRTC_POSIX
è&& !defšed(
__Çtive_ş›Á__
)

17 
	~<¬·/š‘.h
>

20 
	~"¹c_ba£/sy¡em/¬ch.h
"

22 #ià
defšed
(
WEBRTC_MAC
)

23 
	~<libk”n/OSBy‹Ord”.h
>

25 
	#htobe16
(
v
è
	`OSSw­Ho¡ToBigIÁ16
(v)

	)

26 
	#htobe32
(
v
è
	`OSSw­Ho¡ToBigIÁ32
(v)

	)

27 
	#htobe64
(
v
è
	`OSSw­Ho¡ToBigIÁ64
(v)

	)

28 
	#be16toh
(
v
è
	`OSSw­BigToHo¡IÁ16
(v)

	)

29 
	#be32toh
(
v
è
	`OSSw­BigToHo¡IÁ32
(v)

	)

30 
	#be64toh
(
v
è
	`OSSw­BigToHo¡IÁ64
(v)

	)

32 
	#htŞe16
(
v
è
	`OSSw­Ho¡ToL™eIÁ16
(v)

	)

33 
	#htŞe32
(
v
è
	`OSSw­Ho¡ToL™eIÁ32
(v)

	)

34 
	#htŞe64
(
v
è
	`OSSw­Ho¡ToL™eIÁ64
(v)

	)

35 
	#Ë16toh
(
v
è
	`OSSw­L™eToHo¡IÁ16
(v)

	)

36 
	#Ë32toh
(
v
è
	`OSSw­L™eToHo¡IÁ32
(v)

	)

37 
	#Ë64toh
(
v
è
	`OSSw­L™eToHo¡IÁ64
(v)

	)

39 #–ià
defšed
(
WEBRTC_WIN
è|| defšed(
__Çtive_ş›Á__
)

41 #ià
defšed
(
WEBRTC_WIN
)

42 
	~<¡dlib.h
>

43 
	~<wšsock2.h
>

45 
	~<Ãtš‘/š.h
>

48 #ià
defšed
(
WEBRTC_ARCH_LITTLE_ENDIAN
)

49 
	#htobe16
(
v
è
	`htÚs
(v)

	)

50 
	#htobe32
(
v
è
	`htÚl
(v)

	)

51 
	#be16toh
(
v
è
	`Áohs
(v)

	)

52 
	#be32toh
(
v
è
	`Áohl
(v)

	)

53 
	#htŞe16
(
v
è(v)

	)

54 
	#htŞe32
(
v
è(v)

	)

55 
	#htŞe64
(
v
è(v)

	)

56 
	#Ë16toh
(
v
è(v)

	)

57 
	#Ë32toh
(
v
è(v)

	)

58 
	#Ë64toh
(
v
è(v)

	)

59 #ià
defšed
(
WEBRTC_WIN
)

60 
	#htobe64
(
v
è
	`_by‹sw­_ušt64
(v)

	)

61 
	#be64toh
(
v
è
	`_by‹sw­_ušt64
(v)

	)

63 #ià
defšed
(
__Çtive_ş›Á__
)

64 
	#htobe64
(
v
è
	`__butš_bsw­64
(v)

	)

65 
	#be64toh
(
v
è
	`__butš_bsw­64
(v)

	)

68 #–ià
defšed
(
WEBRTC_ARCH_BIG_ENDIAN
)

69 
	#htobe16
(
v
è(v)

	)

70 
	#htobe32
(
v
è(v)

	)

71 
	#be16toh
(
v
è(v)

	)

72 
	#be32toh
(
v
è(v)

	)

73 
	#htŞe16
(
v
è
	`__butš_bsw­16
(v)

	)

74 
	#htŞe32
(
v
è
	`__butš_bsw­32
(v)

	)

75 
	#htŞe64
(
v
è
	`__butš_bsw­64
(v)

	)

76 
	#Ë16toh
(
v
è
	`__butš_bsw­16
(v)

	)

77 
	#Ë32toh
(
v
è
	`__butš_bsw­32
(v)

	)

78 
	#Ë64toh
(
v
è
	`__butš_bsw­64
(v)

	)

79 #ià
defšed
(
WEBRTC_WIN
)

80 
	#htobe64
(
v
è(v)

	)

81 
	#be64toh
(
v
è(v)

	)

83 #ià
defšed
(
__Çtive_ş›Á__
)

84 
	#htobe64
(
v
è(v)

	)

85 
	#be64toh
(
v
è(v)

	)

88 #”rÜ 
WEBRTC_ARCH_BIG_ENDIAN
 
Ü
 
WEBRTC_ARCH_LITTLE_ENDIAN
 
mu¡
 
be
 
defšed
.

91 #–ià
defšed
(
WEBRTC_POSIX
)

92 
	~<’dŸn.h
>

97 
Çme¥aû
 
	g¹c
 {

101 
šlše
 
S‘8
(* 
memÜy
, 
size_t
 
off£t
, 
ušt8_t
 
v
) {

102 
	g¡©ic_ÿ¡
<
	gušt8_t
*>(
	gmemÜy
)[
off£t
] = 
v
;

105 
šlše
 
ušt8_t
 
G‘8
(cÚ¡ * 
memÜy
, 
size_t
 
off£t
) {

106  
	g¡©ic_ÿ¡
<cÚ¡ 
	gušt8_t
*>(
	gmemÜy
)[
off£t
];

109 
šlše
 
S‘BE16
(* 
memÜy
, 
ušt16_t
 
v
) {

110 *
	g¡©ic_ÿ¡
<
	gušt16_t
*>(
	gmemÜy
èğ
htobe16
(
v
);

113 
šlše
 
S‘BE32
(* 
memÜy
, 
ušt32_t
 
v
) {

114 *
	g¡©ic_ÿ¡
<
	gušt32_t
*>(
	gmemÜy
èğ
htobe32
(
v
);

117 
šlše
 
S‘BE64
(* 
memÜy
, 
ušt64_t
 
v
) {

118 *
	g¡©ic_ÿ¡
<
	gušt64_t
*>(
	gmemÜy
èğ
htobe64
(
v
);

121 
šlše
 
ušt16_t
 
G‘BE16
(cÚ¡ * 
memÜy
) {

122  
be16toh
(*
¡©ic_ÿ¡
<cÚ¡ 
ušt16_t
*>(
memÜy
));

125 
šlše
 
ušt32_t
 
G‘BE32
(cÚ¡ * 
memÜy
) {

126  
be32toh
(*
¡©ic_ÿ¡
<cÚ¡ 
ušt32_t
*>(
memÜy
));

129 
šlše
 
ušt64_t
 
G‘BE64
(cÚ¡ * 
memÜy
) {

130  
be64toh
(*
¡©ic_ÿ¡
<cÚ¡ 
ušt64_t
*>(
memÜy
));

133 
šlše
 
S‘LE16
(* 
memÜy
, 
ušt16_t
 
v
) {

134 *
	g¡©ic_ÿ¡
<
	gušt16_t
*>(
	gmemÜy
èğ
htŞe16
(
v
);

137 
šlše
 
S‘LE32
(* 
memÜy
, 
ušt32_t
 
v
) {

138 *
	g¡©ic_ÿ¡
<
	gušt32_t
*>(
	gmemÜy
èğ
htŞe32
(
v
);

141 
šlše
 
S‘LE64
(* 
memÜy
, 
ušt64_t
 
v
) {

142 *
	g¡©ic_ÿ¡
<
	gušt64_t
*>(
	gmemÜy
èğ
htŞe64
(
v
);

145 
šlše
 
ušt16_t
 
G‘LE16
(cÚ¡ * 
memÜy
) {

146  
Ë16toh
(*
¡©ic_ÿ¡
<cÚ¡ 
ušt16_t
*>(
memÜy
));

149 
šlše
 
ušt32_t
 
G‘LE32
(cÚ¡ * 
memÜy
) {

150  
Ë32toh
(*
¡©ic_ÿ¡
<cÚ¡ 
ušt32_t
*>(
memÜy
));

153 
šlše
 
ušt64_t
 
G‘LE64
(cÚ¡ * 
memÜy
) {

154  
Ë64toh
(*
¡©ic_ÿ¡
<cÚ¡ 
ušt64_t
*>(
memÜy
));

158 
šlše
 
boŞ
 
IsHo¡BigEndŸn
() {

159 #ià
defšed
(
WEBRTC_ARCH_BIG_ENDIAN
)

160  
	gŒue
;

162  
	gçl£
;

166 
šlše
 
ušt16_t
 
Ho¡ToN‘wÜk16
(ušt16_ˆ
n
) {

167  
htobe16
(
n
);

170 
šlše
 
ušt32_t
 
Ho¡ToN‘wÜk32
(ušt32_ˆ
n
) {

171  
htobe32
(
n
);

174 
šlše
 
ušt64_t
 
Ho¡ToN‘wÜk64
(ušt64_ˆ
n
) {

175  
htobe64
(
n
);

178 
šlše
 
ušt16_t
 
N‘wÜkToHo¡16
(ušt16_ˆ
n
) {

179  
be16toh
(
n
);

182 
šlše
 
ušt32_t
 
N‘wÜkToHo¡32
(ušt32_ˆ
n
) {

183  
be32toh
(
n
);

186 
šlše
 
ušt64_t
 
N‘wÜkToHo¡64
(ušt64_ˆ
n
) {

187  
be64toh
(
n
);

	@byte_order_unittest.cc

11 
	~"¹c_ba£/by‹_Üd”.h
"

13 
	~<¡dšt.h
>

15 
	~"‹¡/g‹¡.h
"

17 
Çme¥aû
 
	g¹c
 {

20 
TEST
(
By‹Ord”Te¡
, 
Te¡S‘
) {

21 
ušt8_t
 
	gbuf
[8] = {0u, 0u, 0u, 0u, 0u, 0u, 0u, 0u};

22 
S‘8
(
buf
, 0, 0xfb);

23 
S‘8
(
buf
, 1, 0x12);

24 
EXPECT_EQ
(0xfb, 
buf
[0]);

25 
EXPECT_EQ
(0x12, 
buf
[1]);

26 
S‘BE16
(
buf
, 0x1234);

27 
EXPECT_EQ
(0x12, 
buf
[0]);

28 
EXPECT_EQ
(0x34, 
buf
[1]);

29 
S‘LE16
(
buf
, 0x1234);

30 
EXPECT_EQ
(0x34, 
buf
[0]);

31 
EXPECT_EQ
(0x12, 
buf
[1]);

32 
S‘BE32
(
buf
, 0x12345678);

33 
EXPECT_EQ
(0x12, 
buf
[0]);

34 
EXPECT_EQ
(0x34, 
buf
[1]);

35 
EXPECT_EQ
(0x56, 
buf
[2]);

36 
EXPECT_EQ
(0x78, 
buf
[3]);

37 
S‘LE32
(
buf
, 0x12345678);

38 
EXPECT_EQ
(0x78, 
buf
[0]);

39 
EXPECT_EQ
(0x56, 
buf
[1]);

40 
EXPECT_EQ
(0x34, 
buf
[2]);

41 
EXPECT_EQ
(0x12, 
buf
[3]);

42 
S‘BE64
(
buf
, 
UINT64_C
(0x0123456789abcdef));

43 
EXPECT_EQ
(0x01, 
buf
[0]);

44 
EXPECT_EQ
(0x23, 
buf
[1]);

45 
EXPECT_EQ
(0x45, 
buf
[2]);

46 
EXPECT_EQ
(0x67, 
buf
[3]);

47 
EXPECT_EQ
(0x89, 
buf
[4]);

48 
EXPECT_EQ
(0xab, 
buf
[5]);

49 
EXPECT_EQ
(0xcd, 
buf
[6]);

50 
EXPECT_EQ
(0xef, 
buf
[7]);

51 
S‘LE64
(
buf
, 
UINT64_C
(0x0123456789abcdef));

52 
EXPECT_EQ
(0xef, 
buf
[0]);

53 
EXPECT_EQ
(0xcd, 
buf
[1]);

54 
EXPECT_EQ
(0xab, 
buf
[2]);

55 
EXPECT_EQ
(0x89, 
buf
[3]);

56 
EXPECT_EQ
(0x67, 
buf
[4]);

57 
EXPECT_EQ
(0x45, 
buf
[5]);

58 
EXPECT_EQ
(0x23, 
buf
[6]);

59 
EXPECT_EQ
(0x01, 
buf
[7]);

63 
TEST
(
By‹Ord”Te¡
, 
Te¡G‘
) {

64 
ušt8_t
 
	gbuf
[8];

65 
	gbuf
[0] = 0x01u;

66 
	gbuf
[1] = 0x23u;

67 
	gbuf
[2] = 0x45u;

68 
	gbuf
[3] = 0x67u;

69 
	gbuf
[4] = 0x89u;

70 
	gbuf
[5] = 0xabu;

71 
	gbuf
[6] = 0xcdu;

72 
	gbuf
[7] = 0xefu;

73 
EXPECT_EQ
(0x01u, 
G‘8
(
buf
, 0));

74 
EXPECT_EQ
(0x23u, 
G‘8
(
buf
, 1));

75 
EXPECT_EQ
(0x0123u, 
G‘BE16
(
buf
));

76 
EXPECT_EQ
(0x2301u, 
G‘LE16
(
buf
));

77 
EXPECT_EQ
(0x01234567u, 
G‘BE32
(
buf
));

78 
EXPECT_EQ
(0x67452301u, 
G‘LE32
(
buf
));

79 
EXPECT_EQ
(
UINT64_C
(0x0123456789abcdef), 
G‘BE64
(
buf
));

80 
EXPECT_EQ
(
UINT64_C
(0xefcdab8967452301), 
G‘LE64
(
buf
));

	@callback.h

62 #iâdeà
RTC_BASE_CALLBACK_H_


63 
	#RTC_BASE_CALLBACK_H_


	)

65 
	~"­i/scİed_»åŒ.h
"

66 
	~"¹c_ba£/»f_couÁ.h
"

67 
	~"¹c_ba£/»f_couÁed_objeù.h
"

69 
Çme¥aû
 
	g¹c
 {

71 
	g‹m¶©e
 <
şass
 
	gR
>

72 şas 
	cC®lback0
 {

73 
	gpublic
:

75 
C®lback0
() {}

76 
‹m¶©e
 <
şass
 
T
>

77 
C®lback0
(cÚ¡ 
T
& 
funùÜ
)

78 : 
h–³r_
(
Ãw
 
RefCouÁedObjeù
<
H–³rIm¶
<
T
> >(
funùÜ
)) {}

79 
R
 
İ”©Ü
()() {

80 ià(
em±y
())

81  
R
();

82  
	gh–³r_
->
Run
();

84 
boŞ
 
em±y
(ècÚ¡ {  !
	gh–³r_
; }

86 
	g´iv©e
:

87 
H–³r
 : 
RefCouÁIÁ”çû
 {

88 
vœtu®
 ~
H–³r
() {}

89 
vœtu®
 
R
 
Run
() = 0;

91 
	g‹m¶©e
 <
şass
 
	gT
>

92 
	gH–³rIm¶
 : 
H–³r
 {

93 
ex¶ic™
 
H–³rIm¶
(cÚ¡ 
T
& 
funùÜ
è: 
funùÜ_
(functor) {}

94 
vœtu®
 
R
 
Run
(è{  
funùÜ_
(); }

95 
T
 
	gfunùÜ_
;

97 
	gscİed_»åŒ
<
	gH–³r
> 
	gh–³r_
;

100 
	g‹m¶©e
 <
şass
 
	gR
, cÏs 
	gP1
>

101 şas 
	cC®lback1
 {

102 
	gpublic
:

104 
C®lback1
() {}

105 
‹m¶©e
 <
şass
 
T
>

106 
C®lback1
(cÚ¡ 
T
& 
funùÜ
)

107 : 
h–³r_
(
Ãw
 
RefCouÁedObjeù
<
H–³rIm¶
<
T
> >(
funùÜ
)) {}

108 
R
 
İ”©Ü
()(
P1
 
p1
) {

109 ià(
em±y
())

110  
R
();

111  
	gh–³r_
->
Run
(
p1
);

113 
boŞ
 
em±y
(ècÚ¡ {  !
	gh–³r_
; }

115 
	g´iv©e
:

116 
H–³r
 : 
RefCouÁIÁ”çû
 {

117 
vœtu®
 ~
H–³r
() {}

118 
vœtu®
 
R
 
Run
(
P1
 
p1
) = 0;

120 
	g‹m¶©e
 <
şass
 
	gT
>

121 
	gH–³rIm¶
 : 
H–³r
 {

122 
ex¶ic™
 
H–³rIm¶
(cÚ¡ 
T
& 
funùÜ
è: 
funùÜ_
(functor) {}

123 
vœtu®
 
R
 
Run
(
P1
 
p1
è{  
funùÜ_
(p1); }

124 
T
 
	gfunùÜ_
;

126 
	gscİed_»åŒ
<
	gH–³r
> 
	gh–³r_
;

129 
	g‹m¶©e
 <
şass
 
	gR
, cÏs 
	gP1
, cÏs 
	gP2
>

130 şas 
	cC®lback2
 {

131 
	gpublic
:

133 
C®lback2
() {}

134 
‹m¶©e
 <
şass
 
T
>

135 
C®lback2
(cÚ¡ 
T
& 
funùÜ
)

136 : 
h–³r_
(
Ãw
 
RefCouÁedObjeù
<
H–³rIm¶
<
T
> >(
funùÜ
)) {}

137 
R
 
İ”©Ü
()(
P1
 
p1
, 
P2
 
	gp2
) {

138 ià(
em±y
())

139  
R
();

140  
	gh–³r_
->
Run
(
p1
, 
p2
);

142 
boŞ
 
em±y
(ècÚ¡ {  !
	gh–³r_
; }

144 
	g´iv©e
:

145 
H–³r
 : 
RefCouÁIÁ”çû
 {

146 
vœtu®
 ~
H–³r
() {}

147 
vœtu®
 
R
 
Run
(
P1
 
p1
, 
P2
 
p2
) = 0;

149 
	g‹m¶©e
 <
şass
 
	gT
>

150 
	gH–³rIm¶
 : 
H–³r
 {

151 
ex¶ic™
 
H–³rIm¶
(cÚ¡ 
T
& 
funùÜ
è: 
funùÜ_
(functor) {}

152 
vœtu®
 
R
 
Run
(
P1
 
p1
, 
P2
 
p2
è{  
funùÜ_
(p1,…2); }

153 
T
 
	gfunùÜ_
;

155 
	gscİed_»åŒ
<
	gH–³r
> 
	gh–³r_
;

158 
	g‹m¶©e
 <
şass
 
	gR
, cÏs 
	gP1
, cÏs 
	gP2
, cÏs 
	gP3
>

159 şas 
	cC®lback3
 {

160 
	gpublic
:

162 
C®lback3
() {}

163 
‹m¶©e
 <
şass
 
T
>

164 
C®lback3
(cÚ¡ 
T
& 
funùÜ
)

165 : 
h–³r_
(
Ãw
 
RefCouÁedObjeù
<
H–³rIm¶
<
T
> >(
funùÜ
)) {}

166 
R
 
İ”©Ü
()(
P1
 
p1
, 
P2
 
	gp2
, 
P3
 
	gp3
) {

167 ià(
em±y
())

168  
R
();

169  
	gh–³r_
->
Run
(
p1
, 
p2
, 
p3
);

171 
boŞ
 
em±y
(ècÚ¡ {  !
	gh–³r_
; }

173 
	g´iv©e
:

174 
H–³r
 : 
RefCouÁIÁ”çû
 {

175 
vœtu®
 ~
H–³r
() {}

176 
vœtu®
 
R
 
Run
(
P1
 
p1
, 
P2
 
p2
, 
P3
 
p3
) = 0;

178 
	g‹m¶©e
 <
şass
 
	gT
>

179 
	gH–³rIm¶
 : 
H–³r
 {

180 
ex¶ic™
 
H–³rIm¶
(cÚ¡ 
T
& 
funùÜ
è: 
funùÜ_
(functor) {}

181 
vœtu®
 
R
 
Run
(
P1
 
p1
, 
P2
 
p2
, 
P3
 
p3
è{  
funùÜ_
(p1,…2,…3); }

182 
T
 
	gfunùÜ_
;

184 
	gscİed_»åŒ
<
	gH–³r
> 
	gh–³r_
;

187 
	g‹m¶©e
 <
şass
 
	gR
, cÏs 
	gP1
, cÏs 
	gP2
, cÏs 
	gP3
, cÏs 
	gP4
>

188 şas 
	cC®lback4
 {

189 
	gpublic
:

191 
C®lback4
() {}

192 
‹m¶©e
 <
şass
 
T
>

193 
C®lback4
(cÚ¡ 
T
& 
funùÜ
)

194 : 
h–³r_
(
Ãw
 
RefCouÁedObjeù
<
H–³rIm¶
<
T
> >(
funùÜ
)) {}

195 
R
 
İ”©Ü
()(
P1
 
p1
, 
P2
 
	gp2
, 
P3
 
	gp3
, 
P4
 
	gp4
) {

196 ià(
em±y
())

197  
R
();

198  
	gh–³r_
->
Run
(
p1
, 
p2
, 
p3
, 
p4
);

200 
boŞ
 
em±y
(ècÚ¡ {  !
	gh–³r_
; }

202 
	g´iv©e
:

203 
H–³r
 : 
RefCouÁIÁ”çû
 {

204 
vœtu®
 ~
H–³r
() {}

205 
vœtu®
 
R
 
Run
(
P1
 
p1
, 
P2
 
p2
, 
P3
 
p3
, 
P4
 
p4
) = 0;

207 
	g‹m¶©e
 <
şass
 
	gT
>

208 
	gH–³rIm¶
 : 
H–³r
 {

209 
ex¶ic™
 
H–³rIm¶
(cÚ¡ 
T
& 
funùÜ
è: 
funùÜ_
(functor) {}

210 
vœtu®
 
R
 
Run
(
P1
 
p1
, 
P2
 
p2
, 
P3
 
p3
, 
P4
 
p4
) {

211  
funùÜ_
(
p1
, 
p2
, 
p3
, 
p4
);

213 
T
 
	gfunùÜ_
;

215 
	gscİed_»åŒ
<
	gH–³r
> 
	gh–³r_
;

218 
	g‹m¶©e
 <
şass
 
	gR
, cÏs 
	gP1
, cÏs 
	gP2
, cÏs 
	gP3
, cÏs 
	gP4
, cÏs 
	gP5
>

219 şas 
	cC®lback5
 {

220 
	gpublic
:

222 
C®lback5
() {}

223 
‹m¶©e
 <
şass
 
T
>

224 
C®lback5
(cÚ¡ 
T
& 
funùÜ
)

225 : 
h–³r_
(
Ãw
 
RefCouÁedObjeù
<
H–³rIm¶
<
T
> >(
funùÜ
)) {}

226 
R
 
İ”©Ü
()(
P1
 
p1
, 
P2
 
	gp2
, 
P3
 
	gp3
, 
P4
 
	gp4
, 
P5
 
	gp5
) {

227 ià(
em±y
())

228  
R
();

229  
	gh–³r_
->
Run
(
p1
, 
p2
, 
p3
, 
p4
, 
p5
);

231 
boŞ
 
em±y
(ècÚ¡ {  !
	gh–³r_
; }

233 
	g´iv©e
:

234 
H–³r
 : 
RefCouÁIÁ”çû
 {

235 
vœtu®
 ~
H–³r
() {}

236 
vœtu®
 
R
 
Run
(
P1
 
p1
, 
P2
 
p2
, 
P3
 
p3
, 
P4
 
p4
, 
P5
 
p5
) = 0;

238 
	g‹m¶©e
 <
şass
 
	gT
>

239 
	gH–³rIm¶
 : 
H–³r
 {

240 
ex¶ic™
 
H–³rIm¶
(cÚ¡ 
T
& 
funùÜ
è: 
funùÜ_
(functor) {}

241 
vœtu®
 
R
 
Run
(
P1
 
p1
, 
P2
 
p2
, 
P3
 
p3
, 
P4
 
p4
, 
P5
 
p5
) {

242  
funùÜ_
(
p1
, 
p2
, 
p3
, 
p4
, 
p5
);

244 
T
 
	gfunùÜ_
;

246 
	gscİed_»åŒ
<
	gH–³r
> 
	gh–³r_
;

	@callback_unittest.cc

11 
	~"¹c_ba£/ÿÎback.h
"

13 
	~"¹c_ba£/bšd.h
"

14 
	~"¹c_ba£/k“p_»f_uÁ_dÚe.h
"

15 
	~"¹c_ba£/»f_couÁ.h
"

16 
	~"‹¡/g‹¡.h
"

18 
Çme¥aû
 
	g¹c
 {

20 
	gÇme¥aû
 {

22 
f
() {}

23 
g
() {

26 
h
(
x
) {

27  
x
 * 
	gx
;

29 
i
(& 
x
) {

30 
	gx
 *ğ
x
;

33 
	sBšdTe¡”
 {

34 
a
() {  24; }

35 
b
(
x
ècÚ¡ {  x * 
	gx
; }

38 şas 
	cRefCouÁedBšdTe¡”
 : 
public
 
RefCouÁIÁ”çû
 {

39 
public
:

40 
RefCouÁedBšdTe¡”
(è: 
couÁ_
(0) {}

41 
AddRef
(ècÚ¡ 
ov”ride
 { ++
couÁ_
; }

42 
RefCouÁR–—£Stus
 
R–—£
(ècÚ¡ 
	gov”ride
 {

43 --
	gcouÁ_
;

44  
	gcouÁ_
 =ğ0 ? 
RefCouÁR–—£Stus
::
kDrİ³dLa¡Ref


45 : 
RefCouÁR–—£Stus
::
kOth”RefsRemašed
;

47 
RefCouÁ
(ècÚ¡ {  
	gcouÁ_
; }

49 
	g´iv©e
:

50 
mubË
 
couÁ_
;

55 
	$TEST
(
C®lbackTe¡
, 
VoidR‘uº
) {

56 
C®lback0
<> 
cb
;

57 
	`EXPECT_TRUE
(
cb
.
	`em±y
());

58 
	`cb
();

59 
cb
 = 
C®lback0
<>(&
f
);

60 
	`EXPECT_FALSE
(
cb
.
	`em±y
());

61 
	`cb
();

62 
	}
}

64 
	$TEST
(
C®lbackTe¡
, 
IÁR‘uº
) {

65 
C®lback0
<> 
cb
;

66 
	`EXPECT_TRUE
(
cb
.
	`em±y
());

67 
cb
 = 
C®lback0
<>(&
g
);

68 
	`EXPECT_FALSE
(
cb
.
	`em±y
());

69 
	`EXPECT_EQ
(42, 
	`cb
());

70 
	`EXPECT_EQ
(42, 
	`cb
());

71 
	}
}

73 
	$TEST
(
C®lbackTe¡
, 
OÃP¬am
) {

74 
C®lback1
<, > 
	`cb1
(&
h
);

75 
	`EXPECT_FALSE
(
cb1
.
	`em±y
());

76 
	`EXPECT_EQ
(9, 
	`cb1
(-3));

77 
	`EXPECT_EQ
(100, 
	`cb1
(10));

80 
cb1
 = 
C®lback1
<, >();

81 
	`EXPECT_TRUE
(
cb1
.
	`em±y
());

84 
C®lback1
<, &> 
	`cb2
(&
i
);

85 
x
 = 3;

86 
	`cb2
(
x
);

87 
	`EXPECT_EQ
(9, 
x
);

88 
	`cb2
(
x
);

89 
	`EXPECT_EQ
(81, 
x
);

90 
	}
}

92 
	$TEST
(
C®lbackTe¡
, 
W™hBšd
) {

93 
BšdTe¡”
 
t
;

94 
C®lback0
<> 
cb1
 = 
	`Bšd
(&
BšdTe¡”
::
a
, &
t
);

95 
	`EXPECT_EQ
(24, 
	`cb1
());

96 
	`EXPECT_EQ
(24, 
	`cb1
());

97 
cb1
 = 
	`Bšd
(&
BšdTe¡”
::
b
, &
t
, 10);

98 
	`EXPECT_EQ
(100, 
	`cb1
());

99 
	`EXPECT_EQ
(100, 
	`cb1
());

100 
cb1
 = 
	`Bšd
(&
BšdTe¡”
::
b
, &
t
, 5);

101 
	`EXPECT_EQ
(25, 
	`cb1
());

102 
	`EXPECT_EQ
(25, 
	`cb1
());

103 
	}
}

105 
	$TEST
(
K“pRefUÁDÚeTe¡
, 
sim¶e
) {

106 
RefCouÁedBšdTe¡”
 
t
;

107 
	`EXPECT_EQ
(0, 
t
.
	`RefCouÁ
());

109 
C®lback0
<> 
cb
 = 
	`K“pRefUÁDÚe
(&
t
);

110 
	`EXPECT_EQ
(1, 
t
.
	`RefCouÁ
());

111 
	`cb
();

112 
	`EXPECT_EQ
(1, 
t
.
	`RefCouÁ
());

113 
	`cb
();

114 
	`EXPECT_EQ
(1, 
t
.
	`RefCouÁ
());

116 
	`EXPECT_EQ
(0, 
t
.
	`RefCouÁ
());

117 
	}
}

119 
	$TEST
(
K“pRefUÁDÚeTe¡
, 
cİy
) {

120 
RefCouÁedBšdTe¡”
 
t
;

121 
	`EXPECT_EQ
(0, 
t
.
	`RefCouÁ
());

122 
C®lback0
<> 
cb2
;

124 
C®lback0
<> 
cb
 = 
	`K“pRefUÁDÚe
(&
t
);

125 
	`EXPECT_EQ
(1, 
t
.
	`RefCouÁ
());

126 
cb2
 = 
cb
;

128 
	`EXPECT_EQ
(1, 
t
.
	`RefCouÁ
());

129 
cb2
 = 
C®lback0
<>();

130 
	`EXPECT_EQ
(0, 
t
.
	`RefCouÁ
());

131 
	}
}

133 
	$TEST
(
K“pRefUÁDÚeTe¡
, 
scİed»f
) {

134 
RefCouÁedBšdTe¡”
 
t
;

135 
	`EXPECT_EQ
(0, 
t
.
	`RefCouÁ
());

137 
scİed_»åŒ
<
RefCouÁedBšdTe¡”
> 
	`t_scİed_»f
(&
t
);

138 
C®lback0
<> 
cb
 = 
	`K“pRefUÁDÚe
(
t_scİed_»f
);

139 
t_scİed_»f
 = 
nuÎ±r
;

140 
	`EXPECT_EQ
(1, 
t
.
	`RefCouÁ
());

141 
	`cb
();

142 
	`EXPECT_EQ
(1, 
t
.
	`RefCouÁ
());

144 
	`EXPECT_EQ
(0, 
t
.
	`RefCouÁ
());

145 
	}
}

	@checks.cc

14 
	~<c¡d¬g
>

15 
	~<c¡dio
>

16 
	~<c¡dlib
>

18 #ià
defšed
(
WEBRTC_ANDROID
)

19 
	#RTC_LOG_TAG_ANDROID
 "¹c"

	)

20 
	~<ªdroid/log.h
>

23 #ià
defšed
(
WEBRTC_WIN
)

24 
	~<wšdows.h
>

27 #ià
defšed
(
WEBRTC_WIN
)

28 
	#LAST_SYSTEM_ERROR
 (::
	`G‘La¡E¼Ü
())

	)

29 #–ià
defšed
(
__Çtive_ş›Á__
) && __native_client__

30 
	#LAST_SYSTEM_ERROR
 (0)

	)

31 #–ià
defšed
(
WEBRTC_POSIX
)

32 
	~<”ºo.h
>

33 
	#LAST_SYSTEM_ERROR
 (
”ºo
)

	)

36 
	~"¹c_ba£/checks.h
"

38 
	gÇme¥aû
 {

39 #ià
defšed
(
__GNUC__
)

40 
__©Œibu‹__
((
__fÜm©__
(
__´štf__
, 2, 3)))

42 
Aµ’dFÜm©
(
¡d
::
¡ršg
* 
s
, cÚ¡ * 
fmt
, ...) {

43 
va_li¡
 
	g¬gs
, 
	gcİy
;

44 
va_¡¬t
(
¬gs
, 
fmt
);

45 
va_cİy
(
cİy
, 
¬gs
);

46 cÚ¡ 
	g´ediùed_Ëngth
 = 
¡d
::
v¢´štf
(
nuÎ±r
, 0, 
fmt
, 
cİy
);

47 
va_’d
(
cİy
);

49 ià(
	g´ediùed_Ëngth
 > 0) {

50 cÚ¡ 
size_t
 
	gsize
 = 
s
->
size
();

51 
	gs
->
»size
(
size
 + 
´ediùed_Ëngth
);

53 
	g¡d
::
v¢´štf
(&((*
s
)[
size
]), 
´ediùed_Ëngth
 + 1, 
fmt
, 
¬gs
);

55 
va_’d
(
¬gs
);

59 
Çme¥aû
 
	g¹c
 {

60 
Çme¥aû
 
	gweb¹c_checks_im¶
 {

62 #ià
RTC_CHECK_MSG_ENABLED


65 
boŞ
 
P¬£Arg
(
va_li¡
* 
¬gs
, cÚ¡ 
CheckArgTy³
** 
fmt
, 
¡d
::
¡ršg
* 
s
) {

66 ià(**
fmt
 =ğ
CheckArgTy³
::
kEnd
)

67  
çl£
;

69 **
	gfmt
) {

70 
	gCheckArgTy³
::
kIÁ
:

71 
Aµ’dFÜm©
(
s
, "%d", 
va_¬g
(*
¬gs
, ));

73 
	gCheckArgTy³
::
kLÚg
:

74 
Aµ’dFÜm©
(
s
, "%ld", 
va_¬g
(*
¬gs
, ));

76 
	gCheckArgTy³
::
kLÚgLÚg
:

77 
Aµ’dFÜm©
(
s
, "%Îd", 
va_¬g
(*
¬gs
, ));

79 
	gCheckArgTy³
::
kUIÁ
:

80 
Aµ’dFÜm©
(
s
, "%u", 
va_¬g
(*
¬gs
, ));

82 
	gCheckArgTy³
::
kULÚg
:

83 
Aµ’dFÜm©
(
s
, "%lu", 
va_¬g
(*
¬gs
, ));

85 
	gCheckArgTy³
::
kULÚgLÚg
:

86 
Aµ’dFÜm©
(
s
, "%Îu", 
va_¬g
(*
¬gs
, ));

88 
	gCheckArgTy³
::
kDoubË
:

89 
Aµ’dFÜm©
(
s
, "%g", 
va_¬g
(*
¬gs
, ));

91 
	gCheckArgTy³
::
kLÚgDoubË
:

92 
Aµ’dFÜm©
(
s
, "%Lg", 
va_¬g
(*
¬gs
, ));

94 
	gCheckArgTy³
::
kCh¬P
:

95 
s
->
­³nd
(
va_¬g
(*
¬gs
, const *));

97 
	gCheckArgTy³
::
kStdSŒšg
:

98 
s
->
­³nd
(*
va_¬g
(*
¬gs
, cÚ¡ 
¡d
::
¡ršg
*));

100 
	gCheckArgTy³
::
kSŒšgV›w
: {

101 cÚ¡ 
ab¦
::
¡ršg_v›w
 
sv
 = *
va_¬g
(*
¬gs
, const‡bsl::string_view*);

102 
	gs
->
­³nd
(
sv
.
d©a
(), sv.
size
());

105 
	gCheckArgTy³
::
kVoidP
:

106 
Aµ’dFÜm©
(
s
, "%p", 
va_¬g
(*
¬gs
, const *));

109 
s
->
­³nd
("[Invalid CheckArgType]");

110  
	gçl£
;

112 (*
	gfmt
)++;

113  
	gŒue
;

116 
RTC_NORETURN
 
F©®Log
(cÚ¡ * 
fe
,

117 
lše
,

118 cÚ¡ * 
mes§ge
,

119 cÚ¡ 
CheckArgTy³
* 
fmt
,

121 
va_li¡
 
	g¬gs
;

122 
va_¡¬t
(
¬gs
, 
fmt
);

124 
	g¡d
::
¡ršg
 
s
;

125 
Aµ’dFÜm©
(&
s
,

131 
fe
, 
lše
, 
LAST_SYSTEM_ERROR
, 
mes§ge
);

133 ià(*
	gfmt
 =ğ
CheckArgTy³
::
kCheckOp
) {

137 
fmt
++;

139 
	g¡d
::
¡ršg
 
s1
, 
	gs2
;

140 ià(
P¬£Arg
(&
¬gs
, &
fmt
, &
s1
è&& P¬£Arg(&¬gs, &fmt, &
s2
))

141 
Aµ’dFÜm©
(&
s
, " (% vs. %s)\n# ", 
s1
.
c_¡r
(), 
s2
.c_str());

143 
	gs
.
­³nd
("\n# ");

147 
P¬£Arg
(&
¬gs
, &
fmt
, &
s
))

150 
va_’d
(
¬gs
);

152 cÚ¡ * 
	gouut
 = 
s
.
c_¡r
();

154 #ià
defšed
(
WEBRTC_ANDROID
)

155 
__ªdroid_log_´št
(
ANDROID_LOG_ERROR
, 
RTC_LOG_TAG_ANDROID
, "%s\n", 
ouut
);

158 
fæush
(
¡dout
);

159 
årštf
(
¡d”r
, "%s", 
ouut
);

160 
fæush
(
¡d”r
);

161 #ià
defšed
(
WEBRTC_WIN
)

162 
DebugB»ak
();

164 
abÜt
();

167 
RTC_NORETURN
 
F©®Log
(cÚ¡ * 
fe
, 
lše
) {

168 
	g¡d
::
¡ršg
 
s
;

169 
Aµ’dFÜm©
(&
s
,

176 
fe
, 
lše
, 
LAST_SYSTEM_ERROR
);

177 cÚ¡ * 
	gouut
 = 
s
.
c_¡r
();

179 #ià
defšed
(
WEBRTC_ANDROID
)

180 
__ªdroid_log_´št
(
ANDROID_LOG_ERROR
, 
RTC_LOG_TAG_ANDROID
, "%s\n", 
ouut
);

183 
fæush
(
¡dout
);

184 
årštf
(
¡d”r
, "%s", 
ouut
);

185 
fæush
(
¡d”r
);

186 #ià
defšed
(
WEBRTC_WIN
)

187 
DebugB»ak
();

189 
abÜt
();

197 
RTC_NORETURN
 
	$¹c_F©®Mes§ge
(cÚ¡ * 
fe
,

198 
lše
,

199 cÚ¡ * 
msg
) {

200 #ià
RTC_CHECK_MSG_ENABLED


201 
cÚ¡ex´
 
¹c
::
web¹c_checks_im¶
::
CheckArgTy³
 
t
[] = {

202 
¹c
::
web¹c_checks_im¶
::
CheckArgTy³
::
kEnd
};

203 
¹c
::
web¹c_checks_im¶
::
	`F©®Log
(
fe
, 
lše
, 
msg
, 
t
);

205 
¹c
::
web¹c_checks_im¶
::
	`F©®Log
(
fe
, 
lše
);

207 
	}
}

	@checks.h

11 #iâdeà
RTC_BASE_CHECKS_H_


12 
	#RTC_BASE_CHECKS_H_


	)

17 #ià!
defšed
(
NDEBUG
è|| defšed(
DCHECK_ALWAYS_ON
)

18 
	#RTC_DCHECK_IS_ON
 1

	)

20 
	#RTC_DCHECK_IS_ON
 0

	)

24 #ià
defšed
(
_MSC_VER
)

25 
	#RTC_NORETURN
 
	`__deş¥ec
(
nÜ‘uº
)

	)

26 #–ià
defšed
(
__GNUC__
)

27 
	#RTC_NORETURN
 
	`__©Œibu‹__
((
__nÜ‘uº__
))

	)

29 
	#RTC_NORETURN


	)

32 #ifdeà
__ılu¥lus


35 
RTC_NORETURN
 
¹c_F©®Mes§ge
(cÚ¡ * 
fe
, 
lše
, cÚ¡ * 
msg
);

36 #ifdeà
__ılu¥lus


40 #ifdeà
RTC_DISABLE_CHECK_MSG


41 
	#RTC_CHECK_MSG_ENABLED
 0

	)

43 
	#RTC_CHECK_MSG_ENABLED
 1

	)

46 #ià
RTC_CHECK_MSG_ENABLED


47 
	#RTC_CHECK_EVAL_MESSAGE
(
mes§ge
è
	)
message

49 
	#RTC_CHECK_EVAL_MESSAGE
(
mes§ge
è""

	)

52 #ifdeà
__ılu¥lus


55 
	~<¡ršg
>

57 
	~"ab¦/m‘a/ty³_Œa™s.h
"

58 
	~"ab¦/¡ršgs/¡ršg_v›w.h
"

59 
	~"¹c_ba£/num”ics/§ã_com·».h
"

60 
	~"¹c_ba£/sy¡em/šlše.h
"

61 
	~"¹c_ba£/sy¡em/¹c_expÜt.h
"

100 
Çme¥aû
 
¹c
 {

101 
Çme¥aû
 
web¹c_checks_im¶
 {

102 şas 
	cCheckArgTy³
 : 
št8_t
 {

103 
kEnd
 = 0,

104 
kIÁ
,

105 
kLÚg
,

106 
kLÚgLÚg
,

107 
kUIÁ
,

108 
kULÚg
,

109 
kULÚgLÚg
,

110 
kDoubË
,

111 
kLÚgDoubË
,

112 
kCh¬P
,

113 
kStdSŒšg
,

114 
kSŒšgV›w
,

115 
kVoidP
,

121 
kCheckOp
,

124 #ià
RTC_CHECK_MSG_ENABLED


125 
RTC_NORETURN
 
RTC_EXPORT
 
F©®Log
(cÚ¡ * 
fe
,

126 
lše
,

127 cÚ¡ * 
mes§ge
,

128 cÚ¡ 
CheckArgTy³
* 
fmt
,

131 
RTC_NORETURN
 
RTC_EXPORT
 
F©®Log
(cÚ¡ * 
fe
, 
lše
);

136 
‹m¶©e
 <
CheckArgTy³
 
N
, 
ty³Çme
 
T
>

137 
	sV®
 {

138 
cÚ¡ex´
 
CheckArgTy³
 
Ty³
(è{  
N
; }

139 
T
 
G‘V®
(ècÚ¡ {  
v®
; }

140 
T
 
v®
;

146 
	sToSŒšgV®
 {

147 
cÚ¡ex´
 
CheckArgTy³
 
Ty³
(è{  CheckArgTy³::
kStdSŒšg
; }

148 cÚ¡ 
¡d
::
¡ršg
* 
G‘V®
(ècÚ¡ {  &
v®
; }

149 
¡d
::
¡ršg
 
v®
;

152 
šlše
 
V®
<
CheckArgTy³
::
kIÁ
, > 
MakeV®
(
x
) {

153  {
x
};

155 
šlše
 
V®
<
CheckArgTy³
::
kLÚg
, > 
MakeV®
(
x
) {

156  {
x
};

158 
šlše
 
V®
<
CheckArgTy³
::
kLÚgLÚg
, > 
MakeV®
(
x
) {

159  {
x
};

161 
šlše
 
V®
<
CheckArgTy³
::
kUIÁ
, > 
MakeV®
(
x
) {

162  {
x
};

164 
šlše
 
V®
<
CheckArgTy³
::
kULÚg
, > 
MakeV®
(
x
) {

165  {
x
};

167 
šlše
 
V®
<
CheckArgTy³
::
kULÚgLÚg
, > 
MakeV®
(

168 
x
) {

169  {
x
};

172 
šlše
 
V®
<
CheckArgTy³
::
kDoubË
, > 
MakeV®
(
x
) {

173  {
x
};

175 
šlše
 
V®
<
CheckArgTy³
::
kLÚgDoubË
, > 
MakeV®
(
x
) {

176  {
x
};

179 
šlše
 
V®
<
CheckArgTy³
::
kCh¬P
, cÚ¡ *> 
MakeV®
(cÚ¡ * 
x
) {

180  {
x
};

182 
šlše
 
V®
<
CheckArgTy³
::
kStdSŒšg
, cÚ¡ 
¡d
::
¡ršg
*> 
MakeV®
(

183 cÚ¡ 
¡d
::
¡ršg
& 
x
) {

184  {&
x
};

186 
šlše
 
V®
<
CheckArgTy³
::
kSŒšgV›w
, cÚ¡ 
ab¦
::
¡ršg_v›w
*> 
MakeV®
(

187 cÚ¡ 
ab¦
::
¡ršg_v›w
& 
x
) {

188  {&
x
};

191 
šlše
 
V®
<
CheckArgTy³
::
kVoidP
, cÚ¡ *> 
MakeV®
(cÚ¡ * 
x
) {

192  {
x
};

196 
‹m¶©e
 <
ty³Çme
 
T
,

197 
ab¦
::
’abË_if_t
<
¡d
::
is_’um
<
T
>::
v®ue
 &&

198 !
¡d
::
is_¬™hm‘ic
<
T
>::
v®ue
>* = 
nuÎ±r
>

199 
šlše
 
deşty³
(
MakeV®
(
¡d
::
deşv®
<
ab¦
::
und”lyšg_ty³_t
<
T
>>())) MakeVal(

200 
T
 
x
) {

201  {
¡©ic_ÿ¡
<
ab¦
::
und”lyšg_ty³_t
<
T
>>(
x
)};

204 
‹m¶©e
 <
ty³Çme
 
T
, 
deşty³
(
ToLogSŒšg
(
¡d
::
deşv®
<T>()))* = 
nuÎ±r
>

205 
ToSŒšgV®
 
MakeV®
(cÚ¡ 
T
& 
x
) {

206  {
ToLogSŒšg
(
x
)};

210 
‹m¶©e
 <
ty³Çme
... 
Ts
>

211 
şass
 
LogSŒ—m”
;

214 
‹m¶©e
 <>

215 
şass
 
LogSŒ—m”
<> 
fš®
 {

216 
public
:

217 
‹m¶©e
 <
ty³Çme
 
U
,

218 
ty³Çme
 
V
 = 
deşty³
(
MakeV®
(
¡d
::
deşv®
<
U
>())),

219 
ab¦
::
’abË_if_t
<
¡d
::
is_¬™hm‘ic
<
U
>::
v®ue
 ||

220 
¡d
::
is_’um
<
U
>::
v®ue
>* = 
nuÎ±r
>

221 
RTC_FORCE_INLINE
 
LogSŒ—m”
<
V
> 
İ”©Ü
<<(
U
 
¬g
) const {

222  
LogSŒ—m”
<
V
>(
MakeV®
(
¬g
), 
this
);

225 
‹m¶©e
 <
ty³Çme
 
U
,

226 
ty³Çme
 
V
 = 
deşty³
(
MakeV®
(
¡d
::
deşv®
<
U
>())),

227 
ab¦
::
’abË_if_t
<!
¡d
::
is_¬™hm‘ic
<
U
>::
v®ue
 &&

228 !
¡d
::
is_’um
<
U
>::
v®ue
>* = 
nuÎ±r
>

229 
RTC_FORCE_INLINE
 
LogSŒ—m”
<
V
> 
İ”©Ü
<<(cÚ¡ 
U
& 
¬g
) const {

230  
LogSŒ—m”
<
V
>(
MakeV®
(
¬g
), 
this
);

233 #ià
RTC_CHECK_MSG_ENABLED


234 
‹m¶©e
 <
ty³Çme
... 
Us
>

235 
RTC_NORETURN
 
RTC_FORCE_INLINE
 
C®l
(cÚ¡ * 
fe
,

236 cÚ¡ 
lše
,

237 cÚ¡ * 
mes§ge
,

238 cÚ¡ 
Us
&... 
¬gs
) {

239 
cÚ¡ex´
 
CheckArgTy³
 
t
[] = {
Us
::
Ty³
()..., CheckArgTy³::
kEnd
};

240 
F©®Log
(
fe
, 
lše
, 
mes§ge
, 
t
, 
¬gs
.
G‘V®
()...);

243 
‹m¶©e
 <
ty³Çme
... 
Us
>

244 
RTC_NORETURN
 
RTC_FORCE_INLINE
 
C®lCheckOp
(cÚ¡ * 
fe
,

245 cÚ¡ 
lše
,

246 cÚ¡ * 
mes§ge
,

247 cÚ¡ 
Us
&... 
¬gs
) {

248 
cÚ¡ex´
 
CheckArgTy³
 
t
[] = {CheckArgTy³::
kCheckOp
, 
Us
::
Ty³
()...,

249 
CheckArgTy³
::
kEnd
};

250 
F©®Log
(
fe
, 
lše
, 
mes§ge
, 
t
, 
¬gs
.
G‘V®
()...);

253 
‹m¶©e
 <
ty³Çme
... 
Us
>

254 
RTC_NORETURN
 
RTC_FORCE_INLINE
 
C®l
(cÚ¡ * 
fe
,

255 cÚ¡ 
lše
) {

256 
F©®Log
(
fe
, 
lše
);

263 
‹m¶©e
 <
ty³Çme
 
T
,y³Çme... 
Ts
>

264 
şass
 
LogSŒ—m”
<
T
, 
Ts
...> 
fš®
 {

265 
public
:

266 
RTC_FORCE_INLINE
 
LogSŒ—m”
(
T
 
¬g
, cÚ¡ LogSŒ—m”<
Ts
...>* 
´iÜ
)

267 : 
¬g_
(
¬g
), 
´iÜ_
(
´iÜ
) {}

269 
‹m¶©e
 <
ty³Çme
 
U
,

270 
ty³Çme
 
V
 = 
deşty³
(
MakeV®
(
¡d
::
deşv®
<
U
>())),

271 
ab¦
::
’abË_if_t
<
¡d
::
is_¬™hm‘ic
<
U
>::
v®ue
 ||

272 
¡d
::
is_’um
<
U
>::
v®ue
>* = 
nuÎ±r
>

273 
RTC_FORCE_INLINE
 
LogSŒ—m”
<
V
, 
T
, 
Ts
...> 
İ”©Ü
<<(
U
 
¬g
) const {

274  
LogSŒ—m”
<
V
, 
T
, 
Ts
...>(
MakeV®
(
¬g
), 
this
);

277 
‹m¶©e
 <
ty³Çme
 
U
,

278 
ty³Çme
 
V
 = 
deşty³
(
MakeV®
(
¡d
::
deşv®
<
U
>())),

279 
ab¦
::
’abË_if_t
<!
¡d
::
is_¬™hm‘ic
<
U
>::
v®ue
 &&

280 !
¡d
::
is_’um
<
U
>::
v®ue
>* = 
nuÎ±r
>

281 
RTC_FORCE_INLINE
 
LogSŒ—m”
<
V
, 
T
, 
Ts
...> 
İ”©Ü
<<(cÚ¡ 
U
& 
¬g
) const {

282  
LogSŒ—m”
<
V
, 
T
, 
Ts
...>(
MakeV®
(
¬g
), 
this
);

285 #ià
RTC_CHECK_MSG_ENABLED


286 
‹m¶©e
 <
ty³Çme
... 
Us
>

287 
RTC_NORETURN
 
RTC_FORCE_INLINE
 
C®l
(cÚ¡ * 
fe
,

288 cÚ¡ 
lše
,

289 cÚ¡ * 
mes§ge
,

290 cÚ¡ 
Us
&... 
¬gs
) const {

291 
´iÜ_
->
C®l
(
fe
, 
lše
, 
mes§ge
, 
¬g_
, 
¬gs
...);

294 
‹m¶©e
 <
ty³Çme
... 
Us
>

295 
RTC_NORETURN
 
RTC_FORCE_INLINE
 
C®lCheckOp
(cÚ¡ * 
fe
,

296 cÚ¡ 
lše
,

297 cÚ¡ * 
mes§ge
,

298 cÚ¡ 
Us
&... 
¬gs
) const {

299 
´iÜ_
->
C®lCheckOp
(
fe
, 
lše
, 
mes§ge
, 
¬g_
, 
¬gs
...);

302 
‹m¶©e
 <
ty³Çme
... 
Us
>

303 
RTC_NORETURN
 
RTC_FORCE_INLINE
 
C®l
(cÚ¡ * 
fe
,

304 cÚ¡ 
lše
) const {

305 
´iÜ_
->
C®l
(
fe
, 
lše
);

309 
´iv©e
:

311 
T
 
¬g_
;

314 cÚ¡ 
LogSŒ—m”
<
Ts
...>* 
´iÜ_
;

317 
‹m¶©e
 <
boŞ
 
isCheckOp
>

318 şas 
	cF©®LogC®l
 
fš®
 {

319 
public
:

320 
F©®LogC®l
(cÚ¡ * 
fe
, 
lše
, cÚ¡ * 
mes§ge
)

321 : 
fe_
(
fe
), 
lše_
(
lše
), 
mes§ge_
(
mes§ge
) {}

324 
‹m¶©e
 <
ty³Çme
... 
Ts
>

325 
RTC_NORETURN
 
RTC_FORCE_INLINE
 
İ”©Ü
&(

326 cÚ¡ 
LogSŒ—m”
<
Ts
...>& 
¡»am”
) {

327 #ià
RTC_CHECK_MSG_ENABLED


328 
isCheckOp
 ? 
¡»am”
.
C®lCheckOp
(
fe_
, 
lše_
, 
mes§ge_
)

329 : 
¡»am”
.
C®l
(
fe_
, 
lše_
, 
mes§ge_
);

331 
¡»am”
.
C®l
(
fe_
, 
lše_
);

335 
´iv©e
:

336 cÚ¡ * 
fe_
;

337 
lše_
;

338 cÚ¡ * 
mes§ge_
;

348 
	#RTC_EAT_STREAM_PARAMETERS
(
ignÜed
) \

349 (
Œue
 ?ru: (()(
ignÜed
),rue)) \

350 ? 
¡©ic_ÿ¡
<>(0) \

351 : ::
¹c
::
web¹c_checks_im¶
::
F©®LogC®l
<
çl£
>("", 0, "") & \

352 ::
¹c
::
web¹c_checks_im¶
::
LogSŒ—m”
<>()

	)

357 
	#RTC_EAT_STREAM_PARAMETERS_OP
(
İ
, 
a
, 
b
) \

358 
	`RTC_EAT_STREAM_PARAMETERS
((()::
¹c
::
Saã
##
	`İ
(
a
, 
b
)))

	)

369 #ià
RTC_CHECK_MSG_ENABLED


370 
	#RTC_CHECK
(
cÚd™iÚ
) \

371 (
cÚd™iÚ
è? 
¡©ic_ÿ¡
<>(0) \

372 : ::
¹c
::
web¹c_checks_im¶
::
F©®LogC®l
<
çl£
>( \

373 
__FILE__
, 
__LINE__
, #condition) & \

374 ::
¹c
::
web¹c_checks_im¶
::
LogSŒ—m”
<>()

	)

376 
	#RTC_CHECK_OP
(
Çme
, 
İ
, 
v®1
, 
v®2
) \

377 ::
¹c
::
Saã
##
	`Çme
((
v®1
), (
v®2
)) \

378 ? 
¡©ic_ÿ¡
<>(0) \

379 : ::
¹c
::
web¹c_checks_im¶
::
F©®LogC®l
<
Œue
>( \

380 
__FILE__
, 
__LINE__
, #val1 " " #op " " #val2) & \

381 ::
¹c
::
web¹c_checks_im¶
::
LogSŒ—m”
<>(è<< (
v®1
è<< (
v®2
)

	)

383 
	#RTC_CHECK
(
cÚd™iÚ
) \

384 (
cÚd™iÚ
) \

385 ? 
¡©ic_ÿ¡
<>(0) \

386 : 
Œue
 ? ::
¹c
::
web¹c_checks_im¶
::
F©®LogC®l
<
çl£
>(
__FILE__
, \

387 
__LINE__
, "") & \

388 ::
¹c
::
web¹c_checks_im¶
::
LogSŒ—m”
<>() \

389 : ::
¹c
::
web¹c_checks_im¶
::
F©®LogC®l
<
çl£
>("", 0, "") & \

390 ::
¹c
::
web¹c_checks_im¶
::
LogSŒ—m”
<>()

	)

392 
	#RTC_CHECK_OP
(
Çme
, 
İ
, 
v®1
, 
v®2
) \

393 ::
¹c
::
Saã
##
	`Çme
((
v®1
), (
v®2
)) \

394 ? 
¡©ic_ÿ¡
<>(0) \

395 : 
Œue
 ? ::
¹c
::
web¹c_checks_im¶
::
F©®LogC®l
<Œue>(
__FILE__
, \

396 
__LINE__
, "") & \

397 ::
¹c
::
web¹c_checks_im¶
::
LogSŒ—m”
<>() \

398 : ::
¹c
::
web¹c_checks_im¶
::
F©®LogC®l
<
çl£
>("", 0, "") & \

399 ::
¹c
::
web¹c_checks_im¶
::
LogSŒ—m”
<>()

	)

402 
	#RTC_CHECK_EQ
(
v®1
, 
v®2
è
	`RTC_CHECK_OP
(
Eq
, ==, v®1, v®2)

	)

403 
	#RTC_CHECK_NE
(
v®1
, 
v®2
è
	`RTC_CHECK_OP
(
Ne
, !=, v®1, v®2)

	)

404 
	#RTC_CHECK_LE
(
v®1
, 
v®2
è
	`RTC_CHECK_OP
(
Le
, <=, v®1, v®2)

	)

405 
	#RTC_CHECK_LT
(
v®1
, 
v®2
è
	`RTC_CHECK_OP
(
Lt
, <, v®1, v®2)

	)

406 
	#RTC_CHECK_GE
(
v®1
, 
v®2
è
	`RTC_CHECK_OP
(
Ge
, >=, v®1, v®2)

	)

407 
	#RTC_CHECK_GT
(
v®1
, 
v®2
è
	`RTC_CHECK_OP
(
Gt
, >, v®1, v®2)

	)

412 #ià
RTC_DCHECK_IS_ON


413 
	#RTC_DCHECK
(
cÚd™iÚ
è
	`RTC_CHECK
(cÚd™iÚ)

	)

414 
	#RTC_DCHECK_EQ
(
v1
, 
v2
è
	`RTC_CHECK_EQ
(v1, v2)

	)

415 
	#RTC_DCHECK_NE
(
v1
, 
v2
è
	`RTC_CHECK_NE
(v1, v2)

	)

416 
	#RTC_DCHECK_LE
(
v1
, 
v2
è
	`RTC_CHECK_LE
(v1, v2)

	)

417 
	#RTC_DCHECK_LT
(
v1
, 
v2
è
	`RTC_CHECK_LT
(v1, v2)

	)

418 
	#RTC_DCHECK_GE
(
v1
, 
v2
è
	`RTC_CHECK_GE
(v1, v2)

	)

419 
	#RTC_DCHECK_GT
(
v1
, 
v2
è
	`RTC_CHECK_GT
(v1, v2)

	)

421 
	#RTC_DCHECK
(
cÚd™iÚ
è
	`RTC_EAT_STREAM_PARAMETERS
(cÚd™iÚ)

	)

422 
	#RTC_DCHECK_EQ
(
v1
, 
v2
è
	`RTC_EAT_STREAM_PARAMETERS_OP
(
Eq
, v1, v2)

	)

423 
	#RTC_DCHECK_NE
(
v1
, 
v2
è
	`RTC_EAT_STREAM_PARAMETERS_OP
(
Ne
, v1, v2)

	)

424 
	#RTC_DCHECK_LE
(
v1
, 
v2
è
	`RTC_EAT_STREAM_PARAMETERS_OP
(
Le
, v1, v2)

	)

425 
	#RTC_DCHECK_LT
(
v1
, 
v2
è
	`RTC_EAT_STREAM_PARAMETERS_OP
(
Lt
, v1, v2)

	)

426 
	#RTC_DCHECK_GE
(
v1
, 
v2
è
	`RTC_EAT_STREAM_PARAMETERS_OP
(
Ge
, v1, v2)

	)

427 
	#RTC_DCHECK_GT
(
v1
, 
v2
è
	`RTC_EAT_STREAM_PARAMETERS_OP
(
Gt
, v1, v2)

	)

430 
	#RTC_UNREACHABLE_CODE_HIT
 
çl£


	)

431 
	#RTC_NOTREACHED
(è
	`RTC_DCHECK
(
RTC_UNREACHABLE_CODE_HIT
)

	)

434 
	#FATAL
() \

435 ::
¹c
::
web¹c_checks_im¶
::
F©®LogC®l
<
çl£
>(
__FILE__
, 
__LINE__
, \

437 ::
¹c
::
web¹c_checks_im¶
::
LogSŒ—m”
<>()

	)

441 
‹m¶©e
 <
ty³Çme
 
T
>

442 
šlše
 
T
 
CheckedDivExaù
(T 
a
, T 
b
) {

443 
RTC_CHECK_EQ
(
a
 % 
b
, 0) <<‡ << " is‚otƒvenly divisible by " << b;

444  
a
 / 
b
;

453 
	#RTC_CHECK
(
cÚd™iÚ
) \

455 ià(!(
cÚd™iÚ
)) { \

456 
	`¹c_F©®Mes§ge
(
__FILE__
, 
__LINE__
, \

457 
	`RTC_CHECK_EVAL_MESSAGE
("CHECK failed: " #condition)); \

459 } 0)

	)

461 
	#RTC_CHECK_EQ
(
a
, 
b
è
	`RTC_CHECK
(×è=ğ(b))

	)

462 
	#RTC_CHECK_NE
(
a
, 
b
è
	`RTC_CHECK
(×è!ğ(b))

	)

463 
	#RTC_CHECK_LE
(
a
, 
b
è
	`RTC_CHECK
(×è<ğ(b))

	)

464 
	#RTC_CHECK_LT
(
a
, 
b
è
	`RTC_CHECK
(×è< (b))

	)

465 
	#RTC_CHECK_GE
(
a
, 
b
è
	`RTC_CHECK
(×è>ğ(b))

	)

466 
	#RTC_CHECK_GT
(
a
, 
b
è
	`RTC_CHECK
(×è> (b))

	)

468 
	#RTC_DCHECK
(
cÚd™iÚ
) \

470 ià(
RTC_DCHECK_IS_ON
 && !(
cÚd™iÚ
)) { \

471 
	`¹c_F©®Mes§ge
(
__FILE__
, 
__LINE__
, \

472 
	`RTC_CHECK_EVAL_MESSAGE
("DCHECK failed: " #condition)); \

474 
	}
} 0)

	)

476 
	#RTC_DCHECK_EQ
(
a
, 
b
è
	`RTC_DCHECK
(×è=ğ(b))

	)

477 
	#RTC_DCHECK_NE
(
a
, 
b
è
	`RTC_DCHECK
(×è!ğ(b))

	)

478 
	#RTC_DCHECK_LE
(
a
, 
b
è
	`RTC_DCHECK
(×è<ğ(b))

	)

479 
	#RTC_DCHECK_LT
(
a
, 
b
è
	`RTC_DCHECK
(×è< (b))

	)

480 
	#RTC_DCHECK_GE
(
a
, 
b
è
	`RTC_DCHECK
(×è>ğ(b))

	)

481 
	#RTC_DCHECK_GT
(
a
, 
b
è
	`RTC_DCHECK
(×è> (b))

	)

	@checks_unittest.cc

11 
	~"¹c_ba£/checks.h
"

13 
	~"‹¡/g‹¡.h
"

15 
	$TEST
(
ChecksTe¡
, 
Ex´essiÚNÙEv®u©edWh’CheckPassšg
) {

16 
i
 = 0;

17 
	`RTC_CHECK
(
Œue
è<< "i=" << ++
i
;

18 
	`RTC_CHECK_EQ
(
i
, 0) << "Previous check…assed, but i was incremented!";

19 
	}
}

21 #ià
GTEST_HAS_DEATH_TEST
 && !
defšed
(
WEBRTC_ANDROID
)

22 
	$TEST
(
ChecksTe¡
, 
Checks
) {

23 #ià
RTC_CHECK_MSG_ENABLED


24 
	`EXPECT_DEATH
(
	`FATAL
() << "message",

31 
a
 = 1, 
b
 = 2;

32 
	`EXPECT_DEATH
(
	`RTC_CHECK_EQ
(
a
, 
b
) << 1 << 2u,

38 
	`RTC_CHECK_EQ
(5, 5);

40 
	`RTC_CHECK
(
Œue
) << "Shouldn't crash" << 1;

41 
	`EXPECT_DEATH
(
	`RTC_CHECK
(
çl£
) << "Hihere!",

48 
	`EXPECT_DEATH
(
	`FATAL
() << "message",

55 
a
 = 1, 
b
 = 2;

56 
	`EXPECT_DEATH
(
	`RTC_CHECK_EQ
(
a
, 
b
) << 1 << 2u,

62 
	`RTC_CHECK_EQ
(5, 5);

64 
	`RTC_CHECK
(
Œue
) << "Shouldn't crash" << 1;

65 
	`EXPECT_DEATH
(
	`RTC_CHECK
(
çl£
) << "Hihere!",

72 
	}
}

	@compile_assert_c.h

11 #iâdeà
RTC_BASE_COMPILE_ASSERT_C_H_


12 
	#RTC_BASE_COMPILE_ASSERT_C_H_


	)

19 
	#RTC_COMPILE_ASSERT
(
ex´essiÚ
) \

22 
ex´essiÚ
:; \

23 }

	)

	@constructor_magic.h

11 #iâdeà
RTC_BASE_CONSTRUCTOR_MAGIC_H_


12 
	#RTC_BASE_CONSTRUCTOR_MAGIC_H_


	)

15 
	#RTC_DISALLOW_ASSIGN
(
Ty³Name
) \

16 
Ty³Name
& 
İ”©Ü
=(cÚ¡ Ty³Name&èğ
d–‘e


	)

20 
	#RTC_DISALLOW_COPY_AND_ASSIGN
(
Ty³Name
) \

21 
	`Ty³Name
(cÚ¡ 
Ty³Name
&èğ
d–‘e
; \

22 
	`RTC_DISALLOW_ASSIGN
(
Ty³Name
)

	)

30 
	#RTC_DISALLOW_IMPLICIT_CONSTRUCTORS
(
Ty³Name
) \

31 
	`Ty³Name
(èğ
d–‘e
; \

32 
	`RTC_DISALLOW_COPY_AND_ASSIGN
(
Ty³Name
)

	)

	@copy_on_write_buffer.cc

11 
	~"¹c_ba£/cİy_Ú_wr™e_bufãr.h
"

13 
	~<¡ddef.h
>

15 
Çme¥aû
 
	g¹c
 {

17 
	gCİyOnWr™eBufãr
::
CİyOnWr™eBufãr
(è: 
off£t_
(0), 
size_
(0) {

18 
RTC_DCHECK
(
IsCÚsi¡’t
());

21 
	gCİyOnWr™eBufãr
::
CİyOnWr™eBufãr
(cÚ¡ CİyOnWr™eBufãr& 
buf
)

22 : 
bufãr_
(
buf
.bufãr_), 
off£t_
(buf.off£t_), 
size_
(buf.size_) {}

24 
	gCİyOnWr™eBufãr
::
CİyOnWr™eBufãr
(CİyOnWr™eBufãr&& 
buf
)

25 : 
bufãr_
(
¡d
::
move
(
buf
.bufãr_)), 
off£t_
(buf.off£t_), 
size_
(buf.size_) {

26 
	gbuf
.
	goff£t_
 = 0;

27 
	gbuf
.
	gsize_
 = 0;

28 
RTC_DCHECK
(
IsCÚsi¡’t
());

31 
	gCİyOnWr™eBufãr
::
CİyOnWr™eBufãr
(cÚ¡ 
¡d
::
¡ršg
& 
s
)

32 : 
CİyOnWr™eBufãr
(
s
.
d©a
(), s.
Ëngth
()) {}

34 
	gCİyOnWr™eBufãr
::
CİyOnWr™eBufãr
(
size_t
 
size
)

35 : 
bufãr_
(
size
 > 0 ? 
Ãw
 
RefCouÁedObjeù
<
Bufãr
>(sizeè: 
nuÎ±r
),

36 
off£t_
(0),

37 
size_
(
size
) {

38 
RTC_DCHECK
(
IsCÚsi¡’t
());

41 
	gCİyOnWr™eBufãr
::
CİyOnWr™eBufãr
(
size_t
 
size
, size_ˆ
ÿ·c™y
)

42 : 
bufãr_
(
size
 > 0 || 
ÿ·c™y
 > 0

43 ? 
Ãw
 
RefCouÁedObjeù
<
Bufãr
>(
size
, 
ÿ·c™y
)

44 : 
nuÎ±r
),

45 
off£t_
(0),

46 
size_
(
size
) {

47 
RTC_DCHECK
(
IsCÚsi¡’t
());

50 
	gCİyOnWr™eBufãr
::~
CİyOnWr™eBufãr
() = ;

52 
boŞ
 
	gCİyOnWr™eBufãr
::
İ”©Ü
==(cÚ¡ 
CİyOnWr™eBufãr
& 
buf
) const {

54 
RTC_DCHECK
(
IsCÚsi¡’t
());

55 
RTC_DCHECK
(
buf
.
IsCÚsi¡’t
());

56  
	gsize_
 =ğ
buf
.
size_
 &&

57 (
cd©a
(è=ğ
buf
.cd©a(è|| 
memcmp
(cd©a(), buf.cd©a(), 
size_
) == 0);

60 
	gCİyOnWr™eBufãr
::
S‘Size
(
size_t
 
size
) {

61 
RTC_DCHECK
(
IsCÚsi¡’t
());

62 ià(!
	gbufãr_
) {

63 ià(
	gsize
 > 0) {

64 
	gbufãr_
 = 
Ãw
 
RefCouÁedObjeù
<
Bufãr
>(
size
);

65 
	goff£t_
 = 0;

66 
	gsize_
 = 
size
;

68 
RTC_DCHECK
(
IsCÚsi¡’t
());

72 ià(
	gsize
 <ğ
size_
) {

73 
size_
 = 
size
;

77 
Unsh¬eAndEnsu»C­ac™y
(
¡d
::
max
(
ÿ·c™y
(), 
size
));

78 
	gbufãr_
->
S‘Size
(
size
 + 
off£t_
);

79 
	gsize_
 = 
size
;

80 
RTC_DCHECK
(
IsCÚsi¡’t
());

83 
	gCİyOnWr™eBufãr
::
Ensu»C­ac™y
(
size_t
 
Ãw_ÿ·c™y
) {

84 
RTC_DCHECK
(
IsCÚsi¡’t
());

85 ià(!
	gbufãr_
) {

86 ià(
	gÃw_ÿ·c™y
 > 0) {

87 
	gbufãr_
 = 
Ãw
 
RefCouÁedObjeù
<
Bufãr
>(0, 
	gÃw_ÿ·c™y
);

88 
	goff£t_
 = 0;

89 
	gsize_
 = 0;

91 
RTC_DCHECK
(
IsCÚsi¡’t
());

93 } ià(
	gÃw_ÿ·c™y
 <ğ
ÿ·c™y
()) {

97 
Unsh¬eAndEnsu»C­ac™y
(
Ãw_ÿ·c™y
);

98 
RTC_DCHECK
(
IsCÚsi¡’t
());

101 
	gCİyOnWr™eBufãr
::
CË¬
() {

102 ià(!
bufãr_
)

105 ià(
	gbufãr_
->
HasOÃRef
()) {

106 
	gbufãr_
->
CË¬
();

108 
	gbufãr_
 = 
Ãw
 
RefCouÁedObjeù
<
Bufãr
>(0, 
ÿ·c™y
());

110 
	goff£t_
 = 0;

111 
	gsize_
 = 0;

112 
RTC_DCHECK
(
IsCÚsi¡’t
());

115 
	gCİyOnWr™eBufãr
::
Unsh¬eAndEnsu»C­ac™y
(
size_t
 
Ãw_ÿ·c™y
) {

116 ià(
bufãr_
->
HasOÃRef
(è&& 
Ãw_ÿ·c™y
 <ğ
ÿ·c™y
()) {

120 
	gbufãr_
 = 
Ãw
 
RefCouÁedObjeù
<
Bufãr
>(
bufãr_
->
d©a
(è+ 
off£t_
, 
	gsize_
,

121 
	gÃw_ÿ·c™y
);

122 
	goff£t_
 = 0;

123 
RTC_DCHECK
(
IsCÚsi¡’t
());

	@copy_on_write_buffer.h

11 #iâdeà
RTC_BASE_COPY_ON_WRITE_BUFFER_H_


12 
	#RTC_BASE_COPY_ON_WRITE_BUFFER_H_


	)

14 
	~<¡dšt.h
>

16 
	~<®gÜ™hm
>

17 
	~<c¡ršg
>

18 
	~<¡ršg
>

19 
	~<ty³_Œa™s
>

20 
	~<ut™y
>

22 
	~"­i/scİed_»åŒ.h
"

23 
	~"¹c_ba£/bufãr.h
"

24 
	~"¹c_ba£/checks.h
"

25 
	~"¹c_ba£/»f_couÁed_objeù.h
"

26 
	~"¹c_ba£/sy¡em/¹c_expÜt.h
"

28 
Çme¥aû
 
	g¹c
 {

30 şas 
	cRTC_EXPORT
 
	gCİyOnWr™eBufãr
 {

31 
	gpublic
:

33 
CİyOnWr™eBufãr
();

35 
CİyOnWr™eBufãr
(cÚ¡ CİyOnWr™eBufãr& 
buf
);

37 
CİyOnWr™eBufãr
(CİyOnWr™eBufãr&& 
buf
);

40 
CİyOnWr™eBufãr
(cÚ¡ 
¡d
::
¡ršg
& 
s
);

43 
ex¶ic™
 
CİyOnWr™eBufãr
(
size_t
 
size
);

44 
CİyOnWr™eBufãr
(
size_t
 
size
, size_ˆ
ÿ·c™y
);

48 
	g‹m¶©e
 <
ty³Çme
 
	gT
,

49 
ty³Çme
 
	g¡d
::
’abË_if
<

50 
š‹º®
::
BufãrCom·t
<
ušt8_t
, 
	gT
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

51 
CİyOnWr™eBufãr
(cÚ¡ 
T
* 
d©a
, 
size_t
 
size
)

52 : 
CİyOnWr™eBufãr
(
d©a
, 
size
, size) {}

53 
	g‹m¶©e
 <
ty³Çme
 
	gT
,

54 
ty³Çme
 
	g¡d
::
’abË_if
<

55 
š‹º®
::
BufãrCom·t
<
ušt8_t
, 
	gT
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

56 
CİyOnWr™eBufãr
(cÚ¡ 
T
* 
d©a
, 
size_t
 
size
, size_ˆ
ÿ·c™y
)

57 : 
CİyOnWr™eBufãr
(
size
, 
ÿ·c™y
) {

58 ià(
	gbufãr_
) {

59 
	g¡d
::
memıy
(
bufãr_
->
d©a
(), d©a, 
size
);

60 
	goff£t_
 = 0;

61 
	gsize_
 = 
size
;

66 
	g‹m¶©e
 <
ty³Çme
 
	gT
,

67 
size_t
 
	gN
,

68 
ty³Çme
 
	g¡d
::
’abË_if
<

69 
š‹º®
::
BufãrCom·t
<
ušt8_t
, 
	gT
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

70 
CİyOnWr™eBufãr
(cÚ¡ 
T
 (&
¬¿y
)[
N
])

71 : 
CİyOnWr™eBufãr
(
¬¿y
, 
N
) {}

73 ~
CİyOnWr™eBufãr
();

77 
	g‹m¶©e
 <
ty³Çme
 
	gT
 = 
ušt8_t
,

78 
ty³Çme
 
	g¡d
::
’abË_if
<

79 
š‹º®
::
BufãrCom·t
<
ušt8_t
, 
	gT
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

80 cÚ¡ 
T
* 
d©a
() const {

81  
cd©a
<
T
>();

86 
	g‹m¶©e
 <
ty³Çme
 
	gT
 = 
ušt8_t
,

87 
ty³Çme
 
	g¡d
::
’abË_if
<

88 
š‹º®
::
BufãrCom·t
<
ušt8_t
, 
	gT
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

89 
T
* 
d©a
() {

90 
RTC_DCHECK
(
IsCÚsi¡’t
());

91 ià(!
	gbufãr_
) {

92  
	gnuÎ±r
;

94 
Unsh¬eAndEnsu»C­ac™y
(
ÿ·c™y
());

95  
	gbufãr_
->
	gd©a
<
	gT
>(è+ 
	goff£t_
;

100 
	g‹m¶©e
 <
ty³Çme
 
	gT
 = 
ušt8_t
,

101 
ty³Çme
 
	g¡d
::
’abË_if
<

102 
š‹º®
::
BufãrCom·t
<
ušt8_t
, 
	gT
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

103 cÚ¡ 
T
* 
cd©a
() const {

104 
RTC_DCHECK
(
IsCÚsi¡’t
());

105 ià(!
	gbufãr_
) {

106  
	gnuÎ±r
;

108  
	gbufãr_
->
	gd©a
<
	gT
>(è+ 
	goff£t_
;

111 
size_t
 
size
() const {

112 
RTC_DCHECK
(
IsCÚsi¡’t
());

113  
	gsize_
;

116 
size_t
 
ÿ·c™y
() const {

117 
RTC_DCHECK
(
IsCÚsi¡’t
());

118  
	gbufãr_
 ? bufãr_->
ÿ·c™y
(è- 
	goff£t_
 : 0;

121 
	gCİyOnWr™eBufãr
& 
	gİ”©Ü
=(cÚ¡ 
CİyOnWr™eBufãr
& 
buf
) {

122 
RTC_DCHECK
(
IsCÚsi¡’t
());

123 
RTC_DCHECK
(
buf
.
IsCÚsi¡’t
());

124 ià(&
	gbuf
 !ğ
this
) {

125 
bufãr_
 = 
buf
.buffer_;

126 
	goff£t_
 = 
buf
.
off£t_
;

127 
	gsize_
 = 
buf
.
size_
;

129  *
	gthis
;

132 
	gCİyOnWr™eBufãr
& 
	gİ”©Ü
=(
CİyOnWr™eBufãr
&& 
buf
) {

133 
RTC_DCHECK
(
IsCÚsi¡’t
());

134 
RTC_DCHECK
(
buf
.
IsCÚsi¡’t
());

135 
	gbufãr_
 = 
¡d
::
move
(
buf
.
bufãr_
);

136 
	goff£t_
 = 
buf
.
off£t_
;

137 
	gsize_
 = 
buf
.
size_
;

138 
	gbuf
.
	goff£t_
 = 0;

139 
	gbuf
.
	gsize_
 = 0;

140  *
	gthis
;

143 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
CİyOnWr™eBufãr
& 
buf
) const;

145 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
CİyOnWr™eBufãr
& 
buf
) const {

146  !(*
this
 =ğ
buf
);

149 
	gušt8_t
& 
	gİ”©Ü
[](
size_t
 
	gšdex
) {

150 
RTC_DCHECK_LT
(
šdex
, 
size
());

151  
d©a
()[
šdex
];

154 
ušt8_t
 
	gİ”©Ü
[](
size_t
 
	gšdex
) const {

155 
RTC_DCHECK_LT
(
šdex
, 
size
());

156  
cd©a
()[
šdex
];

161 
	g‹m¶©e
 <
ty³Çme
 
	gT
,

162 
ty³Çme
 
	g¡d
::
’abË_if
<

163 
š‹º®
::
BufãrCom·t
<
ušt8_t
, 
	gT
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

164 
S‘D©a
(cÚ¡ 
T
* 
d©a
, 
size_t
 
size
) {

165 
RTC_DCHECK
(
IsCÚsi¡’t
());

166 ià(!
	gbufãr_
) {

167 
	gbufãr_
 = 
size
 > 0 ? 
Ãw
 
RefCouÁedObjeù
<
Bufãr
>(
d©a
, 
	gsize
è: 
nuÎ±r
;

168 } ià(!
	gbufãr_
->
HasOÃRef
()) {

169 
	gbufãr_
 = 
Ãw
 
RefCouÁedObjeù
<
Bufãr
>(
d©a
, 
	gsize
, 
ÿ·c™y
());

171 
	gbufãr_
->
S‘D©a
(
d©a
, 
size
);

173 
	goff£t_
 = 0;

174 
	gsize_
 = 
size
;

176 
RTC_DCHECK
(
IsCÚsi¡’t
());

179 
	g‹m¶©e
 <
ty³Çme
 
	gT
,

180 
size_t
 
	gN
,

181 
ty³Çme
 
	g¡d
::
’abË_if
<

182 
š‹º®
::
BufãrCom·t
<
ušt8_t
, 
	gT
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

183 
S‘D©a
(cÚ¡ 
T
 (&
¬¿y
)[
N
]) {

184 
S‘D©a
(
¬¿y
, 
N
);

187 
S‘D©a
(cÚ¡ 
CİyOnWr™eBufãr
& 
buf
) {

188 
RTC_DCHECK
(
IsCÚsi¡’t
());

189 
RTC_DCHECK
(
buf
.
IsCÚsi¡’t
());

190 ià(&
	gbuf
 !ğ
this
) {

191 
bufãr_
 = 
buf
.buffer_;

192 
	goff£t_
 = 
buf
.
off£t_
;

193 
	gsize_
 = 
buf
.
size_
;

198 
	g‹m¶©e
 <
ty³Çme
 
	gT
,

199 
ty³Çme
 
	g¡d
::
’abË_if
<

200 
š‹º®
::
BufãrCom·t
<
ušt8_t
, 
	gT
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

201 
Aµ’dD©a
(cÚ¡ 
T
* 
d©a
, 
size_t
 
size
) {

202 
RTC_DCHECK
(
IsCÚsi¡’t
());

203 ià(!
	gbufãr_
) {

204 
	gbufãr_
 = 
Ãw
 
RefCouÁedObjeù
<
Bufãr
>(
d©a
, 
	gsize
);

205 
	goff£t_
 = 0;

206 
	gsize_
 = 
size
;

207 
RTC_DCHECK
(
IsCÚsi¡’t
());

211 
Unsh¬eAndEnsu»C­ac™y
(
¡d
::
max
(
ÿ·c™y
(), 
size_
 + 
size
));

213 
	gbufãr_
->
S‘Size
(
off£t_
 +

214 
size_
);

215 
	gbufãr_
->
Aµ’dD©a
(
d©a
, 
size
);

216 
	gsize_
 +ğ
size
;

218 
RTC_DCHECK
(
IsCÚsi¡’t
());

221 
	g‹m¶©e
 <
ty³Çme
 
	gT
,

222 
size_t
 
	gN
,

223 
ty³Çme
 
	g¡d
::
’abË_if
<

224 
š‹º®
::
BufãrCom·t
<
ušt8_t
, 
	gT
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

225 
Aµ’dD©a
(cÚ¡ 
T
 (&
¬¿y
)[
N
]) {

226 
Aµ’dD©a
(
¬¿y
, 
N
);

229 
Aµ’dD©a
(cÚ¡ 
CİyOnWr™eBufãr
& 
buf
) {

230 
Aµ’dD©a
(
buf
.
d©a
(), buf.
size
());

237 
S‘Size
(
size_t
 
size
);

242 
Ensu»C­ac™y
(
size_t
 
ÿ·c™y
);

246 
CË¬
();

249 
ä›nd
 
sw­
(
CİyOnWr™eBufãr
& 
a
, CİyOnWr™eBufãr& 
b
) {

250 
	g¡d
::
sw­
(
a
.
bufãr_
, 
b
.buffer_);

251 
	g¡d
::
sw­
(
a
.
off£t_
, 
b
.offset_);

252 
	g¡d
::
sw­
(
a
.
size_
, 
b
.size_);

255 
CİyOnWr™eBufãr
 
Sliû
(
size_t
 
off£t
, size_ˆ
Ëngth
) const {

256 
CİyOnWr™eBufãr
 
¦iû
(*
this
);

257 
RTC_DCHECK_LE
(
off£t
, 
size_
);

258 
RTC_DCHECK_LE
(
Ëngth
 + 
off£t
, 
size_
);

259 
	g¦iû
.
	goff£t_
 +ğ
off£t
;

260 
	g¦iû
.
	gsize_
 = 
Ëngth
;

261  
	g¦iû
;

264 
	g´iv©e
:

267 
Unsh¬eAndEnsu»C­ac™y
(
size_t
 
Ãw_ÿ·c™y
);

270 
boŞ
 
IsCÚsi¡’t
() const {

271 ià(
	gbufãr_
) {

272  
	gbufãr_
->
ÿ·c™y
(è> 0 && 
	goff£t_
 <ğ
bufãr_
->
size
() &&

273 
off£t_
 + 
size_
 <ğ
bufãr_
->
size
();

275  
	gsize_
 =ğ0 && 
off£t_
 == 0;

280 
	gscİed_»åŒ
<
	gRefCouÁedObjeù
<
	gBufãr
>> 
	gbufãr_
;

282 
size_t
 
	goff£t_
;

284 
size_t
 
	gsize_
;

	@copy_on_write_buffer_unittest.cc

11 
	~"¹c_ba£/cİy_Ú_wr™e_bufãr.h
"

13 
	~<c¡dšt
>

15 
	~"‹¡/g‹¡.h
"

17 
Çme¥aû
 
	g¹c
 {

19 
	gÇme¥aû
 {

22 cÚ¡ 
ušt8_t
 
	gkTe¡D©a
[] = {0x0, 0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7,

28 
Ensu»BufãrsSh¬eD©a
(cÚ¡ 
CİyOnWr™eBufãr
& 
buf1
,

29 cÚ¡ 
CİyOnWr™eBufãr
& 
buf2
) {

31 
EXPECT_EQ
(
buf1
.
size
(), 
buf2
.size());

32 
EXPECT_EQ
(
buf1
.
ÿ·c™y
(), 
buf2
.capacity());

33 cÚ¡ 
ušt8_t
* 
	gd©a1
 = 
buf1
.
d©a
();

34 cÚ¡ 
ušt8_t
* 
	gd©a2
 = 
buf2
.
d©a
();

35 
EXPECT_EQ
(
d©a1
, 
d©a2
);

36 
EXPECT_EQ
(
buf1
, 
buf2
);

39 
Ensu»BufãrsDÚtSh¬eD©a
(cÚ¡ 
CİyOnWr™eBufãr
& 
buf1
,

40 cÚ¡ 
CİyOnWr™eBufãr
& 
buf2
) {

42 cÚ¡ 
ušt8_t
* 
	gd©a1
 = 
buf1
.
cd©a
();

43 cÚ¡ 
ušt8_t
* 
	gd©a2
 = 
buf2
.
cd©a
();

44 
EXPECT_NE
(
d©a1
, 
d©a2
);

47 
TEST
(
CİyOnWr™eBufãrTe¡
, 
Te¡C»©eEm±yD©a
) {

48 
CİyOnWr™eBufãr
 
buf
(
¡©ic_ÿ¡
<cÚ¡ 
ušt8_t
*>(
nuÎ±r
), 0);

49 
EXPECT_EQ
(
buf
.
size
(), 0u);

50 
EXPECT_EQ
(
buf
.
ÿ·c™y
(), 0u);

51 
EXPECT_EQ
(
buf
.
d©a
(), 
nuÎ±r
);

54 
TEST
(
CİyOnWr™eBufãrTe¡
, 
Te¡MoveCÚ¡ruù
) {

55 
CİyOnWr™eBufãr
 
buf1
(
kTe¡D©a
, 3, 10);

56 
size_t
 
	gbuf1_size
 = 
buf1
.
size
();

57 
size_t
 
	gbuf1_ÿ·c™y
 = 
buf1
.
ÿ·c™y
();

58 cÚ¡ 
ušt8_t
* 
	gbuf1_d©a
 = 
buf1
.
cd©a
();

60 
CİyOnWr™eBufãr
 
buf2
(
¡d
::
move
(
buf1
));

61 
EXPECT_EQ
(
buf1
.
size
(), 0u);

62 
EXPECT_EQ
(
buf1
.
ÿ·c™y
(), 0u);

63 
EXPECT_EQ
(
buf1
.
d©a
(), 
nuÎ±r
);

64 
EXPECT_EQ
(
buf2
.
size
(), 
buf1_size
);

65 
EXPECT_EQ
(
buf2
.
ÿ·c™y
(), 
buf1_ÿ·c™y
);

66 
EXPECT_EQ
(
buf2
.
d©a
(), 
buf1_d©a
);

69 
TEST
(
CİyOnWr™eBufãrTe¡
, 
Te¡MoveAssign
) {

70 
CİyOnWr™eBufãr
 
buf1
(
kTe¡D©a
, 3, 10);

71 
size_t
 
	gbuf1_size
 = 
buf1
.
size
();

72 
size_t
 
	gbuf1_ÿ·c™y
 = 
buf1
.
ÿ·c™y
();

73 cÚ¡ 
ušt8_t
* 
	gbuf1_d©a
 = 
buf1
.
cd©a
();

75 
CİyOnWr™eBufãr
 
	gbuf2
;

76 
	gbuf2
 = 
¡d
::
move
(
buf1
);

77 
EXPECT_EQ
(
buf1
.
size
(), 0u);

78 
EXPECT_EQ
(
buf1
.
ÿ·c™y
(), 0u);

79 
EXPECT_EQ
(
buf1
.
d©a
(), 
nuÎ±r
);

80 
EXPECT_EQ
(
buf2
.
size
(), 
buf1_size
);

81 
EXPECT_EQ
(
buf2
.
ÿ·c™y
(), 
buf1_ÿ·c™y
);

82 
EXPECT_EQ
(
buf2
.
d©a
(), 
buf1_d©a
);

85 
TEST
(
CİyOnWr™eBufãrTe¡
, 
Te¡Sw­
) {

86 
CİyOnWr™eBufãr
 
buf1
(
kTe¡D©a
, 3, 10);

87 
size_t
 
	gbuf1_size
 = 
buf1
.
size
();

88 
size_t
 
	gbuf1_ÿ·c™y
 = 
buf1
.
ÿ·c™y
();

89 cÚ¡ 
ušt8_t
* 
	gbuf1_d©a
 = 
buf1
.
cd©a
();

91 
CİyOnWr™eBufãr
 
buf2
(
kTe¡D©a
, 6, 20);

92 
size_t
 
	gbuf2_size
 = 
buf2
.
size
();

93 
size_t
 
	gbuf2_ÿ·c™y
 = 
buf2
.
ÿ·c™y
();

94 cÚ¡ 
ušt8_t
* 
	gbuf2_d©a
 = 
buf2
.
cd©a
();

96 
	g¡d
::
sw­
(
buf1
, 
buf2
);

97 
EXPECT_EQ
(
buf1
.
size
(), 
buf2_size
);

98 
EXPECT_EQ
(
buf1
.
ÿ·c™y
(), 
buf2_ÿ·c™y
);

99 
EXPECT_EQ
(
buf1
.
d©a
(), 
buf2_d©a
);

100 
EXPECT_EQ
(
buf2
.
size
(), 
buf1_size
);

101 
EXPECT_EQ
(
buf2
.
ÿ·c™y
(), 
buf1_ÿ·c™y
);

102 
EXPECT_EQ
(
buf2
.
d©a
(), 
buf1_d©a
);

105 
TEST
(
CİyOnWr™eBufãrTe¡
, 
Te¡Aµ’dD©a
) {

106 
CİyOnWr™eBufãr
 
buf1
(
kTe¡D©a
, 3, 10);

107 
CİyOnWr™eBufãr
 
buf2
(
buf1
);

109 
Ensu»BufãrsSh¬eD©a
(
buf1
, 
buf2
);

112 
	gbuf2
.
Aµ’dD©a
("foo");

113 
EXPECT_EQ
(
buf2
.
size
(), 
buf1
.size() + 4);

114 
EXPECT_EQ
(
buf2
.
ÿ·c™y
(), 
buf1
.capacity());

115 
EXPECT_NE
(
buf2
.
d©a
(), 
buf1
.data());

117 
EXPECT_EQ
(
buf1
, 
CİyOnWr™eBufãr
(
kTe¡D©a
, 3));

118 cÚ¡ 
št8_t
 
	gexp
[] = {0x0, 0x1, 0x2, 'f', 'o', 'o', 0x0};

119 
EXPECT_EQ
(
buf2
, 
CİyOnWr™eBufãr
(
exp
));

122 
TEST
(
CİyOnWr™eBufãrTe¡
, 
S‘Em±yD©a
) {

123 
CİyOnWr™eBufãr
 
buf
(10);

125 
	gbuf
.
	gS‘D©a
<
	gušt8_t
>(
	gnuÎ±r
, 0);

127 
EXPECT_EQ
(0u, 
buf
.
size
());

130 
TEST
(
CİyOnWr™eBufãrTe¡
, 
S‘D©aNoMÜeThªC­ac™yDÛ¢tCau£R—ÎoÿtiÚ
) {

131 
CİyOnWr™eBufãr
 
buf1
(3, 10);

132 cÚ¡ 
ušt8_t
* cÚ¡ 
	gÜigš®_®loÿtiÚ
 = 
buf1
.
cd©a
();

134 
	gbuf1
.
S‘D©a
(
kTe¡D©a
, 10);

136 
EXPECT_EQ
(
Üigš®_®loÿtiÚ
, 
buf1
.
cd©a
());

137 
EXPECT_EQ
(
buf1
, 
CİyOnWr™eBufãr
(
kTe¡D©a
, 10));

140 
TEST
(
CİyOnWr™eBufãrTe¡
, 
S‘D©aMakeReã»nûCİy
) {

141 
CİyOnWr™eBufãr
 
buf1
(
kTe¡D©a
, 3, 10);

142 
CİyOnWr™eBufãr
 
	gbuf2
;

144 
	gbuf2
.
S‘D©a
(
buf1
);

146 
Ensu»BufãrsSh¬eD©a
(
buf1
, 
buf2
);

149 
TEST
(
CİyOnWr™eBufãrTe¡
, 
S‘D©aOnSh¬edK“psOrigš®
) {

150 cÚ¡ 
ušt8_t
 
	gd©a
[] = "foo";

151 
CİyOnWr™eBufãr
 
buf1
(
kTe¡D©a
, 3, 10);

152 cÚ¡ 
ušt8_t
* cÚ¡ 
	gÜigš®_®loÿtiÚ
 = 
buf1
.
cd©a
();

153 
CİyOnWr™eBufãr
 
buf2
(
buf1
);

155 
	gbuf2
.
S‘D©a
(
d©a
);

157 
Ensu»BufãrsDÚtSh¬eD©a
(
buf1
, 
buf2
);

158 
EXPECT_EQ
(
Üigš®_®loÿtiÚ
, 
buf1
.
cd©a
());

159 
EXPECT_EQ
(
buf1
, 
CİyOnWr™eBufãr
(
kTe¡D©a
, 3));

160 
EXPECT_EQ
(
buf2
, 
CİyOnWr™eBufãr
(
d©a
));

163 
TEST
(
CİyOnWr™eBufãrTe¡
, 
S‘D©aOnSh¬edK“psC­ac™y
) {

164 
CİyOnWr™eBufãr
 
buf1
(
kTe¡D©a
, 3, 10);

165 
CİyOnWr™eBufãr
 
buf2
(
buf1
);

166 
Ensu»BufãrsSh¬eD©a
(
buf1
, 
buf2
);

168 
	gbuf2
.
S‘D©a
(
kTe¡D©a
, 2);

170 
Ensu»BufãrsDÚtSh¬eD©a
(
buf1
, 
buf2
);

171 
EXPECT_EQ
(2u, 
buf2
.
size
());

172 
EXPECT_EQ
(10u, 
buf2
.
ÿ·c™y
());

175 
TEST
(
CİyOnWr™eBufãrTe¡
, 
Te¡Ensu»C­ac™y
) {

176 
CİyOnWr™eBufãr
 
buf1
(
kTe¡D©a
, 3, 10);

177 
CİyOnWr™eBufãr
 
buf2
(
buf1
);

180 
	gbuf2
.
Ensu»C­ac™y
(8);

181 
Ensu»BufãrsSh¬eD©a
(
buf1
, 
buf2
);

182 
EXPECT_EQ
(
buf1
.
size
(), 3u);

183 
EXPECT_EQ
(
buf1
.
ÿ·c™y
(), 10u);

184 
EXPECT_EQ
(
buf2
.
size
(), 3u);

185 
EXPECT_EQ
(
buf2
.
ÿ·c™y
(), 10u);

188 
	gbuf2
.
Ensu»C­ac™y
(16);

189 
Ensu»BufãrsDÚtSh¬eD©a
(
buf1
, 
buf2
);

190 
EXPECT_EQ
(
buf1
.
size
(), 3u);

191 
EXPECT_EQ
(
buf1
.
ÿ·c™y
(), 10u);

192 
EXPECT_EQ
(
buf2
.
size
(), 3u);

193 
EXPECT_EQ
(
buf2
.
ÿ·c™y
(), 16u);

195 
EXPECT_EQ
(
buf1
, 
buf2
);

198 
TEST
(
CİyOnWr™eBufãrTe¡
, 
S‘SizeDÛ¢tChªgeOrigš®
) {

199 
CİyOnWr™eBufãr
 
buf1
(
kTe¡D©a
, 3, 10);

200 cÚ¡ 
ušt8_t
* cÚ¡ 
	gÜigš®_®loÿtiÚ
 = 
buf1
.
cd©a
();

201 
CİyOnWr™eBufãr
 
buf2
(
buf1
);

203 
	gbuf2
.
S‘Size
(16);

205 
Ensu»BufãrsDÚtSh¬eD©a
(
buf1
, 
buf2
);

206 
EXPECT_EQ
(
Üigš®_®loÿtiÚ
, 
buf1
.
cd©a
());

207 
EXPECT_EQ
(3u, 
buf1
.
size
());

208 
EXPECT_EQ
(10u, 
buf1
.
ÿ·c™y
());

211 
TEST
(
CİyOnWr™eBufãrTe¡
, 
S‘SizeClÚeCÚ‹Á
) {

212 
CİyOnWr™eBufãr
 
buf1
(
kTe¡D©a
, 3, 10);

213 
CİyOnWr™eBufãr
 
buf2
(
buf1
);

215 
	gbuf2
.
S‘Size
(16);

217 
EXPECT_EQ
(
buf2
.
size
(), 16u);

218 
EXPECT_EQ
(0, 
memcmp
(
buf2
.
d©a
(), 
kTe¡D©a
, 3));

221 
TEST
(
CİyOnWr™eBufãrTe¡
, 
S‘SizeMayInü—£C­ac™y
) {

222 
CİyOnWr™eBufãr
 
buf
(
kTe¡D©a
, 3, 10);

224 
	gbuf
.
S‘Size
(16);

226 
EXPECT_EQ
(16u, 
buf
.
size
());

227 
EXPECT_EQ
(16u, 
buf
.
ÿ·c™y
());

230 
TEST
(
CİyOnWr™eBufãrTe¡
, 
S‘SizeDÛ¢tDeü—£C­ac™y
) {

231 
CİyOnWr™eBufãr
 
buf1
(
kTe¡D©a
, 5, 10);

232 
CİyOnWr™eBufãr
 
buf2
(
buf1
);

234 
	gbuf2
.
S‘Size
(2);

236 
EXPECT_EQ
(2u, 
buf2
.
size
());

237 
EXPECT_EQ
(10u, 
buf2
.
ÿ·c™y
());

240 
TEST
(
CİyOnWr™eBufãrTe¡
, 
CË¬DÛ¢tChªgeOrigš®
) {

241 
CİyOnWr™eBufãr
 
buf1
(
kTe¡D©a
, 3, 10);

242 cÚ¡ 
ušt8_t
* cÚ¡ 
	gÜigš®_®loÿtiÚ
 = 
buf1
.
cd©a
();

243 
CİyOnWr™eBufãr
 
buf2
(
buf1
);

245 
	gbuf2
.
CË¬
();

247 
Ensu»BufãrsDÚtSh¬eD©a
(
buf1
, 
buf2
);

248 
EXPECT_EQ
(3u, 
buf1
.
size
());

249 
EXPECT_EQ
(10u, 
buf1
.
ÿ·c™y
());

250 
EXPECT_EQ
(
Üigš®_®loÿtiÚ
, 
buf1
.
cd©a
());

251 
EXPECT_EQ
(0u, 
buf2
.
size
());

254 
TEST
(
CİyOnWr™eBufãrTe¡
, 
CË¬DÛ¢tChªgeC­ac™y
) {

255 
CİyOnWr™eBufãr
 
buf1
(
kTe¡D©a
, 3, 10);

256 
CİyOnWr™eBufãr
 
buf2
(
buf1
);

258 
	gbuf2
.
CË¬
();

260 
EXPECT_EQ
(0u, 
buf2
.
size
());

261 
EXPECT_EQ
(10u, 
buf2
.
ÿ·c™y
());

264 
TEST
(
CİyOnWr™eBufãrTe¡
, 
Te¡CÚ¡D©aAcûssÜ
) {

265 
CİyOnWr™eBufãr
 
buf1
(
kTe¡D©a
, 3, 10);

266 
CİyOnWr™eBufãr
 
buf2
(
buf1
);

269 cÚ¡ 
ušt8_t
* 
	gcd©a1
 = 
buf1
.
cd©a
();

270 cÚ¡ 
ušt8_t
* 
	gcd©a2
 = 
buf2
.
cd©a
();

271 
EXPECT_EQ
(
cd©a1
, 
cd©a2
);

274 cÚ¡ 
ušt8_t
* 
	gd©a1
 = 
buf1
.
d©a
();

275 cÚ¡ 
ušt8_t
* 
	gd©a2
 = 
buf2
.
d©a
();

276 
EXPECT_NE
(
d©a1
, 
d©a2
);

278 
EXPECT_NE
(
d©a1
, 
cd©a1
);

280 
EXPECT_EQ
(
d©a2
, 
cd©a1
);

283 
TEST
(
CİyOnWr™eBufãrTe¡
, 
Te¡Back‘R—d
) {

284 
CİyOnWr™eBufãr
 
buf1
(
kTe¡D©a
, 3, 10);

285 
CİyOnWr™eBufãr
 
buf2
(
buf1
);

287 
Ensu»BufãrsSh¬eD©a
(
buf1
, 
buf2
);

289 
size_t
 
	gi
 = 0; i != 3u; ++i) {

290 
EXPECT_EQ
(
buf1
[
i
], 
kTe¡D©a
[i]);

292 
Ensu»BufãrsDÚtSh¬eD©a
(
buf1
, 
buf2
);

295 
TEST
(
CİyOnWr™eBufãrTe¡
, 
Te¡Back‘R—dCÚ¡
) {

296 
CİyOnWr™eBufãr
 
buf1
(
kTe¡D©a
, 3, 10);

297 
CİyOnWr™eBufãr
 
buf2
(
buf1
);

299 
Ensu»BufãrsSh¬eD©a
(
buf1
, 
buf2
);

300 cÚ¡ 
	gCİyOnWr™eBufãr
& 
	gcbuf1
 = 
buf1
;

301 
size_t
 
	gi
 = 0; i != 3u; ++i) {

302 
EXPECT_EQ
(
cbuf1
[
i
], 
kTe¡D©a
[i]);

304 
Ensu»BufãrsSh¬eD©a
(
buf1
, 
buf2
);

307 
TEST
(
CİyOnWr™eBufãrTe¡
, 
Te¡Back‘Wr™e
) {

308 
CİyOnWr™eBufãr
 
buf1
(
kTe¡D©a
, 3, 10);

309 
CİyOnWr™eBufãr
 
buf2
(
buf1
);

311 
Ensu»BufãrsSh¬eD©a
(
buf1
, 
buf2
);

312 
size_t
 
	gi
 = 0; i != 3u; ++i) {

313 
	gbuf1
[
i
] = 
kTe¡D©a
[i] + 1;

315 
EXPECT_EQ
(
buf1
.
size
(), 3u);

316 
EXPECT_EQ
(
buf1
.
ÿ·c™y
(), 10u);

317 
EXPECT_EQ
(
buf2
.
size
(), 3u);

318 
EXPECT_EQ
(
buf2
.
ÿ·c™y
(), 10u);

319 
EXPECT_EQ
(0, 
memcmp
(
buf2
.
cd©a
(), 
kTe¡D©a
, 3));

322 
TEST
(
CİyOnWr™eBufãrTe¡
, 
C»©eSliû
) {

323 
CİyOnWr™eBufãr
 
buf
(
kTe¡D©a
, 10, 10);

324 
CİyOnWr™eBufãr
 
	g¦iû
 = 
buf
.
Sliû
(3, 4);

325 
EXPECT_EQ
(
¦iû
.
size
(), 4u);

326 
EXPECT_EQ
(0, 
memcmp
(
buf
.
cd©a
(è+ 3, 
¦iû
.cdata(), 4));

329 
TEST
(
CİyOnWr™eBufãrTe¡
, 
NoCİyD©aOnSliû
) {

330 
CİyOnWr™eBufãr
 
buf
(
kTe¡D©a
, 10, 10);

331 
CİyOnWr™eBufãr
 
	g¦iû
 = 
buf
.
Sliû
(3, 4);

332 
EXPECT_EQ
(
buf
.
cd©a
(è+ 3, 
¦iû
.cdata());

335 
TEST
(
CİyOnWr™eBufãrTe¡
, 
Wr™šgCİ›sD©a
) {

336 
CİyOnWr™eBufãr
 
buf
(
kTe¡D©a
, 10, 10);

337 
CİyOnWr™eBufãr
 
	g¦iû
 = 
buf
.
Sliû
(3, 4);

338 
	g¦iû
[0] = 0xaa;

339 
EXPECT_NE
(
buf
.
cd©a
(è+ 3, 
¦iû
.cdata());

340 
EXPECT_EQ
(0, 
memcmp
(
buf
.
cd©a
(), 
kTe¡D©a
, 10));

343 
TEST
(
CİyOnWr™eBufãrTe¡
, 
Wr™šgToBufãrDÛ¢tAfãùsSliû
) {

344 
CİyOnWr™eBufãr
 
buf
(
kTe¡D©a
, 10, 10);

345 
CİyOnWr™eBufãr
 
	g¦iû
 = 
buf
.
Sliû
(3, 4);

346 
	gbuf
[0] = 0xaa;

347 
EXPECT_NE
(
buf
.
cd©a
(è+ 3, 
¦iû
.cdata());

348 
EXPECT_EQ
(0, 
memcmp
(
¦iû
.
cd©a
(), 
kTe¡D©a
 + 3, 4));

351 
TEST
(
CİyOnWr™eBufãrTe¡
, 
SliûOfASliû
) {

352 
CİyOnWr™eBufãr
 
buf
(
kTe¡D©a
, 10, 10);

353 
CİyOnWr™eBufãr
 
	g¦iû
 = 
buf
.
Sliû
(3, 7);

354 
CİyOnWr™eBufãr
 
	g¦iû2
 = 
¦iû
.
Sliû
(2, 3);

355 
EXPECT_EQ
(
¦iû2
.
size
(), 3u);

356 
EXPECT_EQ
(
¦iû
.
cd©a
(è+ 2, 
¦iû2
.cdata());

357 
EXPECT_EQ
(
buf
.
cd©a
(è+ 5, 
¦iû2
.cdata());

360 
TEST
(
CİyOnWr™eBufãrTe¡
, 
SliûsA»Ind•’d’t
) {

361 
CİyOnWr™eBufãr
 
buf
(
kTe¡D©a
, 10, 10);

362 
CİyOnWr™eBufãr
 
	g¦iû
 = 
buf
.
Sliû
(3, 7);

363 
CİyOnWr™eBufãr
 
	g¦iû2
 = 
buf
.
Sliû
(3, 7);

364 
	g¦iû2
[0] = 0xaa;

365 
EXPECT_EQ
(
buf
.
cd©a
(è+ 3, 
¦iû
.cdata());

	@cpu_time.cc

11 
	~"¹c_ba£/ıu_time.h
"

13 
	~"¹c_ba£/loggšg.h
"

14 
	~"¹c_ba£/time_uts.h
"

16 #ià
defšed
(
WEBRTC_LINUX
)

17 
	~<time.h
>

18 #–ià
defšed
(
WEBRTC_MAC
)

19 
	~<mach/mach_š™.h
>

20 
	~<mach/mach_pÜt.h
>

21 
	~<mach/th»ad_aù.h
>

22 
	~<mach/th»ad_šfo.h
>

23 
	~<sys/»sourû.h
>

24 
	~<sys/times.h
>

25 
	~<sys/ty³s.h
>

26 
	~<uni¡d.h
>

27 #–ià
defšed
(
WEBRTC_WIN
)

28 
	~<wšdows.h
>

31 #ià
defšed
(
WEBRTC_WIN
)

32 
	gÇme¥aû
 {

34 cÚ¡ 
št64_t
 
	gkNªo£csP”F‘ime
 = 100;

38 
Çme¥aû
 
	g¹c
 {

40 
št64_t
 
G‘ProûssCpuTimeNªos
() {

41 #ià
defšed
(
WEBRTC_LINUX
)

42 
time¥ec
 
	gts
;

43 ià(
şock_g‘time
(
CLOCK_PROCESS_CPUTIME_ID
, &
ts
) == 0) {

44  
ts
.
tv_£c
 * 
kNumNªo£csP”Sec
 +s.
tv_n£c
;

46 
RTC_LOG_ERR
(
LS_ERROR
) << "clock_gettime() failed.";

48 #–ià
defšed
(
WEBRTC_MAC
)

49 
ru§ge
 
	gru§ge
;

50 ià(
g‘ru§ge
(
RUSAGE_SELF
, &
ru§ge
) == 0) {

51  
ru§ge
.
ru_utime
.
tv_£c
 * 
kNumNªo£csP”Sec
 +

52 
ru§ge
.
ru_utime
.
tv_u£c
 * 
kNumNªo£csP”Miüo£c
;

54 
RTC_LOG_ERR
(
LS_ERROR
) << "getrusage() failed.";

56 #–ià
defšed
(
WEBRTC_WIN
)

57 
FILETIME
 
	gü—‹Time
;

58 
FILETIME
 
	gex™Time
;

59 
FILETIME
 
	gk”ÃlTime
;

60 
FILETIME
 
	gu£rTime
;

61 ià(
G‘ProûssTimes
(
G‘Cu¼’tProûss
(), &
ü—‹Time
, &
ex™Time
, &
k”ÃlTime
,

62 &
u£rTime
) != 0) {

63  ((
¡©ic_ÿ¡
<
ušt64_t
>(
u£rTime
.
dwHighD©eTime
) << 32) +

64 
u£rTime
.
dwLowD©eTime
) *

65 
kNªo£csP”F‘ime
;

67 
RTC_LOG_ERR
(
LS_ERROR
) << "GetProcessTimes() failed.";

69 #–ià
defšed
(
WEBRTC_FUCHSIA
)

70 
RTC_LOG_ERR
(
LS_ERROR
) << "GetProcessCpuTimeNanos()‚ot implemented";

74 
¡©ic_as£¹
(

75 
çl£
, "GetProcessCpuTimeNanos()…latform support‚ot yet implemented.");

80 
št64_t
 
G‘Th»adCpuTimeNªos
() {

81 #ià
defšed
(
WEBRTC_LINUX
)

82 
time¥ec
 
	gts
;

83 ià(
şock_g‘time
(
CLOCK_THREAD_CPUTIME_ID
, &
ts
) == 0) {

84  
ts
.
tv_£c
 * 
kNumNªo£csP”Sec
 +s.
tv_n£c
;

86 
RTC_LOG_ERR
(
LS_ERROR
) << "clock_gettime() failed.";

88 #–ià
defšed
(
WEBRTC_MAC
)

89 
mach_pÜt_t
 
	gth»ad_pÜt
 = 
mach_th»ad_£lf
();

90 
th»ad_basic_šfo_d©a_t
 
	gšfo
;

91 
mach_msg_ty³_numb”_t
 
	gcouÁ
 = 
THREAD_BASIC_INFO_COUNT
;

92 
k”n_»tuº_t
 
	gkr
 =

93 
th»ad_šfo
(
th»ad_pÜt
, 
THREAD_BASIC_INFO
, (
th»ad_šfo_t
)&
šfo
, &
couÁ
);

94 
mach_pÜt_d—Îoÿ‹
(
mach_sk_£lf
(), 
th»ad_pÜt
);

95 ià(
	gkr
 =ğ
KERN_SUCCESS
) {

96  
šfo
.
u£r_time
.
£cÚds
 * 
kNumNªo£csP”Sec
 +

97 
šfo
.
u£r_time
.
miüo£cÚds
 * 
kNumNªo£csP”Miüo£c
;

99 
RTC_LOG_ERR
(
LS_ERROR
) << "thread_info() failed.";

101 #–ià
defšed
(
WEBRTC_WIN
)

102 
FILETIME
 
	gü—‹Time
;

103 
FILETIME
 
	gex™Time
;

104 
FILETIME
 
	gk”ÃlTime
;

105 
FILETIME
 
	gu£rTime
;

106 ià(
G‘Th»adTimes
(
G‘Cu¼’tTh»ad
(), &
ü—‹Time
, &
ex™Time
, &
k”ÃlTime
,

107 &
u£rTime
) != 0) {

108  ((
¡©ic_ÿ¡
<
ušt64_t
>(
u£rTime
.
dwHighD©eTime
) << 32) +

109 
u£rTime
.
dwLowD©eTime
) *

110 
kNªo£csP”F‘ime
;

112 
RTC_LOG_ERR
(
LS_ERROR
) << "GetThreadTimes() failed.";

114 #–ià
defšed
(
WEBRTC_FUCHSIA
)

115 
RTC_LOG_ERR
(
LS_ERROR
) << "GetThreadCpuTimeNanos()‚ot implemented";

119 
¡©ic_as£¹
(

120 
çl£
, "GetThreadCpuTimeNanos()…latform support‚ot yet implemented.");

	@cpu_time.h

11 #iâdeà
RTC_BASE_CPU_TIME_H_


12 
	#RTC_BASE_CPU_TIME_H_


	)

14 
	~<¡dšt.h
>

16 
Çme¥aû
 
	g¹c
 {

20 
št64_t
 
G‘ProûssCpuTimeNªos
();

24 
št64_t
 
G‘Th»adCpuTimeNªos
();

	@cpu_time_unittest.cc

11 
	~"¹c_ba£/ıu_time.h
"

13 
	~"¹c_ba£/¶©fÜm_th»ad.h
"

14 
	~"¹c_ba£/time_uts.h
"

15 
	~"sy¡em_w¿µ”s/šşude/¦“p.h
"

16 
	~"‹¡/g‹¡.h
"

20 #ià
defšed
(
THREAD_SANITIZER
è|| defšed(
MEMORY_SANITIZER
) || \

21 
	$defšed
(
ADDRESS_SANITIZER
)

22 
	#MAYBE_TEST
(
‹¡_Çme
è
DISABLED_
##
	)
test_name

24 
	#MAYBE_TEST
(
‹¡_Çme
è
	)
test_name

27 
Çme¥aû
 {

28 cÚ¡ 
kAÎowedE¼ÜMli£cs
 = 30;

29 cÚ¡ 
kProûssšgTimeMli£cs
 = 500;

30 cÚ¡ 
kWÜkšgTh»ads
 = 2;

33 
	`WÜkšgFunùiÚ
(* 
couÁ”_poš‹r
) {

34 
št64_t
* 
couÁ”
 = 
»š‹½»t_ÿ¡
<št64_t*>(
couÁ”_poš‹r
);

35 *
couÁ”
 = 0;

36 
št64_t
 
¡İ_ıu_time
 =

37 
¹c
::
	`G‘Th»adCpuTimeNªos
() +

38 
kProûssšgTimeMli£cs
 * 
¹c
::
kNumNªo£csP”Mli£c
;

39 
¹c
::
	`G‘Th»adCpuTimeNªos
(è< 
¡İ_ıu_time
) {

40 (*
couÁ”
)++;

43 
	}
}

45 
Çme¥aû
 
	g¹c
 {

49 
TEST
(
CpuTimeTe¡
, 
BasicTe¡
) {

50 
št64_t
 
	g´oûss_¡¬t_time_Çnos
 = 
G‘ProûssCpuTimeNªos
();

51 
št64_t
 
	gth»ad_¡¬t_time_Çnos
 = 
G‘Th»adCpuTimeNªos
();

52 
št64_t
 
	g´oûss_du¿tiÚ_Çnos
 =

53 
G‘ProûssCpuTimeNªos
(è- 
´oûss_¡¬t_time_Çnos
;

54 
št64_t
 
	gth»ad_du¿tiÚ_Çnos
 =

55 
G‘Th»adCpuTimeNªos
(è- 
th»ad_¡¬t_time_Çnos
;

56 
EXPECT_GE
(
´oûss_du¿tiÚ_Çnos
, 0);

57 
EXPECT_GE
(
th»ad_du¿tiÚ_Çnos
, 0);

60 
TEST
(
CpuTimeTe¡
, 
MAYBE_TEST
(
TwoTh»ads
)) {

61 
št64_t
 
	g´oûss_¡¬t_time_Çnos
 = 
G‘ProûssCpuTimeNªos
();

62 
št64_t
 
	gth»ad_¡¬t_time_Çnos
 = 
G‘Th»adCpuTimeNªos
();

63 
št64_t
 
	gcouÁ”1
;

64 
št64_t
 
	gcouÁ”2
;

65 
PÏtfÜmTh»ad
 
th»ad1
(
WÜkšgFunùiÚ
, 
»š‹½»t_ÿ¡
<*>(&
couÁ”1
),

67 
PÏtfÜmTh»ad
 
th»ad2
(
WÜkšgFunùiÚ
, 
»š‹½»t_ÿ¡
<*>(&
couÁ”2
),

69 
	gth»ad1
.
S¹
();

70 
	gth»ad2
.
S¹
();

71 
	gth»ad1
.
Stİ
();

72 
	gth»ad2
.
Stİ
();

74 
EXPECT_GE
(
couÁ”1
, 0);

75 
EXPECT_GE
(
couÁ”2
, 0);

76 
št64_t
 
	g´oûss_du¿tiÚ_Çnos
 =

77 
G‘ProûssCpuTimeNªos
(è- 
´oûss_¡¬t_time_Çnos
;

78 
št64_t
 
	gth»ad_du¿tiÚ_Çnos
 =

79 
G‘Th»adCpuTimeNªos
(è- 
th»ad_¡¬t_time_Çnos
;

82 
EXPECT_LE
(
th»ad_du¿tiÚ_Çnos
,

83 (
kProûssšgTimeMli£cs
 - 
kAÎowedE¼ÜMli£cs
) *

84 
kNumNªo£csP”Mli£c
);

87 
EXPECT_GE
(
´oûss_du¿tiÚ_Çnos
,

88 
kWÜkšgTh»ads
 *

89 (
kProûssšgTimeMli£cs
 - 
kAÎowedE¼ÜMli£cs
) *

90 
kNumNªo£csP”Mli£c
);

93 
TEST
(
CpuTimeTe¡
, 
MAYBE_TEST
(
SË•šg
)) {

94 
št64_t
 
	g´oûss_¡¬t_time_Çnos
 = 
G‘ProûssCpuTimeNªos
();

95 
	gweb¹c
::
SË•Ms
(
kProûssšgTimeMli£cs
);

96 
št64_t
 
	g´oûss_du¿tiÚ_Çnos
 =

97 
G‘ProûssCpuTimeNªos
(è- 
´oûss_¡¬t_time_Çnos
;

100 
EXPECT_LE
(
´oûss_du¿tiÚ_Çnos
,

101 (
kProûssšgTimeMli£cs
 - 
kAÎowedE¼ÜMli£cs
) *

102 
kNumNªo£csP”Mli£c
);

	@crc32.cc

11 
	~"¹c_ba£/üc32.h
"

13 
	~"¹c_ba£/¬¿ysize.h
"

15 
Çme¥aû
 
	g¹c
 {

21 cÚ¡ 
ušt32_t
 
	gkCrc32PŞynomŸl
 = 0xEDB88320;

23 
ušt32_t
* 
LßdCrc32TabË
() {

24 
ušt32_t
 
	gkCrc32TabË
[256];

25 
ušt32_t
 
	gi
 = 0; i < 
¬¿ysize
(
kCrc32TabË
); ++i) {

26 
ušt32_t
 
	gc
 = 
i
;

27 
size_t
 
	gj
 = 0; j < 8; ++j) {

28 ià(
	gc
 & 1) {

29 
	gc
 = 
kCrc32PŞynomŸl
 ^ (
c
 >> 1);

31 
	gc
 >>= 1;

34 
	gkCrc32TabË
[
i
] = 
c
;

36  
	gkCrc32TabË
;

39 
ušt32_t
 
Upd©eCrc32
(ušt32_ˆ
¡¬t
, cÚ¡ * 
buf
, 
size_t
 
Ën
) {

40 
ušt32_t
* 
	gkCrc32TabË
 = 
LßdCrc32TabË
();

42 
ušt32_t
 
	gc
 = 
¡¬t
 ^ 0xFFFFFFFF;

43 cÚ¡ 
ušt8_t
* 
	gu
 = 
¡©ic_ÿ¡
<cÚ¡ ušt8_t*>(
buf
);

44 
size_t
 
	gi
 = 0; i < 
	gËn
; ++i) {

45 
	gc
 = 
kCrc32TabË
[(
c
 ^ 
u
[
i
]) & 0xFF] ^ (c >> 8);

47  
	gc
 ^ 0xFFFFFFFF;

	@crc32.h

11 #iâdeà
RTC_BASE_CRC32_H_


12 
	#RTC_BASE_CRC32_H_


	)

14 
	~<¡ddef.h
>

15 
	~<¡dšt.h
>

17 
	~<¡ršg
>

19 
Çme¥aû
 
	g¹c
 {

23 
ušt32_t
 
Upd©eCrc32
(ušt32_ˆ
š™Ÿl
, cÚ¡ * 
buf
, 
size_t
 
Ën
);

26 
šlše
 
ušt32_t
 
Compu‹Crc32
(cÚ¡ * 
buf
, 
size_t
 
Ën
) {

27  
Upd©eCrc32
(0, 
buf
, 
Ën
);

29 
šlše
 
ušt32_t
 
Compu‹Crc32
(cÚ¡ 
¡d
::
¡ršg
& 
¡r
) {

30  
Compu‹Crc32
(
¡r
.
c_¡r
(), sŒ.
size
());

	@crc32_unittest.cc

11 
	~"¹c_ba£/üc32.h
"

13 
	~<¡ršg
>

15 
	~"‹¡/g‹¡.h
"

17 
Çme¥aû
 
	g¹c
 {

19 
TEST
(
Crc32Te¡
, 
Te¡Basic
) {

20 
EXPECT_EQ
(0U, 
Compu‹Crc32
(""));

21 
EXPECT_EQ
(0x352441C2U, 
Compu‹Crc32
("abc"));

22 
EXPECT_EQ
(

24 
Compu‹Crc32
("abcdbcdecdefdefgefghfghighijhijkijkljklmklmnlmnomnopnopq"));

27 
TEST
(
Crc32Te¡
, 
Te¡MuÉËUpd©es
) {

28 
	g¡d
::
¡ršg
 
šput
 =

30 
ušt32_t
 
	gc
 = 0;

31 
size_t
 
	gi
 = 0; i < 
	gšput
.
size
(); ++i) {

32 
	gc
 = 
Upd©eCrc32
(
c
, &
šput
[
i
], 1);

34 
EXPECT_EQ
(0x171A3F5FU, 
c
);

	@critical_section.cc

11 
	~"¹c_ba£/ü™iÿl_£ùiÚ.h
"

13 
	~<time.h
>

15 
	~"¹c_ba£/©omic_İs.h
"

16 
	~"¹c_ba£/checks.h
"

17 
	~"¹c_ba£/¶©fÜm_th»ad_ty³s.h
"

18 
	~"¹c_ba£/sy¡em/unu£d.h
"

22 #ià
RTC_DCHECK_IS_ON


23 
	#RTC_CS_DEBUG_CODE
(
x
è
	)
x

25 
	#RTC_CS_DEBUG_CODE
(
x
)

	)

28 
Çme¥aû
 
	g¹c
 {

30 
	gCr™iÿlSeùiÚ
::
Cr™iÿlSeùiÚ
() {

31 #ià
defšed
(
WEBRTC_WIN
)

32 
In™ŸlizeCr™iÿlSeùiÚ
(&
ü™_
);

33 #–ià
defšed
(
WEBRTC_POSIX
)

34 #ià
defšed
(
WEBRTC_MAC
è&& !
RTC_USE_NATIVE_MUTEX_ON_MAC


35 
	glock_queue_
 = 0;

36 
	gownšg_th»ad_
 = 0;

37 
	g»cursiÚ_
 = 0;

38 
	g£m­hÜe_
 = 
di¥©ch_£m­hÜe_ü—‹
(0);

40 
±h»ad_mu‹x©Œ_t
 
	gmu‹x_©Œibu‹
;

41 
±h»ad_mu‹x©Œ_š™
(&
mu‹x_©Œibu‹
);

42 
±h»ad_mu‹x©Œ_£‰y³
(&
mu‹x_©Œibu‹
, 
PTHREAD_MUTEX_RECURSIVE
);

43 #ià
defšed
(
WEBRTC_MAC
)

44 
±h»ad_mu‹x©Œ_£Şicy_Å
(&
mu‹x_©Œibu‹
,

45 
_PTHREAD_MUTEX_POLICY_FAIRSHARE
);

47 
±h»ad_mu‹x_š™
(&
mu‹x_
, &
mu‹x_©Œibu‹
);

48 
±h»ad_mu‹x©Œ_de¡roy
(&
mu‹x_©Œibu‹
);

50 
RTC_CS_DEBUG_CODE
(
th»ad_
 = 0);

51 
RTC_CS_DEBUG_CODE
(
»cursiÚ_couÁ_
 = 0);

52 
RTC_UNUSED
(
th»ad_
);

53 
RTC_UNUSED
(
»cursiÚ_couÁ_
);

55 #”rÜ 
UnsuµÜ‹d
 
¶©fÜm
.

59 
	gCr™iÿlSeùiÚ
::~
Cr™iÿlSeùiÚ
() {

60 #ià
defšed
(
WEBRTC_WIN
)

61 
D–‘eCr™iÿlSeùiÚ
(&
ü™_
);

62 #–ià
defšed
(
WEBRTC_POSIX
)

63 #ià
defšed
(
WEBRTC_MAC
è&& !
RTC_USE_NATIVE_MUTEX_ON_MAC


64 
di¥©ch_»Ëa£
(
£m­hÜe_
);

66 
±h»ad_mu‹x_de¡roy
(&
mu‹x_
);

69 #”rÜ 
UnsuµÜ‹d
 
¶©fÜm
.

73 
	gCr™iÿlSeùiÚ
::
EÁ”
(ècÚ¡ 
RTC_EXCLUSIVE_LOCK_FUNCTION
() {

74 #ià
defšed
(
WEBRTC_WIN
)

75 
EÁ”Cr™iÿlSeùiÚ
(&
ü™_
);

76 #–ià
defšed
(
WEBRTC_POSIX
)

77 #ià
defšed
(
WEBRTC_MAC
è&& !
RTC_USE_NATIVE_MUTEX_ON_MAC


78 
	g¥š
 = 3000;

79 
PÏtfÜmTh»adRef
 
	g£lf
 = 
Cu¼’tTh»adRef
();

80 
boŞ
 
	ghave_lock
 = 
çl£
;

85 ià(!
IsTh»adRefEqu®
(
ownšg_th»ad_
, 
£lf
)) {

86 ià(
	gAtomicOps
::
AcquœeLßd
(&
lock_queue_
) == 0) {

87 ià(
AtomicOps
::
Com·»AndSw­
(&
lock_queue_
, 0, 1) == 0) {

88 
have_lock
 = 
Œue
;

93 
	gAtomicOps
::
Inüem’t
(&
lock_queue_
);

94 
	ghave_lock
 = 
Œue
;

98 
sched_y›ld
();

99 } --
	g¥š
);

101 ià(!
	ghave_lock
 && 
	gAtomicOps
::
Inüem’t
(&
lock_queue_
) > 1) {

104 
RTC_DCHECK
(!
IsTh»adRefEqu®
(
ownšg_th»ad_
, 
£lf
));

106 
di¥©ch_£m­hÜe_wa™
(
£m­hÜe_
, 
DISPATCH_TIME_FOREVER
);

107 
RTC_DCHECK
(
ownšg_th»ad_
 == 0);

108 
RTC_DCHECK
(!
»cursiÚ_
);

111 
	gownšg_th»ad_
 = 
£lf
;

112 ++
	g»cursiÚ_
;

115 
±h»ad_mu‹x_lock
(&
mu‹x_
);

118 #ià
RTC_DCHECK_IS_ON


119 ià(!
	g»cursiÚ_couÁ_
) {

120 
RTC_DCHECK
(!
th»ad_
);

121 
	gth»ad_
 = 
Cu¼’tTh»adRef
();

123 
RTC_DCHECK
(
Cu¼’tTh»adIsOwÃr
());

125 ++
	g»cursiÚ_couÁ_
;

128 #”rÜ 
UnsuµÜ‹d
 
¶©fÜm
.

132 
boŞ
 
	gCr™iÿlSeùiÚ
::
TryEÁ”
(ècÚ¡ 
RTC_EXCLUSIVE_TRYLOCK_FUNCTION
(
Œue
) {

133 #ià
defšed
(
WEBRTC_WIN
)

134  
TryEÁ”Cr™iÿlSeùiÚ
(&
ü™_
è!ğ
FALSE
;

135 #–ià
defšed
(
WEBRTC_POSIX
)

136 #ià
defšed
(
WEBRTC_MAC
è&& !
RTC_USE_NATIVE_MUTEX_ON_MAC


137 ià(!
IsTh»adRefEqu®
(
ownšg_th»ad_
, 
Cu¼’tTh»adRef
())) {

138 ià(
	gAtomicOps
::
Com·»AndSw­
(&
lock_queue_
, 0, 1) != 0)

139  
çl£
;

140 
	gownšg_th»ad_
 = 
Cu¼’tTh»adRef
();

141 
RTC_DCHECK
(!
»cursiÚ_
);

143 
	gAtomicOps
::
Inüem’t
(&
lock_queue_
);

145 ++
	g»cursiÚ_
;

147 ià(
±h»ad_mu‹x_Œylock
(&
mu‹x_
) != 0)

148  
çl£
;

150 #ià
RTC_DCHECK_IS_ON


151 ià(!
	g»cursiÚ_couÁ_
) {

152 
RTC_DCHECK
(!
th»ad_
);

153 
	gth»ad_
 = 
Cu¼’tTh»adRef
();

155 
RTC_DCHECK
(
Cu¼’tTh»adIsOwÃr
());

157 ++
	g»cursiÚ_couÁ_
;

159  
	gŒue
;

161 #”rÜ 
UnsuµÜ‹d
 
¶©fÜm
.

165 
	gCr™iÿlSeùiÚ
::
L—ve
(ècÚ¡ 
RTC_UNLOCK_FUNCTION
() {

166 
RTC_DCHECK
(
Cu¼’tTh»adIsOwÃr
());

167 #ià
defšed
(
WEBRTC_WIN
)

168 
L—veCr™iÿlSeùiÚ
(&
ü™_
);

169 #–ià
defšed
(
WEBRTC_POSIX
)

170 #ià
RTC_DCHECK_IS_ON


171 --
	g»cursiÚ_couÁ_
;

172 
RTC_DCHECK
(
»cursiÚ_couÁ_
 >= 0);

173 ià(!
	g»cursiÚ_couÁ_
)

174 
	gth»ad_
 = 0;

176 #ià
defšed
(
WEBRTC_MAC
è&& !
RTC_USE_NATIVE_MUTEX_ON_MAC


177 
RTC_DCHECK
(
IsTh»adRefEqu®
(
ownšg_th»ad_
, 
Cu¼’tTh»adRef
()));

178 
RTC_DCHECK_GE
(
»cursiÚ_
, 0);

179 --
	g»cursiÚ_
;

180 ià(!
	g»cursiÚ_
)

181 
	gownšg_th»ad_
 = 0;

183 ià(
	gAtomicOps
::
Deüem’t
(&
lock_queue_
è> 0 && !
»cursiÚ_
)

184 
di¥©ch_£m­hÜe_sigÇl
(
£m­hÜe_
);

186 
±h»ad_mu‹x_uÆock
(&
mu‹x_
);

189 #”rÜ 
UnsuµÜ‹d
 
¶©fÜm
.

193 
boŞ
 
	gCr™iÿlSeùiÚ
::
Cu¼’tTh»adIsOwÃr
() const {

194 #ià
defšed
(
WEBRTC_WIN
)

199  
ü™_
.
OwnšgTh»ad
 ==

200 
»š‹½»t_ÿ¡
<
HANDLE
>(
¡©ic_ÿ¡
<
size_t
>(
G‘Cu¼’tTh»adId
()));

201 #–ià
defšed
(
WEBRTC_POSIX
)

202 #ià
RTC_DCHECK_IS_ON


203  
IsTh»adRefEqu®
(
th»ad_
, 
Cu¼’tTh»adRef
());

205  
	gŒue
;

208 #”rÜ 
UnsuµÜ‹d
 
¶©fÜm
.

212 
	gCr™Scİe
::
Cr™Scİe
(cÚ¡ 
Cr™iÿlSeùiÚ
* 
cs
è: 
cs_
(cs) {

213 
cs_
->
EÁ”
();

215 
	gCr™Scİe
::~
Cr™Scİe
() {

216 
cs_
->
L—ve
();

219 
	gGlob®Lock
::
Lock
() {

220 #ià!
defšed
(
WEBRTC_WIN
) && \

221 (!
defšed
(
WEBRTC_MAC
è|| 
RTC_USE_NATIVE_MUTEX_ON_MAC
)

222 cÚ¡ 
time¥ec
 
ts_nuÎ
 = {0};

225 
	gAtomicOps
::
Com·»AndSw­
(&
lock_acquœed_
, 0, 1)) {

226 #ià
defšed
(
WEBRTC_WIN
)

227 ::
SË•
(0);

228 #–ià
defšed
(
WEBRTC_MAC
è&& !
RTC_USE_NATIVE_MUTEX_ON_MAC


229 
sched_y›ld
();

231 
Çno¦“p
(&
ts_nuÎ
, 
nuÎ±r
);

236 
	gGlob®Lock
::
UÆock
() {

237 
Şd_v®ue
 = 
AtomicOps
::
Com·»AndSw­
(&
lock_acquœed_
, 1, 0);

238 
RTC_DCHECK_EQ
(1, 
Şd_v®ue
) << "Unlock called without calling Lock first";

241 
	gGlob®LockScİe
::
Glob®LockScİe
(
Glob®Lock
* 
lock
è: 
lock_
(lock) {

242 
lock_
->
Lock
();

245 
	gGlob®LockScİe
::~
Glob®LockScİe
() {

246 
lock_
->
UÆock
();

	@critical_section.h

11 #iâdeà
RTC_BASE_CRITICAL_SECTION_H_


12 
	#RTC_BASE_CRITICAL_SECTION_H_


	)

14 
	~"¹c_ba£/checks.h
"

15 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

16 
	~"¹c_ba£/¶©fÜm_th»ad_ty³s.h
"

17 
	~"¹c_ba£/sy¡em/¹c_expÜt.h
"

18 
	~"¹c_ba£/th»ad_ªnÙ©iÚs.h
"

20 #ià
defšed
(
WEBRTC_WIN
)

27 
	~<wšsock2.h
>

28 
	~<wšdows.h
>

29 
	~<§l.h
>

33 #ià
defšed
(
WEBRTC_POSIX
)

34 
	~<±h»ad.h
>

38 
	#RTC_USE_NATIVE_MUTEX_ON_MAC
 1

	)

40 #ià
defšed
(
WEBRTC_MAC
è&& !
RTC_USE_NATIVE_MUTEX_ON_MAC


41 
	~<di¥©ch/di¥©ch.h
>

44 
Çme¥aû
 
	g¹c
 {

49 şas 
	cRTC_LOCKABLE
 
RTC_EXPORT
 
	gCr™iÿlSeùiÚ
 {

50 
	gpublic
:

51 
Cr™iÿlSeùiÚ
();

52 ~
Cr™iÿlSeùiÚ
();

54 
EÁ”
(ècÚ¡ 
RTC_EXCLUSIVE_LOCK_FUNCTION
();

55 
boŞ
 
TryEÁ”
(ècÚ¡ 
RTC_EXCLUSIVE_TRYLOCK_FUNCTION
(
Œue
);

56 
L—ve
(ècÚ¡ 
RTC_UNLOCK_FUNCTION
();

58 
	g´iv©e
:

60 
boŞ
 
Cu¼’tTh»adIsOwÃr
() const;

62 #ià
defšed
(
WEBRTC_WIN
)

63 
mubË
 
CRITICAL_SECTION
 
	gü™_
;

64 #–ià
defšed
(
WEBRTC_POSIX
)

65 #ià
defšed
(
WEBRTC_MAC
è&& !
RTC_USE_NATIVE_MUTEX_ON_MAC


69 
mubË
 vŞ©
	glock_queue_
;

72 
mubË
 
	g»cursiÚ_
;

74 
mubË
 
di¥©ch_£m­hÜe_t
 
	g£m­hÜe_
;

76 
mubË
 
PÏtfÜmTh»adRef
 
	gownšg_th»ad_
;

78 
mubË
 
±h»ad_mu‹x_t
 
	gmu‹x_
;

80 
mubË
 
PÏtfÜmTh»adRef
 
	gth»ad_
;

81 
mubË
 
	g»cursiÚ_couÁ_
;

83 #”rÜ 
UnsuµÜ‹d
 
¶©fÜm
.

88 şas 
	cRTC_SCOPED_LOCKABLE
 
	gCr™Scİe
 {

89 
	gpublic
:

90 
ex¶ic™
 
Cr™Scİe
(cÚ¡ 
Cr™iÿlSeùiÚ
* 
cs
è
RTC_EXCLUSIVE_LOCK_FUNCTION
(cs);

91 ~
Cr™Scİe
(è
RTC_UNLOCK_FUNCTION
();

93 
	g´iv©e
:

94 cÚ¡ 
Cr™iÿlSeùiÚ
* cÚ¡ 
cs_
;

95 
RTC_DISALLOW_COPY_AND_ASSIGN
(
Cr™Scİe
);

99 şas 
	cRTC_LOCKABLE
 
	gGlob®Lock
 {

100 
	gpublic
:

101 
cÚ¡ex´
 
Glob®Lock
(è: 
lock_acquœed_
(0) {}

103 
Lock
(è
RTC_EXCLUSIVE_LOCK_FUNCTION
();

104 
UÆock
(è
RTC_UNLOCK_FUNCTION
();

106 
	g´iv©e
:

107 vŞ©
lock_acquœed_
;

111 şas 
	cRTC_SCOPED_LOCKABLE
 
	gGlob®LockScİe
 {

112 
	gpublic
:

113 
ex¶ic™
 
Glob®LockScİe
(
Glob®Lock
* 
lock
è
RTC_EXCLUSIVE_LOCK_FUNCTION
(lock);

114 ~
Glob®LockScİe
(è
RTC_UNLOCK_FUNCTION
();

116 
	g´iv©e
:

117 
Glob®Lock
* cÚ¡ 
lock_
;

118 
RTC_DISALLOW_COPY_AND_ASSIGN
(
Glob®LockScİe
);

	@critical_section_unittest.cc

11 
	~"¹c_ba£/ü™iÿl_£ùiÚ.h
"

13 
	~<¡ddef.h
>

14 
	~<¡dšt.h
>

16 
	~<memÜy
>

17 
	~<£t
>

18 
	~<ty³_Œa™s
>

19 
	~<ut™y
>

20 
	~<veùÜ
>

22 
	~"ab¦/ba£/©Œibu‹s.h
"

23 
	~"¹c_ba£/¬¿ysize.h
"

24 
	~"¹c_ba£/©omic_İs.h
"

25 
	~"¹c_ba£/checks.h
"

26 
	~"¹c_ba£/ev’t.h
"

27 
	~"¹c_ba£/loÿtiÚ.h
"

28 
	~"¹c_ba£/mes§ge_hªdËr.h
"

29 
	~"¹c_ba£/¶©fÜm_th»ad.h
"

30 
	~"¹c_ba£/th»ad.h
"

31 
	~"‹¡/g‹¡.h
"

33 
Çme¥aû
 
	g¹c
 {

35 
	gÇme¥aû
 {

37 cÚ¡ 
	gkLÚgTime
 = 10000;

38 cÚ¡ 
	gkNumTh»ads
 = 16;

39 cÚ¡ 
	gkO³¿tiÚsToRun
 = 1000;

41 şas 
	cUniqueV®ueV”if›r
 {

42 
	gpublic
:

43 
V”ify
(cÚ¡ 
¡d
::
veùÜ
<>& 
v®ues
) {

44 
size_t
 
i
 = 0; 
	gi
 < 
	gv®ues
.
size
(); ++i) {

45 
	g¡d
::
·œ
<
¡d
::
£t
<>::
™”©Ü
, 
	gboŞ
> 
	g»suÉ
 =

46 
®l_v®ues_
.
š£¹
(
v®ues
[
i
]);

49 
EXPECT_TRUE
(
»suÉ
.
£cÚd
)

50 << " Th»ad=" << 
	gTh»ad
::
Cu¼’t
(è<< " v®ue=" << 
v®ues
[
i
];

54 
Fš®ize
() {}

56 
	g´iv©e
:

57 
¡d
::
£t
<> 
®l_v®ues_
;

60 şas 
	cCom·»AndSw­V”if›r
 {

61 
	gpublic
:

62 
Com·»AndSw­V”if›r
(è: 
z”o_couÁ_
(0) {}

64 
V”ify
(cÚ¡ 
¡d
::
veùÜ
<>& 
v®ues
) {

65 autØ
v
 : 
v®ues
) {

66 ià(
v
 == 0) {

67 
EXPECT_EQ
(0, 
z”o_couÁ_
è<< "Th»ad=" << 
Th»ad
::
Cu¼’t
();

68 ++
	gz”o_couÁ_
;

70 
EXPECT_EQ
(1, 
v
è<< " Th»ad=" << 
	gTh»ad
::
Cu¼’t
();

75 
Fš®ize
(è{ 
EXPECT_EQ
(1, 
z”o_couÁ_
); }

77 
	g´iv©e
:

78 
z”o_couÁ_
;

81 şas 
	cRuÂ”Ba£
 : 
public
 
Mes§geHªdËr
 {

82 
public
:

83 
ex¶ic™
 
RuÂ”Ba£
(
v®ue
)

84 : 
th»ads_aùive_
(0),

85 
¡¬t_ev’t_
(
Œue
, 
çl£
),

86 
dÚe_ev’t_
(
Œue
, 
çl£
),

87 
sh¬ed_v®ue_
(
v®ue
) {}

89 
boŞ
 
Run
() {

91 
	g¡¬t_ev’t_
.
S‘
();

94  
	gdÚe_ev’t_
.
Wa™
(
kLÚgTime
);

97 
S‘Ex³ùedTh»adCouÁ
(
couÁ
è{ 
	gth»ads_aùive_
 = count; }

99 
sh¬ed_v®ue
(ècÚ¡ {  
	gsh¬ed_v®ue_
; }

101 
	g´Ùeùed
:

104 
BefÜeS¹
(è{ 
ASSERT_TRUE
(
¡¬t_ev’t_
.
Wa™
(
kLÚgTime
)); }

107 
boŞ
 
Aá”End
() {

108 ià(
	gAtomicOps
::
Deüem’t
(&
th»ads_aùive_
) == 0) {

109 
dÚe_ev’t_
.
S‘
();

110  
	gŒue
;

112  
	gçl£
;

115 
	gth»ads_aùive_
;

116 
Ev’t
 
	g¡¬t_ev’t_
;

117 
Ev’t
 
	gdÚe_ev’t_
;

118 
	gsh¬ed_v®ue_
;

121 şas 
	cRTC_LOCKABLE
 
	gCr™iÿlSeùiÚLock
 {

122 
	gpublic
:

123 
Lock
(è
RTC_EXCLUSIVE_LOCK_FUNCTION
(è{ 
cs_
.
EÁ”
(); }

124 
UÆock
(è
RTC_UNLOCK_FUNCTION
(è{ 
	gcs_
.
L—ve
(); }

126 
	g´iv©e
:

127 
Cr™iÿlSeùiÚ
 
cs_
;

130 
	g‹m¶©e
 <
şass
 
	gLock
>

131 şas 
	cLockRuÂ”
 : 
public
 
RuÂ”Ba£
 {

132 
public
:

133 
LockRuÂ”
(è: 
RuÂ”Ba£
(0) {}

135 
OnMes§ge
(
Mes§ge
* 
msg
è
ov”ride
 {

136 
BefÜeS¹
();

138 
	glock_
.
Lock
();

140 
EXPECT_EQ
(0, 
sh¬ed_v®ue_
);

141 
	gŞd
 = 
sh¬ed_v®ue_
;

144 
	gi
 = 0; i < 
	gkO³¿tiÚsToRun
; ++i) {

145 ++
	gsh¬ed_v®ue_
;

147 
EXPECT_EQ
(
Şd
 + 
kO³¿tiÚsToRun
, 
sh¬ed_v®ue_
);

148 
	gsh¬ed_v®ue_
 = 0;

150 
	glock_
.
UÆock
();

152 
Aá”End
();

155 
	g´iv©e
:

156 
Lock
 
lock_
;

159 
	g‹m¶©e
 <
şass
 
	gOp
, cÏs 
	gV”if›r
>

160 şas 
	cAtomicOpRuÂ”
 : 
public
 
RuÂ”Ba£
 {

161 
public
:

162 
ex¶ic™
 
AtomicOpRuÂ”
(
š™Ÿl_v®ue
è: 
RuÂ”Ba£
(initial_value) {}

164 
OnMes§ge
(
Mes§ge
* 
msg
è
ov”ride
 {

165 
BefÜeS¹
();

167 
	g¡d
::
veùÜ
<> 
v®ues
;

168 
	gv®ues
.
»£rve
(
kO³¿tiÚsToRun
);

171 
	gi
 = 0; i < 
	gkO³¿tiÚsToRun
; ++i) {

172 
	gv®ues
.
push_back
(
Op
::
AtomicOp
(&
sh¬ed_v®ue_
));

176 
Cr™Scİe
 
cs
(&
®l_v®ues_ü™_
);

177 
	gv”if›r_
.
V”ify
(
v®ues
);

180 ià(
Aá”End
()) {

181 
	gv”if›r_
.
Fš®ize
();

185 
	g´iv©e
:

186 
Cr™iÿlSeùiÚ
 
®l_v®ues_ü™_
;

187 
V”if›r
 
	gv”if›r_
;

190 
	sInüem’tOp
 {

191 
AtomicOp
(* 
i
è{  
	gAtomicOps
::
Inüem’t
(i); }

194 
	sDeüem’tOp
 {

195 
AtomicOp
(* 
i
è{  
	gAtomicOps
::
Deüem’t
(i); }

198 
	sCom·»AndSw­Op
 {

199 
AtomicOp
(* 
i
è{  
	gAtomicOps
::
Com·»AndSw­
(i, 0, 1); }

202 
S¹Th»ads
(
¡d
::
veùÜ
<¡d::
unique_±r
<
Th»ad
>>* 
th»ads
,

203 
Mes§geHªdËr
* 
hªdËr
) {

204 
	gi
 = 0; i < 
	gkNumTh»ads
; ++i) {

205 
	g¡d
::
unique_±r
<
Th»ad
> 
th»ad
(Th»ad::
C»©e
());

206 
	gth»ad
->
S¹
();

207 
	gth»ad
->
Po¡
(
RTC_FROM_HERE
, 
hªdËr
);

208 
	gth»ads
->
push_back
(
¡d
::
move
(
th»ad
));

214 
	$TEST
(
AtomicOpsTe¡
, 
Sim¶e
) {

215 
v®ue
 = 0;

216 
	`EXPECT_EQ
(1, 
AtomicOps
::
	`Inüem’t
(&
v®ue
));

217 
	`EXPECT_EQ
(1, 
v®ue
);

218 
	`EXPECT_EQ
(2, 
AtomicOps
::
	`Inüem’t
(&
v®ue
));

219 
	`EXPECT_EQ
(2, 
v®ue
);

220 
	`EXPECT_EQ
(1, 
AtomicOps
::
	`Deüem’t
(&
v®ue
));

221 
	`EXPECT_EQ
(1, 
v®ue
);

222 
	`EXPECT_EQ
(0, 
AtomicOps
::
	`Deüem’t
(&
v®ue
));

223 
	`EXPECT_EQ
(0, 
v®ue
);

224 
	}
}

226 
	$TEST
(
AtomicOpsTe¡
, 
Sim¶ePŒ
) {

227 şas 
	cFoo
 {};

228 
Foo
* vŞ©
foo
 = 
nuÎ±r
;

229 
¡d
::
unique_±r
<
Foo
> 
	`a
(
Ãw
 
	`Foo
());

230 
¡d
::
unique_±r
<
Foo
> 
	`b
(
Ãw
 
	`Foo
());

232 
	`EXPECT_TRUE
(
¹c
::
AtomicOps
::
	`AcquœeLßdPŒ
(&
foo
è=ğ
nuÎ±r
);

234 
	`EXPECT_TRUE
(
¹c
::
AtomicOps
::
	`Com·»AndSw­PŒ
(

235 &
foo
, 
¡©ic_ÿ¡
<
Foo
*>(
nuÎ±r
), 
a
.
	`g‘
()) ==‚ullptr);

236 
	`EXPECT_TRUE
(
¹c
::
AtomicOps
::
	`AcquœeLßdPŒ
(&
foo
è=ğ
a
.
	`g‘
());

239 
	`EXPECT_TRUE
(
¹c
::
AtomicOps
::
	`Com·»AndSw­PŒ
(

240 &
foo
, 
¡©ic_ÿ¡
<
Foo
*>(
nuÎ±r
), 
b
.
	`g‘
()è=ğ
a
.get());

241 
	`EXPECT_TRUE
(
¹c
::
AtomicOps
::
	`AcquœeLßdPŒ
(&
foo
è=ğ
a
.
	`g‘
());

243 
	`EXPECT_TRUE
(
¹c
::
AtomicOps
::
	`Com·»AndSw­PŒ
(&
foo
, 
a
.
	`g‘
(), 
b
.get()) ==

244 
a
.
	`g‘
());

245 
	`EXPECT_TRUE
(
¹c
::
AtomicOps
::
	`AcquœeLßdPŒ
(&
foo
è=ğ
b
.
	`g‘
());

246 
	}
}

248 
	$TEST
(
AtomicOpsTe¡
, 
Inüem’t
) {

250 
AtomicOpRuÂ”
<
Inüem’tOp
, 
UniqueV®ueV”if›r
> 
	`ruÂ”
(0);

251 
¡d
::
veùÜ
<¡d::
unique_±r
<
Th»ad
>> 
th»ads
;

252 
	`S¹Th»ads
(&
th»ads
, &
ruÂ”
);

253 
ruÂ”
.
	`S‘Ex³ùedTh»adCouÁ
(
kNumTh»ads
);

256 
	`EXPECT_TRUE
(
ruÂ”
.
	`Run
());

257 
	`EXPECT_EQ
(
kO³¿tiÚsToRun
 * 
kNumTh»ads
, 
ruÂ”
.
	`sh¬ed_v®ue
());

258 
	}
}

260 
	$TEST
(
AtomicOpsTe¡
, 
Deüem’t
) {

262 
AtomicOpRuÂ”
<
Deüem’tOp
, 
UniqueV®ueV”if›r
> 
	`ruÂ”
(
kO³¿tiÚsToRun
 *

263 
kNumTh»ads
);

264 
¡d
::
veùÜ
<¡d::
unique_±r
<
Th»ad
>> 
th»ads
;

265 
	`S¹Th»ads
(&
th»ads
, &
ruÂ”
);

266 
ruÂ”
.
	`S‘Ex³ùedTh»adCouÁ
(
kNumTh»ads
);

269 
	`EXPECT_TRUE
(
ruÂ”
.
	`Run
());

270 
	`EXPECT_EQ
(0, 
ruÂ”
.
	`sh¬ed_v®ue
());

271 
	}
}

273 
	$TEST
(
AtomicOpsTe¡
, 
Com·»AndSw­
) {

275 
AtomicOpRuÂ”
<
Com·»AndSw­Op
, 
Com·»AndSw­V”if›r
> 
	`ruÂ”
(0);

276 
¡d
::
veùÜ
<¡d::
unique_±r
<
Th»ad
>> 
th»ads
;

277 
	`S¹Th»ads
(&
th»ads
, &
ruÂ”
);

278 
ruÂ”
.
	`S‘Ex³ùedTh»adCouÁ
(
kNumTh»ads
);

281 
	`EXPECT_TRUE
(
ruÂ”
.
	`Run
());

282 
	`EXPECT_EQ
(1, 
ruÂ”
.
	`sh¬ed_v®ue
());

283 
	}
}

285 
	$TEST
(
Glob®LockTe¡
, 
CªHaveSticStÜageDu¿tiÚ
) {

286 
	`¡©ic_as£¹
(
¡d
::
is_ŒivŸÎy_de¡ruùibË
<
Glob®Lock
>::
v®ue
, "");

287 
ABSL_CONST_INIT
 
Glob®Lock
 
glob®_lock
;

288 
glob®_lock
.
	`Lock
();

289 
glob®_lock
.
	`UÆock
();

290 
	}
}

292 
	$TEST
(
Glob®LockTe¡
, 
Basic
) {

294 
LockRuÂ”
<
Glob®Lock
> 
ruÂ”
;

295 
¡d
::
veùÜ
<¡d::
unique_±r
<
Th»ad
>> 
th»ads
;

296 
	`S¹Th»ads
(&
th»ads
, &
ruÂ”
);

297 
ruÂ”
.
	`S‘Ex³ùedTh»adCouÁ
(
kNumTh»ads
);

300 
	`EXPECT_TRUE
(
ruÂ”
.
	`Run
());

301 
	`EXPECT_EQ
(0, 
ruÂ”
.
	`sh¬ed_v®ue
());

302 
	}
}

304 
	$TEST
(
Cr™iÿlSeùiÚTe¡
, 
Basic
) {

306 
LockRuÂ”
<
Cr™iÿlSeùiÚLock
> 
ruÂ”
;

307 
¡d
::
veùÜ
<¡d::
unique_±r
<
Th»ad
>> 
th»ads
;

308 
	`S¹Th»ads
(&
th»ads
, &
ruÂ”
);

309 
ruÂ”
.
	`S‘Ex³ùedTh»adCouÁ
(
kNumTh»ads
);

312 
	`EXPECT_TRUE
(
ruÂ”
.
	`Run
());

313 
	`EXPECT_EQ
(0, 
ruÂ”
.
	`sh¬ed_v®ue
());

314 
	}
}

316 şas 
	cP”fTe¡D©a
 {

317 
	gpublic
:

318 
P”fTe¡D©a
(
ex³ùed_couÁ
, 
Ev’t
* 
ev’t
)

319 : 
ÿche_lše_b¬r›r_1_
(),

320 
ÿche_lše_b¬r›r_2_
(),

321 
ex³ùed_couÁ_
(
ex³ùed_couÁ
),

322 
ev’t_
(
ev’t
) {

323 
	gÿche_lše_b¬r›r_1_
[0]++;

324 
	gÿche_lše_b¬r›r_2_
[0]++;

326 ~
P”fTe¡D©a
() {}

328 
AddToCouÁ”
(
add
) {

329 
	g¹c
::
Cr™Scİe
 
cs
(&
lock_
);

330 
	gmy_couÁ”_
 +ğ
add
;

331 ià(
	gmy_couÁ”_
 =ğ
ex³ùed_couÁ_
)

332 
ev’t_
->
S‘
();

335 
št64_t
 
tÙ®
() const {

337  
	gmy_couÁ”_
;

340 
	g´iv©e
:

341 
ušt8_t
 
ÿche_lše_b¬r›r_1_
[64];

342 
Cr™iÿlSeùiÚ
 
	glock_
;

343 
ušt8_t
 
	gÿche_lše_b¬r›r_2_
[64];

344 
št64_t
 
	gmy_couÁ”_
 = 0;

345 cÚ¡ 
	gex³ùed_couÁ_
;

346 
Ev’t
* cÚ¡ 
	gev’t_
;

349 şas 
	cP”fTe¡Th»ad
 {

350 
	gpublic
:

351 
P”fTe¡Th»ad
(è: 
th»ad_
(&
Th»adFunc
, 
this
, "CsPerf") {}

353 
S¹
(
P”fTe¡D©a
* 
d©a
, 
»³©s
, 
id
) {

354 
RTC_DCHECK
(!
th»ad_
.
IsRuÂšg
());

355 
RTC_DCHECK
(!
d©a_
);

356 
	gd©a_
 = 
d©a
;

357 
	g»³©s_
 = 
»³©s
;

358 
	gmy_id_
 = 
id
;

359 
	gth»ad_
.
S¹
();

362 
Stİ
() {

363 
RTC_DCHECK
(
th»ad_
.
IsRuÂšg
());

364 
RTC_DCHECK
(
d©a_
);

365 
	gth»ad_
.
Stİ
();

366 
	g»³©s_
 = 0;

367 
	gd©a_
 = 
nuÎ±r
;

368 
	gmy_id_
 = 0;

371 
	g´iv©e
:

372 
Th»adFunc
(* 
·¿m
) {

373 
P”fTe¡Th»ad
* 
me
 = 
¡©ic_ÿ¡
<P”fTe¡Th»ad*>(
·¿m
);

374 
	gi
 = 0; i < 
	gme
->
	g»³©s_
; ++i)

375 
	gme
->
	gd©a_
->
AddToCouÁ”
(
me
->
my_id_
);

378 
PÏtfÜmTh»ad
 
	gth»ad_
;

379 
P”fTe¡D©a
* 
	gd©a_
 = 
nuÎ±r
;

380 
	g»³©s_
 = 0;

381 
	gmy_id_
 = 0;

413 
	$TEST
(
Cr™iÿlSeùiÚTe¡
, 
DISABLED_P”fÜmªû
) {

414 
P”fTe¡Th»ad
 
th»ads
[8];

415 
Ev’t
 
ev’t
;

417 cÚ¡ 
kTh»adR•—ts
 = 10000000;

418 cÚ¡ 
kEx³ùedCouÁ
 = 
kTh»adR•—ts
 * 
	`¬¿ysize
(
th»ads
);

419 
P”fTe¡D©a
 
	`‹¡_d©a
(
kEx³ùedCouÁ
, &
ev’t
);

421 auto& 
t
 : 
th»ads
)

422 
t
.
	`S¹
(&
‹¡_d©a
, 
kTh»adR•—ts
, 1);

424 
ev’t
.
	`Wa™
(
Ev’t
::
kFÜev”
);

426 auto& 
t
 : 
th»ads
)

427 
t
.
	`Stİ
();

428 
	}
}

	@crypt_string.cc

11 
	~"¹c_ba£/üy±_¡ršg.h
"

13 
Çme¥aû
 
	g¹c
 {

15 
size_t
 
	gEm±yCry±SŒšgIm¶
::
G‘L’gth
() const {

19 
	gEm±yCry±SŒšgIm¶
::
CİyTo
(* 
de¡
, 
boŞ
 
nuÎ‹rmš©e
) const {

20 ià(
	gnuÎ‹rmš©e
) {

21 *
	gde¡
 = '\0';

25 
	g¡d
::
¡ršg
 
Em±yCry±SŒšgIm¶
::
U¾Encode
() const {

29 
Cry±SŒšgIm¶
* 
	gEm±yCry±SŒšgIm¶
::
Cİy
() const {

30  
Ãw
 
Em±yCry±SŒšgIm¶
();

33 
	gEm±yCry±SŒšgIm¶
::
CİyRawTo
(
¡d
::
veùÜ
<>* 
de¡
) const {

34 
de¡
->
ş—r
();

37 
	gCry±SŒšg
::
Cry±SŒšg
(è: 
im¶_
(
Ãw
 
Em±yCry±SŒšgIm¶
()) {}

39 
Cry±SŒšg
::Cry±SŒšg(cÚ¡ Cry±SŒšg& 
Ùh”
)

40 : 
im¶_
(
Ùh”
.im¶_->
Cİy
()) {}

42 
Cry±SŒšg
::Cry±SŒšg(cÚ¡ 
Cry±SŒšgIm¶
& 
im¶
è: 
im¶_
(im¶.
Cİy
()) {}

44 
Cry±SŒšg
::~CryptString() = ;

	@crypt_string.h

11 #iâdeà
RTC_BASE_CRYPT_STRING_H_


12 
	#RTC_BASE_CRYPT_STRING_H_


	)

14 
	~<¡ršg.h
>

16 
	~<memÜy
>

17 
	~<¡ršg
>

18 
	~<veùÜ
>

20 
Çme¥aû
 
	g¹c
 {

22 şas 
	cCry±SŒšgIm¶
 {

23 
	gpublic
:

24 
vœtu®
 ~
Cry±SŒšgIm¶
() {}

25 
vœtu®
 
size_t
 
G‘L’gth
() const = 0;

26 
vœtu®
 
CİyTo
(* 
de¡
, 
boŞ
 
nuÎ‹rmš©e
) const = 0;

27 
vœtu®
 
	g¡d
::
¡ršg
 
U¾Encode
() const = 0;

28 
vœtu®
 
Cry±SŒšgIm¶
* 
Cİy
() const = 0;

29 
vœtu®
 
CİyRawTo
(
¡d
::
veùÜ
<>* 
de¡
) const = 0;

32 şas 
	cEm±yCry±SŒšgIm¶
 : 
public
 
Cry±SŒšgIm¶
 {

33 
public
:

34 ~
Em±yCry±SŒšgIm¶
(è
ov”ride
 {}

35 
size_t
 
G‘L’gth
(ècÚ¡ 
ov”ride
;

36 
CİyTo
(* 
de¡
, 
boŞ
 
nuÎ‹rmš©e
ècÚ¡ 
	gov”ride
;

37 
	g¡d
::
¡ršg
 
U¾Encode
(ècÚ¡ 
ov”ride
;

38 
Cry±SŒšgIm¶
* 
Cİy
(ècÚ¡ 
	gov”ride
;

39 
CİyRawTo
(
¡d
::
veùÜ
<>* 
de¡
ècÚ¡ 
ov”ride
;

42 şas 
	cCry±SŒšg
 {

43 
	gpublic
:

44 
Cry±SŒšg
();

45 
size_t
 
G‘L’gth
(ècÚ¡ {  
	gim¶_
->GetLength(); }

46 
CİyTo
(* 
de¡
, 
boŞ
 
nuÎ‹rmš©e
) const {

47 
	gim¶_
->
CİyTo
(
de¡
, 
nuÎ‹rmš©e
);

49 
Cry±SŒšg
(cÚ¡ Cry±SŒšg& 
Ùh”
);

50 
ex¶ic™
 
Cry±SŒšg
(cÚ¡ 
Cry±SŒšgIm¶
& 
im¶
);

51 ~
Cry±SŒšg
();

52 
	gCry±SŒšg
& 
	gİ”©Ü
=(cÚ¡ 
Cry±SŒšg
& 
Ùh”
) {

53 ià(
this
 !ğ&
Ùh”
) {

54 
im¶_
.
»£t
(
Ùh”
.im¶_->
Cİy
());

56  *
	gthis
;

58 
CË¬
(è{ 
	gim¶_
.
»£t
(
Ãw
 
Em±yCry±SŒšgIm¶
()); }

59 
	g¡d
::
¡ršg
 
U¾Encode
(ècÚ¡ {  
im¶_
->UrlEncode(); }

60 
CİyRawTo
(
¡d
::
veùÜ
<>* 
de¡
) const {

61  
im¶_
->
CİyRawTo
(
de¡
);

64 
	g´iv©e
:

65 
¡d
::
unique_±r
<cÚ¡ 
Cry±SŒšgIm¶
> 
im¶_
;

	@data_rate_limiter.cc

11 
	~"¹c_ba£/d©a_¿‹_lim™”.h
"

13 
Çme¥aû
 
	g¹c
 {

15 
boŞ
 
	gD©aR©eLim™”
::
CªU£
(
size_t
 
desœed
, 
time
) {

16  ((
	gtime
 > 
	g³riod_’d_
 && 
	gdesœed
 <ğ
max_³r_³riod_
) ||

17 (
u£d_š_³riod_
 + 
desœed
è<ğ
max_³r_³riod_
);

20 
	gD©aR©eLim™”
::
U£
(
size_t
 
u£d
, 
time
) {

21 ià(
	gtime
 > 
	g³riod_’d_
) {

22 
	g³riod_¡¬t_
 = 
time
;

23 
	g³riod_’d_
 = 
time
 + 
³riod_Ëngth_
;

24 
	gu£d_š_³riod_
 = 0;

26 
	gu£d_š_³riod_
 +ğ
u£d
;

	@data_rate_limiter.h

11 #iâdeà
RTC_BASE_DATA_RATE_LIMITER_H_


12 
	#RTC_BASE_DATA_RATE_LIMITER_H_


	)

14 
	~<¡ddef.h
>

16 
	~"¹c_ba£/sy¡em/¹c_expÜt.h
"

18 
Çme¥aû
 
	g¹c
 {

26 şas 
	cRTC_EXPORT
 
	gD©aR©eLim™”
 {

27 
	gpublic
:

29 
D©aR©eLim™”
(
size_t
 
max
, 
³riod
)

30 : 
max_³r_³riod_
(
max
),

31 
³riod_Ëngth_
(
³riod
),

32 
u£d_š_³riod_
(0),

33 
³riod_¡¬t_
(0.0),

34 
³riod_’d_
(
³riod
) {}

35 
	gvœtu®
 ~
D©aR©eLim™”
() {}

40 
boŞ
 
CªU£
(
size_t
 
desœed
, 
time
);

43 
U£
(
size_t
 
u£d
, 
time
);

45 
size_t
 
u£d_š_³riod
(ècÚ¡ {  
	gu£d_š_³riod_
; }

47 
size_t
 
max_³r_³riod
(ècÚ¡ {  
	gmax_³r_³riod_
; }

49 
	g´iv©e
:

50 
size_t
 
max_³r_³riod_
;

51 
	g³riod_Ëngth_
;

52 
size_t
 
	gu£d_š_³riod_
;

53 
	g³riod_¡¬t_
;

54 
	g³riod_’d_
;

	@data_rate_limiter_unittest.cc

11 
	~"¹c_ba£/d©a_¿‹_lim™”.h
"

13 
	~"‹¡/g‹¡.h
"

15 
Çme¥aû
 
	g¹c
 {

17 
TEST
(
R©eLim™”Te¡
, 
Te¡CªU£
) {

19 
D©aR©eLim™”
 
	glim™”
 = DataRateLimiter(2000, 1.0);

21 
	gmÚday
 = 1.0;

22 
	gtuesday
 = 2.0;

23 
	gthursday
 = 4.0;

25 
EXPECT_TRUE
(
lim™”
.
CªU£
(0, 
mÚday
));

26 
EXPECT_TRUE
(
lim™”
.
CªU£
(1000, 
mÚday
));

27 
EXPECT_TRUE
(
lim™”
.
CªU£
(1999, 
mÚday
));

28 
EXPECT_TRUE
(
lim™”
.
CªU£
(2000, 
mÚday
));

29 
EXPECT_FALSE
(
lim™”
.
CªU£
(2001, 
mÚday
));

31 
	glim™”
.
U£
(1000, 
mÚday
);

33 
EXPECT_TRUE
(
lim™”
.
CªU£
(0, 
mÚday
));

34 
EXPECT_TRUE
(
lim™”
.
CªU£
(999, 
mÚday
));

35 
EXPECT_TRUE
(
lim™”
.
CªU£
(1000, 
mÚday
));

36 
EXPECT_FALSE
(
lim™”
.
CªU£
(1001, 
mÚday
));

38 
	glim™”
.
U£
(1000, 
mÚday
);

40 
EXPECT_TRUE
(
lim™”
.
CªU£
(0, 
mÚday
));

41 
EXPECT_FALSE
(
lim™”
.
CªU£
(1, 
mÚday
));

43 
EXPECT_TRUE
(
lim™”
.
CªU£
(0, 
tuesday
));

44 
EXPECT_TRUE
(
lim™”
.
CªU£
(1, 
tuesday
));

45 
EXPECT_TRUE
(
lim™”
.
CªU£
(1999, 
tuesday
));

46 
EXPECT_TRUE
(
lim™”
.
CªU£
(2000, 
tuesday
));

47 
EXPECT_FALSE
(
lim™”
.
CªU£
(2001, 
tuesday
));

49 
	glim™”
.
U£
(1000, 
tuesday
);

51 
EXPECT_TRUE
(
lim™”
.
CªU£
(1000, 
tuesday
));

52 
EXPECT_FALSE
(
lim™”
.
CªU£
(1001, 
tuesday
));

54 
	glim™”
.
U£
(1000, 
thursday
);

56 
EXPECT_TRUE
(
lim™”
.
CªU£
(1000, 
tuesday
));

57 
EXPECT_FALSE
(
lim™”
.
CªU£
(1001, 
tuesday
));

	@deprecation.h

11 #iâdeà
RTC_BASE_DEPRECATION_H_


12 
	#RTC_BASE_DEPRECATION_H_


	)

35 #ià
defšed
(
_MSC_VER
)

38 
	#RTC_DEPRECATED
 
	`__deş¥ec
(
d•»ÿ‹d
)

	)

39 #–ià
defšed
(
__GNUC__
)

40 
	#RTC_DEPRECATED
 
	`__©Œibu‹__
((
__d•»ÿ‹d__
))

	)

42 
	#RTC_DEPRECATED


	)

	@dscp.h

11 #iâdeà
RTC_BASE_DSCP_H_


12 
	#RTC_BASE_DSCP_H_


	)

14 
Çme¥aû
 
	g¹c
 {

17 
	eDiffS”vCodePošt
 {

18 
	gDSCP_NO_CHANGE
 = -1,

19 
	gDSCP_DEFAULT
 = 0,

20 
	gDSCP_CS0
 = 0,

21 
	gDSCP_CS1
 = 8,

22 
	gDSCP_AF11
 = 10,

23 
	gDSCP_AF12
 = 12,

24 
	gDSCP_AF13
 = 14,

25 
	gDSCP_CS2
 = 16,

26 
	gDSCP_AF21
 = 18,

27 
	gDSCP_AF22
 = 20,

28 
	gDSCP_AF23
 = 22,

29 
	gDSCP_CS3
 = 24,

30 
	gDSCP_AF31
 = 26,

31 
	gDSCP_AF32
 = 28,

32 
	gDSCP_AF33
 = 30,

33 
	gDSCP_CS4
 = 32,

34 
	gDSCP_AF41
 = 34,

35 
	gDSCP_AF42
 = 36,

36 
	gDSCP_AF43
 = 38,

37 
	gDSCP_CS5
 = 40,

38 
	gDSCP_EF
 = 46,

39 
	gDSCP_CS6
 = 48,

40 
	gDSCP_CS7
 = 56,

	@event.cc

11 
	~"¹c_ba£/ev’t.h
"

13 #ià
defšed
(
WEBRTC_WIN
)

14 
	~<wšdows.h
>

15 #–ià
defšed
(
WEBRTC_POSIX
)

16 
	~<”ºo.h
>

17 
	~<±h»ad.h
>

18 
	~<sys/time.h
>

19 
	~<time.h
>

24 
	~"ab¦/ty³s/İtiÚ®.h
"

25 
	~"¹c_ba£/checks.h
"

26 
	~"¹c_ba£/synchrÚiz©iÚ/y›ld_pŞicy.h
"

27 
	~"¹c_ba£/sy¡em/w¬n_cu¼’t_th»ad_is_d—dlocked.h
"

29 
Çme¥aû
 
	g¹c
 {

31 
	gEv’t
::
Ev’t
(è: Ev’t(
çl£
, false) {}

33 #ià
defšed
(
WEBRTC_WIN
)

35 
	gEv’t
::
Ev’t
(
boŞ
 
mªu®_»£t
, boŞ 
š™ŸÎy_sigÇËd
) {

36 
	gev’t_hªdË_
 = ::
C»©eEv’t
(
nuÎ±r
,

37 
mªu®_»£t
, 
š™ŸÎy_sigÇËd
,

38 
nuÎ±r
);

39 
RTC_CHECK
(
ev’t_hªdË_
);

42 
	gEv’t
::~
Ev’t
() {

43 
Clo£HªdË
(
ev’t_hªdË_
);

46 
	gEv’t
::
S‘
() {

47 
S‘Ev’t
(
ev’t_hªdË_
);

50 
	gEv’t
::
Re£t
() {

51 
Re£tEv’t
(
ev’t_hªdË_
);

54 
boŞ
 
	gEv’t
::
Wa™
(cÚ¡ 
give_up_aá”_ms
, ) {

55 
	gScİedY›ldPŞicy
::
Y›ldExecutiÚ
();

56 cÚ¡ 
DWORD
 
	gms
 = 
give_up_aá”_ms
 =ğ
kFÜev”
 ? 
INFINITE
 : give_up_after_ms;

57  (
Wa™FÜSšgËObjeù
(
ev’t_hªdË_
, 
ms
è=ğ
WAIT_OBJECT_0
);

60 #–ià
defšed
(
WEBRTC_POSIX
)

64 #ià
defšed
(
WEBRTC_MAC
è|| defšed(
WEBRTC_IOS
)

65 
	#USE_CLOCK_GETTIME
 0

	)

66 
	#USE_PTHREAD_COND_TIMEDWAIT_MONOTONIC_NP
 0

	)

71 #–ià
defšed
(
WEBRTC_ANDROID
è&& (
__ANDROID_API__
 < 21)

72 
	#USE_CLOCK_GETTIME
 1

	)

73 
	#USE_PTHREAD_COND_TIMEDWAIT_MONOTONIC_NP
 1

	)

75 
	#USE_CLOCK_GETTIME
 1

	)

76 
	#USE_PTHREAD_COND_TIMEDWAIT_MONOTONIC_NP
 0

	)

79 
	gEv’t
::
Ev’t
(
boŞ
 
mªu®_»£t
, boŞ 
š™ŸÎy_sigÇËd
)

80 : 
is_mªu®_»£t_
(
mªu®_»£t
), 
ev’t_¡©us_
(
š™ŸÎy_sigÇËd
) {

81 
RTC_CHECK
(
±h»ad_mu‹x_š™
(&
ev’t_mu‹x_
, 
nuÎ±r
) == 0);

82 
±h»ad_cÚd©Œ_t
 
	gcÚd_©Œ
;

83 
RTC_CHECK
(
±h»ad_cÚd©Œ_š™
(&
cÚd_©Œ
) == 0);

84 #ià
USE_CLOCK_GETTIME
 && !
USE_PTHREAD_COND_TIMEDWAIT_MONOTONIC_NP


85 
RTC_CHECK
(
±h»ad_cÚd©Œ_£tşock
(&
cÚd_©Œ
, 
CLOCK_MONOTONIC
) == 0);

87 
RTC_CHECK
(
±h»ad_cÚd_š™
(&
ev’t_cÚd_
, &
cÚd_©Œ
) == 0);

88 
±h»ad_cÚd©Œ_de¡roy
(&
cÚd_©Œ
);

91 
	gEv’t
::~
Ev’t
() {

92 
±h»ad_mu‹x_de¡roy
(&
ev’t_mu‹x_
);

93 
±h»ad_cÚd_de¡roy
(&
ev’t_cÚd_
);

96 
	gEv’t
::
S‘
() {

97 
±h»ad_mu‹x_lock
(&
ev’t_mu‹x_
);

98 
	gev’t_¡©us_
 = 
Œue
;

99 
±h»ad_cÚd_brßdÿ¡
(&
ev’t_cÚd_
);

100 
±h»ad_mu‹x_uÆock
(&
ev’t_mu‹x_
);

103 
	gEv’t
::
Re£t
() {

104 
±h»ad_mu‹x_lock
(&
ev’t_mu‹x_
);

105 
	gev’t_¡©us_
 = 
çl£
;

106 
±h»ad_mu‹x_uÆock
(&
ev’t_mu‹x_
);

109 
	gÇme¥aû
 {

111 
time¥ec
 
G‘Time¥ec
(cÚ¡ 
mli£cÚds_äom_now
) {

112 
time¥ec
 
	gts
;

115 #ià
USE_CLOCK_GETTIME


116 
şock_g‘time
(
CLOCK_MONOTONIC
, &
ts
);

118 
timev®
 
	gtv
;

119 
g‘timeofday
(&
tv
, 
nuÎ±r
);

120 
	gts
.
	gtv_£c
 = 
tv
.
tv_£c
;

121 
	gts
.
	gtv_n£c
 = 
tv
.
tv_u£c
 * 1000;

125 
	gts
.
	gtv_£c
 +ğ(
mli£cÚds_äom_now
 / 1000);

126 
	gts
.
	gtv_n£c
 +ğ(
mli£cÚds_äom_now
 % 1000) * 1000000;

129 ià(
	gts
.
	gtv_n£c
 >= 1000000000) {

130 
ts
.
tv_£c
++;

131 
	gts
.
	gtv_n£c
 -= 1000000000;

134  
	gts
;

139 
boŞ
 
	gEv’t
::
Wa™
(cÚ¡ 
give_up_aá”_ms
, cÚ¡ 
w¬n_aá”_ms
) {

143 cÚ¡ 
	gab¦
::
İtiÚ®
<
time¥ec
> 
w¬n_ts
 =

144 
w¬n_aá”_ms
 =ğ
kFÜev”
 ||

145 (
give_up_aá”_ms
 !ğ
kFÜev”
 && 
w¬n_aá”_ms
 > give_up_after_ms)

146 ? 
ab¦
::
nuÎİt


147 : 
ab¦
::
make_İtiÚ®
(
G‘Time¥ec
(
w¬n_aá”_ms
));

151 cÚ¡ 
	gab¦
::
İtiÚ®
<
time¥ec
> 
give_up_ts
 =

152 
give_up_aá”_ms
 =ğ
kFÜev”


153 ? 
ab¦
::
nuÎİt


154 : 
ab¦
::
make_İtiÚ®
(
G‘Time¥ec
(
give_up_aá”_ms
));

156 
	gScİedY›ldPŞicy
::
Y›ldExecutiÚ
();

157 
±h»ad_mu‹x_lock
(&
ev’t_mu‹x_
);

161 cÚ¡‡utØ
	gwa™
 = [&](cÚ¡ 
ab¦
::
İtiÚ®
<
time¥ec
> 
timeout_ts
) {

162 
”rÜ
 = 0;

163 !
	gev’t_¡©us_
 && 
	g”rÜ
 == 0) {

164 ià(
timeout_ts
 =ğ
ab¦
::
nuÎİt
) {

165 
”rÜ
 = 
±h»ad_cÚd_wa™
(&
ev’t_cÚd_
, &
ev’t_mu‹x_
);

167 #ià
USE_PTHREAD_COND_TIMEDWAIT_MONOTONIC_NP


168 
	g”rÜ
 = 
±h»ad_cÚd_timedwa™_mÚÙÚic_Å
(&
ev’t_cÚd_
, &
ev’t_mu‹x_
,

169 &*
timeout_ts
);

171 
	g”rÜ
 =

172 
±h»ad_cÚd_timedwa™
(&
ev’t_cÚd_
, &
ev’t_mu‹x_
, &*
timeout_ts
);

176  
	g”rÜ
;

179 
	g”rÜ
;

180 ià(
	gw¬n_ts
 =ğ
ab¦
::
nuÎİt
) {

181 
”rÜ
 = 
wa™
(
give_up_ts
);

183 
	g”rÜ
 = 
wa™
(
w¬n_ts
);

184 ià(
	g”rÜ
 =ğ
ETIMEDOUT
) {

185 
web¹c
::
W¬nTh©TheCu¼’tTh»adIsProbablyD—dlocked
();

186 
	g”rÜ
 = 
wa™
(
give_up_ts
);

193 ià(
	g”rÜ
 =ğ0 && !
is_mªu®_»£t_
)

194 
ev’t_¡©us_
 = 
çl£
;

196 
±h»ad_mu‹x_uÆock
(&
ev’t_mu‹x_
);

198  (
	g”rÜ
 == 0);

	@event.h

11 #iâdeà
RTC_BASE_EVENT_H_


12 
	#RTC_BASE_EVENT_H_


	)

14 #ià
defšed
(
WEBRTC_WIN
)

15 
	~<wšdows.h
>

16 #–ià
defšed
(
WEBRTC_POSIX
)

17 
	~<±h»ad.h
>

22 
Çme¥aû
 
	g¹c
 {

24 şas 
	cEv’t
 {

25 
	gpublic
:

26 cÚ¡ 
kFÜev”
 = -1;

28 
Ev’t
();

29 
Ev’t
(
boŞ
 
mªu®_»£t
, boŞ 
š™ŸÎy_sigÇËd
);

30 
Ev’t
(cÚ¡ Ev’t&èğ
d–‘e
;

31 
	gEv’t
& 
	gİ”©Ü
=(cÚ¡ 
Ev’t
&èğ
d–‘e
;

32 ~
Ev’t
();

34 
S‘
();

35 
Re£t
();

45 
boŞ
 
Wa™
(
give_up_aá”_ms
, 
w¬n_aá”_ms
);

48 
boŞ
 
Wa™
(
give_up_aá”_ms
) {

49  
Wa™
(
give_up_aá”_ms
,

50 
give_up_aá”_ms
 =ğ
kFÜev”
 ? 3000 : kForever);

53 
	g´iv©e
:

54 #ià
defšed
(
WEBRTC_WIN
)

55 
HANDLE
 
ev’t_hªdË_
;

56 #–ià
defšed
(
WEBRTC_POSIX
)

57 
±h»ad_mu‹x_t
 
	gev’t_mu‹x_
;

58 
±h»ad_cÚd_t
 
	gev’t_cÚd_
;

59 cÚ¡ 
boŞ
 
	gis_mªu®_»£t_
;

60 
boŞ
 
	gev’t_¡©us_
;

72 şas 
	cScİedAÎowBa£SyncPrim™ives
 {

73 
	gpublic
:

74 
ScİedAÎowBa£SyncPrim™ives
() {}

75 ~
ScİedAÎowBa£SyncPrim™ives
() {}

78 şas 
	cScİedAÎowBa£SyncPrim™ivesFÜTe¡šg
 {

79 
	gpublic
:

80 
ScİedAÎowBa£SyncPrim™ivesFÜTe¡šg
() {}

81 ~
ScİedAÎowBa£SyncPrim™ivesFÜTe¡šg
() {}

	@event_tracer.cc

10 
	~"¹c_ba£/ev’t_Œaûr.h
"

12 
	~<š‰y³s.h
>

13 
	~<¡dšt.h
>

14 
	~<¡dio.h
>

15 
	~<¡ršg.h
>

17 
	~<¡ršg
>

18 
	~<veùÜ
>

20 
	~"¹c_ba£/©omic_İs.h
"

21 
	~"¹c_ba£/checks.h
"

22 
	~"¹c_ba£/ü™iÿl_£ùiÚ.h
"

23 
	~"¹c_ba£/ev’t.h
"

24 
	~"¹c_ba£/loggšg.h
"

25 
	~"¹c_ba£/¶©fÜm_th»ad.h
"

26 
	~"¹c_ba£/¶©fÜm_th»ad_ty³s.h
"

27 
	~"¹c_ba£/th»ad_ªnÙ©iÚs.h
"

28 
	~"¹c_ba£/th»ad_check”.h
"

29 
	~"¹c_ba£/time_uts.h
"

30 
	~"¹c_ba£/Œaû_ev’t.h
"

33 cÚ¡ 
size_t
 
	gkEv’tLogg”ArgsSŒBufãrIn™ŸlSize
 = 256;

34 cÚ¡ 
size_t
 
	gkT¿ûArgBufãrL’gth
 = 32;

36 
Çme¥aû
 
	gweb¹c
 {

38 
	gÇme¥aû
 {

40 
G‘C©egÜyEÇbËdPŒ
 
	gg_g‘_ÿ‹gÜy_’abËd_±r
 = 
nuÎ±r
;

41 
AddT¿ûEv’tPŒ
 
	gg_add_Œaû_ev’t_±r
 = 
nuÎ±r
;

45 
S‘upEv’tT¿ûr
(
G‘C©egÜyEÇbËdPŒ
 
g‘_ÿ‹gÜy_’abËd_±r
,

46 
AddT¿ûEv’tPŒ
 
add_Œaû_ev’t_±r
) {

47 
	gg_g‘_ÿ‹gÜy_’abËd_±r
 = 
g‘_ÿ‹gÜy_’abËd_±r
;

48 
	gg_add_Œaû_ev’t_±r
 = 
add_Œaû_ev’t_±r
;

51 cÚ¡ * 
	gEv’tT¿ûr
::
G‘C©egÜyEÇbËd
(cÚ¡ * 
Çme
) {

52 ià(
g_g‘_ÿ‹gÜy_’abËd_±r
)

53  
g_g‘_ÿ‹gÜy_’abËd_±r
(
Çme
);

56  
	g»š‹½»t_ÿ¡
<const *>("\0");

61 
	gEv’tT¿ûr
::
AddT¿ûEv’t
(
pha£
,

62 cÚ¡ * 
ÿ‹gÜy_’abËd
,

63 cÚ¡ * 
Çme
,

64 
id
,

65 
num_¬gs
,

66 cÚ¡ ** 
¬g_Çmes
,

67 cÚ¡ * 
¬g_ty³s
,

68 cÚ¡ * 
¬g_v®ues
,

69 
æags
) {

70 ià(
	gg_add_Œaû_ev’t_±r
) {

71 
g_add_Œaû_ev’t_±r
(
pha£
, 
ÿ‹gÜy_’abËd
, 
Çme
, 
id
, 
num_¬gs
,

72 
¬g_Çmes
, 
¬g_ty³s
, 
¬g_v®ues
, 
æags
);

78 
Çme¥aû
 
	g¹c
 {

79 
Çme¥aû
 
	gŒacšg
 {

80 
	gÇme¥aû
 {

82 
Ev’tT¿cšgTh»adFunc
(* 
·¿ms
);

85 vŞ©
	gg_ev’t_loggšg_aùive
 = 0;

88 şas 
	cEv’tLogg”
 
	gfš®
 {

89 
	gpublic
:

90 
Ev’tLogg”
()

91 : 
loggšg_th»ad_
(
Ev’tT¿cšgTh»adFunc
,

92 
this
,

94 
kLowPriÜ™y
) {}

95 ~
Ev’tLogg”
(è{ 
RTC_DCHECK
(
th»ad_check”_
.
IsCu¼’t
()); }

97 
AddT¿ûEv’t
(cÚ¡ * 
Çme
,

98 cÚ¡ * 
ÿ‹gÜy_’abËd
,

99 
pha£
,

100 
num_¬gs
,

101 cÚ¡ ** 
¬g_Çmes
,

102 cÚ¡ * 
¬g_ty³s
,

103 cÚ¡ * 
¬g_v®ues
,

104 
ušt64_t
 
time¡amp
,

105 
pid
,

106 
¹c
::
PÏtfÜmTh»adId
 
th»ad_id
) {

107 
¡d
::
veùÜ
<
T¿ûArg
> 
¬gs
(
num_¬gs
);

108 
	gi
 = 0; i < 
	gnum_¬gs
; ++i) {

109 
	gT¿ûArg
& 
	g¬g
 = 
¬gs
[
i
];

110 
	g¬g
.
	gÇme
 = 
¬g_Çmes
[
i
];

111 
	g¬g
.
	gty³
 = 
¬g_ty³s
[
i
];

112 
	g¬g
.
	gv®ue
.
	gas_ušt
 = 
¬g_v®ues
[
i
];

115 ià(
	g¬g
.
	gty³
 =ğ
TRACE_VALUE_TYPE_COPY_STRING
) {

117 
size_t
 
¡r_Ëngth
 = 
¡¾’
(
¬g
.
v®ue
.
as_¡ršg
) + 1;

118 * 
	g¡r_cİy
 = 
Ãw
 [
¡r_Ëngth
];

119 
memıy
(
¡r_cİy
, 
¬g
.
v®ue
.
as_¡ršg
, 
¡r_Ëngth
);

120 
	g¬g
.
	gv®ue
.
	gas_¡ršg
 = 
¡r_cİy
;

123 
	g¹c
::
Cr™Scİe
 
lock
(&
ü™_
);

124 
	gŒaû_ev’ts_
.
push_back
(

125 {
Çme
, 
ÿ‹gÜy_’abËd
, 
pha£
, 
¬gs
, 
time¡amp
, 1, 
th»ad_id
});

130 
Log
() {

131 
RTC_DCHECK
(
ouut_fe_
);

132 cÚ¡ 
	gkLoggšgIÁ”v®Ms
 = 100;

133 
årštf
(
ouut_fe_
, "{ \"traceEvents\": [\n");

134 
boŞ
 
	ghas_logged_ev’t
 = 
çl£
;

135 
	gŒue
) {

136 
boŞ
 
	gshu‰šg_down
 = 
shutdown_ev’t_
.
Wa™
(
kLoggšgIÁ”v®Ms
);

137 
	g¡d
::
veùÜ
<
T¿ûEv’t
> 
ev’ts
;

139 
	g¹c
::
Cr™Scİe
 
lock
(&
ü™_
);

140 
	gŒaû_ev’ts_
.
sw­
(
ev’ts
);

142 
	g¡d
::
¡ršg
 
¬gs_¡r
;

143 
	g¬gs_¡r
.
»£rve
(
kEv’tLogg”ArgsSŒBufãrIn™ŸlSize
);

144 
	gT¿ûEv’t
& 
	ge
 : 
ev’ts
) {

145 
¬gs_¡r
.
ş—r
();

146 ià(!
	ge
.
	g¬gs
.
em±y
()) {

147 
	g¬gs_¡r
 += ", \"args\": {";

148 
boŞ
 
	gis_fœ¡_¬gum’t
 = 
Œue
;

149 
	gT¿ûArg
& 
	g¬g
 : 
e
.
¬gs
) {

150 ià(!
is_fœ¡_¬gum’t
)

151 
¬gs_¡r
 += ",";

152 
	gis_fœ¡_¬gum’t
 = 
çl£
;

153 
	g¬gs_¡r
 += " \"";

154 
	g¬gs_¡r
 +ğ
¬g
.
Çme
;

155 
	g¬gs_¡r
 += "\": ";

156 
	g¬gs_¡r
 +ğ
T¿ûArgV®ueAsSŒšg
(
¬g
);

159 ià(
	g¬g
.
	gty³
 =ğ
TRACE_VALUE_TYPE_COPY_STRING
) {

160 
d–‘e
[] 
¬g
.
v®ue
.
as_¡ršg
;

161 
	g¬g
.
	gv®ue
.
	gas_¡ršg
 = 
nuÎ±r
;

164 
	g¬gs_¡r
 += " }";

166 
årštf
(
ouut_fe_
,

170 ", \"ts\": %" 
PRIu64


172 #ià
defšed
(
WEBRTC_WIN
)

179 
has_logged_ev’t
 ? "," : " ", 
e
.
Çme
,ƒ.
ÿ‹gÜy_’abËd
,

180 
e
.
pha£
,ƒ.
time¡amp
,ƒ.
pid
,ƒ.
tid
, 
¬gs_¡r
.
c_¡r
());

181 
	ghas_logged_ev’t
 = 
Œue
;

183 ià(
	gshu‰šg_down
)

186 
årštf
(
ouut_fe_
, "]}\n");

187 ià(
	gouut_fe_owÃd_
)

188 
fşo£
(
ouut_fe_
);

189 
	gouut_fe_
 = 
nuÎ±r
;

192 
S¹
(
FILE
* 
fe
, 
boŞ
 
owÃd
) {

193 
RTC_DCHECK
(
th»ad_check”_
.
IsCu¼’t
());

194 
RTC_DCHECK
(
fe
);

195 
RTC_DCHECK
(!
ouut_fe_
);

196 
	gouut_fe_
 = 
fe
;

197 
	gouut_fe_owÃd_
 = 
owÃd
;

199 
	g¹c
::
Cr™Scİe
 
lock
(&
ü™_
);

204 
	gŒaû_ev’ts_
.
ş—r
();

208 
RTC_CHECK_EQ
(0,

209 
¹c
::
AtomicOps
::
Com·»AndSw­
(&
g_ev’t_loggšg_aùive
, 0, 1));

212 
	gloggšg_th»ad_
.
S¹
();

213 
TRACE_EVENT_INSTANT0
("webrtc", "EventLogger::Start");

216 
Stİ
() {

217 
RTC_DCHECK
(
th»ad_check”_
.
IsCu¼’t
());

218 
TRACE_EVENT_INSTANT0
("webrtc", "EventLogger::Stop");

220 ià(
	g¹c
::
AtomicOps
::
Com·»AndSw­
(&
g_ev’t_loggšg_aùive
, 1, 0) == 0)

224 
	gshutdown_ev’t_
.
S‘
();

226 
	gloggšg_th»ad_
.
Stİ
();

229 
	g´iv©e
:

230 
	sT¿ûArg
 {

231 cÚ¡ * 
Çme
;

232 
	gty³
;

234 
	uT¿ûArgV®ue
 {

235 
boŞ
 
	gas_boŞ
;

236 
	gas_ušt
;

237 
	gas_št
;

238 
	gas_doubË
;

239 cÚ¡ * 
	gas_poš‹r
;

240 cÚ¡ * 
	gas_¡ršg
;

241 } 
	gv®ue
;

245 
¡©ic_as£¹
((
T¿ûArgV®ue
) == (),

250 
	sT¿ûEv’t
 {

251 cÚ¡ * 
	gÇme
;

252 cÚ¡ * 
	gÿ‹gÜy_’abËd
;

253 
	gpha£
;

254 
	g¡d
::
veùÜ
<
T¿ûArg
> 
¬gs
;

255 
ušt64_t
 
	gtime¡amp
;

256 
	gpid
;

257 
	g¹c
::
PÏtfÜmTh»adId
 
tid
;

260 
	g¡d
::
¡ršg
 
T¿ûArgV®ueAsSŒšg
(
T¿ûArg
 
¬g
) {

261 
¡d
::
¡ršg
 
ouut
;

263 ià(
	g¬g
.
	gty³
 =ğ
TRACE_VALUE_TYPE_STRING
 ||

264 
¬g
.
ty³
 =ğ
TRACE_VALUE_TYPE_COPY_STRING
) {

267 
ouut
.
»£rve
(
¡¾’
(
¬g
.
v®ue
.
as_¡ršg
) * 2 + 2);

268 
	gouut
 += '\"';

269 cÚ¡ * 
	gc
 = 
¬g
.
v®ue
.
as_¡ršg
;

271 ià(*
	gc
 =ğ'"' || *
c
 == '\\') {

272 
ouut
 += '\\';

273 
	gouut
 +ğ*
c
;

275 
	gouut
 +ğ*
c
;

277 } *++
	gc
);

278 
	gouut
 += '\"';

280 
	gouut
.
»size
(
kT¿ûArgBufãrL’gth
);

281 
size_t
 
	g´št_Ëngth
 = 0;

282 
	g¬g
.
	gty³
) {

283 
	gTRACE_VALUE_TYPE_BOOL
:

284 ià(
¬g
.
v®ue
.
as_boŞ
) {

285 
¡rıy
(&
ouut
[0], "true");

286 
	g´št_Ëngth
 = 4;

288 
¡rıy
(&
ouut
[0], "false");

289 
	g´št_Ëngth
 = 5;

292 
	gTRACE_VALUE_TYPE_UINT
:

293 
´št_Ëngth
 = 
¢´štf
(&
ouut
[0], 
kT¿ûArgBufãrL’gth
, "%llu",

294 
¬g
.
v®ue
.
as_ušt
);

296 
	gTRACE_VALUE_TYPE_INT
:

297 
´št_Ëngth
 = 
¢´štf
(&
ouut
[0], 
kT¿ûArgBufãrL’gth
, "%lld",

298 
¬g
.
v®ue
.
as_št
);

300 
	gTRACE_VALUE_TYPE_DOUBLE
:

301 
´št_Ëngth
 = 
¢´štf
(&
ouut
[0], 
kT¿ûArgBufãrL’gth
, "%f",

302 
¬g
.
v®ue
.
as_doubË
);

304 
	gTRACE_VALUE_TYPE_POINTER
:

305 
´št_Ëngth
 = 
¢´štf
(&
ouut
[0], 
kT¿ûArgBufãrL’gth
, "\"%p\"",

306 
¬g
.
v®ue
.
as_poš‹r
);

309 
size_t
 
	gouut_Ëngth
 = 
´št_Ëngth
 < 
kT¿ûArgBufãrL’gth


310 ? 
´št_Ëngth


311 : 
kT¿ûArgBufãrL’gth
 - 1;

314 
	gouut
.
»size
(
ouut_Ëngth
);

317  
	gouut
;

320 
	g¹c
::
Cr™iÿlSeùiÚ
 
ü™_
;

321 
	g¡d
::
veùÜ
<
T¿ûEv’t
> 
Œaû_ev’ts_
 
RTC_GUARDED_BY
(
ü™_
);

322 
	g¹c
::
PÏtfÜmTh»ad
 
loggšg_th»ad_
;

323 
	g¹c
::
Ev’t
 
shutdown_ev’t_
;

324 
	g¹c
::
Th»adCheck”
 
th»ad_check”_
;

325 
FILE
* 
	gouut_fe_
 = 
nuÎ±r
;

326 
boŞ
 
	gouut_fe_owÃd_
 = 
çl£
;

329 
Ev’tT¿cšgTh»adFunc
(* 
·¿ms
) {

330 
	g¡©ic_ÿ¡
<
	gEv’tLogg”
*>(
	g·¿ms
)->
Log
();

333 
Ev’tLogg”
* vŞ©
	gg_ev’t_logg”
 = 
nuÎ±r
;

334 cÚ¡ * cÚ¡ 
	gkDi§bËdT¿ûP»fix
 = 
TRACE_DISABLED_BY_DEFAULT
("");

335 cÚ¡ * 
IÁ”ÇlG‘C©egÜyEÇbËd
(cÚ¡ * 
Çme
) {

336 cÚ¡ * 
	g´efix_±r
 = &
kDi§bËdT¿ûP»fix
[0];

337 cÚ¡ * 
	gÇme_±r
 = 
Çme
;

339 *
	g´efix_±r
 =ğ*
Çme_±r
 && *
´efix_±r
 != '\0') {

340 ++
´efix_±r
;

341 ++
	gÇme_±r
;

343  
	g»š‹½»t_ÿ¡
<cÚ¡ *>(*
	g´efix_±r
 == '\0' ? ""

344 : 
Çme
);

347 
IÁ”ÇlAddT¿ûEv’t
(
pha£
,

348 cÚ¡ * 
ÿ‹gÜy_’abËd
,

349 cÚ¡ * 
Çme
,

350 
id
,

351 
num_¬gs
,

352 cÚ¡ ** 
¬g_Çmes
,

353 cÚ¡ * 
¬g_ty³s
,

354 cÚ¡ * 
¬g_v®ues
,

355 
æags
) {

357 ià(
	g¹c
::
AtomicOps
::
AcquœeLßd
(&
g_ev’t_loggšg_aùive
) == 0)

360 
	gg_ev’t_logg”
->
AddT¿ûEv’t
(
Çme
, 
ÿ‹gÜy_’abËd
, 
pha£
, 
num_¬gs
,

361 
¬g_Çmes
, 
¬g_ty³s
, 
¬g_v®ues
,

362 
¹c
::
TimeMiüos
(), 1,„tc::
Cu¼’tTh»adId
());

367 
S‘upIÁ”ÇlT¿ûr
() {

368 
RTC_CHECK
(
¹c
::
AtomicOps
::
Com·»AndSw­PŒ
(

369 &
g_ev’t_logg”
, 
¡©ic_ÿ¡
<
Ev’tLogg”
*>(
nuÎ±r
),

370 
Ãw
 
Ev’tLogg”
()è=ğ
nuÎ±r
);

371 
	gweb¹c
::
S‘upEv’tT¿ûr
(
IÁ”ÇlG‘C©egÜyEÇbËd
, 
IÁ”ÇlAddT¿ûEv’t
);

374 
S¹IÁ”ÇlC­tu»ToFe
(
FILE
* 
fe
) {

375 ià(
	gg_ev’t_logg”
) {

376 
	gg_ev’t_logg”
->
S¹
(
fe
, 
çl£
);

380 
boŞ
 
S¹IÁ”ÇlC­tu»
(cÚ¡ * 
f’ame
) {

381 ià(!
	gg_ev’t_logg”
)

382  
	gçl£
;

384 
FILE
* 
	gfe
 = 
fİ’
(
f’ame
, "w");

385 ià(!
	gfe
) {

386 
RTC_LOG
(
LS_ERROR
è<< "FaedØİ’¿û f'" << 
	gf’ame


388  
	gçl£
;

390 
	gg_ev’t_logg”
->
S¹
(
fe
, 
Œue
);

391  
	gŒue
;

394 
StİIÁ”ÇlC­tu»
() {

395 ià(
	gg_ev’t_logg”
) {

396 
	gg_ev’t_logg”
->
Stİ
();

400 
ShutdownIÁ”ÇlT¿ûr
() {

401 
StİIÁ”ÇlC­tu»
();

402 
Ev’tLogg”
* 
	gŞd_logg”
 = 
¹c
::
AtomicOps
::
AcquœeLßdPŒ
(&
g_ev’t_logg”
);

403 
RTC_DCHECK
(
Şd_logg”
);

404 
RTC_CHECK
(
¹c
::
AtomicOps
::
Com·»AndSw­PŒ
(

405 &
g_ev’t_logg”
, 
Şd_logg”
,

406 
¡©ic_ÿ¡
<
Ev’tLogg”
*>(
nuÎ±r
)è=ğ
Şd_logg”
);

407 
d–‘e
 
	gŞd_logg”
;

408 
	gweb¹c
::
S‘upEv’tT¿ûr
(
nuÎ±r
,‚ullptr);

	@event_tracer.h

26 #iâdeà
RTC_BASE_EVENT_TRACER_H_


27 
	#RTC_BASE_EVENT_TRACER_H_


	)

29 
	~<¡dio.h
>

31 
Çme¥aû
 
	gweb¹c
 {

33 cÚ¡ * (*
	tG‘C©egÜyEÇbËdPŒ
)(cÚ¡ * 
	tÇme
);

34 (*
	gAddT¿ûEv’tPŒ
)(
	tpha£
,

35 cÚ¡ * 
	tÿ‹gÜy_’abËd
,

36 cÚ¡ * 
	tÇme
,

37 
	tid
,

38 
	tnum_¬gs
,

39 cÚ¡ ** 
	t¬g_Çmes
,

40 cÚ¡ * 
	t¬g_ty³s
,

41 cÚ¡ * 
	t¬g_v®ues
,

42 
	tæags
);

48 
S‘upEv’tT¿ûr
(
G‘C©egÜyEÇbËdPŒ
 
g‘_ÿ‹gÜy_’abËd_±r
,

49 
AddT¿ûEv’tPŒ
 
add_Œaû_ev’t_±r
);

53 şas 
	cEv’tT¿ûr
 {

54 
	gpublic
:

55 cÚ¡ * 
G‘C©egÜyEÇbËd
(cÚ¡ * 
Çme
);

57 
AddT¿ûEv’t
(
pha£
,

58 cÚ¡ * 
ÿ‹gÜy_’abËd
,

59 cÚ¡ * 
Çme
,

60 
id
,

61 
num_¬gs
,

62 cÚ¡ ** 
¬g_Çmes
,

63 cÚ¡ * 
¬g_ty³s
,

64 cÚ¡ * 
¬g_v®ues
,

65 
æags
);

70 
Çme¥aû
 
	g¹c
 {

71 
Çme¥aû
 
	gŒacšg
 {

73 
S‘upIÁ”ÇlT¿ûr
();

74 
boŞ
 
S¹IÁ”ÇlC­tu»
(cÚ¡ * 
f’ame
);

75 
S¹IÁ”ÇlC­tu»ToFe
(
FILE
* 
fe
);

76 
StİIÁ”ÇlC­tu»
();

78 
ShutdownIÁ”ÇlT¿ûr
();

	@event_tracer_unittest.cc

11 
	~"¹c_ba£/ev’t_Œaûr.h
"

13 
	~"¹c_ba£/ü™iÿl_£ùiÚ.h
"

14 
	~"¹c_ba£/th»ad_ªnÙ©iÚs.h
"

15 
	~"¹c_ba£/Œaû_ev’t.h
"

16 
	~"‹¡/g‹¡.h
"

18 
	gÇme¥aû
 {

20 şas 
	cTe¡Sti¡ics
 {

21 
	gpublic
:

22 
Re£t
() {

23 
¹c
::
Cr™Scİe
 
cs
(&
ü™_
);

24 
	gev’ts_logged_
 = 0;

27 
Inüem’t
() {

28 
	g¹c
::
Cr™Scİe
 
cs
(&
ü™_
);

29 ++
	gev’ts_logged_
;

32 
CouÁ
() const {

33 
	g¹c
::
Cr™Scİe
 
cs
(&
ü™_
);

34  
	gev’ts_logged_
;

37 
Te¡Sti¡ics
* 
G‘
() {

39 auto& 
	g‹¡_¡©s
 = *
Ãw
 
Te¡Sti¡ics
();

40  &
	g‹¡_¡©s
;

43 
	g´iv©e
:

44 
¹c
::
Cr™iÿlSeùiÚ
 
ü™_
;

45 
ev’ts_logged_
 
RTC_GUARDED_BY
(
ü™_
) = 0;

50 
Çme¥aû
 
	gweb¹c
 {

52 
TEST
(
Ev’tT¿ûrTe¡
, 
Ev’tT¿ûrDi§bËd
) {

53 { 
TRACE_EVENT0
("test", "EventTracerDisabled"); }

54 
EXPECT_FALSE
(
Te¡Sti¡ics
::
G‘
()->
CouÁ
());

55 
	gTe¡Sti¡ics
::
G‘
()->
Re£t
();

58 #ià
RTC_TRACE_EVENTS_ENABLED


59 
TEST
(
Ev’tT¿ûrTe¡
, 
ScİedT¿ûEv’t
) {

60 
S‘upEv’tT¿ûr
(

62  
»š‹½»t_ÿ¡
<const *>("test");

73 
Te¡Sti¡ics
::
G‘
()->
Inüem’t
();

75 { 
TRACE_EVENT0
("test", "ScopedTraceEvent"); }

76 
EXPECT_EQ
(2, 
Te¡Sti¡ics
::
G‘
()->
CouÁ
());

77 
	gTe¡Sti¡ics
::
G‘
()->
Re£t
();

	@event_unittest.cc

11 
	~"¹c_ba£/ev’t.h
"

13 
	~"¹c_ba£/¶©fÜm_th»ad.h
"

14 
	~"‹¡/g‹¡.h
"

16 
Çme¥aû
 
	g¹c
 {

18 
TEST
(
Ev’tTe¡
, 
In™ŸÎySigÇËd
) {

19 
Ev’t
 
ev’t
(
çl£
, 
Œue
);

20 
ASSERT_TRUE
(
ev’t
.
Wa™
(0));

23 
TEST
(
Ev’tTe¡
, 
Mªu®Re£t
) {

24 
Ev’t
 
ev’t
(
Œue
, 
çl£
);

25 
ASSERT_FALSE
(
ev’t
.
Wa™
(0));

27 
	gev’t
.
S‘
();

28 
ASSERT_TRUE
(
ev’t
.
Wa™
(0));

29 
ASSERT_TRUE
(
ev’t
.
Wa™
(0));

31 
	gev’t
.
Re£t
();

32 
ASSERT_FALSE
(
ev’t
.
Wa™
(0));

35 
TEST
(
Ev’tTe¡
, 
AutoRe£t
) {

36 
Ev’t
 
	gev’t
;

37 
ASSERT_FALSE
(
ev’t
.
Wa™
(0));

39 
	gev’t
.
S‘
();

40 
ASSERT_TRUE
(
ev’t
.
Wa™
(0));

41 
ASSERT_FALSE
(
ev’t
.
Wa™
(0));

44 şas 
	cSigÇËrTh»ad
 {

45 
	gpublic
:

46 
SigÇËrTh»ad
(è: 
th»ad_
(&
Th»adFn
, 
this
, "EventPerf") {}

47 
S¹
(
Ev’t
* 
wr™”
, Ev’t* 
»ad”
) {

48 
	gwr™”_
 = 
wr™”
;

49 
	g»ad”_
 = 
»ad”
;

50 
	gth»ad_
.
S¹
();

52 
Stİ
() {

53 
	g¡İ_ev’t_
.
S‘
();

54 
	gth»ad_
.
Stİ
();

56 
Th»adFn
(* 
·¿m
) {

57 auto* 
	gme
 = 
¡©ic_ÿ¡
<
SigÇËrTh»ad
*>(
·¿m
);

58 !
	gme
->
	g¡İ_ev’t_
.
Wa™
(0)) {

59 
	gme
->
	gwr™”_
->
S‘
();

60 
	gme
->
	g»ad”_
->
Wa™
(
Ev’t
::
kFÜev”
);

63 
Ev’t
 
	g¡İ_ev’t_
;

64 
Ev’t
* 
	gwr™”_
;

65 
Ev’t
* 
	g»ad”_
;

66 
PÏtfÜmTh»ad
 
	gth»ad_
;

70 
	$TEST
(
Ev’tTe¡
, 
DISABLED_P”fÜmªûSšgËTh»ad
) {

71 cÚ¡ 
kNumI‹¿tiÚs
 = 10000000;

72 
Ev’t
 
ev’t
;

73 
i
 = 0; i < 
kNumI‹¿tiÚs
; ++i) {

74 
ev’t
.
	`S‘
();

75 
ev’t
.
	`Wa™
(0);

77 
	}
}

79 
	$TEST
(
Ev’tTe¡
, 
DISABLED_P”fÜmªûMuÉiTh»ad
) {

80 cÚ¡ 
kNumI‹¿tiÚs
 = 10000;

81 
Ev’t
 
»ad
;

82 
Ev’t
 
wr™e
;

83 
SigÇËrTh»ad
 
th»ad
;

84 
th»ad
.
	`S¹
(&
»ad
, &
wr™e
);

86 
i
 = 0; i < 
kNumI‹¿tiÚs
; ++i) {

87 
wr™e
.
	`S‘
();

88 
»ad
.
	`Wa™
(
Ev’t
::
kFÜev”
);

90 
wr™e
.
	`S‘
();

92 
th»ad
.
	`Stİ
();

93 
	}
}

	@experiments/alr_experiment.cc

11 
	~"¹c_ba£/ex³rim’ts/®r_ex³rim’t.h
"

13 
	~<š‰y³s.h
>

14 
	~<¡dio.h
>

16 
	~<¡ršg
>

18 
	~"­i/Œª¥Üt/f›ld_ŒŸl_ba£d_cÚfig.h
"

19 
	~"¹c_ba£/loggšg.h
"

21 
Çme¥aû
 
	gweb¹c
 {

23 cÚ¡ 
	gAÌEx³rim’tS‘tšgs
::
kSü“nsh¬eProbšgBweEx³rim’tName
[] =

25 cÚ¡ 
	gAÌEx³rim’tS‘tšgs
::
kSŒiùPacšgAndProbšgEx³rim’tName
[] =

27 cÚ¡ 
	gkDeçuÉProbšgSü“nsh¬eBweS‘tšgs
[] = "1.0,2875,80,40,-60,3";

29 
boŞ
 
	gAÌEx³rim’tS‘tšgs
::
MaxOÃF›ldTrŸlEÇbËd
() {

30  
AÌEx³rim’tS‘tšgs
::
MaxOÃF›ldTrŸlEÇbËd
(

31 
F›ldTrŸlBa£dCÚfig
());

34 
boŞ
 
	gAÌEx³rim’tS‘tšgs
::
MaxOÃF›ldTrŸlEÇbËd
(

35 cÚ¡ 
WebRtcKeyV®ueCÚfig
& 
key_v®ue_cÚfig
) {

36  
key_v®ue_cÚfig
.
Lookup
(
kSŒiùPacšgAndProbšgEx³rim’tName
)

37 .
em±y
() ||

38 
key_v®ue_cÚfig
.
Lookup
(
kSü“nsh¬eProbšgBweEx³rim’tName
).
em±y
();

41 
	gab¦
::
İtiÚ®
<
AÌEx³rim’tS‘tšgs
>

42 
AÌEx³rim’tS‘tšgs
::
C»©eFromF›ldTrŸl
(cÚ¡ * 
ex³rim’t_Çme
) {

43  
AÌEx³rim’tS‘tšgs
::
C»©eFromF›ldTrŸl
(
F›ldTrŸlBa£dCÚfig
(),

44 
ex³rim’t_Çme
);

47 
	gab¦
::
İtiÚ®
<
AÌEx³rim’tS‘tšgs
>

48 
AÌEx³rim’tS‘tšgs
::
C»©eFromF›ldTrŸl
(

49 cÚ¡ 
WebRtcKeyV®ueCÚfig
& 
key_v®ue_cÚfig
,

50 cÚ¡ * 
ex³rim’t_Çme
) {

51 
	gab¦
::
İtiÚ®
<
AÌEx³rim’tS‘tšgs
> 
»t
;

52 
	g¡d
::
¡ršg
 
group_Çme
 = 
key_v®ue_cÚfig
.
Lookup
(
ex³rim’t_Çme
);

54 cÚ¡ 
	g¡d
::
¡ršg
 
kIgnÜedSuffix
 = "_Dogfood";

55 
	g¡d
::
¡ršg
::
size_ty³
 
suffix_pos
 = 
group_Çme
.
rfšd
(
kIgnÜedSuffix
);

56 ià(
	gsuffix_pos
 !ğ
¡d
::
¡ršg
::
Åos
 &&

57 
suffix_pos
 =ğ
group_Çme
.
Ëngth
(è- 
kIgnÜedSuffix
.length()) {

58 
group_Çme
.
»size
(group_Çme.
Ëngth
(è- 
kIgnÜedSuffix
.length());

61 ià(
	ggroup_Çme
.
em±y
()) {

62 ià(
	gex³rim’t_Çme
 =ğ
kSü“nsh¬eProbšgBweEx³rim’tName
) {

65 
group_Çme
 = 
kDeçuÉProbšgSü“nsh¬eBweS‘tšgs
;

67  
	g»t
;

71 
AÌEx³rim’tS‘tšgs
 
	g£‰šgs
;

72 ià(
ssÿnf
(
group_Çme
.
c_¡r
(), "%f,%" 
PRId64
 ",%d,%d,%d,%d",

73 &
£‰šgs
.
·cšg_çùÜ
, &£‰šgs.
max_·ûd_queue_time
,

74 &
£‰šgs
.
®r_bªdwidth_u§ge_³rûÁ
,

75 &
£‰šgs
.
®r_¡¬t_budg‘_Ëv–_³rûÁ
,

76 &
£‰šgs
.
®r_¡İ_budg‘_Ëv–_³rûÁ
,

77 &
£‰šgs
.
group_id
) == 6) {

78 
»t
.
em¶aû
(
£‰šgs
);

79 
RTC_LOG
(
LS_INFO
) << "Using ALRƒxperiment settings: "

81 << 
	g£‰šgs
.
	g·cšg_çùÜ
 << ", max…acer queue†ength: "

82 << 
	g£‰šgs
.
	gmax_·ûd_queue_time


84 << 
	g£‰šgs
.
	g®r_bªdwidth_u§ge_³rûÁ


86 << 
	g£‰šgs
.
	g®r_¡¬t_budg‘_Ëv–_³rûÁ


88 << 
	g£‰šgs
.
	g®r_¡İ_budg‘_Ëv–_³rûÁ


89 << ", ALRƒx³rim’ˆgrou°ID: " << 
	g£‰šgs
.
	ggroup_id
;

91 
RTC_LOG
(
LS_INFO
è<< "FaedØ·r£ ALRƒx³rim’t: " << 
	gex³rim’t_Çme
;

94  
	g»t
;

	@experiments/alr_experiment.h

11 #iâdeà
RTC_BASE_EXPERIMENTS_ALR_EXPERIMENT_H_


12 
	#RTC_BASE_EXPERIMENTS_ALR_EXPERIMENT_H_


	)

14 
	~<¡dšt.h
>

16 
	~"ab¦/ty³s/İtiÚ®.h
"

17 
	~"­i/Œª¥Üt/web¹c_key_v®ue_cÚfig.h
"

19 
Çme¥aû
 
	gweb¹c
 {

20 
	sAÌEx³rim’tS‘tšgs
 {

21 
	gpublic
:

22 
·cšg_çùÜ
;

23 
št64_t
 
	gmax_·ûd_queue_time
;

24 
	g®r_bªdwidth_u§ge_³rûÁ
;

25 
	g®r_¡¬t_budg‘_Ëv–_³rûÁ
;

26 
	g®r_¡İ_budg‘_Ëv–_³rûÁ
;

30 
	ggroup_id
;

32 cÚ¡ 
	gkSü“nsh¬eProbšgBweEx³rim’tName
[];

33 cÚ¡ 
	gkSŒiùPacšgAndProbšgEx³rim’tName
[];

34 
	gab¦
::
İtiÚ®
<
AÌEx³rim’tS‘tšgs
> 
C»©eFromF›ldTrŸl
(

35 cÚ¡ * 
ex³rim’t_Çme
);

36 
	gab¦
::
İtiÚ®
<
AÌEx³rim’tS‘tšgs
> 
C»©eFromF›ldTrŸl
(

37 cÚ¡ 
WebRtcKeyV®ueCÚfig
& 
key_v®ue_cÚfig
,

38 cÚ¡ * 
ex³rim’t_Çme
);

39 
boŞ
 
MaxOÃF›ldTrŸlEÇbËd
();

40 
boŞ
 
MaxOÃF›ldTrŸlEÇbËd
(

41 cÚ¡ 
WebRtcKeyV®ueCÚfig
& 
key_v®ue_cÚfig
);

43 
	g´iv©e
:

44 
AÌEx³rim’tS‘tšgs
() = ;

	@experiments/balanced_degradation_settings.cc

11 
	~"¹c_ba£/ex³rim’ts/b®ªûd_deg¿d©iÚ_£‰šgs.h
"

13 
	~<lim™s
>

15 
	~"¹c_ba£/ex³rim’ts/f›ld_ŒŸl_li¡.h
"

16 
	~"¹c_ba£/ex³rim’ts/f›ld_ŒŸl_·r£r.h
"

17 
	~"¹c_ba£/loggšg.h
"

18 
	~"sy¡em_w¿µ”s/šşude/f›ld_ŒŸl.h
"

20 
Çme¥aû
 
	gweb¹c
 {

21 
	gÇme¥aû
 {

22 
cÚ¡ex´
 
	gkF›ldTrŸl
[] = "WebRTC-Video-BalancedDegradationSettings";

23 
cÚ¡ex´
 
	gkMšFps
 = 1;

24 
cÚ¡ex´
 
	gkMaxFps
 = 100;

26 
	g¡d
::
veùÜ
<
B®ªûdDeg¿d©iÚS‘tšgs
::
CÚfig
> 
DeçuÉCÚfigs
() {

31 
	gB®ªûdDeg¿d©iÚS‘tšgs
::
kNoFpsDiff
,

41 
	gB®ªûdDeg¿d©iÚS‘tšgs
::
kNoFpsDiff
,

51 
	gB®ªûdDeg¿d©iÚS‘tšgs
::
kNoFpsDiff
,

59 
boŞ
 
IsV®idCÚfig
(

60 cÚ¡ 
B®ªûdDeg¿d©iÚS‘tšgs
::
CodecTy³S³cific
& 
cÚfig
) {

61 ià(
cÚfig
.
G‘QpLow
().
has_v®ue
(è!ğcÚfig.
G‘QpHigh
().has_value()) {

62 
RTC_LOG
(
LS_WARNING
) << "Neither or bothhresholds should be set.";

63  
	gçl£
;

65 ià(
	gcÚfig
.
G‘QpLow
().
has_v®ue
(è&& cÚfig.
G‘QpHigh
().has_value() &&

66 
	gcÚfig
.
G‘QpLow
().
v®ue
(è>ğ
cÚfig
.
G‘QpHigh
().value()) {

67 
RTC_LOG
(
LS_WARNING
) << "Invalidhreshold value,†ow >= highhreshold.";

68  
	gçl£
;

70 ià(
	gcÚfig
.
G‘Fps
().
has_v®ue
(è&& (cÚfig.G‘Fps().
v®ue
(è< 
	gkMšFps
 ||

71 
	gcÚfig
.
G‘Fps
().
v®ue
(è> 
	gkMaxFps
)) {

72 
RTC_LOG
(
LS_WARNING
) << "Unsupported fps setting, value ignored.";

73  
	gçl£
;

75  
	gŒue
;

78 
boŞ
 
IsV®id
(cÚ¡ 
B®ªûdDeg¿d©iÚS‘tšgs
::
CodecTy³S³cific
& 
cÚfig1
,

79 cÚ¡ 
B®ªûdDeg¿d©iÚS‘tšgs
::
CodecTy³S³cific
& 
cÚfig2
) {

80 
boŞ
 
bÙh_Ü_nÚe_£t
 = ((
cÚfig1
.
qp_low
 > 0è=ğ(
cÚfig2
.qp_low > 0) &&

81 (
cÚfig1
.
qp_high
 > 0è=ğ(
cÚfig2
.qp_high > 0) &&

82 (
cÚfig1
.
ås
 > 0è=ğ(
cÚfig2
.fps > 0));

83 ià(!
	gbÙh_Ü_nÚe_£t
) {

84 
RTC_LOG
(
LS_WARNING
) << "Invalid value,‡ll/none should be set.";

85  
	gçl£
;

87 ià(
	gcÚfig1
.
	gås
 > 0 && cÚfig1.å < 
	gcÚfig2
.fps) {

88 
RTC_LOG
(
LS_WARNING
) << "Invalid fps/pixel value…rovided.";

89  
	gçl£
;

91  
	gŒue
;

94 
boŞ
 
IsV®id
(cÚ¡ 
¡d
::
veùÜ
<
B®ªûdDeg¿d©iÚS‘tšgs
::
CÚfig
>& 
cÚfigs
) {

95 ià(
cÚfigs
.
size
() <= 1) {

96 
RTC_LOG
(
LS_WARNING
) << "Unsupported size, value ignored.";

97  
	gçl£
;

99 cÚ¡‡uto& 
	gcÚfig
 : 
cÚfigs
) {

100 ià(
cÚfig
.
ås
 < 
kMšFps
 || cÚfig.å > 
kMaxFps
) {

101 
RTC_LOG
(
LS_WARNING
) << "Unsupported fps setting, value ignored.";

102  
	gçl£
;

105 
	gÏ¡_kbps
 = 
cÚfigs
[0].
kbps
;

106 
size_t
 
	gi
 = 1; i < 
	gcÚfigs
.
size
(); ++i) {

107 ià(
	gcÚfigs
[
i
].
	gkbps
 > 0) {

108 ià(
	gcÚfigs
[
i
].
	gkbps
 < 
	gÏ¡_kbps
) {

109 
RTC_LOG
(
LS_WARNING
) << "Invalid bitrate value…rovided.";

110  
	gçl£
;

112 
	gÏ¡_kbps
 = 
cÚfigs
[
i
].
kbps
;

115 
size_t
 
	gi
 = 1; i < 
	gcÚfigs
.
size
(); ++i) {

116 ià(
	gcÚfigs
[
i
].
	gpix–s
 < configs[i - 1].pixels ||

117 
	gcÚfigs
[
i
].
	gås
 < configs[i - 1].fps) {

118 
RTC_LOG
(
LS_WARNING
) << "Invalid fps/pixel value…rovided.";

119  
	gçl£
;

121 ià(!
IsV®id
(
cÚfigs
[
i
].
vp8
, configs[i - 1].vp8) ||

122 !
IsV®id
(
cÚfigs
[
i
].
vp9
, configs[i - 1].vp9) ||

123 !
IsV®id
(
cÚfigs
[
i
].
h264
, configs[i - 1].h264) ||

124 !
IsV®id
(
cÚfigs
[
i
].
av1
, configs[i - 1].av1) ||

125 !
IsV®id
(
cÚfigs
[
i
].
g’”ic
, configs[i - 1].generic)) {

126  
	gçl£
;

129 cÚ¡‡uto& 
	gcÚfig
 : 
cÚfigs
) {

130 ià(!
IsV®idCÚfig
(
cÚfig
.
vp8
è|| !IsV®idCÚfig(cÚfig.
vp9
) ||

131 !
IsV®idCÚfig
(
cÚfig
.
h264
è|| !IsV®idCÚfig(cÚfig.
av1
) ||

132 !
IsV®idCÚfig
(
cÚfig
.
g’”ic
)) {

133  
çl£
;

136  
	gŒue
;

139 
	g¡d
::
veùÜ
<
B®ªûdDeg¿d©iÚS‘tšgs
::
CÚfig
> 
G‘V®idOrDeçuÉ
(

140 cÚ¡ 
¡d
::
veùÜ
<
B®ªûdDeg¿d©iÚS‘tšgs
::
CÚfig
>& 
cÚfigs
) {

141 ià(
IsV®id
(
cÚfigs
)) {

142  
cÚfigs
;

144  
DeçuÉCÚfigs
();

147 
	gab¦
::
İtiÚ®
<
VideoEncod”
::
QpTh»shŞds
> 
G‘Th»shŞds
(

148 
VideoCodecTy³
 
ty³
,

149 cÚ¡ 
B®ªûdDeg¿d©iÚS‘tšgs
::
CÚfig
& 
cÚfig
) {

150 
ab¦
::
İtiÚ®
<> 
low
;

151 
	gab¦
::
İtiÚ®
<> 
high
;

153 
	gty³
) {

154 
	gkVideoCodecVP8
:

155 
low
 = 
cÚfig
.
vp8
.
G‘QpLow
();

156 
	ghigh
 = 
cÚfig
.
vp8
.
G‘QpHigh
();

158 
	gkVideoCodecVP9
:

159 
low
 = 
cÚfig
.
vp9
.
G‘QpLow
();

160 
	ghigh
 = 
cÚfig
.
vp9
.
G‘QpHigh
();

162 
	gkVideoCodecH264
:

163 
low
 = 
cÚfig
.
h264
.
G‘QpLow
();

164 
	ghigh
 = 
cÚfig
.
h264
.
G‘QpHigh
();

166 
	gkVideoCodecAV1
:

167 
low
 = 
cÚfig
.
av1
.
G‘QpLow
();

168 
	ghigh
 = 
cÚfig
.
av1
.
G‘QpHigh
();

170 
	gkVideoCodecG’”ic
:

171 
low
 = 
cÚfig
.
g’”ic
.
G‘QpLow
();

172 
	ghigh
 = 
cÚfig
.
g’”ic
.
G‘QpHigh
();

178 ià(
	glow
 && 
	ghigh
) {

179 
RTC_LOG
(
LS_INFO
è<< "QPh»shŞds:†ow: " << *
	glow
 << ", high: " << *
	ghigh
;

180  
	gab¦
::
İtiÚ®
<
VideoEncod”
::
QpTh»shŞds
>(

181 
VideoEncod”
::
QpTh»shŞds
(*
low
, *
high
));

183  
	gab¦
::
nuÎİt
;

186 
G‘Fps
(
VideoCodecTy³
 
ty³
,

187 cÚ¡ 
ab¦
::
İtiÚ®
<
B®ªûdDeg¿d©iÚS‘tšgs
::
CÚfig
>& 
cÚfig
) {

188 ià(!
cÚfig
.
has_v®ue
()) {

189  
¡d
::
num”ic_lim™s
<>::
max
();

192 
	gab¦
::
İtiÚ®
<> 
ås
;

193 
	gty³
) {

194 
	gkVideoCodecVP8
:

195 
ås
 = 
cÚfig
->
vp8
.
G‘Fps
();

197 
	gkVideoCodecVP9
:

198 
ås
 = 
cÚfig
->
vp9
.
G‘Fps
();

200 
	gkVideoCodecH264
:

201 
ås
 = 
cÚfig
->
h264
.
G‘Fps
();

203 
	gkVideoCodecAV1
:

204 
ås
 = 
cÚfig
->
av1
.
G‘Fps
();

206 
	gkVideoCodecG’”ic
:

207 
ås
 = 
cÚfig
->
g’”ic
.
G‘Fps
();

213 cÚ¡ 
	gäam”©e
 = 
ås
.
v®ue_Ü
(
cÚfig
->fps);

215  (
	gäam”©e
 =ğ
kMaxFps
è? 
¡d
::
num”ic_lim™s
<>::
max
(è: 
äam”©e
;

218 
	gab¦
::
İtiÚ®
<> 
G‘Kbps
(

219 
VideoCodecTy³
 
ty³
,

220 cÚ¡ 
ab¦
::
İtiÚ®
<
B®ªûdDeg¿d©iÚS‘tšgs
::
CÚfig
>& 
cÚfig
) {

221 ià(!
cÚfig
.
has_v®ue
())

222  
ab¦
::
nuÎİt
;

224 
	gab¦
::
İtiÚ®
<> 
kbps
;

225 
	gty³
) {

226 
	gkVideoCodecVP8
:

227 
kbps
 = 
cÚfig
->
vp8
.
G‘Kbps
();

229 
	gkVideoCodecVP9
:

230 
kbps
 = 
cÚfig
->
vp9
.
G‘Kbps
();

232 
	gkVideoCodecH264
:

233 
kbps
 = 
cÚfig
->
h264
.
G‘Kbps
();

235 
	gkVideoCodecAV1
:

236 
kbps
 = 
cÚfig
->
av1
.
G‘Kbps
();

238 
	gkVideoCodecG’”ic
:

239 
kbps
 = 
cÚfig
->
g’”ic
.
G‘Kbps
();

245 ià(
	gkbps
.
has_v®ue
())

246  
	gkbps
;

248  
	gcÚfig
->
	gkbps
 > 0 ? 
	gab¦
::
İtiÚ®
<>(
cÚfig
->
kbps
è: 
ab¦
::
nuÎİt
;

251 
	gab¦
::
İtiÚ®
<> 
G‘KbpsRes
(

252 
VideoCodecTy³
 
ty³
,

253 cÚ¡ 
ab¦
::
İtiÚ®
<
B®ªûdDeg¿d©iÚS‘tšgs
::
CÚfig
>& 
cÚfig
) {

254 ià(!
cÚfig
.
has_v®ue
())

255  
ab¦
::
nuÎİt
;

257 
	gab¦
::
İtiÚ®
<> 
kbps_»s
;

258 
	gty³
) {

259 
	gkVideoCodecVP8
:

260 
kbps_»s
 = 
cÚfig
->
vp8
.
G‘KbpsRes
();

262 
	gkVideoCodecVP9
:

263 
kbps_»s
 = 
cÚfig
->
vp9
.
G‘KbpsRes
();

265 
	gkVideoCodecH264
:

266 
kbps_»s
 = 
cÚfig
->
h264
.
G‘KbpsRes
();

268 
	gkVideoCodecAV1
:

269 
kbps_»s
 = 
cÚfig
->
av1
.
G‘KbpsRes
();

271 
	gkVideoCodecG’”ic
:

272 
kbps_»s
 = 
cÚfig
->
g’”ic
.
G‘KbpsRes
();

278 ià(
	gkbps_»s
.
has_v®ue
())

279  
	gkbps_»s
;

281  
	gcÚfig
->
	gkbps_»s
 > 0 ? 
	gab¦
::
İtiÚ®
<>(
cÚfig
->
kbps_»s
)

282 : 
ab¦
::
nuÎİt
;

286 
	gab¦
::
İtiÚ®
<> 
B®ªûdDeg¿d©iÚS‘tšgs
::
CodecTy³S³cific
::
G‘QpLow
()

288  (
qp_low
 > 0è? 
ab¦
::
İtiÚ®
<>(qp_lowè:‡b¦::
nuÎİt
;

291 
	gab¦
::
İtiÚ®
<> 
B®ªûdDeg¿d©iÚS‘tšgs
::
CodecTy³S³cific
::
G‘QpHigh
()

293  (
qp_high
 > 0è? 
ab¦
::
İtiÚ®
<>(qp_highè:‡b¦::
nuÎİt
;

296 
	gab¦
::
İtiÚ®
<> 
B®ªûdDeg¿d©iÚS‘tšgs
::
CodecTy³S³cific
::
G‘Fps
()

298  (
ås
 > 0è? 
ab¦
::
İtiÚ®
<>(åsè:‡b¦::
nuÎİt
;

301 
	gab¦
::
İtiÚ®
<> 
B®ªûdDeg¿d©iÚS‘tšgs
::
CodecTy³S³cific
::
G‘Kbps
()

303  (
kbps
 > 0è? 
ab¦
::
İtiÚ®
<>(kbpsè:‡b¦::
nuÎİt
;

306 
	gab¦
::
İtiÚ®
<> 
B®ªûdDeg¿d©iÚS‘tšgs
::
CodecTy³S³cific
::
G‘KbpsRes
()

308  (
kbps_»s
 > 0è? 
ab¦
::
İtiÚ®
<>(kbps_»sè:‡b¦::
nuÎİt
;

311 
	gB®ªûdDeg¿d©iÚS‘tšgs
::
CÚfig
::Config() = ;

313 
	gB®ªûdDeg¿d©iÚS‘tšgs
::
CÚfig
::CÚfig(
pix–s
,

314 
ås
,

315 
kbps
,

316 
kbps_»s
,

317 
ås_diff
,

318 
CodecTy³S³cific
 
vp8
,

319 
CodecTy³S³cific
 
vp9
,

320 
CodecTy³S³cific
 
h264
,

321 
CodecTy³S³cific
 
av1
,

322 
CodecTy³S³cific
 
g’”ic
)

323 : 
pix–s
(pixels),

324 
ås
(fps),

325 
kbps
(kbps),

326 
kbps_»s
(kbps_res),

327 
ås_diff
(fps_diff),

328 
vp8
(vp8),

329 
vp9
(vp9),

330 
h264
(h264),

331 
av1
(av1),

332 
g’”ic
(generic) {}

334 
	gB®ªûdDeg¿d©iÚS‘tšgs
::
B®ªûdDeg¿d©iÚS‘tšgs
() {

335 
F›ldTrŸlSŒuùLi¡
<
CÚfig
> 
cÚfigs
(

336 {
F›ldTrŸlSŒuùMemb”
("pix–s", [](
CÚfig
* 
c
è{  &c->
pix–s
; }),

337 
F›ldTrŸlSŒuùMemb”
("ås", [](
CÚfig
* 
c
è{  &c->
ås
; }),

338 
F›ldTrŸlSŒuùMemb”
("kbps", [](
CÚfig
* 
c
è{  &c->
kbps
; }),

339 
F›ldTrŸlSŒuùMemb”
("kbps_res",

340 [](
CÚfig
* 
c
è{  &c->
kbps_»s
; }),

341 
F›ldTrŸlSŒuùMemb”
("fps_diff",

342 [](
CÚfig
* 
c
è{  &c->
ås_diff
; }),

343 
F›ldTrŸlSŒuùMemb”
("vp8_qp_low",

344 [](
CÚfig
* 
c
è{  &c->
vp8
.
qp_low
; }),

345 
F›ldTrŸlSŒuùMemb”
("vp8_qp_high",

346 [](
CÚfig
* 
c
è{  &c->
vp8
.
qp_high
; }),

347 
F›ldTrŸlSŒuùMemb”
("vp8_ås", [](
CÚfig
* 
c
è{  &c->
vp8
.
ås
; }),

348 
F›ldTrŸlSŒuùMemb”
("vp8_kbps",

349 [](
CÚfig
* 
c
è{  &c->
vp8
.
kbps
; }),

350 
F›ldTrŸlSŒuùMemb”
("vp8_kbps_res",

351 [](
CÚfig
* 
c
è{  &c->
vp8
.
kbps_»s
; }),

352 
F›ldTrŸlSŒuùMemb”
("vp9_qp_low",

353 [](
CÚfig
* 
c
è{  &c->
vp9
.
qp_low
; }),

354 
F›ldTrŸlSŒuùMemb”
("vp9_qp_high",

355 [](
CÚfig
* 
c
è{  &c->
vp9
.
qp_high
; }),

356 
F›ldTrŸlSŒuùMemb”
("vp9_ås", [](
CÚfig
* 
c
è{  &c->
vp9
.
ås
; }),

357 
F›ldTrŸlSŒuùMemb”
("vp9_kbps",

358 [](
CÚfig
* 
c
è{  &c->
vp9
.
kbps
; }),

359 
F›ldTrŸlSŒuùMemb”
("vp9_kbps_res",

360 [](
CÚfig
* 
c
è{  &c->
vp9
.
kbps_»s
; }),

361 
F›ldTrŸlSŒuùMemb”
("h264_qp_low",

362 [](
CÚfig
* 
c
è{  &c->
h264
.
qp_low
; }),

363 
F›ldTrŸlSŒuùMemb”
("h264_qp_high",

364 [](
CÚfig
* 
c
è{  &c->
h264
.
qp_high
; }),

365 
F›ldTrŸlSŒuùMemb”
("h264_fps",

366 [](
CÚfig
* 
c
è{  &c->
h264
.
ås
; }),

367 
F›ldTrŸlSŒuùMemb”
("h264_kbps",

368 [](
CÚfig
* 
c
è{  &c->
h264
.
kbps
; }),

369 
F›ldTrŸlSŒuùMemb”
("h264_kbps_res",

370 [](
CÚfig
* 
c
è{  &c->
h264
.
kbps_»s
; }),

371 
F›ldTrŸlSŒuùMemb”
("av1_qp_low",

372 [](
CÚfig
* 
c
è{  &c->
av1
.
qp_low
; }),

373 
F›ldTrŸlSŒuùMemb”
("av1_qp_high",

374 [](
CÚfig
* 
c
è{  &c->
av1
.
qp_high
; }),

375 
F›ldTrŸlSŒuùMemb”
("av1_ås", [](
CÚfig
* 
c
è{  &c->
av1
.
ås
; }),

376 
F›ldTrŸlSŒuùMemb”
("av1_kbps",

377 [](
CÚfig
* 
c
è{  &c->
av1
.
kbps
; }),

378 
F›ldTrŸlSŒuùMemb”
("av1_kbps_res",

379 [](
CÚfig
* 
c
è{  &c->
av1
.
kbps_»s
; }),

380 
F›ldTrŸlSŒuùMemb”
("generic_qp_low",

381 [](
CÚfig
* 
c
è{  &c->
g’”ic
.
qp_low
; }),

382 
F›ldTrŸlSŒuùMemb”
("generic_qp_high",

383 [](
CÚfig
* 
c
è{  &c->
g’”ic
.
qp_high
; }),

384 
F›ldTrŸlSŒuùMemb”
("generic_fps",

385 [](
CÚfig
* 
c
è{  &c->
g’”ic
.
ås
; }),

386 
F›ldTrŸlSŒuùMemb”
("generic_kbps",

387 [](
CÚfig
* 
c
è{  &c->
g’”ic
.
kbps
; }),

388 
F›ldTrŸlSŒuùMemb”
("generic_kbps_res",

389 [](
CÚfig
* 
c
è{  &c->
g’”ic
.
kbps_»s
; })},

392 
P¬£F›ldTrŸl
({&
cÚfigs
}, 
f›ld_ŒŸl
::
FšdFuÎName
(
kF›ldTrŸl
));

394 
	gcÚfigs_
 = 
G‘V®idOrDeçuÉ
(
cÚfigs
.
G‘
());

395 
RTC_DCHECK_GT
(
cÚfigs_
.
size
(), 1);

398 
	gB®ªûdDeg¿d©iÚS‘tšgs
::~
B®ªûdDeg¿d©iÚS‘tšgs
() {}

400 
¡d
::
veùÜ
<
B®ªûdDeg¿d©iÚS‘tšgs
::
CÚfig
>

401 
B®ªûdDeg¿d©iÚS‘tšgs
::
G‘CÚfigs
() const {

402  
cÚfigs_
;

405 
	gB®ªûdDeg¿d©iÚS‘tšgs
::
MšFps
(
VideoCodecTy³
 
ty³
, 
pix–s
) const {

406  
G‘Fps
(
ty³
, 
G‘MšFpsCÚfig
(
pix–s
));

409 
	gab¦
::
İtiÚ®
<
B®ªûdDeg¿d©iÚS‘tšgs
::
CÚfig
>

410 
B®ªûdDeg¿d©iÚS‘tšgs
::
G‘MšFpsCÚfig
(
pix–s
) const {

411 cÚ¡‡uto& 
cÚfig
 : 
cÚfigs_
) {

412 ià(
pix–s
 <ğ
cÚfig
.pixels)

413  
cÚfig
;

415  
	gab¦
::
nuÎİt
;

418 
	gB®ªûdDeg¿d©iÚS‘tšgs
::
MaxFps
(
VideoCodecTy³
 
ty³
, 
pix–s
) const {

419  
G‘Fps
(
ty³
, 
G‘MaxFpsCÚfig
(
pix–s
));

422 
	gab¦
::
İtiÚ®
<
B®ªûdDeg¿d©iÚS‘tšgs
::
CÚfig
>

423 
B®ªûdDeg¿d©iÚS‘tšgs
::
G‘MaxFpsCÚfig
(
pix–s
) const {

424 
size_t
 
i
 = 0; 
	gi
 < 
	gcÚfigs_
.
size
() - 1; ++i) {

425 ià(
	gpix–s
 <ğ
cÚfigs_
[
i
].
pix–s
)

426  
cÚfigs_
[
i
 + 1];

428  
	gab¦
::
nuÎİt
;

431 
boŞ
 
	gB®ªûdDeg¿d©iÚS‘tšgs
::
CªAd­tUp
(
VideoCodecTy³
 
ty³
,

432 
pix–s
,

433 
ušt32_t
 
b™¿‹_bps
) const {

434 
	gab¦
::
İtiÚ®
<> 
mš_kbps
 = 
G‘Kbps
(
ty³
, 
G‘MaxFpsCÚfig
(
pix–s
));

435 ià(!
	gmš_kbps
.
has_v®ue
(è|| 
	gb™¿‹_bps
 == 0) {

436  
Œue
;

438  
	gb™¿‹_bps
 >ğ
¡©ic_ÿ¡
<
ušt32_t
>(
mš_kbps
.
v®ue
() * 1000);

441 
boŞ
 
	gB®ªûdDeg¿d©iÚS‘tšgs
::
CªAd­tUpResŞutiÚ
(

442 
VideoCodecTy³
 
ty³
,

443 
pix–s
,

444 
ušt32_t
 
b™¿‹_bps
) const {

445 
	gab¦
::
İtiÚ®
<> 
mš_kbps
 = 
G‘KbpsRes
(
ty³
, 
G‘MaxFpsCÚfig
(
pix–s
));

446 ià(!
	gmš_kbps
.
has_v®ue
(è|| 
	gb™¿‹_bps
 == 0) {

447  
Œue
;

449  
	gb™¿‹_bps
 >ğ
¡©ic_ÿ¡
<
ušt32_t
>(
mš_kbps
.
v®ue
() * 1000);

452 
	gab¦
::
İtiÚ®
<> 
B®ªûdDeg¿d©iÚS‘tšgs
::
MšFpsDiff
(
pix–s
) const {

453 cÚ¡‡uto& 
cÚfig
 : 
cÚfigs_
) {

454 ià(
pix–s
 <ğ
cÚfig
.pixels) {

455  (
cÚfig
.
ås_diff
 > 
kNoFpsDiff
)

456 ? 
ab¦
::
İtiÚ®
<>(
cÚfig
.
ås_diff
)

457 : 
ab¦
::
nuÎİt
;

460  
	gab¦
::
nuÎİt
;

463 
	gab¦
::
İtiÚ®
<
VideoEncod”
::
QpTh»shŞds
>

464 
B®ªûdDeg¿d©iÚS‘tšgs
::
G‘QpTh»shŞds
(
VideoCodecTy³
 
ty³
,

465 
pix–s
) const {

466  
G‘Th»shŞds
(
ty³
, 
G‘CÚfig
(
pix–s
));

469 
	gB®ªûdDeg¿d©iÚS‘tšgs
::
CÚfig
 
B®ªûdDeg¿d©iÚS‘tšgs
::
G‘CÚfig
(

470 
pix–s
) const {

471 cÚ¡‡uto& 
cÚfig
 : 
cÚfigs_
) {

472 ià(
pix–s
 <ğ
cÚfig
.pixels)

473  
cÚfig
;

475  
	gcÚfigs_
.
back
();

	@experiments/balanced_degradation_settings.h

11 #iâdeà
RTC_BASE_EXPERIMENTS_BALANCED_DEGRADATION_SETTINGS_H_


12 
	#RTC_BASE_EXPERIMENTS_BALANCED_DEGRADATION_SETTINGS_H_


	)

14 
	~<veùÜ
>

16 
	~"ab¦/ty³s/İtiÚ®.h
"

17 
	~"­i/video_codecs/video_’cod”.h
"

19 
Çme¥aû
 
	gweb¹c
 {

21 şas 
	cB®ªûdDeg¿d©iÚS‘tšgs
 {

22 
	gpublic
:

23 
cÚ¡ex´
 
kNoFpsDiff
 = -100;

25 
B®ªûdDeg¿d©iÚS‘tšgs
();

26 ~
B®ªûdDeg¿d©iÚS‘tšgs
();

28 
	sCodecTy³S³cific
 {

29 
CodecTy³S³cific
() {}

30 
CodecTy³S³cific
(
qp_low
, 
qp_high
, 
ås
, 
kbps
, 
kbps_»s
)

31 : 
qp_low
(qp_low),

32 
qp_high
(qp_high),

33 
ås
(fps),

34 
kbps
(kbps),

35 
kbps_»s
(kbps_res) {}

37 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
CodecTy³S³cific
& 
o
) const {

38  
qp_low
 =ğ
o
.qp_low && 
qp_high
 =ğo.qp_high && 
ås
 == o.fps &&

39 
kbps
 =ğ
o
.kbp && 
kbps_»s
 == o.kbps_res;

42 
	gab¦
::
İtiÚ®
<> 
G‘QpLow
() const;

43 
	gab¦
::
İtiÚ®
<> 
G‘QpHigh
() const;

44 
	gab¦
::
İtiÚ®
<> 
G‘Fps
() const;

45 
	gab¦
::
İtiÚ®
<> 
G‘Kbps
() const;

46 
	gab¦
::
İtiÚ®
<> 
G‘KbpsRes
() const;

49 
	gqp_low
 = 0;

50 
	gqp_high
 = 0;

51 
	gås
 = 0;

52 
	gkbps
 = 0;

53 
	gkbps_»s
 = 0;

56 
	sCÚfig
 {

57 
CÚfig
();

58 
CÚfig
(
pix–s
,

59 
ås
,

60 
kbps
,

61 
kbps_»s
,

62 
ås_diff
,

63 
CodecTy³S³cific
 
vp8
,

64 
CodecTy³S³cific
 
vp9
,

65 
CodecTy³S³cific
 
h264
,

66 
CodecTy³S³cific
 
av1
,

67 
CodecTy³S³cific
 
g’”ic
);

69 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
CÚfig
& 
o
) const {

70  
pix–s
 =ğ
o
.pix– && 
ås
 =ğo.å && 
kbps
 == o.kbps &&

71 
kbps_»s
 =ğ
o
.kbps_» && 
ås_diff
 =ğo.ås_difà&& 
vp8
 == o.vp8 &&

72 
vp9
 =ğ
o
.vp9 && 
h264
 =ğo.h264 && 
av1
 == o.av1 &&

73 
g’”ic
 =ğ
o
.generic;

96 
	gpix–s
 = 0;

98 
	gås
 = 0;

99 
	gkbps
 = 0;

100 
	gkbps_»s
 = 0;

101 
	gås_diff
 = 
kNoFpsDiff
;

104 
CodecTy³S³cific
 
	gvp8
;

105 
CodecTy³S³cific
 
	gvp9
;

106 
CodecTy³S³cific
 
	gh264
;

107 
CodecTy³S³cific
 
	gav1
;

108 
CodecTy³S³cific
 
	gg’”ic
;

112 
	g¡d
::
veùÜ
<
CÚfig
> 
G‘CÚfigs
() const;

115 
MšFps
(
VideoCodecTy³
 
ty³
, 
pix–s
) const;

116 
MaxFps
(
VideoCodecTy³
 
ty³
, 
pix–s
) const;

119 
boŞ
 
CªAd­tUp
(
VideoCodecTy³
 
ty³
, 
pix–s
, 
ušt32_t
 
b™¿‹_bps
) const;

120 
boŞ
 
CªAd­tUpResŞutiÚ
(
VideoCodecTy³
 
ty³
,

121 
pix–s
,

122 
ušt32_t
 
b™¿‹_bps
) const;

125 
	gab¦
::
İtiÚ®
<> 
MšFpsDiff
(
pix–s
) const;

128 
	gab¦
::
İtiÚ®
<
VideoEncod”
::
QpTh»shŞds
> 
G‘QpTh»shŞds
(

129 
VideoCodecTy³
 
ty³
,

130 
pix–s
) const;

132 
	g´iv©e
:

133 
ab¦
::
İtiÚ®
<
CÚfig
> 
G‘MšFpsCÚfig
(
pix–s
) const;

134 
	gab¦
::
İtiÚ®
<
CÚfig
> 
G‘MaxFpsCÚfig
(
pix–s
) const;

135 
CÚfig
 
G‘CÚfig
(
pix–s
) const;

137 
	g¡d
::
veùÜ
<
CÚfig
> 
cÚfigs_
;

	@experiments/balanced_degradation_settings_unittest.cc

11 
	~"¹c_ba£/ex³rim’ts/b®ªûd_deg¿d©iÚ_£‰šgs.h
"

13 
	~<lim™s
>

15 
	~"¹c_ba£/gun™.h
"

16 
	~"‹¡/f›ld_ŒŸl.h
"

17 
	~"‹¡/gmock.h
"

19 
Çme¥aû
 
	gweb¹c
 {

20 
	gÇme¥aû
 {

22 
V”ifyIsDeçuÉ
(

23 cÚ¡ 
¡d
::
veùÜ
<
B®ªûdDeg¿d©iÚS‘tšgs
::
CÚfig
>& 
cÚfig
) {

24 
EXPECT_THAT
(
cÚfig
, ::
‹¡šg
::
EËm’tsA»
(

25 
B®ªûdDeg¿d©iÚS‘tšgs
::
CÚfig
{

30 
B®ªûdDeg¿d©iÚS‘tšgs
::
kNoFpsDiff
,

36 
B®ªûdDeg¿d©iÚS‘tšgs
::
CÚfig
{

41 
B®ªûdDeg¿d©iÚS‘tšgs
::
kNoFpsDiff
,

47 
B®ªûdDeg¿d©iÚS‘tšgs
::
CÚfig
{

52 
B®ªûdDeg¿d©iÚS‘tšgs
::
kNoFpsDiff
,

61 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
G‘sDeçuÉCÚfigIfNoLi¡
) {

62 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
("");

63 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

64 
V”ifyIsDeçuÉ
(
£‰šgs
.
G‘CÚfigs
());

65 
EXPECT_TRUE
(
£‰šgs
.
CªAd­tUp
(
kVideoCodecVP8
, 1, 1));

66 
EXPECT_TRUE
(

67 
£‰šgs
.
CªAd­tUpResŞutiÚ
(
kVideoCodecVP8
, 1, 1));

68 
EXPECT_FALSE
(
£‰šgs
.
MšFpsDiff
(1));

69 
EXPECT_FALSE
(
£‰šgs
.
G‘QpTh»shŞds
(
kVideoCodecVP8
, 1));

70 
EXPECT_FALSE
(
£‰šgs
.
G‘QpTh»shŞds
(
kVideoCodecVP9
, 1));

71 
EXPECT_FALSE
(
£‰šgs
.
G‘QpTh»shŞds
(
kVideoCodecH264
, 1));

72 
EXPECT_FALSE
(
£‰šgs
.
G‘QpTh»shŞds
(
kVideoCodecAV1
, 1));

73 
EXPECT_FALSE
(
£‰šgs
.
G‘QpTh»shŞds
(
kVideoCodecG’”ic
, 1));

74 
EXPECT_FALSE
(
£‰šgs
.
G‘QpTh»shŞds
(
kVideoCodecMuÉËx
, 1));

77 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
G‘sCÚfig
) {

78 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

81 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

82 
EXPECT_THAT
(
£‰šgs
.
G‘CÚfigs
(),

83 ::
‹¡šg
::
EËm’tsA»
(

84 
B®ªûdDeg¿d©iÚS‘tšgs
::
CÚfig
{

89 
B®ªûdDeg¿d©iÚS‘tšgs
::
kNoFpsDiff
,

95 
B®ªûdDeg¿d©iÚS‘tšgs
::
CÚfig
{

100 
B®ªûdDeg¿d©iÚS‘tšgs
::
kNoFpsDiff
,

106 
B®ªûdDeg¿d©iÚS‘tšgs
::
CÚfig
{

111 
B®ªûdDeg¿d©iÚS‘tšgs
::
kNoFpsDiff
,

119 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
G‘sDeçuÉCÚfigFÜZ”oFpsV®ue
) {

120 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

123 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

124 
V”ifyIsDeçuÉ
(
£‰šgs
.
G‘CÚfigs
());

127 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
G‘sDeçuÉCÚfigIfPix–sDeü—£s
) {

128 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

131 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

132 
V”ifyIsDeçuÉ
(
£‰šgs
.
G‘CÚfigs
());

135 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
G‘sDeçuÉCÚfigIfF¿m”©eDeü—£s
) {

136 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

139 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

140 
V”ifyIsDeçuÉ
(
£‰šgs
.
G‘CÚfigs
());

143 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
G‘sCÚfigW™hS³cificFps
) {

144 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

148 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

149 
EXPECT_THAT
(
£‰šgs
.
G‘CÚfigs
(),

150 ::
‹¡šg
::
EËm’tsA»
(

151 
B®ªûdDeg¿d©iÚS‘tšgs
::
CÚfig
{

156 
B®ªûdDeg¿d©iÚS‘tšgs
::
kNoFpsDiff
,

162 
B®ªûdDeg¿d©iÚS‘tšgs
::
CÚfig
{

167 
B®ªûdDeg¿d©iÚS‘tšgs
::
kNoFpsDiff
,

173 
B®ªûdDeg¿d©iÚS‘tšgs
::
CÚfig
{

178 
B®ªûdDeg¿d©iÚS‘tšgs
::
kNoFpsDiff
,

186 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
G‘sDeçuÉCÚfigFÜZ”oVp8FpsV®ue
) {

187 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

190 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

191 
V”ifyIsDeçuÉ
(
£‰šgs
.
G‘CÚfigs
());

194 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
G‘sDeçuÉCÚfigFÜInv®idFpsV®ue
) {

195 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

198 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

199 
V”ifyIsDeçuÉ
(
£‰šgs
.
G‘CÚfigs
());

202 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
G‘sDeçuÉCÚfigIfVp8F¿m”©eDeü—£s
) {

203 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

206 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

207 
V”ifyIsDeçuÉ
(
£‰šgs
.
G‘CÚfigs
());

210 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
G‘sMšFps
) {

211 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

214 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

215 
EXPECT_EQ
(5, 
£‰šgs
.
MšFps
(
kVideoCodecVP8
, 1));

216 
EXPECT_EQ
(5, 
£‰šgs
.
MšFps
(
kVideoCodecVP8
, 1000));

217 
EXPECT_EQ
(15, 
£‰šgs
.
MšFps
(
kVideoCodecVP8
, 1001));

218 
EXPECT_EQ
(15, 
£‰šgs
.
MšFps
(
kVideoCodecVP8
, 2000));

219 
EXPECT_EQ
(25, 
£‰šgs
.
MšFps
(
kVideoCodecVP8
, 2001));

220 
EXPECT_EQ
(25, 
£‰šgs
.
MšFps
(
kVideoCodecVP8
, 3000));

221 
EXPECT_EQ
(
¡d
::
num”ic_lim™s
<>::
max
(),

222 
£‰šgs
.
MšFps
(
kVideoCodecVP8
, 3001));

225 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
G‘sVp8MšFps
) {

226 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

229 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

230 
EXPECT_EQ
(7, 
£‰šgs
.
MšFps
(
kVideoCodecVP8
, 1));

231 
EXPECT_EQ
(7, 
£‰šgs
.
MšFps
(
kVideoCodecVP8
, 1000));

232 
EXPECT_EQ
(10, 
£‰šgs
.
MšFps
(
kVideoCodecVP8
, 1001));

233 
EXPECT_EQ
(10, 
£‰šgs
.
MšFps
(
kVideoCodecVP8
, 2000));

234 
EXPECT_EQ
(12, 
£‰šgs
.
MšFps
(
kVideoCodecVP8
, 2001));

235 
EXPECT_EQ
(12, 
£‰šgs
.
MšFps
(
kVideoCodecVP8
, 3000));

236 
EXPECT_EQ
(
¡d
::
num”ic_lim™s
<>::
max
(),

237 
£‰šgs
.
MšFps
(
kVideoCodecVP8
, 3001));

240 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
G‘sMaxFps
) {

241 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

244 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

245 
EXPECT_EQ
(15, 
£‰šgs
.
MaxFps
(
kVideoCodecVP8
, 1));

246 
EXPECT_EQ
(15, 
£‰šgs
.
MaxFps
(
kVideoCodecVP8
, 1000));

247 
EXPECT_EQ
(25, 
£‰šgs
.
MaxFps
(
kVideoCodecVP8
, 1001));

248 
EXPECT_EQ
(25, 
£‰šgs
.
MaxFps
(
kVideoCodecVP8
, 2000));

249 
EXPECT_EQ
(
¡d
::
num”ic_lim™s
<>::
max
(),

250 
£‰šgs
.
MaxFps
(
kVideoCodecVP8
, 2001));

253 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
G‘sVp8MaxFps
) {

254 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

257 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

258 
EXPECT_EQ
(10, 
£‰šgs
.
MaxFps
(
kVideoCodecVP8
, 1));

259 
EXPECT_EQ
(10, 
£‰šgs
.
MaxFps
(
kVideoCodecVP8
, 1000));

260 
EXPECT_EQ
(12, 
£‰šgs
.
MaxFps
(
kVideoCodecVP8
, 1001));

261 
EXPECT_EQ
(12, 
£‰šgs
.
MaxFps
(
kVideoCodecVP8
, 2000));

262 
EXPECT_EQ
(
¡d
::
num”ic_lim™s
<>::
max
(),

263 
£‰šgs
.
MaxFps
(
kVideoCodecVP8
, 2001));

266 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
G‘sVp9Fps
) {

267 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

270 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

271 
EXPECT_EQ
(7, 
£‰šgs
.
MšFps
(
kVideoCodecVP9
, 1000));

272 
EXPECT_EQ
(10, 
£‰šgs
.
MaxFps
(
kVideoCodecVP9
, 1000));

275 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
G‘sH264Fps
) {

276 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

279 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

280 
EXPECT_EQ
(11, 
£‰šgs
.
MšFps
(
kVideoCodecH264
, 2000));

281 
EXPECT_EQ
(13, 
£‰šgs
.
MaxFps
(
kVideoCodecH264
, 2000));

284 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
G‘sG’”icFps
) {

285 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

288 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

289 
EXPECT_EQ
(14, 
£‰šgs
.
MšFps
(
kVideoCodecG’”ic
, 3000));

290 
EXPECT_EQ
(
¡d
::
num”ic_lim™s
<>::
max
(),

291 
£‰šgs
.
MaxFps
(
kVideoCodecG’”ic
, 3000));

294 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
G‘sUÆim™edFÜMaxV®idFps
) {

295 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

298 cÚ¡ 
	gkUÆim™edFps
 = 
¡d
::
num”ic_lim™s
<>::
max
();

299 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

300 
EXPECT_EQ
(15, 
£‰šgs
.
MšFps
(
kVideoCodecH264
, 2000));

301 
EXPECT_EQ
(
kUÆim™edFps
, 
£‰šgs
.
MšFps
(
kVideoCodecH264
, 2001));

302 
EXPECT_EQ
(30, 
£‰šgs
.
MšFps
(
kVideoCodecVP8
, 1000));

303 
EXPECT_EQ
(
kUÆim™edFps
, 
£‰šgs
.
MšFps
(
kVideoCodecVP8
, 1001));

306 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
G‘sCÚfigW™hB™¿‹
) {

307 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

315 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

316 
EXPECT_THAT
(
£‰šgs
.
G‘CÚfigs
(),

317 ::
‹¡šg
::
EËm’tsA»
(

318 
B®ªûdDeg¿d©iÚS‘tšgs
::
CÚfig
{

323 
B®ªûdDeg¿d©iÚS‘tšgs
::
kNoFpsDiff
,

329 
B®ªûdDeg¿d©iÚS‘tšgs
::
CÚfig
{

334 
B®ªûdDeg¿d©iÚS‘tšgs
::
kNoFpsDiff
,

340 
B®ªûdDeg¿d©iÚS‘tšgs
::
CÚfig
{

345 
B®ªûdDeg¿d©iÚS‘tšgs
::
kNoFpsDiff
,

353 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
G‘sDeçuÉCÚfigIfB™¿‹Deü—£s
) {

354 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

357 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

358 
V”ifyIsDeçuÉ
(
£‰šgs
.
G‘CÚfigs
());

361 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
,

362 
G‘sDeçuÉCÚfigIfB™¿‹Deü—£sW™hUn£tV®ue
) {

363 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

366 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

367 
V”ifyIsDeçuÉ
(
£‰šgs
.
G‘CÚfigs
());

370 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
CªAd­tUp
) {

371 
VideoCodecTy³
 
	gvp8
 = 
kVideoCodecVP8
;

372 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

376 
B®ªûdDeg¿d©iÚS‘tšgs
 
	gs
;

377 
EXPECT_TRUE
(
s
.
CªAd­tUp
(
vp8
, 1000, 0));

378 
EXPECT_FALSE
(
s
.
CªAd­tUp
(
vp8
, 1000, 79000));

379 
EXPECT_TRUE
(
s
.
CªAd­tUp
(
vp8
, 1000, 80000));

380 
EXPECT_TRUE
(
s
.
CªAd­tUp
(
vp8
, 1001, 1));

381 
EXPECT_FALSE
(
s
.
CªAd­tUp
(
vp8
, 3000, 89000));

382 
EXPECT_TRUE
(
s
.
CªAd­tUp
(
vp8
, 3000, 90000));

383 
EXPECT_TRUE
(
s
.
CªAd­tUp
(
vp8
, 3001, 1));

386 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
CªAd­tUpW™hCodecTy³
) {

387 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

392 
B®ªûdDeg¿d©iÚS‘tšgs
 
	gs
;

393 
EXPECT_FALSE
(
s
.
CªAd­tUp
(
kVideoCodecVP8
, 1000, 29000));

394 
EXPECT_TRUE
(
s
.
CªAd­tUp
(
kVideoCodecVP8
, 1000, 30000));

395 
EXPECT_FALSE
(
s
.
CªAd­tUp
(
kVideoCodecVP9
, 1000, 59000));

396 
EXPECT_TRUE
(
s
.
CªAd­tUp
(
kVideoCodecVP9
, 1000, 60000));

397 
EXPECT_FALSE
(
s
.
CªAd­tUp
(
kVideoCodecH264
, 1000, 54000));

398 
EXPECT_TRUE
(
s
.
CªAd­tUp
(
kVideoCodecH264
, 1000, 55000));

399 
EXPECT_FALSE
(
s
.
CªAd­tUp
(
kVideoCodecAV1
, 1000, 76000));

400 
EXPECT_TRUE
(
s
.
CªAd­tUp
(
kVideoCodecAV1
, 1000, 77000));

401 
EXPECT_FALSE
(
s
.
CªAd­tUp
(
kVideoCodecG’”ic
, 1000, 24000));

402 
EXPECT_TRUE
(
s
.
CªAd­tUp
(
kVideoCodecG’”ic
, 1000, 25000));

403 
EXPECT_TRUE
(
s
.
CªAd­tUp
(
kVideoCodecMuÉËx
, 1000, 1));

406 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
CªAd­tUpResŞutiÚ
) {

407 
VideoCodecTy³
 
	gvp8
 = 
kVideoCodecVP8
;

408 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

412 
B®ªûdDeg¿d©iÚS‘tšgs
 
	gs
;

413 
EXPECT_TRUE
(
s
.
CªAd­tUpResŞutiÚ
(
vp8
, 1000, 0));

414 
EXPECT_FALSE
(
s
.
CªAd­tUpResŞutiÚ
(
vp8
, 1000, 79000));

415 
EXPECT_TRUE
(
s
.
CªAd­tUpResŞutiÚ
(
vp8
, 1000, 80000));

416 
EXPECT_TRUE
(
s
.
CªAd­tUpResŞutiÚ
(
vp8
, 1001, 1));

417 
EXPECT_FALSE
(
s
.
CªAd­tUpResŞutiÚ
(
vp8
, 3000, 89000));

418 
EXPECT_TRUE
(
s
.
CªAd­tUpResŞutiÚ
(
vp8
, 3000, 90000));

419 
EXPECT_TRUE
(
s
.
CªAd­tUpResŞutiÚ
(
vp8
, 3001, 1));

422 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
CªAd­tUpResŞutiÚW™hCodecTy³
) {

423 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

428 
B®ªûdDeg¿d©iÚS‘tšgs
 
	gs
;

429 
EXPECT_FALSE
(
s
.
CªAd­tUpResŞutiÚ
(
kVideoCodecVP8
, 1000, 29000));

430 
EXPECT_TRUE
(
s
.
CªAd­tUpResŞutiÚ
(
kVideoCodecVP8
, 1000, 30000));

431 
EXPECT_FALSE
(
s
.
CªAd­tUpResŞutiÚ
(
kVideoCodecVP9
, 1000, 59000));

432 
EXPECT_TRUE
(
s
.
CªAd­tUpResŞutiÚ
(
kVideoCodecVP9
, 1000, 60000));

433 
EXPECT_FALSE
(
s
.
CªAd­tUpResŞutiÚ
(
kVideoCodecH264
, 1000, 54000));

434 
EXPECT_TRUE
(
s
.
CªAd­tUpResŞutiÚ
(
kVideoCodecH264
, 1000, 55000));

435 
EXPECT_FALSE
(
s
.
CªAd­tUpResŞutiÚ
(
kVideoCodecAV1
, 1000, 76000));

436 
EXPECT_TRUE
(
s
.
CªAd­tUpResŞutiÚ
(
kVideoCodecAV1
, 1000, 77000));

437 
EXPECT_FALSE
(
s
.
CªAd­tUpResŞutiÚ
(
kVideoCodecG’”ic
, 1000, 24000));

438 
EXPECT_TRUE
(
s
.
CªAd­tUpResŞutiÚ
(
kVideoCodecG’”ic
, 1000, 25000));

439 
EXPECT_TRUE
(
s
.
CªAd­tUpResŞutiÚ
(
kVideoCodecMuÉËx
, 1000,

443 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
G‘sFpsDiff
) {

444 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

447 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

448 
EXPECT_EQ
(0, 
£‰šgs
.
MšFpsDiff
(1));

449 
EXPECT_EQ
(0, 
£‰šgs
.
MšFpsDiff
(1000));

450 
EXPECT_EQ
(-2, 
£‰šgs
.
MšFpsDiff
(1001));

451 
EXPECT_EQ
(-2, 
£‰šgs
.
MšFpsDiff
(2000));

452 
EXPECT_EQ
(3, 
£‰šgs
.
MšFpsDiff
(2001));

453 
EXPECT_EQ
(3, 
£‰šgs
.
MšFpsDiff
(3000));

454 
EXPECT_FALSE
(
£‰šgs
.
MšFpsDiff
(3001));

457 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
G‘sNoFpsDiffIfV®ueB–owMšS‘tšg
) {

458 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

462 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

463 
EXPECT_FALSE
(
£‰šgs
.
MšFpsDiff
(1000));

464 
EXPECT_EQ
(-99, 
£‰šgs
.
MšFpsDiff
(2000));

465 
EXPECT_FALSE
(
£‰šgs
.
MšFpsDiff
(3000));

468 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
QpTh»shŞdsNÙS‘ByDeçuÉ
) {

469 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

472 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

473 
EXPECT_FALSE
(
£‰šgs
.
G‘QpTh»shŞds
(
kVideoCodecVP8
, 1));

474 
EXPECT_FALSE
(
£‰šgs
.
G‘QpTh»shŞds
(
kVideoCodecVP9
, 1));

475 
EXPECT_FALSE
(
£‰šgs
.
G‘QpTh»shŞds
(
kVideoCodecH264
, 1));

476 
EXPECT_FALSE
(
£‰šgs
.
G‘QpTh»shŞds
(
kVideoCodecAV1
, 1));

477 
EXPECT_FALSE
(
£‰šgs
.
G‘QpTh»shŞds
(
kVideoCodecG’”ic
, 1));

480 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
G‘sCÚfigW™hQpTh»shŞds
) {

481 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

487 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

488 
EXPECT_THAT
(
£‰šgs
.
G‘CÚfigs
(),

489 ::
‹¡šg
::
EËm’tsA»
(

490 
B®ªûdDeg¿d©iÚS‘tšgs
::
CÚfig
{

495 
B®ªûdDeg¿d©iÚS‘tšgs
::
kNoFpsDiff
,

501 
B®ªûdDeg¿d©iÚS‘tšgs
::
CÚfig
{

506 
B®ªûdDeg¿d©iÚS‘tšgs
::
kNoFpsDiff
,

512 
B®ªûdDeg¿d©iÚS‘tšgs
::
CÚfig
{

517 
B®ªûdDeg¿d©iÚS‘tšgs
::
kNoFpsDiff
,

525 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
G‘sDeçuÉCÚfigIfOÆyHasLowTh»shŞd
) {

526 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

529 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

530 
V”ifyIsDeçuÉ
(
£‰šgs
.
G‘CÚfigs
());

533 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
G‘sDeçuÉCÚfigIfOÆyHasHighTh»shŞd
) {

534 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

537 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

538 
V”ifyIsDeçuÉ
(
£‰šgs
.
G‘CÚfigs
());

541 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
G‘sDeçuÉCÚfigIfLowEqu®sHigh
) {

542 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

546 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

547 
V”ifyIsDeçuÉ
(
£‰šgs
.
G‘CÚfigs
());

550 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
G‘sDeçuÉCÚfigIfLowG»©”ThªHigh
) {

551 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

555 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

556 
V”ifyIsDeçuÉ
(
£‰šgs
.
G‘CÚfigs
());

559 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
G‘sDeçuÉCÚfigFÜZ”oQpV®ue
) {

560 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

564 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

565 
V”ifyIsDeçuÉ
(
£‰šgs
.
G‘CÚfigs
());

568 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
G‘sVp8QpTh»shŞds
) {

569 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

573 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

574 
EXPECT_EQ
(89, 
£‰šgs
.
G‘QpTh»shŞds
(
kVideoCodecVP8
, 1)->
low
);

575 
EXPECT_EQ
(90, 
£‰šgs
.
G‘QpTh»shŞds
(
kVideoCodecVP8
, 1)->
high
);

576 
EXPECT_EQ
(90, 
£‰šgs
.
G‘QpTh»shŞds
(
kVideoCodecVP8
, 1000)->
high
);

577 
EXPECT_EQ
(91, 
£‰šgs
.
G‘QpTh»shŞds
(
kVideoCodecVP8
, 1001)->
high
);

578 
EXPECT_EQ
(91, 
£‰šgs
.
G‘QpTh»shŞds
(
kVideoCodecVP8
, 2000)->
high
);

579 
EXPECT_EQ
(92, 
£‰šgs
.
G‘QpTh»shŞds
(
kVideoCodecVP8
, 2001)->
high
);

580 
EXPECT_EQ
(92, 
£‰šgs
.
G‘QpTh»shŞds
(
kVideoCodecVP8
, 3000)->
high
);

581 
EXPECT_EQ
(92, 
£‰šgs
.
G‘QpTh»shŞds
(
kVideoCodecVP8
, 3001)->
high
);

584 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
G‘sVp9QpTh»shŞds
) {

585 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

589 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

590 cÚ¡‡utØ
	gth»shŞds
 = 
£‰šgs
.
G‘QpTh»shŞds
(
kVideoCodecVP9
, 1000);

591 
EXPECT_TRUE
(
th»shŞds
);

592 
EXPECT_EQ
(55, 
th»shŞds
->
low
);

593 
EXPECT_EQ
(155, 
th»shŞds
->
high
);

596 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
G‘sH264QpTh»shŞds
) {

597 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

601 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

602 cÚ¡‡utØ
	gth»shŞds
 = 
£‰šgs
.
G‘QpTh»shŞds
(
kVideoCodecH264
, 2000);

603 
EXPECT_TRUE
(
th»shŞds
);

604 
EXPECT_EQ
(22, 
th»shŞds
->
low
);

605 
EXPECT_EQ
(43, 
th»shŞds
->
high
);

608 
TEST
(
B®ªûdDeg¿d©iÚS‘tšgs
, 
G‘sG’”icQpTh»shŞds
) {

609 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

613 
B®ªûdDeg¿d©iÚS‘tšgs
 
	g£‰šgs
;

614 cÚ¡‡utØ
	gth»shŞds
 = 
£‰šgs
.
G‘QpTh»shŞds
(
kVideoCodecG’”ic
, 3000);

615 
EXPECT_TRUE
(
th»shŞds
);

616 
EXPECT_EQ
(4, 
th»shŞds
->
low
);

617 
EXPECT_EQ
(24, 
th»shŞds
->
high
);

	@experiments/cpu_speed_experiment.cc

11 
	~"¹c_ba£/ex³rim’ts/ıu_¥“d_ex³rim’t.h
"

13 
	~<¡dio.h
>

15 
	~<¡ršg
>

17 
	~"¹c_ba£/loggšg.h
"

18 
	~"sy¡em_w¿µ”s/šşude/f›ld_ŒŸl.h
"

20 
Çme¥aû
 
	gweb¹c
 {

21 
	gÇme¥aû
 {

22 
cÚ¡ex´
 
	gkF›ldTrŸl
[] = "WebRTC-VP8-CpuSpeed-Arm";

23 
cÚ¡ex´
 
	gkMšS‘tšg
 = -16;

24 
cÚ¡ex´
 
	gkMaxS‘tšg
 = -1;

27 
	gab¦
::
İtiÚ®
<
¡d
::
veùÜ
<
CpuS³edEx³rim’t
::
CÚfig
>>

28 
CpuS³edEx³rim’t
::
G‘CÚfigs
() {

29 ià(!
web¹c
::
f›ld_ŒŸl
::
IsEÇbËd
(
kF›ldTrŸl
))

30  
ab¦
::
nuÎİt
;

32 cÚ¡ 
	g¡d
::
¡ršg
 
group
 = 
web¹c
::
f›ld_ŒŸl
::
FšdFuÎName
(
kF›ldTrŸl
);

33 ià(
	ggroup
.
em±y
())

34  
	gab¦
::
nuÎİt
;

36 
	g¡d
::
veùÜ
<
CÚfig
> 
cÚfigs
(3);

37 ià(
ssÿnf
(
group
.
c_¡r
(), "EÇbËd-%d,%d,%d,%d,%d,%d", &(
cÚfigs
[0].
pix–s
),

38 &(
cÚfigs
[0].
ıu_¥“d
), &(cÚfigs[1].
pix–s
),

39 &(
cÚfigs
[1].
ıu_¥“d
), &(cÚfigs[2].
pix–s
),

40 &(
cÚfigs
[2].
ıu_¥“d
)) != 6) {

41 
RTC_LOG
(
LS_WARNING
) << "Too few…arameters…rovided.";

42  
	gab¦
::
nuÎİt
;

45 cÚ¡‡uto& 
	gcÚfig
 : 
cÚfigs
) {

46 ià(
cÚfig
.
ıu_¥“d
 < 
kMšS‘tšg
 || cÚfig.ıu_¥“d > 
kMaxS‘tšg
) {

47 
RTC_LOG
(
LS_WARNING
) << "Unsupported cpu speed setting, value ignored.";

48  
	gab¦
::
nuÎİt
;

52 
size_t
 
	gi
 = 1; i < 
	gcÚfigs
.
size
(); ++i) {

53 ià(
	gcÚfigs
[
i
].
	gpix–s
 < configs[i - 1].pixels ||

54 
	gcÚfigs
[
i
].
	gıu_¥“d
 > configs[i - 1].cpu_speed) {

55 
RTC_LOG
(
LS_WARNING
) << "Invalid…arameter value…rovided.";

56  
	gab¦
::
nuÎİt
;

60  
	gab¦
::
İtiÚ®
<
¡d
::
veùÜ
<
CÚfig
>>(
cÚfigs
);

63 
	gCpuS³edEx³rim’t
::
G‘V®ue
(
pix–s
,

64 cÚ¡ 
¡d
::
veùÜ
<
CÚfig
>& 
cÚfigs
) {

65 cÚ¡‡uto& 
cÚfig
 : 
cÚfigs
) {

66 ià(
pix–s
 <ğ
cÚfig
.pixels)

67  
cÚfig
.
ıu_¥“d
;

69  
	gkMšS‘tšg
;

	@experiments/cpu_speed_experiment.h

11 #iâdeà
RTC_BASE_EXPERIMENTS_CPU_SPEED_EXPERIMENT_H_


12 
	#RTC_BASE_EXPERIMENTS_CPU_SPEED_EXPERIMENT_H_


	)

14 
	~<veùÜ
>

16 
	~"ab¦/ty³s/İtiÚ®.h
"

18 
Çme¥aû
 
	gweb¹c
 {

20 şas 
	cCpuS³edEx³rim’t
 {

21 
	gpublic
:

22 
	sCÚfig
 {

23 
boŞ
 
İ”©Ü
==(cÚ¡ 
CÚfig
& 
o
) const {

24  
pix–s
 =ğ
o
.pix– && 
ıu_¥“d
 == o.cpu_speed;

27 
	gpix–s
;

28 
	gıu_¥“d
;

33 
	gab¦
::
İtiÚ®
<
¡d
::
veùÜ
<
CÚfig
>> 
G‘CÚfigs
();

36 
G‘V®ue
(
pix–s
, cÚ¡ 
¡d
::
veùÜ
<
CÚfig
>& 
cÚfigs
);

	@experiments/cpu_speed_experiment_unittest.cc

11 
	~"¹c_ba£/ex³rim’ts/ıu_¥“d_ex³rim’t.h
"

13 
	~"¹c_ba£/gun™.h
"

14 
	~"‹¡/f›ld_ŒŸl.h
"

15 
	~"‹¡/gmock.h
"

17 
Çme¥aû
 
	gweb¹c
 {

19 
TEST
(
CpuS³edEx³rim’tTe¡
, 
G‘CÚfigsFasIfNÙEÇbËd
) {

20 
EXPECT_FALSE
(
CpuS³edEx³rim’t
::
G‘CÚfigs
());

23 
TEST
(
CpuS³edEx³rim’tTe¡
, 
G‘CÚfigsFasFÜTooFewP¬am‘”s
) {

24 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

26 
EXPECT_FALSE
(
CpuS³edEx³rim’t
::
G‘CÚfigs
());

29 
TEST
(
CpuS³edEx³rim’tTe¡
, 
G‘CÚfigs
) {

30 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

33 cÚ¡ 
	gab¦
::
İtiÚ®
<
¡d
::
veùÜ
<
CpuS³edEx³rim’t
::
CÚfig
>> 
kCÚfigs
 =

34 
CpuS³edEx³rim’t
::
G‘CÚfigs
();

35 
ASSERT_TRUE
(
kCÚfigs
);

36 
EXPECT_THAT
(*
kCÚfigs
,

37 ::
‹¡šg
::
EËm’tsA»
(
CpuS³edEx³rim’t
::
CÚfig
{1000, -1},

38 
CpuS³edEx³rim’t
::
CÚfig
{2000, -10},

39 
CpuS³edEx³rim’t
::
CÚfig
{3000, -16}));

42 
TEST
(
CpuS³edEx³rim’tTe¡
, 
G‘V®ue
) {

43 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

46 cÚ¡ 
	gab¦
::
İtiÚ®
<
¡d
::
veùÜ
<
CpuS³edEx³rim’t
::
CÚfig
>> 
kCÚfigs
 =

47 
CpuS³edEx³rim’t
::
G‘CÚfigs
();

48 
ASSERT_TRUE
(
kCÚfigs
);

49 
ASSERT_EQ
(3u, (*
kCÚfigs
).
size
());

50 
EXPECT_EQ
(-5, 
CpuS³edEx³rim’t
::
G‘V®ue
(1, *
kCÚfigs
));

51 
EXPECT_EQ
(-5, 
CpuS³edEx³rim’t
::
G‘V®ue
(1000, *
kCÚfigs
));

52 
EXPECT_EQ
(-10, 
CpuS³edEx³rim’t
::
G‘V®ue
(1000 + 1, *
kCÚfigs
));

53 
EXPECT_EQ
(-10, 
CpuS³edEx³rim’t
::
G‘V®ue
(2000, *
kCÚfigs
));

54 
EXPECT_EQ
(-12, 
CpuS³edEx³rim’t
::
G‘V®ue
(2000 + 1, *
kCÚfigs
));

55 
EXPECT_EQ
(-12, 
CpuS³edEx³rim’t
::
G‘V®ue
(3000, *
kCÚfigs
));

56 
EXPECT_EQ
(-16, 
CpuS³edEx³rim’t
::
G‘V®ue
(3000 + 1, *
kCÚfigs
));

59 
TEST
(
CpuS³edEx³rim’tTe¡
, 
G‘CÚfigsFasFÜTooSm®lV®ue
) {

61 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

63 
EXPECT_FALSE
(
CpuS³edEx³rim’t
::
G‘CÚfigs
());

66 
TEST
(
CpuS³edEx³rim’tTe¡
, 
G‘CÚfigsFasFÜTooL¬geV®ue
) {

68 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

70 
EXPECT_FALSE
(
CpuS³edEx³rim’t
::
G‘CÚfigs
());

73 
TEST
(
CpuS³edEx³rim’tTe¡
, 
G‘CÚfigsFasIfPix–sDeü—sšg
) {

74 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

76 
EXPECT_FALSE
(
CpuS³edEx³rim’t
::
G‘CÚfigs
());

79 
TEST
(
CpuS³edEx³rim’tTe¡
, 
G‘CÚfigsFasIfCpuS³edInü—sšg
) {

80 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

82 
EXPECT_FALSE
(
CpuS³edEx³rim’t
::
G‘CÚfigs
());

	@experiments/field_trial_list.cc

10 
	~"¹c_ba£/ex³rim’ts/f›ld_ŒŸl_li¡.h
"

12 
Çme¥aû
 
	gweb¹c
 {

14 
	gF›ldTrŸlLi¡Ba£
::
F›ldTrŸlLi¡Ba£
(
¡d
::
¡ršg
 
key
)

15 : 
F›ldTrŸlP¬am‘”IÁ”çû
(
key
),

16 
çed_
(
çl£
),

17 
·r£_gÙ_ÿÎed_
(
çl£
) {}

19 
boŞ
 
	gF›ldTrŸlLi¡Ba£
::
Faed
() const {

20  
çed_
;

22 
boŞ
 
	gF›ldTrŸlLi¡Ba£
::
U£d
() const {

23  
·r£_gÙ_ÿÎed_
;

26 
	gF›ldTrŸlLi¡W¿µ”
::
L’gth
() {

27  
G‘Li¡
()->
Size
();

29 
boŞ
 
	gF›ldTrŸlLi¡W¿µ”
::
Faed
() {

30  
G‘Li¡
()->
Faed
();

32 
boŞ
 
	gF›ldTrŸlLi¡W¿µ”
::
U£d
() {

33  
G‘Li¡
()->
U£d
();

36 
boŞ
 
	gF›ldTrŸlSŒuùLi¡Ba£
::
P¬£
(
ab¦
::
İtiÚ®
<
¡d
::
¡ršg
> 
¡r_v®ue
) {

37 
RTC_NOTREACHED
();

38  
	gŒue
;

41 
	gF›ldTrŸlSŒuùLi¡Ba£
::
V®id©eAndG‘L’gth
() {

42 
Ëngth
 = -1;

43 
	g¡d
::
unique_±r
<
F›ldTrŸlLi¡W¿µ”
>& 
li¡
 : 
sub_li¡s_
) {

44 ià(
li¡
->
Faed
())

46 ià(!
	gli¡
->
U£d
())

48 ià(
	gËngth
 == -1)

49 
Ëngth
 = 
li¡
->
L’gth
();

50 ià(
	gËngth
 !ğ
li¡
->
L’gth
())

54  
	gËngth
;

	@experiments/field_trial_list.h

10 #iâdeà
RTC_BASE_EXPERIMENTS_FIELD_TRIAL_LIST_H_


11 
	#RTC_BASE_EXPERIMENTS_FIELD_TRIAL_LIST_H_


	)

13 
	~<š™Ÿliz”_li¡
>

14 
	~<memÜy
>

15 
	~<¡ršg
>

16 
	~<veùÜ
>

18 
	~"¹c_ba£/ex³rim’ts/f›ld_ŒŸl_·r£r.h
"

19 
	~"¹c_ba£/¡ršg_’code.h
"

34 
Çme¥aû
 
	gweb¹c
 {

36 şas 
	cF›ldTrŸlLi¡Ba£
 : 
public
 
F›ldTrŸlP¬am‘”IÁ”çû
 {

37 
´Ùeùed
:

38 
ä›nd
 
şass
 
F›ldTrŸlLi¡W¿µ”
;

39 
ex¶ic™
 
F›ldTrŸlLi¡Ba£
(
¡d
::
¡ršg
 
key
);

41 
boŞ
 
Faed
() const;

42 
boŞ
 
U£d
() const;

44 
vœtu®
 
Size
() = 0;

46 
boŞ
 
	gçed_
;

47 
boŞ
 
	g·r£_gÙ_ÿÎed_
;

52 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

53 şas 
	cF›ldTrŸlLi¡
 : 
public
 
F›ldTrŸlLi¡Ba£
 {

54 
public
:

55 
ex¶ic™
 
F›ldTrŸlLi¡
(
¡d
::
¡ršg
 
key
) : FieldTrialList(key, {}) {}

56 
F›ldTrŸlLi¡
(
¡d
::
¡ršg
 
key
, std::
š™Ÿliz”_li¡
<
T
> 
deçuÉ_v®ues
)

57 : 
F›ldTrŸlLi¡Ba£
(
key
), 
v®ues_
(
deçuÉ_v®ues
) {}

59 
	g¡d
::
veùÜ
<
T
> 
G‘
(ècÚ¡ {  
v®ues_
; }

60 
İ”©Ü
 
	g¡d
::
veùÜ
<
T
>(ècÚ¡ {  
G‘
(); }

61 cÚ¡ 
	gT
& 
	gİ”©Ü
[](
size_t
 
	gšdex
ècÚ¡ {  
	gv®ues_
[
šdex
]; }

62 cÚ¡ 
	g¡d
::
veùÜ
<
T
>* 
İ”©Ü
->(ècÚ¡ {  &
v®ues_
; }

64 
	g´Ùeùed
:

65 
boŞ
 
P¬£
(
ab¦
::
İtiÚ®
<
¡d
::
¡ršg
> 
¡r_v®ue
è
ov”ride
 {

66 
·r£_gÙ_ÿÎed_
 = 
Œue
;

68 ià(!
	g¡r_v®ue
) {

69 
	gv®ues_
.
ş—r
();

70  
	gŒue
;

73 
	g¡d
::
veùÜ
<
¡d
::
¡ršg
> 
tok’s
;

74 
	g¡d
::
veùÜ
<
T
> 
Ãw_v®ues_
;

75 
	g¹c
::
¥l™
(
¡r_v®ue
.
v®ue
(), '|', &
tok’s
);

77 
	g¡d
::
¡ršg
 
tok’
 : 
tok’s
) {

78 
ab¦
::
İtiÚ®
<
T
> 
v®ue
 = 
P¬£Ty³dP¬am‘”
<T>(
tok’
);

79 ià(
	gv®ue
) {

80 
	gÃw_v®ues_
.
push_back
(*
v®ue
);

82 
	gçed_
 = 
Œue
;

83  
	gçl£
;

87 
	gv®ues_
.
sw­
(
Ãw_v®ues_
);

88  
	gŒue
;

91 
Size
(è
	gov”ride
 {  
	gv®ues_
.
size
(); }

93 
	g´iv©e
:

94 
¡d
::
veùÜ
<
T
> 
v®ues_
;

97 şas 
	cF›ldTrŸlLi¡W¿µ”
 {

98 
	gpublic
:

99 
vœtu®
 ~
F›ldTrŸlLi¡W¿µ”
() = ;

103 
vœtu®
 
Wr™eEËm’t
(* 
¡ruù_to_wr™e
, 
šdex
) = 0;

105 
vœtu®
 
F›ldTrŸlLi¡Ba£
* 
G‘Li¡
() = 0;

107 
L’gth
();

110 
boŞ
 
Faed
();

112 
boŞ
 
U£d
();

114 
	g´Ùeùed
:

115 
F›ldTrŸlLi¡W¿µ”
() = ;

118 
Çme¥aû
 
	gf›ld_ŒŸl_li¡_im¶
 {

121 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

122 
	gLambdaTy³T¿™s
 : 
public
 
LambdaTy³T¿™s
<
deşty³
(&
T
::
İ”©Ü
())> {};

124 
	g‹m¶©e
 <
ty³Çme
 
	gCÏssTy³
,y³Çm
	gR‘Ty³
,y³Çm
	gSourûTy³
>

125 
	gLambdaTy³T¿™s
<
	gR‘Ty³
* (
	gCÏssTy³
::*)(
SourûTy³
*)const> {

126 
usšg
 
»t
 = 
R‘Ty³
;

127 
usšg
 
	g¤c
 = 
SourûTy³
;

130 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

131 
	gTy³dF›ldTrŸlLi¡W¿µ”
 : 
F›ldTrŸlLi¡W¿µ”
 {

132 
public
:

133 
Ty³dF›ldTrŸlLi¡W¿µ”
(
¡d
::
¡ršg
 
key
,

134 
¡d
::
funùiÚ
<(*, 
T
)> 
sšk
)

135 : 
li¡_
(
key
), 
sšk_
(
sšk
) {}

137 
Wr™eEËm’t
(* 
¡ruù_to_wr™e
, 
šdex
è
	gov”ride
 {

138 
sšk_
(
¡ruù_to_wr™e
, 
li¡_
[
šdex
]);

141 
F›ldTrŸlLi¡Ba£
* 
G‘Li¡
(è
	gov”ride
 {  &
	gli¡_
; }

143 
	g´iv©e
:

144 
F›ldTrŸlLi¡
<
T
> 
li¡_
;

145 
	g¡d
::
funùiÚ
<(*, 
	gT
)> 
	gsšk_
;

150 
	g‹m¶©e
 <
ty³Çme
 
	gF
,

151 
ty³Çme
 
	gT¿™s
 =y³Çm
f›ld_ŒŸl_li¡_im¶
::
LambdaTy³T¿™s
<
F
>>

152 
F›ldTrŸlLi¡W¿µ”
* 
	$F›ldTrŸlSŒuùMemb”
(
¡d
::
¡ršg
 
key
, 
F
 
acûssÜ
) {

153  
Ãw
 
f›ld_ŒŸl_li¡_im¶
::
Ty³dF›ldTrŸlLi¡W¿µ”
<

154 
ty³Çme
 
T¿™s
::
»t
>(
key
, [
acûssÜ
](* 
s
,y³ÇmT¿™s::»ˆ
t
) {

155 *
	`acûssÜ
(
¡©ic_ÿ¡
<
ty³Çme
 
T¿™s
::
¤c
*>(
s
)èğ
t
;

157 
	}
}

161 şas 
	cF›ldTrŸlSŒuùLi¡Ba£
 : 
public
 
F›ldTrŸlP¬am‘”IÁ”çû
 {

162 
´Ùeùed
:

163 
F›ldTrŸlSŒuùLi¡Ba£
(

164 
¡d
::
š™Ÿliz”_li¡
<
F›ldTrŸlLi¡W¿µ”
*> 
sub_li¡s
)

165 : 
F›ldTrŸlP¬am‘”IÁ”çû
(""), 
sub_li¡s_
() {

168 
F›ldTrŸlLi¡W¿µ”
* cÚ¡* 
	g™
 = 
sub_li¡s
.
begš
();

169 
	g™
 !ğ
sub_li¡s
.
’d
(); it++) {

170 
	gsub_·¿m‘”s_
.
push_back
((*
™
)->
G‘Li¡
());

171 
	gsub_li¡s_
.
push_back
(
¡d
::
unique_±r
<
F›ldTrŸlLi¡W¿µ”
>(*
™
));

179 
V®id©eAndG‘L’gth
();

181 
boŞ
 
P¬£
(
ab¦
::
İtiÚ®
<
¡d
::
¡ršg
> 
¡r_v®ue
è
ov”ride
;

183 
	g¡d
::
veùÜ
<
¡d
::
unique_±r
<
F›ldTrŸlLi¡W¿µ”
>> 
sub_li¡s_
;

186 
	g‹m¶©e
 <
ty³Çme
 
	gS
>

187 şas 
	cF›ldTrŸlSŒuùLi¡
 : 
public
 
F›ldTrŸlSŒuùLi¡Ba£
 {

188 
public
:

189 
F›ldTrŸlSŒuùLi¡
(
¡d
::
š™Ÿliz”_li¡
<
F›ldTrŸlLi¡W¿µ”
*> 
l
,

190 
¡d
::
š™Ÿliz”_li¡
<
S
> 
deçuÉ_li¡
)

191 : 
F›ldTrŸlSŒuùLi¡Ba£
(
l
), 
v®ues_
(
deçuÉ_li¡
) {}

193 
	g¡d
::
veùÜ
<
S
> 
G‘
(ècÚ¡ {  
v®ues_
; }

194 
İ”©Ü
 
	g¡d
::
veùÜ
<
S
>(ècÚ¡ {  
G‘
(); }

195 cÚ¡ 
	gS
& 
	gİ”©Ü
[](
size_t
 
	gšdex
ècÚ¡ {  
	gv®ues_
[
šdex
]; }

196 cÚ¡ 
	g¡d
::
veùÜ
<
S
>* 
İ”©Ü
->(ècÚ¡ {  &
v®ues_
; }

198 
	g´Ùeùed
:

199 
P¬£DÚe
(è
ov”ride
 {

200 
Ëngth
 = 
V®id©eAndG‘L’gth
();

202 ià(
	gËngth
 == -1)

205 
	g¡d
::
veùÜ
<
S
> 
Ãw_v®ues
(
Ëngth
, S());

207 
	g¡d
::
unique_±r
<
F›ldTrŸlLi¡W¿µ”
>& 
li
 : 
sub_li¡s_
) {

208 ià(
li
->
U£d
()) {

209 
i
 = 0; 
	gi
 < 
	gËngth
; i++) {

210 
	gli
->
Wr™eEËm’t
(&
Ãw_v®ues
[
i
], i);

215 
	gv®ues_
.
sw­
(
Ãw_v®ues
);

218 
	g´iv©e
:

219 
¡d
::
veùÜ
<
S
> 
v®ues_
;

	@experiments/field_trial_list_unittest.cc

11 
	~"¹c_ba£/ex³rim’ts/f›ld_ŒŸl_li¡.h
"

13 
	~"¹c_ba£/gun™.h
"

14 
	~"‹¡/gmock.h
"

16 
usšg
 
	g‹¡šg
::
EËm’tsA»
;

17 
usšg
 
	g‹¡šg
::
IsEm±y
;

19 
Çme¥aû
 
	gweb¹c
 {

21 
	sG¬m’t
 {

22 
	g´iû
 = 0;

23 
	g¡d
::
¡ršg
 
cŞÜ
 = "";

26 
G¬m’t
() = ;

27 
G¬m’t
(
p
, 
¡d
::
¡ršg
 
c
è: 
´iû
Õ), 
cŞÜ
(c) {}

29 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
G¬m’t
& 
Ùh”
) const {

30  
´iû
 =ğ
Ùh”
.´iû && 
cŞÜ
 == other.color;

34 
TEST
(
F›ldTrŸlLi¡Te¡
, 
P¬£sLi¡P¬am‘”
) {

35 
	gF›ldTrŸlLi¡
<> 
my_li¡
("l", {5});

36 
EXPECT_THAT
(
my_li¡
.
G‘
(), 
EËm’tsA»
(5));

38 
P¬£F›ldTrŸl
({&
my_li¡
}, "l:1|2|hat");

39 
EXPECT_THAT
(
my_li¡
.
G‘
(), 
EËm’tsA»
(5));

40 
P¬£F›ldTrŸl
({&
my_li¡
}, "l");

41 
EXPECT_THAT
(
my_li¡
.
G‘
(), 
IsEm±y
());

42 
P¬£F›ldTrŸl
({&
my_li¡
}, "l:1|2|3");

43 
EXPECT_THAT
(
my_li¡
.
G‘
(), 
EËm’tsA»
(1, 2, 3));

44 
P¬£F›ldTrŸl
({&
my_li¡
}, "l:-1");

45 
EXPECT_THAT
(
my_li¡
.
G‘
(), 
EËm’tsA»
(-1));

47 
	gF›ldTrŸlLi¡
<
	g¡d
::
¡ršg
> 
ªÙh”_li¡
("l", {"hat"});

48 
EXPECT_THAT
(
ªÙh”_li¡
.
G‘
(), 
EËm’tsA»
("hat"));

49 
P¬£F›ldTrŸl
({&
ªÙh”_li¡
}, "l");

50 
EXPECT_THAT
(
ªÙh”_li¡
.
G‘
(), 
IsEm±y
());

51 
P¬£F›ldTrŸl
({&
ªÙh”_li¡
}, "l:");

52 
EXPECT_THAT
(
ªÙh”_li¡
.
G‘
(), 
EËm’tsA»
(""));

53 
P¬£F›ldTrŸl
({&
ªÙh”_li¡
}, "l:scarf|hat|mittens");

54 
EXPECT_THAT
(
ªÙh”_li¡
.
G‘
(), 
EËm’tsA»
("scarf", "hat", "mittens"));

55 
P¬£F›ldTrŸl
({&
ªÙh”_li¡
}, "l:scarf");

56 
EXPECT_THAT
(
ªÙh”_li¡
.
G‘
(), 
EËm’tsA»
("scarf"));

60 
TEST
(
F›ldTrŸlLi¡Te¡
, 
P¬£sSŒuùLi¡
) {

61 
	gF›ldTrŸlSŒuùLi¡
<
	gG¬m’t
> 
my_li¡
(

62 {
F›ldTrŸlSŒuùMemb”
("cŞÜ", [](
G¬m’t
* 
g
è{  &g->
cŞÜ
; }),

63 
F›ldTrŸlSŒuùMemb”
("´iû", [](
G¬m’t
* 
g
è{  &g->
´iû
; })},

66 
P¬£F›ldTrŸl
({&
my_li¡
},

71 
ASSERT_THAT
(
my_li¡
.
G‘
(),

72 
EËm’tsA»
(
G¬m’t
{10, "mauve"}, Garment{20, "red"},

73 
G¬m’t
{30, "gold"}));

78 
TEST
(
F›ldTrŸlLi¡Te¡
, 
SŒuùLi¡K“psDeçuÉW™hMism©chšgL’gth
) {

79 
	gF›ldTrŸlSŒuùLi¡
<
	gG¬m’t
> 
my_li¡
(

80 {
F›ldTrŸlSŒuùMemb”
("wrong_length",

81 [](
G¬m’t
* 
g
è{  &g->
cŞÜ
; }),

82 
F›ldTrŸlSŒuùMemb”
("´iû", [](
G¬m’t
* 
g
è{  &g->
´iû
; })},

85 
P¬£F›ldTrŸl
({&
my_li¡
},

90 
ASSERT_THAT
(
my_li¡
.
G‘
(),

91 
EËm’tsA»
(
G¬m’t
{1, "blue"}, Garment{2, "red"}));

96 
TEST
(
F›ldTrŸlLi¡Te¡
, 
SŒuùLi¡U£sDeçuÉFÜMissšgLi¡
) {

97 
	gF›ldTrŸlSŒuùLi¡
<
	gG¬m’t
> 
my_li¡
(

98 {
F›ldTrŸlSŒuùMemb”
("cŞÜ", [](
G¬m’t
* 
g
è{  &g->
cŞÜ
; }),

99 
F›ldTrŸlSŒuùMemb”
("´iû", [](
G¬m’t
* 
g
è{  &g->
´iû
; })},

102 
P¬£F›ldTrŸl
({&
my_li¡
}, "price:10|20|30");

104 
ASSERT_THAT
(
my_li¡
.
G‘
(),

105 
EËm’tsA»
(
G¬m’t
{10, ""}, Garment{20, ""}, Garment{30, ""}));

109 
TEST
(
F›ldTrŸlLi¡Te¡
, 
SŒuùLi¡U£sDeçuÉLi¡W™houtV®ues
) {

110 
	gF›ldTrŸlSŒuùLi¡
<
	gG¬m’t
> 
my_li¡
(

111 {
F›ldTrŸlSŒuùMemb”
("cŞÜ", [](
G¬m’t
* 
g
è{  &g->
cŞÜ
; }),

112 
F›ldTrŸlSŒuùMemb”
("´iû", [](
G¬m’t
* 
g
è{  &g->
´iû
; })},

115 
P¬£F›ldTrŸl
({&
my_li¡
}, "");

117 
ASSERT_THAT
(
my_li¡
.
G‘
(),

118 
EËm’tsA»
(
G¬m’t
{1, "blue"}, Garment{2, "red"}));

122 
TEST
(
F›ldTrŸlLi¡Te¡
, 
SŒuùLi¡HªdËsEm±yLi¡s
) {

123 
	gF›ldTrŸlSŒuùLi¡
<
	gG¬m’t
> 
my_li¡
(

124 {
F›ldTrŸlSŒuùMemb”
("cŞÜ", [](
G¬m’t
* 
g
è{  &g->
cŞÜ
; }),

125 
F›ldTrŸlSŒuùMemb”
("´iû", [](
G¬m’t
* 
g
è{  &g->
´iû
; })},

128 
P¬£F›ldTrŸl
({&
my_li¡
}, "color,price");

130 
ASSERT_EQ
(
my_li¡
.
G‘
().
size
(), 0u);

	@experiments/field_trial_parser.cc

10 
	~"¹c_ba£/ex³rim’ts/f›ld_ŒŸl_·r£r.h
"

12 
	~<š‰y³s.h
>

14 
	~<®gÜ™hm
>

15 
	~<m­
>

16 
	~<ty³_Œa™s
>

17 
	~<ut™y
>

19 
	~"¹c_ba£/checks.h
"

20 
	~"¹c_ba£/loggšg.h
"

21 
	~"¹c_ba£/num”ics/§ã_cÚv”siÚs.h
"

23 
Çme¥aû
 
	gweb¹c
 {

24 
	gÇme¥aû
 {

26 
FšdOrEnd
(
¡d
::
¡ršg
 
¡r
, 
size_t
 
¡¬t
, 
d–im™”
) {

27 
size_t
 
	gpos
 = 
¡r
.
fšd
(
d–im™”
, 
¡¬t
);

28 
	gpos
 = (
pos
 =ğ
¡d
::
¡ršg
::
Åos
è? 
¡r
.
Ëngth
() :…os;

29  
	g¡©ic_ÿ¡
<>(
	gpos
);

33 
	gF›ldTrŸlP¬am‘”IÁ”çû
::
F›ldTrŸlP¬am‘”IÁ”çû
(
¡d
::
¡ršg
 
key
)

34 : 
key_
(
key
) {}

35 
F›ldTrŸlP¬am‘”IÁ”çû
::~FieldTrialParameterInterface() {

36 
RTC_DCHECK
(
u£d_
è<< "F›ldrŸÈ·¿m‘” w™h key: '" << 
key_


40 
P¬£F›ldTrŸl
(

41 
¡d
::
š™Ÿliz”_li¡
<
F›ldTrŸlP¬am‘”IÁ”çû
*> 
f›lds
,

42 
¡d
::
¡ršg
 
ŒŸl_¡ršg
) {

43 
¡d
::
m­
<¡d::
¡ršg
, 
	gF›ldTrŸlP¬am‘”IÁ”çû
*> 
	gf›ld_m­
;

44 
F›ldTrŸlP¬am‘”IÁ”çû
* 
	gkeyËss_f›ld
 = 
nuÎ±r
;

45 
F›ldTrŸlP¬am‘”IÁ”çû
* 
	gf›ld
 : 
f›lds
) {

46 
f›ld
->
M¬kAsU£d
();

47 ià(!
	gf›ld
->
	gsub_·¿m‘”s_
.
em±y
()) {

48 
F›ldTrŸlP¬am‘”IÁ”çû
* 
	gsub_f›ld
 : 
f›ld
->
sub_·¿m‘”s_
) {

49 
RTC_DCHECK
(!
sub_f›ld
->
key_
.
em±y
());

50 
	gsub_f›ld
->
M¬kAsU£d
();

51 
	gf›ld_m­
[
sub_f›ld
->
key_
] = sub_field;

56 ià(
	gf›ld
->
	gkey_
.
em±y
()) {

57 
RTC_DCHECK
(!
keyËss_f›ld
);

58 
	gkeyËss_f›ld
 = 
f›ld
;

60 
	gf›ld_m­
[
f›ld
->
key_
] = field;

64 
size_t
 
	gi
 = 0;

65 
	gi
 < 
	gŒŸl_¡ršg
.
Ëngth
()) {

66 
	gv®_’d
 = 
FšdOrEnd
(
ŒŸl_¡ršg
, 
i
, ',');

67 
	gcŞÚ_pos
 = 
FšdOrEnd
(
ŒŸl_¡ršg
, 
i
, ':');

68 
	gkey_’d
 = 
¡d
::
mš
(
v®_’d
, 
cŞÚ_pos
);

69 
	gv®_begš
 = 
key_’d
 + 1;

70 
	g¡d
::
¡ršg
 
key
 = 
ŒŸl_¡ršg
.
sub¡r
(
i
, 
key_’d
 - i);

71 
	gab¦
::
İtiÚ®
<
¡d
::
¡ršg
> 
İt_v®ue
;

72 ià(
	gv®_’d
 >ğ
v®_begš
)

73 
İt_v®ue
 = 
ŒŸl_¡ršg
.
sub¡r
(
v®_begš
, 
v®_’d
 - val_begin);

74 
	gi
 = 
v®_’d
 + 1;

75 autØ
	gf›ld
 = 
f›ld_m­
.
fšd
(
key
);

76 ià(
	gf›ld
 !ğ
f›ld_m­
.
’d
()) {

77 ià(!
f›ld
->
£cÚd
->
P¬£
(
¡d
::
move
(
İt_v®ue
))) {

78 
RTC_LOG
(
LS_WARNING
è<< "FaedØ»ad f›ld w™h key: '" << 
key


79 << "' iÀŒŸl: \"" << 
ŒŸl_¡ršg
 << "\"";

81 } ià(!
	gİt_v®ue
 && 
	gkeyËss_f›ld
 && !
	gkey
.
em±y
()) {

82 ià(!
	gkeyËss_f›ld
->
P¬£
(
key
)) {

83 
RTC_LOG
(
LS_WARNING
) << "Failedo„eadƒmpty key field with value '"

84 << 
	gkey
 << "' iÀŒŸl: \"" << 
	gŒŸl_¡ršg
 << "\"";

87 
RTC_LOG
(
LS_INFO
è<< "NØf›ld w™h key: '" << 
	gkey


88 << "' (found iÀŒŸl: \"" << 
	gŒŸl_¡ršg
 << "\")";

89 
	g¡d
::
¡ršg
 
v®id_keys
;

90 cÚ¡‡uto& 
	gf
 : 
f›ld_m­
) {

91 
v®id_keys
 +ğ
f
.
fœ¡
;

92 
	gv®id_keys
 += ", ";

94 
RTC_LOG
(
LS_INFO
è<< "V®id key ¬e: " << 
	gv®id_keys
;

98 
F›ldTrŸlP¬am‘”IÁ”çû
* 
	gf›ld
 : 
f›lds
) {

99 
f›ld
->
P¬£DÚe
();

103 
	g‹m¶©e
 <>

104 
	gab¦
::
İtiÚ®
<
boŞ
> 
P¬£Ty³dP¬am‘”
<boŞ>(
¡d
::
¡ršg
 
¡r
) {

105 ià(
¡r
 == "true" || str == "1") {

106  
Œue
;

107 } ià(
	g¡r
 =ğ"çl£" || 
¡r
 == "0") {

108  
çl£
;

110  
	gab¦
::
nuÎİt
;

113 
	g‹m¶©e
 <>

114 
	gab¦
::
İtiÚ®
<> 
P¬£Ty³dP¬am‘”
<>(
¡d
::
¡ršg
 
¡r
) {

115 
v®ue
;

116 
	gun™
[2]{0, 0};

117 ià(
ssÿnf
(
¡r
.
c_¡r
(), "%lf%1s", &
v®ue
, 
un™
) >= 1) {

118 ià(
un™
[0] == '%')

119  
v®ue
 / 100;

120  
	gv®ue
;

122  
	gab¦
::
nuÎİt
;

126 
	g‹m¶©e
 <>

127 
	gab¦
::
İtiÚ®
<> 
P¬£Ty³dP¬am‘”
<>(
¡d
::
¡ršg
 
¡r
) {

128 
št64_t
 
v®ue
;

129 ià(
ssÿnf
(
¡r
.
c_¡r
(), "%" 
SCNd64
, &
v®ue
) == 1) {

130 ià(
¹c
::
IsV®ueInRªgeFÜNum”icTy³
<, 
št64_t
>(
v®ue
)) {

131  
¡©ic_ÿ¡
<>(
v®ue
);

134  
	gab¦
::
nuÎİt
;

137 
	g‹m¶©e
 <>

138 
	gab¦
::
İtiÚ®
<> 
P¬£Ty³dP¬am‘”
<>(
¡d
::
¡ršg
 
¡r
) {

139 
št64_t
 
v®ue
;

140 ià(
ssÿnf
(
¡r
.
c_¡r
(), "%" 
SCNd64
, &
v®ue
) == 1) {

141 ià(
¹c
::
IsV®ueInRªgeFÜNum”icTy³
<, 
št64_t
>(
v®ue
)) {

142  
¡©ic_ÿ¡
<>(
v®ue
);

145  
	gab¦
::
nuÎİt
;

148 
	g‹m¶©e
 <>

149 
	gab¦
::
İtiÚ®
<
¡d
::
¡ršg
> 
P¬£Ty³dP¬am‘”
<¡d::¡ršg>(¡d::¡ršg 
¡r
) {

150  
¡d
::
move
(
¡r
);

153 
	g‹m¶©e
 <>

154 
	gab¦
::
İtiÚ®
<
ab¦
::İtiÚ®<
boŞ
>> 
P¬£Ty³dP¬am‘”
<absl::optional<bool>>(

155 
¡d
::
¡ršg
 
¡r
) {

156  
P¬£O±iÚ®P¬am‘”
<
boŞ
>(
¡r
);

158 
	g‹m¶©e
 <>

159 
	gab¦
::
İtiÚ®
<
ab¦
::İtiÚ®<>> 
P¬£Ty³dP¬am‘”
<absl::optional<>>(

160 
¡d
::
¡ršg
 
¡r
) {

161  
P¬£O±iÚ®P¬am‘”
<>(
¡r
);

163 
	g‹m¶©e
 <>

164 
	gab¦
::
İtiÚ®
<
ab¦
::optional<>>

165 
P¬£Ty³dP¬am‘”
<
ab¦
::
İtiÚ®
<>>(
¡d
::
¡ršg
 
¡r
) {

166  
P¬£O±iÚ®P¬am‘”
<>(
¡r
);

168 
	g‹m¶©e
 <>

169 
	gab¦
::
İtiÚ®
<
ab¦
::optional<>>

170 
P¬£Ty³dP¬am‘”
<
ab¦
::
İtiÚ®
<>>(
¡d
::
¡ršg
 
¡r
) {

171  
P¬£O±iÚ®P¬am‘”
<>(
¡r
);

174 
	gF›ldTrŸlFÏg
::
F›ldTrŸlFÏg
(
¡d
::
¡ršg
 
key
è: F›ldTrŸlFÏg(key, 
çl£
) {}

176 
	gF›ldTrŸlFÏg
::
F›ldTrŸlFÏg
(
¡d
::
¡ršg
 
key
, 
boŞ
 
deçuÉ_v®ue
)

177 : 
F›ldTrŸlP¬am‘”IÁ”çû
(
key
), 
v®ue_
(
deçuÉ_v®ue
) {}

179 
boŞ
 
	gF›ldTrŸlFÏg
::
G‘
() const {

180  
v®ue_
;

183 
	gweb¹c
::
F›ldTrŸlFÏg
::
İ”©Ü
 
boŞ
() const {

184  
v®ue_
;

187 
boŞ
 
	gF›ldTrŸlFÏg
::
P¬£
(
ab¦
::
İtiÚ®
<
¡d
::
¡ršg
> 
¡r_v®ue
) {

189 ià(
¡r_v®ue
) {

190 
ab¦
::
İtiÚ®
<
boŞ
> 
İt_v®ue
 = 
P¬£Ty³dP¬am‘”
<boŞ>(*
¡r_v®ue
);

191 ià(!
	gİt_v®ue
)

192  
	gçl£
;

193 
	gv®ue_
 = *
İt_v®ue
;

195 
	gv®ue_
 = 
Œue
;

197  
	gŒue
;

200 
	gAb¡¿ùF›ldTrŸlEnum
::
Ab¡¿ùF›ldTrŸlEnum
(

201 
¡d
::
¡ršg
 
key
,

202 
deçuÉ_v®ue
,

203 
¡d
::
m­
<¡d::
¡ršg
, > 
m­pšg
)

204 : 
F›ldTrŸlP¬am‘”IÁ”çû
(
key
),

205 
v®ue_
(
deçuÉ_v®ue
),

206 
’um_m­pšg_
(
m­pšg
) {

207 auto& 
	gkey_v®
 : 
’um_m­pšg_
)

208 
v®id_v®ues_
.
š£¹
(
key_v®
.
£cÚd
);

210 
	gAb¡¿ùF›ldTrŸlEnum
::
Ab¡¿ùF›ldTrŸlEnum
(const AbstractFieldTrialEnum&) =

212 
	gAb¡¿ùF›ldTrŸlEnum
::~
Ab¡¿ùF›ldTrŸlEnum
() = ;

214 
boŞ
 
	gAb¡¿ùF›ldTrŸlEnum
::
P¬£
(
ab¦
::
İtiÚ®
<
¡d
::
¡ršg
> 
¡r_v®ue
) {

215 ià(
¡r_v®ue
) {

216 autØ
™
 = 
’um_m­pšg_
.
fšd
(*
¡r_v®ue
);

217 ià(
	g™
 !ğ
’um_m­pšg_
.
’d
()) {

218 
v®ue_
 = 
™
->
£cÚd
;

219  
	gŒue
;

221 
	gab¦
::
İtiÚ®
<> 
v®ue
 = 
P¬£Ty³dP¬am‘”
<>(*
¡r_v®ue
);

222 ià(
	gv®ue
.
has_v®ue
() &&

223 (
	gv®id_v®ues_
.
fšd
(*
v®ue
è!ğ
v®id_v®ues_
.
’d
())) {

224 
v®ue_
 = *
v®ue
;

225  
	gŒue
;

228  
	gçl£
;

231 
‹m¶©e
 
şass
 
	gF›ldTrŸlP¬am‘”
<
	gboŞ
>;

232 
‹m¶©e
 
şass
 
	gF›ldTrŸlP¬am‘”
<>;

233 
‹m¶©e
 
şass
 
	gF›ldTrŸlP¬am‘”
<>;

234 
‹m¶©e
 
şass
 
	gF›ldTrŸlP¬am‘”
<>;

235 
‹m¶©e
 
şass
 
	gF›ldTrŸlP¬am‘”
<
	g¡d
::
¡ršg
>;

237 
‹m¶©e
 
şass
 
	gF›ldTrŸlCÚ¡¿šed
<>;

238 
‹m¶©e
 
şass
 
	gF›ldTrŸlCÚ¡¿šed
<>;

239 
‹m¶©e
 
şass
 
	gF›ldTrŸlCÚ¡¿šed
<>;

241 
‹m¶©e
 
şass
 
	gF›ldTrŸlO±iÚ®
<>;

242 
‹m¶©e
 
şass
 
	gF›ldTrŸlO±iÚ®
<>;

243 
‹m¶©e
 
şass
 
	gF›ldTrŸlO±iÚ®
<>;

244 
‹m¶©e
 
şass
 
	gF›ldTrŸlO±iÚ®
<
	gboŞ
>;

245 
‹m¶©e
 
şass
 
	gF›ldTrŸlO±iÚ®
<
	g¡d
::
¡ršg
>;

	@experiments/field_trial_parser.h

10 #iâdeà
RTC_BASE_EXPERIMENTS_FIELD_TRIAL_PARSER_H_


11 
	#RTC_BASE_EXPERIMENTS_FIELD_TRIAL_PARSER_H_


	)

13 
	~<¡dšt.h
>

15 
	~<š™Ÿliz”_li¡
>

16 
	~<m­
>

17 
	~<£t
>

18 
	~<¡ršg
>

19 
	~<veùÜ
>

21 
	~"ab¦/ty³s/İtiÚ®.h
"

37 
Çme¥aû
 
	gweb¹c
 {

38 şas 
	cF›ldTrŸlP¬am‘”IÁ”çû
 {

39 
	gpublic
:

40 
vœtu®
 ~
F›ldTrŸlP¬am‘”IÁ”çû
();

41 
	g¡d
::
¡ršg
 
key
(ècÚ¡ {  
key_
; }

43 
	g´Ùeùed
:

45 
F›ldTrŸlP¬am‘”IÁ”çû
(const FieldTrialParameterInterface&) = ;

46 
	gF›ldTrŸlP¬am‘”IÁ”çû
& 
	gİ”©Ü
=(cÚ¡ 
F›ldTrŸlP¬am‘”IÁ”çû
&) =

48 
ex¶ic™
 
F›ldTrŸlP¬am‘”IÁ”çû
(
¡d
::
¡ršg
 
key
);

49 
ä›nd
 
P¬£F›ldTrŸl
(

50 
¡d
::
š™Ÿliz”_li¡
<
F›ldTrŸlP¬am‘”IÁ”çû
*> 
f›lds
,

51 
¡d
::
¡ršg
 
¿w_¡ršg
);

52 
M¬kAsU£d
(è{ 
	gu£d_
 = 
Œue
; }

53 
vœtu®
 
boŞ
 
P¬£
(
ab¦
::
İtiÚ®
<
¡d
::
¡ršg
> 
¡r_v®ue
) = 0;

55 
vœtu®
 
P¬£DÚe
() {}

57 
	g¡d
::
veùÜ
<
F›ldTrŸlP¬am‘”IÁ”çû
*> 
sub_·¿m‘”s_
;

59 
	g´iv©e
:

60 
¡d
::
¡ršg
 
key_
;

61 
boŞ
 
	gu£d_
 = 
çl£
;

66 
P¬£F›ldTrŸl
(

67 
¡d
::
š™Ÿliz”_li¡
<
F›ldTrŸlP¬am‘”IÁ”çû
*> 
f›lds
,

68 
¡d
::
¡ršg
 
¿w_¡ršg
);

72 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

73 
	gab¦
::
İtiÚ®
<
T
> 
P¬£Ty³dP¬am‘”
(
¡d
::
¡ršg
);

77 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

78 şas 
	cF›ldTrŸlP¬am‘”
 : 
public
 
F›ldTrŸlP¬am‘”IÁ”çû
 {

79 
public
:

80 
F›ldTrŸlP¬am‘”
(
¡d
::
¡ršg
 
key
, 
T
 
deçuÉ_v®ue
)

81 : 
F›ldTrŸlP¬am‘”IÁ”çû
(
key
), 
v®ue_
(
deçuÉ_v®ue
) {}

82 
T
 
G‘
(ècÚ¡ {  
	gv®ue_
; }

83 
İ”©Ü
 
T
(ècÚ¡ {  
G‘
(); }

84 cÚ¡ 
T
* 
	gİ”©Ü
->(ècÚ¡ {  &
	gv®ue_
; }

86 
S‘FÜTe¡
(
T
 
v®ue
è{ 
	gv®ue_
 = value; }

88 
	g´Ùeùed
:

89 
boŞ
 
P¬£
(
ab¦
::
İtiÚ®
<
¡d
::
¡ršg
> 
¡r_v®ue
è
ov”ride
 {

90 ià(
¡r_v®ue
) {

91 
ab¦
::
İtiÚ®
<
T
> 
v®ue
 = 
P¬£Ty³dP¬am‘”
<T>(*
¡r_v®ue
);

92 ià(
	gv®ue
.
has_v®ue
()) {

93 
	gv®ue_
 = 
v®ue
.value();

94  
	gŒue
;

97  
	gçl£
;

100 
	g´iv©e
:

101 
T
 
v®ue_
;

107 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

108 şas 
	cF›ldTrŸlCÚ¡¿šed
 : 
public
 
F›ldTrŸlP¬am‘”IÁ”çû
 {

109 
public
:

110 
F›ldTrŸlCÚ¡¿šed
(
¡d
::
¡ršg
 
key
,

111 
T
 
deçuÉ_v®ue
,

112 
ab¦
::
İtiÚ®
<
T
> 
low”_lim™
,

113 
ab¦
::
İtiÚ®
<
T
> 
uµ”_lim™
)

114 : 
F›ldTrŸlP¬am‘”IÁ”çû
(
key
),

115 
v®ue_
(
deçuÉ_v®ue
),

116 
low”_lim™_
(
low”_lim™
),

117 
uµ”_lim™_
(
uµ”_lim™
) {}

118 
T
 
G‘
(ècÚ¡ {  
	gv®ue_
; }

119 
İ”©Ü
 
T
(ècÚ¡ {  
G‘
(); }

120 cÚ¡ 
T
* 
	gİ”©Ü
->(ècÚ¡ {  &
	gv®ue_
; }

122 
	g´Ùeùed
:

123 
boŞ
 
P¬£
(
ab¦
::
İtiÚ®
<
¡d
::
¡ršg
> 
¡r_v®ue
è
ov”ride
 {

124 ià(
¡r_v®ue
) {

125 
ab¦
::
İtiÚ®
<
T
> 
v®ue
 = 
P¬£Ty³dP¬am‘”
<T>(*
¡r_v®ue
);

126 ià(
	gv®ue
 && (!
	glow”_lim™_
 || *v®u>ğ*
low”_lim™_
) &&

127 (!
uµ”_lim™_
 || *
v®ue
 <= *upper_limit_)) {

128 
v®ue_
 = *
v®ue
;

129  
	gŒue
;

132  
	gçl£
;

135 
	g´iv©e
:

136 
T
 
v®ue_
;

137 
	gab¦
::
İtiÚ®
<
T
> 
low”_lim™_
;

138 
	gab¦
::
İtiÚ®
<
T
> 
uµ”_lim™_
;

141 şas 
	cAb¡¿ùF›ldTrŸlEnum
 : 
public
 
F›ldTrŸlP¬am‘”IÁ”çû
 {

142 
public
:

143 
Ab¡¿ùF›ldTrŸlEnum
(
¡d
::
¡ršg
 
key
,

144 
deçuÉ_v®ue
,

145 
¡d
::
m­
<¡d::
¡ršg
, > 
m­pšg
);

146 ~
Ab¡¿ùF›ldTrŸlEnum
(è
	gov”ride
;

147 
Ab¡¿ùF›ldTrŸlEnum
(const AbstractFieldTrialEnum&);

149 
	g´Ùeùed
:

150 
boŞ
 
P¬£
(
ab¦
::
İtiÚ®
<
¡d
::
¡ršg
> 
¡r_v®ue
è
ov”ride
;

152 
	g´Ùeùed
:

153 
v®ue_
;

154 
	g¡d
::
m­
<
¡d
::
¡ršg
, > 
	g’um_m­pšg_
;

155 
	g¡d
::
£t
<> 
v®id_v®ues_
;

161 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

162 şas 
	cF›ldTrŸlEnum
 : 
public
 
Ab¡¿ùF›ldTrŸlEnum
 {

163 
public
:

164 
F›ldTrŸlEnum
(
¡d
::
¡ršg
 
key
,

165 
T
 
deçuÉ_v®ue
,

166 
¡d
::
m­
<¡d::
¡ršg
, 
T
> 
m­pšg
)

167 : 
Ab¡¿ùF›ldTrŸlEnum
(
key
,

168 
¡©ic_ÿ¡
<>(
deçuÉ_v®ue
),

169 
ToIÁM­
(
m­pšg
)) {}

170 
T
 
G‘
(ècÚ¡ {  
	g¡©ic_ÿ¡
<
	gT
>(
	gv®ue_
); }

171 
İ”©Ü
 
T
(ècÚ¡ {  
G‘
(); }

173 
	g´iv©e
:

174 
¡d
::
m­
<¡d::
¡ršg
, > 
ToIÁM­
(¡d::m­<¡d::¡ršg, 
T
> 
m­pšg
) {

175 
	g¡d
::
m­
<
¡d
::
¡ršg
, > 
	g»s
;

176 cÚ¡‡uto& 
	g™
 : 
m­pšg
)

177 
»s
[
™
.
fœ¡
] = 
¡©ic_ÿ¡
<>(™.
£cÚd
);

178  
	g»s
;

184 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

185 şas 
	cF›ldTrŸlO±iÚ®
 : 
public
 
F›ldTrŸlP¬am‘”IÁ”çû
 {

186 
public
:

187 
ex¶ic™
 
F›ldTrŸlO±iÚ®
(
¡d
::
¡ršg
 
key
)

188 : 
F›ldTrŸlP¬am‘”IÁ”çû
(
key
) {}

189 
F›ldTrŸlO±iÚ®
(
¡d
::
¡ršg
 
key
, 
ab¦
::
İtiÚ®
<
T
> 
deçuÉ_v®ue
)

190 : 
F›ldTrŸlP¬am‘”IÁ”çû
(
key
), 
v®ue_
(
deçuÉ_v®ue
) {}

191 
	gab¦
::
İtiÚ®
<
T
> 
G‘O±iÚ®
(ècÚ¡ {  
v®ue_
; }

192 cÚ¡ 
	gT
& 
V®ue
(ècÚ¡ {  
	gv®ue_
.
v®ue
(); }

193 cÚ¡ 
	gT
& 
	gİ”©Ü
*(ècÚ¡ {  
	gv®ue_
.
v®ue
(); }

194 cÚ¡ 
T
* 
	gİ”©Ü
->(ècÚ¡ {  &
	gv®ue_
.
v®ue
(); }

195 
ex¶ic™
 
İ”©Ü
 
boŞ
(ècÚ¡ {  
	gv®ue_
.
has_v®ue
(); }

197 
	g´Ùeùed
:

198 
boŞ
 
P¬£
(
ab¦
::
İtiÚ®
<
¡d
::
¡ršg
> 
¡r_v®ue
è
ov”ride
 {

199 ià(
¡r_v®ue
) {

200 
ab¦
::
İtiÚ®
<
T
> 
v®ue
 = 
P¬£Ty³dP¬am‘”
<T>(*
¡r_v®ue
);

201 ià(!
	gv®ue
.
has_v®ue
())

202  
	gçl£
;

203 
	gv®ue_
 = 
v®ue
.value();

205 
	gv®ue_
 = 
ab¦
::
nuÎİt
;

207  
	gŒue
;

210 
	g´iv©e
:

211 
ab¦
::
İtiÚ®
<
T
> 
v®ue_
;

217 şas 
	cF›ldTrŸlFÏg
 : 
public
 
F›ldTrŸlP¬am‘”IÁ”çû
 {

218 
public
:

219 
ex¶ic™
 
F›ldTrŸlFÏg
(
¡d
::
¡ršg
 
key
);

220 
F›ldTrŸlFÏg
(
¡d
::
¡ršg
 
key
, 
boŞ
 
deçuÉ_v®ue
);

221 
boŞ
 
G‘
() const;

222 
İ”©Ü
 
boŞ
() const;

224 
	g´Ùeùed
:

225 
boŞ
 
P¬£
(
ab¦
::
İtiÚ®
<
¡d
::
¡ršg
> 
¡r_v®ue
è
ov”ride
;

227 
	g´iv©e
:

228 
boŞ
 
v®ue_
;

231 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

232 
	gab¦
::
İtiÚ®
<
ab¦
::İtiÚ®<
T
>> 
	$P¬£O±iÚ®P¬am‘”
(
¡d
::
¡ršg
 
¡r
) {

233 ià(
¡r
.
	`em±y
())

234  
ab¦
::
İtiÚ®
<
T
>();

235 autØ
·r£d
 = 
P¬£Ty³dP¬am‘”
<
T
>(
¡r
);

236 ià(
·r£d
.
	`has_v®ue
())

237  
·r£d
;

238  
ab¦
::
nuÎİt
;

239 
	}
}

241 
	g‹m¶©e
 <>

242 
	gab¦
::
İtiÚ®
<
boŞ
> 
P¬£Ty³dP¬am‘”
<boŞ>(
¡d
::
¡ršg
 
¡r
);

243 
	g‹m¶©e
 <>

244 
	gab¦
::
İtiÚ®
<> 
P¬£Ty³dP¬am‘”
<>(
¡d
::
¡ršg
 
¡r
);

245 
	g‹m¶©e
 <>

246 
	gab¦
::
İtiÚ®
<> 
P¬£Ty³dP¬am‘”
<>(
¡d
::
¡ršg
 
¡r
);

247 
	g‹m¶©e
 <>

248 
	gab¦
::
İtiÚ®
<> 
P¬£Ty³dP¬am‘”
<>(
¡d
::
¡ršg
 
¡r
);

249 
	g‹m¶©e
 <>

250 
	gab¦
::
İtiÚ®
<
¡d
::
¡ršg
> 
P¬£Ty³dP¬am‘”
<¡d::¡ršg>(¡d::¡ršg 
¡r
);

252 
	g‹m¶©e
 <>

253 
	gab¦
::
İtiÚ®
<
ab¦
::İtiÚ®<
boŞ
>> 
P¬£Ty³dP¬am‘”
<absl::optional<bool>>(

254 
¡d
::
¡ršg
 
¡r
);

255 
	g‹m¶©e
 <>

256 
	gab¦
::
İtiÚ®
<
ab¦
::İtiÚ®<>> 
P¬£Ty³dP¬am‘”
<absl::optional<>>(

257 
¡d
::
¡ršg
 
¡r
);

258 
	g‹m¶©e
 <>

259 
	gab¦
::
İtiÚ®
<
ab¦
::optional<>>

260 
P¬£Ty³dP¬am‘”
<
ab¦
::
İtiÚ®
<>>(
¡d
::
¡ršg
 
¡r
);

261 
	g‹m¶©e
 <>

262 
	gab¦
::
İtiÚ®
<
ab¦
::optional<>>

263 
P¬£Ty³dP¬am‘”
<
ab¦
::
İtiÚ®
<>>(
¡d
::
¡ršg
 
¡r
);

266 
‹m¶©e
 
şass
 
F›ldTrŸlP¬am‘”
<
boŞ
>;

268 
‹m¶©e
 
şass
 
F›ldTrŸlP¬am‘”
<>;

270 
‹m¶©e
 
şass
 
F›ldTrŸlP¬am‘”
<>;

272 
‹m¶©e
 
şass
 
F›ldTrŸlP¬am‘”
<>;

274 
‹m¶©e
 
şass
 
F›ldTrŸlP¬am‘”
<
¡d
::
¡ršg
>;

276 
‹m¶©e
 
şass
 
F›ldTrŸlCÚ¡¿šed
<>;

277 
‹m¶©e
 
şass
 
F›ldTrŸlCÚ¡¿šed
<>;

278 
‹m¶©e
 
şass
 
F›ldTrŸlCÚ¡¿šed
<>;

280 
‹m¶©e
 
şass
 
F›ldTrŸlO±iÚ®
<>;

281 
‹m¶©e
 
şass
 
F›ldTrŸlO±iÚ®
<>;

282 
‹m¶©e
 
şass
 
F›ldTrŸlO±iÚ®
<>;

283 
‹m¶©e
 
şass
 
F›ldTrŸlO±iÚ®
<
boŞ
>;

284 
‹m¶©e
 
şass
 
F›ldTrŸlO±iÚ®
<
¡d
::
¡ršg
>;

	@experiments/field_trial_parser_unittest.cc

10 
	~"¹c_ba£/ex³rim’ts/f›ld_ŒŸl_·r£r.h
"

12 
	~"¹c_ba£/ex³rim’ts/f›ld_ŒŸl_li¡.h
"

13 
	~"¹c_ba£/gun™.h
"

14 
	~"sy¡em_w¿µ”s/šşude/f›ld_ŒŸl.h
"

15 
	~"‹¡/f›ld_ŒŸl.h
"

16 
	~"‹¡/gmock.h
"

18 
Çme¥aû
 
	gweb¹c
 {

19 
	gÇme¥aû
 {

20 cÚ¡ 
	gkDummyEx³rim’t
[] = "WebRTC-DummyExperiment";

22 
	sDummyEx³rim’t
 {

23 
F›ldTrŸlFÏg
 
	g’abËd
 = FieldTrialFlag("Enabled");

24 
	gF›ldTrŸlP¬am‘”
<> 
	gçùÜ
 = 
F›ldTrŸlP¬am‘”
<>("f", 0.5);

25 
	gF›ldTrŸlP¬am‘”
<> 
	g»Œ›s
 = 
F›ldTrŸlP¬am‘”
<>("r", 5);

26 
	gF›ldTrŸlP¬am‘”
<> 
	gsize
 = 
F›ldTrŸlP¬am‘”
<>("s", 3);

27 
	gF›ldTrŸlP¬am‘”
<
	gboŞ
> 
	gpšg
 = 
F›ldTrŸlP¬am‘”
<
boŞ
>("p", 0);

28 
	gF›ldTrŸlP¬am‘”
<
	g¡d
::
¡ršg
> 
hash
 =

29 
F›ldTrŸlP¬am‘”
<
¡d
::
¡ršg
>("h", "a80");

31 
ex¶ic™
 
DummyEx³rim’t
(
¡d
::
¡ršg
 
f›ld_ŒŸl
) {

32 
P¬£F›ldTrŸl
({&
’abËd
, &
çùÜ
, &
»Œ›s
, &
size
, &
pšg
, &
hash
},

33 
f›ld_ŒŸl
);

35 
DummyEx³rim’t
() {

36 
	g¡d
::
¡ršg
 
ŒŸl_¡ršg
 = 
f›ld_ŒŸl
::
FšdFuÎName
(
kDummyEx³rim’t
);

37 
P¬£F›ldTrŸl
({&
’abËd
, &
çùÜ
, &
»Œ›s
, &
size
, &
pšg
, &
hash
},

38 
ŒŸl_¡ršg
);

42 şas 
	cCu¡omEnum
 {

43 
	gkDeçuÉ
 = 0,

44 
	gkRed
 = 1,

45 
	gkBlue
 = 2,

50 
	$TEST
(
F›ldTrŸlP¬£rTe¡
, 
P¬£sV®idP¬am‘”s
) {

51 
DummyEx³rim’t
 
	`exp
("Enabled,f:-1.7,r:2,s:10,p:1,h:x7c");

52 
	`EXPECT_TRUE
(
exp
.
’abËd
.
	`G‘
());

53 
	`EXPECT_EQ
(
exp
.
çùÜ
.
	`G‘
(), -1.7);

54 
	`EXPECT_EQ
(
exp
.
»Œ›s
.
	`G‘
(), 2);

55 
	`EXPECT_EQ
(
exp
.
size
.
	`G‘
(), 10u);

56 
	`EXPECT_EQ
(
exp
.
pšg
.
	`G‘
(), 
Œue
);

57 
	`EXPECT_EQ
(
exp
.
hash
.
	`G‘
(), "x7c");

58 
	}
}

59 
	$TEST
(
F›ldTrŸlP¬£rTe¡
, 
In™ŸlizesFromF›ldTrŸl
) {

60 
‹¡
::
ScİedF›ldTrŸls
 
	`f›ld_ŒŸls
(

64 
DummyEx³rim’t
 
exp
;

65 
	`EXPECT_TRUE
(
exp
.
’abËd
.
	`G‘
());

66 
	`EXPECT_EQ
(
exp
.
çùÜ
.
	`G‘
(), -1.7);

67 
	`EXPECT_EQ
(
exp
.
»Œ›s
.
	`G‘
(), 2);

68 
	`EXPECT_EQ
(
exp
.
size
.
	`G‘
(), 10u);

69 
	`EXPECT_EQ
(
exp
.
pšg
.
	`G‘
(), 
Œue
);

70 
	`EXPECT_EQ
(
exp
.
hash
.
	`G‘
(), "x7c");

71 
	}
}

72 
	$TEST
(
F›ldTrŸlP¬£rTe¡
, 
U£sDeçuÉs
) {

73 
DummyEx³rim’t
 
	`exp
("");

74 
	`EXPECT_FALSE
(
exp
.
’abËd
.
	`G‘
());

75 
	`EXPECT_EQ
(
exp
.
çùÜ
.
	`G‘
(), 0.5);

76 
	`EXPECT_EQ
(
exp
.
»Œ›s
.
	`G‘
(), 5);

77 
	`EXPECT_EQ
(
exp
.
size
.
	`G‘
(), 3u);

78 
	`EXPECT_EQ
(
exp
.
pšg
.
	`G‘
(), 
çl£
);

79 
	`EXPECT_EQ
(
exp
.
hash
.
	`G‘
(), "a80");

80 
	}
}

81 
	$TEST
(
F›ldTrŸlP¬£rTe¡
, 
CªHªdËMixedIÅut
) {

82 
DummyEx³rim’t
 
	`exp
("p:true,h:,Enabled");

83 
	`EXPECT_TRUE
(
exp
.
’abËd
.
	`G‘
());

84 
	`EXPECT_EQ
(
exp
.
çùÜ
.
	`G‘
(), 0.5);

85 
	`EXPECT_EQ
(
exp
.
»Œ›s
.
	`G‘
(), 5);

86 
	`EXPECT_EQ
(
exp
.
size
.
	`G‘
(), 3u);

87 
	`EXPECT_EQ
(
exp
.
pšg
.
	`G‘
(), 
Œue
);

88 
	`EXPECT_EQ
(
exp
.
hash
.
	`G‘
(), "");

89 
	}
}

90 
	$TEST
(
F›ldTrŸlP¬£rTe¡
, 
P¬£sDoubËP¬am‘”
) {

91 
F›ldTrŸlP¬am‘”
<> 
	`doubË_·¿m
("f", 0.0);

92 
	`P¬£F›ldTrŸl
({&
doubË_·¿m
}, "f:45%");

93 
	`EXPECT_EQ
(
doubË_·¿m
.
	`G‘
(), 0.45);

94 
	`P¬£F›ldTrŸl
({&
doubË_·¿m
}, "f:34 %");

95 
	`EXPECT_EQ
(
doubË_·¿m
.
	`G‘
(), 0.34);

96 
	`P¬£F›ldTrŸl
({&
doubË_·¿m
}, "f:0.67");

97 
	`EXPECT_EQ
(
doubË_·¿m
.
	`G‘
(), 0.67);

98 
	}
}

99 
	$TEST
(
F›ldTrŸlP¬£rTe¡
, 
IgnÜesNewKey
) {

100 
DummyEx³rim’t
 
	`exp
("Disabled,r:-11,foo");

101 
	`EXPECT_FALSE
(
exp
.
’abËd
.
	`G‘
());

102 
	`EXPECT_EQ
(
exp
.
çùÜ
.
	`G‘
(), 0.5);

103 
	`EXPECT_EQ
(
exp
.
»Œ›s
.
	`G‘
(), -11);

104 
	}
}

105 
	$TEST
(
F›ldTrŸlP¬£rTe¡
, 
IgnÜesInv®id
) {

106 
DummyEx³rim’t
 
	`exp
("Enabled,f,p:,r:%,,s:-1,:foo,h");

107 
	`EXPECT_TRUE
(
exp
.
’abËd
.
	`G‘
());

108 
	`EXPECT_EQ
(
exp
.
çùÜ
.
	`G‘
(), 0.5);

109 
	`EXPECT_EQ
(
exp
.
»Œ›s
.
	`G‘
(), 5);

110 
	`EXPECT_EQ
(
exp
.
size
.
	`G‘
(), 3u);

111 
	`EXPECT_EQ
(
exp
.
pšg
.
	`G‘
(), 
çl£
);

112 
	`EXPECT_EQ
(
exp
.
hash
.
	`G‘
(), "a80");

113 
	}
}

114 
	$TEST
(
F›ldTrŸlP¬£rTe¡
, 
IgnÜesOutOfRªge
) {

115 
F›ldTrŸlCÚ¡¿šed
<> 
	`low
("low", 10, 
ab¦
::
nuÎİt
, 100);

116 
F›ldTrŸlCÚ¡¿šed
<> 
	`high
("high", 10, 5, 
ab¦
::
nuÎİt
);

117 
	`P¬£F›ldTrŸl
({&
low
, &
high
}, "low:1000,high:0");

118 
	`EXPECT_EQ
(
low
.
	`G‘
(), 10);

119 
	`EXPECT_EQ
(
high
.
	`G‘
(), 10);

120 
	`P¬£F›ldTrŸl
({&
low
, &
high
}, "low:inf,high:nan");

121 
	`EXPECT_EQ
(
low
.
	`G‘
(), 10);

122 
	`EXPECT_EQ
(
high
.
	`G‘
(), 10);

123 
	`P¬£F›ldTrŸl
({&
low
, &
high
}, "low:20,high:20");

124 
	`EXPECT_EQ
(
low
.
	`G‘
(), 20);

125 
	`EXPECT_EQ
(
high
.
	`G‘
(), 20);

127 
F›ldTrŸlCÚ¡¿šed
<> 
	`size
("size", 5, 1, 10);

128 
	`P¬£F›ldTrŸl
({&
size
}, "size:0");

129 
	`EXPECT_EQ
(
size
.
	`G‘
(), 5u);

130 
	}
}

131 
	$TEST
(
F›ldTrŸlP¬£rTe¡
, 
R—dsV®uesFromF›ldW™houtKey
) {

132 
F›ldTrŸlFÏg
 
	`’abËd
("Enabled");

133 
F›ldTrŸlP¬am‘”
<> 
	`»q
("", 10);

134 
	`P¬£F›ldTrŸl
({&
’abËd
, &
»q
}, "Enabled,20");

135 
	`EXPECT_EQ
(
»q
.
	`G‘
(), 20);

136 
	`P¬£F›ldTrŸl
({&
»q
}, "30");

137 
	`EXPECT_EQ
(
»q
.
	`G‘
(), 30);

138 
	}
}

139 
	$TEST
(
F›ldTrŸlP¬£rTe¡
, 
P¬£sO±iÚ®P¬am‘”s
) {

140 
F›ldTrŸlO±iÚ®
<> 
	`max_couÁ
("c", 
ab¦
::
nuÎİt
);

141 
	`P¬£F›ldTrŸl
({&
max_couÁ
}, "");

142 
	`EXPECT_FALSE
(
max_couÁ
.
	`G‘O±iÚ®
().
	`has_v®ue
());

143 
	`P¬£F›ldTrŸl
({&
max_couÁ
}, "c:10");

144 
	`EXPECT_EQ
(
max_couÁ
.
	`G‘O±iÚ®
().
	`v®ue
(), 10);

145 
	`P¬£F›ldTrŸl
({&
max_couÁ
}, "c");

146 
	`EXPECT_FALSE
(
max_couÁ
.
	`G‘O±iÚ®
().
	`has_v®ue
());

147 
	`P¬£F›ldTrŸl
({&
max_couÁ
}, "c:20");

148 
	`EXPECT_EQ
(
max_couÁ
.
	`G‘O±iÚ®
().
	`v®ue
(), 20);

149 
	`P¬£F›ldTrŸl
({&
max_couÁ
}, "c:");

150 
	`EXPECT_EQ
(
max_couÁ
.
	`G‘O±iÚ®
().
	`v®ue
(), 20);

152 
F›ldTrŸlO±iÚ®
<> 
	`max_size
("c", 
ab¦
::
nuÎİt
);

153 
	`P¬£F›ldTrŸl
({&
max_size
}, "");

154 
	`EXPECT_FALSE
(
max_size
.
	`G‘O±iÚ®
().
	`has_v®ue
());

155 
	`P¬£F›ldTrŸl
({&
max_size
}, "c:10");

156 
	`EXPECT_EQ
(
max_size
.
	`G‘O±iÚ®
().
	`v®ue
(), 10u);

157 
	`P¬£F›ldTrŸl
({&
max_size
}, "c");

158 
	`EXPECT_FALSE
(
max_size
.
	`G‘O±iÚ®
().
	`has_v®ue
());

159 
	`P¬£F›ldTrŸl
({&
max_size
}, "c:20");

160 
	`EXPECT_EQ
(
max_size
.
	`G‘O±iÚ®
().
	`v®ue
(), 20u);

162 
F›ldTrŸlO±iÚ®
<
¡d
::
¡ršg
> 
	`İtiÚ®_¡ršg
("s", std::
	`¡ršg
("ab"));

163 
	`P¬£F›ldTrŸl
({&
İtiÚ®_¡ršg
}, "s:");

164 
	`EXPECT_EQ
(
İtiÚ®_¡ršg
.
	`G‘O±iÚ®
().
	`v®ue
(), "");

165 
	`P¬£F›ldTrŸl
({&
İtiÚ®_¡ršg
}, "s");

166 
	`EXPECT_FALSE
(
İtiÚ®_¡ršg
.
	`G‘O±iÚ®
().
	`has_v®ue
());

167 
	}
}

168 
	$TEST
(
F›ldTrŸlP¬£rTe¡
, 
P¬£sCu¡omEnumP¬am‘”
) {

169 
F›ldTrŸlEnum
<
Cu¡omEnum
> 
	`my_’um
("e", Cu¡omEnum::
kDeçuÉ
,

170 {{"deçuÉ", 
Cu¡omEnum
::
kDeçuÉ
},

171 {"»d", 
Cu¡omEnum
::
kRed
},

172 {"blue", 
Cu¡omEnum
::
kBlue
}});

173 
	`P¬£F›ldTrŸl
({&
my_’um
}, "");

174 
	`EXPECT_EQ
(
my_’um
.
	`G‘
(), 
Cu¡omEnum
::
kDeçuÉ
);

175 
	`P¬£F›ldTrŸl
({&
my_’um
}, "e:red");

176 
	`EXPECT_EQ
(
my_’um
.
	`G‘
(), 
Cu¡omEnum
::
kRed
);

177 
	`P¬£F›ldTrŸl
({&
my_’um
}, "e:2");

178 
	`EXPECT_EQ
(
my_’um
.
	`G‘
(), 
Cu¡omEnum
::
kBlue
);

179 
	`P¬£F›ldTrŸl
({&
my_’um
}, "e:5");

180 
	`EXPECT_EQ
(
my_’um
.
	`G‘
(), 
Cu¡omEnum
::
kBlue
);

181 
	}
}

	@experiments/field_trial_units.cc

10 
	~"¹c_ba£/ex³rim’ts/f›ld_ŒŸl_un™s.h
"

12 
	~<¡dio.h
>

14 
	~<lim™s
>

15 
	~<¡ršg
>

17 
	~"ab¦/ty³s/İtiÚ®.h
"

20 
	#RTC_TRIAL_UNIT_LENGTH_STR
 "7"

	)

21 
	#RTC_TRIAL_UNIT_SIZE
 8

	)

23 
Çme¥aû
 
	gweb¹c
 {

24 
	gÇme¥aû
 {

26 
	sV®ueW™hUn™
 {

27 
	gv®ue
;

28 
	g¡d
::
¡ršg
 
un™
;

31 
	gab¦
::
İtiÚ®
<
V®ueW™hUn™
> 
P¬£V®ueW™hUn™
(
¡d
::
¡ršg
 
¡r
) {

32 ià(
¡r
 == "inf") {

33  
V®ueW™hUn™
{
¡d
::
num”ic_lim™s
<>::
šfš™y
(), ""};

34 } ià(
	g¡r
 == "-inf") {

35  
V®ueW™hUn™
{-
¡d
::
num”ic_lim™s
<>::
šfš™y
(), ""};

37 
	gdoubË_v®
;

38 
	gun™_ch¬
[
RTC_TRIAL_UNIT_SIZE
];

39 
	gun™_ch¬
[0] = 0;

40 ià(
ssÿnf
(
¡r
.
c_¡r
(), "%lf%" 
RTC_TRIAL_UNIT_LENGTH_STR
 "s", &
doubË_v®
,

41 
un™_ch¬
) >= 1) {

42  
V®ueW™hUn™
{
doubË_v®
, 
un™_ch¬
};

45  
	gab¦
::
nuÎİt
;

49 
	g‹m¶©e
 <>

50 
	gab¦
::
İtiÚ®
<
D©aR©e
> 
P¬£Ty³dP¬am‘”
<D©aR©e>(
¡d
::
¡ršg
 
¡r
) {

51 
ab¦
::
İtiÚ®
<
V®ueW™hUn™
> 
»suÉ
 = 
P¬£V®ueW™hUn™
(
¡r
);

52 ià(
	g»suÉ
) {

53 ià(
	g»suÉ
->
	gun™
.
em±y
() ||„esult->unit == "kbps") {

54  
D©aR©e
::
Kob™sP”Sec
(
»suÉ
->
v®ue
);

55 } ià(
	g»suÉ
->
	gun™
 == "bps") {

56  
D©aR©e
::
B™sP”Sec
(
»suÉ
->
v®ue
);

59  
	gab¦
::
nuÎİt
;

62 
	g‹m¶©e
 <>

63 
	gab¦
::
İtiÚ®
<
D©aSize
> 
P¬£Ty³dP¬am‘”
<D©aSize>(
¡d
::
¡ršg
 
¡r
) {

64 
ab¦
::
İtiÚ®
<
V®ueW™hUn™
> 
»suÉ
 = 
P¬£V®ueW™hUn™
(
¡r
);

65 ià(
	g»suÉ
) {

66 ià(
	g»suÉ
->
	gun™
.
em±y
() ||„esult->unit == "bytes")

67  
D©aSize
::
By‹s
(
»suÉ
->
v®ue
);

69  
	gab¦
::
nuÎİt
;

72 
	g‹m¶©e
 <>

73 
	gab¦
::
İtiÚ®
<
TimeD–
> 
P¬£Ty³dP¬am‘”
<TimeD–>(
¡d
::
¡ršg
 
¡r
) {

74 
ab¦
::
İtiÚ®
<
V®ueW™hUn™
> 
»suÉ
 = 
P¬£V®ueW™hUn™
(
¡r
);

75 ià(
	g»suÉ
) {

76 ià(
	g»suÉ
->
	gun™
 =ğ"s" || 
»suÉ
->
un™
 == "seconds") {

77  
TimeD–
::
SecÚds
(
»suÉ
->
v®ue
);

78 } ià(
	g»suÉ
->
	gun™
 == "us") {

79  
TimeD–
::
Miüos
(
»suÉ
->
v®ue
);

80 } ià(
	g»suÉ
->
	gun™
.
em±y
() ||„esult->unit == "ms") {

81  
TimeD–
::
Mlis
(
»suÉ
->
v®ue
);

84  
	gab¦
::
nuÎİt
;

87 
	g‹m¶©e
 <>

88 
	gab¦
::
İtiÚ®
<
ab¦
::İtiÚ®<
D©aR©e
>>

89 
P¬£Ty³dP¬am‘”
<
ab¦
::
İtiÚ®
<
D©aR©e
>>(
¡d
::
¡ršg
 
¡r
) {

90  
P¬£O±iÚ®P¬am‘”
<
D©aR©e
>(
¡r
);

92 
	g‹m¶©e
 <>

93 
	gab¦
::
İtiÚ®
<
ab¦
::İtiÚ®<
D©aSize
>>

94 
P¬£Ty³dP¬am‘”
<
ab¦
::
İtiÚ®
<
D©aSize
>>(
¡d
::
¡ršg
 
¡r
) {

95  
P¬£O±iÚ®P¬am‘”
<
D©aSize
>(
¡r
);

97 
	g‹m¶©e
 <>

98 
	gab¦
::
İtiÚ®
<
ab¦
::İtiÚ®<
TimeD–
>>

99 
P¬£Ty³dP¬am‘”
<
ab¦
::
İtiÚ®
<
TimeD–
>>(
¡d
::
¡ršg
 
¡r
) {

100  
P¬£O±iÚ®P¬am‘”
<
TimeD–
>(
¡r
);

103 
‹m¶©e
 
şass
 
	gF›ldTrŸlP¬am‘”
<
	gD©aR©e
>;

104 
‹m¶©e
 
şass
 
	gF›ldTrŸlP¬am‘”
<
	gD©aSize
>;

105 
‹m¶©e
 
şass
 
	gF›ldTrŸlP¬am‘”
<
	gTimeD–
>;

107 
‹m¶©e
 
şass
 
	gF›ldTrŸlCÚ¡¿šed
<
	gD©aR©e
>;

108 
‹m¶©e
 
şass
 
	gF›ldTrŸlCÚ¡¿šed
<
	gD©aSize
>;

109 
‹m¶©e
 
şass
 
	gF›ldTrŸlCÚ¡¿šed
<
	gTimeD–
>;

111 
‹m¶©e
 
şass
 
	gF›ldTrŸlO±iÚ®
<
	gD©aR©e
>;

112 
‹m¶©e
 
şass
 
	gF›ldTrŸlO±iÚ®
<
	gD©aSize
>;

113 
‹m¶©e
 
şass
 
	gF›ldTrŸlO±iÚ®
<
	gTimeD–
>;

	@experiments/field_trial_units.h

10 #iâdeà
RTC_BASE_EXPERIMENTS_FIELD_TRIAL_UNITS_H_


11 
	#RTC_BASE_EXPERIMENTS_FIELD_TRIAL_UNITS_H_


	)

13 
	~"­i/un™s/d©a_¿‹.h
"

14 
	~"­i/un™s/d©a_size.h
"

15 
	~"­i/un™s/time_d–.h
"

16 
	~"¹c_ba£/ex³rim’ts/f›ld_ŒŸl_·r£r.h
"

18 
Çme¥aû
 
	gweb¹c
 {

20 
	g‹m¶©e
 <>

21 
	gab¦
::
İtiÚ®
<
D©aR©e
> 
P¬£Ty³dP¬am‘”
<D©aR©e>(
¡d
::
¡ršg
 
¡r
);

22 
	g‹m¶©e
 <>

23 
	gab¦
::
İtiÚ®
<
D©aSize
> 
P¬£Ty³dP¬am‘”
<D©aSize>(
¡d
::
¡ršg
 
¡r
);

24 
	g‹m¶©e
 <>

25 
	gab¦
::
İtiÚ®
<
TimeD–
> 
P¬£Ty³dP¬am‘”
<TimeD–>(
¡d
::
¡ršg
 
¡r
);

27 
‹m¶©e
 
şass
 
F›ldTrŸlP¬am‘”
<
D©aR©e
>;

28 
‹m¶©e
 
şass
 
F›ldTrŸlP¬am‘”
<
D©aSize
>;

29 
‹m¶©e
 
şass
 
F›ldTrŸlP¬am‘”
<
TimeD–
>;

31 
‹m¶©e
 
şass
 
F›ldTrŸlCÚ¡¿šed
<
D©aR©e
>;

32 
‹m¶©e
 
şass
 
F›ldTrŸlCÚ¡¿šed
<
D©aSize
>;

33 
‹m¶©e
 
şass
 
F›ldTrŸlCÚ¡¿šed
<
TimeD–
>;

35 
‹m¶©e
 
şass
 
F›ldTrŸlO±iÚ®
<
D©aR©e
>;

36 
‹m¶©e
 
şass
 
F›ldTrŸlO±iÚ®
<
D©aSize
>;

37 
‹m¶©e
 
şass
 
F›ldTrŸlO±iÚ®
<
TimeD–
>;

	@experiments/field_trial_units_unittest.cc

10 
	~"¹c_ba£/ex³rim’ts/f›ld_ŒŸl_un™s.h
"

12 
	~<¡ršg
>

14 
	~"ab¦/ty³s/İtiÚ®.h
"

15 
	~"¹c_ba£/ex³rim’ts/f›ld_ŒŸl_·r£r.h
"

16 
	~"‹¡/g‹¡.h
"

18 
Çme¥aû
 
	gweb¹c
 {

19 
	gÇme¥aû
 {

20 
	sDummyEx³rim’t
 {

21 
	gF›ldTrŸlP¬am‘”
<
	gD©aR©e
> 
	grg‘_¿‹
 =

22 
F›ldTrŸlP¬am‘”
<
D©aR©e
>("t", 
	gD©aR©e
::
Kob™sP”Sec
(100));

23 
	gF›ldTrŸlP¬am‘”
<
	gTimeD–
> 
	g³riod
 =

24 
F›ldTrŸlP¬am‘”
<
TimeD–
>("p", 
	gTimeD–
::
Mlis
(100));

25 
	gF›ldTrŸlO±iÚ®
<
	gD©aSize
> 
	gmax_bufãr
 =

26 
F›ldTrŸlO±iÚ®
<
D©aSize
>("b", 
	gab¦
::
nuÎİt
);

28 
ex¶ic™
 
DummyEx³rim’t
(
¡d
::
¡ršg
 
f›ld_ŒŸl
) {

29 
P¬£F›ldTrŸl
({&
rg‘_¿‹
, &
max_bufãr
, &
³riod
}, 
f›ld_ŒŸl
);

34 
TEST
(
F›ldTrŸlP¬£rUn™sTe¡
, 
F®lsBackToDeçuÉs
) {

35 
DummyEx³rim’t
 
exp
("");

36 
EXPECT_EQ
(
exp
.
rg‘_¿‹
.
G‘
(), 
D©aR©e
::
Kob™sP”Sec
(100));

37 
EXPECT_FALSE
(
exp
.
max_bufãr
.
G‘O±iÚ®
().
has_v®ue
());

38 
EXPECT_EQ
(
exp
.
³riod
.
G‘
(), 
TimeD–
::
Mlis
(100));

40 
TEST
(
F›ldTrŸlP¬£rUn™sTe¡
, 
P¬£sUn™P¬am‘”s
) {

41 
DummyEx³rim’t
 
exp
("t:300kbps,b:5bytes,p:300ms");

42 
EXPECT_EQ
(
exp
.
rg‘_¿‹
.
G‘
(), 
D©aR©e
::
Kob™sP”Sec
(300));

43 
EXPECT_EQ
(*
exp
.
max_bufãr
.
G‘O±iÚ®
(), 
D©aSize
::
By‹s
(5));

44 
EXPECT_EQ
(
exp
.
³riod
.
G‘
(), 
TimeD–
::
Mlis
(300));

46 
TEST
(
F›ldTrŸlP¬£rUn™sTe¡
, 
P¬£sDeçuÉUn™P¬am‘”s
) {

47 
DummyEx³rim’t
 
exp
("t:300,b:5,p:300");

48 
EXPECT_EQ
(
exp
.
rg‘_¿‹
.
G‘
(), 
D©aR©e
::
Kob™sP”Sec
(300));

49 
EXPECT_EQ
(*
exp
.
max_bufãr
.
G‘O±iÚ®
(), 
D©aSize
::
By‹s
(5));

50 
EXPECT_EQ
(
exp
.
³riod
.
G‘
(), 
TimeD–
::
Mlis
(300));

52 
TEST
(
F›ldTrŸlP¬£rUn™sTe¡
, 
P¬£sInfš™yP¬am‘”
) {

53 
DummyEx³rim’t
 
exp
("t:inf,p:inf");

54 
EXPECT_EQ
(
exp
.
rg‘_¿‹
.
G‘
(), 
D©aR©e
::
Infš™y
());

55 
EXPECT_EQ
(
exp
.
³riod
.
G‘
(), 
TimeD–
::
PlusInfš™y
());

57 
TEST
(
F›ldTrŸlP¬£rUn™sTe¡
, 
P¬£sOth”Un™P¬am‘”s
) {

58 
DummyEx³rim’t
 
exp
("t:300bps,p:0.3 seconds,b:8 bytes");

59 
EXPECT_EQ
(
exp
.
rg‘_¿‹
.
G‘
(), 
D©aR©e
::
B™sP”Sec
(300));

60 
EXPECT_EQ
(*
exp
.
max_bufãr
.
G‘O±iÚ®
(), 
D©aSize
::
By‹s
(8));

61 
EXPECT_EQ
(
exp
.
³riod
.
G‘
(), 
TimeD–
::
Mlis
(300));

63 
TEST
(
F›ldTrŸlP¬£rUn™sTe¡
, 
IgnÜesOutOfRªge
) {

64 
	gF›ldTrŸlCÚ¡¿šed
<
	gD©aR©e
> 
¿‹
("r", 
D©aR©e
::
Kob™sP”Sec
(30),

65 
D©aR©e
::
Kob™sP”Sec
(10),

66 
D©aR©e
::
Kob™sP”Sec
(100));

67 
	gF›ldTrŸlCÚ¡¿šed
<
	gTimeD–
> 
d–
("d", 
TimeD–
::
Mlis
(30),

68 
TimeD–
::
Mlis
(10),

69 
TimeD–
::
Mlis
(100));

70 
	gF›ldTrŸlCÚ¡¿šed
<
	gD©aSize
> 
size
(

71 "s", 
D©aSize
::
By‹s
(30), DataSize::Bytes(10), DataSize::Bytes(100));

72 
P¬£F›ldTrŸl
({&
¿‹
, &
d–
, &
size
}, "r:0,d:0,s:0");

73 
EXPECT_EQ
(
¿‹
->
kbps
(), 30);

74 
EXPECT_EQ
(
d–
->
ms
(), 30);

75 
EXPECT_EQ
(
size
->
by‹s
(), 30);

76 
P¬£F›ldTrŸl
({&
¿‹
, &
d–
, &
size
}, "r:300,d:300,s:300");

77 
EXPECT_EQ
(
¿‹
->
kbps
(), 30);

78 
EXPECT_EQ
(
d–
->
ms
(), 30);

79 
EXPECT_EQ
(
size
->
by‹s
(), 30);

80 
P¬£F›ldTrŸl
({&
¿‹
, &
d–
, &
size
}, "r:50,d:50,s:50");

81 
EXPECT_EQ
(
¿‹
->
kbps
(), 50);

82 
EXPECT_EQ
(
d–
->
ms
(), 50);

83 
EXPECT_EQ
(
size
->
by‹s
(), 50);

	@experiments/jitter_upper_bound_experiment.cc

11 
	~"¹c_ba£/ex³rim’ts/j™‹r_uµ”_bound_ex³rim’t.h
"

13 
	~<¡dio.h
>

15 
	~<¡ršg
>

17 
	~"¹c_ba£/loggšg.h
"

18 
	~"sy¡em_w¿µ”s/šşude/f›ld_ŒŸl.h
"

20 
Çme¥aû
 
	gweb¹c
 {

22 cÚ¡ 
	gJ™‹rUµ”BoundEx³rim’t
::
kJ™‹rUµ”BoundEx³rim’tName
[] =

25 
	gab¦
::
İtiÚ®
<> 
J™‹rUµ”BoundEx³rim’t
::
G‘Uµ”BoundSigmas
() {

26 ià(!
f›ld_ŒŸl
::
IsEÇbËd
(
kJ™‹rUµ”BoundEx³rim’tName
)) {

27  
ab¦
::
nuÎİt
;

29 cÚ¡ 
	g¡d
::
¡ršg
 
group
 =

30 
web¹c
::
f›ld_ŒŸl
::
FšdFuÎName
(
kJ™‹rUµ”BoundEx³rim’tName
);

32 
	guµ”_bound_sigmas
;

33 ià(
ssÿnf
(
group
.
c_¡r
(), "EÇbËd-%lf", &
uµ”_bound_sigmas
) != 1) {

34 
RTC_LOG
(
LS_WARNING
) << "Invalid‚umber of…arameters…rovided.";

35  
	gab¦
::
nuÎİt
;

38 ià(
	guµ”_bound_sigmas
 < 0) {

39 
RTC_LOG
(
LS_WARNING
) << "Invalid jitter upper bound sigmas, must be >= 0.0: "

40 << 
	guµ”_bound_sigmas
;

41  
	gab¦
::
nuÎİt
;

44  
	guµ”_bound_sigmas
;

	@experiments/jitter_upper_bound_experiment.h

11 #iâdeà
RTC_BASE_EXPERIMENTS_JITTER_UPPER_BOUND_EXPERIMENT_H_


12 
	#RTC_BASE_EXPERIMENTS_JITTER_UPPER_BOUND_EXPERIMENT_H_


	)

14 
	~"ab¦/ty³s/İtiÚ®.h
"

16 
Çme¥aû
 
	gweb¹c
 {

18 şas 
	cJ™‹rUµ”BoundEx³rim’t
 {

19 
	gpublic
:

24 
ab¦
::
İtiÚ®
<> 
G‘Uµ”BoundSigmas
();

26 cÚ¡ 
	gkJ™‹rUµ”BoundEx³rim’tName
[];

	@experiments/keyframe_interval_settings.cc

11 
	~"¹c_ba£/ex³rim’ts/keyäame_š‹rv®_£‰šgs.h
"

13 
	~"­i/Œª¥Üt/f›ld_ŒŸl_ba£d_cÚfig.h
"

15 
Çme¥aû
 
	gweb¹c
 {

17 
	gÇme¥aû
 {

19 
cÚ¡ex´
 
	gkF›ldTrŸlName
[] = "WebRTC-KeyframeInterval";

23 
	gKeyäameIÁ”v®S‘tšgs
::
KeyäameIÁ”v®S‘tšgs
(

24 cÚ¡ 
WebRtcKeyV®ueCÚfig
* cÚ¡ 
key_v®ue_cÚfig
)

25 : 
mš_keyäame_£nd_š‹rv®_ms_
("min_keyframe_send_interval_ms"),

26 
max_wa™_fÜ_keyäame_ms_
("max_wait_for_keyframe_ms"),

27 
max_wa™_fÜ_äame_ms_
("max_wait_for_frame_ms") {

28 
P¬£F›ldTrŸl
({&
mš_keyäame_£nd_š‹rv®_ms_
, &
max_wa™_fÜ_keyäame_ms_
,

29 &
max_wa™_fÜ_äame_ms_
},

30 
key_v®ue_cÚfig
->
Lookup
(
kF›ldTrŸlName
));

33 
KeyäameIÁ”v®S‘tšgs
 
	gKeyäameIÁ”v®S‘tšgs
::
P¬£FromF›ldTrŸls
() {

34 
F›ldTrŸlBa£dCÚfig
 
f›ld_ŒŸl_cÚfig
;

35  
KeyäameIÁ”v®S‘tšgs
(&
f›ld_ŒŸl_cÚfig
);

38 
	gab¦
::
İtiÚ®
<> 
KeyäameIÁ”v®S‘tšgs
::
MšKeyäameS’dIÁ”v®Ms
()

40  
mš_keyäame_£nd_š‹rv®_ms_
.
G‘O±iÚ®
();

43 
	gab¦
::
İtiÚ®
<> 
KeyäameIÁ”v®S‘tšgs
::
MaxWa™FÜKeyäameMs
() const {

44  
max_wa™_fÜ_keyäame_ms_
.
G‘O±iÚ®
();

47 
	gab¦
::
İtiÚ®
<> 
KeyäameIÁ”v®S‘tšgs
::
MaxWa™FÜF¿meMs
() const {

48  
max_wa™_fÜ_äame_ms_
.
G‘O±iÚ®
();

	@experiments/keyframe_interval_settings.h

11 #iâdeà
RTC_BASE_EXPERIMENTS_KEYFRAME_INTERVAL_SETTINGS_H_


12 
	#RTC_BASE_EXPERIMENTS_KEYFRAME_INTERVAL_SETTINGS_H_


	)

14 
	~"ab¦/ty³s/İtiÚ®.h
"

15 
	~"­i/Œª¥Üt/web¹c_key_v®ue_cÚfig.h
"

16 
	~"¹c_ba£/ex³rim’ts/f›ld_ŒŸl_·r£r.h
"

18 
Çme¥aû
 
	gweb¹c
 {

20 şas 
	cKeyäameIÁ”v®S‘tšgs
 
	gfš®
 {

21 
	gpublic
:

22 
KeyäameIÁ”v®S‘tšgs
 
P¬£FromF›ldTrŸls
();

26 
	gab¦
::
İtiÚ®
<> 
MšKeyäameS’dIÁ”v®Ms
() const;

34 
	gab¦
::
İtiÚ®
<> 
MaxWa™FÜKeyäameMs
() const;

35 
	gab¦
::
İtiÚ®
<> 
MaxWa™FÜF¿meMs
() const;

37 
	g´iv©e
:

38 
ex¶ic™
 
KeyäameIÁ”v®S‘tšgs
(

39 cÚ¡ 
WebRtcKeyV®ueCÚfig
* 
key_v®ue_cÚfig
);

41 
	gF›ldTrŸlO±iÚ®
<> 
	gmš_keyäame_£nd_š‹rv®_ms_
;

42 
	gF›ldTrŸlO±iÚ®
<> 
	gmax_wa™_fÜ_keyäame_ms_
;

43 
	gF›ldTrŸlO±iÚ®
<> 
	gmax_wa™_fÜ_äame_ms_
;

	@experiments/keyframe_interval_settings_unittest.cc

11 
	~"¹c_ba£/ex³rim’ts/keyäame_š‹rv®_£‰šgs.h
"

13 
	~"‹¡/f›ld_ŒŸl.h
"

14 
	~"‹¡/g‹¡.h
"

16 
Çme¥aû
 
	gweb¹c
 {

17 
	gÇme¥aû
 {

19 
TEST
(
KeyäameIÁ”v®S‘tšgsTe¡
, 
P¬£sMšKeyäameS’dIÁ”v®Ms
) {

20 
EXPECT_FALSE
(
KeyäameIÁ”v®S‘tšgs
::
P¬£FromF›ldTrŸls
()

21 .
MšKeyäameS’dIÁ”v®Ms
());

23 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

25 
EXPECT_EQ
(
KeyäameIÁ”v®S‘tšgs
::
P¬£FromF›ldTrŸls
()

26 .
MšKeyäameS’dIÁ”v®Ms
(),

30 
TEST
(
KeyäameIÁ”v®S‘tšgsTe¡
, 
P¬£sMaxWa™FÜKeyäameMs
) {

31 
EXPECT_FALSE
(

32 
KeyäameIÁ”v®S‘tšgs
::
P¬£FromF›ldTrŸls
().
MaxWa™FÜKeyäameMs
());

34 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

36 
EXPECT_EQ
(

37 
KeyäameIÁ”v®S‘tšgs
::
P¬£FromF›ldTrŸls
().
MaxWa™FÜKeyäameMs
(),

41 
TEST
(
KeyäameIÁ”v®S‘tšgsTe¡
, 
P¬£sMaxWa™FÜF¿meMs
) {

42 
EXPECT_FALSE
(

43 
KeyäameIÁ”v®S‘tšgs
::
P¬£FromF›ldTrŸls
().
MaxWa™FÜF¿meMs
());

45 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

47 
EXPECT_EQ
(

48 
KeyäameIÁ”v®S‘tšgs
::
P¬£FromF›ldTrŸls
().
MaxWa™FÜF¿meMs
(),

52 
TEST
(
KeyäameIÁ”v®S‘tšgsTe¡
, 
P¬£sAÎV®ues
) {

53 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

58 
EXPECT_EQ
(
KeyäameIÁ”v®S‘tšgs
::
P¬£FromF›ldTrŸls
()

59 .
MšKeyäameS’dIÁ”v®Ms
(),

61 
EXPECT_EQ
(

62 
KeyäameIÁ”v®S‘tšgs
::
P¬£FromF›ldTrŸls
().
MaxWa™FÜKeyäameMs
(),

64 
EXPECT_EQ
(

65 
KeyäameIÁ”v®S‘tšgs
::
P¬£FromF›ldTrŸls
().
MaxWa™FÜF¿meMs
(),

69 
TEST
(
KeyäameIÁ”v®S‘tšgsTe¡
, 
DÛsNÙP¬£AÎV®uesWh’IncÜ»ùlyS‘
) {

70 
EXPECT_FALSE
(

71 
KeyäameIÁ”v®S‘tšgs
::
P¬£FromF›ldTrŸls
().
MaxWa™FÜF¿meMs
());

73 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

78 
EXPECT_FALSE
(
KeyäameIÁ”v®S‘tšgs
::
P¬£FromF›ldTrŸls
()

79 .
MšKeyäameS’dIÁ”v®Ms
());

80 
EXPECT_FALSE
(

81 
KeyäameIÁ”v®S‘tšgs
::
P¬£FromF›ldTrŸls
().
MaxWa™FÜKeyäameMs
());

82 
EXPECT_FALSE
(

83 
KeyäameIÁ”v®S‘tšgs
::
P¬£FromF›ldTrŸls
().
MaxWa™FÜF¿meMs
());

	@experiments/min_video_bitrate_experiment.cc

11 
	~"¹c_ba£/ex³rim’ts/mš_video_b™¿‹_ex³rim’t.h
"

13 
	~<¡ršg
>

15 
	~"¹c_ba£/checks.h
"

16 
	~"¹c_ba£/ex³rim’ts/f›ld_ŒŸl_·r£r.h
"

17 
	~"¹c_ba£/loggšg.h
"

18 
	~"sy¡em_w¿µ”s/šşude/f›ld_ŒŸl.h
"

20 
Çme¥aû
 
	gweb¹c
 {

22 cÚ¡ 
	gkDeçuÉMšVideoB™¿‹Bps
 = 30000;

24 
	gÇme¥aû
 {

25 cÚ¡ 
	gkFÜûdF®lbackF›ldTrŸl
[] =

27 cÚ¡ 
	gkMšVideoB™¿‹Ex³rim’t
[] = "WebRTC-Video-MinVideoBitrate";

29 
	gab¦
::
İtiÚ®
<> 
G‘F®lbackMšBpsFromF›ldTrŸl
(
VideoCodecTy³
 
ty³
) {

30 ià(
ty³
 !ğ
kVideoCodecVP8
) {

31  
ab¦
::
nuÎİt
;

34 ià(!
	gweb¹c
::
f›ld_ŒŸl
::
IsEÇbËd
(
kFÜûdF®lbackF›ldTrŸl
)) {

35  
ab¦
::
nuÎİt
;

38 cÚ¡ 
	g¡d
::
¡ršg
 
group
 =

39 
web¹c
::
f›ld_ŒŸl
::
FšdFuÎName
(
kFÜûdF®lbackF›ldTrŸl
);

40 ià(
	ggroup
.
em±y
()) {

41  
	gab¦
::
nuÎİt
;

44 
	gmš_pix–s
;

45 
	gmax_pix–s
;

46 
	gmš_bps
;

47 ià(
ssÿnf
(
group
.
c_¡r
(), "EÇbËd-%d,%d,%d", &
mš_pix–s
, &
max_pix–s
,

48 &
mš_bps
) != 3) {

49  
ab¦
::
nuÎİt
;

52 ià(
	gmš_bps
 <= 0) {

53  
ab¦
::
nuÎİt
;

56  
	gmš_bps
;

60 
	gab¦
::
İtiÚ®
<
D©aR©e
> 
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
 
ty³
) {

61 cÚ¡ 
ab¦
::
İtiÚ®
<> 
çÎback_mš_b™¿‹_bps
 =

62 
G‘F®lbackMšBpsFromF›ldTrŸl
(
ty³
);

63 ià(
	gçÎback_mš_b™¿‹_bps
) {

64  
	gD©aR©e
::
B™sP”Sec
(*
çÎback_mš_b™¿‹_bps
);

67 ià(
	gweb¹c
::
f›ld_ŒŸl
::
IsEÇbËd
(
kMšVideoB™¿‹Ex³rim’t
)) {

68 
web¹c
::
F›ldTrŸlFÏg
 
’abËd
("Enabled");

72 
	gweb¹c
::
F›ldTrŸlO±iÚ®
<
web¹c
::
D©aR©e
> 
mš_video_b™¿‹
("br");

75 
	gweb¹c
::
F›ldTrŸlO±iÚ®
<
web¹c
::
D©aR©e
> 
mš_b™¿‹_vp8
("vp8_br");

76 
	gweb¹c
::
F›ldTrŸlO±iÚ®
<
web¹c
::
D©aR©e
> 
mš_b™¿‹_vp9
("vp9_br");

77 
	gweb¹c
::
F›ldTrŸlO±iÚ®
<
web¹c
::
D©aR©e
> 
mš_b™¿‹_av1
("av1_br");

78 
	gweb¹c
::
F›ldTrŸlO±iÚ®
<
web¹c
::
D©aR©e
> 
mš_b™¿‹_h264
("h264_br");

80 
	gweb¹c
::
P¬£F›ldTrŸl
(

81 {&
’abËd
, &
mš_video_b™¿‹
, &
mš_b™¿‹_vp8
, &
mš_b™¿‹_vp9
,

82 &
mš_b™¿‹_av1
, &
mš_b™¿‹_h264
},

83 
web¹c
::
f›ld_ŒŸl
::
FšdFuÎName
(
kMšVideoB™¿‹Ex³rim’t
));

85 ià(
	gmš_video_b™¿‹
) {

86 ià(
	gmš_b™¿‹_vp8
 || 
	gmš_b™¿‹_vp9
 || 
	gmš_b™¿‹_av1
 ||

87 
	gmš_b™¿‹_h264
) {

89 
RTC_LOG
(
LS_WARNING
) << "Self-contradictoryƒxperiment config.";

91  *
	gmš_video_b™¿‹
;

94 
	gty³
) {

95 
	gkVideoCodecVP8
:

96  
mš_b™¿‹_vp8
.
G‘O±iÚ®
();

97 
	gkVideoCodecVP9
:

98  
mš_b™¿‹_vp9
.
G‘O±iÚ®
();

99 
	gkVideoCodecAV1
:

100  
mš_b™¿‹_av1
.
G‘O±iÚ®
();

101 
	gkVideoCodecH264
:

102  
mš_b™¿‹_h264
.
G‘O±iÚ®
();

103 
	gkVideoCodecG’”ic
:

104 
kVideoCodecMuÉËx
:

105  
ab¦
::
nuÎİt
;

108 
RTC_NOTREACHED
();

111  
	gab¦
::
nuÎİt
;

	@experiments/min_video_bitrate_experiment.h

11 #iâdeà
RTC_BASE_EXPERIMENTS_MIN_VIDEO_BITRATE_EXPERIMENT_H_


12 
	#RTC_BASE_EXPERIMENTS_MIN_VIDEO_BITRATE_EXPERIMENT_H_


	)

14 
	~"ab¦/ty³s/İtiÚ®.h
"

15 
	~"­i/un™s/d©a_¿‹.h
"

16 
	~"­i/video/video_codec_ty³.h
"

18 
Çme¥aû
 
	gweb¹c
 {

20 cÚ¡ 
kDeçuÉMšVideoB™¿‹Bps
;

24 
	gab¦
::
İtiÚ®
<
D©aR©e
> 
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
 
ty³
);

	@experiments/min_video_bitrate_experiment_unittest.cc

11 
	~"¹c_ba£/ex³rim’ts/mš_video_b™¿‹_ex³rim’t.h
"

13 
	~"ab¦/ty³s/İtiÚ®.h
"

14 
	~"­i/un™s/d©a_¿‹.h
"

15 
	~"­i/video/video_codec_ty³.h
"

16 
	~"‹¡/f›ld_ŒŸl.h
"

17 
	~"‹¡/g‹¡.h
"

19 
Çme¥aû
 
	gweb¹c
 {

20 
	gÇme¥aû
 {

22 
TEST
(
G‘Ex³rim’lMšVideoB™¿‹Te¡
,

23 
NuÎİtFÜAÎCodecsIfF›ldTrŸlUndefšed
) {

24 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
("");

26 
EXPECT_EQ
(
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecG’”ic
),

27 
ab¦
::
nuÎİt
);

28 
EXPECT_EQ
(
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecVP8
),

29 
ab¦
::
nuÎİt
);

30 
EXPECT_EQ
(
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecVP9
),

31 
ab¦
::
nuÎİt
);

32 
EXPECT_EQ
(
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecH264
),

33 
ab¦
::
nuÎİt
);

34 
EXPECT_EQ
(

35 
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecMuÉËx
),

36 
ab¦
::
nuÎİt
);

39 
TEST
(
G‘Ex³rim’lMšVideoB™¿‹Te¡
,

40 
NuÎİtFÜAÎCodecsIfF›ldTrŸlDi§bËd
) {

41 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

44 
EXPECT_EQ
(
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecG’”ic
),

45 
ab¦
::
nuÎİt
);

46 
EXPECT_EQ
(
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecVP8
),

47 
ab¦
::
nuÎİt
);

48 
EXPECT_EQ
(
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecVP9
),

49 
ab¦
::
nuÎİt
);

50 
EXPECT_EQ
(
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecH264
),

51 
ab¦
::
nuÎİt
);

52 
EXPECT_EQ
(

53 
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecMuÉËx
),

54 
ab¦
::
nuÎİt
);

57 
TEST
(
G‘Ex³rim’lMšVideoB™¿‹Te¡
, 
BrFÜAÎCodecsIfDefšed
) {

58 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

61 
EXPECT_EQ
(
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecG’”ic
),

62 
ab¦
::
make_İtiÚ®
(
D©aR©e
::
Kob™sP”Sec
(123)));

63 
EXPECT_EQ
(
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecVP8
),

64 
ab¦
::
make_İtiÚ®
(
D©aR©e
::
Kob™sP”Sec
(123)));

65 
EXPECT_EQ
(
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecVP9
),

66 
ab¦
::
make_İtiÚ®
(
D©aR©e
::
Kob™sP”Sec
(123)));

67 
EXPECT_EQ
(
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecH264
),

68 
ab¦
::
make_İtiÚ®
(
D©aR©e
::
Kob™sP”Sec
(123)));

69 
EXPECT_EQ
(

70 
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecMuÉËx
),

71 
ab¦
::
make_İtiÚ®
(
D©aR©e
::
Kob™sP”Sec
(123)));

74 
TEST
(
G‘Ex³rim’lMšVideoB™¿‹Te¡
, 
BrTrumpsS³cificCodecCÚfigs
) {

75 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

79 
EXPECT_EQ
(
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecG’”ic
),

80 
ab¦
::
make_İtiÚ®
(
D©aR©e
::
Kob™sP”Sec
(123)));

81 
EXPECT_EQ
(
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecVP8
),

82 
ab¦
::
make_İtiÚ®
(
D©aR©e
::
Kob™sP”Sec
(123)));

83 
EXPECT_EQ
(
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecVP9
),

84 
ab¦
::
make_İtiÚ®
(
D©aR©e
::
Kob™sP”Sec
(123)));

85 
EXPECT_EQ
(
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecH264
),

86 
ab¦
::
make_İtiÚ®
(
D©aR©e
::
Kob™sP”Sec
(123)));

87 
EXPECT_EQ
(

88 
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecMuÉËx
),

89 
ab¦
::
make_İtiÚ®
(
D©aR©e
::
Kob™sP”Sec
(123)));

92 
TEST
(
G‘Ex³rim’lMšVideoB™¿‹Te¡
,

93 
S³cificCodecCÚfigsIgnÜedIfExpDi§bËd
) {

94 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

98 
EXPECT_EQ
(
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecG’”ic
),

99 
ab¦
::
nuÎİt
);

100 
EXPECT_EQ
(
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecVP8
),

101 
ab¦
::
nuÎİt
);

102 
EXPECT_EQ
(
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecVP9
),

103 
ab¦
::
nuÎİt
);

104 
EXPECT_EQ
(
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecH264
),

105 
ab¦
::
nuÎİt
);

106 
EXPECT_EQ
(

107 
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecMuÉËx
),

108 
ab¦
::
nuÎİt
);

111 
TEST
(
G‘Ex³rim’lMšVideoB™¿‹Te¡
, 
S³cificCodecCÚfigsU£dIfExpEÇbËd
) {

112 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

116 
EXPECT_EQ
(
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecG’”ic
),

117 
ab¦
::
nuÎİt
);

118 
EXPECT_EQ
(
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecVP8
),

119 
ab¦
::
make_İtiÚ®
(
D©aR©e
::
Kob™sP”Sec
(100)));

120 
EXPECT_EQ
(
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecVP9
),

121 
ab¦
::
make_İtiÚ®
(
D©aR©e
::
Kob™sP”Sec
(200)));

122 
EXPECT_EQ
(
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecH264
),

123 
ab¦
::
make_İtiÚ®
(
D©aR©e
::
Kob™sP”Sec
(300)));

124 
EXPECT_EQ
(

125 
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecMuÉËx
),

126 
ab¦
::
nuÎİt
);

129 
TEST
(
G‘Ex³rim’lMšVideoB™¿‹Te¡
,

130 
Vp8B™¿‹V®ueTak’FromF®lbackIfAvaabË
) {

131 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

137 
EXPECT_EQ
(
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecVP8
),

138 
ab¦
::
make_İtiÚ®
(
D©aR©e
::
B™sP”Sec
(666666)));

141 
TEST
(
G‘Ex³rim’lMšVideoB™¿‹Te¡
,

142 
NÚVp8B™¿‹V®uesTak’FromMšVideoB™¿‹
) {

143 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

149 
EXPECT_EQ
(
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecG’”ic
),

150 
ab¦
::
nuÎİt
);

151 
EXPECT_EQ
(
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecVP9
),

152 
ab¦
::
make_İtiÚ®
(
D©aR©e
::
Kob™sP”Sec
(200)));

153 
EXPECT_EQ
(
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecH264
),

154 
ab¦
::
make_İtiÚ®
(
D©aR©e
::
Kob™sP”Sec
(300)));

155 
EXPECT_EQ
(

156 
G‘Ex³rim’lMšVideoB™¿‹
(
VideoCodecTy³
::
kVideoCodecMuÉËx
),

157 
ab¦
::
nuÎİt
);

	@experiments/normalize_simulcast_size_experiment.cc

11 
	~"¹c_ba£/ex³rim’ts/nÜm®ize_simulÿ¡_size_ex³rim’t.h
"

13 
	~<¡dio.h
>

15 
	~<¡ršg
>

17 
	~"¹c_ba£/loggšg.h
"

18 
	~"sy¡em_w¿µ”s/šşude/f›ld_ŒŸl.h
"

20 
Çme¥aû
 
	gweb¹c
 {

21 
	gÇme¥aû
 {

22 
cÚ¡ex´
 
	gkF›ldTrŸl
[] = "WebRTC-NormalizeSimulcastResolution";

23 
cÚ¡ex´
 
	gkMšS‘tšg
 = 0;

24 
cÚ¡ex´
 
	gkMaxS‘tšg
 = 5;

27 
	gab¦
::
İtiÚ®
<> 
NÜm®izeSimulÿ¡SizeEx³rim’t
::
G‘Ba£2ExpÚ’t
() {

28 ià(!
web¹c
::
f›ld_ŒŸl
::
IsEÇbËd
(
kF›ldTrŸl
))

29  
ab¦
::
nuÎİt
;

31 cÚ¡ 
	g¡d
::
¡ršg
 
group
 = 
web¹c
::
f›ld_ŒŸl
::
FšdFuÎName
(
kF›ldTrŸl
);

32 ià(
	ggroup
.
em±y
())

33  
	gab¦
::
nuÎİt
;

35 
	gexpÚ’t
;

36 ià(
ssÿnf
(
group
.
c_¡r
(), "EÇbËd-%d", &
expÚ’t
) != 1) {

37 
RTC_LOG
(
LS_WARNING
) << "No…arameter…rovided.";

38  
	gab¦
::
nuÎİt
;

41 ià(
	gexpÚ’t
 < 
	gkMšS‘tšg
 ||ƒxpÚ’ˆ> 
	gkMaxS‘tšg
) {

42 
RTC_LOG
(
LS_WARNING
) << "Unsupportedƒxp value…rovided, value ignored.";

43  
	gab¦
::
nuÎİt
;

46  
	gab¦
::
İtiÚ®
<>(
expÚ’t
);

	@experiments/normalize_simulcast_size_experiment.h

11 #iâdeà
RTC_BASE_EXPERIMENTS_NORMALIZE_SIMULCAST_SIZE_EXPERIMENT_H_


12 
	#RTC_BASE_EXPERIMENTS_NORMALIZE_SIMULCAST_SIZE_EXPERIMENT_H_


	)

14 
	~"ab¦/ty³s/İtiÚ®.h
"

16 
Çme¥aû
 
	gweb¹c
 {

17 şas 
	cNÜm®izeSimulÿ¡SizeEx³rim’t
 {

18 
	gpublic
:

20 
ab¦
::
İtiÚ®
<> 
G‘Ba£2ExpÚ’t
();

	@experiments/normalize_simulcast_size_experiment_unittest.cc

11 
	~"¹c_ba£/ex³rim’ts/nÜm®ize_simulÿ¡_size_ex³rim’t.h
"

13 
	~"‹¡/f›ld_ŒŸl.h
"

14 
	~"‹¡/g‹¡.h
"

16 
Çme¥aû
 
	gweb¹c
 {

18 
TEST
(
NÜm®izeSimulÿ¡SizeEx³rim’tTe¡
, 
G‘ExpÚ’t
) {

19 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

21 
EXPECT_EQ
(2, 
NÜm®izeSimulÿ¡SizeEx³rim’t
::
G‘Ba£2ExpÚ’t
());

24 
TEST
(
NÜm®izeSimulÿ¡SizeEx³rim’tTe¡
, 
G‘ExpÚ’tW™hTwoP¬am‘”s
) {

25 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

27 
EXPECT_EQ
(3, 
NÜm®izeSimulÿ¡SizeEx³rim’t
::
G‘Ba£2ExpÚ’t
());

30 
TEST
(
NÜm®izeSimulÿ¡SizeEx³rim’tTe¡
, 
G‘ExpÚ’tFasIfNÙEÇbËd
) {

31 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

33 
EXPECT_FALSE
(
NÜm®izeSimulÿ¡SizeEx³rim’t
::
G‘Ba£2ExpÚ’t
());

36 
TEST
(
NÜm®izeSimulÿ¡SizeEx³rim’tTe¡
,

37 
G‘ExpÚ’tFasFÜInv®idF›ldTrŸl
) {

38 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

40 
EXPECT_FALSE
(
NÜm®izeSimulÿ¡SizeEx³rim’t
::
G‘Ba£2ExpÚ’t
());

43 
TEST
(
NÜm®izeSimulÿ¡SizeEx³rim’tTe¡
,

44 
G‘ExpÚ’tFasFÜNeg©iveOutOfBoundV®ue
) {

46 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

48 
EXPECT_FALSE
(
NÜm®izeSimulÿ¡SizeEx³rim’t
::
G‘Ba£2ExpÚ’t
());

51 
TEST
(
NÜm®izeSimulÿ¡SizeEx³rim’tTe¡
,

52 
G‘ExpÚ’tFasFÜPos™iveOutOfBoundV®ue
) {

54 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

56 
EXPECT_FALSE
(
NÜm®izeSimulÿ¡SizeEx³rim’t
::
G‘Ba£2ExpÚ’t
());

	@experiments/quality_rampup_experiment.cc

11 
	~"¹c_ba£/ex³rim’ts/qu®™y_¿mpup_ex³rim’t.h
"

13 
	~<®gÜ™hm
>

15 
	~"­i/Œª¥Üt/f›ld_ŒŸl_ba£d_cÚfig.h
"

16 
	~"¹c_ba£/loggšg.h
"

18 
Çme¥aû
 
	gweb¹c
 {

20 
	gQu®™yRampupEx³rim’t
::
Qu®™yRampupEx³rim’t
(

21 cÚ¡ 
WebRtcKeyV®ueCÚfig
* cÚ¡ 
key_v®ue_cÚfig
)

22 : 
mš_pix–s_
("min_pixels"),

23 
mš_du¿tiÚ_ms_
("min_duration_ms"),

24 
max_b™¿‹_çùÜ_
("max_bitrate_factor") {

25 
P¬£F›ldTrŸl
(

26 {&
mš_pix–s_
, &
mš_du¿tiÚ_ms_
, &
max_b™¿‹_çùÜ_
},

27 
key_v®ue_cÚfig
->
Lookup
("WebRTC-Video-QualityRampupSettings"));

30 
Qu®™yRampupEx³rim’t
 
	gQu®™yRampupEx³rim’t
::
P¬£S‘tšgs
() {

31 
F›ldTrŸlBa£dCÚfig
 
f›ld_ŒŸl_cÚfig
;

32  
Qu®™yRampupEx³rim’t
(&
f›ld_ŒŸl_cÚfig
);

35 
	gab¦
::
İtiÚ®
<> 
Qu®™yRampupEx³rim’t
::
MšPix–s
() const {

36  
mš_pix–s_
.
G‘O±iÚ®
();

39 
	gab¦
::
İtiÚ®
<> 
Qu®™yRampupEx³rim’t
::
MšDu¿tiÚMs
() const {

40  
mš_du¿tiÚ_ms_
.
G‘O±iÚ®
();

43 
	gab¦
::
İtiÚ®
<> 
Qu®™yRampupEx³rim’t
::
MaxB™¿‹FaùÜ
() const {

44  
max_b™¿‹_çùÜ_
.
G‘O±iÚ®
();

47 
	gQu®™yRampupEx³rim’t
::
S‘MaxB™¿‹
(
pix–s
,

48 
ušt32_t
 
max_b™¿‹_kbps
) {

49 ià(!
	gmš_pix–s_
 || 
	gpix–s
 < mš_pix–s_.
V®ue
(è|| 
	gmax_b™¿‹_kbps
 == 0) {

52 
	gmax_b™¿‹_kbps_
 = 
¡d
::
max
(
max_b™¿‹_kbps_
.
v®ue_Ü
(0), 
max_b™¿‹_kbps
);

55 
boŞ
 
	gQu®™yRampupEx³rim’t
::
BwHigh
(
št64_t
 
now_ms
,

56 
ušt32_t
 
avaabË_bw_kbps
) {

57 ià(!
	gmš_pix–s_
 || !
	gmš_du¿tiÚ_ms_
 || !
	gmax_b™¿‹_kbps_
) {

58  
	gçl£
;

61 ià(
	gavaabË_bw_kbps
 <

62 
	gmax_b™¿‹_kbps_
.
v®ue
(è* 
MaxB™¿‹FaùÜ
().
v®ue_Ü
(1)) {

63 
	g¡¬t_ms_
.
»£t
();

64  
	gçl£
;

67 ià(!
	g¡¬t_ms_
)

68 
	g¡¬t_ms_
 = 
now_ms
;

70  (
	gnow_ms
 - *
	g¡¬t_ms_
è>ğ
mš_du¿tiÚ_ms_
.
V®ue
();

	@experiments/quality_rampup_experiment.h

11 #iâdeà
RTC_BASE_EXPERIMENTS_QUALITY_RAMPUP_EXPERIMENT_H_


12 
	#RTC_BASE_EXPERIMENTS_QUALITY_RAMPUP_EXPERIMENT_H_


	)

14 
	~"ab¦/ty³s/İtiÚ®.h
"

15 
	~"­i/Œª¥Üt/web¹c_key_v®ue_cÚfig.h
"

16 
	~"¹c_ba£/ex³rim’ts/f›ld_ŒŸl_·r£r.h
"

18 
Çme¥aû
 
	gweb¹c
 {

20 şas 
	cQu®™yRampupEx³rim’t
 
	gfš®
 {

21 
	gpublic
:

22 
Qu®™yRampupEx³rim’t
 
P¬£S‘tšgs
();

24 
	gab¦
::
İtiÚ®
<> 
MšPix–s
() const;

25 
	gab¦
::
İtiÚ®
<> 
MšDu¿tiÚMs
() const;

26 
	gab¦
::
İtiÚ®
<> 
MaxB™¿‹FaùÜ
() const;

30 
S‘MaxB™¿‹
(
pix–s
, 
ušt32_t
 
max_b™¿‹_kbps
);

34 
boŞ
 
BwHigh
(
št64_t
 
now_ms
, 
ušt32_t
 
avaabË_bw_kbps
);

36 
	g´iv©e
:

37 
ex¶ic™
 
Qu®™yRampupEx³rim’t
(

38 cÚ¡ 
WebRtcKeyV®ueCÚfig
* cÚ¡ 
key_v®ue_cÚfig
);

40 
	gF›ldTrŸlO±iÚ®
<> 
	gmš_pix–s_
;

41 
	gF›ldTrŸlO±iÚ®
<> 
	gmš_du¿tiÚ_ms_
;

42 
	gF›ldTrŸlO±iÚ®
<> 
	gmax_b™¿‹_çùÜ_
;

44 
	gab¦
::
İtiÚ®
<
št64_t
> 
¡¬t_ms_
;

45 
	gab¦
::
İtiÚ®
<
ušt32_t
> 
max_b™¿‹_kbps_
;

	@experiments/quality_rampup_experiment_unittest.cc

11 
	~"¹c_ba£/ex³rim’ts/qu®™y_¿mpup_ex³rim’t.h
"

13 
	~"‹¡/f›ld_ŒŸl.h
"

14 
	~"‹¡/g‹¡.h
"

16 
Çme¥aû
 
	gweb¹c
 {

17 
	gÇme¥aû
 {

19 şas 
	cQu®™yRampupEx³rim’tTe¡
 : 
public
 ::
‹¡šg
::
Te¡
 {

20 
´Ùeùed
:

21 
št64_t
 
NowMs
(ècÚ¡ {  
cu¼’t_ms_
; }

22 
št64_t
 
AdvªûMs
(št64_ˆ
d–_ms
) {

23 
	gcu¼’t_ms_
 +ğ
d–_ms
;

24  
	gcu¼’t_ms_
;

26 
št64_t
 
	gcu¼’t_ms_
 = 2345;

29 
TEST_F
(
Qu®™yRampupEx³rim’tTe¡
, 
V®uesNÙS‘ByDeçuÉ
) {

30 cÚ¡‡utØ
	g£‰šgs
 = 
Qu®™yRampupEx³rim’t
::
P¬£S‘tšgs
();

31 
EXPECT_FALSE
(
£‰šgs
.
MšPix–s
());

32 
EXPECT_FALSE
(
£‰šgs
.
MšDu¿tiÚMs
());

33 
EXPECT_FALSE
(
£‰šgs
.
MaxB™¿‹FaùÜ
());

36 
TEST_F
(
Qu®™yRampupEx³rim’tTe¡
, 
P¬£MšPix–s
) {

37 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

39 
EXPECT_EQ
(10000, 
Qu®™yRampupEx³rim’t
::
P¬£S‘tšgs
().
MšPix–s
());

42 
TEST_F
(
Qu®™yRampupEx³rim’tTe¡
, 
P¬£MšDu¿tiÚ
) {

43 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

45 
EXPECT_EQ
(987, 
Qu®™yRampupEx³rim’t
::
P¬£S‘tšgs
().
MšDu¿tiÚMs
());

48 
TEST_F
(
Qu®™yRampupEx³rim’tTe¡
, 
P¬£MaxB™¿‹FaùÜ
) {

49 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

51 
EXPECT_EQ
(1.23, 
Qu®™yRampupEx³rim’t
::
P¬£S‘tšgs
().
MaxB™¿‹FaùÜ
());

54 
TEST_F
(
Qu®™yRampupEx³rim’tTe¡
, 
R•ÜtsBwHighWh’Du¿tiÚPas£d
) {

55 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

58 autØ
	gexp
 = 
Qu®™yRampupEx³rim’t
::
P¬£S‘tšgs
();

59 
EXPECT_EQ
(10000, 
exp
.
MšPix–s
());

60 
EXPECT_EQ
(2000, 
exp
.
MšDu¿tiÚMs
());

62 cÚ¡ 
ušt32_t
 
	gkMaxKbps
 = 800;

63 
	gexp
.
S‘MaxB™¿‹
Ğ10000, 
kMaxKbps
);

65 cÚ¡ 
ušt32_t
 
	gkAvaabËKbps
 = 
kMaxKbps
;

66 
EXPECT_FALSE
(
exp
.
BwHigh
(
NowMs
(), 
kAvaabËKbps
));

67 
EXPECT_FALSE
(
exp
.
BwHigh
(
AdvªûMs
(2000 - 1), 
kAvaabËKbps
));

68 
EXPECT_TRUE
(
exp
.
BwHigh
(
AdvªûMs
(1), 
kAvaabËKbps
));

71 
TEST_F
(
Qu®™yRampupEx³rim’tTe¡
, 
U£sMaxS‘B™¿‹
) {

72 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

75 autØ
	gexp
 = 
Qu®™yRampupEx³rim’t
::
P¬£S‘tšgs
();

77 cÚ¡ 
ušt32_t
 
	gkMaxKbps
 = 800;

78 
	gexp
.
S‘MaxB™¿‹
Ğ10000, 
kMaxKbps
);

79 
	gexp
.
S‘MaxB™¿‹
Ğ10000, 
kMaxKbps
 - 1);

81 
EXPECT_FALSE
(
exp
.
BwHigh
(
NowMs
(), 
kMaxKbps
 - 1));

82 
EXPECT_FALSE
(
exp
.
BwHigh
(
AdvªûMs
(2000), 
kMaxKbps
 - 1));

83 
EXPECT_FALSE
(
exp
.
BwHigh
(
AdvªûMs
(1), 
kMaxKbps
));

84 
EXPECT_TRUE
(
exp
.
BwHigh
(
AdvªûMs
(2000), 
kMaxKbps
));

87 
TEST_F
(
Qu®™yRampupEx³rim’tTe¡
, 
DÛsNÙR•ÜtBwHighIfB–owMšPix–s
) {

88 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

91 autØ
	gexp
 = 
Qu®™yRampupEx³rim’t
::
P¬£S‘tšgs
();

93 cÚ¡ 
ušt32_t
 
	gkMaxKbps
 = 800;

94 
	gexp
.
S‘MaxB™¿‹
Ğ9999, 
kMaxKbps
);

96 cÚ¡ 
ušt32_t
 
	gkAvaabËKbps
 = 
kMaxKbps
;

97 
EXPECT_FALSE
(
exp
.
BwHigh
(
NowMs
(), 
kAvaabËKbps
));

98 
EXPECT_FALSE
(
exp
.
BwHigh
(
AdvªûMs
(2000), 
kAvaabËKbps
));

101 
TEST_F
(
Qu®™yRampupEx³rim’tTe¡
, 
R•ÜtsBwHighW™hMaxB™¿‹FaùÜ
) {

102 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

105 autØ
	gexp
 = 
Qu®™yRampupEx³rim’t
::
P¬£S‘tšgs
();

106 
EXPECT_EQ
(10000, 
exp
.
MšPix–s
());

107 
EXPECT_EQ
(2000, 
exp
.
MšDu¿tiÚMs
());

108 
EXPECT_EQ
(1.5, 
exp
.
MaxB™¿‹FaùÜ
());

110 cÚ¡ 
ušt32_t
 
	gkMaxKbps
 = 800;

111 
	gexp
.
S‘MaxB™¿‹
Ğ10000, 
kMaxKbps
);

113 cÚ¡ 
ušt32_t
 
	gkAvaabËKbps
 = 
kMaxKbps
 * 1.5;

114 
EXPECT_FALSE
(
exp
.
BwHigh
(
NowMs
(), 
kAvaabËKbps
 - 1));

115 
EXPECT_FALSE
(
exp
.
BwHigh
(
AdvªûMs
(2000), 
kAvaabËKbps
 - 1));

116 
EXPECT_FALSE
(
exp
.
BwHigh
(
AdvªûMs
(1), 
kAvaabËKbps
));

117 
EXPECT_TRUE
(
exp
.
BwHigh
(
AdvªûMs
(2000), 
kAvaabËKbps
));

120 
TEST_F
(
Qu®™yRampupEx³rim’tTe¡
, 
R•ÜtsBwHigh
) {

121 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

124 autØ
	gexp
 = 
Qu®™yRampupEx³rim’t
::
P¬£S‘tšgs
();

126 cÚ¡ 
ušt32_t
 
	gkMaxKbps
 = 800;

127 
	gexp
.
S‘MaxB™¿‹
Ğ10000, 
kMaxKbps
);

129 cÚ¡ 
ušt32_t
 
	gkAvaabËKbps
 = 
kMaxKbps
;

130 
EXPECT_FALSE
(
exp
.
BwHigh
(
NowMs
(), 
kAvaabËKbps
));

131 
EXPECT_FALSE
(
exp
.
BwHigh
(
AdvªûMs
(2000 - 1), 
kAvaabËKbps
));

132 
EXPECT_FALSE
(
exp
.
BwHigh
(
AdvªûMs
(1), 
kAvaabËKbps
 - 1));

133 
EXPECT_FALSE
(
exp
.
BwHigh
(
AdvªûMs
(1), 
kAvaabËKbps
));

134 
EXPECT_FALSE
(
exp
.
BwHigh
(
AdvªûMs
(2000 - 1), 
kAvaabËKbps
));

135 
EXPECT_TRUE
(
exp
.
BwHigh
(
AdvªûMs
(1), 
kAvaabËKbps
));

	@experiments/quality_scaler_settings.cc

11 
	~"¹c_ba£/ex³rim’ts/qu®™y_sÿËr_£‰šgs.h
"

13 
	~"­i/Œª¥Üt/f›ld_ŒŸl_ba£d_cÚfig.h
"

14 
	~"¹c_ba£/loggšg.h
"

16 
Çme¥aû
 
	gweb¹c
 {

17 
	gÇme¥aû
 {

18 cÚ¡ 
	gkMšF¿mes
 = 10;

19 cÚ¡ 
	gkMšSÿËFaùÜ
 = 0.01;

22 
	gQu®™ySÿËrS‘tšgs
::
Qu®™ySÿËrS‘tšgs
(

23 cÚ¡ 
WebRtcKeyV®ueCÚfig
* cÚ¡ 
key_v®ue_cÚfig
)

24 : 
mš_äames_
("min_frames"),

25 
š™Ÿl_sÿË_çùÜ_
("initial_scale_factor"),

26 
sÿË_çùÜ_
("scale_factor"),

27 
š™Ÿl_b™¿‹_š‹rv®_ms_
("initial_bitrate_interval_ms"),

28 
š™Ÿl_b™¿‹_çùÜ_
("initial_bitrate_factor") {

29 
P¬£F›ldTrŸl
(

30 {&
mš_äames_
, &
š™Ÿl_sÿË_çùÜ_
, &
sÿË_çùÜ_
,

31 &
š™Ÿl_b™¿‹_š‹rv®_ms_
, &
š™Ÿl_b™¿‹_çùÜ_
},

32 
key_v®ue_cÚfig
->
Lookup
("WebRTC-Video-QualityScalerSettings"));

35 
Qu®™ySÿËrS‘tšgs
 
	gQu®™ySÿËrS‘tšgs
::
P¬£FromF›ldTrŸls
() {

36 
F›ldTrŸlBa£dCÚfig
 
f›ld_ŒŸl_cÚfig
;

37  
Qu®™ySÿËrS‘tšgs
(&
f›ld_ŒŸl_cÚfig
);

40 
	gab¦
::
İtiÚ®
<> 
Qu®™ySÿËrS‘tšgs
::
MšF¿mes
() const {

41 ià(
mš_äames_
 && mš_äames_.
V®ue
(è< 
kMšF¿mes
) {

42 
RTC_LOG
(
LS_WARNING
) << "Unsupported min_frames value, ignored.";

43  
	gab¦
::
nuÎİt
;

45  
	gmš_äames_
.
G‘O±iÚ®
();

48 
	gab¦
::
İtiÚ®
<> 
Qu®™ySÿËrS‘tšgs
::
In™ŸlSÿËFaùÜ
() const {

49 ià(
š™Ÿl_sÿË_çùÜ_
 &&

50 
š™Ÿl_sÿË_çùÜ_
.
V®ue
(è< 
kMšSÿËFaùÜ
) {

51 
RTC_LOG
(
LS_WARNING
) << "Unsupported initial_scale_factor value, ignored.";

52  
	gab¦
::
nuÎİt
;

54  
	gš™Ÿl_sÿË_çùÜ_
.
G‘O±iÚ®
();

57 
	gab¦
::
İtiÚ®
<> 
Qu®™ySÿËrS‘tšgs
::
SÿËFaùÜ
() const {

58 ià(
sÿË_çùÜ_
 && sÿË_çùÜ_.
V®ue
(è< 
kMšSÿËFaùÜ
) {

59 
RTC_LOG
(
LS_WARNING
) << "Unsupported scale_factor value, ignored.";

60  
	gab¦
::
nuÎİt
;

62  
	gsÿË_çùÜ_
.
G‘O±iÚ®
();

65 
	gab¦
::
İtiÚ®
<> 
Qu®™ySÿËrS‘tšgs
::
In™ŸlB™¿‹IÁ”v®Ms
() const {

66 ià(
š™Ÿl_b™¿‹_š‹rv®_ms_
 &&

67 
š™Ÿl_b™¿‹_š‹rv®_ms_
.
V®ue
() < 0) {

68 
RTC_LOG
(
LS_WARNING
) << "Unsupported bitrate_interval value, ignored.";

69  
	gab¦
::
nuÎİt
;

71  
	gš™Ÿl_b™¿‹_š‹rv®_ms_
.
G‘O±iÚ®
();

74 
	gab¦
::
İtiÚ®
<> 
Qu®™ySÿËrS‘tšgs
::
In™ŸlB™¿‹FaùÜ
() const {

75 ià(
š™Ÿl_b™¿‹_çùÜ_
 &&

76 
š™Ÿl_b™¿‹_çùÜ_
.
V®ue
(è< 
kMšSÿËFaùÜ
) {

77 
RTC_LOG
(
LS_WARNING
) << "Unsupported initial_bitrate_factor value, ignored.";

78  
	gab¦
::
nuÎİt
;

80  
	gš™Ÿl_b™¿‹_çùÜ_
.
G‘O±iÚ®
();

	@experiments/quality_scaler_settings.h

11 #iâdeà
RTC_BASE_EXPERIMENTS_QUALITY_SCALER_SETTINGS_H_


12 
	#RTC_BASE_EXPERIMENTS_QUALITY_SCALER_SETTINGS_H_


	)

14 
	~"ab¦/ty³s/İtiÚ®.h
"

15 
	~"­i/Œª¥Üt/web¹c_key_v®ue_cÚfig.h
"

16 
	~"¹c_ba£/ex³rim’ts/f›ld_ŒŸl_·r£r.h
"

18 
Çme¥aû
 
	gweb¹c
 {

20 şas 
	cQu®™ySÿËrS‘tšgs
 
	gfš®
 {

21 
	gpublic
:

22 
Qu®™ySÿËrS‘tšgs
 
P¬£FromF›ldTrŸls
();

24 
	gab¦
::
İtiÚ®
<> 
MšF¿mes
() const;

25 
	gab¦
::
İtiÚ®
<> 
In™ŸlSÿËFaùÜ
() const;

26 
	gab¦
::
İtiÚ®
<> 
SÿËFaùÜ
() const;

27 
	gab¦
::
İtiÚ®
<> 
In™ŸlB™¿‹IÁ”v®Ms
() const;

28 
	gab¦
::
İtiÚ®
<> 
In™ŸlB™¿‹FaùÜ
() const;

30 
	g´iv©e
:

31 
ex¶ic™
 
Qu®™ySÿËrS‘tšgs
(

32 cÚ¡ 
WebRtcKeyV®ueCÚfig
* cÚ¡ 
key_v®ue_cÚfig
);

34 
	gF›ldTrŸlO±iÚ®
<> 
	gmš_äames_
;

35 
	gF›ldTrŸlO±iÚ®
<> 
	gš™Ÿl_sÿË_çùÜ_
;

36 
	gF›ldTrŸlO±iÚ®
<> 
	gsÿË_çùÜ_
;

37 
	gF›ldTrŸlO±iÚ®
<> 
	gš™Ÿl_b™¿‹_š‹rv®_ms_
;

38 
	gF›ldTrŸlO±iÚ®
<> 
	gš™Ÿl_b™¿‹_çùÜ_
;

	@experiments/quality_scaler_settings_unittest.cc

11 
	~"¹c_ba£/ex³rim’ts/qu®™y_sÿËr_£‰šgs.h
"

13 
	~"‹¡/f›ld_ŒŸl.h
"

14 
	~"‹¡/g‹¡.h
"

16 
Çme¥aû
 
	gweb¹c
 {

17 
	gÇme¥aû
 {

19 
TEST
(
Qu®™ySÿËrS‘tšgsTe¡
, 
V®uesNÙS‘ByDeçuÉ
) {

20 cÚ¡‡utØ
	g£‰šgs
 = 
Qu®™ySÿËrS‘tšgs
::
P¬£FromF›ldTrŸls
();

21 
EXPECT_FALSE
(
£‰šgs
.
MšF¿mes
());

22 
EXPECT_FALSE
(
£‰šgs
.
In™ŸlSÿËFaùÜ
());

23 
EXPECT_FALSE
(
£‰šgs
.
SÿËFaùÜ
());

24 
EXPECT_FALSE
(
£‰šgs
.
In™ŸlB™¿‹IÁ”v®Ms
());

25 
EXPECT_FALSE
(
£‰šgs
.
In™ŸlB™¿‹FaùÜ
());

28 
TEST
(
Qu®™ySÿËrS‘tšgsTe¡
, 
P¬£MšF¿mes
) {

29 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

31 
EXPECT_EQ
(100, 
Qu®™ySÿËrS‘tšgs
::
P¬£FromF›ldTrŸls
().
MšF¿mes
());

34 
TEST
(
Qu®™ySÿËrS‘tšgsTe¡
, 
P¬£In™ŸlSÿËFaùÜ
) {

35 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

37 
EXPECT_EQ
(1.5,

38 
Qu®™ySÿËrS‘tšgs
::
P¬£FromF›ldTrŸls
().
In™ŸlSÿËFaùÜ
());

41 
TEST
(
Qu®™ySÿËrS‘tšgsTe¡
, 
P¬£SÿËFaùÜ
) {

42 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

44 
EXPECT_EQ
(1.1, 
Qu®™ySÿËrS‘tšgs
::
P¬£FromF›ldTrŸls
().
SÿËFaùÜ
());

47 
TEST
(
Qu®™ySÿËrS‘tšgsTe¡
, 
P¬£In™ŸlB™¿‹IÁ”v®
) {

48 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

50 
EXPECT_EQ
(

52 
Qu®™ySÿËrS‘tšgs
::
P¬£FromF›ldTrŸls
().
In™ŸlB™¿‹IÁ”v®Ms
());

55 
TEST
(
Qu®™ySÿËrS‘tšgsTe¡
, 
P¬£In™ŸlB™¿‹FaùÜ
) {

56 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

58 
EXPECT_EQ
(

60 
Qu®™ySÿËrS‘tšgs
::
P¬£FromF›ldTrŸls
().
In™ŸlB™¿‹FaùÜ
());

63 
TEST
(
Qu®™ySÿËrS‘tšgsTe¡
, 
P¬£AÎ
) {

64 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

68 cÚ¡‡utØ
	g£‰šgs
 = 
Qu®™ySÿËrS‘tšgs
::
P¬£FromF›ldTrŸls
();

69 
EXPECT_EQ
(100, 
£‰šgs
.
MšF¿mes
());

70 
EXPECT_EQ
(1.5, 
£‰šgs
.
In™ŸlSÿËFaùÜ
());

71 
EXPECT_EQ
(0.9, 
£‰šgs
.
SÿËFaùÜ
());

72 
EXPECT_EQ
(5500, 
£‰šgs
.
In™ŸlB™¿‹IÁ”v®Ms
());

73 
EXPECT_EQ
(0.7, 
£‰šgs
.
In™ŸlB™¿‹FaùÜ
());

76 
TEST
(
Qu®™ySÿËrS‘tšgsTe¡
, 
DÛsNÙP¬£IncÜ»ùV®ue
) {

77 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

81 cÚ¡‡utØ
	g£‰šgs
 = 
Qu®™ySÿËrS‘tšgs
::
P¬£FromF›ldTrŸls
();

82 
EXPECT_FALSE
(
£‰šgs
.
MšF¿mes
());

83 
EXPECT_FALSE
(
£‰šgs
.
In™ŸlSÿËFaùÜ
());

84 
EXPECT_FALSE
(
£‰šgs
.
SÿËFaùÜ
());

85 
EXPECT_FALSE
(
£‰šgs
.
In™ŸlB™¿‹IÁ”v®Ms
());

86 
EXPECT_FALSE
(
£‰šgs
.
In™ŸlB™¿‹FaùÜ
());

89 
TEST
(
Qu®™ySÿËrS‘tšgsTe¡
, 
DÛsNÙR‘uºTooSm®lV®ue
) {

90 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

94 cÚ¡‡utØ
	g£‰šgs
 = 
Qu®™ySÿËrS‘tšgs
::
P¬£FromF›ldTrŸls
();

95 
EXPECT_FALSE
(
£‰šgs
.
MšF¿mes
());

96 
EXPECT_FALSE
(
£‰šgs
.
In™ŸlSÿËFaùÜ
());

97 
EXPECT_FALSE
(
£‰šgs
.
SÿËFaùÜ
());

98 
EXPECT_FALSE
(
£‰šgs
.
In™ŸlB™¿‹IÁ”v®Ms
());

99 
EXPECT_FALSE
(
£‰šgs
.
In™ŸlB™¿‹FaùÜ
());

	@experiments/quality_scaling_experiment.cc

10 
	~"¹c_ba£/ex³rim’ts/qu®™y_sÿlšg_ex³rim’t.h
"

12 
	~<¡dio.h
>

14 
	~<¡ršg
>

16 
	~"¹c_ba£/loggšg.h
"

17 
	~"sy¡em_w¿µ”s/šşude/f›ld_ŒŸl.h
"

19 
Çme¥aû
 
	gweb¹c
 {

20 
	gÇme¥aû
 {

21 
cÚ¡ex´
 
	gkF›ldTrŸl
[] = "WebRTC-Video-QualityScaling";

22 
cÚ¡ex´
 
	gkMšQp
 = 1;

23 
cÚ¡ex´
 
	gkMaxVp8Qp
 = 127;

24 
cÚ¡ex´
 
	gkMaxVp9Qp
 = 255;

25 
cÚ¡ex´
 
	gkMaxH264Qp
 = 51;

26 
cÚ¡ex´
 
	gkMaxG’”icQp
 = 255;

28 
	gab¦
::
İtiÚ®
<
VideoEncod”
::
QpTh»shŞds
> 
G‘Th»shŞds
(
low
,

29 
high
,

30 
max
) {

31 ià(
	glow
 < 
	gkMšQp
 || 
	ghigh
 > 
	gmax
 || high <†ow)

32  
	gab¦
::
nuÎİt
;

34 
RTC_LOG
(
LS_INFO
è<< "QPh»shŞds:†ow: " << 
	glow
 << ", high: " << 
	ghigh
;

35  
	gab¦
::
İtiÚ®
<
VideoEncod”
::
QpTh»shŞds
>(

36 
VideoEncod”
::
QpTh»shŞds
(
low
, 
high
));

40 
boŞ
 
	gQu®™ySÿlšgEx³rim’t
::
EÇbËd
() {

41  
web¹c
::
f›ld_ŒŸl
::
IsEÇbËd
(
kF›ldTrŸl
);

44 
	gab¦
::
İtiÚ®
<
Qu®™ySÿlšgEx³rim’t
::
S‘tšgs
>

45 
Qu®™ySÿlšgEx³rim’t
::
P¬£S‘tšgs
() {

46 cÚ¡ 
¡d
::
¡ršg
 
group
 = 
web¹c
::
f›ld_ŒŸl
::
FšdFuÎName
(
kF›ldTrŸl
);

47 ià(
	ggroup
.
em±y
())

48  
	gab¦
::
nuÎİt
;

50 
S‘tšgs
 
	gs
;

51 ià(
ssÿnf
(
group
.
c_¡r
(), "Enabled-%d,%d,%d,%d,%d,%d,%d,%d,%f,%f,%d",

52 &
s
.
vp8_low
, &s.
vp8_high
, &s.
vp9_low
, &s.
vp9_high
, &s.
h264_low
,

53 &
s
.
h264_high
, &s.
g’”ic_low
, &s.
g’”ic_high
, &s.
®pha_high
,

54 &
s
.
®pha_low
, &s.
drİ
) != 11) {

55 
RTC_LOG
(
LS_WARNING
) << "Invalid‚umber of…arameters…rovided.";

56  
	gab¦
::
nuÎİt
;

58  
	gs
;

61 
	gab¦
::
İtiÚ®
<
VideoEncod”
::
QpTh»shŞds
>

62 
Qu®™ySÿlšgEx³rim’t
::
G‘QpTh»shŞds
(
VideoCodecTy³
 
codec_ty³
) {

63 cÚ¡‡utØ
£‰šgs
 = 
P¬£S‘tšgs
();

64 ià(!
	g£‰šgs
)

65  
	gab¦
::
nuÎİt
;

67 
	gcodec_ty³
) {

68 
	gkVideoCodecVP8
:

69  
G‘Th»shŞds
(
£‰šgs
->
vp8_low
, s‘tšgs->
vp8_high
, 
kMaxVp8Qp
);

70 
	gkVideoCodecVP9
:

71  
G‘Th»shŞds
(
£‰šgs
->
vp9_low
, s‘tšgs->
vp9_high
, 
kMaxVp9Qp
);

72 
	gkVideoCodecH264
:

73  
G‘Th»shŞds
(
£‰šgs
->
h264_low
, s‘tšgs->
h264_high
, 
kMaxH264Qp
);

74 
	gkVideoCodecG’”ic
:

75  
G‘Th»shŞds
(
£‰šgs
->
g’”ic_low
, s‘tšgs->
g’”ic_high
,

76 
kMaxG’”icQp
);

78  
ab¦
::
nuÎİt
;

82 
	gQu®™ySÿlšgEx³rim’t
::
CÚfig
 
Qu®™ySÿlšgEx³rim’t
::
G‘CÚfig
() {

83 cÚ¡‡utØ
£‰šgs
 = 
P¬£S‘tšgs
();

84 ià(!
	g£‰šgs
)

85  
CÚfig
();

87 
CÚfig
 
	gcÚfig
;

88 
	gcÚfig
.
	gu£_®l_drİ_»asÚs
 = 
£‰šgs
->
drİ
 > 0;

90 ià(
	g£‰šgs
->
	g®pha_high
 < 0 || s‘tšgs->
	g®pha_low
 < settings->alpha_high) {

91 
RTC_LOG
(
LS_WARNING
) << "Invalid‡lpha value…rovided, using default.";

92  
	gcÚfig
;

94 
	gcÚfig
.
	g®pha_high
 = 
£‰šgs
->
®pha_high
;

95 
	gcÚfig
.
	g®pha_low
 = 
£‰šgs
->
®pha_low
;

96  
	gcÚfig
;

	@experiments/quality_scaling_experiment.h

10 #iâdeà
RTC_BASE_EXPERIMENTS_QUALITY_SCALING_EXPERIMENT_H_


11 
	#RTC_BASE_EXPERIMENTS_QUALITY_SCALING_EXPERIMENT_H_


	)

13 
	~"ab¦/ty³s/İtiÚ®.h
"

14 
	~"­i/video_codecs/video_’cod”.h
"

16 
Çme¥aû
 
	gweb¹c
 {

17 şas 
	cQu®™ySÿlšgEx³rim’t
 {

18 
	gpublic
:

19 
	sS‘tšgs
 {

20 
vp8_low
;

21 
	gvp8_high
;

22 
	gvp9_low
;

23 
	gvp9_high
;

24 
	gh264_low
;

25 
	gh264_high
;

26 
	gg’”ic_low
;

27 
	gg’”ic_high
;

28 
	g®pha_high
;

29 
	g®pha_low
;

30 
	gdrİ
;

34 
	sCÚfig
 {

35 
	g®pha_high
 = 0.9995f;

36 
	g®pha_low
 = 0.9999f;

39 
boŞ
 
	gu£_®l_drİ_»asÚs
 = 
çl£
;

43 
boŞ
 
EÇbËd
();

46 
	gab¦
::
İtiÚ®
<
S‘tšgs
> 
P¬£S‘tšgs
();

49 
	gab¦
::
İtiÚ®
<
VideoEncod”
::
QpTh»shŞds
> 
G‘QpTh»shŞds
(

50 
VideoCodecTy³
 
codec_ty³
);

53 
CÚfig
 
G‘CÚfig
();

	@experiments/quality_scaling_experiment_unittest.cc

11 
	~"¹c_ba£/ex³rim’ts/qu®™y_sÿlšg_ex³rim’t.h
"

13 
	~"‹¡/f›ld_ŒŸl.h
"

14 
	~"‹¡/g‹¡.h
"

16 
Çme¥aû
 
	gweb¹c
 {

17 
	gÇme¥aû
 {

18 
Ex³ùEqu®S‘tšgs
(
Qu®™ySÿlšgEx³rim’t
::
S‘tšgs
 
a
,

19 
Qu®™ySÿlšgEx³rim’t
::
S‘tšgs
 
b
) {

20 
EXPECT_EQ
(
a
.
vp8_low
, 
b
.vp8_low);

21 
EXPECT_EQ
(
a
.
vp8_high
, 
b
.vp8_high);

22 
EXPECT_EQ
(
a
.
vp9_low
, 
b
.vp9_low);

23 
EXPECT_EQ
(
a
.
vp9_high
, 
b
.vp9_high);

24 
EXPECT_EQ
(
a
.
h264_low
, 
b
.h264_low);

25 
EXPECT_EQ
(
a
.
h264_high
, 
b
.h264_high);

26 
EXPECT_EQ
(
a
.
g’”ic_low
, 
b
.generic_low);

27 
EXPECT_EQ
(
a
.
g’”ic_high
, 
b
.generic_high);

28 
EXPECT_EQ
(
a
.
®pha_high
, 
b
.alpha_high);

29 
EXPECT_EQ
(
a
.
®pha_low
, 
b
.alpha_low);

30 
EXPECT_EQ
(
a
.
drİ
, 
b
.drop);

33 
Ex³ùEqu®CÚfig
(
Qu®™ySÿlšgEx³rim’t
::
CÚfig
 
a
,

34 
Qu®™ySÿlšgEx³rim’t
::
CÚfig
 
b
) {

35 
EXPECT_EQ
(
a
.
®pha_high
, 
b
.alpha_high);

36 
EXPECT_EQ
(
a
.
®pha_low
, 
b
.alpha_low);

37 
EXPECT_EQ
(
a
.
u£_®l_drİ_»asÚs
, 
b
.use_all_drop_reasons);

41 
TEST
(
Qu®™ySÿlšgEx³rim’tTe¡
, 
Di§bËdW™houtF›ldTrŸl
) {

42 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
("");

43 
EXPECT_FALSE
(
Qu®™ySÿlšgEx³rim’t
::
EÇbËd
());

46 
TEST
(
Qu®™ySÿlšgEx³rim’tTe¡
, 
EÇbËdW™hF›ldTrŸl
) {

47 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

49 
EXPECT_TRUE
(
Qu®™ySÿlšgEx³rim’t
::
EÇbËd
());

52 
TEST
(
Qu®™ySÿlšgEx³rim’tTe¡
, 
P¬£S‘tšgs
) {

53 cÚ¡ 
	gQu®™ySÿlšgEx³rim’t
::
S‘tšgs
 
kEx³ùed
 = {1, 2, 3, 4, 5, 6,

55 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

57 cÚ¡‡utØ
	g£‰šgs
 = 
Qu®™ySÿlšgEx³rim’t
::
P¬£S‘tšgs
();

58 
EXPECT_TRUE
(
£‰šgs
);

59 
Ex³ùEqu®S‘tšgs
(
kEx³ùed
, *
£‰šgs
);

62 
TEST
(
Qu®™ySÿlšgEx³rim’tTe¡
, 
P¬£S‘tšgsFasW™houtF›ldTrŸl
) {

63 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
("");

64 
EXPECT_FALSE
(
Qu®™ySÿlšgEx³rim’t
::
P¬£S‘tšgs
());

67 
TEST
(
Qu®™ySÿlšgEx³rim’tTe¡
, 
P¬£S‘tšgsFasW™hInv®idF›ldTrŸl
) {

68 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

70 
EXPECT_FALSE
(
Qu®™ySÿlšgEx³rim’t
::
P¬£S‘tšgs
());

73 
TEST
(
Qu®™ySÿlšgEx³rim’tTe¡
, 
G‘CÚfig
) {

74 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

76 cÚ¡‡utØ
	gcÚfig
 = 
Qu®™ySÿlšgEx³rim’t
::
G‘CÚfig
();

77 
EXPECT_EQ
(0.9f, 
cÚfig
.
®pha_high
);

78 
EXPECT_EQ
(0.99f, 
cÚfig
.
®pha_low
);

79 
EXPECT_FALSE
(
cÚfig
.
u£_®l_drİ_»asÚs
);

82 
TEST
(
Qu®™ySÿlšgEx³rim’tTe¡
, 
G‘sDeçuÉCÚfigFÜInv®idF›ldTrŸl
) {

83 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

85 cÚ¡‡utØ
	gcÚfig
 = 
Qu®™ySÿlšgEx³rim’t
::
G‘CÚfig
();

86 
Ex³ùEqu®CÚfig
(
cÚfig
, 
Qu®™ySÿlšgEx³rim’t
::
CÚfig
());

89 
TEST
(
Qu®™ySÿlšgEx³rim’tTe¡
, 
G‘sDeçuÉAÍhaFÜInv®idV®ue
) {

90 
	gQu®™ySÿlšgEx³rim’t
::
CÚfig
 
ex³ùed_cÚfig
;

91 
	gex³ùed_cÚfig
.
	gu£_®l_drİ_»asÚs
 = 
Œue
;

92 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

94 cÚ¡‡utØ
	gcÚfig
 = 
Qu®™ySÿlšgEx³rim’t
::
G‘CÚfig
();

95 
Ex³ùEqu®CÚfig
(
cÚfig
, 
ex³ùed_cÚfig
);

98 
TEST
(
Qu®™ySÿlšgEx³rim’tTe¡
, 
G‘Vp8Th»shŞds
) {

99 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

101 cÚ¡‡utØ
	gth»shŞds
 =

102 
Qu®™ySÿlšgEx³rim’t
::
G‘QpTh»shŞds
(
kVideoCodecVP8
);

103 
EXPECT_TRUE
(
th»shŞds
);

104 
EXPECT_EQ
(1, 
th»shŞds
->
low
);

105 
EXPECT_EQ
(2, 
th»shŞds
->
high
);

108 
TEST
(
Qu®™ySÿlšgEx³rim’tTe¡
, 
G‘Th»shŞdsFasFÜInv®idVp8V®ue
) {

109 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

111 cÚ¡‡utØ
	gth»shŞds
 =

112 
Qu®™ySÿlšgEx³rim’t
::
G‘QpTh»shŞds
(
kVideoCodecVP8
);

113 
EXPECT_FALSE
(
th»shŞds
);

116 
TEST
(
Qu®™ySÿlšgEx³rim’tTe¡
, 
G‘Vp9Th»shŞds
) {

117 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

119 cÚ¡‡utØ
	gth»shŞds
 =

120 
Qu®™ySÿlšgEx³rim’t
::
G‘QpTh»shŞds
(
kVideoCodecVP9
);

121 
EXPECT_TRUE
(
th»shŞds
);

122 
EXPECT_EQ
(3, 
th»shŞds
->
low
);

123 
EXPECT_EQ
(4, 
th»shŞds
->
high
);

126 
TEST
(
Qu®™ySÿlšgEx³rim’tTe¡
, 
G‘Th»shŞdsFasFÜInv®idVp9V®ue
) {

127 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

129 cÚ¡‡utØ
	gth»shŞds
 =

130 
Qu®™ySÿlšgEx³rim’t
::
G‘QpTh»shŞds
(
kVideoCodecVP9
);

131 
EXPECT_FALSE
(
th»shŞds
);

134 
TEST
(
Qu®™ySÿlšgEx³rim’tTe¡
, 
G‘H264Th»shŞds
) {

135 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

137 cÚ¡‡utØ
	gth»shŞds
 =

138 
Qu®™ySÿlšgEx³rim’t
::
G‘QpTh»shŞds
(
kVideoCodecH264
);

139 
EXPECT_TRUE
(
th»shŞds
);

140 
EXPECT_EQ
(5, 
th»shŞds
->
low
);

141 
EXPECT_EQ
(6, 
th»shŞds
->
high
);

144 
TEST
(
Qu®™ySÿlšgEx³rim’tTe¡
, 
G‘Th»shŞdsFasFÜInv®idH264V®ue
) {

145 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

147 cÚ¡‡utØ
	gth»shŞds
 =

148 
Qu®™ySÿlšgEx³rim’t
::
G‘QpTh»shŞds
(
kVideoCodecH264
);

149 
EXPECT_FALSE
(
th»shŞds
);

152 
TEST
(
Qu®™ySÿlšgEx³rim’tTe¡
, 
G‘G’”icTh»shŞds
) {

153 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

155 cÚ¡‡utØ
	gth»shŞds
 =

156 
Qu®™ySÿlšgEx³rim’t
::
G‘QpTh»shŞds
(
kVideoCodecG’”ic
);

157 
EXPECT_TRUE
(
th»shŞds
);

158 
EXPECT_EQ
(7, 
th»shŞds
->
low
);

159 
EXPECT_EQ
(8, 
th»shŞds
->
high
);

162 
TEST
(
Qu®™ySÿlšgEx³rim’tTe¡
, 
G‘Th»shŞdsFasFÜInv®idG’”icV®ue
) {

163 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

165 cÚ¡‡utØ
	gth»shŞds
 =

166 
Qu®™ySÿlšgEx³rim’t
::
G‘QpTh»shŞds
(
kVideoCodecG’”ic
);

167 
EXPECT_FALSE
(
th»shŞds
);

	@experiments/rate_control_settings.cc

11 
	~"¹c_ba£/ex³rim’ts/¿‹_cÚŒŞ_£‰šgs.h
"

13 
	~<š‰y³s.h
>

14 
	~<¡dio.h
>

16 
	~<¡ršg
>

18 
	~"ab¦/¡ršgs/m©ch.h
"

19 
	~"­i/Œª¥Üt/f›ld_ŒŸl_ba£d_cÚfig.h
"

20 
	~"¹c_ba£/loggšg.h
"

21 
	~"¹c_ba£/num”ics/§ã_cÚv”siÚs.h
"

23 
Çme¥aû
 
	gweb¹c
 {

25 
	gÇme¥aû
 {

27 cÚ¡ 
	gkDeçuÉAcû±edQueueMs
 = 250;

29 cÚ¡ 
	gkDeçuÉMšPushbackT¬g‘B™¿‹Bps
 = 30000;

31 cÚ¡ 
	gkU£Ba£H—vyVp8Tl3R©eAÎoÿtiÚF›ldTrŸlName
[] =

34 cÚ¡ * 
	gkVideoHy¡”esisF›ldTrŸÊame
 =

36 cÚ¡ * 
	gkSü“nsh¬eHy¡”esisF›ldTrŸÊame
 =

39 
boŞ
 
IsEÇbËd
(cÚ¡ 
WebRtcKeyV®ueCÚfig
* cÚ¡ 
key_v®ue_cÚfig
,

40 
ab¦
::
¡ršg_v›w
 
key
) {

41  
ab¦
::
S¹sW™h
(
key_v®ue_cÚfig
->
Lookup
(
key
), "Enabled");

44 
P¬£Hy¡”esisFaùÜ
(cÚ¡ 
WebRtcKeyV®ueCÚfig
* cÚ¡ 
key_v®ue_cÚfig
,

45 
ab¦
::
¡ršg_v›w
 
key
,

46 * 
ouut_v®ue
) {

47 
	g¡d
::
¡ršg
 
group_Çme
 = 
key_v®ue_cÚfig
->
Lookup
(
key
);

48 
	g³rûÁ
 = 0;

49 ià(!
	ggroup_Çme
.
em±y
(è&& 
ssÿnf
(
group_Çme
.
c_¡r
(), "%d", &
³rûÁ
) == 1 &&

50 
³rûÁ
 >= 0) {

51 *
ouut_v®ue
 = 1.0 + (
³rûÁ
 / 100.0);

57 
cÚ¡ex´
 
	gCÚge¡iÚWšdowCÚfig
::
kKey
[];

59 
	g¡d
::
unique_±r
<
SŒuùP¬am‘”sP¬£r
> 
CÚge¡iÚWšdowCÚfig
::
P¬£r
() {

60  
SŒuùP¬am‘”sP¬£r
::
C»©e
("QueueSize", &
queue_size_ms
,

61 "MšB™¿‹", &
mš_b™¿‹_bps
,

62 "In™Wš", &
š™Ÿl_d©a_wšdow
,

63 "DrİF¿me", &
drİ_äame_Úly
);

67 
CÚge¡iÚWšdowCÚfig
 
	gCÚge¡iÚWšdowCÚfig
::
P¬£
(
ab¦
::
¡ršg_v›w
 
cÚfig
) {

68 
CÚge¡iÚWšdowCÚfig
 
»s
;

69 
	g»s
.
P¬£r
()->
P¬£
(
cÚfig
);

70  
	g»s
;

73 
cÚ¡ex´
 
	gVideoR©eCÚŒŞCÚfig
::
kKey
[];

75 
	g¡d
::
unique_±r
<
SŒuùP¬am‘”sP¬£r
> 
VideoR©eCÚŒŞCÚfig
::
P¬£r
() {

77  
SŒuùP¬am‘”sP¬£r
::
C»©e
(

78 "·cšg_çùÜ", &
·cšg_çùÜ
,

79 "®r_´obšg", &
®r_´obšg
,

80 "vp8_qp_max", &
vp8_qp_max
,

81 "vp8_mš_pix–s", &
vp8_mš_pix–s
,

82 "Œu¡_vp8", &
Œu¡_vp8
,

83 "Œu¡_vp9", &
Œu¡_vp9
,

84 "video_hy¡”esis", &
video_hy¡”esis
,

85 "sü“nsh¬e_hy¡”esis", &
sü“nsh¬e_hy¡”esis
,

86 "´obe_max_®loÿtiÚ", &
´obe_max_®loÿtiÚ
,

87 "b™¿‹_adju¡”", &
b™¿‹_adju¡”
,

88 "adju¡”_u£_h—droom", &
adju¡”_u£_h—droom
,

89 "vp8_s0_boo¡", &
vp8_s0_boo¡
,

90 "vp8_ba£_h—vy_3_®loc", &
vp8_ba£_h—vy_3_®loc
,

91 "vp8_dyÇmic_¿‹", &
vp8_dyÇmic_¿‹
,

92 "vp9_dyÇmic_¿‹", &
vp9_dyÇmic_¿‹
);

95 
	gR©eCÚŒŞS‘tšgs
::
R©eCÚŒŞS‘tšgs
(

96 cÚ¡ 
WebRtcKeyV®ueCÚfig
* cÚ¡ 
key_v®ue_cÚfig
)

97 : 
cÚge¡iÚ_wšdow_cÚfig_
(
CÚge¡iÚWšdowCÚfig
::
P¬£
(

98 
key_v®ue_cÚfig
->
Lookup
(
CÚge¡iÚWšdowCÚfig
::
kKey
))) {

99 
video_cÚfig_
.
vp8_ba£_h—vy_3_®loc
 = 
IsEÇbËd
(

100 
key_v®ue_cÚfig
, 
kU£Ba£H—vyVp8Tl3R©eAÎoÿtiÚF›ldTrŸlName
);

101 
P¬£Hy¡”esisFaùÜ
(
key_v®ue_cÚfig
, 
kVideoHy¡”esisF›ldTrŸÊame
,

102 &
video_cÚfig_
.
video_hy¡”esis
);

103 
P¬£Hy¡”esisFaùÜ
(
key_v®ue_cÚfig
, 
kSü“nsh¬eHy¡”esisF›ldTrŸÊame
,

104 &
video_cÚfig_
.
sü“nsh¬e_hy¡”esis
);

105 
	gvideo_cÚfig_
.
P¬£r
()->
P¬£
(

106 
key_v®ue_cÚfig
->
Lookup
(
VideoR©eCÚŒŞCÚfig
::
kKey
));

109 
	gR©eCÚŒŞS‘tšgs
::~
R©eCÚŒŞS‘tšgs
() = ;

110 
	gR©eCÚŒŞS‘tšgs
::
R©eCÚŒŞS‘tšgs
(RateControlSettings&&) = ;

112 
R©eCÚŒŞS‘tšgs
 
	gR©eCÚŒŞS‘tšgs
::
P¬£FromF›ldTrŸls
() {

113 
F›ldTrŸlBa£dCÚfig
 
f›ld_ŒŸl_cÚfig
;

114  
R©eCÚŒŞS‘tšgs
(&
f›ld_ŒŸl_cÚfig
);

117 
R©eCÚŒŞS‘tšgs
 
	gR©eCÚŒŞS‘tšgs
::
P¬£FromKeyV®ueCÚfig
(

118 cÚ¡ 
WebRtcKeyV®ueCÚfig
* cÚ¡ 
key_v®ue_cÚfig
) {

119 
F›ldTrŸlBa£dCÚfig
 
f›ld_ŒŸl_cÚfig
;

120  
R©eCÚŒŞS‘tšgs
(
key_v®ue_cÚfig
 ? key_value_config

121 : &
f›ld_ŒŸl_cÚfig
);

124 
boŞ
 
	gR©eCÚŒŞS‘tšgs
::
U£CÚge¡iÚWšdow
() const {

125  
¡©ic_ÿ¡
<
boŞ
>(
cÚge¡iÚ_wšdow_cÚfig_
.
queue_size_ms
);

128 
št64_t
 
	gR©eCÚŒŞS‘tšgs
::
G‘CÚge¡iÚWšdowAdd™iÚ®TimeMs
() const {

129  
cÚge¡iÚ_wšdow_cÚfig_
.
queue_size_ms
.
v®ue_Ü
(

130 
kDeçuÉAcû±edQueueMs
);

133 
boŞ
 
	gR©eCÚŒŞS‘tšgs
::
U£CÚge¡iÚWšdowPushback
() const {

134  
cÚge¡iÚ_wšdow_cÚfig_
.
queue_size_ms
 &&

135 
cÚge¡iÚ_wšdow_cÚfig_
.
mš_b™¿‹_bps
;

138 
boŞ
 
	gR©eCÚŒŞS‘tšgs
::
U£CÚge¡iÚWšdowDrİF¿meOÆy
() const {

139  
cÚge¡iÚ_wšdow_cÚfig_
.
drİ_äame_Úly
;

142 
ušt32_t
 
	gR©eCÚŒŞS‘tšgs
::
CÚge¡iÚWšdowMšPushbackT¬g‘B™¿‹Bps
()

144  
cÚge¡iÚ_wšdow_cÚfig_
.
mš_b™¿‹_bps
.
v®ue_Ü
(

145 
kDeçuÉMšPushbackT¬g‘B™¿‹Bps
);

148 
	gab¦
::
İtiÚ®
<
D©aSize
>

149 
R©eCÚŒŞS‘tšgs
::
CÚge¡iÚWšdowIn™ŸlD©aWšdow
() const {

150  
cÚge¡iÚ_wšdow_cÚfig_
.
š™Ÿl_d©a_wšdow
;

153 
	gab¦
::
İtiÚ®
<> 
R©eCÚŒŞS‘tšgs
::
G‘PacšgFaùÜ
() const {

154  
video_cÚfig_
.
·cšg_çùÜ
;

157 
boŞ
 
	gR©eCÚŒŞS‘tšgs
::
U£AÌProbšg
() const {

158  
video_cÚfig_
.
®r_´obšg
;

161 
	gab¦
::
İtiÚ®
<> 
R©eCÚŒŞS‘tšgs
::
LibvpxVp8QpMax
() const {

162 ià(
video_cÚfig_
.
vp8_qp_max
 &&

163 (*
video_cÚfig_
.
vp8_qp_max
 < 0 || *video_config_.vp8_qp_max > 63)) {

164 
RTC_LOG
(
LS_WARNING
) << "Unsupported vp8_qp_max_ value, ignored.";

165  
	gab¦
::
nuÎİt
;

167  
	gvideo_cÚfig_
.
	gvp8_qp_max
;

170 
	gab¦
::
İtiÚ®
<> 
R©eCÚŒŞS‘tšgs
::
LibvpxVp8MšPix–s
() const {

171 ià(
video_cÚfig_
.
vp8_mš_pix–s
 && *video_config_.vp8_min_pixels < 1) {

172  
ab¦
::
nuÎİt
;

174  
	gvideo_cÚfig_
.
	gvp8_mš_pix–s
;

177 
boŞ
 
	gR©eCÚŒŞS‘tšgs
::
LibvpxVp8Tru¡edR©eCÚŒŞËr
() const {

178  
video_cÚfig_
.
Œu¡_vp8
;

181 
boŞ
 
	gR©eCÚŒŞS‘tšgs
::
Vp8Boo¡Ba£Lay”Qu®™y
() const {

182  
video_cÚfig_
.
vp8_s0_boo¡
;

185 
boŞ
 
	gR©eCÚŒŞS‘tšgs
::
Vp8DyÇmicR©eS‘tšgs
() const {

186  
video_cÚfig_
.
vp8_dyÇmic_¿‹
;

189 
boŞ
 
	gR©eCÚŒŞS‘tšgs
::
LibvpxVp9Tru¡edR©eCÚŒŞËr
() const {

190  
video_cÚfig_
.
Œu¡_vp9
;

193 
boŞ
 
	gR©eCÚŒŞS‘tšgs
::
Vp9DyÇmicR©eS‘tšgs
() const {

194  
video_cÚfig_
.
vp9_dyÇmic_¿‹
;

197 
	gR©eCÚŒŞS‘tšgs
::
G‘Simulÿ¡Hy¡”esisFaùÜ
(

198 
VideoCodecMode
 
mode
) const {

199 ià(
mode
 =ğ
VideoCodecMode
::
kSü“nsh¬šg
) {

200  
video_cÚfig_
.
sü“nsh¬e_hy¡”esis
;

202  
	gvideo_cÚfig_
.
	gvideo_hy¡”esis
;

205 
	gR©eCÚŒŞS‘tšgs
::
G‘Simulÿ¡Hy¡”esisFaùÜ
(

206 
VideoEncod”CÚfig
::
CÚ‹ÁTy³
 
cÚ‹Á_ty³
) const {

207 ià(
cÚ‹Á_ty³
 =ğ
VideoEncod”CÚfig
::
CÚ‹ÁTy³
::
kSü“n
) {

208  
video_cÚfig_
.
sü“nsh¬e_hy¡”esis
;

210  
	gvideo_cÚfig_
.
	gvideo_hy¡”esis
;

213 
boŞ
 
	gR©eCÚŒŞS‘tšgs
::
Vp8Ba£H—vyTl3R©eAÎoÿtiÚ
() const {

214  
video_cÚfig_
.
vp8_ba£_h—vy_3_®loc
;

217 
boŞ
 
	gR©eCÚŒŞS‘tšgs
::
Trigg”ProbeOnMaxAÎoÿ‹dB™¿‹Chªge
() const {

218  
video_cÚfig_
.
´obe_max_®loÿtiÚ
;

221 
boŞ
 
	gR©eCÚŒŞS‘tšgs
::
U£Encod”B™¿‹Adju¡”
() const {

222  
video_cÚfig_
.
b™¿‹_adju¡”
;

225 
boŞ
 
	gR©eCÚŒŞS‘tšgs
::
B™¿‹Adju¡”CªU£N‘wÜkH—droom
() const {

226  
video_cÚfig_
.
adju¡”_u£_h—droom
;

	@experiments/rate_control_settings.h

11 #iâdeà
RTC_BASE_EXPERIMENTS_RATE_CONTROL_SETTINGS_H_


12 
	#RTC_BASE_EXPERIMENTS_RATE_CONTROL_SETTINGS_H_


	)

14 
	~"ab¦/ty³s/İtiÚ®.h
"

15 
	~"­i/Œª¥Üt/web¹c_key_v®ue_cÚfig.h
"

16 
	~"­i/un™s/d©a_size.h
"

17 
	~"­i/video_codecs/video_codec.h
"

18 
	~"­i/video_codecs/video_’cod”_cÚfig.h
"

19 
	~"¹c_ba£/ex³rim’ts/¡ruù_·¿m‘”s_·r£r.h
"

21 
Çme¥aû
 
	gweb¹c
 {

23 
	sCÚge¡iÚWšdowCÚfig
 {

24 
cÚ¡ex´
 
	gkKey
[] = "WebRTC-CongestionWindow";

25 
	gab¦
::
İtiÚ®
<> 
queue_size_ms
;

26 
	gab¦
::
İtiÚ®
<> 
mš_b™¿‹_bps
;

27 
	gab¦
::
İtiÚ®
<
D©aSize
> 
š™Ÿl_d©a_wšdow
;

28 
boŞ
 
	gdrİ_äame_Úly
 = 
çl£
;

29 
	g¡d
::
unique_±r
<
SŒuùP¬am‘”sP¬£r
> 
P¬£r
();

30 
CÚge¡iÚWšdowCÚfig
 
P¬£
(
ab¦
::
¡ršg_v›w
 
cÚfig
);

33 
	sVideoR©eCÚŒŞCÚfig
 {

34 
cÚ¡ex´
 
	gkKey
[] = "WebRTC-VideoRateControl";

35 
	gab¦
::
İtiÚ®
<> 
·cšg_çùÜ
;

36 
boŞ
 
	g®r_´obšg
 = 
çl£
;

37 
	gab¦
::
İtiÚ®
<> 
vp8_qp_max
;

38 
	gab¦
::
İtiÚ®
<> 
vp8_mš_pix–s
;

39 
boŞ
 
	gŒu¡_vp8
 = 
çl£
;

40 
boŞ
 
	gŒu¡_vp9
 = 
çl£
;

41 
	gvideo_hy¡”esis
 = 1.0;

43 
	gsü“nsh¬e_hy¡”esis
 = 1.35;

44 
boŞ
 
	g´obe_max_®loÿtiÚ
 = 
Œue
;

45 
boŞ
 
	gb™¿‹_adju¡”
 = 
çl£
;

46 
boŞ
 
	gadju¡”_u£_h—droom
 = 
çl£
;

47 
boŞ
 
	gvp8_s0_boo¡
 = 
Œue
;

48 
boŞ
 
	gvp8_ba£_h—vy_3_®loc
 = 
çl£
;

49 
boŞ
 
	gvp8_dyÇmic_¿‹
 = 
çl£
;

50 
boŞ
 
	gvp9_dyÇmic_¿‹
 = 
çl£
;

52 
	g¡d
::
unique_±r
<
SŒuùP¬am‘”sP¬£r
> 
P¬£r
();

55 şas 
	cR©eCÚŒŞS‘tšgs
 
	gfš®
 {

56 
	gpublic
:

57 ~
R©eCÚŒŞS‘tšgs
();

58 
R©eCÚŒŞS‘tšgs
(RateControlSettings&&);

60 
R©eCÚŒŞS‘tšgs
 
P¬£FromF›ldTrŸls
();

61 
R©eCÚŒŞS‘tšgs
 
P¬£FromKeyV®ueCÚfig
(

62 cÚ¡ 
WebRtcKeyV®ueCÚfig
* cÚ¡ 
key_v®ue_cÚfig
);

67 
boŞ
 
U£CÚge¡iÚWšdow
() const;

68 
št64_t
 
G‘CÚge¡iÚWšdowAdd™iÚ®TimeMs
() const;

69 
boŞ
 
U£CÚge¡iÚWšdowPushback
() const;

70 
boŞ
 
U£CÚge¡iÚWšdowDrİF¿meOÆy
() const;

71 
ušt32_t
 
CÚge¡iÚWšdowMšPushbackT¬g‘B™¿‹Bps
() const;

72 
	gab¦
::
İtiÚ®
<
D©aSize
> 
CÚge¡iÚWšdowIn™ŸlD©aWšdow
() const;

74 
	gab¦
::
İtiÚ®
<> 
G‘PacšgFaùÜ
() const;

75 
boŞ
 
U£AÌProbšg
() const;

77 
	gab¦
::
İtiÚ®
<> 
LibvpxVp8QpMax
() const;

78 
	gab¦
::
İtiÚ®
<> 
LibvpxVp8MšPix–s
() const;

79 
boŞ
 
LibvpxVp8Tru¡edR©eCÚŒŞËr
() const;

80 
boŞ
 
Vp8Boo¡Ba£Lay”Qu®™y
() const;

81 
boŞ
 
Vp8DyÇmicR©eS‘tšgs
() const;

82 
boŞ
 
LibvpxVp9Tru¡edR©eCÚŒŞËr
() const;

83 
boŞ
 
Vp9DyÇmicR©eS‘tšgs
() const;

87 
G‘Simulÿ¡Hy¡”esisFaùÜ
(
VideoCodecMode
 
mode
) const;

88 
G‘Simulÿ¡Hy¡”esisFaùÜ
(

89 
VideoEncod”CÚfig
::
CÚ‹ÁTy³
 
cÚ‹Á_ty³
) const;

91 
boŞ
 
Vp8Ba£H—vyTl3R©eAÎoÿtiÚ
() const;

93 
boŞ
 
Trigg”ProbeOnMaxAÎoÿ‹dB™¿‹Chªge
() const;

94 
boŞ
 
U£Encod”B™¿‹Adju¡”
() const;

95 
boŞ
 
B™¿‹Adju¡”CªU£N‘wÜkH—droom
() const;

97 
	g´iv©e
:

98 
ex¶ic™
 
R©eCÚŒŞS‘tšgs
(

99 cÚ¡ 
WebRtcKeyV®ueCÚfig
* cÚ¡ 
key_v®ue_cÚfig
);

101 cÚ¡ 
CÚge¡iÚWšdowCÚfig
 
	gcÚge¡iÚ_wšdow_cÚfig_
;

102 
VideoR©eCÚŒŞCÚfig
 
	gvideo_cÚfig_
;

	@experiments/rate_control_settings_unittest.cc

11 
	~"¹c_ba£/ex³rim’ts/¿‹_cÚŒŞ_£‰šgs.h
"

13 
	~"­i/video_codecs/video_codec.h
"

14 
	~"­i/video_codecs/video_’cod”_cÚfig.h
"

15 
	~"‹¡/f›ld_ŒŸl.h
"

16 
	~"‹¡/g‹¡.h
"

18 
Çme¥aû
 
	gweb¹c
 {

20 
	gÇme¥aû
 {

22 
TEST
(
R©eCÚŒŞS‘tšgsTe¡
, 
CÚge¡iÚWšdow
) {

23 
EXPECT_FALSE
(

24 
R©eCÚŒŞS‘tšgs
::
P¬£FromF›ldTrŸls
().
U£CÚge¡iÚWšdow
());

26 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

28 cÚ¡ 
R©eCÚŒŞS‘tšgs
 
	g£‰šgs_aá”
 =

29 
R©eCÚŒŞS‘tšgs
::
P¬£FromF›ldTrŸls
();

30 
EXPECT_TRUE
(
£‰šgs_aá”
.
U£CÚge¡iÚWšdow
());

31 
EXPECT_EQ
(
£‰šgs_aá”
.
G‘CÚge¡iÚWšdowAdd™iÚ®TimeMs
(), 100);

34 
TEST
(
R©eCÚŒŞS‘tšgsTe¡
, 
CÚge¡iÚWšdowPushback
) {

35 
EXPECT_FALSE
(
R©eCÚŒŞS‘tšgs
::
P¬£FromF›ldTrŸls
()

36 .
U£CÚge¡iÚWšdowPushback
());

38 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

40 cÚ¡ 
R©eCÚŒŞS‘tšgs
 
	g£‰šgs_aá”
 =

41 
R©eCÚŒŞS‘tšgs
::
P¬£FromF›ldTrŸls
();

42 
EXPECT_TRUE
(
£‰šgs_aá”
.
U£CÚge¡iÚWšdowPushback
());

43 
EXPECT_EQ
(
£‰šgs_aá”
.
CÚge¡iÚWšdowMšPushbackT¬g‘B™¿‹Bps
(),

47 
TEST
(
R©eCÚŒŞS‘tšgsTe¡
, 
PacšgFaùÜ
) {

48 
EXPECT_FALSE
(
R©eCÚŒŞS‘tšgs
::
P¬£FromF›ldTrŸls
().
G‘PacšgFaùÜ
());

50 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

52 cÚ¡ 
R©eCÚŒŞS‘tšgs
 
	g£‰šgs_aá”
 =

53 
R©eCÚŒŞS‘tšgs
::
P¬£FromF›ldTrŸls
();

56 
ASSERT_TRUE
(
£‰šgs_aá”
.
G‘PacšgFaùÜ
());

57 
EXPECT_DOUBLE_EQ
(*
£‰šgs_aá”
.
G‘PacšgFaùÜ
(), 1.2);

60 
TEST
(
R©eCÚŒŞS‘tšgsTe¡
, 
AÌProbšg
) {

61 
EXPECT_FALSE
(
R©eCÚŒŞS‘tšgs
::
P¬£FromF›ldTrŸls
().
U£AÌProbšg
());

63 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

65 
EXPECT_TRUE
(
R©eCÚŒŞS‘tšgs
::
P¬£FromF›ldTrŸls
().
U£AÌProbšg
());

68 
TEST
(
R©eCÚŒŞS‘tšgsTe¡
, 
LibvpxVp8QpMax
) {

69 
EXPECT_FALSE
(
R©eCÚŒŞS‘tšgs
::
P¬£FromF›ldTrŸls
().
LibvpxVp8QpMax
());

71 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

73 
EXPECT_EQ
(
R©eCÚŒŞS‘tšgs
::
P¬£FromF›ldTrŸls
().
LibvpxVp8QpMax
(), 50);

76 
TEST
(
R©eCÚŒŞS‘tšgsTe¡
, 
DÛsNÙG‘TooL¬geLibvpxVp8QpMaxV®ue
) {

77 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

79 
EXPECT_FALSE
(
R©eCÚŒŞS‘tšgs
::
P¬£FromF›ldTrŸls
().
LibvpxVp8QpMax
());

82 
TEST
(
R©eCÚŒŞS‘tšgsTe¡
, 
LibvpxVp8MšPix–s
) {

83 
EXPECT_FALSE
(

84 
R©eCÚŒŞS‘tšgs
::
P¬£FromF›ldTrŸls
().
LibvpxVp8MšPix–s
());

86 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

88 
EXPECT_EQ
(
R©eCÚŒŞS‘tšgs
::
P¬£FromF›ldTrŸls
().
LibvpxVp8MšPix–s
(),

92 
TEST
(
R©eCÚŒŞS‘tšgsTe¡
, 
DÛsNÙG‘TooSm®lLibvpxVp8MšPix–V®ue
) {

93 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

95 
EXPECT_FALSE
(

96 
R©eCÚŒŞS‘tšgs
::
P¬£FromF›ldTrŸls
().
LibvpxVp8MšPix–s
());

99 
TEST
(
R©eCÚŒŞS‘tšgsTe¡
, 
LibvpxTru¡edR©eCÚŒŞËr
) {

100 cÚ¡ 
R©eCÚŒŞS‘tšgs
 
	g£‰šgs_befÜe
 =

101 
R©eCÚŒŞS‘tšgs
::
P¬£FromF›ldTrŸls
();

102 
EXPECT_FALSE
(
£‰šgs_befÜe
.
LibvpxVp8Tru¡edR©eCÚŒŞËr
());

103 
EXPECT_FALSE
(
£‰šgs_befÜe
.
LibvpxVp9Tru¡edR©eCÚŒŞËr
());

105 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

107 cÚ¡ 
R©eCÚŒŞS‘tšgs
 
	g£‰šgs_aá”
 =

108 
R©eCÚŒŞS‘tšgs
::
P¬£FromF›ldTrŸls
();

109 
EXPECT_TRUE
(
£‰šgs_aá”
.
LibvpxVp8Tru¡edR©eCÚŒŞËr
());

110 
EXPECT_TRUE
(
£‰šgs_aá”
.
LibvpxVp9Tru¡edR©eCÚŒŞËr
());

113 
TEST
(
R©eCÚŒŞS‘tšgsTe¡
, 
Vp8Ba£H—vyTl3R©eAÎoÿtiÚLegacyKey
) {

114 cÚ¡ 
R©eCÚŒŞS‘tšgs
 
	g£‰šgs_befÜe
 =

115 
R©eCÚŒŞS‘tšgs
::
P¬£FromF›ldTrŸls
();

116 
EXPECT_FALSE
(
£‰šgs_befÜe
.
Vp8Ba£H—vyTl3R©eAÎoÿtiÚ
());

118 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

120 cÚ¡ 
R©eCÚŒŞS‘tšgs
 
	g£‰šgs_aá”
 =

121 
R©eCÚŒŞS‘tšgs
::
P¬£FromF›ldTrŸls
();

122 
EXPECT_TRUE
(
£‰šgs_aá”
.
Vp8Ba£H—vyTl3R©eAÎoÿtiÚ
());

125 
TEST
(
R©eCÚŒŞS‘tšgsTe¡
,

126 
Vp8Ba£H—vyTl3R©eAÎoÿtiÚVideoR©eCÚŒŞKey
) {

127 cÚ¡ 
R©eCÚŒŞS‘tšgs
 
	g£‰šgs_befÜe
 =

128 
R©eCÚŒŞS‘tšgs
::
P¬£FromF›ldTrŸls
();

129 
EXPECT_FALSE
(
£‰šgs_befÜe
.
Vp8Ba£H—vyTl3R©eAÎoÿtiÚ
());

131 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

133 cÚ¡ 
R©eCÚŒŞS‘tšgs
 
	g£‰šgs_aá”
 =

134 
R©eCÚŒŞS‘tšgs
::
P¬£FromF›ldTrŸls
();

135 
EXPECT_TRUE
(
£‰šgs_aá”
.
Vp8Ba£H—vyTl3R©eAÎoÿtiÚ
());

138 
TEST
(
R©eCÚŒŞS‘tšgsTe¡
,

139 
Vp8Ba£H—vyTl3R©eAÎoÿtiÚVideoR©eCÚŒŞKeyOv”ridesLegacyKey
) {

140 cÚ¡ 
R©eCÚŒŞS‘tšgs
 
	g£‰šgs_befÜe
 =

141 
R©eCÚŒŞS‘tšgs
::
P¬£FromF›ldTrŸls
();

142 
EXPECT_FALSE
(
£‰šgs_befÜe
.
Vp8Ba£H—vyTl3R©eAÎoÿtiÚ
());

144 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

147 cÚ¡ 
R©eCÚŒŞS‘tšgs
 
	g£‰šgs_aá”
 =

148 
R©eCÚŒŞS‘tšgs
::
P¬£FromF›ldTrŸls
();

149 
EXPECT_FALSE
(
£‰šgs_aá”
.
Vp8Ba£H—vyTl3R©eAÎoÿtiÚ
());

152 
TEST
(
R©eCÚŒŞS‘tšgsTe¡
, 
G‘Simulÿ¡Hy¡”esisFaùÜ
) {

153 cÚ¡ 
R©eCÚŒŞS‘tšgs
 
	g£‰šgs_befÜe
 =

154 
R©eCÚŒŞS‘tšgs
::
P¬£FromF›ldTrŸls
();

155 
EXPECT_DOUBLE_EQ
(
£‰šgs_befÜe
.
G‘Simulÿ¡Hy¡”esisFaùÜ
(

156 
VideoCodecMode
::
kR—ÉimeVideo
),

158 
EXPECT_DOUBLE_EQ
(
£‰šgs_befÜe
.
G‘Simulÿ¡Hy¡”esisFaùÜ
(

159 
VideoEncod”CÚfig
::
CÚ‹ÁTy³
::
kR—ÉimeVideo
),

161 
EXPECT_DOUBLE_EQ
(
£‰šgs_befÜe
.
G‘Simulÿ¡Hy¡”esisFaùÜ
(

162 
VideoCodecMode
::
kSü“nsh¬šg
),

164 
EXPECT_DOUBLE_EQ
(
£‰šgs_befÜe
.
G‘Simulÿ¡Hy¡”esisFaùÜ
(

165 
VideoEncod”CÚfig
::
CÚ‹ÁTy³
::
kSü“n
),

168 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

171 cÚ¡ 
R©eCÚŒŞS‘tšgs
 
	g£‰šgs_aá”
 =

172 
R©eCÚŒŞS‘tšgs
::
P¬£FromF›ldTrŸls
();

174 
EXPECT_DOUBLE_EQ
(
£‰šgs_aá”
.
G‘Simulÿ¡Hy¡”esisFaùÜ
(

175 
VideoCodecMode
::
kR—ÉimeVideo
),

177 
EXPECT_DOUBLE_EQ
(
£‰šgs_aá”
.
G‘Simulÿ¡Hy¡”esisFaùÜ
(

178 
VideoEncod”CÚfig
::
CÚ‹ÁTy³
::
kR—ÉimeVideo
),

180 
EXPECT_DOUBLE_EQ
(
£‰šgs_aá”
.
G‘Simulÿ¡Hy¡”esisFaùÜ
(

181 
VideoCodecMode
::
kSü“nsh¬šg
),

183 
EXPECT_DOUBLE_EQ
(
£‰šgs_aá”
.
G‘Simulÿ¡Hy¡”esisFaùÜ
(

184 
VideoEncod”CÚfig
::
CÚ‹ÁTy³
::
kSü“n
),

188 
TEST
(
R©eCÚŒŞS‘tšgsTe¡
, 
Trigg”ProbeOnMaxAÎoÿ‹dB™¿‹Chªge
) {

189 
EXPECT_TRUE
(
R©eCÚŒŞS‘tšgs
::
P¬£FromF›ldTrŸls
()

190 .
Trigg”ProbeOnMaxAÎoÿ‹dB™¿‹Chªge
());

192 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

194 
EXPECT_FALSE
(
R©eCÚŒŞS‘tšgs
::
P¬£FromF›ldTrŸls
()

195 .
Trigg”ProbeOnMaxAÎoÿ‹dB™¿‹Chªge
());

198 
TEST
(
R©eCÚŒŞS‘tšgsTe¡
, 
U£Encod”B™¿‹Adju¡”
) {

200 
EXPECT_FALSE
(

201 
R©eCÚŒŞS‘tšgs
::
P¬£FromF›ldTrŸls
().
U£Encod”B™¿‹Adju¡”
());

205 
	g‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

207 
EXPECT_TRUE
(
R©eCÚŒŞS‘tšgs
::
P¬£FromF›ldTrŸls
()

208 .
U£Encod”B™¿‹Adju¡”
());

	@experiments/rtt_mult_experiment.cc

10 
	~"¹c_ba£/ex³rim’ts/¹t_muÉ_ex³rim’t.h
"

12 
	~<¡dio.h
>

14 
	~<®gÜ™hm
>

15 
	~<¡ršg
>

17 
	~"¹c_ba£/loggšg.h
"

18 
	~"sy¡em_w¿µ”s/šşude/f›ld_ŒŸl.h
"

20 
Çme¥aû
 
	gweb¹c
 {

22 
	gÇme¥aû
 {

23 cÚ¡ 
	gkR‰MuÉEx³rim’t
[] = "WebRTC-RttMult";

24 cÚ¡ 
	gmax_¹t_muÉ_£‰šg
 = 1.0;

25 cÚ¡ 
	gmš_¹t_muÉ_£‰šg
 = 0.0;

26 cÚ¡ 
	gmax_¹t_muÉ_add_ÿp_ms
 = 2000.0;

27 cÚ¡ 
	gmš_¹t_muÉ_add_ÿp_ms
 = 0.0;

30 
boŞ
 
	gR‰MuÉEx³rim’t
::
R‰MuÉEÇbËd
() {

31  
f›ld_ŒŸl
::
IsEÇbËd
(
kR‰MuÉEx³rim’t
);

34 
	gab¦
::
İtiÚ®
<
R‰MuÉEx³rim’t
::
S‘tšgs
>

35 
R‰MuÉEx³rim’t
::
G‘R‰MuÉV®ue
() {

36 ià(!
R‰MuÉEx³rim’t
::
R‰MuÉEÇbËd
())

37  
ab¦
::
nuÎİt
;

38 cÚ¡ 
	g¡d
::
¡ršg
 
group
 =

39 
web¹c
::
f›ld_ŒŸl
::
FšdFuÎName
(
kR‰MuÉEx³rim’t
);

40 ià(
	ggroup
.
em±y
()) {

41 
RTC_LOG
(
LS_WARNING
) << "Could‚ot find„tt_mult_experiment.";

42  
	gab¦
::
nuÎİt
;

45 
S‘tšgs
 
	gs
;

46 ià(
ssÿnf
(
group
.
c_¡r
(), "EÇbËd-%f,%f", &
s
.
¹t_muÉ_£‰šg
,

47 &
s
.
¹t_muÉ_add_ÿp_ms
) != 2) {

48 
RTC_LOG
(
LS_WARNING
) << "Invalid‚umber of…arameters…rovided.";

49  
	gab¦
::
nuÎİt
;

52 
	gs
.
	g¹t_muÉ_£‰šg
 = 
¡d
::
mš
(
s
.
¹t_muÉ_£‰šg
, 
max_¹t_muÉ_£‰šg
);

53 
	gs
.
	g¹t_muÉ_£‰šg
 = 
¡d
::
max
(
s
.
¹t_muÉ_£‰šg
, 
mš_¹t_muÉ_£‰šg
);

54 
	gs
.
	g¹t_muÉ_add_ÿp_ms
 =

55 
¡d
::
mš
(
s
.
¹t_muÉ_add_ÿp_ms
, 
max_¹t_muÉ_add_ÿp_ms
);

56 
	gs
.
	g¹t_muÉ_add_ÿp_ms
 =

57 
¡d
::
max
(
s
.
¹t_muÉ_add_ÿp_ms
, 
mš_¹t_muÉ_add_ÿp_ms
);

58 
RTC_LOG
(
LS_INFO
) << "rtt_multƒxperiment:„tt_mult value = "

59 << 
	gs
.
	g¹t_muÉ_£‰šg


60 << "„‰_muÉ‡dd™iÚ c­ = " << 
	gs
.
	g¹t_muÉ_add_ÿp_ms


62  
	gs
;

	@experiments/rtt_mult_experiment.h

10 #iâdeà
RTC_BASE_EXPERIMENTS_RTT_MULT_EXPERIMENT_H_


11 
	#RTC_BASE_EXPERIMENTS_RTT_MULT_EXPERIMENT_H_


	)

13 
	~"ab¦/ty³s/İtiÚ®.h
"

15 
Çme¥aû
 
	gweb¹c
 {

17 şas 
	cR‰MuÉEx³rim’t
 {

18 
	gpublic
:

19 
	sS‘tšgs
 {

20 
¹t_muÉ_£‰šg
;

22 
	g¹t_muÉ_add_ÿp_ms
;

27 
boŞ
 
R‰MuÉEÇbËd
();

30 
	gab¦
::
İtiÚ®
<
R‰MuÉEx³rim’t
::
S‘tšgs
> 
G‘R‰MuÉV®ue
();

	@experiments/rtt_mult_experiment_unittest.cc

11 
	~"¹c_ba£/ex³rim’ts/¹t_muÉ_ex³rim’t.h
"

13 
	~"‹¡/f›ld_ŒŸl.h
"

14 
	~"‹¡/g‹¡.h
"

16 
Çme¥aû
 
	gweb¹c
 {

18 
TEST
(
R‰MuÉEx³rim’tTe¡
, 
R‰MuÉDi§bËdByDeçuÉ
) {

19 
EXPECT_FALSE
(
R‰MuÉEx³rim’t
::
R‰MuÉEÇbËd
());

22 
TEST
(
R‰MuÉEx³rim’tTe¡
, 
R‰MuÉEÇbËdByF›ldTrŸl
) {

23 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

25 
EXPECT_TRUE
(
R‰MuÉEx³rim’t
::
R‰MuÉEÇbËd
());

28 
TEST
(
R‰MuÉEx³rim’tTe¡
, 
R‰MuÉTe¡V®ue
) {

29 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

31 
EXPECT_EQ
(0.6f, 
R‰MuÉEx³rim’t
::
G‘R‰MuÉV®ue
()->
¹t_muÉ_£‰šg
);

32 
EXPECT_EQ
(100.0f, 
R‰MuÉEx³rim’t
::
G‘R‰MuÉV®ue
()->
¹t_muÉ_add_ÿp_ms
);

35 
TEST
(
R‰MuÉEx³rim’tTe¡
, 
R‰MuÉTe¡M®fÜmedEÇbËd
) {

36 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

38 
EXPECT_FALSE
(
R‰MuÉEx³rim’t
::
R‰MuÉEÇbËd
());

39 
EXPECT_FALSE
(
R‰MuÉEx³rim’t
::
G‘R‰MuÉV®ue
());

42 
TEST
(
R‰MuÉEx³rim’tTe¡
, 
R‰MuÉTe¡V®ueOutOfBoundsPos™ive
) {

43 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

45 
EXPECT_EQ
(1.0f, 
R‰MuÉEx³rim’t
::
G‘R‰MuÉV®ue
()->
¹t_muÉ_£‰šg
);

46 
EXPECT_EQ
(2000.0f, 
R‰MuÉEx³rim’t
::
G‘R‰MuÉV®ue
()->
¹t_muÉ_add_ÿp_ms
);

49 
TEST
(
R‰MuÉEx³rim’tTe¡
, 
R‰MuÉTe¡V®ueOutOfBoundsNeg©ive
) {

50 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

52 
EXPECT_EQ
(0.0f, 
R‰MuÉEx³rim’t
::
G‘R‰MuÉV®ue
()->
¹t_muÉ_£‰šg
);

53 
EXPECT_EQ
(0.0f, 
R‰MuÉEx³rim’t
::
G‘R‰MuÉV®ue
()->
¹t_muÉ_add_ÿp_ms
);

56 
TEST
(
R‰MuÉEx³rim’tTe¡
, 
R‰MuÉTe¡M®fÜmedV®ue
) {

57 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

59 
EXPECT_NE
(100.0f, 
R‰MuÉEx³rim’t
::
G‘R‰MuÉV®ue
()->
¹t_muÉ_add_ÿp_ms
);

	@experiments/stable_target_rate_experiment.cc

11 
	~"¹c_ba£/ex³rim’ts/¡abË_rg‘_¿‹_ex³rim’t.h
"

13 
	~"­i/Œª¥Üt/f›ld_ŒŸl_ba£d_cÚfig.h
"

14 
	~"¹c_ba£/ex³rim’ts/¿‹_cÚŒŞ_£‰šgs.h
"

16 
Çme¥aû
 
	gweb¹c
 {

17 
	gÇme¥aû
 {

18 
cÚ¡ex´
 
	gkF›ldTrŸlName
[] = "WebRTC-StableTargetRate";

21 
	gSbËT¬g‘R©eEx³rim’t
::
SbËT¬g‘R©eEx³rim’t
(

22 cÚ¡ 
WebRtcKeyV®ueCÚfig
* cÚ¡ 
key_v®ue_cÚfig
,

23 
deçuÉ_video_hy¡”esis
,

24 
deçuÉ_sü“nsh¬e_hy¡”esis
)

25 : 
’abËd_
("’abËd", 
çl£
),

26 
video_hy¡”esis_çùÜ_
("video_hysteresis_factor",

27 
deçuÉ_video_hy¡”esis
),

28 
sü“nsh¬e_hy¡”esis_çùÜ_
("screenshare_hysteresis_factor",

29 
deçuÉ_sü“nsh¬e_hy¡”esis
) {

30 
P¬£F›ldTrŸl
(

31 {&
’abËd_
, &
video_hy¡”esis_çùÜ_
, &
sü“nsh¬e_hy¡”esis_çùÜ_
},

32 
key_v®ue_cÚfig
->
Lookup
(
kF›ldTrŸlName
));

35 
	gSbËT¬g‘R©eEx³rim’t
::
SbËT¬g‘R©eEx³rim’t
(

36 cÚ¡ 
SbËT¬g‘R©eEx³rim’t
&) = ;

37 
	gSbËT¬g‘R©eEx³rim’t
::
SbËT¬g‘R©eEx³rim’t
(

38 
SbËT¬g‘R©eEx³rim’t
&&) = ;

40 
SbËT¬g‘R©eEx³rim’t
 
	gSbËT¬g‘R©eEx³rim’t
::
P¬£FromF›ldTrŸls
() {

41 
F›ldTrŸlBa£dCÚfig
 
cÚfig
;

42  
P¬£FromKeyV®ueCÚfig
(&
cÚfig
);

45 
SbËT¬g‘R©eEx³rim’t
 
	gSbËT¬g‘R©eEx³rim’t
::
P¬£FromKeyV®ueCÚfig
(

46 cÚ¡ 
WebRtcKeyV®ueCÚfig
* cÚ¡ 
key_v®ue_cÚfig
) {

47 
R©eCÚŒŞS‘tšgs
 
¿‹_cÚŒŞ
 =

48 
R©eCÚŒŞS‘tšgs
::
P¬£FromKeyV®ueCÚfig
(
key_v®ue_cÚfig
);

49  
SbËT¬g‘R©eEx³rim’t
(

50 
key_v®ue_cÚfig
,

51 
¿‹_cÚŒŞ
.
G‘Simulÿ¡Hy¡”esisFaùÜ
(
VideoCodecMode
::
kR—ÉimeVideo
),

52 
¿‹_cÚŒŞ
.
G‘Simulÿ¡Hy¡”esisFaùÜ
(

53 
VideoCodecMode
::
kSü“nsh¬šg
));

56 
boŞ
 
	gSbËT¬g‘R©eEx³rim’t
::
IsEÇbËd
() const {

57  
’abËd_
.
G‘
();

60 
	gSbËT¬g‘R©eEx³rim’t
::
G‘VideoHy¡”esisFaùÜ
() const {

61  
video_hy¡”esis_çùÜ_
.
G‘
();

64 
	gSbËT¬g‘R©eEx³rim’t
::
G‘Sü“nsh¬eHy¡”esisFaùÜ
() const {

65  
sü“nsh¬e_hy¡”esis_çùÜ_
.
G‘
();

	@experiments/stable_target_rate_experiment.h

11 #iâdeà
RTC_BASE_EXPERIMENTS_STABLE_TARGET_RATE_EXPERIMENT_H_


12 
	#RTC_BASE_EXPERIMENTS_STABLE_TARGET_RATE_EXPERIMENT_H_


	)

14 
	~"­i/Œª¥Üt/web¹c_key_v®ue_cÚfig.h
"

15 
	~"¹c_ba£/ex³rim’ts/f›ld_ŒŸl_·r£r.h
"

17 
Çme¥aû
 
	gweb¹c
 {

19 şas 
	cSbËT¬g‘R©eEx³rim’t
 {

20 
	gpublic
:

21 
SbËT¬g‘R©eEx³rim’t
(const StableTargetRateExperiment&);

22 
SbËT¬g‘R©eEx³rim’t
(StableTargetRateExperiment&&);

23 
SbËT¬g‘R©eEx³rim’t
 
P¬£FromF›ldTrŸls
();

24 
SbËT¬g‘R©eEx³rim’t
 
P¬£FromKeyV®ueCÚfig
(

25 cÚ¡ 
WebRtcKeyV®ueCÚfig
* cÚ¡ 
key_v®ue_cÚfig
);

27 
boŞ
 
IsEÇbËd
() const;

28 
G‘VideoHy¡”esisFaùÜ
() const;

29 
G‘Sü“nsh¬eHy¡”esisFaùÜ
() const;

31 
	g´iv©e
:

32 
ex¶ic™
 
SbËT¬g‘R©eEx³rim’t
(

33 cÚ¡ 
WebRtcKeyV®ueCÚfig
* cÚ¡ 
key_v®ue_cÚfig
,

34 
deçuÉ_video_hy¡”esis
,

35 
deçuÉ_sü“nsh¬e_hy¡”esis
);

37 
	gF›ldTrŸlP¬am‘”
<
	gboŞ
> 
	g’abËd_
;

38 
	gF›ldTrŸlP¬am‘”
<> 
	gvideo_hy¡”esis_çùÜ_
;

39 
	gF›ldTrŸlP¬am‘”
<> 
	gsü“nsh¬e_hy¡”esis_çùÜ_
;

	@experiments/stable_target_rate_experiment_unittest.cc

11 
	~"¹c_ba£/ex³rim’ts/¡abË_rg‘_¿‹_ex³rim’t.h
"

13 
	~"‹¡/f›ld_ŒŸl.h
"

14 
	~"‹¡/g‹¡.h
"

16 
Çme¥aû
 
	gweb¹c
 {

18 
TEST
(
SbËBweEx³rim’tTe¡
, 
DeçuÉ
) {

19 
SbËT¬g‘R©eEx³rim’t
 
	gcÚfig
 =

20 
SbËT¬g‘R©eEx³rim’t
::
P¬£FromF›ldTrŸls
();

21 
EXPECT_FALSE
(
cÚfig
.
IsEÇbËd
());

22 
EXPECT_EQ
(
cÚfig
.
G‘VideoHy¡”esisFaùÜ
(), 1.0);

23 
EXPECT_EQ
(
cÚfig
.
G‘Sü“nsh¬eHy¡”esisFaùÜ
(), 1.35);

26 
TEST
(
SbËBweEx³rim’tTe¡
, 
EÇbËdNoHy¡”esis
) {

27 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

30 
SbËT¬g‘R©eEx³rim’t
 
	gcÚfig
 =

31 
SbËT¬g‘R©eEx³rim’t
::
P¬£FromF›ldTrŸls
();

32 
EXPECT_TRUE
(
cÚfig
.
IsEÇbËd
());

33 
EXPECT_EQ
(
cÚfig
.
G‘VideoHy¡”esisFaùÜ
(), 1.0);

34 
EXPECT_EQ
(
cÚfig
.
G‘Sü“nsh¬eHy¡”esisFaùÜ
(), 1.35);

37 
TEST
(
SbËBweEx³rim’tTe¡
, 
EÇbËdW™hHy¡”esis
) {

38 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

44 
SbËT¬g‘R©eEx³rim’t
 
	gcÚfig
 =

45 
SbËT¬g‘R©eEx³rim’t
::
P¬£FromF›ldTrŸls
();

46 
EXPECT_TRUE
(
cÚfig
.
IsEÇbËd
());

47 
EXPECT_EQ
(
cÚfig
.
G‘VideoHy¡”esisFaùÜ
(), 1.1);

48 
EXPECT_EQ
(
cÚfig
.
G‘Sü“nsh¬eHy¡”esisFaùÜ
(), 1.2);

51 
TEST
(
SbËBweEx³rim’tTe¡
, 
OnNoHy¡”esisPrİag©esVideoR©eHy¡”sis
) {

52 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

57 
SbËT¬g‘R©eEx³rim’t
 
	gcÚfig
 =

58 
SbËT¬g‘R©eEx³rim’t
::
P¬£FromF›ldTrŸls
();

59 
EXPECT_TRUE
(
cÚfig
.
IsEÇbËd
());

60 
EXPECT_EQ
(
cÚfig
.
G‘VideoHy¡”esisFaùÜ
(), 1.3);

61 
EXPECT_EQ
(
cÚfig
.
G‘Sü“nsh¬eHy¡”esisFaùÜ
(), 1.4);

64 
TEST
(
SbËBweEx³rim’tTe¡
, 
Hy¡”esisOv”rideVideoR©eHy¡”sis
) {

65 
	gweb¹c
::
‹¡
::
ScİedF›ldTrŸls
 
f›ld_ŒŸls
(

73 
SbËT¬g‘R©eEx³rim’t
 
	gcÚfig
 =

74 
SbËT¬g‘R©eEx³rim’t
::
P¬£FromF›ldTrŸls
();

75 
EXPECT_TRUE
(
cÚfig
.
IsEÇbËd
());

76 
EXPECT_EQ
(
cÚfig
.
G‘VideoHy¡”esisFaùÜ
(), 1.1);

77 
EXPECT_EQ
(
cÚfig
.
G‘Sü“nsh¬eHy¡”esisFaùÜ
(), 1.2);

	@experiments/struct_parameters_parser.cc

10 
	~"¹c_ba£/ex³rim’ts/¡ruù_·¿m‘”s_·r£r.h
"

12 
	~<®gÜ™hm
>

14 
	~"¹c_ba£/loggšg.h
"

16 
Çme¥aû
 
	gweb¹c
 {

17 
	gÇme¥aû
 {

18 
size_t
 
FšdOrEnd
(
ab¦
::
¡ršg_v›w
 
¡r
, size_ˆ
¡¬t
, 
d–im™”
) {

19 
size_t
 
	gpos
 = 
¡r
.
fšd
(
d–im™”
, 
¡¬t
);

20 
	gpos
 = (
pos
 =ğ
¡d
::
¡ršg
::
Åos
è? 
¡r
.
Ëngth
() :…os;

21  
	gpos
;

25 
Çme¥aû
 
	g¡ruù_·r£r_im¶
 {

26 
	gÇme¥aû
 {

27 
šlše
 
SŒšgEncode
(
¡d
::
¡ršg
* 
rg‘
, 
boŞ
 
v®
) {

28 *
	grg‘
 +ğ
¹c
::
ToSŒšg
(
v®
);

30 
šlše
 
SŒšgEncode
(
¡d
::
¡ršg
* 
rg‘
, 
v®
) {

31 *
	grg‘
 +ğ
¹c
::
ToSŒšg
(
v®
);

33 
šlše
 
SŒšgEncode
(
¡d
::
¡ršg
* 
rg‘
, 
v®
) {

34 *
	grg‘
 +ğ
¹c
::
ToSŒšg
(
v®
);

36 
šlše
 
SŒšgEncode
(
¡d
::
¡ršg
* 
rg‘
, 
v®
) {

37 *
	grg‘
 +ğ
¹c
::
ToSŒšg
(
v®
);

39 
šlše
 
SŒšgEncode
(
¡d
::
¡ršg
* 
rg‘
, 
D©aR©e
 
v®
) {

40 *
	grg‘
 +ğ
web¹c
::
ToSŒšg
(
v®
);

42 
šlše
 
SŒšgEncode
(
¡d
::
¡ršg
* 
rg‘
, 
D©aSize
 
v®
) {

43 *
	grg‘
 +ğ
web¹c
::
ToSŒšg
(
v®
);

45 
šlše
 
SŒšgEncode
(
¡d
::
¡ršg
* 
rg‘
, 
TimeD–
 
v®
) {

46 *
	grg‘
 +ğ
web¹c
::
ToSŒšg
(
v®
);

49 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

50 
šlše
 
SŒšgEncode
(
¡d
::
¡ršg
* 
sb
, 
ab¦
::
İtiÚ®
<
T
> 
v®
) {

51 ià(
v®
)

52 
SŒšgEncode
(
sb
, *
v®
);

55 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

56 
boŞ
 
	gTy³dP¬£r
<
	gT
>::
P¬£
(
ab¦
::
¡ršg_v›w
 
¤c
, * 
rg‘
) {

57 autØ
	g·r£d
 = 
P¬£Ty³dP¬am‘”
<
T
>(
¡d
::
¡ršg
(
¤c
));

58 ià(
	g·r£d
.
has_v®ue
())

59 *
	g»š‹½»t_ÿ¡
<
	gT
*>(
	grg‘
èğ*
·r£d
;

60  
	g·r£d
.
has_v®ue
();

62 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

63 
	gTy³dP¬£r
<
	gT
>::
Encode
(cÚ¡ * 
¤c
, 
¡d
::
¡ršg
* 
rg‘
) {

64 
SŒšgEncode
(
rg‘
, *
»š‹½»t_ÿ¡
<cÚ¡ 
T
*>(
¤c
));

67 
‹m¶©e
 
şass
 
	gTy³dP¬£r
<
	gboŞ
>;

68 
‹m¶©e
 
şass
 
	gTy³dP¬£r
<>;

69 
‹m¶©e
 
şass
 
	gTy³dP¬£r
<>;

70 
‹m¶©e
 
şass
 
	gTy³dP¬£r
<>;

71 
‹m¶©e
 
şass
 
	gTy³dP¬£r
<
	gab¦
::
İtiÚ®
<>>;

72 
‹m¶©e
 
şass
 
	gTy³dP¬£r
<
	gab¦
::
İtiÚ®
<>>;

73 
‹m¶©e
 
şass
 
	gTy³dP¬£r
<
	gab¦
::
İtiÚ®
<>>;

75 
‹m¶©e
 
şass
 
	gTy³dP¬£r
<
	gD©aR©e
>;

76 
‹m¶©e
 
şass
 
	gTy³dP¬£r
<
	gD©aSize
>;

77 
‹m¶©e
 
şass
 
	gTy³dP¬£r
<
	gTimeD–
>;

78 
‹m¶©e
 
şass
 
	gTy³dP¬£r
<
	gab¦
::
İtiÚ®
<
D©aR©e
>>;

79 
‹m¶©e
 
şass
 
	gTy³dP¬£r
<
	gab¦
::
İtiÚ®
<
D©aSize
>>;

80 
‹m¶©e
 
şass
 
	gTy³dP¬£r
<
	gab¦
::
İtiÚ®
<
TimeD–
>>;

83 
	gSŒuùP¬am‘”sP¬£r
::
SŒuùP¬am‘”sP¬£r
(

84 
¡d
::
veùÜ
<
¡ruù_·r£r_im¶
::
Memb”P¬am‘”
> 
memb”s
)

85 : 
memb”s_
(
¡d
::
move
(
memb”s
)) {}

87 
SŒuùP¬am‘”sP¬£r
::
P¬£
(
ab¦
::
¡ršg_v›w
 
¤c
) {

88 
size_t
 
i
 = 0;

89 
	gi
 < 
	g¤c
.
Ëngth
()) {

90 
size_t
 
	gv®_’d
 = 
FšdOrEnd
(
¤c
, 
i
, ',');

91 
size_t
 
	gcŞÚ_pos
 = 
FšdOrEnd
(
¤c
, 
i
, ':');

92 
size_t
 
	gkey_’d
 = 
¡d
::
mš
(
v®_’d
, 
cŞÚ_pos
);

93 
size_t
 
	gv®_begš
 = 
key_’d
 + 1u;

94 
	gab¦
::
¡ršg_v›w
 
key
(
¤c
.
sub¡r
(
i
, 
key_’d
 - i));

95 
	gab¦
::
¡ršg_v›w
 
İt_v®ue
;

96 ià(
	gv®_’d
 >ğ
v®_begš
)

97 
İt_v®ue
 = 
¤c
.
sub¡r
(
v®_begš
, 
v®_’d
 - val_begin);

98 
	gi
 = 
v®_’d
 + 1u;

99 
boŞ
 
	gfound
 = 
çl£
;

100 auto& 
	gmemb”
 : 
memb”s_
) {

101 ià(
key
 =ğ
memb”
.key) {

102 
found
 = 
Œue
;

103 ià(!
	gmemb”
.
	g·r£r
.
·r£
(
İt_v®ue
, 
memb”
.
memb”_±r
)) {

104 
RTC_LOG
(
LS_WARNING
è<< "FaedØ»ad f›ld w™h key: '" << 
	gkey


105 << "' iÀŒŸl: \"" << 
	g¤c
 << "\"";

110 ià(!
	gfound
) {

111 
RTC_LOG
(
LS_INFO
è<< "NØf›ld w™h key: '" << 
	gkey


112 << "' (found iÀŒŸl: \"" << 
	g¤c
 << "\")";

117 
	g¡d
::
¡ršg
 
SŒuùP¬am‘”sP¬£r
::
Encode
() const {

118 
¡d
::
¡ršg
 
»s
;

119 
boŞ
 
	gfœ¡
 = 
Œue
;

120 cÚ¡‡uto& 
	gmemb”
 : 
memb”s_
) {

121 ià(!
fœ¡
)

122 
»s
 += ",";

123 
	g»s
 +ğ
memb”
.
key
;

124 
	g»s
 += ":";

125 
	gmemb”
.
	g·r£r
.
’code
(
memb”
.
memb”_±r
, &
»s
);

126 
	gfœ¡
 = 
çl£
;

128  
	g»s
;

	@experiments/struct_parameters_parser.h

10 #iâdeà
RTC_BASE_EXPERIMENTS_STRUCT_PARAMETERS_PARSER_H_


11 
	#RTC_BASE_EXPERIMENTS_STRUCT_PARAMETERS_PARSER_H_


	)

13 
	~<funùiÚ®
>

14 
	~<m­
>

15 
	~<memÜy
>

16 
	~<¡ršg
>

17 
	~<ut™y
>

18 
	~<veùÜ
>

20 
	~"ab¦/memÜy/memÜy.h
"

21 
	~"ab¦/¡ršgs/¡ršg_v›w.h
"

22 
	~"ab¦/ty³s/İtiÚ®.h
"

23 
	~"¹c_ba£/ex³rim’ts/f›ld_ŒŸl_·r£r.h
"

24 
	~"¹c_ba£/ex³rim’ts/f›ld_ŒŸl_un™s.h
"

25 
	~"¹c_ba£/¡ršg_’code.h
"

27 
Çme¥aû
 
	gweb¹c
 {

28 
Çme¥aû
 
	g¡ruù_·r£r_im¶
 {

29 
	sTy³dMemb”P¬£r
 {

30 
	gpublic
:

31 
boŞ
 (*
·r£
)(cÚ¡ 
ab¦
::
¡ršg_v›w
 
¤c
, * 
	grg‘
);

32 (*
	g’code
)(cÚ¡ * 
	g¤c
, 
	g¡d
::
¡ršg
* 
rg‘
);

35 
	sMemb”P¬am‘”
 {

36 cÚ¡ * 
	gkey
;

37 * 
	gmemb”_±r
;

38 
Ty³dMemb”P¬£r
 
	g·r£r
;

41 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

42 şas 
	cTy³dP¬£r
 {

43 
	gpublic
:

44 
boŞ
 
P¬£
(
ab¦
::
¡ršg_v›w
 
¤c
, * 
rg‘
);

45 
Encode
(cÚ¡ * 
¤c
, 
¡d
::
¡ršg
* 
rg‘
);

53 
‹m¶©e
 
şass
 
Ty³dP¬£r
<
boŞ
>;

54 
‹m¶©e
 
şass
 
Ty³dP¬£r
<>;

55 
‹m¶©e
 
şass
 
Ty³dP¬£r
<>;

56 
‹m¶©e
 
şass
 
Ty³dP¬£r
<>;

57 
‹m¶©e
 
şass
 
Ty³dP¬£r
<
ab¦
::
İtiÚ®
<>>;

58 
‹m¶©e
 
şass
 
Ty³dP¬£r
<
ab¦
::
İtiÚ®
<>>;

59 
‹m¶©e
 
şass
 
Ty³dP¬£r
<
ab¦
::
İtiÚ®
<>>;

61 
‹m¶©e
 
şass
 
Ty³dP¬£r
<
D©aR©e
>;

62 
‹m¶©e
 
şass
 
Ty³dP¬£r
<
D©aSize
>;

63 
‹m¶©e
 
şass
 
Ty³dP¬£r
<
TimeD–
>;

64 
‹m¶©e
 
şass
 
Ty³dP¬£r
<
ab¦
::
İtiÚ®
<
D©aR©e
>>;

65 
‹m¶©e
 
şass
 
Ty³dP¬£r
<
ab¦
::
İtiÚ®
<
D©aSize
>>;

66 
‹m¶©e
 
şass
 
Ty³dP¬£r
<
ab¦
::
İtiÚ®
<
TimeD–
>>;

68 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

69 
AddMemb”s
(
Memb”P¬am‘”
* 
out
, cÚ¡ * 
key
, 
T
* 
memb”
) {

70 *
	gout
 = 
Memb”P¬am‘”
{

71 
key
, 
memb”
,

72 
Ty³dMemb”P¬£r
{&
Ty³dP¬£r
<
T
>::
P¬£
, &Ty³dP¬£r<T>::
Encode
}};

75 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
	gty³Çme
... 
	gArgs
>

76 
AddMemb”s
(
Memb”P¬am‘”
* 
out
,

77 cÚ¡ * 
key
,

78 
T
* 
memb”
,

79 
Args
... 
¬gs
) {

80 
AddMemb”s
(
out
, 
key
, 
memb”
);

81 
AddMemb”s
(++
out
, 
¬gs
...);

85 şas 
	cSŒuùP¬am‘”sP¬£r
 {

86 
	gpublic
:

87 
‹m¶©e
 <
ty³Çme
 
T
, 
	gty³Çme
... 
	gArgs
>

88 
	g¡d
::
unique_±r
<
SŒuùP¬am‘”sP¬£r
> 
C»©e
(cÚ¡ * 
fœ¡_key
,

89 
T
* 
fœ¡_memb”
,

90 
Args
... 
¬gs
) {

91 
	g¡d
::
veùÜ
<
¡ruù_·r£r_im¶
::
Memb”P¬am‘”
> 
memb”s
(

92 ...(
¬gs
) / 2 + 1);

93 
	g¡ruù_·r£r_im¶
::
AddMemb”s
(&
memb”s
.
äÚt
(), 
¡d
::
move
(
fœ¡_key
),

94 
fœ¡_memb”
, 
¬gs
...);

95  
	gab¦
::
W¿pUnique
(
Ãw
 
SŒuùP¬am‘”sP¬£r
(
¡d
::
move
(
memb”s
)));

98 
P¬£
(
ab¦
::
¡ršg_v›w
 
¤c
);

99 
	g¡d
::
¡ršg
 
Encode
() const;

101 
	g´iv©e
:

102 
ex¶ic™
 
SŒuùP¬am‘”sP¬£r
(

103 
¡d
::
veùÜ
<
¡ruù_·r£r_im¶
::
Memb”P¬am‘”
> 
memb”s
);

105 
	g¡d
::
veùÜ
<
¡ruù_·r£r_im¶
::
Memb”P¬am‘”
> 
memb”s_
;

	@experiments/struct_parameters_parser_unittest.cc

10 
	~"¹c_ba£/ex³rim’ts/¡ruù_·¿m‘”s_·r£r.h
"

11 
	~"¹c_ba£/gun™.h
"

13 
Çme¥aû
 
	gweb¹c
 {

14 
	gÇme¥aû
 {

15 
	sDummyCÚfig
 {

16 
boŞ
 
	g’abËd
 = 
çl£
;

17 
	gçùÜ
 = 0.5;

18 
	g»Œ›s
 = 5;

19 
	gsize
 = 3;

20 
boŞ
 
	gpšg
 = 0;

21 
	gab¦
::
İtiÚ®
<
TimeD–
> 
du¿tiÚ
;

22 
	gab¦
::
İtiÚ®
<
TimeD–
> 
Ï‹ncy
 = TimeD–::
Mlis
(100);

23 
	g¡d
::
unique_±r
<
SŒuùP¬am‘”sP¬£r
> 
P¬£r
();

26 
	g¡d
::
unique_±r
<
SŒuùP¬am‘”sP¬£r
> 
DummyCÚfig
::
P¬£r
() {

28  
SŒuùP¬am‘”sP¬£r
::
C»©e
("e", &
’abËd
,

29 "f", &
çùÜ
,

30 "r", &
»Œ›s
,

31 "s", &
size
,

32 "p", &
pšg
,

33 "d", &
du¿tiÚ
,

34 "l", &
Ï‹ncy
);

38 
TEST
(
SŒuùP¬am‘”sP¬£rTe¡
, 
P¬£sV®idP¬am‘”s
) {

39 
DummyCÚfig
 
	gexp
;

40 
	gexp
.
P¬£r
()->
P¬£
("e:1,f:-1.7,r:2,s:7,p:1,d:8,l:,");

41 
EXPECT_TRUE
(
exp
.
’abËd
);

42 
EXPECT_EQ
(
exp
.
çùÜ
, -1.7);

43 
EXPECT_EQ
(
exp
.
»Œ›s
, 2);

44 
EXPECT_EQ
(
exp
.
size
, 7u);

45 
EXPECT_EQ
(
exp
.
pšg
, 
Œue
);

46 
EXPECT_EQ
(
exp
.
du¿tiÚ
.
v®ue
().
ms
(), 8);

47 
EXPECT_FALSE
(
exp
.
Ï‹ncy
);

50 
TEST
(
SŒuùP¬am‘”sP¬£rTe¡
, 
U£sDeçuÉs
) {

51 
DummyCÚfig
 
	gexp
;

52 
	gexp
.
P¬£r
()->
P¬£
("");

53 
EXPECT_FALSE
(
exp
.
’abËd
);

54 
EXPECT_EQ
(
exp
.
çùÜ
, 0.5);

55 
EXPECT_EQ
(
exp
.
»Œ›s
, 5);

56 
EXPECT_EQ
(
exp
.
size
, 3u);

57 
EXPECT_EQ
(
exp
.
pšg
, 
çl£
);

60 
TEST
(
SŒuùP¬am‘”sP¬£rTe¡
, 
EncodeAÎ
) {

61 
DummyCÚfig
 
	gexp
;

62 autØ
	g’coded
 = 
exp
.
P¬£r
()->
Encode
();

64 
EXPECT_EQ
(
’coded
, "e:false,f:0.5,r:5,s:3,p:false,d:,l:100 ms");

	@fake_clock.cc

11 
	~"¹c_ba£/çke_şock.h
"

13 
	~"¹c_ba£/checks.h
"

14 
	~"¹c_ba£/th»ad.h
"

16 
Çme¥aû
 
	g¹c
 {

18 
št64_t
 
	gFakeClock
::
TimeNªos
() const {

19 
Cr™Scİe
 
cs
(&
lock_
);

20  
	gtime_ns_
;

23 
	gFakeClock
::
S‘Time
(
web¹c
::
Time¡amp
 
Ãw_time
) {

24 
Cr™Scİe
 
cs
(&
lock_
);

25 
RTC_DCHECK
(
Ãw_time
.
us
(è* 1000 >ğ
time_ns_
);

26 
	gtime_ns_
 = 
Ãw_time
.
us
() * 1000;

29 
	gFakeClock
::
AdvªûTime
(
web¹c
::
TimeD–
 
d–
) {

30 
Cr™Scİe
 
cs
(&
lock_
);

31 
	gtime_ns_
 +ğ
d–
.
ns
();

34 
	gTh»adProûssšgFakeClock
::
S‘Time
(
web¹c
::
Time¡amp
 
time
) {

35 
şock_
.
S‘Time
(
time
);

38 
	gTh»adMªag”
::
ProûssAÎMes§geQueuesFÜTe¡šg
();

41 
	gTh»adProûssšgFakeClock
::
AdvªûTime
(
web¹c
::
TimeD–
 
d–
) {

42 
şock_
.
AdvªûTime
(
d–
);

43 
	gTh»adMªag”
::
ProûssAÎMes§geQueuesFÜTe¡šg
();

46 
	gScİedBa£FakeClock
::
ScİedBa£FakeClock
() {

47 
´ev_şock_
 = 
S‘ClockFÜTe¡šg
(
this
);

50 
	gScİedBa£FakeClock
::~
ScİedBa£FakeClock
() {

51 
S‘ClockFÜTe¡šg
(
´ev_şock_
);

54 
	gScİedFakeClock
::
ScİedFakeClock
() {

55 
´ev_şock_
 = 
S‘ClockFÜTe¡šg
(
this
);

58 
	gScİedFakeClock
::~
ScİedFakeClock
() {

59 
S‘ClockFÜTe¡šg
(
´ev_şock_
);

	@fake_clock.h

11 #iâdeà
RTC_BASE_FAKE_CLOCK_H_


12 
	#RTC_BASE_FAKE_CLOCK_H_


	)

14 
	~<¡dšt.h
>

16 
	~"­i/un™s/time_d–.h
"

17 
	~"­i/un™s/time¡amp.h
"

18 
	~"¹c_ba£/ü™iÿl_£ùiÚ.h
"

19 
	~"¹c_ba£/th»ad_ªnÙ©iÚs.h
"

20 
	~"¹c_ba£/time_uts.h
"

22 
Çme¥aû
 
	g¹c
 {

28 şas 
	cFakeClock
 : 
public
 
ClockIÁ”çû
 {

29 
public
:

30 
FakeClock
() = ;

31 
FakeClock
(cÚ¡ FakeClock&èğ
d–‘e
;

32 
	gFakeClock
& 
	gİ”©Ü
=(cÚ¡ 
FakeClock
&èğ
d–‘e
;

33 ~
FakeClock
(è
	gov”ride
 = ;

36 
št64_t
 
TimeNªos
(ècÚ¡ 
	gov”ride
;

41 
S‘Time
(
web¹c
::
Time¡amp
 
Ãw_time
);

43 
AdvªûTime
(
web¹c
::
TimeD–
 
d–
);

45 
	g´iv©e
:

46 
Cr™iÿlSeùiÚ
 
lock_
;

47 
št64_t
 
time_ns_
 
RTC_GUARDED_BY
(
lock_
) = 0;

50 şas 
	cTh»adProûssšgFakeClock
 : 
public
 
ClockIÁ”çû
 {

51 
public
:

52 
št64_t
 
TimeNªos
(ècÚ¡ 
ov”ride
 {  
şock_
.TimeNanos(); }

53 
S‘Time
(
web¹c
::
Time¡amp
 
time
);

54 
AdvªûTime
(
web¹c
::
TimeD–
 
d–
);

56 
	g´iv©e
:

57 
FakeClock
 
şock_
;

62 şas 
	cScİedBa£FakeClock
 : 
public
 
FakeClock
 {

63 
public
:

64 
ScİedBa£FakeClock
();

65 ~
ScİedBa£FakeClock
(è
	gov”ride
;

67 
	g´iv©e
:

68 
ClockIÁ”çû
* 
´ev_şock_
;

72 şas 
	cScİedFakeClock
 : 
public
 
Th»adProûssšgFakeClock
 {

73 
public
:

74 
ScİedFakeClock
();

75 ~
ScİedFakeClock
(è
	gov”ride
;

77 
	g´iv©e
:

78 
ClockIÁ”çû
* 
´ev_şock_
;

	@fake_clock_unittest.cc

11 
	~"¹c_ba£/çke_şock.h
"

13 
	~"‹¡/g‹¡.h
"

15 
Çme¥aû
 
	g¹c
 {

16 
TEST
(
ScİedFakeClockTe¡
, 
Ov”ridesGlob®Clock
) {

17 cÚ¡ 
št64_t
 
	gkFixedTimeUs
 = 100000;

18 
št64_t
 
	g»®_time_us
 = 
¹c
::
TimeMiüos
();

19 
EXPECT_NE
(
»®_time_us
, 0);

21 
ScİedFakeClock
 
	gscİed
;

22 
EXPECT_EQ
(
¹c
::
TimeMiüos
(), 0);

24 
	gscİed
.
AdvªûTime
(
web¹c
::
TimeD–
::
Mlis
(1));

25 
EXPECT_EQ
(
¹c
::
TimeMiüos
(), 1000);

27 
	gscİed
.
S‘Time
(
web¹c
::
Time¡amp
::
Miüos
(
kFixedTimeUs
));

28 
EXPECT_EQ
(
¹c
::
TimeMiüos
(), 
kFixedTimeUs
);

30 
	gscİed
.
AdvªûTime
(
web¹c
::
TimeD–
::
Mlis
(1));

31 
EXPECT_EQ
(
¹c
::
TimeMiüos
(), 
kFixedTimeUs
 + 1000);

34 
EXPECT_NE
(
¹c
::
TimeMiüos
(), 
kFixedTimeUs
 + 1000);

35 
EXPECT_GE
(
¹c
::
TimeMiüos
(), 
»®_time_us
);

	@fake_mdns_responder.h

11 #iâdeà
RTC_BASE_FAKE_MDNS_RESPONDER_H_


12 
	#RTC_BASE_FAKE_MDNS_RESPONDER_H_


	)

14 
	~<m­
>

15 
	~<memÜy
>

16 
	~<¡ršg
>

18 
	~"¹c_ba£/async_švok”.h
"

19 
	~"¹c_ba£/_add»ss.h
"

20 
	~"¹c_ba£/loÿtiÚ.h
"

21 
	~"¹c_ba£/mdns_»¥Úd”_š‹rçû.h
"

22 
	~"¹c_ba£/th»ad.h
"

24 
Çme¥aû
 
	gweb¹c
 {

26 şas 
	cFakeMdnsRe¥Úd”
 : 
public
 
MdnsRe¥Úd”IÁ”çû
 {

27 
public
:

28 
ex¶ic™
 
FakeMdnsRe¥Úd”
(
¹c
::
Th»ad
* 
th»ad
è: 
th»ad_
(thread) {}

29 ~
FakeMdnsRe¥Úd”
() = ;

31 
C»©eNameFÜAdd»ss
(cÚ¡ 
¹c
::
IPAdd»ss
& 
addr
,

32 
NameC»©edC®lback
 
ÿÎback
è
	gov”ride
 {

33 
	g¡d
::
¡ršg
 
Çme
;

34 ià(
	gaddr_Çme_m­_
.
fšd
(
addr
è!ğ
addr_Çme_m­_
.
’d
()) {

35 
Çme
 = 
addr_Çme_m­_
[
addr
];

37 
	gÇme
 = 
¡d
::
to_¡ršg
(
Ãxt_avaabË_id_
++) + ".local";

38 
	gaddr_Çme_m­_
[
addr
] = 
Çme
;

40 
	gšvok”_
.
	gAsyncInvoke
<>(

41 
	gRTC_FROM_HERE
, 
	gth»ad_
,

42 [
ÿÎback
, 
addr
, 
Çme
]() { callback(addr,‚ame); });

44 
RemoveNameFÜAdd»ss
(cÚ¡ 
¹c
::
IPAdd»ss
& 
addr
,

45 
NameRemovedC®lback
 
ÿÎback
è
	gov”ride
 {

46 autØ
	g™
 = 
addr_Çme_m­_
.
fšd
(
addr
);

47 ià(
	g™
 !ğ
addr_Çme_m­_
.
’d
()) {

48 
addr_Çme_m­_
.
”a£
(
™
);

50 
boŞ
 
	g»suÉ
 = 
™
 !ğ
addr_Çme_m­_
.
’d
();

51 
	gšvok”_
.
	gAsyncInvoke
<>(
	gRTC_FROM_HERE
, 
	gth»ad_
,

52 [
ÿÎback
, 
»suÉ
]() { callback(result); });

55 
	g¹c
::
IPAdd»ss
 
G‘M­³dAdd»ssFÜName
(cÚ¡ 
¡d
::
¡ršg
& 
Çme
) const {

56 cÚ¡‡uto& 
addr_Çme_·œ
 : 
addr_Çme_m­_
) {

57 ià(
addr_Çme_·œ
.
£cÚd
 =ğ
Çme
) {

58  
addr_Çme_·œ
.
fœ¡
;

61  
	g¹c
::
IPAdd»ss
();

64 
	g´iv©e
:

65 
ušt32_t
 
Ãxt_avaabË_id_
 = 0;

66 
	g¡d
::
m­
<
¹c
::
IPAdd»ss
, std::
¡ršg
> 
addr_Çme_m­_
;

67 
	g¹c
::
Th»ad
* 
th»ad_
;

68 
	g¹c
::
AsyncInvok”
 
švok”_
;

	@fake_network.h

11 #iâdeà
RTC_BASE_FAKE_NETWORK_H_


12 
	#RTC_BASE_FAKE_NETWORK_H_


	)

14 
	~<memÜy
>

15 
	~<¡ršg
>

16 
	~<ut™y
>

17 
	~<veùÜ
>

19 
	~"ab¦/memÜy/memÜy.h
"

20 
	~"¹c_ba£/checks.h
"

21 
	~"¹c_ba£/mdns_»¥Úd”_š‹rçû.h
"

22 
	~"¹c_ba£/mes§ge_hªdËr.h
"

23 
	~"¹c_ba£/ÃtwÜk.h
"

24 
	~"¹c_ba£/sock‘_add»ss.h
"

25 
	~"¹c_ba£/¡ršg_’code.h
"

26 
	~"¹c_ba£/th»ad.h
"

28 
Çme¥aû
 
	g¹c
 {

30 cÚ¡ 
	gkFakeIPv4N‘wÜkP»fixL’gth
 = 24;

31 cÚ¡ 
	gkFakeIPv6N‘wÜkP»fixL’gth
 = 64;

34 
şass
 
	gFakeN‘wÜkMªag”
 : 
public
 
N‘wÜkMªag”Ba£
,…ubliø
	gMes§geHªdËr
 {

35 
	gpublic
:

36 
FakeN‘wÜkMªag”
() {}

38 
¡d
::
	tveùÜ
<
	t¡d
::
	t·œ
<
	tSock‘Add»ss
, 
	tAd­‹rTy³
>> 
	tIçûLi¡
;

40 
AddIÁ”çû
(cÚ¡ 
Sock‘Add»ss
& 
içû
) {

42 
AddIÁ”çû
(
içû
, "‹¡" + 
¹c
::
ToSŒšg
(
Ãxt_šdex_
++));

45 
AddIÁ”çû
(cÚ¡ 
Sock‘Add»ss
& 
içû
, cÚ¡ 
¡d
::
¡ršg
& 
if_Çme
) {

46 
AddIÁ”çû
(
içû
, 
if_Çme
, 
ADAPTER_TYPE_UNKNOWN
);

49 
AddIÁ”çû
(cÚ¡ 
Sock‘Add»ss
& 
içû
,

50 cÚ¡ 
¡d
::
¡ršg
& 
if_Çme
,

51 
Ad­‹rTy³
 
ty³
) {

52 
Sock‘Add»ss
 
add»ss
(
if_Çme
, 0);

53 
	gadd»ss
.
S‘ResŞvedIP
(
içû
.
addr
());

54 
	giçûs_
.
push_back
(
¡d
::
make_·œ
(
add»ss
, 
ty³
));

55 
DoUpd©eN‘wÜks
();

58 
RemoveIÁ”çû
(cÚ¡ 
Sock‘Add»ss
& 
içû
) {

59 
	gIçûLi¡
::
™”©Ü
 
™
 = 
içûs_
.
begš
(); 
	g™
 !ğiçûs_.
’d
(); ++it) {

60 ià(
	g™
->
	gfœ¡
.
Equ®IPs
(
içû
)) {

61 
	giçûs_
.
”a£
(
™
);

65 
DoUpd©eN‘wÜks
();

68 
S¹Upd©šg
(è
	gov”ride
 {

69 ++
	g¡¬t_couÁ_
;

70 ià(
	g¡¬t_couÁ_
 == 1) {

71 
£Á_fœ¡_upd©e_
 = 
çl£
;

72 
	g¹c
::
Th»ad
::
Cu¼’t
()->
Po¡
(
RTC_FROM_HERE
, 
this
);

74 ià(
	g£Á_fœ¡_upd©e_
) {

75 
SigÇlN‘wÜksChªged
();

80 
StİUpd©šg
(è
	gov”ride
 { --
	g¡¬t_couÁ_
; }

83 
OnMes§ge
(
Mes§ge
* 
msg
è
	gov”ride
 { 
DoUpd©eN‘wÜks
(); }

85 
usšg
 
	gN‘wÜkMªag”Ba£
::
£t_deçuÉ_loÿl_add»s£s
;

86 
usšg
 
	gN‘wÜkMªag”Ba£
::
£t_’um”©iÚ_³rmissiÚ
;

89 
	gweb¹c
::
MdnsRe¥Úd”IÁ”çû
* 
G‘MdnsRe¥Úd”
(ècÚ¡ 
ov”ride
 {

90  
mdns_»¥Úd”_
.
g‘
();

93 
£t_mdns_»¥Úd”
(

94 
¡d
::
unique_±r
<
web¹c
::
MdnsRe¥Úd”IÁ”çû
> 
mdns_»¥Úd”
) {

95 
mdns_»¥Úd”_
 = 
¡d
::
move
(
mdns_»¥Úd”
);

98 
	g´iv©e
:

99 
DoUpd©eN‘wÜks
() {

100 ià(
¡¬t_couÁ_
 == 0)

102 
	g¡d
::
veùÜ
<
N‘wÜk
*> 
ÃtwÜks
;

103 
	gIçûLi¡
::
™”©Ü
 
™
 = 
içûs_
.
begš
(); 
	g™
 !ğiçûs_.
’d
(); ++it) {

104 
	g´efix_Ëngth
 = 0;

105 ià(
	g™
->
	gfœ¡
.
addr
().
çmy
(è=ğ
AF_INET
) {

106 
´efix_Ëngth
 = 
kFakeIPv4N‘wÜkP»fixL’gth
;

107 } ià(
	g™
->
	gfœ¡
.
addr
().
çmy
(è=ğ
AF_INET6
) {

108 
´efix_Ëngth
 = 
kFakeIPv6N‘wÜkP»fixL’gth
;

110 
IPAdd»ss
 
	g´efix
 = 
Trunÿ‹IP
(
™
->
fœ¡
.
addr
(), 
´efix_Ëngth
);

111 
	g¡d
::
unique_±r
<
N‘wÜk
> 
Ãt
(
Ãw
 N‘wÜk(
™
->
fœ¡
.
ho¡Çme
(),

112 
™
->
fœ¡
.
ho¡Çme
(), 
´efix
,

113 
´efix_Ëngth
, 
™
->
£cÚd
));

114 
	gÃt
->
£t_deçuÉ_loÿl_add»ss_´ovid”
(
this
);

115 
	gÃt
->
AddIP
(
™
->
fœ¡
.
addr
());

116 
	gÃtwÜks
.
push_back
(
Ãt
.
»Ëa£
());

118 
boŞ
 
	gchªged
;

119 
M”geN‘wÜkLi¡
(
ÃtwÜks
, &
chªged
);

120 ià(
	gchªged
 || !
	g£Á_fœ¡_upd©e_
) {

121 
SigÇlN‘wÜksChªged
();

122 
	g£Á_fœ¡_upd©e_
 = 
Œue
;

126 
IçûLi¡
 
	giçûs_
;

127 
	gÃxt_šdex_
 = 0;

128 
	g¡¬t_couÁ_
 = 0;

129 
boŞ
 
	g£Á_fœ¡_upd©e_
 = 
çl£
;

131 
	g¡d
::
unique_±r
<
web¹c
::
MdnsRe¥Úd”IÁ”çû
> 
mdns_»¥Úd”_
;

	@fake_ssl_identity.cc

11 
	~"¹c_ba£/çke_s¦_id’t™y.h
"

13 
	~<memÜy
>

14 
	~<¡ršg
>

15 
	~<ut™y
>

17 
	~"¹c_ba£/checks.h
"

18 
	~"¹c_ba£/mes§ge_dige¡.h
"

20 
Çme¥aû
 
	g¹c
 {

22 
	gFakeSSLC”tifiÿ‹
::
FakeSSLC”tifiÿ‹
(cÚ¡ 
¡d
::
¡ršg
& 
³m_¡ršg
)

23 : 
³m_¡ršg_
(
³m_¡ršg
),

24 
dige¡_®gÜ™hm_
(
DIGEST_SHA_1
),

25 
expœ©iÚ_time_
(-1) {}

27 
	gFakeSSLC”tifiÿ‹
::
FakeSSLC”tifiÿ‹
(const FakeSSLCertificate&) = ;

29 
	gFakeSSLC”tifiÿ‹
::~
FakeSSLC”tifiÿ‹
() = ;

31 
	g¡d
::
unique_±r
<
SSLC”tifiÿ‹
> 
FakeSSLC”tifiÿ‹
::
ClÚe
() const {

32  
¡d
::
make_unique
<
FakeSSLC”tifiÿ‹
>(*
this
);

35 
	g¡d
::
¡ršg
 
FakeSSLC”tifiÿ‹
::
ToPEMSŒšg
() const {

36  
³m_¡ršg_
;

39 
	gFakeSSLC”tifiÿ‹
::
ToDER
(
Bufãr
* 
d”_bufãr
) const {

40 
¡d
::
¡ršg
 
d”_¡ršg
;

41 
RTC_CHECK
(

42 
SSLId’t™y
::
PemToD”
(
kPemTy³C”tifiÿ‹
, 
³m_¡ršg_
, &
d”_¡ršg
));

43 
	gd”_bufãr
->
S‘D©a
(
d”_¡ršg
.
c_¡r
(), d”_¡ršg.
size
());

46 
št64_t
 
	gFakeSSLC”tifiÿ‹
::
C”tifiÿ‹Expœ©iÚTime
() const {

47  
expœ©iÚ_time_
;

50 
	gFakeSSLC”tifiÿ‹
::
S‘C”tifiÿ‹Expœ©iÚTime
(
št64_t
 
expœ©iÚ_time
) {

51 
expœ©iÚ_time_
 = 
expœ©iÚ_time
;

54 
	gFakeSSLC”tifiÿ‹
::
£t_dige¡_®gÜ™hm
(cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
) {

55 
dige¡_®gÜ™hm_
 = 
®gÜ™hm
;

58 
boŞ
 
	gFakeSSLC”tifiÿ‹
::
G‘SigÇtu»Dige¡AlgÜ™hm
(

59 
¡d
::
¡ršg
* 
®gÜ™hm
) const {

60 *
®gÜ™hm
 = 
dige¡_®gÜ™hm_
;

61  
	gŒue
;

64 
boŞ
 
	gFakeSSLC”tifiÿ‹
::
Compu‹Dige¡
(cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
,

65 * 
dige¡
,

66 
size_t
 
size
,

67 
size_t
* 
Ëngth
) const {

68 *
	gËngth
 = 
¹c
::
Compu‹Dige¡
(
®gÜ™hm
, 
³m_¡ršg_
.
c_¡r
(),

69 
³m_¡ršg_
.
size
(), 
dige¡
, size);

70  (*
	gËngth
 != 0);

73 
	gFakeSSLId’t™y
::
FakeSSLId’t™y
(cÚ¡ 
¡d
::
¡ršg
& 
³m_¡ršg
)

74 : 
FakeSSLId’t™y
(
FakeSSLC”tifiÿ‹
(
³m_¡ršg
)) {}

76 
FakeSSLId’t™y
::FakeSSLId’t™y(cÚ¡ 
¡d
::
veùÜ
<¡d::
¡ršg
>& 
³m_¡ršgs
) {

77 
¡d
::
veùÜ
<¡d::
unique_±r
<
SSLC”tifiÿ‹
>> 
û¹s
;

78 
	gû¹s
.
»£rve
(
³m_¡ršgs
.
size
());

79 cÚ¡ 
	g¡d
::
¡ršg
& 
³m_¡ršg
 : 
³m_¡ršgs
) {

80 
û¹s
.
push_back
(
¡d
::
make_unique
<
FakeSSLC”tifiÿ‹
>(
³m_¡ršg
));

82 
	gû¹_chaš_
 = 
¡d
::
make_unique
<
SSLC”tChaš
>(¡d::
move
(
û¹s
));

85 
	gFakeSSLId’t™y
::
FakeSSLId’t™y
(cÚ¡ 
FakeSSLC”tifiÿ‹
& 
û¹
)

86 : 
û¹_chaš_
(
¡d
::
make_unique
<
SSLC”tChaš
>(
û¹
.
ClÚe
())) {}

88 
FakeSSLId’t™y
::FakeSSLId’t™y(cÚ¡ FakeSSLId’t™y& 
o
)

89 : 
û¹_chaš_
(
o
.û¹_chaš_->
ClÚe
()) {}

91 
FakeSSLId’t™y
::~FakeSSLIdentity() = ;

93 
	g¡d
::
unique_±r
<
SSLId’t™y
> 
FakeSSLId’t™y
::
ClÚeIÁ”Çl
() const {

94  
¡d
::
make_unique
<
FakeSSLId’t™y
>(*
this
);

97 cÚ¡ 
	gSSLC”tifiÿ‹
& 
	gFakeSSLId’t™y
::
û¹ifiÿ‹
() const {

98  
û¹_chaš_
->
G‘
(0);

101 cÚ¡ 
	gSSLC”tChaš
& 
	gFakeSSLId’t™y
::
û¹_chaš
() const {

102  *
û¹_chaš_
.
g‘
();

105 
	g¡d
::
¡ršg
 
FakeSSLId’t™y
::
Priv©eKeyToPEMSŒšg
() const {

106 
RTC_NOTREACHED
();

110 
	g¡d
::
¡ršg
 
FakeSSLId’t™y
::
PublicKeyToPEMSŒšg
() const {

111 
RTC_NOTREACHED
();

115 
boŞ
 
	gFakeSSLId’t™y
::
İ”©Ü
==(cÚ¡ 
SSLId’t™y
& 
Ùh”
) const {

116 
RTC_NOTREACHED
();

117  
	gçl£
;

	@fake_ssl_identity.h

11 #iâdeà
RTC_BASE_FAKE_SSL_IDENTITY_H_


12 
	#RTC_BASE_FAKE_SSL_IDENTITY_H_


	)

14 
	~<memÜy
>

15 
	~<veùÜ
>

17 
	~"¹c_ba£/s¦_û¹ifiÿ‹.h
"

18 
	~"¹c_ba£/s¦_id’t™y.h
"

20 
Çme¥aû
 
	g¹c
 {

22 şas 
	cFakeSSLC”tifiÿ‹
 : 
public
 
SSLC”tifiÿ‹
 {

23 
public
:

26 
ex¶ic™
 
FakeSSLC”tifiÿ‹
(cÚ¡ 
¡d
::
¡ršg
& 
³m_¡ršg
);

28 
FakeSSLC”tifiÿ‹
(const FakeSSLCertificate&);

29 ~
FakeSSLC”tifiÿ‹
(è
	gov”ride
;

32 
	g¡d
::
unique_±r
<
SSLC”tifiÿ‹
> 
ClÚe
(ècÚ¡ 
ov”ride
;

33 
	g¡d
::
¡ršg
 
ToPEMSŒšg
(ècÚ¡ 
ov”ride
;

34 
ToDER
(
Bufãr
* 
d”_bufãr
ècÚ¡ 
	gov”ride
;

35 
št64_t
 
C”tifiÿ‹Expœ©iÚTime
(ècÚ¡ 
	gov”ride
;

36 
boŞ
 
G‘SigÇtu»Dige¡AlgÜ™hm
(
¡d
::
¡ršg
* 
®gÜ™hm
ècÚ¡ 
ov”ride
;

37 
boŞ
 
Compu‹Dige¡
(cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
,

38 * 
dige¡
,

39 
size_t
 
size
,

40 
size_t
* 
Ëngth
ècÚ¡ 
	gov”ride
;

42 
S‘C”tifiÿ‹Expœ©iÚTime
(
št64_t
 
expœ©iÚ_time
);

44 
£t_dige¡_®gÜ™hm
(cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
);

46 
	g´iv©e
:

47 
¡d
::
¡ršg
 
³m_¡ršg_
;

48 
	g¡d
::
¡ršg
 
dige¡_®gÜ™hm_
;

50 
št64_t
 
	gexpœ©iÚ_time_
;

53 şas 
	cFakeSSLId’t™y
 : 
public
 
SSLId’t™y
 {

54 
public
:

55 
ex¶ic™
 
FakeSSLId’t™y
(cÚ¡ 
¡d
::
¡ršg
& 
³m_¡ršg
);

57 
ex¶ic™
 
FakeSSLId’t™y
(cÚ¡ 
¡d
::
veùÜ
<¡d::
¡ršg
>& 
³m_¡ršgs
);

58 
ex¶ic™
 
FakeSSLId’t™y
(cÚ¡ 
FakeSSLC”tifiÿ‹
& 
û¹
);

60 
ex¶ic™
 
FakeSSLId’t™y
(cÚ¡ FakeSSLId’t™y& 
o
);

62 ~
FakeSSLId’t™y
(è
	gov”ride
;

65 cÚ¡ 
	gSSLC”tifiÿ‹
& 
û¹ifiÿ‹
(ècÚ¡ 
	gov”ride
;

66 cÚ¡ 
	gSSLC”tChaš
& 
û¹_chaš
(ècÚ¡ 
	gov”ride
;

68 
	g¡d
::
¡ršg
 
Priv©eKeyToPEMSŒšg
(ècÚ¡ 
ov”ride
;

70 
	g¡d
::
¡ršg
 
PublicKeyToPEMSŒšg
(ècÚ¡ 
ov”ride
;

72 
vœtu®
 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
SSLId’t™y
& 
Ùh”
) const;

74 
	g´iv©e
:

75 
¡d
::
unique_±r
<
SSLId’t™y
> 
ClÚeIÁ”Çl
(ècÚ¡ 
ov”ride
;

77 
	g¡d
::
unique_±r
<
SSLC”tChaš
> 
û¹_chaš_
;

	@file_rotating_stream.cc

11 
	~"¹c_ba£/fe_rÙ©šg_¡»am.h
"

13 
	~<c¡dio
>

14 
	~<¡ršg
>

15 
	~<ut™y
>

17 #ià
defšed
(
WEBRTC_WIN
)

18 
	~<wšdows.h
>

20 
	~"¹c_ba£/¡ršg_uts.h
"

22 
	~<dœ’t.h
>

23 
	~<sys/¡©.h
>

24 
	~<uni¡d.h
>

27 
	~"ab¦/®gÜ™hm/cÚš”.h
"

28 
	~"ab¦/¡ršgs/m©ch.h
"

29 
	~"ab¦/ty³s/İtiÚ®.h
"

30 
	~"¹c_ba£/checks.h
"

31 
	~"¹c_ba£/loggšg.h
"

36 
Çme¥aû
 
	g¹c
 {

38 
	gÇme¥aû
 {

40 cÚ¡ 
	gkC®lSessiÚLogP»fix
[] = "webrtc_log";

42 
	g¡d
::
¡ršg
 
AddT¿šgP©hD–im™”IfN“ded
(
¡d
::¡ršg 
dœeùÜy
);

46 
	g¡d
::
veùÜ
<
¡d
::
¡ršg
> 
G‘FesW™hP»fix
(cÚ¡ std::¡ršg& 
dœeùÜy
,

47 cÚ¡ 
¡d
::
¡ršg
& 
´efix
);

48 
boŞ
 
D–‘eFe
(cÚ¡ 
¡d
::
¡ršg
& 
fe
);

49 
boŞ
 
MoveFe
(cÚ¡ 
¡d
::
¡ršg
& 
Şd_fe
, cÚ¡ std::¡ršg& 
Ãw_fe
);

50 
boŞ
 
IsFe
(cÚ¡ 
¡d
::
¡ršg
& 
fe
);

51 
boŞ
 
IsFŞd”
(cÚ¡ 
¡d
::
¡ršg
& 
fe
);

52 
	gab¦
::
İtiÚ®
<
size_t
> 
G‘FeSize
(cÚ¡ 
¡d
::
¡ršg
& 
fe
);

54 #ià
defšed
(
WEBRTC_WIN
)

56 
	g¡d
::
¡ršg
 
AddT¿šgP©hD–im™”IfN“ded
(
¡d
::¡ršg 
dœeùÜy
) {

57 ià(
ab¦
::
EndsW™h
(
dœeùÜy
, "\\")) {

58  
	gdœeùÜy
;

60  
	gdœeùÜy
 + "\\";

63 
	g¡d
::
veùÜ
<
¡d
::
¡ršg
> 
G‘FesW™hP»fix
(cÚ¡ std::¡ršg& 
dœeùÜy
,

64 cÚ¡ 
¡d
::
¡ršg
& 
´efix
) {

65 
RTC_DCHECK
(
ab¦
::
EndsW™h
(
dœeùÜy
, "\\"));

66 
WIN32_FIND_DATAW
 
	gd©a
;

67 
HANDLE
 
	ghªdË
;

68 
	ghªdË
 = ::
FšdFœ¡FeW
(
ToUtf16
(
dœeùÜy
 + 
´efix
 + '*').
c_¡r
(), &
d©a
);

69 ià(
	ghªdË
 =ğ
INVALID_HANDLE_VALUE
)

72 
	g¡d
::
veùÜ
<
¡d
::
¡ršg
> 
fe_li¡
;

74 
	gfe_li¡
.
em¶aû_back
(
dœeùÜy
 + 
ToUtf8
(
d©a
.
cFeName
));

75 } ::
FšdNextFeW
(
hªdË
, &
d©a
è=ğ
TRUE
);

77 ::
FšdClo£
(
hªdË
);

78  
	gfe_li¡
;

81 
boŞ
 
D–‘eFe
(cÚ¡ 
¡d
::
¡ršg
& 
fe
) {

82  ::
D–‘eFeW
(
ToUtf16
(
fe
).
c_¡r
()) != 0;

85 
boŞ
 
MoveFe
(cÚ¡ 
¡d
::
¡ršg
& 
Şd_fe
, cÚ¡ std::¡ršg& 
Ãw_fe
) {

86  ::
MoveFeW
(
ToUtf16
(
Şd_fe
).
c_¡r
(), ToUtf16(
Ãw_fe
).c_str()) != 0;

89 
boŞ
 
IsFe
(cÚ¡ 
¡d
::
¡ršg
& 
fe
) {

90 
WIN32_FILE_ATTRIBUTE_DATA
 
d©a
 = {0};

91 ià(0 =ğ::
G‘FeA‰ribu‹sExW
(
ToUtf16
(
fe
).
c_¡r
(), 
G‘FeExInfoSnd¬d
,

92 &
d©a
))

93  
	gçl£
;

94  (
	gd©a
.
	gdwFeA‰ribu‹s
 & 
	gFILE_ATTRIBUTE_DIRECTORY
) == 0;

97 
boŞ
 
IsFŞd”
(cÚ¡ 
¡d
::
¡ršg
& 
fe
) {

98 
WIN32_FILE_ATTRIBUTE_DATA
 
d©a
 = {0};

99 ià(0 =ğ::
G‘FeA‰ribu‹sExW
(
ToUtf16
(
fe
).
c_¡r
(), 
G‘FeExInfoSnd¬d
,

100 &
d©a
))

101  
	gçl£
;

102  (
	gd©a
.
	gdwFeA‰ribu‹s
 & 
	gFILE_ATTRIBUTE_DIRECTORY
) ==

103 
FILE_ATTRIBUTE_DIRECTORY
;

106 
	gab¦
::
İtiÚ®
<
size_t
> 
G‘FeSize
(cÚ¡ 
¡d
::
¡ršg
& 
fe
) {

107 
WIN32_FILE_ATTRIBUTE_DATA
 
d©a
 = {0};

108 ià(::
G‘FeA‰ribu‹sExW
(
ToUtf16
(
fe
).
c_¡r
(), 
G‘FeExInfoSnd¬d
,

109 &
d©a
) == 0)

110  
ab¦
::
nuÎİt
;

111  
	gd©a
.
	gnFeSizeLow
;

116 
	g¡d
::
¡ršg
 
AddT¿šgP©hD–im™”IfN“ded
(
¡d
::¡ršg 
dœeùÜy
) {

117 ià(
ab¦
::
EndsW™h
(
dœeùÜy
, "/")) {

118  
	gdœeùÜy
;

120  
	gdœeùÜy
 + "/";

123 
	g¡d
::
veùÜ
<
¡d
::
¡ršg
> 
G‘FesW™hP»fix
(cÚ¡ std::¡ršg& 
dœeùÜy
,

124 cÚ¡ 
¡d
::
¡ršg
& 
´efix
) {

125 
RTC_DCHECK
(
ab¦
::
EndsW™h
(
dœeùÜy
, "/"));

126 
DIR
* 
	gdœ
 = ::
İ’dœ
(
dœeùÜy
.
c_¡r
());

127 ià(
	gdœ
 =ğ
nuÎ±r
)

129 
	g¡d
::
veùÜ
<
¡d
::
¡ršg
> 
fe_li¡
;

130 
dœ’t
* 
	gdœ’t
 = ::
»addœ
(
dœ
); dirent;

131 
	gdœ’t
 = ::
»addœ
(
dœ
)) {

132 
¡d
::
¡ršg
 
Çme
 = 
dœ’t
->
d_Çme
;

133 ià(
	gÇme
.
com·»
(0, 
´efix
.
size
(),…refix) == 0) {

134 
fe_li¡
.
em¶aû_back
(
dœeùÜy
 + 
Çme
);

137 ::
şo£dœ
(
dœ
);

138  
	gfe_li¡
;

141 
boŞ
 
D–‘eFe
(cÚ¡ 
¡d
::
¡ršg
& 
fe
) {

142  ::
uÆšk
(
fe
.
c_¡r
()) == 0;

145 
boŞ
 
MoveFe
(cÚ¡ 
¡d
::
¡ršg
& 
Şd_fe
, cÚ¡ std::¡ršg& 
Ãw_fe
) {

146  ::
»Çme
(
Şd_fe
.
c_¡r
(), 
Ãw_fe
.c_str()) == 0;

149 
boŞ
 
IsFe
(cÚ¡ 
¡d
::
¡ršg
& 
fe
) {

150 
¡©
 
¡
;

151 
	g»s
 = ::
¡©
(
fe
.
c_¡r
(), &
¡
);

153  
	g»s
 =ğ0 && !
S_ISDIR
(
¡
.
¡_mode
);

156 
boŞ
 
IsFŞd”
(cÚ¡ 
¡d
::
¡ršg
& 
fe
) {

157 
¡©
 
¡
;

158 
	g»s
 = ::
¡©
(
fe
.
c_¡r
(), &
¡
);

159  
	g»s
 =ğ0 && 
S_ISDIR
(
¡
.
¡_mode
);

162 
	gab¦
::
İtiÚ®
<
size_t
> 
G‘FeSize
(cÚ¡ 
¡d
::
¡ršg
& 
fe
) {

163 
¡©
 
¡
;

164 ià(::
¡©
(
fe
.
c_¡r
(), &
¡
) != 0)

165  
ab¦
::
nuÎİt
;

166  
	g¡
.
	g¡_size
;

173 
	gFeRÙ©šgSŒ—m
::
FeRÙ©šgSŒ—m
(cÚ¡ 
¡d
::
¡ršg
& 
dœ_·th
,

174 cÚ¡ 
¡d
::
¡ršg
& 
fe_´efix
,

175 
size_t
 
max_fe_size
,

176 
size_t
 
num_fes
)

177 : 
dœ_·th_
(
AddT¿šgP©hD–im™”IfN“ded
(
dœ_·th
)),

178 
fe_´efix_
(
fe_´efix
),

179 
max_fe_size_
(
max_fe_size
),

180 
cu¼’t_fe_šdex_
(0),

181 
rÙ©iÚ_šdex_
(0),

182 
cu¼’t_by‹s_wr™‹n_
(0),

183 
di§bË_bufãršg_
(
çl£
) {

184 
RTC_DCHECK_GT
(
max_fe_size
, 0);

185 
RTC_DCHECK_GT
(
num_fes
, 1);

186 
RTC_DCHECK
(
IsFŞd”
(
dœ_·th
));

187 
	gfe_Çmes_
.
ş—r
();

188 
size_t
 
	gi
 = 0; i < 
	gnum_fes
; ++i) {

189 
	gfe_Çmes_
.
push_back
(
G‘FeP©h
(
i
, 
num_fes
));

191 
	grÙ©iÚ_šdex_
 = 
num_fes
 - 1;

194 
	gFeRÙ©šgSŒ—m
::~
FeRÙ©šgSŒ—m
() {}

196 
SŒ—mS‹
 
FeRÙ©šgSŒ—m
::
G‘S‹
() const {

197  (
fe_
.
is_İ’
(è? 
SS_OPEN
 : 
SS_CLOSED
);

200 
SŒ—mResuÉ
 
	gFeRÙ©šgSŒ—m
::
R—d
(* 
bufãr
,

201 
size_t
 
bufãr_Ën
,

202 
size_t
* 
»ad
,

203 * 
”rÜ
) {

204 
RTC_DCHECK
(
bufãr
);

205 
RTC_NOTREACHED
();

206  
	gSR_EOS
;

209 
SŒ—mResuÉ
 
	gFeRÙ©šgSŒ—m
::
Wr™e
(cÚ¡ * 
d©a
,

210 
size_t
 
d©a_Ën
,

211 
size_t
* 
wr™‹n
,

212 * 
”rÜ
) {

213 ià(!
	gfe_
.
is_İ’
()) {

214 
	g¡d
::
årštf
(
¡d”r
, "Open() must be called before Write.\n");

215  
	gSR_ERROR
;

218 
RTC_DCHECK_LT
(
cu¼’t_by‹s_wr™‹n_
, 
max_fe_size_
);

219 
size_t
 
	g»maššg_by‹s
 = 
max_fe_size_
 - 
cu¼’t_by‹s_wr™‹n_
;

220 
size_t
 
	gwr™e_Ëngth
 = 
¡d
::
mš
(
d©a_Ën
, 
»maššg_by‹s
);

222 ià(!
	gfe_
.
Wr™e
(
d©a
, 
wr™e_Ëngth
)) {

223  
	gSR_ERROR
;

225 ià(
	gdi§bË_bufãršg_
 && !
	gfe_
.
Flush
()) {

226  
	gSR_ERROR
;

229 
	gcu¼’t_by‹s_wr™‹n_
 +ğ
wr™e_Ëngth
;

230 ià(
	gwr™‹n
) {

231 *
	gwr™‹n
 = 
wr™e_Ëngth
;

234 ià(
	gcu¼’t_by‹s_wr™‹n_
 >ğ
max_fe_size_
) {

235 
RTC_DCHECK_EQ
(
cu¼’t_by‹s_wr™‹n_
, 
max_fe_size_
);

236 
RÙ©eFes
();

238  
	gSR_SUCCESS
;

241 
boŞ
 
	gFeRÙ©šgSŒ—m
::
Flush
() {

242 ià(!
fe_
.
is_İ’
()) {

243  
çl£
;

245  
	gfe_
.
Flush
();

248 
	gFeRÙ©šgSŒ—m
::
Clo£
() {

249 
Clo£Cu¼’tFe
();

252 
boŞ
 
	gFeRÙ©šgSŒ—m
::
O³n
() {

254 
¡d
::
veùÜ
<¡d::
¡ršg
> 
m©chšg_fes
 =

255 
G‘FesW™hP»fix
(
dœ_·th_
, 
fe_´efix_
);

256 cÚ¡‡uto& 
	gm©chšg_fe
 : 
m©chšg_fes
) {

257 ià(!
D–‘eFe
(
m©chšg_fe
)) {

258 
¡d
::
årštf
(
¡d”r
, "FaedØd–‘e: %s\n", 
m©chšg_fe
.
c_¡r
());

261  
O³nCu¼’tFe
();

264 
boŞ
 
	gFeRÙ©šgSŒ—m
::
Di§bËBufãršg
() {

265 
di§bË_bufãršg_
 = 
Œue
;

266  
	gŒue
;

269 
	g¡d
::
¡ršg
 
FeRÙ©šgSŒ—m
::
G‘FeP©h
(
size_t
 
šdex
) const {

270 
RTC_DCHECK_LT
(
šdex
, 
fe_Çmes_
.
size
());

271  
	gfe_Çmes_
[
šdex
];

274 
boŞ
 
	gFeRÙ©šgSŒ—m
::
O³nCu¼’tFe
() {

275 
Clo£Cu¼’tFe
();

278 
RTC_DCHECK_LT
(
cu¼’t_fe_šdex_
, 
fe_Çmes_
.
size
());

279 
	g¡d
::
¡ršg
 
fe_·th
 = 
fe_Çmes_
[
cu¼’t_fe_šdex_
];

282 
RTC_DCHECK_EQ
(
cu¼’t_fe_šdex_
, 0);

283 
	g”rÜ
;

284 
	gfe_
 = 
web¹c
::
FeW¿µ”
::
O³nWr™eOÆy
(
fe_·th
, &
”rÜ
);

285 ià(!
	gfe_
.
is_İ’
()) {

286 
	g¡d
::
årštf
(
¡d”r
, "FaedØİ’: % E¼Ü: %d\n", 
fe_·th
.
c_¡r
(),

287 
”rÜ
);

288  
	gçl£
;

290  
	gŒue
;

293 
	gFeRÙ©šgSŒ—m
::
Clo£Cu¼’tFe
() {

294 ià(!
fe_
.
is_İ’
()) {

297 
	gcu¼’t_by‹s_wr™‹n_
 = 0;

298 
	gfe_
.
Clo£
();

301 
	gFeRÙ©šgSŒ—m
::
RÙ©eFes
() {

302 
Clo£Cu¼’tFe
();

306 
RTC_DCHECK_LT
(
rÙ©iÚ_šdex_
, 
fe_Çmes_
.
size
());

307 
	g¡d
::
¡ršg
 
fe_to_d–‘e
 = 
fe_Çmes_
[
rÙ©iÚ_šdex_
];

308 ià(
IsFe
(
fe_to_d–‘e
)) {

309 ià(!
D–‘eFe
(
fe_to_d–‘e
)) {

310 
	g¡d
::
årštf
(
¡d”r
, "FaedØd–‘e: %s\n", 
fe_to_d–‘e
.
c_¡r
());

313 autØ
	gi
 = 
rÙ©iÚ_šdex_
; i > 0; --i) {

314 
	g¡d
::
¡ršg
 
rÙ©ed_Çme
 = 
fe_Çmes_
[
i
];

315 
	g¡d
::
¡ršg
 
uÄÙ©ed_Çme
 = 
fe_Çmes_
[
i
 - 1];

316 ià(
IsFe
(
uÄÙ©ed_Çme
)) {

317 ià(!
MoveFe
(
uÄÙ©ed_Çme
, 
rÙ©ed_Çme
)) {

318 
	g¡d
::
årštf
(
¡d”r
, "Failedo move: %so %s\n",

319 
uÄÙ©ed_Çme
.
c_¡r
(), 
rÙ©ed_Çme
.c_str());

324 
O³nCu¼’tFe
();

325 
OnRÙ©iÚ
();

328 
	g¡d
::
¡ršg
 
FeRÙ©šgSŒ—m
::
G‘FeP©h
(
size_t
 
šdex
,

329 
size_t
 
num_fes
) const {

330 
RTC_DCHECK_LT
(
šdex
, 
num_fes
);

332 cÚ¡ 
size_t
 
	gbufãr_size
 = 32;

333 
	gfe_po¡fix
[
bufãr_size
];

335 cÚ¡ 
	gmax_dig™s
 = 
¡d
::
¢´štf
(
nuÎ±r
, 0, "%zu", 
num_fes
 - 1);

336 
RTC_DCHECK_LT
(1 + 
max_dig™s
, 
bufãr_size
);

337 
	g¡d
::
¢´štf
(
fe_po¡fix
, 
bufãr_size
, "_%0*zu", 
max_dig™s
, 
šdex
);

339  
	gdœ_·th_
 + 
	gfe_´efix_
 + 
	gfe_po¡fix
;

342 
	gC®lSessiÚFeRÙ©šgSŒ—m
::
C®lSessiÚFeRÙ©šgSŒ—m
(

343 cÚ¡ 
¡d
::
¡ršg
& 
dœ_·th
,

344 
size_t
 
max_tÙ®_log_size
)

345 : 
FeRÙ©šgSŒ—m
(
dœ_·th
,

346 
kC®lSessiÚLogP»fix
,

347 
max_tÙ®_log_size
 / 2,

348 
G‘NumRÙ©šgLogFes
(
max_tÙ®_log_size
) + 1),

349 
max_tÙ®_log_size_
(
max_tÙ®_log_size
),

350 
num_rÙ©iÚs_
(0) {

351 
RTC_DCHECK_GE
(
max_tÙ®_log_size
, 4);

354 cÚ¡ 
size_t
 
	gC®lSessiÚFeRÙ©šgSŒ—m
::
kRÙ©šgLogFeDeçuÉSize
 =

357 
	gC®lSessiÚFeRÙ©šgSŒ—m
::
OnRÙ©iÚ
() {

358 ++
num_rÙ©iÚs_
;

359 ià(
	gnum_rÙ©iÚs_
 == 1) {

362 
S‘MaxFeSize
(
G‘RÙ©šgLogSize
(
max_tÙ®_log_size_
));

363 } ià(
	gnum_rÙ©iÚs_
 =ğ(
G‘NumFes
() - 1)) {

366 
S‘RÙ©iÚIndex
(
G‘RÙ©iÚIndex
() - 1);

370 
size_t
 
	gC®lSessiÚFeRÙ©šgSŒ—m
::
G‘RÙ©šgLogSize
(

371 
size_t
 
max_tÙ®_log_size
) {

372 
size_t
 
num_rÙ©šg_log_fes
 = 
G‘NumRÙ©šgLogFes
(
max_tÙ®_log_size
);

373 
size_t
 
	grÙ©šg_log_size
 = 
num_rÙ©šg_log_fes
 > 2

374 ? 
kRÙ©šgLogFeDeçuÉSize


375 : 
max_tÙ®_log_size
 / 4;

376  
	grÙ©šg_log_size
;

379 
size_t
 
	gC®lSessiÚFeRÙ©šgSŒ—m
::
G‘NumRÙ©šgLogFes
(

380 
size_t
 
max_tÙ®_log_size
) {

383  
¡d
::
max
((
size_t
)2,

384 (
max_tÙ®_log_size
 / 2è/ 
kRÙ©šgLogFeDeçuÉSize
);

387 
	gFeRÙ©šgSŒ—mR—d”
::
FeRÙ©šgSŒ—mR—d”
(

388 cÚ¡ 
¡d
::
¡ršg
& 
dœ_·th
,

389 cÚ¡ 
¡d
::
¡ršg
& 
fe_´efix
) {

390 
fe_Çmes_
 = 
G‘FesW™hP»fix
(
AddT¿šgP©hD–im™”IfN“ded
(
dœ_·th
),

391 
fe_´efix
);

395 
	gab¦
::
c_sÜt
(
fe_Çmes_
, 
¡d
::
g»©”
<¡d::
¡ršg
>());

398 
	gFeRÙ©šgSŒ—mR—d”
::~
FeRÙ©šgSŒ—mR—d”
() = ;

400 
size_t
 
	gFeRÙ©šgSŒ—mR—d”
::
G‘Size
() const {

401 
size_t
 
tÙ®_size
 = 0;

402 cÚ¡‡uto& 
	gfe_Çme
 : 
fe_Çmes_
) {

403 
tÙ®_size
 +ğ
G‘FeSize
(
fe_Çme
).
v®ue_Ü
(0);

405  
	gtÙ®_size
;

408 
size_t
 
	gFeRÙ©šgSŒ—mR—d”
::
R—dAÎ
(* 
bufãr
, size_ˆ
size
) const {

409 
size_t
 
	gdÚe
 = 0;

410 cÚ¡‡uto& 
	gfe_Çme
 : 
fe_Çmes_
) {

411 ià(
dÚe
 < 
size
) {

412 
web¹c
::
FeW¿µ”
 
f
 = web¹c::FeW¿µ”::
O³nR—dOÆy
(
fe_Çme
);

413 ià(!
	gf
.
is_İ’
()) {

416 
	gdÚe
 +ğ
f
.
R—d
(
¡©ic_ÿ¡
<*>(
bufãr
è+ 
dÚe
, 
size
 - done);

421  
	gdÚe
;

424 
	gC®lSessiÚFeRÙ©šgSŒ—mR—d”
::
C®lSessiÚFeRÙ©šgSŒ—mR—d”
(

425 cÚ¡ 
¡d
::
¡ršg
& 
dœ_·th
)

426 : 
FeRÙ©šgSŒ—mR—d”
(
dœ_·th
, 
kC®lSessiÚLogP»fix
) {}

	@file_rotating_stream.h

11 #iâdeà
RTC_BASE_FILE_ROTATING_STREAM_H_


12 
	#RTC_BASE_FILE_ROTATING_STREAM_H_


	)

14 
	~<¡ddef.h
>

16 
	~<memÜy
>

17 
	~<¡ršg
>

18 
	~<veùÜ
>

20 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

21 
	~"¹c_ba£/¡»am.h
"

22 
	~"¹c_ba£/sy¡em/fe_w¿µ”.h
"

24 
Çme¥aû
 
	g¹c
 {

30 şas 
	cFeRÙ©šgSŒ—m
 : 
public
 
SŒ—mIÁ”çû
 {

31 
public
:

34 
FeRÙ©šgSŒ—m
(cÚ¡ 
¡d
::
¡ršg
& 
dœ_·th
,

35 cÚ¡ 
¡d
::
¡ršg
& 
fe_´efix
);

39 
FeRÙ©šgSŒ—m
(cÚ¡ 
¡d
::
¡ršg
& 
dœ_·th
,

40 cÚ¡ 
¡d
::
¡ršg
& 
fe_´efix
,

41 
size_t
 
max_fe_size
,

42 
size_t
 
num_fes
);

44 ~
FeRÙ©šgSŒ—m
(è
	gov”ride
;

47 
SŒ—mS‹
 
G‘S‹
(ècÚ¡ 
	gov”ride
;

48 
SŒ—mResuÉ
 
R—d
(* 
bufãr
,

49 
size_t
 
bufãr_Ën
,

50 
size_t
* 
»ad
,

51 * 
”rÜ
è
	gov”ride
;

52 
SŒ—mResuÉ
 
Wr™e
(cÚ¡ * 
d©a
,

53 
size_t
 
d©a_Ën
,

54 
size_t
* 
wr™‹n
,

55 * 
”rÜ
è
	gov”ride
;

56 
boŞ
 
Flush
(è
	gov”ride
;

57 
Clo£
(è
	gov”ride
;

60 
boŞ
 
O³n
();

64 
boŞ
 
Di§bËBufãršg
();

69 
	g¡d
::
¡ršg
 
G‘FeP©h
(
size_t
 
šdex
) const;

72 
size_t
 
G‘NumFes
(ècÚ¡ {  
	gfe_Çmes_
.
size
(); }

74 
	g´Ùeùed
:

75 
size_t
 
G‘MaxFeSize
(ècÚ¡ {  
max_fe_size_
; }

77 
S‘MaxFeSize
(
size_t
 
size
è{ 
	gmax_fe_size_
 = size; }

79 
size_t
 
G‘RÙ©iÚIndex
(ècÚ¡ {  
	grÙ©iÚ_šdex_
; }

81 
S‘RÙ©iÚIndex
(
size_t
 
šdex
è{ 
	grÙ©iÚ_šdex_
 = index; }

83 
vœtu®
 
OnRÙ©iÚ
() {}

85 
	g´iv©e
:

86 
boŞ
 
O³nCu¼’tFe
();

87 
Clo£Cu¼’tFe
();

95 
RÙ©eFes
();

98 
	g¡d
::
¡ršg
 
G‘FeP©h
(
size_t
 
šdex
, size_ˆ
num_fes
) const;

100 cÚ¡ 
	g¡d
::
¡ršg
 
dœ_·th_
;

101 cÚ¡ 
	g¡d
::
¡ršg
 
fe_´efix_
;

104 
	gweb¹c
::
FeW¿µ”
 
fe_
;

106 
	g¡d
::
veùÜ
<
¡d
::
¡ršg
> 
fe_Çmes_
;

107 
size_t
 
	gmax_fe_size_
;

108 
size_t
 
	gcu¼’t_fe_šdex_
;

111 
size_t
 
	grÙ©iÚ_šdex_
;

114 
size_t
 
	gcu¼’t_by‹s_wr™‹n_
;

115 
boŞ
 
	gdi§bË_bufãršg_
;

117 
RTC_DISALLOW_COPY_AND_ASSIGN
(
FeRÙ©šgSŒ—m
);

137 şas 
	cC®lSessiÚFeRÙ©šgSŒ—m
 : 
public
 
FeRÙ©šgSŒ—m
 {

138 
public
:

142 
C®lSessiÚFeRÙ©šgSŒ—m
(cÚ¡ 
¡d
::
¡ršg
& 
dœ_·th
,

143 
size_t
 
max_tÙ®_log_size
);

144 ~
C®lSessiÚFeRÙ©šgSŒ—m
(è
	gov”ride
 {}

146 
	g´Ùeùed
:

147 
OnRÙ©iÚ
(è
ov”ride
;

149 
	g´iv©e
:

150 
size_t
 
G‘RÙ©šgLogSize
(size_ˆ
max_tÙ®_log_size
);

151 
size_t
 
G‘NumRÙ©šgLogFes
(size_ˆ
max_tÙ®_log_size
);

152 cÚ¡ 
size_t
 
	gkRÙ©šgLogFeDeçuÉSize
;

154 cÚ¡ 
size_t
 
	gmax_tÙ®_log_size_
;

155 
size_t
 
	gnum_rÙ©iÚs_
;

157 
RTC_DISALLOW_COPY_AND_ASSIGN
(
C®lSessiÚFeRÙ©šgSŒ—m
);

164 şas 
	cFeRÙ©šgSŒ—mR—d”
 {

165 
	gpublic
:

166 
FeRÙ©šgSŒ—mR—d”
(cÚ¡ 
¡d
::
¡ršg
& 
dœ_·th
,

167 cÚ¡ 
¡d
::
¡ršg
& 
fe_´efix
);

168 ~
FeRÙ©šgSŒ—mR—d”
();

169 
size_t
 
G‘Size
() const;

170 
size_t
 
R—dAÎ
(* 
bufãr
, size_ˆ
size
) const;

172 
	g´iv©e
:

173 
¡d
::
veùÜ
<¡d::
¡ršg
> 
fe_Çmes_
;

176 şas 
	cC®lSessiÚFeRÙ©šgSŒ—mR—d”
 : 
public
 
FeRÙ©šgSŒ—mR—d”
 {

177 
public
:

178 
C®lSessiÚFeRÙ©šgSŒ—mR—d”
(cÚ¡ 
¡d
::
¡ršg
& 
dœ_·th
);

	@file_rotating_stream_unittest.cc

11 
	~"¹c_ba£/fe_rÙ©šg_¡»am.h
"

13 
	~<¡ršg.h
>

15 
	~<c¡dšt
>

16 
	~<memÜy
>

18 
	~"¹c_ba£/¬¿ysize.h
"

19 
	~"‹¡/g‹¡.h
"

20 
	~"‹¡/‹¡suµÜt/fe_uts.h
"

22 
Çme¥aû
 
	g¹c
 {

24 
	gÇme¥aû
 {

26 
CËªupLogDœeùÜy
(cÚ¡ 
FeRÙ©šgSŒ—m
& 
¡»am
) {

27 
size_t
 
	gi
 = 0; i < 
	g¡»am
.
G‘NumFes
(); ++i) {

29 
	gweb¹c
::
‹¡
::
RemoveFe
(
¡»am
.
G‘FeP©h
(
i
));

35 #ià
defšed
(
WEBRTC_ANDROID
)

37 
	#MAYBE_FeRÙ©šgSŒ—mTe¡
 
DISABLED_FeRÙ©šgSŒ—mTe¡


	)

39 
	#MAYBE_FeRÙ©šgSŒ—mTe¡
 
FeRÙ©šgSŒ—mTe¡


	)

42 şas 
	cMAYBE_FeRÙ©šgSŒ—mTe¡
 : 
public
 ::
‹¡šg
::
Te¡
 {

43 
´Ùeùed
:

44 cÚ¡ * 
kFeP»fix
;

45 cÚ¡ 
size_t
 
	gkMaxFeSize
;

47 
In™
(cÚ¡ 
¡d
::
¡ršg
& 
dœ_Çme
,

48 cÚ¡ 
¡d
::
¡ršg
& 
fe_´efix
,

49 
size_t
 
max_fe_size
,

50 
size_t
 
num_log_fes
,

51 
boŞ
 
’su»_Œašg_d–im™”
 = 
Œue
) {

52 
dœ_·th_
 = 
web¹c
::
‹¡
::
OuutP©h
();

55 
	gdœ_·th_
.
­³nd
(
dœ_Çme
);

56 ià(
	g’su»_Œašg_d–im™”
) {

57 
	gdœ_·th_
.
­³nd
(
web¹c
::
‹¡
::
kP©hD–im™”
);

59 
ASSERT_TRUE
(
web¹c
::
‹¡
::
C»©eDœ
(
dœ_·th_
));

60 
	g¡»am_
.
»£t
(
Ãw
 
FeRÙ©šgSŒ—m
(
dœ_·th_
, 
fe_´efix
, 
max_fe_size
,

61 
num_log_fes
));

64 
T—rDown
(è
	gov”ride
 {

66 
	g¡»am_
->
Clo£
();

67 
CËªupLogDœeùÜy
(*
¡»am_
);

68 
EXPECT_TRUE
(
web¹c
::
‹¡
::
RemoveDœ
(
dœ_·th_
));

70 
	g¡»am_
.
»£t
();

74 
Wr™eAndFlush
(cÚ¡ * 
d©a
, cÚ¡ 
size_t
 
d©a_Ën
) {

75 
EXPECT_EQ
(
SR_SUCCESS
, 
¡»am_
->
Wr™eAÎ
(
d©a
, 
d©a_Ën
, 
nuÎ±r
,‚ullptr));

76 
EXPECT_TRUE
(
¡»am_
->
Flush
());

81 
V”ifySŒ—mR—d
(cÚ¡ * 
ex³ùed_cÚ‹Ás
,

82 cÚ¡ 
size_t
 
ex³ùed_Ëngth
,

83 cÚ¡ 
¡d
::
¡ršg
& 
dœ_·th
,

84 cÚ¡ * 
fe_´efix
) {

85 
FeRÙ©šgSŒ—mR—d”
 
»ad”
(
dœ_·th
, 
fe_´efix
);

86 
EXPECT_EQ
(
»ad”
.
G‘Size
(), 
ex³ùed_Ëngth
);

87 
	g¡d
::
unique_±r
<
ušt8_t
[]> 
bufãr
(
Ãw
 ušt8_t[
ex³ùed_Ëngth
]);

88 
mem£t
(
bufãr
.
g‘
(), 0, 
ex³ùed_Ëngth
);

89 
EXPECT_EQ
(
ex³ùed_Ëngth
, 
»ad”
.
R—dAÎ
(
bufãr
.
g‘
(),ƒxpected_length));

90 
EXPECT_EQ
(0, 
memcmp
(
ex³ùed_cÚ‹Ás
, 
bufãr
.
g‘
(), 
ex³ùed_Ëngth
));

93 
V”ifyFeCÚ‹Ás
(cÚ¡ * 
ex³ùed_cÚ‹Ás
,

94 cÚ¡ 
size_t
 
ex³ùed_Ëngth
,

95 cÚ¡ 
¡d
::
¡ršg
& 
fe_·th
) {

96 
¡d
::
unique_±r
<
ušt8_t
[]> 
bufãr
(
Ãw
 ušt8_t[
ex³ùed_Ëngth
 + 1]);

97 
	gweb¹c
::
FeW¿µ”
 
f
 = 
web¹c
::FeW¿µ”::
O³nR—dOÆy
(
fe_·th
);

98 
ASSERT_TRUE
(
f
.
is_İ’
());

99 
size_t
 
	gsize_»ad
 = 
f
.
R—d
(
bufãr
.
g‘
(), 
ex³ùed_Ëngth
 + 1);

100 
EXPECT_EQ
(
size_»ad
, 
ex³ùed_Ëngth
);

101 
EXPECT_EQ
(0, 
memcmp
(
ex³ùed_cÚ‹Ás
, 
bufãr
.
g‘
(),

102 
¡d
::
mš
(
ex³ùed_Ëngth
, 
size_»ad
)));

105 
	g¡d
::
unique_±r
<
FeRÙ©šgSŒ—m
> 
¡»am_
;

106 
	g¡d
::
¡ršg
 
dœ_·th_
;

109 cÚ¡ * 
	gMAYBE_FeRÙ©šgSŒ—mTe¡
::
kFeP»fix
 =

111 cÚ¡ 
size_t
 
	gMAYBE_FeRÙ©šgSŒ—mTe¡
::
kMaxFeSize
 = 2;

114 
	$TEST_F
(
MAYBE_FeRÙ©šgSŒ—mTe¡
, 
S‹
) {

115 
	`In™
("FeRÙ©šgSŒ—mTe¡S‹", 
kFeP»fix
, 
kMaxFeSize
, 3);

117 
	`EXPECT_EQ
(
SS_CLOSED
, 
¡»am_
->
	`G‘S‹
());

118 
	`ASSERT_TRUE
(
¡»am_
->
	`O³n
());

119 
	`EXPECT_EQ
(
SS_OPEN
, 
¡»am_
->
	`G‘S‹
());

120 
¡»am_
->
	`Clo£
();

121 
	`EXPECT_EQ
(
SS_CLOSED
, 
¡»am_
->
	`G‘S‹
());

122 
	}
}

125 
	$TEST_F
(
MAYBE_FeRÙ©šgSŒ—mTe¡
, 
Em±yWr™e
) {

126 
	`In™
("FeRÙ©šgSŒ—mTe¡Em±yWr™e", 
kFeP»fix
, 
kMaxFeSize
, 3);

128 
	`ASSERT_TRUE
(
¡»am_
->
	`O³n
());

129 
	`Wr™eAndFlush
("a", 0);

131 
¡d
::
¡ršg
 
logfe_·th
 = 
¡»am_
->
	`G‘FeP©h
(0);

132 
web¹c
::
FeW¿µ”
 
f
 = web¹c::FeW¿µ”::
	`O³nR—dOÆy
(
logfe_·th
);

133 
	`ASSERT_TRUE
(
f
.
	`is_İ’
());

134 
buf
[1];

135 
	`EXPECT_EQ
(0u, 
f
.
	`R—d
(
buf
, (buf)));

136 
	}
}

140 
	$TEST_F
(
MAYBE_FeRÙ©šgSŒ—mTe¡
, 
Wr™eAndR—d
) {

141 
	`In™
("FeRÙ©šgSŒ—mTe¡Wr™eAndR—d", 
kFeP»fix
, 
kMaxFeSize
, 3);

143 
	`ASSERT_TRUE
(
¡»am_
->
	`O³n
());

146 
¡d
::
¡ršg
 
mes§ges
[3] = {"aa", "bb", "cc"};

147 
size_t
 
i
 = 0; i < 
	`¬¿ysize
(
mes§ges
); ++i) {

148 cÚ¡ 
¡d
::
¡ršg
& 
mes§ge
 = 
mes§ges
[
i
];

149 
	`Wr™eAndFlush
(
mes§ge
.
	`c_¡r
(), mes§ge.
	`size
());

152 
	`V”ifyFeCÚ‹Ás
(
mes§ge
.
	`c_¡r
(), mes§ge.
	`size
(),

153 
¡»am_
->
	`G‘FeP©h
(1));

156 
size_t
 
i
 = 0; i < 
	`¬¿ysize
(
mes§ges
); ++i) {

157 
	`EXPECT_TRUE
(
web¹c
::
‹¡
::
	`FeExi¡s
(
¡»am_
->
	`G‘FeP©h
(
i
)));

159 
¡d
::
¡ršg
 
	`mes§ge
("d");

160 
	`Wr™eAndFlush
(
mes§ge
.
	`c_¡r
(), mes§ge.
	`size
());

161 
size_t
 
i
 = 0; i < 
	`¬¿ysize
(
mes§ges
); ++i) {

162 
	`EXPECT_TRUE
(
web¹c
::
‹¡
::
	`FeExi¡s
(
¡»am_
->
	`G‘FeP©h
(
i
)));

167 
¡d
::
¡ršg
 
	`ex³ùed_cÚ‹Ás
("bbccd");

168 
	`V”ifySŒ—mR—d
(
ex³ùed_cÚ‹Ás
.
	`c_¡r
(),ƒx³ùed_cÚ‹Ás.
	`size
(),

169 
dœ_·th_
, 
kFeP»fix
);

170 
	}
}

174 
	$TEST_F
(
MAYBE_FeRÙ©šgSŒ—mTe¡
, 
Wr™eW™houtD–im™”AndR—d
) {

175 
	`In™
("FeRÙ©šgSŒ—mTe¡Wr™eW™houtD–im™”AndR—d", 
kFeP»fix
,

176 
kMaxFeSize
, 3,

177  
çl£
);

179 
	`ASSERT_TRUE
(
¡»am_
->
	`O³n
());

182 
¡d
::
¡ršg
 
mes§ges
[3] = {"aa", "bb", "cc"};

183 
size_t
 
i
 = 0; i < 
	`¬¿ysize
(
mes§ges
); ++i) {

184 cÚ¡ 
¡d
::
¡ršg
& 
mes§ge
 = 
mes§ges
[
i
];

185 
	`Wr™eAndFlush
(
mes§ge
.
	`c_¡r
(), mes§ge.
	`size
());

187 
¡d
::
¡ršg
 
	`mes§ge
("d");

188 
	`Wr™eAndFlush
(
mes§ge
.
	`c_¡r
(), mes§ge.
	`size
());

191 
¡d
::
¡ršg
 
	`ex³ùed_cÚ‹Ás
("bbccd");

192 
	`V”ifySŒ—mR—d
(
ex³ùed_cÚ‹Ás
.
	`c_¡r
(),ƒx³ùed_cÚ‹Ás.
	`size
(),

193 
dœ_·th_
 + 
web¹c
::
‹¡
::
kP©hD–im™”
, 
kFeP»fix
);

194 
	}
}

198 
	$TEST_F
(
MAYBE_FeRÙ©šgSŒ—mTe¡
, 
Wr™eAndR—dW™houtD–im™”
) {

199 
	`In™
("FeRÙ©šgSŒ—mTe¡Wr™eAndR—dW™houtD–im™”", 
kFeP»fix
,

200 
kMaxFeSize
, 3);

202 
	`ASSERT_TRUE
(
¡»am_
->
	`O³n
());

205 
¡d
::
¡ršg
 
mes§ges
[3] = {"aa", "bb", "cc"};

206 
size_t
 
i
 = 0; i < 
	`¬¿ysize
(
mes§ges
); ++i) {

207 cÚ¡ 
¡d
::
¡ršg
& 
mes§ge
 = 
mes§ges
[
i
];

208 
	`Wr™eAndFlush
(
mes§ge
.
	`c_¡r
(), mes§ge.
	`size
());

210 
¡d
::
¡ršg
 
	`mes§ge
("d");

211 
	`Wr™eAndFlush
(
mes§ge
.
	`c_¡r
(), mes§ge.
	`size
());

214 
¡d
::
¡ršg
 
	`ex³ùed_cÚ‹Ás
("bbccd");

215 
	`V”ifySŒ—mR—d
(
ex³ùed_cÚ‹Ás
.
	`c_¡r
(),ƒx³ùed_cÚ‹Ás.
	`size
(),

216 
dœ_·th_
.
	`sub¡r
(0, dœ_·th_.
	`size
(è- 1), 
kFeP»fix
);

217 
	}
}

221 
	$TEST_F
(
MAYBE_FeRÙ©šgSŒ—mTe¡
, 
Wr™eOv”æowAndR—d
) {

222 
	`In™
("FeRÙ©šgSŒ—mTe¡Wr™eOv”æowAndR—d", 
kFeP»fix
, 
kMaxFeSize
,

224 
	`ASSERT_TRUE
(
¡»am_
->
	`O³n
());

227 
¡d
::
¡ršg
 
	`mes§ge
("foobarbaz");

228 
	`Wr™eAndFlush
(
mes§ge
.
	`c_¡r
(), mes§ge.
	`size
());

229 
¡d
::
¡ršg
 
	`ex³ùed_fe_cÚ‹Ás
("z");

230 
	`V”ifyFeCÚ‹Ás
(
ex³ùed_fe_cÚ‹Ás
.
	`c_¡r
(),

231 
ex³ùed_fe_cÚ‹Ás
.
	`size
(), 
¡»am_
->
	`G‘FeP©h
(0));

232 
¡d
::
¡ršg
 
	`ex³ùed_¡»am_cÚ‹Ás
("arbaz");

233 
	`V”ifySŒ—mR—d
(
ex³ùed_¡»am_cÚ‹Ás
.
	`c_¡r
(),

234 
ex³ùed_¡»am_cÚ‹Ás
.
	`size
(), 
dœ_·th_
, 
kFeP»fix
);

235 
	}
}

238 
	$TEST_F
(
MAYBE_FeRÙ©šgSŒ—mTe¡
, 
G‘FeP©h
) {

239 
	`In™
("FeRÙ©šgSŒ—mTe¡G‘FeP©h", 
kFeP»fix
, 
kMaxFeSize
, 20);

241 cÚ¡ 
¡d
::
¡ršg
 
´efix
 = 
dœ_·th_
 + 
kFeP»fix
;

242 autØ
i
 = 0; i < 20; ++i) {

243 
	`EXPECT_EQ
(0, 
¡»am_
->
	`G‘FeP©h
(
i
).
	`com·»
(0, 
´efix
.
	`size
(),…refix));

245 
	}
}

247 #ià
	$defšed
(
WEBRTC_ANDROID
)

249 
	#MAYBE_C®lSessiÚFeRÙ©šgSŒ—mTe¡
 \

250 
DISABLED_C®lSessiÚFeRÙ©šgSŒ—mTe¡


	)

252 
	#MAYBE_C®lSessiÚFeRÙ©šgSŒ—mTe¡
 \

253 
C®lSessiÚFeRÙ©šgSŒ—mTe¡


	)

256 şas 
	cMAYBE_C®lSessiÚFeRÙ©šgSŒ—mTe¡
 : 
public
 ::
‹¡šg
::
Te¡
 {

257 
´Ùeùed
:

258 
	`In™
(cÚ¡ 
¡d
::
¡ršg
& 
dœ_Çme
, 
size_t
 
max_tÙ®_log_size
) {

259 
dœ_·th_
 = 
web¹c
::
‹¡
::
	`OuutP©h
();

262 
dœ_·th_
.
	`­³nd
(
dœ_Çme
);

263 
dœ_·th_
.
	`­³nd
(
web¹c
::
‹¡
::
kP©hD–im™”
);

264 
	`ASSERT_TRUE
(
web¹c
::
‹¡
::
	`C»©eDœ
(
dœ_·th_
));

265 
¡»am_
.
	`»£t
(

266 
Ãw
 
	`C®lSessiÚFeRÙ©šgSŒ—m
(
dœ_·th_
, 
max_tÙ®_log_size
));

269 
	`T—rDown
(è
ov”ride
 {

271 
¡»am_
->
	`Clo£
();

272 
	`CËªupLogDœeùÜy
(*
¡»am_
);

273 
	`EXPECT_TRUE
(
web¹c
::
‹¡
::
	`RemoveDœ
(
dœ_·th_
));

275 
¡»am_
.
	`»£t
();

279 
	`Wr™eAndFlush
(cÚ¡ * 
d©a
, cÚ¡ 
size_t
 
d©a_Ën
) {

280 
	`EXPECT_EQ
(
SR_SUCCESS
, 
¡»am_
->
	`Wr™eAÎ
(
d©a
, 
d©a_Ën
, 
nuÎ±r
,‚ullptr));

281 
	`EXPECT_TRUE
(
¡»am_
->
	`Flush
());

286 
	`V”ifySŒ—mR—d
(cÚ¡ * 
ex³ùed_cÚ‹Ás
,

287 cÚ¡ 
size_t
 
ex³ùed_Ëngth
,

288 cÚ¡ 
¡d
::
¡ršg
& 
dœ_·th
) {

289 
C®lSessiÚFeRÙ©šgSŒ—mR—d”
 
	`»ad”
(
dœ_·th
);

290 
	`EXPECT_EQ
(
»ad”
.
	`G‘Size
(), 
ex³ùed_Ëngth
);

291 
¡d
::
unique_±r
<
ušt8_t
[]> 
	`bufãr
(
Ãw
 ušt8_t[
ex³ùed_Ëngth
]);

292 
	`mem£t
(
bufãr
.
	`g‘
(), 0, 
ex³ùed_Ëngth
);

293 
	`EXPECT_EQ
(
ex³ùed_Ëngth
, 
»ad”
.
	`R—dAÎ
(
bufãr
.
	`g‘
(),ƒxpected_length));

294 
	`EXPECT_EQ
(0, 
	`memcmp
(
ex³ùed_cÚ‹Ás
, 
bufãr
.
	`g‘
(), 
ex³ùed_Ëngth
));

297 
¡d
::
unique_±r
<
C®lSessiÚFeRÙ©šgSŒ—m
> 
¡»am_
;

298 
¡d
::
¡ršg
 
dœ_·th_
;

299 
	}
};

303 
	$TEST_F
(
MAYBE_C®lSessiÚFeRÙ©šgSŒ—mTe¡
, 
Wr™eAndR—dSm®Ë¡
) {

304 
	`In™
("CallSessionFileRotatingStreamTestWriteAndReadSmallest", 4);

306 
	`ASSERT_TRUE
(
¡»am_
->
	`O³n
());

307 
¡d
::
¡ršg
 
	`mes§ge
("abcde");

308 
	`Wr™eAndFlush
(
mes§ge
.
	`c_¡r
(), mes§ge.
	`size
());

309 
¡d
::
¡ršg
 
	`ex³ùed_cÚ‹Ás
("abe");

310 
	`V”ifySŒ—mR—d
(
ex³ùed_cÚ‹Ás
.
	`c_¡r
(),ƒx³ùed_cÚ‹Ás.
	`size
(),

311 
dœ_·th_
);

312 
	}
}

316 
	$TEST_F
(
MAYBE_C®lSessiÚFeRÙ©šgSŒ—mTe¡
, 
Wr™eAndR—dSm®l
) {

317 
	`In™
("CallSessionFileRotatingStreamTestWriteAndReadSmall", 8);

319 
	`ASSERT_TRUE
(
¡»am_
->
	`O³n
());

320 
¡d
::
¡ršg
 
	`mes§ge
("123456789");

321 
	`Wr™eAndFlush
(
mes§ge
.
	`c_¡r
(), mes§ge.
	`size
());

322 
¡d
::
¡ršg
 
	`ex³ùed_cÚ‹Ás
("1234789");

323 
	`V”ifySŒ—mR—d
(
ex³ùed_cÚ‹Ás
.
	`c_¡r
(),ƒx³ùed_cÚ‹Ás.
	`size
(),

324 
dœ_·th_
);

325 
	}
}

329 
	$TEST_F
(
MAYBE_C®lSessiÚFeRÙ©šgSŒ—mTe¡
, 
Wr™eAndR—dL¬ge
) {

330 
	`In™
("CallSessionFileRotatingStreamTestWriteAndReadLarge", 6 * 1024 * 1024);

332 
	`ASSERT_TRUE
(
¡»am_
->
	`O³n
());

333 cÚ¡ 
size_t
 
bufãr_size
 = 1024 * 1024;

334 
¡d
::
unique_±r
<
ušt8_t
[]> 
	`bufãr
(
Ãw
 ušt8_t[
bufãr_size
]);

335 
i
 = 0; i < 8; i++) {

336 
	`mem£t
(
bufãr
.
	`g‘
(), 
i
, 
bufãr_size
);

337 
	`EXPECT_EQ
(
SR_SUCCESS
,

338 
¡»am_
->
	`Wr™eAÎ
(
bufãr
.
	`g‘
(), 
bufãr_size
, 
nuÎ±r
,‚ullptr));

341 cÚ¡ 
ex³ùed_v®s
[] = {0, 1, 2, 6, 7};

342 cÚ¡ 
size_t
 
ex³ùed_size
 = 
bufãr_size
 * 
	`¬¿ysize
(
ex³ùed_v®s
);

344 
C®lSessiÚFeRÙ©šgSŒ—mR—d”
 
	`»ad”
(
dœ_·th_
);

345 
	`EXPECT_EQ
(
»ad”
.
	`G‘Size
(), 
ex³ùed_size
);

346 
¡d
::
unique_±r
<
ušt8_t
[]> 
	`cÚ‹Ás
(
Ãw
 ušt8_t[
ex³ùed_size
 + 1]);

347 
	`EXPECT_EQ
(
»ad”
.
	`R—dAÎ
(
cÚ‹Ás
.
	`g‘
(), 
ex³ùed_size
 + 1),ƒxpected_size);

348 
size_t
 
i
 = 0; i < 
	`¬¿ysize
(
ex³ùed_v®s
); ++i) {

349 cÚ¡ 
ušt8_t
* 
block
 = 
cÚ‹Ás
.
	`g‘
(è+ 
i
 * 
bufãr_size
;

350 
boŞ
 
m©ch
 = 
Œue
;

351 
size_t
 
j
 = 0; j < 
bufãr_size
; j++) {

352 ià(
block
[
j
] !ğ
ex³ùed_v®s
[
i
]) {

353 
m©ch
 = 
çl£
;

358 
	`EXPECT_TRUE
(
m©ch
);

360 
	}
}

364 
	$TEST_F
(
MAYBE_C®lSessiÚFeRÙ©šgSŒ—mTe¡
, 
Wr™eAndR—dFœ¡H®f
) {

365 
	`In™
("CallSessionFileRotatingStreamTestWriteAndReadFirstHalf",

367 
	`ASSERT_TRUE
(
¡»am_
->
	`O³n
());

368 cÚ¡ 
size_t
 
bufãr_size
 = 1024 * 1024;

369 
¡d
::
unique_±r
<
ušt8_t
[]> 
	`bufãr
(
Ãw
 ušt8_t[
bufãr_size
]);

370 
i
 = 0; i < 2; i++) {

371 
	`mem£t
(
bufãr
.
	`g‘
(), 
i
, 
bufãr_size
);

372 
	`EXPECT_EQ
(
SR_SUCCESS
,

373 
¡»am_
->
	`Wr™eAÎ
(
bufãr
.
	`g‘
(), 
bufãr_size
, 
nuÎ±r
,‚ullptr));

376 cÚ¡ 
ex³ùed_v®s
[] = {0, 1};

377 cÚ¡ 
size_t
 
ex³ùed_size
 = 
bufãr_size
 * 
	`¬¿ysize
(
ex³ùed_v®s
);

379 
C®lSessiÚFeRÙ©šgSŒ—mR—d”
 
	`»ad”
(
dœ_·th_
);

380 
	`EXPECT_EQ
(
»ad”
.
	`G‘Size
(), 
ex³ùed_size
);

381 
¡d
::
unique_±r
<
ušt8_t
[]> 
	`cÚ‹Ás
(
Ãw
 ušt8_t[
ex³ùed_size
 + 1]);

382 
	`EXPECT_EQ
(
»ad”
.
	`R—dAÎ
(
cÚ‹Ás
.
	`g‘
(), 
ex³ùed_size
 + 1),ƒxpected_size);

384 
size_t
 
i
 = 0; i < 
	`¬¿ysize
(
ex³ùed_v®s
); ++i) {

385 cÚ¡ 
ušt8_t
* 
block
 = 
cÚ‹Ás
.
	`g‘
(è+ 
i
 * 
bufãr_size
;

386 
boŞ
 
m©ch
 = 
Œue
;

387 
size_t
 
j
 = 0; j < 
bufãr_size
; j++) {

388 ià(
block
[
j
] !ğ
ex³ùed_v®s
[
i
]) {

389 
m©ch
 = 
çl£
;

394 
	`EXPECT_TRUE
(
m©ch
);

396 
	}
}

	@firewall_socket_server.cc

11 
	~"¹c_ba£/fœew®l_sock‘_£rv”.h
"

13 
	~<”ºo.h
>

14 
	~<¡ddef.h
>

15 
	~<¡dšt.h
>

17 
	~<¡ršg
>

19 
	~"ab¦/®gÜ™hm/cÚš”.h
"

20 
	~"¹c_ba£/async_sock‘.h
"

21 
	~"¹c_ba£/checks.h
"

22 
	~"¹c_ba£/loggšg.h
"

24 
Çme¥aû
 
	g¹c
 {

26 şas 
	cFœew®lSock‘
 : 
public
 
AsyncSock‘Ad­‹r
 {

27 
public
:

28 
Fœew®lSock‘
(
Fœew®lSock‘S”v”
* 
£rv”
, 
AsyncSock‘
* 
sock‘
, 
ty³
)

29 : 
AsyncSock‘Ad­‹r
(
sock‘
), 
£rv”_
(
£rv”
), 
ty³_
(
ty³
) {}

31 
Bšd
(cÚ¡ 
Sock‘Add»ss
& 
addr
è
	gov”ride
 {

32 ià(!
	g£rv”_
->
IsBšdabËIp
(
addr
.
addr
())) {

33 
S‘E¼Ü
(
EINVAL
);

34  
	gSOCKET_ERROR
;

36  
	gAsyncSock‘Ad­‹r
::
Bšd
(
addr
);

39 
CÚÃù
(cÚ¡ 
Sock‘Add»ss
& 
addr
è
	gov”ride
 {

40 ià(
	gty³_
 =ğ
SOCK_STREAM
) {

41 ià(!
£rv”_
->
Check
(
FP_TCP
, 
G‘LoÿlAdd»ss
(), 
addr
)) {

42 
RTC_LOG
(
LS_VERBOSE
) << "FirewallSocket outbound TCP connection from "

43 << 
G‘LoÿlAdd»ss
().
ToS’s™iveSŒšg
() << "o "

44 << 
addr
.
ToS’s™iveSŒšg
() << " denied";

46 
S‘E¼Ü
(
EHOSTUNREACH
);

47  
	gSOCKET_ERROR
;

50  
	gAsyncSock‘Ad­‹r
::
CÚÃù
(
addr
);

52 
S’d
(cÚ¡ * 
pv
, 
size_t
 
cb
è
	gov”ride
 {

53  
S’dTo
(
pv
, 
cb
, 
G‘RemÙeAdd»ss
());

55 
S’dTo
(cÚ¡ * 
pv
, 
size_t
 
cb
, cÚ¡ 
Sock‘Add»ss
& 
addr
è
	gov”ride
 {

56 
RTC_DCHECK
(
ty³_
 =ğ
SOCK_DGRAM
 ||y³_ =ğ
SOCK_STREAM
);

57 
Fœew®lPrÙocŞ
 
	g´ÙocŞ
 = (
ty³_
 =ğ
SOCK_DGRAM
è? 
FP_UDP
 : 
FP_TCP
;

58 ià(!
	g£rv”_
->
Check
(
´ÙocŞ
, 
G‘LoÿlAdd»ss
(), 
addr
)) {

59 
RTC_LOG
(
LS_VERBOSE
) << "FirewallSocket outbound…acket withype "

60 << 
	gty³_
 << " from "

61 << 
G‘LoÿlAdd»ss
().
ToS’s™iveSŒšg
() << "o "

62 << 
	gaddr
.
ToS’s™iveSŒšg
() << " dropped";

63  
	g¡©ic_ÿ¡
<>(
	gcb
);

65  
	gAsyncSock‘Ad­‹r
::
S’dTo
(
pv
, 
cb
, 
addr
);

67 
Recv
(* 
pv
, 
size_t
 
cb
, 
št64_t
* 
time¡amp
è
	gov”ride
 {

68 
Sock‘Add»ss
 
	gaddr
;

69  
RecvFrom
(
pv
, 
cb
, &
addr
, 
time¡amp
);

71 
RecvFrom
(* 
pv
,

72 
size_t
 
cb
,

73 
Sock‘Add»ss
* 
·ddr
,

74 
št64_t
* 
time¡amp
è
	gov”ride
 {

75 ià(
	gty³_
 =ğ
SOCK_DGRAM
) {

76 
Œue
) {

77 
»s
 = 
AsyncSock‘Ad­‹r
::
RecvFrom
(
pv
, 
cb
, 
·ddr
, 
time¡amp
);

78 ià(
	g»s
 <= 0)

79  
»s
;

80 ià(
	g£rv”_
->
Check
(
FP_UDP
, *
·ddr
, 
G‘LoÿlAdd»ss
()))

81  
	g»s
;

82 
RTC_LOG
(
LS_VERBOSE
)

84 << 
	g·ddr
->
ToS’s™iveSŒšg
() << "o "

85 << 
G‘LoÿlAdd»ss
().
ToS’s™iveSŒšg
() << " dropped";

88  
	gAsyncSock‘Ad­‹r
::
RecvFrom
(
pv
, 
cb
, 
·ddr
, 
time¡amp
);

91 
Li¡’
(
backlog
è
	gov”ride
 {

92 ià(!
	g£rv”_
->
tı_li¡’_’abËd
()) {

93 
RTC_LOG
(
LS_VERBOSE
) << "FirewallSocket†isten‡ttempt denied";

97  
	gAsyncSock‘Ad­‹r
::
Li¡’
(
backlog
);

99 
AsyncSock‘
* 
Acû±
(
Sock‘Add»ss
* 
·ddr
è
	gov”ride
 {

100 
Sock‘Add»ss
 
	gaddr
;

101 
AsyncSock‘
* 
	gsock
 = 
AsyncSock‘Ad­‹r
::
Acû±
(&
addr
)) {

102 ià(
£rv”_
->
Check
(
FP_TCP
, 
addr
, 
G‘LoÿlAdd»ss
())) {

103 ià(
·ddr
)

104 *
·ddr
 = 
addr
;

105  
	gsock
;

107 
	gsock
->
Clo£
();

108 
d–‘e
 
	gsock
;

109 
RTC_LOG
(
LS_VERBOSE
) << "FirewallSocket inbound TCP connection from "

110 << 
	gaddr
.
ToS’s™iveSŒšg
() << "o "

111 << 
G‘LoÿlAdd»ss
().
ToS’s™iveSŒšg
() << " denied";

116 
	g´iv©e
:

117 
Fœew®lSock‘S”v”
* 
£rv”_
;

118 
	gty³_
;

121 
	gFœew®lSock‘S”v”
::
	$Fœew®lSock‘S”v”
(
Sock‘S”v”
* 
£rv”
,

122 
Fœew®lMªag”
* 
mªag”
,

123 
boŞ
 
should_d–‘e_£rv”
)

124 : 
	`£rv”_
(
£rv”
),

125 
	`mªag”_
(
mªag”
),

126 
	`should_d–‘e_£rv”_
(
should_d–‘e_£rv”
),

127 
	`udp_sock‘s_’abËd_
(
Œue
),

128 
	`tı_sock‘s_’abËd_
(
Œue
),

129 
	$tı_li¡’_’abËd_
(
Œue
) {

130 ià(
mªag”_
)

131 
mªag”_
->
	`AddS”v”
(
this
);

132 
	}
}

134 
	gFœew®lSock‘S”v”
::~
	$Fœew®lSock‘S”v”
() {

135 ià(
mªag”_
)

136 
mªag”_
->
	`RemoveS”v”
(
this
);

138 ià(
£rv”_
 && 
should_d–‘e_£rv”_
) {

139 
d–‘e
 
£rv”_
;

140 
£rv”_
 = 
nuÎ±r
;

142 
	}
}

144 
	gFœew®lSock‘S”v”
::
	$AddRuË
(
boŞ
 
®low
,

145 
Fœew®lPrÙocŞ
 
p
,

146 
Fœew®lDœeùiÚ
 
d
,

147 cÚ¡ 
Sock‘Add»ss
& 
addr
) {

148 
Sock‘Add»ss
 
ªy
;

149 ià(
d
 =ğ
FD_IN
 || d =ğ
FD_ANY
) {

150 
	`AddRuË
(
®low
, 
p
, 
ªy
, 
addr
);

152 ià(
d
 =ğ
FD_OUT
 || d =ğ
FD_ANY
) {

153 
	`AddRuË
(
®low
, 
p
, 
addr
, 
ªy
);

155 
	}
}

157 
	gFœew®lSock‘S”v”
::
	$AddRuË
(
boŞ
 
®low
,

158 
Fœew®lPrÙocŞ
 
p
,

159 cÚ¡ 
Sock‘Add»ss
& 
¤c
,

160 cÚ¡ 
Sock‘Add»ss
& 
d¡
) {

161 
RuË
 
r
;

162 
r
.
®low
 =‡llow;

163 
r
.
p
 =…;

164 
r
.
¤c
 = src;

165 
r
.
d¡
 = dst;

166 
Cr™Scİe
 
	`scİe
(&
ü™_
);

167 
ruËs_
.
	`push_back
(
r
);

168 
	}
}

170 
	gFœew®lSock‘S”v”
::
	$CË¬RuËs
() {

171 
Cr™Scİe
 
	`scİe
(&
ü™_
);

172 
ruËs_
.
	`ş—r
();

173 
	}
}

175 
boŞ
 
	gFœew®lSock‘S”v”
::
	$Check
(
Fœew®lPrÙocŞ
 
p
,

176 cÚ¡ 
Sock‘Add»ss
& 
¤c
,

177 cÚ¡ 
Sock‘Add»ss
& 
d¡
) {

178 
Cr™Scİe
 
	`scİe
(&
ü™_
);

179 
size_t
 
i
 = 0; i < 
ruËs_
.
	`size
(); ++i) {

180 cÚ¡ 
RuË
& 
r
 = 
ruËs_
[
i
];

181 ià((
r
.
p
 !ğpè&& (r.°!ğ
FP_ANY
))

183 ià((
r
.
¤c
.
	`addr
(è!ğ¤c.addr()è&& !r.¤c.
	`IsN
())

185 ià((
r
.
¤c
.
	`pÜt
() != src.port()) && (r.src.port() != 0))

187 ià((
r
.
d¡
.
	`addr
(è!ğd¡.addr()è&& !r.d¡.
	`IsN
())

189 ià((
r
.
d¡
.
	`pÜt
() != dst.port()) && (r.dst.port() != 0))

191  
r
.
®low
;

193  
Œue
;

194 
	}
}

196 
	gFœew®lSock‘S”v”
::
S‘UnbšdabËIps
(

197 cÚ¡ 
¡d
::
veùÜ
<
¹c
::
IPAdd»ss
>& 
unbšdabË_s
) {

198 
unbšdabË_s_
 = 
unbšdabË_s
;

201 
boŞ
 
	gFœew®lSock‘S”v”
::
	$IsBšdabËIp
(cÚ¡ 
¹c
::
IPAdd»ss
& 

) {

202  !
ab¦
::
	`c_lš—r_£¬ch
(
unbšdabË_s_
, 

);

203 
	}
}

205 
Sock‘
* 
	gFœew®lSock‘S”v”
::
	$C»©eSock‘
(
çmy
, 
ty³
) {

206  
	`W¿pSock‘
(
£rv”_
->
	`C»©eAsyncSock‘
(
çmy
, 
ty³
),ype);

207 
	}
}

209 
AsyncSock‘
* 
	gFœew®lSock‘S”v”
::
	$C»©eAsyncSock‘
(
çmy
, 
ty³
) {

210  
	`W¿pSock‘
(
£rv”_
->
	`C»©eAsyncSock‘
(
çmy
, 
ty³
),ype);

211 
	}
}

213 
	gFœew®lSock‘S”v”
::
	$S‘Mes§geQueue
(
Th»ad
* 
queue
) {

214 
£rv”_
->
	`S‘Mes§geQueue
(
queue
);

215 
	}
}

217 
boŞ
 
	gFœew®lSock‘S”v”
::
	$Wa™
(
cms
, 
boŞ
 
´oûss_io
) {

218  
£rv”_
->
	`Wa™
(
cms
, 
´oûss_io
);

219 
	}
}

221 
	gFœew®lSock‘S”v”
::
	$WakeUp
() {

222  
£rv”_
->
	`WakeUp
();

223 
	}
}

225 
AsyncSock‘
* 
	gFœew®lSock‘S”v”
::
	$W¿pSock‘
(
AsyncSock‘
* 
sock
, 
ty³
) {

226 ià(!
sock
 || (
ty³
 =ğ
SOCK_STREAM
 && !
tı_sock‘s_’abËd_
) ||

227 (
ty³
 =ğ
SOCK_DGRAM
 && !
udp_sock‘s_’abËd_
)) {

228 
	`RTC_LOG
(
LS_VERBOSE
) << "FirewallSocketServer socket creation denied";

229 
d–‘e
 
sock
;

230  
nuÎ±r
;

232  
Ãw
 
	`Fœew®lSock‘
(
this
, 
sock
, 
ty³
);

233 
	}
}

235 
	gFœew®lMªag”
::
	$Fœew®lMªag”
(è{
	}
}

237 
Fœew®lMªag”
::~
	$Fœew®lMªag”
() {

238 
	`RTC_DCHECK
(
£rv”s_
.
	`em±y
());

239 
	}
}

241 
	gFœew®lMªag”
::
	$AddS”v”
(
Fœew®lSock‘S”v”
* 
£rv”
) {

242 
Cr™Scİe
 
	`scİe
(&
ü™_
);

243 
£rv”s_
.
	`push_back
(
£rv”
);

244 
	}
}

246 
	gFœew®lMªag”
::
	$RemoveS”v”
(
Fœew®lSock‘S”v”
* 
£rv”
) {

247 
Cr™Scİe
 
	`scİe
(&
ü™_
);

248 
£rv”s_
.
	`”a£
(
¡d
::
	`»move
(£rv”s_.
	`begš
(), s”v”s_.
	`’d
(), 
£rv”
),

249 
£rv”s_
.
	`’d
());

250 
	}
}

252 
	gFœew®lMªag”
::
	$AddRuË
(
boŞ
 
®low
,

253 
Fœew®lPrÙocŞ
 
p
,

254 
Fœew®lDœeùiÚ
 
d
,

255 cÚ¡ 
Sock‘Add»ss
& 
addr
) {

256 
Cr™Scİe
 
	`scİe
(&
ü™_
);

257 
¡d
::
veùÜ
<
Fœew®lSock‘S”v”
*>::
cÚ¡_™”©Ü
 
™
 = 
£rv”s_
.
	`begš
();

258 
™
 !ğ
£rv”s_
.
	`’d
(); ++it) {

259 (*
™
)->
	`AddRuË
(
®low
, 
p
, 
d
, 
addr
);

261 
	}
}

263 
	gFœew®lMªag”
::
	$CË¬RuËs
() {

264 
Cr™Scİe
 
	`scİe
(&
ü™_
);

265 
¡d
::
veùÜ
<
Fœew®lSock‘S”v”
*>::
cÚ¡_™”©Ü
 
™
 = 
£rv”s_
.
	`begš
();

266 
™
 !ğ
£rv”s_
.
	`’d
(); ++it) {

267 (*
™
)->
	`CË¬RuËs
();

269 
	}
}

	@firewall_socket_server.h

11 #iâdeà
RTC_BASE_FIREWALL_SOCKET_SERVER_H_


12 
	#RTC_BASE_FIREWALL_SOCKET_SERVER_H_


	)

14 
	~<veùÜ
>

16 
	~"¹c_ba£/async_sock‘.h
"

17 
	~"¹c_ba£/ü™iÿl_£ùiÚ.h
"

18 
	~"¹c_ba£/_add»ss.h
"

19 
	~"¹c_ba£/sock‘.h
"

20 
	~"¹c_ba£/sock‘_add»ss.h
"

21 
	~"¹c_ba£/sock‘_£rv”.h
"

23 
Çme¥aû
 
	g¹c
 {

25 
şass
 
	gFœew®lMªag”
;

29 
	eFœew®lPrÙocŞ
 { 
	gFP_UDP
, 
	gFP_TCP
, 
	gFP_ANY
 };

30 
	eFœew®lDœeùiÚ
 { 
	gFD_IN
, 
	gFD_OUT
, 
	gFD_ANY
 };

32 şas 
	cFœew®lSock‘S”v”
 : 
public
 
Sock‘S”v”
 {

33 
public
:

34 
Fœew®lSock‘S”v”
(
Sock‘S”v”
* 
£rv”
,

35 
Fœew®lMªag”
* 
mªag”
 = 
nuÎ±r
,

36 
boŞ
 
should_d–‘e_£rv”
 = 
çl£
);

37 ~
Fœew®lSock‘S”v”
(è
	gov”ride
;

39 
Sock‘S”v”
* 
sock‘£rv”
(ècÚ¡ {  
	g£rv”_
; }

40 
£t_sock‘£rv”
(
Sock‘S”v”
* 
£rv”
) {

41 ià(
	g£rv”_
 && 
	gshould_d–‘e_£rv”_
) {

42 
d–‘e
 
	g£rv”_
;

43 
	g£rv”_
 = 
nuÎ±r
;

44 
	gshould_d–‘e_£rv”_
 = 
çl£
;

46 
	g£rv”_
 = 
£rv”
;

50 
£t_udp_sock‘s_’abËd
(
boŞ
 
’abËd
è{ 
	gudp_sock‘s_’abËd_
 =ƒnabled; }

51 
£t_tı_sock‘s_’abËd
(
boŞ
 
’abËd
è{ 
	gtı_sock‘s_’abËd_
 =ƒnabled; }

52 
boŞ
 
tı_li¡’_’abËd
(ècÚ¡ {  
	gtı_li¡’_’abËd_
; }

53 
£t_tı_li¡’_’abËd
(
boŞ
 
’abËd
è{ 
	gtı_li¡’_’abËd_
 =ƒnabled; }

56 
AddRuË
(
boŞ
 
®low
,

57 
Fœew®lPrÙocŞ
 
p
 = 
FP_ANY
,

58 
Fœew®lDœeùiÚ
 
d
 = 
FD_ANY
,

59 cÚ¡ 
Sock‘Add»ss
& 
addr
 = SocketAddress());

60 
AddRuË
(
boŞ
 
®low
,

61 
Fœew®lPrÙocŞ
 
p
,

62 cÚ¡ 
Sock‘Add»ss
& 
¤c
,

63 cÚ¡ 
Sock‘Add»ss
& 
d¡
);

64 
CË¬RuËs
();

66 
boŞ
 
Check
(
Fœew®lPrÙocŞ
 
p
,

67 cÚ¡ 
Sock‘Add»ss
& 
¤c
,

68 cÚ¡ 
Sock‘Add»ss
& 
d¡
);

77 
S‘UnbšdabËIps
(cÚ¡ 
¡d
::
veùÜ
<
¹c
::
IPAdd»ss
>& 
unbšdabË_s
);

78 
boŞ
 
IsBšdabËIp
(cÚ¡ 
¹c
::
IPAdd»ss
& 

);

80 
Sock‘
* 
C»©eSock‘
(
çmy
, 
ty³
è
	gov”ride
;

81 
AsyncSock‘
* 
C»©eAsyncSock‘
(
çmy
, 
ty³
è
	gov”ride
;

83 
S‘Mes§geQueue
(
Th»ad
* 
queue
è
	gov”ride
;

84 
boŞ
 
Wa™
(
cms
, boŞ 
´oûss_io
è
	gov”ride
;

85 
WakeUp
(è
	gov”ride
;

87 
Sock‘
* 
W¿pSock‘
(Sock‘* 
sock
, 
ty³
);

88 
AsyncSock‘
* 
W¿pSock‘
(AsyncSock‘* 
sock
, 
ty³
);

90 
	g´iv©e
:

91 
Sock‘S”v”
* 
£rv”_
;

92 
Fœew®lMªag”
* 
	gmªag”_
;

93 
Cr™iÿlSeùiÚ
 
	gü™_
;

94 
	sRuË
 {

95 
boŞ
 
	g®low
;

96 
Fœew®lPrÙocŞ
 
	gp
;

97 
Fœew®lDœeùiÚ
 
	gd
;

98 
Sock‘Add»ss
 
	g¤c
;

99 
Sock‘Add»ss
 
	gd¡
;

101 
	g¡d
::
veùÜ
<
RuË
> 
ruËs_
;

102 
	g¡d
::
veùÜ
<
¹c
::
IPAdd»ss
> 
unbšdabË_s_
;

103 
boŞ
 
	gshould_d–‘e_£rv”_
;

104 
boŞ
 
	gudp_sock‘s_’abËd_
;

105 
boŞ
 
	gtı_sock‘s_’abËd_
;

106 
boŞ
 
	gtı_li¡’_’abËd_
;

111 şas 
	cFœew®lMªag”
 {

112 
	gpublic
:

113 
Fœew®lMªag”
();

114 ~
Fœew®lMªag”
();

116 
AddS”v”
(
Fœew®lSock‘S”v”
* 
£rv”
);

117 
RemoveS”v”
(
Fœew®lSock‘S”v”
* 
£rv”
);

119 
AddRuË
(
boŞ
 
®low
,

120 
Fœew®lPrÙocŞ
 
p
 = 
FP_ANY
,

121 
Fœew®lDœeùiÚ
 
d
 = 
FD_ANY
,

122 cÚ¡ 
Sock‘Add»ss
& 
addr
 = SocketAddress());

123 
CË¬RuËs
();

125 
	g´iv©e
:

126 
Cr™iÿlSeùiÚ
 
ü™_
;

127 
	g¡d
::
veùÜ
<
Fœew®lSock‘S”v”
*> 
£rv”s_
;

	@format_macros.h

11 #iâdeà
RTC_BASE_FORMAT_MACROS_H_


12 
	#RTC_BASE_FORMAT_MACROS_H_


	)

27 #ià
defšed
(
WEBRTC_POSIX
)

29 #ià(
defšed
(
_INTTYPES_H
è|| defšed(
_INTTYPES_H_
)è&& !defšed(
PRId64
)

34 #ià!
defšed
(
__STDC_FORMAT_MACROS
)

35 
	#__STDC_FORMAT_MACROS


	)

38 
	~<š‰y³s.h
>

40 
	~"¹c_ba£/sy¡em/¬ch.h
"

42 
	#RTC_PRIuS
 "zu"

	)

46 
	~<š‰y³s.h
>

48 #ià!
defšed
(
PRId64
è|| !defšed(
PRIu64
è|| !defšed(
PRIx64
)

55 
	#RTC_PRIuS
 "Iu"

	)

	@gtest_prod_util.h

11 #iâdeà
RTC_BASE_GTEST_PROD_UTIL_H_


12 
	#RTC_BASE_GTEST_PROD_UTIL_H_


	)

16 
	#FRIEND_TEST_WEBRTC
(
‹¡_ÿ£_Çme
, 
‹¡_Çme
) \

17 
ä›nd
 
şass
 
‹¡_ÿ£_Çme
##
_
##
‹¡_Çme
##
_Te¡


	)

32 
	#FRIEND_TEST_ALL_PREFIXES
(
‹¡_ÿ£_Çme
, 
‹¡_Çme
) \

33 
	`FRIEND_TEST_WEBRTC
(
‹¡_ÿ£_Çme
, 
‹¡_Çme
); \

34 
	`FRIEND_TEST_WEBRTC
(
‹¡_ÿ£_Çme
, 
DISABLED_
##
‹¡_Çme
); \

35 
	`FRIEND_TEST_WEBRTC
(
‹¡_ÿ£_Çme
, 
FLAKY_
##
‹¡_Çme
); \

36 
	`FRIEND_TEST_WEBRTC
(
‹¡_ÿ£_Çme
, 
FAILS_
##
‹¡_Çme
)

	)

	@gunit.cc

11 
	~"¹c_ba£/gun™.h
"

13 
	~<¡ršg
>

15 
	~"ab¦/¡ršgs/m©ch.h
"

17 ::
‹¡šg
::
As£¹iÚResuÉ
 
	$As£¹S¹sW™h
(cÚ¡ * 
‹xt_ex´
,

18 cÚ¡ * 
´efix_ex´
,

19 
ab¦
::
¡ršg_v›w
 
‹xt
,

20 
ab¦
::
¡ršg_v›w
 
´efix
) {

21 ià(
ab¦
::
	`S¹sW™h
(
‹xt
, 
´efix
)) {

22  ::
‹¡šg
::
	`As£¹iÚSucûss
();

24  ::
‹¡šg
::
	`As£¹iÚFau»
()

25 << 
‹xt_ex´
 << "\nwhich is\n\"" << 
‹xt


27 << 
´efix_ex´
 << "\nwhich is\n\"" << 
´efix
 << "\"";

29 
	}
}

31 ::
‹¡šg
::
As£¹iÚResuÉ
 
	$As£¹SŒšgCÚšs
(cÚ¡ * 
¡r_ex´
,

32 cÚ¡ * 
sub¡r_ex´
,

33 cÚ¡ 
¡d
::
¡ršg
& 
¡r
,

34 cÚ¡ 
¡d
::
¡ršg
& 
sub¡r
) {

35 ià(
¡r
.
	`fšd
(
sub¡r
è!ğ
¡d
::
¡ršg
::
Åos
) {

36  ::
‹¡šg
::
	`As£¹iÚSucûss
();

38  ::
‹¡šg
::
	`As£¹iÚFau»
()

39 << 
¡r_ex´
 << "\nwhich is\n\"" << 
¡r
 << "\"\ndoes‚ot contain\n"

40 << 
sub¡r_ex´
 << "\nwhich is\n\"" << 
sub¡r
 << "\"";

42 
	}
}

	@gunit.h

11 #iâdeà
RTC_BASE_GUNIT_H_


12 
	#RTC_BASE_GUNIT_H_


	)

14 
	~"¹c_ba£/çke_şock.h
"

15 
	~"¹c_ba£/loggšg.h
"

16 
	~"¹c_ba£/th»ad.h
"

17 
	~"‹¡/g‹¡.h
"

20 
	#WAIT
(
ex
, 
timeout
) \

21 
št64_t
 
¡¬t
 = 
¹c
::
	`Sy¡emTimeMlis
(); \

22 !(
ex
è&& 
¹c
::
	`Sy¡emTimeMlis
(è< 
¡¬t
 + (
timeout
);) { \

23 
¹c
::
Th»ad
::
	`Cu¼’t
()->
	`ProûssMes§ges
(0); \

24 
¹c
::
Th»ad
::
	`Cu¼’t
()->
	`SË•Ms
(1); \

25 }

	)

30 
	#WAIT_
(
ex
, 
timeout
, 
»s
) \

32 
št64_t
 
¡¬t
 = 
¹c
::
	`Sy¡emTimeMlis
(); \

33 
»s
 = (
ex
); \

34 !
»s
 && 
¹c
::
	`Sy¡emTimeMlis
(è< 
¡¬t
 + (
timeout
)) { \

35 
¹c
::
Th»ad
::
	`Cu¼’t
()->
	`ProûssMes§ges
(0); \

36 
¹c
::
Th»ad
::
	`Cu¼’t
()->
	`SË•Ms
(1); \

37 
»s
 = (
ex
); \

39 } 0)

	)

43 
	#EXPECT_TRUE_WAIT
(
ex
, 
timeout
) \

44 
GTEST_AMBIGUOUS_ELSE_BLOCKER_
 \

45 ià(
boŞ
 
»s
 = 
Œue
) { \

46 
	`WAIT_
(
ex
, 
timeout
, 
»s
); \

47 ià(!
»s
) \

48 
	`GTEST_CONCAT_TOKEN_
(
gun™_Ïb–_
, 
__LINE__
); \

50 
	`GTEST_CONCAT_TOKEN_
(
gun™_Ïb–_
, 
__LINE__
è: 
	`EXPECT_TRUE
(
ex
)

	)

52 
	#EXPECT_EQ_WAIT
(
v1
, 
v2
, 
timeout
) \

53 
GTEST_AMBIGUOUS_ELSE_BLOCKER_
 \

54 ià(
boŞ
 
»s
 = 
Œue
) { \

55 
	`WAIT_
(
v1
 =ğ
v2
, 
timeout
, 
»s
); \

56 ià(!
»s
) \

57 
	`GTEST_CONCAT_TOKEN_
(
gun™_Ïb–_
, 
__LINE__
); \

59 
	`GTEST_CONCAT_TOKEN_
(
gun™_Ïb–_
, 
__LINE__
è: 
	`EXPECT_EQ
(
v1
, 
v2
)

	)

61 
	#ASSERT_TRUE_WAIT
(
ex
, 
timeout
) \

62 
GTEST_AMBIGUOUS_ELSE_BLOCKER_
 \

63 ià(
boŞ
 
»s
 = 
Œue
) { \

64 
	`WAIT_
(
ex
, 
timeout
, 
»s
); \

65 ià(!
»s
) \

66 
	`GTEST_CONCAT_TOKEN_
(
gun™_Ïb–_
, 
__LINE__
); \

68 
	`GTEST_CONCAT_TOKEN_
(
gun™_Ïb–_
, 
__LINE__
è: 
	`ASSERT_TRUE
(
ex
)

	)

70 
	#ASSERT_EQ_WAIT
(
v1
, 
v2
, 
timeout
) \

71 
GTEST_AMBIGUOUS_ELSE_BLOCKER_
 \

72 ià(
boŞ
 
»s
 = 
Œue
) { \

73 
	`WAIT_
(
v1
 =ğ
v2
, 
timeout
, 
»s
); \

74 ià(!
»s
) \

75 
	`GTEST_CONCAT_TOKEN_
(
gun™_Ïb–_
, 
__LINE__
); \

77 
	`GTEST_CONCAT_TOKEN_
(
gun™_Ïb–_
, 
__LINE__
è: 
	`ASSERT_EQ
(
v1
, 
v2
)

	)

82 
	#EXPECT_TRUE_WAIT_MARGIN
(
ex
, 
timeout
, 
m¬gš
) \

83 
GTEST_AMBIGUOUS_ELSE_BLOCKER_
 \

84 ià(
boŞ
 
»s
 = 
Œue
) { \

85 
	`WAIT_
(
ex
, 
timeout
, 
»s
); \

86 ià(
»s
) \

88 
	`RTC_LOG
(
LS_WARNING
) << "Expression " << #ex << " still‚otrue‡fter " \

89 << (
timeout
è<< "ms; wa™šg‡Àadd™iÚ® " << 
m¬gš
 \

91 
	`WAIT_
(
ex
, 
m¬gš
, 
»s
); \

92 ià(!
»s
) \

93 
	`GTEST_CONCAT_TOKEN_
(
gun™_Ïb–_
, 
__LINE__
); \

95 
	`GTEST_CONCAT_TOKEN_
(
gun™_Ïb–_
, 
__LINE__
è: 
	`EXPECT_TRUE
(
ex
)

	)

100 
	#SIMULATED_WAIT
(
ex
, 
timeout
, 
şock
) \

101 
št64_t
 
¡¬t
 = 
¹c
::
	`TimeMlis
(); \

102 !(
ex
è&& 
¹c
::
	`TimeMlis
(è< 
¡¬t
 + (
timeout
);) { \

103 (
şock
).
	`AdvªûTime
(
web¹c
::
TimeD–
::
	`Mlis
(1)); \

104 }

	)

109 
	#SIMULATED_WAIT_
(
ex
, 
timeout
, 
»s
, 
şock
) \

111 
št64_t
 
¡¬t
 = 
¹c
::
	`TimeMlis
(); \

112 
»s
 = (
ex
); \

113 !
»s
 && 
¹c
::
	`TimeMlis
(è< 
¡¬t
 + (
timeout
)) { \

114 (
şock
).
	`AdvªûTime
(
web¹c
::
TimeD–
::
	`Mlis
(1)); \

115 
»s
 = (
ex
); \

117 } 0)

	)

120 
	#EXPECT_TRUE_SIMULATED_WAIT
(
ex
, 
timeout
, 
şock
) \

122 
boŞ
 
»s
; \

123 
	`SIMULATED_WAIT_
(
ex
, 
timeout
, 
»s
, 
şock
); \

124 ià(!
»s
) { \

125 
	`EXPECT_TRUE
(
ex
); \

127 } 0)

	)

129 
	#EXPECT_EQ_SIMULATED_WAIT
(
v1
, 
v2
, 
timeout
, 
şock
) \

130 
GTEST_AMBIGUOUS_ELSE_BLOCKER_
 \

131 ià(
boŞ
 
»s
 = 
Œue
) { \

132 
	`SIMULATED_WAIT_
(
v1
 =ğ
v2
, 
timeout
, 
»s
, 
şock
); \

133 ià(!
»s
) \

134 
	`GTEST_CONCAT_TOKEN_
(
gun™_Ïb–_
, 
__LINE__
); \

136 
	`GTEST_CONCAT_TOKEN_
(
gun™_Ïb–_
, 
__LINE__
è: 
	`EXPECT_EQ
(
v1
, 
v2
)

	)

138 
	#ASSERT_TRUE_SIMULATED_WAIT
(
ex
, 
timeout
, 
şock
) \

139 
GTEST_AMBIGUOUS_ELSE_BLOCKER_
 \

140 ià(
boŞ
 
»s
 = 
Œue
) { \

141 
	`SIMULATED_WAIT_
(
ex
, 
timeout
, 
»s
, 
şock
); \

142 ià(!
»s
) \

143 
	`GTEST_CONCAT_TOKEN_
(
gun™_Ïb–_
, 
__LINE__
); \

145 
	`GTEST_CONCAT_TOKEN_
(
gun™_Ïb–_
, 
__LINE__
è: 
	`ASSERT_TRUE
(
ex
)

	)

147 
	#ASSERT_EQ_SIMULATED_WAIT
(
v1
, 
v2
, 
timeout
, 
şock
) \

148 
GTEST_AMBIGUOUS_ELSE_BLOCKER_
 \

149 ià(
boŞ
 
»s
 = 
Œue
) { \

150 
	`SIMULATED_WAIT_
(
v1
 =ğ
v2
, 
timeout
, 
»s
, 
şock
); \

151 ià(!
»s
) \

152 
	`GTEST_CONCAT_TOKEN_
(
gun™_Ïb–_
, 
__LINE__
); \

154 
	`GTEST_CONCAT_TOKEN_
(
gun™_Ïb–_
, 
__LINE__
è: 
	`ASSERT_EQ
(
v1
, 
v2
)

	)

157 
	g‹¡šg
::
As£¹iÚResuÉ
 
As£¹S¹sW™h
(cÚ¡ * 
‹xt_ex´
,

158 cÚ¡ * 
´efix_ex´
,

159 
ab¦
::
¡ršg_v›w
 
‹xt
,

160 
ab¦
::
¡ršg_v›w
 
´efix
);

163 
	g‹¡šg
::
As£¹iÚResuÉ
 
As£¹SŒšgCÚšs
(cÚ¡ * 
¡r_ex´
,

164 cÚ¡ * 
sub¡r_ex´
,

165 cÚ¡ 
¡d
::
¡ršg
& 
¡r
,

166 cÚ¡ 
¡d
::
¡ršg
& 
sub¡r
);

	@helpers.cc

11 
	~"¹c_ba£/h–³rs.h
"

13 
	~<İ’s¦/¿nd.h
>

15 
	~<c¡dšt
>

16 
	~<lim™s
>

17 
	~<memÜy
>

19 
	~"¹c_ba£/checks.h
"

20 
	~"¹c_ba£/loggšg.h
"

23 #undeà
max


25 
Çme¥aû
 
	g¹c
 {

28 şas 
	cRªdomG’”©Ü
 {

29 
	gpublic
:

30 
vœtu®
 ~
RªdomG’”©Ü
() {}

31 
vœtu®
 
boŞ
 
In™
(cÚ¡ * 
£ed
, 
size_t
 
Ën
) = 0;

32 
vœtu®
 
boŞ
 
G’”©e
(* 
buf
, 
size_t
 
Ën
) = 0;

36 şas 
	cSecu»RªdomG’”©Ü
 : 
public
 
RªdomG’”©Ü
 {

37 
public
:

38 
Secu»RªdomG’”©Ü
() {}

39 ~
Secu»RªdomG’”©Ü
(è
ov”ride
 {}

40 
boŞ
 
In™
(cÚ¡ * 
£ed
, 
size_t
 
Ën
è
	gov”ride
 {  
	gŒue
; }

41 
boŞ
 
G’”©e
(* 
buf
, 
size_t
 
Ën
è
	gov”ride
 {

42  (
RAND_by‹s
(
»š‹½»t_ÿ¡
<*>(
buf
), 
Ën
) > 0);

47 şas 
	cTe¡RªdomG’”©Ü
 : 
public
 
RªdomG’”©Ü
 {

48 
public
:

49 
Te¡RªdomG’”©Ü
(è: 
£ed_
(7) {}

50 ~
Te¡RªdomG’”©Ü
(è
ov”ride
 {}

51 
boŞ
 
In™
(cÚ¡ * 
£ed
, 
size_t
 
Ën
è
	gov”ride
 {  
	gŒue
; }

52 
boŞ
 
G’”©e
(* 
buf
, 
size_t
 
Ën
è
	gov”ride
 {

53 
size_t
 
	gi
 = 0; i < 
	gËn
; ++i) {

54 
	g¡©ic_ÿ¡
<
	gušt8_t
*>(
	gbuf
)[
i
] = 
¡©ic_ÿ¡
<
ušt8_t
>(
G‘Rªdom
());

56  
	gŒue
;

59 
	g´iv©e
:

60 
G‘Rªdom
() {

61  ((
£ed_
 = seed_ * 214013L + 2531011L) >> 16) & 0x7fff;

63 
	g£ed_
;

66 
	gÇme¥aû
 {

69 cÚ¡ 
	gkBa£64
[64] = {

76 cÚ¡ 
	gkHex
[16] = {'0', '1', '2', '3', '4', '5', '6', '7',

79 cÚ¡ 
	gkUuidDig™17
[4] = {'8', '9', 'a', 'b'};

83 
	g¡d
::
unique_±r
<
RªdomG’”©Ü
>& 
G‘Glob®Rng
() {

84 
¡d
::
unique_±r
<
RªdomG’”©Ü
>& 
glob®_ºg
 =

85 *
Ãw
 
¡d
::
unique_±r
<
RªdomG’”©Ü
>Òew 
Secu»RªdomG’”©Ü
());

87  
	gglob®_ºg
;

90 
	gRªdomG’”©Ü
& 
Rng
() {

91  *
G‘Glob®Rng
();

96 
	$S‘RªdomTe¡Mode
(
boŞ
 
‹¡
) {

97 ià(!
‹¡
) {

98 
	`G‘Glob®Rng
().
	`»£t
(
Ãw
 
	`Secu»RªdomG’”©Ü
());

100 
	`G‘Glob®Rng
().
	`»£t
(
Ãw
 
	`Te¡RªdomG’”©Ü
());

102 
	}
}

104 
boŞ
 
	$In™Rªdom
(
£ed
) {

105  
	`In™Rªdom
(
»š‹½»t_ÿ¡
<cÚ¡ *>(&
£ed
), (seed));

106 
	}
}

108 
boŞ
 
	$In™Rªdom
(cÚ¡ * 
£ed
, 
size_t
 
Ën
) {

109 ià(!
	`Rng
().
	`In™
(
£ed
, 
Ën
)) {

110 
	`RTC_LOG
(
LS_ERROR
) << "Failedo init„andom generator!";

111  
çl£
;

113  
Œue
;

114 
	}
}

116 
	g¡d
::
¡ršg
 
	$C»©eRªdomSŒšg
(
size_t
 
Ën
) {

117 
¡d
::
¡ršg
 
¡r
;

118 
	`RTC_CHECK
(
	`C»©eRªdomSŒšg
(
Ën
, &
¡r
));

119  
¡r
;

120 
	}
}

122 
boŞ
 
	$C»©eRªdomSŒšg
(
size_t
 
Ën
,

123 cÚ¡ * 
bË
,

124 
bË_size
,

125 
¡d
::
¡ršg
* 
¡r
) {

126 
¡r
->
	`ş—r
();

128 ià(256 % 
bË_size
) {

129 
	`RTC_LOG
(
LS_ERROR
) << "Table size must divide 256ƒvenly!";

130  
çl£
;

132 
¡d
::
unique_±r
<
ušt8_t
[]> 
	`by‹s
(
Ãw
 ušt8_t[
Ën
]);

133 ià(!
	`Rng
().
	`G’”©e
(
by‹s
.
	`g‘
(), 
Ën
)) {

134 
	`RTC_LOG
(
LS_ERROR
) << "Failedo generate„andom string!";

135  
çl£
;

137 
¡r
->
	`»£rve
(
Ën
);

138 
size_t
 
i
 = 0; i < 
Ën
; ++i) {

139 
¡r
->
	`push_back
(
bË
[
by‹s
[
i
] % 
bË_size
]);

141  
Œue
;

142 
	}
}

144 
boŞ
 
	$C»©eRªdomSŒšg
(
size_t
 
Ën
, 
¡d
::
¡ršg
* 
¡r
) {

145  
	`C»©eRªdomSŒšg
(
Ën
, 
kBa£64
, 64, 
¡r
);

146 
	}
}

148 
boŞ
 
	$C»©eRªdomSŒšg
(
size_t
 
Ën
,

149 cÚ¡ 
¡d
::
¡ršg
& 
bË
,

150 
¡d
::
¡ršg
* 
¡r
) {

151  
	`C»©eRªdomSŒšg
(
Ën
, 
bË
.
	`c_¡r
(), 
¡©ic_ÿ¡
<>ÑabË.
	`size
()),

152 
¡r
);

153 
	}
}

155 
boŞ
 
	$C»©eRªdomD©a
(
size_t
 
Ëngth
, 
¡d
::
¡ršg
* 
d©a
) {

156 
d©a
->
	`»size
(
Ëngth
);

159  
	`Rng
().
	`G’”©e
(&
d©a
->
	`©
(0), 
Ëngth
);

160 
	}
}

165 
	g¡d
::
¡ršg
 
	$C»©eRªdomUuid
() {

166 
¡d
::
¡ršg
 
¡r
;

167 
¡d
::
unique_±r
<
ušt8_t
[]> 
	`by‹s
(
Ãw
 uint8_t[31]);

168 
	`RTC_CHECK
(
	`Rng
().
	`G’”©e
(
by‹s
.
	`g‘
(), 31));

169 
¡r
.
	`»£rve
(36);

170 
size_t
 
i
 = 0; i < 8; ++i) {

171 
¡r
.
	`push_back
(
kHex
[
by‹s
[
i
] % 16]);

173 
¡r
.
	`push_back
('-');

174 
size_t
 
i
 = 8; i < 12; ++i) {

175 
¡r
.
	`push_back
(
kHex
[
by‹s
[
i
] % 16]);

177 
¡r
.
	`push_back
('-');

178 
¡r
.
	`push_back
('4');

179 
size_t
 
i
 = 12; i < 15; ++i) {

180 
¡r
.
	`push_back
(
kHex
[
by‹s
[
i
] % 16]);

182 
¡r
.
	`push_back
('-');

183 
¡r
.
	`push_back
(
kUuidDig™17
[
by‹s
[15] % 4]);

184 
size_t
 
i
 = 16; i < 19; ++i) {

185 
¡r
.
	`push_back
(
kHex
[
by‹s
[
i
] % 16]);

187 
¡r
.
	`push_back
('-');

188 
size_t
 
i
 = 19; i < 31; ++i) {

189 
¡r
.
	`push_back
(
kHex
[
by‹s
[
i
] % 16]);

191  
¡r
;

192 
	}
}

194 
ušt32_t
 
	$C»©eRªdomId
() {

195 
ušt32_t
 
id
;

196 
	`RTC_CHECK
(
	`Rng
().
	`G’”©e
(&
id
, (id)));

197  
id
;

198 
	}
}

200 
ušt64_t
 
	$C»©eRªdomId64
() {

201  
¡©ic_ÿ¡
<
ušt64_t
>(
	`C»©eRªdomId
()) << 32 | CreateRandomId();

202 
	}
}

204 
ušt32_t
 
	$C»©eRªdomNÚZ”oId
() {

205 
ušt32_t
 
id
;

207 
id
 = 
	`C»©eRªdomId
();

208 } 
id
 == 0);

209  
id
;

210 
	}
}

212 
	$C»©eRªdomDoubË
() {

213  
	`C»©eRªdomId
(è/ (
¡d
::
num”ic_lim™s
<
ušt32_t
>::
	`max
() +

214 
¡d
::
num”ic_lim™s
<>::
	`•sÚ
());

215 
	}
}

217 
	$G‘NextMovšgAv”age
(
´ev_av”age
, 
cur
, 
¿tio
) {

218  (
¿tio
 * 
´ev_av”age
 + 
cur
) / (ratio + 1);

219 
	}
}

	@helpers.h

11 #iâdeà
RTC_BASE_HELPERS_H_


12 
	#RTC_BASE_HELPERS_H_


	)

14 
	~<¡ddef.h
>

15 
	~<¡dšt.h
>

17 
	~<¡ršg
>

19 
	~"¹c_ba£/sy¡em/¹c_expÜt.h
"

21 
Çme¥aû
 
	g¹c
 {

24 
S‘RªdomTe¡Mode
(
boŞ
 
‹¡
);

27 
boŞ
 
In™Rªdom
(
£ed
);

28 
boŞ
 
In™Rªdom
(cÚ¡ * 
£ed
, 
size_t
 
Ën
);

32 
RTC_EXPORT
 
	g¡d
::
¡ršg
 
C»©eRªdomSŒšg
(
size_t
 
Ëngth
);

37 
RTC_EXPORT
 
boŞ
 
C»©eRªdomSŒšg
(
size_t
 
Ëngth
, 
¡d
::
¡ršg
* 
¡r
);

44 
RTC_EXPORT
 
boŞ
 
C»©eRªdomSŒšg
(
size_t
 
Ëngth
,

45 cÚ¡ 
¡d
::
¡ršg
& 
bË
,

46 
¡d
::
¡ršg
* 
¡r
);

50 
boŞ
 
C»©eRªdomD©a
(
size_t
 
Ëngth
, 
¡d
::
¡ršg
* 
d©a
);

53 
	g¡d
::
¡ršg
 
C»©eRªdomUuid
();

56 
ušt32_t
 
C»©eRªdomId
();

59 
RTC_EXPORT
 
ušt64_t
 
C»©eRªdomId64
();

62 
ušt32_t
 
C»©eRªdomNÚZ”oId
();

65 
C»©eRªdomDoubË
();

69 
G‘NextMovšgAv”age
(
´ev_av”age
, 
cur
, 
¿tio
);

	@helpers_unittest.cc

11 
	~"¹c_ba£/h–³rs.h
"

13 
	~<¡ršg.h
>

15 
	~<¡ršg
>

17 
	~"¹c_ba£/bufãr.h
"

18 
	~"‹¡/g‹¡.h
"

20 
Çme¥aû
 
	g¹c
 {

22 şas 
	cRªdomTe¡
 : 
public
 ::
‹¡šg
::
Te¡
 {};

24 
	$TEST_F
(
RªdomTe¡
, 
Te¡C»©eRªdomId
) {

25 
	`C»©eRªdomId
();

26 
	}
}

28 
	$TEST_F
(
RªdomTe¡
, 
Te¡C»©eRªdomDoubË
) {

29 
i
 = 0; i < 100; ++i) {

30 
r
 = 
	`C»©eRªdomDoubË
();

31 
	`EXPECT_GE
(
r
, 0.0);

32 
	`EXPECT_LT
(
r
, 1.0);

34 
	}
}

36 
	$TEST_F
(
RªdomTe¡
, 
Te¡C»©eNÚZ”oRªdomId
) {

37 
	`EXPECT_NE
(0U, 
	`C»©eRªdomNÚZ”oId
());

38 
	}
}

40 
	$TEST_F
(
RªdomTe¡
, 
Te¡C»©eRªdomSŒšg
) {

41 
¡d
::
¡ršg
 
¿ndom
 = 
	`C»©eRªdomSŒšg
(256);

42 
	`EXPECT_EQ
(256U, 
¿ndom
.
	`size
());

43 
¡d
::
¡ršg
 
¿ndom2
;

44 
	`EXPECT_TRUE
(
	`C»©eRªdomSŒšg
(256, &
¿ndom2
));

45 
	`EXPECT_NE
(
¿ndom
, 
¿ndom2
);

46 
	`EXPECT_EQ
(256U, 
¿ndom2
.
	`size
());

47 
	}
}

49 
	$TEST_F
(
RªdomTe¡
, 
Te¡C»©eRªdomD©a
) {

50 
size_t
 
kRªdomD©aL’gth
 = 32;

51 
¡d
::
¡ršg
 
¿ndom1
;

52 
¡d
::
¡ršg
 
¿ndom2
;

53 
	`EXPECT_TRUE
(
	`C»©eRªdomD©a
(
kRªdomD©aL’gth
, &
¿ndom1
));

54 
	`EXPECT_EQ
(
kRªdomD©aL’gth
, 
¿ndom1
.
	`size
());

55 
	`EXPECT_TRUE
(
	`C»©eRªdomD©a
(
kRªdomD©aL’gth
, &
¿ndom2
));

56 
	`EXPECT_EQ
(
kRªdomD©aL’gth
, 
¿ndom2
.
	`size
());

57 
	`EXPECT_NE
(0, 
	`memcmp
(
¿ndom1
.
	`d©a
(), 
¿ndom2
.d©a(), 
kRªdomD©aL’gth
));

58 
	}
}

60 
	$TEST_F
(
RªdomTe¡
, 
Te¡C»©eRªdomSŒšgEv’lyDivideTabË
) {

61 
¡d
::
¡ršg
 
	`kUnbŸ£dTabË
("01234567");

62 
¡d
::
¡ršg
 
¿ndom
;

63 
	`EXPECT_TRUE
(
	`C»©eRªdomSŒšg
(256, 
kUnbŸ£dTabË
, &
¿ndom
));

64 
	`EXPECT_EQ
(256U, 
¿ndom
.
	`size
());

66 
¡d
::
¡ršg
 
	`kBŸ£dTabË
("0123456789");

67 
	`EXPECT_FALSE
(
	`C»©eRªdomSŒšg
(256, 
kBŸ£dTabË
, &
¿ndom
));

68 
	`EXPECT_EQ
(0U, 
¿ndom
.
	`size
());

69 
	}
}

71 
	$TEST_F
(
RªdomTe¡
, 
Te¡C»©eRªdomUuid
) {

72 
¡d
::
¡ršg
 
¿ndom
 = 
	`C»©eRªdomUuid
();

73 
	`EXPECT_EQ
(36U, 
¿ndom
.
	`size
());

74 
	}
}

76 
	$TEST_F
(
RªdomTe¡
, 
Te¡C»©eRªdomFÜTe¡
) {

78 
	`S‘RªdomTe¡Mode
(
Œue
);

79 
	`EXPECT_EQ
(2154761789U, 
	`C»©eRªdomId
());

80 
	`EXPECT_EQ
("h0ISP4S5SJKH/9EY", 
	`C»©eRªdomSŒšg
(16));

81 
	`EXPECT_EQ
("41706e92-cdd3-46d9-a22d-8ff1737ffb11", 
	`C»©eRªdomUuid
());

82 
size_t
 
kRªdomD©aL’gth
 = 32;

83 
¡d
::
¡ršg
 
¿ndom
;

84 
	`EXPECT_TRUE
(
	`C»©eRªdomD©a
(
kRªdomD©aL’gth
, &
¿ndom
));

85 
	`EXPECT_EQ
(
kRªdomD©aL’gth
, 
¿ndom
.
	`size
());

86 
Bufãr
 
	`ex³ùed
(

91 
kRªdomD©aL’gth
);

92 
	`EXPECT_EQ
(0, 
	`memcmp
(
ex³ùed
.
	`d©a
(), 
¿ndom
.d©a(), 
kRªdomD©aL’gth
));

95 
	`S‘RªdomTe¡Mode
(
Œue
);

96 
	`EXPECT_EQ
(2154761789U, 
	`C»©eRªdomId
());

97 
	`EXPECT_EQ
("h0ISP4S5SJKH/9EY", 
	`C»©eRªdomSŒšg
(16));

98 
	`EXPECT_EQ
("41706e92-cdd3-46d9-a22d-8ff1737ffb11", 
	`C»©eRªdomUuid
());

99 
	`EXPECT_TRUE
(
	`C»©eRªdomD©a
(
kRªdomD©aL’gth
, &
¿ndom
));

100 
	`EXPECT_EQ
(
kRªdomD©aL’gth
, 
¿ndom
.
	`size
());

101 
	`EXPECT_EQ
(0, 
	`memcmp
(
ex³ùed
.
	`d©a
(), 
¿ndom
.d©a(), 
kRªdomD©aL’gth
));

104 
	`S‘RªdomTe¡Mode
(
Œue
);

105 
¡d
::
¡ršg
 
¡r
;

106 
	`EXPECT_TRUE
(
	`C»©eRªdomSŒšg
(16, "a", &
¡r
));

107 
	`EXPECT_EQ
("¯¯¯¯¯¯¯¯", 
¡r
);

108 
	`EXPECT_TRUE
(
	`C»©eRªdomSŒšg
(16, "abcd", &
¡r
));

109 
	`EXPECT_EQ
("db¯abdaccbÿbbd", 
¡r
);

112 
	`S‘RªdomTe¡Mode
(
çl£
);

113 
	}
}

	@http_common.cc

11 
	~<time.h
>

13 #ià
defšed
(
WEBRTC_WIN
)

14 
	~<wšdows.h
>

15 
	~<wšsock2.h
>

16 
	~<ws2tı.h
>

18 
	#SECURITY_WIN32


	)

19 
	~<£cur™y.h
>

22 
	~<ùy³.h
>

23 
	~<¡dio.h
>

25 
	~<ut™y
>

26 
	~<veùÜ
>

28 
	~"ab¦/¡ršgs/m©ch.h
"

29 
	~"¹c_ba£/üy±_¡ršg.h
"

30 
	~"¹c_ba£/h‰p_commÚ.h
"

31 
	~"¹c_ba£/loggšg.h
"

32 
	~"¹c_ba£/mes§ge_dige¡.h
"

33 
	~"¹c_ba£/sock‘_add»ss.h
"

34 
	~"¹c_ba£/¡ršg_uts.h
"

35 
	~"¹c_ba£/¡ršgs/¡ršg_bud”.h
"

36 
	~"¹c_ba£/thœd_·¹y/ba£64/ba£64.h
"

37 
	~"¹c_ba£/z”o_memÜy.h
"

39 
Çme¥aû
 
	g¹c
 {

40 
	gÇme¥aû
 {

41 #ià
defšed
(
WEBRTC_WIN
è&& !defšed(
WINUWP
)

56 
	sCÚ¡ªtToLab–
 {

57 
	gv®ue
;

58 cÚ¡ * 
	gÏb–
;

61 cÚ¡ * 
LookupLab–
(
v®ue
, cÚ¡ 
CÚ¡ªtToLab–
 
’Œ›s
[]) {

62 
	gi
 = 0; 
	g’Œ›s
[
i
].
	gÏb–
; ++i) {

63 ià(
	gv®ue
 =ğ
’Œ›s
[
i
].
v®ue
) {

64  
’Œ›s
[
i
].
Ïb–
;

70 
	g¡d
::
¡ršg
 
G‘E¼ÜName
(
”r
, cÚ¡ 
CÚ¡ªtToLab–
* 
”r_bË
) {

71 ià(
	g”r
 == 0)

74 ià(
	g”r_bË
 != 0) {

75 ià(cÚ¡ * 
v®ue
 = 
LookupLab–
(
”r
, 
”r_bË
))

76  
	gv®ue
;

79 
	gbufãr
[16];

80 
¢´štf
(
bufãr
, (bufãr), "0x%08x", 
”r
);

81  
	gbufãr
;

84 
	#KLABEL
(
x
) \

85 { 
x
, #x }

	)

86 
	#LASTLABEL
 \

87 { 0, 0 }

	)

89 cÚ¡ 
CÚ¡ªtToLab–
 
	gSECURITY_ERRORS
[] = {

90 
KLABEL
(
SEC_I_COMPLETE_AND_CONTINUE
),

91 
KLABEL
(
SEC_I_COMPLETE_NEEDED
),

92 
KLABEL
(
SEC_I_CONTEXT_EXPIRED
),

93 
KLABEL
(
SEC_I_CONTINUE_NEEDED
),

94 
KLABEL
(
SEC_I_INCOMPLETE_CREDENTIALS
),

95 
KLABEL
(
SEC_I_RENEGOTIATE
),

96 
KLABEL
(
SEC_E_CERT_EXPIRED
),

97 
KLABEL
(
SEC_E_INCOMPLETE_MESSAGE
),

98 
KLABEL
(
SEC_E_INSUFFICIENT_MEMORY
),

99 
KLABEL
(
SEC_E_INTERNAL_ERROR
),

100 
KLABEL
(
SEC_E_INVALID_HANDLE
),

101 
KLABEL
(
SEC_E_INVALID_TOKEN
),

102 
KLABEL
(
SEC_E_LOGON_DENIED
),

103 
KLABEL
(
SEC_E_NO_AUTHENTICATING_AUTHORITY
),

104 
KLABEL
(
SEC_E_NO_CREDENTIALS
),

105 
KLABEL
(
SEC_E_NOT_OWNER
),

106 
KLABEL
(
SEC_E_OK
),

107 
KLABEL
(
SEC_E_SECPKG_NOT_FOUND
),

108 
KLABEL
(
SEC_E_TARGET_UNKNOWN
),

109 
KLABEL
(
SEC_E_UNKNOWN_CREDENTIALS
),

110 
KLABEL
(
SEC_E_UNSUPPORTED_FUNCTION
),

111 
KLABEL
(
SEC_E_UNTRUSTED_ROOT
),

112 
KLABEL
(
SEC_E_WRONG_PRINCIPAL
),

113 
LASTLABEL
};

114 #undeà
KLABEL


115 #undeà
LASTLABEL


118 
	g¡d
::
	t·œ
<
	t¡d
::
	t¡ršg
, std::¡ršg> 
	tH‰pA‰ribu‹
;

119 
	g¡d
::
	tveùÜ
<
	tH‰pA‰ribu‹
> 
	tH‰pA‰ribu‹Li¡
;

121 
šlše
 
boŞ
 
IsEndOfA‰ribu‹Name
(
size_t
 
pos
, size_ˆ
Ën
, cÚ¡ * 
d©a
) {

122 ià(
	gpos
 >ğ
Ën
)

123  
Œue
;

124 ià(
is¥aû
(
¡©ic_ÿ¡
<>(
d©a
[
pos
])))

125  
	gŒue
;

128 ià((
	gpos
 + 1 < 
	gËn
è&& (
	gd©a
[
pos
] == '=') &&

129 !
is¥aû
(
¡©ic_ÿ¡
<>(
d©a
[
pos
 + 1])) &&

130 (
d©a
[
pos
 + 1] != '=')) {

131  
Œue
;

133  
	gçl£
;

136 
H‰pP¬£A‰ribu‹s
(cÚ¡ * 
d©a
,

137 
size_t
 
Ën
,

138 
H‰pA‰ribu‹Li¡
& 
©Œibu‹s
) {

139 
size_t
 
	gpos
 = 0;

140 
	gŒue
) {

142 (
	gpos
 < 
	gËn
è&& 
is¥aû
(
¡©ic_ÿ¡
<>(
d©a
[
pos
]))) {

143 ++
	gpos
;

147 ià(
	gpos
 >ğ
Ën
)

151 
size_t
 
	g¡¬t
 = 
pos
;

152 !
IsEndOfA‰ribu‹Name
(
pos
, 
Ën
, 
d©a
)) {

153 ++
	gpos
;

156 
H‰pA‰ribu‹
 
	g©Œibu‹
;

157 
	g©Œibu‹
.
	gfœ¡
.
assign
(
d©a
 + 
¡¬t
, d©¨+ 
pos
);

160 ià((
	gpos
 < 
	gËn
è&& (
	gd©a
[
pos
] == '=')) {

161 ++
pos
;

163 ià((
	gpos
 < 
	gËn
è&& (
	gd©a
[
pos
] == '"')) {

164 ++
pos
 < 
Ën
) {

165 ià(
d©a
[
pos
] == '"') {

166 ++
pos
;

169 ià((
	gd©a
[
pos
] =ğ'\\'è&& (po + 1 < 
Ën
))

170 ++
pos
;

171 
	g©Œibu‹
.
	g£cÚd
.
­³nd
(1, 
d©a
[
pos
]);

174 (
	gpos
 < 
	gËn
è&& !
is¥aû
(
¡©ic_ÿ¡
<>(
d©a
[
pos
])) &&

175 (
	gd©a
[
pos
] != ',')) {

176 
©Œibu‹
.
£cÚd
.
­³nd
(1, 
d©a
[
pos
++]);

181 
	g©Œibu‹s
.
push_back
(
©Œibu‹
);

182 ià((
	gpos
 < 
	gËn
è&& (
	gd©a
[
pos
] == ','))

183 ++
pos
;

187 
boŞ
 
H‰pHasA‰ribu‹
(cÚ¡ 
H‰pA‰ribu‹Li¡
& 
©Œibu‹s
,

188 cÚ¡ 
¡d
::
¡ršg
& 
Çme
,

189 
¡d
::
¡ršg
* 
v®ue
) {

190 
H‰pA‰ribu‹Li¡
::
cÚ¡_™”©Ü
 
™
 = 
©Œibu‹s
.
begš
();

191 
	g™
 !ğ
©Œibu‹s
.
’d
(); ++it) {

192 ià(
	g™
->
	gfœ¡
 =ğ
Çme
) {

193 ià(
v®ue
) {

194 *
v®ue
 = 
™
->
£cÚd
;

196  
	gŒue
;

199  
	gçl£
;

202 
boŞ
 
H‰pHasNthA‰ribu‹
(
H‰pA‰ribu‹Li¡
& 
©Œibu‹s
,

203 
size_t
 
šdex
,

204 
¡d
::
¡ršg
* 
Çme
,

205 
¡d
::
¡ršg
* 
v®ue
) {

206 ià(
šdex
 >ğ
©Œibu‹s
.
size
())

207  
çl£
;

209 ià(
	gÇme
)

210 *
	gÇme
 = 
©Œibu‹s
[
šdex
].
fœ¡
;

211 ià(
	gv®ue
)

212 *
	gv®ue
 = 
©Œibu‹s
[
šdex
].
£cÚd
;

213  
	gŒue
;

216 
	g¡d
::
¡ršg
 
quÙe
(cÚ¡ 
¡d
::¡ršg& 
¡r
) {

217 
¡d
::
¡ršg
 
»suÉ
;

218 
	g»suÉ
.
push_back
('"');

219 
size_t
 
	gi
 = 0; i < 
	g¡r
.
size
(); ++i) {

220 ià((
	g¡r
[
i
] =ğ'"'è|| (
¡r
[i] == '\\'))

221 
»suÉ
.
push_back
('\\');

222 
	g»suÉ
.
push_back
(
¡r
[
i
]);

224 
	g»suÉ
.
push_back
('"');

225  
	g»suÉ
;

228 #ià
defšed
(
WEBRTC_WIN
è&& !defšed(
WINUWP
)

229 
	gNegÙŸ‹AuthCÚ‹xt
 : 
public
 
H‰pAuthCÚ‹xt
 {

230 
C»dHªdË
 
üed
;

231 
CtxtHªdË
 
	gùx
;

232 
size_t
 
	g¡•s
;

233 
boŞ
 
	g¥ecif›d_üed’tŸls
;

235 
NegÙŸ‹AuthCÚ‹xt
(cÚ¡ 
¡d
::
¡ršg
& 
auth
, 
C»dHªdË
 
c1
, 
CtxtHªdË
 
c2
)

236 : 
H‰pAuthCÚ‹xt
(
auth
),

237 
üed
(
c1
),

238 
ùx
(
c2
),

239 
¡•s
(0),

240 
¥ecif›d_üed’tŸls
(
çl£
) {}

242 ~
NegÙŸ‹AuthCÚ‹xt
(è
	gov”ride
 {

243 
D–‘eSecur™yCÚ‹xt
(&
ùx
);

244 
F»eC»d’tŸlsHªdË
(&
üed
);

251 
H‰pAuthResuÉ
 
H‰pAuth’tiÿ‹
(cÚ¡ * 
ch®Ënge
,

252 
size_t
 
Ën
,

253 cÚ¡ 
Sock‘Add»ss
& 
£rv”
,

254 cÚ¡ 
¡d
::
¡ršg
& 
m‘hod
,

255 cÚ¡ 
¡d
::
¡ršg
& 
uri
,

256 cÚ¡ 
¡d
::
¡ršg
& 
u£ºame
,

257 cÚ¡ 
Cry±SŒšg
& 
·sswÜd
,

258 
H‰pAuthCÚ‹xt
*& 
cÚ‹xt
,

259 
¡d
::
¡ršg
& 
»¥Ú£
,

260 
¡d
::
¡ršg
& 
auth_m‘hod
) {

261 
H‰pA‰ribu‹Li¡
 
¬gs
;

262 
H‰pP¬£A‰ribu‹s
(
ch®Ënge
, 
Ën
, 
¬gs
);

263 
H‰pHasNthA‰ribu‹
(
¬gs
, 0, &
auth_m‘hod
, 
nuÎ±r
);

265 ià(
	gcÚ‹xt
 && (cÚ‹xt->
	gauth_m‘hod
 !ğ
auth_m‘hod
))

266  
HAR_IGNORE
;

269 ià(
	gab¦
::
Equ®sIgnÜeCa£
(
auth_m‘hod
, "basic")) {

270 ià(
	gcÚ‹xt
)

271  
	gHAR_CREDENTIALS
;

272 ià(
	gu£ºame
.
em±y
())

273  
	gHAR_CREDENTIALS
;

275 
	gcÚ‹xt
 = 
Ãw
 
H‰pAuthCÚ‹xt
(
auth_m‘hod
);

281 
size_t
 
	gËn
 = 
u£ºame
.
size
(è+ 
·sswÜd
.
G‘L’gth
() + 2;

282 * 
	g£ns™ive
 = 
Ãw
 [
Ën
];

283 
size_t
 
	gpos
 = 
¡rıyn
(
£ns™ive
, 
Ën
, 
u£ºame
.
d©a
(), u£ºame.
size
());

284 
	gpos
 +ğ
¡rıyn
(
£ns™ive
 + 
pos
, 
Ën
 -…os, ":");

285 
	g·sswÜd
.
CİyTo
(
£ns™ive
 + 
pos
, 
Œue
);

287 
	g»¥Ú£
 = 
auth_m‘hod
;

288 
	g»¥Ú£
.
­³nd
(" ");

290 
	g»¥Ú£
.
­³nd
(
Ba£64
::
Encode
(
£ns™ive
));

291 
Ex¶ic™Z”oMemÜy
(
£ns™ive
, 
Ën
);

292 
	gd–‘e
[] 
	g£ns™ive
;

293  
	gHAR_RESPONSE
;

297 ià(
	gab¦
::
Equ®sIgnÜeCa£
(
auth_m‘hod
, "digest")) {

298 ià(
	gcÚ‹xt
)

299  
	gHAR_CREDENTIALS
;

300 ià(
	gu£ºame
.
em±y
())

301  
	gHAR_CREDENTIALS
;

303 
	gcÚ‹xt
 = 
Ãw
 
H‰pAuthCÚ‹xt
(
auth_m‘hod
);

305 
	g¡d
::
¡ršg
 
úÚû
, 
	gncouÁ
;

306 
	gbufãr
[256];

307 
¥rštf
(
bufãr
, "%d", 
¡©ic_ÿ¡
<>(
time
(0)));

308 
	gúÚû
 = 
MD5
(
bufãr
);

309 
	gncouÁ
 = "00000001";

311 
	g¡d
::
¡ršg
 
»®m
, 
	gnÚû
, 
	gqİ
, 
	gİaque
;

312 
H‰pHasA‰ribu‹
(
¬gs
, "»®m", &
»®m
);

313 
H‰pHasA‰ribu‹
(
¬gs
, "nÚû", &
nÚû
);

314 
boŞ
 
	ghas_qİ
 = 
H‰pHasA‰ribu‹
(
¬gs
, "qİ", &
qİ
);

315 
boŞ
 
	ghas_İaque
 = 
H‰pHasA‰ribu‹
(
¬gs
, "İaque", &
İaque
);

321 
size_t
 
	gËn
 = 
u£ºame
.
size
(è+ 
»®m
.size(è+ 
·sswÜd
.
G‘L’gth
() + 3;

322 * 
	g£ns™ive
 = 
Ãw
 [
Ën
];

323 
size_t
 
	gpos
 = 
¡rıyn
(
£ns™ive
, 
Ën
, 
u£ºame
.
d©a
(), u£ºame.
size
());

324 
	gpos
 +ğ
¡rıyn
(
£ns™ive
 + 
pos
, 
Ën
 -…os, ":");

325 
	gpos
 +ğ
¡rıyn
(
£ns™ive
 + 
pos
, 
Ën
 -…os, 
»®m
.
c_¡r
());

326 
	gpos
 +ğ
¡rıyn
(
£ns™ive
 + 
pos
, 
Ën
 -…os, ":");

327 
	g·sswÜd
.
CİyTo
(
£ns™ive
 + 
pos
, 
Œue
);

329 
	g¡d
::
¡ršg
 
A2
 = 
m‘hod
 + ":" + 
uri
;

330 
	g¡d
::
¡ršg
 
middË
;

331 ià(
	ghas_qİ
) {

332 
	gqİ
 = "auth";

333 
	gmiddË
 = 
nÚû
 + ":" + 
ncouÁ
 + ":" + 
úÚû
 + ":" + 
qİ
;

335 
	gmiddË
 = 
nÚû
;

337 
	g¡d
::
¡ršg
 
HA1
 = 
MD5
(
£ns™ive
);

338 
Ex¶ic™Z”oMemÜy
(
£ns™ive
, 
Ën
);

339 
	gd–‘e
[] 
	g£ns™ive
;

340 
	g¡d
::
¡ršg
 
HA2
 = 
MD5
(
A2
);

341 
	g¡d
::
¡ršg
 
dig_»¥Ú£
 = 
MD5
(
HA1
 + ":" + 
middË
 + ":" + 
HA2
);

343 
	g¹c
::
SŒšgBud”
 
ss
;

344 
	gss
 << 
	gauth_m‘hod
;

345 
	gss
 << " u£ºame=" << 
quÙe
(
u£ºame
);

346 
	gss
 << ",„—lm=" << 
quÙe
(
»®m
);

347 
	gss
 << ",‚Úû=" << 
quÙe
(
nÚû
);

348 
	gss
 << ", uri=" << 
quÙe
(
uri
);

349 ià(
	ghas_qİ
) {

350 
	gss
 << ", qİ=" << 
	gqİ
;

351 
	gss
 << ",‚c=" << 
	gncouÁ
;

352 
	gss
 << ", cnÚû=" << 
quÙe
(
úÚû
);

354 
	gss
 << ",„e¥Ú£=\"" << 
	gdig_»¥Ú£
 << "\"";

355 ià(
	ghas_İaque
) {

356 
	gss
 << ", o·que=" << 
quÙe
(
İaque
);

358 
	g»¥Ú£
 = 
ss
.
¡r
();

359  
	gHAR_RESPONSE
;

362 #ià
defšed
(
WEBRTC_WIN
è&& !defšed(
WINUWP
)

364 
boŞ
 
	gwªt_ÃgÙŸ‹
 = 
ab¦
::
Equ®sIgnÜeCa£
(
auth_m‘hod
, "negotiate");

365 
boŞ
 
	gwªt_Álm
 = 
ab¦
::
Equ®sIgnÜeCa£
(
auth_m‘hod
, "ntlm");

367 ià(
	gwªt_ÃgÙŸ‹
 || 
	gwªt_Álm
) {

368 cÚ¡ 
size_t
 
	gMAX_MESSAGE
 = 12000, 
	gMAX_SPN
 = 256;

369 
	gout_buf
[
MAX_MESSAGE
], 
	g¥n
[
MAX_SPN
];

372 
DWORD
 
	gËn
 = 
MAX_SPN
;

373 ià(
DsMakeS²
("HTTP", 
£rv”
.
Ho¡AsURISŒšg
().
c_¡r
(), 
nuÎ±r
,

374 
£rv”
.
pÜt
(),

375 0, &
Ën
, 
¥n
è!ğ
ERROR_SUCCESS
) {

376 
RTC_LOG_F
(
WARNING
) << "(Negotiate) - DsMakeSpn failed";

377  
	gHAR_IGNORE
;

380 
¢´štf
(
¥n
, 
MAX_SPN
, "HTTP/%s", 
£rv”
.
ToSŒšg
().
c_¡r
());

383 
SecBufãr
 
	gout_£c
;

384 
	gout_£c
.
	gpvBufãr
 = 
out_buf
;

385 
	gout_£c
.
	gcbBufãr
 = (
out_buf
);

386 
	gout_£c
.
	gBufãrTy³
 = 
SECBUFFER_TOKEN
;

388 
SecBufãrDesc
 
	gout_buf_desc
;

389 
	gout_buf_desc
.
	gulV”siÚ
 = 0;

390 
	gout_buf_desc
.
	gcBufãrs
 = 1;

391 
	gout_buf_desc
.
	gpBufãrs
 = &
out_£c
;

393 cÚ¡ 
ULONG
 
	gNEG_FLAGS_DEFAULT
 =

395 
ISC_REQ_CONFIDENTIALITY


398 | 
ISC_REQ_REPLAY_DETECT
 | 
ISC_REQ_SEQUENCE_DETECT


403 ::
TimeSmp
 
liãtime
;

404 
SECURITY_STATUS
 
	g»t
 = 
S_OK
;

405 
ULONG
 
	g»t_æags
 = 0, 
	gæags
 = 
NEG_FLAGS_DEFAULT
;

407 
boŞ
 
	g¥ecify_üed’tŸls
 = !
u£ºame
.
em±y
();

408 
size_t
 
	g¡•s
 = 0;

412 
NegÙŸ‹AuthCÚ‹xt
* 
	gÃg
 = 
¡©ic_ÿ¡
<NegÙŸ‹AuthCÚ‹xt*>(
cÚ‹xt
);

413 ià(
	gÃg
) {

414 cÚ¡ 
size_t
 
	gmax_¡•s
 = 10;

415 ià(++
	gÃg
->
	g¡•s
 >ğ
max_¡•s
) {

416 
RTC_LOG
(
WARNING
) << "AsyncHttpsProxySocket::Authenticate(Negotiate) "

418  
	gHAR_ERROR
;

420 
	g¡•s
 = 
Ãg
->
¡•s
;

422 
	g¡d
::
¡ršg
 
ch®Ënge
, 
	gdecoded_ch®Ënge
;

423 ià(
H‰pHasNthA‰ribu‹
(
¬gs
, 1, &
ch®Ënge
, 
nuÎ±r
) &&

424 
	gBa£64
::
Decode
(
ch®Ënge
, 
Ba£64
::
DO_STRICT
, &
decoded_ch®Ënge
,

425 
nuÎ±r
)) {

426 
SecBufãr
 
	gš_£c
;

427 
	gš_£c
.
	gpvBufãr
 = 
cÚ¡_ÿ¡
<*>(
decoded_ch®Ënge
.
d©a
());

428 
	gš_£c
.
	gcbBufãr
 = 
¡©ic_ÿ¡
<>(
decoded_ch®Ënge
.
size
());

429 
	gš_£c
.
	gBufãrTy³
 = 
SECBUFFER_TOKEN
;

431 
SecBufãrDesc
 
	gš_buf_desc
;

432 
	gš_buf_desc
.
	gulV”siÚ
 = 0;

433 
	gš_buf_desc
.
	gcBufãrs
 = 1;

434 
	gš_buf_desc
.
	gpBufãrs
 = &
š_£c
;

436 
	g»t
 = 
In™ŸlizeSecur™yCÚ‹xtA
(

437 &
Ãg
->
üed
, &Ãg->
ùx
, 
¥n
, 
æags
, 0, 
SECURITY_NATIVE_DREP
,

438 &
š_buf_desc
, 0, &
Ãg
->
ùx
, &
out_buf_desc
, &
»t_æags
, &
liãtime
);

439 ià(
FAILED
(
»t
)) {

440 
RTC_LOG
(
LS_ERROR
) << "InitializeSecurityContext„eturned: "

441 << 
G‘E¼ÜName
(
»t
, 
SECURITY_ERRORS
);

442  
	gHAR_ERROR
;

444 } ià(
	gÃg
->
	g¥ecif›d_üed’tŸls
) {

446 
	g¥ecify_üed’tŸls
 = 
çl£
;

447 
d–‘e
 
	gcÚ‹xt
;

448 
	gcÚ‹xt
 = 
Ãg
 = 0;

450  
	gHAR_CREDENTIALS
;

454 ià(!
	gÃg
) {

455 
	gu£rbuf
[256], 
	g·ssbuf
[256], 
	gdomašbuf
[16];

456 
SEC_WINNT_AUTH_IDENTITY_A
 
	gauth_id
, *
	g·uth_id
 = 0;

457 ià(
	g¥ecify_üed’tŸls
) {

458 
mem£t
(&
auth_id
, 0, (auth_id));

459 
size_t
 
	gËn
 = 
·sswÜd
.
G‘L’gth
() + 1;

460 * 
	g£ns™ive
 = 
Ãw
 [
Ën
];

461 
	g·sswÜd
.
CİyTo
(
£ns™ive
, 
Œue
);

462 
	g¡d
::
¡ršg
::
size_ty³
 
pos
 = 
u£ºame
.
fšd
('\\');

463 ià(
	gpos
 =ğ
¡d
::
¡ršg
::
Åos
) {

464 
auth_id
.
U£rL’gth
 = 
¡©ic_ÿ¡
<>(

465 
¡d
::
mš
((
u£rbuf
è- 1, 
u£ºame
.
size
()));

466 
memıy
(
u£rbuf
, 
u£ºame
.
c_¡r
(), 
auth_id
.
U£rL’gth
);

467 
	gu£rbuf
[
auth_id
.
U£rL’gth
] = 0;

468 
	gauth_id
.
	gDomašL’gth
 = 0;

469 
	gdomašbuf
[
auth_id
.
DomašL’gth
] = 0;

470 
	gauth_id
.
	gPasswÜdL’gth
 = 
¡©ic_ÿ¡
<>(

471 
¡d
::
mš
((
·ssbuf
è- 1, 
·sswÜd
.
G‘L’gth
()));

472 
memıy
(
·ssbuf
, 
£ns™ive
, 
auth_id
.
PasswÜdL’gth
);

473 
	g·ssbuf
[
auth_id
.
PasswÜdL’gth
] = 0;

475 
	gauth_id
.
	gU£rL’gth
 = 
¡©ic_ÿ¡
<>(

476 
¡d
::
mš
((
u£rbuf
è- 1, 
u£ºame
.
size
(è- 
pos
 - 1));

477 
memıy
(
u£rbuf
, 
u£ºame
.
c_¡r
(è+ 
pos
 + 1, 
auth_id
.
U£rL’gth
);

478 
	gu£rbuf
[
auth_id
.
U£rL’gth
] = 0;

479 
	gauth_id
.
	gDomašL’gth
 =

480 
¡©ic_ÿ¡
<>(
¡d
::
mš
((
domašbuf
è- 1, 
pos
));

481 
memıy
(
domašbuf
, 
u£ºame
.
c_¡r
(), 
auth_id
.
DomašL’gth
);

482 
	gdomašbuf
[
auth_id
.
DomašL’gth
] = 0;

483 
	gauth_id
.
	gPasswÜdL’gth
 = 
¡©ic_ÿ¡
<>(

484 
¡d
::
mš
((
·ssbuf
è- 1, 
·sswÜd
.
G‘L’gth
()));

485 
memıy
(
·ssbuf
, 
£ns™ive
, 
auth_id
.
PasswÜdL’gth
);

486 
	g·ssbuf
[
auth_id
.
PasswÜdL’gth
] = 0;

488 
Ex¶ic™Z”oMemÜy
(
£ns™ive
, 
Ën
);

489 
	gd–‘e
[] 
	g£ns™ive
;

490 
	gauth_id
.
	gU£r
 = 
u£rbuf
;

491 
	gauth_id
.
	gDomaš
 = 
domašbuf
;

492 
	gauth_id
.
	gPasswÜd
 = 
·ssbuf
;

493 
	gauth_id
.
	gFÏgs
 = 
SEC_WINNT_AUTH_IDENTITY_ANSI
;

494 
	g·uth_id
 = &
auth_id
;

495 
RTC_LOG
(
LS_VERBOSE
)

498 
RTC_LOG
(
LS_VERBOSE
) << "Negotiate…rotocol: Using default credentials";

501 
C»dHªdË
 
	güed
;

502 
	g»t
 = 
AcquœeC»d’tŸlsHªdËA
(

503 0, 
cÚ¡_ÿ¡
<*>(
wªt_ÃgÙŸ‹
 ? 
NEGOSSP_NAME_A
 : 
NTLMSP_NAME_A
),

504 
SECPKG_CRED_OUTBOUND
, 0, 
·uth_id
, 0, 0, &
üed
, &
liãtime
);

505 ià(
	g»t
 !ğ
SEC_E_OK
) {

506 
RTC_LOG
(
LS_ERROR
) << "AcquireCredentialsHandleƒrror: "

507 << 
G‘E¼ÜName
(
»t
, 
SECURITY_ERRORS
);

508  
	gHAR_IGNORE
;

513 
CtxtHªdË
 
	gùx
;

514 
	g»t
 = 
In™ŸlizeSecur™yCÚ‹xtA
(&
üed
, 0, 
¥n
, 
æags
, 0,

515 
SECURITY_NATIVE_DREP
, 0, 0, &
ùx
,

516 &
out_buf_desc
, &
»t_æags
, &
liãtime
);

517 ià(
FAILED
(
»t
)) {

518 
RTC_LOG
(
LS_ERROR
) << "InitializeSecurityContext„eturned: "

519 << 
G‘E¼ÜName
(
»t
, 
SECURITY_ERRORS
);

520 
F»eC»d’tŸlsHªdË
(&
üed
);

521  
	gHAR_IGNORE
;

524 
RTC_DCHECK
(!
cÚ‹xt
);

525 
	gcÚ‹xt
 = 
Ãg
 = 
Ãw
 
NegÙŸ‹AuthCÚ‹xt
(
auth_m‘hod
, 
üed
, 
ùx
);

526 
	gÃg
->
	g¥ecif›d_üed’tŸls
 = 
¥ecify_üed’tŸls
;

527 
	gÃg
->
	g¡•s
 = 
¡•s
;

530 ià((
	g»t
 =ğ
SEC_I_COMPLETE_NEEDED
) ||

531 (
»t
 =ğ
SEC_I_COMPLETE_AND_CONTINUE
)) {

532 
»t
 = 
Com¶‘eAuthTok’
(&
Ãg
->
ùx
, &
out_buf_desc
);

533 
RTC_LOG
(
LS_VERBOSE
) << "CompleteAuthToken„eturned: "

534 << 
G‘E¼ÜName
(
»t
, 
SECURITY_ERRORS
);

535 ià(
FAILED
(
»t
)) {

536  
	gHAR_ERROR
;

540 
	g¡d
::
¡ršg
 
decoded
(
out_buf
, out_buà+ 
out_£c
.
cbBufãr
);

541 
	g»¥Ú£
 = 
auth_m‘hod
;

542 
	g»¥Ú£
.
­³nd
(" ");

543 
	g»¥Ú£
.
­³nd
(
Ba£64
::
Encode
(
decoded
));

544  
	gHAR_RESPONSE
;

549  
	gHAR_IGNORE
;

	@http_common.h

11 #iâdeà
RTC_BASE_HTTP_COMMON_H_


12 
	#RTC_BASE_HTTP_COMMON_H_


	)

14 
	~<¡ršg
>

16 
Çme¥aû
 
	g¹c
 {

18 
şass
 
	gCry±SŒšg
;

19 
şass
 
	gSock‘Add»ss
;

25 
	sH‰pAuthCÚ‹xt
 {

26 
	g¡d
::
¡ršg
 
auth_m‘hod
;

27 
H‰pAuthCÚ‹xt
(cÚ¡ 
¡d
::
¡ršg
& 
auth
è: 
auth_m‘hod
(auth) {}

28 
vœtu®
 ~
H‰pAuthCÚ‹xt
() {}

31 
	eH‰pAuthResuÉ
 { 
	gHAR_RESPONSE
, 
	gHAR_IGNORE
, 
	gHAR_CREDENTIALS
, 
	gHAR_ERROR
 };

37 
H‰pAuthResuÉ
 
H‰pAuth’tiÿ‹
(cÚ¡ * 
ch®Ënge
,

38 
size_t
 
Ën
,

39 cÚ¡ 
Sock‘Add»ss
& 
£rv”
,

40 cÚ¡ 
¡d
::
¡ršg
& 
m‘hod
,

41 cÚ¡ 
¡d
::
¡ršg
& 
uri
,

42 cÚ¡ 
¡d
::
¡ršg
& 
u£ºame
,

43 cÚ¡ 
Cry±SŒšg
& 
·sswÜd
,

44 
H‰pAuthCÚ‹xt
*& 
cÚ‹xt
,

45 
¡d
::
¡ršg
& 
»¥Ú£
,

46 
¡d
::
¡ršg
& 
auth_m‘hod
);

	@ifaddrs_android.cc

11 #ià
defšed
(
WEBRTC_ANDROID
)

12 
	~"¹c_ba£/içddrs_ªdroid.h
"

14 
	~<”ºo.h
>

15 
	~<lšux/Ãšk.h
>

16 
	~<lšux/¹Ãšk.h
>

17 
	~<Ãt/if.h
>

18 
	~<Ãtš‘/š.h
>

19 
	~<¡dlib.h
>

20 
	~<¡ršg.h
>

21 
	~<sys/ioùl.h
>

22 
	~<sys/sock‘.h
>

23 
	~<sys/ty³s.h
>

24 
	~<sys/ut¢ame.h
>

25 
	~<uni¡d.h
>

27 
	gÇme¥aû
 {

29 
	sÃšk»que¡
 {

30 
Æmsghdr
 
	gh—d”
;

31 
içddrmsg
 
	gmsg
;

34 cÚ¡ 
	gkMaxR—dSize
 = 4096;

38 
Çme¥aû
 
	g¹c
 {

40 
£t_iâame
(
içddrs
* 
içddr
, 
š‹rçû
) {

41 
	gbuf
[
IFNAMSIZ
] = {0};

42 * 
	gÇme
 = 
if_šdextÚame
(
š‹rçû
, 
buf
);

43 ià(
	gÇme
 =ğ
nuÎ±r
) {

46 
	giçddr
->
	giç_Çme
 = 
Ãw
 [
¡¾’
(
Çme
) + 1];

47 
¡ºıy
(
içddr
->
iç_Çme
, 
Çme
, 
¡¾’
(name) + 1);

51 
£t_æags
(
içddrs
* 
içddr
) {

52 
	gfd
 = 
sock‘
(
AF_INET
, 
SOCK_DGRAM
, 0);

53 ià(
	gfd
 == -1) {

56 
iäeq
 
	giä
;

57 
mem£t
(&
iä
, 0, (ifr));

58 
¡ºıy
(
iä
.
iä_Çme
, 
içddr
->
iç_Çme
, 
IFNAMSIZ
 - 1);

59 
	grc
 = 
ioùl
(
fd
, 
SIOCGIFFLAGS
, &
iä
);

60 
şo£
(
fd
);

61 ià(
	grc
 == -1) {

64 
	giçddr
->
	giç_æags
 = 
iä
.
iä_æags
;

68 
£t_add»s£s
(
içddrs
* 
içddr
,

69 
içddrmsg
* 
msg
,

70 * 
d©a
,

71 
size_t
 
Ën
) {

72 ià(
	gmsg
->
	giç_çmy
 =ğ
AF_INET
) {

73 
sockaddr_š
* 
§
 = 
Ãw
 sockaddr_in;

74 
	g§
->
	gsš_çmy
 = 
AF_INET
;

75 
memıy
(&
§
->
sš_addr
, 
d©a
, 
Ën
);

76 
	giçddr
->
	giç_addr
 = 
»š‹½»t_ÿ¡
<
sockaddr
*>(
§
);

77 } ià(
	gmsg
->
	giç_çmy
 =ğ
AF_INET6
) {

78 
sockaddr_š6
* 
§
 = 
Ãw
 sockaddr_in6;

79 
	g§
->
	gsš6_çmy
 = 
AF_INET6
;

80 
	g§
->
	gsš6_scİe_id
 = 
msg
->
iç_šdex
;

81 
memıy
(&
§
->
sš6_addr
, 
d©a
, 
Ën
);

82 
	giçddr
->
	giç_addr
 = 
»š‹½»t_ÿ¡
<
sockaddr
*>(
§
);

89 
make_´efixes
(
içddrs
* 
içddr
, 
çmy
, 
´efixËn
) {

90 * 
	g´efix
 = 
nuÎ±r
;

91 ià(
	gçmy
 =ğ
AF_INET
) {

92 
sockaddr_š
* 
mask
 = 
Ãw
 sockaddr_in;

93 
	gmask
->
	gsš_çmy
 = 
AF_INET
;

94 
mem£t
(&
mask
->
sš_addr
, 0, (
š_addr
));

95 
	giçddr
->
	giç_Ãtmask
 = 
»š‹½»t_ÿ¡
<
sockaddr
*>(
mask
);

96 ià(
	g´efixËn
 > 32) {

97 
	g´efixËn
 = 32;

99 
	g´efix
 = 
»š‹½»t_ÿ¡
<*>(&
mask
->
sš_addr
);

100 } ià(
	gçmy
 =ğ
AF_INET6
) {

101 
sockaddr_š6
* 
mask
 = 
Ãw
 sockaddr_in6;

102 
	gmask
->
	gsš6_çmy
 = 
AF_INET6
;

103 
mem£t
(&
mask
->
sš6_addr
, 0, (
š6_addr
));

104 
	giçddr
->
	giç_Ãtmask
 = 
»š‹½»t_ÿ¡
<
sockaddr
*>(
mask
);

105 ià(
	g´efixËn
 > 128) {

106 
	g´efixËn
 = 128;

108 
	g´efix
 = 
»š‹½»t_ÿ¡
<*>(&
mask
->
sš6_addr
);

112 
	gi
 = 0; i < (
	g´efixËn
 / 8); i++) {

113 *
	g´efix
++ = 0xFF;

115 
	g»mašd”
 = 0xff;

116 
	g»mašd”
 <<ğ(8 - 
´efixËn
 % 8);

117 *
	g´efix
 = 
»mašd”
;

121 
pİuÏ‹_içddrs
(
içddrs
* 
içddr
,

122 
içddrmsg
* 
msg
,

123 * 
by‹s
,

124 
size_t
 
Ën
) {

125 ià(
£t_iâame
(
içddr
, 
msg
->
iç_šdex
) != 0) {

128 ià(
£t_æags
(
içddr
) != 0) {

131 ià(
£t_add»s£s
(
içddr
, 
msg
, 
by‹s
, 
Ën
) != 0) {

134 ià(
make_´efixes
(
içddr
, 
msg
->
iç_çmy
, msg->
iç_´efixËn
) != 0) {

140 
g‘içddrs
(
içddrs
** 
»suÉ
) {

141 
	gfd
 = 
sock‘
(
PF_NETLINK
, 
SOCK_RAW
, 
NETLINK_ROUTE
);

142 ià(
	gfd
 < 0) {

146 
Ãšk»que¡
 
	giçddr_»que¡
;

147 
mem£t
(&
içddr_»que¡
, 0, (ifaddr_request));

148 
	giçddr_»que¡
.
	gh—d”
.
	gÆmsg_æags
 = 
NLM_F_ROOT
 | 
NLM_F_REQUEST
;

149 
	giçddr_»que¡
.
	gh—d”
.
	gÆmsg_ty³
 = 
RTM_GETADDR
;

150 
	giçddr_»que¡
.
	gh—d”
.
	gÆmsg_Ën
 = 
NLMSG_LENGTH
((
içddrmsg
));

152 
ssize_t
 
	gcouÁ
 = 
£nd
(
fd
, &
içddr_»que¡
, içddr_»que¡.
h—d”
.
Æmsg_Ën
, 0);

153 ià(
	g¡©ic_ÿ¡
<
	gsize_t
>(
	gcouÁ
è!ğ
içddr_»que¡
.
h—d”
.
Æmsg_Ën
) {

154 
şo£
(
fd
);

157 
içddrs
* 
	g¡¬t
 = 
nuÎ±r
;

158 
içddrs
* 
	gcu¼’t
 = 
nuÎ±r
;

159 
	gbuf
[
kMaxR—dSize
];

160 
ssize_t
 
	gamouÁ_»ad
 = 
»cv
(
fd
, &
buf
, 
kMaxR—dSize
, 0);

161 
	gamouÁ_»ad
 > 0) {

162 
Æmsghdr
* 
	gh—d”
 = 
»š‹½»t_ÿ¡
<Æmsghdr*>(&
buf
[0]);

163 
size_t
 
	gh—d”_size
 = 
¡©ic_ÿ¡
<size_t>(
amouÁ_»ad
);

164 ; 
NLMSG_OK
(
h—d”
, 
h—d”_size
);

165 
	gh—d”
 = 
NLMSG_NEXT
(
h—d”
, 
h—d”_size
)) {

166 
	gh—d”
->
	gÆmsg_ty³
) {

167 
	gNLMSG_DONE
:

169 *
»suÉ
 = 
¡¬t
;

170 
şo£
(
fd
);

172 
	gNLMSG_ERROR
:

173 
şo£
(
fd
);

174 
ä“içddrs
(
¡¬t
);

176 
	gRTM_NEWADDR
: {

177 
içddrmsg
* 
add»ss_msg
 =

178 
»š‹½»t_ÿ¡
<
içddrmsg
*>(
NLMSG_DATA
(
h—d”
));

179 
¹©Œ
* 
	g¹a
 = 
IFA_RTA
(
add»ss_msg
);

180 
ssize_t
 
	g·ylßd_Ën
 = 
IFA_PAYLOAD
(
h—d”
);

181 
RTA_OK
(
¹a
, 
·ylßd_Ën
)) {

182 ià((
	gadd»ss_msg
->
	giç_çmy
 =ğ
AF_INET
 &&

183 
¹a
->
¹a_ty³
 =ğ
IFA_LOCAL
) ||

184 (
add»ss_msg
->
iç_çmy
 =ğ
AF_INET6
 &&

185 
¹a
->
¹a_ty³
 =ğ
IFA_ADDRESS
)) {

186 
içddrs
* 
Ãwe¡
 = 
Ãw
 ifaddrs;

187 
mem£t
(
Ãwe¡
, 0, (
içddrs
));

188 ià(
	gcu¼’t
) {

189 
	gcu¼’t
->
	giç_Ãxt
 = 
Ãwe¡
;

191 
	g¡¬t
 = 
Ãwe¡
;

193 ià(
pİuÏ‹_içddrs
(
Ãwe¡
, 
add»ss_msg
, 
RTA_DATA
(
¹a
),

194 
RTA_PAYLOAD
(
¹a
)) != 0) {

195 
ä“içddrs
(
¡¬t
);

196 *
	g»suÉ
 = 
nuÎ±r
;

199 
	gcu¼’t
 = 
Ãwe¡
;

201 
	g¹a
 = 
RTA_NEXT
(
¹a
, 
·ylßd_Ën
);

207 
	gamouÁ_»ad
 = 
»cv
(
fd
, &
buf
, 
kMaxR—dSize
, 0);

209 
şo£
(
fd
);

210 
ä“içddrs
(
¡¬t
);

214 
ä“içddrs
(
içddrs
* 
addrs
) {

215 
içddrs
* 
	gÏ¡
 = 
nuÎ±r
;

216 
içddrs
* 
	gcursÜ
 = 
addrs
;

217 
	gcursÜ
) {

218 
	gd–‘e
[] 
	gcursÜ
->
	giç_Çme
;

219 
d–‘e
 
	gcursÜ
->
	giç_addr
;

220 
d–‘e
 
	gcursÜ
->
	giç_Ãtmask
;

221 
	gÏ¡
 = 
cursÜ
;

222 
	gcursÜ
 = 
cursÜ
->
iç_Ãxt
;

223 
d–‘e
 
	gÏ¡
;

	@ifaddrs_android.h

11 #iâdeà
RTC_BASE_IFADDRS_ANDROID_H_


12 
	#RTC_BASE_IFADDRS_ANDROID_H_


	)

14 
	~<¡dio.h
>

15 
	~<sys/sock‘.h
>

21 
	siçddrs
 {

22 
içddrs
* 
	miç_Ãxt
;

23 * 
	miç_Çme
;

24 
	miç_æags
;

25 
sockaddr
* 
	miç_addr
;

26 
sockaddr
* 
	miç_Ãtmask
;

31 
Çme¥aû
 
	g¹c
 {

33 
g‘içddrs
(
içddrs
** 
»suÉ
);

34 
ä“içddrs
(
içddrs
* 
addrs
);

	@ifaddrs_converter.cc

11 
	~"¹c_ba£/içddrs_cÚv”‹r.h
"

13 
Çme¥aû
 
	g¹c
 {

15 
	gIfAddrsCÚv”‹r
::
IfAddrsCÚv”‹r
() {}

17 
IfAddrsCÚv”‹r
::~IfAddrsConverter() {}

19 
boŞ
 
IfAddrsCÚv”‹r
::
CÚv”tIfAddrsToIPAdd»ss
(

20 cÚ¡ 
içddrs
* 
š‹rçû
,

21 
IÁ”çûAdd»ss
* 

,

22 
IPAdd»ss
* 
mask
) {

23 
	gš‹rçû
->
	giç_addr
->
	g§_çmy
) {

24 
	gAF_INET
: {

25 *

 = 
IÁ”çûAdd»ss
(
IPAdd»ss
(

26 
»š‹½»t_ÿ¡
<
sockaddr_š
*>(
š‹rçû
->
iç_addr
)->
sš_addr
));

27 *
	gmask
 = 
IPAdd»ss
(

28 
»š‹½»t_ÿ¡
<
sockaddr_š
*>(
š‹rçû
->
iç_Ãtmask
)->
sš_addr
);

29  
	gŒue
;

31 
	gAF_INET6
: {

32 
_©Œibu‹s
 = 
IPV6_ADDRESS_FLAG_NONE
;

33 ià(!
CÚv”tN©iveA‰ribu‹sToIPA‰ribu‹s
(
š‹rçû
, &
_©Œibu‹s
)) {

34  
	gçl£
;

36 *
	g
 = 
IÁ”çûAdd»ss
(

37 
»š‹½»t_ÿ¡
<
sockaddr_š6
*>(
š‹rçû
->
iç_addr
)->
sš6_addr
,

38 
_©Œibu‹s
);

39 *
	gmask
 = 
IPAdd»ss
(

40 
»š‹½»t_ÿ¡
<
sockaddr_š6
*>(
š‹rçû
->
iç_Ãtmask
)->
sš6_addr
);

41  
	gŒue
;

44  
çl£
;

49 
boŞ
 
	gIfAddrsCÚv”‹r
::
CÚv”tN©iveA‰ribu‹sToIPA‰ribu‹s
(

50 cÚ¡ 
içddrs
* 
š‹rçû
,

51 * 
_©Œibu‹s
) {

52 *
	g_©Œibu‹s
 = 
IPV6_ADDRESS_FLAG_NONE
;

53  
	gŒue
;

56 #ià!
defšed
(
WEBRTC_MAC
)

58 
IfAddrsCÚv”‹r
* 
C»©eIfAddrsCÚv”‹r
() {

59  
Ãw
 
IfAddrsCÚv”‹r
();

	@ifaddrs_converter.h

11 #iâdeà
RTC_BASE_IFADDRS_CONVERTER_H_


12 
	#RTC_BASE_IFADDRS_CONVERTER_H_


	)

14 #ià
defšed
(
WEBRTC_ANDROID
)

15 
	~"¹c_ba£/içddrs_ªdroid.h
"

17 
	~<içddrs.h
>

20 
	~"¹c_ba£/_add»ss.h
"

22 
Çme¥aû
 
	g¹c
 {

27 şas 
	cIfAddrsCÚv”‹r
 {

28 
	gpublic
:

29 
IfAddrsCÚv”‹r
();

30 
	gvœtu®
 ~
IfAddrsCÚv”‹r
();

31 
vœtu®
 
boŞ
 
CÚv”tIfAddrsToIPAdd»ss
(cÚ¡ 
içddrs
* 
š‹rçû
,

32 
IÁ”çûAdd»ss
* 
add»ss
,

33 
IPAdd»ss
* 
mask
);

35 
	g´Ùeùed
:

36 
vœtu®
 
boŞ
 
CÚv”tN©iveA‰ribu‹sToIPA‰ribu‹s
(

37 cÚ¡ 
içddrs
* 
š‹rçû
,

38 * 
_©Œibu‹s
);

41 
IfAddrsCÚv”‹r
* 
C»©eIfAddrsCÚv”‹r
();

	@ignore_wundef.h

11 #iâdeà
RTC_BASE_IGNORE_WUNDEF_H_


12 
	#RTC_BASE_IGNORE_WUNDEF_H_


	)

23 #ifdeà
__şªg__


24 
	#RTC_PUSH_IGNORING_WUNDEF
() \

25 
	`_P¿gma
("clang diagnostic…ush") \

26 
	`_P¿gma
("şªg dŸgno¡iøignÜed \"-Wundef\"")

	)

27 
	#RTC_POP_IGNORING_WUNDEF
(è
	`_P¿gma
("şªg dŸgno¡iøpİ")

	)

29 
	#RTC_PUSH_IGNORING_WUNDEF
()

	)

30 
	#RTC_POP_IGNORING_WUNDEF
()

	)

	@ip_address.cc

11 #ià
defšed
(
WEBRTC_POSIX
)

12 
	~<Ãtš‘/š.h
>

13 
	~<sys/sock‘.h
>

14 #ifdeà
OPENBSD


15 
	~<Ãtš‘/š_sy¡m.h
>

17 #iâdeà
__Çtive_ş›Á__


18 
	~<Ãtš‘/.h
>

20 
	~<Ãtdb.h
>

23 
	~"¹c_ba£/by‹_Üd”.h
"

24 
	~"¹c_ba£/_add»ss.h
"

25 
	~"¹c_ba£/Ãt_h–³rs.h
"

26 
	~"¹c_ba£/¡ršg_uts.h
"

28 #ià
defšed
(
WEBRTC_WIN
)

29 
	~"¹c_ba£/wš32.h
"

32 
Çme¥aû
 
	g¹c
 {

35 cÚ¡ 
š6_addr
 
	gkV4M­³dP»fix
 = {

37 cÚ¡ 
š6_addr
 
	gk6To4P»fix
 = {{{0x20, 0x02, 0}}};

38 cÚ¡ 
š6_addr
 
	gkT”edoP»fix
 = {{{0x20, 0x01, 0x00, 0x00}}};

39 cÚ¡ 
š6_addr
 
	gkV4Com·tib™yP»fix
 = {{{0}}};

40 cÚ¡ 
š6_addr
 
	gk6BÚeP»fix
 = {{{0x3f, 0xfe, 0}}};

41 cÚ¡ 
š6_addr
 
	gkPriv©eN‘wÜkP»fix
 = {{{0xFD}}};

43 
boŞ
 
IPIsH–³r
(cÚ¡ 
IPAdd»ss
& 

,

44 cÚ¡ 
š6_addr
& 
tom©ch
,

45 
Ëngth
);

46 
š_addr
 
ExŒaùM­³dAdd»ss
(cÚ¡ 
š6_addr
& 
addr
);

48 
ušt32_t
 
	gIPAdd»ss
::
v4Add»ssAsHo¡Ord”IÁeg”
() const {

49 ià(
çmy_
 =ğ
AF_INET
) {

50  
N‘wÜkToHo¡32
(
u_
.
4
.
s_addr
);

56 
	gIPAdd»ss
::
ov”h—d
() const {

57 
çmy_
) {

58 
AF_INET
:

60 
	gAF_INET6
:

67 
boŞ
 
	gIPAdd»ss
::
IsN
() const {

68  
IPIsUn¥ec
(*
this
);

71 
size_t
 
	gIPAdd»ss
::
Size
() const {

72 
çmy_
) {

73 
AF_INET
:

74  (
š_addr
);

75 
	gAF_INET6
:

76  (
š6_addr
);

81 
boŞ
 
	gIPAdd»ss
::
İ”©Ü
==(cÚ¡ 
IPAdd»ss
& 
Ùh”
) const {

82 ià(
çmy_
 !ğ
Ùh”
.family_) {

83  
çl£
;

85 ià(
	gçmy_
 =ğ
AF_INET
) {

86  
memcmp
(&
u_
.
4
, &
Ùh”
.u_.ip4, (u_.ip4)) == 0;

88 ià(
	gçmy_
 =ğ
AF_INET6
) {

89  
memcmp
(&
u_
.
6
, &
Ùh”
.u_.ip6, (u_.ip6)) == 0;

91  
	gçmy_
 =ğ
AF_UNSPEC
;

94 
boŞ
 
	gIPAdd»ss
::
İ”©Ü
!=(cÚ¡ 
IPAdd»ss
& 
Ùh”
) const {

95  !((*
this
è=ğ
Ùh”
);

98 
boŞ
 
	gIPAdd»ss
::
İ”©Ü
>(cÚ¡ 
IPAdd»ss
& 
Ùh”
) const {

99  (*
this
è!ğ
Ùh”
 && !((*this) < other);

102 
boŞ
 
	gIPAdd»ss
::
İ”©Ü
<(cÚ¡ 
IPAdd»ss
& 
Ùh”
) const {

104 ià(
çmy_
 !ğ
Ùh”
.family_) {

105 ià(
çmy_
 =ğ
AF_UNSPEC
) {

106  
Œue
;

108 ià(
	gçmy_
 =ğ
AF_INET
 && 
Ùh”
.
çmy_
 =ğ
AF_INET6
) {

109  
Œue
;

111  
	gçl£
;

114 
	gçmy_
) {

115 
	gAF_INET
: {

116  
N‘wÜkToHo¡32
(
u_
.
4
.
s_addr
) <

117 
N‘wÜkToHo¡32
(
Ùh”
.
u_
.
4
.
s_addr
);

119 
	gAF_INET6
: {

120  
memcmp
(&
u_
.
6
.
s6_addr
, &
Ùh”
.u_.ip6.s6_addr, 16) < 0;

124  
	gçl£
;

127 
š6_addr
 
	gIPAdd»ss
::
v6_add»ss
() const {

128  
u_
.
6
;

131 
š_addr
 
	gIPAdd»ss
::
v4_add»ss
() const {

132  
u_
.
4
;

135 
	g¡d
::
¡ršg
 
IPAdd»ss
::
ToSŒšg
() const {

136 ià(
çmy_
 !ğ
AF_INET
 && famy_ !ğ
AF_INET6
) {

137  
¡d
::
¡ršg
();

139 
	gbuf
[
INET6_ADDRSTRLEN
] = {0};

140 cÚ¡ * 
	g¤c
 = &
u_
.
4
;

141 ià(
	gçmy_
 =ğ
AF_INET6
) {

142 
¤c
 = &
u_
.
6
;

144 ià(!
	g¹c
::
š‘_Áİ
(
çmy_
, 
¤c
, 
buf
, (buf))) {

145  
	g¡d
::
¡ršg
();

147  
	g¡d
::
¡ršg
(
buf
);

150 
	g¡d
::
¡ršg
 
IPAdd»ss
::
ToS’s™iveSŒšg
() const {

151 #ià!
defšed
(
NDEBUG
)

153  
ToSŒšg
();

155 
	gçmy_
) {

156 
	gAF_INET
: {

157 
¡d
::
¡ršg
 
add»ss
 = 
ToSŒšg
();

158 
size_t
 
	gfšd_pos
 = 
add»ss
.
rfšd
('.');

159 ià(
	gfšd_pos
 =ğ
¡d
::
¡ršg
::
Åos
)

160  
¡d
::
¡ršg
();

161 
	gadd»ss
.
»size
(
fšd_pos
);

162 
	gadd»ss
 += ".x";

163  
	gadd»ss
;

165 
	gAF_INET6
: {

166 
¡d
::
¡ršg
 
»suÉ
;

167 
	g»suÉ
.
»size
(
INET6_ADDRSTRLEN
);

168 
š6_addr
 
	gaddr
 = 
v6_add»ss
();

169 
size_t
 
	gËn
 = 
¢´štf
(&(
»suÉ
[0]),„esuÉ.
size
(), "%x:%x:%x:x:x:x:x:x",

170 (
addr
.
s6_addr
[0] << 8) +‡ddr.s6_addr[1],

171 (
addr
.
s6_addr
[2] << 8) +‡ddr.s6_addr[3],

172 (
addr
.
s6_addr
[4] << 8) +‡ddr.s6_addr[5]);

173 
	g»suÉ
.
»size
(
Ën
);

174  
	g»suÉ
;

177  
	g¡d
::
¡ršg
();

181 
IPAdd»ss
 
	gIPAdd»ss
::
NÜm®ized
() const {

182 ià(
çmy_
 !ğ
AF_INET6
) {

183  *
this
;

185 ià(!
IPIsV4M­³d
(*
this
)) {

186  *
	gthis
;

188 
š_addr
 
	gaddr
 = 
ExŒaùM­³dAdd»ss
(
u_
.
6
);

189  
IPAdd»ss
(
addr
);

192 
IPAdd»ss
 
	gIPAdd»ss
::
AsIPv6Add»ss
() const {

193 ià(
çmy_
 !ğ
AF_INET
) {

194  *
this
;

196 
š6_addr
 
	gv6addr
 = 
kV4M­³dP»fix
;

197 ::
memıy
(&
v6addr
.
s6_addr
[12], &
u_
.
4
.
s_addr
, (u_.ip4.s_addr));

198  
IPAdd»ss
(
v6addr
);

201 
boŞ
 
	gIÁ”çûAdd»ss
::
İ”©Ü
==(cÚ¡ 
IÁ”çûAdd»ss
& 
Ùh”
) const {

202  
v6_æags_
 =ğ
Ùh”
.
v6_æags
() &&

203 
¡©ic_ÿ¡
<cÚ¡ 
IPAdd»ss
&>(*
this
è=ğ
Ùh”
;

206 
boŞ
 
	gIÁ”çûAdd»ss
::
İ”©Ü
!=(cÚ¡ 
IÁ”çûAdd»ss
& 
Ùh”
) const {

207  !((*
this
è=ğ
Ùh”
);

210 cÚ¡ 
	gIÁ”çûAdd»ss
& IÁ”çûAdd»ss::
İ”©Ü
=(

211 cÚ¡ 
IÁ”çûAdd»ss
& 
Ùh”
) {

212 
v6_æags_
 = 
Ùh”
.ipv6_flags_;

213 
	g¡©ic_ÿ¡
<
	gIPAdd»ss
&>(*
	gthis
èğ
Ùh”
;

214  *
	gthis
;

217 
	g¡d
::
¡ršg
 
IÁ”çûAdd»ss
::
ToSŒšg
() const {

218 
¡d
::
¡ršg
 
»suÉ
 = 
IPAdd»ss
::
ToSŒšg
();

220 ià(
çmy
(è=ğ
AF_INET6
)

221 
»suÉ
 +ğ"|æags:0x" + 
¹c
::
ToHex
(
v6_æags
());

223  
	g»suÉ
;

226 
boŞ
 
IPIsPriv©eN‘wÜkV4
(cÚ¡ 
IPAdd»ss
& 

) {

227 
ušt32_t
 
	g_š_ho¡_Üd”
 = 

.
v4Add»ssAsHo¡Ord”IÁeg”
();

228  ((
	g_š_ho¡_Üd”
 >> 24) == 10) ||

229 ((
_š_ho¡_Üd”
 >> 20) == ((172 << 4) | 1)) ||

230 ((
_š_ho¡_Üd”
 >> 16) == ((192 << 8) | 168));

233 
boŞ
 
IPIsPriv©eN‘wÜkV6
(cÚ¡ 
IPAdd»ss
& 

) {

234  
IPIsH–³r
(

, 
kPriv©eN‘wÜkP»fix
, 8);

237 
boŞ
 
IPIsPriv©eN‘wÜk
(cÚ¡ 
IPAdd»ss
& 

) {

238 
	g
.
çmy
()) {

239 
	gAF_INET
: {

240  
IPIsPriv©eN‘wÜkV4
(

);

242 
	gAF_INET6
: {

243  
IPIsPriv©eN‘wÜkV6
(

);

246  
	gçl£
;

249 
boŞ
 
IPIsSh¬edN‘wÜkV4
(cÚ¡ 
IPAdd»ss
& 

) {

250 
ušt32_t
 
	g_š_ho¡_Üd”
 = 

.
v4Add»ssAsHo¡Ord”IÁeg”
();

251  (
	g_š_ho¡_Üd”
 >> 22) == ((100 << 2) | 1);

254 
boŞ
 
IPIsSh¬edN‘wÜk
(cÚ¡ 
IPAdd»ss
& 

) {

255 ià(
	g
.
çmy
(è=ğ
AF_INET
) {

256  
IPIsSh¬edN‘wÜkV4
(

);

258  
	gçl£
;

261 
š_addr
 
ExŒaùM­³dAdd»ss
(cÚ¡ 
š6_addr
& 
š6
) {

262 
š_addr
 
	gv4
;

263 ::
memıy
(&
v4
.
s_addr
, &
š6
.
s6_addr
[12], (ipv4.s_addr));

264  
	gv4
;

267 
boŞ
 
IPFromAddrInfo
(
addršfo
* 
šfo
, 
IPAdd»ss
* 
out
) {

268 ià(!
	gšfo
 || !šfo->
	gai_addr
) {

269  
	gçl£
;

271 ià(
	gšfo
->
	gai_addr
->
	g§_çmy
 =ğ
AF_INET
) {

272 
sockaddr_š
* 
addr
 = 
»š‹½»t_ÿ¡
<sockaddr_š*>(
šfo
->
ai_addr
);

273 *
	gout
 = 
IPAdd»ss
(
addr
->
sš_addr
);

274  
	gŒue
;

275 } ià(
	gšfo
->
	gai_addr
->
	g§_çmy
 =ğ
AF_INET6
) {

276 
sockaddr_š6
* 
addr
 = 
»š‹½»t_ÿ¡
<sockaddr_š6*>(
šfo
->
ai_addr
);

277 *
	gout
 = 
IPAdd»ss
(
addr
->
sš6_addr
);

278  
	gŒue
;

280  
	gçl£
;

283 
boŞ
 
IPFromSŒšg
(cÚ¡ 
¡d
::
¡ršg
& 
¡r
, 
IPAdd»ss
* 
out
) {

284 ià(!
	gout
) {

285  
	gçl£
;

287 
š_addr
 
	gaddr
;

288 ià(
	g¹c
::
š‘_±Ú
(
AF_INET
, 
¡r
.
c_¡r
(), &
addr
) == 0) {

289 
š6_addr
 
addr6
;

290 ià(
	g¹c
::
š‘_±Ú
(
AF_INET6
, 
¡r
.
c_¡r
(), &
addr6
) == 0) {

291 *
out
 = 
IPAdd»ss
();

292  
	gçl£
;

294 *
	gout
 = 
IPAdd»ss
(
addr6
);

296 *
	gout
 = 
IPAdd»ss
(
addr
);

298  
	gŒue
;

301 
boŞ
 
IPFromSŒšg
(cÚ¡ 
¡d
::
¡ršg
& 
¡r
, 
æags
, 
IÁ”çûAdd»ss
* 
out
) {

302 
IPAdd»ss
 
	g
;

303 ià(!
IPFromSŒšg
(
¡r
, &

)) {

304  
	gçl£
;

307 *
	gout
 = 
IÁ”çûAdd»ss
(

, 
æags
);

308  
	gŒue
;

311 
boŞ
 
IPIsAny
(cÚ¡ 
IPAdd»ss
& 

) {

312 
	g
.
çmy
()) {

313 
	gAF_INET
:

314  

 =ğ
IPAdd»ss
(
INADDR_ANY
);

315 
	gAF_INET6
:

316  

 =ğ
IPAdd»ss
(
š6addr_ªy
è|| i°=ğIPAdd»ss(
kV4M­³dP»fix
);

317 
	gAF_UNSPEC
:

318  
çl£
;

320  
	gçl£
;

323 
boŞ
 
IPIsLoİbackV4
(cÚ¡ 
IPAdd»ss
& 

) {

324 
ušt32_t
 
	g_š_ho¡_Üd”
 = 

.
v4Add»ssAsHo¡Ord”IÁeg”
();

325  ((
	g_š_ho¡_Üd”
 >> 24) == 127);

328 
boŞ
 
IPIsLoİbackV6
(cÚ¡ 
IPAdd»ss
& 

) {

329  
	g
 =ğ
IPAdd»ss
(
š6addr_loİback
);

332 
boŞ
 
IPIsLoİback
(cÚ¡ 
IPAdd»ss
& 

) {

333 
	g
.
çmy
()) {

334 
	gAF_INET
: {

335  
IPIsLoİbackV4
(

);

337 
	gAF_INET6
: {

338  
IPIsLoİbackV6
(

);

341  
	gçl£
;

344 
boŞ
 
IPIsPriv©e
(cÚ¡ 
IPAdd»ss
& 

) {

345  
IPIsLškLoÿl
(

è|| 
IPIsLoİback
(è|| 
IPIsPriv©eN‘wÜk
(ip) ||

346 
IPIsSh¬edN‘wÜk
(

);

349 
boŞ
 
IPIsUn¥ec
(cÚ¡ 
IPAdd»ss
& 

) {

350  
	g
.
çmy
(è=ğ
AF_UNSPEC
;

353 
size_t
 
HashIP
(cÚ¡ 
IPAdd»ss
& 

) {

354 
	g
.
çmy
()) {

355 
	gAF_INET
: {

356  

.
v4_add»ss
().
s_addr
;

358 
	gAF_INET6
: {

359 
š6_addr
 
v6addr
 = 

.
v6_add»ss
();

360 cÚ¡ 
ušt32_t
* 
	gv6_as_šts
 =

361 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt32_t
*>(&
v6addr
.
s6_addr
);

362  
	gv6_as_šts
[0] ^ v6_as_ints[1] ^ v6_as_ints[2] ^ v6_as_ints[3];

368 
IPAdd»ss
 
Trunÿ‹IP
(cÚ¡ IPAdd»ss& 

, 
Ëngth
) {

369 ià(
	gËngth
 < 0) {

370  
IPAdd»ss
();

372 ià(
	g
.
çmy
(è=ğ
AF_INET
) {

373 ià(
Ëngth
 > 31) {

374  

;

376 ià(
	gËngth
 == 0) {

377  
IPAdd»ss
(
INADDR_ANY
);

379 
	gmask
 = (0xFFFFFFFF << (32 - 
Ëngth
));

380 
ušt32_t
 
	gho¡_Üd”_
 = 
N‘wÜkToHo¡32
(

.
v4_add»ss
().
s_addr
);

381 
š_addr
 
	gmasked
;

382 
	gmasked
.
	gs_addr
 = 
Ho¡ToN‘wÜk32
(
ho¡_Üd”_
 & 
mask
);

383  
IPAdd»ss
(
masked
);

384 } ià(
	g
.
çmy
(è=ğ
AF_INET6
) {

385 ià(
Ëngth
 > 127) {

386  

;

388 ià(
	gËngth
 == 0) {

389  
IPAdd»ss
(
š6addr_ªy
);

391 
š6_addr
 
	gv6addr
 = 

.
v6_add»ss
();

392 
	gpos™iÚ
 = 
Ëngth
 / 32;

393 
	gšÃr_Ëngth
 = 32 - (
Ëngth
 - (
pos™iÚ
 * 32));

395 
ušt32_t
 
	gšÃr_mask
 = 0xFFFFFFFFLL << 
šÃr_Ëngth
;

396 
ušt32_t
* 
	gv6_as_šts
 = 
»š‹½»t_ÿ¡
<ušt32_t*>(&
v6addr
.
s6_addr
);

397 
	gi
 = 0; i < 4; ++i) {

398 ià(
	gi
 =ğ
pos™iÚ
) {

399 
ušt32_t
 
ho¡_Üd”_šÃr
 = 
N‘wÜkToHo¡32
(
v6_as_šts
[
i
]);

400 
	gv6_as_šts
[
i
] = 
Ho¡ToN‘wÜk32
(
ho¡_Üd”_šÃr
 & 
šÃr_mask
);

401 } ià(
	gi
 > 
	gpos™iÚ
) {

402 
	gv6_as_šts
[
i
] = 0;

405  
IPAdd»ss
(
v6addr
);

407  
IPAdd»ss
();

410 
CouÁIPMaskB™s
(cÚ¡ 
IPAdd»ss
& 
mask
) {

411 
ušt32_t
 
	gwÜd_to_couÁ
 = 0;

412 
	gb™s
 = 0;

413 
	gmask
.
çmy
()) {

414 
	gAF_INET
: {

415 
wÜd_to_couÁ
 = 
N‘wÜkToHo¡32
(
mask
.
v4_add»ss
().
s_addr
);

418 
	gAF_INET6
: {

419 
š6_addr
 
v6addr
 = 
mask
.
v6_add»ss
();

420 cÚ¡ 
ušt32_t
* 
	gv6_as_šts
 =

421 
»š‹½»t_ÿ¡
<cÚ¡ 
ušt32_t
*>(&
v6addr
.
s6_addr
);

422 
	gi
 = 0;

423 ; 
	gi
 < 4; ++i) {

424 ià(
	gv6_as_šts
[
i
] != 0xFFFFFFFF) {

428 ià(
	gi
 < 4) {

429 
	gwÜd_to_couÁ
 = 
N‘wÜkToHo¡32
(
v6_as_šts
[
i
]);

431 
	gb™s
 = (
i
 * 32);

438 ià(
	gwÜd_to_couÁ
 == 0) {

439  
b™s
;

445 
	gz”Ûs
 = 32;

448 
	gwÜd_to_couÁ
 &ğ~
wÜd_to_couÁ
 + 1;

449 ià(
	gwÜd_to_couÁ
)

450 
	gz”Ûs
--;

451 ià(
	gwÜd_to_couÁ
 & 0x0000FFFF)

452 
	gz”Ûs
 -= 16;

453 ià(
	gwÜd_to_couÁ
 & 0x00FF00FF)

454 
	gz”Ûs
 -= 8;

455 ià(
	gwÜd_to_couÁ
 & 0x0F0F0F0F)

456 
	gz”Ûs
 -= 4;

457 ià(
	gwÜd_to_couÁ
 & 0x33333333)

458 
	gz”Ûs
 -= 2;

459 ià(
	gwÜd_to_couÁ
 & 0x55555555)

460 
	gz”Ûs
 -= 1;

462  
	gb™s
 + (32 - 
	gz”Ûs
);

465 
boŞ
 
IPIsH–³r
(cÚ¡ 
IPAdd»ss
& 

, cÚ¡ 
š6_addr
& 
tom©ch
, 
Ëngth
) {

468 
š6_addr
 
	gaddr
 = 

.
v6_add»ss
();

469  ::
memcmp
(&
addr
, &
tom©ch
, (
Ëngth
 >> 3)) == 0;

472 
boŞ
 
IPIs6BÚe
(cÚ¡ 
IPAdd»ss
& 

) {

473  
IPIsH–³r
(

, 
k6BÚeP»fix
, 16);

476 
boŞ
 
IPIs6To4
(cÚ¡ 
IPAdd»ss
& 

) {

477  
IPIsH–³r
(

, 
k6To4P»fix
, 16);

480 
boŞ
 
IPIsLškLoÿlV4
(cÚ¡ 
IPAdd»ss
& 

) {

481 
ušt32_t
 
	g_š_ho¡_Üd”
 = 

.
v4Add»ssAsHo¡Ord”IÁeg”
();

482  ((
	g_š_ho¡_Üd”
 >> 16) == ((169 << 8) | 254));

485 
boŞ
 
IPIsLškLoÿlV6
(cÚ¡ 
IPAdd»ss
& 

) {

487 
š6_addr
 
	gaddr
 = 

.
v6_add»ss
();

488  (
	gaddr
.
	gs6_addr
[0] =ğ0xFEè&& ((
addr
.
s6_addr
[1] & 0xC0) == 0x80);

491 
boŞ
 
IPIsLškLoÿl
(cÚ¡ 
IPAdd»ss
& 

) {

492 
	g
.
çmy
()) {

493 
	gAF_INET
: {

494  
IPIsLškLoÿlV4
(

);

496 
	gAF_INET6
: {

497  
IPIsLškLoÿlV6
(

);

500  
	gçl£
;

506 
boŞ
 
IPIsMacBa£d
(cÚ¡ 
IPAdd»ss
& 

) {

507 
š6_addr
 
	gaddr
 = 

.
v6_add»ss
();

508  ((
	gaddr
.
	gs6_addr
[8] & 0x02) &&‡ddr.s6_addr[11] == 0xFF &&

509 
addr
.
s6_addr
[12] == 0xFE);

512 
boŞ
 
IPIsS™eLoÿl
(cÚ¡ 
IPAdd»ss
& 

) {

514 
š6_addr
 
	gaddr
 = 

.
v6_add»ss
();

515  
	gaddr
.
	gs6_addr
[0] =ğ0xFE && (
addr
.
s6_addr
[1] & 0xC0) == 0xC0;

518 
boŞ
 
IPIsULA
(cÚ¡ 
IPAdd»ss
& 

) {

520 
š6_addr
 
	gaddr
 = 

.
v6_add»ss
();

521  (
	gaddr
.
	gs6_addr
[0] & 0xFE) == 0xFC;

524 
boŞ
 
IPIsT”edo
(cÚ¡ 
IPAdd»ss
& 

) {

525  
IPIsH–³r
(

, 
kT”edoP»fix
, 32);

528 
boŞ
 
IPIsV4Com·tib™y
(cÚ¡ 
IPAdd»ss
& 

) {

529  
IPIsH–³r
(

, 
kV4Com·tib™yP»fix
, 96);

532 
boŞ
 
IPIsV4M­³d
(cÚ¡ 
IPAdd»ss
& 

) {

533  
IPIsH–³r
(

, 
kV4M­³dP»fix
, 96);

536 
IPAdd»ssP»ûd’û
(cÚ¡ 
IPAdd»ss
& 

) {

538 ià(
	g
.
çmy
(è=ğ
AF_INET
) {

540 } ià(
	g
.
çmy
(è=ğ
AF_INET6
) {

541 ià(
IPIsLoİback
(

)) {

543 } ià(
IPIsULA
(

)) {

545 } ià(
IPIsV4M­³d
(

)) {

547 } ià(
IPIs6To4
(

)) {

549 } ià(
IPIsT”edo
(

)) {

551 } ià(
IPIsV4Com·tib™y
(

è|| 
IPIsS™eLoÿl
(è|| 
IPIs6BÚe
(ip)) {

561 
IPAdd»ss
 
G‘LoİbackIP
(
çmy
) {

562 ià(
	gçmy
 =ğ
AF_INET
) {

563  
¹c
::
IPAdd»ss
(
INADDR_LOOPBACK
);

565 ià(
	gçmy
 =ğ
AF_INET6
) {

566  
¹c
::
IPAdd»ss
(
š6addr_loİback
);

568  
	g¹c
::
IPAdd»ss
();

571 
IPAdd»ss
 
G‘AnyIP
(
çmy
) {

572 ià(
	gçmy
 =ğ
AF_INET
) {

573  
¹c
::
IPAdd»ss
(
INADDR_ANY
);

575 ià(
	gçmy
 =ğ
AF_INET6
) {

576  
¹c
::
IPAdd»ss
(
š6addr_ªy
);

578  
	g¹c
::
IPAdd»ss
();

	@ip_address.h

11 #iâdeà
RTC_BASE_IP_ADDRESS_H_


12 
	#RTC_BASE_IP_ADDRESS_H_


	)

14 #ià
defšed
(
WEBRTC_POSIX
)

15 
	~<¬·/š‘.h
>

16 
	~<Ãtdb.h
>

17 
	~<Ãtš‘/š.h
>

18 
	~<sys/sock‘.h
>

20 #ià
defšed
(
WEBRTC_WIN
)

21 
	~<wšsock2.h
>

22 
	~<ws2tı.h
>

24 
	~<¡ršg.h
>

26 
	~<¡ršg
>

28 
	~"¹c_ba£/by‹_Üd”.h
"

29 #ià
defšed
(
WEBRTC_WIN
)

30 
	~"¹c_ba£/wš32.h
"

32 
	~"¹c_ba£/sy¡em/¹c_expÜt.h
"

34 
Çme¥aû
 
	g¹c
 {

36 
	eIPv6Add»ssFÏg
 {

37 
	gIPV6_ADDRESS_FLAG_NONE
 = 0x00,

41 
	gIPV6_ADDRESS_FLAG_TEMPORARY
 = 1 << 0,

46 
	gIPV6_ADDRESS_FLAG_DEPRECATED
 = 1 << 1,

50 şas 
	cRTC_EXPORT
 
	gIPAdd»ss
 {

51 
	gpublic
:

52 
IPAdd»ss
(è: 
çmy_
(
AF_UNSPEC
è{ ::
mem£t
(&
u_
, 0, (u_)); }

54 
ex¶ic™
 
IPAdd»ss
(cÚ¡ 
š_addr
& 
4
è: 
çmy_
(
AF_INET
) {

55 
mem£t
(&
u_
, 0, (u_));

56 
	gu_
.
	g4
 = 
4
;

59 
ex¶ic™
 
IPAdd»ss
(cÚ¡ 
š6_addr
& 
6
è: 
çmy_
(
AF_INET6
è{ 
u_
.ip6 = ip6; }

61 
ex¶ic™
 
IPAdd»ss
(
ušt32_t
 
_š_ho¡_by‹_Üd”
è: 
çmy_
(
AF_INET
) {

62 
mem£t
(&
u_
, 0, (u_));

63 
	gu_
.
	g4
.
	gs_addr
 = 
Ho¡ToN‘wÜk32
(
_š_ho¡_by‹_Üd”
);

66 
IPAdd»ss
(cÚ¡ IPAdd»ss& 
Ùh”
è: 
çmy_
(other.family_) {

67 ::
memıy
(&
u_
, &
Ùh”
.u_, (u_));

70 
	gvœtu®
 ~
IPAdd»ss
() {}

72 cÚ¡ 
	gIPAdd»ss
& 
	gİ”©Ü
=(cÚ¡ 
IPAdd»ss
& 
Ùh”
) {

73 
çmy_
 = 
Ùh”
.family_;

74 ::
memıy
(&
u_
, &
Ùh”
.u_, (u_));

75  *
	gthis
;

78 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
IPAdd»ss
& 
Ùh”
) const;

79 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
IPAdd»ss
& 
Ùh”
) const;

80 
boŞ
 
	gİ”©Ü
<(cÚ¡ 
	gIPAdd»ss
& 
	gÙh”
) const;

81 
boŞ
 
	gİ”©Ü
>(cÚ¡ 
	gIPAdd»ss
& 
	gÙh”
) const;

83 #ifdeà
UNIT_TEST


84 
šlše
 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(

85 
¡d
::
o¡»am
& 
os
) {

86  
os
 << 
ToSŒšg
();

90 
çmy
(ècÚ¡ {  
	gçmy_
; }

91 
š_addr
 
v4_add»ss
() const;

92 
š6_addr
 
v6_add»ss
() const;

95 
size_t
 
Size
() const;

98 
	g¡d
::
¡ršg
 
ToSŒšg
() const;

101 
	g¡d
::
¡ršg
 
ToS’s™iveSŒšg
() const;

105 
IPAdd»ss
 
NÜm®ized
() const;

109 
IPAdd»ss
 
AsIPv6Add»ss
() const;

112 
ušt32_t
 
v4Add»ssAsHo¡Ord”IÁeg”
() const;

115 
ov”h—d
() const;

118 
boŞ
 
IsN
() const;

120 
	g´iv©e
:

121 
çmy_
;

123 
š_addr
 
	g4
;

124 
š6_addr
 
	g6
;

125 } 
	gu_
;

130 şas 
	cRTC_EXPORT
 
	gIÁ”çûAdd»ss
 : 
public
 
IPAdd»ss
 {

131 
public
:

132 
IÁ”çûAdd»ss
(è: 
v6_æags_
(
IPV6_ADDRESS_FLAG_NONE
) {}

134 
ex¶ic™
 
IÁ”çûAdd»ss
(
IPAdd»ss
 

)

135 : 
IPAdd»ss
(

), 
v6_æags_
(
IPV6_ADDRESS_FLAG_NONE
) {}

137 
IÁ”çûAdd»ss
(
IPAdd»ss
 
addr
, 
v6_æags
)

138 : 
IPAdd»ss
(
addr
), 
v6_æags_
(
v6_æags
) {}

140 
IÁ”çûAdd»ss
(cÚ¡ 
š6_addr
& 
6
, 
v6_æags
)

141 : 
IPAdd»ss
(
6
), 
v6_æags_
(
v6_æags
) {}

143 
IÁ”çûAdd»ss
(cÚ¡ IÁ”çûAdd»ss& 
Ùh”
) = ;

144 cÚ¡ 
	gIÁ”çûAdd»ss
& 
	gİ”©Ü
=(cÚ¡ 
IÁ”çûAdd»ss
& 
Ùh”
);

146 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
IÁ”çûAdd»ss
& 
Ùh”
) const;

147 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
IÁ”çûAdd»ss
& 
Ùh”
) const;

149 
v6_æags
(ècÚ¡ {  
	gv6_æags_
; }

151 
	g¡d
::
¡ršg
 
ToSŒšg
() const;

153 
	g´iv©e
:

154 
v6_æags_
;

157 
boŞ
 
IPFromAddrInfo
(
addršfo
* 
šfo
, 
IPAdd»ss
* 
out
);

158 
RTC_EXPORT
 
boŞ
 
IPFromSŒšg
(cÚ¡ 
¡d
::
¡ršg
& 
¡r
, 
IPAdd»ss
* 
out
);

159 
RTC_EXPORT
 
boŞ
 
IPFromSŒšg
(cÚ¡ 
¡d
::
¡ršg
& 
¡r
,

160 
æags
,

161 
IÁ”çûAdd»ss
* 
out
);

162 
boŞ
 
IPIsAny
(cÚ¡ 
IPAdd»ss
& 

);

163 
boŞ
 
IPIsLoİback
(cÚ¡ 
IPAdd»ss
& 

);

164 
boŞ
 
IPIsLškLoÿl
(cÚ¡ 
IPAdd»ss
& 

);

167 
boŞ
 
IPIsPriv©eN‘wÜk
(cÚ¡ 
IPAdd»ss
& 

);

170 
boŞ
 
IPIsSh¬edN‘wÜk
(cÚ¡ 
IPAdd»ss
& 

);

174 
RTC_EXPORT
 
boŞ
 
IPIsPriv©e
(cÚ¡ 
IPAdd»ss
& 

);

175 
boŞ
 
IPIsUn¥ec
(cÚ¡ 
IPAdd»ss
& 

);

176 
size_t
 
HashIP
(cÚ¡ 
IPAdd»ss
& 

);

179 
boŞ
 
IPIs6BÚe
(cÚ¡ 
IPAdd»ss
& 

);

180 
boŞ
 
IPIs6To4
(cÚ¡ 
IPAdd»ss
& 

);

181 
RTC_EXPORT
 
boŞ
 
IPIsMacBa£d
(cÚ¡ 
IPAdd»ss
& 

);

182 
boŞ
 
IPIsS™eLoÿl
(cÚ¡ 
IPAdd»ss
& 

);

183 
boŞ
 
IPIsT”edo
(cÚ¡ 
IPAdd»ss
& 

);

184 
boŞ
 
IPIsULA
(cÚ¡ 
IPAdd»ss
& 

);

185 
boŞ
 
IPIsV4Com·tib™y
(cÚ¡ 
IPAdd»ss
& 

);

186 
boŞ
 
IPIsV4M­³d
(cÚ¡ 
IPAdd»ss
& 

);

189 
IPAdd»ssP»ûd’û
(cÚ¡ 
IPAdd»ss
& 

);

192 
RTC_EXPORT
 
IPAdd»ss
 
Trunÿ‹IP
(cÚ¡ IPAdd»ss& 

, 
Ëngth
);

194 
IPAdd»ss
 
G‘LoİbackIP
(
çmy
);

195 
IPAdd»ss
 
G‘AnyIP
(
çmy
);

200 
CouÁIPMaskB™s
(cÚ¡ 
IPAdd»ss
& 
mask
);

	@ip_address_unittest.cc

11 
	~"¹c_ba£/_add»ss.h
"

13 
	~"‹¡/g‹¡.h
"

15 
Çme¥aû
 
	g¹c
 {

17 cÚ¡ 
	gkIPv4AddrSize
 = 4;

18 cÚ¡ 
	gkIPv6AddrSize
 = 16;

19 cÚ¡ 
	gkIPv4RFC1918Addr
 = 0xC0A80701;

20 cÚ¡ 
	gkIPv4PublicAddr
 = 0x01020304;

21 cÚ¡ 
	gkIPv4RFC6598Addr
 = 0x64410801;

22 cÚ¡ 
	gkIPv4LškLoÿlAddr
 = 0xA9FE10C1;

23 cÚ¡ 
š6_addr
 
	gkIPv6LškLoÿlAddr
 = {

26 cÚ¡ 
š6_addr
 
	gkIPv6PublicAddr
 = {

29 cÚ¡ 
š6_addr
 
	gkIPv6PublicAddr2
 = {

32 cÚ¡ 
š6_addr
 
	gkIPv4M­³dAnyAddr
 = {

35 cÚ¡ 
š6_addr
 
	gkIPv4M­³dRFC1918Addr
 = {

38 cÚ¡ 
š6_addr
 
	gkIPv4M­³dPublicAddr
 = {

42 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv4AnyAddrSŒšg
 = "0.0.0.0";

43 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv4LoİbackAddrSŒšg
 = "127.0.0.1";

44 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv4RFC1918AddrSŒšg
 = "192.168.7.1";

45 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv4RFC6598AddrSŒšg
 = "100.65.8.1";

46 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv4PublicAddrSŒšg
 = "1.2.3.4";

47 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv4PublicAddrAnÚymizedSŒšg
 = "1.2.3.x";

48 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv6AnyAddrSŒšg
 = "::";

49 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv6LoİbackAddrSŒšg
 = "::1";

50 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv6LškLoÿlAddrSŒšg
 = "fe80::be30:5bff:fee5:c3";

51 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv6EuiAddrSŒšg
 =

53 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv6TempÜ¬yAddrSŒšg
 =

55 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv6PublicAddrSŒšg
 =

57 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv6PublicAddr2SŒšg
 =

59 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv6PublicAddrAnÚymizedSŒšg
 =

61 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv6PublicAddr2AnÚymizedSŒšg
 =

63 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv4M­³dAnyAddrSŒšg
 = "::ffff:0:0";

64 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv4M­³dRFC1918AddrSŒšg
 = "::ffff:c0a8:701";

65 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv4M­³dLoİbackAddrSŒšg
 = "::ffff:7f00:1";

66 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv4M­³dPublicAddrSŒšg
 = "::ffff:102:0304";

67 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv4M­³dV4StyËAddrSŒšg
 = "::ffff:192.168.7.1";

69 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv4Brok’SŒšg1
 = "192.168.7.";

70 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv4Brok’SŒšg2
 = "192.168.7.1.1";

71 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv4Brok’SŒšg3
 = "192.168.7.1:80";

72 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv4Brok’SŒšg4
 = "192.168.7.ONE";

73 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv4Brok’SŒšg5
 = "-192.168.7.1";

74 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv4Brok’SŒšg6
 = "256.168.7.1";

75 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv6Brok’SŒšg1
 = "2401:fa00:4:1000:be30";

76 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv6Brok’SŒšg2
 =

78 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv6Brok’SŒšg3
 =

80 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv6Brok’SŒšg4
 = "2401::4::be30";

81 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv6Brok’SŒšg5
 = "2401:::4:fee5:be30";

82 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv6Brok’SŒšg6
 =

84 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv6Brok’SŒšg7
 =

86 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv6Brok’SŒšg8
 =

88 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv6Brok’SŒšg9
 =

90 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv6Brok’SŒšg10
 = "::ffff:192.168.7.";

91 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv6Brok’SŒšg11
 = "::ffff:192.168.7.1.1.1";

92 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv6Brok’SŒšg12
 = "::fffe:192.168.7.1";

93 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv6Brok’SŒšg13
 = "::ffff:192.168.7.ff";

94 cÚ¡ 
	g¡d
::
¡ršg
 
kIPv6Brok’SŒšg14
 =

97 
boŞ
 
A»Equ®
(cÚ¡ 
IPAdd»ss
& 
addr
, cÚ¡ IPAdd»ss& 
addr2
) {

98 ià((
IPIsAny
(
addr
è!ğIPIsAny(
addr2
)) ||

99 (
IPIsLoİback
(
addr
è!ğIPIsLoİback(
addr2
)) ||

100 (
IPIsPriv©e
(
addr
è!ğIPIsPriv©e(
addr2
)) ||

101 (
HashIP
(
addr
è!ğHashIP(
addr2
)è|| (addr.
Size
() !=‡ddr2.Size()) ||

102 (
addr
.
çmy
(è!ğ
addr2
.family()) ||

103 (
addr
.
ToSŒšg
(è!ğ
addr2
.ToString())) {

104  
çl£
;

106 
š_addr
 
	gv4addr
, 
	gv4addr2
;

107 
	gv4addr
 = 
addr
.
v4_add»ss
();

108 
	gv4addr2
 = 
addr2
.
v4_add»ss
();

109 ià(0 !ğ
memcmp
(&
v4addr
, &
v4addr2
, (v4addr))) {

110  
	gçl£
;

112 
š6_addr
 
	gv6addr
, 
	gv6addr2
;

113 
	gv6addr
 = 
addr
.
v6_add»ss
();

114 
	gv6addr2
 = 
addr2
.
v6_add»ss
();

115 ià(0 !ğ
memcmp
(&
v6addr
, &
v6addr2
, (v6addr))) {

116  
	gçl£
;

118  
	gŒue
;

121 
boŞ
 
Brok’IPSŒšgFas
(cÚ¡ 
¡d
::
¡ršg
& 
brok’
) {

122 
IPAdd»ss
 
addr
(0);

123 ià(
IPFromSŒšg
(
kIPv4Brok’SŒšg1
, &
addr
)) {

124  
	gçl£
;

126  
	gaddr
.
çmy
(è=ğ
AF_UNSPEC
;

129 
boŞ
 
CheckMaskCouÁ
(cÚ¡ 
¡d
::
¡ršg
& 
mask
, 
ex³ùed_Ëngth
) {

130 
IPAdd»ss
 
	gaddr
;

131  
IPFromSŒšg
(
mask
, &
addr
) &&

132 (
	gex³ùed_Ëngth
 =ğ
CouÁIPMaskB™s
(
addr
));

135 
boŞ
 
TryInv®idMaskCouÁ
(cÚ¡ 
¡d
::
¡ršg
& 
mask
) {

138 
IPAdd»ss
 
addr
;

139 ià(!
IPFromSŒšg
(
mask
, &
addr
)) {

140  
	gçl£
;

142 
CouÁIPMaskB™s
(
addr
);

143  
	gŒue
;

146 
boŞ
 
CheckTrunÿ‹IP
(cÚ¡ 
¡d
::
¡ršg
& 
š™Ÿl
,

147 
Œunÿ‹_Ëngth
,

148 cÚ¡ 
¡d
::
¡ršg
& 
ex³ùed_»suÉ
) {

149 
IPAdd»ss
 
addr
, 
	gex³ùed
;

150 
IPFromSŒšg
(
š™Ÿl
, &
addr
);

151 
IPFromSŒšg
(
ex³ùed_»suÉ
, &
ex³ùed
);

152 
IPAdd»ss
 
	gŒunÿ‹d
 = 
Trunÿ‹IP
(
addr
, 
Œunÿ‹_Ëngth
);

153  
	gŒunÿ‹d
 =ğ
ex³ùed
;

156 
TEST
(
IPAdd»ssTe¡
, 
Te¡DeçuÉCtÜ
) {

157 
IPAdd»ss
 
	gaddr
;

158 
EXPECT_FALSE
(
IPIsAny
(
addr
));

159 
EXPECT_FALSE
(
IPIsLoİback
(
addr
));

160 
EXPECT_FALSE
(
IPIsPriv©e
(
addr
));

162 
EXPECT_EQ
(0U, 
addr
.
Size
());

163 
EXPECT_EQ
(
AF_UNSPEC
, 
addr
.
çmy
());

164 
EXPECT_EQ
("", 
addr
.
ToSŒšg
());

167 
TEST
(
IPAdd»ssTe¡
, 
Te¡InAddrCtÜ
) {

168 
š_addr
 
	gv4addr
;

171 
	gv4addr
.
	gs_addr
 = 
INADDR_ANY
;

172 
IPAdd»ss
 
addr
(
v4addr
);

173 
EXPECT_TRUE
(
IPIsAny
(
addr
));

174 
EXPECT_FALSE
(
IPIsLoİback
(
addr
));

175 
EXPECT_FALSE
(
IPIsPriv©e
(
addr
));

176 
EXPECT_EQ
(
kIPv4AddrSize
, 
addr
.
Size
());

177 
EXPECT_EQ
(
kIPv4AnyAddrSŒšg
, 
addr
.
ToSŒšg
());

180 
	gv4addr
.
	gs_addr
 = 
htÚl
(
INADDR_LOOPBACK
);

181 
	gaddr
 = 
IPAdd»ss
(
v4addr
);

182 
EXPECT_FALSE
(
IPIsAny
(
addr
));

183 
EXPECT_TRUE
(
IPIsLoİback
(
addr
));

184 
EXPECT_FALSE
(
IPIsSh¬edN‘wÜk
(
addr
));

185 
EXPECT_TRUE
(
IPIsPriv©e
(
addr
));

186 
EXPECT_EQ
(
kIPv4AddrSize
, 
addr
.
Size
());

187 
EXPECT_EQ
(
kIPv4LoİbackAddrSŒšg
, 
addr
.
ToSŒšg
());

190 
	gv4addr
.
	gs_addr
 = 
htÚl
(
kIPv4RFC1918Addr
);

191 
	gaddr
 = 
IPAdd»ss
(
v4addr
);

192 
EXPECT_FALSE
(
IPIsAny
(
addr
));

193 
EXPECT_FALSE
(
IPIsLoİback
(
addr
));

194 
EXPECT_FALSE
(
IPIsSh¬edN‘wÜk
(
addr
));

195 
EXPECT_TRUE
(
IPIsPriv©e
(
addr
));

196 
EXPECT_EQ
(
kIPv4AddrSize
, 
addr
.
Size
());

197 
EXPECT_EQ
(
kIPv4RFC1918AddrSŒšg
, 
addr
.
ToSŒšg
());

200 
	gv4addr
.
	gs_addr
 = 
htÚl
(
kIPv4RFC6598Addr
);

201 
	gaddr
 = 
IPAdd»ss
(
v4addr
);

202 
EXPECT_FALSE
(
IPIsAny
(
addr
));

203 
EXPECT_FALSE
(
IPIsLoİback
(
addr
));

204 
EXPECT_TRUE
(
IPIsPriv©e
(
addr
));

205 
EXPECT_TRUE
(
IPIsSh¬edN‘wÜk
(
addr
));

206 
EXPECT_EQ
(
kIPv4AddrSize
, 
addr
.
Size
());

207 
EXPECT_EQ
(
kIPv4RFC6598AddrSŒšg
, 
addr
.
ToSŒšg
());

210 
	gv4addr
.
	gs_addr
 = 
htÚl
(
kIPv4PublicAddr
);

211 
	gaddr
 = 
IPAdd»ss
(
v4addr
);

212 
EXPECT_FALSE
(
IPIsAny
(
addr
));

213 
EXPECT_FALSE
(
IPIsLoİback
(
addr
));

214 
EXPECT_FALSE
(
IPIsPriv©e
(
addr
));

215 
EXPECT_EQ
(
kIPv4AddrSize
, 
addr
.
Size
());

216 
EXPECT_EQ
(
kIPv4PublicAddrSŒšg
, 
addr
.
ToSŒšg
());

219 
TEST
(
IPAdd»ssTe¡
, 
Te¡InAddr6CtÜ
) {

221 
IPAdd»ss
 
addr
(
š6addr_ªy
);

222 
EXPECT_TRUE
(
IPIsAny
(
addr
));

223 
EXPECT_FALSE
(
IPIsLoİback
(
addr
));

224 
EXPECT_FALSE
(
IPIsPriv©e
(
addr
));

225 
EXPECT_EQ
(
kIPv6AddrSize
, 
addr
.
Size
());

226 
EXPECT_EQ
(
kIPv6AnyAddrSŒšg
, 
addr
.
ToSŒšg
());

229 
	gaddr
 = 
IPAdd»ss
(
š6addr_loİback
);

230 
EXPECT_FALSE
(
IPIsAny
(
addr
));

231 
EXPECT_TRUE
(
IPIsLoİback
(
addr
));

232 
EXPECT_FALSE
(
IPIsSh¬edN‘wÜk
(
addr
));

233 
EXPECT_TRUE
(
IPIsPriv©e
(
addr
));

234 
EXPECT_EQ
(
kIPv6AddrSize
, 
addr
.
Size
());

235 
EXPECT_EQ
(
kIPv6LoİbackAddrSŒšg
, 
addr
.
ToSŒšg
());

238 
	gaddr
 = 
IPAdd»ss
(
kIPv6LškLoÿlAddr
);

239 
EXPECT_FALSE
(
IPIsAny
(
addr
));

240 
EXPECT_FALSE
(
IPIsLoİback
(
addr
));

241 
EXPECT_FALSE
(
IPIsSh¬edN‘wÜk
(
addr
));

242 
EXPECT_TRUE
(
IPIsPriv©e
(
addr
));

243 
EXPECT_EQ
(
kIPv6AddrSize
, 
addr
.
Size
());

244 
EXPECT_EQ
(
kIPv6LškLoÿlAddrSŒšg
, 
addr
.
ToSŒšg
());

247 
	gaddr
 = 
IPAdd»ss
(
kIPv6PublicAddr
);

248 
EXPECT_FALSE
(
IPIsAny
(
addr
));

249 
EXPECT_FALSE
(
IPIsLoİback
(
addr
));

250 
EXPECT_FALSE
(
IPIsPriv©e
(
addr
));

251 
EXPECT_EQ
(
kIPv6AddrSize
, 
addr
.
Size
());

252 
EXPECT_EQ
(
kIPv6PublicAddrSŒšg
, 
addr
.
ToSŒšg
());

255 
TEST
(
IPAdd»ssTe¡
, 
Te¡Ušt32CtÜ
) {

257 
IPAdd»ss
 
addr
(0);

258 
EXPECT_TRUE
(
IPIsAny
(
addr
));

259 
EXPECT_FALSE
(
IPIsLoİback
(
addr
));

260 
EXPECT_FALSE
(
IPIsPriv©e
(
addr
));

261 
EXPECT_EQ
(
kIPv4AddrSize
, 
addr
.
Size
());

262 
EXPECT_EQ
(
kIPv4AnyAddrSŒšg
, 
addr
.
ToSŒšg
());

265 
	gaddr
 = 
IPAdd»ss
(
INADDR_LOOPBACK
);

266 
EXPECT_FALSE
(
IPIsAny
(
addr
));

267 
EXPECT_TRUE
(
IPIsLoİback
(
addr
));

268 
EXPECT_FALSE
(
IPIsSh¬edN‘wÜk
(
addr
));

269 
EXPECT_TRUE
(
IPIsPriv©e
(
addr
));

270 
EXPECT_EQ
(
kIPv4AddrSize
, 
addr
.
Size
());

271 
EXPECT_EQ
(
kIPv4LoİbackAddrSŒšg
, 
addr
.
ToSŒšg
());

274 
	gaddr
 = 
IPAdd»ss
(
kIPv4RFC1918Addr
);

275 
EXPECT_FALSE
(
IPIsAny
(
addr
));

276 
EXPECT_FALSE
(
IPIsLoİback
(
addr
));

277 
EXPECT_FALSE
(
IPIsSh¬edN‘wÜk
(
addr
));

278 
EXPECT_TRUE
(
IPIsPriv©e
(
addr
));

279 
EXPECT_EQ
(
kIPv4AddrSize
, 
addr
.
Size
());

280 
EXPECT_EQ
(
kIPv4RFC1918AddrSŒšg
, 
addr
.
ToSŒšg
());

283 
	gaddr
 = 
IPAdd»ss
(
kIPv4PublicAddr
);

284 
EXPECT_FALSE
(
IPIsAny
(
addr
));

285 
EXPECT_FALSE
(
IPIsLoİback
(
addr
));

286 
EXPECT_FALSE
(
IPIsPriv©e
(
addr
));

287 
EXPECT_EQ
(
kIPv4AddrSize
, 
addr
.
Size
());

288 
EXPECT_EQ
(
kIPv4PublicAddrSŒšg
, 
addr
.
ToSŒšg
());

291 
TEST
(
IPAdd»ssTe¡
, 
Te¡CİyCtÜ
) {

292 
š_addr
 
	gv4addr
;

293 
	gv4addr
.
	gs_addr
 = 
htÚl
(
kIPv4PublicAddr
);

294 
IPAdd»ss
 
addr
(
v4addr
);

295 
IPAdd»ss
 
addr2
(
addr
);

297 
EXPECT_TRUE
(
A»Equ®
(
addr
, 
addr2
));

299 
	gaddr
 = 
IPAdd»ss
(
INADDR_ANY
);

300 
	gaddr2
 = 
IPAdd»ss
(
addr
);

301 
EXPECT_TRUE
(
A»Equ®
(
addr
, 
addr2
));

303 
	gaddr
 = 
IPAdd»ss
(
INADDR_LOOPBACK
);

304 
	gaddr2
 = 
IPAdd»ss
(
addr
);

305 
EXPECT_TRUE
(
A»Equ®
(
addr
, 
addr2
));

307 
	gaddr
 = 
IPAdd»ss
(
kIPv4PublicAddr
);

308 
	gaddr2
 = 
IPAdd»ss
(
addr
);

309 
EXPECT_TRUE
(
A»Equ®
(
addr
, 
addr2
));

311 
	gaddr
 = 
IPAdd»ss
(
kIPv4RFC1918Addr
);

312 
	gaddr2
 = 
IPAdd»ss
(
addr
);

313 
EXPECT_TRUE
(
A»Equ®
(
addr
, 
addr2
));

315 
	gaddr
 = 
IPAdd»ss
(
š6addr_ªy
);

316 
	gaddr2
 = 
IPAdd»ss
(
addr
);

317 
EXPECT_TRUE
(
A»Equ®
(
addr
, 
addr2
));

319 
	gaddr
 = 
IPAdd»ss
(
š6addr_loİback
);

320 
	gaddr2
 = 
IPAdd»ss
(
addr
);

321 
EXPECT_TRUE
(
A»Equ®
(
addr
, 
addr2
));

323 
	gaddr
 = 
IPAdd»ss
(
kIPv6LškLoÿlAddr
);

324 
	gaddr2
 = 
IPAdd»ss
(
addr
);

325 
EXPECT_TRUE
(
A»Equ®
(
addr
, 
addr2
));

327 
	gaddr
 = 
IPAdd»ss
(
kIPv6PublicAddr
);

328 
	gaddr2
 = 
IPAdd»ss
(
addr
);

329 
EXPECT_TRUE
(
A»Equ®
(
addr
, 
addr2
));

332 
TEST
(
IPAdd»ssTe¡
, 
Te¡Equ®™y
) {

334 
š_addr
 
	gv4addr
, 
	gv4addr2
;

335 
	gv4addr
.
	gs_addr
 = 
htÚl
(
kIPv4PublicAddr
);

336 
	gv4addr2
.
	gs_addr
 = 
htÚl
(
kIPv4PublicAddr
 + 1);

337 
IPAdd»ss
 
addr
(
v4addr
);

338 
IPAdd»ss
 
addr2
(
v4addr2
);

339 
IPAdd»ss
 
addr3
(
v4addr
);

341 
EXPECT_TRUE
(
addr
 ==‡ddr);

342 
EXPECT_TRUE
(
addr2
 ==‡ddr2);

343 
EXPECT_TRUE
(
addr3
 ==‡ddr3);

344 
EXPECT_TRUE
(
addr
 =ğ
addr3
);

345 
EXPECT_TRUE
(
addr3
 =ğ
addr
);

346 
EXPECT_FALSE
(
addr2
 =ğ
addr
);

347 
EXPECT_FALSE
(
addr2
 =ğ
addr3
);

348 
EXPECT_FALSE
(
addr
 =ğ
addr2
);

349 
EXPECT_FALSE
(
addr3
 =ğ
addr2
);

352 
IPAdd»ss
 
addr4
(
kIPv6PublicAddr
);

353 
IPAdd»ss
 
addr5
(
kIPv6LškLoÿlAddr
);

354 
IPAdd»ss
 
addr6
(
kIPv6PublicAddr
);

356 
EXPECT_TRUE
(
addr4
 ==‡ddr4);

357 
EXPECT_TRUE
(
addr5
 ==‡ddr5);

358 
EXPECT_TRUE
(
addr4
 =ğ
addr6
);

359 
EXPECT_TRUE
(
addr6
 =ğ
addr4
);

360 
EXPECT_FALSE
(
addr4
 =ğ
addr5
);

361 
EXPECT_FALSE
(
addr5
 =ğ
addr4
);

362 
EXPECT_FALSE
(
addr6
 =ğ
addr5
);

363 
EXPECT_FALSE
(
addr5
 =ğ
addr6
);

366 
EXPECT_FALSE
(
addr
 =ğ
addr4
);

367 
EXPECT_FALSE
(
addr
 =ğ
addr5
);

368 
EXPECT_FALSE
(
addr
 =ğ
addr6
);

369 
EXPECT_FALSE
(
addr4
 =ğ
addr
);

370 
EXPECT_FALSE
(
addr5
 =ğ
addr
);

371 
EXPECT_FALSE
(
addr6
 =ğ
addr
);

372 
EXPECT_FALSE
(
addr2
 =ğ
addr4
);

373 
EXPECT_FALSE
(
addr2
 =ğ
addr5
);

374 
EXPECT_FALSE
(
addr2
 =ğ
addr6
);

375 
EXPECT_FALSE
(
addr4
 =ğ
addr2
);

376 
EXPECT_FALSE
(
addr5
 =ğ
addr2
);

377 
EXPECT_FALSE
(
addr6
 =ğ
addr2
);

378 
EXPECT_FALSE
(
addr3
 =ğ
addr4
);

379 
EXPECT_FALSE
(
addr3
 =ğ
addr5
);

380 
EXPECT_FALSE
(
addr3
 =ğ
addr6
);

381 
EXPECT_FALSE
(
addr4
 =ğ
addr3
);

382 
EXPECT_FALSE
(
addr5
 =ğ
addr3
);

383 
EXPECT_FALSE
(
addr6
 =ğ
addr3
);

387 
IPAdd»ss
 
v4loİback
(
htÚl
(
INADDR_LOOPBACK
));

388 
IPAdd»ss
 
v6loİback
(
š6addr_loİback
);

389 
EXPECT_FALSE
(
v4loİback
 =ğ
v6loİback
);

391 
IPAdd»ss
 
v4ªy
(0);

392 
IPAdd»ss
 
v6ªy
(
š6addr_ªy
);

393 
EXPECT_FALSE
(
v4ªy
 =ğ
v6ªy
);

396 
TEST
(
IPAdd»ssTe¡
, 
Te¡Com·risÚ
) {

399 
IPAdd»ss
 
	gaddr0
;

400 
IPAdd»ss
 
addr1
(
INADDR_ANY
);

401 
IPAdd»ss
 
addr2
(
kIPv4PublicAddr
);

402 
IPAdd»ss
 
addr3
(
INADDR_LOOPBACK
);

403 
IPAdd»ss
 
addr4
(
kIPv4RFC1918Addr
);

404 
IPAdd»ss
 
addr5
(
š6addr_ªy
);

405 
IPAdd»ss
 
addr6
(
š6addr_loİback
);

406 
IPAdd»ss
 
addr7
(
kIPv6PublicAddr
);

407 
IPAdd»ss
 
addr8
(
kIPv6LškLoÿlAddr
);

409 
EXPECT_TRUE
(
addr0
 < 
addr1
);

410 
EXPECT_TRUE
(
addr1
 < 
addr2
);

411 
EXPECT_TRUE
(
addr2
 < 
addr3
);

412 
EXPECT_TRUE
(
addr3
 < 
addr4
);

413 
EXPECT_TRUE
(
addr4
 < 
addr5
);

414 
EXPECT_TRUE
(
addr5
 < 
addr6
);

415 
EXPECT_TRUE
(
addr6
 < 
addr7
);

416 
EXPECT_TRUE
(
addr7
 < 
addr8
);

418 
EXPECT_FALSE
(
addr0
 > 
addr1
);

419 
EXPECT_FALSE
(
addr1
 > 
addr2
);

420 
EXPECT_FALSE
(
addr2
 > 
addr3
);

421 
EXPECT_FALSE
(
addr3
 > 
addr4
);

422 
EXPECT_FALSE
(
addr4
 > 
addr5
);

423 
EXPECT_FALSE
(
addr5
 > 
addr6
);

424 
EXPECT_FALSE
(
addr6
 > 
addr7
);

425 
EXPECT_FALSE
(
addr7
 > 
addr8
);

427 
EXPECT_FALSE
(
addr0
 >‡ddr0);

428 
EXPECT_FALSE
(
addr1
 >‡ddr1);

429 
EXPECT_FALSE
(
addr2
 >‡ddr2);

430 
EXPECT_FALSE
(
addr3
 >‡ddr3);

431 
EXPECT_FALSE
(
addr4
 >‡ddr4);

432 
EXPECT_FALSE
(
addr5
 >‡ddr5);

433 
EXPECT_FALSE
(
addr6
 >‡ddr6);

434 
EXPECT_FALSE
(
addr7
 >‡ddr7);

435 
EXPECT_FALSE
(
addr8
 >‡ddr8);

437 
EXPECT_FALSE
(
addr0
 <‡ddr0);

438 
EXPECT_FALSE
(
addr1
 <‡ddr1);

439 
EXPECT_FALSE
(
addr2
 <‡ddr2);

440 
EXPECT_FALSE
(
addr3
 <‡ddr3);

441 
EXPECT_FALSE
(
addr4
 <‡ddr4);

442 
EXPECT_FALSE
(
addr5
 <‡ddr5);

443 
EXPECT_FALSE
(
addr6
 <‡ddr6);

444 
EXPECT_FALSE
(
addr7
 <‡ddr7);

445 
EXPECT_FALSE
(
addr8
 <‡ddr8);

448 
TEST
(
IPAdd»ssTe¡
, 
Te¡FromSŒšg
) {

449 
IPAdd»ss
 
	gaddr
;

450 
IPAdd»ss
 
	gaddr2
;

451 
	gaddr2
 = 
IPAdd»ss
(
INADDR_ANY
);

453 
EXPECT_TRUE
(
IPFromSŒšg
(
kIPv4AnyAddrSŒšg
, &
addr
));

454 
EXPECT_EQ
(
addr
.
ToSŒšg
(), 
kIPv4AnyAddrSŒšg
);

455 
EXPECT_TRUE
(
A»Equ®
(
addr
, 
addr2
));

457 
	gaddr2
 = 
IPAdd»ss
(
INADDR_LOOPBACK
);

458 
EXPECT_TRUE
(
IPFromSŒšg
(
kIPv4LoİbackAddrSŒšg
, &
addr
));

459 
EXPECT_EQ
(
addr
.
ToSŒšg
(), 
kIPv4LoİbackAddrSŒšg
);

460 
EXPECT_TRUE
(
A»Equ®
(
addr
, 
addr2
));

462 
	gaddr2
 = 
IPAdd»ss
(
kIPv4RFC1918Addr
);

463 
EXPECT_TRUE
(
IPFromSŒšg
(
kIPv4RFC1918AddrSŒšg
, &
addr
));

464 
EXPECT_EQ
(
addr
.
ToSŒšg
(), 
kIPv4RFC1918AddrSŒšg
);

465 
EXPECT_TRUE
(
A»Equ®
(
addr
, 
addr2
));

467 
	gaddr2
 = 
IPAdd»ss
(
kIPv4PublicAddr
);

468 
EXPECT_TRUE
(
IPFromSŒšg
(
kIPv4PublicAddrSŒšg
, &
addr
));

469 
EXPECT_EQ
(
addr
.
ToSŒšg
(), 
kIPv4PublicAddrSŒšg
);

470 
EXPECT_TRUE
(
A»Equ®
(
addr
, 
addr2
));

472 
	gaddr2
 = 
IPAdd»ss
(
š6addr_ªy
);

473 
EXPECT_TRUE
(
IPFromSŒšg
(
kIPv6AnyAddrSŒšg
, &
addr
));

474 
EXPECT_EQ
(
addr
.
ToSŒšg
(), 
kIPv6AnyAddrSŒšg
);

475 
EXPECT_TRUE
(
A»Equ®
(
addr
, 
addr2
));

477 
	gaddr2
 = 
IPAdd»ss
(
š6addr_loİback
);

478 
EXPECT_TRUE
(
IPFromSŒšg
(
kIPv6LoİbackAddrSŒšg
, &
addr
));

479 
EXPECT_EQ
(
addr
.
ToSŒšg
(), 
kIPv6LoİbackAddrSŒšg
);

480 
EXPECT_TRUE
(
A»Equ®
(
addr
, 
addr2
));

482 
	gaddr2
 = 
IPAdd»ss
(
kIPv6LškLoÿlAddr
);

483 
EXPECT_TRUE
(
IPFromSŒšg
(
kIPv6LškLoÿlAddrSŒšg
, &
addr
));

484 
EXPECT_EQ
(
addr
.
ToSŒšg
(), 
kIPv6LškLoÿlAddrSŒšg
);

485 
EXPECT_TRUE
(
A»Equ®
(
addr
, 
addr2
));

487 
	gaddr2
 = 
IPAdd»ss
(
kIPv6PublicAddr
);

488 
EXPECT_TRUE
(
IPFromSŒšg
(
kIPv6PublicAddrSŒšg
, &
addr
));

489 
EXPECT_EQ
(
addr
.
ToSŒšg
(), 
kIPv6PublicAddrSŒšg
);

490 
EXPECT_TRUE
(
A»Equ®
(
addr
, 
addr2
));

492 
	gaddr2
 = 
IPAdd»ss
(
kIPv4M­³dRFC1918Addr
);

493 
EXPECT_TRUE
(
IPFromSŒšg
(
kIPv4M­³dV4StyËAddrSŒšg
, &
addr
));

494 
EXPECT_TRUE
(
A»Equ®
(
addr
, 
addr2
));

497 
EXPECT_PRED1
(
Brok’IPSŒšgFas
, 
kIPv4Brok’SŒšg1
);

498 
EXPECT_PRED1
(
Brok’IPSŒšgFas
, 
kIPv4Brok’SŒšg2
);

499 
EXPECT_PRED1
(
Brok’IPSŒšgFas
, 
kIPv4Brok’SŒšg3
);

500 
EXPECT_PRED1
(
Brok’IPSŒšgFas
, 
kIPv4Brok’SŒšg4
);

501 
EXPECT_PRED1
(
Brok’IPSŒšgFas
, 
kIPv4Brok’SŒšg5
);

502 
EXPECT_PRED1
(
Brok’IPSŒšgFas
, 
kIPv4Brok’SŒšg6
);

503 
EXPECT_PRED1
(
Brok’IPSŒšgFas
, 
kIPv6Brok’SŒšg1
);

504 
EXPECT_PRED1
(
Brok’IPSŒšgFas
, 
kIPv6Brok’SŒšg2
);

505 
EXPECT_PRED1
(
Brok’IPSŒšgFas
, 
kIPv6Brok’SŒšg3
);

506 
EXPECT_PRED1
(
Brok’IPSŒšgFas
, 
kIPv6Brok’SŒšg4
);

507 
EXPECT_PRED1
(
Brok’IPSŒšgFas
, 
kIPv6Brok’SŒšg5
);

508 
EXPECT_PRED1
(
Brok’IPSŒšgFas
, 
kIPv6Brok’SŒšg6
);

509 
EXPECT_PRED1
(
Brok’IPSŒšgFas
, 
kIPv6Brok’SŒšg7
);

510 
EXPECT_PRED1
(
Brok’IPSŒšgFas
, 
kIPv6Brok’SŒšg8
);

511 
EXPECT_PRED1
(
Brok’IPSŒšgFas
, 
kIPv6Brok’SŒšg9
);

512 
EXPECT_PRED1
(
Brok’IPSŒšgFas
, 
kIPv6Brok’SŒšg10
);

513 
EXPECT_PRED1
(
Brok’IPSŒšgFas
, 
kIPv6Brok’SŒšg11
);

514 
EXPECT_PRED1
(
Brok’IPSŒšgFas
, 
kIPv6Brok’SŒšg12
);

515 
EXPECT_PRED1
(
Brok’IPSŒšgFas
, 
kIPv6Brok’SŒšg13
);

516 
EXPECT_PRED1
(
Brok’IPSŒšgFas
, 
kIPv6Brok’SŒšg14
);

519 
TEST
(
IPAdd»ssTe¡
, 
Te¡IPFromAddrInfo
) {

520 
sockaddr_š
 
	gex³ùed4
;

521 
sockaddr_š6
 
	gex³ùed6
;

522 
addršfo
 
	g‹¡_šfo
;

523 
addršfo
 
	gÃxt_šfo
;

524 
mem£t
(&
Ãxt_šfo
, 'A', (next_info));

525 
	g‹¡_šfo
.
	gai_Ãxt
 = &
Ãxt_šfo
;

527 
	g‹¡_šfo
.
	gai_addr
 = 
»š‹½»t_ÿ¡
<
sockaddr
*>(&
ex³ùed4
);

528 
	gex³ùed4
.
	gsš_addr
.
	gs_addr
 = 
Ho¡ToN‘wÜk32
(
kIPv4PublicAddr
);

529 
	gex³ùed4
.
	gsš_çmy
 = 
AF_INET
;

530 
IPAdd»ss
 
ex³ùed
(
kIPv4PublicAddr
);

531 
IPAdd»ss
 
	gaddr
;

532 
EXPECT_TRUE
(
IPFromAddrInfo
(&
‹¡_šfo
, &
addr
));

533 
EXPECT_EQ
(
ex³ùed
, 
addr
);

535 
	gex³ùed6
.
	gsš6_addr
 = 
kIPv6PublicAddr
;

536 
	gex³ùed6
.
	gsš6_çmy
 = 
AF_INET6
;

537 
	gex³ùed
 = 
IPAdd»ss
(
kIPv6PublicAddr
);

538 
	g‹¡_šfo
.
	gai_addr
 = 
»š‹½»t_ÿ¡
<
sockaddr
*>(&
ex³ùed6
);

539 
EXPECT_TRUE
(
IPFromAddrInfo
(&
‹¡_šfo
, &
addr
));

540 
EXPECT_EQ
(
ex³ùed
, 
addr
);

542 
	gex³ùed6
.
	gsš6_çmy
 = 
AF_UNSPEC
;

543 
EXPECT_FALSE
(
IPFromAddrInfo
(&
‹¡_šfo
, &
addr
));

545 
mem£t
(&
Ãxt_šfo
, 0, (next_info));

546 
EXPECT_FALSE
(
IPFromAddrInfo
(&
Ãxt_šfo
, &
addr
));

549 
TEST
(
IPAdd»ssTe¡
, 
Te¡IsPriv©e
) {

550 
EXPECT_FALSE
(
IPIsPriv©e
(
IPAdd»ss
(
INADDR_ANY
)));

551 
EXPECT_FALSE
(
IPIsPriv©e
(
IPAdd»ss
(
kIPv4PublicAddr
)));

552 
EXPECT_FALSE
(
IPIsPriv©e
(
IPAdd»ss
(
š6addr_ªy
)));

553 
EXPECT_FALSE
(
IPIsPriv©e
(
IPAdd»ss
(
kIPv6PublicAddr
)));

554 
EXPECT_FALSE
(
IPIsPriv©e
(
IPAdd»ss
(
kIPv4M­³dAnyAddr
)));

555 
EXPECT_FALSE
(
IPIsPriv©e
(
IPAdd»ss
(
kIPv4M­³dPublicAddr
)));

557 
EXPECT_TRUE
(
IPIsPriv©e
(
IPAdd»ss
(
kIPv4RFC1918Addr
)));

558 
EXPECT_TRUE
(
IPIsPriv©e
(
IPAdd»ss
(
kIPv4RFC6598Addr
)));

559 
EXPECT_TRUE
(
IPIsPriv©e
(
IPAdd»ss
(
INADDR_LOOPBACK
)));

560 
EXPECT_TRUE
(
IPIsPriv©e
(
IPAdd»ss
(
š6addr_loİback
)));

561 
EXPECT_TRUE
(
IPIsPriv©e
(
IPAdd»ss
(
kIPv6LškLoÿlAddr
)));

564 
TEST
(
IPAdd»ssTe¡
, 
Te¡IsN
) {

565 
IPAdd»ss
 
	gaddr
;

566 
EXPECT_TRUE
(
IPAdd»ss
().
IsN
());

568 
EXPECT_TRUE
(
IPFromSŒšg
(
kIPv6AnyAddrSŒšg
, &
addr
));

569 
EXPECT_FALSE
(
addr
.
IsN
());

571 
EXPECT_TRUE
(
IPFromSŒšg
(
kIPv4AnyAddrSŒšg
, &
addr
));

572 
EXPECT_FALSE
(
addr
.
IsN
());

574 
EXPECT_FALSE
(
IPAdd»ss
(
kIPv4PublicAddr
).
IsN
());

577 
TEST
(
IPAdd»ssTe¡
, 
Te¡IsLoİback
) {

578 
EXPECT_FALSE
(
IPIsLoİback
(
IPAdd»ss
(
INADDR_ANY
)));

579 
EXPECT_FALSE
(
IPIsLoİback
(
IPAdd»ss
(
kIPv4PublicAddr
)));

580 
EXPECT_FALSE
(
IPIsLoİback
(
IPAdd»ss
(
š6addr_ªy
)));

581 
EXPECT_FALSE
(
IPIsLoİback
(
IPAdd»ss
(
kIPv4RFC6598Addr
)));

582 
EXPECT_FALSE
(
IPIsLoİback
(
IPAdd»ss
(
kIPv6PublicAddr
)));

583 
EXPECT_FALSE
(
IPIsLoİback
(
IPAdd»ss
(
kIPv4M­³dAnyAddr
)));

584 
EXPECT_FALSE
(
IPIsLoİback
(
IPAdd»ss
(
kIPv4M­³dPublicAddr
)));

586 
EXPECT_TRUE
(
IPIsLoİback
(
IPAdd»ss
(
INADDR_LOOPBACK
)));

589 
EXPECT_TRUE
(
IPIsLoİback
(
IPAdd»ss
(0x7f010203)));

590 
EXPECT_TRUE
(
IPIsLoİback
(
IPAdd»ss
(
š6addr_loİback
)));

593 
TEST
(
IPAdd»ssTe¡
, 
Te¡IsLškLoÿl
) {

595 
EXPECT_FALSE
(
IPIsLškLoÿl
(
IPAdd»ss
(
INADDR_ANY
)));

596 
EXPECT_FALSE
(
IPIsLškLoÿl
(
IPAdd»ss
(
š6addr_ªy
)));

598 
EXPECT_FALSE
(
IPIsLškLoÿl
(
IPAdd»ss
(
INADDR_LOOPBACK
)));

599 
EXPECT_FALSE
(
IPIsLškLoÿl
(
IPAdd»ss
(
š6addr_loİback
)));

601 
EXPECT_FALSE
(
IPIsLškLoÿl
(
IPAdd»ss
(
kIPv4RFC6598Addr
)));

603 
EXPECT_FALSE
(
IPIsLškLoÿl
(
IPAdd»ss
(
kIPv4PublicAddr
)));

604 
EXPECT_FALSE
(
IPIsLškLoÿl
(
IPAdd»ss
(
kIPv6PublicAddr
)));

606 
EXPECT_FALSE
(
IPIsLškLoÿl
(
IPAdd»ss
(
kIPv4RFC1918Addr
)));

608 
EXPECT_FALSE
(
IPIsLškLoÿl
(
IPAdd»ss
(
kIPv4M­³dAnyAddr
)));

609 
EXPECT_FALSE
(
IPIsLškLoÿl
(
IPAdd»ss
(
kIPv4M­³dPublicAddr
)));

610 
EXPECT_FALSE
(
IPIsLškLoÿl
(
IPAdd»ss
(
kIPv4M­³dRFC1918Addr
)));

613 
EXPECT_TRUE
(
IPIsLškLoÿl
(
IPAdd»ss
(
kIPv4LškLoÿlAddr
)));

614 
EXPECT_TRUE
(
IPIsLškLoÿl
(
IPAdd»ss
(
kIPv6LškLoÿlAddr
)));

618 
TEST
(
IPAdd»ssTe¡
, 
Te¡IsAny
) {

619 
IPAdd»ss
 
	gaddr
;

621 
EXPECT_TRUE
(
IPFromSŒšg
(
kIPv6AnyAddrSŒšg
, &
addr
));

622 
EXPECT_TRUE
(
IPIsAny
(
addr
));

624 
EXPECT_TRUE
(
IPFromSŒšg
(
kIPv4AnyAddrSŒšg
, &
addr
));

625 
EXPECT_TRUE
(
IPIsAny
(
addr
));

627 
EXPECT_TRUE
(
IPIsAny
(
IPAdd»ss
(
kIPv4M­³dAnyAddr
)));

630 
TEST
(
IPAdd»ssTe¡
, 
Te¡IsEui64
) {

631 
IPAdd»ss
 
	gaddr
;

632 
EXPECT_TRUE
(
IPFromSŒšg
(
kIPv6EuiAddrSŒšg
, &
addr
));

633 
EXPECT_TRUE
(
IPIsMacBa£d
(
addr
));

635 
EXPECT_TRUE
(
IPFromSŒšg
(
kIPv6TempÜ¬yAddrSŒšg
, &
addr
));

636 
EXPECT_FALSE
(
IPIsMacBa£d
(
addr
));

638 
EXPECT_TRUE
(
IPFromSŒšg
(
kIPv6LškLoÿlAddrSŒšg
, &
addr
));

639 
EXPECT_TRUE
(
IPIsMacBa£d
(
addr
));

641 
EXPECT_TRUE
(
IPFromSŒšg
(
kIPv6AnyAddrSŒšg
, &
addr
));

642 
EXPECT_FALSE
(
IPIsMacBa£d
(
addr
));

644 
EXPECT_TRUE
(
IPFromSŒšg
(
kIPv6LoİbackAddrSŒšg
, &
addr
));

645 
EXPECT_FALSE
(
IPIsMacBa£d
(
addr
));

648 
TEST
(
IPAdd»ssTe¡
, 
Te¡NÜm®ized
) {

650 
IPAdd»ss
 
	gaddr
;

651 
EXPECT_TRUE
(
IPFromSŒšg
(
kIPv4M­³dV4StyËAddrSŒšg
, &
addr
));

652 
IPAdd»ss
 
addr2
(
kIPv4RFC1918Addr
);

653 
	gaddr
 = 
addr
.
NÜm®ized
();

654 
EXPECT_EQ
(
addr2
, 
addr
);

657 
	gaddr
 = 
IPAdd»ss
(
kIPv4M­³dPublicAddr
);

658 
	gaddr2
 = 
IPAdd»ss
(
kIPv4PublicAddr
);

659 
	gaddr
 = 
addr
.
NÜm®ized
();

660 
EXPECT_EQ
(
addr
, 
addr2
);

663 
	gaddr
 = 
IPAdd»ss
(
kIPv6PublicAddr
);

664 
	gaddr2
 = 
IPAdd»ss
(
kIPv6PublicAddr
);

665 
	gaddr
 = 
addr
.
NÜm®ized
();

666 
EXPECT_EQ
(
addr
, 
addr2
);

669 
EXPECT_TRUE
(
IPFromSŒšg
("ã80::ffff:0102:0304", &
addr
));

670 
	gaddr2
 = 
addr
;

671 
	gaddr
 = 
addr
.
NÜm®ized
();

672 
EXPECT_EQ
(
addr
, 
addr2
);

673 
EXPECT_TRUE
(
IPFromSŒšg
("::0102:0304", &
addr
));

674 
	gaddr2
 = 
addr
;

675 
	gaddr
 = 
addr
.
NÜm®ized
();

676 
EXPECT_EQ
(
addr
, 
addr2
);

679 
EXPECT_TRUE
(
IPFromSŒšg
("::192.168.7.1", &
addr
));

680 
	gaddr2
 = 
addr
;

681 
	gaddr
 = 
addr
.
NÜm®ized
();

682 
EXPECT_EQ
(
addr
, 
addr2
);

685 
	gaddr
 = 
IPAdd»ss
(
htÚl
(
kIPv4PublicAddr
));

686 
	gaddr2
 = 
IPAdd»ss
(
htÚl
(
kIPv4PublicAddr
));

687 
	gaddr
 = 
addr
.
NÜm®ized
();

688 
EXPECT_EQ
(
addr
, 
addr2
);

691 
TEST
(
IPAdd»ssTe¡
, 
Te¡AsIPv6Add»ss
) {

692 
IPAdd»ss
 
addr
(
kIPv4PublicAddr
);

693 
IPAdd»ss
 
addr2
(
kIPv4M­³dPublicAddr
);

694 
	gaddr
 = 
addr
.
AsIPv6Add»ss
();

695 
EXPECT_EQ
(
addr
, 
addr2
);

697 
	gaddr
 = 
IPAdd»ss
(
kIPv4M­³dPublicAddr
);

698 
	gaddr2
 = 
IPAdd»ss
(
kIPv4M­³dPublicAddr
);

699 
	gaddr
 = 
addr
.
AsIPv6Add»ss
();

700 
EXPECT_EQ
(
addr
, 
addr2
);

702 
	gaddr
 = 
IPAdd»ss
(
kIPv6PublicAddr
);

703 
	gaddr2
 = 
IPAdd»ss
(
kIPv6PublicAddr
);

704 
	gaddr
 = 
addr
.
AsIPv6Add»ss
();

705 
EXPECT_EQ
(
addr
, 
addr2
);

708 
TEST
(
IPAdd»ssTe¡
, 
Te¡CouÁIPMaskB™s
) {

709 
IPAdd»ss
 
	gmask
;

711 
EXPECT_PRED2
(
CheckMaskCouÁ
, "255.255.255.255", 32);

712 
EXPECT_PRED2
(
CheckMaskCouÁ
, "255.255.255.0", 24);

713 
EXPECT_PRED2
(
CheckMaskCouÁ
, "255.255.0.0", 16);

714 
EXPECT_PRED2
(
CheckMaskCouÁ
, "255.0.0.0", 8);

715 
EXPECT_PRED2
(
CheckMaskCouÁ
, "0.0.0.0", 0);

718 
EXPECT_PRED2
(
CheckMaskCouÁ
, "128.0.0.0", 1);

719 
EXPECT_PRED2
(
CheckMaskCouÁ
, "224.0.0.0", 3);

720 
EXPECT_PRED2
(
CheckMaskCouÁ
, "255.248.0.0", 13);

721 
EXPECT_PRED2
(
CheckMaskCouÁ
, "255.255.224.0", 19);

722 
EXPECT_PRED2
(
CheckMaskCouÁ
, "255.255.255.252", 30);

725 
EXPECT_PRED2
(
CheckMaskCouÁ
, "::", 0);

726 
EXPECT_PRED2
(
CheckMaskCouÁ
, "ff00::", 8);

727 
EXPECT_PRED2
(
CheckMaskCouÁ
, "ffff::", 16);

728 
EXPECT_PRED2
(
CheckMaskCouÁ
, "ffff:ff00::", 24);

729 
EXPECT_PRED2
(
CheckMaskCouÁ
, "ffff:ffff::", 32);

730 
EXPECT_PRED2
(
CheckMaskCouÁ
, "ffff:ffff:ff00::", 40);

731 
EXPECT_PRED2
(
CheckMaskCouÁ
, "ffff:ffff:ffff::", 48);

732 
EXPECT_PRED2
(
CheckMaskCouÁ
, "ffff:ffff:ffff:ff00::", 56);

733 
EXPECT_PRED2
(
CheckMaskCouÁ
, "ffff:ffff:ffff:ffff::", 64);

734 
EXPECT_PRED2
(
CheckMaskCouÁ
, "ffff:ffff:ffff:ffff:ff00::", 72);

735 
EXPECT_PRED2
(
CheckMaskCouÁ
, "ffff:ffff:ffff:ffff:ffff::", 80);

736 
EXPECT_PRED2
(
CheckMaskCouÁ
, "ffff:ffff:ffff:ffff:ffff:ff00::", 88);

737 
EXPECT_PRED2
(
CheckMaskCouÁ
, "ffff:ffff:ffff:ffff:ffff:ffff::", 96);

738 
EXPECT_PRED2
(
CheckMaskCouÁ
, "ffff:ffff:ffff:ffff:ffff:ffff:ff00:0000", 104);

739 
EXPECT_PRED2
(
CheckMaskCouÁ
, "ffff:ffff:ffff:ffff:ffff:ffff:ffff:0000", 112);

740 
EXPECT_PRED2
(
CheckMaskCouÁ
, "ffff:ffff:ffff:ffff:ffff:ffff:ffff:ff00", 120);

741 
EXPECT_PRED2
(
CheckMaskCouÁ
, "ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff", 128);

744 
EXPECT_PRED2
(
CheckMaskCouÁ
, "8000::", 1);

745 
EXPECT_PRED2
(
CheckMaskCouÁ
, "ff80::", 9);

746 
EXPECT_PRED2
(
CheckMaskCouÁ
, "ffff:fe00::", 23);

747 
EXPECT_PRED2
(
CheckMaskCouÁ
, "ffff:fffe::", 31);

748 
EXPECT_PRED2
(
CheckMaskCouÁ
, "ffff:ffff:e000::", 35);

749 
EXPECT_PRED2
(
CheckMaskCouÁ
, "ffff:ffff:ffe0::", 43);

750 
EXPECT_PRED2
(
CheckMaskCouÁ
, "ffff:ffff:ffff:f800::", 53);

751 
EXPECT_PRED2
(
CheckMaskCouÁ
, "ffff:ffff:ffff:fff8::", 61);

752 
EXPECT_PRED2
(
CheckMaskCouÁ
, "ffff:ffff:ffff:ffff:fc00::", 70);

753 
EXPECT_PRED2
(
CheckMaskCouÁ
, "ffff:ffff:ffff:ffff:fffc::", 78);

754 
EXPECT_PRED2
(
CheckMaskCouÁ
, "ffff:ffff:ffff:ffff:ffff:8000::", 81);

755 
EXPECT_PRED2
(
CheckMaskCouÁ
, "ffff:ffff:ffff:ffff:ffff:ff80::", 89);

756 
EXPECT_PRED2
(
CheckMaskCouÁ
, "ffff:ffff:ffff:ffff:ffff:ffff:fe00::", 103);

757 
EXPECT_PRED2
(
CheckMaskCouÁ
, "ffff:ffff:ffff:ffff:ffff:ffff:fffe:0000", 111);

758 
EXPECT_PRED2
(
CheckMaskCouÁ
, "ffff:ffff:ffff:ffff:ffff:ffff:ffff:fc00", 118);

759 
EXPECT_PRED2
(
CheckMaskCouÁ
, "ffff:ffff:ffff:ffff:ffff:ffff:ffff:fffc", 126);

763 
EXPECT_PRED1
(
TryInv®idMaskCouÁ
, "217.0.0.0");

764 
EXPECT_PRED1
(
TryInv®idMaskCouÁ
, "255.185.0.0");

765 
EXPECT_PRED1
(
TryInv®idMaskCouÁ
, "255.255.251.0");

766 
EXPECT_PRED1
(
TryInv®idMaskCouÁ
, "255.255.251.255");

767 
EXPECT_PRED1
(
TryInv®idMaskCouÁ
, "255.255.254.201");

768 
EXPECT_PRED1
(
TryInv®idMaskCouÁ
, "::1");

769 
EXPECT_PRED1
(
TryInv®idMaskCouÁ
, "fe80::1");

770 
EXPECT_PRED1
(
TryInv®idMaskCouÁ
, "ff80::1");

771 
EXPECT_PRED1
(
TryInv®idMaskCouÁ
, "ffff::1");

772 
EXPECT_PRED1
(
TryInv®idMaskCouÁ
, "ffff:ff00:1::1");

773 
EXPECT_PRED1
(
TryInv®idMaskCouÁ
, "ffff:ffff::ffff:1");

774 
EXPECT_PRED1
(
TryInv®idMaskCouÁ
, "ffff:ffff:ff00:1::");

775 
EXPECT_PRED1
(
TryInv®idMaskCouÁ
, "ffff:ffff:ffff::ff00");

776 
EXPECT_PRED1
(
TryInv®idMaskCouÁ
, "ffff:ffff:ffff:ff00:1234::");

777 
EXPECT_PRED1
(
TryInv®idMaskCouÁ
, "ffff:ffff:ffff:ffff:0012::ffff");

778 
EXPECT_PRED1
(
TryInv®idMaskCouÁ
, "ffff:ffff:ffff:ffff:ff01::");

779 
EXPECT_PRED1
(
TryInv®idMaskCouÁ
, "ffff:ffff:ffff:ffff:ffff:7f00::");

780 
EXPECT_PRED1
(
TryInv®idMaskCouÁ
, "ffff:ffff:ffff:ffff:ffff:ff7a::");

781 
EXPECT_PRED1
(
TryInv®idMaskCouÁ
, "ffff:ffff:ffff:ffff:ffff:ffff:7f00:0000");

782 
EXPECT_PRED1
(
TryInv®idMaskCouÁ
, "ffff:ffff:ffff:ffff:ffff:ffff:ff70:0000");

783 
EXPECT_PRED1
(
TryInv®idMaskCouÁ
, "ffff:ffff:ffff:ffff:ffff:ffff:ffff:0211");

784 
EXPECT_PRED1
(
TryInv®idMaskCouÁ
, "ffff:ffff:ffff:ffff:ffff:ffff:ffff:ff7f");

787 
TEST
(
IPAdd»ssTe¡
, 
Te¡Trunÿ‹IP
) {

788 
EXPECT_PRED3
(
CheckTrunÿ‹IP
, "255.255.255.255", 24, "255.255.255.0");

789 
EXPECT_PRED3
(
CheckTrunÿ‹IP
, "255.255.255.255", 16, "255.255.0.0");

790 
EXPECT_PRED3
(
CheckTrunÿ‹IP
, "255.255.255.255", 8, "255.0.0.0");

791 
EXPECT_PRED3
(
CheckTrunÿ‹IP
, "202.67.7.255", 24, "202.67.7.0");

792 
EXPECT_PRED3
(
CheckTrunÿ‹IP
, "202.129.65.205", 16, "202.129.0.0");

793 
EXPECT_PRED3
(
CheckTrunÿ‹IP
, "55.25.2.77", 8, "55.0.0.0");

794 
EXPECT_PRED3
(
CheckTrunÿ‹IP
, "74.128.99.254", 1, "0.0.0.0");

795 
EXPECT_PRED3
(
CheckTrunÿ‹IP
, "106.55.99.254", 3, "96.0.0.0");

796 
EXPECT_PRED3
(
CheckTrunÿ‹IP
, "172.167.53.222", 13, "172.160.0.0");

797 
EXPECT_PRED3
(
CheckTrunÿ‹IP
, "255.255.224.0", 18, "255.255.192.0");

798 
EXPECT_PRED3
(
CheckTrunÿ‹IP
, "255.255.255.252", 28, "255.255.255.240");

800 
EXPECT_PRED3
(
CheckTrunÿ‹IP
, "fe80:1111:2222:3333:4444:5555:6666:7777", 1,

802 
EXPECT_PRED3
(
CheckTrunÿ‹IP
, "fff0:1111:2222:3333:4444:5555:6666:7777", 9,

804 
EXPECT_PRED3
(
CheckTrunÿ‹IP
, "ffff:ff80:1111:2222:3333:4444:5555:6666", 23,

806 
EXPECT_PRED3
(
CheckTrunÿ‹IP
, "ffff:ff80:1111:2222:3333:4444:5555:6666", 32,

808 
EXPECT_PRED3
(
CheckTrunÿ‹IP
, "2400:f9af:e456:1111:2222:3333:4444:5555", 35,

810 
EXPECT_PRED3
(
CheckTrunÿ‹IP
, "9999:1111:2233:4444:5555:6666:7777:8888", 53,

812 
EXPECT_PRED3
(
CheckTrunÿ‹IP
, "9999:1111:2233:4567:5555:6666:7777:8888", 64,

814 
EXPECT_PRED3
(
CheckTrunÿ‹IP
, "1111:2222:3333:4444:5555:6666:7777:8888", 68,

816 
EXPECT_PRED3
(
CheckTrunÿ‹IP
, "1111:2222:3333:4444:5555:6666:7777:8888", 92,

818 
EXPECT_PRED3
(
CheckTrunÿ‹IP
, "1111:2222:3333:4444:5555:6666:7777:8888", 96,

820 
EXPECT_PRED3
(
CheckTrunÿ‹IP
, "1111:2222:3333:4444:5555:6666:7777:8888", 105,

822 
EXPECT_PRED3
(
CheckTrunÿ‹IP
, "1111:2222:3333:4444:5555:6666:7777:8888", 124,

826 
EXPECT_PRED3
(
CheckTrunÿ‹IP
, "202.165.33.127", 32, "202.165.33.127");

827 
EXPECT_PRED3
(
CheckTrunÿ‹IP
, "235.105.77.12", 0, "0.0.0.0");

828 
EXPECT_PRED3
(
CheckTrunÿ‹IP
, "1111:2222:3333:4444:5555:6666:7777:8888", 128,

830 
EXPECT_PRED3
(
CheckTrunÿ‹IP
, "1111:2222:3333:4444:5555:6666:7777:8888", 0,

834 
TEST
(
IPAdd»ssTe¡
, 
Te¡C©egÜizeIPv6
) {

837 
IPAdd»ss
 
v4_addr
(
kIPv4PublicAddr
);

838 
EXPECT_FALSE
(
IPIs6BÚe
(
v4_addr
));

839 
EXPECT_FALSE
(
IPIs6To4
(
v4_addr
));

840 
EXPECT_FALSE
(
IPIsS™eLoÿl
(
v4_addr
));

841 
EXPECT_FALSE
(
IPIsT”edo
(
v4_addr
));

842 
EXPECT_FALSE
(
IPIsULA
(
v4_addr
));

843 
EXPECT_FALSE
(
IPIsV4Com·tib™y
(
v4_addr
));

844 
EXPECT_FALSE
(
IPIsV4M­³d
(
v4_addr
));

846 
IPAdd»ss
 
lškloÿl_addr
(
kIPv6LškLoÿlAddr
);

847 
EXPECT_FALSE
(
IPIs6BÚe
(
lškloÿl_addr
));

848 
EXPECT_FALSE
(
IPIs6To4
(
lškloÿl_addr
));

849 
EXPECT_FALSE
(
IPIsS™eLoÿl
(
lškloÿl_addr
));

850 
EXPECT_FALSE
(
IPIsT”edo
(
lškloÿl_addr
));

851 
EXPECT_FALSE
(
IPIsULA
(
lškloÿl_addr
));

852 
EXPECT_FALSE
(
IPIsV4Com·tib™y
(
lškloÿl_addr
));

853 
EXPECT_FALSE
(
IPIsV4M­³d
(
lškloÿl_addr
));

855 
IPAdd»ss
 
nÜm®_addr
(
kIPv6PublicAddr
);

856 
EXPECT_FALSE
(
IPIs6BÚe
(
nÜm®_addr
));

857 
EXPECT_FALSE
(
IPIs6To4
(
nÜm®_addr
));

858 
EXPECT_FALSE
(
IPIsS™eLoÿl
(
nÜm®_addr
));

859 
EXPECT_FALSE
(
IPIsT”edo
(
nÜm®_addr
));

860 
EXPECT_FALSE
(
IPIsULA
(
nÜm®_addr
));

861 
EXPECT_FALSE
(
IPIsV4Com·tib™y
(
nÜm®_addr
));

862 
EXPECT_FALSE
(
IPIsV4M­³d
(
nÜm®_addr
));

864 
IPAdd»ss
 
v4m­³d_addr
(
kIPv4M­³dPublicAddr
);

865 
EXPECT_TRUE
(
IPIsV4M­³d
(
v4m­³d_addr
));

866 
EXPECT_FALSE
(
IPIsV4Com·tib™y
(
v4m­³d_addr
));

867 
EXPECT_FALSE
(
IPIs6BÚe
(
v4m­³d_addr
));

868 
EXPECT_FALSE
(
IPIs6To4
(
v4m­³d_addr
));

869 
EXPECT_FALSE
(
IPIsS™eLoÿl
(
v4m­³d_addr
));

870 
EXPECT_FALSE
(
IPIsT”edo
(
v4m­³d_addr
));

871 
EXPECT_FALSE
(
IPIsULA
(
v4m­³d_addr
));

873 
IPAdd»ss
 
	gv4com·t_addr
;

874 
IPFromSŒšg
("::192.168.7.1", &
v4com·t_addr
);

875 
EXPECT_TRUE
(
IPIsV4Com·tib™y
(
v4com·t_addr
));

876 
EXPECT_FALSE
(
IPIs6BÚe
(
v4com·t_addr
));

877 
EXPECT_FALSE
(
IPIs6To4
(
v4com·t_addr
));

878 
EXPECT_FALSE
(
IPIsS™eLoÿl
(
v4com·t_addr
));

879 
EXPECT_FALSE
(
IPIsT”edo
(
v4com·t_addr
));

880 
EXPECT_FALSE
(
IPIsULA
(
v4com·t_addr
));

881 
EXPECT_FALSE
(
IPIsV4M­³d
(
v4com·t_addr
));

883 
IPAdd»ss
 
	gsixbÚe_addr
;

884 
IPFromSŒšg
("3FFE:123:456::789:123", &
sixbÚe_addr
);

885 
EXPECT_TRUE
(
IPIs6BÚe
(
sixbÚe_addr
));

886 
EXPECT_FALSE
(
IPIs6To4
(
sixbÚe_addr
));

887 
EXPECT_FALSE
(
IPIsS™eLoÿl
(
sixbÚe_addr
));

888 
EXPECT_FALSE
(
IPIsT”edo
(
sixbÚe_addr
));

889 
EXPECT_FALSE
(
IPIsULA
(
sixbÚe_addr
));

890 
EXPECT_FALSE
(
IPIsV4M­³d
(
sixbÚe_addr
));

891 
EXPECT_FALSE
(
IPIsV4Com·tib™y
(
sixbÚe_addr
));

893 
IPAdd»ss
 
	guÏ_addr
;

894 
IPFromSŒšg
("FC00:123:456::789:123", &
uÏ_addr
);

895 
EXPECT_TRUE
(
IPIsULA
(
uÏ_addr
));

896 
EXPECT_FALSE
(
IPIs6BÚe
(
uÏ_addr
));

897 
EXPECT_FALSE
(
IPIs6To4
(
uÏ_addr
));

898 
EXPECT_FALSE
(
IPIsS™eLoÿl
(
uÏ_addr
));

899 
EXPECT_FALSE
(
IPIsT”edo
(
uÏ_addr
));

900 
EXPECT_FALSE
(
IPIsV4M­³d
(
uÏ_addr
));

901 
EXPECT_FALSE
(
IPIsV4Com·tib™y
(
uÏ_addr
));

903 
IPAdd»ss
 
	gsixtofour_addr
;

904 
IPFromSŒšg
("2002:123:456::789:123", &
sixtofour_addr
);

905 
EXPECT_TRUE
(
IPIs6To4
(
sixtofour_addr
));

906 
EXPECT_FALSE
(
IPIs6BÚe
(
sixtofour_addr
));

907 
EXPECT_FALSE
(
IPIsS™eLoÿl
(
sixtofour_addr
));

908 
EXPECT_FALSE
(
IPIsT”edo
(
sixtofour_addr
));

909 
EXPECT_FALSE
(
IPIsULA
(
sixtofour_addr
));

910 
EXPECT_FALSE
(
IPIsV4Com·tib™y
(
sixtofour_addr
));

911 
EXPECT_FALSE
(
IPIsV4M­³d
(
sixtofour_addr
));

913 
IPAdd»ss
 
	gs™–oÿl_addr
;

914 
IPFromSŒšg
("FEC0:123:456::789:123", &
s™–oÿl_addr
);

915 
EXPECT_TRUE
(
IPIsS™eLoÿl
(
s™–oÿl_addr
));

916 
EXPECT_FALSE
(
IPIs6BÚe
(
s™–oÿl_addr
));

917 
EXPECT_FALSE
(
IPIs6To4
(
s™–oÿl_addr
));

918 
EXPECT_FALSE
(
IPIsT”edo
(
s™–oÿl_addr
));

919 
EXPECT_FALSE
(
IPIsULA
(
s™–oÿl_addr
));

920 
EXPECT_FALSE
(
IPIsV4Com·tib™y
(
s™–oÿl_addr
));

921 
EXPECT_FALSE
(
IPIsV4M­³d
(
s™–oÿl_addr
));

923 
IPAdd»ss
 
	g‹»do_addr
;

924 
IPFromSŒšg
("2001:0000:123:456::789:123", &
‹»do_addr
);

925 
EXPECT_TRUE
(
IPIsT”edo
(
‹»do_addr
));

926 
EXPECT_FALSE
(
IPIsS™eLoÿl
(
‹»do_addr
));

927 
EXPECT_FALSE
(
IPIs6BÚe
(
‹»do_addr
));

928 
EXPECT_FALSE
(
IPIs6To4
(
‹»do_addr
));

929 
EXPECT_FALSE
(
IPIsULA
(
‹»do_addr
));

930 
EXPECT_FALSE
(
IPIsV4Com·tib™y
(
‹»do_addr
));

931 
EXPECT_FALSE
(
IPIsV4M­³d
(
‹»do_addr
));

934 
TEST
(
IPAdd»ssTe¡
, 
Te¡ToS’s™iveSŒšg
) {

935 
IPAdd»ss
 
	gaddr_v4
 = IPAdd»ss(
kIPv4PublicAddr
);

936 
IPAdd»ss
 
	gaddr_v6
 = IPAdd»ss(
kIPv6PublicAddr
);

937 
IPAdd»ss
 
	gaddr_v6_2
 = IPAdd»ss(
kIPv6PublicAddr2
);

938 
EXPECT_EQ
(
kIPv4PublicAddrSŒšg
, 
addr_v4
.
ToSŒšg
());

939 
EXPECT_EQ
(
kIPv6PublicAddrSŒšg
, 
addr_v6
.
ToSŒšg
());

940 
EXPECT_EQ
(
kIPv6PublicAddr2SŒšg
, 
addr_v6_2
.
ToSŒšg
());

941 #ià
defšed
(
NDEBUG
)

942 
EXPECT_EQ
(
kIPv4PublicAddrAnÚymizedSŒšg
, 
addr_v4
.
ToS’s™iveSŒšg
());

943 
EXPECT_EQ
(
kIPv6PublicAddrAnÚymizedSŒšg
, 
addr_v6
.
ToS’s™iveSŒšg
());

944 
EXPECT_EQ
(
kIPv6PublicAddr2AnÚymizedSŒšg
, 
addr_v6_2
.
ToS’s™iveSŒšg
());

946 
EXPECT_EQ
(
kIPv4PublicAddrSŒšg
, 
addr_v4
.
ToS’s™iveSŒšg
());

947 
EXPECT_EQ
(
kIPv6PublicAddrSŒšg
, 
addr_v6
.
ToS’s™iveSŒšg
());

948 
EXPECT_EQ
(
kIPv6PublicAddr2SŒšg
, 
addr_v6_2
.
ToS’s™iveSŒšg
());

952 
TEST
(
IPAdd»ssTe¡
, 
Te¡IÁ”çûAdd»ss
) {

953 
š6_addr
 
	gaddr
;

954 
IÁ”çûAdd»ss
 
addr1
(
kIPv6PublicAddr
, 
IPV6_ADDRESS_FLAG_TEMPORARY
);

955 
EXPECT_EQ
(
addr1
.
v6_æags
(), 
IPV6_ADDRESS_FLAG_TEMPORARY
);

956 
EXPECT_EQ
(
addr1
.
çmy
(), 
AF_INET6
);

958 
	gaddr
 = 
addr1
.
v6_add»ss
();

959 
EXPECT_TRUE
(
IN6_ARE_ADDR_EQUAL
(&
addr
, &
kIPv6PublicAddr
));

961 
IÁ”çûAdd»ss
 
	gaddr2
 = 
addr1
;

962 
EXPECT_EQ
(
addr1
, 
addr2
);

963 
EXPECT_EQ
(
addr2
.
v6_æags
(), 
IPV6_ADDRESS_FLAG_TEMPORARY
);

964 
	gaddr
 = 
addr2
.
v6_add»ss
();

965 
EXPECT_TRUE
(
IN6_ARE_ADDR_EQUAL
(&
addr
, &
kIPv6PublicAddr
));

967 
IÁ”çûAdd»ss
 
addr3
(
addr1
);

968 
EXPECT_EQ
(
addr1
, 
addr3
);

969 
EXPECT_EQ
(
addr3
.
v6_æags
(), 
IPV6_ADDRESS_FLAG_TEMPORARY
);

970 
	gaddr
 = 
addr3
.
v6_add»ss
();

971 
EXPECT_TRUE
(
IN6_ARE_ADDR_EQUAL
(&
addr
, &
kIPv6PublicAddr
));

973 
IÁ”çûAdd»ss
 
addr4
(
kIPv6PublicAddr
, 
IPV6_ADDRESS_FLAG_DEPRECATED
);

974 
EXPECT_NE
(
addr1
, 
addr4
);

978 
IPAdd»ss
* 
	g·ddr1
 = &
addr1
;

979 
IPAdd»ss
* 
	g·ddr4
 = &
addr4
;

980 
EXPECT_EQ
(*
·ddr1
, *
·ddr4
);

982 
IÁ”çûAdd»ss
 
addr5
(
kIPv6LškLoÿlAddr
, 
IPV6_ADDRESS_FLAG_TEMPORARY
);

983 
EXPECT_NE
(
addr1
, 
addr5
);

	@keep_ref_until_done.h

11 #iâdeà
RTC_BASE_KEEP_REF_UNTIL_DONE_H_


12 
	#RTC_BASE_KEEP_REF_UNTIL_DONE_H_


	)

14 
	~"­i/scİed_»åŒ.h
"

15 
	~"¹c_ba£/bšd.h
"

16 
	~"¹c_ba£/ÿÎback.h
"

17 
	~"¹c_ba£/»f_couÁ.h
"

19 
Çme¥aû
 
	g¹c
 {

21 
Çme¥aû
 
	gim¶
 {

22 
	g‹m¶©e
 <
şass
 
	gT
>

23 
šlše
 
DoNÙhšg
(cÚ¡ 
scİed_»åŒ
<
T
>& 
objeù
) {}

29 
	g‹m¶©e
 <
şass
 
	gObjeùT
>

30 
šlše
 
	gC®lback0
<> 
K“pRefUÁDÚe
(
ObjeùT
* 
objeù
) {

31  
	g¹c
::
Bšd
(&
im¶
::
DoNÙhšg
<
ObjeùT
>, 
scİed_»åŒ
<ObjeùT>(
objeù
));

34 
	g‹m¶©e
 <
şass
 
	gObjeùT
>

35 
šlše
 
	gC®lback0
<> 
K“pRefUÁDÚe
(

36 cÚ¡ 
scİed_»åŒ
<
ObjeùT
>& 
objeù
) {

37  
	g¹c
::
Bšd
(&
im¶
::
DoNÙhšg
<
ObjeùT
>, 
objeù
);

	@location.cc

11 
	~"¹c_ba£/loÿtiÚ.h
"

13 
	~<¡dio.h
>

15 
Çme¥aû
 
	g¹c
 {

17 
	g¡d
::
¡ršg
 
LoÿtiÚ
::
ToSŒšg
() const {

18 
buf
[256];

19 
¢´štf
(
buf
, (buf), "%s@%s:%d", 
funùiÚ_Çme_
, 
fe_Çme_
,

20 
lše_numb”_
);

21  
	gbuf
;

	@location.h

11 #iâdeà
RTC_BASE_LOCATION_H_


12 
	#RTC_BASE_LOCATION_H_


	)

14 
	~<¡ršg
>

16 
	~"¹c_ba£/¡ršgize_maüos.h
"

17 
	~"¹c_ba£/sy¡em/¹c_expÜt.h
"

19 
Çme¥aû
 
	g¹c
 {

25 şas 
	cRTC_EXPORT
 
	gLoÿtiÚ
 {

26 
	gpublic
:

30 
LoÿtiÚ
(cÚ¡ * 
funùiÚ_Çme
, cÚ¡ * 
fe_Çme
, 
lše_numb”
)

31 : 
funùiÚ_Çme_
(
funùiÚ_Çme
),

32 
fe_Çme_
(
fe_Çme
),

33 
lše_numb”_
(
lše_numb”
) {}

34 
LoÿtiÚ
() = ;

36 cÚ¡ * 
funùiÚ_Çme
(ècÚ¡ {  
	gfunùiÚ_Çme_
; }

37 cÚ¡ * 
fe_Çme
(ècÚ¡ {  
	gfe_Çme_
; }

38 
lše_numb”
(ècÚ¡ {  
	glše_numb”_
; }

41 cÚ¡ * 
fe_ªd_lše
(ècÚ¡ {  
	gfe_Çme_
; }

43 
	g¡d
::
¡ršg
 
ToSŒšg
() const;

45 
	g´iv©e
:

46 cÚ¡ * 
funùiÚ_Çme_
 = "Unknown";

47 cÚ¡ * 
	gfe_Çme_
 = "Unknown";

48 
	glše_numb”_
 = -1;

52 
	#RTC_FROM_HERE
 
	$RTC_FROM_HERE_WITH_FUNCTION
(
__FUNCTION__
)

	)

54 
	#RTC_FROM_HERE_WITH_FUNCTION
(
funùiÚ_Çme
) \

55 ::
¹c
::
	`LoÿtiÚ
(
funùiÚ_Çme
, 
__FILE__
, 
__LINE__
)

	)

57 
	}
}

	@log_sinks.cc

11 
	~"¹c_ba£/log_sšks.h
"

13 
	~<¡ršg.h
>

15 
	~<c¡dio
>

16 
	~<¡ršg
>

18 
	~"¹c_ba£/checks.h
"

19 
	~"¹c_ba£/¡»am.h
"

21 
Çme¥aû
 
	g¹c
 {

23 
	gFeRÙ©šgLogSšk
::
FeRÙ©šgLogSšk
(cÚ¡ 
¡d
::
¡ršg
& 
log_dœ_·th
,

24 cÚ¡ 
¡d
::
¡ršg
& 
log_´efix
,

25 
size_t
 
max_log_size
,

26 
size_t
 
num_log_fes
)

27 : 
FeRÙ©šgLogSšk
(
Ãw
 
FeRÙ©šgSŒ—m
(
log_dœ_·th
,

28 
log_´efix
,

29 
max_log_size
,

30 
num_log_fes
)) {}

32 
	gFeRÙ©šgLogSšk
::
FeRÙ©šgLogSšk
(
FeRÙ©šgSŒ—m
* 
¡»am
)

33 : 
¡»am_
(
¡»am
) {

34 
RTC_DCHECK
(
¡»am
);

37 
	gFeRÙ©šgLogSšk
::~
FeRÙ©šgLogSšk
() {}

39 
FeRÙ©šgLogSšk
::
OnLogMes§ge
(cÚ¡ 
¡d
::
¡ršg
& 
mes§ge
) {

40 ià(
¡»am_
->
G‘S‹
(è!ğ
SS_OPEN
) {

41 
¡d
::
årštf
(
¡d”r
, "Init() must be called before‡ddinghis sink.\n");

44 
	g¡»am_
->
Wr™eAÎ
(
mes§ge
.
c_¡r
(), mes§ge.
size
(), 
nuÎ±r
,‚ullptr);

47 
	gFeRÙ©šgLogSšk
::
OnLogMes§ge
(cÚ¡ 
¡d
::
¡ršg
& 
mes§ge
,

48 
LoggšgSev”™y
 
£v
,

49 cÚ¡ * 
g
) {

50 ià(
	g¡»am_
->
G‘S‹
(è!ğ
SS_OPEN
) {

51 
¡d
::
årštf
(
¡d”r
, "Init() must be called before‡ddinghis sink.\n");

54 
	g¡»am_
->
Wr™eAÎ
(
g
, 
¡¾’
Ñag), 
nuÎ±r
,‚ullptr);

55 
	g¡»am_
->
Wr™eAÎ
(": ", 2, 
nuÎ±r
,‚ullptr);

56 
	g¡»am_
->
Wr™eAÎ
(
mes§ge
.
c_¡r
(), mes§ge.
size
(), 
nuÎ±r
,‚ullptr);

59 
boŞ
 
	gFeRÙ©šgLogSšk
::
In™
() {

60  
¡»am_
->
O³n
();

63 
boŞ
 
	gFeRÙ©šgLogSšk
::
Di§bËBufãršg
() {

64  
¡»am_
->
Di§bËBufãršg
();

67 
	gC®lSessiÚFeRÙ©šgLogSšk
::
C®lSessiÚFeRÙ©šgLogSšk
(

68 cÚ¡ 
¡d
::
¡ršg
& 
log_dœ_·th
,

69 
size_t
 
max_tÙ®_log_size
)

70 : 
FeRÙ©šgLogSšk
(

71 
Ãw
 
C®lSessiÚFeRÙ©šgSŒ—m
(
log_dœ_·th
, 
max_tÙ®_log_size
)) {

74 
	gC®lSessiÚFeRÙ©šgLogSšk
::~
C®lSessiÚFeRÙ©šgLogSšk
() {}

	@log_sinks.h

11 #iâdeà
RTC_BASE_LOG_SINKS_H_


12 
	#RTC_BASE_LOG_SINKS_H_


	)

14 
	~<¡ddef.h
>

16 
	~<memÜy
>

17 
	~<¡ršg
>

19 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

20 
	~"¹c_ba£/fe_rÙ©šg_¡»am.h
"

21 
	~"¹c_ba£/loggšg.h
"

23 
Çme¥aû
 
	g¹c
 {

27 şas 
	cFeRÙ©šgLogSšk
 : 
public
 
LogSšk
 {

28 
public
:

31 
FeRÙ©šgLogSšk
(cÚ¡ 
¡d
::
¡ršg
& 
log_dœ_·th
,

32 cÚ¡ 
¡d
::
¡ršg
& 
log_´efix
,

33 
size_t
 
max_log_size
,

34 
size_t
 
num_log_fes
);

35 ~
FeRÙ©šgLogSšk
(è
	gov”ride
;

39 
OnLogMes§ge
(cÚ¡ 
¡d
::
¡ršg
& 
mes§ge
è
ov”ride
;

40 
OnLogMes§ge
(cÚ¡ 
¡d
::
¡ršg
& 
mes§ge
,

41 
LoggšgSev”™y
 
£v
,

42 cÚ¡ * 
g
è
	gov”ride
;

45 
vœtu®
 
boŞ
 
In™
();

48 
boŞ
 
Di§bËBufãršg
();

50 
	g´Ùeùed
:

51 
ex¶ic™
 
FeRÙ©šgLogSšk
(
FeRÙ©šgSŒ—m
* 
¡»am
);

53 
	g´iv©e
:

54 
¡d
::
unique_±r
<
FeRÙ©šgSŒ—m
> 
¡»am_
;

56 
RTC_DISALLOW_COPY_AND_ASSIGN
(
FeRÙ©šgLogSšk
);

61 şas 
	cC®lSessiÚFeRÙ©šgLogSšk
 : 
public
 
FeRÙ©šgLogSšk
 {

62 
public
:

63 
C®lSessiÚFeRÙ©šgLogSšk
(cÚ¡ 
¡d
::
¡ršg
& 
log_dœ_·th
,

64 
size_t
 
max_tÙ®_log_size
);

65 ~
C®lSessiÚFeRÙ©šgLogSšk
(è
	gov”ride
;

67 
	g´iv©e
:

68 
RTC_DISALLOW_COPY_AND_ASSIGN
(
C®lSessiÚFeRÙ©šgLogSšk
);

	@logging.cc

11 
	~"¹c_ba£/loggšg.h
"

13 
	~<¡ršg.h
>

15 #ià
RTC_LOG_ENABLED
()

17 #ià
defšed
(
WEBRTC_WIN
)

18 
	~<wšdows.h
>

19 #ià
_MSC_VER
 < 1900

20 
	#¢´štf
 
_¢´štf


	)

22 #undeà
ERROR


25 #ià
defšed
(
WEBRTC_MAC
è&& !defšed(
WEBRTC_IOS
)

26 
	~<CÜeS”viûs/CÜeS”viûs.h
>

27 #–ià
defšed
(
WEBRTC_ANDROID
)

28 
	~<ªdroid/log.h
>

33 cÚ¡ 
	gkMaxLogLšeSize
 = 1024 - 60;

36 
	~<¡dio.h
>

37 
	~<time.h
>

39 
	~<®gÜ™hm
>

40 
	~<c¡d¬g
>

41 
	~<veùÜ
>

43 
	~"ab¦/ba£/©Œibu‹s.h
"

44 
	~"¹c_ba£/checks.h
"

45 
	~"¹c_ba£/ü™iÿl_£ùiÚ.h
"

46 
	~"¹c_ba£/¶©fÜm_th»ad_ty³s.h
"

47 
	~"¹c_ba£/¡ršg_’code.h
"

48 
	~"¹c_ba£/¡ršg_uts.h
"

49 
	~"¹c_ba£/¡ršgs/¡ršg_bud”.h
"

50 
	~"¹c_ba£/th»ad_ªnÙ©iÚs.h
"

51 
	~"¹c_ba£/time_uts.h
"

53 
Çme¥aû
 
	g¹c
 {

54 
	gÇme¥aû
 {

56 #ià!
defšed
(
NDEBUG
)

57 
LoggšgSev”™y
 
	gg_mš_£v
 = 
LS_INFO
;

58 
LoggšgSev”™y
 
	gg_dbg_£v
 = 
LS_INFO
;

60 
LoggšgSev”™y
 
	gg_mš_£v
 = 
LS_NONE
;

61 
LoggšgSev”™y
 
	gg_dbg_£v
 = 
LS_NONE
;

65 cÚ¡ * 
F’ameFromP©h
(cÚ¡ * 
fe
) {

66 cÚ¡ * 
	g’d1
 = ::
¡¼chr
(
fe
, '/');

67 cÚ¡ * 
	g’d2
 = ::
¡¼chr
(
fe
, '\\');

68 ià(!
	g’d1
 && !
	g’d2
)

69  
	gfe
;

71  (
	g’d1
 > 
	g’d2
è?ƒnd1 + 1 : 
’d2
 + 1;

75 
Cr™iÿlSeùiÚ
 
	gg_log_ü™
;

82 
boŞ
 
	gLogMes§ge
::
log_to_¡d”r_
 = 
Œue
;

88 
ABSL_CONST_INIT
 
LogSšk
* 
	gLogMes§ge
::
¡»ams_
 
RTC_GUARDED_BY
(
g_log_ü™
) =

89 
nuÎ±r
;

92 
boŞ
 
	gLogMes§ge
::
th»ad_
, LogMes§ge::
time¡amp_
;

94 
	gLogMes§ge
::
LogMes§ge
(cÚ¡ * 
fe
, 
lše
, 
LoggšgSev”™y
 
£v
)

95 : 
LogMes§ge
(
fe
, 
lše
, 
£v
, 
ERRCTX_NONE
, 0) {}

97 
	gLogMes§ge
::
LogMes§ge
(cÚ¡ * 
fe
,

98 
lše
,

99 
LoggšgSev”™y
 
£v
,

100 
LogE¼ÜCÚ‹xt
 
”r_ùx
,

101 
”r
)

102 : 
£v”™y_
(
£v
) {

103 ià(
time¡amp_
) {

106 
št64_t
 
time
 = 
TimeDiff
(
Sy¡emTimeMlis
(), 
LogS¹Time
());

109 
W®lClockS¹Time
();

110 
	g´št_¡»am_
 << "[" << 
	g¹c
::
LeáPad
('0', 3, 
¹c
::
ToSŒšg
(
time
 / 1000))

111 << ":" << 
¹c
::
LeáPad
('0', 3,„tc::
ToSŒšg
(
time
 % 1000))

115 ià(
	gth»ad_
) {

116 
PÏtfÜmTh»adId
 
	gid
 = 
Cu¼’tTh»adId
();

117 
	g´št_¡»am_
 << "[" << 
	gid
 << "] ";

120 ià(
	gfe
 !ğ
nuÎ±r
) {

121 #ià
defšed
(
WEBRTC_ANDROID
)

122 
g_
 = 
F’ameFromP©h
(
fe
);

123 
	g´št_¡»am_
 << "Öš" << 
	glše
 << "): ";

125 
	g´št_¡»am_
 << "(" << 
F’ameFromP©h
(
fe
è<< ":" << 
	glše
 << "): ";

129 ià(
	g”r_ùx
 !ğ
ERRCTX_NONE
) {

130 
tmp_buf
[1024];

131 
Sim¶eSŒšgBud”
 
tmp
(
tmp_buf
);

132 
	gtmp
.
Aµ’dFÜm©
("[0x%08X]", 
”r
);

133 
	g”r_ùx
) {

134 
	gERRCTX_ERRNO
:

135 
tmp
 << " " << 
¡»¼Ü
(
”r
);

137 #ifdeà
WEBRTC_WIN


138 
	gERRCTX_HRESULT
: {

139 
msgbuf
[256];

140 
DWORD
 
	gæags
 =

141 
FORMAT_MESSAGE_FROM_SYSTEM
 | 
FORMAT_MESSAGE_IGNORE_INSERTS
;

142 ià(
DWORD
 
	gËn
 = 
FÜm©Mes§geA
(

143 
æags
, 
nuÎ±r
, 
”r
, 
MAKELANGID
(
LANG_NEUTRAL
, 
SUBLANG_DEFAULT
),

144 
msgbuf
, (msgbufè/ (msgbuf[0]), 
nuÎ±r
)) {

145 (
	gËn
 > 0) &&

146 
is¥aû
(
¡©ic_ÿ¡
<>(
msgbuf
[
Ën
 - 1]))) {

147 
	gmsgbuf
[--
Ën
] = 0;

149 
	gtmp
 << " " << 
	gmsgbuf
;

157 
	gexŒa_
 = 
tmp
.
¡r
();

161 #ià
defšed
(
WEBRTC_ANDROID
)

162 
	gLogMes§ge
::
LogMes§ge
(cÚ¡ * 
fe
,

163 
lše
,

164 
LoggšgSev”™y
 
£v
,

165 cÚ¡ * 
g
)

166 : 
LogMes§ge
(
fe
, 
lše
, 
£v
, 
ERRCTX_NONE
, 0 ) {

167 
	gg_
 = 
g
;

168 
	g´št_¡»am_
 << 
	gg
 << ": ";

175 
	gLogMes§ge
::
LogMes§ge
(cÚ¡ * 
fe
,

176 
lše
,

177 
LoggšgSev”™y
 
£v
,

178 cÚ¡ 
¡d
::
¡ršg
& 
g
)

179 : 
LogMes§ge
(
fe
, 
lše
, 
£v
) {

180 
	g´št_¡»am_
 << 
	gg
 << ": ";

183 
	gLogMes§ge
::~
LogMes§ge
() {

184 
FšishPrštSŒ—m
();

186 cÚ¡ 
	g¡d
::
¡ršg
 
¡r
 = 
´št_¡»am_
.
R–—£
();

188 ià(
	g£v”™y_
 >ğ
g_dbg_£v
) {

189 #ià
defšed
(
WEBRTC_ANDROID
)

190 
OuutToDebug
(
¡r
, 
£v”™y_
, 
g_
);

192 
OuutToDebug
(
¡r
, 
£v”™y_
);

196 
Cr™Scİe
 
cs
(&
g_log_ü™
);

197 
LogSšk
* 
	g’Œy
 = 
¡»ams_
;ƒÁry !ğ
nuÎ±r
;ƒÁry = 
’Œy
->
Ãxt_
) {

198 ià(
£v”™y_
 >ğ
’Œy
->
mš_£v”™y_
) {

199 #ià
defšed
(
WEBRTC_ANDROID
)

200 
’Œy
->
OnLogMes§ge
(
¡r
, 
£v”™y_
, 
g_
);

202 
	g’Œy
->
OnLogMes§ge
(
¡r
, 
£v”™y_
);

208 
	gLogMes§ge
::
AddTag
(cÚ¡ * 
g
) {

209 #ifdeà
WEBRTC_ANDROID


210 
g_
 = 
g
;

214 
	g¹c
::
SŒšgBud”
& 
LogMes§ge
::
¡»am
() {

215  
´št_¡»am_
;

218 
	gLogMes§ge
::
G‘MšLogSev”™y
() {

219  
g_mš_£v
;

222 
LoggšgSev”™y
 
	gLogMes§ge
::
G‘LogToDebug
() {

223  
g_dbg_£v
;

225 
št64_t
 
	gLogMes§ge
::
LogS¹Time
() {

226 cÚ¡ 
št64_t
 
g_¡¬t
 = 
Sy¡emTimeMlis
();

227  
	gg_¡¬t
;

230 
ušt32_t
 
	gLogMes§ge
::
W®lClockS¹Time
() {

231 cÚ¡ 
ušt32_t
 
g_¡¬t_w®lşock
 = 
time
(
nuÎ±r
);

232  
	gg_¡¬t_w®lşock
;

235 
	gLogMes§ge
::
LogTh»ads
(
boŞ
 
Ú
) {

236 
th»ad_
 = 
Ú
;

239 
	gLogMes§ge
::
LogTime¡amps
(
boŞ
 
Ú
) {

240 
time¡amp_
 = 
Ú
;

243 
	gLogMes§ge
::
LogToDebug
(
LoggšgSev”™y
 
mš_£v
) {

244 
g_dbg_£v
 = 
mš_£v
;

245 
Cr™Scİe
 
cs
(&
g_log_ü™
);

246 
Upd©eMšLogSev”™y
();

249 
	gLogMes§ge
::
S‘LogToStd”r
(
boŞ
 
log_to_¡d”r
) {

250 
log_to_¡d”r_
 = 
log_to_¡d”r
;

253 
	gLogMes§ge
::
G‘LogToSŒ—m
(
LogSšk
* 
¡»am
) {

254 
Cr™Scİe
 
cs
(&
g_log_ü™
);

255 
LoggšgSev”™y
 
	g£v
 = 
LS_NONE
;

256 
LogSšk
* 
	g’Œy
 = 
¡»ams_
;ƒÁry !ğ
nuÎ±r
;ƒÁry = 
’Œy
->
Ãxt_
) {

257 ià(
¡»am
 =ğ
nuÎ±r
 || sŒ—m =ğ
’Œy
) {

258 
£v
 = 
¡d
::
mš
(£v, 
’Œy
->
mš_£v”™y_
);

261  
	g£v
;

264 
	gLogMes§ge
::
AddLogToSŒ—m
(
LogSšk
* 
¡»am
, 
LoggšgSev”™y
 
mš_£v
) {

265 
Cr™Scİe
 
cs
(&
g_log_ü™
);

266 
	g¡»am
->
	gmš_£v”™y_
 = 
mš_£v
;

267 
	g¡»am
->
	gÃxt_
 = 
¡»ams_
;

268 
	g¡»ams_
 = 
¡»am
;

269 
Upd©eMšLogSev”™y
();

272 
	gLogMes§ge
::
RemoveLogToSŒ—m
(
LogSšk
* 
¡»am
) {

273 
Cr™Scİe
 
cs
(&
g_log_ü™
);

274 
LogSšk
** 
	g’Œy
 = &
¡»ams_
; *’Œy !ğ
nuÎ±r
;

275 
	g’Œy
 = &(*
’Œy
)->
Ãxt_
) {

276 ià(*
’Œy
 =ğ
¡»am
) {

277 *
’Œy
 = (*’Œy)->
Ãxt_
;

281 
Upd©eMšLogSev”™y
();

284 
	gLogMes§ge
::
CÚfigu»Loggšg
(cÚ¡ * 
·¿ms
) {

285 
LoggšgSev”™y
 
cu¼’t_Ëv–
 = 
LS_VERBOSE
;

286 
LoggšgSev”™y
 
	gdebug_Ëv–
 = 
G‘LogToDebug
();

288 
	g¡d
::
veùÜ
<
¡d
::
¡ršg
> 
tok’s
;

289 
tok’ize
(
·¿ms
, ' ', &
tok’s
);

291 cÚ¡ 
	g¡d
::
¡ršg
& 
tok’
 : 
tok’s
) {

292 ià(
tok’
.
em±y
())

296 ià(
	gtok’
 == "tstamp") {

297 
LogTime¡amps
();

298 } ià(
	gtok’
 == "thread") {

299 
LogTh»ads
();

302 } ià(
	gtok’
 == "verbose") {

303 
cu¼’t_Ëv–
 = 
LS_VERBOSE
;

304 } ià(
	gtok’
 == "info") {

305 
cu¼’t_Ëv–
 = 
LS_INFO
;

306 } ià(
	gtok’
 == "warning") {

307 
cu¼’t_Ëv–
 = 
LS_WARNING
;

308 } ià(
	gtok’
 == "error") {

309 
cu¼’t_Ëv–
 = 
LS_ERROR
;

310 } ià(
	gtok’
 == "none") {

311 
cu¼’t_Ëv–
 = 
LS_NONE
;

314 } ià(
	gtok’
 == "debug") {

315 
debug_Ëv–
 = 
cu¼’t_Ëv–
;

319 #ià
defšed
(
WEBRTC_WIN
è&& !defšed(
WINUWP
)

320 ià((
	gLS_NONE
 !ğ
debug_Ëv–
è&& !::
IsDebugg”P»£Á
()) {

325 ià(!
A‰achCÚsŞe
(
ATTACH_PARENT_PROCESS
))

326 ::
AÎocCÚsŞe
();

330 
LogToDebug
(
debug_Ëv–
);

333 
	gLogMes§ge
::
Upd©eMšLogSev”™y
()

334 
RTC_EXCLUSIVE_LOCKS_REQUIRED
(
g_log_ü™
) {

335 
LoggšgSev”™y
 
mš_£v
 = 
g_dbg_£v
;

336 
LogSšk
* 
	g’Œy
 = 
¡»ams_
;ƒÁry !ğ
nuÎ±r
;ƒÁry = 
’Œy
->
Ãxt_
) {

337 
mš_£v
 = 
¡d
::
mš
(mš_£v, 
’Œy
->
mš_£v”™y_
);

339 
	gg_mš_£v
 = 
mš_£v
;

342 #ià
defšed
(
WEBRTC_ANDROID
)

343 
	gLogMes§ge
::
OuutToDebug
(cÚ¡ 
¡d
::
¡ršg
& 
¡r
,

344 
LoggšgSev”™y
 
£v”™y
,

345 cÚ¡ * 
g
) {

347 
	gLogMes§ge
::
OuutToDebug
(cÚ¡ 
¡d
::
¡ršg
& 
¡r
,

348 
LoggšgSev”™y
 
£v”™y
) {

350 
boŞ
 
	glog_to_¡d”r
 = 
log_to_¡d”r_
;

351 #ià
defšed
(
WEBRTC_MAC
è&& !defšed(
WEBRTC_IOS
è&& defšed(
NDEBUG
)

355 
CFSŒšgRef
 
	gkey
 = 
CFSŒšgC»©eW™hCSŒšg
(

356 
kCFAÎoÿtÜDeçuÉ
, "logToStdE¼", 
kCFSŒšgEncodšgUTF8
);

357 
CFSŒšgRef
 
	gdomaš
 = 
CFBundËG‘Id’tif›r
(
CFBundËG‘MašBundË
());

358 ià(
	gkey
 !ğ
nuÎ±r
 && 
domaš
 !=‚ullptr) {

359 
BoŞ—n
 
exi¡s_ªd_is_v®id
;

360 
BoŞ—n
 
	gshould_log
 =

361 
CFP»ã»nûsG‘AµBoŞ—nV®ue
(
key
, 
domaš
, &
exi¡s_ªd_is_v®id
);

364 
	glog_to_¡d”r
 = 
exi¡s_ªd_is_v®id
 && 
should_log
;

366 ià(
	gkey
 !ğ
nuÎ±r
) {

367 
CFR–—£
(
key
);

371 #ià
defšed
(
WEBRTC_WIN
)

374 
OuutDebugSŒšgA
(
¡r
.
c_¡r
());

375 ià(
	glog_to_¡d”r
) {

377 ià(
HANDLE
 
	g”rÜ_hªdË
 = ::
G‘StdHªdË
(
STD_ERROR_HANDLE
)) {

378 
log_to_¡d”r
 = 
çl£
;

379 
DWORD
 
	gwr™‹n
 = 0;

380 ::
Wr™eFe
(
”rÜ_hªdË
, 
¡r
.
d©a
(), 
¡©ic_ÿ¡
<
DWORD
>(¡r.
size
()),

381 &
wr™‹n
, 0);

386 #ià
defšed
(
WEBRTC_ANDROID
)

391 
	g´io
;

392 
	g£v”™y
) {

393 
	gLS_VERBOSE
:

394 
´io
 = 
ANDROID_LOG_VERBOSE
;

396 
	gLS_INFO
:

397 
´io
 = 
ANDROID_LOG_INFO
;

399 
	gLS_WARNING
:

400 
´io
 = 
ANDROID_LOG_WARN
;

402 
	gLS_ERROR
:

403 
´io
 = 
ANDROID_LOG_ERROR
;

406 
´io
 = 
ANDROID_LOG_UNKNOWN
;

409 
	gsize
 = 
¡r
.
size
();

410 
	glše
 = 0;

411 
	gidx
 = 0;

412 cÚ¡ 
	gmax_lšes
 = 
size
 / 
kMaxLogLšeSize
 + 1;

413 ià(
	gmax_lšes
 == 1) {

414 
__ªdroid_log_´št
(
´io
, 
g
, "%.*s", 
size
, 
¡r
.
c_¡r
());

416 
	gsize
 > 0) {

417 cÚ¡ 
	gËn
 = 
¡d
::
mš
(
size
, 
kMaxLogLšeSize
);

420 
__ªdroid_log_´št
(
´io
, 
g
, "[%d/%d] %.*s", 
lše
 + 1, 
max_lšes
, 
Ën
,

421 
¡r
.
c_¡r
(è+ 
idx
);

422 
	gidx
 +ğ
Ën
;

423 
	gsize
 -ğ
Ën
;

424 ++
	glše
;

428 ià(
	glog_to_¡d”r
) {

429 
årštf
(
¡d”r
, "%s", 
¡r
.
c_¡r
());

430 
fæush
(
¡d”r
);

435 
boŞ
 
	gLogMes§ge
::
IsNoİ
(
LoggšgSev”™y
 
£v”™y
) {

436 ià(
£v”™y
 >ğ
g_dbg_£v
 || sev”™y >ğ
g_mš_£v
)

437  
çl£
;

442 
Cr™Scİe
 
cs
(&
g_log_ü™
);

443  
	g¡»ams_
 =ğ
nuÎ±r
;

446 
	gLogMes§ge
::
FšishPrštSŒ—m
() {

447 ià(!
exŒa_
.
em±y
())

448 
´št_¡»am_
 << " : " << 
exŒa_
;

449 
	g´št_¡»am_
 << "\n";

452 
Çme¥aû
 
	gweb¹c_loggšg_im¶
 {

454 
Log
(cÚ¡ 
LogArgTy³
* 
fmt
, ...) {

455 
va_li¡
 
	g¬gs
;

456 
va_¡¬t
(
¬gs
, 
fmt
);

458 
LogM‘ad©aE¼
 
	gm‘a
;

459 cÚ¡ * 
	gg
 = 
nuÎ±r
;

460 *
	gfmt
) {

461 
	gLogArgTy³
::
kLogM‘ad©a
: {

462 
m‘a
 = {
va_¬g
(
¬gs
, 
LogM‘ad©a
), 
ERRCTX_NONE
, 0};

465 
	gLogArgTy³
::
kLogM‘ad©aE¼
: {

466 
m‘a
 = 
va_¬g
(
¬gs
, 
LogM‘ad©aE¼
);

469 #ifdeà
WEBRTC_ANDROID


470 
	gLogArgTy³
::
kLogM‘ad©aTag
: {

471 cÚ¡ 
LogM‘ad©aTag
 
g_m‘a
 = 
va_¬g
(
¬gs
, LogMetadataTag);

472 
	gm‘a
 = {{
nuÎ±r
, 0, 
g_m‘a
.
£v”™y
}, 
ERRCTX_NONE
, 0};

473 
	gg
 = 
g_m‘a
.
g
;

478 
RTC_NOTREACHED
();

479 
va_’d
(
¬gs
);

484 ià(
	gLogMes§ge
::
IsNoİ
(
m‘a
.m‘a.
Sev”™y
())) {

485 
va_’d
(
¬gs
);

489 
LogMes§ge
 
log_mes§ge
(
m‘a
.m‘a.
Fe
(), m‘a.m‘a.
Lše
(),

490 
m‘a
.m‘a.
Sev”™y
(), m‘a.
”r_ùx
, m‘a.
”r
);

491 ià(
	gg
) {

492 
	glog_mes§ge
.
AddTag
(
g
);

495 ++
	gfmt
; *fmˆ!ğ
LogArgTy³
::
kEnd
; ++fmt) {

496 *
	gfmt
) {

497 
	gLogArgTy³
::
kIÁ
:

498 
log_mes§ge
.
¡»am
(è<< 
va_¬g
(
¬gs
, );

500 
	gLogArgTy³
::
kLÚg
:

501 
log_mes§ge
.
¡»am
(è<< 
va_¬g
(
¬gs
, );

503 
	gLogArgTy³
::
kLÚgLÚg
:

504 
log_mes§ge
.
¡»am
(è<< 
va_¬g
(
¬gs
, );

506 
	gLogArgTy³
::
kUIÁ
:

507 
log_mes§ge
.
¡»am
(è<< 
va_¬g
(
¬gs
, );

509 
	gLogArgTy³
::
kULÚg
:

510 
log_mes§ge
.
¡»am
(è<< 
va_¬g
(
¬gs
, );

512 
	gLogArgTy³
::
kULÚgLÚg
:

513 
log_mes§ge
.
¡»am
(è<< 
va_¬g
(
¬gs
, );

515 
	gLogArgTy³
::
kDoubË
:

516 
log_mes§ge
.
¡»am
(è<< 
va_¬g
(
¬gs
, );

518 
	gLogArgTy³
::
kLÚgDoubË
:

519 
log_mes§ge
.
¡»am
(è<< 
va_¬g
(
¬gs
, );

521 
	gLogArgTy³
::
kCh¬P
: {

522 cÚ¡ * 
s
 = 
va_¬g
(
¬gs
, const *);

523 
	glog_mes§ge
.
¡»am
(è<< (
	gs
 ? s : "(null)");

526 
	gLogArgTy³
::
kStdSŒšg
:

527 
log_mes§ge
.
¡»am
(è<< *
va_¬g
(
¬gs
, cÚ¡ 
¡d
::
¡ršg
*);

529 
	gLogArgTy³
::
kSŒšgV›w
:

530 
log_mes§ge
.
¡»am
(è<< *
va_¬g
(
¬gs
, cÚ¡ 
ab¦
::
¡ršg_v›w
*);

532 
	gLogArgTy³
::
kVoidP
:

533 
log_mes§ge
.
¡»am
(è<< 
¹c
::
ToHex
(

534 
»š‹½»t_ÿ¡
<
ušŒ_t
>(
va_¬g
(
¬gs
, const *)));

537 
RTC_NOTREACHED
();

538 
va_’d
(
¬gs
);

543 
va_’d
(
¬gs
);

550 
Çme¥aû
 
	g¹c
 {

552 
	gLogSšk
::
OnLogMes§ge
(cÚ¡ 
¡d
::
¡ršg
& 
msg
,

553 
LoggšgSev”™y
 
£v”™y
,

554 cÚ¡ * 
g
) {

555 
OnLogMes§ge
(
g
 + (": " + 
msg
), 
£v”™y
);

558 
	gLogSšk
::
OnLogMes§ge
(cÚ¡ 
¡d
::
¡ršg
& 
msg
,

559 
LoggšgSev”™y
 ) {

560 
OnLogMes§ge
(
msg
);

	@logging.h

44 #iâdeà
RTC_BASE_LOGGING_H_


45 
	#RTC_BASE_LOGGING_H_


	)

47 
	~<”ºo.h
>

49 
	~<s¡»am
>

50 
	~<¡ršg
>

51 
	~<ut™y
>

53 
	~"ab¦/m‘a/ty³_Œa™s.h
"

54 
	~"ab¦/¡ršgs/¡ršg_v›w.h
"

55 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

56 
	~"¹c_ba£/d•»ÿtiÚ.h
"

57 
	~"¹c_ba£/¡ršgs/¡ršg_bud”.h
"

58 
	~"¹c_ba£/sy¡em/šlše.h
"

60 #ià!
defšed
(
NDEBUG
è|| defšed(
DLOG_ALWAYS_ON
)

61 
	#RTC_DLOG_IS_ON
 1

	)

63 
	#RTC_DLOG_IS_ON
 0

	)

66 #ià
defšed
(
RTC_DISABLE_LOGGING
)

67 
	#RTC_LOG_ENABLED
(è0

	)

69 
	#RTC_LOG_ENABLED
(è1

	)

72 
Çme¥aû
 
	g¹c
 {

85 
	eLoggšgSev”™y
 {

86 
	gLS_VERBOSE
,

87 
	gLS_INFO
,

88 
	gLS_WARNING
,

89 
	gLS_ERROR
,

90 
	gLS_NONE
,

91 
	gINFO
 = 
LS_INFO
,

92 
	gWARNING
 = 
LS_WARNING
,

93 
	gLERROR
 = 
LS_ERROR


97 
	eLogE¼ÜCÚ‹xt
 {

98 
	gERRCTX_NONE
,

99 
	gERRCTX_ERRNO
,

100 
	gERRCTX_HRESULT
,

103 
	gERRCTX_EN
 = 
ERRCTX_ERRNO
,

104 
	gERRCTX_HR
 = 
ERRCTX_HRESULT
,

107 
şass
 
	gLogMes§ge
;

109 şas 
	cLogSšk
 {

110 
	gpublic
:

111 
LogSšk
() {}

112 
vœtu®
 ~
LogSšk
() {}

113 
vœtu®
 
OnLogMes§ge
(cÚ¡ 
¡d
::
¡ršg
& 
msg
,

114 
LoggšgSev”™y
 
£v”™y
,

115 cÚ¡ * 
g
);

116 
vœtu®
 
OnLogMes§ge
(cÚ¡ 
¡d
::
¡ršg
& 
mes§ge
,

117 
LoggšgSev”™y
 
£v”™y
);

118 
vœtu®
 
OnLogMes§ge
(cÚ¡ 
¡d
::
¡ršg
& 
mes§ge
) = 0;

120 
	g´iv©e
:

121 
ä›nd
 
şass
 ::
¹c
::
LogMes§ge
;

122 #ià
RTC_LOG_ENABLED
()

124 
LogSšk
* 
	gÃxt_
 = 
nuÎ±r
;

125 
LoggšgSev”™y
 
	gmš_£v”™y_
;

129 
Çme¥aû
 
	gweb¹c_loggšg_im¶
 {

131 şas 
	cLogM‘ad©a
 {

132 
	gpublic
:

133 
LogM‘ad©a
(cÚ¡ * 
fe
, 
lše
, 
LoggšgSev”™y
 
£v”™y
)

134 : 
fe_
(
fe
),

135 
lše_ªd_£v_
(
¡©ic_ÿ¡
<
ušt32_t
>(
lše
è<< 3 | 
£v”™y
) {}

136 
LogM‘ad©a
() = ;

138 cÚ¡ * 
Fe
(ècÚ¡ {  
	gfe_
; }

139 
Lše
(ècÚ¡ {  
	glše_ªd_£v_
 >> 3; }

140 
LoggšgSev”™y
 
Sev”™y
() const {

141  
	g¡©ic_ÿ¡
<
	gLoggšgSev”™y
>(
	glše_ªd_£v_
 & 0x7);

144 
	g´iv©e
:

145 cÚ¡ * 
fe_
;

151 
ušt32_t
 
	glše_ªd_£v_
;

153 
¡©ic_as£¹
(
¡d
::
is_ŒivŸl
<
LogM‘ad©a
>::
v®ue
, "");

155 
	sLogM‘ad©aE¼
 {

156 
LogM‘ad©a
 
	gm‘a
;

157 
LogE¼ÜCÚ‹xt
 
	g”r_ùx
;

158 
	g”r
;

161 #ifdeà
WEBRTC_ANDROID


162 
	sLogM‘ad©aTag
 {

163 
LoggšgSev”™y
 
	g£v”™y
;

164 cÚ¡ * 
	gg
;

168 şas 
	cLogArgTy³
 : 
št8_t
 {

169 
kEnd
 = 0,

170 
	gkIÁ
,

171 
	gkLÚg
,

172 
	gkLÚgLÚg
,

173 
	gkUIÁ
,

174 
	gkULÚg
,

175 
	gkULÚgLÚg
,

176 
	gkDoubË
,

177 
	gkLÚgDoubË
,

178 
	gkCh¬P
,

179 
	gkStdSŒšg
,

180 
	gkSŒšgV›w
,

181 
	gkVoidP
,

182 
	gkLogM‘ad©a
,

183 
	gkLogM‘ad©aE¼
,

184 #ifdeà
WEBRTC_ANDROID


185 
	gkLogM‘ad©aTag
,

191 
	g‹m¶©e
 <
LogArgTy³
 
	gN
, 
ty³Çme
 
	gT
>

192 
	sV®
 {

193 
cÚ¡ex´
 
LogArgTy³
 
Ty³
(è{  
	gN
; }

194 
T
 
G‘V®
(ècÚ¡ {  
	gv®
; }

195 
T
 
	gv®
;

201 
	sToSŒšgV®
 {

202 
cÚ¡ex´
 
LogArgTy³
 
Ty³
(è{  
	gLogArgTy³
::
kStdSŒšg
; }

203 cÚ¡ 
	g¡d
::
¡ršg
* 
G‘V®
(ècÚ¡ {  &
v®
; }

204 
	g¡d
::
¡ršg
 
v®
;

207 
šlše
 
	gV®
<
	gLogArgTy³
::
kIÁ
, > 
MakeV®
(
x
) {

208  {
	gx
};

210 
šlše
 
	gV®
<
	gLogArgTy³
::
kLÚg
, > 
MakeV®
(
x
) {

211  {
	gx
};

213 
šlše
 
	gV®
<
	gLogArgTy³
::
kLÚgLÚg
, > 
MakeV®
(
x
) {

214  {
	gx
};

216 
šlše
 
	gV®
<
	gLogArgTy³
::
kUIÁ
, > 
MakeV®
(
x
) {

217  {
	gx
};

219 
šlše
 
	gV®
<
	gLogArgTy³
::
kULÚg
, > 
MakeV®
(
x
) {

220  {
	gx
};

222 
šlše
 
	gV®
<
	gLogArgTy³
::
kULÚgLÚg
, > 
MakeV®
(

223 
x
) {

224  {
	gx
};

227 
šlše
 
	gV®
<
	gLogArgTy³
::
kDoubË
, > 
MakeV®
(
x
) {

228  {
	gx
};

230 
šlše
 
	gV®
<
	gLogArgTy³
::
kLÚgDoubË
, > 
MakeV®
(
x
) {

231  {
	gx
};

234 
šlše
 
	gV®
<
	gLogArgTy³
::
kCh¬P
, cÚ¡ *> 
MakeV®
(cÚ¡ * 
x
) {

235  {
	gx
};

237 
šlše
 
	gV®
<
	gLogArgTy³
::
kStdSŒšg
, cÚ¡ 
	g¡d
::
¡ršg
*> 
MakeV®
(

238 cÚ¡ 
¡d
::
¡ršg
& 
x
) {

239  {&
x
};

241 
šlše
 
	gV®
<
	gLogArgTy³
::
kSŒšgV›w
, cÚ¡ 
	gab¦
::
¡ršg_v›w
*> 
MakeV®
(

242 cÚ¡ 
ab¦
::
¡ršg_v›w
& 
x
) {

243  {&
x
};

246 
šlše
 
	gV®
<
	gLogArgTy³
::
kVoidP
, cÚ¡ *> 
MakeV®
(cÚ¡ * 
x
) {

247  {
	gx
};

250 
šlše
 
	gV®
<
	gLogArgTy³
::
kLogM‘ad©a
, 
	gLogM‘ad©a
> 
MakeV®
(

251 cÚ¡ 
LogM‘ad©a
& 
x
) {

252  {
	gx
};

254 
šlše
 
	gV®
<
	gLogArgTy³
::
kLogM‘ad©aE¼
, 
	gLogM‘ad©aE¼
> 
MakeV®
(

255 cÚ¡ 
LogM‘ad©aE¼
& 
x
) {

256  {
	gx
};

260 
	g‹m¶©e
 <
ty³Çme
 
	gT
,

261 
	gab¦
::
’abË_if_t
<
¡d
::
is_’um
<
T
>::
v®ue
 &&

262 !
¡d
::
is_¬™hm‘ic
<
T
>::
v®ue
>* = 
nuÎ±r
>

263 
šlše
 
deşty³
(
MakeV®
(
¡d
::
deşv®
<
ab¦
::
und”lyšg_ty³_t
<
T
>>())) MakeVal(

264 
T
 
x
) {

265  {
¡©ic_ÿ¡
<
ab¦
::
und”lyšg_ty³_t
<
T
>>(
x
)};

268 #ifdeà
WEBRTC_ANDROID


269 
šlše
 
	gV®
<
	gLogArgTy³
::
kLogM‘ad©aTag
, 
	gLogM‘ad©aTag
> 
MakeV®
(

270 cÚ¡ 
LogM‘ad©aTag
& 
x
) {

271  {
	gx
};

275 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
	gşass
 = >

276 
has_to_log_¡ršg
 : 
¡d
::
çl£_ty³
 {};

277 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

278 
	ghas_to_log_¡ršg
<
	gT
, 
deşty³
(
ToLogSŒšg
(
¡d
::
deşv®
<
T
>()))>

279 : 
¡d
::
Œue_ty³
 {};

284 
	g‹m¶©e
 <

285 
ty³Çme
 
	gT
,

286 
ty³Çme
 
	gT1
 = 
ab¦
::
deÿy_t
<
T
>,

287 
	gab¦
::
’abË_if_t
<
¡d
::
is_şass
<
T1
>::
v®ue
 &&

288 !
¡d
::
is_§me
<
T1
, 
	g¡d
::
¡ršg
>::
v®ue
 &&

289 !
¡d
::
is_§me
<
T1
, 
	gLogM‘ad©a
>::
v®ue
 &&

290 !
has_to_log_¡ršg
<
T1
>::
v®ue
 &&

291 #ifdeà
WEBRTC_ANDROID


292 !
¡d
::
is_§me
<
T1
, 
	gLogM‘ad©aTag
>::
v®ue
 &&

294 !
¡d
::
is_§me
<
T1
, 
	gLogM‘ad©aE¼
>::
v®ue
>* = 
nuÎ±r
>

295 
ToSŒšgV®
 
MakeV®
(cÚ¡ 
T
& 
x
) {

296 
¡d
::
o¡ršg¡»am
 
os
;

297 
	gos
 << 
	gx
;

298  {
	gos
.
¡r
()};

301 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
	gab¦
::
’abË_if_t
<
has_to_log_¡ršg
<
T
>::
v®ue
>* = 
nuÎ±r
>

302 
ToSŒšgV®
 
MakeV®
(cÚ¡ 
T
& 
x
) {

303  {
ToLogSŒšg
(
x
)};

306 #ià
RTC_LOG_ENABLED
()

307 
Log
(cÚ¡ 
LogArgTy³
* 
fmt
, ...);

309 
šlše
 
Log
(cÚ¡ 
LogArgTy³
* 
fmt
, ...) {

315 
	g‹m¶©e
 <
	gty³Çme
... 
	gTs
>

316 
şass
 
	gLogSŒ—m”
;

319 
	g‹m¶©e
 <>

320 
şass
 
	gLogSŒ—m”
<> 
	gfš®
 {

321 
	gpublic
:

322 
‹m¶©e
 <
ty³Çme
 
U
,

323 
ty³Çme
 
	gV
 = 
deşty³
(
MakeV®
(
¡d
::
deşv®
<
U
>())),

324 
	gab¦
::
’abË_if_t
<
¡d
::
is_¬™hm‘ic
<
U
>::
v®ue
 ||

325 
¡d
::
is_’um
<
U
>::
v®ue
>* = 
nuÎ±r
>

326 
RTC_FORCE_INLINE
 
LogSŒ—m”
<
V
> 
İ”©Ü
<<(
U
 
¬g
) const {

327  
LogSŒ—m”
<
V
>(
MakeV®
(
¬g
), 
this
);

330 
	g‹m¶©e
 <
ty³Çme
 
	gU
,

331 
ty³Çme
 
	gV
 = 
deşty³
(
MakeV®
(
¡d
::
deşv®
<
U
>())),

332 
	gab¦
::
’abË_if_t
<!
¡d
::
is_¬™hm‘ic
<
U
>::
v®ue
 &&

333 !
¡d
::
is_’um
<
U
>::
v®ue
>* = 
nuÎ±r
>

334 
RTC_FORCE_INLINE
 
LogSŒ—m”
<
V
> 
İ”©Ü
<<(cÚ¡ 
U
& 
¬g
) const {

335  
LogSŒ—m”
<
V
>(
MakeV®
(
¬g
), 
this
);

338 
	g‹m¶©e
 <
	gty³Çme
... 
	gUs
>

339 
RTC_FORCE_INLINE
 
C®l
(cÚ¡ 
Us
&... 
¬gs
) {

340 
cÚ¡ex´
 
LogArgTy³
 
	gt
[] = {
Us
::
Ty³
()..., LogArgTy³::
kEnd
};

341 
Log
(
t
, 
¬gs
.
G‘V®
()...);

347 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
	gty³Çme
... 
	gTs
>

348 
şass
 
	gLogSŒ—m”
<
	gT
, 
	gTs
...> 
	gfš®
 {

349 
	gpublic
:

350 
RTC_FORCE_INLINE
 
LogSŒ—m”
(
T
 
¬g
, cÚ¡ LogSŒ—m”<
Ts
...>* 
´iÜ
)

351 : 
¬g_
(
¬g
), 
´iÜ_
(
´iÜ
) {}

353 
	g‹m¶©e
 <
ty³Çme
 
	gU
,

354 
ty³Çme
 
	gV
 = 
deşty³
(
MakeV®
(
¡d
::
deşv®
<
U
>())),

355 
	gab¦
::
’abË_if_t
<
¡d
::
is_¬™hm‘ic
<
U
>::
v®ue
 ||

356 
¡d
::
is_’um
<
U
>::
v®ue
>* = 
nuÎ±r
>

357 
RTC_FORCE_INLINE
 
LogSŒ—m”
<
V
, 
	gT
, 
	gTs
...> 
	gİ”©Ü
<<(
U
 
	g¬g
) const {

358  
	gLogSŒ—m”
<
	gV
, 
	gT
, 
	gTs
...>(
MakeV®
(
¬g
), 
	gthis
);

361 
	g‹m¶©e
 <
ty³Çme
 
	gU
,

362 
ty³Çme
 
	gV
 = 
deşty³
(
MakeV®
(
¡d
::
deşv®
<
U
>())),

363 
	gab¦
::
’abË_if_t
<!
¡d
::
is_¬™hm‘ic
<
U
>::
v®ue
 &&

364 !
¡d
::
is_’um
<
U
>::
v®ue
>* = 
nuÎ±r
>

365 
RTC_FORCE_INLINE
 
LogSŒ—m”
<
V
, 
	gT
, 
	gTs
...> 
	gİ”©Ü
<<(cÚ¡ 
	gU
& 
	g¬g
) const {

366  
	gLogSŒ—m”
<
	gV
, 
	gT
, 
	gTs
...>(
MakeV®
(
¬g
), 
	gthis
);

369 
	g‹m¶©e
 <
	gty³Çme
... 
	gUs
>

370 
RTC_FORCE_INLINE
 
C®l
(cÚ¡ 
Us
&... 
¬gs
) const {

371 
	g´iÜ_
->
C®l
(
¬g_
, 
¬gs
...);

374 
	g´iv©e
:

376 
T
 
¬g_
;

379 cÚ¡ 
	gLogSŒ—m”
<
	gTs
...>* 
	g´iÜ_
;

382 şas 
	cLogC®l
 
	gfš®
 {

383 
	gpublic
:

387 
‹m¶©e
 <
ty³Çme
... 
Ts
>

388 
RTC_FORCE_INLINE
 
boŞ
 
İ”©Ü
&(cÚ¡ 
LogSŒ—m”
<
Ts
...>& 
¡»am”
) {

389 
¡»am”
.
C®l
();

390  
	gŒue
;

397 şas 
	cLogMes§geVoidify
 {

398 
	gpublic
:

399 
LogMes§geVoidify
() = ;

402 
	g‹m¶©e
 <
	gty³Çme
... 
	gTs
>

403 
	gİ”©Ü
&(
	gLogSŒ—m”
<
	gTs
...>&& 
	g¡»am”
) {}

412 şas 
	cLogMes§ge
 {

413 
	gpublic
:

417 
‹m¶©e
 <
LoggšgSev”™y
 
S
>

418 
RTC_NO_INLINE
 
LogMes§ge
(cÚ¡ * 
fe
,

419 
lše
,

420 
¡d
::
š‹g¿l_cÚ¡ªt
<
LoggšgSev”™y
, 
S
>)

421 : 
LogMes§ge
(
fe
, 
lše
, 
S
) {}

423 #ià
RTC_LOG_ENABLED
()

424 
LogMes§ge
(cÚ¡ * 
fe
, 
lše
, 
LoggšgSev”™y
 
£v
);

425 
LogMes§ge
(cÚ¡ * 
fe
,

426 
lše
,

427 
LoggšgSev”™y
 
£v
,

428 
LogE¼ÜCÚ‹xt
 
”r_ùx
,

429 
”r
);

430 #ià
defšed
(
WEBRTC_ANDROID
)

431 
LogMes§ge
(cÚ¡ * 
fe
, 
lše
, 
LoggšgSev”™y
 
£v
, cÚ¡ * 
g
);

436 
RTC_DEPRECATED


437 
LogMes§ge
(cÚ¡ * 
fe
,

438 
lše
,

439 
LoggšgSev”™y
 
£v
,

440 cÚ¡ 
¡d
::
¡ršg
& 
g
);

441 ~
LogMes§ge
();

443 
AddTag
(cÚ¡ * 
g
);

444 
	g¹c
::
SŒšgBud”
& 
¡»am
();

450 
št64_t
 
LogS¹Time
();

453 
ušt32_t
 
W®lClockS¹Time
();

455 
LogTh»ads
(
boŞ
 
Ú
 = 
Œue
);

457 
LogTime¡amps
(
boŞ
 
Ú
 = 
Œue
);

460 
LogToDebug
(
LoggšgSev”™y
 
mš_£v
);

461 
LoggšgSev”™y
 
G‘LogToDebug
();

463 
S‘LogToStd”r
(
boŞ
 
log_to_¡d”r
);

467 
AddLogToSŒ—m
(
LogSšk
* 
¡»am
, 
LoggšgSev”™y
 
mš_£v
);

469 
RemoveLogToSŒ—m
(
LogSšk
* 
¡»am
);

472 
G‘LogToSŒ—m
(
LogSšk
* 
¡»am
 = 
nuÎ±r
);

475 
G‘MšLogSev”™y
();

478 
CÚfigu»Loggšg
(cÚ¡ * 
·¿ms
);

483 
boŞ
 
IsNoİ
(
LoggšgSev”™y
 
£v”™y
);

486 
LogMes§ge
(cÚ¡ * 
fe
, 
lše
, 
LoggšgSev”™y
 
£v
) {}

487 
LogMes§ge
(cÚ¡ * 
fe
,

488 
lše
,

489 
LoggšgSev”™y
 
£v
,

490 
LogE¼ÜCÚ‹xt
 
”r_ùx
,

491 
”r
) {}

492 #ià
defšed
(
WEBRTC_ANDROID
)

493 
LogMes§ge
(cÚ¡ * 
fe
, 
lše
, 
LoggšgSev”™y
 
£v
, cÚ¡ * 
g
) {

499 
RTC_DEPRECATED


500 
LogMes§ge
(cÚ¡ * 
fe
,

501 
lše
,

502 
LoggšgSev”™y
 
£v
,

503 cÚ¡ 
¡d
::
¡ršg
& 
g
) {}

504 ~
LogMes§ge
() = ;

506 
šlše
 
AddTag
(cÚ¡ * 
g
) {}

507 
šlše
 
	g¹c
::
SŒšgBud”
& 
¡»am
(è{  
´št_¡»am_
; }

508 
šlše
 
št64_t
 
LogS¹Time
() {  0; }

509 
šlše
 
ušt32_t
 
W®lClockS¹Time
() {  0; }

510 
šlše
 
LogTh»ads
(
boŞ
 
Ú
 = 
Œue
) {}

511 
šlše
 
LogTime¡amps
(
boŞ
 
Ú
 = 
Œue
) {}

512 
šlše
 
LogToDebug
(
LoggšgSev”™y
 
mš_£v
) {}

513 
šlše
 
LoggšgSev”™y
 
G‘LogToDebug
() {

514  
LoggšgSev”™y
::
LS_INFO
;

516 
šlše
 
S‘LogToStd”r
(
boŞ
 
log_to_¡d”r
) {}

517 
šlše
 
AddLogToSŒ—m
(
LogSšk
* 
¡»am
, 
LoggšgSev”™y
 
mš_£v
) {}

518 
šlše
 
RemoveLogToSŒ—m
(
LogSšk
* 
¡»am
) {}

519 
šlše
 
G‘LogToSŒ—m
(
LogSšk
* 
¡»am
 = 
nuÎ±r
) {  0; }

520 
šlše
 
G‘MšLogSev”™y
() {  0; }

521 
šlše
 
CÚfigu»Loggšg
(cÚ¡ * 
·¿ms
) {}

522 
šlše
 
boŞ
 
IsNoİ
(
LoggšgSev”™y
 
£v”™y
è{  
	gŒue
; }

525 
	g´iv©e
:

526 
ä›nd
 
şass
 
LogMes§geFÜTe¡šg
;

528 #ià
RTC_LOG_ENABLED
()

530 
Upd©eMšLogSev”™y
();

533 #ià
defšed
(
WEBRTC_ANDROID
)

534 
OuutToDebug
(cÚ¡ 
¡d
::
¡ršg
& 
msg
,

535 
LoggšgSev”™y
 
£v”™y
,

536 cÚ¡ * 
g
);

538 
OuutToDebug
(cÚ¡ 
¡d
::
¡ršg
& 
msg
, 
LoggšgSev”™y
 
£v”™y
);

543 
FšishPrštSŒ—m
();

546 
LoggšgSev”™y
 
	g£v”™y_
;

548 #ià
defšed
(
WEBRTC_ANDROID
)

550 cÚ¡ * 
	gg_
 = "libjingle";

555 
	g¡d
::
¡ršg
 
exŒa_
;

558 
LogSšk
* 
	g¡»ams_
;

561 
boŞ
 
	gth»ad_
, 
	gtime¡amp_
;

564 
boŞ
 
	glog_to_¡d”r_
;

567 
šlše
 
Upd©eMšLogSev”™y
() {}

568 #ià
defšed
(
WEBRTC_ANDROID
)

569 
šlše
 
OuutToDebug
(cÚ¡ 
¡d
::
¡ršg
& 
msg
,

570 
LoggšgSev”™y
 
£v”™y
,

571 cÚ¡ * 
g
) {}

573 
šlše
 
OuutToDebug
(cÚ¡ 
¡d
::
¡ršg
& 
msg
,

574 
LoggšgSev”™y
 
£v”™y
) {}

576 
šlše
 
FšishPrštSŒ—m
() {}

580 
	g¹c
::
SŒšgBud”
 
´št_¡»am_
;

582 
RTC_DISALLOW_COPY_AND_ASSIGN
(
LogMes§ge
);

589 
	#RTC_LOG_FILE_LINE
(
£v
, 
fe
, 
lše
) \

590 
	`RTC_LOG_ENABLED
() && \

591 ::
¹c
::
web¹c_loggšg_im¶
::
	`LogC®l
() & \

592 ::
¹c
::
web¹c_loggšg_im¶
::
LogSŒ—m”
<>() \

593 << ::
¹c
::
web¹c_loggšg_im¶
::
	$LogM‘ad©a
(
fe
, 
lše
, 
£v
)

	)

595 
	#RTC_LOG
(
£v
è
	$RTC_LOG_FILE_LINE
(::
¹c
::
£v
, 
__FILE__
, 
__LINE__
)

	)

598 
	#RTC_LOG_V
(
£v
è
	$RTC_LOG_FILE_LINE
(
£v
, 
__FILE__
, 
__LINE__
)

	)

601 #ià(
	`defšed
(
__GNUC__
è&& !defšed(
NDEBUG
)è|| 
	$defšed
(
WANT_PRETTY_LOG_F
)

602 
	#RTC_LOG_F
(
£v
è
	`RTC_LOG
(£vè<< 
__PRETTY_FUNCTION__
 << ": "

	)

603 
	#RTC_LOG_T_F
(
£v
) \

604 
	`RTC_LOG
(
£v
è<< 
this
 << ": " << 
__PRETTY_FUNCTION__
 << ": "

	)

606 
	#RTC_LOG_F
(
£v
è
	`RTC_LOG
(£vè<< 
__FUNCTION__
 << ": "

	)

607 
	#RTC_LOG_T_F
(
£v
è
	`RTC_LOG
(£vè<< 
this
 << ": " << 
__FUNCTION__
 << ": "

	)

610 
	#RTC_LOG_CHECK_LEVEL
(
£v
è::
¹c
::
	$LogCheckLev–
(::
¹c
::
£v
)

	)

611 
	#RTC_LOG_CHECK_LEVEL_V
(
£v
è::
¹c
::
	$LogCheckLev–
(
£v
)

	)

613 
šlše
 
boŞ
 
	$LogCheckLev–
(
LoggšgSev”™y
 
£v
) {

614  (
LogMes§ge
::
	`G‘MšLogSev”™y
(è<ğ
£v
);

615 
	}
}

617 
	#RTC_LOG_E
(
£v
, 
ùx
, 
”r
) \

618 
	`RTC_LOG_ENABLED
(è&& ::
¹c
::
web¹c_loggšg_im¶
::
	`LogC®l
() & \

619 ::
¹c
::
web¹c_loggšg_im¶
::
LogSŒ—m”
<>() \

620 << ::
¹c
::
web¹c_loggšg_im¶
::
LogM‘ad©aE¼
 { \

621 {
__FILE__
, 
__LINE__
, ::
¹c
::
£v
}, ::¹c::
ERRCTX_
##
ùx
, (
”r
) \

622 }

	)

624 
	#RTC_LOG_T
(
£v
è
	`RTC_LOG
(£vè<< 
this
 << ": "

	)

626 
	#RTC_LOG_ERRNO_EX
(
£v
, 
”r
è
	$RTC_LOG_E
(
£v
, 
ERRNO
, 
”r
)

	)

627 
	#RTC_LOG_ERRNO
(
£v
è
	$RTC_LOG_ERRNO_EX
(
£v
, 
”ºo
)

	)

629 #ià
	$defšed
(
WEBRTC_WIN
)

630 
	#RTC_LOG_GLE_EX
(
£v
, 
”r
è
	$RTC_LOG_E
(
£v
, 
HRESULT
, 
”r
)

	)

631 
	#RTC_LOG_GLE
(
£v
è
	`RTC_LOG_GLE_EX
(£v, 
¡©ic_ÿ¡
<>(
	$G‘La¡E¼Ü
()))

	)

632 
	#RTC_LOG_ERR_EX
(
£v
, 
”r
è
	$RTC_LOG_GLE_EX
(
£v
, 
”r
)

	)

633 
	#RTC_LOG_ERR
(
£v
è
	$RTC_LOG_GLE
(
£v
)

	)

634 #–ià
	`defšed
(
__Çtive_ş›Á__
) && __native_client__

635 
	#RTC_LOG_ERR_EX
(
£v
, 
”r
è
	$RTC_LOG
(
£v
)

	)

636 
	#RTC_LOG_ERR
(
£v
è
	$RTC_LOG
(
£v
)

	)

637 #–ià
	$defšed
(
WEBRTC_POSIX
)

638 
	#RTC_LOG_ERR_EX
(
£v
, 
”r
è
	$RTC_LOG_ERRNO_EX
(
£v
, 
”r
)

	)

639 
	#RTC_LOG_ERR
(
£v
è
	$RTC_LOG_ERRNO
(
£v
)

	)

642 #ifdeà
WEBRTC_ANDROID


644 
Çme¥aû
 
web¹c_loggšg_im¶
 {

646 
šlše
 cÚ¡ * 
	`Ad­tSŒšg
(cÚ¡ * 
¡r
) {

647  
¡r
;

649 
šlše
 cÚ¡ * 
	`Ad­tSŒšg
(cÚ¡ 
¡d
::
¡ršg
& 
¡r
) {

650  
¡r
.
	`c_¡r
();

652 
	}
}

654 
	#RTC_LOG_TAG
(
£v
, 
g
) \

655 
	`RTC_LOG_ENABLED
(è&& ::
¹c
::
web¹c_loggšg_im¶
::
	`LogC®l
() & \

656 ::
¹c
::
web¹c_loggšg_im¶
::
LogSŒ—m”
<>() \

657 << ::
¹c
::
web¹c_loggšg_im¶
::
LogM‘ad©aTag
 { \

658 
£v
, ::
¹c
::
web¹c_loggšg_im¶
::
	`Ad­tSŒšg
(
g
) \

659 }

	)

664 
	#RTC_LOG_TAG
(
£v
, 
g
è
	$RTC_LOG_V
(
£v
)

	)

670 #ià
RTC_DLOG_IS_ON


671 
	#RTC_DLOG
(
£v
è
	$RTC_LOG
(
£v
)

	)

672 
	#RTC_DLOG_V
(
£v
è
	$RTC_LOG_V
(
£v
)

	)

673 
	#RTC_DLOG_F
(
£v
è
	$RTC_LOG_F
(
£v
)

	)

675 
	#RTC_DLOG_EAT_STREAM_PARAMS
() \

676 
çl£
) \

677 ::
¹c
::
web¹c_loggšg_im¶
::
	`LogMes§geVoidify
() & \

678 (::
¹c
::
web¹c_loggšg_im¶
::
LogSŒ—m”
<>())

	)

679 
	#RTC_DLOG
(
£v
è
	$RTC_DLOG_EAT_STREAM_PARAMS
()

	)

680 
	#RTC_DLOG_V
(
£v
è
	$RTC_DLOG_EAT_STREAM_PARAMS
()

	)

681 
	#RTC_DLOG_F
(
£v
è
	$RTC_DLOG_EAT_STREAM_PARAMS
()

	)

684 
	}
}

	@logging_unittest.cc

11 
	~"¹c_ba£/loggšg.h
"

13 #ià
RTC_LOG_ENABLED
()

15 
	~<¡ršg.h
>

17 
	~<®gÜ™hm
>

19 
	~"¹c_ba£/¬¿ysize.h
"

20 
	~"¹c_ba£/checks.h
"

21 
	~"¹c_ba£/ev’t.h
"

22 
	~"¹c_ba£/¶©fÜm_th»ad.h
"

23 
	~"¹c_ba£/¡»am.h
"

24 
	~"¹c_ba£/time_uts.h
"

25 
	~"‹¡/g‹¡.h
"

27 
Çme¥aû
 
	g¹c
 {

29 
	gÇme¥aû
 {

31 şas 
	cSŒšgSŒ—m
 : 
public
 
SŒ—mIÁ”çû
 {

32 
public
:

33 
ex¶ic™
 
SŒšgSŒ—m
(
¡d
::
¡ršg
* 
¡r
);

34 
ex¶ic™
 
SŒšgSŒ—m
(cÚ¡ 
¡d
::
¡ršg
& 
¡r
);

36 
SŒ—mS‹
 
G‘S‹
(ècÚ¡ 
	gov”ride
;

37 
SŒ—mResuÉ
 
R—d
(* 
bufãr
,

38 
size_t
 
bufãr_Ën
,

39 
size_t
* 
»ad
,

40 * 
”rÜ
è
	gov”ride
;

41 
SŒ—mResuÉ
 
Wr™e
(cÚ¡ * 
d©a
,

42 
size_t
 
d©a_Ën
,

43 
size_t
* 
wr™‹n
,

44 * 
”rÜ
è
	gov”ride
;

45 
Clo£
(è
	gov”ride
;

47 
	g´iv©e
:

48 
¡d
::
¡ršg
& 
¡r_
;

49 
size_t
 
	g»ad_pos_
;

50 
boŞ
 
	g»ad_Úly_
;

53 
	gSŒšgSŒ—m
::
SŒšgSŒ—m
(
¡d
::
¡ršg
* 
¡r
)

54 : 
¡r_
(*
¡r
), 
»ad_pos_
(0), 
»ad_Úly_
(
çl£
) {}

56 
	gSŒšgSŒ—m
::
SŒšgSŒ—m
(cÚ¡ 
¡d
::
¡ršg
& 
¡r
)

57 : 
¡r_
(
cÚ¡_ÿ¡
<
¡d
::
¡ršg
&>(
¡r
)), 
»ad_pos_
(0), 
»ad_Úly_
(
Œue
) {}

59 
SŒ—mS‹
 
	gSŒšgSŒ—m
::
G‘S‹
() const {

60  
SS_OPEN
;

63 
SŒ—mResuÉ
 
	gSŒšgSŒ—m
::
R—d
(* 
bufãr
,

64 
size_t
 
bufãr_Ën
,

65 
size_t
* 
»ad
,

66 * 
”rÜ
) {

67 
size_t
 
	gavaabË
 = 
¡d
::
mš
(
bufãr_Ën
, 
¡r_
.
size
(è- 
»ad_pos_
);

68 ià(!
	gavaabË
)

69  
	gSR_EOS
;

70 
memıy
(
bufãr
, 
¡r_
.
d©a
(è+ 
»ad_pos_
, 
avaabË
);

71 
	g»ad_pos_
 +ğ
avaabË
;

72 ià(
	g»ad
)

73 *
	g»ad
 = 
avaabË
;

74  
	gSR_SUCCESS
;

77 
SŒ—mResuÉ
 
	gSŒšgSŒ—m
::
Wr™e
(cÚ¡ * 
d©a
,

78 
size_t
 
d©a_Ën
,

79 
size_t
* 
wr™‹n
,

80 * 
”rÜ
) {

81 ià(
	g»ad_Úly_
) {

82 ià(
	g”rÜ
) {

83 *
	g”rÜ
 = -1;

85  
	gSR_ERROR
;

87 
	g¡r_
.
­³nd
(
¡©ic_ÿ¡
<cÚ¡ *>(
d©a
),

88 
¡©ic_ÿ¡
<cÚ¡ *>(
d©a
è+ 
d©a_Ën
);

89 ià(
	gwr™‹n
)

90 *
	gwr™‹n
 = 
d©a_Ën
;

91  
	gSR_SUCCESS
;

94 
	gSŒšgSŒ—m
::
Clo£
() {}

98 
‹m¶©e
 <
ty³Çme
 
Ba£
>

99 
şass
 
LogSškIm¶
 : 
public
 
LogSšk
,…ubliø
	gBa£
 {

100 
	gpublic
:

101 
LogSškIm¶
() {}

103 
‹m¶©e
 <
ty³Çme
 
P
>

104 
ex¶ic™
 
LogSškIm¶
(
P
* 
p
è: 
Ba£
(p) {}

106 
´iv©e
:

107 
OnLogMes§ge
(cÚ¡ 
¡d
::
¡ršg
& 
mes§ge
è
ov”ride
 {

108 
¡©ic_ÿ¡
<
Ba£
*>(
this
)->
Wr™eAÎ
(
mes§ge
.
d©a
(), mes§ge.
size
(), 
nuÎ±r
,

109 
nuÎ±r
);

113 şas 
	cLogMes§geFÜTe¡šg
 : 
public
 
LogMes§ge
 {

114 
public
:

115 
LogMes§geFÜTe¡šg
(cÚ¡ * 
fe
,

116 
lše
,

117 
LoggšgSev”™y
 
£v
,

118 
LogE¼ÜCÚ‹xt
 
”r_ùx
 = 
ERRCTX_NONE
,

119 
”r
 = 0)

120 : 
LogMes§ge
(
fe
, 
lše
, 
£v
, 
”r_ùx
, 
”r
) {}

122 cÚ¡ 
	g¡d
::
¡ršg
& 
g‘_exŒa
(ècÚ¡ {  
exŒa_
; }

123 #ià
defšed
(
WEBRTC_ANDROID
)

124 cÚ¡ * 
g‘_g
(ècÚ¡ {  
	gg_
; }

131 
	g¡d
::
¡ršg
 
G‘PrštSŒ—m
() {

132 
RTC_DCHECK
(!
is_fšished_
);

133 
	gis_fšished_
 = 
Œue
;

134 
FšishPrštSŒ—m
();

135  
	g´št_¡»am_
.
R–—£
();

138 
	g´iv©e
:

139 
boŞ
 
is_fšished_
 = 
çl£
;

144 
	$TEST
(
LogTe¡
, 
SšgËSŒ—m
) {

145 
£v
 = 
LogMes§ge
::
	`G‘LogToSŒ—m
(
nuÎ±r
);

147 
¡d
::
¡ršg
 
¡r
;

148 
LogSškIm¶
<
SŒšgSŒ—m
> 
	`¡»am
(&
¡r
);

149 
LogMes§ge
::
	`AddLogToSŒ—m
(&
¡»am
, 
LS_INFO
);

150 
	`EXPECT_EQ
(
LS_INFO
, 
LogMes§ge
::
	`G‘LogToSŒ—m
(&
¡»am
));

152 
	`RTC_LOG
(
LS_INFO
) << "INFO";

153 
	`RTC_LOG
(
LS_VERBOSE
) << "VERBOSE";

154 
	`EXPECT_NE
(
¡d
::
¡ršg
::
Åos
, 
¡r
.
	`fšd
("INFO"));

155 
	`EXPECT_EQ
(
¡d
::
¡ršg
::
Åos
, 
¡r
.
	`fšd
("VERBOSE"));

157 
i
 = 1;

158 
l
 = 2l;

159 
Î
 = 3ll;

161 
u
 = 4u;

162 
ul
 = 5ul;

163 
uÎ
 = 6ull;

165 
¡d
::
¡ršg
 
s1
 = "char*";

166 
¡d
::
¡ršg
 
s2
 = "std::string";

167 
¡d
::
¡ršg
 
s3
 = "absl::stringview";

168 cÚ¡ * 
nuÎ_¡ršg
 = 
nuÎ±r
;

169 * 
p
 = 
»š‹½»t_ÿ¡
<*>(0xabcd);

172 
	`RTC_LOG
(
LS_INFO
è<< "|" << 
i
 << "|" << 
l
 << "|" << 
Î
 << "|" << 
u
 << "|" << 
ul


173 << "|" << 
uÎ
 << "|" << 
s1
.
	`c_¡r
(è<< "|" << 
s2
 << "|"

174 << 
ab¦
::
	`¡ršg_v›w
(
s3
è<< "|" << 
p
 << "|" << 
nuÎ_¡ršg


178 
	`EXPECT_NE
(
¡d
::
¡ršg
::
Åos
, 
¡r
.
	`fšd
("|1|"));

179 
	`EXPECT_NE
(
¡d
::
¡ršg
::
Åos
, 
¡r
.
	`fšd
("|2|"));

180 
	`EXPECT_NE
(
¡d
::
¡ršg
::
Åos
, 
¡r
.
	`fšd
("|3|"));

183 
	`EXPECT_NE
(
¡d
::
¡ršg
::
Åos
, 
¡r
.
	`fšd
("|4|"));

184 
	`EXPECT_NE
(
¡d
::
¡ršg
::
Åos
, 
¡r
.
	`fšd
("|5|"));

185 
	`EXPECT_NE
(
¡d
::
¡ršg
::
Åos
, 
¡r
.
	`fšd
("|6|"));

188 
	`EXPECT_NE
(
¡d
::
¡ršg
::
Åos
, 
¡r
.
	`fšd
("|char*|"));

189 
	`EXPECT_NE
(
¡d
::
¡ršg
::
Åos
, 
¡r
.
	`fšd
("|std::string|"));

190 
	`EXPECT_NE
(
¡d
::
¡ršg
::
Åos
, 
¡r
.
	`fšd
("|absl::stringview|"));

193 
	`EXPECT_NE
(
¡d
::
¡ršg
::
Åos
, 
¡r
.
	`fšd
("|abcd|"));

196 
	`EXPECT_NE
(
¡d
::
¡ršg
::
Åos
, 
¡r
.
	`fšd
("|(null)|"));

198 
LogMes§ge
::
	`RemoveLogToSŒ—m
(&
¡»am
);

199 
	`EXPECT_EQ
(
LS_NONE
, 
LogMes§ge
::
	`G‘LogToSŒ—m
(&
¡»am
));

200 
	`EXPECT_EQ
(
£v
, 
LogMes§ge
::
	`G‘LogToSŒ—m
(
nuÎ±r
));

201 
	}
}

206 
	$TEST
(
LogTe¡
, 
MuÉËSŒ—ms
) {

207 
£v
 = 
LogMes§ge
::
	`G‘LogToSŒ—m
(
nuÎ±r
);

209 
¡d
::
¡ršg
 
¡r1
, 
¡r2
;

210 
LogSškIm¶
<
SŒšgSŒ—m
> 
	`¡»am1
(&
¡r1
), 
	`¡»am2
(&
¡r2
);

211 
LogMes§ge
::
	`AddLogToSŒ—m
(&
¡»am1
, 
LS_INFO
);

212 
LogMes§ge
::
	`AddLogToSŒ—m
(&
¡»am2
, 
LS_VERBOSE
);

213 
	`EXPECT_EQ
(
LS_INFO
, 
LogMes§ge
::
	`G‘LogToSŒ—m
(&
¡»am1
));

214 
	`EXPECT_EQ
(
LS_VERBOSE
, 
LogMes§ge
::
	`G‘LogToSŒ—m
(&
¡»am2
));

216 
	`RTC_LOG
(
LS_INFO
) << "INFO";

217 
	`RTC_LOG
(
LS_VERBOSE
) << "VERBOSE";

219 
	`EXPECT_NE
(
¡d
::
¡ršg
::
Åos
, 
¡r1
.
	`fšd
("INFO"));

220 
	`EXPECT_EQ
(
¡d
::
¡ršg
::
Åos
, 
¡r1
.
	`fšd
("VERBOSE"));

221 
	`EXPECT_NE
(
¡d
::
¡ršg
::
Åos
, 
¡r2
.
	`fšd
("INFO"));

222 
	`EXPECT_NE
(
¡d
::
¡ršg
::
Åos
, 
¡r2
.
	`fšd
("VERBOSE"));

224 
LogMes§ge
::
	`RemoveLogToSŒ—m
(&
¡»am2
);

225 
LogMes§ge
::
	`RemoveLogToSŒ—m
(&
¡»am1
);

226 
	`EXPECT_EQ
(
LS_NONE
, 
LogMes§ge
::
	`G‘LogToSŒ—m
(&
¡»am2
));

227 
	`EXPECT_EQ
(
LS_NONE
, 
LogMes§ge
::
	`G‘LogToSŒ—m
(&
¡»am1
));

229 
	`EXPECT_EQ
(
£v
, 
LogMes§ge
::
	`G‘LogToSŒ—m
(
nuÎ±r
));

230 
	}
}

232 şas 
	cLogTh»ad
 {

233 
	gpublic
:

234 
LogTh»ad
(è: 
th»ad_
(&
Th»adEÁry
, 
this
, "LogThread") {}

235 ~
LogTh»ad
(è{ 
	gth»ad_
.
Stİ
(); }

237 
S¹
(è{ 
	gth»ad_
.Start(); }

239 
	g´iv©e
:

240 
Run
(è{ 
RTC_LOG
(
LS_VERBOSE
) << "RTC_LOG"; }

242 
Th»adEÁry
(* 
p
è{ 
	g¡©ic_ÿ¡
<
	gLogTh»ad
*>(
	gp
)->
Run
(); }

244 
PÏtfÜmTh»ad
 
	gth»ad_
;

245 
Ev’t
 
	gev’t_
;

250 
	$TEST
(
LogTe¡
, 
MuÉËTh»ads
) {

251 
£v
 = 
LogMes§ge
::
	`G‘LogToSŒ—m
(
nuÎ±r
);

253 
LogTh»ad
 
th»ad1
, 
th»ad2
, 
th»ad3
;

254 
th»ad1
.
	`S¹
();

255 
th»ad2
.
	`S¹
();

256 
th»ad3
.
	`S¹
();

258 
¡d
::
¡ršg
 
s1
, 
s2
, 
s3
;

259 
LogSškIm¶
<
SŒšgSŒ—m
> 
	`¡»am1
(&
s1
), 
	`¡»am2
(&
s2
), 
	`¡»am3
(&
s3
);

260 
i
 = 0; i < 1000; ++i) {

261 
LogMes§ge
::
	`AddLogToSŒ—m
(&
¡»am1
, 
LS_WARNING
);

262 
LogMes§ge
::
	`AddLogToSŒ—m
(&
¡»am2
, 
LS_INFO
);

263 
LogMes§ge
::
	`AddLogToSŒ—m
(&
¡»am3
, 
LS_VERBOSE
);

264 
LogMes§ge
::
	`RemoveLogToSŒ—m
(&
¡»am1
);

265 
LogMes§ge
::
	`RemoveLogToSŒ—m
(&
¡»am2
);

266 
LogMes§ge
::
	`RemoveLogToSŒ—m
(&
¡»am3
);

269 
	`EXPECT_EQ
(
£v
, 
LogMes§ge
::
	`G‘LogToSŒ—m
(
nuÎ±r
));

270 
	}
}

272 
	$TEST
(
LogTe¡
, 
W®lClockS¹Time
) {

273 
ušt32_t
 
time
 = 
LogMes§ge
::
	`W®lClockS¹Time
();

275 
	`EXPECT_GT
(
time
, 1325376000u);

276 
	}
}

278 
	$TEST
(
LogTe¡
, 
CheckExŒaE¼ÜF›ld
) {

279 
LogMes§geFÜTe¡šg
 
	`log_msg
("some/·th/myfe.cc", 100, 
LS_WARNING
,

280 
ERRCTX_ERRNO
, 0xD);

281 
log_msg
.
	`¡»am
() << "This gets‡dded‡t dtorime";

283 cÚ¡ 
¡d
::
¡ršg
& 
exŒa
 = 
log_msg
.
	`g‘_exŒa
();

284 cÚ¡ 
size_t
 
Ëngth_to_check
 = 
	`¬¿ysize
("[0x12345678]") - 1;

285 
	`ASSERT_GE
(
exŒa
.
	`Ëngth
(), 
Ëngth_to_check
);

286 
	`EXPECT_EQ
(
¡d
::
	`¡ršg
("[0x0000000D]"), 
exŒa
.
	`sub¡r
(0, 
Ëngth_to_check
));

287 
	}
}

289 
	$TEST
(
LogTe¡
, 
CheckFeP©hP¬£d
) {

290 
LogMes§geFÜTe¡šg
 
	`log_msg
("some/·th/myfe.cc", 100, 
LS_INFO
);

291 
log_msg
.
	`¡»am
() << "<- Doeshis†ook„ight?";

293 cÚ¡ 
¡d
::
¡ršg
 
¡»am
 = 
log_msg
.
	`G‘PrštSŒ—m
();

294 #ià
	`defšed
(
WEBRTC_ANDROID
)

295 cÚ¡ * 
g
 = 
log_msg
.
	`g‘_g
();

296 
	`EXPECT_NE
(
nuÎ±r
, 
	`¡r¡r
(
g
, "myfile.cc"));

297 
	`EXPECT_NE
(
¡d
::
¡ršg
::
Åos
, 
¡»am
.
	`fšd
("100"));

299 
	`EXPECT_NE
(
¡d
::
¡ršg
::
Åos
, 
¡»am
.
	`fšd
("(myfile.cc:100)"));

301 
	}
}

303 #ià
	$defšed
(
WEBRTC_ANDROID
)

304 
	$TEST
(
LogTe¡
, 
CheckTagAddedToSŒšgInDeçuÉOnLogMes§geAndroid
) {

305 
¡d
::
¡ršg
 
¡r
;

306 
LogSškIm¶
<
SŒšgSŒ—m
> 
	`¡»am
(&
¡r
);

307 
LogMes§ge
::
	`AddLogToSŒ—m
(&
¡»am
, 
LS_INFO
);

308 
	`EXPECT_EQ
(
LS_INFO
, 
LogMes§ge
::
	`G‘LogToSŒ—m
(&
¡»am
));

310 
	`RTC_LOG_TAG
(
LS_INFO
, "my_tag") << "INFO";

311 
	`EXPECT_NE
(
¡d
::
¡ršg
::
Åos
, 
¡r
.
	`fšd
("INFO"));

312 
	`EXPECT_NE
(
¡d
::
¡ršg
::
Åos
, 
¡r
.
	`fšd
("my_tag"));

313 
	}
}

317 
	$TEST
(
LogTe¡
, 
P”f
) {

318 
¡d
::
¡ršg
 
¡r
;

319 
LogSškIm¶
<
SŒšgSŒ—m
> 
	`¡»am
(&
¡r
);

320 
LogMes§ge
::
	`AddLogToSŒ—m
(&
¡»am
, 
LS_VERBOSE
);

322 cÚ¡ 
¡d
::
¡ršg
 
	`mes§ge
(80, 'X');

323 { 
LogMes§geFÜTe¡šg
 
	`§n™y_check_msg
(
__FILE__
, 
__LINE__
, 
LS_VERBOSE
); }

326 cÚ¡ 
size_t
 
loggšg_ov”h—d
 = 
¡r
.
	`size
();

328 
¡r
.
	`ş—r
();

329 
¡r
.
	`»£rve
(120000);

330 cÚ¡ 
kR•‘™iÚs
 = 1000;

332 
št64_t
 
¡¬t
 = 
	`TimeMlis
(), 
fšish
;

333 
i
 = 0; i < 
kR•‘™iÚs
; ++i) {

334 
	`LogMes§geFÜTe¡šg
(
__FILE__
, 
__LINE__
, 
LS_VERBOSE
).
	`¡»am
(è<< 
mes§ge
;

336 
fšish
 = 
	`TimeMlis
();

338 
LogMes§ge
::
	`RemoveLogToSŒ—m
(&
¡»am
);

339 
¡»am
.
	`Clo£
();

341 
	`EXPECT_EQ
(
¡r
.
	`size
(), (
mes§ge
.size(è+ 
loggšg_ov”h—d
è* 
kR•‘™iÚs
);

342 
	`RTC_LOG
(
LS_INFO
è<< "TÙ®†ogime: " << 
	`TimeDiff
(
fšish
, 
¡¬t
)

345 << 
¡r
.
	`size
();

346 
	}
}

348 
	$TEST
(
LogTe¡
, 
EnumsA»SuµÜ‹d
) {

349 şas 
	cTe¡Enum
 { 
kV®ue0
 = 0, 
kV®ue1
 = 1 };

350 
¡d
::
¡ršg
 
¡r
;

351 
LogSškIm¶
<
SŒšgSŒ—m
> 
	`¡»am
(&
¡r
);

352 
LogMes§ge
::
	`AddLogToSŒ—m
(&
¡»am
, 
LS_INFO
);

353 
	`RTC_LOG
(
LS_INFO
è<< "[" << 
Te¡Enum
::
kV®ue0
 << "]";

354 
	`EXPECT_NE
(
¡d
::
¡ršg
::
Åos
, 
¡r
.
	`fšd
("[0]"));

355 
	`EXPECT_EQ
(
¡d
::
¡ršg
::
Åos
, 
¡r
.
	`fšd
("[1]"));

356 
	`RTC_LOG
(
LS_INFO
è<< "[" << 
Te¡Enum
::
kV®ue1
 << "]";

357 
	`EXPECT_NE
(
¡d
::
¡ršg
::
Åos
, 
¡r
.
	`fšd
("[1]"));

358 
LogMes§ge
::
	`RemoveLogToSŒ—m
(&
¡»am
);

359 
¡»am
.
	`Clo£
();

360 
	}
}

	@mac_ifaddrs_converter.cc

11 
	~<Ãt/if.h
>

12 
	~<sys/ioùl.h
>

13 
	~<uni¡d.h
>

15 
	~<memÜy
>

17 
	~"¹c_ba£/checks.h
"

18 
	~"¹c_ba£/içddrs_cÚv”‹r.h
"

19 
	~"¹c_ba£/loggšg.h
"

21 #ià!
defšed
(
WEBRTC_IOS
)

22 
	~<Ãt/if_medŸ.h
>

23 
	~<Ãtš‘/š_v¬.h
>

25 
	#SCOPE6_ID_MAX
 16

	)

27 
	sš6_add¾iãtime
 {

28 
time_t
 
	mŸ6t_expœe
;

29 
time_t
 
	mŸ6t_´eã¼ed
;

30 
u_št32_t
 
	mŸ6t_vÉime
;

31 
u_št32_t
 
	mŸ6t_¶time
;

34 
	sš6_if¡©
 {

35 
u_quad_t
 
	mifs6_š_»ûive
;

36 
u_quad_t
 
	mifs6_š_hd»¼
;

37 
u_quad_t
 
	mifs6_š_toobig
;

38 
u_quad_t
 
	mifs6_š_nÜou‹
;

39 
u_quad_t
 
	mifs6_š_add»¼
;

40 
u_quad_t
 
	mifs6_š_´Ùounknown
;

42 
u_quad_t
 
	mifs6_š_Œunÿ‹d
;

43 
u_quad_t
 
	mifs6_š_disÿrd
;

45 
u_quad_t
 
	mifs6_š_d–iv”
;

47 
u_quad_t
 
	mifs6_out_fÜw¬d
;

49 
u_quad_t
 
	mifs6_out_»que¡
;

51 
u_quad_t
 
	mifs6_out_disÿrd
;

52 
u_quad_t
 
	mifs6_out_äagok
;

53 
u_quad_t
 
	mifs6_out_äagç
;

54 
u_quad_t
 
	mifs6_out_äagü—t
;

56 
u_quad_t
 
	mifs6_»ass_»qd
;

58 
u_quad_t
 
	mifs6_»ass_ok
;

61 
u_quad_t
 
	mifs6_»ass_ç
;

64 
u_quad_t
 
	mifs6_š_mÿ¡
;

65 
u_quad_t
 
	mifs6_out_mÿ¡
;

67 
	sicmp6_if¡©
 {

72 
u_quad_t
 
	mifs6_š_msg
;

74 
u_quad_t
 
	mifs6_š_”rÜ
;

76 
u_quad_t
 
	mifs6_š_d¡uÄ—ch
;

78 
u_quad_t
 
	mifs6_š_admš´ohib
;

80 
u_quad_t
 
	mifs6_š_tim“xûed
;

82 
u_quad_t
 
	mifs6_š_·¿m´ob
;

84 
u_quad_t
 
	mifs6_š_pk‰oobig
;

86 
u_quad_t
 
	mifs6_š_echo
;

88 
u_quad_t
 
	mifs6_š_echÜ•ly
;

90 
u_quad_t
 
	mifs6_š_rou‹rsŞic™
;

92 
u_quad_t
 
	mifs6_š_rou‹¿dv”t
;

94 
u_quad_t
 
	mifs6_š_ÃighbÜsŞic™
;

96 
u_quad_t
 
	mifs6_š_ÃighbÜadv”t
;

98 
u_quad_t
 
	mifs6_š_»dœeù
;

100 
u_quad_t
 
	mifs6_š_mldqu”y
;

102 
u_quad_t
 
	mifs6_š_mld»pÜt
;

104 
u_quad_t
 
	mifs6_š_mlddÚe
;

110 
u_quad_t
 
	mifs6_out_msg
;

112 
u_quad_t
 
	mifs6_out_”rÜ
;

114 
u_quad_t
 
	mifs6_out_d¡uÄ—ch
;

116 
u_quad_t
 
	mifs6_out_admš´ohib
;

118 
u_quad_t
 
	mifs6_out_tim“xûed
;

120 
u_quad_t
 
	mifs6_out_·¿m´ob
;

122 
u_quad_t
 
	mifs6_out_pk‰oobig
;

124 
u_quad_t
 
	mifs6_out_echo
;

126 
u_quad_t
 
	mifs6_out_echÜ•ly
;

128 
u_quad_t
 
	mifs6_out_rou‹rsŞic™
;

130 
u_quad_t
 
	mifs6_out_rou‹¿dv”t
;

132 
u_quad_t
 
	mifs6_out_ÃighbÜsŞic™
;

134 
u_quad_t
 
	mifs6_out_ÃighbÜadv”t
;

136 
u_quad_t
 
	mifs6_out_»dœeù
;

138 
u_quad_t
 
	mifs6_out_mldqu”y
;

140 
u_quad_t
 
	mifs6_out_mld»pÜt
;

142 
u_quad_t
 
	mifs6_out_mlddÚe
;

145 
	sš6_iäeq
 {

146 
	miä_Çme
[
IFNAMSIZ
];

148 
sockaddr_š6
 
	miäu_addr
;

149 
sockaddr_š6
 
	miäu_d¡addr
;

150 
	miäu_æags
;

151 
	miäu_æags6
;

152 
	miäu_m‘ric
;

153 
	miäu_štv®
;

154 
ÿddr_t
 
	miäu_d©a
;

155 
š6_add¾iãtime
 
	miäu_liãtime
;

156 
š6_if¡©
 
	miäu_¡©
;

157 
icmp6_if¡©
 
	miäu_icmp6¡©
;

158 
u_št32_t
 
	miäu_scİe_id
[
SCOPE6_ID_MAX
];

159 } 
	miä_iäu
;

162 
	#SIOCGIFAFLAG_IN6
 
	`_IOWR
('i', 73, 
š6_iäeq
)

	)

164 
	#IN6_IFF_ANYCAST
 0x0001

	)

165 
	#IN6_IFF_TENTATIVE
 0x0002

	)

166 
	#IN6_IFF_DUPLICATED
 0x0004

	)

167 
	#IN6_IFF_DETACHED
 0x0008

	)

168 
	#IN6_IFF_DEPRECATED
 0x0010

	)

169 
	#IN6_IFF_TEMPORARY
 0x0080

	)

173 
Çme¥aû
 
	g¹c
 {

175 
	gÇme¥aû
 {

177 şas 
	cIPv6A‰ribu‹sG‘‹r
 {

178 
	gpublic
:

179 
IPv6A‰ribu‹sG‘‹r
();

180 
	gvœtu®
 ~
IPv6A‰ribu‹sG‘‹r
();

181 
boŞ
 
IsIn™Ÿlized
() const;

182 
boŞ
 
G‘IPA‰ribu‹s
(cÚ¡ * 
iâame
,

183 cÚ¡ 
sockaddr
* 
sock_addr
,

184 * 
Çtive_©Œibu‹s
);

186 
	g´iv©e
:

189 
ioùl_sock‘_
;

192 
	gIPv6A‰ribu‹sG‘‹r
::
IPv6A‰ribu‹sG‘‹r
()

193 : 
ioùl_sock‘_
(

194 
sock‘
(
AF_INET6
, 
SOCK_DGRAM
, 0 )) {

195 
RTC_DCHECK_GE
(
ioùl_sock‘_
, 0);

198 
boŞ
 
	gIPv6A‰ribu‹sG‘‹r
::
IsIn™Ÿlized
() const {

199  
ioùl_sock‘_
 >= 0;

202 
	gIPv6A‰ribu‹sG‘‹r
::~
IPv6A‰ribu‹sG‘‹r
() {

203 ià(!
IsIn™Ÿlized
()) {

206 
şo£
(
ioùl_sock‘_
);

209 
boŞ
 
	gIPv6A‰ribu‹sG‘‹r
::
G‘IPA‰ribu‹s
(cÚ¡ * 
iâame
,

210 cÚ¡ 
sockaddr
* 
sock_addr
,

211 * 
Çtive_©Œibu‹s
) {

212 ià(!
IsIn™Ÿlized
()) {

213  
	gçl£
;

216 
š6_iäeq
 
	giä
 = {};

217 
¡ºıy
(
iä
.
iä_Çme
, 
iâame
, (ifr.ifr_name) - 1);

218 
memıy
(&
iä
.
iä_iäu
.
iäu_addr
, 
sock_addr
, sock_addr->
§_Ën
);

219 
	grv
 = 
ioùl
(
ioùl_sock‘_
, 
SIOCGIFAFLAG_IN6
, &
iä
);

220 ià(
	grv
 >= 0) {

221 *
Çtive_©Œibu‹s
 = 
iä
.
iä_iäu
.
iäu_æags
;

223 
RTC_LOG
(
LS_ERROR
è<< "ioùÈ»tuº " << 
	g”ºo
;

225  (
	grv
 >= 0);

231 
boŞ
 
CÚv”tN©iveToIPA‰ribu‹s
(
Çtive_©Œibu‹s
, * 
Ãt_©Œibu‹s
) {

236 ià(
	gÇtive_©Œibu‹s
 & (
	gIN6_IFF_ANYCAST
 | 
	gIN6_IFF_DUPLICATED
 |

237 
	gIN6_IFF_TENTATIVE
 | 
	gIN6_IFF_DETACHED
)) {

238  
	gçl£
;

241 ià(
	gÇtive_©Œibu‹s
 & 
	gIN6_IFF_TEMPORARY
) {

242 *
	gÃt_©Œibu‹s
 |ğ
IPV6_ADDRESS_FLAG_TEMPORARY
;

245 ià(
	gÇtive_©Œibu‹s
 & 
	gIN6_IFF_DEPRECATED
) {

246 *
	gÃt_©Œibu‹s
 |ğ
IPV6_ADDRESS_FLAG_DEPRECATED
;

249  
	gŒue
;

252 şas 
	cMacIfAddrsCÚv”‹r
 : 
public
 
IfAddrsCÚv”‹r
 {

253 
public
:

254 
MacIfAddrsCÚv”‹r
(è: 
_©Œibu‹_g‘‹r_
(
Ãw
 
IPv6A‰ribu‹sG‘‹r
()) {}

255 ~
MacIfAddrsCÚv”‹r
(è
ov”ride
 {}

257 
boŞ
 
CÚv”tN©iveA‰ribu‹sToIPA‰ribu‹s
(cÚ¡ 
içddrs
* 
š‹rçû
,

258 * 
_©Œibu‹s
è
	gov”ride
 {

259 
	gÇtive_©Œibu‹s
;

260 ià(!
	g_©Œibu‹_g‘‹r_
->
G‘IPA‰ribu‹s
(

261 
š‹rçû
->
iç_Çme
, iÁ”çû->
iç_addr
, &
Çtive_©Œibu‹s
)) {

262  
	gçl£
;

265 ià(!
CÚv”tN©iveToIPA‰ribu‹s
(
Çtive_©Œibu‹s
, 
_©Œibu‹s
)) {

266  
	gçl£
;

269  
	gŒue
;

272 
	g´iv©e
:

273 
¡d
::
unique_±r
<
IPv6A‰ribu‹sG‘‹r
> 
_©Œibu‹_g‘‹r_
;

278 
IfAddrsCÚv”‹r
* 
	$C»©eIfAddrsCÚv”‹r
() {

279  
Ãw
 
	`MacIfAddrsCÚv”‹r
();

280 
	}
}

	@mdns_responder_interface.h

11 #iâdeà
RTC_BASE_MDNS_RESPONDER_INTERFACE_H_


12 
	#RTC_BASE_MDNS_RESPONDER_INTERFACE_H_


	)

14 
	~<funùiÚ®
>

15 
	~<¡ršg
>

17 
	~"¹c_ba£/_add»ss.h
"

19 
Çme¥aû
 
	gweb¹c
 {

23 şas 
	cMdnsRe¥Úd”IÁ”çû
 {

24 
	gpublic
:

25 
usšg
 
NameC»©edC®lback
 =

26 
¡d
::
funùiÚ
<(cÚ¡ 
¹c
::
IPAdd»ss
&, cÚ¡ 
	g¡d
::
¡ršg
&)>;

27 
usšg
 
	gNameRemovedC®lback
 = 
¡d
::
funùiÚ
<(
boŞ
)>;

29 
MdnsRe¥Úd”IÁ”çû
() = ;

30 
	gvœtu®
 ~
MdnsRe¥Úd”IÁ”çû
() = ;

36 
vœtu®
 
C»©eNameFÜAdd»ss
(cÚ¡ 
¹c
::
IPAdd»ss
& 
addr
,

37 
NameC»©edC®lback
 
ÿÎback
) = 0;

44 
vœtu®
 
RemoveNameFÜAdd»ss
(cÚ¡ 
¹c
::
IPAdd»ss
& 
addr
,

45 
NameRemovedC®lback
 
ÿÎback
) = 0;

	@memory/aligned_malloc.cc

11 
	~"¹c_ba£/memÜy/®igÃd_m®loc.h
"

13 
	~<¡dlib.h
>

14 
	~<¡ršg.h
>

16 
	~"¹c_ba£/checks.h
"

18 #ifdeà
_WIN32


19 
	~<wšdows.h
>

21 
	~<¡dšt.h
>

26 
Çme¥aû
 
	gweb¹c
 {

28 
ušŒ_t
 
G‘RightAlign
(ušŒ_ˆ
¡¬t_pos
, 
size_t
 
®ignm’t
) {

31  (
	g¡¬t_pos
 + 
	g®ignm’t
 - 1) & ~(alignment - 1);

35 
boŞ
 
V®idAlignm’t
(
size_t
 
®ignm’t
) {

36 ià(!
	g®ignm’t
) {

37  
	gçl£
;

39  (
	g®ignm’t
 & (alignment - 1)) == 0;

42 * 
G‘RightAlign
(cÚ¡ * 
poš‹r
, 
size_t
 
®ignm’t
) {

43 ià(!
	gpoš‹r
) {

44  
	gNULL
;

46 ià(!
V®idAlignm’t
(
®ignm’t
)) {

47  
	gNULL
;

49 
ušŒ_t
 
	g¡¬t_pos
 = 
»š‹½»t_ÿ¡
<ušŒ_t>(
poš‹r
);

50  
	g»š‹½»t_ÿ¡
<*>(
G‘RightAlign
(
¡¬t_pos
, 
®ignm’t
));

53 * 
AligÃdM®loc
(
size_t
 
size
, size_ˆ
®ignm’t
) {

54 ià(
	gsize
 == 0) {

55  
NULL
;

57 ià(!
V®idAlignm’t
(
®ignm’t
)) {

58  
	gNULL
;

65 * 
	gmemÜy_poš‹r
 = 
m®loc
(
size
 + (
ušŒ_t
è+ 
®ignm’t
 - 1);

66 
RTC_CHECK
(
memÜy_poš‹r
) << "Couldn't‡llocate memory in AlignedMalloc";

70 
ušŒ_t
 
	g®ign_¡¬t_pos
 = 
»š‹½»t_ÿ¡
<ušŒ_t>(
memÜy_poš‹r
);

71 
	g®ign_¡¬t_pos
 +ğ(
ušŒ_t
);

72 
ušŒ_t
 
	g®igÃd_pos
 = 
G‘RightAlign
(
®ign_¡¬t_pos
, 
®ignm’t
);

73 * 
	g®igÃd_poš‹r
 = 
»š‹½»t_ÿ¡
<*>(
®igÃd_pos
);

77 
ušŒ_t
 
	gh—d”_pos
 = 
®igÃd_pos
 - (uintptr_t);

78 * 
	gh—d”_poš‹r
 = 
»š‹½»t_ÿ¡
<*>(
h—d”_pos
);

79 
ušŒ_t
 
	gmemÜy_¡¬t
 = 
»š‹½»t_ÿ¡
<ušŒ_t>(
memÜy_poš‹r
);

80 
memıy
(
h—d”_poš‹r
, &
memÜy_¡¬t
, (
ušŒ_t
));

82  
	g®igÃd_poš‹r
;

85 
AligÃdF»e
(* 
mem_block
) {

86 ià(
	gmem_block
 =ğ
NULL
) {

89 
ušŒ_t
 
	g®igÃd_pos
 = 
»š‹½»t_ÿ¡
<ušŒ_t>(
mem_block
);

90 
ušŒ_t
 
	gh—d”_pos
 = 
®igÃd_pos
 - (uintptr_t);

93 
ušŒ_t
 
	gmemÜy_¡¬t_pos
 = *
»š‹½»t_ÿ¡
<ušŒ_t*>(
h—d”_pos
);

94 * 
	gmemÜy_¡¬t
 = 
»š‹½»t_ÿ¡
<*>(
memÜy_¡¬t_pos
);

95 
ä“
(
memÜy_¡¬t
);

	@memory/aligned_malloc.h

11 #iâdeà
RTC_BASE_MEMORY_ALIGNED_MALLOC_H_


12 
	#RTC_BASE_MEMORY_ALIGNED_MALLOC_H_


	)

20 
	~<¡ddef.h
>

22 
Çme¥aû
 
	gweb¹c
 {

28 * 
G‘RightAlign
(cÚ¡ * 
±r
, 
size_t
 
®ignm’t
);

33 * 
AligÃdM®loc
(
size_t
 
size
, size_ˆ
®ignm’t
);

35 
AligÃdF»e
(* 
mem_block
);

39 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

40 
T
* 
G‘RightAlign
(cÚ¡ T* 
±r
, 
size_t
 
®ignm’t
) {

41  
	g»š‹½»t_ÿ¡
<
	gT
*>(

42 
G‘RightAlign
(
»š‹½»t_ÿ¡
<cÚ¡ *>(
±r
), 
®ignm’t
));

44 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

45 
T
* 
AligÃdM®loc
(
size_t
 
size
, size_ˆ
®ignm’t
) {

46  
	g»š‹½»t_ÿ¡
<
	gT
*>(
AligÃdM®loc
(
size
, 
®ignm’t
));

51 
	sAligÃdF»eD–‘”
 {

52 
šlše
 
İ”©Ü
()(* 
	g±r
ècÚ¡ { 
AligÃdF»e
(
±r
); }

	@memory/aligned_malloc_unittest.cc

11 
	~"¹c_ba£/memÜy/®igÃd_m®loc.h
"

13 
	~<memÜy
>

15 #ifdeà
_WIN32


16 
	~<wšdows.h
>

18 
	~<¡dšt.h
>

21 
	~"‹¡/g‹¡.h
"

23 
Çme¥aû
 
	gweb¹c
 {

26 
boŞ
 
CÜ»ùU§ge
(
size_t
 
size
, size_ˆ
®ignm’t
) {

27 
	g¡d
::
unique_±r
<, 
	gAligÃdF»eD–‘”
> 
scİed
(

28 
¡©ic_ÿ¡
<*>(
AligÃdM®loc
(
size
, 
®ignm’t
)));

29 ià(
	gscİed
.
g‘
(è=ğ
NULL
) {

30  
çl£
;

32 cÚ¡ 
ušŒ_t
 
	gscİed_add»ss
 = 
»š‹½»t_ÿ¡
<ušŒ_t>(
scİed
.
g‘
());

33  0u =ğ
scİed_add»ss
 % 
®ignm’t
;

36 
TEST
(
AligÃdM®loc
, 
G‘RightAlign
) {

37 cÚ¡ 
size_t
 
	gsize
 = 100;

38 cÚ¡ 
size_t
 
	g®ignm’t
 = 32;

39 cÚ¡ 
size_t
 
	gËá_mi§lignm’t
 = 1;

40 
	g¡d
::
unique_±r
<, 
	gAligÃdF»eD–‘”
> 
scİed
(

41 
¡©ic_ÿ¡
<*>(
AligÃdM®loc
(
size
, 
®ignm’t
)));

42 
EXPECT_TRUE
(
scİed
.
g‘
(è!ğ
NULL
);

43 cÚ¡ 
ušŒ_t
 
	g®igÃd_add»ss
 = 
»š‹½»t_ÿ¡
<ušŒ_t>(
scİed
.
g‘
());

44 cÚ¡ 
ušŒ_t
 
	gmi§ligÃd_add»ss
 = 
®igÃd_add»ss
 - 
Ëá_mi§lignm’t
;

45 cÚ¡ * 
	gmi§ligÃd_±r
 =

46 
»š‹½»t_ÿ¡
<cÚ¡ *>(
mi§ligÃd_add»ss
);

47 cÚ¡ * 
	g»®igÃd_±r
 = 
G‘RightAlign
(
mi§ligÃd_±r
, 
®ignm’t
);

48 
EXPECT_EQ
(
scİed
.
g‘
(), 
»®igÃd_±r
);

51 
TEST
(
AligÃdM®loc
, 
IncÜ»ùSize
) {

52 cÚ¡ 
size_t
 
	gšcÜ»ù_size
 = 0;

53 cÚ¡ 
size_t
 
	g®ignm’t
 = 64;

54 
EXPECT_FALSE
(
CÜ»ùU§ge
(
šcÜ»ù_size
, 
®ignm’t
));

57 
TEST
(
AligÃdM®loc
, 
IncÜ»ùAlignm’t
) {

58 cÚ¡ 
size_t
 
	gsize
 = 100;

59 cÚ¡ 
size_t
 
	gšcÜ»ù_®ignm’t
 = 63;

60 
EXPECT_FALSE
(
CÜ»ùU§ge
(
size
, 
šcÜ»ù_®ignm’t
));

63 
TEST
(
AligÃdM®loc
, 
AlignTo2By‹s
) {

64 
size_t
 
	gsize
 = 100;

65 
size_t
 
	g®ignm’t
 = 2;

66 
EXPECT_TRUE
(
CÜ»ùU§ge
(
size
, 
®ignm’t
));

69 
TEST
(
AligÃdM®loc
, 
AlignTo32By‹s
) {

70 
size_t
 
	gsize
 = 100;

71 
size_t
 
	g®ignm’t
 = 32;

72 
EXPECT_TRUE
(
CÜ»ùU§ge
(
size
, 
®ignm’t
));

75 
TEST
(
AligÃdM®loc
, 
AlignTo128By‹s
) {

76 
size_t
 
	gsize
 = 100;

77 
size_t
 
	g®ignm’t
 = 128;

78 
EXPECT_TRUE
(
CÜ»ùU§ge
(
size
, 
®ignm’t
));

	@memory/fifo_buffer.cc

11 
	~"¹c_ba£/memÜy/fifo_bufãr.h
"

13 
	~<®gÜ™hm
>

15 
	~"¹c_ba£/th»ad.h
"

17 
Çme¥aû
 
	g¹c
 {

19 
	gFifoBufãr
::
FifoBufãr
(
size_t
 
size
)

20 : 
¡©e_
(
SS_OPEN
),

21 
bufãr_
(
Ãw
 [
size
]),

22 
bufãr_Ëngth_
(
size
),

23 
d©a_Ëngth_
(0),

24 
»ad_pos™iÚ_
(0),

25 
owÃr_
(
Th»ad
::
Cu¼’t
()) {

29 
FifoBufãr
::FifoBufãr(
size_t
 
size
, 
Th»ad
* 
owÃr
)

30 : 
¡©e_
(
SS_OPEN
),

31 
bufãr_
(
Ãw
 [
size
]),

32 
bufãr_Ëngth_
(
size
),

33 
d©a_Ëngth_
(0),

34 
»ad_pos™iÚ_
(0),

35 
owÃr_
(
owÃr
) {

39 
	gFifoBufãr
::~
FifoBufãr
() {}

41 
boŞ
 
FifoBufãr
::
G‘Bufã»d
(
size_t
* 
size
) const {

42 
Cr™Scİe
 
cs
(&
ü™_
);

43 *
	gsize
 = 
d©a_Ëngth_
;

44  
	gŒue
;

47 
boŞ
 
	gFifoBufãr
::
S‘C­ac™y
(
size_t
 
size
) {

48 
Cr™Scİe
 
cs
(&
ü™_
);

49 ià(
	gd©a_Ëngth_
 > 
	gsize
) {

50  
	gçl£
;

53 ià(
	gsize
 !ğ
bufãr_Ëngth_
) {

54 * 
bufãr
 = 
Ãw
 [
size
];

55 cÚ¡ 
size_t
 
	gcİy
 = 
d©a_Ëngth_
;

56 cÚ¡ 
size_t
 
	g_cİy
 = 
¡d
::
mš
(
cİy
, 
bufãr_Ëngth_
 - 
»ad_pos™iÚ_
);

57 
memıy
(
bufãr
, &
bufãr_
[
»ad_pos™iÚ_
], 
_cİy
);

58 
memıy
(
bufãr
 + 
_cİy
, &
bufãr_
[0], 
cİy
 -ail_copy);

59 
	gbufãr_
.
»£t
(
bufãr
);

60 
	g»ad_pos™iÚ_
 = 0;

61 
	gbufãr_Ëngth_
 = 
size
;

63  
	gŒue
;

66 
SŒ—mResuÉ
 
	gFifoBufãr
::
R—dOff£t
(* 
bufãr
,

67 
size_t
 
by‹s
,

68 
size_t
 
off£t
,

69 
size_t
* 
by‹s_»ad
) {

70 
Cr™Scİe
 
cs
(&
ü™_
);

71  
R—dOff£tLocked
(
bufãr
, 
by‹s
, 
off£t
, 
by‹s_»ad
);

74 
SŒ—mResuÉ
 
	gFifoBufãr
::
Wr™eOff£t
(cÚ¡ * 
bufãr
,

75 
size_t
 
by‹s
,

76 
size_t
 
off£t
,

77 
size_t
* 
by‹s_wr™‹n
) {

78 
Cr™Scİe
 
cs
(&
ü™_
);

79  
Wr™eOff£tLocked
(
bufãr
, 
by‹s
, 
off£t
, 
by‹s_wr™‹n
);

82 
SŒ—mS‹
 
	gFifoBufãr
::
G‘S‹
() const {

83 
Cr™Scİe
 
cs
(&
ü™_
);

84  
	g¡©e_
;

87 
SŒ—mResuÉ
 
	gFifoBufãr
::
R—d
(* 
bufãr
,

88 
size_t
 
by‹s
,

89 
size_t
* 
by‹s_»ad
,

90 * 
”rÜ
) {

91 
Cr™Scİe
 
cs
(&
ü™_
);

92 cÚ¡ 
boŞ
 
	gwas_wr™abË
 = 
d©a_Ëngth_
 < 
bufãr_Ëngth_
;

93 
size_t
 
	gcİy
 = 0;

94 
SŒ—mResuÉ
 
	g»suÉ
 = 
R—dOff£tLocked
(
bufãr
, 
by‹s
, 0, &
cİy
);

96 ià(
	g»suÉ
 =ğ
SR_SUCCESS
) {

99 
»ad_pos™iÚ_
 = (»ad_pos™iÚ_ + 
cİy
è% 
bufãr_Ëngth_
;

100 
	gd©a_Ëngth_
 -ğ
cİy
;

101 ià(
	gby‹s_»ad
) {

102 *
	gby‹s_»ad
 = 
cİy
;

106 ià(!
	gwas_wr™abË
 && 
	gcİy
 > 0) {

107 
Po¡Ev’t
(
owÃr_
, 
SE_WRITE
, 0);

110  
	g»suÉ
;

113 
SŒ—mResuÉ
 
	gFifoBufãr
::
Wr™e
(cÚ¡ * 
bufãr
,

114 
size_t
 
by‹s
,

115 
size_t
* 
by‹s_wr™‹n
,

116 * 
”rÜ
) {

117 
Cr™Scİe
 
cs
(&
ü™_
);

119 cÚ¡ 
boŞ
 
	gwas_»adabË
 = (
d©a_Ëngth_
 > 0);

120 
size_t
 
	gcİy
 = 0;

121 
SŒ—mResuÉ
 
	g»suÉ
 = 
Wr™eOff£tLocked
(
bufãr
, 
by‹s
, 0, &
cİy
);

123 ià(
	g»suÉ
 =ğ
SR_SUCCESS
) {

125 
d©a_Ëngth_
 +ğ
cİy
;

126 ià(
	gby‹s_wr™‹n
) {

127 *
	gby‹s_wr™‹n
 = 
cİy
;

131 ià(!
	gwas_»adabË
 && 
	gcİy
 > 0) {

132 
Po¡Ev’t
(
owÃr_
, 
SE_READ
, 0);

135  
	g»suÉ
;

138 
	gFifoBufãr
::
Clo£
() {

139 
Cr™Scİe
 
cs
(&
ü™_
);

140 
	g¡©e_
 = 
SS_CLOSED
;

143 cÚ¡ * 
	gFifoBufãr
::
G‘R—dD©a
(
size_t
* 
size
) {

144 
Cr™Scİe
 
cs
(&
ü™_
);

145 *
	gsize
 = (
»ad_pos™iÚ_
 + 
d©a_Ëngth_
 <ğ
bufãr_Ëngth_
)

146 ? 
d©a_Ëngth_


147 : 
bufãr_Ëngth_
 - 
»ad_pos™iÚ_
;

148  &
	gbufãr_
[
»ad_pos™iÚ_
];

151 
	gFifoBufãr
::
CÚsumeR—dD©a
(
size_t
 
size
) {

152 
Cr™Scİe
 
cs
(&
ü™_
);

153 
RTC_DCHECK
(
size
 <ğ
d©a_Ëngth_
);

154 cÚ¡ 
boŞ
 
	gwas_wr™abË
 = 
d©a_Ëngth_
 < 
bufãr_Ëngth_
;

155 
	g»ad_pos™iÚ_
 = (
»ad_pos™iÚ_
 + 
size
è% 
bufãr_Ëngth_
;

156 
	gd©a_Ëngth_
 -ğ
size
;

157 ià(!
	gwas_wr™abË
 && 
	gsize
 > 0) {

158 
Po¡Ev’t
(
owÃr_
, 
SE_WRITE
, 0);

162 * 
	gFifoBufãr
::
G‘Wr™eBufãr
(
size_t
* 
size
) {

163 
Cr™Scİe
 
cs
(&
ü™_
);

164 ià(
	g¡©e_
 =ğ
SS_CLOSED
) {

165  
nuÎ±r
;

170 ià(
	gd©a_Ëngth_
 == 0) {

171 
»ad_pos™iÚ_
 = 0;

174 cÚ¡ 
size_t
 
	gwr™e_pos™iÚ
 =

175 (
»ad_pos™iÚ_
 + 
d©a_Ëngth_
è% 
bufãr_Ëngth_
;

176 *
	gsize
 = (
wr™e_pos™iÚ
 > 
»ad_pos™iÚ_
 || 
d©a_Ëngth_
 == 0)

177 ? 
bufãr_Ëngth_
 - 
wr™e_pos™iÚ


178 : 
»ad_pos™iÚ_
 - 
wr™e_pos™iÚ
;

179  &
	gbufãr_
[
wr™e_pos™iÚ
];

182 
	gFifoBufãr
::
CÚsumeWr™eBufãr
(
size_t
 
size
) {

183 
Cr™Scİe
 
cs
(&
ü™_
);

184 
RTC_DCHECK
(
size
 <ğ
bufãr_Ëngth_
 - 
d©a_Ëngth_
);

185 cÚ¡ 
boŞ
 
	gwas_»adabË
 = (
d©a_Ëngth_
 > 0);

186 
	gd©a_Ëngth_
 +ğ
size
;

187 ià(!
	gwas_»adabË
 && 
	gsize
 > 0) {

188 
Po¡Ev’t
(
owÃr_
, 
SE_READ
, 0);

192 
boŞ
 
	gFifoBufãr
::
G‘Wr™eRemaššg
(
size_t
* 
size
) const {

193 
Cr™Scİe
 
cs
(&
ü™_
);

194 *
	gsize
 = 
bufãr_Ëngth_
 - 
d©a_Ëngth_
;

195  
	gŒue
;

198 
SŒ—mResuÉ
 
	gFifoBufãr
::
R—dOff£tLocked
(* 
bufãr
,

199 
size_t
 
by‹s
,

200 
size_t
 
off£t
,

201 
size_t
* 
by‹s_»ad
) {

202 ià(
	goff£t
 >ğ
d©a_Ëngth_
) {

203  (
¡©e_
 !ğ
SS_CLOSED
è? 
SR_BLOCK
 : 
SR_EOS
;

206 cÚ¡ 
size_t
 
	gavaabË
 = 
d©a_Ëngth_
 - 
off£t
;

207 cÚ¡ 
size_t
 
	g»ad_pos™iÚ
 = (
»ad_pos™iÚ_
 + 
off£t
è% 
bufãr_Ëngth_
;

208 cÚ¡ 
size_t
 
	gcİy
 = 
¡d
::
mš
(
by‹s
, 
avaabË
);

209 cÚ¡ 
size_t
 
	g_cİy
 = 
¡d
::
mš
(
cİy
, 
bufãr_Ëngth_
 - 
»ad_pos™iÚ
);

210 * cÚ¡ 
	gp
 = 
¡©ic_ÿ¡
<*>(
bufãr
);

211 
memıy
(
p
, &
bufãr_
[
»ad_pos™iÚ
], 
_cİy
);

212 
memıy
(
p
 + 
_cİy
, &
bufãr_
[0], 
cİy
 -ail_copy);

214 ià(
	gby‹s_»ad
) {

215 *
	gby‹s_»ad
 = 
cİy
;

217  
	gSR_SUCCESS
;

220 
SŒ—mResuÉ
 
	gFifoBufãr
::
Wr™eOff£tLocked
(cÚ¡ * 
bufãr
,

221 
size_t
 
by‹s
,

222 
size_t
 
off£t
,

223 
size_t
* 
by‹s_wr™‹n
) {

224 ià(
	g¡©e_
 =ğ
SS_CLOSED
) {

225  
SR_EOS
;

228 ià(
	gd©a_Ëngth_
 + 
	goff£t
 >ğ
bufãr_Ëngth_
) {

229  
SR_BLOCK
;

232 cÚ¡ 
size_t
 
	gavaabË
 = 
bufãr_Ëngth_
 - 
d©a_Ëngth_
 - 
off£t
;

233 cÚ¡ 
size_t
 
	gwr™e_pos™iÚ
 =

234 (
»ad_pos™iÚ_
 + 
d©a_Ëngth_
 + 
off£t
è% 
bufãr_Ëngth_
;

235 cÚ¡ 
size_t
 
	gcİy
 = 
¡d
::
mš
(
by‹s
, 
avaabË
);

236 cÚ¡ 
size_t
 
	g_cİy
 = 
¡d
::
mš
(
cİy
, 
bufãr_Ëngth_
 - 
wr™e_pos™iÚ
);

237 cÚ¡ * cÚ¡ 
	gp
 = 
¡©ic_ÿ¡
<cÚ¡ *>(
bufãr
);

238 
memıy
(&
bufãr_
[
wr™e_pos™iÚ
], 
p
, 
_cİy
);

239 
memıy
(&
bufãr_
[0], 
p
 + 
_cİy
, 
cİy
 -ail_copy);

241 ià(
	gby‹s_wr™‹n
) {

242 *
	gby‹s_wr™‹n
 = 
cİy
;

244  
	gSR_SUCCESS
;

	@memory/fifo_buffer.h

11 #iâdeà
RTC_BASE_MEMORY_FIFO_BUFFER_H_


12 
	#RTC_BASE_MEMORY_FIFO_BUFFER_H_


	)

14 
	~<memÜy
>

16 
	~"¹c_ba£/¡»am.h
"

18 
Çme¥aû
 
	g¹c
 {

22 şas 
	cFifoBufãr
 
	gfš®
 : 
public
 
SŒ—mIÁ”çû
 {

23 
public
:

25 
ex¶ic™
 
FifoBufãr
(
size_t
 
Ëngth
);

27 
FifoBufãr
(
size_t
 
Ëngth
, 
Th»ad
* 
owÃr
);

28 ~
FifoBufãr
(è
	gov”ride
;

30 
boŞ
 
G‘Bufã»d
(
size_t
* 
d©a_Ën
) const;

32 
boŞ
 
S‘C­ac™y
(
size_t
 
Ëngth
);

38 
SŒ—mResuÉ
 
R—dOff£t
(* 
bufãr
,

39 
size_t
 
by‹s
,

40 
size_t
 
off£t
,

41 
size_t
* 
by‹s_»ad
);

47 
SŒ—mResuÉ
 
Wr™eOff£t
(cÚ¡ * 
bufãr
,

48 
size_t
 
by‹s
,

49 
size_t
 
off£t
,

50 
size_t
* 
by‹s_wr™‹n
);

53 
SŒ—mS‹
 
G‘S‹
(ècÚ¡ 
	gov”ride
;

54 
SŒ—mResuÉ
 
R—d
(* 
bufãr
,

55 
size_t
 
by‹s
,

56 
size_t
* 
by‹s_»ad
,

57 * 
”rÜ
è
	gov”ride
;

58 
SŒ—mResuÉ
 
Wr™e
(cÚ¡ * 
bufãr
,

59 
size_t
 
by‹s
,

60 
size_t
* 
by‹s_wr™‹n
,

61 * 
”rÜ
è
	gov”ride
;

62 
Clo£
(è
	gov”ride
;

67 
boŞ
 
S‘Pos™iÚ
(
size_t
 
pos™iÚ
);

71 
boŞ
 
G‘Pos™iÚ
(
size_t
* 
pos™iÚ
) const;

74 
boŞ
 
Rewšd
(è{  
S‘Pos™iÚ
(0); }

83 cÚ¡ * 
G‘R—dD©a
(
size_t
* 
d©a_Ën
);

84 
CÚsumeR—dD©a
(
size_t
 
u£d
);

92 * 
G‘Wr™eBufãr
(
size_t
* 
buf_Ën
);

93 
CÚsumeWr™eBufãr
(
size_t
 
u£d
);

97 
boŞ
 
G‘Wr™eRemaššg
(
size_t
* 
size
) const;

99 
	g´iv©e
:

102 
SŒ—mResuÉ
 
R—dOff£tLocked
(* 
bufãr
,

103 
size_t
 
by‹s
,

104 
size_t
 
off£t
,

105 
size_t
* 
by‹s_»ad
)

106 
RTC_EXCLUSIVE_LOCKS_REQUIRED
(
ü™_
);

110 
SŒ—mResuÉ
 
Wr™eOff£tLocked
(cÚ¡ * 
bufãr
,

111 
size_t
 
by‹s
,

112 
size_t
 
off£t
,

113 
size_t
* 
by‹s_wr™‹n
)

114 
RTC_EXCLUSIVE_LOCKS_REQUIRED
(
ü™_
);

117 
SŒ—mS‹
 
¡©e_
 
RTC_GUARDED_BY
(
ü™_
);

119 
	g¡d
::
unique_±r
<[]> 
bufãr_
 
RTC_GUARDED_BY
(
ü™_
);

121 
size_t
 
bufãr_Ëngth_
 
RTC_GUARDED_BY
(
ü™_
);

123 
size_t
 
d©a_Ëngth_
 
RTC_GUARDED_BY
(
ü™_
);

125 
size_t
 
»ad_pos™iÚ_
 
RTC_GUARDED_BY
(
ü™_
);

127 
Th»ad
* 
	gowÃr_
;

129 
Cr™iÿlSeùiÚ
 
	gü™_
;

130 
RTC_DISALLOW_COPY_AND_ASSIGN
(
FifoBufãr
);

	@memory/fifo_buffer_unittest.cc

11 
	~"¹c_ba£/memÜy/fifo_bufãr.h
"

13 
	~<¡ršg.h
>

15 
	~"‹¡/g‹¡.h
"

17 
Çme¥aû
 
	g¹c
 {

19 
TEST
(
FifoBufãrTe¡
, 
Te¡AÎ
) {

20 cÚ¡ 
size_t
 
	gkSize
 = 16;

21 cÚ¡ 
	gš
[
kSize
 * 2 + 1] = "0123456789ABCDEFGHIJKLMNOPQRSTUV";

22 
	gout
[
kSize
 * 2];

23 * 
	gp
;

24 cÚ¡ * 
	gq
;

25 
size_t
 
	gby‹s
;

26 
FifoBufãr
 
buf
(
kSize
);

29 
EXPECT_EQ
(
SS_OPEN
, 
buf
.
G‘S‹
());

30 
EXPECT_EQ
(
SR_BLOCK
, 
buf
.
R—d
(
out
, 
kSize
, &
by‹s
, 
nuÎ±r
));

31 
EXPECT_TRUE
(
nuÎ±r
 !ğ
buf
.
G‘Wr™eBufãr
(&
by‹s
));

32 
EXPECT_EQ
(
kSize
, 
by‹s
);

33 
	gbuf
.
CÚsumeWr™eBufãr
(0);

36 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
Wr™e
(
š
, 
kSize
, &
by‹s
, 
nuÎ±r
));

37 
EXPECT_EQ
(
kSize
, 
by‹s
);

40 
EXPECT_EQ
(
SR_BLOCK
, 
buf
.
Wr™e
(
š
, 
kSize
, &
by‹s
, 
nuÎ±r
));

43 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
R—d
(
out
, 
kSize
, &
by‹s
, 
nuÎ±r
));

44 
EXPECT_EQ
(
kSize
, 
by‹s
);

45 
EXPECT_EQ
(0, 
memcmp
(
š
, 
out
, 
kSize
));

48 
EXPECT_EQ
(
SR_BLOCK
, 
buf
.
R—d
(
out
, 
kSize
, &
by‹s
, 
nuÎ±r
));

51 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
Wr™e
(
š
, 
kSize
 * 2, &
by‹s
, 
nuÎ±r
));

52 
EXPECT_EQ
(
by‹s
, 
kSize
);

55 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
R—d
(
out
, 
kSize
 * 2, &
by‹s
, 
nuÎ±r
));

56 
EXPECT_EQ
(
kSize
, 
by‹s
);

57 
EXPECT_EQ
(0, 
memcmp
(
š
, 
out
, 
kSize
));

60 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
Wr™e
(
š
, 
kSize
 / 2, &
by‹s
, 
nuÎ±r
));

61 
EXPECT_EQ
(
kSize
 / 2, 
by‹s
);

62 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
R—d
(
out
, 
kSize
 / 2, &
by‹s
, 
nuÎ±r
));

63 
EXPECT_EQ
(
kSize
 / 2, 
by‹s
);

64 
EXPECT_EQ
(0, 
memcmp
(
š
, 
out
, 
kSize
 / 2));

65 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
Wr™e
(
š
, 
kSize
 / 2, &
by‹s
, 
nuÎ±r
));

66 
EXPECT_EQ
(
kSize
 / 2, 
by‹s
);

67 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
Wr™e
(
š
, 
kSize
 / 2, &
by‹s
, 
nuÎ±r
));

68 
EXPECT_EQ
(
kSize
 / 2, 
by‹s
);

69 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
R—d
(
out
, 
kSize
 / 2, &
by‹s
, 
nuÎ±r
));

70 
EXPECT_EQ
(
kSize
 / 2, 
by‹s
);

71 
EXPECT_EQ
(0, 
memcmp
(
š
, 
out
, 
kSize
 / 2));

72 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
R—d
(
out
, 
kSize
 / 2, &
by‹s
, 
nuÎ±r
));

73 
EXPECT_EQ
(
kSize
 / 2, 
by‹s
);

74 
EXPECT_EQ
(0, 
memcmp
(
š
, 
out
, 
kSize
 / 2));

84 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
Wr™e
(
š
, 
kSize
 * 3 / 4, &
by‹s
, 
nuÎ±r
));

85 
EXPECT_EQ
(
kSize
 * 3 / 4, 
by‹s
);

86 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
R—d
(
out
, 
kSize
 / 2, &
by‹s
, 
nuÎ±r
));

87 
EXPECT_EQ
(
kSize
 / 2, 
by‹s
);

88 
EXPECT_EQ
(0, 
memcmp
(
š
, 
out
, 
kSize
 / 2));

89 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
Wr™e
(
š
, 
kSize
 / 2, &
by‹s
, 
nuÎ±r
));

90 
EXPECT_EQ
(
kSize
 / 2, 
by‹s
);

91 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
R—d
(
out
, 
kSize
 / 4, &
by‹s
, 
nuÎ±r
));

92 
EXPECT_EQ
(
kSize
 / 4, 
by‹s
);

93 
EXPECT_EQ
(0, 
memcmp
(
š
 + 
kSize
 / 2, 
out
, kSize / 4));

94 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
Wr™e
(
š
, 
kSize
 / 2, &
by‹s
, 
nuÎ±r
));

95 
EXPECT_EQ
(
kSize
 / 2, 
by‹s
);

96 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
R—d
(
out
, 
kSize
 / 2, &
by‹s
, 
nuÎ±r
));

97 
EXPECT_EQ
(
kSize
 / 2, 
by‹s
);

98 
EXPECT_EQ
(0, 
memcmp
(
š
, 
out
, 
kSize
 / 2));

99 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
R—d
(
out
, 
kSize
 / 2, &
by‹s
, 
nuÎ±r
));

100 
EXPECT_EQ
(
kSize
 / 2, 
by‹s
);

101 
EXPECT_EQ
(0, 
memcmp
(
š
, 
out
, 
kSize
 / 2));

104 
	gbuf
.
G‘Wr™eBufãr
(&
by‹s
);

105 
	gbuf
.
CÚsumeWr™eBufãr
(0);

108 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
Wr™e
(
š
, 
kSize
, &
by‹s
, 
nuÎ±r
));

109 
	gq
 = 
buf
.
G‘R—dD©a
(&
by‹s
);

110 
EXPECT_TRUE
(
nuÎ±r
 !ğ
q
);

111 
EXPECT_EQ
(
kSize
, 
by‹s
);

112 
EXPECT_EQ
(0, 
memcmp
(
q
, 
š
, 
kSize
));

113 
	gbuf
.
CÚsumeR—dD©a
(
kSize
);

114 
EXPECT_EQ
(
SR_BLOCK
, 
buf
.
R—d
(
out
, 
kSize
, &
by‹s
, 
nuÎ±r
));

117 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
Wr™e
(
š
, 
kSize
, &
by‹s
, 
nuÎ±r
));

118 
	gq
 = 
buf
.
G‘R—dD©a
(&
by‹s
);

119 
EXPECT_TRUE
(
nuÎ±r
 !ğ
q
);

120 
EXPECT_EQ
(
kSize
, 
by‹s
);

121 
EXPECT_EQ
(0, 
memcmp
(
q
, 
š
, 
kSize
 / 2));

122 
	gbuf
.
CÚsumeR—dD©a
(
kSize
 / 2);

123 
	gq
 = 
buf
.
G‘R—dD©a
(&
by‹s
);

124 
EXPECT_TRUE
(
nuÎ±r
 !ğ
q
);

125 
EXPECT_EQ
(
kSize
 / 2, 
by‹s
);

126 
EXPECT_EQ
(0, 
memcmp
(
q
, 
š
 + 
kSize
 / 2, kSize / 2));

127 
	gbuf
.
CÚsumeR—dD©a
(
kSize
 / 2);

128 
EXPECT_EQ
(
SR_BLOCK
, 
buf
.
R—d
(
out
, 
kSize
, &
by‹s
, 
nuÎ±r
));

136 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
Wr™e
(
š
, 
kSize
, &
by‹s
, 
nuÎ±r
));

137 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
R—d
(
out
, 
kSize
 * 3 / 4, &
by‹s
, 
nuÎ±r
));

138 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
Wr™e
(
š
, 
kSize
 / 2, &
by‹s
, 
nuÎ±r
));

139 
	gq
 = 
buf
.
G‘R—dD©a
(&
by‹s
);

140 
EXPECT_TRUE
(
nuÎ±r
 !ğ
q
);

141 
EXPECT_EQ
(
kSize
 / 4, 
by‹s
);

142 
EXPECT_EQ
(0, 
memcmp
(
q
, 
š
 + 
kSize
 * 3 / 4, kSize / 4));

143 
	gbuf
.
CÚsumeR—dD©a
(
kSize
 / 4);

144 
	gq
 = 
buf
.
G‘R—dD©a
(&
by‹s
);

145 
EXPECT_TRUE
(
nuÎ±r
 !ğ
q
);

146 
EXPECT_EQ
(
kSize
 / 2, 
by‹s
);

147 
EXPECT_EQ
(0, 
memcmp
(
q
, 
š
, 
kSize
 / 2));

148 
	gbuf
.
CÚsumeR—dD©a
(
kSize
 / 2);

151 
	gbuf
.
G‘Wr™eBufãr
(&
by‹s
);

152 
	gbuf
.
CÚsumeWr™eBufãr
(0);

155 
	gp
 = 
buf
.
G‘Wr™eBufãr
(&
by‹s
);

156 
EXPECT_TRUE
(
nuÎ±r
 !ğ
p
);

157 
EXPECT_EQ
(
kSize
, 
by‹s
);

158 
memıy
(
p
, 
š
, 
kSize
);

159 
	gbuf
.
CÚsumeWr™eBufãr
(
kSize
);

160 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
R—d
(
out
, 
kSize
, &
by‹s
, 
nuÎ±r
));

161 
EXPECT_EQ
(
kSize
, 
by‹s
);

162 
EXPECT_EQ
(0, 
memcmp
(
š
, 
out
, 
kSize
));

165 
	gp
 = 
buf
.
G‘Wr™eBufãr
(&
by‹s
);

166 
EXPECT_TRUE
(
nuÎ±r
 !ğ
p
);

167 
EXPECT_EQ
(
kSize
, 
by‹s
);

168 
memıy
(
p
, 
š
, 
kSize
 / 2);

169 
	gbuf
.
CÚsumeWr™eBufãr
(
kSize
 / 2);

170 
	gp
 = 
buf
.
G‘Wr™eBufãr
(&
by‹s
);

171 
EXPECT_TRUE
(
nuÎ±r
 !ğ
p
);

172 
EXPECT_EQ
(
kSize
 / 2, 
by‹s
);

173 
memıy
(
p
, 
š
 + 
kSize
 / 2, kSize / 2);

174 
	gbuf
.
CÚsumeWr™eBufãr
(
kSize
 / 2);

175 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
R—d
(
out
, 
kSize
, &
by‹s
, 
nuÎ±r
));

176 
EXPECT_EQ
(
kSize
, 
by‹s
);

177 
EXPECT_EQ
(0, 
memcmp
(
š
, 
out
, 
kSize
));

185 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
Wr™e
(
š
, 
kSize
 * 3 / 4, &
by‹s
, 
nuÎ±r
));

186 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
R—d
(
out
, 
kSize
 / 2, &
by‹s
, 
nuÎ±r
));

187 
	gp
 = 
buf
.
G‘Wr™eBufãr
(&
by‹s
);

188 
EXPECT_TRUE
(
nuÎ±r
 !ğ
p
);

189 
EXPECT_EQ
(
kSize
 / 4, 
by‹s
);

190 
memıy
(
p
, 
š
, 
kSize
 / 4);

191 
	gbuf
.
CÚsumeWr™eBufãr
(
kSize
 / 4);

192 
	gp
 = 
buf
.
G‘Wr™eBufãr
(&
by‹s
);

193 
EXPECT_TRUE
(
nuÎ±r
 !ğ
p
);

194 
EXPECT_EQ
(
kSize
 / 2, 
by‹s
);

195 
memıy
(
p
, 
š
 + 
kSize
 / 4, kSize / 4);

196 
	gbuf
.
CÚsumeWr™eBufãr
(
kSize
 / 4);

197 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
R—d
(
out
, 
kSize
 * 3 / 4, &
by‹s
, 
nuÎ±r
));

198 
EXPECT_EQ
(
kSize
 * 3 / 4, 
by‹s
);

199 
EXPECT_EQ
(0, 
memcmp
(
š
 + 
kSize
 / 2, 
out
, kSize / 4));

200 
EXPECT_EQ
(0, 
memcmp
(
š
, 
out
 + 
kSize
 / 4, kSize / 4));

203 
EXPECT_EQ
(
SR_BLOCK
, 
buf
.
R—d
(
out
, 
kSize
, &
by‹s
, 
nuÎ±r
));

206 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
Wr™e
(
š
, 
kSize
, &
by‹s
, 
nuÎ±r
));

207 
EXPECT_EQ
(
kSize
, 
by‹s
);

208 
EXPECT_TRUE
(
buf
.
S‘C­ac™y
(
kSize
 * 2));

209 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
Wr™e
(
š
 + 
kSize
, kSize, &
by‹s
, 
nuÎ±r
));

210 
EXPECT_EQ
(
kSize
, 
by‹s
);

211 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
R—d
(
out
, 
kSize
 * 2, &
by‹s
, 
nuÎ±r
));

212 
EXPECT_EQ
(
kSize
 * 2, 
by‹s
);

213 
EXPECT_EQ
(0, 
memcmp
(
š
, 
out
, 
kSize
 * 2));

216 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
Wr™e
(
š
, 
kSize
, &
by‹s
, 
nuÎ±r
));

217 
EXPECT_EQ
(
kSize
, 
by‹s
);

218 
EXPECT_TRUE
(
buf
.
S‘C­ac™y
(
kSize
));

219 
EXPECT_EQ
(
SR_BLOCK
, 
buf
.
Wr™e
(
š
, 
kSize
, &
by‹s
, 
nuÎ±r
));

220 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
R—d
(
out
, 
kSize
, &
by‹s
, 
nuÎ±r
));

221 
EXPECT_EQ
(
kSize
, 
by‹s
);

222 
EXPECT_EQ
(0, 
memcmp
(
š
, 
out
, 
kSize
));

225 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
Wr™e
(
š
, 
kSize
 / 2, &
by‹s
, 
nuÎ±r
));

226 
	gbuf
.
Clo£
();

227 
EXPECT_EQ
(
SS_CLOSED
, 
buf
.
G‘S‹
());

228 
EXPECT_EQ
(
SR_EOS
, 
buf
.
Wr™e
(
š
, 
kSize
 / 2, &
by‹s
, 
nuÎ±r
));

229 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
R—d
(
out
, 
kSize
 / 2, &
by‹s
, 
nuÎ±r
));

230 
EXPECT_EQ
(0, 
memcmp
(
š
, 
out
, 
kSize
 / 2));

231 
EXPECT_EQ
(
SR_EOS
, 
buf
.
R—d
(
out
, 
kSize
 / 2, &
by‹s
, 
nuÎ±r
));

234 
TEST
(
FifoBufãrTe¡
, 
FuÎBufãrCheck
) {

235 
FifoBufãr
 
buff
(10);

236 
	gbuff
.
CÚsumeWr™eBufãr
(10);

238 
size_t
 
	gä“
;

239 
EXPECT_TRUE
(
buff
.
G‘Wr™eBufãr
(&
ä“
è!ğ
nuÎ±r
);

240 
EXPECT_EQ
(0U, 
ä“
);

243 
TEST
(
FifoBufãrTe¡
, 
Wr™eOff£tAndR—dOff£t
) {

244 cÚ¡ 
size_t
 
	gkSize
 = 16;

245 cÚ¡ 
	gš
[
kSize
 * 2 + 1] = "0123456789ABCDEFGHIJKLMNOPQRSTUV";

246 
	gout
[
kSize
 * 2];

247 
FifoBufãr
 
buf
(
kSize
);

250 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
Wr™e
(
š
, 14, 
nuÎ±r
,‚ullptr));

253 
size_t
 
	gbufã»d
;

254 
EXPECT_TRUE
(
buf
.
G‘Bufã»d
(&
bufã»d
));

255 
EXPECT_EQ
(14u, 
bufã»d
);

258 
	gbuf
.
CÚsumeR—dD©a
(10);

261 
size_t
 
	g»maššg
;

262 
EXPECT_TRUE
(
buf
.
G‘Wr™eRemaššg
(&
»maššg
));

263 
EXPECT_EQ
(12u, 
»maššg
);

266 
EXPECT_EQ
(
SR_BLOCK
, 
buf
.
Wr™eOff£t
(
š
, 10, 12, 
nuÎ±r
));

269 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
Wr™eOff£t
(
š
, 8, 4, 
nuÎ±r
));

273 
EXPECT_TRUE
(
buf
.
G‘Wr™eRemaššg
(&
»maššg
));

274 
EXPECT_EQ
(12u, 
»maššg
);

275 
	gbuf
.
CÚsumeWr™eBufãr
(12);

279 
size_t
 
	g»ad
;

280 
EXPECT_EQ
(
SR_SUCCESS
, 
buf
.
R—dOff£t
(
out
, 8, 8, &
»ad
));

281 
EXPECT_EQ
(8u, 
»ad
);

282 
EXPECT_EQ
(0, 
memcmp
(
out
, 
š
, 8));

285 
EXPECT_TRUE
(
buf
.
G‘Bufã»d
(&
bufã»d
));

286 
EXPECT_EQ
(16u, 
bufã»d
);

289 
EXPECT_EQ
(
SR_BLOCK
, 
buf
.
R—dOff£t
(
out
, 10, 16, 
nuÎ±r
));

	@memory_stream.cc

11 
	~"¹c_ba£/memÜy_¡»am.h
"

13 
	~<”ºo.h
>

14 
	~<¡ršg.h
>

16 
	~<®gÜ™hm
>

18 
	~"¹c_ba£/checks.h
"

20 
Çme¥aû
 
	g¹c
 {

22 
SŒ—mS‹
 
	gMemÜySŒ—m
::
G‘S‹
() const {

23  
SS_OPEN
;

26 
SŒ—mResuÉ
 
	gMemÜySŒ—m
::
R—d
(* 
bufãr
,

27 
size_t
 
by‹s
,

28 
size_t
* 
by‹s_»ad
,

29 * 
”rÜ
) {

30 ià(
	g£ek_pos™iÚ_
 >ğ
d©a_Ëngth_
) {

31  
SR_EOS
;

33 
size_t
 
	gavaabË
 = 
d©a_Ëngth_
 - 
£ek_pos™iÚ_
;

34 ià(
	gby‹s
 > 
	gavaabË
) {

36 
	gby‹s
 = 
avaabË
;

38 
memıy
(
bufãr
, &
bufãr_
[
£ek_pos™iÚ_
], 
by‹s
);

39 
	g£ek_pos™iÚ_
 +ğ
by‹s
;

40 ià(
	gby‹s_»ad
) {

41 *
	gby‹s_»ad
 = 
by‹s
;

43  
	gSR_SUCCESS
;

46 
SŒ—mResuÉ
 
	gMemÜySŒ—m
::
Wr™e
(cÚ¡ * 
bufãr
,

47 
size_t
 
by‹s
,

48 
size_t
* 
by‹s_wr™‹n
,

49 * 
”rÜ
) {

50 
size_t
 
	gavaabË
 = 
bufãr_Ëngth_
 - 
£ek_pos™iÚ_
;

51 ià(0 =ğ
avaabË
) {

55 
size_t
 
Ãw_bufãr_Ëngth
 =

56 
¡d
::
max
(((
£ek_pos™iÚ_
 + 
by‹s
è| 0xFFè+ 1, 
bufãr_Ëngth_
 * 2);

57 
SŒ—mResuÉ
 
	g»suÉ
 = 
DoRe£rve
(
Ãw_bufãr_Ëngth
, 
”rÜ
);

58 ià(
	gSR_SUCCESS
 !ğ
»suÉ
) {

59  
»suÉ
;

61 
RTC_DCHECK
(
bufãr_Ëngth_
 >ğ
Ãw_bufãr_Ëngth
);

62 
	gavaabË
 = 
bufãr_Ëngth_
 - 
£ek_pos™iÚ_
;

65 ià(
	gby‹s
 > 
	gavaabË
) {

66 
	gby‹s
 = 
avaabË
;

68 
memıy
(&
bufãr_
[
£ek_pos™iÚ_
], 
bufãr
, 
by‹s
);

69 
	g£ek_pos™iÚ_
 +ğ
by‹s
;

70 ià(
	gd©a_Ëngth_
 < 
	g£ek_pos™iÚ_
) {

71 
	gd©a_Ëngth_
 = 
£ek_pos™iÚ_
;

73 ià(
	gby‹s_wr™‹n
) {

74 *
	gby‹s_wr™‹n
 = 
by‹s
;

76  
	gSR_SUCCESS
;

79 
	gMemÜySŒ—m
::
Clo£
() {

83 
boŞ
 
MemÜySŒ—m
::
S‘Pos™iÚ
(
size_t
 
pos™iÚ
) {

84 ià(
pos™iÚ
 > 
d©a_Ëngth_
)

85  
çl£
;

86 
	g£ek_pos™iÚ_
 = 
pos™iÚ
;

87  
	gŒue
;

90 
boŞ
 
	gMemÜySŒ—m
::
G‘Pos™iÚ
(
size_t
* 
pos™iÚ
) const {

91 ià(
pos™iÚ
)

92 *
pos™iÚ
 = 
£ek_pos™iÚ_
;

93  
	gŒue
;

96 
	gMemÜySŒ—m
::
Rewšd
() {

97 
£ek_pos™iÚ_
 = 0;

100 
boŞ
 
	gMemÜySŒ—m
::
G‘Size
(
size_t
* 
size
) const {

101 ià(
size
)

102 *
size
 = 
d©a_Ëngth_
;

103  
	gŒue
;

106 
boŞ
 
	gMemÜySŒ—m
::
Re£rveSize
(
size_t
 
size
) {

107  (
SR_SUCCESS
 =ğ
DoRe£rve
(
size
, 
nuÎ±r
));

112 
	gMemÜySŒ—m
::
MemÜySŒ—m
() {}

114 
MemÜySŒ—m
::~MemoryStream() {

115 
d–‘e
[] 
bufãr_
;

118 
	gMemÜySŒ—m
::
S‘D©a
(cÚ¡ * 
d©a
, 
size_t
 
Ëngth
) {

119 
	gd©a_Ëngth_
 = 
bufãr_Ëngth_
 = 
Ëngth
;

120 
	gd–‘e
[] 
	gbufãr_
;

121 
	gbufãr_
 = 
Ãw
 [
bufãr_Ëngth_
];

122 
memıy
(
bufãr_
, 
d©a
, 
d©a_Ëngth_
);

123 
	g£ek_pos™iÚ_
 = 0;

126 
SŒ—mResuÉ
 
	gMemÜySŒ—m
::
DoRe£rve
(
size_t
 
size
, * 
”rÜ
) {

127 ià(
	gbufãr_Ëngth_
 >ğ
size
)

128  
SR_SUCCESS
;

130 ià(* 
	gÃw_bufãr
 = 
Ãw
 [
size
]) {

131 
memıy
(
Ãw_bufãr
, 
bufãr_
, 
d©a_Ëngth_
);

132 
	gd–‘e
[] 
	gbufãr_
;

133 
	gbufãr_
 = 
Ãw_bufãr
;

134 
	gbufãr_Ëngth_
 = 
size
;

135  
	gSR_SUCCESS
;

138 ià(
	g”rÜ
) {

139 *
	g”rÜ
 = 
ENOMEM
;

141  
	gSR_ERROR
;

	@memory_stream.h

11 #iâdeà
RTC_BASE_MEMORY_STREAM_H_


12 
	#RTC_BASE_MEMORY_STREAM_H_


	)

14 
	~<¡ddef.h
>

16 
	~"¹c_ba£/¡»am.h
"

18 
Çme¥aû
 
	g¹c
 {

22 şas 
	cMemÜySŒ—m
 
	gfš®
 : 
public
 
SŒ—mIÁ”çû
 {

23 
public
:

24 
MemÜySŒ—m
();

25 ~
MemÜySŒ—m
(è
	gov”ride
;

27 
SŒ—mS‹
 
G‘S‹
(ècÚ¡ 
	gov”ride
;

28 
SŒ—mResuÉ
 
R—d
(* 
bufãr
,

29 
size_t
 
by‹s
,

30 
size_t
* 
by‹s_»ad
,

31 * 
”rÜ
è
	gov”ride
;

32 
SŒ—mResuÉ
 
Wr™e
(cÚ¡ * 
bufãr
,

33 
size_t
 
by‹s
,

34 
size_t
* 
by‹s_wr™‹n
,

35 * 
”rÜ
è
	gov”ride
;

36 
Clo£
(è
	gov”ride
;

37 
boŞ
 
G‘Size
(
size_t
* 
size
) const;

38 
boŞ
 
Re£rveSize
(
size_t
 
size
);

40 
boŞ
 
S‘Pos™iÚ
(
size_t
 
pos™iÚ
);

41 
boŞ
 
G‘Pos™iÚ
(
size_t
* 
pos™iÚ
) const;

42 
Rewšd
();

44 * 
G‘Bufãr
(è{  
	gbufãr_
; }

45 cÚ¡ * 
G‘Bufãr
(ècÚ¡ {  
	gbufãr_
; }

47 
S‘D©a
(cÚ¡ * 
d©a
, 
size_t
 
Ëngth
);

49 
	g´iv©e
:

50 
SŒ—mResuÉ
 
DoRe£rve
(
size_t
 
size
, * 
”rÜ
);

53 * 
	gbufãr_
 = 
nuÎ±r
;

54 
size_t
 
	gbufãr_Ëngth_
 = 0;

55 
size_t
 
	gd©a_Ëngth_
 = 0;

56 
size_t
 
	g£ek_pos™iÚ_
 = 0;

	@memory_usage.cc

11 
	~"¹c_ba£/memÜy_u§ge.h
"

13 #ià
defšed
(
WEBRTC_LINUX
)

14 
	~<uni¡d.h
>

16 
	~<c¡dio
>

17 #–ià
defšed
(
WEBRTC_MAC
)

18 
	~<mach/mach.h
>

19 #–ià
defšed
(
WEBRTC_WIN
)

22 
	~<wšdows.h
>

23 
	~<p§pi.h
>

27 
	~"¹c_ba£/loggšg.h
"

29 
Çme¥aû
 
	g¹c
 {

31 
št64_t
 
G‘ProûssResid’tSizeBy‹s
() {

32 #ià
defšed
(
WEBRTC_LINUX
)

33 
FILE
* 
	gfe
 = 
fİ’
("/proc/self/statm", "r");

34 ià(
	gfe
 =ğ
nuÎ±r
) {

35 
RTC_LOG
(
LS_ERROR
) << "Failedo open /proc/self/statm";

38 
	g»suÉ
 = -1;

39 ià(
fsÿnf
(
fe
, "%*s%d", &
»suÉ
) != 1) {

40 
fşo£
(
fe
);

41 
RTC_LOG
(
LS_ERROR
) << "Failedo…arse /proc/self/statm";

44 
fşo£
(
fe
);

45  
	g¡©ic_ÿ¡
<
	gšt64_t
>(
	g»suÉ
è* 
syscÚf
(
_SC_PAGESIZE
);

46 #–ià
defšed
(
WEBRTC_MAC
)

47 
sk_basic_šfo_64
 
	gšfo
;

48 
mach_msg_ty³_numb”_t
 
	gšfo_couÁ
 = 
TASK_BASIC_INFO_64_COUNT
;

49 ià(
sk_šfo
(
mach_sk_£lf
(), 
TASK_BASIC_INFO_64
,

50 
»š‹½»t_ÿ¡
<
sk_šfo_t
>(&
šfo
),

51 &
šfo_couÁ
è!ğ
KERN_SUCCESS
) {

52 
RTC_LOG_ERR
(
LS_ERROR
) << "task_info() failed";

55  
	gšfo
.
	g»sid’t_size
;

56 #–ià
defšed
(
WEBRTC_WIN
)

57 
PROCESS_MEMORY_COUNTERS
 
	gpmc
;

58 ià(
G‘ProûssMemÜyInfo
(
G‘Cu¼’tProûss
(), &
pmc
, (pmc)) == 0) {

59 
RTC_LOG_ERR
(
LS_ERROR
) << "GetProcessMemoryInfo() failed";

62  
	gpmc
.
	gWÜkšgS‘Size
;

63 #–ià
defšed
(
WEBRTC_FUCHSIA
)

64 
RTC_LOG_ERR
(
LS_ERROR
) << "GetProcessResidentSizeBytes()‚ot implemented";

68 
¡©ic_as£¹
(
çl£
,

	@memory_usage.h

10 #iâdeà
RTC_BASE_MEMORY_USAGE_H_


11 
	#RTC_BASE_MEMORY_USAGE_H_


	)

13 
	~<¡dšt.h
>

15 
Çme¥aû
 
	g¹c
 {

20 
št64_t
 
G‘ProûssResid’tSizeBy‹s
();

	@memory_usage_unittest.cc

11 
	~"¹c_ba£/memÜy_u§ge.h
"

13 
	~"‹¡/g‹¡.h
"

15 
Çme¥aû
 
	g¹c
 {

17 
TEST
(
G‘MemÜyU§ge
, 
Sim¶eTe¡
) {

18 
št64_t
 
	gu£d_by‹s
 = 
G‘ProûssResid’tSizeBy‹s
();

19 
EXPECT_GE
(
u£d_by‹s
, 0);

	@message_buffer_reader.h

11 #iâdeà
RTC_BASE_MESSAGE_BUFFER_READER_H_


12 
	#RTC_BASE_MESSAGE_BUFFER_READER_H_


	)

14 
	~"¹c_ba£/by‹_bufãr.h
"

16 
Çme¥aû
 
	gweb¹c
 {

20 şas 
	cMes§geBufãrR—d”
 : 
public
 
¹c
::
By‹BufãrR—d”
 {

21 
public
:

22 
Mes§geBufãrR—d”
(cÚ¡ * 
by‹s
, 
size_t
 
Ën
)

23 : 
¹c
::
By‹BufãrR—d”
(
by‹s
, 
Ën
) {}

24 ~
Mes§geBufãrR—d”
() = ;

27 cÚ¡ * 
Mes§geD©a
(ècÚ¡ {  
	gby‹s_
; }

30 
size_t
 
Mes§geL’gth
(ècÚ¡ {  
	gsize_
; }

32 
size_t
 
Cu¼’tOff£t
(ècÚ¡ {  
	g¡¬t_
; }

	@message_digest.cc

11 
	~"¹c_ba£/mes§ge_dige¡.h
"

13 
	~<¡ršg.h
>

15 
	~<c¡dšt
>

16 
	~<memÜy
>

18 
	~"¹c_ba£/İ’s¦_dige¡.h
"

19 
	~"¹c_ba£/¡ršg_’code.h
"

21 
Çme¥aû
 
	g¹c
 {

24 cÚ¡ 
	gDIGEST_MD5
[] = "md5";

25 cÚ¡ 
	gDIGEST_SHA_1
[] = "sha-1";

26 cÚ¡ 
	gDIGEST_SHA_224
[] = "sha-224";

27 cÚ¡ 
	gDIGEST_SHA_256
[] = "sha-256";

28 cÚ¡ 
	gDIGEST_SHA_384
[] = "sha-384";

29 cÚ¡ 
	gDIGEST_SHA_512
[] = "sha-512";

31 cÚ¡ 
size_t
 
	gkBlockSize
 = 64;

33 
Mes§geDige¡
* 
	gMes§geDige¡FaùÜy
::
C»©e
(cÚ¡ 
¡d
::
¡ršg
& 
®g
) {

34 
Mes§geDige¡
* 
dige¡
 = 
Ãw
 
O³nSSLDige¡
(
®g
);

35 ià(
	gdige¡
->
Size
() == 0) {

36 
d–‘e
 
dige¡
;

37 
	gdige¡
 = 
nuÎ±r
;

39  
	gdige¡
;

42 
boŞ
 
IsFs180Dige¡AlgÜ™hm
(cÚ¡ 
¡d
::
¡ršg
& 
®g
) {

48  
®g
 =ğ
DIGEST_SHA_1
 ||‡lg =ğ
DIGEST_SHA_224
 ||

49 
®g
 =ğ
DIGEST_SHA_256
 ||‡lg =ğ
DIGEST_SHA_384
 ||

50 
®g
 =ğ
DIGEST_SHA_512
;

53 
size_t
 
Compu‹Dige¡
(
Mes§geDige¡
* 
dige¡
,

54 cÚ¡ * 
šput
,

55 
size_t
 
š_Ën
,

56 * 
ouut
,

57 
size_t
 
out_Ën
) {

58 
	gdige¡
->
Upd©e
(
šput
, 
š_Ën
);

59  
	gdige¡
->
Fšish
(
ouut
, 
out_Ën
);

62 
size_t
 
Compu‹Dige¡
(cÚ¡ 
¡d
::
¡ršg
& 
®g
,

63 cÚ¡ * 
šput
,

64 
size_t
 
š_Ën
,

65 * 
ouut
,

66 
size_t
 
out_Ën
) {

67 
	g¡d
::
unique_±r
<
Mes§geDige¡
> 
dige¡
(
Mes§geDige¡FaùÜy
::
C»©e
(
®g
));

68  (
	gdige¡
è? 
Compu‹Dige¡
(
dige¡
.
g‘
(), 
šput
, 
š_Ën
, 
ouut
, 
out_Ën
)

72 
	g¡d
::
¡ršg
 
Compu‹Dige¡
(
Mes§geDige¡
* 
dige¡
, cÚ¡ 
¡d
::¡ršg& 
šput
) {

73 
¡d
::
unique_±r
<[]> 
ouut
(
Ãw
 [
dige¡
->
Size
()]);

74 
Compu‹Dige¡
(
dige¡
, 
šput
.
d©a
(), iÅut.
size
(), 
ouut
.
g‘
(),

75 
dige¡
->
Size
());

76  
hex_’code
(
ouut
.
g‘
(), 
dige¡
->
Size
());

79 
boŞ
 
Compu‹Dige¡
(cÚ¡ 
¡d
::
¡ršg
& 
®g
,

80 cÚ¡ 
¡d
::
¡ršg
& 
šput
,

81 
¡d
::
¡ršg
* 
ouut
) {

82 
¡d
::
unique_±r
<
Mes§geDige¡
> 
dige¡
(
Mes§geDige¡FaùÜy
::
C»©e
(
®g
));

83 ià(!
	gdige¡
) {

84  
	gçl£
;

86 *
	gouut
 = 
Compu‹Dige¡
(
dige¡
.
g‘
(), 
šput
);

87  
	gŒue
;

90 
	g¡d
::
¡ršg
 
Compu‹Dige¡
(cÚ¡ 
¡d
::¡ršg& 
®g
, cÚ¡ std::¡ršg& 
šput
) {

91 
¡d
::
¡ršg
 
ouut
;

92 
Compu‹Dige¡
(
®g
, 
šput
, &
ouut
);

93  
	gouut
;

97 
size_t
 
Compu‹Hmac
(
Mes§geDige¡
* 
dige¡
,

98 cÚ¡ * 
key
,

99 
size_t
 
key_Ën
,

100 cÚ¡ * 
šput
,

101 
size_t
 
š_Ën
,

102 * 
ouut
,

103 
size_t
 
out_Ën
) {

106 
size_t
 
	gblock_Ën
 = 
kBlockSize
;

107 ià(
	gdige¡
->
Size
() > 32) {

112 
	g¡d
::
unique_±r
<
ušt8_t
[]> 
Ãw_key
(
Ãw
 ušt8_t[
block_Ën
]);

113 ià(
	gkey_Ën
 > 
	gblock_Ën
) {

114 
Compu‹Dige¡
(
dige¡
, 
key
, 
key_Ën
, 
Ãw_key
.
g‘
(), 
block_Ën
);

115 
mem£t
(
Ãw_key
.
g‘
(è+ 
dige¡
->
Size
(), 0, 
block_Ën
 - digest->Size());

117 
memıy
(
Ãw_key
.
g‘
(), 
key
, 
key_Ën
);

118 
mem£t
(
Ãw_key
.
g‘
(è+ 
key_Ën
, 0, 
block_Ën
 - key_len);

121 
	g¡d
::
unique_±r
<
ušt8_t
[]> 
o_·d
(
Ãw
 ušt8_t[
block_Ën
]);

122 
	g¡d
::
unique_±r
<
ušt8_t
[]> 
i_·d
(
Ãw
 ušt8_t[
block_Ën
]);

123 
size_t
 
	gi
 = 0; i < 
	gblock_Ën
; ++i) {

124 
	go_·d
[
i
] = 0x5ø^ 
Ãw_key
[i];

125 
	gi_·d
[
i
] = 0x36 ^ 
Ãw_key
[i];

128 
	g¡d
::
unique_±r
<
ušt8_t
[]> 
šÃr
(
Ãw
 ušt8_t[
dige¡
->
Size
()]);

129 
	gdige¡
->
Upd©e
(
i_·d
.
g‘
(), 
block_Ën
);

130 
	gdige¡
->
Upd©e
(
šput
, 
š_Ën
);

131 
	gdige¡
->
Fšish
(
šÃr
.
g‘
(), 
dige¡
->
Size
());

133 
	gdige¡
->
Upd©e
(
o_·d
.
g‘
(), 
block_Ën
);

134 
	gdige¡
->
Upd©e
(
šÃr
.
g‘
(), 
dige¡
->
Size
());

135  
	gdige¡
->
Fšish
(
ouut
, 
out_Ën
);

138 
size_t
 
Compu‹Hmac
(cÚ¡ 
¡d
::
¡ršg
& 
®g
,

139 cÚ¡ * 
key
,

140 
size_t
 
key_Ën
,

141 cÚ¡ * 
šput
,

142 
size_t
 
š_Ën
,

143 * 
ouut
,

144 
size_t
 
out_Ën
) {

145 
	g¡d
::
unique_±r
<
Mes§geDige¡
> 
dige¡
(
Mes§geDige¡FaùÜy
::
C»©e
(
®g
));

146 ià(!
	gdige¡
) {

149  
Compu‹Hmac
(
dige¡
.
g‘
(), 
key
, 
key_Ën
, 
šput
, 
š_Ën
, 
ouut
,

150 
out_Ën
);

153 
	g¡d
::
¡ršg
 
Compu‹Hmac
(
Mes§geDige¡
* 
dige¡
,

154 cÚ¡ 
¡d
::
¡ršg
& 
key
,

155 cÚ¡ 
¡d
::
¡ršg
& 
šput
) {

156 
¡d
::
unique_±r
<[]> 
ouut
(
Ãw
 [
dige¡
->
Size
()]);

157 
Compu‹Hmac
(
dige¡
, 
key
.
d©a
(), key.
size
(), 
šput
.data(), input.size(),

158 
ouut
.
g‘
(), 
dige¡
->
Size
());

159  
hex_’code
(
ouut
.
g‘
(), 
dige¡
->
Size
());

162 
boŞ
 
Compu‹Hmac
(cÚ¡ 
¡d
::
¡ršg
& 
®g
,

163 cÚ¡ 
¡d
::
¡ršg
& 
key
,

164 cÚ¡ 
¡d
::
¡ršg
& 
šput
,

165 
¡d
::
¡ršg
* 
ouut
) {

166 
¡d
::
unique_±r
<
Mes§geDige¡
> 
dige¡
(
Mes§geDige¡FaùÜy
::
C»©e
(
®g
));

167 ià(!
	gdige¡
) {

168  
	gçl£
;

170 *
	gouut
 = 
Compu‹Hmac
(
dige¡
.
g‘
(), 
key
, 
šput
);

171  
	gŒue
;

174 
	g¡d
::
¡ršg
 
Compu‹Hmac
(cÚ¡ 
¡d
::¡ršg& 
®g
,

175 cÚ¡ 
¡d
::
¡ršg
& 
key
,

176 cÚ¡ 
¡d
::
¡ršg
& 
šput
) {

177 
¡d
::
¡ršg
 
ouut
;

178 
Compu‹Hmac
(
®g
, 
key
, 
šput
, &
ouut
);

179  
	gouut
;

	@message_digest.h

11 #iâdeà
RTC_BASE_MESSAGE_DIGEST_H_


12 
	#RTC_BASE_MESSAGE_DIGEST_H_


	)

14 
	~<¡ddef.h
>

16 
	~<¡ršg
>

18 
Çme¥aû
 
	g¹c
 {

21 cÚ¡ 
DIGEST_MD5
[];

22 cÚ¡ 
DIGEST_SHA_1
[];

23 cÚ¡ 
DIGEST_SHA_224
[];

24 cÚ¡ 
DIGEST_SHA_256
[];

25 cÚ¡ 
DIGEST_SHA_384
[];

26 cÚ¡ 
DIGEST_SHA_512
[];

29 şas 
	cMes§geDige¡
 {

30 
	gpublic
:

31 ’um { 
kMaxSize
 = 64 };

32 
	gvœtu®
 ~
Mes§geDige¡
() {}

34 
vœtu®
 
size_t
 
Size
() const = 0;

36 
vœtu®
 
Upd©e
(cÚ¡ * 
buf
, 
size_t
 
Ën
) = 0;

39 
vœtu®
 
size_t
 
Fšish
(* 
buf
, size_ˆ
Ën
) = 0;

43 şas 
	cMes§geDige¡FaùÜy
 {

44 
	gpublic
:

45 
Mes§geDige¡
* 
C»©e
(cÚ¡ 
¡d
::
¡ršg
& 
®g
);

49 
boŞ
 
IsFs180Dige¡AlgÜ™hm
(cÚ¡ 
¡d
::
¡ršg
& 
®g
);

57 
size_t
 
Compu‹Dige¡
(
Mes§geDige¡
* 
dige¡
,

58 cÚ¡ * 
šput
,

59 
size_t
 
š_Ën
,

60 * 
ouut
,

61 
size_t
 
out_Ën
);

65 
size_t
 
Compu‹Dige¡
(cÚ¡ 
¡d
::
¡ršg
& 
®g
,

66 cÚ¡ * 
šput
,

67 
size_t
 
š_Ën
,

68 * 
ouut
,

69 
size_t
 
out_Ën
);

72 
	g¡d
::
¡ršg
 
Compu‹Dige¡
(
Mes§geDige¡
* 
dige¡
, cÚ¡ 
¡d
::¡ršg& 
šput
);

76 
	g¡d
::
¡ršg
 
Compu‹Dige¡
(cÚ¡ 
¡d
::¡ršg& 
®g
, cÚ¡ std::¡ršg& 
šput
);

78 
boŞ
 
Compu‹Dige¡
(cÚ¡ 
¡d
::
¡ršg
& 
®g
,

79 cÚ¡ 
¡d
::
¡ršg
& 
šput
,

80 
¡d
::
¡ršg
* 
ouut
);

83 
šlše
 
	g¡d
::
¡ršg
 
	$MD5
(cÚ¡ 
¡d
::
¡ršg
& 
šput
) {

84  
	`Compu‹Dige¡
(
DIGEST_MD5
, 
šput
);

85 
	}
}

94 
size_t
 
Compu‹Hmac
(
Mes§geDige¡
* 
dige¡
,

95 cÚ¡ * 
key
,

96 
size_t
 
key_Ën
,

97 cÚ¡ * 
šput
,

98 
size_t
 
š_Ën
,

99 * 
ouut
,

100 
size_t
 
out_Ën
);

104 
size_t
 
Compu‹Hmac
(cÚ¡ 
¡d
::
¡ršg
& 
®g
,

105 cÚ¡ * 
key
,

106 
size_t
 
key_Ën
,

107 cÚ¡ * 
šput
,

108 
size_t
 
š_Ën
,

109 * 
ouut
,

110 
size_t
 
out_Ën
);

113 
	g¡d
::
¡ršg
 
Compu‹Hmac
(
Mes§geDige¡
* 
dige¡
,

114 cÚ¡ 
¡d
::
¡ršg
& 
key
,

115 cÚ¡ 
¡d
::
¡ršg
& 
šput
);

119 
	g¡d
::
¡ršg
 
Compu‹Hmac
(cÚ¡ 
¡d
::¡ršg& 
®g
,

120 cÚ¡ 
¡d
::
¡ršg
& 
key
,

121 cÚ¡ 
¡d
::
¡ršg
& 
šput
);

123 
boŞ
 
Compu‹Hmac
(cÚ¡ 
¡d
::
¡ršg
& 
®g
,

124 cÚ¡ 
¡d
::
¡ršg
& 
key
,

125 cÚ¡ 
¡d
::
¡ršg
& 
šput
,

126 
¡d
::
¡ršg
* 
ouut
);

	@message_digest_unittest.cc

11 
	~"¹c_ba£/mes§ge_dige¡.h
"

13 
	~"¹c_ba£/¡ršg_’code.h
"

14 
	~"‹¡/g‹¡.h
"

16 
Çme¥aû
 
	g¹c
 {

19 
TEST
(
Mes§geDige¡Te¡
, 
Te¡Md5Dige¡
) {

21 
EXPECT_EQ
("d41d8cd98f00b204e9800998ecf8427e", 
Compu‹Dige¡
(
DIGEST_MD5
, ""));

22 
EXPECT_EQ
("900150983cd24fb0d6963f7d28e17f72",

23 
Compu‹Dige¡
(
DIGEST_MD5
, "abc"));

24 
EXPECT_EQ
("c3fcd3d76192e4007dfb496cca67e13b",

25 
Compu‹Dige¡
(
DIGEST_MD5
, "abcdefghijklmnopqrstuvwxyz"));

28 
	gouut
[16];

29 
EXPECT_EQ
((
ouut
),

30 
Compu‹Dige¡
(
DIGEST_MD5
, "abc", 3, 
ouut
, (output)));

31 
EXPECT_EQ
("900150983cd24fb0d6963f7d28e17f72",

32 
hex_’code
(
ouut
, (output)));

33 
EXPECT_EQ
(0U,

34 
Compu‹Dige¡
(
DIGEST_MD5
, "abc", 3, 
ouut
, (output) - 1));

38 
TEST
(
Mes§geDige¡Te¡
, 
Te¡Sha1Dige¡
) {

40 
EXPECT_EQ
("da39a3ee5e6b4b0d3255bfef95601890afd80709",

41 
Compu‹Dige¡
(
DIGEST_SHA_1
, ""));

42 
EXPECT_EQ
("a9993e364706816aba3e25717850c26c9cd0d89d",

43 
Compu‹Dige¡
(
DIGEST_SHA_1
, "abc"));

44 
EXPECT_EQ
("84983e441c3bd26ebaae4aa1f95129e5e54670f1",

45 
Compu‹Dige¡
(

46 
DIGEST_SHA_1
,

50 
	gouut
[20];

51 
EXPECT_EQ
((
ouut
),

52 
Compu‹Dige¡
(
DIGEST_SHA_1
, "abc", 3, 
ouut
, (output)));

53 
EXPECT_EQ
("a9993e364706816aba3e25717850c26c9cd0d89d",

54 
hex_’code
(
ouut
, (output)));

55 
EXPECT_EQ
(0U,

56 
Compu‹Dige¡
(
DIGEST_SHA_1
, "abc", 3, 
ouut
, (output) - 1));

60 
TEST
(
Mes§geDige¡Te¡
, 
Te¡BadDige¡
) {

61 
	g¡d
::
¡ršg
 
ouut
;

62 
EXPECT_FALSE
(
Compu‹Dige¡
("sha-9000", "abc", &
ouut
));

63 
EXPECT_EQ
("", 
Compu‹Dige¡
("sha-9000", "abc"));

67 
TEST
(
Mes§geDige¡Te¡
, 
Te¡Md5Hmac
) {

69 
EXPECT_EQ
("9294727a3638bb1c13f48ef8158bfc9d",

70 
Compu‹Hmac
(
DIGEST_MD5
, 
¡d
::
¡ršg
(16, '\x0b'), "Hi There"));

71 
EXPECT_EQ
("750c783e6ab0b503eaa86e310a5db738",

72 
Compu‹Hmac
(
DIGEST_MD5
, "Jefe", "what do ya want for‚othing?"));

73 
EXPECT_EQ
("56be34521d144c88dbb8c733f0e8b3f6",

74 
Compu‹Hmac
(
DIGEST_MD5
, 
¡d
::
¡ršg
(16, '\xaa'),

75 
¡d
::
¡ršg
(50, '\xdd')));

76 
EXPECT_EQ
(

78 
Compu‹Hmac
(
DIGEST_MD5
,

81 
¡d
::
¡ršg
(50, '\xcd')));

82 
EXPECT_EQ
(

84 
Compu‹Hmac
(
DIGEST_MD5
, 
¡d
::
¡ršg
(16, '\x0c'), "Test With Truncation"));

85 
EXPECT_EQ
(

87 
Compu‹Hmac
(
DIGEST_MD5
, 
¡d
::
¡ršg
(80, '\xaa'),

89 
EXPECT_EQ
("6f630fad67cda0ee1fb1f562db3aa53e",

90 
Compu‹Hmac
(
DIGEST_MD5
, 
¡d
::
¡ršg
(80, '\xaa'),

95 
	g¡d
::
¡ršg
 
key
(16, '\x0b');

96 
	g¡d
::
¡ršg
 
šput
("Hi There");

97 
	gouut
[16];

98 
EXPECT_EQ
((
ouut
),

99 
Compu‹Hmac
(
DIGEST_MD5
, 
key
.
c_¡r
(), key.
size
(), 
šput
.c_str(),

100 
šput
.
size
(), 
ouut
, (output)));

101 
EXPECT_EQ
("9294727a3638bb1c13f48ef8158bfc9d",

102 
hex_’code
(
ouut
, (output)));

103 
EXPECT_EQ
(0U, 
Compu‹Hmac
(
DIGEST_MD5
, 
key
.
c_¡r
(), key.
size
(), 
šput
.c_str(),

104 
šput
.
size
(), 
ouut
, (output) - 1));

108 
TEST
(
Mes§geDige¡Te¡
, 
Te¡Sha1Hmac
) {

110 
EXPECT_EQ
("b617318655057264e28bc0b6fb378c8ef146be00",

111 
Compu‹Hmac
(
DIGEST_SHA_1
, 
¡d
::
¡ršg
(20, '\x0b'), "Hi There"));

112 
EXPECT_EQ
("effcdf6ae5eb2fa2d27416d5f184df9c259a7c79",

113 
Compu‹Hmac
(
DIGEST_SHA_1
, "Jefe", "what do ya want for‚othing?"));

114 
EXPECT_EQ
("125d7342b9ac11cd91a39af48aa17b4f63f175d3",

115 
Compu‹Hmac
(
DIGEST_SHA_1
, 
¡d
::
¡ršg
(20, '\xaa'),

116 
¡d
::
¡ršg
(50, '\xdd')));

117 
EXPECT_EQ
(

119 
Compu‹Hmac
(
DIGEST_SHA_1
,

122 
¡d
::
¡ršg
(50, '\xcd')));

123 
EXPECT_EQ
("4c1a03424b55e07fe7f27be1d58bb9324a9a5a04",

124 
Compu‹Hmac
(
DIGEST_SHA_1
, 
¡d
::
¡ršg
(20, '\x0c'),

126 
EXPECT_EQ
(

128 
Compu‹Hmac
(
DIGEST_SHA_1
, 
¡d
::
¡ršg
(80, '\xaa'),

130 
EXPECT_EQ
("e8e99d0f45237d786d6bbaa7965c7808bbff1a91",

131 
Compu‹Hmac
(
DIGEST_SHA_1
, 
¡d
::
¡ršg
(80, '\xaa'),

136 
	g¡d
::
¡ršg
 
key
(20, '\x0b');

137 
	g¡d
::
¡ršg
 
šput
("Hi There");

138 
	gouut
[20];

139 
EXPECT_EQ
((
ouut
),

140 
Compu‹Hmac
(
DIGEST_SHA_1
, 
key
.
c_¡r
(), key.
size
(), 
šput
.c_str(),

141 
šput
.
size
(), 
ouut
, (output)));

142 
EXPECT_EQ
("b617318655057264e28bc0b6fb378c8ef146be00",

143 
hex_’code
(
ouut
, (output)));

144 
EXPECT_EQ
(0U,

145 
Compu‹Hmac
(
DIGEST_SHA_1
, 
key
.
c_¡r
(), key.
size
(), 
šput
.c_str(),

146 
šput
.
size
(), 
ouut
, (output) - 1));

149 
TEST
(
Mes§geDige¡Te¡
, 
Te¡BadHmac
) {

150 
	g¡d
::
¡ršg
 
ouut
;

151 
EXPECT_FALSE
(
Compu‹Hmac
("sha-9000", "key", "abc", &
ouut
));

152 
EXPECT_EQ
("", 
Compu‹Hmac
("sha-9000", "key", "abc"));

	@message_handler.cc

11 
	~"¹c_ba£/mes§ge_hªdËr.h
"

13 
	~"¹c_ba£/th»ad.h
"

15 
Çme¥aû
 
	g¹c
 {

17 
	gMes§geHªdËr
::~
Mes§geHªdËr
() {

18 
Th»adMªag”
::
CË¬
(
this
);

	@message_handler.h

11 #iâdeà
RTC_BASE_MESSAGE_HANDLER_H_


12 
	#RTC_BASE_MESSAGE_HANDLER_H_


	)

14 
	~<ut™y
>

16 
	~"­i/funùiÚ_v›w.h
"

17 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

18 
	~"¹c_ba£/sy¡em/¹c_expÜt.h
"

20 
Çme¥aû
 
	g¹c
 {

22 
	gMes§ge
;

25 şas 
	cRTC_EXPORT
 
	gMes§geHªdËr
 {

26 
	gpublic
:

27 
vœtu®
 ~
Mes§geHªdËr
();

28 
vœtu®
 
OnMes§ge
(
Mes§ge
* 
msg
) = 0;

30 
	g´Ùeùed
:

31 
Mes§geHªdËr
() {}

33 
´iv©e
:

34 
RTC_DISALLOW_COPY_AND_ASSIGN
(
Mes§geHªdËr
);

	@nat_server.cc

11 
	~"¹c_ba£/Çt_£rv”.h
"

13 
	~<memÜy
>

15 
	~"¹c_ba£/checks.h
"

16 
	~"¹c_ba£/loggšg.h
"

17 
	~"¹c_ba£/Çt_sock‘_çùÜy.h
"

18 
	~"¹c_ba£/sock‘_ad­‹rs.h
"

20 
Çme¥aû
 
	g¹c
 {

22 
	gRou‹Cmp
::
Rou‹Cmp
(
NAT
* 
Çt
è: 
symm‘ric
Ò©->
IsSymm‘ric
()) {}

24 
size_t
 
Rou‹Cmp
::
İ”©Ü
()(cÚ¡ 
Sock‘Add»ssPaœ
& 
r
) const {

25 
size_t
 
h
 = 
r
.
sourû
().
Hash
();

26 ià(
	gsymm‘ric
)

27 
	gh
 ^ğ
r
.
de¡š©iÚ
().
Hash
();

28  
	gh
;

31 
boŞ
 
	gRou‹Cmp
::
İ”©Ü
()(cÚ¡ 
Sock‘Add»ssPaœ
& 
r1
,

32 cÚ¡ 
	gSock‘Add»ssPaœ
& 
	gr2
) const {

33 ià(
	gr1
.
sourû
(è< 
	gr2
.source())

34  
	gŒue
;

35 ià(
	gr2
.
sourû
(è< 
	gr1
.source())

36  
	gçl£
;

37 ià(
	gsymm‘ric
 && (
	gr1
.
de¡š©iÚ
(è< 
	gr2
.destination()))

38  
	gŒue
;

39 ià(
	gsymm‘ric
 && (
	gr2
.
de¡š©iÚ
(è< 
	gr1
.destination()))

40  
	gçl£
;

41  
	gçl£
;

44 
	gAddrCmp
::
AddrCmp
(
NAT
* 
Çt
)

45 : 
u£_
(
Çt
->
F‹rsIP
()), 
u£_pÜt
Ò©->
F‹rsPÜt
()) {}

47 
size_t
 
	gAddrCmp
::
İ”©Ü
()(cÚ¡ 
Sock‘Add»ss
& 
a
) const {

48 
size_t
 
h
 = 0;

49 ià(
	gu£_
)

50 
	gh
 ^ğ
HashIP
(
a
.
addr
());

51 ià(
	gu£_pÜt
)

52 
	gh
 ^ğ
a
.
pÜt
() | (a.port() << 16);

53  
	gh
;

56 
boŞ
 
	gAddrCmp
::
İ”©Ü
()(cÚ¡ 
Sock‘Add»ss
& 
a1
,

57 cÚ¡ 
	gSock‘Add»ss
& 
	ga2
) const {

58 ià(
	gu£_
 && (
	ga1
.
addr
(è< 
	ga2
.ipaddr()))

59  
	gŒue
;

60 ià(
	gu£_
 && (
	ga2
.
addr
(è< 
	ga1
.ipaddr()))

61  
	gçl£
;

62 ià(
	gu£_pÜt
 && (
	ga1
.
pÜt
(è< 
	ga2
.port()))

63  
	gŒue
;

64 ià(
	gu£_pÜt
 && (
	ga2
.
pÜt
(è< 
	ga1
.port()))

65  
	gçl£
;

66  
	gçl£
;

71 şas 
	cNATProxyS”v”Sock‘
 : 
public
 
AsyncProxyS”v”Sock‘
 {

72 
public
:

73 
NATProxyS”v”Sock‘
(
AsyncSock‘
* 
sock‘
)

74 : 
AsyncProxyS”v”Sock‘
(
sock‘
, 
kNATEncodedIPv6Add»ssSize
) {

75 
BufãrIÅut
(
Œue
);

78 
S’dCÚÃùResuÉ
(
”r
, cÚ¡ 
Sock‘Add»ss
& 
addr
è
	gov”ride
 {

79 
	gcode
 = 
”r
 ? 1 : 0;

80 
	gBufã»dR—dAd­‹r
::
DœeùS’d
(&
code
, ());

83 
	g´Ùeùed
:

84 
ProûssIÅut
(* 
d©a
, 
size_t
* 
Ën
è
	gov”ride
 {

85 ià(*
	gËn
 < 2) {

89 
	gçmy
 = 
d©a
[1];

90 
RTC_DCHECK
(
çmy
 =ğ
AF_INET
 || famy =ğ
AF_INET6
);

91 ià((
	gçmy
 =ğ
AF_INET
 && *
Ën
 < 
kNATEncodedIPv4Add»ssSize
) ||

92 (
çmy
 =ğ
AF_INET6
 && *
Ën
 < 
kNATEncodedIPv6Add»ssSize
)) {

96 
Sock‘Add»ss
 
	gde¡_addr
;

97 
size_t
 
	gadd»ss_Ëngth
 = 
UÅackAdd»ssFromNAT
(
d©a
, *
Ën
, &
de¡_addr
);

99 *
	gËn
 -ğ
add»ss_Ëngth
;

100 ià(*
	gËn
 > 0) {

101 
memmove
(
d©a
, d©¨+ 
add»ss_Ëngth
, *
Ën
);

104 
boŞ
 
	g»mašd”
 = (*
Ën
 > 0);

105 
BufãrIÅut
(
çl£
);

106 
SigÇlCÚÃùReque¡
(
this
, 
de¡_addr
);

107 ià(
	g»mašd”
) {

108 
SigÇlR—dEv’t
(
this
);

113 şas 
	cNATProxyS”v”
 : 
public
 
ProxyS”v”
 {

114 
public
:

115 
NATProxyS”v”
(
Sock‘FaùÜy
* 
št_çùÜy
,

116 cÚ¡ 
Sock‘Add»ss
& 
št_addr
,

117 
Sock‘FaùÜy
* 
ext_çùÜy
,

118 cÚ¡ 
Sock‘Add»ss
& 
ext_
)

119 : 
ProxyS”v”
(
št_çùÜy
, 
št_addr
, 
ext_çùÜy
, 
ext_
) {}

121 
	g´Ùeùed
:

122 
AsyncProxyS”v”Sock‘
* 
W¿pSock‘
(
AsyncSock‘
* 
sock‘
è
ov”ride
 {

123  
Ãw
 
NATProxyS”v”Sock‘
(
sock‘
);

127 
	gNATS”v”
::
	$NATS”v”
(
NATTy³
 
ty³
,

128 
Sock‘FaùÜy
* 
š‹º®
,

129 cÚ¡ 
Sock‘Add»ss
& 
š‹º®_udp_addr
,

130 cÚ¡ 
Sock‘Add»ss
& 
š‹º®_tı_addr
,

131 
Sock‘FaùÜy
* 
ex‹º®
,

132 cÚ¡ 
Sock‘Add»ss
& 
ex‹º®_
)

133 : 
	`ex‹º®_
(
ex‹º®
), 
	`ex‹º®__
(
ex‹º®_
.
	`addr
(), 0) {

134 
Çt_
 = 
NAT
::
	`C»©e
(
ty³
);

136 
udp_£rv”_sock‘_
 = 
AsyncUDPSock‘
::
	`C»©e
(
š‹º®
, 
š‹º®_udp_addr
);

137 
udp_£rv”_sock‘_
->
SigÇlR—dPack‘
.
	`cÚÃù
(
this
,

138 &
NATS”v”
::
OnIÁ”ÇlUDPPack‘
);

139 
tı_´oxy_£rv”_
 =

140 
Ãw
 
	`NATProxyS”v”
(
š‹º®
, 
š‹º®_tı_addr
, 
ex‹º®
, 
ex‹º®_
);

142 
št_m­_
 = 
Ãw
 
	`IÁ”ÇlM­
(
	`Rou‹Cmp
(
Çt_
));

143 
ext_m­_
 = 
Ãw
 
	`Ex‹º®M­
();

144 
	}
}

146 
	gNATS”v”
::~
	$NATS”v”
() {

147 
IÁ”ÇlM­
::
™”©Ü
 
™”
 = 
št_m­_
->
	`begš
(); i‹¸!ğšt_m­_->
	`’d
();

148 
™”
++)

149 
d–‘e
 
™”
->
£cÚd
;

151 
d–‘e
 
Çt_
;

152 
d–‘e
 
udp_£rv”_sock‘_
;

153 
d–‘e
 
tı_´oxy_£rv”_
;

154 
d–‘e
 
št_m­_
;

155 
d–‘e
 
ext_m­_
;

156 
	}
}

158 
	gNATS”v”
::
	$OnIÁ”ÇlUDPPack‘
(
AsyncPack‘Sock‘
* 
sock‘
,

159 cÚ¡ * 
buf
,

160 
size_t
 
size
,

161 cÚ¡ 
Sock‘Add»ss
& 
addr
,

162 cÚ¡ 
št64_t
& ) {

164 
Sock‘Add»ss
 
de¡_addr
;

165 
size_t
 
Ëngth
 = 
	`UÅackAdd»ssFromNAT
(
buf
, 
size
, &
de¡_addr
);

168 
Sock‘Add»ssPaœ
 
	`rou‹
(
addr
, 
de¡_addr
);

169 
IÁ”ÇlM­
::
™”©Ü
 
™”
 = 
št_m­_
->
	`fšd
(
rou‹
);

170 ià(
™”
 =ğ
št_m­_
->
	`’d
()) {

171 
	`T¿n¦©e
(
rou‹
);

172 
™”
 = 
št_m­_
->
	`fšd
(
rou‹
);

174 
	`RTC_DCHECK
(
™”
 !ğ
št_m­_
->
	`’d
());

177 
™”
->
£cÚd
->
	`Wh™–i¡In£¹
(
de¡_addr
);

180 
¹c
::
Pack‘O±iÚs
 
İtiÚs
;

181 
™”
->
£cÚd
->
sock‘
->
	`S’dTo
(
buf
 + 
Ëngth
, 
size
 -†’gth, 
de¡_addr
, 
İtiÚs
);

182 
	}
}

184 
	gNATS”v”
::
	$OnEx‹º®UDPPack‘
(
AsyncPack‘Sock‘
* 
sock‘
,

185 cÚ¡ * 
buf
,

186 
size_t
 
size
,

187 cÚ¡ 
Sock‘Add»ss
& 
»mÙe_addr
,

188 cÚ¡ 
št64_t
& ) {

189 
Sock‘Add»ss
 
loÿl_addr
 = 
sock‘
->
	`G‘LoÿlAdd»ss
();

192 
Ex‹º®M­
::
™”©Ü
 
™”
 = 
ext_m­_
->
	`fšd
(
loÿl_addr
);

193 
	`RTC_DCHECK
(
™”
 !ğ
ext_m­_
->
	`’d
());

196 ià(
	`ShouldF‹rOut
(
™”
->
£cÚd
, 
»mÙe_addr
)) {

197 
	`RTC_LOG
(
LS_INFO
è<< "Pack‘ from " << 
»mÙe_addr
.
	`ToS’s™iveSŒšg
()

204 
¡d
::
unique_±r
<[]> 
	`»®_buf
(
Ãw
 [
size
 + 
kNATEncodedIPv6Add»ssSize
]);

205 
size_t
 
add¾’gth
 = 
	`PackAdd»ssFÜNAT
(

206 
»®_buf
.
	`g‘
(), 
size
 + 
kNATEncodedIPv6Add»ssSize
, 
»mÙe_addr
);

208 
¹c
::
Pack‘O±iÚs
 
İtiÚs
;

209 
	`memıy
(
»®_buf
.
	`g‘
(è+ 
add¾’gth
, 
buf
, 
size
);

210 
udp_£rv”_sock‘_
->
	`S’dTo
(
»®_buf
.
	`g‘
(), 
size
 + 
add¾’gth
,

211 
™”
->
£cÚd
->
rou‹
.
	`sourû
(), 
İtiÚs
);

212 
	}
}

214 
	gNATS”v”
::
	$T¿n¦©e
(cÚ¡ 
Sock‘Add»ssPaœ
& 
rou‹
) {

215 
AsyncUDPSock‘
* 
sock‘
 = AsyncUDPSock‘::
	`C»©e
(
ex‹º®_
, 
ex‹º®__
);

217 ià(!
sock‘
) {

218 
	`RTC_LOG
(
LS_ERROR
) << "Couldn't find‡ free…ort!";

222 
T¿nsEÁry
* 
’Œy
 = 
Ãw
 
	`T¿nsEÁry
(
rou‹
, 
sock‘
, 
Çt_
);

223 (*
št_m­_
)[
rou‹
] = 
’Œy
;

224 (*
ext_m­_
)[
sock‘
->
	`G‘LoÿlAdd»ss
()] = 
’Œy
;

225 
sock‘
->
SigÇlR—dPack‘
.
	`cÚÃù
(
this
, &
NATS”v”
::
OnEx‹º®UDPPack‘
);

226 
	}
}

228 
boŞ
 
	gNATS”v”
::
	$ShouldF‹rOut
(
T¿nsEÁry
* 
’Œy
,

229 cÚ¡ 
Sock‘Add»ss
& 
ext_addr
) {

230  
’Œy
->
	`Wh™–i¡CÚšs
(
ext_addr
);

231 
	}
}

233 
	gNATS”v”
::
T¿nsEÁry
::
	$T¿nsEÁry
(cÚ¡ 
Sock‘Add»ssPaœ
& 
r
,

234 
AsyncUDPSock‘
* 
s
,

235 
NAT
* 
Çt
)

236 : 
	`rou‹
(
r
), 
	$sock‘
(
s
) {

237 
wh™–i¡
 = 
Ãw
 
	`Add»ssS‘
(
	`AddrCmp
(
Çt
));

238 
	}
}

240 
	gNATS”v”
::
T¿nsEÁry
::~
	$T¿nsEÁry
() {

241 
d–‘e
 
wh™–i¡
;

242 
d–‘e
 
sock‘
;

243 
	}
}

245 
	gNATS”v”
::
T¿nsEÁry
::
	$Wh™–i¡In£¹
(cÚ¡ 
Sock‘Add»ss
& 
addr
) {

246 
Cr™Scİe
 
	`cs
(&
ü™_
);

247 
wh™–i¡
->
	`š£¹
(
addr
);

248 
	}
}

250 
boŞ
 
	gNATS”v”
::
T¿nsEÁry
::
	$Wh™–i¡CÚšs
(cÚ¡ 
Sock‘Add»ss
& 
ext_addr
) {

251 
Cr™Scİe
 
	`cs
(&
ü™_
);

252  
wh™–i¡
->
	`fšd
(
ext_addr
è=ğwh™–i¡->
	`’d
();

253 
	}
}

	@nat_server.h

11 #iâdeà
RTC_BASE_NAT_SERVER_H_


12 
	#RTC_BASE_NAT_SERVER_H_


	)

14 
	~<m­
>

15 
	~<£t
>

17 
	~"¹c_ba£/async_udp_sock‘.h
"

18 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

19 
	~"¹c_ba£/Çt_ty³s.h
"

20 
	~"¹c_ba£/´oxy_£rv”.h
"

21 
	~"¹c_ba£/sock‘_add»ss_·œ.h
"

22 
	~"¹c_ba£/sock‘_çùÜy.h
"

23 
	~"¹c_ba£/th»ad.h
"

25 
Çme¥aû
 
	g¹c
 {

30 
	sRou‹Cmp
 {

31 
ex¶ic™
 
Rou‹Cmp
(
NAT
* 
Çt
);

32 
size_t
 
İ”©Ü
()(cÚ¡ 
	gSock‘Add»ssPaœ
& 
	gr
) const;

33 
boŞ
 
İ”©Ü
()(cÚ¡ 
	gSock‘Add»ssPaœ
& 
	gr1
,

34 cÚ¡ 
	gSock‘Add»ssPaœ
& 
	gr2
) const;

36 
boŞ
 
	gsymm‘ric
;

40 
	sAddrCmp
 {

41 
ex¶ic™
 
AddrCmp
(
NAT
* 
Çt
);

42 
size_t
 
İ”©Ü
()(cÚ¡ 
	gSock‘Add»ss
& 
	gr
) const;

43 
boŞ
 
İ”©Ü
()(cÚ¡ 
	gSock‘Add»ss
& 
	gr1
, cÚ¡ Sock‘Add»ss& 
	gr2
) const;

45 
boŞ
 
	gu£_
;

46 
boŞ
 
	gu£_pÜt
;

58 cÚ¡ 
	gNAT_SERVER_UDP_PORT
 = 4237;

59 cÚ¡ 
	gNAT_SERVER_TCP_PORT
 = 4238;

61 
şass
 
	gNATS”v”
 : 
public
 
sig¦Ù
::
has_¦Ùs
<> {

62 
public
:

63 
NATS”v”
(
NATTy³
 
ty³
,

64 
Sock‘FaùÜy
* 
š‹º®
,

65 cÚ¡ 
Sock‘Add»ss
& 
š‹º®_udp_addr
,

66 cÚ¡ 
Sock‘Add»ss
& 
š‹º®_tı_addr
,

67 
Sock‘FaùÜy
* 
ex‹º®
,

68 cÚ¡ 
Sock‘Add»ss
& 
ex‹º®_
);

69 ~
NATS”v”
(è
	gov”ride
;

71 
Sock‘Add»ss
 
š‹º®_udp_add»ss
() const {

72  
	gudp_£rv”_sock‘_
->
G‘LoÿlAdd»ss
();

75 
Sock‘Add»ss
 
š‹º®_tı_add»ss
() const {

76  
	gtı_´oxy_£rv”_
->
G‘S”v”Add»ss
();

80 
OnIÁ”ÇlUDPPack‘
(
AsyncPack‘Sock‘
* 
sock‘
,

81 cÚ¡ * 
buf
,

82 
size_t
 
size
,

83 cÚ¡ 
Sock‘Add»ss
& 
addr
,

84 cÚ¡ 
št64_t
& 
·ck‘_time_us
);

85 
OnEx‹º®UDPPack‘
(
AsyncPack‘Sock‘
* 
sock‘
,

86 cÚ¡ * 
buf
,

87 
size_t
 
size
,

88 cÚ¡ 
Sock‘Add»ss
& 
»mÙe_addr
,

89 cÚ¡ 
št64_t
& 
·ck‘_time_us
);

91 
	g´iv©e
:

92 
¡d
::
	t£t
<
	tSock‘Add»ss
, 
	tAddrCmp
> 
	tAdd»ssS‘
;

95 
	sT¿nsEÁry
 {

96 
T¿nsEÁry
(cÚ¡ 
Sock‘Add»ssPaœ
& 
r
, 
AsyncUDPSock‘
* 
s
, 
NAT
* 
Çt
);

97 ~
T¿nsEÁry
();

99 
Wh™–i¡In£¹
(cÚ¡ 
Sock‘Add»ss
& 
addr
);

100 
boŞ
 
Wh™–i¡CÚšs
(cÚ¡ 
Sock‘Add»ss
& 
ext_addr
);

102 
Sock‘Add»ssPaœ
 
	grou‹
;

103 
AsyncUDPSock‘
* 
	gsock‘
;

104 
Add»ssS‘
* 
	gwh™–i¡
;

105 
Cr™iÿlSeùiÚ
 
	gü™_
;

108 
	g¡d
::
	tm­
<
	tSock‘Add»ssPaœ
, 
	tT¿nsEÁry
*, 
	tRou‹Cmp
> 
	tIÁ”ÇlM­
;

109 
	g¡d
::
	tm­
<
	tSock‘Add»ss
, 
	tT¿nsEÁry
*> 
	tEx‹º®M­
;

112 
T¿n¦©e
(cÚ¡ 
Sock‘Add»ssPaœ
& 
rou‹
);

115 
boŞ
 
ShouldF‹rOut
(
T¿nsEÁry
* 
’Œy
, cÚ¡ 
Sock‘Add»ss
& 
ext_addr
);

117 
NAT
* 
	gÇt_
;

118 
Sock‘FaùÜy
* 
	gex‹º®_
;

119 
Sock‘Add»ss
 
	gex‹º®__
;

120 
AsyncUDPSock‘
* 
	gudp_£rv”_sock‘_
;

121 
ProxyS”v”
* 
	gtı_´oxy_£rv”_
;

122 
IÁ”ÇlM­
* 
	gšt_m­_
;

123 
Ex‹º®M­
* 
	gext_m­_
;

124 
RTC_DISALLOW_COPY_AND_ASSIGN
(
NATS”v”
);

	@nat_socket_factory.cc

11 
	~"¹c_ba£/Çt_sock‘_çùÜy.h
"

13 
	~"¹c_ba£/¬¿ysize.h
"

14 
	~"¹c_ba£/checks.h
"

15 
	~"¹c_ba£/loggšg.h
"

16 
	~"¹c_ba£/Çt_£rv”.h
"

17 
	~"¹c_ba£/vœtu®_sock‘_£rv”.h
"

19 
Çme¥aû
 
	g¹c
 {

24 
size_t
 
PackAdd»ssFÜNAT
(* 
buf
,

25 
size_t
 
buf_size
,

26 cÚ¡ 
Sock‘Add»ss
& 
»mÙe_addr
) {

27 cÚ¡ 
	gIPAdd»ss
& 
	g
 = 
»mÙe_addr
.
addr
();

28 
	gçmy
 = 

.
çmy
();

29 
	gbuf
[0] = 0;

30 
	gbuf
[1] = 
çmy
;

32 *(
	g»š‹½»t_ÿ¡
<
	gušt16_t
*>(&
	gbuf
[2])èğ
Ho¡ToN‘wÜk16
(
»mÙe_addr
.
pÜt
());

33 ià(
	gçmy
 =ğ
AF_INET
) {

34 
RTC_DCHECK
(
buf_size
 >ğ
kNATEncodedIPv4Add»ssSize
);

35 
š_addr
 
	gv4addr
 = 

.
v4_add»ss
();

36 
memıy
(&
buf
[4], &
v4addr
, 
kNATEncodedIPv4Add»ssSize
 - 4);

37  
	gkNATEncodedIPv4Add»ssSize
;

38 } ià(
	gçmy
 =ğ
AF_INET6
) {

39 
RTC_DCHECK
(
buf_size
 >ğ
kNATEncodedIPv6Add»ssSize
);

40 
š6_addr
 
	gv6addr
 = 

.
v6_add»ss
();

41 
memıy
(&
buf
[4], &
v6addr
, 
kNATEncodedIPv6Add»ssSize
 - 4);

42  
	gkNATEncodedIPv6Add»ssSize
;

50 
size_t
 
UÅackAdd»ssFromNAT
(cÚ¡ * 
buf
,

51 
size_t
 
buf_size
,

52 
Sock‘Add»ss
* 
»mÙe_addr
) {

53 
RTC_DCHECK
(
buf_size
 >= 8);

54 
RTC_DCHECK
(
buf
[0] == 0);

55 
	gçmy
 = 
buf
[1];

56 
ušt16_t
 
	gpÜt
 =

57 
N‘wÜkToHo¡16
(*(
»š‹½»t_ÿ¡
<cÚ¡ 
ušt16_t
*>(&
buf
[2])));

58 ià(
	gçmy
 =ğ
AF_INET
) {

59 cÚ¡ 
š_addr
* 
v4addr
 = 
»š‹½»t_ÿ¡
<cÚ¡ in_addr*>(&
buf
[4]);

60 *
	g»mÙe_addr
 = 
Sock‘Add»ss
(
IPAdd»ss
(*
v4addr
), 
pÜt
);

61  
	gkNATEncodedIPv4Add»ssSize
;

62 } ià(
	gçmy
 =ğ
AF_INET6
) {

63 
RTC_DCHECK
(
buf_size
 >= 20);

64 cÚ¡ 
š6_addr
* 
	gv6addr
 = 
»š‹½»t_ÿ¡
<cÚ¡ in6_addr*>(&
buf
[4]);

65 *
	g»mÙe_addr
 = 
Sock‘Add»ss
(
IPAdd»ss
(*
v6addr
), 
pÜt
);

66  
	gkNATEncodedIPv6Add»ssSize
;

72 
şass
 
	gNATSock‘
 : 
public
 
AsyncSock‘
,…ubliø
	gsig¦Ù
::
has_¦Ùs
<> {

73 
public
:

74 
ex¶ic™
 
NATSock‘
(
NATIÁ”ÇlSock‘FaùÜy
* 
sf
, 
çmy
, 
ty³
)

75 : 
sf_
(
sf
),

76 
çmy_
(
çmy
),

77 
ty³_
(
ty³
),

78 
cÚÃùed_
(
çl£
),

79 
sock‘_
(
nuÎ±r
),

80 
buf_
(
nuÎ±r
),

81 
size_
(0) {}

83 ~
NATSock‘
(è
	gov”ride
 {

84 
d–‘e
 
	gsock‘_
;

85 
	gd–‘e
[] 
	gbuf_
;

88 
Sock‘Add»ss
 
G‘LoÿlAdd»ss
(ècÚ¡ 
	gov”ride
 {

89  (
	gsock‘_
è? sock‘_->
G‘LoÿlAdd»ss
(è: 
Sock‘Add»ss
();

92 
Sock‘Add»ss
 
G‘RemÙeAdd»ss
(ècÚ¡ 
	gov”ride
 {

93  
	g»mÙe_addr_
;

96 
Bšd
(cÚ¡ 
Sock‘Add»ss
& 
addr
è
	gov”ride
 {

97 ià(
	gsock‘_
) {

101  
BšdIÁ”Çl
(
addr
);

104 
CÚÃù
(cÚ¡ 
Sock‘Add»ss
& 
addr
è
	gov”ride
 {

105 
	g»suÉ
 = 0;

108 ià(!
	gsock‘_
) {

109 
	g»suÉ
 = 
BšdIÁ”Çl
(
Sock‘Add»ss
(
G‘AnyIP
(
çmy_
), 0));

110 ià(
	g»suÉ
 < 0) {

111  
	g»suÉ
;

115 ià(
	gty³_
 =ğ
SOCK_STREAM
) {

116 
»suÉ
 = 
sock‘_
->
CÚÃù
(
£rv”_addr_
.
IsN
(è? 
addr
 : server_addr_);

118 
	gcÚÃùed_
 = 
Œue
;

121 ià(
	g»suÉ
 >= 0) {

122 
»mÙe_addr_
 = 
addr
;

125  
	g»suÉ
;

128 
S’d
(cÚ¡ * 
d©a
, 
size_t
 
size
è
	gov”ride
 {

129 
RTC_DCHECK
(
cÚÃùed_
);

130  
S’dTo
(
d©a
, 
size
, 
»mÙe_addr_
);

133 
S’dTo
(cÚ¡ * 
d©a
,

134 
size_t
 
size
,

135 cÚ¡ 
Sock‘Add»ss
& 
addr
è
	gov”ride
 {

136 
RTC_DCHECK
(!
cÚÃùed_
 || 
addr
 =ğ
»mÙe_addr_
);

137 ià(
	g£rv”_addr_
.
IsN
(è|| 
	gty³_
 =ğ
SOCK_STREAM
) {

138  
sock‘_
->
S’dTo
(
d©a
, 
size
, 
addr
);

141 
	g¡d
::
unique_±r
<[]> 
buf
(
Ãw
 [
size
 + 
kNATEncodedIPv6Add»ssSize
]);

142 
size_t
 
	gadd¾’gth
 =

143 
PackAdd»ssFÜNAT
(
buf
.
g‘
(), 
size
 + 
kNATEncodedIPv6Add»ssSize
, 
addr
);

144 
size_t
 
	g’coded_size
 = 
size
 + 
add¾’gth
;

145 
memıy
(
buf
.
g‘
(è+ 
add¾’gth
, 
d©a
, 
size
);

146 
	g»suÉ
 = 
sock‘_
->
S’dTo
(
buf
.
g‘
(), 
’coded_size
, 
£rv”_addr_
);

147 ià(
	g»suÉ
 >= 0) {

148 
RTC_DCHECK
(
»suÉ
 =ğ
¡©ic_ÿ¡
<>(
’coded_size
));

149 
	g»suÉ
 = 
»suÉ
 - 
¡©ic_ÿ¡
<>(
add¾’gth
);

151  
	g»suÉ
;

154 
Recv
(* 
d©a
, 
size_t
 
size
, 
št64_t
* 
time¡amp
è
	gov”ride
 {

155 
Sock‘Add»ss
 
	gaddr
;

156  
RecvFrom
(
d©a
, 
size
, &
addr
, 
time¡amp
);

159 
RecvFrom
(* 
d©a
,

160 
size_t
 
size
,

161 
Sock‘Add»ss
* 
out_addr
,

162 
št64_t
* 
time¡amp
è
	gov”ride
 {

163 ià(
	g£rv”_addr_
.
IsN
(è|| 
	gty³_
 =ğ
SOCK_STREAM
) {

164  
sock‘_
->
RecvFrom
(
d©a
, 
size
, 
out_addr
, 
time¡amp
);

168 
Sock‘Add»ss
 
	g»mÙe_addr
;

169 
Grow
(
size
 + 
kNATEncodedIPv6Add»ssSize
);

172 
	g»suÉ
 = 
sock‘_
->
RecvFrom
(
buf_
, 
size_
, &
»mÙe_addr
, 
time¡amp
);

173 ià(
	g»suÉ
 >= 0) {

174 
RTC_DCHECK
(
»mÙe_addr
 =ğ
£rv”_addr_
);

179 
RTC_DCHECK
((
size_t
)
»suÉ
 < 
size_
);

182 
Sock‘Add»ss
 
	g»®_»mÙe_addr
;

183 
size_t
 
	gadd¾’gth
 = 
UÅackAdd»ssFromNAT
(
buf_
, 
»suÉ
, &
»®_»mÙe_addr
);

184 
memıy
(
d©a
, 
buf_
 + 
add¾’gth
, 
»suÉ
 -‡ddrlength);

187 ià(!
	gcÚÃùed_
 || (
	g»®_»mÙe_addr
 =ğ
»mÙe_addr_
)) {

188 ià(
out_addr
)

189 *
out_addr
 = 
»®_»mÙe_addr
;

190 
	g»suÉ
 = 
»suÉ
 - 
¡©ic_ÿ¡
<>(
add¾’gth
);

192 
RTC_LOG
(
LS_ERROR
) << "Dropping…acket from unknown„emote‡ddress: "

193 << 
	g»®_»mÙe_addr
.
ToSŒšg
();

194 
	g»suÉ
 = 0;

198  
	g»suÉ
;

201 
Clo£
(è
	gov”ride
 {

202 
	g»suÉ
 = 0;

203 ià(
	gsock‘_
) {

204 
	g»suÉ
 = 
sock‘_
->
Clo£
();

205 ià(
	g»suÉ
 >= 0) {

206 
cÚÃùed_
 = 
çl£
;

207 
	g»mÙe_addr_
 = 
Sock‘Add»ss
();

208 
d–‘e
 
	gsock‘_
;

209 
	gsock‘_
 = 
nuÎ±r
;

212  
	g»suÉ
;

215 
Li¡’
(
backlog
è
	gov”ride
 {  
	gsock‘_
->Listen(backlog); }

216 
AsyncSock‘
* 
Acû±
(
Sock‘Add»ss
* 
·ddr
è
	gov”ride
 {

217  
	gsock‘_
->
Acû±
(
·ddr
);

219 
G‘E¼Ü
(ècÚ¡ 
	gov”ride
 {

220  
	gsock‘_
 ? sock‘_->
G‘E¼Ü
(è: 
”rÜ_
;

222 
S‘E¼Ü
(
”rÜ
è
	gov”ride
 {

223 ià(
	gsock‘_
) {

224 
	gsock‘_
->
S‘E¼Ü
(
”rÜ
);

226 
	g”rÜ_
 = 
”rÜ
;

229 
CÚnS‹
 
G‘S‹
(ècÚ¡ 
	gov”ride
 {

230  
	gcÚÃùed_
 ? 
	gCS_CONNECTED
 : 
CS_CLOSED
;

232 
G‘O±iÚ
(
O±iÚ
 
İt
, * 
v®ue
è
	gov”ride
 {

233  
	gsock‘_
->
G‘O±iÚ
(
İt
, 
v®ue
);

235 
S‘O±iÚ
(
O±iÚ
 
İt
, 
v®ue
è
	gov”ride
 {

236  
	gsock‘_
->
S‘O±iÚ
(
İt
, 
v®ue
);

239 
OnCÚÃùEv’t
(
AsyncSock‘
* 
sock‘
) {

241 
RTC_DCHECK
(
sock‘
 =ğ
sock‘_
);

242 ià(
	g£rv”_addr_
.
IsN
()) {

243 
	gcÚÃùed_
 = 
Œue
;

244 
SigÇlCÚÃùEv’t
(
this
);

246 
S’dCÚÃùReque¡
();

249 
OnR—dEv’t
(
AsyncSock‘
* 
sock‘
) {

251 
RTC_DCHECK
(
sock‘
 =ğ
sock‘_
);

252 ià(
	gty³_
 =ğ
SOCK_STREAM
 && !
£rv”_addr_
.
IsN
(è&& !
cÚÃùed_
) {

253 
HªdËCÚÃùR•ly
();

255 
SigÇlR—dEv’t
(
this
);

258 
OnWr™eEv’t
(
AsyncSock‘
* 
sock‘
) {

259 
RTC_DCHECK
(
sock‘
 =ğ
sock‘_
);

260 
SigÇlWr™eEv’t
(
this
);

262 
OnClo£Ev’t
(
AsyncSock‘
* 
sock‘
, 
”rÜ
) {

263 
RTC_DCHECK
(
sock‘
 =ğ
sock‘_
);

264 
SigÇlClo£Ev’t
(
this
, 
”rÜ
);

267 
	g´iv©e
:

268 
BšdIÁ”Çl
(cÚ¡ 
Sock‘Add»ss
& 
addr
) {

269 
RTC_DCHECK
(!
sock‘_
);

271 
	g»suÉ
;

272 
	gsock‘_
 = 
sf_
->
C»©eIÁ”ÇlSock‘
(
çmy_
, 
ty³_
, 
addr
, &
£rv”_addr_
);

273 
	g»suÉ
 = (
sock‘_
è? sock‘_->
Bšd
(
addr
) : -1;

274 ià(
	g»suÉ
 >= 0) {

275 
sock‘_
->
SigÇlCÚÃùEv’t
.
cÚÃù
(
this
, &
NATSock‘
::
OnCÚÃùEv’t
);

276 
	gsock‘_
->
	gSigÇlR—dEv’t
.
cÚÃù
(
this
, &
NATSock‘
::
OnR—dEv’t
);

277 
	gsock‘_
->
	gSigÇlWr™eEv’t
.
cÚÃù
(
this
, &
NATSock‘
::
OnWr™eEv’t
);

278 
	gsock‘_
->
	gSigÇlClo£Ev’t
.
cÚÃù
(
this
, &
NATSock‘
::
OnClo£Ev’t
);

280 
	g£rv”_addr_
.
CË¬
();

281 
d–‘e
 
	gsock‘_
;

282 
	gsock‘_
 = 
nuÎ±r
;

285  
	g»suÉ
;

289 
Grow
(
size_t
 
Ãw_size
) {

290 ià(
	gsize_
 < 
	gÃw_size
) {

291 
	gd–‘e
[] 
	gbuf_
;

292 
	gsize_
 = 
Ãw_size
;

293 
	gbuf_
 = 
Ãw
 [
size_
];

298 
S’dCÚÃùReque¡
() {

299 
	gbuf
[
kNATEncodedIPv6Add»ssSize
];

300 
size_t
 
	gËngth
 = 
PackAdd»ssFÜNAT
(
buf
, 
¬¿ysize
(buf), 
»mÙe_addr_
);

301 
	gsock‘_
->
S’d
(
buf
, 
Ëngth
);

305 
HªdËCÚÃùR•ly
() {

306 
	gcode
;

307 
	gsock‘_
->
Recv
(&
code
, (code), 
nuÎ±r
);

308 ià(
	gcode
 == 0) {

309 
cÚÃùed_
 = 
Œue
;

310 
SigÇlCÚÃùEv’t
(
this
);

312 
Clo£
();

313 
SigÇlClo£Ev’t
(
this
, 
code
);

317 
NATIÁ”ÇlSock‘FaùÜy
* 
	gsf_
;

318 
	gçmy_
;

319 
	gty³_
;

320 
boŞ
 
	gcÚÃùed_
;

321 
Sock‘Add»ss
 
	g»mÙe_addr_
;

322 
Sock‘Add»ss
 
	g£rv”_addr_
;

323 
AsyncSock‘
* 
	gsock‘_
;

325 
	g”rÜ_
 = 0;

326 * 
	gbuf_
;

327 
size_t
 
	gsize_
;

331 
	gNATSock‘FaùÜy
::
NATSock‘FaùÜy
(
Sock‘FaùÜy
* 
çùÜy
,

332 cÚ¡ 
Sock‘Add»ss
& 
Çt_udp_addr
,

333 cÚ¡ 
Sock‘Add»ss
& 
Çt_tı_addr
)

334 : 
çùÜy_
(
çùÜy
),

335 
Çt_udp_addr_
(
Çt_udp_addr
),

336 
Çt_tı_addr_
(
Çt_tı_addr
) {}

338 
Sock‘
* 
	gNATSock‘FaùÜy
::
C»©eSock‘
(
çmy
, 
ty³
) {

339  
Ãw
 
NATSock‘
(
this
, 
çmy
, 
ty³
);

342 
AsyncSock‘
* 
	gNATSock‘FaùÜy
::
C»©eAsyncSock‘
(
çmy
, 
ty³
) {

343  
Ãw
 
NATSock‘
(
this
, 
çmy
, 
ty³
);

346 
AsyncSock‘
* 
	gNATSock‘FaùÜy
::
C»©eIÁ”ÇlSock‘
(

347 
çmy
,

348 
ty³
,

349 cÚ¡ 
Sock‘Add»ss
& 
loÿl_addr
,

350 
Sock‘Add»ss
* 
Çt_addr
) {

351 ià(
	gty³
 =ğ
SOCK_STREAM
) {

352 *
Çt_addr
 = 
Çt_tı_addr_
;

354 *
	gÇt_addr
 = 
Çt_udp_addr_
;

356  
	gçùÜy_
->
C»©eAsyncSock‘
(
çmy
, 
ty³
);

360 
	gNATSock‘S”v”
::
NATSock‘S”v”
(
Sock‘S”v”
* 
£rv”
)

361 : 
£rv”_
(
£rv”
), 
msg_queue_
(
nuÎ±r
) {}

363 
	gNATSock‘S”v”
::
T¿n¦©Ü
* 
NATSock‘S”v”
::
G‘T¿n¦©Ü
(

364 cÚ¡ 
Sock‘Add»ss
& 
ext_
) {

365  
Çts_
.
G‘
(
ext_
);

368 
	gNATSock‘S”v”
::
T¿n¦©Ü
* 
NATSock‘S”v”
::
AddT¿n¦©Ü
(

369 cÚ¡ 
Sock‘Add»ss
& 
ext_
,

370 cÚ¡ 
Sock‘Add»ss
& 
št_
,

371 
NATTy³
 
ty³
) {

373 ià(
	gÇts_
.
G‘
(
ext_
))

374  
	gnuÎ±r
;

376  
	gÇts_
.
Add
(
ext_
, 
Ãw
 
T¿n¦©Ü
(
this
, 
ty³
, 
št_
, 
£rv”_
,ƒxt_ip));

379 
	gNATSock‘S”v”
::
RemoveT¿n¦©Ü
(cÚ¡ 
Sock‘Add»ss
& 
ext_
) {

380 
Çts_
.
Remove
(
ext_
);

383 
Sock‘
* 
	gNATSock‘S”v”
::
C»©eSock‘
(
çmy
, 
ty³
) {

384  
Ãw
 
NATSock‘
(
this
, 
çmy
, 
ty³
);

387 
AsyncSock‘
* 
	gNATSock‘S”v”
::
C»©eAsyncSock‘
(
çmy
, 
ty³
) {

388  
Ãw
 
NATSock‘
(
this
, 
çmy
, 
ty³
);

391 
	gNATSock‘S”v”
::
S‘Mes§geQueue
(
Th»ad
* 
queue
) {

392 
msg_queue_
 = 
queue
;

393 
	g£rv”_
->
S‘Mes§geQueue
(
queue
);

396 
boŞ
 
	gNATSock‘S”v”
::
Wa™
(
cms
, boŞ 
´oûss_io
) {

397  
	g£rv”_
->
Wa™
(
cms
, 
´oûss_io
);

400 
	gNATSock‘S”v”
::
WakeUp
() {

401 
£rv”_
->
WakeUp
();

404 
AsyncSock‘
* 
	gNATSock‘S”v”
::
C»©eIÁ”ÇlSock‘
(

405 
çmy
,

406 
ty³
,

407 cÚ¡ 
Sock‘Add»ss
& 
loÿl_addr
,

408 
Sock‘Add»ss
* 
Çt_addr
) {

409 
AsyncSock‘
* 
	gsock‘
 = 
nuÎ±r
;

410 
T¿n¦©Ü
* 
	gÇt
 = 
Çts_
.
FšdCl›Á
(
loÿl_addr
);

411 ià(
	gÇt
) {

412 
	gsock‘
 = 
Çt
->
š‹º®_çùÜy
()->
C»©eAsyncSock‘
(
çmy
, 
ty³
);

413 *
	gÇt_addr
 = (
ty³
 =ğ
SOCK_STREAM
è? 
Çt
->
š‹º®_tı_add»ss
()

414 : 
Çt
->
š‹º®_udp_add»ss
();

416 
	gsock‘
 = 
£rv”_
->
C»©eAsyncSock‘
(
çmy
, 
ty³
);

418  
	gsock‘
;

422 
	gNATSock‘S”v”
::
T¿n¦©Ü
::T¿n¦©Ü(
NATSock‘S”v”
* 
£rv”
,

423 
NATTy³
 
ty³
,

424 cÚ¡ 
Sock‘Add»ss
& 
št_
,

425 
Sock‘FaùÜy
* 
ext_çùÜy
,

426 cÚ¡ 
Sock‘Add»ss
& 
ext_
)

427 : 
£rv”_
(
£rv”
) {

431 
Vœtu®Sock‘S”v”
* 
š‹º®_£rv”
 = 
Ãw
 VirtualSocketServer();

432 
	gš‹º®_£rv”
->
S‘Mes§geQueue
(
£rv”_
->
queue
());

433 
	gš‹º®_çùÜy_
.
»£t
(
š‹º®_£rv”
);

434 
	gÇt_£rv”_
.
»£t
(
Ãw
 
NATS”v”
(
ty³
, 
š‹º®_£rv”
, 
št_
, int_ip,

435 
ext_çùÜy
, 
ext_
));

438 
	gNATSock‘S”v”
::
T¿n¦©Ü
::~Translator() = ;

440 
	gNATSock‘S”v”
::
T¿n¦©Ü
* 
NATSock‘S”v”
::T¿n¦©Ü::
G‘T¿n¦©Ü
(

441 cÚ¡ 
Sock‘Add»ss
& 
ext_
) {

442  
Çts_
.
G‘
(
ext_
);

445 
	gNATSock‘S”v”
::
T¿n¦©Ü
* 
NATSock‘S”v”
::T¿n¦©Ü::
AddT¿n¦©Ü
(

446 cÚ¡ 
Sock‘Add»ss
& 
ext_
,

447 cÚ¡ 
Sock‘Add»ss
& 
št_
,

448 
NATTy³
 
ty³
) {

450 ià(
	gÇts_
.
G‘
(
ext_
))

451  
	gnuÎ±r
;

453 
AddCl›Á
(
ext_
);

454  
	gÇts_
.
Add
(
ext_
,

455 
Ãw
 
T¿n¦©Ü
(
£rv”_
, 
ty³
, 
št_
, s”v”_, 
ext_
));

457 
	gNATSock‘S”v”
::
T¿n¦©Ü
::
RemoveT¿n¦©Ü
(

458 cÚ¡ 
Sock‘Add»ss
& 
ext_
) {

459 
Çts_
.
Remove
(
ext_
);

460 
RemoveCl›Á
(
ext_
);

463 
boŞ
 
	gNATSock‘S”v”
::
T¿n¦©Ü
::
AddCl›Á
(cÚ¡ 
Sock‘Add»ss
& 
št_
) {

465 ià(
ş›Ás_
.
fšd
(
št_
è!ğş›Ás_.
’d
())

466  
çl£
;

468 
	gş›Ás_
.
š£¹
(
št_
);

469  
	gŒue
;

472 
	gNATSock‘S”v”
::
T¿n¦©Ü
::
RemoveCl›Á
(cÚ¡ 
Sock‘Add»ss
& 
št_
) {

473 
¡d
::
£t
<
Sock‘Add»ss
>::
™”©Ü
 
™
 = 
ş›Ás_
.
fšd
(
št_
);

474 ià(
	g™
 !ğ
ş›Ás_
.
’d
()) {

475 
ş›Ás_
.
”a£
(
™
);

479 
	gNATSock‘S”v”
::
T¿n¦©Ü
* 
NATSock‘S”v”
::T¿n¦©Ü::
FšdCl›Á
(

480 cÚ¡ 
Sock‘Add»ss
& 
št_
) {

482  (
ş›Ás_
.
fšd
(
št_
è!ğş›Ás_.
’d
()è? 
this


483 : 
Çts_
.
FšdCl›Á
(
št_
);

487 
	gNATSock‘S”v”
::
T¿n¦©ÜM­
::~TranslatorMap() {

488 
T¿n¦©ÜM­
::
™”©Ü
 
™
 = 
begš
(); 
	g™
 !ğ
’d
(); ++it) {

489 
d–‘e
 
	g™
->
	g£cÚd
;

493 
	gNATSock‘S”v”
::
T¿n¦©Ü
* 
NATSock‘S”v”
::
T¿n¦©ÜM­
::
G‘
(

494 cÚ¡ 
Sock‘Add»ss
& 
ext_
) {

495 
T¿n¦©ÜM­
::
™”©Ü
 
™
 = 
fšd
(
ext_
);

496  (
	g™
 !ğ
’d
()è? 
™
->
£cÚd
 : 
nuÎ±r
;

499 
	gNATSock‘S”v”
::
T¿n¦©Ü
* 
NATSock‘S”v”
::
T¿n¦©ÜM­
::
Add
(

500 cÚ¡ 
Sock‘Add»ss
& 
ext_
,

501 
T¿n¦©Ü
* 
Çt
) {

502 (*
	gthis
)[
ext_
] = 
Çt
;

503  
	gÇt
;

506 
	gNATSock‘S”v”
::
T¿n¦©ÜM­
::
Remove
(cÚ¡ 
Sock‘Add»ss
& 
ext_
) {

507 
T¿n¦©ÜM­
::
™”©Ü
 
™
 = 
fšd
(
ext_
);

508 ià(
	g™
 !ğ
’d
()) {

509 
d–‘e
 
™
->
£cÚd
;

510 
”a£
(
™
);

514 
	gNATSock‘S”v”
::
T¿n¦©Ü
* 
NATSock‘S”v”
::
T¿n¦©ÜM­
::
FšdCl›Á
(

515 cÚ¡ 
Sock‘Add»ss
& 
št_
) {

516 
T¿n¦©Ü
* 
Çt
 = 
nuÎ±r
;

517 
	gT¿n¦©ÜM­
::
™”©Ü
 
™
 = 
begš
(); 
	g™
 !ğ
’d
(è&& !
Çt
; ++it) {

518 
	gÇt
 = 
™
->
£cÚd
->
FšdCl›Á
(
št_
);

520  
	gÇt
;

	@nat_socket_factory.h

11 #iâdeà
RTC_BASE_NAT_SOCKET_FACTORY_H_


12 
	#RTC_BASE_NAT_SOCKET_FACTORY_H_


	)

14 
	~<¡ddef.h
>

16 
	~<m­
>

17 
	~<memÜy
>

18 
	~<£t
>

20 
	~"¹c_ba£/async_sock‘.h
"

21 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

22 
	~"¹c_ba£/Çt_£rv”.h
"

23 
	~"¹c_ba£/Çt_ty³s.h
"

24 
	~"¹c_ba£/sock‘.h
"

25 
	~"¹c_ba£/sock‘_add»ss.h
"

26 
	~"¹c_ba£/sock‘_çùÜy.h
"

27 
	~"¹c_ba£/sock‘_£rv”.h
"

28 
	~"¹c_ba£/th»ad.h
"

30 
Çme¥aû
 
	g¹c
 {

32 cÚ¡ 
size_t
 
	gkNATEncodedIPv4Add»ssSize
 = 8U;

33 cÚ¡ 
size_t
 
	gkNATEncodedIPv6Add»ssSize
 = 20U;

36 şas 
	cNATIÁ”ÇlSock‘FaùÜy
 {

37 
	gpublic
:

38 
vœtu®
 ~
NATIÁ”ÇlSock‘FaùÜy
() {}

39 
vœtu®
 
AsyncSock‘
* 
C»©eIÁ”ÇlSock‘
(
çmy
,

40 
ty³
,

41 cÚ¡ 
Sock‘Add»ss
& 
loÿl_addr
,

42 
Sock‘Add»ss
* 
Çt_addr
) = 0;

48 
şass
 
	gNATSock‘FaùÜy
 : 
public
 
Sock‘FaùÜy
,…ubliø
	gNATIÁ”ÇlSock‘FaùÜy
 {

49 
	gpublic
:

50 
NATSock‘FaùÜy
(
Sock‘FaùÜy
* 
çùÜy
,

51 cÚ¡ 
Sock‘Add»ss
& 
Çt_udp_addr
,

52 cÚ¡ 
Sock‘Add»ss
& 
Çt_tı_addr
);

55 
Sock‘
* 
C»©eSock‘
(
çmy
, 
ty³
è
	gov”ride
;

56 
AsyncSock‘
* 
C»©eAsyncSock‘
(
çmy
, 
ty³
è
	gov”ride
;

59 
AsyncSock‘
* 
C»©eIÁ”ÇlSock‘
(
çmy
,

60 
ty³
,

61 cÚ¡ 
Sock‘Add»ss
& 
loÿl_addr
,

62 
Sock‘Add»ss
* 
Çt_addr
è
	gov”ride
;

64 
	g´iv©e
:

65 
Sock‘FaùÜy
* 
çùÜy_
;

66 
Sock‘Add»ss
 
	gÇt_udp_addr_
;

67 
Sock‘Add»ss
 
	gÇt_tı_addr_
;

68 
RTC_DISALLOW_COPY_AND_ASSIGN
(
NATSock‘FaùÜy
);

86 
şass
 
	gNATSock‘S”v”
 : 
public
 
Sock‘S”v”
,…ubliø
	gNATIÁ”ÇlSock‘FaùÜy
 {

87 
	gpublic
:

88 
şass
 
T¿n¦©Ü
;

91 
şass
 
	gT¿n¦©ÜM­
 : 
´iv©e
 
¡d
::
m­
<
Sock‘Add»ss
, 
	gT¿n¦©Ü
*> {

92 
	gpublic
:

93 ~
T¿n¦©ÜM­
();

94 
T¿n¦©Ü
* 
G‘
(cÚ¡ 
Sock‘Add»ss
& 
ext_
);

95 
T¿n¦©Ü
* 
Add
(cÚ¡ 
Sock‘Add»ss
& 
ext_
, Translator*);

96 
Remove
(cÚ¡ 
Sock‘Add»ss
& 
ext_
);

97 
T¿n¦©Ü
* 
FšdCl›Á
(cÚ¡ 
Sock‘Add»ss
& 
št_
);

101 şas 
	cT¿n¦©Ü
 {

102 
	gpublic
:

103 
T¿n¦©Ü
(
NATSock‘S”v”
* 
£rv”
,

104 
NATTy³
 
ty³
,

105 cÚ¡ 
Sock‘Add»ss
& 
št_addr
,

106 
Sock‘FaùÜy
* 
ext_çùÜy
,

107 cÚ¡ 
Sock‘Add»ss
& 
ext_addr
);

108 ~
T¿n¦©Ü
();

110 
Sock‘FaùÜy
* 
š‹º®_çùÜy
(è{  
	gš‹º®_çùÜy_
.
g‘
(); }

111 
Sock‘Add»ss
 
š‹º®_udp_add»ss
() const {

112  
	gÇt_£rv”_
->
š‹º®_udp_add»ss
();

114 
Sock‘Add»ss
 
š‹º®_tı_add»ss
() const {

115  
Sock‘Add»ss
();

118 
T¿n¦©Ü
* 
G‘T¿n¦©Ü
(cÚ¡ 
Sock‘Add»ss
& 
ext_
);

119 
T¿n¦©Ü
* 
AddT¿n¦©Ü
(cÚ¡ 
Sock‘Add»ss
& 
ext_
,

120 cÚ¡ 
Sock‘Add»ss
& 
št_
,

121 
NATTy³
 
ty³
);

122 
RemoveT¿n¦©Ü
(cÚ¡ 
Sock‘Add»ss
& 
ext_
);

124 
boŞ
 
AddCl›Á
(cÚ¡ 
Sock‘Add»ss
& 
št_
);

125 
RemoveCl›Á
(cÚ¡ 
Sock‘Add»ss
& 
št_
);

128 
T¿n¦©Ü
* 
FšdCl›Á
(cÚ¡ 
Sock‘Add»ss
& 
št_
);

130 
	g´iv©e
:

131 
NATSock‘S”v”
* 
£rv”_
;

132 
	g¡d
::
unique_±r
<
Sock‘FaùÜy
> 
š‹º®_çùÜy_
;

133 
	g¡d
::
unique_±r
<
NATS”v”
> 
Çt_£rv”_
;

134 
T¿n¦©ÜM­
 
	gÇts_
;

135 
	g¡d
::
£t
<
Sock‘Add»ss
> 
ş›Ás_
;

138 
ex¶ic™
 
NATSock‘S”v”
(
Sock‘S”v”
* 
ss
);

140 
Sock‘S”v”
* 
sock‘£rv”
(è{  
	g£rv”_
; }

141 
Th»ad
* 
queue
(è{  
	gmsg_queue_
; }

143 
T¿n¦©Ü
* 
G‘T¿n¦©Ü
(cÚ¡ 
Sock‘Add»ss
& 
ext_
);

144 
T¿n¦©Ü
* 
AddT¿n¦©Ü
(cÚ¡ 
Sock‘Add»ss
& 
ext_
,

145 cÚ¡ 
Sock‘Add»ss
& 
št_
,

146 
NATTy³
 
ty³
);

147 
RemoveT¿n¦©Ü
(cÚ¡ 
Sock‘Add»ss
& 
ext_
);

150 
Sock‘
* 
C»©eSock‘
(
çmy
, 
ty³
è
	gov”ride
;

151 
AsyncSock‘
* 
C»©eAsyncSock‘
(
çmy
, 
ty³
è
	gov”ride
;

153 
S‘Mes§geQueue
(
Th»ad
* 
queue
è
	gov”ride
;

154 
boŞ
 
Wa™
(
cms
, boŞ 
´oûss_io
è
	gov”ride
;

155 
WakeUp
(è
	gov”ride
;

158 
AsyncSock‘
* 
C»©eIÁ”ÇlSock‘
(
çmy
,

159 
ty³
,

160 cÚ¡ 
Sock‘Add»ss
& 
loÿl_addr
,

161 
Sock‘Add»ss
* 
Çt_addr
è
	gov”ride
;

163 
	g´iv©e
:

164 
Sock‘S”v”
* 
£rv”_
;

165 
Th»ad
* 
	gmsg_queue_
;

166 
T¿n¦©ÜM­
 
	gÇts_
;

167 
RTC_DISALLOW_COPY_AND_ASSIGN
(
NATSock‘S”v”
);

171 
size_t
 
PackAdd»ssFÜNAT
(* 
buf
,

172 
size_t
 
buf_size
,

173 cÚ¡ 
Sock‘Add»ss
& 
»mÙe_addr
);

174 
size_t
 
UÅackAdd»ssFromNAT
(cÚ¡ * 
buf
,

175 
size_t
 
buf_size
,

176 
Sock‘Add»ss
* 
»mÙe_addr
);

	@nat_types.cc

11 
	~"¹c_ba£/Çt_ty³s.h
"

13 
	~"¹c_ba£/checks.h
"

15 
Çme¥aû
 
	g¹c
 {

17 şas 
	cSymm‘ricNAT
 : 
public
 
NAT
 {

18 
public
:

19 
boŞ
 
IsSymm‘ric
(è
ov”ride
 {  
Œue
; }

20 
boŞ
 
F‹rsIP
(è
	gov”ride
 {  
	gŒue
; }

21 
boŞ
 
F‹rsPÜt
(è
	gov”ride
 {  
	gŒue
; }

24 şas 
	cO³nCÚeNAT
 : 
public
 
NAT
 {

25 
public
:

26 
boŞ
 
IsSymm‘ric
(è
ov”ride
 {  
çl£
; }

27 
boŞ
 
F‹rsIP
(è
	gov”ride
 {  
	gçl£
; }

28 
boŞ
 
F‹rsPÜt
(è
	gov”ride
 {  
	gçl£
; }

31 şas 
	cAdd»ssRe¡riùedNAT
 : 
public
 
NAT
 {

32 
public
:

33 
boŞ
 
IsSymm‘ric
(è
ov”ride
 {  
çl£
; }

34 
boŞ
 
F‹rsIP
(è
	gov”ride
 {  
	gŒue
; }

35 
boŞ
 
F‹rsPÜt
(è
	gov”ride
 {  
	gçl£
; }

38 şas 
	cPÜtRe¡riùedNAT
 : 
public
 
NAT
 {

39 
public
:

40 
boŞ
 
IsSymm‘ric
(è
ov”ride
 {  
çl£
; }

41 
boŞ
 
F‹rsIP
(è
	gov”ride
 {  
	gŒue
; }

42 
boŞ
 
F‹rsPÜt
(è
	gov”ride
 {  
	gŒue
; }

45 
NAT
* 
	gNAT
::
	$C»©e
(
NATTy³
 
ty³
) {

46 
ty³
) {

47 
NAT_OPEN_CONE
:

48  
Ãw
 
	`O³nCÚeNAT
();

49 
NAT_ADDR_RESTRICTED
:

50  
Ãw
 
	`Add»ssRe¡riùedNAT
();

51 
NAT_PORT_RESTRICTED
:

52  
Ãw
 
	`PÜtRe¡riùedNAT
();

53 
NAT_SYMMETRIC
:

54  
Ãw
 
	`Symm‘ricNAT
();

56 
	`RTC_NOTREACHED
();

59 
	}
}

	@nat_types.h

11 #iâdeà
RTC_BASE_NAT_TYPES_H_


12 
	#RTC_BASE_NAT_TYPES_H_


	)

14 
Çme¥aû
 
	g¹c
 {

17 
	eNATTy³
 {

18 
	gNAT_OPEN_CONE
,

19 
	gNAT_ADDR_RESTRICTED
,

20 
	gNAT_PORT_RESTRICTED
,

21 
	gNAT_SYMMETRIC


25 şas 
	cNAT
 {

26 
	gpublic
:

27 
vœtu®
 ~
NAT
() {}

31 
vœtu®
 
boŞ
 
IsSymm‘ric
() = 0;

35 
vœtu®
 
boŞ
 
F‹rsIP
() = 0;

39 
vœtu®
 
boŞ
 
F‹rsPÜt
() = 0;

42 
NAT
* 
C»©e
(
NATTy³
 
ty³
);

	@nat_unittest.cc

11 
	~<¡ršg.h
>

13 
	~<®gÜ™hm
>

14 
	~<memÜy
>

15 
	~<¡ršg
>

16 
	~<veùÜ
>

18 
	~"ab¦/memÜy/memÜy.h
"

19 
	~"¹c_ba£/async_·ck‘_sock‘.h
"

20 
	~"¹c_ba£/async_sock‘.h
"

21 
	~"¹c_ba£/async_tı_sock‘.h
"

22 
	~"¹c_ba£/async_udp_sock‘.h
"

23 
	~"¹c_ba£/gun™.h
"

24 
	~"¹c_ba£/_add»ss.h
"

25 
	~"¹c_ba£/loggšg.h
"

26 
	~"¹c_ba£/Çt_£rv”.h
"

27 
	~"¹c_ba£/Çt_sock‘_çùÜy.h
"

28 
	~"¹c_ba£/Çt_ty³s.h
"

29 
	~"¹c_ba£/Ãt_h–³rs.h
"

30 
	~"¹c_ba£/ÃtwÜk.h
"

31 
	~"¹c_ba£/physiÿl_sock‘_£rv”.h
"

32 
	~"¹c_ba£/sock‘_add»ss.h
"

33 
	~"¹c_ba£/sock‘_çùÜy.h
"

34 
	~"¹c_ba£/sock‘_£rv”.h
"

35 
	~"¹c_ba£/‹¡_ş›Á.h
"

36 
	~"¹c_ba£/thœd_·¹y/sig¦Ù/sig¦Ù.h
"

37 
	~"¹c_ba£/th»ad.h
"

38 
	~"¹c_ba£/vœtu®_sock‘_£rv”.h
"

39 
	~"‹¡/g‹¡.h
"

41 
Çme¥aû
 
	g¹c
 {

42 
	gÇme¥aû
 {

44 
boŞ
 
CheckReûive
(
Te¡Cl›Á
* 
ş›Á
,

45 
boŞ
 
should_»ûive
,

46 cÚ¡ * 
buf
,

47 
size_t
 
size
) {

48  (
	gshould_»ûive
è? 
	gş›Á
->
CheckNextPack‘
(
buf
, 
size
, 0)

49 : 
ş›Á
->
CheckNoPack‘
();

52 
Te¡Cl›Á
* 
C»©eTe¡Cl›Á
(
Sock‘FaùÜy
* 
çùÜy
,

53 cÚ¡ 
Sock‘Add»ss
& 
loÿl_addr
) {

54  
Ãw
 
Te¡Cl›Á
(

55 
ab¦
::
W¿pUnique
(
AsyncUDPSock‘
::
C»©e
(
çùÜy
, 
loÿl_addr
)));

58 
Te¡Cl›Á
* 
C»©eTCPTe¡Cl›Á
(
AsyncSock‘
* 
sock‘
) {

59  
Ãw
 
Te¡Cl›Á
(
¡d
::
make_unique
<
AsyncTCPSock‘
>(
sock‘
, 
çl£
));

65 
Te¡S’d
(
Sock‘S”v”
* 
š‹º®
,

66 cÚ¡ 
Sock‘Add»ss
& 
š‹º®_addr
,

67 
Sock‘S”v”
* 
ex‹º®
,

68 cÚ¡ 
Sock‘Add»ss
 
ex‹º®_addrs
[4],

69 
NATTy³
 
Çt_ty³
,

70 
boŞ
 
exp_§me
) {

71 
Th»ad
 
th_št
(
š‹º®
);

72 
Th»ad
 
th_ext
(
ex‹º®
);

74 
Sock‘Add»ss
 
	g£rv”_addr
 = 
š‹º®_addr
;

75 
	g£rv”_addr
.
S‘PÜt
(0);

76 
NATS”v”
* 
	gÇt
 = 
Ãw
 NATS”v”(
Çt_ty³
, 
š‹º®
, 
£rv”_addr
, server_addr,

77 
ex‹º®
, 
ex‹º®_addrs
[0]);

78 
NATSock‘FaùÜy
* 
	gÇtsf
 = 
Ãw
 NATSocketFactory(

79 
š‹º®
, 
Çt
->
š‹º®_udp_add»ss
(),‚©->
š‹º®_tı_add»ss
());

81 
Te¡Cl›Á
* 
	gš
 = 
C»©eTe¡Cl›Á
(
Çtsf
, 
š‹º®_addr
);

82 
Te¡Cl›Á
* 
	gout
[4];

83 
	gi
 = 0; i < 4; i++)

84 
	gout
[
i
] = 
C»©eTe¡Cl›Á
(
ex‹º®
, 
ex‹º®_addrs
[i]);

86 
	gth_št
.
S¹
();

87 
	gth_ext
.
S¹
();

89 cÚ¡ * 
	gbuf
 = "filter_test";

90 
size_t
 
	gËn
 = 
¡¾’
(
buf
);

92 
	gš
->
S’dTo
(
buf
, 
Ën
, 
out
[0]->
add»ss
());

93 
Sock‘Add»ss
 
	gŒªs_addr
;

94 
EXPECT_TRUE
(
out
[0]->
CheckNextPack‘
(
buf
, 
Ën
, &
Œªs_addr
));

96 
	gi
 = 1; i < 4; i++) {

97 
	gš
->
S’dTo
(
buf
, 
Ën
, 
out
[
i
]->
add»ss
());

98 
Sock‘Add»ss
 
	gŒªs_addr2
;

99 
EXPECT_TRUE
(
out
[
i
]->
CheckNextPack‘
(
buf
, 
Ën
, &
Œªs_addr2
));

100 
boŞ
 
	g¬e_§me
 = (
Œªs_addr
 =ğ
Œªs_addr2
);

101 
ASSERT_EQ
(
¬e_§me
, 
exp_§me
) << "sameranslated‡ddress";

102 
ASSERT_NE
(
AF_UNSPEC
, 
Œªs_addr
.
çmy
());

103 
ASSERT_NE
(
AF_UNSPEC
, 
Œªs_addr2
.
çmy
());

106 
	gth_št
.
Stİ
();

107 
	gth_ext
.
Stİ
();

109 
d–‘e
 
	gÇt
;

110 
d–‘e
 
	gÇtsf
;

111 
d–‘e
 
	gš
;

112 
	gi
 = 0; i < 4; i++)

113 
d–‘e
 
	gout
[
i
];

118 
Te¡Recv
(
Sock‘S”v”
* 
š‹º®
,

119 cÚ¡ 
Sock‘Add»ss
& 
š‹º®_addr
,

120 
Sock‘S”v”
* 
ex‹º®
,

121 cÚ¡ 
Sock‘Add»ss
 
ex‹º®_addrs
[4],

122 
NATTy³
 
Çt_ty³
,

123 
boŞ
 
f‹r_
,

124 
boŞ
 
f‹r_pÜt
) {

125 
Th»ad
 
th_št
(
š‹º®
);

126 
Th»ad
 
th_ext
(
ex‹º®
);

128 
Sock‘Add»ss
 
	g£rv”_addr
 = 
š‹º®_addr
;

129 
	g£rv”_addr
.
S‘PÜt
(0);

130 
NATS”v”
* 
	gÇt
 = 
Ãw
 NATS”v”(
Çt_ty³
, 
š‹º®
, 
£rv”_addr
, server_addr,

131 
ex‹º®
, 
ex‹º®_addrs
[0]);

132 
NATSock‘FaùÜy
* 
	gÇtsf
 = 
Ãw
 NATSocketFactory(

133 
š‹º®
, 
Çt
->
š‹º®_udp_add»ss
(),‚©->
š‹º®_tı_add»ss
());

135 
Te¡Cl›Á
* 
	gš
 = 
C»©eTe¡Cl›Á
(
Çtsf
, 
š‹º®_addr
);

136 
Te¡Cl›Á
* 
	gout
[4];

137 
	gi
 = 0; i < 4; i++)

138 
	gout
[
i
] = 
C»©eTe¡Cl›Á
(
ex‹º®
, 
ex‹º®_addrs
[i]);

140 
	gth_št
.
S¹
();

141 
	gth_ext
.
S¹
();

143 cÚ¡ * 
	gbuf
 = "filter_test";

144 
size_t
 
	gËn
 = 
¡¾’
(
buf
);

146 
	gš
->
S’dTo
(
buf
, 
Ën
, 
out
[0]->
add»ss
());

147 
Sock‘Add»ss
 
	gŒªs_addr
;

148 
EXPECT_TRUE
(
out
[0]->
CheckNextPack‘
(
buf
, 
Ën
, &
Œªs_addr
));

150 
	gout
[1]->
S’dTo
(
buf
, 
Ën
, 
Œªs_addr
);

151 
EXPECT_TRUE
(
CheckReûive
(
š
, !
f‹r_
, 
buf
, 
Ën
));

153 
	gout
[2]->
S’dTo
(
buf
, 
Ën
, 
Œªs_addr
);

154 
EXPECT_TRUE
(
CheckReûive
(
š
, !
f‹r_pÜt
, 
buf
, 
Ën
));

156 
	gout
[3]->
S’dTo
(
buf
, 
Ën
, 
Œªs_addr
);

157 
EXPECT_TRUE
(
CheckReûive
(
š
, !
f‹r_
 && !
f‹r_pÜt
, 
buf
, 
Ën
));

159 
	gth_št
.
Stİ
();

160 
	gth_ext
.
Stİ
();

162 
d–‘e
 
	gÇt
;

163 
d–‘e
 
	gÇtsf
;

164 
d–‘e
 
	gš
;

165 
	gi
 = 0; i < 4; i++)

166 
d–‘e
 
	gout
[
i
];

170 
Te¡Bšdšgs
(
Sock‘S”v”
* 
š‹º®
,

171 cÚ¡ 
Sock‘Add»ss
& 
š‹º®_addr
,

172 
Sock‘S”v”
* 
ex‹º®
,

173 cÚ¡ 
Sock‘Add»ss
 
ex‹º®_addrs
[4]) {

174 
Te¡S’d
(
š‹º®
, 
š‹º®_addr
, 
ex‹º®
, 
ex‹º®_addrs
, 
NAT_OPEN_CONE
,

175 
Œue
);

176 
Te¡S’d
(
š‹º®
, 
š‹º®_addr
, 
ex‹º®
, 
ex‹º®_addrs
,

177 
NAT_ADDR_RESTRICTED
, 
Œue
);

178 
Te¡S’d
(
š‹º®
, 
š‹º®_addr
, 
ex‹º®
, 
ex‹º®_addrs
,

179 
NAT_PORT_RESTRICTED
, 
Œue
);

180 
Te¡S’d
(
š‹º®
, 
š‹º®_addr
, 
ex‹º®
, 
ex‹º®_addrs
, 
NAT_SYMMETRIC
,

181 
çl£
);

185 
Te¡F‹rs
(
Sock‘S”v”
* 
š‹º®
,

186 cÚ¡ 
Sock‘Add»ss
& 
š‹º®_addr
,

187 
Sock‘S”v”
* 
ex‹º®
,

188 cÚ¡ 
Sock‘Add»ss
 
ex‹º®_addrs
[4]) {

189 
Te¡Recv
(
š‹º®
, 
š‹º®_addr
, 
ex‹º®
, 
ex‹º®_addrs
, 
NAT_OPEN_CONE
,

190 
çl£
, false);

191 
Te¡Recv
(
š‹º®
, 
š‹º®_addr
, 
ex‹º®
, 
ex‹º®_addrs
,

192 
NAT_ADDR_RESTRICTED
, 
Œue
, 
çl£
);

193 
Te¡Recv
(
š‹º®
, 
š‹º®_addr
, 
ex‹º®
, 
ex‹º®_addrs
,

194 
NAT_PORT_RESTRICTED
, 
Œue
,rue);

195 
Te¡Recv
(
š‹º®
, 
š‹º®_addr
, 
ex‹º®
, 
ex‹º®_addrs
, 
NAT_SYMMETRIC
,

196 
Œue
,rue);

199 
boŞ
 
Te¡CÚÃùiv™y
(cÚ¡ 
Sock‘Add»ss
& 
¤c
, cÚ¡ 
IPAdd»ss
& 
d¡
) {

203 
	g¡d
::
unique_±r
<
PhysiÿlSock‘S”v”
> 
pss
(
Ãw
 PhysicalSocketServer());

204 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
ş›Á
(

205 
pss
->
C»©eAsyncSock‘
(
¤c
.
çmy
(), 
SOCK_DGRAM
));

206 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
£rv”
(

207 
pss
->
C»©eAsyncSock‘
(
¤c
.
çmy
(), 
SOCK_DGRAM
));

208 ià(
	gş›Á
->
Bšd
(
Sock‘Add»ss
(
¤c
.
addr
(), 0)) != 0 ||

209 
£rv”
->
Bšd
(
Sock‘Add»ss
(
d¡
, 0)) != 0) {

210  
çl£
;

212 cÚ¡ * 
	gbuf
 = "hello other socket";

213 
size_t
 
	gËn
 = 
¡¾’
(
buf
);

214 
	g£Á
 = 
ş›Á
->
S’dTo
(
buf
, 
Ën
, 
£rv”
->
G‘LoÿlAdd»ss
());

215 
Sock‘Add»ss
 
	gaddr
;

216 cÚ¡ 
size_t
 
	gkRecvBufSize
 = 64;

217 
	g»cvbuf
[
kRecvBufSize
];

218 
	gTh»ad
::
Cu¼’t
()->
SË•Ms
(100);

219 
	g»ûived
 = 
£rv”
->
RecvFrom
(
»cvbuf
, 
kRecvBufSize
, &
addr
, 
nuÎ±r
);

220  
	g»ûived
 =ğ
£Á
 && ::
memcmp
(
buf
, 
»cvbuf
, 
Ën
) == 0;

223 
Te¡PhysiÿlIÁ”Çl
(cÚ¡ 
Sock‘Add»ss
& 
št_addr
) {

224 
BasicN‘wÜkMªag”
 
	gÃtwÜk_mªag”
;

225 
	gÃtwÜk_mªag”
.
S¹Upd©šg
();

227 
	gTh»ad
::
Cu¼’t
()->
ProûssMes§ges
(0);

229 
	g¡d
::
veùÜ
<
N‘wÜk
*> 
ÃtwÜks
;

230 
	gÃtwÜk_mªag”
.
G‘N‘wÜks
(&
ÃtwÜks
);

231 
	gÃtwÜks
.
”a£
(
¡d
::
»move_if
(
ÃtwÜks
.
begš
(),‚‘wÜks.
’d
(),

232 [](
¹c
::
N‘wÜk
* 
ÃtwÜk
) {

233  
¹c
::
kDeçuÉN‘wÜkIgnÜeMask
 &

234 
ÃtwÜk
->
ty³
();

236 
ÃtwÜks
.
’d
());

237 ià(
	gÃtwÜks
.
em±y
()) {

238 
RTC_LOG
(
LS_WARNING
) << "Notƒnough‚etwork‡dapters forest.";

242 
Sock‘Add»ss
 
ext_addr1
(
št_addr
);

243 
Sock‘Add»ss
 
	gext_addr2
;

246 
	g¡d
::
veùÜ
<
N‘wÜk
*>::
™”©Ü
 
™
 = 
ÃtwÜks
.
begš
();

247 
	g™
 !ğ
ÃtwÜks
.
’d
(); ++it) {

248 cÚ¡ 
	gIPAdd»ss
& 
	g
 = (*
™
)->
G‘Be¡IP
();

249 ià(
	g
.
çmy
(è=ğ
št_addr
.çmy(è&& 
Te¡CÚÃùiv™y
(št_addr, 

)) {

250 
	gext_addr2
.
S‘IP
(

);

254 ià(
	gext_addr2
.
IsN
()) {

255 
RTC_LOG
(
LS_WARNING
) << "No‡vailable IP of same family‡s "

256 << 
	gšt_addr
.
ToSŒšg
();

260 
RTC_LOG
(
LS_INFO
è<< "£Ëùed i°" << 
	gext_addr2
.
addr
().
ToSŒšg
();

262 
Sock‘Add»ss
 
	gext_addrs
[4] = {

263 
Sock‘Add»ss
(
ext_addr1
), Sock‘Add»ss(
ext_addr2
),

264 
Sock‘Add»ss
(
ext_addr1
), Sock‘Add»ss(
ext_addr2
)};

266 
	g¡d
::
unique_±r
<
PhysiÿlSock‘S”v”
> 
št_pss
(
Ãw
 PhysicalSocketServer());

267 
	g¡d
::
unique_±r
<
PhysiÿlSock‘S”v”
> 
ext_pss
(
Ãw
 PhysicalSocketServer());

269 
Te¡Bšdšgs
(
št_pss
.
g‘
(), 
št_addr
, 
ext_pss
.g‘(), 
ext_addrs
);

270 
Te¡F‹rs
(
št_pss
.
g‘
(), 
št_addr
, 
ext_pss
.g‘(), 
ext_addrs
);

273 
TEST
(
N©Te¡
, 
Te¡PhysiÿlIPv4
) {

274 
Te¡PhysiÿlIÁ”Çl
(
Sock‘Add»ss
("127.0.0.1", 0));

277 
TEST
(
N©Te¡
, 
Te¡PhysiÿlIPv6
) {

278 ià(
HasIPv6EÇbËd
()) {

279 
Te¡PhysiÿlIÁ”Çl
(
Sock‘Add»ss
("::1", 0));

281 
RTC_LOG
(
LS_WARNING
) << "No IPv6, skipping";

285 
	gÇme¥aû
 {

287 şas 
	cTe¡Vœtu®Sock‘S”v”
 : 
public
 
Vœtu®Sock‘S”v”
 {

288 
public
:

290 
IPAdd»ss
 
G‘NextIP
(
af
è{  
Vœtu®Sock‘S”v”
::GetNextIP(af); }

295 
Te¡Vœtu®IÁ”Çl
(
çmy
) {

296 
	g¡d
::
unique_±r
<
Te¡Vœtu®Sock‘S”v”
> 
št_vss
(

297 
Ãw
 
Te¡Vœtu®Sock‘S”v”
());

298 
	g¡d
::
unique_±r
<
Te¡Vœtu®Sock‘S”v”
> 
ext_vss
(

299 
Ãw
 
Te¡Vœtu®Sock‘S”v”
());

301 
Sock‘Add»ss
 
	gšt_addr
;

302 
Sock‘Add»ss
 
	gext_addrs
[4];

303 
	gšt_addr
.
S‘IP
(
št_vss
->
G‘NextIP
(
çmy
));

304 
	gext_addrs
[0].
S‘IP
(
ext_vss
->
G‘NextIP
(
št_addr
.
çmy
()));

305 
	gext_addrs
[1].
S‘IP
(
ext_vss
->
G‘NextIP
(
št_addr
.
çmy
()));

306 
	gext_addrs
[2].
S‘IP
(
ext_addrs
[0].
addr
());

307 
	gext_addrs
[3].
S‘IP
(
ext_addrs
[1].
addr
());

309 
Te¡Bšdšgs
(
št_vss
.
g‘
(), 
št_addr
, 
ext_vss
.g‘(), 
ext_addrs
);

310 
Te¡F‹rs
(
št_vss
.
g‘
(), 
št_addr
, 
ext_vss
.g‘(), 
ext_addrs
);

313 
TEST
(
N©Te¡
, 
Te¡Vœtu®IPv4
) {

314 
Te¡Vœtu®IÁ”Çl
(
AF_INET
);

317 
TEST
(
N©Te¡
, 
Te¡Vœtu®IPv6
) {

318 ià(
HasIPv6EÇbËd
()) {

319 
Te¡Vœtu®IÁ”Çl
(
AF_INET6
);

321 
RTC_LOG
(
LS_WARNING
) << "No IPv6, skipping";

325 
şass
 
	gN©TıTe¡
 : 
public
 ::
‹¡šg
::
Te¡
,…ubliø
	gsig¦Ù
::
has_¦Ùs
<> {

326 
public
:

327 
N©TıTe¡
()

328 : 
št_addr_
("192.168.0.1", 0),

329 
ext_addr_
("10.0.0.1", 0),

330 
cÚÃùed_
(
çl£
),

331 
št_vss_
(
Ãw
 
Te¡Vœtu®Sock‘S”v”
()),

332 
ext_vss_
(
Ãw
 
Te¡Vœtu®Sock‘S”v”
()),

333 
št_th»ad_
(
Ãw
 
Th»ad
(
št_vss_
.
g‘
())),

334 
ext_th»ad_
(
Ãw
 
Th»ad
(
ext_vss_
.
g‘
())),

335 
Çt_
(
Ãw
 
NATS”v”
(
NAT_OPEN_CONE
,

336 
št_vss_
.
g‘
(),

337 
št_addr_
,

338 
št_addr_
,

339 
ext_vss_
.
g‘
(),

340 
ext_addr_
)),

341 
Çtsf_
(
Ãw
 
NATSock‘FaùÜy
(
št_vss_
.
g‘
(),

342 
Çt_
->
š‹º®_udp_add»ss
(),

343 
Çt_
->
š‹º®_tı_add»ss
())) {

344 
	gšt_th»ad_
->
S¹
();

345 
	gext_th»ad_
->
S¹
();

348 
OnCÚÃùEv’t
(
AsyncSock‘
* 
sock‘
è{ 
	gcÚÃùed_
 = 
Œue
; }

350 
OnAcû±Ev’t
(
AsyncSock‘
* 
sock‘
) {

351 
	gacû±ed_
.
»£t
(
£rv”_
->
Acû±
(
nuÎ±r
));

354 
OnClo£Ev’t
(
AsyncSock‘
* 
sock‘
, 
”rÜ
) {}

356 
CÚÃùEv’ts
() {

357 
	g£rv”_
->
	gSigÇlR—dEv’t
.
cÚÃù
(
this
, &
N©TıTe¡
::
OnAcû±Ev’t
);

358 
	gş›Á_
->
	gSigÇlCÚÃùEv’t
.
cÚÃù
(
this
, &
N©TıTe¡
::
OnCÚÃùEv’t
);

361 
Sock‘Add»ss
 
	gšt_addr_
;

362 
Sock‘Add»ss
 
	gext_addr_
;

363 
boŞ
 
	gcÚÃùed_
;

364 
	g¡d
::
unique_±r
<
Te¡Vœtu®Sock‘S”v”
> 
št_vss_
;

365 
	g¡d
::
unique_±r
<
Te¡Vœtu®Sock‘S”v”
> 
ext_vss_
;

366 
	g¡d
::
unique_±r
<
Th»ad
> 
št_th»ad_
;

367 
	g¡d
::
unique_±r
<
Th»ad
> 
ext_th»ad_
;

368 
	g¡d
::
unique_±r
<
NATS”v”
> 
Çt_
;

369 
	g¡d
::
unique_±r
<
NATSock‘FaùÜy
> 
Çtsf_
;

370 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
ş›Á_
;

371 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
£rv”_
;

372 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
acû±ed_
;

375 
TEST_F
(
N©TıTe¡
, 
DISABLED_Te¡CÚÃùOut
) {

376 
	g£rv”_
.
»£t
(
ext_vss_
->
C»©eAsyncSock‘
(
AF_INET
, 
SOCK_STREAM
));

377 
	g£rv”_
->
Bšd
(
ext_addr_
);

378 
	g£rv”_
->
Li¡’
(5);

380 
	gş›Á_
.
»£t
(
Çtsf_
->
C»©eAsyncSock‘
(
AF_INET
, 
SOCK_STREAM
));

381 
EXPECT_GE
(0, 
ş›Á_
->
Bšd
(
št_addr_
));

382 
EXPECT_GE
(0, 
ş›Á_
->
CÚÃù
(
£rv”_
->
G‘LoÿlAdd»ss
()));

384 
CÚÃùEv’ts
();

386 
EXPECT_TRUE_WAIT
(
cÚÃùed_
, 1000);

387 
EXPECT_EQ
(
ş›Á_
->
G‘RemÙeAdd»ss
(), 
£rv”_
->
G‘LoÿlAdd»ss
());

388 
EXPECT_EQ
(
acû±ed_
->
G‘RemÙeAdd»ss
().
addr
(), 
ext_addr_
.ipaddr());

390 
	g¡d
::
unique_±r
<
¹c
::
Te¡Cl›Á
> 
š
(
C»©eTCPTe¡Cl›Á
(
ş›Á_
.
»Ëa£
()));

391 
	g¡d
::
unique_±r
<
¹c
::
Te¡Cl›Á
> 
out
(

392 
C»©eTCPTe¡Cl›Á
(
acû±ed_
.
»Ëa£
()));

394 cÚ¡ * 
	gbuf
 = "test_packet";

395 
size_t
 
	gËn
 = 
¡¾’
(
buf
);

397 
	gš
->
S’d
(
buf
, 
Ën
);

398 
Sock‘Add»ss
 
	gŒªs_addr
;

399 
EXPECT_TRUE
(
out
->
CheckNextPack‘
(
buf
, 
Ën
, &
Œªs_addr
));

401 
	gout
->
S’d
(
buf
, 
Ën
);

402 
EXPECT_TRUE
(
š
->
CheckNextPack‘
(
buf
, 
Ën
, &
Œªs_addr
));

	@net_helper.cc

11 
	~"¹c_ba£/Ãt_h–³r.h
"

13 
Çme¥aû
 
	güick‘
 {

15 cÚ¡ 
	gUDP_PROTOCOL_NAME
[] = "udp";

16 cÚ¡ 
	gTCP_PROTOCOL_NAME
[] = "tcp";

17 cÚ¡ 
	gSSLTCP_PROTOCOL_NAME
[] = "ssltcp";

18 cÚ¡ 
	gTLS_PROTOCOL_NAME
[] = "tls";

20 
G‘PrÙocŞOv”h—d
(cÚ¡ 
¡d
::
¡ršg
& 
´ÙocŞ
) {

21 ià(
´ÙocŞ
 =ğ
TCP_PROTOCOL_NAME
 ||…rÙocŞ =ğ
SSLTCP_PROTOCOL_NAME
) {

22  
kTıH—d”Size
;

23 } ià(
	g´ÙocŞ
 =ğ
UDP_PROTOCOL_NAME
) {

24  
kUdpH—d”Size
;

	@net_helper.h

10 #iâdeà
RTC_BASE_NET_HELPER_H_


11 
	#RTC_BASE_NET_HELPER_H_


	)

13 
	~<¡ršg
>

17 
Çme¥aû
 
	güick‘
 {

19 cÚ¡ 
UDP_PROTOCOL_NAME
[];

20 cÚ¡ 
TCP_PROTOCOL_NAME
[];

21 cÚ¡ 
SSLTCP_PROTOCOL_NAME
[];

22 cÚ¡ 
TLS_PROTOCOL_NAME
[];

24 
cÚ¡ex´
 
	gkTıH—d”Size
 = 20;

25 
cÚ¡ex´
 
	gkUdpH—d”Size
 = 8;

28 
G‘PrÙocŞOv”h—d
(cÚ¡ 
¡d
::
¡ršg
& 
´ÙocŞ
);

	@net_helpers.cc

11 
	~"¹c_ba£/Ãt_h–³rs.h
"

13 
	~<memÜy
>

15 #ià
defšed
(
WEBRTC_WIN
)

16 
	~<ws2¥i.h
>

17 
	~<ws2tı.h
>

19 
	~"¹c_ba£/wš32.h
"

21 #ià
defšed
(
WEBRTC_POSIX
è&& !defšed(
__Çtive_ş›Á__
)

22 #ià
defšed
(
WEBRTC_ANDROID
)

23 
	~"¹c_ba£/içddrs_ªdroid.h
"

25 
	~<içddrs.h
>

29 
	~"¹c_ba£/loggšg.h
"

30 
	~"¹c_ba£/sigÇl_th»ad.h
"

31 
	~"¹c_ba£/thœd_·¹y/sig¦Ù/sig¦Ù.h
"

33 
Çme¥aû
 
	g¹c
 {

35 
ResŞveHo¡Çme
(cÚ¡ 
¡d
::
¡ršg
& 
ho¡Çme
,

36 
çmy
,

37 
¡d
::
veùÜ
<
IPAdd»ss
>* 
add»s£s
) {

38 #ifdeà
__Çtive_ş›Á__


39 
RTC_NOTREACHED
();

40 
RTC_LOG
(
LS_WARNING
) << "ResolveHostname() is‚ot implemented for NaCl";

43 ià(!
	gadd»s£s
) {

46 
	gadd»s£s
->
ş—r
();

47 
addršfo
* 
	g»suÉ
 = 
nuÎ±r
;

48 
addršfo
 
	ghšts
 = {0};

49 
	ghšts
.
	gai_çmy
 = 
çmy
;

67 
	ghšts
.
	gai_æags
 = 
AI_ADDRCONFIG
;

68 
	g»t
 = 
g‘addršfo
(
ho¡Çme
.
c_¡r
(), 
nuÎ±r
, &
hšts
, &
»suÉ
);

69 ià(
	g»t
 != 0) {

70  
»t
;

72 
addršfo
* 
	gcursÜ
 = 
»suÉ
;

73 ; 
	gcursÜ
; cursÜ = 
cursÜ
->
ai_Ãxt
) {

74 ià(
çmy
 =ğ
AF_UNSPEC
 || 
cursÜ
->
ai_çmy
 == family) {

75 
IPAdd»ss
 

;

76 ià(
IPFromAddrInfo
(
cursÜ
, &

)) {

77 
	gadd»s£s
->
push_back
(

);

81 
ä“addršfo
(
»suÉ
);

87 
	gAsyncResŞv”
::
AsyncResŞv”
(è: 
SigÇlTh»ad
(), 
”rÜ_
(-1) {}

89 
	gAsyncResŞv”
::~
AsyncResŞv”
() = ;

91 
	gAsyncResŞv”
::
S¹
(cÚ¡ 
Sock‘Add»ss
& 
addr
) {

92 
addr_
 = 
addr
;

94 
	gSigÇlTh»ad
::
S¹
();

97 
boŞ
 
	gAsyncResŞv”
::
G‘ResŞvedAdd»ss
(
çmy
, 
Sock‘Add»ss
* 
addr
) const {

98 ià(
	g”rÜ_
 !ğ0 || 
add»s£s_
.
em±y
())

99  
çl£
;

101 *
	gaddr
 = 
addr_
;

102 
size_t
 
	gi
 = 0; i < 
	gadd»s£s_
.
size
(); ++i) {

103 ià(
	gçmy
 =ğ
add»s£s_
[
i
].
çmy
()) {

104 
addr
->
S‘ResŞvedIP
(
add»s£s_
[
i
]);

105  
	gŒue
;

108  
	gçl£
;

111 
	gAsyncResŞv”
::
G‘E¼Ü
() const {

112  
”rÜ_
;

115 
	gAsyncResŞv”
::
De¡roy
(
boŞ
 
wa™
) {

116 
SigÇlTh»ad
::
De¡roy
(
wa™
);

119 
	gAsyncResŞv”
::
DoWÜk
() {

120 
”rÜ_
 =

121 
ResŞveHo¡Çme
(
addr_
.
ho¡Çme
().
c_¡r
(),‡ddr_.
çmy
(), &
add»s£s_
);

124 
	gAsyncResŞv”
::
OnWÜkDÚe
() {

125 
SigÇlDÚe
(
this
);

128 cÚ¡ * 
š‘_Áİ
(
af
, cÚ¡ * 
¤c
, * 
d¡
, 
sockËn_t
 
size
) {

129 #ià
defšed
(
WEBRTC_WIN
)

130  
wš32_š‘_Áİ
(
af
, 
¤c
, 
d¡
, 
size
);

132  ::
š‘_Áİ
(
af
, 
¤c
, 
d¡
, 
size
);

136 
š‘_±Ú
(
af
, cÚ¡ * 
¤c
, * 
d¡
) {

137 #ià
defšed
(
WEBRTC_WIN
)

138  
wš32_š‘_±Ú
(
af
, 
¤c
, 
d¡
);

140  ::
š‘_±Ú
(
af
, 
¤c
, 
d¡
);

144 
boŞ
 
HasIPv4EÇbËd
() {

145 #ià
defšed
(
WEBRTC_POSIX
è&& !defšed(
__Çtive_ş›Á__
)

146 
boŞ
 
	ghas_v4
 = 
çl£
;

147 
içddrs
* 
	giç
;

148 ià(
g‘içddrs
(&
iç
) < 0) {

149  
	gçl£
;

151 
içddrs
* 
	gcur
 = 
iç
; cu¸!ğ
nuÎ±r
; cu¸ğ
cur
->
iç_Ãxt
) {

152 ià(
cur
->
iç_addr
->
§_çmy
 =ğ
AF_INET
) {

153 
has_v4
 = 
Œue
;

157 
ä“içddrs
(
iç
);

158  
	ghas_v4
;

160  
	gŒue
;

164 
boŞ
 
HasIPv6EÇbËd
() {

165 #ià
defšed
(
WINUWP
)

167  
	gŒue
;

168 #–ià
defšed
(
WEBRTC_WIN
)

169 ià(
IsWšdowsVi¡aOrL©”
()) {

170  
	gŒue
;

172 ià(!
IsWšdowsXpOrL©”
()) {

173  
	gçl£
;

175 
DWORD
 
	g´Ùbuff_size
 = 4096;

176 
	g¡d
::
unique_±r
<[]> 
´ÙocŞs
;

177 
LPWSAPROTOCOL_INFOW
 
	g´ÙocŞ_šfos
 = 
nuÎ±r
;

178 
	g»que¡ed_´ÙocŞs
[2] = {
AF_INET6
, 0};

180 
	g”r
 = 0;

181 
	g»t
 = 0;

186 
	g´ÙocŞs
.
»£t
(
Ãw
 [
´Ùbuff_size
]);

187 
	g´ÙocŞ_šfos
 = 
»š‹½»t_ÿ¡
<
LPWSAPROTOCOL_INFOW
>(
´ÙocŞs
.
g‘
());

188 
	g»t
 = 
WSCEnumPrÙocŞs
(
»que¡ed_´ÙocŞs
, 
´ÙocŞ_šfos
, &
´Ùbuff_size
,

189 &
”r
);

190 } 
	g»t
 =ğ
SOCKET_ERROR
 && 
”r
 =ğ
WSAENOBUFS
);

192 ià(
	g»t
 =ğ
SOCKET_ERROR
) {

193  
çl£
;

198 
	gi
 = 0; i < 
	g»t
; ++i) {

199 ià(
	g´ÙocŞ_šfos
[
i
].
	giAdd»ssFamy
 =ğ
AF_INET6
) {

200  
Œue
;

203  
	gçl£
;

204 #–ià
defšed
(
WEBRTC_POSIX
è&& !defšed(
__Çtive_ş›Á__
)

205 
boŞ
 
	ghas_v6
 = 
çl£
;

206 
içddrs
* 
	giç
;

207 ià(
g‘içddrs
(&
iç
) < 0) {

208  
	gçl£
;

210 
içddrs
* 
	gcur
 = 
iç
; cu¸!ğ
nuÎ±r
; cu¸ğ
cur
->
iç_Ãxt
) {

211 ià(
cur
->
iç_addr
->
§_çmy
 =ğ
AF_INET6
) {

212 
has_v6
 = 
Œue
;

216 
ä“içddrs
(
iç
);

217  
	ghas_v6
;

219  
	gŒue
;

	@net_helpers.h

11 #iâdeà
RTC_BASE_NET_HELPERS_H_


12 
	#RTC_BASE_NET_HELPERS_H_


	)

14 #ià
defšed
(
WEBRTC_POSIX
)

15 
	~<sys/sock‘.h
>

16 #–ià
WEBRTC_WIN


17 
	~<wšsock2.h
>

20 
	~<veùÜ
>

22 
	~"¹c_ba£/async_»sŞv”_š‹rçû.h
"

23 
	~"¹c_ba£/_add»ss.h
"

24 
	~"¹c_ba£/sigÇl_th»ad.h
"

25 
	~"¹c_ba£/sock‘_add»ss.h
"

26 
	~"¹c_ba£/sy¡em/¹c_expÜt.h
"

28 
Çme¥aû
 
	g¹c
 {

32 
şass
 
RTC_EXPORT
 
	gAsyncResŞv”
 : 
public
 
SigÇlTh»ad
,

33 
public
 
	gAsyncResŞv”IÁ”çû
 {

34 
	gpublic
:

35 
AsyncResŞv”
();

36 ~
AsyncResŞv”
(è
	gov”ride
;

38 
S¹
(cÚ¡ 
Sock‘Add»ss
& 
addr
è
	gov”ride
;

39 
boŞ
 
G‘ResŞvedAdd»ss
(
çmy
, 
Sock‘Add»ss
* 
addr
ècÚ¡ 
	gov”ride
;

40 
G‘E¼Ü
(ècÚ¡ 
	gov”ride
;

41 
De¡roy
(
boŞ
 
wa™
è
	gov”ride
;

43 cÚ¡ 
	g¡d
::
veùÜ
<
IPAdd»ss
>& 
add»s£s
(ècÚ¡ {  
add»s£s_
; }

44 
£t_”rÜ
(
”rÜ
è{ 
	g”rÜ_
 =ƒrror; }

46 
	g´Ùeùed
:

47 
DoWÜk
(è
ov”ride
;

48 
OnWÜkDÚe
(è
	gov”ride
;

50 
	g´iv©e
:

51 
Sock‘Add»ss
 
addr_
;

52 
	g¡d
::
veùÜ
<
IPAdd»ss
> 
add»s£s_
;

53 
	g”rÜ_
;

58 cÚ¡ * 
š‘_Áİ
(
af
, cÚ¡ * 
¤c
, * 
d¡
, 
sockËn_t
 
size
);

59 
š‘_±Ú
(
af
, cÚ¡ * 
¤c
, * 
d¡
);

61 
boŞ
 
HasIPv4EÇbËd
();

62 
boŞ
 
HasIPv6EÇbËd
();

	@network.cc

11 
	~"¹c_ba£/ÃtwÜk.h
"

13 #ià
defšed
(
WEBRTC_POSIX
)

14 
	~<Ãt/if.h
>

17 #ià
defšed
(
WEBRTC_WIN
)

18 
	~<hÍ­i.h
>

20 
	~"¹c_ba£/wš32.h
"

21 #–ià!
defšed
(
__Çtive_ş›Á__
)

22 
	~"¹c_ba£/içddrs_cÚv”‹r.h
"

25 
	~<memÜy
>

27 
	~"ab¦/®gÜ™hm/cÚš”.h
"

28 
	~"ab¦/¡ršgs/m©ch.h
"

29 
	~"ab¦/¡ršgs/¡ršg_v›w.h
"

30 
	~"¹c_ba£/checks.h
"

31 
	~"¹c_ba£/loggšg.h
"

32 
	~"¹c_ba£/ÃtwÜk_mÚ™Ü.h
"

33 
	~"¹c_ba£/sock‘.h
"

34 
	~"¹c_ba£/¡ršg_’code.h
"

35 
	~"¹c_ba£/¡ršg_uts.h
"

36 
	~"¹c_ba£/¡ršgs/¡ršg_bud”.h
"

37 
	~"¹c_ba£/th»ad.h
"

38 
	~"sy¡em_w¿µ”s/šşude/f›ld_ŒŸl.h
"

40 
Çme¥aû
 
	g¹c
 {

41 
	gÇme¥aû
 {

43 cÚ¡ 
ušt32_t
 
	gkUpd©eN‘wÜksMes§ge
 = 1;

44 cÚ¡ 
ušt32_t
 
	gkSigÇlN‘wÜksMes§ge
 = 2;

47 cÚ¡ 
	gkN‘wÜksUpd©eIÁ”v®Ms
 = 2000;

49 cÚ¡ 
	gkHighe¡N‘wÜkP»ã»nû
 = 127;

52 
N‘wÜk
* 
	gÃt
;

53 
	g¡d
::
veùÜ
<
IÁ”çûAdd»ss
> 
s
;

54 } 
	tAdd»ssLi¡
;

56 
boŞ
 
Com·»N‘wÜks
(cÚ¡ 
N‘wÜk
* 
a
, cÚ¡ N‘wÜk* 
b
) {

57 ià(
	ga
->
´efix_Ëngth
(è=ğ
b
->prefix_length()) {

58 ià(
a
->
Çme
(è=ğ
b
->name()) {

59  
a
->
´efix
(è< 
b
->prefix();

62  
	ga
->
Çme
(è< 
	gb
->name();

65 
boŞ
 
SÜtN‘wÜks
(cÚ¡ 
N‘wÜk
* 
a
, cÚ¡ N‘wÜk* 
b
) {

70 ià(
	ga
->
ty³
(è!ğ
b
->type()) {

71  
a
->
ty³
(è< 
b
->type();

74 
IPAdd»ss
 
	g_a
 = 
a
->
G‘Be¡IP
();

75 
IPAdd»ss
 
	g_b
 = 
b
->
G‘Be¡IP
();

79 ià(
IPAdd»ssP»ûd’û
(
_a
è!ğIPAdd»ssP»ûd’û(
_b
)) {

80  
IPAdd»ssP»ûd’û
(
_a
è> IPAdd»ssP»ûd’û(
_b
);

86  
	ga
->
key
(è< 
	gb
->key();

89 
ušt16_t
 
Compu‹N‘wÜkCo¡ByTy³
(
ty³
,

90 
boŞ
 
u£_difã»ÁŸ‹d_ûÎuÏr_co¡s
) {

93 
	gty³
) {

94 
	g¹c
::
ADAPTER_TYPE_ETHERNET
:

95 
¹c
::
ADAPTER_TYPE_LOOPBACK
:

96  
kN‘wÜkCo¡Mš
;

97 
	g¹c
::
ADAPTER_TYPE_WIFI
:

98  
kN‘wÜkCo¡Low
;

99 
	g¹c
::
ADAPTER_TYPE_CELLULAR
:

100  
kN‘wÜkCo¡C–luÏr
;

101 
	g¹c
::
ADAPTER_TYPE_CELLULAR_2G
:

102  
u£_difã»ÁŸ‹d_ûÎuÏr_co¡s
 ? 
kN‘wÜkCo¡C–luÏr2G


103 : 
kN‘wÜkCo¡C–luÏr
;

104 
	g¹c
::
ADAPTER_TYPE_CELLULAR_3G
:

105  
u£_difã»ÁŸ‹d_ûÎuÏr_co¡s
 ? 
kN‘wÜkCo¡C–luÏr3G


106 : 
kN‘wÜkCo¡C–luÏr
;

107 
	g¹c
::
ADAPTER_TYPE_CELLULAR_4G
:

108  
u£_difã»ÁŸ‹d_ûÎuÏr_co¡s
 ? 
kN‘wÜkCo¡C–luÏr4G


109 : 
kN‘wÜkCo¡C–luÏr
;

110 
	g¹c
::
ADAPTER_TYPE_CELLULAR_5G
:

111  
u£_difã»ÁŸ‹d_ûÎuÏr_co¡s
 ? 
kN‘wÜkCo¡C–luÏr5G


112 : 
kN‘wÜkCo¡C–luÏr
;

113 
	g¹c
::
ADAPTER_TYPE_ANY
:

123  
kN‘wÜkCo¡Max
;

124 
	g¹c
::
ADAPTER_TYPE_VPN
:

126 
RTC_NOTREACHED
();

127  
	gkN‘wÜkCo¡Unknown
;

129  
kN‘wÜkCo¡Unknown
;

133 #ià!
defšed
(
__Çtive_ş›Á__
)

134 
boŞ
 
IsIgnÜedIPv6
(cÚ¡ 
IÁ”çûAdd»ss
& 

) {

135 ià(
	g
.
çmy
(è!ğ
AF_INET6
) {

136  
çl£
;

142 ià(
IPIsLškLoÿl
(

)) {

143  
	gŒue
;

147 ià(
IPIsMacBa£d
(

)) {

148  
	gŒue
;

152 ià(
	g
.
v6_æags
(è& 
	gIPV6_ADDRESS_FLAG_DEPRECATED
) {

153  
	gŒue
;

156  
	gçl£
;

163 
boŞ
 
ShouldAd­‹rChªgeTrigg”N‘wÜkChªge
(
¹c
::
Ad­‹rTy³
 
Şd_ty³
,

164 
¹c
::
Ad­‹rTy³
 
Ãw_ty³
) {

167 ià(
N‘wÜk
::
IsC–luÏr
(
Şd_ty³
è&& N‘wÜk::IsC–luÏr(
Ãw_ty³
))

168  
çl£
;

169  
	gŒue
;

176 cÚ¡ 
	gkPublicIPv4Ho¡
[] = "8.8.8.8";

177 cÚ¡ 
	gkPublicIPv6Ho¡
[] = "2001:4860:4860::8888";

178 cÚ¡ 
	gkPublicPÜt
 = 53;

180 
	g¡d
::
¡ršg
 
MakeN‘wÜkKey
(cÚ¡ 
¡d
::¡ršg& 
Çme
,

181 cÚ¡ 
IPAdd»ss
& 
´efix
,

182 
´efix_Ëngth
) {

183 
	g¹c
::
SŒšgBud”
 
o¡
;

184 
	go¡
 << 
	gÇme
 << "%" << 
	g´efix
.
ToSŒšg
(è<< "/" << 
	g´efix_Ëngth
;

185  
	go¡
.
R–—£
();

189 
boŞ
 
M©chTy³NameW™hIndexP©‹º
(
ab¦
::
¡ršg_v›w
 
ÃtwÜk_Çme
,

190 
ab¦
::
¡ršg_v›w
 
ty³_Çme
) {

191 ià(!
ab¦
::
S¹sW™h
(
ÃtwÜk_Çme
, 
ty³_Çme
)) {

192  
	gçl£
;

194  
	gab¦
::
c_nÚe_of
(
ÃtwÜk_Çme
.
sub¡r
(
ty³_Çme
.
size
()),

195 [](
c
è{  !
isdig™
(c); });

203 
Ad­‹rTy³
 
G‘Ad­‹rTy³FromName
(cÚ¡ * 
ÃtwÜk_Çme
) {

204 ià(
M©chTy³NameW™hIndexP©‹º
(
ÃtwÜk_Çme
, "lo")) {

208  
	gADAPTER_TYPE_LOOPBACK
;

211 ià(
M©chTy³NameW™hIndexP©‹º
(
ÃtwÜk_Çme
, "eth")) {

212  
	gADAPTER_TYPE_ETHERNET
;

215 ià(
M©chTy³NameW™hIndexP©‹º
(
ÃtwÜk_Çme
, "wlan")) {

216  
	gADAPTER_TYPE_WIFI
;

219 ià(
M©chTy³NameW™hIndexP©‹º
(
ÃtwÜk_Çme
, "ipsec") ||

220 
M©chTy³NameW™hIndexP©‹º
(
ÃtwÜk_Çme
, "tun") ||

221 
M©chTy³NameW™hIndexP©‹º
(
ÃtwÜk_Çme
, "utun") ||

222 
M©chTy³NameW™hIndexP©‹º
(
ÃtwÜk_Çme
, "tap")) {

223  
	gADAPTER_TYPE_VPN
;

225 #ià
defšed
(
WEBRTC_IOS
)

227 ià(
M©chTy³NameW™hIndexP©‹º
(
ÃtwÜk_Çme
, "pdp_ip")) {

228  
	gADAPTER_TYPE_CELLULAR
;

230 ià(
M©chTy³NameW™hIndexP©‹º
(
ÃtwÜk_Çme
, "en")) {

235  
	gADAPTER_TYPE_WIFI
;

237 #–ià
defšed
(
WEBRTC_ANDROID
)

238 ià(
M©chTy³NameW™hIndexP©‹º
(
ÃtwÜk_Çme
, "rmnet") ||

239 
M©chTy³NameW™hIndexP©‹º
(
ÃtwÜk_Çme
, "rmnet_data") ||

240 
M©chTy³NameW™hIndexP©‹º
(
ÃtwÜk_Çme
, "v4-rmnet") ||

241 
M©chTy³NameW™hIndexP©‹º
(
ÃtwÜk_Çme
, "v4-rmnet_data") ||

242 
M©chTy³NameW™hIndexP©‹º
(
ÃtwÜk_Çme
, "clat")) {

243  
	gADAPTER_TYPE_CELLULAR
;

247  
	gADAPTER_TYPE_UNKNOWN
;

250 
	gN‘wÜkMªag”
::
N‘wÜkMªag”
() {}

252 
N‘wÜkMªag”
::~NetworkManager() {}

254 
N‘wÜkMªag”
::
Enum”©iÚP”missiÚ
 N‘wÜkMªag”::
’um”©iÚ_³rmissiÚ
()

256  
ENUMERATION_ALLOWED
;

259 
boŞ
 
	gN‘wÜkMªag”
::
G‘DeçuÉLoÿlAdd»ss
(
çmy
, 
IPAdd»ss
* 
addr
) const {

260  
	gçl£
;

263 
	gweb¹c
::
MdnsRe¥Úd”IÁ”çû
* 
N‘wÜkMªag”
::
G‘MdnsRe¥Úd”
() const {

264  
nuÎ±r
;

267 
	gN‘wÜkMªag”Ba£
::
N‘wÜkMªag”Ba£
()

268 : 
’um”©iÚ_³rmissiÚ_
(
N‘wÜkMªag”
::
ENUMERATION_ALLOWED
) {}

270 
N‘wÜkMªag”Ba£
::~NetworkManagerBase() {

271 cÚ¡‡uto& 
kv
 : 
ÃtwÜks_m­_
) {

272 
d–‘e
 
kv
.
£cÚd
;

276 
	gN‘wÜkMªag”
::
Enum”©iÚP”missiÚ


277 
N‘wÜkMªag”Ba£
::
’um”©iÚ_³rmissiÚ
() const {

278  
’um”©iÚ_³rmissiÚ_
;

281 
	gN‘wÜkMªag”Ba£
::
G‘AnyAdd»ssN‘wÜks
(
N‘wÜkLi¡
* 
ÃtwÜks
) {

282 ià(!
v4_ªy_add»ss_ÃtwÜk_
) {

283 cÚ¡ 
¹c
::
IPAdd»ss
 
v4_ªy_add»ss
(
INADDR_ANY
);

284 
	gv4_ªy_add»ss_ÃtwÜk_
.
»£t
(

285 
Ãw
 
¹c
::
N‘wÜk
("ªy", "ªy", 
v4_ªy_add»ss
, 0, 
ADAPTER_TYPE_ANY
));

286 
	gv4_ªy_add»ss_ÃtwÜk_
->
£t_deçuÉ_loÿl_add»ss_´ovid”
(
this
);

287 
	gv4_ªy_add»ss_ÃtwÜk_
->
£t_mdns_»¥Úd”_´ovid”
(
this
);

288 
	gv4_ªy_add»ss_ÃtwÜk_
->
AddIP
(
v4_ªy_add»ss
);

290 
	gÃtwÜks
->
push_back
(
v4_ªy_add»ss_ÃtwÜk_
.
g‘
());

292 ià(!
	gv6_ªy_add»ss_ÃtwÜk_
) {

293 cÚ¡ 
	g¹c
::
IPAdd»ss
 
v6_ªy_add»ss
(
š6addr_ªy
);

294 
	gv6_ªy_add»ss_ÃtwÜk_
.
»£t
(

295 
Ãw
 
¹c
::
N‘wÜk
("ªy", "ªy", 
v6_ªy_add»ss
, 0, 
ADAPTER_TYPE_ANY
));

296 
	gv6_ªy_add»ss_ÃtwÜk_
->
£t_deçuÉ_loÿl_add»ss_´ovid”
(
this
);

297 
	gv6_ªy_add»ss_ÃtwÜk_
->
£t_mdns_»¥Úd”_´ovid”
(
this
);

298 
	gv6_ªy_add»ss_ÃtwÜk_
->
AddIP
(
v6_ªy_add»ss
);

300 
	gÃtwÜks
->
push_back
(
v6_ªy_add»ss_ÃtwÜk_
.
g‘
());

303 
	gN‘wÜkMªag”Ba£
::
G‘N‘wÜks
(
N‘wÜkLi¡
* 
»suÉ
) const {

304 
»suÉ
->
ş—r
();

305 
	g»suÉ
->
š£¹
(
»suÉ
->
begš
(), 
ÃtwÜks_
.begš(),‚‘wÜks_.
’d
());

308 
	gN‘wÜkMªag”Ba£
::
M”geN‘wÜkLi¡
(cÚ¡ 
N‘wÜkLi¡
& 
Ãw_ÃtwÜks
,

309 
boŞ
* 
chªged
) {

310 
	gN‘wÜkMªag”
::
Sts
 
¡©s
;

311 
M”geN‘wÜkLi¡
(
Ãw_ÃtwÜks
, 
chªged
, &
¡©s
);

314 
	gN‘wÜkMªag”Ba£
::
M”geN‘wÜkLi¡
(cÚ¡ 
N‘wÜkLi¡
& 
Ãw_ÃtwÜks
,

315 
boŞ
* 
chªged
,

316 
N‘wÜkMªag”
::
Sts
* 
¡©s
) {

317 *
chªged
 = 
çl£
;

320 
	g¡d
::
m­
<
¡d
::
¡ršg
, 
	gAdd»ssLi¡
> 
	gcÚsŞid©ed_add»ss_li¡
;

321 
N‘wÜkLi¡
 
li¡
(
Ãw_ÃtwÜks
);

322 
	gab¦
::
c_sÜt
(
li¡
, 
Com·»N‘wÜks
);

324 
N‘wÜk
* 
	gÃtwÜk
 : 
li¡
) {

325 
boŞ
 
might_add_to_m”ged_li¡
 = 
çl£
;

326 
	g¡d
::
¡ršg
 
key
 = 
MakeN‘wÜkKey
(
ÃtwÜk
->
Çme
(),‚‘wÜk->
´efix
(),

327 
ÃtwÜk
->
´efix_Ëngth
());

328 ià(
	gcÚsŞid©ed_add»ss_li¡
.
fšd
(
key
) ==

329 
cÚsŞid©ed_add»ss_li¡
.
’d
()) {

330 
Add»ssLi¡
 
add¾i¡
;

331 
	gadd¾i¡
.
	gÃt
 = 
ÃtwÜk
;

332 
	gcÚsŞid©ed_add»ss_li¡
[
key
] = 
add¾i¡
;

333 
	gmight_add_to_m”ged_li¡
 = 
Œue
;

335 cÚ¡ 
	g¡d
::
veùÜ
<
IÁ”çûAdd»ss
>& 
add»s£s
 = 
ÃtwÜk
->
G‘IPs
();

336 
	gAdd»ssLi¡
& 
	gcu¼’t_li¡
 = 
cÚsŞid©ed_add»ss_li¡
[
key
];

337 cÚ¡ 
	gIÁ”çûAdd»ss
& 
	gadd»ss
 : 
add»s£s
) {

338 
cu¼’t_li¡
.
s
.
push_back
(
add»ss
);

340 ià(!
	gmight_add_to_m”ged_li¡
) {

341 
d–‘e
 
	gÃtwÜk
;

343 ià(
	gcu¼’t_li¡
.
	gs
[0].
çmy
(è=ğ
AF_INET
) {

344 
¡©s
->
v4_ÃtwÜk_couÁ
++;

346 
RTC_DCHECK
(
cu¼’t_li¡
.
s
[0].
çmy
(è=ğ
AF_INET6
);

347 
	g¡©s
->
	gv6_ÃtwÜk_couÁ
++;

354 
N‘wÜkLi¡
 
	gm”ged_li¡
;

355 cÚ¡‡uto& 
	gkv
 : 
cÚsŞid©ed_add»ss_li¡
) {

356 cÚ¡ 
¡d
::
¡ršg
& 
key
 = 
kv
.
fœ¡
;

357 
N‘wÜk
* 
	gÃt
 = 
kv
.
£cÚd
.
Ãt
;

358 autØ
	gexi¡šg
 = 
ÃtwÜks_m­_
.
fšd
(
key
);

359 ià(
	gexi¡šg
 =ğ
ÃtwÜks_m­_
.
’d
()) {

361 
m”ged_li¡
.
push_back
(
Ãt
);

362 
	gÃtwÜks_m­_
[
key
] = 
Ãt
;

363 
	gÃt
->
£t_id
(
Ãxt_avaabË_ÃtwÜk_id_
++);

366 
	gÃt
->
S‘IPs
(
kv
.
£cÚd
.
s
, 
Œue
);

367 *
	gchªged
 = 
Œue
;

370 
N‘wÜk
* 
	gexi¡šg_Ãt
 = 
exi¡šg
->
£cÚd
;

371 *
	gchªged
 = 
exi¡šg_Ãt
->
S‘IPs
(
kv
.
£cÚd
.
s
, *
chªged
);

372 
	gm”ged_li¡
.
push_back
(
exi¡šg_Ãt
);

373 ià(
	gÃt
->
ty³
(è!ğ
ADAPTER_TYPE_UNKNOWN
 &&

374 
Ãt
->
ty³
(è!ğ
exi¡šg_Ãt
->type()) {

375 ià(
ShouldAd­‹rChªgeTrigg”N‘wÜkChªge
(
exi¡šg_Ãt
->
ty³
(),

376 
Ãt
->
ty³
())) {

377 *
chªged
 = 
Œue
;

379 
	gexi¡šg_Ãt
->
£t_ty³
(
Ãt
->
ty³
());

382 ià(!
	gexi¡šg_Ãt
->
aùive
()) {

383 *
	gchªged
 = 
Œue
;

385 
RTC_DCHECK
(
Ãt
->
aùive
());

386 ià(
	gexi¡šg_Ãt
 !ğ
Ãt
) {

387 
d–‘e
 
Ãt
;

390 
	gÃtwÜks_m­_
[
key
]->
£t_mdns_»¥Úd”_´ovid”
(
this
);

394 ià(
	gm”ged_li¡
.
size
(è!ğ
ÃtwÜks_
.size()) {

395 *
chªged
 = 
Œue
;

400 ià(*
	gchªged
) {

401 
	gÃtwÜks_
 = 
m”ged_li¡
;

403 cÚ¡‡uto& 
	gkv
 : 
ÃtwÜks_m­_
) {

404 
N‘wÜk
* 
ÃtwÜk
 = 
kv
.
£cÚd
;

406 
boŞ
 
	gfound
 = 
ab¦
::
c_lš—r_£¬ch
(
ÃtwÜks_
, 
ÃtwÜk
);

407 
	gÃtwÜk
->
£t_aùive
(
found
);

409 
	gab¦
::
c_sÜt
(
ÃtwÜks_
, 
SÜtN‘wÜks
);

417 
	g´ef
 = 
kHighe¡N‘wÜkP»ã»nû
;

418 
N‘wÜk
* 
	gÃtwÜk
 : 
ÃtwÜks_
) {

419 
ÃtwÜk
->
£t_´eã»nû
(
´ef
);

420 ià(
	g´ef
 > 0) {

421 --
	g´ef
;

423 
RTC_LOG
(
LS_ERROR
) << "Too many‚etwork interfaceso handle!";

430 
	gN‘wÜkMªag”Ba£
::
£t_deçuÉ_loÿl_add»s£s
(cÚ¡ 
IPAdd»ss
& 
v4
,

431 cÚ¡ 
IPAdd»ss
& 
v6
) {

432 ià(
	gv4
.
çmy
(è=ğ
AF_INET
) {

433 
deçuÉ_loÿl_v4_add»ss_
 = 
v4
;

435 ià(
	gv6
.
çmy
(è=ğ
AF_INET6
) {

436 
deçuÉ_loÿl_v6_add»ss_
 = 
v6
;

440 
boŞ
 
	gN‘wÜkMªag”Ba£
::
G‘DeçuÉLoÿlAdd»ss
(
çmy
,

441 
IPAdd»ss
* 
addr
) const {

442 ià(
	gçmy
 =ğ
AF_INET
 && !
deçuÉ_loÿl_v4_add»ss_
.
IsN
()) {

443 *
addr
 = 
deçuÉ_loÿl_v4_add»ss_
;

444  
	gŒue
;

445 } ià(
	gçmy
 =ğ
AF_INET6
 && !
deçuÉ_loÿl_v6_add»ss_
.
IsN
()) {

446 
N‘wÜk
* 
v6_ÃtwÜk
 = 
G‘N‘wÜkFromAdd»ss
(
deçuÉ_loÿl_v6_add»ss_
);

447 ià(
	gv6_ÃtwÜk
) {

451 *
	gaddr
 = 
v6_ÃtwÜk
->
G‘Be¡IP
();

453 *
	gaddr
 = 
deçuÉ_loÿl_v6_add»ss_
;

455  
	gŒue
;

457  
	gçl£
;

460 
N‘wÜk
* 
	gN‘wÜkMªag”Ba£
::
G‘N‘wÜkFromAdd»ss
(

461 cÚ¡ 
¹c
::
IPAdd»ss
& 

) const {

462 
N‘wÜk
* 
ÃtwÜk
 : 
ÃtwÜks_
) {

463 cÚ¡‡uto& 
s
 = 
ÃtwÜk
->
G‘IPs
();

464 ià(
	gab¦
::
c_ªy_of
(
s
, [&](cÚ¡ 
IÁ”çûAdd»ss
& 
exi¡šg_
) {

465  

 =ğ
¡©ic_ÿ¡
<
¹c
::
IPAdd»ss
>(
exi¡šg_
);

467  
	gÃtwÜk
;

470  
	gnuÎ±r
;

473 
	gBasicN‘wÜkMªag”
::
BasicN‘wÜkMªag”
()

474 : 
th»ad_
(
nuÎ±r
), 
£Á_fœ¡_upd©e_
(
çl£
), 
¡¬t_couÁ_
(0) {}

476 
	gBasicN‘wÜkMªag”
::~
BasicN‘wÜkMªag”
() {}

478 
BasicN‘wÜkMªag”
::
OnN‘wÜksChªged
() {

479 
RTC_LOG
(
LS_INFO
) << "Network change was observed";

480 
Upd©eN‘wÜksOnû
();

483 #ià
defšed
(
__Çtive_ş›Á__
)

485 
boŞ
 
	gBasicN‘wÜkMªag”
::
C»©eN‘wÜks
(boŞ 
šşude_ignÜed
,

486 
N‘wÜkLi¡
* 
ÃtwÜks
) const {

487 
RTC_NOTREACHED
();

488 
RTC_LOG
(
LS_WARNING
) << "BasicNetworkManager doesn't work on NaCl yet";

489  
	gçl£
;

492 #–ià
defšed
(
WEBRTC_POSIX
)

493 
	gBasicN‘wÜkMªag”
::
CÚv”tIfAddrs
(
içddrs
* 
š‹rçûs
,

494 
IfAddrsCÚv”‹r
* 
içddrs_cÚv”‹r
,

495 
boŞ
 
šşude_ignÜed
,

496 
N‘wÜkLi¡
* 
ÃtwÜks
) const {

497 
N‘wÜkM­
 
	gcu¼’t_ÃtwÜks
;

499 
içddrs
* 
	gcursÜ
 = 
š‹rçûs
; cursÜ !ğ
nuÎ±r
;

500 
	gcursÜ
 = 
cursÜ
->
iç_Ãxt
) {

501 
IPAdd»ss
 
´efix
;

502 
IPAdd»ss
 
	gmask
;

503 
IÁ”çûAdd»ss
 
	g
;

504 
	gscİe_id
 = 0;

507 ià(!
	gcursÜ
->
	giç_addr
 || !cursÜ->
	giç_Ãtmask
) {

511 ià(!(
	gcursÜ
->
	giç_æags
 & 
	gIFF_RUNNING
)) {

515 ià(
	gcursÜ
->
	giç_addr
->
	g§_çmy
 !ğ
AF_INET
 &&

516 
cursÜ
->
iç_addr
->
§_çmy
 !ğ
AF_INET6
) {

520 ià(!
	giçddrs_cÚv”‹r
->
CÚv”tIfAddrsToIPAdd»ss
(
cursÜ
, &

, &
mask
)) {

525 ià(
	gcursÜ
->
	giç_addr
->
	g§_çmy
 =ğ
AF_INET6
) {

526 ià(
IsIgnÜedIPv6
(

)) {

529 
	gscİe_id
 =

530 
»š‹½»t_ÿ¡
<
sockaddr_š6
*>(
cursÜ
->
iç_addr
)->
sš6_scİe_id
;

533 
Ad­‹rTy³
 
	gad­‹r_ty³
 = 
ADAPTER_TYPE_UNKNOWN
;

534 
Ad­‹rTy³
 
	gv²_und”lyšg_ad­‹r_ty³
 = 
ADAPTER_TYPE_UNKNOWN
;

535 ià(
	gcursÜ
->
	giç_æags
 & 
	gIFF_LOOPBACK
) {

536 
	gad­‹r_ty³
 = 
ADAPTER_TYPE_LOOPBACK
;

540 ià(
	gÃtwÜk_mÚ™Ü_
) {

541 
	gad­‹r_ty³
 = 
ÃtwÜk_mÚ™Ü_
->
G‘Ad­‹rTy³
(
cursÜ
->
iç_Çme
);

543 ià(
	gad­‹r_ty³
 =ğ
ADAPTER_TYPE_UNKNOWN
) {

544 
ad­‹r_ty³
 = 
G‘Ad­‹rTy³FromName
(
cursÜ
->
iç_Çme
);

548 ià(
	gad­‹r_ty³
 =ğ
ADAPTER_TYPE_VPN
 && 
ÃtwÜk_mÚ™Ü_
) {

549 
v²_und”lyšg_ad­‹r_ty³
 =

550 
ÃtwÜk_mÚ™Ü_
->
G‘V²Und”lyšgAd­‹rTy³
(
cursÜ
->
iç_Çme
);

552 
	g´efix_Ëngth
 = 
CouÁIPMaskB™s
(
mask
);

553 
	g´efix
 = 
Trunÿ‹IP
(

, 
´efix_Ëngth
);

554 
	g¡d
::
¡ršg
 
key
 =

555 
MakeN‘wÜkKey
(
¡d
::
¡ršg
(
cursÜ
->
iç_Çme
), 
´efix
, 
´efix_Ëngth
);

556 autØ
	g™”
 = 
cu¼’t_ÃtwÜks
.
fšd
(
key
);

557 ià(
	g™”
 =ğ
cu¼’t_ÃtwÜks
.
’d
()) {

559 
¡d
::
unique_±r
<
N‘wÜk
> 
ÃtwÜk
(

560 
Ãw
 
N‘wÜk
(
cursÜ
->
iç_Çme
, cursÜ->iç_Çme, 
´efix
, 
´efix_Ëngth
,

561 
ad­‹r_ty³
));

562 
	gÃtwÜk
->
£t_deçuÉ_loÿl_add»ss_´ovid”
(
this
);

563 
	gÃtwÜk
->
£t_scİe_id
(
scİe_id
);

564 
	gÃtwÜk
->
AddIP
(

);

565 
	gÃtwÜk
->
£t_ignÜed
(
IsIgnÜedN‘wÜk
(*
ÃtwÜk
));

566 
	gÃtwÜk
->
£t_und”lyšg_ty³_fÜ_v²
(
v²_und”lyšg_ad­‹r_ty³
);

567 ià(
	gšşude_ignÜed
 || !
	gÃtwÜk
->
ignÜed
()) {

568 
	gcu¼’t_ÃtwÜks
[
key
] = 
ÃtwÜk
.
g‘
();

569 
	gÃtwÜks
->
push_back
(
ÃtwÜk
.
»Ëa£
());

572 
N‘wÜk
* 
	gexi¡šg_ÃtwÜk
 = 
™”
->
£cÚd
;

573 
	gexi¡šg_ÃtwÜk
->
AddIP
(

);

574 ià(
	gad­‹r_ty³
 !ğ
ADAPTER_TYPE_UNKNOWN
) {

575 
exi¡šg_ÃtwÜk
->
£t_ty³
(
ad­‹r_ty³
);

576 
	gexi¡šg_ÃtwÜk
->
£t_und”lyšg_ty³_fÜ_v²
(

577 
v²_und”lyšg_ad­‹r_ty³
);

583 
boŞ
 
	gBasicN‘wÜkMªag”
::
C»©eN‘wÜks
(boŞ 
šşude_ignÜed
,

584 
N‘wÜkLi¡
* 
ÃtwÜks
) const {

585 
içddrs
* 
	gš‹rçûs
;

586 
	g”rÜ
 = 
g‘içddrs
(&
š‹rçûs
);

587 ià(
	g”rÜ
 != 0) {

588 
RTC_LOG_ERR
(
LERROR
) << "getifaddrs failedo gather interface data: "

589 << 
”rÜ
;

590  
	gçl£
;

593 
	g¡d
::
unique_±r
<
IfAddrsCÚv”‹r
> 
içddrs_cÚv”‹r
(
C»©eIfAddrsCÚv”‹r
());

594 
CÚv”tIfAddrs
(
š‹rçûs
, 
içddrs_cÚv”‹r
.
g‘
(), 
šşude_ignÜed
,

595 
ÃtwÜks
);

597 
ä“içddrs
(
š‹rçûs
);

598  
	gŒue
;

601 #–ià
defšed
(
WEBRTC_WIN
)

603 
G‘P»fix
(
PIP_ADAPTER_PREFIX
 
´efixli¡
,

604 cÚ¡ 
IPAdd»ss
& 

,

605 
IPAdd»ss
* 
´efix
) {

606 
IPAdd»ss
 
	gcu¼’t_´efix
;

607 
IPAdd»ss
 
	gbe¡_´efix
;

608 
	gbe¡_Ëngth
 = 0;

609 
	g´efixli¡
) {

611 ià(
	g´efixli¡
->
	gAdd»ss
.
	gÍSockaddr
 =ğ
nuÎ±r
 ||

612 
´efixli¡
->
Add»ss
.
ÍSockaddr
->
§_çmy
 !ğ

.
çmy
()) {

613 
´efixli¡
 =…»fixli¡->
Next
;

616 
	g´efixli¡
->
	gAdd»ss
.
	gÍSockaddr
->
	g§_çmy
) {

617 
	gAF_INET
: {

618 
sockaddr_š
* 
v4_addr
 =

619 
»š‹½»t_ÿ¡
<
sockaddr_š
*>(
´efixli¡
->
Add»ss
.
ÍSockaddr
);

620 
	gcu¼’t_´efix
 = 
IPAdd»ss
(
v4_addr
->
sš_addr
);

623 
	gAF_INET6
: {

624 
sockaddr_š6
* 
v6_addr
 =

625 
»š‹½»t_ÿ¡
<
sockaddr_š6
*>(
´efixli¡
->
Add»ss
.
ÍSockaddr
);

626 
	gcu¼’t_´efix
 = 
IPAdd»ss
(
v6_addr
->
sš6_addr
);

630 
´efixli¡
 =…»fixli¡->
Next
;

634 ià(
Trunÿ‹IP
(

, 
´efixli¡
->
P»fixL’gth
è=ğ
cu¼’t_´efix
 &&

635 
´efixli¡
->
P»fixL’gth
 > 
be¡_Ëngth
) {

636 
be¡_´efix
 = 
cu¼’t_´efix
;

637 
	gbe¡_Ëngth
 = 
´efixli¡
->
P»fixL’gth
;

639 
	g´efixli¡
 = 
´efixli¡
->
Next
;

641 *
	g´efix
 = 
be¡_´efix
;

642  
	gbe¡_Ëngth
;

645 
boŞ
 
	gBasicN‘wÜkMªag”
::
C»©eN‘wÜks
(boŞ 
šşude_ignÜed
,

646 
N‘wÜkLi¡
* 
ÃtwÜks
) const {

647 
N‘wÜkM­
 
	gcu¼’t_ÃtwÜks
;

649 
size_t
 
	gbufãr_size
 = 16384;

650 
	g¡d
::
unique_±r
<[]> 
ad­‹r_šfo
(
Ãw
 [
bufãr_size
]);

651 
PIP_ADAPTER_ADDRESSES
 
	gad­‹r_addrs
 =

652 
»š‹½»t_ÿ¡
<
PIP_ADAPTER_ADDRESSES
>(
ad­‹r_šfo
.
g‘
());

653 
	gad­‹r_æags
 = (
GAA_FLAG_SKIP_DNS_SERVER
 | 
GAA_FLAG_SKIP_ANYCAST
 |

654 
GAA_FLAG_SKIP_MULTICAST
 | 
GAA_FLAG_INCLUDE_PREFIX
);

655 
	g»t
 = 0;

657 
	gad­‹r_šfo
.
»£t
(
Ãw
 [
bufãr_size
]);

658 
	gad­‹r_addrs
 = 
»š‹½»t_ÿ¡
<
PIP_ADAPTER_ADDRESSES
>(
ad­‹r_šfo
.
g‘
());

659 
	g»t
 = 
G‘Ad­‹rsAdd»s£s
(
AF_UNSPEC
, 
ad­‹r_æags
, 0, 
ad­‹r_addrs
,

660 
»š‹½»t_ÿ¡
<
PULONG
>(&
bufãr_size
));

661 } 
	g»t
 =ğ
ERROR_BUFFER_OVERFLOW
);

662 ià(
	g»t
 !ğ
ERROR_SUCCESS
) {

663  
çl£
;

665 
	gcouÁ
 = 0;

666 
	gad­‹r_addrs
) {

667 ià(
	gad­‹r_addrs
->
	gO³rStus
 =ğ
IfO³rStusUp
) {

668 
PIP_ADAPTER_UNICAST_ADDRESS
 
add»ss
 = 
ad­‹r_addrs
->
Fœ¡Uniÿ¡Add»ss
;

669 
PIP_ADAPTER_PREFIX
 
	g´efixli¡
 = 
ad­‹r_addrs
->
Fœ¡P»fix
;

670 
	g¡d
::
¡ršg
 
Çme
;

671 
	g¡d
::
¡ršg
 
desütiÚ
;

672 #ià!
defšed
(
NDEBUG
)

673 
	gÇme
 = 
ToUtf8
(
ad­‹r_addrs
->
Fr›ndlyName
,

674 
wc¦’
(
ad­‹r_addrs
->
Fr›ndlyName
));

676 
	gdesütiÚ
 = 
ToUtf8
(
ad­‹r_addrs
->
DesütiÚ
,

677 
wc¦’
(
ad­‹r_addrs
->
DesütiÚ
));

678 ; 
	gadd»ss
;‡dd»s ğ
add»ss
->
Next
) {

679 #ià
defšed
(
NDEBUG
)

680 
Çme
 = 
¹c
::
ToSŒšg
(
couÁ
);

683 
IPAdd»ss
 
	g
;

684 
	gscİe_id
 = 0;

685 
	g¡d
::
unique_±r
<
N‘wÜk
> 
ÃtwÜk
;

686 
	gadd»ss
->
	gAdd»ss
.
	gÍSockaddr
->
	g§_çmy
) {

687 
	gAF_INET
: {

688 
sockaddr_š
* 
v4_addr
 =

689 
»š‹½»t_ÿ¡
<
sockaddr_š
*>(
add»ss
->
Add»ss
.
ÍSockaddr
);

690 
	g
 = 
IPAdd»ss
(
v4_addr
->
sš_addr
);

693 
	gAF_INET6
: {

694 
sockaddr_š6
* 
v6_addr
 =

695 
»š‹½»t_ÿ¡
<
sockaddr_š6
*>(
add»ss
->
Add»ss
.
ÍSockaddr
);

696 
	gscİe_id
 = 
v6_addr
->
sš6_scİe_id
;

697 
	g
 = 
IPAdd»ss
(
v6_addr
->
sš6_addr
);

699 ià(
IsIgnÜedIPv6
(
IÁ”çûAdd»ss
(

))) {

710 
IPAdd»ss
 
	g´efix
;

711 
	g´efix_Ëngth
 = 
G‘P»fix
(
´efixli¡
, 

, &
´efix
);

712 
	g¡d
::
¡ršg
 
key
 = 
MakeN‘wÜkKey
(
Çme
, 
´efix
, 
´efix_Ëngth
);

713 autØ
	gexi¡šg_ÃtwÜk
 = 
cu¼’t_ÃtwÜks
.
fšd
(
key
);

714 ià(
	gexi¡šg_ÃtwÜk
 =ğ
cu¼’t_ÃtwÜks
.
’d
()) {

715 
Ad­‹rTy³
 
ad­‹r_ty³
 = 
ADAPTER_TYPE_UNKNOWN
;

716 
	gad­‹r_addrs
->
	gIfTy³
) {

717 
	gIF_TYPE_SOFTWARE_LOOPBACK
:

718 
ad­‹r_ty³
 = 
ADAPTER_TYPE_LOOPBACK
;

720 
	gIF_TYPE_ETHERNET_CSMACD
:

721 
IF_TYPE_ETHERNET_3MBIT
:

722 
IF_TYPE_IEEE80212
:

723 
IF_TYPE_FASTETHER
:

724 
IF_TYPE_FASTETHER_FX
:

725 
IF_TYPE_GIGABITETHERNET
:

726 
ad­‹r_ty³
 = 
ADAPTER_TYPE_ETHERNET
;

728 
	gIF_TYPE_IEEE80211
:

729 
ad­‹r_ty³
 = 
ADAPTER_TYPE_WIFI
;

731 
	gIF_TYPE_WWANPP
:

732 
IF_TYPE_WWANPP2
:

733 
ad­‹r_ty³
 = 
ADAPTER_TYPE_CELLULAR
;

737 
ad­‹r_ty³
 = 
ADAPTER_TYPE_UNKNOWN
;

740 
	g¡d
::
unique_±r
<
N‘wÜk
> 
ÃtwÜk
(
Ãw
 Network(

741 
Çme
, 
desütiÚ
, 
´efix
, 
´efix_Ëngth
, 
ad­‹r_ty³
));

742 
	gÃtwÜk
->
£t_deçuÉ_loÿl_add»ss_´ovid”
(
this
);

743 
	gÃtwÜk
->
£t_mdns_»¥Úd”_´ovid”
(
this
);

744 
	gÃtwÜk
->
£t_scİe_id
(
scİe_id
);

745 
	gÃtwÜk
->
AddIP
(

);

746 
boŞ
 
	gignÜed
 = 
IsIgnÜedN‘wÜk
(*
ÃtwÜk
);

747 
	gÃtwÜk
->
£t_ignÜed
(
ignÜed
);

748 ià(
	gšşude_ignÜed
 || !
	gÃtwÜk
->
ignÜed
()) {

749 
	gcu¼’t_ÃtwÜks
[
key
] = 
ÃtwÜk
.
g‘
();

750 
	gÃtwÜks
->
push_back
(
ÃtwÜk
.
»Ëa£
());

753 (*
	gexi¡šg_ÃtwÜk
).
	g£cÚd
->
AddIP
(

);

758 ++
	gcouÁ
;

760 
	gad­‹r_addrs
 = 
ad­‹r_addrs
->
Next
;

762  
	gŒue
;

766 
boŞ
 
	gBasicN‘wÜkMªag”
::
IsIgnÜedN‘wÜk
(cÚ¡ 
N‘wÜk
& 
ÃtwÜk
) const {

768 cÚ¡ 
¡d
::
¡ršg
& 
ignÜed_Çme
 : 
ÃtwÜk_ignÜe_li¡_
) {

769 ià(
ÃtwÜk
.
Çme
(è=ğ
ignÜed_Çme
) {

770  
Œue
;

774 #ià
defšed
(
WEBRTC_POSIX
)

777 ià(
¡ºcmp
(
ÃtwÜk
.
Çme
().
c_¡r
(), "vmnet", 5) == 0 ||

778 
¡ºcmp
(
ÃtwÜk
.
Çme
().
c_¡r
(), "vnic", 4) == 0 ||

779 
¡ºcmp
(
ÃtwÜk
.
Çme
().
c_¡r
(), "vboxnet", 7) == 0) {

780  
Œue
;

782 #–ià
defšed
(
WEBRTC_WIN
)

787 ià(
¡r¡r
(
ÃtwÜk
.
desütiÚ
().
c_¡r
(), "VMÃt"è!ğ
nuÎ±r
) {

788  
Œue
;

793 ià(
	gÃtwÜk
.
´efix
().
çmy
(è=ğ
AF_INET
) {

794  (
ÃtwÜk
.
´efix
().
v4Add»ssAsHo¡Ord”IÁeg”
() < 0x01000000);

797  
	gçl£
;

800 
	gBasicN‘wÜkMªag”
::
S¹Upd©šg
() {

801 
th»ad_
 = 
Th»ad
::
Cu¼’t
();

802 ià(
	g¡¬t_couÁ_
) {

806 ià(
	g£Á_fœ¡_upd©e_
)

807 
	gth»ad_
->
Po¡
(
RTC_FROM_HERE
, 
this
, 
kSigÇlN‘wÜksMes§ge
);

809 
	gth»ad_
->
Po¡
(
RTC_FROM_HERE
, 
this
, 
kUpd©eN‘wÜksMes§ge
);

810 
S¹N‘wÜkMÚ™Ü
();

812 ++
	g¡¬t_couÁ_
;

815 
	gBasicN‘wÜkMªag”
::
StİUpd©šg
() {

816 
RTC_DCHECK
(
Th»ad
::
Cu¼’t
(è=ğ
th»ad_
);

817 ià(!
	g¡¬t_couÁ_
)

820 --
	g¡¬t_couÁ_
;

821 ià(!
	g¡¬t_couÁ_
) {

822 
	gth»ad_
->
CË¬
(
this
);

823 
	g£Á_fœ¡_upd©e_
 = 
çl£
;

824 
StİN‘wÜkMÚ™Ü
();

828 
	gBasicN‘wÜkMªag”
::
S¹N‘wÜkMÚ™Ü
() {

829 
N‘wÜkMÚ™ÜFaùÜy
* 
çùÜy
 = N‘wÜkMÚ™ÜFaùÜy::
G‘FaùÜy
();

830 ià(
	gçùÜy
 =ğ
nuÎ±r
) {

833 ià(!
	gÃtwÜk_mÚ™Ü_
) {

834 
	gÃtwÜk_mÚ™Ü_
.
»£t
(
çùÜy
->
C»©eN‘wÜkMÚ™Ü
());

835 ià(!
	gÃtwÜk_mÚ™Ü_
) {

838 
	gÃtwÜk_mÚ™Ü_
->
	gSigÇlN‘wÜksChªged
.
cÚÃù
(

839 
this
, &
BasicN‘wÜkMªag”
::
OnN‘wÜksChªged
);

841 
	gÃtwÜk_mÚ™Ü_
->
S¹
();

844 
	gBasicN‘wÜkMªag”
::
StİN‘wÜkMÚ™Ü
() {

845 ià(!
ÃtwÜk_mÚ™Ü_
) {

848 
	gÃtwÜk_mÚ™Ü_
->
Stİ
();

851 
	gBasicN‘wÜkMªag”
::
OnMes§ge
(
Mes§ge
* 
msg
) {

852 
msg
->
mes§ge_id
) {

853 
kUpd©eN‘wÜksMes§ge
: {

854 
Upd©eN‘wÜksCÚtšu®ly
();

857 
	gkSigÇlN‘wÜksMes§ge
: {

858 
SigÇlN‘wÜksChªged
();

862 
RTC_NOTREACHED
();

866 
IPAdd»ss
 
	gBasicN‘wÜkMªag”
::
Qu”yDeçuÉLoÿlAdd»ss
(
çmy
) const {

867 
RTC_DCHECK
(
th»ad_
 =ğ
Th»ad
::
Cu¼’t
());

868 
RTC_DCHECK
(
th»ad_
->
sock‘£rv”
(è!ğ
nuÎ±r
);

869 
RTC_DCHECK
(
çmy
 =ğ
AF_INET
 || famy =ğ
AF_INET6
);

871 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
sock‘
(

872 
th»ad_
->
sock‘£rv”
()->
C»©eAsyncSock‘
(
çmy
, 
SOCK_DGRAM
));

873 ià(!
	gsock‘
) {

874 
RTC_LOG_ERR
(
LERROR
) << "Socket creation failed";

875  
IPAdd»ss
();

878 ià(
	gsock‘
->
CÚÃù
(
Sock‘Add»ss
(

879 
çmy
 =ğ
AF_INET
 ? 
kPublicIPv4Ho¡
 : 
kPublicIPv6Ho¡
, 
kPublicPÜt
)) <

881 ià(
	gsock‘
->
G‘E¼Ü
(è!ğ
ENETUNREACH
 &&

882 
sock‘
->
G‘E¼Ü
(è!ğ
EHOSTUNREACH
) {

885 
RTC_LOG
(
LS_INFO
è<< "CÚÃù faed w™h " << 
sock‘
->
G‘E¼Ü
();

887  
IPAdd»ss
();

889  
	gsock‘
->
G‘LoÿlAdd»ss
().
addr
();

892 
	gBasicN‘wÜkMªag”
::
Upd©eN‘wÜksOnû
() {

893 ià(!
¡¬t_couÁ_
)

896 
RTC_DCHECK
(
Th»ad
::
Cu¼’t
(è=ğ
th»ad_
);

898 
N‘wÜkLi¡
 
	gli¡
;

899 ià(!
C»©eN‘wÜks
(
çl£
, &
li¡
)) {

900 
SigÇlE¼Ü
();

902 
boŞ
 
	gchªged
;

903 
	gN‘wÜkMªag”
::
Sts
 
¡©s
;

904 
M”geN‘wÜkLi¡
(
li¡
, &
chªged
, &
¡©s
);

905 
£t_deçuÉ_loÿl_add»s£s
(
Qu”yDeçuÉLoÿlAdd»ss
(
AF_INET
),

906 
Qu”yDeçuÉLoÿlAdd»ss
(
AF_INET6
));

907 ià(
	gchªged
 || !
	g£Á_fœ¡_upd©e_
) {

908 
SigÇlN‘wÜksChªged
();

909 
	g£Á_fœ¡_upd©e_
 = 
Œue
;

914 
	gBasicN‘wÜkMªag”
::
Upd©eN‘wÜksCÚtšu®ly
() {

915 
Upd©eN‘wÜksOnû
();

916 
	gth»ad_
->
Po¡D–ayed
(
RTC_FROM_HERE
, 
kN‘wÜksUpd©eIÁ”v®Ms
, 
this
,

917 
kUpd©eN‘wÜksMes§ge
);

920 
	gBasicN‘wÜkMªag”
::
DumpN‘wÜks
() {

921 
N‘wÜkLi¡
 
li¡
;

922 
G‘N‘wÜks
(&
li¡
);

923 
RTC_LOG
(
LS_INFO
è<< "N‘wÜkMªag” d‘eùed " << 
	gli¡
.
size
() << "‚etworks:";

924 cÚ¡ 
N‘wÜk
* 
	gÃtwÜk
 : 
li¡
) {

925 
RTC_LOG
(
LS_INFO
è<< 
ÃtwÜk
->
ToSŒšg
(è<< ": " <<‚‘wÜk->
desütiÚ
()

926 << ",‡ùiv? " << 
ÃtwÜk
->
aùive
()

927 << ((
ÃtwÜk
->
ignÜed
()) ? ", Ignored" : "");

931 
	gN‘wÜk
::
N‘wÜk
(cÚ¡ 
¡d
::
¡ršg
& 
Çme
,

932 cÚ¡ 
¡d
::
¡ršg
& 
desc
,

933 cÚ¡ 
IPAdd»ss
& 
´efix
,

934 
´efix_Ëngth
)

935 : 
Çme_
(
Çme
),

936 
desütiÚ_
(
desc
),

937 
´efix_
(
´efix
),

938 
´efix_Ëngth_
(
´efix_Ëngth
),

939 
key_
(
MakeN‘wÜkKey
(
Çme
, 
´efix
, 
´efix_Ëngth
)),

940 
scİe_id_
(0),

941 
ignÜed_
(
çl£
),

942 
ty³_
(
ADAPTER_TYPE_UNKNOWN
),

943 
´eã»nû_
(0),

944 
u£_difã»ÁŸ‹d_ûÎuÏr_co¡s_
(
web¹c
::
f›ld_ŒŸl
::
IsEÇbËd
(

947 
N‘wÜk
::N‘wÜk(cÚ¡ 
¡d
::
¡ršg
& 
Çme
,

948 cÚ¡ 
¡d
::
¡ršg
& 
desc
,

949 cÚ¡ 
IPAdd»ss
& 
´efix
,

950 
´efix_Ëngth
,

951 
Ad­‹rTy³
 
ty³
)

952 : 
Çme_
(
Çme
),

953 
desütiÚ_
(
desc
),

954 
´efix_
(
´efix
),

955 
´efix_Ëngth_
(
´efix_Ëngth
),

956 
key_
(
MakeN‘wÜkKey
(
Çme
, 
´efix
, 
´efix_Ëngth
)),

957 
scİe_id_
(0),

958 
ignÜed_
(
çl£
),

959 
ty³_
(
ty³
),

960 
´eã»nû_
(0),

961 
u£_difã»ÁŸ‹d_ûÎuÏr_co¡s_
(
web¹c
::
f›ld_ŒŸl
::
IsEÇbËd
(

964 
N‘wÜk
::Network(const Network&) = ;

966 
	gN‘wÜk
::~
N‘wÜk
() = ;

970 
boŞ
 
	gN‘wÜk
::
S‘IPs
(cÚ¡ 
¡d
::
veùÜ
<
IÁ”çûAdd»ss
>& 
s
, boŞ 
chªged
) {

973 
	gchªged
 = 
chªged
 || 
s
.
size
(è!ğ
s_
.size();

974 ià(!
	gchªged
) {

975 cÚ¡ 
	gIÁ”çûAdd»ss
& 
	g
 : 
s
) {

976 ià(!
ab¦
::
c_lš—r_£¬ch
(
s_
, 

)) {

977 
	gchªged
 = 
Œue
;

983 
	gs_
 = 
s
;

984  
	gchªged
;

988 
IPAdd»ss
 
	gN‘wÜk
::
G‘Be¡IP
() const {

989 ià(
s_
.
size
() == 0) {

990  
IPAdd»ss
();

993 ià(
	g´efix_
.
çmy
(è=ğ
AF_INET
) {

994  
¡©ic_ÿ¡
<
IPAdd»ss
>(
s_
.
©
(0));

997 
IÁ”çûAdd»ss
 
	g£Ëùed_
, 
	guÏ_
;

999 cÚ¡ 
	gIÁ”çûAdd»ss
& 
	g
 : 
s_
) {

1001 ià(

.
v6_æags
(è& 
IPV6_ADDRESS_FLAG_DEPRECATED
)

1006 ià(
IPIsULA
(
¡©ic_ÿ¡
<cÚ¡ 
IPAdd»ss
&>(

))) {

1007 
	guÏ_
 = 

;

1010 
	g£Ëùed_
 = 

;

1013 ià(
	g
.
v6_æags
(è& 
	gIPV6_ADDRESS_FLAG_TEMPORARY
)

1018 ià(
IPIsUn¥ec
(
£Ëùed_
è&& !IPIsUn¥ec(
uÏ_
)) {

1019 
	g£Ëùed_
 = 
uÏ_
;

1022  
	g¡©ic_ÿ¡
<
	gIPAdd»ss
>(
	g£Ëùed_
);

1025 
	gweb¹c
::
MdnsRe¥Úd”IÁ”çû
* 
N‘wÜk
::
G‘MdnsRe¥Úd”
() const {

1026 ià(
mdns_»¥Úd”_´ovid”_
 =ğ
nuÎ±r
) {

1027  
nuÎ±r
;

1029  
	gmdns_»¥Úd”_´ovid”_
->
G‘MdnsRe¥Úd”
();

1032 
ušt16_t
 
	gN‘wÜk
::
G‘Co¡
() const {

1033 
Ad­‹rTy³
 
ty³
 = 
IsV²
(è? 
und”lyšg_ty³_fÜ_v²_
 : 
ty³_
;

1034  
Compu‹N‘wÜkCo¡ByTy³
(
ty³
, 
u£_difã»ÁŸ‹d_ûÎuÏr_co¡s_
);

1037 
	g¡d
::
¡ršg
 
N‘wÜk
::
ToSŒšg
() const {

1038 
¹c
::
SŒšgBud”
 
ss
;

1041 
	gss
 << "N‘[" << 
	gdesütiÚ_
.
sub¡r
(0, 
desütiÚ_
.
fšd
(' ')) << ":"

1042 << 
	g´efix_
.
ToS’s™iveSŒšg
(è<< "/" << 
	g´efix_Ëngth_
 << ":"

1043 << 
Ad­‹rTy³ToSŒšg
(
ty³_
);

1044 ià(
IsV²
()) {

1045 
	gss
 << "/" << 
Ad­‹rTy³ToSŒšg
(
und”lyšg_ty³_fÜ_v²_
);

1047 
	gss
 << ":id=" << 
	gid_
 << "]";

1048  
	gss
.
R–—£
();

	@network.h

11 #iâdeà
RTC_BASE_NETWORK_H_


12 
	#RTC_BASE_NETWORK_H_


	)

14 
	~<¡dšt.h
>

16 
	~<deque
>

17 
	~<m­
>

18 
	~<memÜy
>

19 
	~<¡ršg
>

20 
	~<veùÜ
>

22 
	~"¹c_ba£/_add»ss.h
"

23 
	~"¹c_ba£/mdns_»¥Úd”_š‹rçû.h
"

24 
	~"¹c_ba£/mes§ge_hªdËr.h
"

25 
	~"¹c_ba£/ÃtwÜk_mÚ™Ü.h
"

26 
	~"¹c_ba£/sy¡em/¹c_expÜt.h
"

27 
	~"¹c_ba£/thœd_·¹y/sig¦Ù/sig¦Ù.h
"

29 #ià
defšed
(
WEBRTC_POSIX
)

30 
	giçddrs
;

33 
Çme¥aû
 
	g¹c
 {

35 cÚ¡ 
kPublicIPv4Ho¡
[];

36 cÚ¡ 
kPublicIPv6Ho¡
[];

38 
şass
 
	gIfAddrsCÚv”‹r
;

39 
şass
 
	gN‘wÜk
;

40 
şass
 
	gN‘wÜkMÚ™ÜIÁ”çû
;

41 
şass
 
	gTh»ad
;

44 cÚ¡ 
	gkDeçuÉN‘wÜkIgnÜeMask
 = 
ADAPTER_TYPE_LOOPBACK
;

49 
	g¡d
::
¡ršg
 
MakeN‘wÜkKey
(cÚ¡ 
¡d
::¡ršg& 
Çme
,

50 cÚ¡ 
IPAdd»ss
& 
´efix
,

51 
´efix_Ëngth
);

56 
RTC_EXPORT
 
Ad­‹rTy³
 
G‘Ad­‹rTy³FromName
(cÚ¡ * 
ÃtwÜk_Çme
);

58 şas 
	cDeçuÉLoÿlAdd»ssProvid”
 {

59 
	gpublic
:

60 
vœtu®
 ~
DeçuÉLoÿlAdd»ssProvid”
() = ;

65 
vœtu®
 
boŞ
 
G‘DeçuÉLoÿlAdd»ss
(
çmy
, 
IPAdd»ss
* 
addr
) const = 0;

68 şas 
	cMdnsRe¥Úd”Provid”
 {

69 
	gpublic
:

70 
vœtu®
 ~
MdnsRe¥Úd”Provid”
() = ;

76 
vœtu®
 
	gweb¹c
::
MdnsRe¥Úd”IÁ”çû
* 
G‘MdnsRe¥Úd”
() const = 0;

88 
şass
 
RTC_EXPORT
 
	gN‘wÜkMªag”
 : 
public
 
DeçuÉLoÿlAdd»ssProvid”
,

89 
public
 
	gMdnsRe¥Úd”Provid”
 {

90 
	gpublic
:

91 
¡d
::
	tveùÜ
<
	tN‘wÜk
*> 
	tN‘wÜkLi¡
;

94 
	eEnum”©iÚP”missiÚ
 {

95 
	gENUMERATION_ALLOWED
,

98 
	gENUMERATION_BLOCKED
,

102 
N‘wÜkMªag”
();

103 ~
N‘wÜkMªag”
(è
	gov”ride
;

106 
	gsig¦Ù
::
sigÇl0
<> 
SigÇlN‘wÜksChªged
;

109 
	gsig¦Ù
::
sigÇl0
<> 
SigÇlE¼Ü
;

113 
vœtu®
 
In™Ÿlize
() {}

119 
vœtu®
 
S¹Upd©šg
() = 0;

120 
vœtu®
 
StİUpd©šg
() = 0;

127 
vœtu®
 
G‘N‘wÜks
(
N‘wÜkLi¡
* 
ÃtwÜks
) const = 0;

130 
vœtu®
 
Enum”©iÚP”missiÚ
 
’um”©iÚ_³rmissiÚ
() const;

141 
vœtu®
 
G‘AnyAdd»ssN‘wÜks
(
N‘wÜkLi¡
* 
ÃtwÜks
) {}

144 
vœtu®
 
DumpN‘wÜks
() {}

145 
boŞ
 
G‘DeçuÉLoÿlAdd»ss
(
çmy
, 
IPAdd»ss
* 
addr
ècÚ¡ 
	gov”ride
;

147 
	sSts
 {

148 
	gv4_ÃtwÜk_couÁ
;

149 
	gv6_ÃtwÜk_couÁ
;

150 
Sts
() {

151 
	gv4_ÃtwÜk_couÁ
 = 0;

152 
	gv6_ÃtwÜk_couÁ
 = 0;

157 
	gweb¹c
::
MdnsRe¥Úd”IÁ”çû
* 
G‘MdnsRe¥Úd”
(ècÚ¡ 
ov”ride
;

161 şas 
	cRTC_EXPORT
 
	gN‘wÜkMªag”Ba£
 : 
public
 
N‘wÜkMªag”
 {

162 
public
:

163 
N‘wÜkMªag”Ba£
();

164 ~
N‘wÜkMªag”Ba£
(è
	gov”ride
;

166 
G‘N‘wÜks
(
N‘wÜkLi¡
* 
ÃtwÜks
ècÚ¡ 
	gov”ride
;

167 
G‘AnyAdd»ssN‘wÜks
(
N‘wÜkLi¡
* 
ÃtwÜks
è
	gov”ride
;

169 
Enum”©iÚP”missiÚ
 
’um”©iÚ_³rmissiÚ
(ècÚ¡ 
	gov”ride
;

171 
boŞ
 
G‘DeçuÉLoÿlAdd»ss
(
çmy
, 
IPAdd»ss
* 
addr
ècÚ¡ 
	gov”ride
;

173 
	g´Ùeùed
:

174 
¡d
::
	tm­
<
	t¡d
::
	t¡ršg
, 
	tN‘wÜk
*> 
	tN‘wÜkM­
;

180 
M”geN‘wÜkLi¡
(cÚ¡ 
N‘wÜkLi¡
& 
li¡
, 
boŞ
* 
chªged
);

183 
M”geN‘wÜkLi¡
(cÚ¡ 
N‘wÜkLi¡
& 
li¡
,

184 
boŞ
* 
chªged
,

185 
N‘wÜkMªag”
::
Sts
* 
¡©s
);

187 
£t_’um”©iÚ_³rmissiÚ
(
Enum”©iÚP”missiÚ
 
¡©e
) {

188 
	g’um”©iÚ_³rmissiÚ_
 = 
¡©e
;

191 
£t_deçuÉ_loÿl_add»s£s
(cÚ¡ 
IPAdd»ss
& 
v4
,

192 cÚ¡ 
IPAdd»ss
& 
v6
);

194 
	g´iv©e
:

195 
ä›nd
 
şass
 
N‘wÜkTe¡
;

197 
N‘wÜk
* 
G‘N‘wÜkFromAdd»ss
(cÚ¡ 
¹c
::
IPAdd»ss
& 

) const;

199 
Enum”©iÚP”missiÚ
 
	g’um”©iÚ_³rmissiÚ_
;

201 
N‘wÜkLi¡
 
	gÃtwÜks_
;

203 
N‘wÜkM­
 
	gÃtwÜks_m­_
;

205 
	g¡d
::
unique_±r
<
¹c
::
N‘wÜk
> 
v4_ªy_add»ss_ÃtwÜk_
;

206 
	g¡d
::
unique_±r
<
¹c
::
N‘wÜk
> 
v6_ªy_add»ss_ÃtwÜk_
;

208 
IPAdd»ss
 
	gdeçuÉ_loÿl_v4_add»ss_
;

209 
IPAdd»ss
 
	gdeçuÉ_loÿl_v6_add»ss_
;

214 
ušt16_t
 
	gÃxt_avaabË_ÃtwÜk_id_
 = 1;

219 
şass
 
RTC_EXPORT
 
	gBasicN‘wÜkMªag”
 : 
public
 
N‘wÜkMªag”Ba£
,

220 
public
 
	gMes§geHªdËr
,

221 
public
 
	gsig¦Ù
::
has_¦Ùs
<> {

222 
public
:

223 
BasicN‘wÜkMªag”
();

224 ~
BasicN‘wÜkMªag”
(è
	gov”ride
;

226 
S¹Upd©šg
(è
	gov”ride
;

227 
StİUpd©šg
(è
	gov”ride
;

229 
DumpN‘wÜks
(è
	gov”ride
;

232 
OnMes§ge
(
Mes§ge
* 
msg
è
	gov”ride
;

233 
boŞ
 
¡¬‹d
(è{  
	g¡¬t_couÁ_
 > 0; }

237 
£t_ÃtwÜk_ignÜe_li¡
(cÚ¡ 
¡d
::
veùÜ
<¡d::
¡ršg
>& 
li¡
) {

238 
ÃtwÜk_ignÜe_li¡_
 = 
li¡
;

241 
	g´Ùeùed
:

242 #ià
defšed
(
WEBRTC_POSIX
)

244 
CÚv”tIfAddrs
(
içddrs
* 
š‹rçûs
,

245 
IfAddrsCÚv”‹r
* 
cÚv”‹r
,

246 
boŞ
 
šşude_ignÜed
,

247 
N‘wÜkLi¡
* 
ÃtwÜks
) const;

251 
boŞ
 
C»©eN‘wÜks
(boŞ 
šşude_ignÜed
, 
N‘wÜkLi¡
* 
ÃtwÜks
) const;

255 
boŞ
 
IsIgnÜedN‘wÜk
(cÚ¡ 
N‘wÜk
& 
ÃtwÜk
) const;

260 
IPAdd»ss
 
Qu”yDeçuÉLoÿlAdd»ss
(
çmy
) const;

262 
	g´iv©e
:

263 
ä›nd
 
şass
 
N‘wÜkTe¡
;

266 
S¹N‘wÜkMÚ™Ü
();

268 
StİN‘wÜkMÚ™Ü
();

270 
OnN‘wÜksChªged
();

273 
Upd©eN‘wÜksCÚtšu®ly
();

275 
Upd©eN‘wÜksOnû
();

277 
Th»ad
* 
	gth»ad_
;

278 
boŞ
 
	g£Á_fœ¡_upd©e_
;

279 
	g¡¬t_couÁ_
;

280 
	g¡d
::
veùÜ
<
¡d
::
¡ršg
> 
ÃtwÜk_ignÜe_li¡_
;

281 
	g¡d
::
unique_±r
<
N‘wÜkMÚ™ÜIÁ”çû
> 
ÃtwÜk_mÚ™Ü_
;

285 şas 
	cRTC_EXPORT
 
	gN‘wÜk
 {

286 
	gpublic
:

287 
N‘wÜk
(cÚ¡ 
¡d
::
¡ršg
& 
Çme
,

288 cÚ¡ 
¡d
::
¡ršg
& 
desütiÚ
,

289 cÚ¡ 
IPAdd»ss
& 
´efix
,

290 
´efix_Ëngth
);

292 
N‘wÜk
(cÚ¡ 
¡d
::
¡ršg
& 
Çme
,

293 cÚ¡ 
¡d
::
¡ršg
& 
desütiÚ
,

294 cÚ¡ 
IPAdd»ss
& 
´efix
,

295 
´efix_Ëngth
,

296 
Ad­‹rTy³
 
ty³
);

297 
N‘wÜk
(const Network&);

298 ~
N‘wÜk
();

300 
	gsig¦Ù
::
sigÇl1
<cÚ¡ 
N‘wÜk
*> 
SigÇlTy³Chªged
;

302 cÚ¡ 
DeçuÉLoÿlAdd»ssProvid”
* 
deçuÉ_loÿl_add»ss_´ovid”
() {

303  
	gdeçuÉ_loÿl_add»ss_´ovid”_
;

305 
£t_deçuÉ_loÿl_add»ss_´ovid”
(

306 cÚ¡ 
DeçuÉLoÿlAdd»ssProvid”
* 
´ovid”
) {

307 
	gdeçuÉ_loÿl_add»ss_´ovid”_
 = 
´ovid”
;

310 
£t_mdns_»¥Úd”_´ovid”
(cÚ¡ 
MdnsRe¥Úd”Provid”
* 
´ovid”
) {

311 
	gmdns_»¥Úd”_´ovid”_
 = 
´ovid”
;

315 cÚ¡ 
	g¡d
::
¡ršg
& 
Çme
(ècÚ¡ {  
Çme_
; }

319 cÚ¡ 
	g¡d
::
¡ršg
& 
desütiÚ
(ècÚ¡ {  
desütiÚ_
; }

322 cÚ¡ 
	gIPAdd»ss
& 
´efix
(ècÚ¡ {  
	g´efix_
; }

324 
´efix_Ëngth
(ècÚ¡ {  
	g´efix_Ëngth_
; }

328 
	g¡d
::
¡ršg
 
key
(ècÚ¡ {  
key_
; }

348 
IPAdd»ss
 
G‘Be¡IP
() const;

352 
IPAdd»ss
 

(ècÚ¡ {  
G‘Be¡IP
(); }

355 
AddIP
(cÚ¡ 
IÁ”çûAdd»ss
& 

è{ 
	gs_
.
push_back
(ip); }

356 
AddIP
(cÚ¡ 
IPAdd»ss
& 

è{ 
	gs_
.
push_back
(
¹c
::
IÁ”çûAdd»ss
(ip)); }

360 
boŞ
 
S‘IPs
(cÚ¡ 
¡d
::
veùÜ
<
IÁ”çûAdd»ss
>& 
s
, boŞ 
®»ady_chªged
);

362 cÚ¡ 
	g¡d
::
veùÜ
<
IÁ”çûAdd»ss
>& 
G‘IPs
(ècÚ¡ {  
s_
; }

364 
CË¬IPs
(è{ 
	gs_
.
ş—r
(); }

369 
	gweb¹c
::
MdnsRe¥Úd”IÁ”çû
* 
G‘MdnsRe¥Úd”
() const;

373 
scİe_id
(ècÚ¡ {  
	gscİe_id_
; }

374 
£t_scİe_id
(
id
è{ 
	gscİe_id_
 = id; }

378 
boŞ
 
ignÜed
(ècÚ¡ {  
	gignÜed_
; }

379 
£t_ignÜed
(
boŞ
 
ignÜed
è{ 
	gignÜed_
 = ignored; }

381 
Ad­‹rTy³
 
ty³
(ècÚ¡ {  
	gty³_
; }

388 
Ad­‹rTy³
 
und”lyšg_ty³_fÜ_v²
() const {

389  
	gund”lyšg_ty³_fÜ_v²_
;

391 
£t_ty³
(
Ad­‹rTy³
 
ty³
) {

392 ià(
	gty³_
 =ğ
ty³
) {

395 
	gty³_
 = 
ty³
;

396 ià(
	gty³
 !ğ
ADAPTER_TYPE_VPN
) {

397 
und”lyšg_ty³_fÜ_v²_
 = 
ADAPTER_TYPE_UNKNOWN
;

399 
SigÇlTy³Chªged
(
this
);

402 
£t_und”lyšg_ty³_fÜ_v²
(
Ad­‹rTy³
 
ty³
) {

403 ià(
	gund”lyšg_ty³_fÜ_v²_
 =ğ
ty³
) {

406 
	gund”lyšg_ty³_fÜ_v²_
 = 
ty³
;

407 
SigÇlTy³Chªged
(
this
);

410 
boŞ
 
IsV²
(ècÚ¡ {  
	gty³_
 =ğ
ADAPTER_TYPE_VPN
; }

412 
boŞ
 
IsC–luÏr
(ècÚ¡ {  IsC–luÏr(
ty³_
); }

414 
boŞ
 
IsC–luÏr
(
Ad­‹rTy³
 
ty³
) {

415 
	gty³
) {

416 
	gADAPTER_TYPE_CELLULAR
:

417 
ADAPTER_TYPE_CELLULAR_2G
:

418 
ADAPTER_TYPE_CELLULAR_3G
:

419 
ADAPTER_TYPE_CELLULAR_4G
:

420 
ADAPTER_TYPE_CELLULAR_5G
:

421  
Œue
;

423  
çl£
;

427 
ušt16_t
 
G‘Co¡
() const;

430 
ušt16_t
 
id
(ècÚ¡ {  
	gid_
; }

431 
£t_id
(
ušt16_t
 
id
è{ 
	gid_
 = id; }

433 
´eã»nû
(ècÚ¡ {  
	g´eã»nû_
; }

434 
£t_´eã»nû
(
´eã»nû
è{ 
	g´eã»nû_
 =…reference; }

439 
boŞ
 
aùive
(ècÚ¡ {  
	gaùive_
; }

440 
£t_aùive
(
boŞ
 
aùive
) {

441 ià(
	gaùive_
 !ğ
aùive
) {

442 
aùive_
 = 
aùive
;

447 
	g¡d
::
¡ršg
 
ToSŒšg
() const;

449 
	g´iv©e
:

450 cÚ¡ 
DeçuÉLoÿlAdd»ssProvid”
* 
deçuÉ_loÿl_add»ss_´ovid”_
 = 
nuÎ±r
;

451 cÚ¡ 
MdnsRe¥Úd”Provid”
* 
	gmdns_»¥Úd”_´ovid”_
 = 
nuÎ±r
;

452 
	g¡d
::
¡ršg
 
Çme_
;

453 
	g¡d
::
¡ršg
 
desütiÚ_
;

454 
IPAdd»ss
 
	g´efix_
;

455 
	g´efix_Ëngth_
;

456 
	g¡d
::
¡ršg
 
key_
;

457 
	g¡d
::
veùÜ
<
IÁ”çûAdd»ss
> 
s_
;

458 
	gscİe_id_
;

459 
boŞ
 
	gignÜed_
;

460 
Ad­‹rTy³
 
	gty³_
;

461 
Ad­‹rTy³
 
	gund”lyšg_ty³_fÜ_v²_
 = 
ADAPTER_TYPE_UNKNOWN
;

462 
	g´eã»nû_
;

463 
boŞ
 
	gaùive_
 = 
Œue
;

464 
ušt16_t
 
	gid_
 = 0;

465 
boŞ
 
	gu£_difã»ÁŸ‹d_ûÎuÏr_co¡s_
 = 
çl£
;

467 
ä›nd
 
şass
 
	gN‘wÜkMªag”
;

	@network/sent_packet.cc

11 
	~"¹c_ba£/ÃtwÜk/£Á_·ck‘.h
"

13 
Çme¥aû
 
	g¹c
 {

15 
	gPack‘Info
::
Pack‘Info
() = ;

16 
	gPack‘Info
::
Pack‘Info
(cÚ¡ Pack‘Info& 
šfo
) = ;

17 
	gPack‘Info
::~
Pack‘Info
() = ;

19 
	gS’tPack‘
::
S’tPack‘
() = ;

20 
	gS’tPack‘
::
S’tPack‘
(
št64_t
 
·ck‘_id
, iÁ64_ˆ
£nd_time_ms
)

21 : 
·ck‘_id
Õack‘_id), 
£nd_time_ms
(send_time_ms) {}

22 
	gS’tPack‘
::
S’tPack‘
(
št64_t
 
·ck‘_id
,

23 
št64_t
 
£nd_time_ms
,

24 cÚ¡ 
¹c
::
Pack‘Info
& 
šfo
)

25 : 
·ck‘_id
Õack‘_id), 
£nd_time_ms
(£nd_time_ms), 
šfo
(info) {}

	@network/sent_packet.h

11 #iâdeà
RTC_BASE_NETWORK_SENT_PACKET_H_


12 
	#RTC_BASE_NETWORK_SENT_PACKET_H_


	)

14 
	~<¡ddef.h
>

15 
	~<¡dšt.h
>

17 
	~"ab¦/ty³s/İtiÚ®.h
"

18 
	~"¹c_ba£/sy¡em/¹c_expÜt.h
"

20 
Çme¥aû
 
	g¹c
 {

22 şas 
	cPack‘Ty³
 {

23 
	gkUnknown
,

24 
	gkD©a
,

25 
	gkIûCÚÃùiv™yCheck
,

26 
	gkIûCÚÃùiv™yCheckRe¥Ú£
,

27 
	gkStunMes§ge
,

28 
	gkTuºMes§ge
,

31 şas 
	cPack‘InfoPrÙocŞTy³
 {

32 
	gkUnknown
,

33 
	gkUdp
,

34 
	gkTı
,

35 
	gkS¦tı
,

36 
	gkTls
,

39 
RTC_EXPORT
 
	gPack‘Info
 {

40 
Pack‘Info
();

41 
Pack‘Info
(cÚ¡ Pack‘Info& 
šfo
);

42 ~
Pack‘Info
();

44 
boŞ
 
	gšşuded_š_ãedback
 = 
çl£
;

45 
boŞ
 
	gšşuded_š_®loÿtiÚ
 = 
çl£
;

46 
Pack‘Ty³
 
	g·ck‘_ty³
 = Pack‘Ty³::
kUnknown
;

47 
Pack‘InfoPrÙocŞTy³
 
	g´ÙocŞ
 = Pack‘InfoPrÙocŞTy³::
kUnknown
;

49 
	gab¦
::
İtiÚ®
<
ušt16_t
> 
ÃtwÜk_id
;

50 
size_t
 
	g·ck‘_size_by‹s
 = 0;

51 
size_t
 
	gtuº_ov”h—d_by‹s
 = 0;

52 
size_t
 
	g_ov”h—d_by‹s
 = 0;

55 
RTC_EXPORT
 
	gS’tPack‘
 {

56 
S’tPack‘
();

57 
S’tPack‘
(
št64_t
 
·ck‘_id
, iÁ64_ˆ
£nd_time_ms
);

58 
S’tPack‘
(
št64_t
 
·ck‘_id
,

59 
št64_t
 
£nd_time_ms
,

60 cÚ¡ 
¹c
::
Pack‘Info
& 
šfo
);

62 
št64_t
 
	g·ck‘_id
 = -1;

63 
št64_t
 
	g£nd_time_ms
 = -1;

64 
	g¹c
::
Pack‘Info
 
šfo
;

	@network_constants.cc

11 
	~"¹c_ba£/ÃtwÜk_cÚ¡ªts.h
"

13 
	~"¹c_ba£/checks.h
"

15 
Çme¥aû
 
	g¹c
 {

17 
	g¡d
::
¡ršg
 
Ad­‹rTy³ToSŒšg
(
Ad­‹rTy³
 
ty³
) {

18 
ty³
) {

19 
ADAPTER_TYPE_ANY
:

21 
	gADAPTER_TYPE_UNKNOWN
:

23 
	gADAPTER_TYPE_ETHERNET
:

25 
	gADAPTER_TYPE_WIFI
:

27 
	gADAPTER_TYPE_CELLULAR
:

29 
	gADAPTER_TYPE_CELLULAR_2G
:

31 
	gADAPTER_TYPE_CELLULAR_3G
:

33 
	gADAPTER_TYPE_CELLULAR_4G
:

35 
	gADAPTER_TYPE_CELLULAR_5G
:

37 
	gADAPTER_TYPE_VPN
:

39 
	gADAPTER_TYPE_LOOPBACK
:

42 
RTC_NOTREACHED
(è<< "Inv®idy³ " << 
ty³
;

43  
	g¡d
::
¡ršg
();

	@network_constants.h

11 #iâdeà
RTC_BASE_NETWORK_CONSTANTS_H_


12 
	#RTC_BASE_NETWORK_CONSTANTS_H_


	)

14 
	~<¡dšt.h
>

16 
	~<¡ršg
>

18 
Çme¥aû
 
	g¹c
 {

20 
cÚ¡ex´
 
ušt16_t
 
	gkN‘wÜkCo¡Max
 = 999;

21 
cÚ¡ex´
 
ušt16_t
 
	gkN‘wÜkCo¡C–luÏr2G
 = 980;

22 
cÚ¡ex´
 
ušt16_t
 
	gkN‘wÜkCo¡C–luÏr3G
 = 910;

23 
cÚ¡ex´
 
ušt16_t
 
	gkN‘wÜkCo¡C–luÏr
 = 900;

24 
cÚ¡ex´
 
ušt16_t
 
	gkN‘wÜkCo¡C–luÏr4G
 = 500;

25 
cÚ¡ex´
 
ušt16_t
 
	gkN‘wÜkCo¡C–luÏr5G
 = 250;

26 
cÚ¡ex´
 
ušt16_t
 
	gkN‘wÜkCo¡Unknown
 = 50;

27 
cÚ¡ex´
 
ušt16_t
 
	gkN‘wÜkCo¡Low
 = 10;

28 
cÚ¡ex´
 
ušt16_t
 
	gkN‘wÜkCo¡Mš
 = 0;

31 
cÚ¡ex´
 
ušt16_t
 
	gkN‘wÜkCo¡High
 = 
kN‘wÜkCo¡C–luÏr
;

33 
	eAd­‹rTy³
 {

35 
	gADAPTER_TYPE_UNKNOWN
 = 0,

36 
	gADAPTER_TYPE_ETHERNET
 = 1 << 0,

37 
	gADAPTER_TYPE_WIFI
 = 1 << 1,

38 
	gADAPTER_TYPE_CELLULAR
 = 1 << 2,

39 
	gADAPTER_TYPE_VPN
 = 1 << 3,

40 
	gADAPTER_TYPE_LOOPBACK
 = 1 << 4,

46 
	gADAPTER_TYPE_ANY
 = 1 << 5,

47 
	gADAPTER_TYPE_CELLULAR_2G
 = 1 << 6,

48 
	gADAPTER_TYPE_CELLULAR_3G
 = 1 << 7,

49 
	gADAPTER_TYPE_CELLULAR_4G
 = 1 << 8,

50 
	gADAPTER_TYPE_CELLULAR_5G
 = 1 << 9

53 
	g¡d
::
¡ršg
 
Ad­‹rTy³ToSŒšg
(
Ad­‹rTy³
 
ty³
);

	@network_monitor.cc

11 
	~"¹c_ba£/ÃtwÜk_mÚ™Ü.h
"

13 
	~<¡dšt.h
>

15 
	~"¹c_ba£/checks.h
"

16 
	~"¹c_ba£/loÿtiÚ.h
"

17 
	~"¹c_ba£/loggšg.h
"

19 
	gÇme¥aû
 {

20 cÚ¡ 
ušt32_t
 
	gUPDATE_NETWORKS_MESSAGE
 = 1;

25 
	g¹c
::
N‘wÜkMÚ™ÜFaùÜy
* 
ÃtwÜk_mÚ™Ü_çùÜy
 = 
nuÎ±r
;

28 
Çme¥aû
 
	g¹c
 {

29 
	gN‘wÜkMÚ™ÜIÁ”çû
::
N‘wÜkMÚ™ÜIÁ”çû
() {}

31 
N‘wÜkMÚ™ÜIÁ”çû
::~NetworkMonitorInterface() {}

33 
N‘wÜkMÚ™ÜBa£
::N‘wÜkMÚ™ÜBa£(è: 
wÜk”_th»ad_
(
Th»ad
::
Cu¼’t
()) {}

34 
N‘wÜkMÚ™ÜBa£
::~NetworkMonitorBase() {}

36 
N‘wÜkMÚ™ÜBa£
::
OnN‘wÜksChªged
() {

37 
RTC_LOG
(
LS_VERBOSE
) << "Network change is„eceived‡the‚etwork monitor";

38 
	gwÜk”_th»ad_
->
Po¡
(
RTC_FROM_HERE
, 
this
, 
UPDATE_NETWORKS_MESSAGE
);

41 
	gN‘wÜkMÚ™ÜBa£
::
OnMes§ge
(
Mes§ge
* 
msg
) {

42 
RTC_DCHECK
(
msg
->
mes§ge_id
 =ğ
UPDATE_NETWORKS_MESSAGE
);

43 
SigÇlN‘wÜksChªged
();

46 
Ad­‹rTy³
 
	gN‘wÜkMÚ™ÜBa£
::
G‘V²Und”lyšgAd­‹rTy³
(

47 cÚ¡ 
¡d
::
¡ršg
& 
š‹rçû_Çme
) {

48  
ADAPTER_TYPE_UNKNOWN
;

51 
	gN‘wÜkMÚ™ÜFaùÜy
::
N‘wÜkMÚ™ÜFaùÜy
() {}

52 
N‘wÜkMÚ™ÜFaùÜy
::~NetworkMonitorFactory() {}

54 
N‘wÜkMÚ™ÜFaùÜy
::
S‘FaùÜy
(N‘wÜkMÚ™ÜFaùÜy* 
çùÜy
) {

55 ià(
ÃtwÜk_mÚ™Ü_çùÜy
 !ğ
nuÎ±r
) {

56 
d–‘e
 
ÃtwÜk_mÚ™Ü_çùÜy
;

58 
	gÃtwÜk_mÚ™Ü_çùÜy
 = 
çùÜy
;

61 
	gN‘wÜkMÚ™ÜFaùÜy
::
R–—£FaùÜy
(
N‘wÜkMÚ™ÜFaùÜy
* 
çùÜy
) {

62 ià(
çùÜy
 =ğ
ÃtwÜk_mÚ™Ü_çùÜy
) {

63 
S‘FaùÜy
(
nuÎ±r
);

67 
N‘wÜkMÚ™ÜFaùÜy
* 
	gN‘wÜkMÚ™ÜFaùÜy
::
G‘FaùÜy
() {

68  
ÃtwÜk_mÚ™Ü_çùÜy
;

	@network_monitor.h

11 #iâdeà
RTC_BASE_NETWORK_MONITOR_H_


12 
	#RTC_BASE_NETWORK_MONITOR_H_


	)

14 
	~"¹c_ba£/ÃtwÜk_cÚ¡ªts.h
"

15 
	~"¹c_ba£/thœd_·¹y/sig¦Ù/sig¦Ù.h
"

16 
	~"¹c_ba£/th»ad.h
"

18 
Çme¥aû
 
	g¹c
 {

20 
şass
 
	gIPAdd»ss
;

22 şas 
	cN‘wÜkBšdšgResuÉ
 {

23 
	gSUCCESS
 = 0,

24 
	gFAILURE
 = -1,

25 
	gNOT_IMPLEMENTED
 = -2,

26 
	gADDRESS_NOT_FOUND
 = -3,

27 
	gNETWORK_CHANGED
 = -4

30 şas 
	cN‘wÜkBšd”IÁ”çû
 {

31 
	gpublic
:

36 
vœtu®
 
N‘wÜkBšdšgResuÉ
 
BšdSock‘ToN‘wÜk
(

37 
sock‘_fd
,

38 cÚ¡ 
IPAdd»ss
& 
add»ss
) = 0;

39 
	gvœtu®
 ~
N‘wÜkBšd”IÁ”çû
() {}

61 şas 
	cN‘wÜkMÚ™ÜIÁ”çû
 {

62 
	gpublic
:

63 
N‘wÜkMÚ™ÜIÁ”çû
();

64 
	gvœtu®
 ~
N‘wÜkMÚ™ÜIÁ”çû
();

66 
	gsig¦Ù
::
sigÇl0
<> 
SigÇlN‘wÜksChªged
;

68 
vœtu®
 
S¹
() = 0;

69 
vœtu®
 
Stİ
() = 0;

73 
vœtu®
 
OnN‘wÜksChªged
() = 0;

75 
vœtu®
 
Ad­‹rTy³
 
G‘Ad­‹rTy³
(cÚ¡ 
¡d
::
¡ršg
& 
š‹rçû_Çme
) = 0;

76 
vœtu®
 
Ad­‹rTy³
 
G‘V²Und”lyšgAd­‹rTy³
(

77 cÚ¡ 
¡d
::
¡ršg
& 
š‹rçû_Çme
) = 0;

80 
şass
 
	gN‘wÜkMÚ™ÜBa£
 : 
public
 
N‘wÜkMÚ™ÜIÁ”çû
,

81 
public
 
	gMes§geHªdËr
,

82 
public
 
	gsig¦Ù
::
has_¦Ùs
<> {

83 
public
:

84 
N‘wÜkMÚ™ÜBa£
();

85 ~
N‘wÜkMÚ™ÜBa£
(è
	gov”ride
;

87 
OnN‘wÜksChªged
(è
	gov”ride
;

89 
OnMes§ge
(
Mes§ge
* 
msg
è
	gov”ride
;

91 
Ad­‹rTy³
 
G‘V²Und”lyšgAd­‹rTy³
(

92 cÚ¡ 
¡d
::
¡ršg
& 
š‹rçû_Çme
è
ov”ride
;

94 
	g´Ùeùed
:

95 
Th»ad
* 
wÜk”_th»ad
(è{  
wÜk”_th»ad_
; }

97 
	g´iv©e
:

98 
Th»ad
* 
wÜk”_th»ad_
;

104 şas 
	cN‘wÜkMÚ™ÜFaùÜy
 {

105 
	gpublic
:

108 
S‘FaùÜy
(
N‘wÜkMÚ™ÜFaùÜy
* 
çùÜy
);

110 
R–—£FaùÜy
(
N‘wÜkMÚ™ÜFaùÜy
* 
çùÜy
);

111 
N‘wÜkMÚ™ÜFaùÜy
* 
G‘FaùÜy
();

113 
vœtu®
 
N‘wÜkMÚ™ÜIÁ”çû
* 
C»©eN‘wÜkMÚ™Ü
() = 0;

115 
	gvœtu®
 ~
N‘wÜkMÚ™ÜFaùÜy
();

117 
	g´Ùeùed
:

118 
N‘wÜkMÚ™ÜFaùÜy
();

	@network_route.cc

11 
	~"¹c_ba£/ÃtwÜk_rou‹.h
"

13 
Çme¥aû
 
	g¹c
 {

15 
boŞ
 
	gRou‹Endpošt
::
İ”©Ü
==(cÚ¡ 
Rou‹Endpošt
& 
Ùh”
) const {

16  
ad­‹r_ty³_
 =ğ
Ùh”
.adapter_type_ &&

17 
ad­‹r_id_
 =ğ
Ùh”
.ad­‹r_id_ && 
ÃtwÜk_id_
 == other.network_id_ &&

18 
u£s_tuº_
 =ğ
Ùh”
.uses_turn_;

21 
boŞ
 
	gN‘wÜkRou‹
::
İ”©Ü
==(cÚ¡ 
N‘wÜkRou‹
& 
Ùh”
) const {

22  
cÚÃùed
 =ğ
Ùh”
.cÚÃùed && 
loÿl
 == other.local &&

23 
»mÙe
 =ğ
Ùh”
.»mÙ&& 
·ck‘_ov”h—d
 == other.packet_overhead &&

24 
Ï¡_£Á_·ck‘_id
 =ğ
Ùh”
.last_sent_packet_id;

	@network_route.h

11 #iâdeà
RTC_BASE_NETWORK_ROUTE_H_


12 
	#RTC_BASE_NETWORK_ROUTE_H_


	)

14 
	~<¡dšt.h
>

16 
	~<¡ršg
>

18 
	~"¹c_ba£/ÃtwÜk_cÚ¡ªts.h
"

19 
	~"¹c_ba£/¡ršgs/¡ršg_bud”.h
"

20 
	~"¹c_ba£/sy¡em/šlše.h
"

26 
Çme¥aû
 
	g¹c
 {

28 şas 
	cRou‹Endpošt
 {

29 
	gpublic
:

30 
Rou‹Endpošt
() {}

31 
Rou‹Endpošt
(
Ad­‹rTy³
 
ad­‹r_ty³
,

32 
ušt16_t
 
ad­‹r_id
,

33 
ušt16_t
 
ÃtwÜk_id
,

34 
boŞ
 
u£s_tuº
)

35 : 
ad­‹r_ty³_
(
ad­‹r_ty³
),

36 
ad­‹r_id_
(
ad­‹r_id
),

37 
ÃtwÜk_id_
(
ÃtwÜk_id
),

38 
u£s_tuº_
(
u£s_tuº
) {}

40 
Rou‹Endpošt
(const RouteEndpoint&) = ;

41 
	gRou‹Endpošt
& 
	gİ”©Ü
=(cÚ¡ 
Rou‹Endpošt
&) = ;

44 
Rou‹Endpošt
 
C»©eW™hN‘wÜkId
(
ušt16_t
 
ÃtwÜk_id
) {

45  
Rou‹Endpošt
(
ADAPTER_TYPE_UNKNOWN
,

46  0, 
ÃtwÜk_id
,

47  
çl£
);

49 
Rou‹Endpošt
 
C»©eW™hTuº
(
boŞ
 
u£s_tuº
) const {

50  
Rou‹Endpošt
(
ad­‹r_ty³_
, 
ad­‹r_id_
, 
ÃtwÜk_id_
, 
u£s_tuº
);

53 
Ad­‹rTy³
 
ad­‹r_ty³
(ècÚ¡ {  
	gad­‹r_ty³_
; }

54 
ušt16_t
 
ad­‹r_id
(ècÚ¡ {  
	gad­‹r_id_
; }

55 
ušt16_t
 
ÃtwÜk_id
(ècÚ¡ {  
	gÃtwÜk_id_
; }

56 
boŞ
 
u£s_tuº
(ècÚ¡ {  
	gu£s_tuº_
; }

58 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
Rou‹Endpošt
& 
Ùh”
) const;

60 
	g´iv©e
:

61 
Ad­‹rTy³
 
ad­‹r_ty³_
 = 
ADAPTER_TYPE_UNKNOWN
;

62 
ušt16_t
 
	gad­‹r_id_
 = 0;

63 
ušt16_t
 
	gÃtwÜk_id_
 = 0;

64 
boŞ
 
	gu£s_tuº_
 = 
çl£
;

67 
	sN‘wÜkRou‹
 {

68 
boŞ
 
	gcÚÃùed
 = 
çl£
;

69 
Rou‹Endpošt
 
	gloÿl
;

70 
Rou‹Endpošt
 
	g»mÙe
;

72 
	gÏ¡_£Á_·ck‘_id
 = -1;

75 
	g·ck‘_ov”h—d
 = 0;

77 
RTC_NO_INLINE
 
šlše
 
	g¡d
::
¡ršg
 
DebugSŒšg
() const {

78 
¹c
::
SŒšgBud”
 
oss
;

79 
	goss
 << "[ cÚÃùed: " << 
	gcÚÃùed
 << "†oÿl: [ " << 
	gloÿl
.
ad­‹r_id
()

80 << "/" << 
	gloÿl
.
ÃtwÜk_id
() << " "

81 << 
Ad­‹rTy³ToSŒšg
(
loÿl
.
ad­‹r_ty³
())

82 << "uº: " << 
	gloÿl
.
u£s_tuº
() << " ]„emote: [ "

83 << 
	g»mÙe
.
ad­‹r_id
(è<< "/" <<„emÙe.
ÃtwÜk_id
() << " "

84 << 
Ad­‹rTy³ToSŒšg
(
»mÙe
.
ad­‹r_ty³
())

85 << "uº: " << 
	g»mÙe
.
u£s_tuº
()

86 << " ]…ack‘_ov”h—d_by‹s: " << 
	g·ck‘_ov”h—d
 << " ]";

87  
	goss
.
R–—£
();

90 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
N‘wÜkRou‹
& 
Ùh”
) const;

	@network_route_unittest.cc

11 
	~"¹c_ba£/ÃtwÜk_rou‹.h
"

13 
	~"¹c_ba£/gun™.h
"

14 
	~"‹¡/gmock.h
"

16 
Çme¥aû
 
	g¹c
 {

18 
TEST
(
N‘wÜkRou‹
, 
Equ®s
) {

19 
N‘wÜkRou‹
 
	gr1
;

20 
N‘wÜkRou‹
 
	gr2
 = 
r1
;

21 
EXPECT_TRUE
(
r1
 =ğ
r2
);

	@network_unittest.cc

11 
	~"¹c_ba£/ÃtwÜk.h
"

13 
	~<¡dlib.h
>

15 
	~<memÜy
>

16 
	~<veùÜ
>

18 
	~"ab¦/¡ršgs/m©ch.h
"

19 
	~"¹c_ba£/checks.h
"

20 
	~"¹c_ba£/Ãt_h–³rs.h
"

21 
	~"¹c_ba£/ÃtwÜk_mÚ™Ü.h
"

22 #ià
defšed
(
WEBRTC_POSIX
)

23 
	~<Ãt/if.h
>

24 
	~<sys/ty³s.h
>

26 
	~"¹c_ba£/içddrs_cÚv”‹r.h
"

28 
	~"¹c_ba£/gun™.h
"

29 
	~"‹¡/gmock.h
"

30 #ià
defšed
(
WEBRTC_WIN
)

31 
	~"¹c_ba£/loggšg.h
"

34 
	gusšg
 ::
‹¡šg
::
CÚšs
;

35 
	gusšg
 ::
‹¡šg
::
NÙ
;

36 
	gusšg
 ::
‹¡šg
::
UnÜd”edEËm’tsA»
;

37 
	gusšg
 ::
‹¡šg
::
UnÜd”edEËm’tsA»A¼ay
;

39 
Çme¥aû
 
	g¹c
 {

41 
	gÇme¥aû
 {

43 şas 
	cFakeN‘wÜkMÚ™Ü
 : 
public
 
N‘wÜkMÚ™ÜBa£
 {

44 
public
:

45 
S¹
(è
ov”ride
 { 
¡¬‹d_
 = 
Œue
; }

46 
Stİ
(è
	gov”ride
 { 
	g¡¬‹d_
 = 
çl£
; }

47 
boŞ
 
¡¬‹d
(è{  
	g¡¬‹d_
; }

48 
Ad­‹rTy³
 
G‘Ad­‹rTy³
(cÚ¡ 
¡d
::
¡ršg
& 
if_Çme
è
ov”ride
 {

51 ià(
ab¦
::
S¹sW™h
(
if_Çme
, "wifi")) {

52  
	gADAPTER_TYPE_WIFI
;

54 ià(
	gab¦
::
S¹sW™h
(
if_Çme
, "cellular")) {

55  
	gADAPTER_TYPE_CELLULAR
;

57  
	gADAPTER_TYPE_UNKNOWN
;

60 
	g´iv©e
:

61 
boŞ
 
¡¬‹d_
 = 
çl£
;

64 şas 
	cFakeN‘wÜkMÚ™ÜFaùÜy
 : 
public
 
N‘wÜkMÚ™ÜFaùÜy
 {

65 
public
:

66 
FakeN‘wÜkMÚ™ÜFaùÜy
() {}

67 
N‘wÜkMÚ™ÜIÁ”çû
* 
C»©eN‘wÜkMÚ™Ü
(è
ov”ride
 {

68  
Ãw
 
FakeN‘wÜkMÚ™Ü
();

72 
boŞ
 
SameNameAndP»fix
(cÚ¡ 
¹c
::
N‘wÜk
& 
a
, cÚ¡„tc::N‘wÜk& 
b
) {

73 ià(
a
.
Çme
(è!ğ
b
.name()) {

74 
RTC_LOG
(
INFO
) << "Different interface‚ames.";

75  
	gçl£
;

77 ià(
	ga
.
´efix_Ëngth
(è!ğ
b
.´efix_Ëngth(è|| 
a
.
´efix
() != b.prefix()) {

78 
RTC_LOG
(
INFO
) << "Different IP…refixes.";

79  
	gçl£
;

81  
	gŒue
;

86 
şass
 
	gN‘wÜkTe¡
 : 
public
 ::
‹¡šg
::
Te¡
,…ubliø
	gsig¦Ù
::
has_¦Ùs
<> {

87 
public
:

88 
N‘wÜkTe¡
(è: 
ÿÎback_ÿÎed_
(
çl£
) {}

90 
OnN‘wÜksChªged
(è{ 
ÿÎback_ÿÎed_
 = 
Œue
; }

92 
	gN‘wÜkMªag”
::
Sts
 
M”geN‘wÜkLi¡
(

93 
BasicN‘wÜkMªag”
& 
ÃtwÜk_mªag”
,

94 cÚ¡ 
N‘wÜkMªag”
::
N‘wÜkLi¡
& 
li¡
,

95 
boŞ
* 
chªged
) {

96 
	gN‘wÜkMªag”
::
Sts
 
¡©s
;

97 
	gÃtwÜk_mªag”
.
M”geN‘wÜkLi¡
(
li¡
, 
chªged
, &
¡©s
);

98  
	g¡©s
;

101 
boŞ
 
IsIgnÜedN‘wÜk
(
BasicN‘wÜkMªag”
& 
ÃtwÜk_mªag”
,

102 cÚ¡ 
N‘wÜk
& 
ÃtwÜk
) {

103  
	gÃtwÜk_mªag”
.
IsIgnÜedN‘wÜk
(
ÃtwÜk
);

106 
	gN‘wÜkMªag”
::
N‘wÜkLi¡
 
G‘N‘wÜks
(

107 cÚ¡ 
BasicN‘wÜkMªag”
& 
ÃtwÜk_mªag”
,

108 
boŞ
 
šşude_ignÜed
) {

109 
	gN‘wÜkMªag”
::
N‘wÜkLi¡
 
li¡
;

110 
	gÃtwÜk_mªag”
.
C»©eN‘wÜks
(
šşude_ignÜed
, &
li¡
);

111  
	gli¡
;

114 
FakeN‘wÜkMÚ™Ü
* 
G‘N‘wÜkMÚ™Ü
(
BasicN‘wÜkMªag”
& 
ÃtwÜk_mªag”
) {

115  
	g¡©ic_ÿ¡
<
	gFakeN‘wÜkMÚ™Ü
*>(

116 
	gÃtwÜk_mªag”
.
	gÃtwÜk_mÚ™Ü_
.
g‘
());

118 
CË¬N‘wÜks
(
BasicN‘wÜkMªag”
& 
ÃtwÜk_mªag”
) {

119 cÚ¡‡uto& 
	gkv
 : 
ÃtwÜk_mªag”
.
ÃtwÜks_m­_
) {

120 
d–‘e
 
kv
.
£cÚd
;

122 
	gÃtwÜk_mªag”
.
	gÃtwÜks_
.
ş—r
();

123 
	gÃtwÜk_mªag”
.
	gÃtwÜks_m­_
.
ş—r
();

126 
Ad­‹rTy³
 
G‘Ad­‹rTy³
(
BasicN‘wÜkMªag”
& 
ÃtwÜk_mªag”
) {

127 
	gBasicN‘wÜkMªag”
::
N‘wÜkLi¡
 
li¡
;

128 
	gÃtwÜk_mªag”
.
G‘N‘wÜks
(&
li¡
);

129 
RTC_CHECK_EQ
(1, 
li¡
.
size
());

130  
	gli¡
[0]->
ty³
();

133 #ià
defšed
(
WEBRTC_POSIX
)

135 
C®lCÚv”tIfAddrs
(cÚ¡ 
BasicN‘wÜkMªag”
& 
ÃtwÜk_mªag”
,

136 
içddrs
* 
š‹rçûs
,

137 
boŞ
 
šşude_ignÜed
,

138 
N‘wÜkMªag”
::
N‘wÜkLi¡
* 
ÃtwÜks
) {

140 
¡d
::
unique_±r
<
IfAddrsCÚv”‹r
> 
içddrs_cÚv”‹r
(
Ãw
 IfAddrsConverter());

141 
	gÃtwÜk_mªag”
.
CÚv”tIfAddrs
(
š‹rçûs
, 
içddrs_cÚv”‹r
.
g‘
(),

142 
šşude_ignÜed
, 
ÃtwÜks
);

145 
sockaddr_š6
* 
C»©eIpv6Addr
(cÚ¡ 
¡d
::
¡ršg
& 
_¡ršg
,

146 
ušt32_t
 
scİe_id
) {

147 
sockaddr_š6
* 
	gv6_addr
 =

148 
¡©ic_ÿ¡
<
sockaddr_š6
*>(
m®loc
((sockaddr_in6)));

149 
mem£t
(
v6_addr
, 0, (
sockaddr_š6
));

150 
	gv6_addr
->
	gsš6_çmy
 = 
AF_INET6
;

151 
	gv6_addr
->
	gsš6_scİe_id
 = 
scİe_id
;

152 
IPAdd»ss
 
	g
;

153 
IPFromSŒšg
(
_¡ršg
, &

);

154 
	gv6_addr
->
	gsš6_addr
 = 

.
v6_add»ss
();

155  
	gv6_addr
;

159 
içddrs
* 
AddIpv6Add»ss
(içddrs* 
li¡
,

160 * 
if_Çme
,

161 cÚ¡ 
¡d
::
¡ršg
& 
v6_add»ss
,

162 cÚ¡ 
¡d
::
¡ršg
& 
v6_Ãtmask
,

163 
ušt32_t
 
scİe_id
) {

164 
içddrs
* 
	gif_addr
 = 
Ãw
 ifaddrs;

165 
mem£t
(
if_addr
, 0, (
içddrs
));

166 
	gif_addr
->
	giç_Çme
 = 
if_Çme
;

167 
	gif_addr
->
	giç_addr
 = 
»š‹½»t_ÿ¡
<
sockaddr
*>(

168 
C»©eIpv6Addr
(
v6_add»ss
, 
scİe_id
));

169 
	gif_addr
->
	giç_Ãtmask
 =

170 
»š‹½»t_ÿ¡
<
sockaddr
*>(
C»©eIpv6Addr
(
v6_Ãtmask
, 0));

171 
	gif_addr
->
	giç_Ãxt
 = 
li¡
;

172 
	gif_addr
->
	giç_æags
 = 
IFF_RUNNING
;

173  
	gif_addr
;

176 
içddrs
* 
In¡®lIpv6N‘wÜk
(* 
if_Çme
,

177 cÚ¡ 
¡d
::
¡ršg
& 
v6_add»ss
,

178 cÚ¡ 
¡d
::
¡ršg
& 
v6_mask
,

179 
BasicN‘wÜkMªag”
& 
ÃtwÜk_mªag”
) {

180 
içddrs
* 
	gaddr_li¡
 = 
nuÎ±r
;

181 
	gaddr_li¡
 = 
AddIpv6Add»ss
(
addr_li¡
, 
if_Çme
, 
v6_add»ss
, 
v6_mask
, 0);

182 
	gN‘wÜkMªag”
::
N‘wÜkLi¡
 
»suÉ
;

183 
boŞ
 
	gchªged
;

184 
	gN‘wÜkMªag”
::
Sts
 
¡©s
;

185 
C®lCÚv”tIfAddrs
(
ÃtwÜk_mªag”
, 
addr_li¡
, 
Œue
, &
»suÉ
);

186 
	gÃtwÜk_mªag”
.
M”geN‘wÜkLi¡
(
»suÉ
, &
chªged
, &
¡©s
);

187  
	gaddr_li¡
;

190 
sockaddr_š
* 
C»©eIpv4Addr
(cÚ¡ 
¡d
::
¡ršg
& 
_¡ršg
) {

191 
sockaddr_š
* 
v4_addr
 =

192 
¡©ic_ÿ¡
<
sockaddr_š
*>(
m®loc
((sockaddr_in)));

193 
mem£t
(
v4_addr
, 0, (
sockaddr_š
));

194 
	gv4_addr
->
	gsš_çmy
 = 
AF_INET
;

195 
IPAdd»ss
 
	g
;

196 
IPFromSŒšg
(
_¡ršg
, &

);

197 
	gv4_addr
->
	gsš_addr
 = 

.
v4_add»ss
();

198  
	gv4_addr
;

202 
içddrs
* 
AddIpv4Add»ss
(içddrs* 
li¡
,

203 * 
if_Çme
,

204 cÚ¡ 
¡d
::
¡ršg
& 
v4_add»ss
,

205 cÚ¡ 
¡d
::
¡ršg
& 
v4_Ãtmask
) {

206 
içddrs
* 
if_addr
 = 
Ãw
 ifaddrs;

207 
mem£t
(
if_addr
, 0, (
içddrs
));

208 
	gif_addr
->
	giç_Çme
 = 
if_Çme
;

209 
	gif_addr
->
	giç_addr
 =

210 
»š‹½»t_ÿ¡
<
sockaddr
*>(
C»©eIpv4Addr
(
v4_add»ss
));

211 
	gif_addr
->
	giç_Ãtmask
 =

212 
»š‹½»t_ÿ¡
<
sockaddr
*>(
C»©eIpv4Addr
(
v4_Ãtmask
));

213 
	gif_addr
->
	giç_Ãxt
 = 
li¡
;

214 
	gif_addr
->
	giç_æags
 = 
IFF_RUNNING
;

215  
	gif_addr
;

218 
içddrs
* 
In¡®lIpv4N‘wÜk
(* 
if_Çme
,

219 cÚ¡ 
¡d
::
¡ršg
& 
v4_add»ss
,

220 cÚ¡ 
¡d
::
¡ršg
& 
v4_mask
,

221 
BasicN‘wÜkMªag”
& 
ÃtwÜk_mªag”
) {

222 
içddrs
* 
	gaddr_li¡
 = 
nuÎ±r
;

223 
	gaddr_li¡
 = 
AddIpv4Add»ss
(
addr_li¡
, 
if_Çme
, 
v4_add»ss
, 
v4_mask
);

224 
	gN‘wÜkMªag”
::
N‘wÜkLi¡
 
»suÉ
;

225 
boŞ
 
	gchªged
;

226 
	gN‘wÜkMªag”
::
Sts
 
¡©s
;

227 
C®lCÚv”tIfAddrs
(
ÃtwÜk_mªag”
, 
addr_li¡
, 
Œue
, &
»suÉ
);

228 
	gÃtwÜk_mªag”
.
M”geN‘wÜkLi¡
(
»suÉ
, &
chªged
, &
¡©s
);

229  
	gaddr_li¡
;

232 
R–—£IfAddrs
(
içddrs
* 
li¡
) {

233 
içddrs
* 
	gif_addr
 = 
li¡
;

234 
	gif_addr
 !ğ
nuÎ±r
) {

235 
içddrs
* 
Ãxt_addr
 = 
if_addr
->
iç_Ãxt
;

236 
ä“
(
if_addr
->
iç_addr
);

237 
ä“
(
if_addr
->
iç_Ãtmask
);

238 
d–‘e
 
	gif_addr
;

239 
	gif_addr
 = 
Ãxt_addr
;

244 
	g´Ùeùed
:

245 
boŞ
 
ÿÎback_ÿÎed_
;

248 şas 
	cTe¡BasicN‘wÜkMªag”
 : 
public
 
BasicN‘wÜkMªag”
 {

249 
public
:

250 
usšg
 
BasicN‘wÜkMªag”
::
Qu”yDeçuÉLoÿlAdd»ss
;

251 
usšg
 
	gBasicN‘wÜkMªag”
::
£t_deçuÉ_loÿl_add»s£s
;

255 
	$TEST_F
(
N‘wÜkTe¡
, 
Te¡N‘wÜkCÚ¡ruù
) {

256 
N‘wÜk
 
	`v4_ÃtwÜk1
("test_eth0", "Test Network Adapter 1",

257 
	`IPAdd»ss
(0x12345600U), 24);

258 
	`EXPECT_EQ
("‹¡_‘h0", 
v4_ÃtwÜk1
.
	`Çme
());

259 
	`EXPECT_EQ
("Te¡ N‘wÜk Ad­‹¸1", 
v4_ÃtwÜk1
.
	`desütiÚ
());

260 
	`EXPECT_EQ
(
	`IPAdd»ss
(0x12345600U), 
v4_ÃtwÜk1
.
	`´efix
());

261 
	`EXPECT_EQ
(24, 
v4_ÃtwÜk1
.
	`´efix_Ëngth
());

262 
	`EXPECT_FALSE
(
v4_ÃtwÜk1
.
	`ignÜed
());

263 
	}
}

265 
	$TEST_F
(
N‘wÜkTe¡
, 
Te¡IsIgnÜedN‘wÜkIgnÜesIPsS¹šgW™h0
) {

266 
N‘wÜk
 
	`v4_ÃtwÜk1
("test_eth0", "Test Network Adapter 1",

267 
	`IPAdd»ss
(0x12345600U), 24, 
ADAPTER_TYPE_ETHERNET
);

268 
N‘wÜk
 
	`v4_ÃtwÜk2
("test_eth1", "Test Network Adapter 2",

269 
	`IPAdd»ss
(0x010000U), 24, 
ADAPTER_TYPE_ETHERNET
);

270 
BasicN‘wÜkMªag”
 
ÃtwÜk_mªag”
;

271 
	`EXPECT_FALSE
(
	`IsIgnÜedN‘wÜk
(
ÃtwÜk_mªag”
, 
v4_ÃtwÜk1
));

272 
	`EXPECT_TRUE
(
	`IsIgnÜedN‘wÜk
(
ÃtwÜk_mªag”
, 
v4_ÃtwÜk2
));

273 
	}
}

276 
	$TEST_F
(
N‘wÜkTe¡
, 
Te¡IgnÜeLi¡
) {

277 
N‘wÜk
 
	`ignÜe_me
("ignÜe_me", "IgnÜm¶—£!", 
	`IPAdd»ss
(0x12345600U),

279 
N‘wÜk
 
	`šşude_me
("šşude_me", "Inşudm¶—£!", 
	`IPAdd»ss
(0x12345600U),

281 
BasicN‘wÜkMªag”
 
ÃtwÜk_mªag”
;

282 
	`EXPECT_FALSE
(
	`IsIgnÜedN‘wÜk
(
ÃtwÜk_mªag”
, 
ignÜe_me
));

283 
	`EXPECT_FALSE
(
	`IsIgnÜedN‘wÜk
(
ÃtwÜk_mªag”
, 
šşude_me
));

284 
¡d
::
veùÜ
<¡d::
¡ršg
> 
ignÜe_li¡
;

285 
ignÜe_li¡
.
	`push_back
("ignore_me");

286 
ÃtwÜk_mªag”
.
	`£t_ÃtwÜk_ignÜe_li¡
(
ignÜe_li¡
);

287 
	`EXPECT_TRUE
(
	`IsIgnÜedN‘wÜk
(
ÃtwÜk_mªag”
, 
ignÜe_me
));

288 
	`EXPECT_FALSE
(
	`IsIgnÜedN‘wÜk
(
ÃtwÜk_mªag”
, 
šşude_me
));

289 
	}
}

292 
	$TEST_F
(
N‘wÜkTe¡
, 
DISABLED_Te¡C»©eN‘wÜks
) {

293 
BasicN‘wÜkMªag”
 
mªag”
;

294 
N‘wÜkMªag”
::
N‘wÜkLi¡
 
»suÉ
 = 
	`G‘N‘wÜks
(
mªag”
, 
Œue
);

296 
N‘wÜkMªag”
::
N‘wÜkLi¡
::
™”©Ü
 
™
;

297 
™
 = 
»suÉ
.
	`begš
(); iˆ!ğ»suÉ.
	`’d
(); ++it) {

298 
sockaddr_¡Üage
 
¡Üage
;

299 
	`mem£t
(&
¡Üage
, 0, (storage));

300 
IPAdd»ss
 

 = (*
™
)->
	`G‘Be¡IP
();

301 
Sock‘Add»ss
 
	`bšdadd»ss
(

, 0);

302 
bšdadd»ss
.
	`S‘ScİeID
((*
™
)->
	`scİe_id
());

304 
fd
 = 
¡©ic_ÿ¡
<>(
	`sock‘
(

.
	`çmy
(), 
SOCK_STREAM
, 
IPPROTO_TCP
));

305 ià(
fd
 > 0) {

306 
size_t
 
size
 = 
bšdadd»ss
.
	`ToSockAddrStÜage
(&
¡Üage
);

307 
	`EXPECT_GE
(
size
, 0U);

308 
sucûss
 = ::
	`bšd
(
fd
, 
»š‹½»t_ÿ¡
<
sockaddr
*>(&
¡Üage
),

309 
¡©ic_ÿ¡
<>(
size
));

310 #ià
	`defšed
(
WEBRTC_WIN
)

311 ià(
sucûss
)

312 
	`RTC_LOG_GLE
(
LS_ERROR
) << "Socket bind failed.";

314 
	`EXPECT_EQ
(0, 
sucûss
);

315 #ià
	`defšed
(
WEBRTC_WIN
)

316 
	`şo£sock‘
(
fd
);

318 
	`şo£
(
fd
);

321 
	`d–‘e
 (*
™
);

323 
	}
}

327 
	$TEST_F
(
N‘wÜkTe¡
, 
Te¡Upd©eN‘wÜks
) {

328 
BasicN‘wÜkMªag”
 
mªag”
;

329 
mªag”
.
SigÇlN‘wÜksChªged
.
	`cÚÃù
(
¡©ic_ÿ¡
<
N‘wÜkTe¡
*>(
this
),

330 &
N‘wÜkTe¡
::
OnN‘wÜksChªged
);

331 
	`EXPECT_EQ
(
N‘wÜkMªag”
::
ENUMERATION_ALLOWED
,

332 
mªag”
.
	`’um”©iÚ_³rmissiÚ
());

333 
mªag”
.
	`S¹Upd©šg
();

334 
Th»ad
::
	`Cu¼’t
()->
	`ProûssMes§ges
(0);

335 
	`EXPECT_TRUE
(
ÿÎback_ÿÎed_
);

336 
ÿÎback_ÿÎed_
 = 
çl£
;

339 
mªag”
.
	`S¹Upd©šg
();

340 
	`EXPECT_TRUE
(
mªag”
.
	`¡¬‹d
());

341 
Th»ad
::
	`Cu¼’t
()->
	`ProûssMes§ges
(0);

342 
	`EXPECT_TRUE
(
ÿÎback_ÿÎed_
);

343 
mªag”
.
	`StİUpd©šg
();

344 
	`EXPECT_TRUE
(
mªag”
.
	`¡¬‹d
());

345 
mªag”
.
	`StİUpd©šg
();

346 
	`EXPECT_EQ
(
N‘wÜkMªag”
::
ENUMERATION_ALLOWED
,

347 
mªag”
.
	`’um”©iÚ_³rmissiÚ
());

348 
	`EXPECT_FALSE
(
mªag”
.
	`¡¬‹d
());

349 
mªag”
.
	`StİUpd©šg
();

350 
	`EXPECT_FALSE
(
mªag”
.
	`¡¬‹d
());

351 
ÿÎback_ÿÎed_
 = 
çl£
;

354 
mªag”
.
	`S¹Upd©šg
();

355 
Th»ad
::
	`Cu¼’t
()->
	`ProûssMes§ges
(0);

356 
	`EXPECT_TRUE
(
ÿÎback_ÿÎed_
);

357 
	}
}

360 
	$TEST_F
(
N‘wÜkTe¡
, 
Te¡BasicM”geN‘wÜkLi¡
) {

361 
N‘wÜk
 
	`v4_ÃtwÜk1
("test_eth0", "Test Network Adapter 1",

362 
	`IPAdd»ss
(0x12345600U), 24);

363 
N‘wÜk
 
	`v4_ÃtwÜk2
("test_eth1", "Test Network Adapter 2",

364 
	`IPAdd»ss
(0x00010000U), 16);

365 
v4_ÃtwÜk1
.
	`AddIP
(
	`IPAdd»ss
(0x12345678));

366 
v4_ÃtwÜk2
.
	`AddIP
(
	`IPAdd»ss
(0x00010004));

367 
BasicN‘wÜkMªag”
 
mªag”
;

370 
N‘wÜkMªag”
::
N‘wÜkLi¡
 
li¡
;

371 
li¡
.
	`push_back
(
Ãw
 
	`N‘wÜk
(
v4_ÃtwÜk1
));

372 
boŞ
 
chªged
;

373 
N‘wÜkMªag”
::
Sts
 
¡©s
 = 
	`M”geN‘wÜkLi¡
(
mªag”
, 
li¡
, &
chªged
);

374 
	`EXPECT_TRUE
(
chªged
);

375 
	`EXPECT_EQ
(
¡©s
.
v6_ÃtwÜk_couÁ
, 0);

376 
	`EXPECT_EQ
(
¡©s
.
v4_ÃtwÜk_couÁ
, 1);

377 
li¡
.
	`ş—r
();

379 
mªag”
.
	`G‘N‘wÜks
(&
li¡
);

380 
	`EXPECT_EQ
(1U, 
li¡
.
	`size
());

381 
	`EXPECT_TRUE
(
	`SameNameAndP»fix
(
v4_ÃtwÜk1
, *
li¡
[0]));

382 
N‘wÜk
* 
Ãt1
 = 
li¡
[0];

383 
ušt16_t
 
Ãt_id1
 = 
Ãt1
->
	`id
();

384 
	`EXPECT_EQ
(1, 
Ãt_id1
);

385 
li¡
.
	`ş—r
();

388 
li¡
.
	`push_back
(
Ãw
 
	`N‘wÜk
(
v4_ÃtwÜk2
));

389 
¡©s
 = 
	`M”geN‘wÜkLi¡
(
mªag”
, 
li¡
, &
chªged
);

390 
	`EXPECT_TRUE
(
chªged
);

391 
	`EXPECT_EQ
(
¡©s
.
v6_ÃtwÜk_couÁ
, 0);

392 
	`EXPECT_EQ
(
¡©s
.
v4_ÃtwÜk_couÁ
, 1);

393 
li¡
.
	`ş—r
();

395 
mªag”
.
	`G‘N‘wÜks
(&
li¡
);

396 
	`EXPECT_EQ
(1U, 
li¡
.
	`size
());

397 
	`EXPECT_TRUE
(
	`SameNameAndP»fix
(
v4_ÃtwÜk2
, *
li¡
[0]));

398 
N‘wÜk
* 
Ãt2
 = 
li¡
[0];

399 
ušt16_t
 
Ãt_id2
 = 
Ãt2
->
	`id
();

401 
	`EXPECT_LT
(
Ãt_id1
, 
Ãt_id2
);

402 
li¡
.
	`ş—r
();

405 
li¡
.
	`push_back
(
Ãw
 
	`N‘wÜk
(
v4_ÃtwÜk1
));

406 
li¡
.
	`push_back
(
Ãw
 
	`N‘wÜk
(
v4_ÃtwÜk2
));

407 
¡©s
 = 
	`M”geN‘wÜkLi¡
(
mªag”
, 
li¡
, &
chªged
);

408 
	`EXPECT_TRUE
(
chªged
);

409 
	`EXPECT_EQ
(
¡©s
.
v6_ÃtwÜk_couÁ
, 0);

410 
	`EXPECT_EQ
(
¡©s
.
v4_ÃtwÜk_couÁ
, 2);

411 
li¡
.
	`ş—r
();

414 
mªag”
.
	`G‘N‘wÜks
(&
li¡
);

415 
	`EXPECT_EQ
(2U, 
li¡
.
	`size
());

416 
	`EXPECT_TRUE
((
Ãt1
 =ğ
li¡
[0] && 
Ãt2
 ==†ist[1]) ||

417 (
Ãt1
 =ğ
li¡
[1] && 
Ãt2
 ==†ist[0]));

418 
	`EXPECT_TRUE
((
Ãt_id1
 =ğ
li¡
[0]->
	`id
(è&& 
Ãt_id2
 ==†ist[1]->id()) ||

419 (
Ãt_id1
 =ğ
li¡
[1]->
	`id
(è&& 
Ãt_id2
 ==†ist[0]->id()));

420 
li¡
.
	`ş—r
();

424 
li¡
.
	`push_back
(
Ãw
 
	`N‘wÜk
(
v4_ÃtwÜk2
));

425 
li¡
.
	`push_back
(
Ãw
 
	`N‘wÜk
(
v4_ÃtwÜk1
));

426 
¡©s
 = 
	`M”geN‘wÜkLi¡
(
mªag”
, 
li¡
, &
chªged
);

427 
	`EXPECT_FALSE
(
chªged
);

428 
	`EXPECT_EQ
(
¡©s
.
v6_ÃtwÜk_couÁ
, 0);

429 
	`EXPECT_EQ
(
¡©s
.
v4_ÃtwÜk_couÁ
, 2);

430 
li¡
.
	`ş—r
();

433 
mªag”
.
	`G‘N‘wÜks
(&
li¡
);

434 
	`EXPECT_EQ
(2U, 
li¡
.
	`size
());

435 
	`EXPECT_TRUE
((
Ãt1
 =ğ
li¡
[0] && 
Ãt2
 ==†ist[1]) ||

436 (
Ãt1
 =ğ
li¡
[1] && 
Ãt2
 ==†ist[0]));

437 
	`EXPECT_TRUE
((
Ãt_id1
 =ğ
li¡
[0]->
	`id
(è&& 
Ãt_id2
 ==†ist[1]->id()) ||

438 (
Ãt_id1
 =ğ
li¡
[1]->
	`id
(è&& 
Ãt_id2
 ==†ist[0]->id()));

439 
li¡
.
	`ş—r
();

440 
	}
}

444 
	$S‘upN‘wÜks
(
N‘wÜkMªag”
::
N‘wÜkLi¡
* 
li¡
) {

445 
IPAdd»ss
 

;

446 
IPAdd»ss
 
´efix
;

447 
	`EXPECT_TRUE
(
	`IPFromSŒšg
("abcd::1234:5678:abcd:ef12", &

));

448 
	`EXPECT_TRUE
(
	`IPFromSŒšg
("abcd::", &
´efix
));

450 
N‘wÜk
 
	`v6_‘h0_lškloÿÊ‘wÜk
("test_eth0", "Test NetworkAdapter 1",

451 
´efix
, 64);

452 
v6_‘h0_lškloÿÊ‘wÜk
.
	`AddIP
(

);

453 
	`EXPECT_TRUE
(
	`IPFromSŒšg
("abcd::5678:abcd:ef12:3456", &

));

454 
N‘wÜk
 
	`v6_‘h1_lškloÿÊ‘wÜk
("test_eth1", "Test NetworkAdapter 2",

455 
´efix
, 64);

456 
v6_‘h1_lškloÿÊ‘wÜk
.
	`AddIP
(

);

458 
	`EXPECT_TRUE
(
	`IPFromSŒšg
("2401:ç00:4:1000:be30:5bff:ãe5:c3", &

));

459 
´efix
 = 
	`Trunÿ‹IP
(

, 64);

460 
N‘wÜk
 
	`v6_‘h0_publiú‘wÜk1_1
("test_eth0", "Test NetworkAdapter 1",

461 
´efix
, 64);

462 
v6_‘h0_publiú‘wÜk1_1
.
	`AddIP
(

);

463 
	`EXPECT_TRUE
(
	`IPFromSŒšg
("2400:4030:1:2c00:be30:abcd:eçb:cdef", &

));

464 
´efix
 = 
	`Trunÿ‹IP
(

, 64);

465 
N‘wÜk
 
	`v6_‘h1_publiú‘wÜk1_1
("test_eth1", "Test NetworkAdapter 1",

466 
´efix
, 64);

467 
v6_‘h1_publiú‘wÜk1_1
.
	`AddIP
(

);

468 
li¡
->
	`push_back
(
Ãw
 
	`N‘wÜk
(
v6_‘h0_lškloÿÊ‘wÜk
));

469 
li¡
->
	`push_back
(
Ãw
 
	`N‘wÜk
(
v6_‘h1_lškloÿÊ‘wÜk
));

470 
li¡
->
	`push_back
(
Ãw
 
	`N‘wÜk
(
v6_‘h0_publiú‘wÜk1_1
));

471 
li¡
->
	`push_back
(
Ãw
 
	`N‘wÜk
(
v6_‘h1_publiú‘wÜk1_1
));

472 
	}
}

475 
	$TEST_F
(
N‘wÜkTe¡
, 
Te¡IPv6M”geN‘wÜkLi¡
) {

476 
BasicN‘wÜkMªag”
 
mªag”
;

477 
mªag”
.
SigÇlN‘wÜksChªged
.
	`cÚÃù
(
¡©ic_ÿ¡
<
N‘wÜkTe¡
*>(
this
),

478 &
N‘wÜkTe¡
::
OnN‘wÜksChªged
);

479 
N‘wÜkMªag”
::
N‘wÜkLi¡
 
Üigš®_li¡
;

480 
	`S‘upN‘wÜks
(&
Üigš®_li¡
);

481 
boŞ
 
chªged
 = 
çl£
;

482 
N‘wÜkMªag”
::
Sts
 
¡©s
 =

483 
	`M”geN‘wÜkLi¡
(
mªag”
, 
Üigš®_li¡
, &
chªged
);

484 
	`EXPECT_TRUE
(
chªged
);

485 
	`EXPECT_EQ
(
¡©s
.
v6_ÃtwÜk_couÁ
, 4);

486 
	`EXPECT_EQ
(
¡©s
.
v4_ÃtwÜk_couÁ
, 0);

487 
N‘wÜkMªag”
::
N‘wÜkLi¡
 
li¡
;

488 
mªag”
.
	`G‘N‘wÜks
(&
li¡
);

490 
	`EXPECT_THAT
(
li¡
, 
	`UnÜd”edEËm’tsA»A¼ay
(
Üigš®_li¡
));

491 
	}
}

496 
	$TEST_F
(
N‘wÜkTe¡
, 
Te¡NoChªgeM”ge
) {

497 
BasicN‘wÜkMªag”
 
mªag”
;

498 
mªag”
.
SigÇlN‘wÜksChªged
.
	`cÚÃù
(
¡©ic_ÿ¡
<
N‘wÜkTe¡
*>(
this
),

499 &
N‘wÜkTe¡
::
OnN‘wÜksChªged
);

500 
N‘wÜkMªag”
::
N‘wÜkLi¡
 
Üigš®_li¡
;

501 
	`S‘upN‘wÜks
(&
Üigš®_li¡
);

502 
boŞ
 
chªged
 = 
çl£
;

503 
	`M”geN‘wÜkLi¡
(
mªag”
, 
Üigš®_li¡
, &
chªged
);

504 
	`EXPECT_TRUE
(
chªged
);

506 
N‘wÜkMªag”
::
N‘wÜkLi¡
 
£cÚd_li¡
;

507 
	`S‘upN‘wÜks
(&
£cÚd_li¡
);

508 
chªged
 = 
çl£
;

509 
	`M”geN‘wÜkLi¡
(
mªag”
, 
£cÚd_li¡
, &
chªged
);

510 
	`EXPECT_FALSE
(
chªged
);

511 
N‘wÜkMªag”
::
N‘wÜkLi¡
 
»suÉšg_li¡
;

512 
mªag”
.
	`G‘N‘wÜks
(&
»suÉšg_li¡
);

514 
	`EXPECT_THAT
(
»suÉšg_li¡
, 
	`UnÜd”edEËm’tsA»A¼ay
(
Üigš®_li¡
));

516 cÚ¡ 
N‘wÜk
* 
ÃtwÜk
 : 
£cÚd_li¡
) {

517 
	`EXPECT_THAT
(
»suÉšg_li¡
, 
	`NÙ
(
	`CÚšs
(
ÃtwÜk
)));

519 
	}
}

524 
	$TEST_F
(
N‘wÜkTe¡
, 
M”geW™hChªgedIP
) {

525 
BasicN‘wÜkMªag”
 
mªag”
;

526 
mªag”
.
SigÇlN‘wÜksChªged
.
	`cÚÃù
(
¡©ic_ÿ¡
<
N‘wÜkTe¡
*>(
this
),

527 &
N‘wÜkTe¡
::
OnN‘wÜksChªged
);

528 
N‘wÜkMªag”
::
N‘wÜkLi¡
 
Üigš®_li¡
;

529 
	`S‘upN‘wÜks
(&
Üigš®_li¡
);

531 
IPAdd»ss
 

;

532 
	`EXPECT_TRUE
(
	`IPFromSŒšg
("2401:ç01:4:1000:be30:ça:ãe:ça", &

));

533 
IPAdd»ss
 
´efix
 = 
	`Trunÿ‹IP
(

, 64);

534 
N‘wÜk
* 
ÃtwÜk_to_chªge
 =

535 
Ãw
 
	`N‘wÜk
("‹¡_‘h0", "Te¡ N‘wÜk Ad­‹¸1", 
´efix
, 64);

536 
N‘wÜk
* 
chªged_ÃtwÜk
 = 
Ãw
 
	`N‘wÜk
(*
ÃtwÜk_to_chªge
);

537 
ÃtwÜk_to_chªge
->
	`AddIP
(

);

538 
IPAdd»ss
 
chªged_
;

539 
	`EXPECT_TRUE
(
	`IPFromSŒšg
("2401:ç01:4:1000:be30:f00:f00:f00", &
chªged_
));

540 
chªged_ÃtwÜk
->
	`AddIP
(
chªged_
);

541 
Üigš®_li¡
.
	`push_back
(
ÃtwÜk_to_chªge
);

542 
boŞ
 
chªged
 = 
çl£
;

543 
	`M”geN‘wÜkLi¡
(
mªag”
, 
Üigš®_li¡
, &
chªged
);

544 
N‘wÜkMªag”
::
N‘wÜkLi¡
 
£cÚd_li¡
;

545 
	`S‘upN‘wÜks
(&
£cÚd_li¡
);

546 
£cÚd_li¡
.
	`push_back
(
chªged_ÃtwÜk
);

547 
chªged
 = 
çl£
;

548 
	`M”geN‘wÜkLi¡
(
mªag”
, 
£cÚd_li¡
, &
chªged
);

549 
	`EXPECT_TRUE
(
chªged
);

550 
N‘wÜkMªag”
::
N‘wÜkLi¡
 
li¡
;

551 
mªag”
.
	`G‘N‘wÜks
(&
li¡
);

552 
	`EXPECT_EQ
(
Üigš®_li¡
.
	`size
(), 
li¡
.size());

554 
	`EXPECT_THAT
(
li¡
, 
	`CÚšs
(
ÃtwÜk_to_chªge
));

555 
	`EXPECT_EQ
(
chªged_
, 
ÃtwÜk_to_chªge
->
	`G‘IPs
().
	`©
(0));

556 
	}
}

560 
	$TEST_F
(
N‘wÜkTe¡
, 
Te¡MuÉËIPM”geN‘wÜkLi¡
) {

561 
BasicN‘wÜkMªag”
 
mªag”
;

562 
mªag”
.
SigÇlN‘wÜksChªged
.
	`cÚÃù
(
¡©ic_ÿ¡
<
N‘wÜkTe¡
*>(
this
),

563 &
N‘wÜkTe¡
::
OnN‘wÜksChªged
);

564 
N‘wÜkMªag”
::
N‘wÜkLi¡
 
Üigš®_li¡
;

565 
	`S‘upN‘wÜks
(&
Üigš®_li¡
);

566 
boŞ
 
chªged
 = 
çl£
;

567 
	`M”geN‘wÜkLi¡
(
mªag”
, 
Üigš®_li¡
, &
chªged
);

568 
	`EXPECT_TRUE
(
chªged
);

569 
IPAdd»ss
 

;

570 
IPAdd»ss
 
check_
;

571 
IPAdd»ss
 
´efix
;

573 
	`EXPECT_TRUE
(
	`IPFromSŒšg
("2401:ç00:4:1000:be30:5bff:ãe5:c6", &

));

574 
´efix
 = 
	`Trunÿ‹IP
(

, 64);

575 
N‘wÜk
 
	`v6_‘h0_publiú‘wÜk1_2
("test_eth0", "Test NetworkAdapter 1",

576 
´efix
, 64);

578 
	`EXPECT_TRUE
(
	`IPFromSŒšg
("2401:ç00:4:1000:be30:5bff:ãe5:c3", &
check_
));

579 
v6_‘h0_publiú‘wÜk1_2
.
	`AddIP
(

);

580 
Üigš®_li¡
.
	`push_back
(
Ãw
 
	`N‘wÜk
(
v6_‘h0_publiú‘wÜk1_2
));

581 
chªged
 = 
çl£
;

582 
	`M”geN‘wÜkLi¡
(
mªag”
, 
Üigš®_li¡
, &
chªged
);

583 
	`EXPECT_TRUE
(
chªged
);

585 
N‘wÜkMªag”
::
N‘wÜkLi¡
 
li¡
;

586 
mªag”
.
	`G‘N‘wÜks
(&
li¡
);

587 
	`EXPECT_EQ
(4U, 
li¡
.
	`size
());

589 
m©chcouÁ
 = 0;

590 
N‘wÜkMªag”
::
N‘wÜkLi¡
::
™”©Ü
 
™
 = 
li¡
.
	`begš
();

591 
™
 !ğ
li¡
.
	`’d
(); ++it) {

592 ià(
	`SameNameAndP»fix
(**
™
, *
Üigš®_li¡
[2])) {

593 ++
m©chcouÁ
;

594 
	`EXPECT_EQ
(1, 
m©chcouÁ
);

596 
	`EXPECT_EQ
((*
™
), 
Üigš®_li¡
[2]);

598 
	`EXPECT_THAT
((*
™
)->
	`G‘IPs
(),

599 
	`UnÜd”edEËm’tsA»
(
	`IÁ”çûAdd»ss
(
check_
),

600 
	`IÁ”çûAdd»ss
(

)));

603 
	`EXPECT_THAT
((*
™
)->
	`G‘IPs
(), 
	`NÙ
(
	`CÚšs
(
	`IÁ”çûAdd»ss
(

))));

606 
	}
}

609 
	$TEST_F
(
N‘wÜkTe¡
, 
Te¡MuÉËPublicN‘wÜksOnOÃIÁ”çûM”ge
) {

610 
BasicN‘wÜkMªag”
 
mªag”
;

611 
mªag”
.
SigÇlN‘wÜksChªged
.
	`cÚÃù
(
¡©ic_ÿ¡
<
N‘wÜkTe¡
*>(
this
),

612 &
N‘wÜkTe¡
::
OnN‘wÜksChªged
);

613 
N‘wÜkMªag”
::
N‘wÜkLi¡
 
Üigš®_li¡
;

614 
	`S‘upN‘wÜks
(&
Üigš®_li¡
);

615 
boŞ
 
chªged
 = 
çl£
;

616 
	`M”geN‘wÜkLi¡
(
mªag”
, 
Üigš®_li¡
, &
chªged
);

617 
	`EXPECT_TRUE
(
chªged
);

618 
IPAdd»ss
 

;

619 
IPAdd»ss
 
´efix
;

621 
	`EXPECT_TRUE
(
	`IPFromSŒšg
("2400:4030:1:2c00:be30:5bff:ãe5:c3", &

));

622 
´efix
 = 
	`Trunÿ‹IP
(

, 64);

623 
N‘wÜk
 
	`v6_‘h0_publiú‘wÜk2_1
("test_eth0", "Test NetworkAdapter 1",

624 
´efix
, 64);

625 
v6_‘h0_publiú‘wÜk2_1
.
	`AddIP
(

);

626 
Üigš®_li¡
.
	`push_back
(
Ãw
 
	`N‘wÜk
(
v6_‘h0_publiú‘wÜk2_1
));

627 
chªged
 = 
çl£
;

628 
	`M”geN‘wÜkLi¡
(
mªag”
, 
Üigš®_li¡
, &
chªged
);

629 
	`EXPECT_TRUE
(
chªged
);

631 
N‘wÜkMªag”
::
N‘wÜkLi¡
 
li¡
;

632 
mªag”
.
	`G‘N‘wÜks
(&
li¡
);

633 
	`EXPECT_EQ
(5U, 
li¡
.
	`size
());

635 
N‘wÜkMªag”
::
N‘wÜkLi¡
::
™”©Ü
 
™
 = 
li¡
.
	`begš
();

636 
™
 !ğ
li¡
.
	`’d
(); ++it) {

637 ià((*
™
)->
	`´efix
(è=ğ
v6_‘h0_publiú‘wÜk2_1
.prefix() &&

638 (*
™
)->
	`Çme
(è=ğ
v6_‘h0_publiú‘wÜk2_1
.name()) {

640 
	`EXPECT_EQ
(1U, (*
™
)->
	`G‘IPs
().
	`size
());

641 
	`EXPECT_EQ
(

, (*
™
)->
	`G‘IPs
().
	`©
(0));

644 
	`EXPECT_THAT
((*
™
)->
	`G‘IPs
(), 
	`NÙ
(
	`CÚšs
(
	`IÁ”çûAdd»ss
(

))));

647 
	}
}

650 
	$TEST_F
(
N‘wÜkTe¡
, 
Te¡C»©eAndDumpN‘wÜks
) {

651 
BasicN‘wÜkMªag”
 
mªag”
;

652 
N‘wÜkMªag”
::
N‘wÜkLi¡
 
li¡
 = 
	`G‘N‘wÜks
(
mªag”
, 
Œue
);

653 
boŞ
 
chªged
;

654 
	`M”geN‘wÜkLi¡
(
mªag”
, 
li¡
, &
chªged
);

655 
mªag”
.
	`DumpN‘wÜks
();

656 
	}
}

658 
	$TEST_F
(
N‘wÜkTe¡
, 
Te¡IPv6ToggË
) {

659 
BasicN‘wÜkMªag”
 
mªag”
;

660 
boŞ
 
v6_found
 = 
çl£
;

661 
N‘wÜkMªag”
::
N‘wÜkLi¡
 
li¡
;

662 
li¡
 = 
	`G‘N‘wÜks
(
mªag”
, 
Œue
);

663 
N‘wÜkMªag”
::
N‘wÜkLi¡
::
™”©Ü
 
™
 = 
li¡
.
	`begš
();

664 
™
 !ğ
li¡
.
	`’d
(); ++it) {

665 ià((*
™
)->
	`´efix
().
	`çmy
(è=ğ
AF_INET6
) {

666 
v6_found
 = 
Œue
;

670 
	`EXPECT_TRUE
(
v6_found
);

671 
N‘wÜkMªag”
::
N‘wÜkLi¡
::
™”©Ü
 
™
 = 
li¡
.
	`begš
();

672 
™
 !ğ
li¡
.
	`’d
(); ++it) {

673 
	`d–‘e
 (*
™
);

675 
	}
}

679 
	$TEST_F
(
N‘wÜkTe¡
, 
IPv6N‘wÜksP»ã¼edOv”IPv4
) {

680 
BasicN‘wÜkMªag”
 
mªag”
;

681 
N‘wÜk
 
	`v4_ÃtwÜk1
("test_eth0", "Test Network Adapter 1",

682 
	`IPAdd»ss
(0x12345600U), 24);

683 
v4_ÃtwÜk1
.
	`AddIP
(
	`IPAdd»ss
(0x12345600U));

685 
IPAdd»ss
 

;

686 
IPAdd»ss
 
´efix
;

687 
	`EXPECT_TRUE
(
	`IPFromSŒšg
("2400:4030:1:2c00:be30:abcd:eçb:cdef", &

));

688 
´efix
 = 
	`Trunÿ‹IP
(

, 64);

689 
N‘wÜk
 
	`v6_‘h1_publiú‘wÜk1_1
("test_eth1", "Test NetworkAdapter 2",

690 
´efix
, 64);

691 
v6_‘h1_publiú‘wÜk1_1
.
	`AddIP
(

);

693 
N‘wÜkMªag”
::
N‘wÜkLi¡
 
li¡
;

694 
li¡
.
	`push_back
(
Ãw
 
	`N‘wÜk
(
v4_ÃtwÜk1
));

695 
li¡
.
	`push_back
(
Ãw
 
	`N‘wÜk
(
v6_‘h1_publiú‘wÜk1_1
));

696 
N‘wÜk
* 
Ãt1
 = 
li¡
[0];

697 
N‘wÜk
* 
Ãt2
 = 
li¡
[1];

699 
boŞ
 
chªged
 = 
çl£
;

700 
	`M”geN‘wÜkLi¡
(
mªag”
, 
li¡
, &
chªged
);

701 
	`ASSERT_TRUE
(
chªged
);

703 
	`EXPECT_TRUE
(
Ãt1
->
	`´eã»nû
(è< 
Ãt2
->preference());

704 
	}
}

708 
	$TEST_F
(
N‘wÜkTe¡
, 
N‘wÜksSÜ‹dByIÁ”çûName
) {

709 
BasicN‘wÜkMªag”
 
mªag”
;

710 
N‘wÜk
* 
‘h0
 = 
Ãw
 
	`N‘wÜk
("test_eth0", "Test Network Adapter 1",

711 
	`IPAdd»ss
(0x65432100U), 24);

712 
‘h0
->
	`AddIP
(
	`IPAdd»ss
(0x65432100U));

713 
N‘wÜk
* 
‘h1
 = 
Ãw
 
	`N‘wÜk
("test_eth1", "Test Network Adapter 2",

714 
	`IPAdd»ss
(0x12345600U), 24);

715 
‘h1
->
	`AddIP
(
	`IPAdd»ss
(0x12345600U));

716 
N‘wÜkMªag”
::
N‘wÜkLi¡
 
li¡
;

719 
li¡
.
	`push_back
(
‘h1
);

720 
li¡
.
	`push_back
(
‘h0
);

722 
boŞ
 
chªged
 = 
çl£
;

723 
	`M”geN‘wÜkLi¡
(
mªag”
, 
li¡
, &
chªged
);

724 
	`ASSERT_TRUE
(
chªged
);

726 
	`EXPECT_TRUE
(
‘h0
->
	`´eã»nû
(è> 
‘h1
->preference());

727 
	}
}

729 
	$TEST_F
(
N‘wÜkTe¡
, 
Te¡N‘wÜkAd­‹rTy³s
) {

730 
N‘wÜk
 
	`wifi
("wÏn0", "Wœ–es Ad­‹r", 
	`IPAdd»ss
(0x12345600U), 24,

731 
ADAPTER_TYPE_WIFI
);

732 
	`EXPECT_EQ
(
ADAPTER_TYPE_WIFI
, 
wifi
.
	`ty³
());

733 
N‘wÜk
 
	`‘h”Ãt
("‘h0", "Eth”Ãt", 
	`IPAdd»ss
(0x12345600U), 24,

734 
ADAPTER_TYPE_ETHERNET
);

735 
	`EXPECT_EQ
(
ADAPTER_TYPE_ETHERNET
, 
‘h”Ãt
.
	`ty³
());

736 
N‘wÜk
 
	`ûÎuÏr
("‹¡_ûÎ", "C–luÏ¸Ad­‹r", 
	`IPAdd»ss
(0x12345600U), 24,

737 
ADAPTER_TYPE_CELLULAR
);

738 
	`EXPECT_EQ
(
ADAPTER_TYPE_CELLULAR
, 
ûÎuÏr
.
	`ty³
());

739 
N‘wÜk
 
	`v²
("bridge_‹¡", "VPN Ad­‹r", 
	`IPAdd»ss
(0x12345600U), 24,

740 
ADAPTER_TYPE_VPN
);

741 
	`EXPECT_EQ
(
ADAPTER_TYPE_VPN
, 
v²
.
	`ty³
());

742 
N‘wÜk
 
	`unknown
("‹¡", "Te¡ Ad­‹r", 
	`IPAdd»ss
(0x12345600U), 24,

743 
ADAPTER_TYPE_UNKNOWN
);

744 
	`EXPECT_EQ
(
ADAPTER_TYPE_UNKNOWN
, 
unknown
.
	`ty³
());

745 
	}
}

747 #ià
	$defšed
(
WEBRTC_POSIX
)

749 
	$TEST_F
(
N‘wÜkTe¡
, 
Te¡CÚv”tIfAddrsNoAdd»ss
) {

750 
içddrs
 
li¡
;

751 
	`mem£t
(&
li¡
, 0, (list));

752 
li¡
.
iç_Çme
 = 
cÚ¡_ÿ¡
<*>("test_iface");

754 
N‘wÜkMªag”
::
N‘wÜkLi¡
 
»suÉ
;

755 
BasicN‘wÜkMªag”
 
mªag”
;

756 
	`C®lCÚv”tIfAddrs
(
mªag”
, &
li¡
, 
Œue
, &
»suÉ
);

757 
	`EXPECT_TRUE
(
»suÉ
.
	`em±y
());

758 
	}
}

762 
	$TEST_F
(
N‘wÜkTe¡
, 
Te¡CÚv”tIfAddrsMuÉiAdd»s£sOnOÃIÁ”çû
) {

763 
if_Çme
[20] = "rmnet0";

764 
içddrs
* 
li¡
 = 
nuÎ±r
;

765 
li¡
 = 
	`AddIpv6Add»ss
Öi¡, 
if_Çme
, "1000:2000:3000:4000:0:0:0:1",

767 
li¡
 = 
	`AddIpv6Add»ss
Öi¡, 
if_Çme
, "1000:2000:3000:4000:0:0:0:2",

769 
N‘wÜkMªag”
::
N‘wÜkLi¡
 
»suÉ
;

770 
BasicN‘wÜkMªag”
 
mªag”
;

771 
	`C®lCÚv”tIfAddrs
(
mªag”
, 
li¡
, 
Œue
, &
»suÉ
);

772 
	`EXPECT_EQ
(1U, 
»suÉ
.
	`size
());

773 
boŞ
 
chªged
;

775 
	`M”geN‘wÜkLi¡
(
mªag”
, 
»suÉ
, &
chªged
);

776 
	`R–—£IfAddrs
(
li¡
);

777 
	}
}

779 
	$TEST_F
(
N‘wÜkTe¡
, 
Te¡CÚv”tIfAddrsNÙRuÂšg
) {

780 
içddrs
 
li¡
;

781 
	`mem£t
(&
li¡
, 0, (list));

782 
li¡
.
iç_Çme
 = 
cÚ¡_ÿ¡
<*>("test_iface");

783 
sockaddr
 
iç_addr
;

784 
sockaddr
 
iç_Ãtmask
;

785 
li¡
.
iç_addr
 = &ifa_addr;

786 
li¡
.
iç_Ãtmask
 = &ifa_netmask;

788 
N‘wÜkMªag”
::
N‘wÜkLi¡
 
»suÉ
;

789 
BasicN‘wÜkMªag”
 
mªag”
;

790 
	`C®lCÚv”tIfAddrs
(
mªag”
, &
li¡
, 
Œue
, &
»suÉ
);

791 
	`EXPECT_TRUE
(
»suÉ
.
	`em±y
());

792 
	}
}

796 
	$TEST_F
(
N‘wÜkTe¡
, 
Te¡G‘Ad­‹rTy³FromN‘wÜkMÚ™Ü
) {

797 
if_Çme1
[20] = "wifi0";

798 
¡d
::
¡ršg
 
v6_add»ss1
 = "1000:2000:3000:4000:0:0:0:1";

799 
¡d
::
¡ršg
 
v6_add»ss2
 = "1000:2000:3000:8000:0:0:0:1";

800 
¡d
::
¡ršg
 
v6_mask
 = "FFFF:FFFF:FFFF:FFFF::";

801 
BasicN‘wÜkMªag”
 
mªag”
;

804 
içddrs
* 
addr_li¡
 =

805 
	`In¡®lIpv6N‘wÜk
(
if_Çme1
, 
v6_add»ss1
, 
v6_mask
, 
mªag”
);

806 
	`EXPECT_EQ
(
ADAPTER_TYPE_UNKNOWN
, 
	`G‘Ad­‹rTy³
(
mªag”
));

807 
	`R–—£IfAddrs
(
addr_li¡
);

813 
FakeN‘wÜkMÚ™ÜFaùÜy
* 
çùÜy
 = 
Ãw
 
	`FakeN‘wÜkMÚ™ÜFaùÜy
();

814 
N‘wÜkMÚ™ÜFaùÜy
::
	`S‘FaùÜy
(
çùÜy
);

816 
mªag”
.
	`S¹Upd©šg
();

819 
addr_li¡
 = 
	`In¡®lIpv6N‘wÜk
(
if_Çme1
, 
v6_add»ss1
, 
v6_mask
, 
mªag”
);

820 
	`EXPECT_EQ
(
ADAPTER_TYPE_WIFI
, 
	`G‘Ad­‹rTy³
(
mªag”
));

821 
	`R–—£IfAddrs
(
addr_li¡
);

822 
	`CË¬N‘wÜks
(
mªag”
);

825 
if_Çme2
[20] = "cellular0";

826 
addr_li¡
 = 
	`In¡®lIpv6N‘wÜk
(
if_Çme2
, 
v6_add»ss2
, 
v6_mask
, 
mªag”
);

827 
	`EXPECT_EQ
(
ADAPTER_TYPE_CELLULAR
, 
	`G‘Ad­‹rTy³
(
mªag”
));

828 
	`R–—£IfAddrs
(
addr_li¡
);

829 
	`CË¬N‘wÜks
(
mªag”
);

830 
	}
}

835 
	$TEST_F
(
N‘wÜkTe¡
, 
Te¡G‘Ad­‹rTy³FromNameM©chšg
) {

836 
¡d
::
¡ršg
 
v4_add»ss1
 = "192.0.0.121";

837 
¡d
::
¡ršg
 
v4_mask
 = "255.255.255.0";

838 
¡d
::
¡ršg
 
v6_add»ss1
 = "1000:2000:3000:4000:0:0:0:1";

839 
¡d
::
¡ršg
 
v6_add»ss2
 = "1000:2000:3000:8000:0:0:0:1";

840 
¡d
::
¡ršg
 
v6_mask
 = "FFFF:FFFF:FFFF:FFFF::";

841 
BasicN‘wÜkMªag”
 
mªag”
;

844 
if_Çme
[20] = "ipsec11";

845 
içddrs
* 
addr_li¡
 =

846 
	`In¡®lIpv6N‘wÜk
(
if_Çme
, 
v6_add»ss1
, 
v6_mask
, 
mªag”
);

847 
	`EXPECT_EQ
(
ADAPTER_TYPE_VPN
, 
	`G‘Ad­‹rTy³
(
mªag”
));

848 
	`CË¬N‘wÜks
(
mªag”
);

849 
	`R–—£IfAddrs
(
addr_li¡
);

851 
	`¡rıy
(
if_Çme
, "lo0");

852 
addr_li¡
 = 
	`In¡®lIpv6N‘wÜk
(
if_Çme
, 
v6_add»ss1
, 
v6_mask
, 
mªag”
);

853 
	`EXPECT_EQ
(
ADAPTER_TYPE_LOOPBACK
, 
	`G‘Ad­‹rTy³
(
mªag”
));

854 
	`CË¬N‘wÜks
(
mªag”
);

855 
	`R–—£IfAddrs
(
addr_li¡
);

857 
	`¡rıy
(
if_Çme
, "eth0");

858 
addr_li¡
 = 
	`In¡®lIpv4N‘wÜk
(
if_Çme
, 
v4_add»ss1
, 
v4_mask
, 
mªag”
);

859 
	`EXPECT_EQ
(
ADAPTER_TYPE_ETHERNET
, 
	`G‘Ad­‹rTy³
(
mªag”
));

860 
	`CË¬N‘wÜks
(
mªag”
);

861 
	`R–—£IfAddrs
(
addr_li¡
);

863 
	`¡rıy
(
if_Çme
, "wlan0");

864 
addr_li¡
 = 
	`In¡®lIpv6N‘wÜk
(
if_Çme
, 
v6_add»ss1
, 
v6_mask
, 
mªag”
);

865 
	`EXPECT_EQ
(
ADAPTER_TYPE_WIFI
, 
	`G‘Ad­‹rTy³
(
mªag”
));

866 
	`CË¬N‘wÜks
(
mªag”
);

867 
	`R–—£IfAddrs
(
addr_li¡
);

869 #ià
	`defšed
(
WEBRTC_IOS
)

870 
	`¡rıy
(
if_Çme
, "pdp_ip0");

871 
addr_li¡
 = 
	`In¡®lIpv6N‘wÜk
(
if_Çme
, 
v6_add»ss1
, 
v6_mask
, 
mªag”
);

872 
	`EXPECT_EQ
(
ADAPTER_TYPE_CELLULAR
, 
	`G‘Ad­‹rTy³
(
mªag”
));

873 
	`CË¬N‘wÜks
(
mªag”
);

874 
	`R–—£IfAddrs
(
addr_li¡
);

876 
	`¡rıy
(
if_Çme
, "en0");

877 
addr_li¡
 = 
	`In¡®lIpv6N‘wÜk
(
if_Çme
, 
v6_add»ss1
, 
v6_mask
, 
mªag”
);

878 
	`EXPECT_EQ
(
ADAPTER_TYPE_WIFI
, 
	`G‘Ad­‹rTy³
(
mªag”
));

879 
	`CË¬N‘wÜks
(
mªag”
);

880 
	`R–—£IfAddrs
(
addr_li¡
);

882 #–ià
	`defšed
(
WEBRTC_ANDROID
)

883 
	`¡rıy
(
if_Çme
, "rmnet0");

884 
addr_li¡
 = 
	`In¡®lIpv6N‘wÜk
(
if_Çme
, 
v6_add»ss1
, 
v6_mask
, 
mªag”
);

885 
	`EXPECT_EQ
(
ADAPTER_TYPE_CELLULAR
, 
	`G‘Ad­‹rTy³
(
mªag”
));

886 
	`CË¬N‘wÜks
(
mªag”
);

887 
	`R–—£IfAddrs
(
addr_li¡
);

889 
	`¡rıy
(
if_Çme
, "v4-rmnet_data0");

890 
addr_li¡
 = 
	`In¡®lIpv6N‘wÜk
(
if_Çme
, 
v6_add»ss2
, 
v6_mask
, 
mªag”
);

891 
	`EXPECT_EQ
(
ADAPTER_TYPE_CELLULAR
, 
	`G‘Ad­‹rTy³
(
mªag”
));

892 
	`CË¬N‘wÜks
(
mªag”
);

893 
	`R–—£IfAddrs
(
addr_li¡
);

895 
	`¡rıy
(
if_Çme
, "clat4");

896 
addr_li¡
 = 
	`In¡®lIpv4N‘wÜk
(
if_Çme
, 
v4_add»ss1
, 
v4_mask
, 
mªag”
);

897 
	`EXPECT_EQ
(
ADAPTER_TYPE_CELLULAR
, 
	`G‘Ad­‹rTy³
(
mªag”
));

898 
	`CË¬N‘wÜks
(
mªag”
);

899 
	`R–—£IfAddrs
(
addr_li¡
);

901 
	}
}

906 
	$TEST_F
(
N‘wÜkTe¡
, 
Te¡M”geN‘wÜkLi¡
) {

907 
BasicN‘wÜkMªag”
 
mªag”
;

908 
N‘wÜkMªag”
::
N‘wÜkLi¡
 
li¡
;

911 
IPAdd»ss
 
1
, 
2
;

912 
	`EXPECT_TRUE
(
	`IPFromSŒšg
("2400:4030:1:2c00:be30:0:0:1", &
1
));

913 
	`EXPECT_TRUE
(
	`IPFromSŒšg
("2400:4030:1:2c00:be30:0:0:2", &
2
));

916 
N‘wÜk
* 
Ãt1
 = 
Ãw
 
	`N‘wÜk
("em1", "em1", 
	`Trunÿ‹IP
(
1
, 64), 64);

917 
N‘wÜk
* 
Ãt2
 = 
Ãw
 
	`N‘wÜk
("em1", "em1", 
	`Trunÿ‹IP
(
1
, 64), 64);

920 
Ãt1
->
	`AddIP
(
1
);

921 
Ãt2
->
	`AddIP
(
2
);

923 
li¡
.
	`push_back
(
Ãt1
);

924 
li¡
.
	`push_back
(
Ãt2
);

925 
boŞ
 
chªged
;

926 
	`M”geN‘wÜkLi¡
(
mªag”
, 
li¡
, &
chªged
);

927 
	`EXPECT_TRUE
(
chªged
);

929 
N‘wÜkMªag”
::
N‘wÜkLi¡
 
li¡2
;

930 
mªag”
.
	`G‘N‘wÜks
(&
li¡2
);

934 
	`EXPECT_EQ
(
li¡2
.
	`size
(), 1uL);

935 
	`EXPECT_EQ
(
li¡2
[0]->
	`G‘IPs
().
	`size
(), 2uL);

936 
	`EXPECT_EQ
(
li¡2
[0]->
	`G‘IPs
()[0], 
	`IÁ”çûAdd»ss
(
1
));

937 
	`EXPECT_EQ
(
li¡2
[0]->
	`G‘IPs
()[1], 
	`IÁ”çûAdd»ss
(
2
));

938 
	}
}

942 
	$TEST_F
(
N‘wÜkTe¡
, 
Te¡M”geN‘wÜkLi¡W™hIÇùiveN‘wÜks
) {

943 
BasicN‘wÜkMªag”
 
mªag”
;

944 
N‘wÜk
 
	`ÃtwÜk1
("test_wifi", "Test Network Adapter 1",

945 
	`IPAdd»ss
(0x12345600U), 24);

946 
N‘wÜk
 
	`ÃtwÜk2
("test_eth0", "Test Network Adapter 2",

947 
	`IPAdd»ss
(0x00010000U), 16);

948 
ÃtwÜk1
.
	`AddIP
(
	`IPAdd»ss
(0x12345678));

949 
ÃtwÜk2
.
	`AddIP
(
	`IPAdd»ss
(0x00010004));

950 
N‘wÜkMªag”
::
N‘wÜkLi¡
 
li¡
;

951 
N‘wÜk
* 
Ãt1
 = 
Ãw
 
	`N‘wÜk
(
ÃtwÜk1
);

952 
li¡
.
	`push_back
(
Ãt1
);

953 
boŞ
 
chªged
;

954 
	`M”geN‘wÜkLi¡
(
mªag”
, 
li¡
, &
chªged
);

955 
	`EXPECT_TRUE
(
chªged
);

956 
li¡
.
	`ş—r
();

957 
mªag”
.
	`G‘N‘wÜks
(&
li¡
);

958 
	`ASSERT_EQ
(1U, 
li¡
.
	`size
());

959 
	`EXPECT_EQ
(
Ãt1
, 
li¡
[0]);

961 
li¡
.
	`ş—r
();

962 
N‘wÜk
* 
Ãt2
 = 
Ãw
 
	`N‘wÜk
(
ÃtwÜk2
);

963 
li¡
.
	`push_back
(
Ãt2
);

964 
	`M”geN‘wÜkLi¡
(
mªag”
, 
li¡
, &
chªged
);

965 
	`EXPECT_TRUE
(
chªged
);

966 
li¡
.
	`ş—r
();

967 
mªag”
.
	`G‘N‘wÜks
(&
li¡
);

968 
	`ASSERT_EQ
(1U, 
li¡
.
	`size
());

969 
	`EXPECT_EQ
(
Ãt2
, 
li¡
[0]);

972 
li¡
.
	`ş—r
();

973 
li¡
.
	`push_back
(
Ãw
 
	`N‘wÜk
(
ÃtwÜk1
));

974 
	`M”geN‘wÜkLi¡
(
mªag”
, 
li¡
, &
chªged
);

975 
	`EXPECT_TRUE
(
chªged
);

976 
li¡
.
	`ş—r
();

977 
mªag”
.
	`G‘N‘wÜks
(&
li¡
);

978 
	`ASSERT_EQ
(1U, 
li¡
.
	`size
());

979 
	`EXPECT_TRUE
(
li¡
[0]->
	`aùive
());

980 
	`EXPECT_EQ
(
Ãt1
, 
li¡
[0]);

981 
	}
}

984 
	$TEST_F
(
N‘wÜkTe¡
, 
Te¡IPv6S–eùiÚ
) {

985 
IÁ”çûAdd»ss
 

;

986 
¡d
::
¡ršg
 
¡r
;

988 
¡r
 = "2401:fa00:4:1000:be30:5bff:fee5:c3";

989 
	`ASSERT_TRUE
(
	`IPFromSŒšg
(
¡r
, 
IPV6_ADDRESS_FLAG_DEPRECATED
, &

));

992 
N‘wÜk
 
	`v6_ÃtwÜk
("‹¡_‘h0", "Te¡ N‘wÜkAd­‹r", 
	`Trunÿ‹IP
(

, 64),

997 
	`EXPECT_EQ
(
v6_ÃtwÜk
.
	`G‘Be¡IP
(), 
	`IPAdd»ss
());

998 
	`EXPECT_TRUE
(
	`IPIsUn¥ec
(
v6_ÃtwÜk
.
	`G‘Be¡IP
()));

1001 
v6_ÃtwÜk
.
	`AddIP
(

);

1002 
	`EXPECT_EQ
(
v6_ÃtwÜk
.
	`G‘Be¡IP
(), 
	`IPAdd»ss
());

1006 
¡r
 = "fd00:fa00:4:1000:be30:5bff:fee5:c4";

1007 
	`ASSERT_TRUE
(
	`IPFromSŒšg
(
¡r
, 
IPV6_ADDRESS_FLAG_NONE
, &

));

1008 
v6_ÃtwÜk
.
	`AddIP
(

);

1009 
	`EXPECT_EQ
(
v6_ÃtwÜk
.
	`G‘Be¡IP
(), 
¡©ic_ÿ¡
<
IPAdd»ss
>(

));

1012 
¡r
 = "2401:fa00:4:1000:be30:5bff:fee5:c5";

1013 
	`ASSERT_TRUE
(
	`IPFromSŒšg
(
¡r
, 
IPV6_ADDRESS_FLAG_NONE
, &

));

1014 
v6_ÃtwÜk
.
	`AddIP
(

);

1015 
	`EXPECT_EQ
(
v6_ÃtwÜk
.
	`G‘Be¡IP
(), 
¡©ic_ÿ¡
<
IPAdd»ss
>(

));

1018 
¡r
 = "2401:fa00:4:1000:be30:5bff:fee5:c6";

1019 
	`ASSERT_TRUE
(
	`IPFromSŒšg
(
¡r
, 
IPV6_ADDRESS_FLAG_TEMPORARY
, &

));

1020 
v6_ÃtwÜk
.
	`AddIP
(

);

1021 
	`EXPECT_EQ
(
v6_ÃtwÜk
.
	`G‘Be¡IP
(), 
¡©ic_ÿ¡
<
IPAdd»ss
>(

));

1022 
	}
}

1024 
	$TEST_F
(
N‘wÜkTe¡
, 
Te¡N‘wÜkMÚ™Üšg
) {

1025 
BasicN‘wÜkMªag”
 
mªag”
;

1026 
mªag”
.
SigÇlN‘wÜksChªged
.
	`cÚÃù
(
¡©ic_ÿ¡
<
N‘wÜkTe¡
*>(
this
),

1027 &
N‘wÜkTe¡
::
OnN‘wÜksChªged
);

1028 
FakeN‘wÜkMÚ™ÜFaùÜy
* 
çùÜy
 = 
Ãw
 
	`FakeN‘wÜkMÚ™ÜFaùÜy
();

1029 
N‘wÜkMÚ™ÜFaùÜy
::
	`S‘FaùÜy
(
çùÜy
);

1030 
mªag”
.
	`S¹Upd©šg
();

1031 
FakeN‘wÜkMÚ™Ü
* 
ÃtwÜk_mÚ™Ü
 = 
	`G‘N‘wÜkMÚ™Ü
(
mªag”
);

1032 
	`EXPECT_TRUE
(
ÃtwÜk_mÚ™Ü
 &&‚‘wÜk_mÚ™Ü->
	`¡¬‹d
());

1033 
	`EXPECT_TRUE_WAIT
(
ÿÎback_ÿÎed_
, 1000);

1034 
ÿÎback_ÿÎed_
 = 
çl£
;

1037 
	`CË¬N‘wÜks
(
mªag”
);

1040 
ÃtwÜk_mÚ™Ü
->
	`OnN‘wÜksChªged
();

1041 
	`EXPECT_TRUE_WAIT
(
ÿÎback_ÿÎed_
, 1000);

1044 
mªag”
.
	`StİUpd©šg
();

1045 
	`EXPECT_FALSE
(
	`G‘N‘wÜkMÚ™Ü
(
mªag”
)->
	`¡¬‹d
());

1047 
N‘wÜkMÚ™ÜFaùÜy
::
	`R–—£FaùÜy
(
çùÜy
);

1048 
	}
}

1051 #ià
	$defšed
(
WEBRTC_ANDROID
)

1052 
	#MAYBE_DeçuÉLoÿlAdd»ss
 
DISABLED_DeçuÉLoÿlAdd»ss


	)

1054 
	#MAYBE_DeçuÉLoÿlAdd»ss
 
DeçuÉLoÿlAdd»ss


	)

1056 
	$TEST_F
(
N‘wÜkTe¡
, 
MAYBE_DeçuÉLoÿlAdd»ss
) {

1057 
IPAdd»ss
 

;

1058 
Te¡BasicN‘wÜkMªag”
 
mªag”
;

1059 
mªag”
.
SigÇlN‘wÜksChªged
.
	`cÚÃù
(
¡©ic_ÿ¡
<
N‘wÜkTe¡
*>(
this
),

1060 &
N‘wÜkTe¡
::
OnN‘wÜksChªged
);

1061 
FakeN‘wÜkMÚ™ÜFaùÜy
* 
çùÜy
 = 
Ãw
 
	`FakeN‘wÜkMÚ™ÜFaùÜy
();

1062 
N‘wÜkMÚ™ÜFaùÜy
::
	`S‘FaùÜy
(
çùÜy
);

1063 
mªag”
.
	`S¹Upd©šg
();

1064 
	`EXPECT_TRUE_WAIT
(
ÿÎback_ÿÎed_
, 1000);

1068 
¡d
::
veùÜ
<
N‘wÜk
*> 
ÃtwÜks
;

1069 
mªag”
.
	`G‘N‘wÜks
(&
ÃtwÜks
);

1070 
	`EXPECT_TRUE
(!
ÃtwÜks
.
	`em±y
());

1071 cÚ¡‡uto* 
ÃtwÜk
 : 
ÃtwÜks
) {

1072 ià(
ÃtwÜk
->
	`G‘Be¡IP
().
	`çmy
(è=ğ
AF_INET
) {

1073 
	`EXPECT_TRUE
(
mªag”
.
	`Qu”yDeçuÉLoÿlAdd»ss
(
AF_INET
è!ğ
	`IPAdd»ss
());

1074 } ià(
ÃtwÜk
->
	`G‘Be¡IP
().
	`çmy
(è=ğ
AF_INET6
 &&

1075 !
	`IPIsLoİback
(
ÃtwÜk
->
	`G‘Be¡IP
())) {

1078 
	`EXPECT_TRUE
(
mªag”
.
	`Qu”yDeçuÉLoÿlAdd»ss
(
AF_INET6
è!ğ
	`IPAdd»ss
());

1083 
mªag”
.
	`£t_deçuÉ_loÿl_add»s£s
(
	`G‘LoİbackIP
(
AF_INET
),

1084 
	`G‘LoİbackIP
(
AF_INET6
));

1085 
	`EXPECT_TRUE
(
mªag”
.
	`G‘DeçuÉLoÿlAdd»ss
(
AF_INET
, &

));

1086 
	`EXPECT_EQ
(

, 
	`G‘LoİbackIP
(
AF_INET
));

1087 
	`EXPECT_TRUE
(
mªag”
.
	`G‘DeçuÉLoÿlAdd»ss
(
AF_INET6
, &

));

1088 
	`EXPECT_EQ
(

, 
	`G‘LoİbackIP
(
AF_INET6
));

1092 
IÁ”çûAdd»ss
 
1
;

1093 
	`EXPECT_TRUE
(
	`IPFromSŒšg
("abcd::1234:5678:abcd:1111",

1094 
IPV6_ADDRESS_FLAG_TEMPORARY
, &
1
));

1096 
N‘wÜk
 
	`v6_ÃtwÜk
("‹¡_‘h0", "Te¡ N‘wÜkAd­‹r", 
	`Trunÿ‹IP
(
1
, 64),

1098 
IPAdd»ss
 
2
;

1099 
	`EXPECT_TRUE
(
	`IPFromSŒšg
("abcd::1234:5678:abcd:2222", &
2
));

1100 
v6_ÃtwÜk
.
	`AddIP
(
1
);

1101 
v6_ÃtwÜk
.
	`AddIP
(
2
);

1102 
BasicN‘wÜkMªag”
::
N‘wÜkLi¡
 
	`li¡
(1, 
Ãw
 
	`N‘wÜk
(
v6_ÃtwÜk
));

1103 
boŞ
 
chªged
;

1104 
	`M”geN‘wÜkLi¡
(
mªag”
, 
li¡
, &
chªged
);

1107 
IPAdd»ss
 
3
;

1108 
	`EXPECT_TRUE
(
	`IPFromSŒšg
("abcd::1234:5678:abcd:3333", &
3
));

1109 
mªag”
.
	`£t_deçuÉ_loÿl_add»s£s
(
	`G‘LoİbackIP
(
AF_INET
), 
3
);

1110 
	`EXPECT_TRUE
(
mªag”
.
	`G‘DeçuÉLoÿlAdd»ss
(
AF_INET6
, &

));

1111 
	`EXPECT_EQ
(
3
, 

);

1114 
mªag”
.
	`£t_deçuÉ_loÿl_add»s£s
(
	`G‘LoİbackIP
(
AF_INET
), 
2
);

1115 
	`EXPECT_TRUE
(
mªag”
.
	`G‘DeçuÉLoÿlAdd»ss
(
AF_INET6
, &

));

1116 
	`EXPECT_EQ
(
¡©ic_ÿ¡
<
IPAdd»ss
>(
1
), 

);

1118 
mªag”
.
	`StİUpd©šg
();

1119 
	}
}

1123 
	$TEST_F
(
N‘wÜkTe¡
, 
Te¡Wh’N‘wÜkLi¡ChªgeR‘uºsChªgedFÏg
) {

1124 
BasicN‘wÜkMªag”
 
mªag”
;

1126 
IPAdd»ss
 
1
;

1127 
	`EXPECT_TRUE
(
	`IPFromSŒšg
("2400:4030:1:2c00:be30:0:0:1", &
1
));

1128 
N‘wÜk
* 
Ãt1
 = 
Ãw
 
	`N‘wÜk
("em1", "em1", 
	`Trunÿ‹IP
(
1
, 64), 64);

1129 
Ãt1
->
	`£t_ty³
(
ADAPTER_TYPE_CELLULAR_3G
);

1130 
Ãt1
->
	`AddIP
(
1
);

1131 
N‘wÜkMªag”
::
N‘wÜkLi¡
 
li¡
;

1132 
li¡
.
	`push_back
(
Ãt1
);

1135 
boŞ
 
chªged
;

1136 
	`M”geN‘wÜkLi¡
(
mªag”
, 
li¡
, &
chªged
);

1137 
	`EXPECT_TRUE
(
chªged
);

1138 
N‘wÜkMªag”
::
N‘wÜkLi¡
 
li¡2
;

1139 
mªag”
.
	`G‘N‘wÜks
(&
li¡2
);

1140 
	`EXPECT_EQ
(
li¡2
.
	`size
(), 1uL);

1141 
	`EXPECT_EQ
(
ADAPTER_TYPE_CELLULAR_3G
, 
li¡2
[0]->
	`ty³
());

1146 
N‘wÜk
* 
Ãt2
 = 
Ãw
 
	`N‘wÜk
("em1", "em1", 
	`Trunÿ‹IP
(
1
, 64), 64);

1147 
Ãt2
->
	`£t_ty³
(
ADAPTER_TYPE_CELLULAR_4G
);

1148 
Ãt2
->
	`AddIP
(
1
);

1149 
li¡
.
	`ş—r
();

1150 
li¡
.
	`push_back
(
Ãt2
);

1151 
boŞ
 
chªged
;

1152 
	`M”geN‘wÜkLi¡
(
mªag”
, 
li¡
, &
chªged
);

1156 
	`EXPECT_FALSE
(
chªged
);

1157 
N‘wÜkMªag”
::
N‘wÜkLi¡
 
li¡2
;

1158 
mªag”
.
	`G‘N‘wÜks
(&
li¡2
);

1159 
	`ASSERT_EQ
(
li¡2
.
	`size
(), 1uL);

1160 
	`EXPECT_EQ
(
ADAPTER_TYPE_CELLULAR_4G
, 
li¡2
[0]->
	`ty³
());

1165 
N‘wÜk
* 
Ãt2
 = 
Ãw
 
	`N‘wÜk
("em1", "em1", 
	`Trunÿ‹IP
(
1
, 64), 64);

1166 
Ãt2
->
	`£t_ty³
(
ADAPTER_TYPE_CELLULAR_4G
);

1167 
Ãt2
->
	`AddIP
(
1
);

1168 
li¡
.
	`ş—r
();

1169 
li¡
.
	`push_back
(
Ãt2
);

1170 
boŞ
 
chªged
;

1171 
	`M”geN‘wÜkLi¡
(
mªag”
, 
li¡
, &
chªged
);

1174 
	`EXPECT_FALSE
(
chªged
);

1175 
N‘wÜkMªag”
::
N‘wÜkLi¡
 
li¡2
;

1176 
mªag”
.
	`G‘N‘wÜks
(&
li¡2
);

1177 
	`ASSERT_EQ
(
li¡2
.
	`size
(), 1uL);

1178 
	`EXPECT_EQ
(
ADAPTER_TYPE_CELLULAR_4G
, 
li¡2
[0]->
	`ty³
());

1180 
	}
}

	@null_socket_server.cc

11 
	~"¹c_ba£/nuÎ_sock‘_£rv”.h
"

13 
	~"¹c_ba£/checks.h
"

15 
Çme¥aû
 
	g¹c
 {

17 
	gNuÎSock‘S”v”
::
NuÎSock‘S”v”
() = ;

18 
	gNuÎSock‘S”v”
::~
NuÎSock‘S”v”
() {}

20 
boŞ
 
NuÎSock‘S”v”
::
Wa™
(
cms
, boŞ 
´oûss_io
) {

24 
	gev’t_
.
Wa™
Ğ
cms
, 
Ev’t
::
kFÜev”
);

25  
	gŒue
;

28 
	gNuÎSock‘S”v”
::
WakeUp
() {

29 
ev’t_
.
S‘
();

32 
	g¹c
::
Sock‘
* 
NuÎSock‘S”v”
::
C»©eSock‘
(, ) {

33 
RTC_NOTREACHED
();

34  
	gnuÎ±r
;

37 
	g¹c
::
AsyncSock‘
* 
NuÎSock‘S”v”
::
C»©eAsyncSock‘
(,

39 
RTC_NOTREACHED
();

40  
	gnuÎ±r
;

	@null_socket_server.h

11 #iâdeà
RTC_BASE_NULL_SOCKET_SERVER_H_


12 
	#RTC_BASE_NULL_SOCKET_SERVER_H_


	)

14 
	~"¹c_ba£/async_sock‘.h
"

15 
	~"¹c_ba£/ev’t.h
"

16 
	~"¹c_ba£/sock‘.h
"

17 
	~"¹c_ba£/sock‘_£rv”.h
"

18 
	~"¹c_ba£/sy¡em/¹c_expÜt.h
"

20 
Çme¥aû
 
	g¹c
 {

22 şas 
	cRTC_EXPORT
 
	gNuÎSock‘S”v”
 : 
public
 
Sock‘S”v”
 {

23 
public
:

24 
NuÎSock‘S”v”
();

25 ~
NuÎSock‘S”v”
(è
	gov”ride
;

27 
boŞ
 
Wa™
(
cms
, boŞ 
´oûss_io
è
	gov”ride
;

28 
WakeUp
(è
	gov”ride
;

30 
Sock‘
* 
C»©eSock‘
(
çmy
, 
ty³
è
	gov”ride
;

31 
AsyncSock‘
* 
C»©eAsyncSock‘
(
çmy
, 
ty³
è
	gov”ride
;

33 
	g´iv©e
:

34 
Ev’t
 
ev’t_
;

	@null_socket_server_unittest.cc

11 
	~"¹c_ba£/nuÎ_sock‘_£rv”.h
"

13 
	~<¡dšt.h
>

15 
	~<memÜy
>

17 
	~"¹c_ba£/gun™.h
"

18 
	~"¹c_ba£/loÿtiÚ.h
"

19 
	~"¹c_ba£/mes§ge_hªdËr.h
"

20 
	~"¹c_ba£/th»ad.h
"

21 
	~"¹c_ba£/time_uts.h
"

22 
	~"‹¡/g‹¡.h
"

24 
Çme¥aû
 
	g¹c
 {

26 cÚ¡ 
ušt32_t
 
	gkTimeout
 = 5000U;

28 
şass
 
	gNuÎSock‘S”v”Te¡
 : 
public
 ::
‹¡šg
::
Te¡
,…ubliø
	gMes§geHªdËr
 {

29 
	g´Ùeùed
:

30 
OnMes§ge
(
Mes§ge
* 
mes§ge
è
ov”ride
 { 
ss_
.
WakeUp
(); }

32 
NuÎSock‘S”v”
 
	gss_
;

35 
TEST_F
(
NuÎSock‘S”v”Te¡
, 
Wa™AndS‘
) {

36 autØ
	gth»ad
 = 
Th»ad
::
C»©e
();

37 
EXPECT_TRUE
(
th»ad
->
S¹
());

38 
	gth»ad
->
Po¡
(
RTC_FROM_HERE
, 
this
, 0);

40 cÚ¡ 
boŞ
 
	g´oûss_io
 = 
Œue
;

41 
EXPECT_TRUE_WAIT
(
ss_
.
Wa™
(
Sock‘S”v”
::
kFÜev”
, 
´oûss_io
), 
kTimeout
);

44 
TEST_F
(
NuÎSock‘S”v”Te¡
, 
Te¡Wa™
) {

45 
št64_t
 
	g¡¬t
 = 
TimeMlis
();

46 
	gss_
.
Wa™
(200, 
Œue
);

49 
EXPECT_GE
(
TimeSšû
(
¡¬t
), 180);

	@numerics/divide_round.h

11 #iâdeà
RTC_BASE_NUMERICS_DIVIDE_ROUND_H_


12 
	#RTC_BASE_NUMERICS_DIVIDE_ROUND_H_


	)

14 
	~<ty³_Œa™s
>

16 
	~"¹c_ba£/checks.h
"

17 
	~"¹c_ba£/num”ics/§ã_com·».h
"

19 
Çme¥aû
 
	gweb¹c
 {

21 
	g‹m¶©e
 <
ty³Çme
 
	gDivid’d
,y³Çm
	gDivisÜ
>

22 
šlše
‡utØ
cÚ¡ex´
 
DivideRoundUp
(
Divid’d
 
divid’d
, 
DivisÜ
 
divisÜ
) {

23 
¡©ic_as£¹
(
¡d
::
is_š‹g¿l
<
Divid’d
>(), "");

24 
¡©ic_as£¹
(
¡d
::
is_š‹g¿l
<
DivisÜ
>(), "");

25 
RTC_DCHECK_GE
(
divid’d
, 0);

26 
RTC_DCHECK_GT
(
divisÜ
, 0);

28 autØ
	gquÙ›Á
 = 
divid’d
 / 
divisÜ
;

29 autØ
	g»mašd”
 = 
divid’d
 % 
divisÜ
;

30  
	gquÙ›Á
 + (
	g»mašd”
 > 0 ? 1 : 0);

33 
	g‹m¶©e
 <
ty³Çme
 
	gDivid’d
,y³Çm
	gDivisÜ
>

34 
šlše
‡utØ
cÚ¡ex´
 
DivideRoundToN—»¡
(
Divid’d
 
divid’d
, 
DivisÜ
 
divisÜ
) {

35 
¡©ic_as£¹
(
¡d
::
is_š‹g¿l
<
Divid’d
>(), "");

36 
¡©ic_as£¹
(
¡d
::
is_š‹g¿l
<
DivisÜ
>(), "");

37 
RTC_DCHECK_GE
(
divid’d
, 0);

38 
RTC_DCHECK_GT
(
divisÜ
, 0);

40 autØ
	gh®f_of_divisÜ
 = (
divisÜ
 - 1) / 2;

41 autØ
	gquÙ›Á
 = 
divid’d
 / 
divisÜ
;

42 autØ
	g»mašd”
 = 
divid’d
 % 
divisÜ
;

43  
	gquÙ›Á
 + (
	g¹c
::
SaãGt
(
»mašd”
, 
h®f_of_divisÜ
) ? 1 : 0);

	@numerics/divide_round_unittest.cc

11 
	~"¹c_ba£/num”ics/divide_round.h
"

13 
	~<lim™s
>

15 
	~"‹¡/g‹¡.h
"

17 
Çme¥aû
 
	gweb¹c
 {

18 
	gÇme¥aû
 {

20 
TEST
(
DivideRoundUpTe¡
, 
CªBeU£dAsCÚ¡ex´
) {

21 
¡©ic_as£¹
(
DivideRoundUp
(5, 1) == 5, "");

22 
¡©ic_as£¹
(
DivideRoundUp
(5, 2) == 3, "");

25 
TEST
(
DivideRoundUpTe¡
, 
R‘uºsZ”oFÜZ”oDivid’d
) {

26 
EXPECT_EQ
(
DivideRoundUp
(
ušt8_t
{0}, 1), 0);

27 
EXPECT_EQ
(
DivideRoundUp
(
ušt8_t
{0}, 3), 0);

28 
EXPECT_EQ
(
DivideRoundUp
({0}, 1), 0);

29 
EXPECT_EQ
(
DivideRoundUp
({0}, 3), 0);

32 
TEST
(
DivideRoundUpTe¡
, 
WÜksFÜMaxDivid’d
) {

33 
EXPECT_EQ
(
DivideRoundUp
(
ušt8_t
{255}, 2), 128);

34 
EXPECT_EQ
(
DivideRoundUp
(
¡d
::
num”ic_lim™s
<>::
max
(), 2),

35 
¡d
::
num”ic_lim™s
<>::
max
() / 2 +

36 (
¡d
::
num”ic_lim™s
<>::
max
() % 2));

39 
TEST
(
DivideRoundToN—»¡Te¡
, 
CªBeU£dAsCÚ¡ex´
) {

40 
cÚ¡ex´
 
	gkOÃ
 = 
DivideRoundToN—»¡
(5, 4);

41 
cÚ¡ex´
 
	gkTwo
 = 
DivideRoundToN—»¡
(7, 4);

42 
¡©ic_as£¹
(
kOÃ
 == 1, "");

43 
¡©ic_as£¹
(
kTwo
 == 2, "");

46 
TEST
(
DivideRoundToN—»¡Te¡
, 
DivideByOddNumb”
) {

47 
EXPECT_EQ
(
DivideRoundToN—»¡
(0, 3), 0);

48 
EXPECT_EQ
(
DivideRoundToN—»¡
(1, 3), 0);

49 
EXPECT_EQ
(
DivideRoundToN—»¡
(2, 3), 1);

50 
EXPECT_EQ
(
DivideRoundToN—»¡
(3, 3), 1);

51 
EXPECT_EQ
(
DivideRoundToN—»¡
(4, 3), 1);

52 
EXPECT_EQ
(
DivideRoundToN—»¡
(5, 3), 2);

53 
EXPECT_EQ
(
DivideRoundToN—»¡
(6, 3), 2);

56 
TEST
(
DivideRoundToN—»¡Te¡
, 
DivideByEv’Numb”T›RoundsUp
) {

57 
EXPECT_EQ
(
DivideRoundToN—»¡
(0, 4), 0);

58 
EXPECT_EQ
(
DivideRoundToN—»¡
(1, 4), 0);

59 
EXPECT_EQ
(
DivideRoundToN—»¡
(2, 4), 1);

60 
EXPECT_EQ
(
DivideRoundToN—»¡
(3, 4), 1);

61 
EXPECT_EQ
(
DivideRoundToN—»¡
(4, 4), 1);

62 
EXPECT_EQ
(
DivideRoundToN—»¡
(5, 4), 1);

63 
EXPECT_EQ
(
DivideRoundToN—»¡
(6, 4), 2);

64 
EXPECT_EQ
(
DivideRoundToN—»¡
(7, 4), 2);

67 
TEST
(
DivideRoundToN—»¡Te¡
, 
L¬geDivisÜ
) {

68 
EXPECT_EQ
(
DivideRoundToN—»¡
(
¡d
::
num”ic_lim™s
<>::
max
() - 1,

69 
¡d
::
num”ic_lim™s
<>::
max
()),

73 
TEST
(
DivideRoundToN—»¡Te¡
, 
DivideSm®lTy³ByL¬geTy³
) {

74 
ušt8_t
 
	gsm®l
 = 0xff;

75 
ušt16_t
 
	gÏrge
 = 0xffff;

76 
EXPECT_EQ
(
DivideRoundToN—»¡
(
sm®l
, 
Ïrge
), 0);

79 
usšg
 
	gIÁeg”Ty³s
 = ::
‹¡šg
::
Ty³s
<
št8_t
,

80 
	gšt16_t
,

81 
	gšt32_t
,

82 
	gšt64_t
,

83 
	gušt8_t
,

84 
	gušt16_t
,

85 
	gušt32_t
,

86 
	gušt64_t
>;

87 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

88 şas 
	cDivideRoundTy³dTe¡
 : 
public
 ::
‹¡šg
::
Te¡
 {};

89 
TYPED_TEST_SUITE
(
DivideRoundTy³dTe¡
, 
IÁeg”Ty³s
);

91 
TYPED_TEST
(
DivideRoundTy³dTe¡
, 
RoundToN—»¡P»£rvesTy³
) {

92 
¡©ic_as£¹
(

93 
¡d
::
is_§me
<
deşty³
(
DivideRoundToN—»¡
(
Ty³P¬am
{100}, 
št8_t
{3})),

94 
deşty³
(
Ty³P¬am
{100} / 
št8_t
{3})>::
v®ue
,

96 
¡©ic_as£¹
(

97 
¡d
::
is_§me
<
deşty³
(
DivideRoundToN—»¡
(
Ty³P¬am
{100}, 
št16_t
{3})),

98 
deşty³
(
Ty³P¬am
{100} / 
št16_t
{3})>::
v®ue
,

100 
¡©ic_as£¹
(

101 
¡d
::
is_§me
<
deşty³
(
DivideRoundToN—»¡
(
Ty³P¬am
{100}, 
št32_t
{3})),

102 
deşty³
(
Ty³P¬am
{100} / 
št32_t
{3})>::
v®ue
,

104 
¡©ic_as£¹
(

105 
¡d
::
is_§me
<
deşty³
(
DivideRoundToN—»¡
(
Ty³P¬am
{100}, 
št64_t
{3})),

106 
deşty³
(
Ty³P¬am
{100} / 
št64_t
{3})>::
v®ue
,

108 
¡©ic_as£¹
(

109 
¡d
::
is_§me
<
deşty³
(
DivideRoundToN—»¡
(
Ty³P¬am
{100}, 
ušt8_t
{3})),

110 
deşty³
(
Ty³P¬am
{100} / 
ušt8_t
{3})>::
v®ue
,

112 
¡©ic_as£¹
(

113 
¡d
::
is_§me
<
deşty³
(
DivideRoundToN—»¡
(
Ty³P¬am
{100}, 
ušt16_t
{3})),

114 
deşty³
(
Ty³P¬am
{100} / 
ušt16_t
{3})>::
v®ue
,

116 
¡©ic_as£¹
(

117 
¡d
::
is_§me
<
deşty³
(
DivideRoundToN—»¡
(
Ty³P¬am
{100}, 
ušt32_t
{3})),

118 
deşty³
(
Ty³P¬am
{100} / 
ušt32_t
{3})>::
v®ue
,

120 
¡©ic_as£¹
(

121 
¡d
::
is_§me
<
deşty³
(
DivideRoundToN—»¡
(
Ty³P¬am
{100}, 
ušt64_t
{3})),

122 
deşty³
(
Ty³P¬am
{100} / 
ušt64_t
{3})>::
v®ue
,

126 
TYPED_TEST
(
DivideRoundTy³dTe¡
, 
RoundUpP»£rvesTy³
) {

127 
¡©ic_as£¹
(
¡d
::
is_§me
<
deşty³
(
DivideRoundUp
(
Ty³P¬am
{100}, 
št8_t
{3})),

128 
deşty³
(
Ty³P¬am
{100} / 
št8_t
{3})>::
v®ue
,

130 
¡©ic_as£¹
(

131 
¡d
::
is_§me
<
deşty³
(
DivideRoundUp
(
Ty³P¬am
{100}, 
št16_t
{3})),

132 
deşty³
(
Ty³P¬am
{100} / 
št16_t
{3})>::
v®ue
,

134 
¡©ic_as£¹
(

135 
¡d
::
is_§me
<
deşty³
(
DivideRoundUp
(
Ty³P¬am
{100}, 
št32_t
{3})),

136 
deşty³
(
Ty³P¬am
{100} / 
št32_t
{3})>::
v®ue
,

138 
¡©ic_as£¹
(

139 
¡d
::
is_§me
<
deşty³
(
DivideRoundUp
(
Ty³P¬am
{100}, 
št64_t
{3})),

140 
deşty³
(
Ty³P¬am
{100} / 
št64_t
{3})>::
v®ue
,

142 
¡©ic_as£¹
(

143 
¡d
::
is_§me
<
deşty³
(
DivideRoundUp
(
Ty³P¬am
{100}, 
ušt8_t
{3})),

144 
deşty³
(
Ty³P¬am
{100} / 
ušt8_t
{3})>::
v®ue
,

146 
¡©ic_as£¹
(

147 
¡d
::
is_§me
<
deşty³
(
DivideRoundUp
(
Ty³P¬am
{100}, 
ušt16_t
{3})),

148 
deşty³
(
Ty³P¬am
{100} / 
ušt16_t
{3})>::
v®ue
,

150 
¡©ic_as£¹
(

151 
¡d
::
is_§me
<
deşty³
(
DivideRoundUp
(
Ty³P¬am
{100}, 
ušt32_t
{3})),

152 
deşty³
(
Ty³P¬am
{100} / 
ušt32_t
{3})>::
v®ue
,

154 
¡©ic_as£¹
(

155 
¡d
::
is_§me
<
deşty³
(
DivideRoundUp
(
Ty³P¬am
{100}, 
ušt64_t
{3})),

156 
deşty³
(
Ty³P¬am
{100} / 
ušt64_t
{3})>::
v®ue
,

	@numerics/event_based_exponential_moving_average.cc

11 
	~"¹c_ba£/num”ics/ev’t_ba£d_expÚ’tŸl_movšg_av”age.h
"

13 
	~<cm©h
>

15 
	~"¹c_ba£/checks.h
"

17 
	gÇme¥aû
 {

21 
cÚ¡ex´
 
	gnš‘yfive_³rûÁ_cÚfid’û
 = 1.96;

25 
Çme¥aû
 
	g¹c
 {

30 
	gEv’tBa£dExpÚ’tŸlMovšgAv”age
::
Ev’tBa£dExpÚ’tŸlMovšgAv”age
(

31 
h®f_time
) {

32 
S‘H®fTime
(
h®f_time
);

35 
	gEv’tBa£dExpÚ’tŸlMovšgAv”age
::
S‘H®fTime
(
h®f_time
) {

36 
u_
 = 
¡©ic_ÿ¡
<>(
h®f_time
è/ 
log
(2);

37 
Re£t
();

40 
	gEv’tBa£dExpÚ’tŸlMovšgAv”age
::
Re£t
() {

41 
v®ue_
 = 
¡d
::
Çn
("uninit");

42 
	g§m¶e_v¬Ÿnû_
 = 
¡d
::
num”ic_lim™s
<>::
šfš™y
();

43 
	ge¡im©Ü_v¬Ÿnû_
 = 1;

44 
	gÏ¡_ob£rv©iÚ_time¡amp_
.
»£t
();

47 
	gEv’tBa£dExpÚ’tŸlMovšgAv”age
::
AddSam¶e
(
št64_t
 
now
, 
§m¶e
) {

48 ià(!
	gÏ¡_ob£rv©iÚ_time¡amp_
.
has_v®ue
()) {

49 
	gv®ue_
 = 
§m¶e
;

54 
RTC_DCHECK
(
now
 >ğ*
Ï¡_ob£rv©iÚ_time¡amp_
);

56 
št64_t
 
	gage
 = 
now
 - *
Ï¡_ob£rv©iÚ_time¡amp_
;

57 
	ge
 = 
exp
(-
age
 / 
u_
);

58 
	g®pha
 = 
e
 / (1 +ƒ);

59 
	gÚe_mšus_®pha
 = 1 - 
®pha
;

60 
	g§m¶e_diff
 = 
§m¶e
 - 
v®ue_
;

61 
	gv®ue_
 = 
Úe_mšus_®pha
 * 
v®ue_
 + 
®pha
 * 
§m¶e
;

62 
	ge¡im©Ü_v¬Ÿnû_
 =

63 (
Úe_mšus_®pha
 * oÃ_mšus_®phaè* 
e¡im©Ü_v¬Ÿnû_
 +

64 (
®pha
 *‡lpha);

65 ià(
	g§m¶e_v¬Ÿnû_
 =ğ
¡d
::
num”ic_lim™s
<>::
šfš™y
()) {

67 
§m¶e_v¬Ÿnû_
 = 
§m¶e_diff
 * sample_diff;

69 
	gÃw_v¬Ÿnû
 = 
Úe_mšus_®pha
 * 
§m¶e_v¬Ÿnû_
 +

70 
®pha
 * 
§m¶e_diff
 * sample_diff;

71 
	g§m¶e_v¬Ÿnû_
 = 
Ãw_v¬Ÿnû
;

74 
	gÏ¡_ob£rv©iÚ_time¡amp_
 = 
now
;

77 
	gEv’tBa£dExpÚ’tŸlMovšgAv”age
::
G‘CÚfid’ûIÁ”v®
() const {

78  
nš‘yfive_³rûÁ_cÚfid’û
 *

79 
sq¹
(
§m¶e_v¬Ÿnû_
 * 
e¡im©Ü_v¬Ÿnû_
);

	@numerics/event_based_exponential_moving_average.h

11 #iâdeà
RTC_BASE_NUMERICS_EVENT_BASED_EXPONENTIAL_MOVING_AVERAGE_H_


12 
	#RTC_BASE_NUMERICS_EVENT_BASED_EXPONENTIAL_MOVING_AVERAGE_H_


	)

14 
	~<cm©h
>

15 
	~<c¡dšt
>

16 
	~<lim™s
>

17 
	~"ab¦/ty³s/İtiÚ®.h
"

19 
Çme¥aû
 
	g¹c
 {

31 şas 
	cEv’tBa£dExpÚ’tŸlMovšgAv”age
 {

32 
	gpublic
:

35 
ex¶ic™
 
Ev’tBa£dExpÚ’tŸlMovšgAv”age
(
h®f_time
);

37 
AddSam¶e
(
št64_t
 
now
, 
v®ue
);

39 
G‘Av”age
(ècÚ¡ {  
	gv®ue_
; }

40 
G‘V¬Ÿnû
(ècÚ¡ {  
	g§m¶e_v¬Ÿnû_
; }

50 
G‘CÚfid’ûIÁ”v®
() const;

53 
Re£t
();

57 
S‘H®fTime
(
h®f_time
);

59 
	g´iv©e
:

60 
u_
;

61 
	gv®ue_
 = 
¡d
::
Çn
("uninit");

62 
	g§m¶e_v¬Ÿnû_
 = 
¡d
::
num”ic_lim™s
<>::
šfš™y
();

64 
	ge¡im©Ü_v¬Ÿnû_
 = 1;

65 
	gab¦
::
İtiÚ®
<
št64_t
> 
Ï¡_ob£rv©iÚ_time¡amp_
;

	@numerics/event_based_exponential_moving_average_unittest.cc

11 
	~"¹c_ba£/num”ics/ev’t_ba£d_expÚ’tŸl_movšg_av”age.h
"

13 
	~<cm©h
>

15 
	~"‹¡/g‹¡.h
"

17 
	gÇme¥aû
 {

19 
cÚ¡ex´
 
	gkH®fTime
 = 500;

20 
cÚ¡ex´
 
	gkE¼Ü
 = 0.1;

24 
Çme¥aû
 
	g¹c
 {

26 
TEST
(
Ev’tBa£dExpÚ’tŸlMovšgAv”ageTe¡
, 
NoV®ue
) {

27 
Ev’tBa£dExpÚ’tŸlMovšgAv”age
 
av”age
(
kH®fTime
);

29 
EXPECT_TRUE
(
¡d
::
i¢ª
(
av”age
.
G‘Av”age
()));

30 
EXPECT_EQ
(
¡d
::
num”ic_lim™s
<>::
šfš™y
(), 
av”age
.
G‘V¬Ÿnû
());

31 
EXPECT_EQ
(
¡d
::
num”ic_lim™s
<>::
šfš™y
(),

32 
av”age
.
G‘CÚfid’ûIÁ”v®
());

35 
TEST
(
Ev’tBa£dExpÚ’tŸlMovšgAv”ageTe¡
, 
Fœ¡V®ue
) {

36 
Ev’tBa£dExpÚ’tŸlMovšgAv”age
 
av”age
(
kH®fTime
);

38 
št64_t
 
	gtime
 = 23;

39 
cÚ¡ex´
 
	gv®ue
 = 1000;

40 
	gav”age
.
AddSam¶e
(
time
, 
v®ue
);

41 
EXPECT_NEAR
(
v®ue
, 
av”age
.
G‘Av”age
(), 
kE¼Ü
);

42 
EXPECT_EQ
(
¡d
::
num”ic_lim™s
<>::
šfš™y
(), 
av”age
.
G‘V¬Ÿnû
());

43 
EXPECT_EQ
(
¡d
::
num”ic_lim™s
<>::
šfš™y
(),

44 
av”age
.
G‘CÚfid’ûIÁ”v®
());

47 
TEST
(
Ev’tBa£dExpÚ’tŸlMovšgAv”ageTe¡
, 
H®f
) {

48 
Ev’tBa£dExpÚ’tŸlMovšgAv”age
 
av”age
(
kH®fTime
);

50 
št64_t
 
	gtime
 = 23;

51 
cÚ¡ex´
 
	gv®ue
 = 1000;

52 
	gav”age
.
AddSam¶e
(
time
, 
v®ue
);

53 
	gav”age
.
AddSam¶e
(
time
 + 
kH®fTime
, 0);

54 
EXPECT_NEAR
(666.7, 
av”age
.
G‘Av”age
(), 
kE¼Ü
);

55 
EXPECT_NEAR
(1000000, 
av”age
.
G‘V¬Ÿnû
(), 
kE¼Ü
);

56 
EXPECT_NEAR
(1460.9, 
av”age
.
G‘CÚfid’ûIÁ”v®
(), 
kE¼Ü
);

59 
TEST
(
Ev’tBa£dExpÚ’tŸlMovšgAv”ageTe¡
, 
Same
) {

60 
Ev’tBa£dExpÚ’tŸlMovšgAv”age
 
av”age
(
kH®fTime
);

62 
št64_t
 
	gtime
 = 23;

63 
cÚ¡ex´
 
	gv®ue
 = 1000;

64 
	gav”age
.
AddSam¶e
(
time
, 
v®ue
);

65 
	gav”age
.
AddSam¶e
(
time
 + 
kH®fTime
, 
v®ue
);

66 
EXPECT_NEAR
(
v®ue
, 
av”age
.
G‘Av”age
(), 
kE¼Ü
);

67 
EXPECT_NEAR
(0, 
av”age
.
G‘V¬Ÿnû
(), 
kE¼Ü
);

68 
EXPECT_NEAR
(0, 
av”age
.
G‘CÚfid’ûIÁ”v®
(), 
kE¼Ü
);

71 
TEST
(
Ev’tBa£dExpÚ’tŸlMovšgAv”ageTe¡
, 
Almo¡100
) {

72 
Ev’tBa£dExpÚ’tŸlMovšgAv”age
 
av”age
(
kH®fTime
);

74 
št64_t
 
	gtime
 = 23;

75 
cÚ¡ex´
 
	gv®ue
 = 100;

76 
	gav”age
.
AddSam¶e
(
time
 + 0 * 
kH®fTime
, 
v®ue
 - 10);

77 
	gav”age
.
AddSam¶e
(
time
 + 1 * 
kH®fTime
, 
v®ue
 + 10);

78 
	gav”age
.
AddSam¶e
(
time
 + 2 * 
kH®fTime
, 
v®ue
 - 15);

79 
	gav”age
.
AddSam¶e
(
time
 + 3 * 
kH®fTime
, 
v®ue
 + 15);

80 
EXPECT_NEAR
(100.2, 
av”age
.
G‘Av”age
(), 
kE¼Ü
);

81 
EXPECT_NEAR
(372.6, 
av”age
.
G‘V¬Ÿnû
(), 
kE¼Ü
);

82 
EXPECT_NEAR
(19.7, 
av”age
.
G‘CÚfid’ûIÁ”v®
(), 
kE¼Ü
);

84 
	gav”age
.
AddSam¶e
(
time
 + 4 * 
kH®fTime
, 
v®ue
);

85 
	gav”age
.
AddSam¶e
(
time
 + 5 * 
kH®fTime
, 
v®ue
);

86 
	gav”age
.
AddSam¶e
(
time
 + 6 * 
kH®fTime
, 
v®ue
);

87 
	gav”age
.
AddSam¶e
(
time
 + 7 * 
kH®fTime
, 
v®ue
);

88 
EXPECT_NEAR
(100.0, 
av”age
.
G‘Av”age
(), 
kE¼Ü
);

89 
EXPECT_NEAR
(73.6, 
av”age
.
G‘V¬Ÿnû
(), 
kE¼Ü
);

90 
EXPECT_NEAR
(7.6, 
av”age
.
G‘CÚfid’ûIÁ”v®
(), 
kE¼Ü
);

95 
TEST
(
Ev’tBa£dExpÚ’tŸlMovšgAv”ageTe¡
, 
Almo¡SameTime
) {

96 
št64_t
 
	gtime
 = 23;

97 
cÚ¡ex´
 
	gv®ue
 = 100;

100 
Ev’tBa£dExpÚ’tŸlMovšgAv”age
 
av”age
(
kH®fTime
);

101 
	gav”age
.
AddSam¶e
(
time
 + 0, 
v®ue
);

102 
	gav”age
.
AddSam¶e
(
time
 + 1, 0);

103 
EXPECT_NEAR
(50, 
av”age
.
G‘Av”age
(), 
kE¼Ü
);

104 
EXPECT_NEAR
(10000, 
av”age
.
G‘V¬Ÿnû
(), 
kE¼Ü
);

105 
EXPECT_NEAR
(138.6, 
av”age
.
G‘CÚfid’ûIÁ”v®
(),

106 
kE¼Ü
);

110 
Ev’tBa£dExpÚ’tŸlMovšgAv”age
 
av”age
(
kH®fTime
);

111 
	gav”age
.
AddSam¶e
(
time
 + 0, 0);

112 
	gav”age
.
AddSam¶e
(
time
 + 1, 100);

113 
EXPECT_NEAR
(50, 
av”age
.
G‘Av”age
(), 
kE¼Ü
);

114 
EXPECT_NEAR
(10000, 
av”age
.
G‘V¬Ÿnû
(), 
kE¼Ü
);

115 
EXPECT_NEAR
(138.6, 
av”age
.
G‘CÚfid’ûIÁ”v®
(),

116 
kE¼Ü
);

123 
TEST
(
Ev’tBa£dExpÚ’tŸlMovšgAv”ageTe¡
, 
NÚUnifÜmSam¶esH®áime100
) {

124 
št64_t
 
	gtime
 = 23;

125 
cÚ¡ex´
 
	gv®ue
 = 100;

130 
Ev’tBa£dExpÚ’tŸlMovšgAv”age
 
av”age
(100);

131 
	gav”age
.
AddSam¶e
(
time
 + 0, 
v®ue
);

132 
	gav”age
.
AddSam¶e
(
time
 + 100, 
v®ue
);

133 
	gav”age
.
AddSam¶e
(
time
 + 101, 0);

134 
EXPECT_NEAR
(50.2, 
av”age
.
G‘Av”age
(), 
kE¼Ü
);

135 
EXPECT_NEAR
(86.2, 
av”age
.
G‘CÚfid’ûIÁ”v®
(), 
kE¼Ü
);

139 
Ev’tBa£dExpÚ’tŸlMovšgAv”age
 
av”age
(100);

140 
	gav”age
.
AddSam¶e
(
time
 + 0, 
v®ue
);

141 
	gav”age
.
AddSam¶e
(
time
 + 1, 
v®ue
);

142 
	gav”age
.
AddSam¶e
(
time
 + 100, 0);

143 
EXPECT_NEAR
(66.5, 
av”age
.
G‘Av”age
(), 
kE¼Ü
);

144 
EXPECT_NEAR
(65.4, 
av”age
.
G‘CÚfid’ûIÁ”v®
(), 
kE¼Ü
);

148 
Ev’tBa£dExpÚ’tŸlMovšgAv”age
 
av”age
(100);

149 
	gi
 = 0; i < 10; i++) {

150 
	gav”age
.
AddSam¶e
(
time
 + 
i
, 
v®ue
);

152 
	gav”age
.
AddSam¶e
(
time
 + 100, 0);

153 
EXPECT_NEAR
(65.3, 
av”age
.
G‘Av”age
(), 
kE¼Ü
);

154 
EXPECT_NEAR
(59.1, 
av”age
.
G‘CÚfid’ûIÁ”v®
(), 
kE¼Ü
);

158 
Ev’tBa£dExpÚ’tŸlMovšgAv”age
 
av”age
(100);

159 
	gav”age
.
AddSam¶e
(
time
 + 0, 100);

160 
	gi
 = 90; i <= 100; i++) {

161 
	gav”age
.
AddSam¶e
(
time
 + 
i
, 0);

163 
EXPECT_NEAR
(0.05, 
av”age
.
G‘Av”age
(), 
kE¼Ü
);

164 
EXPECT_NEAR
(4.9, 
av”age
.
G‘CÚfid’ûIÁ”v®
(), 
kE¼Ü
);

168 
TEST
(
Ev’tBa£dExpÚ’tŸlMovšgAv”ageTe¡
, 
Re£t
) {

169 
cÚ¡ex´
 
št64_t
 
	gtime
 = 23;

170 
cÚ¡ex´
 
	gv®ue
 = 100;

172 
Ev’tBa£dExpÚ’tŸlMovšgAv”age
 
av”age
(100);

173 
EXPECT_TRUE
(
¡d
::
i¢ª
(
av”age
.
G‘Av”age
()));

174 
EXPECT_EQ
(
¡d
::
num”ic_lim™s
<>::
šfš™y
(), 
av”age
.
G‘V¬Ÿnû
());

175 
EXPECT_EQ
(
¡d
::
num”ic_lim™s
<>::
šfš™y
(),

176 
av”age
.
G‘CÚfid’ûIÁ”v®
());

178 
	gav”age
.
AddSam¶e
(
time
 + 0, 
v®ue
);

179 
	gav”age
.
AddSam¶e
(
time
 + 100, 
v®ue
);

180 
	gav”age
.
AddSam¶e
(
time
 + 101, 0);

181 
EXPECT_FALSE
(
¡d
::
i¢ª
(
av”age
.
G‘Av”age
()));

183 
	gav”age
.
Re£t
();

184 
EXPECT_TRUE
(
¡d
::
i¢ª
(
av”age
.
G‘Av”age
()));

185 
EXPECT_EQ
(
¡d
::
num”ic_lim™s
<>::
šfš™y
(), 
av”age
.
G‘V¬Ÿnû
());

186 
EXPECT_EQ
(
¡d
::
num”ic_lim™s
<>::
šfš™y
(),

187 
av”age
.
G‘CÚfid’ûIÁ”v®
());

191 
TEST
(
Ev’tBa£dExpÚ’tŸlMovšgAv”ageTe¡
, 
S‘H®fTime
) {

192 
cÚ¡ex´
 
št64_t
 
	gtime
 = 23;

193 
cÚ¡ex´
 
	gv®ue
 = 100;

195 
Ev’tBa£dExpÚ’tŸlMovšgAv”age
 
av”age
(100);

197 
	gav”age
.
AddSam¶e
(
time
 + 0, 
v®ue
);

198 
	gav”age
.
AddSam¶e
(
time
 + 100, 0);

199 
EXPECT_NEAR
(66.7, 
av”age
.
G‘Av”age
(), 
kE¼Ü
);

201 
	gav”age
.
S‘H®fTime
(1000);

202 
EXPECT_TRUE
(
¡d
::
i¢ª
(
av”age
.
G‘Av”age
()));

203 
EXPECT_EQ
(
¡d
::
num”ic_lim™s
<>::
šfš™y
(), 
av”age
.
G‘V¬Ÿnû
());

204 
EXPECT_EQ
(
¡d
::
num”ic_lim™s
<>::
šfš™y
(),

205 
av”age
.
G‘CÚfid’ûIÁ”v®
());

207 
	gav”age
.
AddSam¶e
(
time
 + 0, 
v®ue
);

208 
	gav”age
.
AddSam¶e
(
time
 + 100, 0);

209 
EXPECT_NEAR
(51.7, 
av”age
.
G‘Av”age
(), 
kE¼Ü
);

212 
TEST
(
Ev’tBa£dExpÚ’tŸlMovšgAv”ageTe¡
, 
SimuÉªeousSam¶es
) {

213 
cÚ¡ex´
 
št64_t
 
	gtime
 = 23;

214 
cÚ¡ex´
 
	gv®ue
 = 100;

216 
Ev’tBa£dExpÚ’tŸlMovšgAv”age
 
av”age
(100);

218 
	gav”age
.
AddSam¶e
(
time
, 
v®ue
);

224 
	gav”age
.
AddSam¶e
(
time
, 
v®ue
);

	@numerics/event_rate_counter.cc

10 
	~"¹c_ba£/num”ics/ev’t_¿‹_couÁ”.h
"

12 
	~<®gÜ™hm
>

14 
Çme¥aû
 
	gweb¹c
 {

16 
	gEv’tR©eCouÁ”
::
AddEv’t
(
Time¡amp
 
ev’t_time
) {

17 ià(
fœ¡_time_
.
IsFš™e
())

18 
š‹rv®_
.
AddSam¶e
(
ev’t_time
 - 
Ï¡_time_
);

19 
	gfœ¡_time_
 = 
¡d
::
mš
(
fœ¡_time_
, 
ev’t_time
);

20 
	gÏ¡_time_
 = 
¡d
::
max
(
Ï¡_time_
, 
ev’t_time
);

21 
	gev’t_couÁ_
++;

24 
	gEv’tR©eCouÁ”
::
AddEv’ts
(
Ev’tR©eCouÁ”
 
Ùh”
) {

25 
fœ¡_time_
 = 
¡d
::
mš
(fœ¡_time_, 
Ùh”
.first_time_);

26 
	gÏ¡_time_
 = 
¡d
::
max
(
Ï¡_time_
, 
Ùh”
.last_time_);

27 
	gev’t_couÁ_
 +ğ
Ùh”
.
ev’t_couÁ_
;

28 
	gš‹rv®_
.
AddSam¶es
(
Ùh”
.
š‹rv®_
);

31 
boŞ
 
	gEv’tR©eCouÁ”
::
IsEm±y
() const {

32  
fœ¡_time_
 =ğ
Ï¡_time_
;

35 
	gEv’tR©eCouÁ”
::
R©e
() const {

36 ià(
ev’t_couÁ_
 == 0)

38 ià(
	gev’t_couÁ_
 == 1)

39  
NAN
;

40  (
	gev’t_couÁ_
 - 1è/ (
	gÏ¡_time_
 - 
	gfœ¡_time_
).
	g£cÚds
<>();

43 
TimeD–
 
	gEv’tR©eCouÁ”
::
TÙ®Du¿tiÚ
() const {

44 ià(
fœ¡_time_
.
IsInfš™e
()) {

45  
TimeD–
::
Z”o
();

47  
	gÏ¡_time_
 - 
	gfœ¡_time_
;

	@numerics/event_rate_counter.h

10 #iâdeà
RTC_BASE_NUMERICS_EVENT_RATE_COUNTER_H_


11 
	#RTC_BASE_NUMERICS_EVENT_RATE_COUNTER_H_


	)

13 
	~"¹c_ba£/num”ics/§m¶e_¡©s.h
"

15 
Çme¥aû
 
	gweb¹c
 {

20 şas 
	cEv’tR©eCouÁ”
 {

21 
	gpublic
:

24 
AddEv’t
(
Time¡amp
 
ev’t_time
);

28 
AddEv’ts
(
Ev’tR©eCouÁ”
 
Ùh”
);

29 
boŞ
 
IsEm±y
() const;

32 
R©e
() const;

33 
	gSam¶eSts
<
	gTimeD–
>& 
š‹rv®
(è{  
	gš‹rv®_
; }

34 
TimeD–
 
TÙ®Du¿tiÚ
() const;

35 
CouÁ
(ècÚ¡ {  
	gev’t_couÁ_
; }

37 
	g´iv©e
:

38 
Time¡amp
 
fœ¡_time_
 = Time¡amp::
PlusInfš™y
();

39 
Time¡amp
 
	gÏ¡_time_
 = Time¡amp::
MšusInfš™y
();

40 
št64_t
 
	gev’t_couÁ_
 = 0;

41 
	gSam¶eSts
<
	gTimeD–
> 
	gš‹rv®_
;

	@numerics/exp_filter.cc

11 
	~"¹c_ba£/num”ics/exp_f‹r.h
"

13 
	~<cm©h
>

15 
Çme¥aû
 
	g¹c
 {

17 cÚ¡ 
	gExpF‹r
::
kV®ueUndefšed
 = -1.0f;

19 
	gExpF‹r
::
Re£t
(
®pha
) {

20 
®pha_
 = 
®pha
;

21 
	gf‹»d_
 = 
kV®ueUndefšed
;

24 
	gExpF‹r
::
Aµly
(
exp
, 
§m¶e
) {

25 ià(
	gf‹»d_
 =ğ
kV®ueUndefšed
) {

27 
f‹»d_
 = 
§m¶e
;

28 } ià(
	gexp
 == 1.0) {

29 
f‹»d_
 = 
®pha_
 * f‹»d_ + (1 -‡Íha_è* 
§m¶e
;

31 
	g®pha
 = 
¡d
::
pow
(
®pha_
, 
exp
);

32 
	gf‹»d_
 = 
®pha
 * 
f‹»d_
 + (1 -‡Íhaè* 
§m¶e
;

34 ià(
	gmax_
 !ğ
kV®ueUndefšed
 && 
f‹»d_
 > 
max_
) {

35 
f‹»d_
 = 
max_
;

37  
	gf‹»d_
;

40 
	gExpF‹r
::
Upd©eBa£
(
®pha
) {

41 
®pha_
 = 
®pha
;

	@numerics/exp_filter.h

11 #iâdeà
RTC_BASE_NUMERICS_EXP_FILTER_H_


12 
	#RTC_BASE_NUMERICS_EXP_FILTER_H_


	)

14 
Çme¥aû
 
	g¹c
 {

19 şas 
	cExpF‹r
 {

20 
	gpublic
:

21 cÚ¡ 
kV®ueUndefšed
;

23 
ex¶ic™
 
ExpF‹r
(
®pha
, 
max
 = 
kV®ueUndefšed
è: 
max_
(max) {

24 
Re£t
(
®pha
);

29 
Re£t
(
®pha
);

33 
Aµly
(
exp
, 
§m¶e
);

36 
f‹»d
(ècÚ¡ {  
	gf‹»d_
; }

39 
Upd©eBa£
(
®pha
);

41 
	g´iv©e
:

42 
®pha_
;

43 
	gf‹»d_
;

44 cÚ¡ 
	gmax_
;

	@numerics/exp_filter_unittest.cc

11 
	~"¹c_ba£/num”ics/exp_f‹r.h
"

13 
	~<cm©h
>

15 
	~"‹¡/g‹¡.h
"

17 
Çme¥aû
 
	g¹c
 {

19 
TEST
(
ExpF‹rTe¡
, 
Fœ¡TimeOuutEqu®IÅut
) {

21 
ExpF‹r
 
	gf‹r
 = ExpFilter(0.9f);

22 
	gf‹r
.
Aµly
(100.0f, 10.0f);

25 
	gv®ue
 = 10.0f;

26 
EXPECT_FLOAT_EQ
(
v®ue
, 
f‹r
.
f‹»d
());

29 
TEST
(
ExpF‹rTe¡
, 
SecÚdTime
) {

30 
	gv®ue
;

32 
ExpF‹r
 
	gf‹r
 = ExpFilter(0.9f);

33 
	gf‹r
.
Aµly
(100.0f, 10.0f);

36 
	gv®ue
 = 10.0f;

38 
	gf‹r
.
Aµly
(10.0f, 20.0f);

39 
	g®pha
 = 
¡d
::
pow
(0.9f, 10.0f);

40 
	gv®ue
 = 
®pha
 * 
v®ue
 + (1.0f -‡lpha) * 20.0f;

41 
EXPECT_FLOAT_EQ
(
v®ue
, 
f‹r
.
f‹»d
());

44 
TEST
(
ExpF‹rTe¡
, 
Re£t
) {

45 
ExpF‹r
 
	gf‹r
 = ExpFilter(0.9f);

46 
	gf‹r
.
Aµly
(100.0f, 10.0f);

48 
	gf‹r
.
Re£t
(0.8f);

49 
	gf‹r
.
Aµly
(100.0f, 1.0f);

52 
	gv®ue
 = 1.0f;

53 
EXPECT_FLOAT_EQ
(
v®ue
, 
f‹r
.
f‹»d
());

56 
TEST
(
Expf‹rTe¡
, 
OuutLim™edByMax
) {

57 
	gv®ue
;

60 
ExpF‹r
 
	gf‹r
 = ExpFilter(0.9f, 1.0f);

61 
	gf‹r
.
Aµly
(100.0f, 10.0f);

64 
	gv®ue
 = 1.0f;

65 
EXPECT_EQ
(
v®ue
, 
f‹r
.
f‹»d
());

67 
	gf‹r
.
Aµly
(1.0f, 0.0f);

68 
	gv®ue
 = 0.9à* 
v®ue
;

69 
EXPECT_FLOAT_EQ
(
v®ue
, 
f‹r
.
f‹»d
());

	@numerics/histogram_percentile_counter.cc

11 
	~"¹c_ba£/num”ics/hi¡og¿m_³rûÁe_couÁ”.h
"

13 
	~<®gÜ™hm
>

14 
	~<cm©h
>

16 
	~"¹c_ba£/checks.h
"

18 
Çme¥aû
 
	g¹c
 {

19 
	gHi¡og¿mP”ûÁeCouÁ”
::
Hi¡og¿mP”ûÁeCouÁ”
(

20 
ušt32_t
 
lÚg__bound¬y
)

21 : 
hi¡og¿m_low_
(
size_t
{
lÚg__bound¬y
}),

22 
lÚg__bound¬y_
(
lÚg__bound¬y
),

23 
tÙ®_–em’ts_
(0),

24 
tÙ®_–em’ts_low_
(0) {}

26 
	gHi¡og¿mP”ûÁeCouÁ”
::~
Hi¡og¿mP”ûÁeCouÁ”
() = ;

28 
	gHi¡og¿mP”ûÁeCouÁ”
::
Add
(cÚ¡ 
Hi¡og¿mP”ûÁeCouÁ”
& 
Ùh”
) {

29 
ušt32_t
 
v®ue
 = 0; 
	gv®ue
 < 
	gÙh”
.
	glÚg__bound¬y_
; ++value) {

30 
Add
(
v®ue
, 
Ùh”
.
hi¡og¿m_low_
[value]);

32 cÚ¡‡uto& 
	g™
 : 
hi¡og¿m_high_
) {

33 
Add
(
™
.
fœ¡
, it.
£cÚd
);

37 
	gHi¡og¿mP”ûÁeCouÁ”
::
Add
(
ušt32_t
 
v®ue
, 
size_t
 
couÁ
) {

38 ià(
	gv®ue
 < 
	glÚg__bound¬y_
) {

39 
	ghi¡og¿m_low_
[
v®ue
] +ğ
couÁ
;

40 
	gtÙ®_–em’ts_low_
 +ğ
couÁ
;

42 
	ghi¡og¿m_high_
[
v®ue
] +ğ
couÁ
;

44 
	gtÙ®_–em’ts_
 +ğ
couÁ
;

47 
	gHi¡og¿mP”ûÁeCouÁ”
::
Add
(
ušt32_t
 
v®ue
) {

48 
Add
(
v®ue
, 1);

51 
	gab¦
::
İtiÚ®
<
ušt32_t
> 
Hi¡og¿mP”ûÁeCouÁ”
::
G‘P”ûÁe
(

52 
äaùiÚ
) {

53 
RTC_CHECK_LE
(
äaùiÚ
, 1.0);

54 
RTC_CHECK_GE
(
äaùiÚ
, 0.0);

55 ià(
	gtÙ®_–em’ts_
 == 0)

56  
ab¦
::
nuÎİt
;

57 
size_t
 
	g–em’ts_to_sk
 = 
¡©ic_ÿ¡
<size_t>(

58 
¡d
::
max
(0.0f, std::
û
(
tÙ®_–em’ts_
 * 
äaùiÚ
) - 1));

59 ià(
	g–em’ts_to_sk
 >ğ
tÙ®_–em’ts_
)

60 
–em’ts_to_sk
 = 
tÙ®_–em’ts_
 - 1;

61 ià(
	g–em’ts_to_sk
 < 
	gtÙ®_–em’ts_low_
) {

62 
ušt32_t
 
	gv®ue
 = 0; v®u< 
	glÚg__bound¬y_
; ++value) {

63 ià(
	g–em’ts_to_sk
 < 
	ghi¡og¿m_low_
[
v®ue
])

64  
	gv®ue
;

65 
	g–em’ts_to_sk
 -ğ
hi¡og¿m_low_
[
v®ue
];

68 
	g–em’ts_to_sk
 -ğ
tÙ®_–em’ts_low_
;

69 cÚ¡‡uto& 
	g™
 : 
hi¡og¿m_high_
) {

70 ià(
–em’ts_to_sk
 < 
™
.
£cÚd
)

71  
™
.
fœ¡
;

72 
	g–em’ts_to_sk
 -ğ
™
.
£cÚd
;

75 
RTC_NOTREACHED
();

76  
	gab¦
::
nuÎİt
;

	@numerics/histogram_percentile_counter.h

11 #iâdeà
RTC_BASE_NUMERICS_HISTOGRAM_PERCENTILE_COUNTER_H_


12 
	#RTC_BASE_NUMERICS_HISTOGRAM_PERCENTILE_COUNTER_H_


	)

14 
	~<¡ddef.h
>

15 
	~<¡dšt.h
>

17 
	~<m­
>

18 
	~<veùÜ
>

20 
	~"ab¦/ty³s/İtiÚ®.h
"

22 
Çme¥aû
 
	g¹c
 {

25 şas 
	cHi¡og¿mP”ûÁeCouÁ”
 {

26 
	gpublic
:

29 
ex¶ic™
 
Hi¡og¿mP”ûÁeCouÁ”
(
ušt32_t
 
lÚg__bound¬y
);

30 ~
Hi¡og¿mP”ûÁeCouÁ”
();

31 
Add
(
ušt32_t
 
v®ue
);

32 
Add
(
ušt32_t
 
v®ue
, 
size_t
 
couÁ
);

33 
Add
(cÚ¡ 
Hi¡og¿mP”ûÁeCouÁ”
& 
Ùh”
);

35 
	gab¦
::
İtiÚ®
<
ušt32_t
> 
G‘P”ûÁe
(
äaùiÚ
);

37 
	g´iv©e
:

38 
¡d
::
veùÜ
<
size_t
> 
hi¡og¿m_low_
;

39 
	g¡d
::
m­
<
ušt32_t
, 
	gsize_t
> 
	ghi¡og¿m_high_
;

40 cÚ¡ 
ušt32_t
 
	glÚg__bound¬y_
;

41 
size_t
 
	gtÙ®_–em’ts_
;

42 
size_t
 
	gtÙ®_–em’ts_low_
;

	@numerics/histogram_percentile_counter_unittest.cc

11 
	~"¹c_ba£/num”ics/hi¡og¿m_³rûÁe_couÁ”.h
"

13 
	~<c¡dšt
>

14 
	~<ut™y
>

15 
	~<veùÜ
>

17 
	~"‹¡/g‹¡.h
"

19 
	$TEST
(
Hi¡og¿mP”ûÁeCouÁ”Te¡
, 
R‘uºsCÜ»ùP”ûÁes
) {

20 
¹c
::
Hi¡og¿mP”ûÁeCouÁ”
 
	`couÁ”
(10);

21 cÚ¡ 
¡d
::
veùÜ
<> 
kTe¡V®ues
 = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10,

24 
	`EXPECT_FALSE
(
couÁ”
.
	`G‘P”ûÁe
(0.5f));

27 cÚ¡ 
¡d
::
veùÜ
<¡d::
·œ
<, 
ušt32_t
>> 
kTe¡P”ûÁes
 = {

30 
v®ue
 : 
kTe¡V®ues
) {

31 
couÁ”
.
	`Add
(
v®ue
);

33 cÚ¡‡uto& 
‹¡_³rûÁe
 : 
kTe¡P”ûÁes
) {

34 
	`EXPECT_EQ
(
‹¡_³rûÁe
.
£cÚd
,

35 
couÁ”
.
	`G‘P”ûÁe
(
‹¡_³rûÁe
.
fœ¡
).
	`v®ue_Ü
(0));

37 
	}
}

39 
	$TEST
(
Hi¡og¿mP”ûÁeCouÁ”Te¡
, 
HªdËsEm±ySequ’û
) {

40 
¹c
::
Hi¡og¿mP”ûÁeCouÁ”
 
	`couÁ”
(10);

41 
	`EXPECT_FALSE
(
couÁ”
.
	`G‘P”ûÁe
(0.5f));

42 
couÁ”
.
	`Add
(1u);

43 
	`EXPECT_TRUE
(
couÁ”
.
	`G‘P”ûÁe
(0.5f));

44 
	}
}

	@numerics/math_utils.h

11 #iâdeà
RTC_BASE_NUMERICS_MATH_UTILS_H_


12 
	#RTC_BASE_NUMERICS_MATH_UTILS_H_


	)

14 
	~<lim™s
>

15 
	~<ty³_Œa™s
>

17 
	~"¹c_ba£/checks.h
"

21 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

22 
ty³Çme
 
	g¡d
::
make_unsigÃd
<
T
>::
ty³
 
	$unsigÃd_difã»nû
(
T
 
x
, T 
y
) {

23 
	`¡©ic_as£¹
(

24 
¡d
::
is_sigÃd
<
T
>::
v®ue
,

26 
	`RTC_DCHECK_GE
(
x
, 
y
);

27 
ty³Çme
 
	t¡d
::
	tmake_unsigÃd
<
	tT
>::
	tty³
 
	tunsigÃd_ty³
;

32  
¡©ic_ÿ¡
<
unsigÃd_ty³
>(
x
è- stic_ÿ¡<unsigÃd_ty³>(
y
);

33 
	}
}

37 
	g‹m¶©e
 <
ty³Çme
 
	gT
,

38 
ty³Çme
 
	g¡d
::
’abË_if
<
¡d
::
num”ic_lim™s
<
T
>::
has_šfš™y
>::
ty³
* =

39 
nuÎ±r
>

40 
cÚ¡ex´
 
T
 
	$šfš™y_Ü_max
() {

41  
¡d
::
num”ic_lim™s
<
T
>::
	`šfš™y
();

42 
	}
}

44 
	g‹m¶©e
 <
ty³Çme
 
	gT
,

45 
ty³Çme
 
	g¡d
::
’abË_if
<

46 !
¡d
::
num”ic_lim™s
<
T
>::
has_šfš™y
>::
ty³
* = 
nuÎ±r
>

47 
cÚ¡ex´
 
T
 
	$šfš™y_Ü_max
() {

49  
¡d
::
num”ic_lim™s
<
T
>::
	`max
();

50 
	}
}

54 
	g‹m¶©e
 <
ty³Çme
 
	gT
,

55 
ty³Çme
 
	g¡d
::
’abË_if
<
¡d
::
num”ic_lim™s
<
T
>::
has_šfš™y
>::
ty³
* =

56 
nuÎ±r
>

57 
cÚ¡ex´
 
T
 
	$mšus_šfš™y_Ü_mš
() {

58 
	`¡©ic_as£¹
(
¡d
::
is_sigÃd
<
T
>::
v®ue
, "Unsupported. Please open‡ bug.");

59  -
¡d
::
num”ic_lim™s
<
T
>::
	`šfš™y
();

60 
	}
}

62 
	g‹m¶©e
 <
ty³Çme
 
	gT
,

63 
ty³Çme
 
	g¡d
::
’abË_if
<

64 !
¡d
::
num”ic_lim™s
<
T
>::
has_šfš™y
>::
ty³
* = 
nuÎ±r
>

65 
cÚ¡ex´
 
T
 
	$mšus_šfš™y_Ü_mš
() {

67  
¡d
::
num”ic_lim™s
<
T
>::
	`mš
();

68 
	}
}

	@numerics/mod_ops.h

11 #iâdeà
RTC_BASE_NUMERICS_MOD_OPS_H_


12 
	#RTC_BASE_NUMERICS_MOD_OPS_H_


	)

14 
	~<®gÜ™hm
>

15 
	~<ty³_Œa™s
>

17 
	~"¹c_ba£/checks.h
"

19 
Çme¥aû
 
	gweb¹c
 {

21 
	g‹m¶©e
 <
	gM
>

22 
šlše
 
Add
(
a
, 
b
) {

23 
RTC_DCHECK_LT
(
a
, 
M
);

24 
	gt
 = 
M
 - 
b
 % M;

25 
	g»s
 = 
a
 - 
t
;

26 ià(
	gt
 > 
	ga
)

27  
	g»s
 + 
	gM
;

28  
	g»s
;

31 
	g‹m¶©e
 <
	gM
>

32 
šlše
 
SubŒaù
(
a
, 
b
) {

33 
RTC_DCHECK_LT
(
a
, 
M
);

34 
	gsub
 = 
b
 % 
M
;

35 ià(
	ga
 < 
	gsub
)

36  
	gM
 - (
	gsub
 - 
	ga
);

37  
	ga
 - 
	gsub
;

64 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
T
 
	gM
>

65 
šlše
 
ty³Çme
 
	g¡d
::
’abË_if
<(
M
 > 0), 
	gT
>::
ty³
 
FÜw¬dDiff
(
T
 
a
, T 
b
) {

66 
¡©ic_as£¹
(
¡d
::
is_unsigÃd
<
T
>::
v®ue
,

68 
RTC_DCHECK_LT
(
a
, 
M
);

69 
RTC_DCHECK_LT
(
b
, 
M
);

70  
	ga
 <ğ
b
 ? b - 
a
 : 
M
 - (a - b);

73 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
T
 
	gM
>

74 
šlše
 
ty³Çme
 
	g¡d
::
’abË_if
<(
M
 =ğ0), 
	gT
>::
ty³
 
FÜw¬dDiff
(
T
 
a
, T 
b
) {

75 
¡©ic_as£¹
(
¡d
::
is_unsigÃd
<
T
>::
v®ue
,

77  
	gb
 - 
	ga
;

80 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

81 
šlše
 
T
 
FÜw¬dDiff
(T 
a
, T 
b
) {

82  
	gFÜw¬dDiff
<
	gT
, 0>(
	ga
, 
	gb
);

109 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
T
 
	gM
>

110 
šlše
 
ty³Çme
 
	g¡d
::
’abË_if
<(
M
 > 0), 
	gT
>::
ty³
 
Rev”£Diff
(
T
 
a
, T 
b
) {

111 
¡©ic_as£¹
(
¡d
::
is_unsigÃd
<
T
>::
v®ue
,

113 
RTC_DCHECK_LT
(
a
, 
M
);

114 
RTC_DCHECK_LT
(
b
, 
M
);

115  
	gb
 <ğ
a
 ?‡ - 
b
 : 
M
 - (b -‡);

118 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
T
 
	gM
>

119 
šlše
 
ty³Çme
 
	g¡d
::
’abË_if
<(
M
 =ğ0), 
	gT
>::
ty³
 
Rev”£Diff
(
T
 
a
, T 
b
) {

120 
¡©ic_as£¹
(
¡d
::
is_unsigÃd
<
T
>::
v®ue
,

122  
	ga
 - 
	gb
;

125 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

126 
šlše
 
T
 
Rev”£Diff
(T 
a
, T 
b
) {

127  
	gRev”£Diff
<
	gT
, 0>(
	ga
, 
	gb
);

133 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
T
 
	gM
 = 0>

134 
šlše
 
T
 
MšDiff
(T 
a
, T 
b
) {

135 
¡©ic_as£¹
(
¡d
::
is_unsigÃd
<
T
>::
v®ue
,

137  
	g¡d
::
mš
(
FÜw¬dDiff
<
T
, 
M
>(
a
, 
b
), 
Rev”£Diff
<T, M>(a, b));

	@numerics/mod_ops_unittest.cc

11 
	~"¹c_ba£/num”ics/mod_İs.h
"

13 
	~<¡dšt.h
>

15 
	~"‹¡/g‹¡.h
"

17 
Çme¥aû
 
	gweb¹c
 {

18 şas 
	cTe¡ModOps
 : 
public
 ::
‹¡šg
::
Te¡
 {

19 
´Ùeùed
:

22 cÚ¡ 
ulmax
 = ~0ul;

25 
	$TEST_F
(
Te¡ModOps
, 
Add
) {

26 cÚ¡ 
D
 = 100;

27 
	`ASSERT_EQ
(1u, 
Add
<
D
>(0, 1));

28 
	`ASSERT_EQ
(0u, 
Add
<
D
>(0, D));

29 
i
 = 0; i < 
D
; ++i)

30 
	`ASSERT_EQ
(0u, 
Add
<
D
>(
i
, D - i));

32 
t
 = 37;

33 
ušt8_t
 
a
 = 
t
;

34 
i
 = 0; i < 256; ++i) {

35 
	`ASSERT_EQ
(
a
, 
¡©ic_ÿ¡
<
ušt8_t
>(
t
));

36 
t
 = 
Add
<256>(t, 1);

37 ++
a
;

39 
	}
}

41 
	$TEST_F
(
Te¡ModOps
, 
AddL¬ge
) {

42 cÚ¡ 
D
 = 
ulmax
 - 10ul;

43 
l
 = 
D
 - 1ul;

44 
	`ASSERT_EQ
(
D
 - 2ul, 
Add
<D>(
l
,†));

45 
	`ASSERT_EQ
(9ul, 
Add
<
D
>(
l
, 
ulmax
));

46 
	`ASSERT_EQ
(10ul, 
Add
<
D
>(0ul, 
ulmax
));

47 
	}
}

49 
	$TEST_F
(
Te¡ModOps
, 
SubŒaù
) {

50 cÚ¡ 
D
 = 100;

51 
	`ASSERT_EQ
(99u, 
SubŒaù
<
D
>(0, 1));

52 
	`ASSERT_EQ
(0u, 
SubŒaù
<
D
>(0, D));

53 
i
 = 0; i < 
D
; ++i)

54 
	`ASSERT_EQ
(0u, 
SubŒaù
<
D
>(
i
, D + i));

56 
t
 = 37;

57 
ušt8_t
 
a
 = 
t
;

58 
i
 = 0; i < 256; ++i) {

59 
	`ASSERT_EQ
(
a
, 
¡©ic_ÿ¡
<
ušt8_t
>(
t
));

60 
t
 = 
SubŒaù
<256>(t, 1);

61 --
a
;

63 
	}
}

65 
	$TEST_F
(
Te¡ModOps
, 
SubŒaùL¬ge
) {

67 cÚ¡ 
D
 = 
ulmax
 - 10ul;

68 
l
 = 
D
 - 1ul;

69 
	`ASSERT_EQ
(0ul, 
SubŒaù
<
D
>(
l
,†));

70 
	`ASSERT_EQ
(
D
 - 11ul, 
SubŒaù
<D>(
l
, 
ulmax
));

71 
	`ASSERT_EQ
(
D
 - 10ul, 
SubŒaù
<D>(0ul, 
ulmax
));

72 
	}
}

74 
	$TEST_F
(
Te¡ModOps
, 
FÜw¬dDiff
) {

75 
	`ASSERT_EQ
(0u, 
	`FÜw¬dDiff
(4711u, 4711u));

77 
ušt8_t
 
x
 = 0;

78 
ušt8_t
 
y
 = 255;

79 
i
 = 0; i < 256; ++i) {

80 
	`ASSERT_EQ
(255u, 
	`FÜw¬dDiff
(
x
, 
y
));

81 ++
x
;

82 ++
y
;

85 
yi
 = 255;

86 
i
 = 0; i < 256; ++i) {

87 
	`ASSERT_EQ
(255u, 
FÜw¬dDiff
<
ušt8_t
>(
x
, 
yi
));

88 ++
x
;

89 ++
yi
;

91 
	}
}

93 
	$TEST_F
(
Te¡ModOps
, 
FÜw¬dDiffW™hDivisÜ
) {

94 
	`ASSERT_EQ
(122, (
FÜw¬dDiff
<
ušt8_t
, 123>(0, 122)));

95 
	`ASSERT_EQ
(0, (
FÜw¬dDiff
<
ušt8_t
, 123>(122, 122)));

96 
	`ASSERT_EQ
(122, (
FÜw¬dDiff
<
ušt8_t
, 123>(1, 0)));

97 
	`ASSERT_EQ
(0, (
FÜw¬dDiff
<
ušt8_t
, 123>(0, 0)));

98 
	`ASSERT_EQ
(1, (
FÜw¬dDiff
<
ušt8_t
, 123>(122, 0)));

99 
	}
}

101 
	$TEST_F
(
Te¡ModOps
, 
Rev”£Diff
) {

102 
	`ASSERT_EQ
(0u, 
	`Rev”£Diff
(4711u, 4711u));

104 
ušt8_t
 
x
 = 0;

105 
ušt8_t
 
y
 = 255;

106 
i
 = 0; i < 256; ++i) {

107 
	`ASSERT_EQ
(1u, 
	`Rev”£Diff
(
x
, 
y
));

108 ++
x
;

109 ++
y
;

112 
yi
 = 255;

113 
i
 = 0; i < 256; ++i) {

114 
	`ASSERT_EQ
(1u, 
Rev”£Diff
<
ušt8_t
>(
x
, 
yi
));

115 ++
x
;

116 ++
yi
;

118 
	}
}

120 
	$TEST_F
(
Te¡ModOps
, 
Rev”£DiffW™hDivisÜ
) {

121 
	`ASSERT_EQ
(1, (
Rev”£Diff
<
ušt8_t
, 123>(0, 122)));

122 
	`ASSERT_EQ
(0, (
Rev”£Diff
<
ušt8_t
, 123>(122, 122)));

123 
	`ASSERT_EQ
(1, (
Rev”£Diff
<
ušt8_t
, 123>(1, 0)));

124 
	`ASSERT_EQ
(0, (
Rev”£Diff
<
ušt8_t
, 123>(0, 0)));

125 
	`ASSERT_EQ
(122, (
Rev”£Diff
<
ušt8_t
, 123>(122, 0)));

126 
	}
}

128 
	$TEST_F
(
Te¡ModOps
, 
MšDiff
) {

129 
ušt16_t
 
i
 = 0; i < 256; ++i) {

130 
	`ASSERT_EQ
(0, 
MšDiff
<
ušt8_t
>(
i
, i));

131 
	`ASSERT_EQ
(1, 
MšDiff
<
ušt8_t
>(
i
 - 1, i));

132 
	`ASSERT_EQ
(1, 
MšDiff
<
ušt8_t
>(
i
 + 1, i));

135 
ušt8_t
 
i
 = 0; i < 128; ++i)

136 
	`ASSERT_EQ
(
i
, 
MšDiff
<
ušt8_t
>(0, i));

138 
ušt8_t
 
i
 = 0; i < 128; ++i)

139 
	`ASSERT_EQ
(128 - 
i
, 
MšDiff
<
ušt8_t
>(0, 128 + i));

140 
	}
}

142 
	$TEST_F
(
Te¡ModOps
, 
MšDiffW™DivisÜ
) {

143 
	`ASSERT_EQ
(5u, (
MšDiff
<
ušt8_t
, 11>(0, 5)));

144 
	`ASSERT_EQ
(5u, (
MšDiff
<
ušt8_t
, 11>(0, 6)));

145 
	`ASSERT_EQ
(5u, (
MšDiff
<
ušt8_t
, 11>(5, 0)));

146 
	`ASSERT_EQ
(5u, (
MšDiff
<
ušt8_t
, 11>(6, 0)));

148 cÚ¡ 
ušt16_t
 
D
 = 4711;

150 
ušt16_t
 
i
 = 0; i < 
D
 / 2; ++i)

151 
	`ASSERT_EQ
(
i
, (
MšDiff
<
ušt16_t
, 
D
>(0, i)));

153 
	`ASSERT_EQ
(
D
 / 2, (
MšDiff
<
ušt16_t
, D>(0, D / 2)));

155 
ušt16_t
 
i
 = 0; i < 
D
 / 2; ++i)

156 
	`ASSERT_EQ
(
D
 / 2 - 
i
, (
MšDiff
<
ušt16_t
, D>(0, D / 2 - i)));

157 
	}
}

	@numerics/moving_average.cc

11 
	~"¹c_ba£/num”ics/movšg_av”age.h
"

13 
	~<®gÜ™hm
>

15 
	~"¹c_ba£/checks.h
"

17 
Çme¥aû
 
	g¹c
 {

19 
	gMovšgAv”age
::
MovšgAv”age
(
size_t
 
wšdow_size
è: 
hi¡Üy_
(window_size, 0) {

21 
RTC_DCHECK_LE
(
wšdow_size
, (
št64_t
{1} << 32) - 1);

23 
	gMovšgAv”age
::~
MovšgAv”age
() = ;

25 
	gMovšgAv”age
::
AddSam¶e
(
§m¶e
) {

26 
couÁ_
++;

27 
size_t
 
	gšdex
 = 
couÁ_
 % 
hi¡Üy_
.
size
();

28 ià(
	gcouÁ_
 > 
	ghi¡Üy_
.
size
())

29 
	gsum_
 -ğ
hi¡Üy_
[
šdex
];

30 
	gsum_
 +ğ
§m¶e
;

31 
	ghi¡Üy_
[
šdex
] = 
§m¶e
;

34 
	gab¦
::
İtiÚ®
<> 
MovšgAv”age
::
G‘Av”ageRoundedDown
() const {

35 ià(
couÁ_
 == 0)

36  
ab¦
::
nuÎİt
;

37  
	gsum_
 / 
Size
();

40 
	gab¦
::
İtiÚ®
<> 
MovšgAv”age
::
G‘Av”ageRoundedToClo£¡
() const {

41 ià(
couÁ_
 == 0)

42  
ab¦
::
nuÎİt
;

43  (
	gsum_
 + 
Size
() / 2) / Size();

46 
	gab¦
::
İtiÚ®
<> 
MovšgAv”age
::
G‘UÄoundedAv”age
() const {

47 ià(
couÁ_
 == 0)

48  
ab¦
::
nuÎİt
;

49  
	gsum_
 / 
	g¡©ic_ÿ¡
<>(
Size
());

52 
	gMovšgAv”age
::
Re£t
() {

53 
couÁ_
 = 0;

54 
	gsum_
 = 0;

57 
size_t
 
	gMovšgAv”age
::
Size
() const {

58  
¡d
::
mš
(
couÁ_
, 
hi¡Üy_
.
size
());

	@numerics/moving_average.h

11 #iâdeà
RTC_BASE_NUMERICS_MOVING_AVERAGE_H_


12 
	#RTC_BASE_NUMERICS_MOVING_AVERAGE_H_


	)

14 
	~<¡ddef.h
>

15 
	~<¡dšt.h
>

17 
	~<veùÜ
>

19 
	~"ab¦/ty³s/İtiÚ®.h
"

21 
Çme¥aû
 
	g¹c
 {

26 şas 
	cMovšgAv”age
 {

27 
	gpublic
:

29 
ex¶ic™
 
MovšgAv”age
(
size_t
 
wšdow_size
);

30 ~
MovšgAv”age
();

32 
MovšgAv”age
(cÚ¡ MovšgAv”age&èğ
d–‘e
;

33 
	gMovšgAv”age
& 
	gİ”©Ü
=(cÚ¡ 
MovšgAv”age
&èğ
d–‘e
;

36 
AddSam¶e
(
§m¶e
);

41 
	gab¦
::
İtiÚ®
<> 
G‘Av”ageRoundedDown
() const;

44 
	gab¦
::
İtiÚ®
<> 
G‘Av”ageRoundedToClo£¡
() const;

47 
	gab¦
::
İtiÚ®
<> 
G‘UÄoundedAv”age
() const;

50 
Re£t
();

53 
size_t
 
Size
() const;

55 
	g´iv©e
:

57 
size_t
 
couÁ_
 = 0;

59 
št64_t
 
	gsum_
 = 0;

62 
	g¡d
::
veùÜ
<> 
hi¡Üy_
;

	@numerics/moving_average_unittest.cc

11 
	~"¹c_ba£/num”ics/movšg_av”age.h
"

13 
	~"‹¡/g‹¡.h
"

15 
Çme¥aû
 
	g‹¡
 {

17 
TEST
(
MovšgAv”ageTe¡
, 
Em±yAv”age
) {

18 
	g¹c
::
MovšgAv”age
 
movšg_av”age
(1);

19 
EXPECT_EQ
(0u, 
movšg_av”age
.
Size
());

20 
EXPECT_EQ
(
ab¦
::
nuÎİt
, 
movšg_av”age
.
G‘Av”ageRoundedDown
());

24 
TEST
(
MovšgAv”ageTe¡
, 
OÃEËm’t
) {

25 
	g¹c
::
MovšgAv”age
 
movšg_av”age
(1);

26 
	gmovšg_av”age
.
AddSam¶e
(3);

27 
EXPECT_EQ
(1u, 
movšg_av”age
.
Size
());

28 
EXPECT_EQ
(3, *
movšg_av”age
.
G‘Av”ageRoundedDown
());

31 
TEST
(
MovšgAv”ageTe¡
, 
G‘Av”age
) {

32 
	g¹c
::
MovšgAv”age
 
movšg_av”age
(1024);

33 
	gmovšg_av”age
.
AddSam¶e
(1);

34 
	gmovšg_av”age
.
AddSam¶e
(1);

35 
	gmovšg_av”age
.
AddSam¶e
(3);

36 
	gmovšg_av”age
.
AddSam¶e
(3);

37 
EXPECT_EQ
(*
movšg_av”age
.
G‘Av”ageRoundedDown
(), 2);

38 
EXPECT_EQ
(*
movšg_av”age
.
G‘Av”ageRoundedToClo£¡
(), 2);

41 
TEST
(
MovšgAv”ageTe¡
, 
G‘Av”ageRoundedDownRounds
) {

42 
	g¹c
::
MovšgAv”age
 
movšg_av”age
(1024);

43 
	gmovšg_av”age
.
AddSam¶e
(1);

44 
	gmovšg_av”age
.
AddSam¶e
(2);

45 
	gmovšg_av”age
.
AddSam¶e
(2);

46 
	gmovšg_av”age
.
AddSam¶e
(2);

47 
EXPECT_EQ
(*
movšg_av”age
.
G‘Av”ageRoundedDown
(), 1);

50 
TEST
(
MovšgAv”ageTe¡
, 
G‘Av”ageRoundedToClo£¡Rounds
) {

51 
	g¹c
::
MovšgAv”age
 
movšg_av”age
(1024);

52 
	gmovšg_av”age
.
AddSam¶e
(1);

53 
	gmovšg_av”age
.
AddSam¶e
(2);

54 
	gmovšg_av”age
.
AddSam¶e
(2);

55 
	gmovšg_av”age
.
AddSam¶e
(2);

56 
EXPECT_EQ
(*
movšg_av”age
.
G‘Av”ageRoundedToClo£¡
(), 2);

59 
TEST
(
MovšgAv”ageTe¡
, 
Re£t
) {

60 
	g¹c
::
MovšgAv”age
 
movšg_av”age
(5);

61 
	gmovšg_av”age
.
AddSam¶e
(1);

62 
EXPECT_EQ
(1, *
movšg_av”age
.
G‘Av”ageRoundedDown
());

63 
EXPECT_EQ
(1, *
movšg_av”age
.
G‘Av”ageRoundedToClo£¡
());

65 
	gmovšg_av”age
.
Re£t
();

67 
EXPECT_FALSE
(
movšg_av”age
.
G‘Av”ageRoundedDown
());

68 
	gmovšg_av”age
.
AddSam¶e
(10);

69 
EXPECT_EQ
(10, *
movšg_av”age
.
G‘Av”ageRoundedDown
());

70 
EXPECT_EQ
(10, *
movšg_av”age
.
G‘Av”ageRoundedToClo£¡
());

73 
TEST
(
MovšgAv”ageTe¡
, 
MªySam¶es
) {

74 
	g¹c
::
MovšgAv”age
 
movšg_av”age
(10);

75 
	gi
 = 1; i < 11; i++) {

76 
	gmovšg_av”age
.
AddSam¶e
(
i
);

78 
EXPECT_EQ
(*
movšg_av”age
.
G‘Av”ageRoundedDown
(), 5);

79 
EXPECT_EQ
(*
movšg_av”age
.
G‘Av”ageRoundedToClo£¡
(), 6);

80 
	gi
 = 1; i < 2001; i++) {

81 
	gmovšg_av”age
.
AddSam¶e
(
i
);

83 
EXPECT_EQ
(*
movšg_av”age
.
G‘Av”ageRoundedDown
(), 1995);

84 
EXPECT_EQ
(*
movšg_av”age
.
G‘Av”ageRoundedToClo£¡
(), 1996);

	@numerics/moving_max_counter.h

11 #iâdeà
RTC_BASE_NUMERICS_MOVING_MAX_COUNTER_H_


12 
	#RTC_BASE_NUMERICS_MOVING_MAX_COUNTER_H_


	)

14 
	~<¡dšt.h
>

16 
	~<deque
>

17 
	~<lim™s
>

18 
	~<ut™y
>

20 
	~"ab¦/ty³s/İtiÚ®.h
"

21 
	~"¹c_ba£/checks.h
"

22 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

24 
Çme¥aû
 
	g¹c
 {

33 
	g‹m¶©e
 <
şass
 
	gT
>

34 şas 
	cMovšgMaxCouÁ”
 {

35 
	gpublic
:

36 
ex¶ic™
 
MovšgMaxCouÁ”
(
št64_t
 
wšdow_Ëngth_ms
);

39 
Add
(cÚ¡ 
T
& 
§m¶e
, 
št64_t
 
cu¼’t_time_ms
);

43 
	gab¦
::
İtiÚ®
<
T
> 
Max
(
št64_t
 
cu¼’t_time_ms
);

44 
Re£t
();

46 
	g´iv©e
:

48 
RŞlWšdow
(
št64_t
 
Ãw_time_ms
);

49 cÚ¡ 
št64_t
 
	gwšdow_Ëngth_ms_
;

56 
	g¡d
::
deque
<
¡d
::
·œ
<
št64_t
, 
	gT
>> 
	g§m¶es_
;

57 #ià
RTC_DCHECK_IS_ON


58 
št64_t
 
	gÏ¡_ÿÎ_time_ms_
 = 
¡d
::
num”ic_lim™s
<št64_t>::
mš
();

60 
RTC_DISALLOW_COPY_AND_ASSIGN
(
MovšgMaxCouÁ”
);

63 
	g‹m¶©e
 <
şass
 
	gT
>

64 
	gMovšgMaxCouÁ”
<
	gT
>::
	$MovšgMaxCouÁ”
(
št64_t
 
wšdow_Ëngth_ms
)

65 : 
	$wšdow_Ëngth_ms_
(
wšdow_Ëngth_ms
è{
	}
}

67 
‹m¶©e
 <
şass
 
T
>

68 
MovšgMaxCouÁ”
<
T
>::
	$Add
(cÚ¡ 
T
& 
§m¶e
, 
št64_t
 
cu¼’t_time_ms
) {

69 
	`RŞlWšdow
(
cu¼’t_time_ms
);

74 !
§m¶es_
.
	`em±y
(è&& sam¶es_.
	`back
().
£cÚd
 <ğ
§m¶e
) {

75 
§m¶es_
.
	`pİ_back
();

80 ià(
§m¶es_
.
	`em±y
(è|| sam¶es_.
	`back
().
fœ¡
 < 
cu¼’t_time_ms
) {

81 
§m¶es_
.
	`em¶aû_back
(
¡d
::
	`make_·œ
(
cu¼’t_time_ms
, 
§m¶e
));

83 
	}
}

85 
	g‹m¶©e
 <
şass
 
	gT
>

86 
	gab¦
::
İtiÚ®
<
T
> 
MovšgMaxCouÁ”
<T>::
	$Max
(
št64_t
 
cu¼’t_time_ms
) {

87 
	`RŞlWšdow
(
cu¼’t_time_ms
);

88 
ab¦
::
İtiÚ®
<
T
> 
»s
;

89 ià(!
§m¶es_
.
	`em±y
()) {

90 
»s
.
	`em¶aû
(
§m¶es_
.
	`äÚt
().
£cÚd
);

92  
»s
;

93 
	}
}

95 
	g‹m¶©e
 <
şass
 
	gT
>

96 
	gMovšgMaxCouÁ”
<
	gT
>::
	$Re£t
() {

97 
§m¶es_
.
	`ş—r
();

98 
	}
}

100 
	g‹m¶©e
 <
şass
 
	gT
>

101 
	gMovšgMaxCouÁ”
<
	gT
>::
	$RŞlWšdow
(
št64_t
 
Ãw_time_ms
) {

102 #ià
RTC_DCHECK_IS_ON


103 
	`RTC_DCHECK_GE
(
Ãw_time_ms
, 
Ï¡_ÿÎ_time_ms_
);

104 
Ï¡_ÿÎ_time_ms_
 = 
Ãw_time_ms
;

106 cÚ¡ 
št64_t
 
wšdow_begš_ms
 = 
Ãw_time_ms
 - 
wšdow_Ëngth_ms_
;

107 autØ
™
 = 
§m¶es_
.
	`begš
();

108 
™
 !ğ
§m¶es_
.
	`’d
(è&& it->
fœ¡
 < 
wšdow_begš_ms
) {

109 ++
™
;

111 
§m¶es_
.
	`”a£
(§m¶es_.
	`begš
(), 
™
);

112 
	}
}

	@numerics/moving_max_counter_unittest.cc

11 
	~"¹c_ba£/num”ics/movšg_max_couÁ”.h
"

13 
	~"‹¡/g‹¡.h
"

15 
	$TEST
(
MovšgMaxCouÁ”
, 
R•ÜtsMaximumInTheWšdow
) {

16 
¹c
::
MovšgMaxCouÁ”
<> 
	`couÁ”
(100);

17 
couÁ”
.
	`Add
(1, 1);

18 
	`EXPECT_EQ
(
couÁ”
.
	`Max
(1), 1);

19 
couÁ”
.
	`Add
(2, 30);

20 
	`EXPECT_EQ
(
couÁ”
.
	`Max
(30), 2);

21 
couÁ”
.
	`Add
(100, 60);

22 
	`EXPECT_EQ
(
couÁ”
.
	`Max
(60), 100);

23 
couÁ”
.
	`Add
(4, 70);

24 
	`EXPECT_EQ
(
couÁ”
.
	`Max
(70), 100);

25 
couÁ”
.
	`Add
(5, 90);

26 
	`EXPECT_EQ
(
couÁ”
.
	`Max
(90), 100);

27 
	}
}

29 
	$TEST
(
MovšgMaxCouÁ”
, 
IgnÜesOldEËm’ts
) {

30 
¹c
::
MovšgMaxCouÁ”
<> 
	`couÁ”
(100);

31 
couÁ”
.
	`Add
(1, 1);

32 
couÁ”
.
	`Add
(2, 30);

33 
couÁ”
.
	`Add
(100, 60);

34 
couÁ”
.
	`Add
(4, 70);

35 
couÁ”
.
	`Add
(5, 90);

36 
	`EXPECT_EQ
(
couÁ”
.
	`Max
(160), 100);

38 
	`EXPECT_EQ
(
couÁ”
.
	`Max
(161), 5);

39 
	}
}

41 
	$TEST
(
MovšgMaxCouÁ”
, 
HªdËsEm±yWšdow
) {

42 
¹c
::
MovšgMaxCouÁ”
<> 
	`couÁ”
(100);

43 
couÁ”
.
	`Add
(123, 1);

44 
	`EXPECT_TRUE
(
couÁ”
.
	`Max
(101).
	`has_v®ue
());

45 
	`EXPECT_FALSE
(
couÁ”
.
	`Max
(102).
	`has_v®ue
());

46 
	}
}

48 
	$TEST
(
MovšgMaxCouÁ”
, 
HªdËsSam¶esW™hEqu®Time¡amps
) {

49 
¹c
::
MovšgMaxCouÁ”
<> 
	`couÁ”
(100);

50 
couÁ”
.
	`Add
(2, 30);

51 
	`EXPECT_EQ
(
couÁ”
.
	`Max
(30), 2);

52 
couÁ”
.
	`Add
(5, 30);

53 
	`EXPECT_EQ
(
couÁ”
.
	`Max
(30), 5);

54 
couÁ”
.
	`Add
(4, 30);

55 
	`EXPECT_EQ
(
couÁ”
.
	`Max
(30), 5);

56 
couÁ”
.
	`Add
(1, 90);

57 
	`EXPECT_EQ
(
couÁ”
.
	`Max
(150), 1);

58 
	}
}

	@numerics/moving_median_filter.h

11 #iâdeà
RTC_BASE_NUMERICS_MOVING_MEDIAN_FILTER_H_


12 
	#RTC_BASE_NUMERICS_MOVING_MEDIAN_FILTER_H_


	)

14 
	~<¡ddef.h
>

16 
	~<c¡ddef
>

17 
	~<li¡
>

19 
	~"¹c_ba£/checks.h
"

20 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

21 
	~"¹c_ba£/num”ics/³rûÁe_f‹r.h
"

23 
Çme¥aû
 
	gweb¹c
 {

26 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

27 şas 
	cMovšgMedŸnF‹r
 {

28 
	gpublic
:

31 
ex¶ic™
 
MovšgMedŸnF‹r
(
size_t
 
wšdow_size
);

34 
In£¹
(cÚ¡ 
T
& 
v®ue
);

37 
Re£t
();

40 
T
 
G‘F‹»dV®ue
() const;

43 
size_t
 
G‘Numb”OfSam¶esStÜed
() const;

45 
	g´iv©e
:

46 
P”ûÁeF‹r
<
T
> 
³rûÁe_f‹r_
;

47 
	g¡d
::
li¡
<
T
> 
§m¶es_
;

48 
size_t
 
	g§m¶es_¡Üed_
;

49 cÚ¡ 
size_t
 
	gwšdow_size_
;

51 
RTC_DISALLOW_COPY_AND_ASSIGN
(
MovšgMedŸnF‹r
);

54 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

55 
	gMovšgMedŸnF‹r
<
	gT
>::
	$MovšgMedŸnF‹r
(
size_t
 
wšdow_size
)

56 : 
	`³rûÁe_f‹r_
(0.5f), 
	`§m¶es_¡Üed_
(0), 
	$wšdow_size_
(
wšdow_size
) {

57 
	`RTC_CHECK_GT
(
wšdow_size
, 0);

58 
	}
}

60 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

61 
	gMovšgMedŸnF‹r
<
	gT
>::
	$In£¹
(cÚ¡ 
T
& 
v®ue
) {

62 
³rûÁe_f‹r_
.
	`In£¹
(
v®ue
);

63 
§m¶es_
.
	`em¶aû_back
(
v®ue
);

64 ++
§m¶es_¡Üed_
;

65 ià(
§m¶es_¡Üed_
 > 
wšdow_size_
) {

66 
³rûÁe_f‹r_
.
	`E¿£
(
§m¶es_
.
	`äÚt
());

67 
§m¶es_
.
	`pİ_äÚt
();

68 --
§m¶es_¡Üed_
;

70 
	}
}

72 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

73 
T
 
	gMovšgMedŸnF‹r
<
	gT
>::
	$G‘F‹»dV®ue
() const {

74  
³rûÁe_f‹r_
.
	`G‘P”ûÁeV®ue
();

75 
	}
}

77 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

78 
	gMovšgMedŸnF‹r
<
	gT
>::
	$Re£t
() {

79 
³rûÁe_f‹r_
.
	`Re£t
();

80 
§m¶es_
.
	`ş—r
();

81 
§m¶es_¡Üed_
 = 0;

82 
	}
}

84 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

85 
size_t
 
	gMovšgMedŸnF‹r
<
	gT
>::
	$G‘Numb”OfSam¶esStÜed
() const {

86  
§m¶es_¡Üed_
;

87 
	}
}

	@numerics/moving_median_filter_unittest.cc

11 
	~"¹c_ba£/num”ics/movšg_medŸn_f‹r.h
"

13 
	~<¡dšt.h
>

14 
	~<®gÜ™hm
>

16 
	~"‹¡/g‹¡.h
"

18 
Çme¥aû
 
	gweb¹c
 {

20 
TEST
(
MovšgMedŸnF‹rTe¡
, 
Proûs£sNoSam¶es
) {

21 
	gMovšgMedŸnF‹r
<> 
f‹r
(2);

22 
EXPECT_EQ
(0, 
f‹r
.
G‘F‹»dV®ue
());

23 
EXPECT_EQ
(0u, 
f‹r
.
G‘Numb”OfSam¶esStÜed
());

26 
TEST
(
MovšgMedŸnF‹rTe¡
, 
R‘uºsMovšgMedŸnWšdow5
) {

27 
	gMovšgMedŸnF‹r
<> 
f‹r
(5);

28 cÚ¡ 
št64_t
 
	gkSam¶es
[5] = {1, 5, 2, 3, 4};

29 cÚ¡ 
št64_t
 
	gkEx³ùedF‹»dV®ues
[5] = {1, 1, 2, 2, 3};

30 
size_t
 
	gi
 = 0; i < 5; ++i) {

31 
	gf‹r
.
In£¹
(
kSam¶es
[
i
]);

32 
EXPECT_EQ
(
kEx³ùedF‹»dV®ues
[
i
], 
f‹r
.
G‘F‹»dV®ue
());

33 
EXPECT_EQ
(
i
 + 1, 
f‹r
.
G‘Numb”OfSam¶esStÜed
());

37 
TEST
(
MovšgMedŸnF‹rTe¡
, 
R‘uºsMovšgMedŸnWšdow3
) {

38 
	gMovšgMedŸnF‹r
<> 
f‹r
(3);

39 cÚ¡ 
št64_t
 
	gkSam¶es
[5] = {1, 5, 2, 3, 4};

40 cÚ¡ 
št64_t
 
	gkEx³ùedF‹»dV®ues
[5] = {1, 1, 2, 3, 3};

41 
	gi
 = 0; i < 5; ++i) {

42 
	gf‹r
.
In£¹
(
kSam¶es
[
i
]);

43 
EXPECT_EQ
(
kEx³ùedF‹»dV®ues
[
i
], 
f‹r
.
G‘F‹»dV®ue
());

44 
EXPECT_EQ
(
¡d
::
mš
<
size_t
>(
i
 + 1, 3), 
f‹r
.
G‘Numb”OfSam¶esStÜed
());

48 
TEST
(
MovšgMedŸnF‹rTe¡
, 
R‘uºsMovšgMedŸnWšdow1
) {

49 
	gMovšgMedŸnF‹r
<> 
f‹r
(1);

50 cÚ¡ 
št64_t
 
	gkSam¶es
[5] = {1, 5, 2, 3, 4};

51 cÚ¡ 
št64_t
 
	gkEx³ùedF‹»dV®ues
[5] = {1, 5, 2, 3, 4};

52 
	gi
 = 0; i < 5; ++i) {

53 
	gf‹r
.
In£¹
(
kSam¶es
[
i
]);

54 
EXPECT_EQ
(
kEx³ùedF‹»dV®ues
[
i
], 
f‹r
.
G‘F‹»dV®ue
());

55 
EXPECT_EQ
(1u, 
f‹r
.
G‘Numb”OfSam¶esStÜed
());

	@numerics/percentile_filter.h

11 #iâdeà
RTC_BASE_NUMERICS_PERCENTILE_FILTER_H_


12 
	#RTC_BASE_NUMERICS_PERCENTILE_FILTER_H_


	)

14 
	~<¡dšt.h
>

16 
	~<™”©Ü
>

17 
	~<£t
>

19 
	~"¹c_ba£/checks.h
"

21 
Çme¥aû
 
	gweb¹c
 {

26 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

27 şas 
	cP”ûÁeF‹r
 {

28 
	gpublic
:

30 
ex¶ic™
 
P”ûÁeF‹r
(
³rûÁe
);

34 
In£¹
(cÚ¡ 
T
& 
v®ue
);

39 
boŞ
 
E¿£
(cÚ¡ 
T
& 
v®ue
);

42 
T
 
G‘P”ûÁeV®ue
() const;

45 
Re£t
();

47 
	g´iv©e
:

49 
Upd©eP”ûÁeI‹¿tÜ
();

51 cÚ¡ 
	g³rûÁe_
;

52 
	g¡d
::
muÉi£t
<
T
> 
£t_
;

54 
ty³Çme
 
	g¡d
::
muÉi£t
<
T
>::
™”©Ü
 
³rûÁe_™_
;

55 
št64_t
 
	g³rûÁe_šdex_
;

58 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

59 
	gP”ûÁeF‹r
<
	gT
>::
	$P”ûÁeF‹r
(
³rûÁe
)

60 : 
	`³rûÁe_
(
³rûÁe
),

61 
	`³rûÁe_™_
(
£t_
.
	`begš
()),

62 
	$³rûÁe_šdex_
(0) {

63 
	`RTC_CHECK_GE
(
³rûÁe
, 0.0f);

64 
	`RTC_CHECK_LE
(
³rûÁe
, 1.0f);

65 
	}
}

67 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

68 
	gP”ûÁeF‹r
<
	gT
>::
	$In£¹
(cÚ¡ 
T
& 
v®ue
) {

70 
£t_
.
	`š£¹
(
v®ue
);

71 ià(
£t_
.
	`size
() == 1u) {

73 
³rûÁe_™_
 = 
£t_
.
	`begš
();

74 
³rûÁe_šdex_
 = 0;

75 } ià(
v®ue
 < *
³rûÁe_™_
) {

77 ++
³rûÁe_šdex_
;

79 
	`Upd©eP”ûÁeI‹¿tÜ
();

80 
	}
}

82 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

83 
boŞ
 
	gP”ûÁeF‹r
<
	gT
>::
	$E¿£
(cÚ¡ 
T
& 
v®ue
) {

84 
ty³Çme
 
¡d
::
muÉi£t
<
T
>::
cÚ¡_™”©Ü
 
™
 = 
£t_
.
	`low”_bound
(
v®ue
);

86 ià(
™
 =ğ
£t_
.
	`’d
(è|| *™ !ğ
v®ue
)

87  
çl£
;

88 ià(
™
 =ğ
³rûÁe_™_
) {

91 
³rûÁe_™_
 = 
£t_
.
	`”a£
(
™
);

93 
£t_
.
	`”a£
(
™
);

95 ià(
v®ue
 <ğ*
³rûÁe_™_
)

96 --
³rûÁe_šdex_
;

98 
	`Upd©eP”ûÁeI‹¿tÜ
();

99  
Œue
;

100 
	}
}

102 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

103 
	gP”ûÁeF‹r
<
	gT
>::
	$Upd©eP”ûÁeI‹¿tÜ
() {

104 ià(
£t_
.
	`em±y
())

106 cÚ¡ 
št64_t
 
šdex
 = 
¡©ic_ÿ¡
<št64_t>(
³rûÁe_
 * (
£t_
.
	`size
() - 1));

107 
¡d
::
	`advªû
(
³rûÁe_™_
, 
šdex
 - 
³rûÁe_šdex_
);

108 
³rûÁe_šdex_
 = 
šdex
;

109 
	}
}

111 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

112 
T
 
	gP”ûÁeF‹r
<
	gT
>::
	$G‘P”ûÁeV®ue
() const {

113  
£t_
.
	`em±y
(è? 0 : *
³rûÁe_™_
;

114 
	}
}

116 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

117 
	gP”ûÁeF‹r
<
	gT
>::
	$Re£t
() {

118 
£t_
.
	`ş—r
();

119 
³rûÁe_™_
 = 
£t_
.
	`begš
();

120 
³rûÁe_šdex_
 = 0;

121 
	}
}

	@numerics/percentile_filter_unittest.cc

11 
	~"¹c_ba£/num”ics/³rûÁe_f‹r.h
"

13 
	~<¡dlib.h
>

15 
	~<¬¿y
>

16 
	~<şim™s
>

17 
	~<c¡dšt
>

18 
	~<¿ndom
>

20 
	~"ab¦/®gÜ™hm/cÚš”.h
"

21 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

22 
	~"‹¡/g‹¡.h
"

24 
Çme¥aû
 
	gweb¹c
 {

26 
şass
 
	gP”ûÁeF‹rTe¡
 : 
public
 ::
‹¡šg
::
Te¡W™hP¬am
<> {

27 
public
:

28 
P”ûÁeF‹rTe¡
(è: 
f‹r_
(
G‘P¬am
()) {

30 
¤ªd
(42);

33 
	g´Ùeùed
:

34 
P”ûÁeF‹r
<
št64_t
> 
f‹r_
;

36 
	g´iv©e
:

37 
RTC_DISALLOW_COPY_AND_ASSIGN
(
P”ûÁeF‹rTe¡
);

40 
INSTANTIATE_TEST_SUITE_P
(
P”ûÁeF‹rTe¡s
,

41 
P”ûÁeF‹rTe¡
,

42 ::
‹¡šg
::
V®ues
(0.0f, 0.1f, 0.5f, 0.9f, 1.0f));

44 
TEST
(
P”ûÁeF‹rTe¡
, 
MšF‹r
) {

45 
	gP”ûÁeF‹r
<
	gšt64_t
> 
f‹r
(0.0f);

46 
	gf‹r
.
In£¹
(4);

47 
EXPECT_EQ
(4, 
f‹r
.
G‘P”ûÁeV®ue
());

48 
	gf‹r
.
In£¹
(3);

49 
EXPECT_EQ
(3, 
f‹r
.
G‘P”ûÁeV®ue
());

52 
TEST
(
P”ûÁeF‹rTe¡
, 
MaxF‹r
) {

53 
	gP”ûÁeF‹r
<
	gšt64_t
> 
f‹r
(1.0f);

54 
	gf‹r
.
In£¹
(3);

55 
EXPECT_EQ
(3, 
f‹r
.
G‘P”ûÁeV®ue
());

56 
	gf‹r
.
In£¹
(4);

57 
EXPECT_EQ
(4, 
f‹r
.
G‘P”ûÁeV®ue
());

60 
TEST
(
P”ûÁeF‹rTe¡
, 
MedŸnF‹rDoubË
) {

61 
	gP”ûÁeF‹r
<> 
f‹r
(0.5f);

62 
	gf‹r
.
In£¹
(2.71828);

63 
	gf‹r
.
In£¹
(3.14159);

64 
	gf‹r
.
In£¹
(1.41421);

65 
EXPECT_EQ
(2.71828, 
f‹r
.
G‘P”ûÁeV®ue
());

68 
TEST
(
P”ûÁeF‹rTe¡
, 
MedŸnF‹rIÁ
) {

69 
	gP”ûÁeF‹r
<> 
f‹r
(0.5f);

70 
	gf‹r
.
In£¹
(
INT_MIN
);

71 
	gf‹r
.
In£¹
(1);

72 
	gf‹r
.
In£¹
(2);

73 
EXPECT_EQ
(1, 
f‹r
.
G‘P”ûÁeV®ue
());

74 
	gf‹r
.
In£¹
(
INT_MAX
);

75 
	gf‹r
.
E¿£
(
INT_MIN
);

76 
EXPECT_EQ
(2, 
f‹r
.
G‘P”ûÁeV®ue
());

79 
TEST
(
P”ûÁeF‹rTe¡
, 
MedŸnF‹rUnsigÃd
) {

80 
	gP”ûÁeF‹r
<> 
f‹r
(0.5f);

81 
	gf‹r
.
In£¹
(
UINT_MAX
);

82 
	gf‹r
.
In£¹
(2u);

83 
	gf‹r
.
In£¹
(1u);

84 
EXPECT_EQ
(2u, 
f‹r
.
G‘P”ûÁeV®ue
());

85 
	gf‹r
.
In£¹
(0u);

86 
	gf‹r
.
E¿£
(
UINT_MAX
);

87 
EXPECT_EQ
(1u, 
f‹r
.
G‘P”ûÁeV®ue
());

90 
TEST_P
(
P”ûÁeF‹rTe¡
, 
Em±yF‹r
) {

91 
EXPECT_EQ
(0, 
f‹r_
.
G‘P”ûÁeV®ue
());

92 
	gf‹r_
.
In£¹
(3);

93 
boŞ
 
	gsucûss
 = 
f‹r_
.
E¿£
(3);

94 
EXPECT_TRUE
(
sucûss
);

95 
EXPECT_EQ
(0, 
f‹r_
.
G‘P”ûÁeV®ue
());

98 
TEST_P
(
P”ûÁeF‹rTe¡
, 
E¿£NÚExi¡šgEËm’t
) {

99 
boŞ
 
	gsucûss
 = 
f‹r_
.
E¿£
(3);

100 
EXPECT_FALSE
(
sucûss
);

101 
EXPECT_EQ
(0, 
f‹r_
.
G‘P”ûÁeV®ue
());

102 
	gf‹r_
.
In£¹
(4);

103 
	gsucûss
 = 
f‹r_
.
E¿£
(3);

104 
EXPECT_FALSE
(
sucûss
);

105 
EXPECT_EQ
(4, 
f‹r_
.
G‘P”ûÁeV®ue
());

108 
TEST_P
(
P”ûÁeF‹rTe¡
, 
Du¶iÿ‹EËm’ts
) {

109 
	gf‹r_
.
In£¹
(3);

110 
	gf‹r_
.
In£¹
(3);

111 
	gf‹r_
.
E¿£
(3);

112 
EXPECT_EQ
(3, 
f‹r_
.
G‘P”ûÁeV®ue
());

115 
TEST_P
(
P”ûÁeF‹rTe¡
, 
In£¹AndE¿£T’V®uesInRªdomOrd”
) {

116 
	g¡d
::
¬¿y
<
št64_t
, 10> 
	gz”o_to_nše
 = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9};

118 cÚ¡ 
št64_t
 
	gex³ùed_v®ue
 = 
¡©ic_ÿ¡
<št64_t>(
G‘P¬am
() * 9);

121 
	gi
 = 0; i < 2; ++i) {

122 
	gab¦
::
c_shufæe
(
z”o_to_nše
, 
¡d
::
mt19937
(¡d::
¿ndom_deviû
()()));

123 
št64_t
 
	gv®ue
 : 
z”o_to_nše
)

124 
f‹r_
.
In£¹
(
v®ue
);

127 
EXPECT_EQ
(
ex³ùed_v®ue
, 
f‹r_
.
G‘P”ûÁeV®ue
());

131 
	gi
 = 0; i < 3; ++i) {

132 
	gab¦
::
c_shufæe
(
z”o_to_nše
, 
¡d
::
mt19937
(¡d::
¿ndom_deviû
()()));

133 
št64_t
 
	gv®ue
 : 
z”o_to_nše
)

134 
f‹r_
.
E¿£
(
v®ue
);

135 
EXPECT_EQ
(
ex³ùed_v®ue
, 
f‹r_
.
G‘P”ûÁeV®ue
());

136 
	gab¦
::
c_shufæe
(
z”o_to_nše
, 
¡d
::
mt19937
(¡d::
¿ndom_deviû
()()));

137 
št64_t
 
	gv®ue
 : 
z”o_to_nše
)

138 
f‹r_
.
In£¹
(
v®ue
);

139 
EXPECT_EQ
(
ex³ùed_v®ue
, 
f‹r_
.
G‘P”ûÁeV®ue
());

	@numerics/running_statistics.h

11 #iâdeà
RTC_BASE_NUMERICS_RUNNING_STATISTICS_H_


12 
	#RTC_BASE_NUMERICS_RUNNING_STATISTICS_H_


	)

14 
	~<®gÜ™hm
>

15 
	~<cm©h
>

16 
	~<lim™s
>

18 
	~"ab¦/ty³s/İtiÚ®.h
"

19 
	~"¹c_ba£/checks.h
"

20 
	~"¹c_ba£/num”ics/m©h_uts.h
"

22 
Çme¥aû
 
	gweb¹c
 {

44 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

45 şas 
	cRuÂšgSti¡ics
 {

46 
	gpublic
:

50 
AddSam¶e
(
T
 
§m¶e
) {

51 
max_
 = 
¡d
::
max
(max_, 
§m¶e
);

52 
	gmš_
 = 
¡d
::
mš
(
mš_
, 
§m¶e
);

53 ++
	gsize_
;

55 cÚ¡ 
	gd–
 = 
§m¶e
 - 
m—n_
;

56 
	gm—n_
 +ğ
d–
 / 
size_
;

57 cÚ¡ 
	gd–2
 = 
§m¶e
 - 
m—n_
;

58 
	gcumul_
 +ğ
d–
 * 
d–2
;

64 
RemoveSam¶e
(
T
 
§m¶e
) {

65 
RTC_DCHECK_GT
(
Size
(), 0);

67 ià(
Size
() == 0) {

72 --
	gsize_
;

73 cÚ¡ 
	gd–
 = 
§m¶e
 - 
m—n_
;

74 
	gm—n_
 -ğ
d–
 / 
size_
;

75 cÚ¡ 
	gd–2
 = 
§m¶e
 - 
m—n_
;

76 
	gcumul_
 -ğ
d–
 * 
d–2
;

80 
M”geSti¡ics
(cÚ¡ 
RuÂšgSti¡ics
<
T
>& 
Ùh”
) {

81 ià(
	gÙh”
.
	gsize_
 == 0) {

84 
	gmax_
 = 
¡d
::
max
(
max_
, 
Ùh”
.max_);

85 
	gmš_
 = 
¡d
::
mš
(
mš_
, 
Ùh”
.min_);

86 cÚ¡ 
št64_t
 
	gÃw_size
 = 
size_
 + 
Ùh”
.size_;

87 cÚ¡ 
	gÃw_m—n
 =

88 (
m—n_
 * 
size_
 + 
Ùh”
.m—n_ * oth”.size_è/ 
Ãw_size
;

92 autØ
	gd–
 = [
Ãw_m—n
](cÚ¡ 
RuÂšgSti¡ics
<
T
>& 
¡©s
) {

93  
¡©s
.
size_
 * (
Ãw_m—n
 * (Ãw_m—À- 2 * sts.
m—n_
) +

94 
¡©s
.
m—n_
 * stats.mean_);

96 
	gcumul_
 = 
cumul_
 + 
d–
(*
this
è+ 
Ùh”
.cumul_ + delta(other);

97 
	gm—n_
 = 
Ãw_m—n
;

98 
	gsize_
 = 
Ãw_size
;

105 
št64_t
 
Size
(ècÚ¡ {  
	gsize_
; }

109 
	gab¦
::
İtiÚ®
<
T
> 
G‘Mš
() const {

110 ià(
size_
 == 0) {

111  
ab¦
::
nuÎİt
;

113  
	gmš_
;

118 
	gab¦
::
İtiÚ®
<
T
> 
G‘Max
() const {

119 ià(
size_
 == 0) {

120  
ab¦
::
nuÎİt
;

122  
	gmax_
;

126 
	gab¦
::
İtiÚ®
<> 
G‘M—n
() const {

127 ià(
size_
 == 0) {

128  
ab¦
::
nuÎİt
;

130  
	gm—n_
;

134 
	gab¦
::
İtiÚ®
<> 
G‘V¬Ÿnû
() const {

135 ià(
size_
 == 0) {

136  
ab¦
::
nuÎİt
;

138  
	gcumul_
 / 
	gsize_
;

142 
	gab¦
::
İtiÚ®
<> 
G‘Snd¬dDevŸtiÚ
() const {

143 ià(
size_
 == 0) {

144  
ab¦
::
nuÎİt
;

146  
	g¡d
::
sq¹
(*
G‘V¬Ÿnû
());

149 
	g´iv©e
:

150 
št64_t
 
size_
 = 0;

151 
T
 
	gmš_
 = 
šfš™y_Ü_max
<T>();

152 
T
 
	gmax_
 = 
mšus_šfš™y_Ü_mš
<T>();

153 
	gm—n_
 = 0;

154 
	gcumul_
 = 0;

	@numerics/running_statistics_unittest.cc

11 
	~"¹c_ba£/num”ics/ruÂšg_¡©i¡ics.h
"

13 
	~<m©h.h
>

15 
	~<¿ndom
>

16 
	~<veùÜ
>

18 
	~"ab¦/®gÜ™hm/cÚš”.h
"

19 
	~"‹¡/g‹¡.h
"

23 
Çme¥aû
 
	gweb¹c
 {

24 
	gÇme¥aû
 {

26 
	gRuÂšgSti¡ics
<> 
C»©eStsFËdW™hIÁsFrom1ToN
(
n
) {

27 
	g¡d
::
veùÜ
<> 
d©a
;

28 
	gi
 = 1; i <ğ
n
; i++) {

29 
	gd©a
.
push_back
(
i
);

31 
	gab¦
::
c_shufæe
(
d©a
, 
¡d
::
mt19937
(¡d::
¿ndom_deviû
()()));

33 
	gRuÂšgSti¡ics
<> 
	g¡©s
;

34 
	gv
 : 
d©a
) {

35 
¡©s
.
AddSam¶e
(
v
);

37  
	g¡©s
;

41 
	gRuÂšgSti¡ics
<> 
C»©eStsFromUnifÜmDi¡ributiÚ
(
n
,

42 
a
,

43 
b
) {

44 
	g¡d
::
mt19937
 
g’
{
¡d
::
¿ndom_deviû
()()};

45 
	g¡d
::
unifÜm_»®_di¡ributiÚ
<> 
dis
(
a
, 
b
);

47 
	gRuÂšgSti¡ics
<> 
	g¡©s
;

48 
	gi
 = 1; i <ğ
n
; i++) {

49 
	g¡©s
.
AddSam¶e
(
dis
(
g’
));

51  
	g¡©s
;

54 
şass
 
	gRuÂšgSti¡icsTe¡
 : 
public
 ::
‹¡šg
::
Te¡W™hP¬am
<> {};

56 
cÚ¡ex´
 
	gSIZE_FOR_MERGE
 = 5;

60 
TEST
(
RuÂšgSti¡ics
, 
FuÎSim¶eTe¡
) {

61 autØ
	g¡©s
 = 
C»©eStsFËdW™hIÁsFrom1ToN
(100);

63 
EXPECT_DOUBLE_EQ
(*
¡©s
.
G‘Mš
(), 1.0);

64 
EXPECT_DOUBLE_EQ
(*
¡©s
.
G‘Max
(), 100.0);

66 
ASSERT_NEAR
(*
¡©s
.
G‘M—n
(), 50.5, 1e-10);

69 
TEST
(
RuÂšgSti¡ics
, 
V¬ŸnûAndDevŸtiÚ
) {

70 
	gRuÂšgSti¡ics
<> 
	g¡©s
;

71 
	g¡©s
.
AddSam¶e
(2);

72 
	g¡©s
.
AddSam¶e
(2);

73 
	g¡©s
.
AddSam¶e
(-1);

74 
	g¡©s
.
AddSam¶e
(5);

76 
EXPECT_DOUBLE_EQ
(*
¡©s
.
G‘M—n
(), 2.0);

77 
EXPECT_DOUBLE_EQ
(*
¡©s
.
G‘V¬Ÿnû
(), 4.5);

78 
EXPECT_DOUBLE_EQ
(*
¡©s
.
G‘Snd¬dDevŸtiÚ
(), 
sq¹
(4.5));

81 
TEST
(
RuÂšgSti¡ics
, 
RemoveSam¶e
) {

84 
	gRuÂšgSti¡ics
<> 
	g¡©s
;

85 
	g¡©s
.
AddSam¶e
(2);

86 
	g¡©s
.
AddSam¶e
(2);

87 
	g¡©s
.
AddSam¶e
(-1);

88 
	g¡©s
.
AddSam¶e
(5);

90 
cÚ¡ex´
 
	g™”©iÚs
 = 1e5;

91 
	gi
 = 0; i < 
	g™”©iÚs
; ++i) {

92 
	g¡©s
.
AddSam¶e
(
i
);

93 
	g¡©s
.
RemoveSam¶e
(
i
);

95 
EXPECT_NEAR
(*
¡©s
.
G‘M—n
(), 2.0, 1e-8);

96 
EXPECT_NEAR
(*
¡©s
.
G‘V¬Ÿnû
(), 4.5, 1e-3);

97 
EXPECT_NEAR
(*
¡©s
.
G‘Snd¬dDevŸtiÚ
(), 
sq¹
(4.5), 1e-4);

101 
TEST
(
RuÂšgSti¡ics
, 
RemoveSam¶esSequ’û
) {

104 
	gRuÂšgSti¡ics
<> 
	g¡©s
;

105 
	g¡©s
.
AddSam¶e
(2);

106 
	g¡©s
.
AddSam¶e
(2);

107 
	g¡©s
.
AddSam¶e
(-1);

108 
	g¡©s
.
AddSam¶e
(5);

110 
cÚ¡ex´
 
	g™”©iÚs
 = 1e4;

111 
	gi
 = 0; i < 
	g™”©iÚs
; ++i) {

112 
	g¡©s
.
AddSam¶e
(
i
);

114 
	gi
 = 0; i < 
	g™”©iÚs
; ++i) {

115 
	g¡©s
.
RemoveSam¶e
(
i
);

118 
EXPECT_NEAR
(*
¡©s
.
G‘M—n
(), 2.0, 1e-7);

119 
EXPECT_NEAR
(*
¡©s
.
G‘V¬Ÿnû
(), 4.5, 1e-3);

120 
EXPECT_NEAR
(*
¡©s
.
G‘Snd¬dDevŸtiÚ
(), 
sq¹
(4.5), 1e-4);

123 
TEST
(
RuÂšgSti¡ics
, 
V¬ŸnûFromUnifÜmDi¡ributiÚ
) {

126 autØ
	g¡©s
 = 
C»©eStsFromUnifÜmDi¡ributiÚ
(1e6, 0, 1);

128 
EXPECT_NEAR
(*
¡©s
.
G‘V¬Ÿnû
(), 1. / 12, 1e-3);

131 
TEST
(
RuÂšgSti¡ics
, 
Num”icSb™yFÜV¬Ÿnû
) {

138 autØ
	g¡©s
 = 
C»©eStsFromUnifÜmDi¡ributiÚ
(1e6, 1e9, 1e9 + 1);

140 
EXPECT_NEAR
(*
¡©s
.
G‘V¬Ÿnû
(), 1. / 12, 1e-3);

143 
TEST
(
RuÂšgSti¡ics
, 
MšRemašsUnchªgedAá”Remove
) {

146 
	gRuÂšgSti¡ics
<> 
	g¡©s
;

147 
	g¡©s
.
AddSam¶e
(1);

148 
	g¡©s
.
AddSam¶e
(2);

149 
	g¡©s
.
RemoveSam¶e
(1);

150 
EXPECT_EQ
(
¡©s
.
G‘Mš
(), 1);

153 
TEST
(
RuÂšgSti¡ics
, 
MaxRemašsUnchªgedAá”Remove
) {

156 
	gRuÂšgSti¡ics
<> 
	g¡©s
;

157 
	g¡©s
.
AddSam¶e
(1);

158 
	g¡©s
.
AddSam¶e
(2);

159 
	g¡©s
.
RemoveSam¶e
(2);

160 
EXPECT_EQ
(
¡©s
.
G‘Max
(), 2);

163 
TEST_P
(
RuÂšgSti¡icsTe¡
, 
M”geSti¡ics
) {

164 
	gd©a
[
SIZE_FOR_MERGE
] = {2, 2, -1, 5, 10};

174 
	gRuÂšgSti¡ics
<> 
	g¡©s0
, 
	g¡©s1
;

175 
	gi
 = 0; i < 
G‘P¬am
(); ++i) {

176 
	g¡©s0
.
AddSam¶e
(
d©a
[
i
]);

178 
	gi
 = 
G‘P¬am
(); i < 
	gSIZE_FOR_MERGE
; ++i) {

179 
	g¡©s1
.
AddSam¶e
(
d©a
[
i
]);

181 
	g¡©s0
.
M”geSti¡ics
(
¡©s1
);

183 
EXPECT_EQ
(
¡©s0
.
Size
(), 
SIZE_FOR_MERGE
);

184 
EXPECT_DOUBLE_EQ
(*
¡©s0
.
G‘Mš
(), -1);

185 
EXPECT_DOUBLE_EQ
(*
¡©s0
.
G‘Max
(), 10);

186 
EXPECT_DOUBLE_EQ
(*
¡©s0
.
G‘M—n
(), 3.6);

187 
EXPECT_DOUBLE_EQ
(*
¡©s0
.
G‘V¬Ÿnû
(), 13.84);

188 
EXPECT_DOUBLE_EQ
(*
¡©s0
.
G‘Snd¬dDevŸtiÚ
(), 
sq¹
(13.84));

191 
INSTANTIATE_TEST_SUITE_P
(
RuÂšgSti¡icsTe¡s
,

192 
RuÂšgSti¡icsTe¡
,

193 ::
‹¡šg
::
Rªge
(0, 
SIZE_FOR_MERGE
 + 1));

	@numerics/safe_compare.h

31 #iâdeà
RTC_BASE_NUMERICS_SAFE_COMPARE_H_


32 
	#RTC_BASE_NUMERICS_SAFE_COMPARE_H_


	)

34 
	~<¡ddef.h
>

35 
	~<¡dšt.h
>

37 
	~<ty³_Œa™s
>

38 
	~<ut™y
>

40 
	~"¹c_ba£/ty³_Œa™s.h
"

42 
Çme¥aû
 
	g¹c
 {

44 
Çme¥aû
 
	g§ã_cmp_im¶
 {

46 
	g‹m¶©e
 <
size_t
 
	gN
>

47 
	gL¬g”IÁIm¶
 : 
¡d
::
çl£_ty³
 {};

48 
	g‹m¶©e
 <>

49 
	gL¬g”IÁIm¶
<(
	gšt8_t
)> : 
¡d
::
Œue_ty³
 {

50 
usšg
 
ty³
 = 
št16_t
;

52 
	g‹m¶©e
 <>

53 
	gL¬g”IÁIm¶
<(
	gšt16_t
)> : 
¡d
::
Œue_ty³
 {

54 
usšg
 
ty³
 = 
št32_t
;

56 
	g‹m¶©e
 <>

57 
	gL¬g”IÁIm¶
<(
	gšt32_t
)> : 
¡d
::
Œue_ty³
 {

58 
usšg
 
ty³
 = 
št64_t
;

65 
	g‹m¶©e
 <
ty³Çme
 
	gT1
,y³Çm
	gT2
>

66 
	gL¬g”IÁ


67 : 
L¬g”IÁIm¶
<(
T1
è< (
T2
) || (T1) < (*)

68 ? (
T1
)

71 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

72 
cÚ¡ex´
 
ty³Çme
 
	g¡d
::
make_unsigÃd
<
T
>::
ty³
 
MakeUnsigÃd
(T 
a
) {

73  
¡©ic_ÿ¡
<
ty³Çme
 
¡d
::
make_unsigÃd
<
T
>::
ty³
>(
a
);

77 
	g‹m¶©e
 <
ty³Çme
 
	gOp
,

78 
ty³Çme
 
	gT1
,

79 
ty³Çme
 
	gT2
,

80 
ty³Çme
 
	g¡d
::
’abË_if
<
¡d
::
is_sigÃd
<
T1
>::
v®ue
 ==

81 
¡d
::
is_sigÃd
<
T2
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

82 
cÚ¡ex´
 
boŞ
 
Cmp
(
T1
 
a
, 
T2
 
b
) {

83  
	gOp
::
Op
(
a
, 
b
);

88 
	g‹m¶©e
 <
ty³Çme
 
	gOp
,

89 
ty³Çme
 
	gT1
,

90 
ty³Çme
 
	gT2
,

91 
ty³Çme
 
	g¡d
::
’abË_if
<
¡d
::
is_sigÃd
<
T1
>::
v®ue
 &&

92 
¡d
::
is_unsigÃd
<
T2
>::
v®ue
 &&

93 
L¬g”IÁ
<
T2
, 
	gT1
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

94 
cÚ¡ex´
 
boŞ
 
Cmp
(
T1
 
a
, 
T2
 
b
) {

95  
	gOp
::
Op
(
a
, 
¡©ic_ÿ¡
<
ty³Çme
 
L¬g”IÁ
<
T2
, 
T1
>::
ty³
>(
b
));

100 
	g‹m¶©e
 <
ty³Çme
 
	gOp
,

101 
ty³Çme
 
	gT1
,

102 
ty³Çme
 
	gT2
,

103 
ty³Çme
 
	g¡d
::
’abË_if
<
¡d
::
is_unsigÃd
<
T1
>::
v®ue
 &&

104 
¡d
::
is_sigÃd
<
T2
>::
v®ue
 &&

105 
L¬g”IÁ
<
T1
, 
	gT2
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

106 
cÚ¡ex´
 
boŞ
 
Cmp
(
T1
 
a
, 
T2
 
b
) {

107  
	gOp
::
Op
(
¡©ic_ÿ¡
<
ty³Çme
 
L¬g”IÁ
<
T1
, 
T2
>::
ty³
>(
a
), 
b
);

112 
	g‹m¶©e
 <
ty³Çme
 
	gOp
,

113 
ty³Çme
 
	gT1
,

114 
ty³Çme
 
	gT2
,

115 
ty³Çme
 
	g¡d
::
’abË_if
<
¡d
::
is_sigÃd
<
T1
>::
v®ue
 &&

116 
¡d
::
is_unsigÃd
<
T2
>::
v®ue
 &&

117 !
L¬g”IÁ
<
T2
, 
	gT1
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

118 
cÚ¡ex´
 
boŞ
 
Cmp
(
T1
 
a
, 
T2
 
b
) {

119  
	ga
 < 0 ? 
	gOp
::
Op
(-1, 0è: Op::Op(
§ã_cmp_im¶
::
MakeUnsigÃd
(
a
), 
b
);

124 
	g‹m¶©e
 <
ty³Çme
 
	gOp
,

125 
ty³Çme
 
	gT1
,

126 
ty³Çme
 
	gT2
,

127 
ty³Çme
 
	g¡d
::
’abË_if
<
¡d
::
is_unsigÃd
<
T1
>::
v®ue
 &&

128 
¡d
::
is_sigÃd
<
T2
>::
v®ue
 &&

129 !
L¬g”IÁ
<
T1
, 
	gT2
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

130 
cÚ¡ex´
 
boŞ
 
Cmp
(
T1
 
a
, 
T2
 
b
) {

131  
	gb
 < 0 ? 
	gOp
::
Op
(0, -1è: Op::Op(
a
, 
§ã_cmp_im¶
::
MakeUnsigÃd
(
b
));

134 
	#RTC_SAFECMP_MAKE_OP
(
Çme
, 
İ
) \

135 
	sÇme
 { \

136 
‹m¶©e
 <
ty³Çme
 
T1
,y³Çm
T2
> \

137 
cÚ¡ex´
 
boŞ
 
	`Op
(
T1
 
a
, 
T2
 
b
) { \

138  
a
 
İ
 
b
; \

140 };

	)

141 
RTC_SAFECMP_MAKE_OP
(
EqOp
, ==)

142 
RTC_SAFECMP_MAKE_OP
(
NeOp
, !=)

143 
RTC_SAFECMP_MAKE_OP
(
LtOp
, <)

144 
RTC_SAFECMP_MAKE_OP
(
LeOp
, <=)

145 
RTC_SAFECMP_MAKE_OP
(
GtOp
, >)

146 
RTC_SAFECMP_MAKE_OP
(
GeOp
, >=)

147 #undeà
RTC_SAFECMP_MAKE_OP


151 
	#RTC_SAFECMP_MAKE_FUN
(
Çme
) \

152 
‹m¶©e
 <
ty³Çme
 
T1
,y³Çm
T2
> \

153 
cÚ¡ex´
 \

154 
ty³Çme
 
¡d
::
’abË_if
<
IsIÁlike
<
T1
>::
v®ue
 && IsIÁlike<
T2
>::value, \

155 
boŞ
>::
ty³
 
Saã
##
	`Çme
(
T1
 
a
, 
T2
 
b
) { \

157  
§ã_cmp_im¶
::
Cmp
<§ã_cmp_im¶::
Çme
##
Op
>(+
a
, +
b
); \

159 
‹m¶©e
 <
ty³Çme
 
T1
,y³Çm
T2
> \

160 
cÚ¡ex´
 \

161 
ty³Çme
 
¡d
::
’abË_if
<!
IsIÁlike
<
T1
>::
v®ue
 || !IsIÁlike<
T2
>::value, \

162 
boŞ
>::
ty³
 
Saã
##
	`Çme
(cÚ¡ 
T1
& 
a
, \

163 cÚ¡ 
T2
& 
b
) { \

164  
§ã_cmp_im¶
::
Çme
##
Op
::
	`Op
(
a
, 
b
); \

165 }

	)

166 
RTC_SAFECMP_MAKE_FUN
(
Eq
)

167 
RTC_SAFECMP_MAKE_FUN
(
Ne
)

168 
RTC_SAFECMP_MAKE_FUN
(
Lt
)

169 
RTC_SAFECMP_MAKE_FUN
(
Le
)

170 
RTC_SAFECMP_MAKE_FUN
(
Gt
)

171 
RTC_SAFECMP_MAKE_FUN
(
Ge
)

172 #undeà
RTC_SAFECMP_MAKE_FUN


	@numerics/safe_compare_unittest.cc

11 
	~"¹c_ba£/num”ics/§ã_com·».h
"

13 
	~<lim™s
>

15 
	~"‹¡/g‹¡.h
"

17 
Çme¥aû
 
	g¹c
 {

19 
	gÇme¥aû
 {

21 
cÚ¡ex´
 
	g¡d
::
uštmax_t
 
umax
 = 
¡d
::
num”ic_lim™s
<¡d::uštmax_t>::
max
();

22 
cÚ¡ex´
 
	g¡d
::
štmax_t
 
imš
 = 
¡d
::
num”ic_lim™s
<¡d::štmax_t>::
mš
();

23 
cÚ¡ex´
 
	g¡d
::
štmax_t
 
m1
 = -1;

27 
¡©ic_as£¹
(
¡©ic_ÿ¡
<
¡d
::
uštmax_t
>(
m1
è=ğ
umax
, "");

28 
¡©ic_as£¹
(
m1
 =ğ
¡©ic_ÿ¡
<
¡d
::
štmax_t
>(
umax
), "");

30 cÚ¡ 
	g¡d
::
·œ
<, > 
p1
(1, 1);

31 cÚ¡ 
	g¡d
::
·œ
<, > 
p2
(1, 2);

42 
boŞ
 
Te¡LessThªRef
Ğ
a
, 
b
è{  
	ga
 < 
	gb
; }

43 
boŞ
 
Te¡LessThªRef
Ğ
a
, 
b
è{  
	ga
 < 
	gb
; }

44 
boŞ
 
Te¡LessThªSaã
Ğ
a
, 
b
è{  
SaãLt
(a, b); }

45 
boŞ
 
Te¡LessThªSaã
(
a
, 
b
è{  
SaãLt
(a, b); }

46 
boŞ
 
Te¡LessThªSaã
(
a
, 
b
è{  
SaãLt
(a, b); }

47 
boŞ
 
Te¡LessThªSaã
Ğ
a
, 
b
è{  
SaãLt
(a, b); }

54 
boŞ
 
Te¡LessThª17Ref
Ğ
a
è{  
	ga
 < 17; }

55 
boŞ
 
Te¡LessThª17Ref
Ğ
a
è{  
	ga
 < 17; }

56 
boŞ
 
Te¡LessThª17uRef
Ğ
a
è{  
	g¡©ic_ÿ¡
<>(
	ga
) < 17u; }

57 
boŞ
 
Te¡LessThª17uRef
Ğ
a
è{  
	ga
 < 17u; }

58 
boŞ
 
Te¡LessThª17Saã
Ğ
a
è{  
SaãLt
(a, 17); }

59 
boŞ
 
Te¡LessThª17Saã
Ğ
a
è{  
SaãLt
(a, 17); }

60 
boŞ
 
Te¡LessThª17uSaã
Ğ
a
è{  
SaãLt
(a, 17u); }

61 
boŞ
 
Te¡LessThª17uSaã
(
a
è{  
SaãLt
(a, 17u); }

64 
boŞ
 
Te¡LessThªMax
Ğ
štmax_t
 
a
, 
uštmax_t
 
b
è{  
SaãLt
(a, b); }

65 
boŞ
 
Te¡LessThªMax
(
uštmax_t
 
a
, 
štmax_t
 
b
è{  
SaãLt
(a, b); }

66 
boŞ
 
Te¡LessThªMax17u
Ğ
štmax_t
 
a
è{  
SaãLt
×, 
uštmax_t
{17}); }

67 
boŞ
 
Te¡LessThªMax17
Ğ
uštmax_t
 
a
è{  
SaãLt
×, 
štmax_t
{17}); }

71 
boŞ
 
Te¡LessThªCÚ¡1
(è{  
SaãLt
( -1, 1); }

72 
boŞ
 
Te¡LessThªCÚ¡2
(è{  
SaãLt
Ğ
m1
, 
umax
); }

73 
boŞ
 
Te¡LessThªCÚ¡3
(è{  
SaãLt
(
umax
, 
imš
); }

74 
boŞ
 
Te¡LessThªCÚ¡4
(
a
è{  
SaãLt
(‡, -1); }

75 
boŞ
 
Te¡LessThªCÚ¡5
(
a
è{  
SaãLt
(-1,‡); }

76 
boŞ
 
Te¡LessThªCÚ¡6
(
a
è{  
SaãLt
(‡,‡); }

80 
TEST
(
SaãCmpTe¡
, 
Eq
) {

81 
¡©ic_as£¹
(!
SaãEq
(-1, 2), "");

82 
¡©ic_as£¹
(!
SaãEq
(-1, 2u), "");

83 
¡©ic_as£¹
(!
SaãEq
(2, -1), "");

84 
¡©ic_as£¹
(!
SaãEq
(2u, -1), "");

86 
¡©ic_as£¹
(!
SaãEq
(1, 2), "");

87 
¡©ic_as£¹
(!
SaãEq
(1, 2u), "");

88 
¡©ic_as£¹
(!
SaãEq
(1u, 2), "");

89 
¡©ic_as£¹
(!
SaãEq
(1u, 2u), "");

90 
¡©ic_as£¹
(!
SaãEq
(2, 1), "");

91 
¡©ic_as£¹
(!
SaãEq
(2, 1u), "");

92 
¡©ic_as£¹
(!
SaãEq
(2u, 1), "");

93 
¡©ic_as£¹
(!
SaãEq
(2u, 1u), "");

95 
¡©ic_as£¹
(
SaãEq
(2, 2), "");

96 
¡©ic_as£¹
(
SaãEq
(2, 2u), "");

97 
¡©ic_as£¹
(
SaãEq
(2u, 2), "");

98 
¡©ic_as£¹
(
SaãEq
(2u, 2u), "");

100 
¡©ic_as£¹
(
SaãEq
(
imš
, imin), "");

101 
¡©ic_as£¹
(!
SaãEq
(
imš
, 
umax
), "");

102 
¡©ic_as£¹
(!
SaãEq
(
umax
, 
imš
), "");

103 
¡©ic_as£¹
(
SaãEq
(
umax
, umax), "");

105 
¡©ic_as£¹
(
SaãEq
(
m1
, m1), "");

106 
¡©ic_as£¹
(!
SaãEq
(
m1
, 
umax
), "");

107 
¡©ic_as£¹
(!
SaãEq
(
umax
, 
m1
), "");

108 
¡©ic_as£¹
(
SaãEq
(
umax
, umax), "");

110 
¡©ic_as£¹
(!
SaãEq
(1, 2), "");

111 
¡©ic_as£¹
(!
SaãEq
(1, 2.0), "");

112 
¡©ic_as£¹
(!
SaãEq
(1.0, 2), "");

113 
¡©ic_as£¹
(!
SaãEq
(1.0, 2.0), "");

114 
¡©ic_as£¹
(!
SaãEq
(2, 1), "");

115 
¡©ic_as£¹
(!
SaãEq
(2, 1.0), "");

116 
¡©ic_as£¹
(!
SaãEq
(2.0, 1), "");

117 
¡©ic_as£¹
(!
SaãEq
(2.0, 1.0), "");

119 
¡©ic_as£¹
(
SaãEq
(2, 2), "");

120 
¡©ic_as£¹
(
SaãEq
(2, 2.0), "");

121 
¡©ic_as£¹
(
SaãEq
(2.0, 2), "");

122 
¡©ic_as£¹
(
SaãEq
(2.0, 2.0), "");

124 
EXPECT_TRUE
(
SaãEq
(
p1
,…1));

125 
EXPECT_FALSE
(
SaãEq
(
p1
, 
p2
));

126 
EXPECT_FALSE
(
SaãEq
(
p2
, 
p1
));

127 
EXPECT_TRUE
(
SaãEq
(
p2
,…2));

130 
TEST
(
SaãCmpTe¡
, 
Ne
) {

131 
¡©ic_as£¹
(
SaãNe
(-1, 2), "");

132 
¡©ic_as£¹
(
SaãNe
(-1, 2u), "");

133 
¡©ic_as£¹
(
SaãNe
(2, -1), "");

134 
¡©ic_as£¹
(
SaãNe
(2u, -1), "");

136 
¡©ic_as£¹
(
SaãNe
(1, 2), "");

137 
¡©ic_as£¹
(
SaãNe
(1, 2u), "");

138 
¡©ic_as£¹
(
SaãNe
(1u, 2), "");

139 
¡©ic_as£¹
(
SaãNe
(1u, 2u), "");

140 
¡©ic_as£¹
(
SaãNe
(2, 1), "");

141 
¡©ic_as£¹
(
SaãNe
(2, 1u), "");

142 
¡©ic_as£¹
(
SaãNe
(2u, 1), "");

143 
¡©ic_as£¹
(
SaãNe
(2u, 1u), "");

145 
¡©ic_as£¹
(!
SaãNe
(2, 2), "");

146 
¡©ic_as£¹
(!
SaãNe
(2, 2u), "");

147 
¡©ic_as£¹
(!
SaãNe
(2u, 2), "");

148 
¡©ic_as£¹
(!
SaãNe
(2u, 2u), "");

150 
¡©ic_as£¹
(!
SaãNe
(
imš
, imin), "");

151 
¡©ic_as£¹
(
SaãNe
(
imš
, 
umax
), "");

152 
¡©ic_as£¹
(
SaãNe
(
umax
, 
imš
), "");

153 
¡©ic_as£¹
(!
SaãNe
(
umax
, umax), "");

155 
¡©ic_as£¹
(!
SaãNe
(
m1
, m1), "");

156 
¡©ic_as£¹
(
SaãNe
(
m1
, 
umax
), "");

157 
¡©ic_as£¹
(
SaãNe
(
umax
, 
m1
), "");

158 
¡©ic_as£¹
(!
SaãNe
(
umax
, umax), "");

160 
¡©ic_as£¹
(
SaãNe
(1, 2), "");

161 
¡©ic_as£¹
(
SaãNe
(1, 2.0), "");

162 
¡©ic_as£¹
(
SaãNe
(1.0, 2), "");

163 
¡©ic_as£¹
(
SaãNe
(1.0, 2.0), "");

164 
¡©ic_as£¹
(
SaãNe
(2, 1), "");

165 
¡©ic_as£¹
(
SaãNe
(2, 1.0), "");

166 
¡©ic_as£¹
(
SaãNe
(2.0, 1), "");

167 
¡©ic_as£¹
(
SaãNe
(2.0, 1.0), "");

169 
¡©ic_as£¹
(!
SaãNe
(2, 2), "");

170 
¡©ic_as£¹
(!
SaãNe
(2, 2.0), "");

171 
¡©ic_as£¹
(!
SaãNe
(2.0, 2), "");

172 
¡©ic_as£¹
(!
SaãNe
(2.0, 2.0), "");

174 
EXPECT_FALSE
(
SaãNe
(
p1
,…1));

175 
EXPECT_TRUE
(
SaãNe
(
p1
, 
p2
));

176 
EXPECT_TRUE
(
SaãNe
(
p2
, 
p1
));

177 
EXPECT_FALSE
(
SaãNe
(
p2
,…2));

180 
TEST
(
SaãCmpTe¡
, 
Lt
) {

181 
¡©ic_as£¹
(
SaãLt
(-1, 2), "");

182 
¡©ic_as£¹
(
SaãLt
(-1, 2u), "");

183 
¡©ic_as£¹
(!
SaãLt
(2, -1), "");

184 
¡©ic_as£¹
(!
SaãLt
(2u, -1), "");

186 
¡©ic_as£¹
(
SaãLt
(1, 2), "");

187 
¡©ic_as£¹
(
SaãLt
(1, 2u), "");

188 
¡©ic_as£¹
(
SaãLt
(1u, 2), "");

189 
¡©ic_as£¹
(
SaãLt
(1u, 2u), "");

190 
¡©ic_as£¹
(!
SaãLt
(2, 1), "");

191 
¡©ic_as£¹
(!
SaãLt
(2, 1u), "");

192 
¡©ic_as£¹
(!
SaãLt
(2u, 1), "");

193 
¡©ic_as£¹
(!
SaãLt
(2u, 1u), "");

195 
¡©ic_as£¹
(!
SaãLt
(2, 2), "");

196 
¡©ic_as£¹
(!
SaãLt
(2, 2u), "");

197 
¡©ic_as£¹
(!
SaãLt
(2u, 2), "");

198 
¡©ic_as£¹
(!
SaãLt
(2u, 2u), "");

200 
¡©ic_as£¹
(!
SaãLt
(
imš
, imin), "");

201 
¡©ic_as£¹
(
SaãLt
(
imš
, 
umax
), "");

202 
¡©ic_as£¹
(!
SaãLt
(
umax
, 
imš
), "");

203 
¡©ic_as£¹
(!
SaãLt
(
umax
, umax), "");

205 
¡©ic_as£¹
(!
SaãLt
(
m1
, m1), "");

206 
¡©ic_as£¹
(
SaãLt
(
m1
, 
umax
), "");

207 
¡©ic_as£¹
(!
SaãLt
(
umax
, 
m1
), "");

208 
¡©ic_as£¹
(!
SaãLt
(
umax
, umax), "");

210 
¡©ic_as£¹
(
SaãLt
(1, 2), "");

211 
¡©ic_as£¹
(
SaãLt
(1, 2.0), "");

212 
¡©ic_as£¹
(
SaãLt
(1.0, 2), "");

213 
¡©ic_as£¹
(
SaãLt
(1.0, 2.0), "");

214 
¡©ic_as£¹
(!
SaãLt
(2, 1), "");

215 
¡©ic_as£¹
(!
SaãLt
(2, 1.0), "");

216 
¡©ic_as£¹
(!
SaãLt
(2.0, 1), "");

217 
¡©ic_as£¹
(!
SaãLt
(2.0, 1.0), "");

219 
¡©ic_as£¹
(!
SaãLt
(2, 2), "");

220 
¡©ic_as£¹
(!
SaãLt
(2, 2.0), "");

221 
¡©ic_as£¹
(!
SaãLt
(2.0, 2), "");

222 
¡©ic_as£¹
(!
SaãLt
(2.0, 2.0), "");

224 
EXPECT_FALSE
(
SaãLt
(
p1
,…1));

225 
EXPECT_TRUE
(
SaãLt
(
p1
, 
p2
));

226 
EXPECT_FALSE
(
SaãLt
(
p2
, 
p1
));

227 
EXPECT_FALSE
(
SaãLt
(
p2
,…2));

230 
TEST
(
SaãCmpTe¡
, 
Le
) {

231 
¡©ic_as£¹
(
SaãLe
(-1, 2), "");

232 
¡©ic_as£¹
(
SaãLe
(-1, 2u), "");

233 
¡©ic_as£¹
(!
SaãLe
(2, -1), "");

234 
¡©ic_as£¹
(!
SaãLe
(2u, -1), "");

236 
¡©ic_as£¹
(
SaãLe
(1, 2), "");

237 
¡©ic_as£¹
(
SaãLe
(1, 2u), "");

238 
¡©ic_as£¹
(
SaãLe
(1u, 2), "");

239 
¡©ic_as£¹
(
SaãLe
(1u, 2u), "");

240 
¡©ic_as£¹
(!
SaãLe
(2, 1), "");

241 
¡©ic_as£¹
(!
SaãLe
(2, 1u), "");

242 
¡©ic_as£¹
(!
SaãLe
(2u, 1), "");

243 
¡©ic_as£¹
(!
SaãLe
(2u, 1u), "");

245 
¡©ic_as£¹
(
SaãLe
(2, 2), "");

246 
¡©ic_as£¹
(
SaãLe
(2, 2u), "");

247 
¡©ic_as£¹
(
SaãLe
(2u, 2), "");

248 
¡©ic_as£¹
(
SaãLe
(2u, 2u), "");

250 
¡©ic_as£¹
(
SaãLe
(
imš
, imin), "");

251 
¡©ic_as£¹
(
SaãLe
(
imš
, 
umax
), "");

252 
¡©ic_as£¹
(!
SaãLe
(
umax
, 
imš
), "");

253 
¡©ic_as£¹
(
SaãLe
(
umax
, umax), "");

255 
¡©ic_as£¹
(
SaãLe
(
m1
, m1), "");

256 
¡©ic_as£¹
(
SaãLe
(
m1
, 
umax
), "");

257 
¡©ic_as£¹
(!
SaãLe
(
umax
, 
m1
), "");

258 
¡©ic_as£¹
(
SaãLe
(
umax
, umax), "");

260 
¡©ic_as£¹
(
SaãLe
(1, 2), "");

261 
¡©ic_as£¹
(
SaãLe
(1, 2.0), "");

262 
¡©ic_as£¹
(
SaãLe
(1.0, 2), "");

263 
¡©ic_as£¹
(
SaãLe
(1.0, 2.0), "");

264 
¡©ic_as£¹
(!
SaãLe
(2, 1), "");

265 
¡©ic_as£¹
(!
SaãLe
(2, 1.0), "");

266 
¡©ic_as£¹
(!
SaãLe
(2.0, 1), "");

267 
¡©ic_as£¹
(!
SaãLe
(2.0, 1.0), "");

269 
¡©ic_as£¹
(
SaãLe
(2, 2), "");

270 
¡©ic_as£¹
(
SaãLe
(2, 2.0), "");

271 
¡©ic_as£¹
(
SaãLe
(2.0, 2), "");

272 
¡©ic_as£¹
(
SaãLe
(2.0, 2.0), "");

274 
EXPECT_TRUE
(
SaãLe
(
p1
,…1));

275 
EXPECT_TRUE
(
SaãLe
(
p1
, 
p2
));

276 
EXPECT_FALSE
(
SaãLe
(
p2
, 
p1
));

277 
EXPECT_TRUE
(
SaãLe
(
p2
,…2));

280 
TEST
(
SaãCmpTe¡
, 
Gt
) {

281 
¡©ic_as£¹
(!
SaãGt
(-1, 2), "");

282 
¡©ic_as£¹
(!
SaãGt
(-1, 2u), "");

283 
¡©ic_as£¹
(
SaãGt
(2, -1), "");

284 
¡©ic_as£¹
(
SaãGt
(2u, -1), "");

286 
¡©ic_as£¹
(!
SaãGt
(1, 2), "");

287 
¡©ic_as£¹
(!
SaãGt
(1, 2u), "");

288 
¡©ic_as£¹
(!
SaãGt
(1u, 2), "");

289 
¡©ic_as£¹
(!
SaãGt
(1u, 2u), "");

290 
¡©ic_as£¹
(
SaãGt
(2, 1), "");

291 
¡©ic_as£¹
(
SaãGt
(2, 1u), "");

292 
¡©ic_as£¹
(
SaãGt
(2u, 1), "");

293 
¡©ic_as£¹
(
SaãGt
(2u, 1u), "");

295 
¡©ic_as£¹
(!
SaãGt
(2, 2), "");

296 
¡©ic_as£¹
(!
SaãGt
(2, 2u), "");

297 
¡©ic_as£¹
(!
SaãGt
(2u, 2), "");

298 
¡©ic_as£¹
(!
SaãGt
(2u, 2u), "");

300 
¡©ic_as£¹
(!
SaãGt
(
imš
, imin), "");

301 
¡©ic_as£¹
(!
SaãGt
(
imš
, 
umax
), "");

302 
¡©ic_as£¹
(
SaãGt
(
umax
, 
imš
), "");

303 
¡©ic_as£¹
(!
SaãGt
(
umax
, umax), "");

305 
¡©ic_as£¹
(!
SaãGt
(
m1
, m1), "");

306 
¡©ic_as£¹
(!
SaãGt
(
m1
, 
umax
), "");

307 
¡©ic_as£¹
(
SaãGt
(
umax
, 
m1
), "");

308 
¡©ic_as£¹
(!
SaãGt
(
umax
, umax), "");

310 
¡©ic_as£¹
(!
SaãGt
(1, 2), "");

311 
¡©ic_as£¹
(!
SaãGt
(1, 2.0), "");

312 
¡©ic_as£¹
(!
SaãGt
(1.0, 2), "");

313 
¡©ic_as£¹
(!
SaãGt
(1.0, 2.0), "");

314 
¡©ic_as£¹
(
SaãGt
(2, 1), "");

315 
¡©ic_as£¹
(
SaãGt
(2, 1.0), "");

316 
¡©ic_as£¹
(
SaãGt
(2.0, 1), "");

317 
¡©ic_as£¹
(
SaãGt
(2.0, 1.0), "");

319 
¡©ic_as£¹
(!
SaãGt
(2, 2), "");

320 
¡©ic_as£¹
(!
SaãGt
(2, 2.0), "");

321 
¡©ic_as£¹
(!
SaãGt
(2.0, 2), "");

322 
¡©ic_as£¹
(!
SaãGt
(2.0, 2.0), "");

324 
EXPECT_FALSE
(
SaãGt
(
p1
,…1));

325 
EXPECT_FALSE
(
SaãGt
(
p1
, 
p2
));

326 
EXPECT_TRUE
(
SaãGt
(
p2
, 
p1
));

327 
EXPECT_FALSE
(
SaãGt
(
p2
,…2));

330 
TEST
(
SaãCmpTe¡
, 
Ge
) {

331 
¡©ic_as£¹
(!
SaãGe
(-1, 2), "");

332 
¡©ic_as£¹
(!
SaãGe
(-1, 2u), "");

333 
¡©ic_as£¹
(
SaãGe
(2, -1), "");

334 
¡©ic_as£¹
(
SaãGe
(2u, -1), "");

336 
¡©ic_as£¹
(!
SaãGe
(1, 2), "");

337 
¡©ic_as£¹
(!
SaãGe
(1, 2u), "");

338 
¡©ic_as£¹
(!
SaãGe
(1u, 2), "");

339 
¡©ic_as£¹
(!
SaãGe
(1u, 2u), "");

340 
¡©ic_as£¹
(
SaãGe
(2, 1), "");

341 
¡©ic_as£¹
(
SaãGe
(2, 1u), "");

342 
¡©ic_as£¹
(
SaãGe
(2u, 1), "");

343 
¡©ic_as£¹
(
SaãGe
(2u, 1u), "");

345 
¡©ic_as£¹
(
SaãGe
(2, 2), "");

346 
¡©ic_as£¹
(
SaãGe
(2, 2u), "");

347 
¡©ic_as£¹
(
SaãGe
(2u, 2), "");

348 
¡©ic_as£¹
(
SaãGe
(2u, 2u), "");

350 
¡©ic_as£¹
(
SaãGe
(
imš
, imin), "");

351 
¡©ic_as£¹
(!
SaãGe
(
imš
, 
umax
), "");

352 
¡©ic_as£¹
(
SaãGe
(
umax
, 
imš
), "");

353 
¡©ic_as£¹
(
SaãGe
(
umax
, umax), "");

355 
¡©ic_as£¹
(
SaãGe
(
m1
, m1), "");

356 
¡©ic_as£¹
(!
SaãGe
(
m1
, 
umax
), "");

357 
¡©ic_as£¹
(
SaãGe
(
umax
, 
m1
), "");

358 
¡©ic_as£¹
(
SaãGe
(
umax
, umax), "");

360 
¡©ic_as£¹
(!
SaãGe
(1, 2), "");

361 
¡©ic_as£¹
(!
SaãGe
(1, 2.0), "");

362 
¡©ic_as£¹
(!
SaãGe
(1.0, 2), "");

363 
¡©ic_as£¹
(!
SaãGe
(1.0, 2.0), "");

364 
¡©ic_as£¹
(
SaãGe
(2, 1), "");

365 
¡©ic_as£¹
(
SaãGe
(2, 1.0), "");

366 
¡©ic_as£¹
(
SaãGe
(2.0, 1), "");

367 
¡©ic_as£¹
(
SaãGe
(2.0, 1.0), "");

369 
¡©ic_as£¹
(
SaãGe
(2, 2), "");

370 
¡©ic_as£¹
(
SaãGe
(2, 2.0), "");

371 
¡©ic_as£¹
(
SaãGe
(2.0, 2), "");

372 
¡©ic_as£¹
(
SaãGe
(2.0, 2.0), "");

374 
EXPECT_TRUE
(
SaãGe
(
p1
,…1));

375 
EXPECT_FALSE
(
SaãGe
(
p1
, 
p2
));

376 
EXPECT_TRUE
(
SaãGe
(
p2
, 
p1
));

377 
EXPECT_TRUE
(
SaãGe
(
p2
,…2));

380 
TEST
(
SaãCmpTe¡
, 
Enum
) {

381 
	eE1
 { 
	ge1
 = 13 };

382 ’um { 
	ge2
 = 13 };

383 
	gE3
 : { 
e3
 = 13 };

384 : { 
e4
 = 13 };

385 
¡©ic_as£¹
(
SaãEq
(13, 
e1
), "");

386 
¡©ic_as£¹
(
SaãEq
(13u, 
e1
), "");

387 
¡©ic_as£¹
(
SaãEq
(13, 
e2
), "");

388 
¡©ic_as£¹
(
SaãEq
(13u, 
e2
), "");

389 
¡©ic_as£¹
(
SaãEq
(13, 
e3
), "");

390 
¡©ic_as£¹
(
SaãEq
(13u, 
e3
), "");

391 
¡©ic_as£¹
(
SaãEq
(13, 
e4
), "");

392 
¡©ic_as£¹
(
SaãEq
(13u, 
e4
), "");

	@numerics/safe_conversions.h

13 #iâdeà
RTC_BASE_NUMERICS_SAFE_CONVERSIONS_H_


14 
	#RTC_BASE_NUMERICS_SAFE_CONVERSIONS_H_


	)

16 
	~<lim™s
>

18 
	~"¹c_ba£/checks.h
"

19 
	~"¹c_ba£/num”ics/§ã_cÚv”siÚs_im¶.h
"

21 
Çme¥aû
 
	g¹c
 {

25 
	g‹m¶©e
 <
ty³Çme
 
	gD¡
,y³Çm
	gSrc
>

26 
šlše
 
cÚ¡ex´
 
boŞ
 
IsV®ueInRªgeFÜNum”icTy³
(
Src
 
v®ue
) {

27  
	gš‹º®
::
RªgeCheck
<
D¡
>(
v®ue
è=ğ
š‹º®
::
TYPE_VALID
;

34 
	g‹m¶©e
 <
ty³Çme
 
	gD¡
,y³Çm
	gSrc
>

35 
šlše
 
cÚ¡ex´
 
D¡
 
checked_ÿ¡
(
Src
 
v®ue
) {

36 
RTC_CHECK
(
IsV®ueInRªgeFÜNum”icTy³
<
D¡
>(
v®ue
));

37  
	g¡©ic_ÿ¡
<
	gD¡
>(
	gv®ue
);

39 
	g‹m¶©e
 <
ty³Çme
 
	gD¡
,y³Çm
	gSrc
>

40 
šlše
 
cÚ¡ex´
 
D¡
 
dchecked_ÿ¡
(
Src
 
v®ue
) {

41 
RTC_DCHECK
(
IsV®ueInRªgeFÜNum”icTy³
<
D¡
>(
v®ue
));

42  
	g¡©ic_ÿ¡
<
	gD¡
>(
	gv®ue
);

48 
	g‹m¶©e
 <
ty³Çme
 
	gD¡
,y³Çm
	gSrc
>

49 
šlše
 
cÚ¡ex´
 
D¡
 
§tu¿‹d_ÿ¡
(
Src
 
v®ue
) {

51 ià(
	g¡d
::
num”ic_lim™s
<
D¡
>::
is_›c559
)

52  
¡©ic_ÿ¡
<
D¡
>(
v®ue
);

54 
	gš‹º®
::
RªgeCheck
<
D¡
>(
v®ue
)) {

55 
š‹º®
::
TYPE_VALID
:

56  
¡©ic_ÿ¡
<
D¡
>(
v®ue
);

58 
	gš‹º®
::
TYPE_UNDERFLOW
:

59  
¡d
::
num”ic_lim™s
<
D¡
>::
mš
();

61 
	gš‹º®
::
TYPE_OVERFLOW
:

62  
¡d
::
num”ic_lim™s
<
D¡
>::
max
();

65 
	gš‹º®
::
TYPE_INVALID
:

66 
FATAL
();

67  
	g¡d
::
num”ic_lim™s
<
D¡
>::
max
();

70 
FATAL
();

71  
	g¡©ic_ÿ¡
<
	gD¡
>(
	gv®ue
);

	@numerics/safe_conversions_impl.h

13 #iâdeà
RTC_BASE_NUMERICS_SAFE_CONVERSIONS_IMPL_H_


14 
	#RTC_BASE_NUMERICS_SAFE_CONVERSIONS_IMPL_H_


	)

16 
	~<lim™s
>

18 
Çme¥aû
 
	g¹c
 {

19 
Çme¥aû
 
	gš‹º®
 {

21 
	eD¡Sign
 { 
	gDST_UNSIGNED
, 
	gDST_SIGNED
 };

23 
	eSrcSign
 { 
	gSRC_UNSIGNED
, 
	gSRC_SIGNED
 };

25 
	eD¡Rªge
 { 
	gOVERLAPS_RANGE
, 
	gCONTAINS_RANGE
 };

30 
	g‹m¶©e
 <
ty³Çme
 
	gD¡
,

31 
ty³Çme
 
	gSrc
,

32 
D¡Sign
 
	gIsD¡SigÃd
 =

33 
¡d
::
num”ic_lim™s
<
D¡
>::
is_sigÃd
 ? 
DST_SIGNED
 : 
DST_UNSIGNED
,

34 
SrcSign
 
	gIsSrcSigÃd
 =

35 
¡d
::
num”ic_lim™s
<
Src
>::
is_sigÃd
 ? 
SRC_SIGNED
 : 
SRC_UNSIGNED
>

36 
	sSticRªgeCheck
 {};

38 
	g‹m¶©e
 <
ty³Çme
 
	gD¡
,y³Çm
	gSrc
>

39 
	gSticRªgeCheck
<
	gD¡
, 
	gSrc
, 
	gDST_SIGNED
, 
	gSRC_SIGNED
> {

40 
	g¡d
::
	tnum”ic_lim™s
<
	tD¡
> 
	tD¡Lim™s
;

41 
	g¡d
::
	tnum”ic_lim™s
<
	tSrc
> 
	tSrcLim™s
;

43 cÚ¡ 
size_t
 
	gkD¡MaxExpÚ’t
 =

44 
D¡Lim™s
::
is_›c559
 ? D¡Lim™s::
max_expÚ’t
 : ((
D¡
) * 8 - 1);

45 cÚ¡ 
size_t
 
	gkSrcMaxExpÚ’t
 =

46 
SrcLim™s
::
is_›c559
 ? SrcLim™s::
max_expÚ’t
 : ((
Src
) * 8 - 1);

47 cÚ¡ 
D¡Rªge
 
	gv®ue
 =

48 
kD¡MaxExpÚ’t
 >ğ
kSrcMaxExpÚ’t
 ? 
CONTAINS_RANGE
 : 
OVERLAPS_RANGE
;

51 
	g‹m¶©e
 <
ty³Çme
 
	gD¡
,y³Çm
	gSrc
>

52 
	gSticRªgeCheck
<
	gD¡
, 
	gSrc
, 
	gDST_UNSIGNED
, 
	gSRC_UNSIGNED
> {

53 cÚ¡ 
D¡Rªge
 
	gv®ue
 =

54 (
D¡
è>ğ(
Src
è? 
CONTAINS_RANGE
 : 
OVERLAPS_RANGE
;

57 
	g‹m¶©e
 <
ty³Çme
 
	gD¡
,y³Çm
	gSrc
>

58 
	gSticRªgeCheck
<
	gD¡
, 
	gSrc
, 
	gDST_SIGNED
, 
	gSRC_UNSIGNED
> {

59 
	g¡d
::
	tnum”ic_lim™s
<
	tD¡
> 
	tD¡Lim™s
;

60 
	g¡d
::
	tnum”ic_lim™s
<
	tSrc
> 
	tSrcLim™s
;

62 cÚ¡ 
size_t
 
	gkD¡MaxExpÚ’t
 =

63 
D¡Lim™s
::
is_›c559
 ? D¡Lim™s::
max_expÚ’t
 : ((
D¡
) * 8 - 1);

64 cÚ¡ 
size_t
 
	gkSrcMaxExpÚ’t
 = (
Src
) * 8;

65 cÚ¡ 
D¡Rªge
 
	gv®ue
 =

66 
kD¡MaxExpÚ’t
 >ğ
kSrcMaxExpÚ’t
 ? 
CONTAINS_RANGE
 : 
OVERLAPS_RANGE
;

69 
	g‹m¶©e
 <
ty³Çme
 
	gD¡
,y³Çm
	gSrc
>

70 
	gSticRªgeCheck
<
	gD¡
, 
	gSrc
, 
	gDST_UNSIGNED
, 
	gSRC_SIGNED
> {

71 cÚ¡ 
D¡Rªge
 
	gv®ue
 = 
OVERLAPS_RANGE
;

74 
	eRªgeCheckResuÉ
 {

75 
	gTYPE_VALID
 = 0,

76 
	gTYPE_UNDERFLOW
 = 1,

77 
	gTYPE_OVERFLOW
 = 2,

78 
	gTYPE_INVALID
 = 3

84 
	#BASE_NUMERIC_RANGE_CHECK_RESULT
(
is_š_uµ”_bound
, 
is_š_low”_bound
) \

85 
	`RªgeCheckResuÉ
(((
is_š_uµ”_bound
è? 0 : 
TYPE_OVERFLOW
) | \

86 ((
is_š_low”_bound
è? 0 : 
TYPE_UNDERFLOW
))

	)

88 
	g‹m¶©e
 <
ty³Çme
 
	gD¡
,

89 
ty³Çme
 
	gSrc
,

90 
D¡Sign
 
	gIsD¡SigÃd
 =

91 
¡d
::
num”ic_lim™s
<
D¡
>::
is_sigÃd
 ? 
DST_SIGNED
 : 
DST_UNSIGNED
,

92 
SrcSign
 
	gIsSrcSigÃd
 =

93 
¡d
::
num”ic_lim™s
<
Src
>::
is_sigÃd
 ? 
SRC_SIGNED
 : 
SRC_UNSIGNED
,

94 
D¡Rªge
 
	gIsSrcRªgeCÚšed
 = 
SticRªgeCheck
<
D¡
, 
	gSrc
>::
v®ue
>

95 
	sRªgeCheckIm¶
 {};

102 
	g‹m¶©e
 <
ty³Çme
 
	gD¡
,y³Çm
	gSrc
, 
D¡Sign
 
	gIsD¡SigÃd
, 
SrcSign
 
	gIsSrcSigÃd
>

103 
	gRªgeCheckIm¶
<
	gD¡
, 
	gSrc
, 
	gIsD¡SigÃd
, 
	gIsSrcSigÃd
, 
	gCONTAINS_RANGE
> {

104 
cÚ¡ex´
 
RªgeCheckResuÉ
 
Check
(
Src
 
v®ue
è{  
	gTYPE_VALID
; }

108 
	g‹m¶©e
 <
ty³Çme
 
	gD¡
,y³Çm
	gSrc
>

109 
	gRªgeCheckIm¶
<
	gD¡
, 
	gSrc
, 
	gDST_SIGNED
, 
	gSRC_SIGNED
, 
	gOVERLAPS_RANGE
> {

110 
cÚ¡ex´
 
RªgeCheckResuÉ
 
Check
(
Src
 
v®ue
) {

111 
	g¡d
::
	tnum”ic_lim™s
<
	tD¡
> 
	tD¡Lim™s
;

112  
	gD¡Lim™s
::
is_›c559


113 ? 
BASE_NUMERIC_RANGE_CHECK_RESULT
(

114 
v®ue
 <ğ
¡©ic_ÿ¡
<
Src
>(
D¡Lim™s
::
max
()),

115 
v®ue
 >ğ
¡©ic_ÿ¡
<
Src
>(
D¡Lim™s
::
max
() * -1))

116 : 
BASE_NUMERIC_RANGE_CHECK_RESULT
(

117 
v®ue
 <ğ
¡©ic_ÿ¡
<
Src
>(
D¡Lim™s
::
max
()),

118 
v®ue
 >ğ
¡©ic_ÿ¡
<
Src
>(
D¡Lim™s
::
mš
()));

123 
	g‹m¶©e
 <
ty³Çme
 
	gD¡
,y³Çm
	gSrc
>

124 
	gRªgeCheckIm¶
<
	gD¡
, 
	gSrc
, 
	gDST_UNSIGNED
, 
	gSRC_UNSIGNED
, 
	gOVERLAPS_RANGE
> {

125 
cÚ¡ex´
 
RªgeCheckResuÉ
 
Check
(
Src
 
v®ue
) {

126 
	g¡d
::
	tnum”ic_lim™s
<
	tD¡
> 
	tD¡Lim™s
;

127  
BASE_NUMERIC_RANGE_CHECK_RESULT
(

128 
v®ue
 <ğ
¡©ic_ÿ¡
<
Src
>(
D¡Lim™s
::
max
()), 
Œue
);

133 
	g‹m¶©e
 <
ty³Çme
 
	gD¡
,y³Çm
	gSrc
>

134 
	gRªgeCheckIm¶
<
	gD¡
, 
	gSrc
, 
	gDST_SIGNED
, 
	gSRC_UNSIGNED
, 
	gOVERLAPS_RANGE
> {

135 
cÚ¡ex´
 
RªgeCheckResuÉ
 
Check
(
Src
 
v®ue
) {

136 
	g¡d
::
	tnum”ic_lim™s
<
	tD¡
> 
	tD¡Lim™s
;

137  (
	gD¡
è> (
	gSrc
)

138 ? 
	gTYPE_VALID


139 : 
BASE_NUMERIC_RANGE_CHECK_RESULT
(

140 
v®ue
 <ğ
¡©ic_ÿ¡
<
Src
>(
D¡Lim™s
::
max
()), 
Œue
);

145 
	g‹m¶©e
 <
ty³Çme
 
	gD¡
,y³Çm
	gSrc
>

146 
	gRªgeCheckIm¶
<
	gD¡
, 
	gSrc
, 
	gDST_UNSIGNED
, 
	gSRC_SIGNED
, 
	gOVERLAPS_RANGE
> {

147 
	g¡d
::
	tnum”ic_lim™s
<
	tD¡
> 
	tD¡Lim™s
;

148 
	g¡d
::
	tnum”ic_lim™s
<
	tSrc
> 
	tSrcLim™s
;

150 
cÚ¡ex´
 
size_t
 
D¡MaxExpÚ’t
(è{  (
	gD¡
) * 8; }

151 
cÚ¡ex´
 
size_t
 
SrcMaxExpÚ’t
() {

152  
	gSrcLim™s
::
is_›c559
 ? 
SrcLim™s
::
max_expÚ’t


153 : ((
Src
) * 8 - 1);

155 
cÚ¡ex´
 
RªgeCheckResuÉ
 
Check
(
Src
 
v®ue
) {

156  (
D¡MaxExpÚ’t
(è>ğ
SrcMaxExpÚ’t
())

157 ? 
BASE_NUMERIC_RANGE_CHECK_RESULT
(
Œue
,

158 
v®ue
 >ğ
¡©ic_ÿ¡
<
Src
>(0))

159 : 
BASE_NUMERIC_RANGE_CHECK_RESULT
(

160 
v®ue
 <ğ
¡©ic_ÿ¡
<
Src
>(
D¡Lim™s
::
max
()),

161 
v®ue
 >ğ
¡©ic_ÿ¡
<
Src
>(0));

165 
	g‹m¶©e
 <
ty³Çme
 
	gD¡
,y³Çm
	gSrc
>

166 
šlše
 
cÚ¡ex´
 
RªgeCheckResuÉ
 
RªgeCheck
(
Src
 
v®ue
) {

167 
¡©ic_as£¹
(
¡d
::
num”ic_lim™s
<
Src
>::
is_¥ecŸlized
,

169 
¡©ic_as£¹
(
¡d
::
num”ic_lim™s
<
D¡
>::
is_¥ecŸlized
,

171  
	gRªgeCheckIm¶
<
	gD¡
, 
	gSrc
>::
Check
(
v®ue
);

	@numerics/safe_minmax.h

76 #iâdeà
RTC_BASE_NUMERICS_SAFE_MINMAX_H_


77 
	#RTC_BASE_NUMERICS_SAFE_MINMAX_H_


	)

79 
	~<lim™s
>

80 
	~<ty³_Œa™s
>

82 
	~"¹c_ba£/checks.h
"

83 
	~"¹c_ba£/num”ics/§ã_com·».h
"

84 
	~"¹c_ba£/ty³_Œa™s.h
"

86 
Çme¥aû
 
	g¹c
 {

88 
Çme¥aû
 
	g§ã_mšmax_im¶
 {

93 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

94 
	sLim™s
 {

95 
cÚ¡ex´
 
T
 
	glowe¡
 = 
¡d
::
num”ic_lim™s
<T>::
lowe¡
();

96 
cÚ¡ex´
 
T
 
	gmax
 = 
¡d
::
num”ic_lim™s
<T>::
max
();

99 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
boŞ
 
	gis_’um
 = 
¡d
::
is_’um
<
T
>::
v®ue
>

100 
Und”lyšgTy³
;

102 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

103 
	gUnd”lyšgTy³
<
	gT
, 
	gçl£
> {

104 
usšg
 
	gty³
 = 
T
;

107 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

108 
	gUnd”lyšgTy³
<
	gT
, 
	gŒue
> {

109 
usšg
 
	gty³
 = 
ty³Çme
 
¡d
::
und”lyšg_ty³
<
T
>::
ty³
;

114 
	g‹m¶©e
 <
ty³Çme
 
	gT1
,

115 
ty³Çme
 
	gT2
,

116 
boŞ
 
	gšt1
 = 
IsIÁlike
<
T1
>::
v®ue
,

117 
boŞ
 
	gšt2
 = 
IsIÁlike
<
T2
>::
v®ue
>

118 
	sMTy³
 {

119 
¡©ic_as£¹
(
št1
 =ğ
št2
,

125 
	g‹m¶©e
 <
ty³Çme
 
	gT1
,y³Çm
	gT2
>

126 
	gMTy³
<
	gT1
, 
	gT2
, 
	gçl£
, false> {

127 
usšg
 
	gmš_t
 = 
ty³Çme
 
¡d
::
commÚ_ty³
<
T1
, 
	gT2
>::
ty³
;

128 
¡©ic_as£¹
(
¡d
::
is_§me
<
mš_t
, 
T1
>::
v®ue
 ||

129 
¡d
::
is_§me
<
mš_t
, 
T2
>::
v®ue
,

132 
usšg
 
	gmax_t
 = 
ty³Çme
 
¡d
::
commÚ_ty³
<
T1
, 
	gT2
>::
ty³
;

133 
¡©ic_as£¹
(
¡d
::
is_§me
<
max_t
, 
T1
>::
v®ue
 ||

134 
¡d
::
is_§me
<
max_t
, 
T2
>::
v®ue
,

139 
	g‹m¶©e
 <
ty³Çme
 
	gT1
,y³Çm
	gT2
>

140 
	gMTy³
<
	gT1
, 
	gT2
, 
	gŒue
,rue> {

144 
usšg
 
	gmš_t
 = 
ty³Çme
 
¡d
::
cÚd™iÚ®
<

145 
SaãLt
(
Lim™s
<
T1
>::
lowe¡
, Lim™s<
T2
>::lowest),

146 
	gT1
,

147 
ty³Çme
 
	g¡d
::
cÚd™iÚ®
<

148 
SaãGt
(
Lim™s
<
T1
>::
lowe¡
, Lim™s<
T2
>::lowest),

149 
	gT2
,

150 
ty³Çme
 
	g¡d
::
cÚd™iÚ®
<
SaãLe
(
Lim™s
<
T1
>::
max
, Lim™s<
T2
>::max),

151 
	gT1
,

152 
	gT2
>::
ty³
>::type>::type;

153 
¡©ic_as£¹
(
¡d
::
is_§me
<
mš_t
, 
T1
>::
v®ue
 ||

154 
¡d
::
is_§me
<
mš_t
, 
T2
>::
v®ue
,

160 
¡©ic_as£¹
(
SaãNe
(
Lim™s
<
T1
>::
max
, Lim™s<
T2
>::max) ||

161 
SaãEq
(
Lim™s
<
T1
>::
lowe¡
, Lim™s<
T2
>::lowest),

163 
usšg
 
	gmax_t
 = 
ty³Çme
 
¡d
::

164 
cÚd™iÚ®
<
SaãGe
(
Lim™s
<
T1
>::
max
, Lim™s<
T2
>::max), 
	gT1
, 
	gT2
>::
ty³
;

165 
¡©ic_as£¹
(
¡d
::
is_§me
<
max_t
, 
T1
>::
v®ue
 ||

166 
¡d
::
is_§me
<
max_t
, 
T2
>::
v®ue
,

172 
	gDeçuÉTy³
;

176 
	g‹m¶©e
 <
ty³Çme
 
	gA
,y³Çm
	gB
>

177 
	sTy³Or
 {

178 
usšg
 
	gty³
 = 
ty³Çme
 
¡d
::

179 
cÚd™iÚ®
<
¡d
::
is_§me
<
A
, 
	gDeçuÉTy³
>::
v®ue
, 
	gB
, 
	gA
>::
ty³
;

180 
¡©ic_as£¹
(
SaãLe
(
Lim™s
<
ty³
>::
lowe¡
, Lim™s<
B
>::lowest) &&

181 
SaãGe
(
Lim™s
<
ty³
>::
max
, Lim™s<
B
>::max),

183 
¡©ic_as£¹
(
IsIÁlike
<
ty³
>::
v®ue
 =ğIsIÁlike<
B
>::value &&

184 
¡d
::
is_æßtšg_pošt
<
ty³
>::
v®ue
 ==

185 
¡d
::
is_æßtšg_pošt
<
ty³
>::
v®ue
,

191 
	g‹m¶©e
 <

192 
ty³Çme
 
	gR
 = 
§ã_mšmax_im¶
::
DeçuÉTy³
,

193 
ty³Çme
 
	gT1
 = 
§ã_mšmax_im¶
::
DeçuÉTy³
,

194 
ty³Çme
 
	gT2
 = 
§ã_mšmax_im¶
::
DeçuÉTy³
,

195 
ty³Çme
 
	gR2
 =y³Çm
§ã_mšmax_im¶
::
Ty³Or
<

196 
R
,

197 
ty³Çme
 
	g§ã_mšmax_im¶
::
MTy³
<

198 
ty³Çme
 
§ã_mšmax_im¶
::
Und”lyšgTy³
<
T1
>::
ty³
,

199 
ty³Çme
 
	g§ã_mšmax_im¶
::
Und”lyšgTy³
<
T2
>::
ty³
>::
mš_t
>::type>

200 
cÚ¡ex´
 
R2
 
SaãMš
(
T1
 
a
, 
T2
 
b
) {

201 
¡©ic_as£¹
(
IsIÁlike
<
T1
>::
v®ue
 || 
¡d
::
is_æßtšg_pošt
<T1>::value,

203 
¡©ic_as£¹
(
IsIÁlike
<
T2
>::
v®ue
 || 
¡d
::
is_æßtšg_pošt
<T2>::value,

205  
SaãLt
(
a
, 
b
è? 
	g¡©ic_ÿ¡
<
	gR2
>(
	ga
è: 
¡©ic_ÿ¡
<
R2
>(b);

208 
	g‹m¶©e
 <

209 
ty³Çme
 
	gR
 = 
§ã_mšmax_im¶
::
DeçuÉTy³
,

210 
ty³Çme
 
	gT1
 = 
§ã_mšmax_im¶
::
DeçuÉTy³
,

211 
ty³Çme
 
	gT2
 = 
§ã_mšmax_im¶
::
DeçuÉTy³
,

212 
ty³Çme
 
	gR2
 =y³Çm
§ã_mšmax_im¶
::
Ty³Or
<

213 
R
,

214 
ty³Çme
 
	g§ã_mšmax_im¶
::
MTy³
<

215 
ty³Çme
 
§ã_mšmax_im¶
::
Und”lyšgTy³
<
T1
>::
ty³
,

216 
ty³Çme
 
	g§ã_mšmax_im¶
::
Und”lyšgTy³
<
T2
>::
ty³
>::
max_t
>::type>

217 
cÚ¡ex´
 
R2
 
SaãMax
(
T1
 
a
, 
T2
 
b
) {

218 
¡©ic_as£¹
(
IsIÁlike
<
T1
>::
v®ue
 || 
¡d
::
is_æßtšg_pošt
<T1>::value,

220 
¡©ic_as£¹
(
IsIÁlike
<
T2
>::
v®ue
 || 
¡d
::
is_æßtšg_pošt
<T2>::value,

222  
SaãGt
(
a
, 
b
è? 
	g¡©ic_ÿ¡
<
	gR2
>(
	ga
è: 
¡©ic_ÿ¡
<
R2
>(b);

225 
Çme¥aû
 
	g§ã_mšmax_im¶
 {

229 
	g‹m¶©e
 <
ty³Çme
 
	gT
,

230 
ty³Çme
 
	gL
,

231 
ty³Çme
 
	gH
,

232 
boŞ
 
	gšt1
 = 
IsIÁlike
<
T
>::
v®ue
,

233 
boŞ
 
	gšt2
 = 
IsIÁlike
<
L
>::
v®ue
,

234 
boŞ
 
	gšt3
 = 
IsIÁlike
<
H
>::
v®ue
>

235 
	sCÏmpTy³
 {

236 
¡©ic_as£¹
(
št1
 =ğ
št2
 && iÁ1 =ğ
št3
,

241 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gL
,y³Çm
	gH
>

242 
	gCÏmpTy³
<
	gT
, 
	gL
, 
	gH
, 
	gçl£
, false, false> {

243 
usšg
 
	gty³
 = 
ty³Çme
 
¡d
::
commÚ_ty³
<
T
, 
	gL
, 
	gH
>::
ty³
;

247 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gL
,y³Çm
	gH
>

248 
	gCÏmpTy³
<
	gT
, 
	gL
, 
	gH
, 
	gŒue
,rue,rue> {

249 
	g´iv©e
:

252 
cÚ¡ex´
‡utØ
r_mš
 =

253 
SaãMax
(
Lim™s
<
L
>::
lowe¡
, 
SaãMš
(Lim™s<
H
>::lowe¡, Lim™s<
T
>::lowest));

254 
cÚ¡ex´
‡utØ
	gr_max
 =

255 
SaãMš
(
Lim™s
<
H
>::
max
, 
SaãMax
(Lim™s<
L
>::max, Lim™s<
T
>::max));

260 
	g‹m¶©e
 <
ty³Çme
 
	gA
>

261 
	sAcû±abËTy³
 {

262 
	g´iv©e
:

263 
cÚ¡ex´
 
boŞ
 
nÙ_too_Ïrge
 = (
A
è<ğ(
L
) ||

264 (
A
è<ğ(
H
) ||

265 (
A
è<ğ(
T
);

266 
cÚ¡ex´
 
boŞ
 
	g¿nge_cÚšed
 =

267 
SaãLe
(
Lim™s
<
A
>::
lowe¡
, 
r_mš
è&& SaãLe(
r_max
, Lim™s<A>::
max
);

269 
	gpublic
:

270 
cÚ¡ex´
 
boŞ
 
v®ue
 = 
nÙ_too_Ïrge
 && 
¿nge_cÚšed
;

273 
usšg
 
	gbe¡_sigÃd_ty³
 = 
ty³Çme
 
¡d
::
cÚd™iÚ®
<

274 
Acû±abËTy³
<
št8_t
>::
v®ue
,

275 
	gšt8_t
,

276 
ty³Çme
 
	g¡d
::
cÚd™iÚ®
<

277 
Acû±abËTy³
<
št16_t
>::
v®ue
,

278 
	gšt16_t
,

279 
ty³Çme
 
	g¡d
::
cÚd™iÚ®
<
Acû±abËTy³
<
št32_t
>::
v®ue
,

280 
	gšt32_t
,

281 
	gšt64_t
>::
ty³
>::type>::type;

283 
usšg
 
	gbe¡_unsigÃd_ty³
 = 
ty³Çme
 
¡d
::
cÚd™iÚ®
<

284 
Acû±abËTy³
<
ušt8_t
>::
v®ue
,

285 
	gušt8_t
,

286 
ty³Çme
 
	g¡d
::
cÚd™iÚ®
<

287 
Acû±abËTy³
<
ušt16_t
>::
v®ue
,

288 
	gušt16_t
,

289 
ty³Çme
 
	g¡d
::
cÚd™iÚ®
<
Acû±abËTy³
<
ušt32_t
>::
v®ue
,

290 
	gušt32_t
,

291 
	gušt64_t
>::
ty³
>::type>::type;

293 
	gpublic
:

296 
usšg
 
ty³
 = 
ty³Çme
 
¡d
::
cÚd™iÚ®
<

297 
¡d
::
is_sigÃd
<
T
>::
v®ue
,

298 
ty³Çme
 
	g¡d
::
cÚd™iÚ®
<
Acû±abËTy³
<
be¡_sigÃd_ty³
>::
v®ue
,

299 
	gbe¡_sigÃd_ty³
,

300 
	gbe¡_unsigÃd_ty³
>::
ty³
,

301 
ty³Çme
 
	g¡d
::
cÚd™iÚ®
<
Acû±abËTy³
<
be¡_unsigÃd_ty³
>::
v®ue
,

302 
	gbe¡_unsigÃd_ty³
,

303 
	gbe¡_sigÃd_ty³
>::
ty³
>::type;

304 
¡©ic_as£¹
(
Acû±abËTy³
<
ty³
>::
v®ue
, "");

309 
	g‹m¶©e
 <

310 
ty³Çme
 
	gR
 = 
§ã_mšmax_im¶
::
DeçuÉTy³
,

311 
ty³Çme
 
	gT
 = 
§ã_mšmax_im¶
::
DeçuÉTy³
,

312 
ty³Çme
 
	gL
 = 
§ã_mšmax_im¶
::
DeçuÉTy³
,

313 
ty³Çme
 
	gH
 = 
§ã_mšmax_im¶
::
DeçuÉTy³
,

314 
ty³Çme
 
	gR2
 =y³Çm
§ã_mšmax_im¶
::
Ty³Or
<

315 
R
,

316 
ty³Çme
 
	g§ã_mšmax_im¶
::
CÏmpTy³
<

317 
ty³Çme
 
§ã_mšmax_im¶
::
Und”lyšgTy³
<
T
>::
ty³
,

318 
ty³Çme
 
	g§ã_mšmax_im¶
::
Und”lyšgTy³
<
L
>::
ty³
,

319 
ty³Çme
 
	g§ã_mšmax_im¶
::
Und”lyšgTy³
<
H
>::
ty³
>::type>::type>

320 
R2
 
SaãCÏmp
(
T
 
x
, 
L
 
mš
, 
H
 
max
) {

321 
¡©ic_as£¹
(
IsIÁlike
<
H
>::
v®ue
 || 
¡d
::
is_æßtšg_pošt
<H>::value,

323 
¡©ic_as£¹
(
IsIÁlike
<
T
>::
v®ue
 || 
¡d
::
is_æßtšg_pošt
<T>::value,

325 
¡©ic_as£¹
(
IsIÁlike
<
L
>::
v®ue
 || 
¡d
::
is_æßtšg_pošt
<L>::value,

327 
RTC_DCHECK_LE
(
mš
, 
max
);

328  
SaãLe
(
x
, 
mš
)

329 ? 
	g¡©ic_ÿ¡
<
	gR2
>(
	gmš
)

330 : 
SaãGe
(
x
, 
max
è? 
	g¡©ic_ÿ¡
<
	gR2
>(
	gmax
è: 
¡©ic_ÿ¡
<
R2
>(x);

	@numerics/safe_minmax_unittest.cc

11 
	~"¹c_ba£/num”ics/§ã_mšmax.h
"

13 
	~<®gÜ™hm
>

14 
	~<lim™s
>

16 
	~"‹¡/g‹¡.h
"

18 
Çme¥aû
 
	g¹c
 {

20 
	gÇme¥aû
 {

26 
	g‹m¶©e
 <
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gTmš
,y³Çm
	gTmax
>

27 
cÚ¡ex´
 
boŞ
 
Ty³CheckMšMax
() {

28  
	g¡d
::
is_§me
<
deşty³
(
SaãMš
(
¡d
::
deşv®
<
T1
>(), std::deşv®<
T2
>())),

29 
	gTmš
>::
v®ue
 &&

30 
¡d
::
is_§me
<
deşty³
(
SaãMax
(¡d::
deşv®
<
T1
>(), std::deşv®<
T2
>())),

31 
	gTmax
>::
v®ue
;

34 
	g‹m¶©e
 <
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gR
>

35 
cÚ¡ex´
 
boŞ
 
Ty³CheckMšR
() {

36  
	g¡d
::
is_§me
<

37 
deşty³
(
SaãMš
<
R
>(
¡d
::
deşv®
<
T1
>(), std::deşv®<
T2
>())), 
	gR
>::
v®ue
;

40 
	g‹m¶©e
 <
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gR
>

41 
cÚ¡ex´
 
boŞ
 
Ty³CheckMaxR
() {

42  
	g¡d
::
is_§me
<

43 
deşty³
(
SaãMax
<
R
>(
¡d
::
deşv®
<
T1
>(), std::deşv®<
T2
>())), 
	gR
>::
v®ue
;

46 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gL
,y³Çm
	gH
,y³Çm
	gR
>

47 
cÚ¡ex´
 
boŞ
 
Ty³CheckCÏmp
() {

48  
	g¡d
::
is_§me
<
deşty³
(
SaãCÏmp
(
¡d
::
deşv®
<
T
>(), std::deşv®<
L
>(),

49 
¡d
::
deşv®
<
H
>())),

50 
	gR
>::
v®ue
;

53 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gL
,y³Çm
	gH
,y³Çm
	gR
>

54 
cÚ¡ex´
 
boŞ
 
Ty³CheckCÏmpR
() {

55  
	g¡d
::
is_§me
<
deşty³
(
SaãCÏmp
<
R
>(
¡d
::
deşv®
<
T
>(),

56 
¡d
::
deşv®
<
L
>(),

57 
¡d
::
deşv®
<
H
>())),

58 
	gR
>::
v®ue
;

65 
¡©ic_as£¹
(
Ty³CheckMšMax
< 
št8_t
, int8_t, int8_t, int8_t>(), "");

66 
¡©ic_as£¹
(
Ty³CheckMšMax
< 
št8_t
, 
ušt8_t
, int8_t, uint8_t>(), "");

67 
¡©ic_as£¹
(
Ty³CheckMšMax
< 
št8_t
, 
št64_t
, int64_t, int64_t>(), "");

68 
¡©ic_as£¹
(
Ty³CheckMšMax
< 
št8_t
, 
ušt64_t
, int8_t, uint64_t>(), "");

69 
¡©ic_as£¹
(
Ty³CheckMšMax
< 
ušt8_t
, 
št8_t
, int8_t, uint8_t>(), "");

70 
¡©ic_as£¹
(
Ty³CheckMšMax
< 
ušt8_t
, uint8_t, uint8_t, uint8_t>(), "");

71 
¡©ic_as£¹
(
Ty³CheckMšMax
< 
ušt8_t
, 
št64_t
, int64_t, int64_t>(), "");

72 
¡©ic_as£¹
(
Ty³CheckMšMax
< 
ušt8_t
, 
ušt64_t
, uint8_t, uint64_t>(), "");

73 
¡©ic_as£¹
(
Ty³CheckMšMax
< 
št64_t
, 
št8_t
, int64_t, int64_t>(), "");

74 
¡©ic_as£¹
(
Ty³CheckMšMax
< 
št64_t
, 
ušt8_t
, int64_t, int64_t>(), "");

75 
¡©ic_as£¹
(
Ty³CheckMšMax
< 
št64_t
, int64_t, int64_t, int64_t>(), "");

76 
¡©ic_as£¹
(
Ty³CheckMšMax
< 
št64_t
, 
ušt64_t
, int64_t, uint64_t>(), "");

77 
¡©ic_as£¹
(
Ty³CheckMšMax
<
ušt64_t
, 
št8_t
, int8_t, uint64_t>(), "");

78 
¡©ic_as£¹
(
Ty³CheckMšMax
<
ušt64_t
, 
ušt8_t
, uint8_t, uint64_t>(), "");

79 
¡©ic_as£¹
(
Ty³CheckMšMax
<
ušt64_t
, 
št64_t
, int64_t, uint64_t>(), "");

80 
¡©ic_as£¹
(
Ty³CheckMšMax
<
ušt64_t
, uint64_t, uint64_t, uint64_t>(), "");

84 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št8_t
, int8_t, int8_t, int8_t>(), "");

85 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št8_t
, iÁ8_t, 
ušt8_t
, int8_t>(), "");

86 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št8_t
, iÁ8_t, 
št64_t
, int8_t>(), "");

87 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št8_t
, iÁ8_t, 
ušt64_t
, int8_t>(), "");

88 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št8_t
, 
ušt8_t
, int8_t, int8_t>(), "");

89 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št8_t
, 
ušt8_t
, uint8_t, uint8_t>(), "");

90 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št8_t
, 
ušt8_t
, 
št64_t
, 
št16_t
>(), "");

91 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št8_t
, 
ušt8_t
, 
ušt64_t
, 
št16_t
>(), "");

92 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št8_t
, 
št64_t
, int8_t, int8_t>(), "");

93 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št8_t
, 
št64_t
, 
ušt8_t
, 
št16_t
>(), "");

94 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št8_t
, 
št64_t
, int64_t, int64_t>(), "");

95 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št8_t
, 
št64_t
, 
ušt64_t
, int64_t>(), "");

96 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št8_t
, 
ušt64_t
, int8_t, int8_t>(), "");

97 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št8_t
, 
ušt64_t
, 
ušt8_t
, 
št16_t
>(), "");

98 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št8_t
, 
ušt64_t
, 
št64_t
, int64_t>(), "");

99 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št8_t
, 
ušt64_t
, uint64_t, uint64_t>(), "");

100 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
ušt8_t
, 
št8_t
, int8_t, int8_t>(), "");

101 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
ušt8_t
, 
št8_t
, uint8_t, uint8_t>(), "");

102 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
ušt8_t
, 
št8_t
, 
št64_t
, 
št16_t
>(), "");

103 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
ušt8_t
, 
št8_t
, 
ušt64_t
, uint8_t>(), "");

104 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
ušt8_t
, ušt8_t, 
št8_t
, uint8_t>(), "");

105 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
ušt8_t
, uint8_t, uint8_t, uint8_t>(), "");

106 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
ušt8_t
, ušt8_t, 
št64_t
, uint8_t>(), "");

107 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
ušt8_t
, ušt8_t, 
ušt64_t
, uint8_t>(), "");

108 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
ušt8_t
, 
št64_t
, 
št8_t
, int8_t>(), "");

109 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
ušt8_t
, 
št64_t
, uint8_t, uint8_t>(), "");

110 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
ušt8_t
, 
št64_t
, int64_t, int64_t>(), "");

111 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
ušt8_t
, 
št64_t
, 
ušt64_t
, uint64_t>(), "");

112 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
ušt8_t
, 
ušt64_t
, 
št8_t
, uint8_t>(), "");

113 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
ušt8_t
, 
ušt64_t
, uint8_t, uint8_t>(), "");

114 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
ušt8_t
, 
ušt64_t
, 
št64_t
, uint64_t>(), "");

115 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
ušt8_t
, 
ušt64_t
, uint64_t, uint64_t>(), "");

116 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št64_t
, 
št8_t
, int8_t, int8_t>(), "");

117 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št64_t
, 
št8_t
, 
ušt8_t
, 
št16_t
>(), "");

118 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št64_t
, 
št8_t
, int64_t, int64_t>(), "");

119 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št64_t
, 
št8_t
, 
ušt64_t
, int64_t>(), "");

120 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št64_t
, 
ušt8_t
, 
št8_t
, int8_t>(), "");

121 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št64_t
, 
ušt8_t
, ušt8_t, 
št16_t
>(), "");

122 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št64_t
, 
ušt8_t
, int64_t, int64_t>(), "");

123 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št64_t
, 
ušt8_t
, 
ušt64_t
, int64_t>(), "");

124 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št64_t
, iÁ64_t, 
št8_t
, int64_t>(), "");

125 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št64_t
, iÁ64_t, 
ušt8_t
, int64_t>(), "");

126 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št64_t
, int64_t, int64_t, int64_t>(), "");

127 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št64_t
, iÁ64_t, 
ušt64_t
, int64_t>(), "");

128 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št64_t
, 
ušt64_t
, 
št8_t
, int8_t>(), "");

129 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št64_t
, 
ušt64_t
, 
ušt8_t
, 
št16_t
>(), "");

130 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št64_t
, 
ušt64_t
, int64_t, int64_t>(), "");

131 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
št64_t
, 
ušt64_t
, uint64_t, uint64_t>(), "");

132 
¡©ic_as£¹
(
Ty³CheckCÏmp
<
ušt64_t
, 
št8_t
, int8_t, int8_t>(), "");

133 
¡©ic_as£¹
(
Ty³CheckCÏmp
<
ušt64_t
, 
št8_t
, 
ušt8_t
, uint8_t>(), "");

134 
¡©ic_as£¹
(
Ty³CheckCÏmp
<
ušt64_t
, 
št8_t
, 
št64_t
, int64_t>(), "");

135 
¡©ic_as£¹
(
Ty³CheckCÏmp
<
ušt64_t
, 
št8_t
, uint64_t, uint64_t>(), "");

136 
¡©ic_as£¹
(
Ty³CheckCÏmp
<
ušt64_t
, 
ušt8_t
, 
št8_t
, uint8_t>(), "");

137 
¡©ic_as£¹
(
Ty³CheckCÏmp
<
ušt64_t
, 
ušt8_t
, uint8_t, uint8_t>(), "");

138 
¡©ic_as£¹
(
Ty³CheckCÏmp
<
ušt64_t
, 
ušt8_t
, 
št64_t
, uint64_t>(), "");

139 
¡©ic_as£¹
(
Ty³CheckCÏmp
<
ušt64_t
, 
ušt8_t
, uint64_t, uint64_t>(), "");

140 
¡©ic_as£¹
(
Ty³CheckCÏmp
<
ušt64_t
, 
št64_t
, 
št8_t
, int8_t>(), "");

141 
¡©ic_as£¹
(
Ty³CheckCÏmp
<
ušt64_t
, 
št64_t
, 
ušt8_t
, uint8_t>(), "");

142 
¡©ic_as£¹
(
Ty³CheckCÏmp
<
ušt64_t
, 
št64_t
, int64_t, int64_t>(), "");

143 
¡©ic_as£¹
(
Ty³CheckCÏmp
<
ušt64_t
, 
št64_t
, uint64_t, uint64_t>(), "");

144 
¡©ic_as£¹
(
Ty³CheckCÏmp
<
ušt64_t
, ušt64_t, 
št8_t
, 
ušt8_t
>(), "");

145 
¡©ic_as£¹
(
Ty³CheckCÏmp
<
ušt64_t
, ušt64_t, 
ušt8_t
, uint8_t>(), "");

146 
¡©ic_as£¹
(
Ty³CheckCÏmp
<
ušt64_t
, ušt64_t, 
št64_t
, uint64_t>(), "");

147 
¡©ic_as£¹
(
Ty³CheckCÏmp
<
ušt64_t
, uint64_t, uint64_t, uint64_t>(), "");

149 
	eDeçuÉE
 { 
	gkFoo
 = -17 };

150 
	gUIÁ8E
 : 
ušt8_t
 { 
kB¬
 = 17 };

153 
¡©ic_as£¹
(
Ty³CheckMšMax
<, , , >(), "");

154 
¡©ic_as£¹
(
Ty³CheckMšMax
<, 
DeçuÉE
, , >(), "");

155 
¡©ic_as£¹
(
Ty³CheckMšMax
<, 
UIÁ8E
, 
ušt8_t
, >(), "");

156 
¡©ic_as£¹
(
Ty³CheckMšMax
<
DeçuÉE
, , , >(), "");

157 
¡©ic_as£¹
(
Ty³CheckMšMax
<
DeçuÉE
, DefaultE, , >(), "");

158 
¡©ic_as£¹
(
Ty³CheckMšMax
<
DeçuÉE
, 
UIÁ8E
, , >(), "");

159 
¡©ic_as£¹
(
Ty³CheckMšMax
< 
UIÁ8E
, , 
ušt8_t
, >(), "");

160 
¡©ic_as£¹
(
Ty³CheckMšMax
< 
UIÁ8E
, 
DeçuÉE
, , >(), "");

161 
¡©ic_as£¹
(
Ty³CheckMšMax
< 
UIÁ8E
, UIÁ8E, 
ušt8_t
, uint8_t>(), "");

164 
¡©ic_as£¹
(
Ty³CheckCÏmp
<, , , >(), "");

165 
¡©ic_as£¹
(
Ty³CheckCÏmp
<, , 
DeçuÉE
, >(), "");

166 
¡©ic_as£¹
(
Ty³CheckCÏmp
<, , 
UIÁ8E
, 
ušt8_t
>(), "");

167 
¡©ic_as£¹
(
Ty³CheckCÏmp
<, 
DeçuÉE
, , >(), "");

168 
¡©ic_as£¹
(
Ty³CheckCÏmp
<, 
DeçuÉE
, DefaultE, >(), "");

169 
¡©ic_as£¹
(
Ty³CheckCÏmp
<, 
DeçuÉE
, 
UIÁ8E
, 
ušt8_t
>(), "");

170 
¡©ic_as£¹
(
Ty³CheckCÏmp
<, 
UIÁ8E
, , >(), "");

171 
¡©ic_as£¹
(
Ty³CheckCÏmp
<, 
UIÁ8E
, 
DeçuÉE
, >(), "");

172 
¡©ic_as£¹
(
Ty³CheckCÏmp
<, 
UIÁ8E
, UIÁ8E, 
ušt8_t
>(), "");

173 
¡©ic_as£¹
(
Ty³CheckCÏmp
<
DeçuÉE
, , , >(), "");

174 
¡©ic_as£¹
(
Ty³CheckCÏmp
<
DeçuÉE
, , DefaultE, >(), "");

175 
¡©ic_as£¹
(
Ty³CheckCÏmp
<
DeçuÉE
, , 
UIÁ8E
, 
št16_t
>(), "");

176 
¡©ic_as£¹
(
Ty³CheckCÏmp
<
DeçuÉE
, DefaultE, , >(), "");

177 
¡©ic_as£¹
(
Ty³CheckCÏmp
<
DeçuÉE
, DefaultE, DefaultE, >(), "");

178 
¡©ic_as£¹
(
Ty³CheckCÏmp
<
DeçuÉE
, DeçuÉE, 
UIÁ8E
, >(), "");

179 
¡©ic_as£¹
(
Ty³CheckCÏmp
<
DeçuÉE
, 
UIÁ8E
, , >(), "");

180 
¡©ic_as£¹
(
Ty³CheckCÏmp
<
DeçuÉE
, 
UIÁ8E
, DefaultE, >(), "");

181 
¡©ic_as£¹
(
Ty³CheckCÏmp
<
DeçuÉE
, 
UIÁ8E
, UIÁ8E, 
št16_t
>(), "");

182 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
UIÁ8E
, , , >(), "");

183 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
UIÁ8E
, , 
DeçuÉE
, >(), "");

184 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
UIÁ8E
, , UIÁ8E, 
ušt8_t
>(), "");

185 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
UIÁ8E
, 
DeçuÉE
, , >(), "");

186 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
UIÁ8E
, 
DeçuÉE
, DefaultE, >(), "");

187 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
UIÁ8E
, 
DeçuÉE
, UIÁ8E, 
ušt8_t
>(), "");

188 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
UIÁ8E
, UIÁ8E, , 
ušt8_t
>(), "");

189 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
UIÁ8E
, UIÁ8E, 
DeçuÉE
, 
ušt8_t
>(), "");

190 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
UIÁ8E
, UIÁ8E, UIÁ8E, 
ušt8_t
>(), "");

192 
usšg
 
	gld
 = ;

196 
¡©ic_as£¹
(
Ty³CheckMšMax
< , , , >(), "");

197 
¡©ic_as£¹
(
Ty³CheckMšMax
< , , , >(), "");

198 
¡©ic_as£¹
(
Ty³CheckMšMax
< , 
ld
,†d,†d>(), "");

199 
¡©ic_as£¹
(
Ty³CheckMšMax
<, , , >(), "");

200 
¡©ic_as£¹
(
Ty³CheckMšMax
<, , , >(), "");

201 
¡©ic_as£¹
(
Ty³CheckMšMax
<, 
ld
,†d,†d>(), "");

202 
¡©ic_as£¹
(
Ty³CheckMšMax
< 
ld
, ,†d,†d>(), "");

203 
¡©ic_as£¹
(
Ty³CheckMšMax
< 
ld
, ,†d,†d>(), "");

204 
¡©ic_as£¹
(
Ty³CheckMšMax
< 
ld
,†d,†d,†d>(), "");

208 
¡©ic_as£¹
(
Ty³CheckCÏmp
< , , , >(), "");

209 
¡©ic_as£¹
(
Ty³CheckCÏmp
< , , , >(), "");

210 
¡©ic_as£¹
(
Ty³CheckCÏmp
< , , 
ld
,†d>(), "");

211 
¡©ic_as£¹
(
Ty³CheckCÏmp
< , , , >(), "");

212 
¡©ic_as£¹
(
Ty³CheckCÏmp
< , , , >(), "");

213 
¡©ic_as£¹
(
Ty³CheckCÏmp
< , , 
ld
,†d>(), "");

214 
¡©ic_as£¹
(
Ty³CheckCÏmp
< , 
ld
, ,†d>(), "");

215 
¡©ic_as£¹
(
Ty³CheckCÏmp
< , 
ld
, ,†d>(), "");

216 
¡©ic_as£¹
(
Ty³CheckCÏmp
< , 
ld
,†d,†d>(), "");

217 
¡©ic_as£¹
(
Ty³CheckCÏmp
<, , , >(), "");

218 
¡©ic_as£¹
(
Ty³CheckCÏmp
<, , , >(), "");

219 
¡©ic_as£¹
(
Ty³CheckCÏmp
<, , 
ld
,†d>(), "");

220 
¡©ic_as£¹
(
Ty³CheckCÏmp
<, , , >(), "");

221 
¡©ic_as£¹
(
Ty³CheckCÏmp
<, , , >(), "");

222 
¡©ic_as£¹
(
Ty³CheckCÏmp
<, , 
ld
,†d>(), "");

223 
¡©ic_as£¹
(
Ty³CheckCÏmp
<, 
ld
, ,†d>(), "");

224 
¡©ic_as£¹
(
Ty³CheckCÏmp
<, 
ld
, ,†d>(), "");

225 
¡©ic_as£¹
(
Ty³CheckCÏmp
<, 
ld
,†d,†d>(), "");

226 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
ld
, , ,†d>(), "");

227 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
ld
, , ,†d>(), "");

228 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
ld
, ,†d,†d>(), "");

229 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
ld
, , ,†d>(), "");

230 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
ld
, , ,†d>(), "");

231 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
ld
, ,†d,†d>(), "");

232 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
ld
,†d, ,†d>(), "");

233 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
ld
,†d, ,†d>(), "");

234 
¡©ic_as£¹
(
Ty³CheckCÏmp
< 
ld
,†d,†d,†d>(), "");

241 
¡©ic_as£¹
(
Ty³CheckMšR
<
št8_t
, iÁ8_t, 
št16_t
>(), "");

243 
¡©ic_as£¹
(
Ty³CheckMšR
<
ušt32_t
, 
ušt64_t
, uint32_t>(), "");

246 
¡©ic_as£¹
(
Ty³CheckMaxR
<
ušt32_t
, 
št32_t
, uint32_t>(), "");

252 
¡©ic_as£¹
(
Ty³CheckCÏmpR
<
št16_t
, 
št8_t
, 
ušt8_t
, int16_t>(), "");

253 
¡©ic_as£¹
(
Ty³CheckCÏmpR
<
št16_t
, 
št8_t
, 
ušt8_t
, 
št32_t
>(), "");

256 
	g‹m¶©e
 <
ty³Çme
 
	gT1
,y³Çm
	gT2
,y³Çm
	gTmš
,y³Çm
	gTmax
>

257 
cÚ¡ex´
 
boŞ
 
CheckMšMax
(
T1
 
a
, 
T2
 
b
, 
Tmš
 
mš
, 
Tmax
 
max
) {

258  
	gTy³CheckMšMax
<
	gT1
, 
	gT2
, 
	gTmš
, 
	gTmax
>(è&& 
SaãMš
(
a
, 
b
è=ğ
mš
 &&

259 
SaãMax
(
a
, 
b
è=ğ
max
;

262 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gL
,y³Çm
	gH
,y³Çm
	gR
>

263 
boŞ
 
CheckCÏmp
(
T
 
x
, 
L
 
mš
, 
H
 
max
, 
R
 
şam³d
) {

264  
	gTy³CheckCÏmp
<
	gT
, 
	gL
, 
	gH
, 
	gR
>(è&& 
SaãCÏmp
(
x
, 
mš
, 
max
è=ğ
şam³d
;

268 
¡©ic_as£¹
(
CheckMšMax
(
št8_t
{1}, int8_t{-1}, int8_t{-1}, int8_t{1}), "");

269 
¡©ic_as£¹
(
CheckMšMax
(
ušt8_t
{1}, 
št8_t
{-1}, int8_t{-1}, uint8_t{1}), "");

270 
¡©ic_as£¹
(
CheckMšMax
(
ušt8_t
{5}, 
ušt64_t
{2}, uint8_t{2}, uint64_t{5}),

272 
¡©ic_as£¹
(
CheckMšMax
(
¡d
::
num”ic_lim™s
<
št32_t
>::
mš
(),

273 
¡d
::
num”ic_lim™s
<
ušt32_t
>::
max
(),

274 
¡d
::
num”ic_lim™s
<
št32_t
>::
mš
(),

275 
¡d
::
num”ic_lim™s
<
ušt32_t
>::
max
()),

277 
¡©ic_as£¹
(
CheckMšMax
(
¡d
::
num”ic_lim™s
<
št32_t
>::
mš
(),

278 
¡d
::
num”ic_lim™s
<
ušt16_t
>::
max
(),

279 
¡d
::
num”ic_lim™s
<
št32_t
>::
mš
(),

280 
št32_t
{
¡d
::
num”ic_lim™s
<
ušt16_t
>::
max
()}),

283 
¡©ic_as£¹
(
CheckMšMax
(1.f, 0.0, 0.0, 1.0), "");

286 
TEST
(
SaãMšmaxTe¡
, 
CÏmp
) {

287 
EXPECT_TRUE
(
CheckCÏmp
(
št32_t
{-1000000}, 
¡d
::
num”ic_lim™s
<
št16_t
>::
mš
(),

288 
¡d
::
num”ic_lim™s
<
št16_t
>::
max
(),

289 
¡d
::
num”ic_lim™s
<
št16_t
>::
mš
()));

290 
EXPECT_TRUE
(
CheckCÏmp
(
ušt32_t
{1000000}, 
¡d
::
num”ic_lim™s
<
št16_t
>::
mš
(),

291 
¡d
::
num”ic_lim™s
<
št16_t
>::
max
(),

292 
¡d
::
num”ic_lim™s
<
št16_t
>::
max
()));

293 
EXPECT_TRUE
(
CheckCÏmp
(3.f, -1.0, 1.f, 1.0));

294 
EXPECT_TRUE
(
CheckCÏmp
(3.0, -1.f, 1.f, 1.0));

306 
št32_t
 
Te¡MšRef
Ğšt32_ˆ
a
, iÁ32_ˆ
b
è{  
	g¡d
::
mš
(a, b); }

307 
ušt32_t
 
Te¡MšRef
Ğušt32_ˆ
a
, ušt32_ˆ
b
è{  
	g¡d
::
mš
(a, b); }

308 
št32_t
 
Te¡MšSaã
Ğšt32_ˆ
a
, iÁ32_ˆ
b
è{  
SaãMš
(a, b); }

309 
št32_t
 
Te¡MšSaã
Ğšt32_ˆ
a
, 
ušt32_t
 
b
è{  
SaãMš
(a, b); }

310 
št32_t
 
Te¡MšSaã
(
ušt32_t
 
a
, iÁ32_ˆ
b
è{  
SaãMš
(a, b); }

311 
ušt32_t
 
Te¡MšSaã
(ušt32_ˆ
a
, ušt32_ˆ
b
è{  
SaãMš
(a, b); }

314 
št32_t
 
Te¡CÏmpRef
(št32_ˆ
x
, iÁ32_ˆ
a
, iÁ32_ˆ
b
) {

315  
	g¡d
::
max
(
a
, 
¡d
::
mš
(
x
, 
b
));

317 
ušt32_t
 
Te¡CÏmpRef
(ušt32_ˆ
x
, ušt32_ˆ
a
, ušt32_ˆ
b
) {

318  
	g¡d
::
max
(
a
, 
¡d
::
mš
(
x
, 
b
));

320 
št32_t
 
Te¡CÏmpSaã
(št32_ˆ
x
, iÁ32_ˆ
a
, iÁ32_ˆ
b
) {

321  
SaãCÏmp
(
x
, 
a
, 
b
);

323 
št32_t
 
Te¡CÏmpSaã
(št32_ˆ
x
, iÁ32_ˆ
a
, 
ušt32_t
 
b
) {

324  
SaãCÏmp
(
x
, 
a
, 
b
);

326 
št32_t
 
Te¡CÏmpSaã
(št32_ˆ
x
, 
ušt32_t
 
a
, iÁ32_ˆ
b
) {

327  
SaãCÏmp
(
x
, 
a
, 
b
);

329 
ušt32_t
 
Te¡CÏmpSaã
(
št32_t
 
x
, ušt32_ˆ
a
, ušt32_ˆ
b
) {

330  
SaãCÏmp
(
x
, 
a
, 
b
);

332 
št32_t
 
Te¡CÏmpSaã
(
ušt32_t
 
x
, iÁ32_ˆ
a
, iÁ32_ˆ
b
) {

333  
SaãCÏmp
(
x
, 
a
, 
b
);

335 
ušt32_t
 
Te¡CÏmpSaã
(ušt32_ˆ
x
, 
št32_t
 
a
, ušt32_ˆ
b
) {

336  
SaãCÏmp
(
x
, 
a
, 
b
);

338 
št32_t
 
Te¡CÏmpSaã
(
ušt32_t
 
x
, ušt32_ˆ
a
, iÁ32_ˆ
b
) {

339  
SaãCÏmp
(
x
, 
a
, 
b
);

341 
ušt32_t
 
Te¡CÏmpSaã
(ušt32_ˆ
x
, ušt32_ˆ
a
, ušt32_ˆ
b
) {

342  
SaãCÏmp
(
x
, 
a
, 
b
);

	@numerics/sample_counter.cc

11 
	~"¹c_ba£/num”ics/§m¶e_couÁ”.h
"

13 
	~<lim™s
>

15 
	~"¹c_ba£/checks.h
"

16 
	~"¹c_ba£/num”ics/§ã_cÚv”siÚs.h
"

18 
Çme¥aû
 
	g¹c
 {

20 
	gSam¶eCouÁ”
::
Sam¶eCouÁ”
() = ;

21 
	gSam¶eCouÁ”
::~
Sam¶eCouÁ”
() = ;

23 
	gSam¶eCouÁ”
::
Add
(
§m¶e
) {

24 ià(
sum_
 > 0) {

25 
RTC_DCHECK_LE
(
§m¶e
, 
¡d
::
num”ic_lim™s
<
št64_t
>::
max
(è- 
sum_
);

27 
RTC_DCHECK_GE
(
§m¶e
, 
¡d
::
num”ic_lim™s
<
št64_t
>::
mš
(è- 
sum_
);

29 
	gsum_
 +ğ
§m¶e
;

30 ++
	gnum_§m¶es_
;

31 ià(!
	gmax_
 || 
	g§m¶e
 > *max_) {

32 
	gmax_
 = 
§m¶e
;

36 
	gSam¶eCouÁ”
::
Add
(cÚ¡ 
Sam¶eCouÁ”
& 
Ùh”
) {

37 ià(
sum_
 > 0) {

38 
RTC_DCHECK_LE
(
Ùh”
.
sum_
, 
¡d
::
num”ic_lim™s
<
št64_t
>::
max
() - sum_);

40 
RTC_DCHECK_GE
(
Ùh”
.
sum_
, 
¡d
::
num”ic_lim™s
<
št64_t
>::
mš
() - sum_);

42 
	gsum_
 +ğ
Ùh”
.
sum_
;

43 
RTC_DCHECK_LE
(
Ùh”
.
num_§m¶es_
,

44 
¡d
::
num”ic_lim™s
<
št64_t
>::
max
(è- 
num_§m¶es_
);

45 
	gnum_§m¶es_
 +ğ
Ùh”
.
num_§m¶es_
;

46 ià(
	gÙh”
.
	gmax_
 && (!max_ || *max_ < *other.max_))

47 
	gmax_
 = 
Ùh”
.
max_
;

50 
	gab¦
::
İtiÚ®
<> 
Sam¶eCouÁ”
::
Avg
(
št64_t
 
mš_»quœed_§m¶es
) const {

51 
RTC_DCHECK_GT
(
mš_»quœed_§m¶es
, 0);

52 ià(
	gnum_§m¶es_
 < 
	gmš_»quœed_§m¶es
)

53  
	gab¦
::
nuÎİt
;

54  
	g¹c
::
dchecked_ÿ¡
<>(
sum_
 / 
num_§m¶es_
);

57 
	gab¦
::
İtiÚ®
<> 
Sam¶eCouÁ”
::
Max
() const {

58  
max_
;

61 
	gab¦
::
İtiÚ®
<
št64_t
> 
Sam¶eCouÁ”
::
Sum
(št64_ˆ
mš_»quœed_§m¶es
) const {

62 
RTC_DCHECK_GT
(
mš_»quœed_§m¶es
, 0);

63 ià(
	gnum_§m¶es_
 < 
	gmš_»quœed_§m¶es
)

64  
	gab¦
::
nuÎİt
;

65  
	gsum_
;

68 
št64_t
 
	gSam¶eCouÁ”
::
NumSam¶es
() const {

69  
num_§m¶es_
;

72 
	gSam¶eCouÁ”
::
Re£t
() {

73 *
this
 = {};

76 
	gSam¶eCouÁ”W™hV¬Ÿnû
::
Sam¶eCouÁ”W™hV¬Ÿnû
() = ;

77 
	gSam¶eCouÁ”W™hV¬Ÿnû
::~
Sam¶eCouÁ”W™hV¬Ÿnû
() = ;

79 
	gab¦
::
İtiÚ®
<
št64_t
> 
Sam¶eCouÁ”W™hV¬Ÿnû
::
V¬Ÿnû
(

80 
št64_t
 
mš_»quœed_§m¶es
) const {

81 
RTC_DCHECK_GT
(
mš_»quœed_§m¶es
, 0);

82 ià(
	gnum_§m¶es_
 < 
	gmš_»quœed_§m¶es
)

83  
	gab¦
::
nuÎİt
;

85 
št64_t
 
	gm—n
 = 
sum_
 / 
num_§m¶es_
;

86  
	gsum_squ¬ed_
 / 
	gnum_§m¶es_
 - 
m—n
 * 
	gm—n
;

89 
	gSam¶eCouÁ”W™hV¬Ÿnû
::
Add
(
§m¶e
) {

90 
Sam¶eCouÁ”
::
Add
(
§m¶e
);

92 
RTC_DCHECK_GT
(
§m¶e
, 
¡d
::
num”ic_lim™s
<
št32_t
>::
mš
());

93 
RTC_DCHECK_LE
(
št64_t
{
§m¶e
} * sample,

94 
¡d
::
num”ic_lim™s
<
št64_t
>::
max
(è- 
sum_squ¬ed_
);

95 
	gsum_squ¬ed_
 +ğ
št64_t
{
§m¶e
} * sample;

98 
	gSam¶eCouÁ”W™hV¬Ÿnû
::
Add
(cÚ¡ 
Sam¶eCouÁ”W™hV¬Ÿnû
& 
Ùh”
) {

99 
Sam¶eCouÁ”
::
Add
(
Ùh”
);

100 
RTC_DCHECK_LE
(
Ùh”
.
sum_squ¬ed_
,

101 
¡d
::
num”ic_lim™s
<
št64_t
>::
max
(è- 
sum_squ¬ed_
);

102 
	gsum_squ¬ed_
 +ğ
Ùh”
.
sum_squ¬ed_
;

105 
	gSam¶eCouÁ”W™hV¬Ÿnû
::
Re£t
() {

106 *
this
 = {};

	@numerics/sample_counter.h

11 #iâdeà
RTC_BASE_NUMERICS_SAMPLE_COUNTER_H_


12 
	#RTC_BASE_NUMERICS_SAMPLE_COUNTER_H_


	)

14 
	~<¡dšt.h
>

16 
	~"ab¦/ty³s/İtiÚ®.h
"

18 
Çme¥aû
 
	g¹c
 {

22 şas 
	cSam¶eCouÁ”
 {

23 
	gpublic
:

24 
Sam¶eCouÁ”
();

25 ~
Sam¶eCouÁ”
();

26 
Add
(
§m¶e
);

27 
	gab¦
::
İtiÚ®
<> 
Avg
(
št64_t
 
mš_»quœed_§m¶es
) const;

28 
	gab¦
::
İtiÚ®
<> 
Max
() const;

29 
	gab¦
::
İtiÚ®
<
št64_t
> 
Sum
(št64_ˆ
mš_»quœed_§m¶es
) const;

30 
št64_t
 
NumSam¶es
() const;

31 
Re£t
();

34 
Add
(cÚ¡ 
Sam¶eCouÁ”
& 
Ùh”
);

36 
	g´Ùeùed
:

37 
št64_t
 
sum_
 = 0;

38 
št64_t
 
	gnum_§m¶es_
 = 0;

39 
	gab¦
::
İtiÚ®
<> 
max_
;

42 şas 
	cSam¶eCouÁ”W™hV¬Ÿnû
 : 
public
 
Sam¶eCouÁ”
 {

43 
public
:

44 
Sam¶eCouÁ”W™hV¬Ÿnû
();

45 ~
Sam¶eCouÁ”W™hV¬Ÿnû
();

46 
Add
(
§m¶e
);

47 
	gab¦
::
İtiÚ®
<
št64_t
> 
V¬Ÿnû
(št64_ˆ
mš_»quœed_§m¶es
) const;

48 
Re£t
();

51 
Add
(cÚ¡ 
Sam¶eCouÁ”W™hV¬Ÿnû
& 
Ùh”
);

53 
	g´iv©e
:

54 
št64_t
 
sum_squ¬ed_
 = 0;

	@numerics/sample_counter_unittest.cc

11 
	~"¹c_ba£/num”ics/§m¶e_couÁ”.h
"

13 
	~<š™Ÿliz”_li¡
>

15 
	~"‹¡/gmock.h
"

16 
	~"‹¡/g‹¡.h
"

18 
	gusšg
 ::
‹¡šg
::
Eq
;

20 
Çme¥aû
 
	g¹c
 {

22 
TEST
(
Sam¶eCouÁ”Te¡
, 
Proûs£sNoSam¶es
) {

23 
cÚ¡ex´
 
	gkMšSam¶es
 = 1;

24 
Sam¶eCouÁ”
 
	gcouÁ”
;

25 
EXPECT_THAT
(
couÁ”
.
Avg
(
kMšSam¶es
), 
Eq
(
ab¦
::
nuÎİt
));

26 
EXPECT_THAT
(
couÁ”
.
Max
(), 
Eq
(
ab¦
::
nuÎİt
));

29 
TEST
(
Sam¶eCouÁ”Te¡
, 
NÙEnoughSam¶es
) {

30 
cÚ¡ex´
 
	gkMšSam¶es
 = 6;

31 
Sam¶eCouÁ”
 
	gcouÁ”
;

32 
	gv®ue
 : {1, 2, 3, 4, 5}) {

33 
	gcouÁ”
.
Add
(
v®ue
);

35 
EXPECT_THAT
(
couÁ”
.
Avg
(
kMšSam¶es
), 
Eq
(
ab¦
::
nuÎİt
));

36 
EXPECT_THAT
(
couÁ”
.
Sum
(
kMšSam¶es
), 
Eq
(
ab¦
::
nuÎİt
));

37 
EXPECT_THAT
(
couÁ”
.
Max
(), 
Eq
(5));

40 
TEST
(
Sam¶eCouÁ”Te¡
, 
EnoughSam¶es
) {

41 
cÚ¡ex´
 
	gkMšSam¶es
 = 5;

42 
Sam¶eCouÁ”
 
	gcouÁ”
;

43 
	gv®ue
 : {1, 2, 3, 4, 5}) {

44 
	gcouÁ”
.
Add
(
v®ue
);

46 
EXPECT_THAT
(
couÁ”
.
Avg
(
kMšSam¶es
), 
Eq
(3));

47 
EXPECT_THAT
(
couÁ”
.
Sum
(
kMšSam¶es
), 
Eq
(15));

48 
EXPECT_THAT
(
couÁ”
.
Max
(), 
Eq
(5));

51 
TEST
(
Sam¶eCouÁ”Te¡
, 
Compu‹sV¬Ÿnû
) {

52 
cÚ¡ex´
 
	gkMšSam¶es
 = 5;

53 
Sam¶eCouÁ”W™hV¬Ÿnû
 
	gcouÁ”
;

54 
	gv®ue
 : {1, 2, 3, 4, 5}) {

55 
	gcouÁ”
.
Add
(
v®ue
);

57 
EXPECT_THAT
(
couÁ”
.
V¬Ÿnû
(
kMšSam¶es
), 
Eq
(2));

60 
TEST
(
Sam¶eCouÁ”Te¡
, 
Agg»g©esTwoCouÁ”s
) {

61 
cÚ¡ex´
 
	gkMšSam¶es
 = 5;

62 
Sam¶eCouÁ”W™hV¬Ÿnû
 
	gcouÁ”1
;

63 
	gv®ue
 : {1, 2, 3}) {

64 
	gcouÁ”1
.
Add
(
v®ue
);

66 
Sam¶eCouÁ”W™hV¬Ÿnû
 
	gcouÁ”2
;

67 
	gv®ue
 : {4, 5}) {

68 
	gcouÁ”2
.
Add
(
v®ue
);

71 
EXPECT_THAT
(
couÁ”1
.
Avg
(
kMšSam¶es
), 
Eq
(
ab¦
::
nuÎİt
));

72 
EXPECT_THAT
(
couÁ”1
.
V¬Ÿnû
(
kMšSam¶es
), 
Eq
(
ab¦
::
nuÎİt
));

74 
	gcouÁ”1
.
Add
(
couÁ”2
);

75 
EXPECT_THAT
(
couÁ”1
.
Avg
(
kMšSam¶es
), 
Eq
(3));

76 
EXPECT_THAT
(
couÁ”1
.
Max
(), 
Eq
(5));

77 
EXPECT_THAT
(
couÁ”1
.
V¬Ÿnû
(
kMšSam¶es
), 
Eq
(2));

	@numerics/sample_stats.cc

10 
	~"¹c_ba£/num”ics/§m¶e_¡©s.h
"

12 
Çme¥aû
 
	gweb¹c
 {

14 
	gSam¶eSts
<>::
Max
() {

15 ià(
IsEm±y
())

16  
INFINITY
;

17  
G‘Max
();

20 
	gSam¶eSts
<>::
M—n
() {

21 ià(
IsEm±y
())

23  
G‘Av”age
();

26 
	gSam¶eSts
<>::
MedŸn
() {

27  
Quªte
(0.5);

30 
	gSam¶eSts
<>::
Quªte
(
quªte
) {

31 ià(
IsEm±y
())

33  
G‘P”ûÁe
(
quªte
);

36 
	gSam¶eSts
<>::
Mš
() {

37 ià(
IsEm±y
())

38  -
INFINITY
;

39  
G‘Mš
();

42 
	gSam¶eSts
<>::
V¬Ÿnû
() {

43 ià(
IsEm±y
())

45  
G‘V¬Ÿnû
();

48 
	gSam¶eSts
<>::
Snd¬dDevŸtiÚ
() {

49  
sq¹
(
V¬Ÿnû
());

52 
	gSam¶eSts
<>::
CouÁ
() {

53  
¡©ic_ÿ¡
<>(
G‘Sam¶es
().
size
());

56 
	gSam¶eSts
<
	gTimeD–
>::
AddSam¶e
(
TimeD–
 
d–
) {

57 
RTC_DCHECK
(
d–
.
IsFš™e
());

58 
	g¡©s_
.
AddSam¶e
(
d–
.
£cÚds
<>());

61 
	gSam¶eSts
<
	gTimeD–
>::
AddSam¶eMs
(
d–_ms
) {

62 
AddSam¶e
(
TimeD–
::
Mlis
(
d–_ms
));

64 
	gSam¶eSts
<
	gTimeD–
>::
AddSam¶es
(cÚ¡ 
Sam¶eSts
<
TimeD–
>& 
Ùh”
) {

65 
¡©s_
.
AddSam¶es
(
Ùh”
.stats_);

68 
boŞ
 
	gSam¶eSts
<
	gTimeD–
>::
IsEm±y
() {

69  
¡©s_
.
IsEm±y
();

72 
TimeD–
 
	gSam¶eSts
<
	gTimeD–
>::
Max
() {

73  
TimeD–
::
SecÚds
(
¡©s_
.
Max
());

76 
TimeD–
 
	gSam¶eSts
<
	gTimeD–
>::
M—n
() {

77  
TimeD–
::
SecÚds
(
¡©s_
.
M—n
());

80 
TimeD–
 
	gSam¶eSts
<
	gTimeD–
>::
MedŸn
() {

81  
Quªte
(0.5);

84 
TimeD–
 
	gSam¶eSts
<
	gTimeD–
>::
Quªte
(
quªte
) {

85  
TimeD–
::
SecÚds
(
¡©s_
.
Quªte
(
quªte
));

88 
TimeD–
 
	gSam¶eSts
<
	gTimeD–
>::
Mš
() {

89  
TimeD–
::
SecÚds
(
¡©s_
.
Mš
());

92 
TimeD–
 
	gSam¶eSts
<
	gTimeD–
>::
V¬Ÿnû
() {

93  
TimeD–
::
SecÚds
(
¡©s_
.
V¬Ÿnû
());

96 
TimeD–
 
	gSam¶eSts
<
	gTimeD–
>::
Snd¬dDevŸtiÚ
() {

97  
TimeD–
::
SecÚds
(
¡©s_
.
Snd¬dDevŸtiÚ
());

100 
	gSam¶eSts
<
	gTimeD–
>::
CouÁ
() {

101  
¡©s_
.
CouÁ
();

104 
	gSam¶eSts
<
	gD©aR©e
>::
AddSam¶e
(
D©aR©e
 
§m¶e
) {

105 
¡©s_
.
AddSam¶e
(
§m¶e
.
bps
<>());

108 
	gSam¶eSts
<
	gD©aR©e
>::
AddSam¶eBps
(
¿‹_bps
) {

109 
¡©s_
.
AddSam¶e
(
¿‹_bps
);

112 
	gSam¶eSts
<
	gD©aR©e
>::
AddSam¶es
(cÚ¡ 
Sam¶eSts
<
D©aR©e
>& 
Ùh”
) {

113 
¡©s_
.
AddSam¶es
(
Ùh”
.stats_);

116 
boŞ
 
	gSam¶eSts
<
	gD©aR©e
>::
IsEm±y
() {

117  
¡©s_
.
IsEm±y
();

120 
D©aR©e
 
	gSam¶eSts
<
	gD©aR©e
>::
Max
() {

121  
D©aR©e
::
B™sP”Sec
(
¡©s_
.
Max
());

124 
D©aR©e
 
	gSam¶eSts
<
	gD©aR©e
>::
M—n
() {

125  
D©aR©e
::
B™sP”Sec
(
¡©s_
.
M—n
());

128 
D©aR©e
 
	gSam¶eSts
<
	gD©aR©e
>::
MedŸn
() {

129  
Quªte
(0.5);

132 
D©aR©e
 
	gSam¶eSts
<
	gD©aR©e
>::
Quªte
(
quªte
) {

133  
D©aR©e
::
B™sP”Sec
(
¡©s_
.
Quªte
(
quªte
));

136 
D©aR©e
 
	gSam¶eSts
<
	gD©aR©e
>::
Mš
() {

137  
D©aR©e
::
B™sP”Sec
(
¡©s_
.
Mš
());

140 
D©aR©e
 
	gSam¶eSts
<
	gD©aR©e
>::
V¬Ÿnû
() {

141  
D©aR©e
::
B™sP”Sec
(
¡©s_
.
V¬Ÿnû
());

144 
D©aR©e
 
	gSam¶eSts
<
	gD©aR©e
>::
Snd¬dDevŸtiÚ
() {

145  
D©aR©e
::
B™sP”Sec
(
¡©s_
.
Snd¬dDevŸtiÚ
());

148 
	gSam¶eSts
<
	gD©aR©e
>::
CouÁ
() {

149  
¡©s_
.
CouÁ
();

	@numerics/sample_stats.h

10 #iâdeà
RTC_BASE_NUMERICS_SAMPLE_STATS_H_


11 
	#RTC_BASE_NUMERICS_SAMPLE_STATS_H_


	)

13 
	~"­i/un™s/d©a_¿‹.h
"

14 
	~"­i/un™s/time_d–.h
"

15 
	~"­i/un™s/time¡amp.h
"

16 
	~"¹c_ba£/num”ics/§m¶es_¡©s_couÁ”.h
"

18 
Çme¥aû
 
	gweb¹c
 {

19 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

20 
şass
 
	gSam¶eSts
;

23 
	g‹m¶©e
 <>

24 
şass
 
	gSam¶eSts
<> : 
public
 
Sam¶esStsCouÁ”
 {

25 
public
:

26 
Max
();

27 
M—n
();

28 
MedŸn
();

29 
Quªte
(
quªte
);

30 
Mš
();

31 
V¬Ÿnû
();

32 
Snd¬dDevŸtiÚ
();

33 
CouÁ
();

36 
	g‹m¶©e
 <>

37 
şass
 
	gSam¶eSts
<
	gTimeD–
> {

38 
	gpublic
:

39 
AddSam¶e
(
TimeD–
 
d–
);

40 
AddSam¶eMs
(
d–_ms
);

41 
AddSam¶es
(cÚ¡ 
Sam¶eSts
<
TimeD–
>& 
Ùh”
);

42 
boŞ
 
IsEm±y
();

43 
TimeD–
 
Max
();

44 
TimeD–
 
M—n
();

45 
TimeD–
 
MedŸn
();

46 
TimeD–
 
Quªte
(
quªte
);

47 
TimeD–
 
Mš
();

48 
TimeD–
 
V¬Ÿnû
();

49 
TimeD–
 
Snd¬dDevŸtiÚ
();

50 
CouÁ
();

52 
	g´iv©e
:

53 
Sam¶eSts
<> 
¡©s_
;

56 
	g‹m¶©e
 <>

57 
şass
 
	gSam¶eSts
<
	gD©aR©e
> {

58 
	gpublic
:

59 
AddSam¶e
(
D©aR©e
 
¿‹
);

60 
AddSam¶eBps
(
¿‹_bps
);

61 
AddSam¶es
(cÚ¡ 
Sam¶eSts
<
D©aR©e
>& 
Ùh”
);

62 
boŞ
 
IsEm±y
();

63 
D©aR©e
 
Max
();

64 
D©aR©e
 
M—n
();

65 
D©aR©e
 
MedŸn
();

66 
D©aR©e
 
Quªte
(
quªte
);

67 
D©aR©e
 
Mš
();

68 
D©aR©e
 
V¬Ÿnû
();

69 
D©aR©e
 
Snd¬dDevŸtiÚ
();

70 
CouÁ
();

72 
	g´iv©e
:

73 
Sam¶eSts
<> 
¡©s_
;

	@numerics/samples_stats_counter.cc

11 
	~"¹c_ba£/num”ics/§m¶es_¡©s_couÁ”.h
"

13 
	~<cm©h
>

15 
	~"ab¦/®gÜ™hm/cÚš”.h
"

16 
	~"¹c_ba£/time_uts.h
"

18 
Çme¥aû
 
	gweb¹c
 {

20 
	gSam¶esStsCouÁ”
::
Sam¶esStsCouÁ”
() = ;

21 
	gSam¶esStsCouÁ”
::~
Sam¶esStsCouÁ”
() = ;

22 
	gSam¶esStsCouÁ”
::
Sam¶esStsCouÁ”
(const SamplesStatsCounter&) = ;

23 
	gSam¶esStsCouÁ”
& Sam¶esStsCouÁ”::
İ”©Ü
=(

24 cÚ¡ 
Sam¶esStsCouÁ”
&) = ;

25 
	gSam¶esStsCouÁ”
::
Sam¶esStsCouÁ”
(SamplesStatsCounter&&) = ;

26 
	gSam¶esStsCouÁ”
& Sam¶esStsCouÁ”::
İ”©Ü
=(
Sam¶esStsCouÁ”
&&) =

29 
	gSam¶esStsCouÁ”
::
AddSam¶e
(
v®ue
) {

30 
AddSam¶e
(
StsSam¶e
{
v®ue
, 
Time¡amp
::
Miüos
(
¹c
::
TimeMiüos
())});

33 
	gSam¶esStsCouÁ”
::
AddSam¶e
(
StsSam¶e
 
§m¶e
) {

34 
¡©s_
.
AddSam¶e
(
§m¶e
.
v®ue
);

35 
	g§m¶es_
.
push_back
(
§m¶e
);

36 
	gsÜ‹d_
 = 
çl£
;

39 
	gSam¶esStsCouÁ”
::
AddSam¶es
(cÚ¡ 
Sam¶esStsCouÁ”
& 
Ùh”
) {

40 
¡©s_
.
M”geSti¡ics
(
Ùh”
.stats_);

41 
	g§m¶es_
.
š£¹
(
§m¶es_
.
’d
(), 
Ùh”
.§m¶es_.
begš
(), other.samples_.end());

42 
	gsÜ‹d_
 = 
çl£
;

45 
	gSam¶esStsCouÁ”
::
G‘P”ûÁe
(
³rûÁe
) {

46 
RTC_DCHECK
(!
IsEm±y
());

47 
RTC_CHECK_GE
(
³rûÁe
, 0);

48 
RTC_CHECK_LE
(
³rûÁe
, 1);

49 ià(!
	gsÜ‹d_
) {

50 
	gab¦
::
c_sÜt
(
§m¶es_
, [](cÚ¡ 
StsSam¶e
& 
a
, cÚ¡ StsSam¶e& 
b
) {

51  
a
.
v®ue
 < 
b
.value;

53 
	gsÜ‹d_
 = 
Œue
;

55 cÚ¡ 
	g¿w_¿nk
 = 
³rûÁe
 * (
§m¶es_
.
size
() - 1);

56 
	gšt_·¹
;

57 
	gäaù_·¹
 = 
¡d
::
modf
(
¿w_¿nk
, &
št_·¹
);

58 
size_t
 
	g¿nk
 = 
¡©ic_ÿ¡
<size_t>(
št_·¹
);

59 ià(
	gäaù_·¹
 >= 1.0) {

61 
¿nk
++;

62 
	gäaù_·¹
 -= 1.0;

65 
RTC_DCHECK_GE
(
¿nk
, 0);

66 
RTC_DCHECK_LT
(
¿nk
, 
§m¶es_
.
size
());

67 
RTC_DCHECK_GE
(
äaù_·¹
, 0);

68 
RTC_DCHECK_LT
(
äaù_·¹
, 1);

69 
RTC_DCHECK
(
¿nk
 + 
äaù_·¹
 =ğ
¿w_¿nk
);

71 cÚ¡ 
	glow
 = 
§m¶es_
[
¿nk
].
v®ue
;

72 cÚ¡ 
	ghigh
 = 
§m¶es_
[
¡d
::
mš
(
¿nk
 + 1, sam¶es_.
size
(è- 1)].
	gv®ue
;

73  
	glow
 + 
	gäaù_·¹
 * (
	ghigh
 -†ow);

76 
Sam¶esStsCouÁ”
 
	gİ”©Ü
*(cÚ¡ 
	gSam¶esStsCouÁ”
& 
	gcouÁ”
,

77 
	gv®ue
) {

78 
Sam¶esStsCouÁ”
 
	gout
;

79 cÚ¡‡uto& 
	g§m¶e
 : 
couÁ”
.
G‘TimedSam¶es
()) {

80 
out
.
AddSam¶e
(

81 
Sam¶esStsCouÁ”
::
StsSam¶e
{
§m¶e
.
v®ue
 * v®ue, sam¶e.
time
});

83  
	gout
;

86 
Sam¶esStsCouÁ”
 
	gİ”©Ü
/(cÚ¡ 
	gSam¶esStsCouÁ”
& 
	gcouÁ”
,

87 
	gv®ue
) {

88 
Sam¶esStsCouÁ”
 
	gout
;

89 cÚ¡‡uto& 
	g§m¶e
 : 
couÁ”
.
G‘TimedSam¶es
()) {

90 
out
.
AddSam¶e
(

91 
Sam¶esStsCouÁ”
::
StsSam¶e
{
§m¶e
.
v®ue
 / v®ue, sam¶e.
time
});

93  
	gout
;

	@numerics/samples_stats_counter.h

11 #iâdeà
RTC_BASE_NUMERICS_SAMPLES_STATS_COUNTER_H_


12 
	#RTC_BASE_NUMERICS_SAMPLES_STATS_COUNTER_H_


	)

14 
	~<veùÜ
>

16 
	~"­i/¬¿y_v›w.h
"

17 
	~"­i/un™s/time¡amp.h
"

18 
	~"¹c_ba£/checks.h
"

19 
	~"¹c_ba£/num”ics/ruÂšg_¡©i¡ics.h
"

21 
Çme¥aû
 
	gweb¹c
 {

25 şas 
	cSam¶esStsCouÁ”
 {

26 
	gpublic
:

27 
	sStsSam¶e
 {

28 
v®ue
;

29 
Time¡amp
 
	gtime
;

32 
Sam¶esStsCouÁ”
();

33 ~
Sam¶esStsCouÁ”
();

34 
Sam¶esStsCouÁ”
(const SamplesStatsCounter&);

35 
	gSam¶esStsCouÁ”
& 
	gİ”©Ü
=(cÚ¡ 
Sam¶esStsCouÁ”
&);

36 
Sam¶esStsCouÁ”
(SamplesStatsCounter&&);

37 
	gSam¶esStsCouÁ”
& 
	gİ”©Ü
=(
Sam¶esStsCouÁ”
&&);

40 
AddSam¶e
(
v®ue
);

41 
AddSam¶e
(
StsSam¶e
 
§m¶e
);

44 
AddSam¶es
(cÚ¡ 
Sam¶esStsCouÁ”
& 
Ùh”
);

47 
boŞ
 
IsEm±y
(ècÚ¡ {  
	g§m¶es_
.
em±y
(); }

51 
G‘Mš
() const {

52 
RTC_DCHECK
(!
IsEm±y
());

53  *
	g¡©s_
.
G‘Mš
();

57 
G‘Max
() const {

58 
RTC_DCHECK
(!
IsEm±y
());

59  *
	g¡©s_
.
G‘Max
();

63 
G‘Av”age
() const {

64 
RTC_DCHECK
(!
IsEm±y
());

65  *
	g¡©s_
.
G‘M—n
();

69 
G‘V¬Ÿnû
() const {

70 
RTC_DCHECK
(!
IsEm±y
());

71  *
	g¡©s_
.
G‘V¬Ÿnû
();

75 
G‘Snd¬dDevŸtiÚ
() const {

76 
RTC_DCHECK
(!
IsEm±y
());

77  *
	g¡©s_
.
G‘Snd¬dDevŸtiÚ
();

85 
G‘P”ûÁe
(
³rûÁe
);

90 
	g¹c
::
A¼ayV›w
<cÚ¡ 
StsSam¶e
> 
G‘TimedSam¶es
(ècÚ¡ {  
§m¶es_
; }

91 
	g¡d
::
veùÜ
<> 
G‘Sam¶es
() const {

92 
¡d
::
veùÜ
<> 
out
;

93 
	gout
.
»£rve
(
§m¶es_
.
size
());

94 cÚ¡‡uto& 
	g§m¶e
 : 
§m¶es_
) {

95 
out
.
push_back
(
§m¶e
.
v®ue
);

97  
	gout
;

100 
	g´iv©e
:

101 
RuÂšgSti¡ics
<> 
¡©s_
;

102 
	g¡d
::
veùÜ
<
StsSam¶e
> 
§m¶es_
;

103 
boŞ
 
	gsÜ‹d_
 = 
çl£
;

108 
Sam¶esStsCouÁ”
 
	gİ”©Ü
*(cÚ¡ 
	gSam¶esStsCouÁ”
& 
	gcouÁ”
, 
	gv®ue
);

109 
šlše
 
Sam¶esStsCouÁ”
 
	gİ”©Ü
*(
	gv®ue
,

110 cÚ¡ 
	gSam¶esStsCouÁ”
& 
	gcouÁ”
) {

111  
couÁ”
 * 
	gv®ue
;

115 
Sam¶esStsCouÁ”
 
	gİ”©Ü
/(cÚ¡ 
	gSam¶esStsCouÁ”
& 
	gcouÁ”
, 
	gv®ue
);

	@numerics/samples_stats_counter_unittest.cc

11 
	~"¹c_ba£/num”ics/§m¶es_¡©s_couÁ”.h
"

13 
	~<m©h.h
>

15 
	~<¿ndom
>

16 
	~<veùÜ
>

18 
	~"ab¦/®gÜ™hm/cÚš”.h
"

19 
	~"‹¡/g‹¡.h
"

21 
Çme¥aû
 
	gweb¹c
 {

22 
	gÇme¥aû
 {

24 
Sam¶esStsCouÁ”
 
C»©eStsFËdW™hIÁsFrom1ToN
(
n
) {

25 
	g¡d
::
veùÜ
<> 
d©a
;

26 
	gi
 = 1; i <ğ
n
; i++) {

27 
	gd©a
.
push_back
(
i
);

29 
	gab¦
::
c_shufæe
(
d©a
, 
¡d
::
mt19937
(¡d::
¿ndom_deviû
()()));

31 
Sam¶esStsCouÁ”
 
	g¡©s
;

32 
	gv
 : 
d©a
) {

33 
¡©s
.
AddSam¶e
(
v
);

35  
	g¡©s
;

39 
Sam¶esStsCouÁ”
 
C»©eStsFromUnifÜmDi¡ributiÚ
(
n
,

40 
a
,

41 
b
) {

42 
	g¡d
::
mt19937
 
g’
{
¡d
::
¿ndom_deviû
()()};

43 
	g¡d
::
unifÜm_»®_di¡ributiÚ
<> 
dis
(
a
, 
b
);

45 
Sam¶esStsCouÁ”
 
	g¡©s
;

46 
	gi
 = 1; i <ğ
n
; i++) {

47 
	g¡©s
.
AddSam¶e
(
dis
(
g’
));

49  
	g¡©s
;

52 
şass
 
	gSam¶esStsCouÁ”Te¡
 : 
public
 ::
‹¡šg
::
Te¡W™hP¬am
<> {};

54 
cÚ¡ex´
 
	gSIZE_FOR_MERGE
 = 10;

58 
TEST
(
Sam¶esStsCouÁ”Te¡
, 
FuÎSim¶eTe¡
) {

59 
Sam¶esStsCouÁ”
 
	g¡©s
 = 
C»©eStsFËdW™hIÁsFrom1ToN
(100);

61 
EXPECT_TRUE
(!
¡©s
.
IsEm±y
());

62 
EXPECT_DOUBLE_EQ
(
¡©s
.
G‘Mš
(), 1.0);

63 
EXPECT_DOUBLE_EQ
(
¡©s
.
G‘Max
(), 100.0);

64 
EXPECT_NEAR
(
¡©s
.
G‘Av”age
(), 50.5, 1e-6);

65 
	gi
 = 1; i <= 100; i++) {

66 
	gp
 = 
i
 / 100.0;

67 
EXPECT_GE
(
¡©s
.
G‘P”ûÁe
(
p
), 
i
);

68 
EXPECT_LT
(
¡©s
.
G‘P”ûÁe
(
p
), 
i
 + 1);

72 
TEST
(
Sam¶esStsCouÁ”Te¡
, 
V¬ŸnûAndDevŸtiÚ
) {

73 
Sam¶esStsCouÁ”
 
	g¡©s
;

74 
	g¡©s
.
AddSam¶e
(2);

75 
	g¡©s
.
AddSam¶e
(2);

76 
	g¡©s
.
AddSam¶e
(-1);

77 
	g¡©s
.
AddSam¶e
(5);

79 
EXPECT_DOUBLE_EQ
(
¡©s
.
G‘Av”age
(), 2.0);

80 
EXPECT_DOUBLE_EQ
(
¡©s
.
G‘V¬Ÿnû
(), 4.5);

81 
EXPECT_DOUBLE_EQ
(
¡©s
.
G‘Snd¬dDevŸtiÚ
(), 
sq¹
(4.5));

84 
TEST
(
Sam¶esStsCouÁ”Te¡
, 
F¿ùiÚP”ûÁe
) {

85 
Sam¶esStsCouÁ”
 
	g¡©s
 = 
C»©eStsFËdW™hIÁsFrom1ToN
(5);

87 
EXPECT_DOUBLE_EQ
(
¡©s
.
G‘P”ûÁe
(0.5), 3);

90 
TEST
(
Sam¶esStsCouÁ”Te¡
, 
Te¡BÜd”V®ues
) {

91 
Sam¶esStsCouÁ”
 
	g¡©s
 = 
C»©eStsFËdW™hIÁsFrom1ToN
(5);

93 
EXPECT_GE
(
¡©s
.
G‘P”ûÁe
(0.01), 1);

94 
EXPECT_LT
(
¡©s
.
G‘P”ûÁe
(0.01), 2);

95 
EXPECT_DOUBLE_EQ
(
¡©s
.
G‘P”ûÁe
(1.0), 5);

98 
TEST
(
Sam¶esStsCouÁ”Te¡
, 
V¬ŸnûFromUnifÜmDi¡ributiÚ
) {

101 
Sam¶esStsCouÁ”
 
	g¡©s
 = 
C»©eStsFromUnifÜmDi¡ributiÚ
(1e6, 0, 1);

103 
EXPECT_NEAR
(
¡©s
.
G‘V¬Ÿnû
(), 1. / 12, 1e-3);

106 
TEST
(
Sam¶esStsCouÁ”Te¡
, 
Num”icSb™yFÜV¬Ÿnû
) {

113 
Sam¶esStsCouÁ”
 
	g¡©s
 =

114 
C»©eStsFromUnifÜmDi¡ributiÚ
(1e6, 1e9, 1e9 + 1);

116 
EXPECT_NEAR
(
¡©s
.
G‘V¬Ÿnû
(), 1. / 12, 1e-3);

119 
TEST_P
(
Sam¶esStsCouÁ”Te¡
, 
AddSam¶es
) {

120 
	gd©a
[
SIZE_FOR_MERGE
] = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9};

129 
Sam¶esStsCouÁ”
 
	g¡©s0
, 
	g¡©s1
;

130 
	gi
 = 0; i < 
G‘P¬am
(); ++i) {

131 
	g¡©s0
.
AddSam¶e
(
d©a
[
i
]);

133 
	gi
 = 
G‘P¬am
(); i < 
	gSIZE_FOR_MERGE
; ++i) {

134 
	g¡©s1
.
AddSam¶e
(
d©a
[
i
]);

136 
	g¡©s0
.
AddSam¶es
(
¡©s1
);

138 
EXPECT_EQ
(
¡©s0
.
G‘Mš
(), 0);

139 
EXPECT_EQ
(
¡©s0
.
G‘Max
(), 9);

140 
EXPECT_DOUBLE_EQ
(
¡©s0
.
G‘Av”age
(), 4.5);

141 
EXPECT_DOUBLE_EQ
(
¡©s0
.
G‘V¬Ÿnû
(), 8.25);

142 
EXPECT_DOUBLE_EQ
(
¡©s0
.
G‘Snd¬dDevŸtiÚ
(), 
sq¹
(8.25));

143 
EXPECT_DOUBLE_EQ
(
¡©s0
.
G‘P”ûÁe
(0.1), 0.9);

144 
EXPECT_DOUBLE_EQ
(
¡©s0
.
G‘P”ûÁe
(0.5), 4.5);

145 
EXPECT_DOUBLE_EQ
(
¡©s0
.
G‘P”ûÁe
(0.9), 8.1);

148 
TEST
(
Sam¶esStsCouÁ”Te¡
, 
MuÉlyRight
) {

149 
Sam¶esStsCouÁ”
 
	g¡©s
 = 
C»©eStsFËdW™hIÁsFrom1ToN
(10);

151 
EXPECT_TRUE
(!
¡©s
.
IsEm±y
());

152 
EXPECT_DOUBLE_EQ
(
¡©s
.
G‘Mš
(), 1.0);

153 
EXPECT_DOUBLE_EQ
(
¡©s
.
G‘Max
(), 10.0);

154 
EXPECT_DOUBLE_EQ
(
¡©s
.
G‘Av”age
(), 5.5);

156 
Sam¶esStsCouÁ”
 
	gmuÉl›d_¡©s
 = 
¡©s
 * 10;

157 
EXPECT_TRUE
(!
muÉl›d_¡©s
.
IsEm±y
());

158 
EXPECT_DOUBLE_EQ
(
muÉl›d_¡©s
.
G‘Mš
(), 10.0);

159 
EXPECT_DOUBLE_EQ
(
muÉl›d_¡©s
.
G‘Max
(), 100.0);

160 
EXPECT_DOUBLE_EQ
(
muÉl›d_¡©s
.
G‘Av”age
(), 55.0);

161 
EXPECT_EQ
(
muÉl›d_¡©s
.
G‘Sam¶es
().
size
(), 
¡©s
.GetSamples().size());

164 
EXPECT_TRUE
(!
¡©s
.
IsEm±y
());

165 
EXPECT_DOUBLE_EQ
(
¡©s
.
G‘Mš
(), 1.0);

166 
EXPECT_DOUBLE_EQ
(
¡©s
.
G‘Max
(), 10.0);

167 
EXPECT_DOUBLE_EQ
(
¡©s
.
G‘Av”age
(), 5.5);

170 
TEST
(
Sam¶esStsCouÁ”Te¡
, 
MuÉlyLeá
) {

171 
Sam¶esStsCouÁ”
 
	g¡©s
 = 
C»©eStsFËdW™hIÁsFrom1ToN
(10);

173 
EXPECT_TRUE
(!
¡©s
.
IsEm±y
());

174 
EXPECT_DOUBLE_EQ
(
¡©s
.
G‘Mš
(), 1.0);

175 
EXPECT_DOUBLE_EQ
(
¡©s
.
G‘Max
(), 10.0);

176 
EXPECT_DOUBLE_EQ
(
¡©s
.
G‘Av”age
(), 5.5);

178 
Sam¶esStsCouÁ”
 
	gmuÉl›d_¡©s
 = 10 * 
¡©s
;

179 
EXPECT_TRUE
(!
muÉl›d_¡©s
.
IsEm±y
());

180 
EXPECT_DOUBLE_EQ
(
muÉl›d_¡©s
.
G‘Mš
(), 10.0);

181 
EXPECT_DOUBLE_EQ
(
muÉl›d_¡©s
.
G‘Max
(), 100.0);

182 
EXPECT_DOUBLE_EQ
(
muÉl›d_¡©s
.
G‘Av”age
(), 55.0);

183 
EXPECT_EQ
(
muÉl›d_¡©s
.
G‘Sam¶es
().
size
(), 
¡©s
.GetSamples().size());

186 
EXPECT_TRUE
(!
¡©s
.
IsEm±y
());

187 
EXPECT_DOUBLE_EQ
(
¡©s
.
G‘Mš
(), 1.0);

188 
EXPECT_DOUBLE_EQ
(
¡©s
.
G‘Max
(), 10.0);

189 
EXPECT_DOUBLE_EQ
(
¡©s
.
G‘Av”age
(), 5.5);

192 
TEST
(
Sam¶esStsCouÁ”Te¡
, 
Divide
) {

193 
Sam¶esStsCouÁ”
 
	g¡©s
;

194 
	gi
 = 1; i <= 10; i++) {

195 
	g¡©s
.
AddSam¶e
(
i
 * 10);

198 
EXPECT_TRUE
(!
¡©s
.
IsEm±y
());

199 
EXPECT_DOUBLE_EQ
(
¡©s
.
G‘Mš
(), 10.0);

200 
EXPECT_DOUBLE_EQ
(
¡©s
.
G‘Max
(), 100.0);

201 
EXPECT_DOUBLE_EQ
(
¡©s
.
G‘Av”age
(), 55.0);

203 
Sam¶esStsCouÁ”
 
	gdivided_¡©s
 = 
¡©s
 / 10;

204 
EXPECT_TRUE
(!
divided_¡©s
.
IsEm±y
());

205 
EXPECT_DOUBLE_EQ
(
divided_¡©s
.
G‘Mš
(), 1.0);

206 
EXPECT_DOUBLE_EQ
(
divided_¡©s
.
G‘Max
(), 10.0);

207 
EXPECT_DOUBLE_EQ
(
divided_¡©s
.
G‘Av”age
(), 5.5);

208 
EXPECT_EQ
(
divided_¡©s
.
G‘Sam¶es
().
size
(), 
¡©s
.GetSamples().size());

211 
EXPECT_TRUE
(!
¡©s
.
IsEm±y
());

212 
EXPECT_DOUBLE_EQ
(
¡©s
.
G‘Mš
(), 10.0);

213 
EXPECT_DOUBLE_EQ
(
¡©s
.
G‘Max
(), 100.0);

214 
EXPECT_DOUBLE_EQ
(
¡©s
.
G‘Av”age
(), 55.0);

217 
INSTANTIATE_TEST_SUITE_P
(
Sam¶esStsCouÁ”Te¡s
,

218 
Sam¶esStsCouÁ”Te¡
,

219 ::
‹¡šg
::
Rªge
(0, 
SIZE_FOR_MERGE
 + 1));

	@numerics/sequence_number_util.h

11 #iâdeà
RTC_BASE_NUMERICS_SEQUENCE_NUMBER_UTIL_H_


12 
	#RTC_BASE_NUMERICS_SEQUENCE_NUMBER_UTIL_H_


	)

14 
	~<¡dšt.h
>

16 
	~<lim™s
>

17 
	~<ty³_Œa™s
>

19 
	~"ab¦/ty³s/İtiÚ®.h
"

20 
	~"¹c_ba£/checks.h
"

21 
	~"¹c_ba£/num”ics/mod_İs.h
"

23 
Çme¥aû
 
	gweb¹c
 {

30 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
T
 
	gM
>

31 
šlše
 
ty³Çme
 
	g¡d
::
’abË_if
<(
M
 > 0), 
	gboŞ
>::
ty³
 
Ah—dOrAt
(
T
 
a
, T 
b
) {

32 
¡©ic_as£¹
(
¡d
::
is_unsigÃd
<
T
>::
v®ue
,

34 cÚ¡ 
T
 
	gmaxDi¡
 = 
M
 / 2;

35 ià(!(
	gM
 & 1è&& 
	gMšDiff
<
	gT
, M>(
	ga
, 
	gb
è=ğ
maxDi¡
)

36  
b
 < 
a
;

37  
	gFÜw¬dDiff
<
	gT
, 
	gM
>(
	gb
, 
	ga
è<ğ
maxDi¡
;

40 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
T
 
	gM
>

41 
šlše
 
ty³Çme
 
	g¡d
::
’abË_if
<(
M
 =ğ0), 
	gboŞ
>::
ty³
 
Ah—dOrAt
(
T
 
a
, T 
b
) {

42 
¡©ic_as£¹
(
¡d
::
is_unsigÃd
<
T
>::
v®ue
,

44 cÚ¡ 
T
 
	gmaxDi¡
 = 
¡d
::
num”ic_lim™s
<T>::
max
() / 2 + T(1);

45 ià(
	ga
 - 
	gb
 =ğ
maxDi¡
)

46  
b
 < 
a
;

47  
FÜw¬dDiff
(
b
, 
a
è< 
	gmaxDi¡
;

50 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

51 
šlše
 
boŞ
 
Ah—dOrAt
(
T
 
a
, T 
b
) {

52  
	gAh—dOrAt
<
	gT
, 0>(
	ga
, 
	gb
);

60 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
T
 
	gM
 = 0>

61 
šlše
 
boŞ
 
Ah—dOf
(
T
 
a
, T 
b
) {

62 
¡©ic_as£¹
(
¡d
::
is_unsigÃd
<
T
>::
v®ue
,

64  
	ga
 !ğ
b
 && 
Ah—dOrAt
<
T
, 
	gM
>×, 
	gb
);

71 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
T
 
	gM
 = 0>

72 
	sAsûndšgSeqNumComp
 {

73 
boŞ
 
İ”©Ü
()(
T
 
a
, T 
b
ècÚ¡ {  
Ah—dOf
<T, 
M
>(a, b); }

80 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
T
 
	gM
 = 0>

81 
	sDesûndšgSeqNumComp
 {

82 
boŞ
 
İ”©Ü
()(
T
 
a
, T 
b
ècÚ¡ {  
Ah—dOf
<T, 
M
>(b,‡); }

87 
	g‹m¶©e
 <
ty³Çme
 
	gT
, 
T
 
	gM
 = 0>

88 şas 
	cSeqNumUnw¿µ”
 {

89 
¡©ic_as£¹
(

90 
¡d
::
is_unsigÃd
<
T
>::
v®ue
 &&

91 
¡d
::
num”ic_lim™s
<
T
>::
max
(è< std::num”ic_lim™s<
št64_t
>::max(),

94 
	gpublic
:

95 
št64_t
 
Unw¿p
(
T
 
v®ue
) {

96 ià(!
Ï¡_v®ue_
) {

97 
Ï¡_unw¿µed_
 = {
v®ue
};

99 
	gÏ¡_unw¿µed_
 +ğ
FÜw¬dDiff
<
T
, 
	gM
>(*
	gÏ¡_v®ue_
, 
	gv®ue
);

101 ià(!
	gAh—dOrAt
<
	gT
, 
	gM
>(
	gv®ue
, *
	gÏ¡_v®ue_
)) {

102 
cÚ¡ex´
 
št64_t
 
	gkBackw¬dAdju¡m’t
 =

103 
M
 =ğ0 ? 
št64_t
{
¡d
::
num”ic_lim™s
<
T
>::
max
()} + 1 : M;

104 
	gÏ¡_unw¿µed_
 -ğ
kBackw¬dAdju¡m’t
;

108 
	gÏ¡_v®ue_
 = 
v®ue
;

109  
	gÏ¡_unw¿µed_
;

112 
	g´iv©e
:

113 
št64_t
 
Ï¡_unw¿µed_
 = 0;

114 
	gab¦
::
İtiÚ®
<
T
> 
Ï¡_v®ue_
;

	@numerics/sequence_number_util_unittest.cc

11 
	~"¹c_ba£/num”ics/£qu’û_numb”_ut.h
"

13 
	~<c¡dšt
>

14 
	~<™”©Ü
>

15 
	~<£t
>

17 
	~"‹¡/g‹¡.h
"

19 
Çme¥aû
 
	gweb¹c
 {

20 şas 
	cTe¡SeqNumUt
 : 
public
 ::
‹¡šg
::
Te¡
 {

21 
´Ùeùed
:

24 cÚ¡ 
ulmax
 = ~0ul;

27 
	$TEST_F
(
Te¡SeqNumUt
, 
Ah—dOrAt
) {

28 
ušt8_t
 
x
 = 0;

29 
ušt8_t
 
y
 = 0;

30 
	`ASSERT_TRUE
(
	`Ah—dOrAt
(
x
, 
y
));

31 ++
x
;

32 
	`ASSERT_TRUE
(
	`Ah—dOrAt
(
x
, 
y
));

33 
	`ASSERT_FALSE
(
	`Ah—dOrAt
(
y
, 
x
));

34 
i
 = 0; i < 256; ++i) {

35 
	`ASSERT_TRUE
(
	`Ah—dOrAt
(
x
, 
y
));

36 ++
x
;

37 ++
y
;

40 
x
 = 128;

41 
y
 = 0;

42 
	`ASSERT_TRUE
(
	`Ah—dOrAt
(
x
, 
y
));

43 
	`ASSERT_FALSE
(
	`Ah—dOrAt
(
y
, 
x
));

45 
x
 = 129;

46 
	`ASSERT_FALSE
(
	`Ah—dOrAt
(
x
, 
y
));

47 
	`ASSERT_TRUE
(
	`Ah—dOrAt
(
y
, 
x
));

48 
	`ASSERT_TRUE
(
Ah—dOrAt
<
ušt16_t
>(
x
, 
y
));

49 
	`ASSERT_FALSE
(
Ah—dOrAt
<
ušt16_t
>(
y
, 
x
));

50 
	}
}

52 
	$TEST_F
(
Te¡SeqNumUt
, 
Ah—dOrAtW™hDivisÜ
) {

53 
	`ASSERT_TRUE
((
Ah—dOrAt
<
ušt8_t
, 11>(5, 0)));

54 
	`ASSERT_FALSE
((
Ah—dOrAt
<
ušt8_t
, 11>(6, 0)));

55 
	`ASSERT_FALSE
((
Ah—dOrAt
<
ušt8_t
, 11>(0, 5)));

56 
	`ASSERT_TRUE
((
Ah—dOrAt
<
ušt8_t
, 11>(0, 6)));

58 
	`ASSERT_TRUE
((
Ah—dOrAt
<
ušt8_t
, 10>(5, 0)));

59 
	`ASSERT_FALSE
((
Ah—dOrAt
<
ušt8_t
, 10>(6, 0)));

60 
	`ASSERT_FALSE
((
Ah—dOrAt
<
ušt8_t
, 10>(0, 5)));

61 
	`ASSERT_TRUE
((
Ah—dOrAt
<
ušt8_t
, 10>(0, 6)));

63 cÚ¡ 
ušt8_t
 
D
 = 211;

64 
ušt8_t
 
x
 = 0;

65 
i
 = 0; i < 
D
; ++i) {

66 
ušt8_t
 
Ãxt_x
 = 
Add
<
D
>(
x
, 1);

67 
	`ASSERT_TRUE
((
Ah—dOrAt
<
ušt8_t
, 
D
>(
i
, i)));

68 
	`ASSERT_TRUE
((
Ah—dOrAt
<
ušt8_t
, 
D
>(
Ãxt_x
, 
i
)));

69 
	`ASSERT_FALSE
((
Ah—dOrAt
<
ušt8_t
, 
D
>(
i
, 
Ãxt_x
)));

70 
x
 = 
Ãxt_x
;

72 
	}
}

74 
	$TEST_F
(
Te¡SeqNumUt
, 
Ah—dOf
) {

75 
ušt8_t
 
x
 = 0;

76 
ušt8_t
 
y
 = 0;

77 
	`ASSERT_FALSE
(
	`Ah—dOf
(
x
, 
y
));

78 ++
x
;

79 
	`ASSERT_TRUE
(
	`Ah—dOf
(
x
, 
y
));

80 
	`ASSERT_FALSE
(
	`Ah—dOf
(
y
, 
x
));

81 
i
 = 0; i < 256; ++i) {

82 
	`ASSERT_TRUE
(
	`Ah—dOf
(
x
, 
y
));

83 ++
x
;

84 ++
y
;

87 
x
 = 128;

88 
y
 = 0;

89 
i
 = 0; i < 128; ++i) {

90 
	`ASSERT_TRUE
(
	`Ah—dOf
(
x
, 
y
));

91 
	`ASSERT_FALSE
(
	`Ah—dOf
(
y
, 
x
));

92 
x
++;

93 
y
++;

96 
i
 = 0; i < 128; ++i) {

97 
	`ASSERT_FALSE
(
	`Ah—dOf
(
x
, 
y
));

98 
	`ASSERT_TRUE
(
	`Ah—dOf
(
y
, 
x
));

99 
x
++;

100 
y
++;

103 
x
 = 129;

104 
y
 = 0;

105 
	`ASSERT_FALSE
(
	`Ah—dOf
(
x
, 
y
));

106 
	`ASSERT_TRUE
(
	`Ah—dOf
(
y
, 
x
));

107 
	`ASSERT_TRUE
(
Ah—dOf
<
ušt16_t
>(
x
, 
y
));

108 
	`ASSERT_FALSE
(
Ah—dOf
<
ušt16_t
>(
y
, 
x
));

109 
	}
}

111 
	$TEST_F
(
Te¡SeqNumUt
, 
Ah—dOfW™hDivisÜ
) {

112 
	`ASSERT_TRUE
((
Ah—dOf
<
ušt8_t
, 11>(5, 0)));

113 
	`ASSERT_FALSE
((
Ah—dOf
<
ušt8_t
, 11>(6, 0)));

114 
	`ASSERT_FALSE
((
Ah—dOf
<
ušt8_t
, 11>(0, 5)));

115 
	`ASSERT_TRUE
((
Ah—dOf
<
ušt8_t
, 11>(0, 6)));

117 
	`ASSERT_TRUE
((
Ah—dOf
<
ušt8_t
, 10>(5, 0)));

118 
	`ASSERT_FALSE
((
Ah—dOf
<
ušt8_t
, 10>(6, 0)));

119 
	`ASSERT_FALSE
((
Ah—dOf
<
ušt8_t
, 10>(0, 5)));

120 
	`ASSERT_TRUE
((
Ah—dOf
<
ušt8_t
, 10>(0, 6)));

122 cÚ¡ 
ušt8_t
 
D
 = 211;

123 
ušt8_t
 
x
 = 0;

124 
i
 = 0; i < 
D
; ++i) {

125 
ušt8_t
 
Ãxt_x
 = 
Add
<
D
>(
x
, 1);

126 
	`ASSERT_FALSE
((
Ah—dOf
<
ušt8_t
, 
D
>(
i
, i)));

127 
	`ASSERT_TRUE
((
Ah—dOf
<
ušt8_t
, 
D
>(
Ãxt_x
, 
i
)));

128 
	`ASSERT_FALSE
((
Ah—dOf
<
ušt8_t
, 
D
>(
i
, 
Ãxt_x
)));

129 
x
 = 
Ãxt_x
;

131 
	}
}

133 
	$TEST_F
(
Te¡SeqNumUt
, 
FÜw¬dDiffW™hDivisÜ
) {

134 cÚ¡ 
ušt8_t
 
kDivisÜ
 = 211;

136 
ušt8_t
 
i
 = 0; i < 
kDivisÜ
 - 1; ++i) {

137 
	`ASSERT_EQ
(0, (
FÜw¬dDiff
<
ušt8_t
, 
kDivisÜ
>(
i
, i)));

138 
	`ASSERT_EQ
(1, (
FÜw¬dDiff
<
ušt8_t
, 
kDivisÜ
>(
i
, i + 1)));

139 
	`ASSERT_EQ
(
kDivisÜ
 - 1, (
FÜw¬dDiff
<
ušt8_t
, kDivisÜ>(
i
 + 1, i)));

142 
ušt8_t
 
i
 = 1; i < 
kDivisÜ
; ++i) {

143 
	`ASSERT_EQ
(
i
, (
FÜw¬dDiff
<
ušt8_t
, 
kDivisÜ
>(0, i)));

144 
	`ASSERT_EQ
(
kDivisÜ
 - 
i
, (
FÜw¬dDiff
<
ušt8_t
, kDivisor>(i, 0)));

146 
	}
}

148 
	$TEST_F
(
Te¡SeqNumUt
, 
Rev”£DiffW™hDivisÜ
) {

149 cÚ¡ 
ušt8_t
 
kDivisÜ
 = 241;

151 
ušt8_t
 
i
 = 0; i < 
kDivisÜ
 - 1; ++i) {

152 
	`ASSERT_EQ
(0, (
Rev”£Diff
<
ušt8_t
, 
kDivisÜ
>(
i
, i)));

153 
	`ASSERT_EQ
(
kDivisÜ
 - 1, (
Rev”£Diff
<
ušt8_t
, kDivisÜ>(
i
, i + 1)));

154 
	`ASSERT_EQ
(1, (
Rev”£Diff
<
ušt8_t
, 
kDivisÜ
>(
i
 + 1, i)));

157 
ušt8_t
 
i
 = 1; i < 
kDivisÜ
; ++i) {

158 
	`ASSERT_EQ
(
kDivisÜ
 - 
i
, (
Rev”£Diff
<
ušt8_t
, kDivisor>(0, i)));

159 
	`ASSERT_EQ
(
i
, (
Rev”£Diff
<
ušt8_t
, 
kDivisÜ
>(i, 0)));

161 
	}
}

163 
	$TEST_F
(
Te¡SeqNumUt
, 
SeqNumCom·¿tÜ
) {

164 
¡d
::
£t
<
ušt8_t
, 
AsûndšgSeqNumComp
<ušt8_t>> 
£q_nums_asc
;

165 
¡d
::
£t
<
ušt8_t
, 
DesûndšgSeqNumComp
<ušt8_t>> 
£q_nums_desc
;

167 
ušt8_t
 
x
 = 0;

168 
i
 = 0; i < 128; ++i) {

169 
£q_nums_asc
.
	`š£¹
(
x
);

170 
£q_nums_desc
.
	`š£¹
(
x
);

171 
	`ASSERT_EQ
(
x
, *
£q_nums_asc
.
	`begš
());

172 
	`ASSERT_EQ
(
x
, *
£q_nums_desc
.
	`rbegš
());

173 ++
x
;

176 
£q_nums_asc
.
	`ş—r
();

177 
£q_nums_desc
.
	`ş—r
();

178 
x
 = 199;

179 
i
 = 0; i < 128; ++i) {

180 
£q_nums_asc
.
	`š£¹
(
x
);

181 
£q_nums_desc
.
	`š£¹
(
x
);

182 
	`ASSERT_EQ
(
x
, *
£q_nums_asc
.
	`begš
());

183 
	`ASSERT_EQ
(
x
, *
£q_nums_desc
.
	`rbegš
());

184 ++
x
;

186 
	}
}

188 
	$TEST_F
(
Te¡SeqNumUt
, 
SeqNumCom·¿tÜW™hDivisÜ
) {

189 cÚ¡ 
ušt8_t
 
D
 = 223;

191 
¡d
::
£t
<
ušt8_t
, 
AsûndšgSeqNumComp
<ušt8_t, 
D
>> 
£q_nums_asc
;

192 
¡d
::
£t
<
ušt8_t
, 
DesûndšgSeqNumComp
<ušt8_t, 
D
>> 
£q_nums_desc
;

194 
ušt8_t
 
x
 = 0;

195 
i
 = 0; i < 
D
 / 2; ++i) {

196 
£q_nums_asc
.
	`š£¹
(
x
);

197 
£q_nums_desc
.
	`š£¹
(
x
);

198 
	`ASSERT_EQ
(
x
, *
£q_nums_asc
.
	`begš
());

199 
	`ASSERT_EQ
(
x
, *
£q_nums_desc
.
	`rbegš
());

200 
x
 = 
Add
<
D
>(x, 1);

203 
£q_nums_asc
.
	`ş—r
();

204 
£q_nums_desc
.
	`ş—r
();

205 
x
 = 200;

206 
i
 = 0; i < 
D
 / 2; ++i) {

207 
£q_nums_asc
.
	`š£¹
(
x
);

208 
£q_nums_desc
.
	`š£¹
(
x
);

209 
	`ASSERT_EQ
(
x
, *
£q_nums_asc
.
	`begš
());

210 
	`ASSERT_EQ
(
x
, *
£q_nums_desc
.
	`rbegš
());

211 
x
 = 
Add
<
D
>(x, 1);

213 
	}
}

215 
	$TEST
(
SeqNumUnw¿µ”
, 
P»£rveS¹V®ue
) {

216 
SeqNumUnw¿µ”
<
ušt8_t
> 
unw¿µ”
;

217 
	`EXPECT_EQ
(123, 
unw¿µ”
.
	`Unw¿p
(123));

218 
	}
}

220 
	$TEST
(
SeqNumUnw¿µ”
, 
FÜw¬dW¿p
) {

221 
SeqNumUnw¿µ”
<
ušt8_t
> 
unw¿µ”
;

222 
	`EXPECT_EQ
(255, 
unw¿µ”
.
	`Unw¿p
(255));

223 
	`EXPECT_EQ
(256, 
unw¿µ”
.
	`Unw¿p
(0));

224 
	}
}

226 
	$TEST
(
SeqNumUnw¿µ”
, 
FÜw¬dW¿pW™hDivisÜ
) {

227 
SeqNumUnw¿µ”
<
ušt8_t
, 33> 
unw¿µ”
;

228 
	`EXPECT_EQ
(30, 
unw¿µ”
.
	`Unw¿p
(30));

229 
	`EXPECT_EQ
(36, 
unw¿µ”
.
	`Unw¿p
(3));

230 
	}
}

232 
	$TEST
(
SeqNumUnw¿µ”
, 
BackW¬dW¿p
) {

233 
SeqNumUnw¿µ”
<
ušt8_t
> 
unw¿µ”
;

234 
	`EXPECT_EQ
(0, 
unw¿µ”
.
	`Unw¿p
(0));

235 
	`EXPECT_EQ
(-2, 
unw¿µ”
.
	`Unw¿p
(254));

236 
	}
}

238 
	$TEST
(
SeqNumUnw¿µ”
, 
BackW¬dW¿pW™hDivisÜ
) {

239 
SeqNumUnw¿µ”
<
ušt8_t
, 33> 
unw¿µ”
;

240 
	`EXPECT_EQ
(0, 
unw¿µ”
.
	`Unw¿p
(0));

241 
	`EXPECT_EQ
(-2, 
unw¿µ”
.
	`Unw¿p
(31));

242 
	}
}

244 
	$TEST
(
SeqNumUnw¿µ”
, 
Unw¿p
) {

245 
SeqNumUnw¿µ”
<
ušt16_t
> 
unw¿µ”
;

246 cÚ¡ 
ušt16_t
 
kMax
 = 
¡d
::
num”ic_lim™s
<ušt16_t>::
	`max
();

247 cÚ¡ 
ušt16_t
 
kMaxDi¡
 = 
kMax
 / 2 + 1;

249 
	`EXPECT_EQ
(0, 
unw¿µ”
.
	`Unw¿p
(0));

250 
	`EXPECT_EQ
(
kMaxDi¡
, 
unw¿µ”
.
	`Unw¿p
(kMaxDist));

251 
	`EXPECT_EQ
(0, 
unw¿µ”
.
	`Unw¿p
(0));

253 
	`EXPECT_EQ
(
kMaxDi¡
, 
unw¿µ”
.
	`Unw¿p
(kMaxDist));

254 
	`EXPECT_EQ
(
kMax
, 
unw¿µ”
.
	`Unw¿p
(kMax));

255 
	`EXPECT_EQ
(
kMax
 + 1, 
unw¿µ”
.
	`Unw¿p
(0));

256 
	`EXPECT_EQ
(
kMax
, 
unw¿µ”
.
	`Unw¿p
(kMax));

257 
	`EXPECT_EQ
(
kMaxDi¡
, 
unw¿µ”
.
	`Unw¿p
(kMaxDist));

258 
	`EXPECT_EQ
(0, 
unw¿µ”
.
	`Unw¿p
(0));

259 
	}
}

261 
	$TEST
(
SeqNumUnw¿µ”
, 
Unw¿pOddDivisÜ
) {

262 
SeqNumUnw¿µ”
<
ušt8_t
, 11> 
unw¿µ”
;

264 
	`EXPECT_EQ
(10, 
unw¿µ”
.
	`Unw¿p
(10));

265 
	`EXPECT_EQ
(11, 
unw¿µ”
.
	`Unw¿p
(0));

266 
	`EXPECT_EQ
(16, 
unw¿µ”
.
	`Unw¿p
(5));

267 
	`EXPECT_EQ
(21, 
unw¿µ”
.
	`Unw¿p
(10));

268 
	`EXPECT_EQ
(22, 
unw¿µ”
.
	`Unw¿p
(0));

269 
	`EXPECT_EQ
(17, 
unw¿µ”
.
	`Unw¿p
(6));

270 
	`EXPECT_EQ
(12, 
unw¿µ”
.
	`Unw¿p
(1));

271 
	`EXPECT_EQ
(7, 
unw¿µ”
.
	`Unw¿p
(7));

272 
	`EXPECT_EQ
(2, 
unw¿µ”
.
	`Unw¿p
(2));

273 
	`EXPECT_EQ
(0, 
unw¿µ”
.
	`Unw¿p
(0));

274 
	}
}

276 
	$TEST
(
SeqNumUnw¿µ”
, 
MªyFÜw¬dW¿ps
) {

277 cÚ¡ 
kL¬geNumb”
 = 4711;

278 cÚ¡ 
kMaxS‹p
 = 
kL¬geNumb”
 / 2;

279 cÚ¡ 
kNumW¿ps
 = 100;

280 
SeqNumUnw¿µ”
<
ušt16_t
, 
kL¬geNumb”
> 
unw¿µ”
;

282 
ušt16_t
 
Ãxt_unw¿p
 = 0;

283 
št64_t
 
ex³ùed
 = 0;

284 
i
 = 0; i < 
kNumW¿ps
 * 2 + 1; ++i) {

285 
	`EXPECT_EQ
(
ex³ùed
, 
unw¿µ”
.
	`Unw¿p
(
Ãxt_unw¿p
));

286 
ex³ùed
 +ğ
kMaxS‹p
;

287 
Ãxt_unw¿p
 = (Ãxt_unw¿°+ 
kMaxS‹p
è% 
kL¬geNumb”
;

289 
	}
}

291 
	$TEST
(
SeqNumUnw¿µ”
, 
MªyBackw¬dW¿ps
) {

292 cÚ¡ 
kL¬geNumb”
 = 4711;

293 cÚ¡ 
kMaxS‹p
 = 
kL¬geNumb”
 / 2;

294 cÚ¡ 
kNumW¿ps
 = 100;

295 
SeqNumUnw¿µ”
<
ušt16_t
, 
kL¬geNumb”
> 
unw¿µ”
;

297 
ušt16_t
 
Ãxt_unw¿p
 = 0;

298 
št64_t
 
ex³ùed
 = 0;

299 
ušt16_t
 
i
 = 0; i < 
kNumW¿ps
 * 2 + 1; ++i) {

300 
	`EXPECT_EQ
(
ex³ùed
, 
unw¿µ”
.
	`Unw¿p
(
Ãxt_unw¿p
));

301 
ex³ùed
 -ğ
kMaxS‹p
;

302 
Ãxt_unw¿p
 = (Ãxt_unw¿°+ 
kMaxS‹p
 + 1è% 
kL¬geNumb”
;

304 
	}
}

	@one_time_event.h

11 #iâdeà
RTC_BASE_ONE_TIME_EVENT_H_


12 
	#RTC_BASE_ONE_TIME_EVENT_H_


	)

14 
	~"¹c_ba£/ü™iÿl_£ùiÚ.h
"

16 
Çme¥aû
 
	gweb¹c
 {

25 şas 
	cOÃTimeEv’t
 {

26 
	gpublic
:

27 
OÃTimeEv’t
() {}

28 
boŞ
 
İ”©Ü
()() {

29 
¹c
::
Cr™Scİe
 
cs
(&
ü™£ù_
);

30 ià(
	gh­³Ãd_
) {

31  
	gçl£
;

33 
	gh­³Ãd_
 = 
Œue
;

34  
	gŒue
;

37 
	g´iv©e
:

38 
boŞ
 
h­³Ãd_
 = 
çl£
;

39 
	g¹c
::
Cr™iÿlSeùiÚ
 
ü™£ù_
;

43 şas 
	cTh»adUn§ãOÃTimeEv’t
 {

44 
	gpublic
:

45 
Th»adUn§ãOÃTimeEv’t
() {}

46 
boŞ
 
İ”©Ü
()() {

47 ià(
h­³Ãd_
) {

48  
çl£
;

50 
	gh­³Ãd_
 = 
Œue
;

51  
	gŒue
;

54 
	g´iv©e
:

55 
boŞ
 
h­³Ãd_
 = 
çl£
;

	@one_time_event_unittest.cc

11 
	~"¹c_ba£/Úe_time_ev’t.h
"

13 
	~"‹¡/g‹¡.h
"

15 
Çme¥aû
 
	gweb¹c
 {

17 
TEST
(
OÃTimeEv’tTe¡
, 
Th»adSaã
) {

18 
OÃTimeEv’t
 
	gÙ
;

21 
EXPECT_TRUE
(
Ù
());

22 
EXPECT_FALSE
(
Ù
());

23 
EXPECT_FALSE
(
Ù
());

26 
TEST
(
OÃTimeEv’tTe¡
, 
Th»adUn§ã
) {

27 
Th»adUn§ãOÃTimeEv’t
 
	gÙ
;

29 
EXPECT_TRUE
(
Ù
());

30 
EXPECT_FALSE
(
Ù
());

31 
EXPECT_FALSE
(
Ù
());

	@openssl.h

11 #iâdeà
RTC_BASE_OPENSSL_H_


12 
	#RTC_BASE_OPENSSL_H_


	)

14 #ià
defšed
(
WEBRTC_WIN
)

16 
	~"¹c_ba£/wš32.h
"

19 
	~<İ’s¦/s¦.h
>

21 #ià(
OPENSSL_VERSION_NUMBER
 < 0x10100000L)

22 #”rÜ 
O³nSSL
 
is
 
Şd”
 
thª
 1.1.0, 
which
 i 
the
 
mšimum
 
suµÜ‹d
 
v”siÚ
.

	@openssl_adapter.cc

11 
	~"¹c_ba£/İ’s¦_ad­‹r.h
"

13 
	~<”ºo.h
>

14 
	~<İ’s¦/bio.h
>

15 
	~<İ’s¦/”r.h
>

16 
	~<İ’s¦/¿nd.h
>

17 
	~<İ’s¦/x509.h
>

18 
	~<¡ršg.h
>

19 
	~<time.h
>

21 
	~<memÜy
>

23 
	~"ab¦/memÜy/memÜy.h
"

24 
	~"¹c_ba£/checks.h
"

25 
	~"¹c_ba£/loÿtiÚ.h
"

26 
	~"¹c_ba£/loggšg.h
"

27 
	~"¹c_ba£/num”ics/§ã_cÚv”siÚs.h
"

28 
	~"¹c_ba£/İ’s¦.h
"

29 
	~"¹c_ba£/İ’s¦_û¹ifiÿ‹.h
"

30 
	~"¹c_ba£/İ’s¦_ut™y.h
"

31 
	~"¹c_ba£/¡ršg_’code.h
"

32 
	~"¹c_ba£/th»ad.h
"

38 
sock‘_wr™e
(
BIO
* 
h
, cÚ¡ * 
buf
, 
num
);

39 
sock‘_»ad
(
BIO
* 
h
, * 
buf
, 
size
);

40 
sock‘_puts
(
BIO
* 
h
, cÚ¡ * 
¡r
);

41 
sock‘_ù¾
(
BIO
* 
h
, 
cmd
, 
¬g1
, * 
¬g2
);

42 
sock‘_Ãw
(
BIO
* 
h
);

43 
sock‘_ä“
(
BIO
* 
d©a
);

45 
BIO_METHOD
* 
	$BIO_sock‘_m‘hod
() {

46 
BIO_METHOD
* 
m‘hods
 = [] {

47 
BIO_METHOD
* 
m‘hods
 = 
	`BIO_m‘h_Ãw
(
BIO_TYPE_BIO
, "socket");

48 
	`BIO_m‘h_£t_wr™e
(
m‘hods
, 
sock‘_wr™e
);

49 
	`BIO_m‘h_£t_»ad
(
m‘hods
, 
sock‘_»ad
);

50 
	`BIO_m‘h_£t_puts
(
m‘hods
, 
sock‘_puts
);

51 
	`BIO_m‘h_£t_ù¾
(
m‘hods
, 
sock‘_ù¾
);

52 
	`BIO_m‘h_£t_ü—‹
(
m‘hods
, 
sock‘_Ãw
);

53 
	`BIO_m‘h_£t_de¡roy
(
m‘hods
, 
sock‘_ä“
);

54  
m‘hods
;

56  
m‘hods
;

57 
	}
}

59 
BIO
* 
	$BIO_Ãw_sock‘
(
¹c
::
AsyncSock‘
* 
sock‘
) {

60 
BIO
* 
»t
 = 
	`BIO_Ãw
(
	`BIO_sock‘_m‘hod
());

61 ià(
»t
 =ğ
nuÎ±r
) {

62  
nuÎ±r
;

64 
	`BIO_£t_d©a
(
»t
, 
sock‘
);

65  
»t
;

66 
	}
}

68 
	$sock‘_Ãw
(
BIO
* 
b
) {

69 
	`BIO_£t_shutdown
(
b
, 0);

70 
	`BIO_£t_š™
(
b
, 1);

71 
	`BIO_£t_d©a
(
b
, 0);

73 
	}
}

75 
	$sock‘_ä“
(
BIO
* 
b
) {

76 ià(
b
 =ğ
nuÎ±r
)

79 
	}
}

81 
	$sock‘_»ad
(
BIO
* 
b
, * 
out
, 
ou
) {

82 ià(!
out
)

84 
¹c
::
AsyncSock‘
* 
sock‘
 = 
¡©ic_ÿ¡
<¹c::AsyncSock‘*>(
	`BIO_g‘_d©a
(
b
));

85 
	`BIO_ş—r_»Œy_æags
(
b
);

86 
»suÉ
 = 
sock‘
->
	`Recv
(
out
, 
ou
, 
nuÎ±r
);

87 ià(
»suÉ
 > 0) {

88  
»suÉ
;

89 } ià(
sock‘
->
	`IsBlockšg
()) {

90 
	`BIO_£t_»Œy_»ad
(
b
);

93 
	}
}

95 
	$sock‘_wr™e
(
BIO
* 
b
, cÚ¡ * 
š
, 
šl
) {

96 ià(!
š
)

98 
¹c
::
AsyncSock‘
* 
sock‘
 = 
¡©ic_ÿ¡
<¹c::AsyncSock‘*>(
	`BIO_g‘_d©a
(
b
));

99 
	`BIO_ş—r_»Œy_æags
(
b
);

100 
»suÉ
 = 
sock‘
->
	`S’d
(
š
, 
šl
);

101 ià(
»suÉ
 > 0) {

102  
»suÉ
;

103 } ià(
sock‘
->
	`IsBlockšg
()) {

104 
	`BIO_£t_»Œy_wr™e
(
b
);

107 
	}
}

109 
	$sock‘_puts
(
BIO
* 
b
, cÚ¡ * 
¡r
) {

110  
	`sock‘_wr™e
(
b
, 
¡r
, 
¹c
::
checked_ÿ¡
<>(
	`¡¾’
(str)));

111 
	}
}

113 
	$sock‘_ù¾
(
BIO
* 
b
, 
cmd
, 
num
, * 
±r
) {

114 
cmd
) {

115 
BIO_CTRL_RESET
:

117 
BIO_CTRL_EOF
: {

118 
¹c
::
AsyncSock‘
* 
sock‘
 = 
¡©ic_ÿ¡
<¹c::AsyncSock‘*>(
±r
);

120  (
sock‘
->
	`G‘S‹
(è=ğ
¹c
::
AsyncSock‘
::
CS_CLOSED
) ? 1 : 0;

122 
BIO_CTRL_WPENDING
:

123 
BIO_CTRL_PENDING
:

125 
BIO_CTRL_FLUSH
:

130 
	}
}

132 
	$LogS¦E¼Ü
() {

134 
ušt32_t
 
”rÜ_code
;

135 cÚ¡ * 
fe
;

136 
lše
;

138 
”rÜ_code
 = 
	`ERR_g‘_”rÜ_lše
(&
fe
, &
lše
);

139 ià(
	`ERR_GET_LIB
(
”rÜ_code
è=ğ
ERR_LIB_SSL
) {

140 
	`RTC_LOG
(
LS_ERROR
è<< "ERR_LIB_SSL: " << 
”rÜ_code
 << ", " << 
fe
 << ":"

141 << 
lše
;

144 } 
”rÜ_code
 != 0);

145 
	}
}

151 
Çme¥aû
 
	g¹c
 {

153 
boŞ
 
	gO³nSSLAd­‹r
::
In™ŸlizeSSL
() {

154 ià(!
SSL_lib¿ry_š™
())

155  
çl£
;

156 #ià!
defšed
(
ADDRESS_SANITIZER
è|| !defšed(
WEBRTC_MAC
è|| defšed(
WEBRTC_IOS
)

158 
SSL_lßd_”rÜ_¡ršgs
();

160 
ERR_lßd_BIO_¡ršgs
();

161 
O³nSSL_add_®l_®gÜ™hms
();

162 
RAND_pŞl
();

163  
	gŒue
;

166 
boŞ
 
	gO³nSSLAd­‹r
::
CËªupSSL
() {

167  
Œue
;

170 
	gO³nSSLAd­‹r
::
O³nSSLAd­‹r
(
AsyncSock‘
* 
sock‘
,

171 
O³nSSLSessiÚCache
* 
s¦_£ssiÚ_ÿche
,

172 
SSLC”tifiÿ‹V”if›r
* 
s¦_û¹_v”if›r
)

173 : 
SSLAd­‹r
(
sock‘
),

174 
s¦_£ssiÚ_ÿche_
(
s¦_£ssiÚ_ÿche
),

175 
s¦_û¹_v”if›r_
(
s¦_û¹_v”if›r
),

176 
¡©e_
(
SSL_NONE
),

177 
rŞe_
(
SSL_CLIENT
),

178 
s¦_»ad_Ãeds_wr™e_
(
çl£
),

179 
s¦_wr™e_Ãeds_»ad_
(
çl£
),

180 
s¦_
(
nuÎ±r
),

181 
s¦_ùx_
(
nuÎ±r
),

182 
s¦_mode_
(
SSL_MODE_TLS
),

183 
ignÜe_bad_û¹_
(
çl£
),

184 
cu¡om_û¹_v”if›r_¡©us_
(
çl£
) {

188 ià(
	gs¦_£ssiÚ_ÿche_
 !ğ
nuÎ±r
) {

189 
s¦_ùx_
 = 
s¦_£ssiÚ_ÿche_
->
G‘SSLCÚ‹xt
();

190 
RTC_DCHECK
(
s¦_ùx_
);

192 
SSL_CTX_up_»f
(
s¦_ùx_
);

196 
	gO³nSSLAd­‹r
::~
O³nSSLAd­‹r
() {

197 
CËªup
();

200 
	gO³nSSLAd­‹r
::
S‘IgnÜeBadC”t
(
boŞ
 
ignÜe
) {

201 
ignÜe_bad_û¹_
 = 
ignÜe
;

204 
	gO³nSSLAd­‹r
::
S‘AÍnPrÙocŞs
(cÚ¡ 
¡d
::
veùÜ
<¡d::
¡ršg
>& 
´Ùos
) {

205 
®²_´ÙocŞs_
 = 
´Ùos
;

208 
	gO³nSSLAd­‹r
::
S‘EÎticCurves
(cÚ¡ 
¡d
::
veùÜ
<¡d::
¡ršg
>& 
curves
) {

209 
–ltic_curves_
 = 
curves
;

212 
	gO³nSSLAd­‹r
::
S‘Mode
(
SSLMode
 
mode
) {

213 
RTC_DCHECK
(!
s¦_ùx_
);

214 
RTC_DCHECK
(
¡©e_
 =ğ
SSL_NONE
);

215 
	gs¦_mode_
 = 
mode
;

218 
	gO³nSSLAd­‹r
::
S‘C”tV”if›r
(

219 
SSLC”tifiÿ‹V”if›r
* 
s¦_û¹_v”if›r
) {

220 
RTC_DCHECK
(!
s¦_ùx_
);

221 
	gs¦_û¹_v”if›r_
 = 
s¦_û¹_v”if›r
;

224 
	gO³nSSLAd­‹r
::
S‘Id’t™y
(
¡d
::
unique_±r
<
SSLId’t™y
> 
id’t™y
) {

225 
RTC_DCHECK
(!
id’t™y_
);

226 
	gid’t™y_
 =

227 
ab¦
::
W¿pUnique
(
¡©ic_ÿ¡
<
O³nSSLId’t™y
*>(
id’t™y
.
»Ëa£
()));

230 
	gO³nSSLAd­‹r
::
S‘RŞe
(
SSLRŞe
 
rŞe
) {

231 
rŞe_
 = 
rŞe
;

234 
AsyncSock‘
* 
	gO³nSSLAd­‹r
::
Acû±
(
Sock‘Add»ss
* 
·ddr
) {

235 
RTC_DCHECK
(
rŞe_
 =ğ
SSL_SERVER
);

236 
AsyncSock‘
* 
	gsock‘
 = 
SSLAd­‹r
::
Acû±
(
·ddr
);

237 ià(!
	gsock‘
) {

238  
	gnuÎ±r
;

241 
SSLAd­‹r
* 
	gad­‹r
 = SSLAd­‹r::
C»©e
(
sock‘
);

242 
	gad­‹r
->
S‘Id’t™y
(
id’t™y_
->
ClÚe
());

243 
	gad­‹r
->
S‘RŞe
(
¹c
::
SSL_SERVER
);

244 
	gad­‹r
->
S‘IgnÜeBadC”t
(
ignÜe_bad_û¹_
);

245 
	gad­‹r
->
S¹SSL
("");

246  
	gad­‹r
;

249 
	gO³nSSLAd­‹r
::
S¹SSL
(cÚ¡ * 
ho¡Çme
) {

250 ià(
¡©e_
 !ğ
SSL_NONE
)

253 
	gs¦_ho¡_Çme_
 = 
ho¡Çme
;

255 ià(
	gsock‘_
->
G‘S‹
(è!ğ
Sock‘
::
CS_CONNECTED
) {

256 
¡©e_
 = 
SSL_WAIT
;

260 
	g¡©e_
 = 
SSL_CONNECTING
;

261 ià(
	g”r
 = 
BegšSSL
()) {

262 
E¼Ü
("BegšSSL", 
”r
, 
çl£
);

263  
	g”r
;

269 
	gO³nSSLAd­‹r
::
BegšSSL
() {

270 
RTC_LOG
(
LS_INFO
è<< "O³nSSLAd­‹r::BegšSSL: " << 
s¦_ho¡_Çme_
;

271 
RTC_DCHECK
(
¡©e_
 =ğ
SSL_CONNECTING
);

273 
	g”r
 = 0;

274 
BIO
* 
	gbio
 = 
nuÎ±r
;

279 ià(
	gs¦_£ssiÚ_ÿche_
 =ğ
nuÎ±r
) {

280 
RTC_DCHECK
(!
s¦_ùx_
);

281 
	gs¦_ùx_
 = 
C»©eCÚ‹xt
(
s¦_mode_
, 
çl£
);

284 ià(!
	gs¦_ùx_
) {

285 
	g”r
 = -1;

286 
	gs¦_”rÜ
;

289 ià(
	gid’t™y_
 && !id’t™y_->
CÚfigu»Id’t™y
(
s¦_ùx_
)) {

290 
SSL_CTX_ä“
(
s¦_ùx_
);

291 
	g”r
 = -1;

292 
	gs¦_”rÜ
;

295 
	gbio
 = 
BIO_Ãw_sock‘
(
sock‘_
);

296 ià(!
	gbio
) {

297 
	g”r
 = -1;

298 
	gs¦_”rÜ
;

301 
	gs¦_
 = 
SSL_Ãw
(
s¦_ùx_
);

302 ià(!
	gs¦_
) {

303 
	g”r
 = -1;

304 
	gs¦_”rÜ
;

307 
SSL_£t_­p_d©a
(
s¦_
, 
this
);

317 
SSL_£t_mode
(
s¦_
, 
SSL_MODE_ENABLE_PARTIAL_WRITE
 |

318 
SSL_MODE_ACCEPT_MOVING_WRITE_BUFFER
);

321 ià(!
	gs¦_ho¡_Çme_
.
em±y
()) {

322 
SSL_£t_£xt_ho¡_Çme
(
s¦_
, 
s¦_ho¡_Çme_
.
c_¡r
());

325 ià(
	gs¦_£ssiÚ_ÿche_
 !ğ
nuÎ±r
) {

326 
SSL_SESSION
* 
ÿched
 = 
s¦_£ssiÚ_ÿche_
->
LookupSessiÚ
(
s¦_ho¡_Çme_
);

327 ià(
	gÿched
) {

328 ià(
SSL_£t_£ssiÚ
(
s¦_
, 
ÿched
) == 0) {

329 
RTC_LOG
(
LS_WARNING
) << "Failedo‡pply SSL session from cache";

330 
	g”r
 = -1;

331 
	gs¦_”rÜ
;

334 
RTC_LOG
(
LS_INFO
) << "Attemptingo„esume SSL sessiono "

335 << 
	gs¦_ho¡_Çme_
;

340 #ifdeà
OPENSSL_IS_BORINGSSL


342 
SSL_’abË_oc¥_¡­lšg
(
s¦_
);

343 
SSL_’abË_sigÃd_û¹_time¡amps
(
s¦_
);

346 ià(!
	g®²_´ÙocŞs_
.
em±y
()) {

347 
	g¡d
::
¡ršg
 
s_®²_¡ršg
 = 
T¿nsfÜmAÍnPrÙocŞs
(
®²_´ÙocŞs_
);

348 ià(!
	gs_®²_¡ršg
.
em±y
()) {

349 
SSL_£t_®²_´Ùos
(

350 
s¦_
, 
»š‹½»t_ÿ¡
<cÚ¡ *>(
s_®²_¡ršg
.
d©a
()),

351 
¹c
::
dchecked_ÿ¡
<>(
s_®²_¡ršg
.
size
()));

355 ià(!
	g–ltic_curves_
.
em±y
()) {

356 
SSL_£t1_curves_li¡
(
s¦_
, 
¹c
::
još
(
–ltic_curves_
, ':').
c_¡r
());

361 
SSL_£t_bio
(
s¦_
, 
bio
, bio);

362 
	gbio
 = 
nuÎ±r
;

365 
	g”r
 = 
CÚtšueSSL
();

366 ià(
	g”r
 != 0) {

367 
s¦_”rÜ
;

370  
	g”r
;

372 
	gs¦_”rÜ
:

373 
CËªup
();

374 ià(
	gbio
) {

375 
BIO_ä“
(
bio
);

378  
	g”r
;

381 
	gO³nSSLAd­‹r
::
CÚtšueSSL
() {

382 
RTC_DCHECK
(
¡©e_
 =ğ
SSL_CONNECTING
);

385 
	gTh»ad
::
Cu¼’t
()->
CË¬
(
this
, 
MSG_TIMEOUT
);

387 
	gcode
 = (
rŞe_
 =ğ
SSL_CLIENT
è? 
SSL_cÚÃù
(
s¦_
è: 
SSL_acû±
(ssl_);

388 
SSL_g‘_”rÜ
(
s¦_
, 
code
)) {

389 
	gSSL_ERROR_NONE
:

390 ià(!
SSLPo¡CÚÃùiÚCheck
(
s¦_
, 
s¦_ho¡_Çme_
)) {

391 
RTC_LOG
(
LS_ERROR
) << "TLS…ost connection check failed";

393 
CËªup
();

398 
	g¡©e_
 = 
SSL_CONNECTED
;

399 
	gAsyncSock‘Ad­‹r
::
OnCÚÃùEv’t
(
this
);

409 
	gSSL_ERROR_WANT_READ
:

410 
RTC_LOG
(
LS_VERBOSE
) << " --ƒrror want„ead";

411 
timev®
 
	gtimeout
;

412 ià(
DTLSv1_g‘_timeout
(
s¦_
, &
timeout
)) {

413 
	gd–ay
 = 
timeout
.
tv_£c
 * 1000 +imeout.
tv_u£c
 / 1000;

415 
	gTh»ad
::
Cu¼’t
()->
Po¡D–ayed
(
RTC_FROM_HERE
, 
d–ay
, 
this
, 
MSG_TIMEOUT
,

420 
	gSSL_ERROR_WANT_WRITE
:

423 
	gSSL_ERROR_ZERO_RETURN
:

425 
RTC_LOG
(
LS_WARNING
è<< "CÚtšueSSL --ƒ¼Ü " << 
code
;

426  (
	gcode
 !ğ0è? 
code
 : -1;

432 
	gO³nSSLAd­‹r
::
E¼Ü
(cÚ¡ * 
cÚ‹xt
, 
”r
, 
boŞ
 
sigÇl
) {

433 
RTC_LOG
(
LS_WARNING
è<< "O³nSSLAd­‹r::E¼Ü(" << 
	gcÚ‹xt
 << ", " << 
	g”r


435 
	g¡©e_
 = 
SSL_ERROR
;

436 
S‘E¼Ü
(
”r
);

437 ià(
	gsigÇl
) {

438 
	gAsyncSock‘Ad­‹r
::
OnClo£Ev’t
(
this
, 
”r
);

442 
	gO³nSSLAd­‹r
::
CËªup
() {

443 
RTC_LOG
(
LS_INFO
) << "OpenSSLAdapter::Cleanup";

445 
	g¡©e_
 = 
SSL_NONE
;

446 
	gs¦_»ad_Ãeds_wr™e_
 = 
çl£
;

447 
	gs¦_wr™e_Ãeds_»ad_
 = 
çl£
;

448 
	gcu¡om_û¹_v”if›r_¡©us_
 = 
çl£
;

449 
	g³ndšg_d©a_
.
CË¬
();

451 ià(
	gs¦_
) {

452 
SSL_ä“
(
s¦_
);

453 
	gs¦_
 = 
nuÎ±r
;

456 ià(
	gs¦_ùx_
) {

457 
SSL_CTX_ä“
(
s¦_ùx_
);

458 
	gs¦_ùx_
 = 
nuÎ±r
;

460 
	gid’t™y_
.
»£t
();

463 
	gTh»ad
::
Cu¼’t
()->
CË¬
(
this
, 
MSG_TIMEOUT
);

466 
	gO³nSSLAd­‹r
::
DoS¦Wr™e
(cÚ¡ * 
pv
, 
size_t
 
cb
, * 
”rÜ
) {

469 
RTC_DCHECK
(
³ndšg_d©a_
.
em±y
(è|| 
pv
 =ğ³ndšg_d©a_.
d©a
());

470 
RTC_DCHECK
(
”rÜ
 !ğ
nuÎ±r
);

472 
	gs¦_wr™e_Ãeds_»ad_
 = 
çl£
;

473 
	g»t
 = 
SSL_wr™e
(
s¦_
, 
pv
, 
checked_ÿ¡
<>(
cb
));

474 *
	g”rÜ
 = 
SSL_g‘_”rÜ
(
s¦_
, 
»t
);

475 *
	g”rÜ
) {

476 
	gSSL_ERROR_NONE
:

478  
»t
;

479 
	gSSL_ERROR_WANT_READ
:

480 
RTC_LOG
(
LS_INFO
) << " --ƒrror want„ead";

481 
	gs¦_wr™e_Ãeds_»ad_
 = 
Œue
;

482 
S‘E¼Ü
(
EWOULDBLOCK
);

484 
	gSSL_ERROR_WANT_WRITE
:

485 
RTC_LOG
(
LS_INFO
) << " --ƒrror want write";

486 
S‘E¼Ü
(
EWOULDBLOCK
);

488 
	gSSL_ERROR_ZERO_RETURN
:

489 
S‘E¼Ü
(
EWOULDBLOCK
);

492 
	gSSL_ERROR_SSL
:

493 
LogS¦E¼Ü
();

494 
E¼Ü
("SSL_wr™e", 
»t
 ?„‘ : -1, 
çl£
);

497 
E¼Ü
("SSL_wr™e", 
»t
 ?„‘ : -1, 
çl£
);

501  
	gSOCKET_ERROR
;

508 
	gO³nSSLAd­‹r
::
S’d
(cÚ¡ * 
pv
, 
size_t
 
cb
) {

509 
	g¡©e_
) {

510 
	gSSL_NONE
:

511  
AsyncSock‘Ad­‹r
::
S’d
(
pv
, 
cb
);

512 
	gSSL_WAIT
:

513 
SSL_CONNECTING
:

514 
S‘E¼Ü
(
ENOTCONN
);

515  
	gSOCKET_ERROR
;

516 
	gSSL_CONNECTED
:

518 
	gSSL_ERROR
:

520  
SOCKET_ERROR
;

523 
	g»t
;

524 
	g”rÜ
;

526 ià(!
	g³ndšg_d©a_
.
em±y
()) {

527 
	g»t
 = 
DoS¦Wr™e
(
³ndšg_d©a_
.
d©a
(),…’dšg_d©a_.
size
(), &
”rÜ
);

528 ià(
	g»t
 !ğ
¡©ic_ÿ¡
<>(
³ndšg_d©a_
.
size
())) {

531 
S‘E¼Ü
(
EWOULDBLOCK
);

532  
	gSOCKET_ERROR
;

536 
	g³ndšg_d©a_
.
CË¬
();

540 ià(
	gcb
 == 0) {

544 
	g»t
 = 
DoS¦Wr™e
(
pv
, 
cb
, &
”rÜ
);

559 ià(
	g”rÜ
 =ğ
SSL_ERROR_WANT_READ
 || 
”rÜ
 =ğ
SSL_ERROR_WANT_WRITE
) {

561 
RTC_DCHECK
(
³ndšg_d©a_
.
em±y
());

562 
RTC_LOG
(
LS_WARNING
)

564 
	g³ndšg_d©a_
.
S‘D©a
(
¡©ic_ÿ¡
<cÚ¡ 
ušt8_t
*>(
pv
), 
cb
);

567  
	g¹c
::
dchecked_ÿ¡
<>(
cb
);

569  
	g»t
;

572 
	gO³nSSLAd­‹r
::
S’dTo
(cÚ¡ * 
pv
,

573 
size_t
 
cb
,

574 cÚ¡ 
Sock‘Add»ss
& 
addr
) {

575 ià(
	gsock‘_
->
G‘S‹
(è=ğ
Sock‘
::
CS_CONNECTED
 &&

576 
addr
 =ğ
sock‘_
->
G‘RemÙeAdd»ss
()) {

577  
S’d
(
pv
, 
cb
);

580 
S‘E¼Ü
(
ENOTCONN
);

581  
	gSOCKET_ERROR
;

584 
	gO³nSSLAd­‹r
::
Recv
(* 
pv
, 
size_t
 
cb
, 
št64_t
* 
time¡amp
) {

585 
	g¡©e_
) {

586 
	gSSL_NONE
:

587  
AsyncSock‘Ad­‹r
::
Recv
(
pv
, 
cb
, 
time¡amp
);

588 
	gSSL_WAIT
:

589 
SSL_CONNECTING
:

590 
S‘E¼Ü
(
ENOTCONN
);

591  
	gSOCKET_ERROR
;

592 
	gSSL_CONNECTED
:

594 
	gSSL_ERROR
:

596  
SOCKET_ERROR
;

600 ià(
	gcb
 == 0) {

604 
	gs¦_»ad_Ãeds_wr™e_
 = 
çl£
;

605 
	gcode
 = 
SSL_»ad
(
s¦_
, 
pv
, 
checked_ÿ¡
<>(
cb
));

606 
	g”rÜ
 = 
SSL_g‘_”rÜ
(
s¦_
, 
code
);

608 
	g”rÜ
) {

609 
	gSSL_ERROR_NONE
:

610  
code
;

611 
	gSSL_ERROR_WANT_READ
:

612 
S‘E¼Ü
(
EWOULDBLOCK
);

614 
	gSSL_ERROR_WANT_WRITE
:

615 
s¦_»ad_Ãeds_wr™e_
 = 
Œue
;

616 
S‘E¼Ü
(
EWOULDBLOCK
);

618 
	gSSL_ERROR_ZERO_RETURN
:

619 
S‘E¼Ü
(
EWOULDBLOCK
);

622 
	gSSL_ERROR_SSL
:

623 
LogS¦E¼Ü
();

624 
E¼Ü
("SSL_»ad", (
code
 ? cod: -1), 
çl£
);

627 
E¼Ü
("SSL_»ad", (
code
 ? cod: -1), 
çl£
);

630  
	gSOCKET_ERROR
;

633 
	gO³nSSLAd­‹r
::
RecvFrom
(* 
pv
,

634 
size_t
 
cb
,

635 
Sock‘Add»ss
* 
·ddr
,

636 
št64_t
* 
time¡amp
) {

637 ià(
	gsock‘_
->
G‘S‹
(è=ğ
Sock‘
::
CS_CONNECTED
) {

638 
»t
 = 
Recv
(
pv
, 
cb
, 
time¡amp
);

639 *
	g·ddr
 = 
G‘RemÙeAdd»ss
();

640  
	g»t
;

643 
S‘E¼Ü
(
ENOTCONN
);

644  
	gSOCKET_ERROR
;

647 
	gO³nSSLAd­‹r
::
Clo£
() {

648 
CËªup
();

649 
	g¡©e_
 = 
SSL_NONE
;

650  
	gAsyncSock‘Ad­‹r
::
Clo£
();

653 
	gSock‘
::
CÚnS‹
 
O³nSSLAd­‹r
::
G‘S‹
() const {

654 
CÚnS‹
 
¡©e
 = 
sock‘_
->
G‘S‹
();

655 ià((
	g¡©e
 =ğ
CS_CONNECTED
) &&

656 ((
¡©e_
 =ğ
SSL_WAIT
è|| (¡©e_ =ğ
SSL_CONNECTING
))) {

657 
¡©e
 = 
CS_CONNECTING
;

659  
	g¡©e
;

662 
boŞ
 
	gO³nSSLAd­‹r
::
IsResumedSessiÚ
() {

663  (
s¦_
 && 
SSL_£ssiÚ_»u£d
(ssl_) == 1);

666 
	gO³nSSLAd­‹r
::
OnMes§ge
(
Mes§ge
* 
msg
) {

667 ià(
MSG_TIMEOUT
 =ğ
msg
->
mes§ge_id
) {

668 
RTC_LOG
(
LS_INFO
) << "DTLSimeoutƒxpired";

669 
DTLSv1_hªdË_timeout
(
s¦_
);

670 
CÚtšueSSL
();

674 
	gO³nSSLAd­‹r
::
OnCÚÃùEv’t
(
AsyncSock‘
* 
sock‘
) {

675 
RTC_LOG
(
LS_INFO
) << "OpenSSLAdapter::OnConnectEvent";

676 ià(
	g¡©e_
 !ğ
SSL_WAIT
) {

677 
RTC_DCHECK
(
¡©e_
 =ğ
SSL_NONE
);

678 
	gAsyncSock‘Ad­‹r
::
OnCÚÃùEv’t
(
sock‘
);

682 
	g¡©e_
 = 
SSL_CONNECTING
;

683 ià(
	g”r
 = 
BegšSSL
()) {

684 
AsyncSock‘Ad­‹r
::
OnClo£Ev’t
(
sock‘
, 
”r
);

688 
	gO³nSSLAd­‹r
::
OnR—dEv’t
(
AsyncSock‘
* 
sock‘
) {

689 ià(
¡©e_
 =ğ
SSL_NONE
) {

690 
AsyncSock‘Ad­‹r
::
OnR—dEv’t
(
sock‘
);

694 ià(
	g¡©e_
 =ğ
SSL_CONNECTING
) {

695 ià(
”r
 = 
CÚtšueSSL
()) {

696 
E¼Ü
("CÚtšueSSL", 
”r
);

701 ià(
	g¡©e_
 !ğ
SSL_CONNECTED
) {

707 ià(
	gs¦_wr™e_Ãeds_»ad_
) {

708 
	gAsyncSock‘Ad­‹r
::
OnWr™eEv’t
(
sock‘
);

711 
	gAsyncSock‘Ad­‹r
::
OnR—dEv’t
(
sock‘
);

714 
	gO³nSSLAd­‹r
::
OnWr™eEv’t
(
AsyncSock‘
* 
sock‘
) {

715 ià(
¡©e_
 =ğ
SSL_NONE
) {

716 
AsyncSock‘Ad­‹r
::
OnWr™eEv’t
(
sock‘
);

720 ià(
	g¡©e_
 =ğ
SSL_CONNECTING
) {

721 ià(
”r
 = 
CÚtšueSSL
()) {

722 
E¼Ü
("CÚtšueSSL", 
”r
);

727 ià(
	g¡©e_
 !ğ
SSL_CONNECTED
) {

734 ià(
	gs¦_»ad_Ãeds_wr™e_
) {

735 
	gAsyncSock‘Ad­‹r
::
OnR—dEv’t
(
sock‘
);

740 ià(!
	g³ndšg_d©a_
.
em±y
()) {

741 
	g”rÜ
;

742 ià(
DoS¦Wr™e
(
³ndšg_d©a_
.
d©a
(),…’dšg_d©a_.
size
(), &
”rÜ
) ==

743 
¡©ic_ÿ¡
<>(
³ndšg_d©a_
.
size
())) {

744 
³ndšg_d©a_
.
CË¬
();

748 
	gAsyncSock‘Ad­‹r
::
OnWr™eEv’t
(
sock‘
);

751 
	gO³nSSLAd­‹r
::
OnClo£Ev’t
(
AsyncSock‘
* 
sock‘
, 
”r
) {

752 
RTC_LOG
(
LS_INFO
è<< "O³nSSLAd­‹r::OnClo£Ev’t(" << 
	g”r
 << ")";

753 
	gAsyncSock‘Ad­‹r
::
OnClo£Ev’t
(
sock‘
, 
”r
);

756 
boŞ
 
	gO³nSSLAd­‹r
::
SSLPo¡CÚÃùiÚCheck
(
SSL
* 
s¦
, cÚ¡ 
¡d
::
¡ršg
& 
ho¡
) {

757 
boŞ
 
is_v®id_û¹_Çme
 =

758 
İ’s¦
::
V”ifyP“rC”tM©chesHo¡
(
s¦
, 
ho¡
) &&

759 (
SSL_g‘_v”ify_»suÉ
(
s¦
è=ğ
X509_V_OK
 || 
cu¡om_û¹_v”if›r_¡©us_
);

761 ià(!
	gis_v®id_û¹_Çme
 && 
	gignÜe_bad_û¹_
) {

762 
RTC_DLOG
(
LS_WARNING
) << "Other TLS…ost connection checks failed. "

765 
	gis_v®id_û¹_Çme
 = 
Œue
;

767  
	gis_v®id_û¹_Çme
;

770 #ià!
defšed
(
NDEBUG
)

774 
	gO³nSSLAd­‹r
::
SSLInfoC®lback
(cÚ¡ 
SSL
* 
s
, 
wh”e
, 
»t
) {

775 cÚ¡ * 
	g¡r
 = "undefined";

776 
	gw
 = 
wh”e
 & ~
SSL_ST_MASK
;

777 ià(
	gw
 & 
	gSSL_ST_CONNECT
) {

778 
	g¡r
 = "SSL_connect";

779 } ià(
	gw
 & 
	gSSL_ST_ACCEPT
) {

780 
	g¡r
 = "SSL_accept";

782 ià(
	gwh”e
 & 
	gSSL_CB_LOOP
) {

783 
RTC_DLOG
(
LS_VERBOSE
è<< 
	g¡r
 << ":" << 
SSL_¡©e_¡ršg_lÚg
(
s
);

784 } ià(
	gwh”e
 & 
	gSSL_CB_ALERT
) {

785 
	g¡r
 = (
wh”e
 & 
SSL_CB_READ
) ? "read" : "write";

786 
RTC_DLOG
(
LS_INFO
è<< "SSL3‡Ë¹ " << 
	g¡r
 << ":"

787 << 
SSL_®”t_ty³_¡ršg_lÚg
(
»t
) << ":"

788 << 
SSL_®”t_desc_¡ršg_lÚg
(
»t
);

789 } ià(
	gwh”e
 & 
	gSSL_CB_EXIT
) {

790 ià(
	g»t
 == 0) {

791 
RTC_DLOG
(
LS_INFO
è<< 
¡r
 << ":çed iÀ" << 
SSL_¡©e_¡ršg_lÚg
(
s
);

792 } ià(
	g»t
 < 0) {

793 
RTC_DLOG
(
LS_INFO
è<< 
	g¡r
 << ":”rÜ iÀ" << 
SSL_¡©e_¡ršg_lÚg
(
s
);

800 
	gO³nSSLAd­‹r
::
SSLV”ifyC®lback
(
ok
, 
X509_STORE_CTX
* 
¡Üe
) {

801 #ià!
defšed
(
NDEBUG
)

802 ià(!
	gok
) {

803 
	gd©a
[256];

804 
X509
* 
	gû¹
 = 
X509_STORE_CTX_g‘_cu¼’t_û¹
(
¡Üe
);

805 
	gd•th
 = 
X509_STORE_CTX_g‘_”rÜ_d•th
(
¡Üe
);

806 
	g”r
 = 
X509_STORE_CTX_g‘_”rÜ
(
¡Üe
);

808 
RTC_DLOG
(
LS_INFO
è<< "E¼Ü w™h c”tifiÿ‹‡ˆd•th: " << 
	gd•th
;

809 
X509_NAME_Ú–še
(
X509_g‘_issu”_Çme
(
û¹
), 
d©a
, (data));

810 
RTC_DLOG
(
LS_INFO
è<< " issu” = " << 
	gd©a
;

811 
X509_NAME_Ú–še
(
X509_g‘_subjeù_Çme
(
û¹
), 
d©a
, (data));

812 
RTC_DLOG
(
LS_INFO
è<< " subjeù = " << 
	gd©a
;

813 
RTC_DLOG
(
LS_INFO
è<< "ƒ¼ = " << 
	g”r
 << ":"

814 << 
X509_v”ify_û¹_”rÜ_¡ršg
(
”r
);

818 
SSL
* 
	gs¦
 = 
»š‹½»t_ÿ¡
<SSL*>(

819 
X509_STORE_CTX_g‘_ex_d©a
(
¡Üe
, 
SSL_g‘_ex_d©a_X509_STORE_CTX_idx
()));

821 
O³nSSLAd­‹r
* 
	g¡»am
 =

822 
»š‹½»t_ÿ¡
<
O³nSSLAd­‹r
*>(
SSL_g‘_­p_d©a
(
s¦
));

824 ià(!
	gok
 && 
	g¡»am
->
	gs¦_û¹_v”if›r_
 !ğ
nuÎ±r
) {

825 
RTC_LOG
(
LS_INFO
) << "Invoking SSL Verify Callback.";

826 cÚ¡ 
O³nSSLC”tifiÿ‹
 
û¹
(
X509_STORE_CTX_g‘_cu¼’t_û¹
(
¡Üe
));

827 ià(
	g¡»am
->
	gs¦_û¹_v”if›r_
->
V”ify
(
û¹
)) {

828 
	g¡»am
->
	gcu¡om_û¹_v”if›r_¡©us_
 = 
Œue
;

829 
RTC_LOG
(
LS_INFO
) << "Validated certificate using custom callback";

830 
	gok
 = 
Œue
;

832 
RTC_LOG
(
LS_INFO
) << "Failedo verify certificate using custom callback";

837 ià(!
	gok
 && 
	g¡»am
->
	gignÜe_bad_û¹_
) {

838 
RTC_DLOG
(
LS_WARNING
) << "Ignoring certƒrror while verifying cert chain";

839 
	gok
 = 1;

842  
	gok
;

845 
	gO³nSSLAd­‹r
::
NewSSLSessiÚC®lback
(
SSL
* 
s¦
, 
SSL_SESSION
* 
£ssiÚ
) {

846 
O³nSSLAd­‹r
* 
	g¡»am
 =

847 
»š‹½»t_ÿ¡
<
O³nSSLAd­‹r
*>(
SSL_g‘_­p_d©a
(
s¦
));

848 
RTC_DCHECK
(
¡»am
->
s¦_£ssiÚ_ÿche_
);

849 
RTC_LOG
(
LS_INFO
è<< "Cachšg SSL sessiÚ fÜ " << 
	g¡»am
->
	gs¦_ho¡_Çme_
;

850 
	g¡»am
->
	gs¦_£ssiÚ_ÿche_
->
AddSessiÚ
(
¡»am
->
s¦_ho¡_Çme_
, 
£ssiÚ
);

854 
SSL_CTX
* 
	gO³nSSLAd­‹r
::
C»©eCÚ‹xt
(
SSLMode
 
mode
, 
boŞ
 
’abË_ÿche
) {

855 
SSL_CTX
* 
	gùx
 =

856 
SSL_CTX_Ãw
(
mode
 =ğ
SSL_MODE_DTLS
 ? 
DTLS_m‘hod
(è: 
TLS_m‘hod
());

857 ià(
	gùx
 =ğ
nuÎ±r
) {

858 
”rÜ
 = 
ERR_g‘_”rÜ
();

859 
RTC_LOG
(
LS_WARNING
) << "SSL_CTX creation failed: " << '"'

860 << 
ERR_»asÚ_”rÜ_¡ršg
(
”rÜ
)

863 << 
	g”rÜ
 << ')';

864  
	gnuÎ±r
;

867 #iâdeà
WEBRTC_EXCLUDE_BUILT_IN_SSL_ROOT_CERTS


868 ià(!
	gİ’s¦
::
LßdButšSSLRoÙC”tifiÿ‹s
(
ùx
)) {

869 
RTC_LOG
(
LS_ERROR
) << "SSL_CTX creation failed: Failedo†oad‡nyrusted "

871 
SSL_CTX_ä“
(
ùx
);

872  
	gnuÎ±r
;

876 #ià!
defšed
(
NDEBUG
)

877 
SSL_CTX_£t_šfo_ÿÎback
(
ùx
, 
SSLInfoC®lback
);

880 
SSL_CTX_£t_v”ify
(
ùx
, 
SSL_VERIFY_PEER
, 
SSLV”ifyC®lback
);

881 
SSL_CTX_£t_v”ify_d•th
(
ùx
, 4);

886 
SSL_CTX_£t_ch”_li¡
(

887 
ùx
, "ALL:!SHA256:!SHA384:!aPSK:!ECDSA+SHA1:!ADH:!LOW:!EXP:!MD5");

889 ià(
	gmode
 =ğ
SSL_MODE_DTLS
) {

890 
SSL_CTX_£t_»ad_ah—d
(
ùx
, 1);

893 ià(
	g’abË_ÿche
) {

894 
SSL_CTX_£t_£ssiÚ_ÿche_mode
(
ùx
, 
SSL_SESS_CACHE_CLIENT
);

895 
SSL_CTX_£ss_£t_Ãw_cb
(
ùx
, &
O³nSSLAd­‹r
::
NewSSLSessiÚC®lback
);

898  
	gùx
;

901 
	g¡d
::
¡ršg
 
T¿nsfÜmAÍnPrÙocŞs
(

902 cÚ¡ 
¡d
::
veùÜ
<¡d::
¡ršg
>& 
®²_´ÙocŞs
) {

907 
¡d
::
¡ršg
 
ŒªsfÜmed_®²
;

908 cÚ¡ 
	g¡d
::
¡ršg
& 
´Ùo
 : 
®²_´ÙocŞs
) {

909 ià(
´Ùo
.
size
() == 0 ||…roto.size() > 0xFF) {

910 
RTC_LOG
(
LS_ERROR
) << "OpenSSLAdapter::Error("

912 << 
´Ùo
.
size
() << ")";

915 
	gŒªsfÜmed_®²
 +ğ
¡©ic_ÿ¡
<>(
´Ùo
.
size
());

916 
	gŒªsfÜmed_®²
 +ğ
´Ùo
;

917 
RTC_LOG
(
LS_VERBOSE
è<< "T¿nsfÜmAÍnPrÙocŞs: Addšg…rÙo: " << 
	g´Ùo
;

919  
	gŒªsfÜmed_®²
;

926 
	gO³nSSLAd­‹rFaùÜy
::
O³nSSLAd­‹rFaùÜy
() = ;

928 
	gO³nSSLAd­‹rFaùÜy
::~
O³nSSLAd­‹rFaùÜy
() = ;

930 
	gO³nSSLAd­‹rFaùÜy
::
S‘Mode
(
SSLMode
 
mode
) {

931 
RTC_DCHECK
(!
s¦_£ssiÚ_ÿche_
);

932 
	gs¦_mode_
 = 
mode
;

935 
	gO³nSSLAd­‹rFaùÜy
::
S‘C”tV”if›r
(

936 
SSLC”tifiÿ‹V”if›r
* 
s¦_û¹_v”if›r
) {

937 
RTC_DCHECK
(!
s¦_£ssiÚ_ÿche_
);

938 
	gs¦_û¹_v”if›r_
 = 
s¦_û¹_v”if›r
;

941 
O³nSSLAd­‹r
* 
	gO³nSSLAd­‹rFaùÜy
::
C»©eAd­‹r
(
AsyncSock‘
* 
sock‘
) {

942 ià(
s¦_£ssiÚ_ÿche_
 =ğ
nuÎ±r
) {

943 
SSL_CTX
* 
s¦_ùx
 = 
O³nSSLAd­‹r
::
C»©eCÚ‹xt
(
s¦_mode_
, 
Œue
);

944 ià(
	gs¦_ùx
 =ğ
nuÎ±r
) {

945  
nuÎ±r
;

948 
	gs¦_£ssiÚ_ÿche_
 =

949 
¡d
::
make_unique
<
O³nSSLSessiÚCache
>(
s¦_mode_
, 
	gs¦_ùx
);

950 
SSL_CTX_ä“
(
s¦_ùx
);

952  
Ãw
 
O³nSSLAd­‹r
(
sock‘
, 
s¦_£ssiÚ_ÿche_
.
g‘
(),

953 
s¦_û¹_v”if›r_
);

	@openssl_adapter.h

11 #iâdeà
RTC_BASE_OPENSSL_ADAPTER_H_


12 
	#RTC_BASE_OPENSSL_ADAPTER_H_


	)

14 
	~<¡ddef.h
>

15 
	~<¡dšt.h
>

17 
	~<memÜy
>

18 
	~<¡ršg
>

19 
	~<veùÜ
>

21 
	~"¹c_ba£/async_sock‘.h
"

22 
	~"¹c_ba£/bufãr.h
"

23 
	~"¹c_ba£/mes§ge_hªdËr.h
"

24 
	~"¹c_ba£/İ’s¦_id’t™y.h
"

25 
	~"¹c_ba£/İ’s¦_£ssiÚ_ÿche.h
"

26 
	~"¹c_ba£/sock‘.h
"

27 
	~"¹c_ba£/sock‘_add»ss.h
"

28 
	~"¹c_ba£/s¦_ad­‹r.h
"

29 
	~"¹c_ba£/s¦_û¹ifiÿ‹.h
"

30 
	~"¹c_ba£/s¦_id’t™y.h
"

31 
	~"¹c_ba£/s¦_¡»am_ad­‹r.h
"

33 
Çme¥aû
 
	g¹c
 {

35 
şass
 
O³nSSLAd­‹r
 
	gfš®
 : 
public
 
SSLAd­‹r
,…ubliø
	gMes§geHªdËr
 {

36 
	gpublic
:

37 
boŞ
 
In™ŸlizeSSL
();

38 
boŞ
 
CËªupSSL
();

46 
ex¶ic™
 
O³nSSLAd­‹r
(
AsyncSock‘
* 
sock‘
,

47 
O³nSSLSessiÚCache
* 
s¦_£ssiÚ_ÿche
 = 
nuÎ±r
,

48 
SSLC”tifiÿ‹V”if›r
* 
s¦_û¹_v”if›r
 = 
nuÎ±r
);

49 ~
O³nSSLAd­‹r
(è
	gov”ride
;

51 
S‘IgnÜeBadC”t
(
boŞ
 
ignÜe
è
	gov”ride
;

52 
S‘AÍnPrÙocŞs
(cÚ¡ 
¡d
::
veùÜ
<¡d::
¡ršg
>& 
´Ùos
è
ov”ride
;

53 
S‘EÎticCurves
(cÚ¡ 
¡d
::
veùÜ
<¡d::
¡ršg
>& 
curves
è
ov”ride
;

54 
S‘Mode
(
SSLMode
 
mode
è
	gov”ride
;

55 
S‘C”tV”if›r
(
SSLC”tifiÿ‹V”if›r
* 
s¦_û¹_v”if›r
è
	gov”ride
;

56 
S‘Id’t™y
(
¡d
::
unique_±r
<
SSLId’t™y
> 
id’t™y
è
ov”ride
;

57 
S‘RŞe
(
SSLRŞe
 
rŞe
è
	gov”ride
;

58 
AsyncSock‘
* 
Acû±
(
Sock‘Add»ss
* 
·ddr
è
	gov”ride
;

59 
S¹SSL
(cÚ¡ * 
ho¡Çme
è
	gov”ride
;

60 
S’d
(cÚ¡ * 
pv
, 
size_t
 
cb
è
	gov”ride
;

61 
S’dTo
(cÚ¡ * 
pv
, 
size_t
 
cb
, cÚ¡ 
Sock‘Add»ss
& 
addr
è
	gov”ride
;

62 
Recv
(* 
pv
, 
size_t
 
cb
, 
št64_t
* 
time¡amp
è
	gov”ride
;

63 
RecvFrom
(* 
pv
,

64 
size_t
 
cb
,

65 
Sock‘Add»ss
* 
·ddr
,

66 
št64_t
* 
time¡amp
è
	gov”ride
;

67 
Clo£
(è
	gov”ride
;

69 
CÚnS‹
 
G‘S‹
(ècÚ¡ 
	gov”ride
;

70 
boŞ
 
IsResumedSessiÚ
(è
	gov”ride
;

77 
SSL_CTX
* 
C»©eCÚ‹xt
(
SSLMode
 
mode
, 
boŞ
 
’abË_ÿche
);

79 
	g´Ùeùed
:

80 
OnCÚÃùEv’t
(
AsyncSock‘
* 
sock‘
è
ov”ride
;

81 
OnR—dEv’t
(
AsyncSock‘
* 
sock‘
è
	gov”ride
;

82 
OnWr™eEv’t
(
AsyncSock‘
* 
sock‘
è
	gov”ride
;

83 
OnClo£Ev’t
(
AsyncSock‘
* 
sock‘
, 
”r
è
	gov”ride
;

85 
	g´iv©e
:

86 
	eSSLS‹
 {

87 
SSL_NONE
,

88 
	gSSL_WAIT
,

89 
	gSSL_CONNECTING
,

90 
	gSSL_CONNECTED
,

91 
	gSSL_ERROR


94 ’um { 
	gMSG_TIMEOUT
 };

96 
BegšSSL
();

97 
CÚtšueSSL
();

98 
E¼Ü
(cÚ¡ * 
cÚ‹xt
, 
”r
, 
boŞ
 
sigÇl
 = 
Œue
);

99 
CËªup
();

103 
DoS¦Wr™e
(cÚ¡ * 
pv
, 
size_t
 
cb
, * 
”rÜ
);

104 
OnMes§ge
(
Mes§ge
* 
msg
è
	gov”ride
;

105 
boŞ
 
SSLPo¡CÚÃùiÚCheck
(
SSL
* 
s¦
, cÚ¡ 
¡d
::
¡ršg
& 
ho¡
);

107 #ià!
defšed
(
NDEBUG
)

109 
SSLInfoC®lback
(cÚ¡ 
SSL
* 
s¦
, 
wh”e
, 
»t
);

111 
SSLV”ifyC®lback
(
ok
, 
X509_STORE_CTX
* 
¡Üe
);

112 
ä›nd
 
şass
 
	gO³nSSLSŒ—mAd­‹r
;

117 
NewSSLSessiÚC®lback
(
SSL
* 
s¦
, 
SSL_SESSION
* 
£ssiÚ
);

120 
O³nSSLSessiÚCache
* 
	gs¦_£ssiÚ_ÿche_
 = 
nuÎ±r
;

122 
SSLC”tifiÿ‹V”if›r
* 
	gs¦_û¹_v”if›r_
 = 
nuÎ±r
;

124 
SSLS‹
 
	g¡©e_
;

125 
	g¡d
::
unique_±r
<
O³nSSLId’t™y
> 
id’t™y_
;

127 
SSLRŞe
 
	grŞe_
;

128 
boŞ
 
	gs¦_»ad_Ãeds_wr™e_
;

129 
boŞ
 
	gs¦_wr™e_Ãeds_»ad_
;

133 
Bufãr
 
	g³ndšg_d©a_
;

134 
SSL
* 
	gs¦_
;

136 
SSL_CTX
* 
	gs¦_ùx_
;

138 
	g¡d
::
¡ršg
 
s¦_ho¡_Çme_
;

140 
SSLMode
 
	gs¦_mode_
;

142 
boŞ
 
	gignÜe_bad_û¹_
;

144 
	g¡d
::
veùÜ
<
¡d
::
¡ršg
> 
®²_´ÙocŞs_
;

146 
	g¡d
::
veùÜ
<
¡d
::
¡ršg
> 
–ltic_curves_
;

148 
boŞ
 
	gcu¡om_û¹_v”if›r_¡©us_
;

155 şas 
	cO³nSSLAd­‹rFaùÜy
 : 
public
 
SSLAd­‹rFaùÜy
 {

156 
public
:

157 
O³nSSLAd­‹rFaùÜy
();

158 ~
O³nSSLAd­‹rFaùÜy
(è
	gov”ride
;

162 
S‘Mode
(
SSLMode
 
mode
è
	gov”ride
;

166 
S‘C”tV”if›r
(
SSLC”tifiÿ‹V”if›r
* 
s¦_û¹_v”if›r
è
	gov”ride
;

170 
O³nSSLAd­‹r
* 
C»©eAd­‹r
(
AsyncSock‘
* 
sock‘
è
	gov”ride
;

172 
	g´iv©e
:

174 
SSLMode
 
s¦_mode_
 = 
SSL_MODE_TLS
;

176 
	g¡d
::
unique_±r
<
O³nSSLSessiÚCache
> 
s¦_£ssiÚ_ÿche_
;

179 
SSLC”tifiÿ‹V”if›r
* 
	gs¦_û¹_v”if›r_
 = 
nuÎ±r
;

182 
ä›nd
 
şass
 
	gO³nSSLAd­‹r
;

185 
	g¡d
::
¡ršg
 
T¿nsfÜmAÍnPrÙocŞs
(cÚ¡ 
¡d
::
veùÜ
<¡d::¡ršg>& 
´Ùos
);

	@openssl_adapter_unittest.cc

11 
	~"¹c_ba£/İ’s¦_ad­‹r.h
"

13 
	~<s¡»am
>

14 
	~<¡ršg
>

15 
	~<veùÜ
>

17 
	~"ab¦/memÜy/memÜy.h
"

18 
	~"¹c_ba£/async_sock‘.h
"

19 
	~"¹c_ba£/gun™.h
"

20 
	~"‹¡/gmock.h
"

22 
Çme¥aû
 
	g¹c
 {

23 
	gÇme¥aû
 {

25 şas 
	cMockAsyncSock‘
 : 
public
 
AsyncSock‘
 {

26 
public
:

27 
vœtu®
 ~
MockAsyncSock‘
() = ;

28 
MOCK_METHOD1
(
Acû±
, 
AsyncSock‘
*(
Sock‘Add»ss
*));

29 
MOCK_CONST_METHOD0
(
G‘LoÿlAdd»ss
, 
Sock‘Add»ss
());

30 
MOCK_CONST_METHOD0
(
G‘RemÙeAdd»ss
, 
Sock‘Add»ss
());

31 
MOCK_METHOD1
(
Bšd
, (cÚ¡ 
Sock‘Add»ss
&));

32 
MOCK_METHOD1
(
CÚÃù
, (cÚ¡ 
Sock‘Add»ss
&));

33 
MOCK_METHOD2
(
S’d
, (cÚ¡ *, 
size_t
));

34 
MOCK_METHOD3
(
S’dTo
, (cÚ¡ *, 
size_t
, cÚ¡ 
Sock‘Add»ss
&));

35 
MOCK_METHOD3
(
Recv
, (*, 
size_t
, 
št64_t
*));

36 
MOCK_METHOD4
(
RecvFrom
, (*, 
size_t
, 
Sock‘Add»ss
*, 
št64_t
*));

37 
MOCK_METHOD1
(
Li¡’
, ());

38 
MOCK_METHOD0
(
Clo£
, ());

39 
MOCK_CONST_METHOD0
(
G‘E¼Ü
, ());

40 
MOCK_METHOD1
(
S‘E¼Ü
, ());

41 
MOCK_CONST_METHOD0
(
G‘S‹
, 
CÚnS‹
());

42 
MOCK_METHOD2
(
G‘O±iÚ
, (
O±iÚ
, *));

43 
MOCK_METHOD2
(
S‘O±iÚ
, (
O±iÚ
, ));

46 şas 
	cMockC”tV”if›r
 : 
public
 
SSLC”tifiÿ‹V”if›r
 {

47 
public
:

48 
vœtu®
 ~
MockC”tV”if›r
() = ;

49 
MOCK_METHOD1
(
V”ify
, 
boŞ
(cÚ¡ 
SSLC”tifiÿ‹
&));

54 
	gusšg
 ::
‹¡šg
::
_
;

55 
	gusšg
 ::
‹¡šg
::
R‘uº
;

57 
	$TEST
(
O³nSSLAd­‹rTe¡
, 
Te¡T¿nsfÜmAÍnPrÙocŞs
) {

58 
	`EXPECT_EQ
("", 
	`T¿nsfÜmAÍnPrÙocŞs
(
¡d
::
veùÜ
<¡d::
¡ršg
>()));

62 
¡d
::
¡ršg
 
	`Ïrge_´ÙocŞ
(256, 'a');

63 
	`EXPECT_EQ
("",

64 
	`T¿nsfÜmAÍnPrÙocŞs
(
¡d
::
veùÜ
<¡d::
¡ršg
>{
Ïrge_´ÙocŞ
}));

67 
¡d
::
veùÜ
<¡d::
¡ršg
> 
®²_´Ùos
{"h2"};

68 
¡d
::
¡ršg¡»am
 
ex³ùed_»¥Ú£
;

69 
ex³ùed_»¥Ú£
 << 
¡©ic_ÿ¡
<>(2) << "h2";

70 
	`EXPECT_EQ
(
ex³ùed_»¥Ú£
.
	`¡r
(), 
	`T¿nsfÜmAÍnPrÙocŞs
(
®²_´Ùos
));

73 
®²_´Ùos
.
	`push_back
("http/1.1");

74 
ex³ùed_»¥Ú£
 << 
¡©ic_ÿ¡
<>(8) << "http/1.1";

75 
	`EXPECT_EQ
(
ex³ùed_»¥Ú£
.
	`¡r
(), 
	`T¿nsfÜmAÍnPrÙocŞs
(
®²_´Ùos
));

76 
	}
}

80 
	$TEST
(
O³nSSLAd­‹rTe¡
, 
Te¡BegšSSLBefÜeCÚÃùiÚ
) {

81 
AsyncSock‘
* 
async_sock‘
 = 
Ãw
 
	`MockAsyncSock‘
();

82 
O³nSSLAd­‹r
 
	`ad­‹r
(
async_sock‘
);

83 
	`EXPECT_EQ
(
ad­‹r
.
	`S¹SSL
("webrtc.org"), 0);

84 
	}
}

87 
	$TEST
(
O³nSSLAd­‹rFaùÜyTe¡
, 
C»©eSšgËO³nSSLAd­‹r
) {

88 
O³nSSLAd­‹rFaùÜy
 
ad­‹r_çùÜy
;

89 
AsyncSock‘
* 
async_sock‘
 = 
Ãw
 
	`MockAsyncSock‘
();

90 autØ
sim¶e_ad­‹r
 = 
¡d
::
unique_±r
<
O³nSSLAd­‹r
>(

91 
ad­‹r_çùÜy
.
	`C»©eAd­‹r
(
async_sock‘
));

92 
	`EXPECT_NE
(
sim¶e_ad­‹r
, 
nuÎ±r
);

93 
	}
}

97 
	$TEST
(
O³nSSLAd­‹rFaùÜyTe¡
, 
C»©eWÜksW™hCu¡omV”if›r
) {

98 
MockC”tV”if›r
* 
mock_v”if›r
 = 
Ãw
 
	`MockC”tV”if›r
();

99 
	`EXPECT_CALL
(*
mock_v”if›r
, 
	`V”ify
(
_
)).
	`WlR•—‹dly
(
	`R‘uº
(
Œue
));

100 autØ
û¹_v”if›r
 = 
¡d
::
unique_±r
<
SSLC”tifiÿ‹V”if›r
>(
mock_v”if›r
);

102 
O³nSSLAd­‹rFaùÜy
 
ad­‹r_çùÜy
;

103 
ad­‹r_çùÜy
.
	`S‘C”tV”if›r
(
û¹_v”if›r
.
	`g‘
());

104 
AsyncSock‘
* 
async_sock‘
 = 
Ãw
 
	`MockAsyncSock‘
();

105 autØ
sim¶e_ad­‹r
 = 
¡d
::
unique_±r
<
O³nSSLAd­‹r
>(

106 
ad­‹r_çùÜy
.
	`C»©eAd­‹r
(
async_sock‘
));

107 
	`EXPECT_NE
(
sim¶e_ad­‹r
, 
nuÎ±r
);

108 
	}
}

	@openssl_certificate.cc

11 
	~"¹c_ba£/İ’s¦_û¹ifiÿ‹.h
"

13 #ià
defšed
(
WEBRTC_WIN
)

15 
	~"¹c_ba£/wš32.h
"

18 
	~<İ’s¦/bio.h
>

19 
	~<İ’s¦/bn.h
>

20 
	~<İ’s¦/³m.h
>

21 
	~<time.h
>

23 
	~<memÜy
>

25 
	~"¹c_ba£/checks.h
"

26 
	~"¹c_ba£/h–³rs.h
"

27 
	~"¹c_ba£/loggšg.h
"

28 
	~"¹c_ba£/mes§ge_dige¡.h
"

29 
	~"¹c_ba£/İ’s¦_dige¡.h
"

30 
	~"¹c_ba£/İ’s¦_id’t™y.h
"

31 
	~"¹c_ba£/İ’s¦_ut™y.h
"

33 
Çme¥aû
 
	g¹c
 {

34 
	gÇme¥aû
 {

37 cÚ¡ 
	gSERIAL_RAND_BITS
 = 64;

39 #ià!
defšed
(
NDEBUG
)

41 
PrštC”t
(
X509
* 
x509
) {

42 
BIO
* 
	g‹mp_memÜy_bio
 = 
BIO_Ãw
(
BIO_s_mem
());

43 ià(!
	g‹mp_memÜy_bio
) {

44 
RTC_DLOG_F
(
LS_ERROR
) << "Failedo‡llocateemporary memory bio";

47 
X509_´št_ex
(
‹mp_memÜy_bio
, 
x509
, 
XN_FLAG_SEP_CPLUS_SPC
, 0);

48 
BIO_wr™e
(
‹mp_memÜy_bio
, "\0", 1);

49 * 
	gbufãr
;

50 
BIO_g‘_mem_d©a
(
‹mp_memÜy_bio
, &
bufãr
);

51 
RTC_DLOG
(
LS_VERBOSE
è<< 
	gbufãr
;

52 
BIO_ä“
(
‹mp_memÜy_bio
);

58 
X509
* 
MakeC”tifiÿ‹
(
EVP_PKEY
* 
pkey
, cÚ¡ 
SSLId’t™yP¬ams
& 
·¿ms
) {

59 
RTC_LOG
(
LS_INFO
è<< "Makšg c”tifiÿ‹ fÜ " << 
	g·¿ms
.
	gcommÚ_Çme
;

61 
ASN1_INTEGER
* 
	ga¢1_£rŸl_numb”
 = 
nuÎ±r
;

62 
BIGNUM
* 
	g£rŸl_numb”
 = 
nuÎ±r
;

63 
X509
* 
	gx509
 = 
nuÎ±r
;

64 
X509_NAME
* 
	gÇme
 = 
nuÎ±r
;

65 
time_t
 
	g•och_off
 = 0;

67 ià((
	gx509
 = 
X509_Ãw
()è=ğ
nuÎ±r
) {

68 
”rÜ
;

70 ià(!
X509_£t_pubkey
(
x509
, 
pkey
)) {

71 
	g”rÜ
;

74 ià((
	g£rŸl_numb”
 = 
BN_Ãw
()è=ğ
nuÎ±r
 ||

75 !
BN_p£udo_¿nd
(
£rŸl_numb”
, 
SERIAL_RAND_BITS
, 0, 0) ||

76 (
	ga¢1_£rŸl_numb”
 = 
X509_g‘_£rŸlNumb”
(
x509
)è=ğ
nuÎ±r
 ||

77 !
BN_to_ASN1_INTEGER
(
£rŸl_numb”
, 
a¢1_£rŸl_numb”
)) {

78 
	g”rÜ
;

81 ià(!
X509_£t_v”siÚ
(
x509
, 2L)) {

82 
	g”rÜ
;

92 ià((
	gÇme
 = 
X509_NAME_Ãw
()è=ğ
nuÎ±r
 ||

93 !
X509_NAME_add_’Œy_by_NID
(
Çme
, 
NID_commÚName
, 
MBSTRING_UTF8
,

94 (*)
·¿ms
.
commÚ_Çme
.
c_¡r
(),

96 !
X509_£t_subjeù_Çme
(
x509
, 
Çme
è|| !
X509_£t_issu”_Çme
(x509,‚ame)) {

97 
	g”rÜ
;

99 ià(!
X509_time_adj
(
X509_g‘_nÙBefÜe
(
x509
), 
·¿ms
.
nÙ_befÜe
, &
•och_off
) ||

100 !
X509_time_adj
(
X509_g‘_nÙAá”
(
x509
), 
·¿ms
.
nÙ_aá”
, &
•och_off
)) {

101 
	g”rÜ
;

103 ià(!
X509_sign
(
x509
, 
pkey
, 
EVP_sha256
())) {

104 
	g”rÜ
;

107 
BN_ä“
(
£rŸl_numb”
);

108 
X509_NAME_ä“
(
Çme
);

109 
RTC_LOG
(
LS_INFO
) << "Returning certificate";

110  
	gx509
;

112 
	g”rÜ
:

113 
BN_ä“
(
£rŸl_numb”
);

114 
X509_NAME_ä“
(
Çme
);

115 
X509_ä“
(
x509
);

116  
	gnuÎ±r
;

121 
	gO³nSSLC”tifiÿ‹
::
O³nSSLC”tifiÿ‹
(
X509
* 
x509
è: 
x509_
(x509) {

122 
RTC_DCHECK
(
x509_
 !ğ
nuÎ±r
);

123 
X509_up_»f
(
x509_
);

126 
	g¡d
::
unique_±r
<
O³nSSLC”tifiÿ‹
> O³nSSLC”tifiÿ‹::
G’”©e
(

127 
O³nSSLKeyPaœ
* 
key_·œ
,

128 cÚ¡ 
SSLId’t™yP¬ams
& 
·¿ms
) {

129 
SSLId’t™yP¬ams
 
aùu®_·¿ms
(
·¿ms
);

130 ià(
	gaùu®_·¿ms
.
	gcommÚ_Çme
.
em±y
()) {

132 
	gaùu®_·¿ms
.
	gcommÚ_Çme
 = 
C»©eRªdomSŒšg
(8);

134 
X509
* 
	gx509
 = 
MakeC”tifiÿ‹
(
key_·œ
->
pkey
(), 
aùu®_·¿ms
);

135 ià(!
	gx509
) {

136 
	gİ’s¦
::
LogSSLE¼Üs
("Generating certificate");

137  
	gnuÎ±r
;

139 #ià!
defšed
(
NDEBUG
)

140 
PrštC”t
(
x509
);

142 autØ
	g»t
 = 
¡d
::
make_unique
<
O³nSSLC”tifiÿ‹
>(
x509
);

143 
X509_ä“
(
x509
);

144  
	g»t
;

147 
	g¡d
::
unique_±r
<
O³nSSLC”tifiÿ‹
> O³nSSLC”tifiÿ‹::
FromPEMSŒšg
(

148 cÚ¡ 
¡d
::
¡ršg
& 
³m_¡ršg
) {

149 
BIO
* 
bio
 = 
BIO_Ãw_mem_buf
(
cÚ¡_ÿ¡
<*>(
³m_¡ršg
.
c_¡r
()), -1);

150 ià(!
	gbio
) {

151  
	gnuÎ±r
;

154 
BIO_£t_mem_eof_»tuº
(
bio
, 0);

155 
X509
* 
	gx509
 =

156 
PEM_»ad_bio_X509
(
bio
, 
nuÎ±r
,‚uÎ±r, 
cÚ¡_ÿ¡
<*>("\0"));

157 
BIO_ä“
(
bio
);

159 ià(!
	gx509
) {

160  
	gnuÎ±r
;

162 autØ
	g»t
 = 
¡d
::
make_unique
<
O³nSSLC”tifiÿ‹
>(
x509
);

163 
X509_ä“
(
x509
);

164  
	g»t
;

169 
boŞ
 
	gO³nSSLC”tifiÿ‹
::
G‘SigÇtu»Dige¡AlgÜ™hm
(

170 
¡d
::
¡ršg
* 
®gÜ™hm
) const {

171 
nid
 = 
X509_g‘_sigÇtu»_nid
(
x509_
);

172 
	gnid
) {

173 
	gNID_md5W™hRSA
:

174 
NID_md5W™hRSAEnüy±iÚ
:

175 *
®gÜ™hm
 = 
DIGEST_MD5
;

177 
	gNID_ecd§_w™h_SHA1
:

178 
NID_d§W™hSHA1
:

179 
NID_d§W™hSHA1_2
:

180 
NID_sha1W™hRSA
:

181 
NID_sha1W™hRSAEnüy±iÚ
:

182 *
®gÜ™hm
 = 
DIGEST_SHA_1
;

184 
	gNID_ecd§_w™h_SHA224
:

185 
NID_sha224W™hRSAEnüy±iÚ
:

186 
NID_d§_w™h_SHA224
:

187 *
®gÜ™hm
 = 
DIGEST_SHA_224
;

189 
	gNID_ecd§_w™h_SHA256
:

190 
NID_sha256W™hRSAEnüy±iÚ
:

191 
NID_d§_w™h_SHA256
:

192 *
®gÜ™hm
 = 
DIGEST_SHA_256
;

194 
	gNID_ecd§_w™h_SHA384
:

195 
NID_sha384W™hRSAEnüy±iÚ
:

196 *
®gÜ™hm
 = 
DIGEST_SHA_384
;

198 
	gNID_ecd§_w™h_SHA512
:

199 
NID_sha512W™hRSAEnüy±iÚ
:

200 *
®gÜ™hm
 = 
DIGEST_SHA_512
;

205 
RTC_LOG
(
LS_ERROR
è<< "UnknowÀsigÇtu»‡lgÜ™hm NID: " << 
nid
;

206 
	g®gÜ™hm
->
ş—r
();

207  
	gçl£
;

209  
	gŒue
;

212 
boŞ
 
	gO³nSSLC”tifiÿ‹
::
Compu‹Dige¡
(cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
,

213 * 
dige¡
,

214 
size_t
 
size
,

215 
size_t
* 
Ëngth
) const {

216  
Compu‹Dige¡
(
x509_
, 
®gÜ™hm
, 
dige¡
, 
size
, 
Ëngth
);

219 
boŞ
 
	gO³nSSLC”tifiÿ‹
::
Compu‹Dige¡
(cÚ¡ 
X509
* 
x509
,

220 cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
,

221 * 
dige¡
,

222 
size_t
 
size
,

223 
size_t
* 
Ëngth
) {

224 cÚ¡ 
EVP_MD
* 
	gmd
 = 
nuÎ±r
;

225 
	gn
 = 0;

226 ià(!
	gO³nSSLDige¡
::
G‘Dige¡EVP
(
®gÜ™hm
, &
md
)) {

227  
	gçl£
;

229 ià(
	gsize
 < 
	g¡©ic_ÿ¡
<
	gsize_t
>(
EVP_MD_size
(
md
))) {

230  
	gçl£
;

232 
X509_dige¡
(
x509
, 
md
, 
dige¡
, &
n
);

233 *
	gËngth
 = 
n
;

234  
	gŒue
;

237 
	gO³nSSLC”tifiÿ‹
::~
O³nSSLC”tifiÿ‹
() {

238 
X509_ä“
(
x509_
);

241 
	g¡d
::
unique_±r
<
SSLC”tifiÿ‹
> 
O³nSSLC”tifiÿ‹
::
ClÚe
() const {

242  
¡d
::
make_unique
<
O³nSSLC”tifiÿ‹
>(
x509_
);

245 
	g¡d
::
¡ršg
 
O³nSSLC”tifiÿ‹
::
ToPEMSŒšg
() const {

246 
BIO
* 
bio
 = 
BIO_Ãw
(
BIO_s_mem
());

247 ià(!
	gbio
) {

248 
FATAL
() << "Unreachable code.";

250 ià(!
PEM_wr™e_bio_X509
(
bio
, 
x509_
)) {

251 
BIO_ä“
(
bio
);

252 
FATAL
() << "Unreachable code.";

254 
BIO_wr™e
(
bio
, "\0", 1);

255 * 
	gbufãr
;

256 
BIO_g‘_mem_d©a
(
bio
, &
bufãr
);

257 
	g¡d
::
¡ršg
 
»t
(
bufãr
);

258 
BIO_ä“
(
bio
);

259  
	g»t
;

262 
	gO³nSSLC”tifiÿ‹
::
ToDER
(
Bufãr
* 
d”_bufãr
) const {

264 
d”_bufãr
->
S‘Size
(0);

266 
BIO
* 
	gbio
 = 
BIO_Ãw
(
BIO_s_mem
());

267 ià(!
	gbio
) {

268 
FATAL
() << "Unreachable code.";

270 ià(!
i2d_X509_bio
(
bio
, 
x509_
)) {

271 
BIO_ä“
(
bio
);

272 
FATAL
() << "Unreachable code.";

274 * 
	gd©a
 = 
nuÎ±r
;

275 
size_t
 
	gËngth
 = 
BIO_g‘_mem_d©a
(
bio
, &
d©a
);

276 
	gd”_bufãr
->
S‘D©a
(
d©a
, 
Ëngth
);

277 
BIO_ä“
(
bio
);

280 
boŞ
 
	gO³nSSLC”tifiÿ‹
::
İ”©Ü
==(cÚ¡ 
O³nSSLC”tifiÿ‹
& 
Ùh”
) const {

281  
X509_cmp
(
x509_
, 
Ùh”
.x509_) == 0;

284 
boŞ
 
	gO³nSSLC”tifiÿ‹
::
İ”©Ü
!=(cÚ¡ 
O³nSSLC”tifiÿ‹
& 
Ùh”
) const {

285  !(*
this
 =ğ
Ùh”
);

288 
št64_t
 
	gO³nSSLC”tifiÿ‹
::
C”tifiÿ‹Expœ©iÚTime
() const {

289 
ASN1_TIME
* 
expœe_time
 = 
X509_g‘_nÙAá”
(
x509_
);

290 
boŞ
 
	glÚg_fÜm©
;

291 ià(
	gexpœe_time
->
	gty³
 =ğ
V_ASN1_UTCTIME
) {

292 
lÚg_fÜm©
 = 
çl£
;

293 } ià(
	gexpœe_time
->
	gty³
 =ğ
V_ASN1_GENERALIZEDTIME
) {

294 
lÚg_fÜm©
 = 
Œue
;

298  
ASN1TimeToSec
(
expœe_time
->
d©a
,ƒxpœe_time->
Ëngth
, 
lÚg_fÜm©
);

	@openssl_certificate.h

11 #iâdeà
RTC_BASE_OPENSSL_CERTIFICATE_H_


12 
	#RTC_BASE_OPENSSL_CERTIFICATE_H_


	)

14 
	~<İ’s¦/os¦_typ.h
>

15 
	~<¡ddef.h
>

16 
	~<¡dšt.h
>

18 
	~<¡ršg
>

20 
	~"¹c_ba£/bufãr.h
"

21 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

22 
	~"¹c_ba£/s¦_û¹ifiÿ‹.h
"

23 
	~"¹c_ba£/s¦_id’t™y.h
"

25 
Çme¥aû
 
	g¹c
 {

27 
şass
 
	gO³nSSLKeyPaœ
;

31 şas 
	cO³nSSLC”tifiÿ‹
 
	gfš®
 : 
public
 
SSLC”tifiÿ‹
 {

32 
public
:

35 
ex¶ic™
 
O³nSSLC”tifiÿ‹
(
X509
* 
x509
);

37 
	g¡d
::
unique_±r
<
O³nSSLC”tifiÿ‹
> 
G’”©e
(

38 
O³nSSLKeyPaœ
* 
key_·œ
,

39 cÚ¡ 
SSLId’t™yP¬ams
& 
·¿ms
);

40 
	g¡d
::
unique_±r
<
O³nSSLC”tifiÿ‹
> 
FromPEMSŒšg
(

41 cÚ¡ 
¡d
::
¡ršg
& 
³m_¡ršg
);

43 ~
O³nSSLC”tifiÿ‹
(è
	gov”ride
;

45 
	g¡d
::
unique_±r
<
SSLC”tifiÿ‹
> 
ClÚe
(ècÚ¡ 
ov”ride
;

47 
X509
* 
x509
(ècÚ¡ {  
	gx509_
; }

49 
	g¡d
::
¡ršg
 
ToPEMSŒšg
(ècÚ¡ 
ov”ride
;

50 
ToDER
(
Bufãr
* 
d”_bufãr
ècÚ¡ 
	gov”ride
;

51 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
O³nSSLC”tifiÿ‹
& 
Ùh”
) const;

52 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
O³nSSLC”tifiÿ‹
& 
Ùh”
) const;

55 
boŞ
 
Compu‹Dige¡
(cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
,

56 * 
dige¡
,

57 
size_t
 
size
,

58 
size_t
* 
Ëngth
ècÚ¡ 
	gov”ride
;

61 
boŞ
 
Compu‹Dige¡
(cÚ¡ 
X509
* 
x509
,

62 cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
,

63 * 
dige¡
,

64 
size_t
 
size
,

65 
size_t
* 
Ëngth
);

67 
boŞ
 
G‘SigÇtu»Dige¡AlgÜ™hm
(
¡d
::
¡ršg
* 
®gÜ™hm
ècÚ¡ 
ov”ride
;

69 
št64_t
 
C”tifiÿ‹Expœ©iÚTime
(ècÚ¡ 
	gov”ride
;

71 
	g´iv©e
:

72 
X509
* 
x509_
;

73 
RTC_DISALLOW_COPY_AND_ASSIGN
(
O³nSSLC”tifiÿ‹
);

	@openssl_digest.cc

11 
	~"¹c_ba£/İ’s¦_dige¡.h
"

13 
	~"¹c_ba£/checks.h
"

14 
	~"¹c_ba£/İ’s¦.h
"

16 
Çme¥aû
 
	g¹c
 {

18 
	gO³nSSLDige¡
::
O³nSSLDige¡
(cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
) {

19 
ùx_
 = 
EVP_MD_CTX_Ãw
();

20 
RTC_CHECK
(
ùx_
 !ğ
nuÎ±r
);

21 
EVP_MD_CTX_š™
(
ùx_
);

22 ià(
G‘Dige¡EVP
(
®gÜ™hm
, &
md_
)) {

23 
EVP_Dige¡In™_ex
(
ùx_
, 
md_
, 
nuÎ±r
);

25 
	gmd_
 = 
nuÎ±r
;

29 
	gO³nSSLDige¡
::~
O³nSSLDige¡
() {

30 
EVP_MD_CTX_de¡roy
(
ùx_
);

33 
size_t
 
	gO³nSSLDige¡
::
Size
() const {

34 ià(!
md_
) {

37  
EVP_MD_size
(
md_
);

40 
	gO³nSSLDige¡
::
Upd©e
(cÚ¡ * 
buf
, 
size_t
 
Ën
) {

41 ià(!
	gmd_
) {

44 
EVP_Dige¡Upd©e
(
ùx_
, 
buf
, 
Ën
);

47 
size_t
 
	gO³nSSLDige¡
::
Fšish
(* 
buf
, size_ˆ
Ën
) {

48 ià(!
	gmd_
 || 
	gËn
 < 
Size
()) {

51 
	gmd_Ën
;

52 
EVP_Dige¡Fš®_ex
(
ùx_
, 
¡©ic_ÿ¡
<*>(
buf
), &
md_Ën
);

53 
EVP_Dige¡In™_ex
(
ùx_
, 
md_
, 
nuÎ±r
);

54 
RTC_DCHECK
(
md_Ën
 =ğ
Size
());

55  
	gmd_Ën
;

58 
boŞ
 
	gO³nSSLDige¡
::
G‘Dige¡EVP
(cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
,

59 cÚ¡ 
EVP_MD
** 
mdp
) {

60 cÚ¡ 
EVP_MD
* 
	gmd
;

61 ià(
	g®gÜ™hm
 =ğ
DIGEST_MD5
) {

62 
md
 = 
EVP_md5
();

63 } ià(
	g®gÜ™hm
 =ğ
DIGEST_SHA_1
) {

64 
md
 = 
EVP_sha1
();

65 } ià(
	g®gÜ™hm
 =ğ
DIGEST_SHA_224
) {

66 
md
 = 
EVP_sha224
();

67 } ià(
	g®gÜ™hm
 =ğ
DIGEST_SHA_256
) {

68 
md
 = 
EVP_sha256
();

69 } ià(
	g®gÜ™hm
 =ğ
DIGEST_SHA_384
) {

70 
md
 = 
EVP_sha384
();

71 } ià(
	g®gÜ™hm
 =ğ
DIGEST_SHA_512
) {

72 
md
 = 
EVP_sha512
();

74  
	gçl£
;

78 
RTC_DCHECK
(
EVP_MD_size
(
md
) >= 16);

79 *
	gmdp
 = 
md
;

80  
	gŒue
;

83 
boŞ
 
	gO³nSSLDige¡
::
G‘Dige¡Name
(cÚ¡ 
EVP_MD
* 
md
, 
¡d
::
¡ršg
* 
®gÜ™hm
) {

84 
RTC_DCHECK
(
md
 !ğ
nuÎ±r
);

85 
RTC_DCHECK
(
®gÜ™hm
 !ğ
nuÎ±r
);

87 
	gmd_ty³
 = 
EVP_MD_ty³
(
md
);

88 ià(
	gmd_ty³
 =ğ
NID_md5
) {

89 *
®gÜ™hm
 = 
DIGEST_MD5
;

90 } ià(
	gmd_ty³
 =ğ
NID_sha1
) {

91 *
®gÜ™hm
 = 
DIGEST_SHA_1
;

92 } ià(
	gmd_ty³
 =ğ
NID_sha224
) {

93 *
®gÜ™hm
 = 
DIGEST_SHA_224
;

94 } ià(
	gmd_ty³
 =ğ
NID_sha256
) {

95 *
®gÜ™hm
 = 
DIGEST_SHA_256
;

96 } ià(
	gmd_ty³
 =ğ
NID_sha384
) {

97 *
®gÜ™hm
 = 
DIGEST_SHA_384
;

98 } ià(
	gmd_ty³
 =ğ
NID_sha512
) {

99 *
®gÜ™hm
 = 
DIGEST_SHA_512
;

101 
	g®gÜ™hm
->
ş—r
();

102  
	gçl£
;

105  
	gŒue
;

108 
boŞ
 
	gO³nSSLDige¡
::
G‘Dige¡Size
(cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
,

109 
size_t
* 
Ëngth
) {

110 cÚ¡ 
EVP_MD
* 
	gmd
;

111 ià(!
G‘Dige¡EVP
(
®gÜ™hm
, &
md
))

112  
	gçl£
;

114 *
	gËngth
 = 
EVP_MD_size
(
md
);

115  
	gŒue
;

	@openssl_digest.h

11 #iâdeà
RTC_BASE_OPENSSL_DIGEST_H_


12 
	#RTC_BASE_OPENSSL_DIGEST_H_


	)

14 
	~<İ’s¦/os¦_typ.h
>

15 
	~<¡ddef.h
>

17 
	~<¡ršg
>

19 
	~"¹c_ba£/mes§ge_dige¡.h
"

21 
Çme¥aû
 
	g¹c
 {

24 şas 
	cO³nSSLDige¡
 
	gfš®
 : 
public
 
Mes§geDige¡
 {

25 
public
:

27 
ex¶ic™
 
O³nSSLDige¡
(cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
);

28 ~
O³nSSLDige¡
(è
	gov”ride
;

30 
size_t
 
Size
(ècÚ¡ 
	gov”ride
;

32 
Upd©e
(cÚ¡ * 
buf
, 
size_t
 
Ën
è
	gov”ride
;

34 
size_t
 
Fšish
(* 
buf
, size_ˆ
Ën
è
	gov”ride
;

37 
boŞ
 
G‘Dige¡EVP
(cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
, cÚ¡ 
EVP_MD
** 
md
);

39 
boŞ
 
G‘Dige¡Name
(cÚ¡ 
EVP_MD
* 
md
, 
¡d
::
¡ršg
* 
®gÜ™hm
);

41 
boŞ
 
G‘Dige¡Size
(cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
, 
size_t
* 
Ën
);

43 
	g´iv©e
:

44 
EVP_MD_CTX
* 
ùx_
 = 
nuÎ±r
;

45 cÚ¡ 
EVP_MD
* 
	gmd_
;

	@openssl_identity.cc

11 
	~"¹c_ba£/İ’s¦_id’t™y.h
"

13 
	~<memÜy
>

14 
	~<ut™y
>

15 
	~<veùÜ
>

17 #ià
defšed
(
WEBRTC_WIN
)

19 
	~"¹c_ba£/wš32.h
"

22 
	~<İ’s¦/bio.h
>

23 
	~<İ’s¦/bn.h
>

24 
	~<İ’s¦/”r.h
>

25 
	~<İ’s¦/³m.h
>

26 
	~<İ’s¦/r§.h
>

27 
	~<¡dšt.h
>

29 
	~"ab¦/memÜy/memÜy.h
"

30 
	~"¹c_ba£/checks.h
"

31 
	~"¹c_ba£/loggšg.h
"

32 
	~"¹c_ba£/num”ics/§ã_cÚv”siÚs.h
"

33 
	~"¹c_ba£/İ’s¦.h
"

34 
	~"¹c_ba£/İ’s¦_ut™y.h
"

36 
Çme¥aû
 
	g¹c
 {

42 
EVP_PKEY
* 
MakeKey
(cÚ¡ 
KeyP¬ams
& 
key_·¿ms
) {

43 
RTC_LOG
(
LS_INFO
) << "Making key…air";

44 
EVP_PKEY
* 
	gpkey
 = 
EVP_PKEY_Ãw
();

45 ià(
	gkey_·¿ms
.
ty³
(è=ğ
KT_RSA
) {

46 
key_Ëngth
 = 
key_·¿ms
.
r§_·¿ms
().
mod_size
;

47 
BIGNUM
* 
	gexpÚ’t
 = 
BN_Ãw
();

48 
RSA
* 
	gr§
 = 
RSA_Ãw
();

49 ià(!
	gpkey
 || !
	gexpÚ’t
 || !
	gr§
 ||

50 !
BN_£t_wÜd
(
expÚ’t
, 
key_·¿ms
.
r§_·¿ms
().
pub_exp
) ||

51 !
RSA_g’”©e_key_ex
(
r§
, 
key_Ëngth
, 
expÚ’t
, 
nuÎ±r
) ||

52 !
EVP_PKEY_assign_RSA
(
pkey
, 
r§
)) {

53 
EVP_PKEY_ä“
(
pkey
);

54 
BN_ä“
(
expÚ’t
);

55 
RSA_ä“
(
r§
);

56 
RTC_LOG
(
LS_ERROR
) << "Failedo make RSA key…air";

57  
	gnuÎ±r
;

60 
BN_ä“
(
expÚ’t
);

61 } ià(
	gkey_·¿ms
.
ty³
(è=ğ
KT_ECDSA
) {

62 ià(
key_·¿ms
.
ec_curve
(è=ğ
EC_NIST_P256
) {

63 
EC_KEY
* 
ec_key
 = 
EC_KEY_Ãw_by_curve_Çme
(
NID_X9_62_´ime256v1
);

69 
EC_KEY_£t_a¢1_æag
(
ec_key
, 
OPENSSL_EC_NAMED_CURVE
);

71 ià(!
	gpkey
 || !
	gec_key
 || !
EC_KEY_g’”©e_key
(
ec_key
) ||

72 !
EVP_PKEY_assign_EC_KEY
(
pkey
, 
ec_key
)) {

73 
EVP_PKEY_ä“
(
pkey
);

74 
EC_KEY_ä“
(
ec_key
);

75 
RTC_LOG
(
LS_ERROR
) << "Failedo make EC key…air";

76  
	gnuÎ±r
;

81 
EVP_PKEY_ä“
(
pkey
);

82 
RTC_LOG
(
LS_ERROR
) << "ECDSA key„equested for unknown curve";

83  
	gnuÎ±r
;

86 
EVP_PKEY_ä“
(
pkey
);

87 
RTC_LOG
(
LS_ERROR
) << "Keyype„equested‚ot understood";

88  
	gnuÎ±r
;

91 
RTC_LOG
(
LS_INFO
) << "Returning key…air";

92  
	gpkey
;

95 
O³nSSLKeyPaœ
* 
	gO³nSSLKeyPaœ
::
G’”©e
(cÚ¡ 
KeyP¬ams
& 
key_·¿ms
) {

96 
EVP_PKEY
* 
pkey
 = 
MakeKey
(
key_·¿ms
);

97 ià(!
	gpkey
) {

98 
	gİ’s¦
::
LogSSLE¼Üs
("Generating key…air");

99  
	gnuÎ±r
;

101  
Ãw
 
O³nSSLKeyPaœ
(
pkey
);

104 
O³nSSLKeyPaœ
* 
	gO³nSSLKeyPaœ
::
FromPriv©eKeyPEMSŒšg
(

105 cÚ¡ 
¡d
::
¡ršg
& 
³m_¡ršg
) {

106 
BIO
* 
bio
 = 
BIO_Ãw_mem_buf
(
cÚ¡_ÿ¡
<*>(
³m_¡ršg
.
c_¡r
()), -1);

107 ià(!
	gbio
) {

108 
RTC_LOG
(
LS_ERROR
) << "Failedo create‡‚ew BIO buffer.";

109  
	gnuÎ±r
;

111 
BIO_£t_mem_eof_»tuº
(
bio
, 0);

112 
EVP_PKEY
* 
	gpkey
 =

113 
PEM_»ad_bio_Priv©eKey
(
bio
, 
nuÎ±r
,‚uÎ±r, 
cÚ¡_ÿ¡
<*>("\0"));

114 
BIO_ä“
(
bio
);

115 ià(!
	gpkey
) {

116 
RTC_LOG
(
LS_ERROR
) << "Failedo createhe…rivate key from PEM string.";

117  
	gnuÎ±r
;

119 ià(
EVP_PKEY_missšg_·¿m‘”s
(
pkey
) != 0) {

120 
RTC_LOG
(
LS_ERROR
)

122 
EVP_PKEY_ä“
(
pkey
);

123  
	gnuÎ±r
;

125  
Ãw
 
O³nSSLKeyPaœ
(
pkey
);

128 
	gO³nSSLKeyPaœ
::~
O³nSSLKeyPaœ
() {

129 
EVP_PKEY_ä“
(
pkey_
);

132 
O³nSSLKeyPaœ
* 
	gO³nSSLKeyPaœ
::
G‘Reã»nû
() {

133 
AddReã»nû
();

134  
Ãw
 
O³nSSLKeyPaœ
(
pkey_
);

137 
	gO³nSSLKeyPaœ
::
AddReã»nû
() {

138 
EVP_PKEY_up_»f
(
pkey_
);

141 
	g¡d
::
¡ršg
 
O³nSSLKeyPaœ
::
Priv©eKeyToPEMSŒšg
() const {

142 
BIO
* 
‹mp_memÜy_bio
 = 
BIO_Ãw
(
BIO_s_mem
());

143 ià(!
	g‹mp_memÜy_bio
) {

144 
RTC_LOG_F
(
LS_ERROR
) << "Failedo‡llocateemporary memory bio";

145 
RTC_NOTREACHED
();

148 ià(!
PEM_wr™e_bio_Priv©eKey
(
‹mp_memÜy_bio
, 
pkey_
, 
nuÎ±r
,‚ullptr, 0,

149 
nuÎ±r
,‚ullptr)) {

150 
RTC_LOG_F
(
LS_ERROR
) << "Failedo write…rivate key";

151 
BIO_ä“
(
‹mp_memÜy_bio
);

152 
RTC_NOTREACHED
();

155 
BIO_wr™e
(
‹mp_memÜy_bio
, "\0", 1);

156 * 
	gbufãr
;

157 
BIO_g‘_mem_d©a
(
‹mp_memÜy_bio
, &
bufãr
);

158 
	g¡d
::
¡ršg
 
´iv_key_¡r
 = 
bufãr
;

159 
BIO_ä“
(
‹mp_memÜy_bio
);

160  
	g´iv_key_¡r
;

163 
	g¡d
::
¡ršg
 
O³nSSLKeyPaœ
::
PublicKeyToPEMSŒšg
() const {

164 
BIO
* 
‹mp_memÜy_bio
 = 
BIO_Ãw
(
BIO_s_mem
());

165 ià(!
	g‹mp_memÜy_bio
) {

166 
RTC_LOG_F
(
LS_ERROR
) << "Failedo‡llocateemporary memory bio";

167 
RTC_NOTREACHED
();

170 ià(!
PEM_wr™e_bio_PUBKEY
(
‹mp_memÜy_bio
, 
pkey_
)) {

171 
RTC_LOG_F
(
LS_ERROR
) << "Failedo write…ublic key";

172 
BIO_ä“
(
‹mp_memÜy_bio
);

173 
RTC_NOTREACHED
();

176 
BIO_wr™e
(
‹mp_memÜy_bio
, "\0", 1);

177 * 
	gbufãr
;

178 
BIO_g‘_mem_d©a
(
‹mp_memÜy_bio
, &
bufãr
);

179 
	g¡d
::
¡ršg
 
pub_key_¡r
 = 
bufãr
;

180 
BIO_ä“
(
‹mp_memÜy_bio
);

181  
	gpub_key_¡r
;

184 
boŞ
 
	gO³nSSLKeyPaœ
::
İ”©Ü
==(cÚ¡ 
O³nSSLKeyPaœ
& 
Ùh”
) const {

185  
EVP_PKEY_cmp
(
this
->
pkey_
, 
Ùh”
.pkey_) == 1;

188 
boŞ
 
	gO³nSSLKeyPaœ
::
İ”©Ü
!=(cÚ¡ 
O³nSSLKeyPaœ
& 
Ùh”
) const {

189  !(*
this
 =ğ
Ùh”
);

192 
	gO³nSSLId’t™y
::
O³nSSLId’t™y
(

193 
¡d
::
unique_±r
<
O³nSSLKeyPaœ
> 
key_·œ
,

194 
¡d
::
unique_±r
<
O³nSSLC”tifiÿ‹
> 
û¹ifiÿ‹
)

195 : 
key_·œ_
(
¡d
::
move
(
key_·œ
)) {

196 
RTC_DCHECK
(
key_·œ_
 !ğ
nuÎ±r
);

197 
RTC_DCHECK
(
û¹ifiÿ‹
 !ğ
nuÎ±r
);

198 
	g¡d
::
veùÜ
<
¡d
::
unique_±r
<
SSLC”tifiÿ‹
>> 
û¹s
;

199 
	gû¹s
.
push_back
(
¡d
::
move
(
û¹ifiÿ‹
));

200 
	gû¹_chaš_
.
»£t
(
Ãw
 
SSLC”tChaš
(
¡d
::
move
(
û¹s
)));

203 
	gO³nSSLId’t™y
::
O³nSSLId’t™y
(
¡d
::
unique_±r
<
O³nSSLKeyPaœ
> 
key_·œ
,

204 
¡d
::
unique_±r
<
SSLC”tChaš
> 
û¹_chaš
)

205 : 
key_·œ_
(
¡d
::
move
(
key_·œ
)), 
û¹_chaš_
(¡d::move(
û¹_chaš
)) {

206 
RTC_DCHECK
(
key_·œ_
 !ğ
nuÎ±r
);

207 
RTC_DCHECK
(
û¹_chaš_
 !ğ
nuÎ±r
);

210 
	gO³nSSLId’t™y
::~
O³nSSLId’t™y
() = ;

212 
	g¡d
::
unique_±r
<
O³nSSLId’t™y
> O³nSSLId’t™y::
C»©eIÁ”Çl
(

213 cÚ¡ 
SSLId’t™yP¬ams
& 
·¿ms
) {

214 
¡d
::
unique_±r
<
O³nSSLKeyPaœ
> 
key_·œ
(

215 
O³nSSLKeyPaœ
::
G’”©e
(
·¿ms
.
key_·¿ms
));

216 ià(
	gkey_·œ
) {

217 
	g¡d
::
unique_±r
<
O³nSSLC”tifiÿ‹
> 
û¹ifiÿ‹
(

218 
O³nSSLC”tifiÿ‹
::
G’”©e
(
key_·œ
.
g‘
(), 
·¿ms
));

219 ià(
	gû¹ifiÿ‹
 !ğ
nuÎ±r
) {

220  
ab¦
::
W¿pUnique
(

221 
Ãw
 
O³nSSLId’t™y
(
¡d
::
move
(
key_·œ
), std::move(
û¹ifiÿ‹
)));

224 
RTC_LOG
(
LS_INFO
) << "Identity generation failed";

225  
	gnuÎ±r
;

229 
	g¡d
::
unique_±r
<
O³nSSLId’t™y
> O³nSSLId’t™y::
C»©eW™hExpœ©iÚ
(

230 cÚ¡ 
¡d
::
¡ršg
& 
commÚ_Çme
,

231 cÚ¡ 
KeyP¬ams
& 
key_·¿ms
,

232 
time_t
 
û¹ifiÿ‹_liãtime
) {

233 
SSLId’t™yP¬ams
 
	g·¿ms
;

234 
	g·¿ms
.
	gkey_·¿ms
 = 
key_·¿ms
;

235 
	g·¿ms
.
	gcommÚ_Çme
 = 
commÚ_Çme
;

236 
time_t
 
	gnow
 = 
time
(
nuÎ±r
);

237 
	g·¿ms
.
	gnÙ_befÜe
 = 
now
 + 
kC”tifiÿ‹WšdowInSecÚds
;

238 
	g·¿ms
.
	gnÙ_aá”
 = 
now
 + 
û¹ifiÿ‹_liãtime
;

239 ià(
	g·¿ms
.
	gnÙ_befÜe
 >…¬ams.
	gnÙ_aá”
)

240  
	gnuÎ±r
;

241  
C»©eIÁ”Çl
(
·¿ms
);

244 
	g¡d
::
unique_±r
<
O³nSSLId’t™y
> O³nSSLId’t™y::
C»©eFÜTe¡
(

245 cÚ¡ 
SSLId’t™yP¬ams
& 
·¿ms
) {

246  
C»©eIÁ”Çl
(
·¿ms
);

249 
	g¡d
::
unique_±r
<
SSLId’t™y
> 
O³nSSLId’t™y
::
C»©eFromPEMSŒšgs
(

250 cÚ¡ 
¡d
::
¡ršg
& 
´iv©e_key
,

251 cÚ¡ 
¡d
::
¡ršg
& 
û¹ifiÿ‹
) {

252 
¡d
::
unique_±r
<
O³nSSLC”tifiÿ‹
> 
û¹
(

253 
O³nSSLC”tifiÿ‹
::
FromPEMSŒšg
(
û¹ifiÿ‹
));

254 ià(!
	gû¹
) {

255 
RTC_LOG
(
LS_ERROR
) << "Failedo create OpenSSLCertificate from PEM string.";

256  
	gnuÎ±r
;

259 
	g¡d
::
unique_±r
<
O³nSSLKeyPaœ
> 
key_·œ
(

260 
O³nSSLKeyPaœ
::
FromPriv©eKeyPEMSŒšg
(
´iv©e_key
));

261 ià(!
	gkey_·œ
) {

262 
RTC_LOG
(
LS_ERROR
) << "Failedo create key…air from PEM string.";

263  
	gnuÎ±r
;

266  
	gab¦
::
W¿pUnique
(

267 
Ãw
 
O³nSSLId’t™y
(
¡d
::
move
(
key_·œ
), std::move(
û¹
)));

270 
	g¡d
::
unique_±r
<
SSLId’t™y
> 
O³nSSLId’t™y
::
C»©eFromPEMChašSŒšgs
(

271 cÚ¡ 
¡d
::
¡ršg
& 
´iv©e_key
,

272 cÚ¡ 
¡d
::
¡ršg
& 
û¹ifiÿ‹_chaš
) {

273 
BIO
* 
bio
 = 
BIO_Ãw_mem_buf
(
û¹ifiÿ‹_chaš
.
d©a
(),

274 
¹c
::
dchecked_ÿ¡
<>(
û¹ifiÿ‹_chaš
.
size
()));

275 ià(!
	gbio
)

276  
	gnuÎ±r
;

277 
BIO_£t_mem_eof_»tuº
(
bio
, 0);

278 
	g¡d
::
veùÜ
<
¡d
::
unique_±r
<
SSLC”tifiÿ‹
>> 
û¹s
;

279 
	gŒue
) {

280 
X509
* 
	gx509
 =

281 
PEM_»ad_bio_X509
(
bio
, 
nuÎ±r
,‚uÎ±r, 
cÚ¡_ÿ¡
<*>("\0"));

282 ià(
	gx509
 =ğ
nuÎ±r
) {

283 
ušt32_t
 
”r
 = 
ERR_³ek_”rÜ
();

284 ià(
ERR_GET_LIB
(
”r
è=ğ
ERR_LIB_PEM
 &&

285 
ERR_GET_REASON
(
”r
è=ğ
PEM_R_NO_START_LINE
) {

288 
RTC_LOG
(
LS_ERROR
) << "Failedo…arse certificate from PEM string.";

289 
BIO_ä“
(
bio
);

290  
	gnuÎ±r
;

292 
	gû¹s
.
em¶aû_back
(
Ãw
 
O³nSSLC”tifiÿ‹
(
x509
));

293 
X509_ä“
(
x509
);

295 
BIO_ä“
(
bio
);

296 ià(
	gû¹s
.
em±y
()) {

297 
RTC_LOG
(
LS_ERROR
) << "Found‚o certificates in PEM string.";

298  
	gnuÎ±r
;

301 
	g¡d
::
unique_±r
<
O³nSSLKeyPaœ
> 
key_·œ
(

302 
O³nSSLKeyPaœ
::
FromPriv©eKeyPEMSŒšg
(
´iv©e_key
));

303 ià(!
	gkey_·œ
) {

304 
RTC_LOG
(
LS_ERROR
) << "Failedo create key…air from PEM string.";

305  
	gnuÎ±r
;

308  
	gab¦
::
W¿pUnique
(
Ãw
 
O³nSSLId’t™y
(

309 
¡d
::
move
(
key_·œ
), std::
make_unique
<
SSLC”tChaš
>(¡d::move(
û¹s
))));

312 cÚ¡ 
	gO³nSSLC”tifiÿ‹
& 
	gO³nSSLId’t™y
::
û¹ifiÿ‹
() const {

313  *
¡©ic_ÿ¡
<cÚ¡ 
O³nSSLC”tifiÿ‹
*>(&
û¹_chaš_
->
G‘
(0));

316 cÚ¡ 
	gSSLC”tChaš
& 
	gO³nSSLId’t™y
::
û¹_chaš
() const {

317  *
û¹_chaš_
.
g‘
();

320 
	g¡d
::
unique_±r
<
SSLId’t™y
> 
O³nSSLId’t™y
::
ClÚeIÁ”Çl
() const {

323  
ab¦
::
W¿pUnique
(
Ãw
 
O³nSSLId’t™y
(

324 
ab¦
::
W¿pUnique
(
key_·œ_
->
G‘Reã»nû
()), 
û¹_chaš_
->
ClÚe
()));

327 
boŞ
 
	gO³nSSLId’t™y
::
CÚfigu»Id’t™y
(
SSL_CTX
* 
ùx
) {

329 cÚ¡ 
O³nSSLC”tifiÿ‹
* 
û¹
 = &
û¹ifiÿ‹
();

330 ià(
SSL_CTX_u£_û¹ifiÿ‹
(
ùx
, 
û¹
->
x509
()) != 1 ||

331 
SSL_CTX_u£_Priv©eKey
(
ùx
, 
key_·œ_
->
pkey
()) != 1) {

332 
İ’s¦
::
LogSSLE¼Üs
("Configuring key‡nd certificate");

333  
	gçl£
;

336 
size_t
 
	gi
 = 1; i < 
	gû¹_chaš_
->
G‘Size
(); ++i) {

337 
	gû¹
 = 
¡©ic_ÿ¡
<cÚ¡ 
O³nSSLC”tifiÿ‹
*>(&
û¹_chaš_
->
G‘
(
i
));

338 ià(
SSL_CTX_add1_chaš_û¹
(
ùx
, 
û¹
->
x509
()) != 1) {

339 
İ’s¦
::
LogSSLE¼Üs
("Configuring intermediate certificate");

340  
	gçl£
;

344  
	gŒue
;

347 
	g¡d
::
¡ršg
 
O³nSSLId’t™y
::
Priv©eKeyToPEMSŒšg
() const {

348  
key_·œ_
->
Priv©eKeyToPEMSŒšg
();

351 
	g¡d
::
¡ršg
 
O³nSSLId’t™y
::
PublicKeyToPEMSŒšg
() const {

352  
key_·œ_
->
PublicKeyToPEMSŒšg
();

355 
boŞ
 
	gO³nSSLId’t™y
::
İ”©Ü
==(cÚ¡ 
O³nSSLId’t™y
& 
Ùh”
) const {

356  *
this
->
key_·œ_
 =ğ*
Ùh”
.key_pair_ &&

357 
this
->
û¹ifiÿ‹
(è=ğ
Ùh”
.certificate();

360 
boŞ
 
	gO³nSSLId’t™y
::
İ”©Ü
!=(cÚ¡ 
O³nSSLId’t™y
& 
Ùh”
) const {

361  !(*
this
 =ğ
Ùh”
);

	@openssl_identity.h

11 #iâdeà
RTC_BASE_OPENSSL_IDENTITY_H_


12 
	#RTC_BASE_OPENSSL_IDENTITY_H_


	)

14 
	~<İ’s¦/os¦_typ.h
>

16 
	~<ùime
>

17 
	~<memÜy
>

18 
	~<¡ršg
>

20 
	~"¹c_ba£/checks.h
"

21 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

22 
	~"¹c_ba£/İ’s¦_û¹ifiÿ‹.h
"

23 
	~"¹c_ba£/s¦_û¹ifiÿ‹.h
"

24 
	~"¹c_ba£/s¦_id’t™y.h
"

26 
Çme¥aû
 
	g¹c
 {

30 şas 
	cO³nSSLKeyPaœ
 
	gfš®
 {

31 
	gpublic
:

32 
ex¶ic™
 
O³nSSLKeyPaœ
(
EVP_PKEY
* 
pkey
è: 
pkey_
(pkey) {

33 
RTC_DCHECK
(
pkey_
 !ğ
nuÎ±r
);

36 
O³nSSLKeyPaœ
* 
G’”©e
(cÚ¡ 
KeyP¬ams
& 
key_·¿ms
);

39 
O³nSSLKeyPaœ
* 
FromPriv©eKeyPEMSŒšg
(cÚ¡ 
¡d
::
¡ršg
& 
³m_¡ršg
);

41 
	gvœtu®
 ~
O³nSSLKeyPaœ
();

43 
vœtu®
 
O³nSSLKeyPaœ
* 
G‘Reã»nû
();

45 
EVP_PKEY
* 
pkey
(ècÚ¡ {  
	gpkey_
; }

46 
	g¡d
::
¡ršg
 
Priv©eKeyToPEMSŒšg
() const;

47 
	g¡d
::
¡ršg
 
PublicKeyToPEMSŒšg
() const;

48 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
O³nSSLKeyPaœ
& 
Ùh”
) const;

49 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
O³nSSLKeyPaœ
& 
Ùh”
) const;

51 
	g´iv©e
:

52 
AddReã»nû
();

54 
EVP_PKEY
* 
	gpkey_
;

56 
RTC_DISALLOW_COPY_AND_ASSIGN
(
O³nSSLKeyPaœ
);

61 şas 
	cO³nSSLId’t™y
 
	gfš®
 : 
public
 
SSLId’t™y
 {

62 
public
:

63 
¡d
::
unique_±r
<
O³nSSLId’t™y
> 
C»©eW™hExpœ©iÚ
(

64 cÚ¡ 
¡d
::
¡ršg
& 
commÚ_Çme
,

65 cÚ¡ 
KeyP¬ams
& 
key_·¿ms
,

66 
time_t
 
û¹ifiÿ‹_liãtime
);

67 
	g¡d
::
unique_±r
<
O³nSSLId’t™y
> 
C»©eFÜTe¡
(

68 cÚ¡ 
SSLId’t™yP¬ams
& 
·¿ms
);

69 
	g¡d
::
unique_±r
<
SSLId’t™y
> 
C»©eFromPEMSŒšgs
(

70 cÚ¡ 
¡d
::
¡ršg
& 
´iv©e_key
,

71 cÚ¡ 
¡d
::
¡ršg
& 
û¹ifiÿ‹
);

72 
	g¡d
::
unique_±r
<
SSLId’t™y
> 
C»©eFromPEMChašSŒšgs
(

73 cÚ¡ 
¡d
::
¡ršg
& 
´iv©e_key
,

74 cÚ¡ 
¡d
::
¡ršg
& 
û¹ifiÿ‹_chaš
);

75 ~
O³nSSLId’t™y
(è
	gov”ride
;

77 cÚ¡ 
	gO³nSSLC”tifiÿ‹
& 
û¹ifiÿ‹
(ècÚ¡ 
	gov”ride
;

78 cÚ¡ 
	gSSLC”tChaš
& 
û¹_chaš
(ècÚ¡ 
	gov”ride
;

81 
boŞ
 
CÚfigu»Id’t™y
(
SSL_CTX
* 
ùx
);

83 
	g¡d
::
¡ršg
 
Priv©eKeyToPEMSŒšg
(ècÚ¡ 
ov”ride
;

84 
	g¡d
::
¡ršg
 
PublicKeyToPEMSŒšg
(ècÚ¡ 
ov”ride
;

85 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
O³nSSLId’t™y
& 
Ùh”
) const;

86 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
O³nSSLId’t™y
& 
Ùh”
) const;

88 
	g´iv©e
:

89 
O³nSSLId’t™y
(
¡d
::
unique_±r
<
O³nSSLKeyPaœ
> 
key_·œ
,

90 
¡d
::
unique_±r
<
O³nSSLC”tifiÿ‹
> 
û¹ifiÿ‹
);

91 
O³nSSLId’t™y
(
¡d
::
unique_±r
<
O³nSSLKeyPaœ
> 
key_·œ
,

92 
¡d
::
unique_±r
<
SSLC”tChaš
> 
û¹_chaš
);

93 
	g¡d
::
unique_±r
<
SSLId’t™y
> 
ClÚeIÁ”Çl
(ècÚ¡ 
ov”ride
;

95 
	g¡d
::
unique_±r
<
O³nSSLId’t™y
> 
C»©eIÁ”Çl
(

96 cÚ¡ 
SSLId’t™yP¬ams
& 
·¿ms
);

98 
	g¡d
::
unique_±r
<
O³nSSLKeyPaœ
> 
key_·œ_
;

99 
	g¡d
::
unique_±r
<
SSLC”tChaš
> 
û¹_chaš_
;

101 
RTC_DISALLOW_COPY_AND_ASSIGN
(
O³nSSLId’t™y
);

	@openssl_session_cache.cc

11 
	~"¹c_ba£/İ’s¦_£ssiÚ_ÿche.h
"

13 
	~"¹c_ba£/checks.h
"

14 
	~"¹c_ba£/İ’s¦.h
"

16 
Çme¥aû
 
	g¹c
 {

18 
	gO³nSSLSessiÚCache
::
O³nSSLSessiÚCache
(
SSLMode
 
s¦_mode
, 
SSL_CTX
* 
s¦_ùx
)

19 : 
s¦_mode_
(
s¦_mode
), 
s¦_ùx_
(
s¦_ùx
) {

21 
RTC_DCHECK
(
s¦_ùx
 !ğ
nuÎ±r
);

22 
SSL_CTX_up_»f
(
s¦_ùx
);

25 
	gO³nSSLSessiÚCache
::~
O³nSSLSessiÚCache
() {

26 cÚ¡‡uto& 
™
 : 
£ssiÚs_
) {

27 
SSL_SESSION_ä“
(
™
.
£cÚd
);

29 
SSL_CTX_ä“
(
s¦_ùx_
);

32 
SSL_SESSION
* 
	gO³nSSLSessiÚCache
::
LookupSessiÚ
(

33 cÚ¡ 
¡d
::
¡ršg
& 
ho¡Çme
) const {

34 autØ
™
 = 
£ssiÚs_
.
fšd
(
ho¡Çme
);

35  (
	g™
 !ğ
£ssiÚs_
.
’d
()è? 
™
->
£cÚd
 : 
nuÎ±r
;

38 
	gO³nSSLSessiÚCache
::
AddSessiÚ
(cÚ¡ 
¡d
::
¡ršg
& 
ho¡Çme
,

39 
SSL_SESSION
* 
Ãw_£ssiÚ
) {

40 
SSL_SESSION
* 
	gŞd_£ssiÚ
 = 
LookupSessiÚ
(
ho¡Çme
);

41 
SSL_SESSION_ä“
(
Şd_£ssiÚ
);

42 
	g£ssiÚs_
[
ho¡Çme
] = 
Ãw_£ssiÚ
;

45 
SSL_CTX
* 
	gO³nSSLSessiÚCache
::
G‘SSLCÚ‹xt
() const {

46  
s¦_ùx_
;

49 
SSLMode
 
	gO³nSSLSessiÚCache
::
G‘SSLMode
() const {

50  
s¦_mode_
;

	@openssl_session_cache.h

11 #iâdeà
RTC_BASE_OPENSSL_SESSION_CACHE_H_


12 
	#RTC_BASE_OPENSSL_SESSION_CACHE_H_


	)

14 
	~<İ’s¦/os¦_typ.h
>

16 
	~<m­
>

17 
	~<¡ršg
>

19 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

20 
	~"¹c_ba£/s¦_¡»am_ad­‹r.h
"

22 #iâdeà
OPENSSL_IS_BORINGSSL


23 
s¦_£ssiÚ_¡
 
	tSSL_SESSION
;

26 
Çme¥aû
 
	g¹c
 {

31 şas 
	cO³nSSLSessiÚCache
 
	gfš®
 {

32 
	gpublic
:

36 
O³nSSLSessiÚCache
(
SSLMode
 
s¦_mode
, 
SSL_CTX
* 
s¦_ùx
);

38 ~
O³nSSLSessiÚCache
();

40 
SSL_SESSION
* 
LookupSessiÚ
(cÚ¡ 
¡d
::
¡ršg
& 
ho¡Çme
) const;

43 
AddSessiÚ
(cÚ¡ 
¡d
::
¡ršg
& 
ho¡Çme
, 
SSL_SESSION
* 
£ssiÚ
);

45 
SSL_CTX
* 
G‘SSLCÚ‹xt
() const;

48 
SSLMode
 
G‘SSLMode
() const;

50 
	g´iv©e
:

53 cÚ¡ 
SSLMode
 
s¦_mode_
;

57 
SSL_CTX
* 
	gs¦_ùx_
 = 
nuÎ±r
;

61 
	g¡d
::
m­
<
¡d
::
¡ršg
, 
	gSSL_SESSION
*> 
	g£ssiÚs_
;

63 
RTC_DISALLOW_COPY_AND_ASSIGN
(
O³nSSLSessiÚCache
);

	@openssl_session_cache_unittest.cc

11 
	~"¹c_ba£/İ’s¦_£ssiÚ_ÿche.h
"

13 
	~<İ’s¦/s¦.h
>

14 
	~<¡dlib.h
>

16 
	~<m­
>

17 
	~<memÜy
>

19 
	~"¹c_ba£/gun™.h
"

20 
	~"¹c_ba£/İ’s¦.h
"

22 
Çme¥aû
 
	g¹c
 {

24 
TEST
(
O³nSSLSessiÚCache
, 
DTLSModeS‘CÜ»ùly
) {

25 
SSL_CTX
* 
	gs¦_ùx
 = 
SSL_CTX_Ãw
(
DTLSv1_2_ş›Á_m‘hod
());

27 
O³nSSLSessiÚCache
 
£ssiÚ_ÿche
(
SSL_MODE_DTLS
, 
s¦_ùx
);

28 
EXPECT_EQ
(
£ssiÚ_ÿche
.
G‘SSLMode
(), 
SSL_MODE_DTLS
);

30 
SSL_CTX_ä“
(
s¦_ùx
);

33 
TEST
(
O³nSSLSessiÚCache
, 
TLSModeS‘CÜ»ùly
) {

34 
SSL_CTX
* 
	gs¦_ùx
 = 
SSL_CTX_Ãw
(
TLSv1_2_ş›Á_m‘hod
());

36 
O³nSSLSessiÚCache
 
£ssiÚ_ÿche
(
SSL_MODE_TLS
, 
s¦_ùx
);

37 
EXPECT_EQ
(
£ssiÚ_ÿche
.
G‘SSLMode
(), 
SSL_MODE_TLS
);

39 
SSL_CTX_ä“
(
s¦_ùx
);

42 
TEST
(
O³nSSLSessiÚCache
, 
SSLCÚ‹xtS‘CÜ»ùly
) {

43 
SSL_CTX
* 
	gs¦_ùx
 = 
SSL_CTX_Ãw
(
DTLSv1_2_ş›Á_m‘hod
());

45 
O³nSSLSessiÚCache
 
£ssiÚ_ÿche
(
SSL_MODE_DTLS
, 
s¦_ùx
);

46 
EXPECT_EQ
(
£ssiÚ_ÿche
.
G‘SSLCÚ‹xt
(), 
s¦_ùx
);

48 
SSL_CTX_ä“
(
s¦_ùx
);

51 
TEST
(
O³nSSLSessiÚCache
, 
Inv®idLookupR‘uºsNuÎ±r
) {

52 
SSL_CTX
* 
	gs¦_ùx
 = 
SSL_CTX_Ãw
(
DTLSv1_2_ş›Á_m‘hod
());

54 
O³nSSLSessiÚCache
 
£ssiÚ_ÿche
(
SSL_MODE_DTLS
, 
s¦_ùx
);

55 
EXPECT_EQ
(
£ssiÚ_ÿche
.
LookupSessiÚ
("Inv®id"), 
nuÎ±r
);

56 
EXPECT_EQ
(
£ssiÚ_ÿche
.
LookupSessiÚ
(""), 
nuÎ±r
);

57 
EXPECT_EQ
(
£ssiÚ_ÿche
.
LookupSessiÚ
("."), 
nuÎ±r
);

59 
SSL_CTX_ä“
(
s¦_ùx
);

62 
TEST
(
O³nSSLSessiÚCache
, 
Sim¶eV®idSessiÚLookup
) {

63 
SSL_CTX
* 
	gs¦_ùx
 = 
SSL_CTX_Ãw
(
DTLSv1_2_ş›Á_m‘hod
());

64 
SSL_SESSION
* 
	gs¦_£ssiÚ
 = 
SSL_SESSION_Ãw
(
s¦_ùx
);

66 
O³nSSLSessiÚCache
 
£ssiÚ_ÿche
(
SSL_MODE_DTLS
, 
s¦_ùx
);

67 
	g£ssiÚ_ÿche
.
AddSessiÚ
("web¹c.Üg", 
s¦_£ssiÚ
);

68 
EXPECT_EQ
(
£ssiÚ_ÿche
.
LookupSessiÚ
("web¹c.Üg"), 
s¦_£ssiÚ
);

70 
SSL_CTX_ä“
(
s¦_ùx
);

73 
TEST
(
O³nSSLSessiÚCache
, 
AddToExi¡šgR•ÏûsP»vious
) {

74 
SSL_CTX
* 
	gs¦_ùx
 = 
SSL_CTX_Ãw
(
DTLSv1_2_ş›Á_m‘hod
());

75 
SSL_SESSION
* 
	gs¦_£ssiÚ_1
 = 
SSL_SESSION_Ãw
(
s¦_ùx
);

76 
SSL_SESSION
* 
	gs¦_£ssiÚ_2
 = 
SSL_SESSION_Ãw
(
s¦_ùx
);

78 
O³nSSLSessiÚCache
 
£ssiÚ_ÿche
(
SSL_MODE_DTLS
, 
s¦_ùx
);

79 
	g£ssiÚ_ÿche
.
AddSessiÚ
("web¹c.Üg", 
s¦_£ssiÚ_1
);

80 
	g£ssiÚ_ÿche
.
AddSessiÚ
("web¹c.Üg", 
s¦_£ssiÚ_2
);

81 
EXPECT_EQ
(
£ssiÚ_ÿche
.
LookupSessiÚ
("web¹c.Üg"), 
s¦_£ssiÚ_2
);

83 
SSL_CTX_ä“
(
s¦_ùx
);

	@openssl_stream_adapter.cc

11 
	~"¹c_ba£/İ’s¦_¡»am_ad­‹r.h
"

13 
	~<İ’s¦/bio.h
>

14 
	~<İ’s¦/üy±o.h
>

15 
	~<İ’s¦/”r.h
>

16 
	~<İ’s¦/¿nd.h
>

17 
	~<İ’s¦/s1.h
>

18 
	~<İ’s¦/x509v3.h
>

19 #iâdeà
OPENSSL_IS_BORINGSSL


20 
	~<İ’s¦/ds1.h
>

21 
	~<İ’s¦/s¦.h
>

24 
	~<memÜy
>

25 
	~<ut™y
>

26 
	~<veùÜ
>

28 
	~"¹c_ba£/checks.h
"

29 
	~"¹c_ba£/loggšg.h
"

30 
	~"¹c_ba£/num”ics/§ã_cÚv”siÚs.h
"

31 
	~"¹c_ba£/İ’s¦.h
"

32 
	~"¹c_ba£/İ’s¦_ad­‹r.h
"

33 
	~"¹c_ba£/İ’s¦_dige¡.h
"

34 
	~"¹c_ba£/İ’s¦_id’t™y.h
"

35 
	~"¹c_ba£/s¦_û¹ifiÿ‹.h
"

36 
	~"¹c_ba£/¡»am.h
"

37 
	~"¹c_ba£/th»ad.h
"

38 
	~"¹c_ba£/time_uts.h
"

39 
	~"sy¡em_w¿µ”s/šşude/f›ld_ŒŸl.h
"

41 #ià(
OPENSSL_VERSION_NUMBER
 < 0x10100000L)

46 
	#DEFINE_CIPHER_ENTRY_SSL3
(
Çme
) \

47 { 
SSL3_CK_
##
Çme
, "TLS_" #Çm}

	)

48 
	#DEFINE_CIPHER_ENTRY_TLS1
(
Çme
) \

49 { 
TLS1_CK_
##
Çme
, "TLS_" #Çm}

	)

51 
Çme¥aû
 
	g¹c
 {

52 
	gÇme¥aû
 {

57 
	sS¹pCh”M­EÁry
 {

58 cÚ¡ * 
	gš‹º®_Çme
;

59 cÚ¡ 
	gid
;

63 
	sS¦Ch”M­EÁry
 {

64 
ušt32_t
 
	gİ’s¦_id
;

65 cÚ¡ * 
	grfc_Çme
;

69 
cÚ¡ex´
 
S¹pCh”M­EÁry
 
	gkS¹pCh”M­
[] = {

70 {"SRTP_AES128_CM_SHA1_80", 
SRTP_AES128_CM_SHA1_80
},

71 {"SRTP_AES128_CM_SHA1_32", 
SRTP_AES128_CM_SHA1_32
},

72 {"SRTP_AEAD_AES_128_GCM", 
SRTP_AEAD_AES_128_GCM
},

73 {"SRTP_AEAD_AES_256_GCM", 
SRTP_AEAD_AES_256_GCM
}};

75 #iâdeà
OPENSSL_IS_BORINGSSL


78 
cÚ¡ex´
 
S¦Ch”M­EÁry
 
	gkS¦Ch”M­
[] = {

80 
DEFINE_CIPHER_ENTRY_SSL3
(
RSA_RC4_128_SHA
),

81 {
SSL3_CK_RSA_DES_192_CBC3_SHA
, "TLS_RSA_WITH_3DES_EDE_CBC_SHA"},

84 {
TLS1_CK_RSA_WITH_AES_128_SHA
, "TLS_RSA_WITH_AES_128_CBC_SHA"},

85 {
TLS1_CK_DHE_RSA_WITH_AES_128_SHA
, "TLS_DHE_RSA_WITH_AES_128_CBC_SHA"},

86 {
TLS1_CK_RSA_WITH_AES_256_SHA
, "TLS_RSA_WITH_AES_256_CBC_SHA"},

87 {
TLS1_CK_DHE_RSA_WITH_AES_256_SHA
, "TLS_DHE_RSA_WITH_AES_256_CBC_SHA"},

90 
DEFINE_CIPHER_ENTRY_TLS1
(
ECDHE_ECDSA_WITH_RC4_128_SHA
),

91 {
TLS1_CK_ECDHE_ECDSA_WITH_DES_192_CBC3_SHA
,

93 
DEFINE_CIPHER_ENTRY_TLS1
(
ECDHE_ECDSA_WITH_AES_128_CBC_SHA
),

94 
DEFINE_CIPHER_ENTRY_TLS1
(
ECDHE_ECDSA_WITH_AES_256_CBC_SHA
),

96 
DEFINE_CIPHER_ENTRY_TLS1
(
ECDHE_RSA_WITH_RC4_128_SHA
),

97 {
TLS1_CK_ECDHE_RSA_WITH_DES_192_CBC3_SHA
,

99 
DEFINE_CIPHER_ENTRY_TLS1
(
ECDHE_RSA_WITH_AES_128_CBC_SHA
),

100 
DEFINE_CIPHER_ENTRY_TLS1
(
ECDHE_RSA_WITH_AES_256_CBC_SHA
),

103 {
TLS1_CK_RSA_WITH_AES_128_SHA256
, "TLS_RSA_WITH_AES_128_CBC_SHA256"},

104 {
TLS1_CK_RSA_WITH_AES_256_SHA256
, "TLS_RSA_WITH_AES_256_CBC_SHA256"},

105 {
TLS1_CK_DHE_RSA_WITH_AES_128_SHA256
,

107 {
TLS1_CK_DHE_RSA_WITH_AES_256_SHA256
,

111 
DEFINE_CIPHER_ENTRY_TLS1
(
RSA_WITH_AES_128_GCM_SHA256
),

112 
DEFINE_CIPHER_ENTRY_TLS1
(
RSA_WITH_AES_256_GCM_SHA384
),

113 
DEFINE_CIPHER_ENTRY_TLS1
(
DHE_RSA_WITH_AES_128_GCM_SHA256
),

114 
DEFINE_CIPHER_ENTRY_TLS1
(
DHE_RSA_WITH_AES_256_GCM_SHA384
),

115 
DEFINE_CIPHER_ENTRY_TLS1
(
DH_RSA_WITH_AES_128_GCM_SHA256
),

116 
DEFINE_CIPHER_ENTRY_TLS1
(
DH_RSA_WITH_AES_256_GCM_SHA384
),

119 {
TLS1_CK_ECDHE_ECDSA_WITH_AES_128_SHA256
,

121 {
TLS1_CK_ECDHE_ECDSA_WITH_AES_256_SHA384
,

123 {
TLS1_CK_ECDHE_RSA_WITH_AES_128_SHA256
,

125 {
TLS1_CK_ECDHE_RSA_WITH_AES_256_SHA384
,

129 
DEFINE_CIPHER_ENTRY_TLS1
(
ECDHE_ECDSA_WITH_AES_128_GCM_SHA256
),

130 
DEFINE_CIPHER_ENTRY_TLS1
(
ECDHE_ECDSA_WITH_AES_256_GCM_SHA384
),

131 
DEFINE_CIPHER_ENTRY_TLS1
(
ECDHE_RSA_WITH_AES_128_GCM_SHA256
),

132 
DEFINE_CIPHER_ENTRY_TLS1
(
ECDHE_RSA_WITH_AES_256_GCM_SHA384
),

134 {0, 
nuÎ±r
}};

137 #ifdeà
OPENSSL_IS_BORINGSSL


140 
boŞ
 
	gg_u£_time_ÿÎback_fÜ_‹¡šg
 = 
çl£
;

142 
TimeC®lbackFÜTe¡šg
(cÚ¡ 
SSL
* 
s¦
, 
timev®
* 
out_şock
) {

143 
št64_t
 
	gtime
 = 
TimeNªos
();

144 
	gout_şock
->
	gtv_£c
 = 
time
 / 
kNumNªo£csP”Sec
;

145 
	gout_şock
->
	gtv_u£c
 = (
time
 % 
kNumNªo£csP”Sec
è/ 
kNumNªo£csP”Miüo£c
;

155 
¡»am_wr™e
(
BIO
* 
h
, cÚ¡ * 
buf
, 
num
);

156 
¡»am_»ad
(
BIO
* 
h
, * 
buf
, 
size
);

157 
¡»am_puts
(
BIO
* 
h
, cÚ¡ * 
¡r
);

158 
¡»am_ù¾
(
BIO
* 
h
, 
cmd
, 
¬g1
, * 
¬g2
);

159 
¡»am_Ãw
(
BIO
* 
h
);

160 
¡»am_ä“
(
BIO
* 
d©a
);

162 
BIO_METHOD
* 
BIO_¡»am_m‘hod
() {

163 
BIO_METHOD
* 
	gm‘hod
 = [] {

164 
BIO_METHOD
* 
m‘hod
 = 
BIO_m‘h_Ãw
(
BIO_TYPE_BIO
, "stream");

165 
BIO_m‘h_£t_wr™e
(
m‘hod
, 
¡»am_wr™e
);

166 
BIO_m‘h_£t_»ad
(
m‘hod
, 
¡»am_»ad
);

167 
BIO_m‘h_£t_puts
(
m‘hod
, 
¡»am_puts
);

168 
BIO_m‘h_£t_ù¾
(
m‘hod
, 
¡»am_ù¾
);

169 
BIO_m‘h_£t_ü—‹
(
m‘hod
, 
¡»am_Ãw
);

170 
BIO_m‘h_£t_de¡roy
(
m‘hod
, 
¡»am_ä“
);

171  
	gm‘hod
;

173  
	gm‘hod
;

176 
BIO
* 
BIO_Ãw_¡»am
(
SŒ—mIÁ”çû
* 
¡»am
) {

177 
BIO
* 
	g»t
 = 
BIO_Ãw
(
BIO_¡»am_m‘hod
());

178 ià(
	g»t
 =ğ
nuÎ±r
) {

179  
nuÎ±r
;

181 
BIO_£t_d©a
(
»t
, 
¡»am
);

182  
	g»t
;

187 
¡»am_Ãw
(
BIO
* 
b
) {

188 
BIO_£t_shutdown
(
b
, 0);

189 
BIO_£t_š™
(
b
, 1);

190 
BIO_£t_d©a
(
b
, 0);

194 
¡»am_ä“
(
BIO
* 
b
) {

195 ià(
	gb
 =ğ
nuÎ±r
) {

201 
¡»am_»ad
(
BIO
* 
b
, * 
out
, 
ou
) {

202 ià(!
	gout
) {

205 
SŒ—mIÁ”çû
* 
	g¡»am
 = 
¡©ic_ÿ¡
<SŒ—mIÁ”çû*>(
BIO_g‘_d©a
(
b
));

206 
BIO_ş—r_»Œy_æags
(
b
);

207 
size_t
 
	g»ad
;

208 
	g”rÜ
;

209 
SŒ—mResuÉ
 
	g»suÉ
 = 
¡»am
->
R—d
(
out
, 
ou
, &
»ad
, &
”rÜ
);

210 ià(
	g»suÉ
 =ğ
SR_SUCCESS
) {

211  
checked_ÿ¡
<>(
»ad
);

212 } ià(
	g»suÉ
 =ğ
SR_BLOCK
) {

213 
BIO_£t_»Œy_»ad
(
b
);

218 
¡»am_wr™e
(
BIO
* 
b
, cÚ¡ * 
š
, 
šl
) {

219 ià(!
	gš
) {

222 
SŒ—mIÁ”çû
* 
	g¡»am
 = 
¡©ic_ÿ¡
<SŒ—mIÁ”çû*>(
BIO_g‘_d©a
(
b
));

223 
BIO_ş—r_»Œy_æags
(
b
);

224 
size_t
 
	gwr™‹n
;

225 
	g”rÜ
;

226 
SŒ—mResuÉ
 
	g»suÉ
 = 
¡»am
->
Wr™e
(
š
, 
šl
, &
wr™‹n
, &
”rÜ
);

227 ià(
	g»suÉ
 =ğ
SR_SUCCESS
) {

228  
checked_ÿ¡
<>(
wr™‹n
);

229 } ià(
	g»suÉ
 =ğ
SR_BLOCK
) {

230 
BIO_£t_»Œy_wr™e
(
b
);

235 
¡»am_puts
(
BIO
* 
b
, cÚ¡ * 
¡r
) {

236  
¡»am_wr™e
(
b
, 
¡r
, 
checked_ÿ¡
<>(
¡¾’
(str)));

239 
¡»am_ù¾
(
BIO
* 
b
, 
cmd
, 
num
, * 
±r
) {

240 
	gcmd
) {

241 
	gBIO_CTRL_RESET
:

243 
	gBIO_CTRL_EOF
: {

244 
SŒ—mIÁ”çû
* 
¡»am
 = 
¡©ic_ÿ¡
<SŒ—mIÁ”çû*>(
±r
);

246  (
	g¡»am
->
G‘S‹
(è=ğ
SS_CLOSED
) ? 1 : 0;

248 
	gBIO_CTRL_WPENDING
:

249 
BIO_CTRL_PENDING
:

251 
	gBIO_CTRL_FLUSH
:

253 
	gBIO_CTRL_DGRAM_QUERY_MTU
:

268 
	gO³nSSLSŒ—mAd­‹r
::
O³nSSLSŒ—mAd­‹r
(

269 
¡d
::
unique_±r
<
SŒ—mIÁ”çû
> 
¡»am
)

270 : 
SSLSŒ—mAd­‹r
(
¡d
::
move
(
¡»am
)),

271 
¡©e_
(
SSL_NONE
),

272 
rŞe_
(
SSL_CLIENT
),

273 
s¦_»ad_Ãeds_wr™e_
(
çl£
),

274 
s¦_wr™e_Ãeds_»ad_
(
çl£
),

275 
s¦_
(
nuÎ±r
),

276 
s¦_ùx_
(
nuÎ±r
),

277 
s¦_mode_
(
SSL_MODE_TLS
),

278 
s¦_max_v”siÚ_
(
SSL_PROTOCOL_TLS_12
),

281 
suµÜt_Ëgacy_s_´ÙocŞs_æag_
(

282 !
web¹c
::
f›ld_ŒŸl
::
IsDi§bËd
("WebRTC-LegacyTlsProtocols")) {}

284 
O³nSSLSŒ—mAd­‹r
::~OpenSSLStreamAdapter() {

285 
CËªup
(0);

288 
	gO³nSSLSŒ—mAd­‹r
::
S‘Id’t™y
(
¡d
::
unique_±r
<
SSLId’t™y
> 
id’t™y
) {

289 
RTC_DCHECK
(!
id’t™y_
);

290 
	gid’t™y_
.
»£t
(
¡©ic_ÿ¡
<
O³nSSLId’t™y
*>(
id’t™y
.
»Ëa£
()));

293 
O³nSSLId’t™y
* 
	gO³nSSLSŒ—mAd­‹r
::
G‘Id’t™yFÜTe¡šg
() const {

294  
id’t™y_
.
g‘
();

297 
	gO³nSSLSŒ—mAd­‹r
::
S‘S”v”RŞe
(
SSLRŞe
 
rŞe
) {

298 
rŞe_
 = 
rŞe
;

301 
boŞ
 
	gO³nSSLSŒ—mAd­‹r
::
S‘P“rC”tifiÿ‹Dige¡
(

302 cÚ¡ 
¡d
::
¡ršg
& 
dige¡_®g
,

303 cÚ¡ * 
dige¡_v®
,

304 
size_t
 
dige¡_Ën
,

305 
SSLP“rC”tifiÿ‹Dige¡E¼Ü
* 
”rÜ
) {

306 
RTC_DCHECK
(!
³”_û¹ifiÿ‹_v”if›d_
);

307 
RTC_DCHECK
(!
HasP“rC”tifiÿ‹Dige¡
());

308 
size_t
 
	gex³ùed_Ën
;

309 ià(
	g”rÜ
) {

310 *
	g”rÜ
 = 
SSLP“rC”tifiÿ‹Dige¡E¼Ü
::
NONE
;

313 ià(!
	gO³nSSLDige¡
::
G‘Dige¡Size
(
dige¡_®g
, &
ex³ùed_Ën
)) {

314 
RTC_LOG
(
LS_WARNING
è<< "UnknowÀdige¡‡lgÜ™hm: " << 
	gdige¡_®g
;

315 ià(
	g”rÜ
) {

316 *
	g”rÜ
 = 
SSLP“rC”tifiÿ‹Dige¡E¼Ü
::
UNKNOWN_ALGORITHM
;

318  
	gçl£
;

320 ià(
	gex³ùed_Ën
 !ğ
dige¡_Ën
) {

321 ià(
”rÜ
) {

322 *
”rÜ
 = 
SSLP“rC”tifiÿ‹Dige¡E¼Ü
::
INVALID_LENGTH
;

324  
	gçl£
;

327 
	g³”_û¹ifiÿ‹_dige¡_v®ue_
.
S‘D©a
(
dige¡_v®
, 
dige¡_Ën
);

328 
	g³”_û¹ifiÿ‹_dige¡_®gÜ™hm_
 = 
dige¡_®g
;

330 ià(!
	g³”_û¹_chaš_
) {

333  
	gŒue
;

336 ià(!
V”ifyP“rC”tifiÿ‹
()) {

337 
E¼Ü
("S‘P“rC”tifiÿ‹Dige¡", -1, 
SSL_AD_BAD_CERTIFICATE
, 
çl£
);

338 ià(
	g”rÜ
) {

339 *
	g”rÜ
 = 
SSLP“rC”tifiÿ‹Dige¡E¼Ü
::
VERIFICATION_FAILED
;

341  
	gçl£
;

344 ià(
	g¡©e_
 =ğ
SSL_CONNECTED
) {

348 
Po¡Ev’t
(
SE_OPEN
 | 
SE_READ
 | 
SE_WRITE
, 0);

351  
	gŒue
;

354 
	g¡d
::
¡ršg
 
O³nSSLSŒ—mAd­‹r
::
S¦Ch”Su™eToName
(
ch”_su™e
) {

355 #ifdeà
OPENSSL_IS_BORINGSSL


356 cÚ¡ 
SSL_CIPHER
* 
s¦_ch”
 = 
SSL_g‘_ch”_by_v®ue
(
ch”_su™e
);

357 ià(!
	gs¦_ch”
) {

358  
	g¡d
::
¡ršg
();

360  
SSL_CIPHER_¡ªd¬d_Çme
(
s¦_ch”
);

362 cÚ¡ 
S¦Ch”M­EÁry
* 
	g’Œy
 = 
kS¦Ch”M­
;ƒÁry->
	grfc_Çme
;

363 ++
	g’Œy
) {

364 ià(
	gch”_su™e
 =ğ
¡©ic_ÿ¡
<>(
’Œy
->
İ’s¦_id
)) {

365  
’Œy
->
rfc_Çme
;

368  
	g¡d
::
¡ršg
();

372 
boŞ
 
	gO³nSSLSŒ—mAd­‹r
::
G‘S¦Ch”Su™e
(* 
ch”_su™e
) {

373 ià(
¡©e_
 !ğ
SSL_CONNECTED
) {

374  
çl£
;

377 cÚ¡ 
SSL_CIPHER
* 
	gcu¼’t_ch”
 = 
SSL_g‘_cu¼’t_ch”
(
s¦_
);

378 ià(
	gcu¼’t_ch”
 =ğ
nuÎ±r
) {

379  
çl£
;

382 *
	gch”_su™e
 = 
¡©ic_ÿ¡
<
ušt16_t
>(
SSL_CIPHER_g‘_id
(
cu¼’t_ch”
));

383  
	gŒue
;

386 
SSLPrÙocŞV”siÚ
 
	gO³nSSLSŒ—mAd­‹r
::
G‘S¦V”siÚ
() const {

387 ià(
¡©e_
 !ğ
SSL_CONNECTED
) {

388  
SSL_PROTOCOL_NOT_GIVEN
;

391 
	gs¦_v”siÚ
 = 
SSL_v”siÚ
(
s¦_
);

392 ià(
	gs¦_mode_
 =ğ
SSL_MODE_DTLS
) {

393 ià(
s¦_v”siÚ
 =ğ
DTLS1_VERSION
) {

394  
SSL_PROTOCOL_DTLS_10
;

395 } ià(
	gs¦_v”siÚ
 =ğ
DTLS1_2_VERSION
) {

396  
SSL_PROTOCOL_DTLS_12
;

399 ià(
	gs¦_v”siÚ
 =ğ
TLS1_VERSION
) {

400  
SSL_PROTOCOL_TLS_10
;

401 } ià(
	gs¦_v”siÚ
 =ğ
TLS1_1_VERSION
) {

402  
SSL_PROTOCOL_TLS_11
;

403 } ià(
	gs¦_v”siÚ
 =ğ
TLS1_2_VERSION
) {

404  
SSL_PROTOCOL_TLS_12
;

408  
	gSSL_PROTOCOL_NOT_GIVEN
;

411 
boŞ
 
	gO³nSSLSŒ—mAd­‹r
::
G‘S¦V”siÚBy‹s
(* 
v”siÚ
) const {

412 ià(
¡©e_
 !ğ
SSL_CONNECTED
) {

413  
çl£
;

415 *
	gv”siÚ
 = 
SSL_v”siÚ
(
s¦_
);

416  
	gŒue
;

420 
boŞ
 
	gO³nSSLSŒ—mAd­‹r
::
ExpÜtKeyšgM©”Ÿl
(cÚ¡ 
¡d
::
¡ršg
& 
Ïb–
,

421 cÚ¡ 
ušt8_t
* 
cÚ‹xt
,

422 
size_t
 
cÚ‹xt_Ën
,

423 
boŞ
 
u£_cÚ‹xt
,

424 
ušt8_t
* 
»suÉ
,

425 
size_t
 
»suÉ_Ën
) {

426 ià(
SSL_expÜt_keyšg_m©”Ÿl
(
s¦_
, 
»suÉ
, 
»suÉ_Ën
, 
Ïb–
.
c_¡r
(),

427 
Ïb–
.
Ëngth
(), 
cÚ¡_ÿ¡
<
ušt8_t
*>(
cÚ‹xt
),

428 
cÚ‹xt_Ën
, 
u£_cÚ‹xt
) != 1) {

429  
çl£
;

431  
	gŒue
;

434 
boŞ
 
	gO³nSSLSŒ—mAd­‹r
::
S‘DsS¹pCry±oSu™es
(

435 cÚ¡ 
¡d
::
veùÜ
<>& 
ch”s
) {

436 ià(
¡©e_
 !ğ
SSL_NONE
) {

437  
çl£
;

440 
	g¡d
::
¡ršg
 
š‹º®_ch”s
;

441 cÚ¡ 
	gch”
 : 
ch”s
) {

442 
boŞ
 
found
 = 
çl£
;

443 cÚ¡‡uto& 
	g’Œy
 : 
kS¹pCh”M­
) {

444 ià(
ch”
 =ğ
’Œy
.
id
) {

445 
found
 = 
Œue
;

446 ià(!
	gš‹º®_ch”s
.
em±y
()) {

447 
	gš‹º®_ch”s
 += ":";

449 
	gš‹º®_ch”s
 +ğ
’Œy
.
š‹º®_Çme
;

454 ià(!
	gfound
) {

455 
RTC_LOG
(
LS_ERROR
è<< "Could‚Ù fšd ch”: " << 
	gch”
;

456  
	gçl£
;

460 ià(
	gš‹º®_ch”s
.
em±y
()) {

461  
	gçl£
;

464 
	g¤_ch”s_
 = 
š‹º®_ch”s
;

465  
	gŒue
;

468 
boŞ
 
	gO³nSSLSŒ—mAd­‹r
::
G‘DsS¹pCry±oSu™e
(* 
üy±o_su™e
) {

469 
RTC_DCHECK
(
¡©e_
 =ğ
SSL_CONNECTED
);

470 ià(
	g¡©e_
 !ğ
SSL_CONNECTED
) {

471  
çl£
;

474 cÚ¡ 
SRTP_PROTECTION_PROFILE
* 
	g¤_´ofe
 =

475 
SSL_g‘_£Ëùed_¤_´ofe
(
s¦_
);

477 ià(!
	g¤_´ofe
) {

478  
	gçl£
;

481 *
	güy±o_su™e
 = 
¤_´ofe
->
id
;

482 
RTC_DCHECK
(!
S¹pCry±oSu™eToName
(*
üy±o_su™e
).
em±y
());

483  
	gŒue
;

486 
boŞ
 
	gO³nSSLSŒ—mAd­‹r
::
IsTlsCÚÃùed
() {

487  
¡©e_
 =ğ
SSL_CONNECTED
;

490 
	gO³nSSLSŒ—mAd­‹r
::
S¹SSL
() {

492 ià(
¡©e_
 !ğ
SSL_NONE
) {

496 ià(
	gSŒ—mAd­‹rIÁ”çû
::
G‘S‹
(è!ğ
SS_OPEN
) {

497 
¡©e_
 = 
SSL_WAIT
;

501 
	g¡©e_
 = 
SSL_CONNECTING
;

502 ià(
	g”r
 = 
BegšSSL
()) {

503 
E¼Ü
("BegšSSL", 
”r
, 0, 
çl£
);

504  
	g”r
;

510 
	gO³nSSLSŒ—mAd­‹r
::
S‘Mode
(
SSLMode
 
mode
) {

511 
RTC_DCHECK
(
¡©e_
 =ğ
SSL_NONE
);

512 
	gs¦_mode_
 = 
mode
;

515 
	gO³nSSLSŒ—mAd­‹r
::
S‘MaxPrÙocŞV”siÚ
(
SSLPrÙocŞV”siÚ
 
v”siÚ
) {

516 
RTC_DCHECK
(
s¦_ùx_
 =ğ
nuÎ±r
);

517 
	gs¦_max_v”siÚ_
 = 
v”siÚ
;

520 
	gO³nSSLSŒ—mAd­‹r
::
S‘In™ŸlR‘¿nsmissiÚTimeout
(
timeout_ms
) {

521 
RTC_DCHECK
(
s¦_ùx_
 =ğ
nuÎ±r
);

522 
	gds_hªdshake_timeout_ms_
 = 
timeout_ms
;

529 
SŒ—mResuÉ
 
	gO³nSSLSŒ—mAd­‹r
::
Wr™e
(cÚ¡ * 
d©a
,

530 
size_t
 
d©a_Ën
,

531 
size_t
* 
wr™‹n
,

532 * 
”rÜ
) {

533 
RTC_LOG
(
LS_VERBOSE
è<< "O³nSSLSŒ—mAd­‹r::Wr™e(" << 
	gd©a_Ën
 << ")";

535 
	g¡©e_
) {

536 
	gSSL_NONE
:

538  
SŒ—mAd­‹rIÁ”çû
::
Wr™e
(
d©a
, 
d©a_Ën
, 
wr™‹n
, 
”rÜ
);

540 
	gSSL_WAIT
:

541 
SSL_CONNECTING
:

542  
SR_BLOCK
;

544 
	gSSL_CONNECTED
:

545 ià(
Wa™šgToV”ifyP“rC”tifiÿ‹
()) {

546  
SR_BLOCK
;

550 
	gSSL_ERROR
:

551 
SSL_CLOSED
:

553 ià(
”rÜ
) {

554 *
”rÜ
 = 
s¦_”rÜ_code_
;

556  
	gSR_ERROR
;

560 ià(
	gd©a_Ën
 == 0) {

561 ià(
wr™‹n
) {

562 *
wr™‹n
 = 0;

564  
	gSR_SUCCESS
;

567 
	gs¦_wr™e_Ãeds_»ad_
 = 
çl£
;

569 
	gcode
 = 
SSL_wr™e
(
s¦_
, 
d©a
, 
checked_ÿ¡
<>(
d©a_Ën
));

570 
	gs¦_”rÜ
 = 
SSL_g‘_”rÜ
(
s¦_
, 
code
);

571 
	gs¦_”rÜ
) {

572 
	gSSL_ERROR_NONE
:

573 
RTC_LOG
(
LS_VERBOSE
) << " -- success";

574 
RTC_DCHECK_GT
(
code
, 0);

575 
RTC_DCHECK_LE
(
code
, 
d©a_Ën
);

576 ià(
	gwr™‹n
)

577 *
	gwr™‹n
 = 
code
;

578  
	gSR_SUCCESS
;

579 
	gSSL_ERROR_WANT_READ
:

580 
RTC_LOG
(
LS_VERBOSE
) << " --ƒrror want„ead";

581 
	gs¦_wr™e_Ãeds_»ad_
 = 
Œue
;

582  
	gSR_BLOCK
;

583 
	gSSL_ERROR_WANT_WRITE
:

584 
RTC_LOG
(
LS_VERBOSE
) << " --ƒrror want write";

585  
	gSR_BLOCK
;

587 
	gSSL_ERROR_ZERO_RETURN
:

589 
E¼Ü
("SSL_wr™e", (
s¦_”rÜ
 ? s¦_”rÜ : -1), 0, 
çl£
);

590 ià(
	g”rÜ
) {

591 *
	g”rÜ
 = 
s¦_”rÜ_code_
;

593  
	gSR_ERROR
;

598 
SŒ—mResuÉ
 
	gO³nSSLSŒ—mAd­‹r
::
R—d
(* 
d©a
,

599 
size_t
 
d©a_Ën
,

600 
size_t
* 
»ad
,

601 * 
”rÜ
) {

602 
RTC_LOG
(
LS_VERBOSE
è<< "O³nSSLSŒ—mAd­‹r::R—d(" << 
	gd©a_Ën
 << ")";

603 
	g¡©e_
) {

604 
	gSSL_NONE
:

606  
SŒ—mAd­‹rIÁ”çû
::
R—d
(
d©a
, 
d©a_Ën
, 
»ad
, 
”rÜ
);

607 
	gSSL_WAIT
:

608 
SSL_CONNECTING
:

609  
SR_BLOCK
;

610 
	gSSL_CONNECTED
:

611 ià(
Wa™šgToV”ifyP“rC”tifiÿ‹
()) {

612  
SR_BLOCK
;

615 
	gSSL_CLOSED
:

616  
SR_EOS
;

617 
	gSSL_ERROR
:

619 ià(
”rÜ
) {

620 *
”rÜ
 = 
s¦_”rÜ_code_
;

622  
	gSR_ERROR
;

626 ià(
	gd©a_Ën
 == 0) {

627 ià(
»ad
) {

628 *
»ad
 = 0;

630  
	gSR_SUCCESS
;

633 
	gs¦_»ad_Ãeds_wr™e_
 = 
çl£
;

635 cÚ¡ 
	gcode
 = 
SSL_»ad
(
s¦_
, 
d©a
, 
checked_ÿ¡
<>(
d©a_Ën
));

636 cÚ¡ 
	gs¦_”rÜ
 = 
SSL_g‘_”rÜ
(
s¦_
, 
code
);

638 
	gs¦_”rÜ
) {

639 
	gSSL_ERROR_NONE
:

640 
RTC_LOG
(
LS_VERBOSE
) << " -- success";

641 
RTC_DCHECK_GT
(
code
, 0);

642 
RTC_DCHECK_LE
(
code
, 
d©a_Ën
);

643 ià(
	g»ad
) {

644 *
	g»ad
 = 
code
;

647 ià(
	gs¦_mode_
 =ğ
SSL_MODE_DTLS
) {

649 
³ndšg
 = 
SSL_³ndšg
(
s¦_
);

651 ià(
	g³ndšg
) {

652 
RTC_LOG
(
LS_INFO
) << " -- short DTLS„ead. flushing";

653 
FlushIÅut
(
³ndšg
);

654 ià(
	g”rÜ
) {

655 *
	g”rÜ
 = 
SSE_MSG_TRUNC
;

657  
	gSR_ERROR
;

660  
	gSR_SUCCESS
;

661 
	gSSL_ERROR_WANT_READ
:

662 
RTC_LOG
(
LS_VERBOSE
) << " --ƒrror want„ead";

663  
	gSR_BLOCK
;

664 
	gSSL_ERROR_WANT_WRITE
:

665 
RTC_LOG
(
LS_VERBOSE
) << " --ƒrror want write";

666 
	gs¦_»ad_Ãeds_wr™e_
 = 
Œue
;

667  
	gSR_BLOCK
;

668 
	gSSL_ERROR_ZERO_RETURN
:

669 
RTC_LOG
(
LS_VERBOSE
) << " --„emote side closed";

670 
Clo£
();

671  
	gSR_EOS
;

673 
E¼Ü
("SSL_»ad", (
s¦_”rÜ
 ? s¦_”rÜ : -1), 0, 
çl£
);

674 ià(
	g”rÜ
) {

675 *
	g”rÜ
 = 
s¦_”rÜ_code_
;

677  
	gSR_ERROR
;

682 
	gO³nSSLSŒ—mAd­‹r
::
FlushIÅut
(
Ëá
) {

683 
buf
[2048];

685 
	gËá
) {

687 cÚ¡ 
	gtÜ—d
 = ((
buf
è< 
Ëá
) ? (buf) :†eft;

688 cÚ¡ 
	gcode
 = 
SSL_»ad
(
s¦_
, 
buf
, 
tÜ—d
);

690 cÚ¡ 
	gs¦_”rÜ
 = 
SSL_g‘_”rÜ
(
s¦_
, 
code
);

691 
RTC_DCHECK
(
s¦_”rÜ
 =ğ
SSL_ERROR_NONE
);

693 ià(
	gs¦_”rÜ
 !ğ
SSL_ERROR_NONE
) {

694 
RTC_DLOG
(
LS_VERBOSE
è<< " --ƒ¼Ü " << 
code
;

695 
E¼Ü
("SSL_»ad", (
s¦_”rÜ
 ? s¦_”rÜ : -1), 0, 
çl£
);

699 
RTC_LOG
(
LS_VERBOSE
è<< " -- flushed " << 
	gcode
 << " bytes";

700 
	gËá
 -ğ
code
;

704 
	gO³nSSLSŒ—mAd­‹r
::
Clo£
() {

705 
CËªup
(0);

706 
RTC_DCHECK
(
¡©e_
 =ğ
SSL_CLOSED
 || s‹_ =ğ
SSL_ERROR
);

710 
	gSŒ—mAd­‹rIÁ”çû
::
Clo£
();

713 
SŒ—mS‹
 
	gO³nSSLSŒ—mAd­‹r
::
G‘S‹
() const {

714 
¡©e_
) {

715 
SSL_WAIT
:

716 
SSL_CONNECTING
:

717  
SS_OPENING
;

718 
	gSSL_CONNECTED
:

719 ià(
Wa™šgToV”ifyP“rC”tifiÿ‹
()) {

720  
SS_OPENING
;

722  
	gSS_OPEN
;

724  
SS_CLOSED
;

729 
	gO³nSSLSŒ—mAd­‹r
::
OnEv’t
(
SŒ—mIÁ”çû
* 
¡»am
,

730 
ev’ts
,

731 
”r
) {

732 
	gev’ts_to_sigÇl
 = 0;

733 
	gsigÇl_”rÜ
 = 0;

734 
RTC_DCHECK
(
¡»am
 =ğ
this
->stream());

736 ià((
	gev’ts
 & 
	gSE_OPEN
)) {

737 
RTC_LOG
(
LS_VERBOSE
) << "OpenSSLStreamAdapter::OnEvent SE_OPEN";

738 ià(
	g¡©e_
 !ğ
SSL_WAIT
) {

739 
RTC_DCHECK
(
¡©e_
 =ğ
SSL_NONE
);

740 
	gev’ts_to_sigÇl
 |ğ
SE_OPEN
;

742 
	g¡©e_
 = 
SSL_CONNECTING
;

743 ià(
	g”r
 = 
BegšSSL
()) {

744 
E¼Ü
("BegšSSL", 
”r
, 0, 
Œue
);

750 ià((
	gev’ts
 & (
	gSE_READ
 | 
	gSE_WRITE
))) {

751 
RTC_LOG
(
LS_VERBOSE
) << "OpenSSLStreamAdapter::OnEvent"

752 << ((
	gev’ts
 & 
	gSE_READ
) ? " SE_READ" : "")

753 << ((
ev’ts
 & 
SE_WRITE
) ? " SE_WRITE" : "");

754 ià(
	g¡©e_
 =ğ
SSL_NONE
) {

755 
ev’ts_to_sigÇl
 |ğ
ev’ts
 & (
SE_READ
 | 
SE_WRITE
);

756 } ià(
	g¡©e_
 =ğ
SSL_CONNECTING
) {

757 ià(
”r
 = 
CÚtšueSSL
()) {

758 
E¼Ü
("CÚtšueSSL", 
”r
, 0, 
Œue
);

761 } ià(
	g¡©e_
 =ğ
SSL_CONNECTED
) {

762 ià(((
ev’ts
 & 
SE_READ
è&& 
s¦_wr™e_Ãeds_»ad_
) ||

763 (
ev’ts
 & 
SE_WRITE
)) {

764 
RTC_LOG
(
LS_VERBOSE
) << " -- onStreamWriteable";

765 
	gev’ts_to_sigÇl
 |ğ
SE_WRITE
;

767 ià(((
	gev’ts
 & 
	gSE_WRITE
è&& 
	gs¦_»ad_Ãeds_wr™e_
) ||

768 (
	gev’ts
 & 
	gSE_READ
)) {

769 
RTC_LOG
(
LS_VERBOSE
) << " -- onStreamReadable";

770 
	gev’ts_to_sigÇl
 |ğ
SE_READ
;

775 ià((
	gev’ts
 & 
	gSE_CLOSE
)) {

776 
RTC_LOG
(
LS_VERBOSE
è<< "O³nSSLSŒ—mAd­‹r::OnEv’t(SE_CLOSE, " << 
	g”r


778 
CËªup
(0);

779 
	gev’ts_to_sigÇl
 |ğ
SE_CLOSE
;

781 
RTC_DCHECK
(
sigÇl_”rÜ
 == 0);

782 
	gsigÇl_”rÜ
 = 
”r
;

785 ià(
	gev’ts_to_sigÇl
) {

786 
	gSŒ—mAd­‹rIÁ”çû
::
OnEv’t
(
¡»am
, 
ev’ts_to_sigÇl
, 
sigÇl_”rÜ
);

790 
	gO³nSSLSŒ—mAd­‹r
::
BegšSSL
() {

791 
RTC_DCHECK
(
¡©e_
 =ğ
SSL_CONNECTING
);

793 
RTC_LOG
(
LS_INFO
) << "BeginSSL with…eer.";

795 
BIO
* 
	gbio
 = 
nuÎ±r
;

798 
RTC_DCHECK
(
s¦_ùx_
 =ğ
nuÎ±r
);

799 
	gs¦_ùx_
 = 
S‘upSSLCÚ‹xt
();

800 ià(!
	gs¦_ùx_
) {

804 
	gbio
 = 
BIO_Ãw_¡»am
(
¡©ic_ÿ¡
<
SŒ—mIÁ”çû
*>(
¡»am
()));

805 ià(!
	gbio
) {

809 
	gs¦_
 = 
SSL_Ãw
(
s¦_ùx_
);

810 ià(!
	gs¦_
) {

811 
BIO_ä“
(
bio
);

815 
SSL_£t_­p_d©a
(
s¦_
, 
this
);

817 
SSL_£t_bio
(
s¦_
, 
bio
, bio);

818 ià(
	gs¦_mode_
 =ğ
SSL_MODE_DTLS
) {

819 #ifdeà
OPENSSL_IS_BORINGSSL


820 
DTLSv1_£t_š™Ÿl_timeout_du¿tiÚ
(
s¦_
, 
ds_hªdshake_timeout_ms_
);

824 
SSL_£t_»ad_ah—d
(
s¦_
, 1);

828 
SSL_£t_mode
(
s¦_
, 
SSL_MODE_ENABLE_PARTIAL_WRITE
 |

829 
SSL_MODE_ACCEPT_MOVING_WRITE_BUFFER
);

832  
CÚtšueSSL
();

835 
	gO³nSSLSŒ—mAd­‹r
::
CÚtšueSSL
() {

836 
RTC_LOG
(
LS_VERBOSE
) << "ContinueSSL";

837 
RTC_DCHECK
(
¡©e_
 =ğ
SSL_CONNECTING
);

840 
	gTh»ad
::
Cu¼’t
()->
CË¬
(
this
, 
MSG_TIMEOUT
);

842 cÚ¡ 
	gcode
 = (
rŞe_
 =ğ
SSL_CLIENT
è? 
SSL_cÚÃù
(
s¦_
è: 
SSL_acû±
(ssl_);

843 cÚ¡ 
	gs¦_”rÜ
 = 
SSL_g‘_”rÜ
(
s¦_
, 
code
);

845 
	gs¦_”rÜ
) {

846 
	gSSL_ERROR_NONE
:

847 
RTC_LOG
(
LS_VERBOSE
) << " -- success";

850 
RTC_DCHECK
(
³”_û¹_chaš_
 || !
G‘Cl›ÁAuthEÇbËd
());

852 
	g¡©e_
 = 
SSL_CONNECTED
;

853 ià(!
Wa™šgToV”ifyP“rC”tifiÿ‹
()) {

862 
	gSŒ—mAd­‹rIÁ”çû
::
OnEv’t
(
¡»am
(), 
SE_OPEN
 | 
SE_READ
 | 
SE_WRITE
,

867 
	gSSL_ERROR_WANT_READ
: {

868 
RTC_LOG
(
LS_VERBOSE
) << " --ƒrror want„ead";

869 
timev®
 
	gtimeout
;

870 ià(
DTLSv1_g‘_timeout
(
s¦_
, &
timeout
)) {

871 
	gd–ay
 = 
timeout
.
tv_£c
 * 1000 +imeout.
tv_u£c
 / 1000;

873 
	gTh»ad
::
Cu¼’t
()->
Po¡D–ayed
(
RTC_FROM_HERE
, 
d–ay
, 
this
, 
MSG_TIMEOUT
,

878 
	gSSL_ERROR_WANT_WRITE
:

879 
RTC_LOG
(
LS_VERBOSE
) << " --ƒrror want write";

882 
	gSSL_ERROR_ZERO_RETURN
:

884 
RTC_LOG
(
LS_VERBOSE
è<< " --ƒ¼Ü " << 
code
;

885 
SSLHªdshakeE¼Ü
 
	gs¦_hªdshake_”r
 = SSLHªdshakeE¼Ü::
UNKNOWN
;

886 
	g”r_code
 = 
ERR_³ek_Ï¡_”rÜ
();

887 ià(
	g”r_code
 !ğ0 && 
ERR_GET_REASON
(
”r_code
è=ğ
SSL_R_NO_SHARED_CIPHER
) {

888 
s¦_hªdshake_”r
 = 
SSLHªdshakeE¼Ü
::
INCOMPATIBLE_CIPHERSUITE
;

890 
SigÇlSSLHªdshakeE¼Ü
(
s¦_hªdshake_”r
);

891  (
	gs¦_”rÜ
 !ğ0è? 
s¦_”rÜ
 : -1;

897 
	gO³nSSLSŒ—mAd­‹r
::
E¼Ü
(cÚ¡ * 
cÚ‹xt
,

898 
”r
,

899 
ušt8_t
 
®”t
,

900 
boŞ
 
sigÇl
) {

901 
RTC_LOG
(
LS_WARNING
è<< "O³nSSLSŒ—mAd­‹r::E¼Ü(" << 
	gcÚ‹xt
 << ", "

902 << 
	g”r
 << ", " << 
	g¡©ic_ÿ¡
<>(
	g®”t
) << ")";

903 
	g¡©e_
 = 
SSL_ERROR
;

904 
	gs¦_”rÜ_code_
 = 
”r
;

905 
CËªup
(
®”t
);

906 ià(
	gsigÇl
) {

907 
	gSŒ—mAd­‹rIÁ”çû
::
OnEv’t
(
¡»am
(), 
SE_CLOSE
, 
”r
);

911 
	gO³nSSLSŒ—mAd­‹r
::
CËªup
(
ušt8_t
 
®”t
) {

912 
RTC_LOG
(
LS_INFO
) << "Cleanup";

914 ià(
	g¡©e_
 !ğ
SSL_ERROR
) {

915 
¡©e_
 = 
SSL_CLOSED
;

916 
	gs¦_”rÜ_code_
 = 0;

919 ià(
	gs¦_
) {

920 
	g»t
;

922 #ifdeà
OPENSSL_IS_BORINGSSL


923 ià(
	g®”t
) {

924 
	g»t
 = 
SSL_£nd_çl_®”t
(
s¦_
, 
®”t
);

925 ià(
	g»t
 < 0) {

926 
RTC_LOG
(
LS_WARNING
) << "SSL_send_fatal_alert failed,ƒrror = "

927 << 
SSL_g‘_”rÜ
(
s¦_
, 
»t
);

931 
	g»t
 = 
SSL_shutdown
(
s¦_
);

932 ià(
	g»t
 < 0) {

933 
RTC_LOG
(
LS_WARNING
)

934 << "SSL_shutdowÀçed,ƒ¼Ü = " << 
SSL_g‘_”rÜ
(
s¦_
, 
»t
);

936 #ifdeà
OPENSSL_IS_BORINGSSL


939 
SSL_ä“
(
s¦_
);

940 
	gs¦_
 = 
nuÎ±r
;

942 ià(
	gs¦_ùx_
) {

943 
SSL_CTX_ä“
(
s¦_ùx_
);

944 
	gs¦_ùx_
 = 
nuÎ±r
;

946 
	gid’t™y_
.
»£t
();

947 
	g³”_û¹_chaš_
.
»£t
();

950 
	gTh»ad
::
Cu¼’t
()->
CË¬
(
this
, 
MSG_TIMEOUT
);

953 
	gO³nSSLSŒ—mAd­‹r
::
OnMes§ge
(
Mes§ge
* 
msg
) {

955 ià(
MSG_TIMEOUT
 =ğ
msg
->
mes§ge_id
) {

956 
RTC_LOG
(
LS_INFO
) << "DTLSimeoutƒxpired";

957 
DTLSv1_hªdË_timeout
(
s¦_
);

958 
CÚtšueSSL
();

960 
	gSŒ—mIÁ”çû
::
OnMes§ge
(
msg
);

964 
SSL_CTX
* 
	gO³nSSLSŒ—mAd­‹r
::
S‘upSSLCÚ‹xt
() {

965 
SSL_CTX
* 
ùx
 =

966 
SSL_CTX_Ãw
(
s¦_mode_
 =ğ
SSL_MODE_DTLS
 ? 
DTLS_m‘hod
(è: 
TLS_m‘hod
());

967 ià(
	gùx
 =ğ
nuÎ±r
) {

968  
nuÎ±r
;

971 ià(
	gsuµÜt_Ëgacy_s_´ÙocŞs_æag_
) {

974 
SSL_CTX_£t_mš_´Ùo_v”siÚ
(

975 
ùx
, 
s¦_mode_
 =ğ
SSL_MODE_DTLS
 ? 
DTLS1_VERSION
 : 
TLS1_VERSION
);

976 
	gs¦_max_v”siÚ_
) {

977 
	gSSL_PROTOCOL_TLS_10
:

978 
SSL_CTX_£t_max_´Ùo_v”siÚ
(

979 
ùx
, 
s¦_mode_
 =ğ
SSL_MODE_DTLS
 ? 
DTLS1_VERSION
 : 
TLS1_VERSION
);

981 
	gSSL_PROTOCOL_TLS_11
:

982 
SSL_CTX_£t_max_´Ùo_v”siÚ
(

983 
ùx
, 
s¦_mode_
 =ğ
SSL_MODE_DTLS
 ? 
DTLS1_VERSION
 : 
TLS1_1_VERSION
);

985 
	gSSL_PROTOCOL_TLS_12
:

987 
SSL_CTX_£t_max_´Ùo_v”siÚ
(

988 
ùx
, 
s¦_mode_
 =ğ
SSL_MODE_DTLS
 ? 
DTLS1_2_VERSION
 : 
TLS1_2_VERSION
);

993 
SSL_CTX_£t_mš_´Ùo_v”siÚ
(

994 
ùx
, 
s¦_mode_
 =ğ
SSL_MODE_DTLS
 ? 
DTLS1_2_VERSION
 : 
TLS1_2_VERSION
);

995 
SSL_CTX_£t_max_´Ùo_v”siÚ
(

996 
ùx
, 
s¦_mode_
 =ğ
SSL_MODE_DTLS
 ? 
DTLS1_2_VERSION
 : 
TLS1_2_VERSION
);

999 #ifdeà
OPENSSL_IS_BORINGSSL


1001 ià(
	gg_u£_time_ÿÎback_fÜ_‹¡šg
) {

1002 
SSL_CTX_£t_cu¼’t_time_cb
(
ùx
, &
TimeC®lbackFÜTe¡šg
);

1006 ià(
	gid’t™y_
 && !id’t™y_->
CÚfigu»Id’t™y
(
ùx
)) {

1007 
SSL_CTX_ä“
(
ùx
);

1008  
	gnuÎ±r
;

1011 #ià!
defšed
(
NDEBUG
)

1012 
SSL_CTX_£t_šfo_ÿÎback
(
ùx
, 
O³nSSLAd­‹r
::
SSLInfoC®lback
);

1015 
	gmode
 = 
SSL_VERIFY_PEER
;

1016 ià(
G‘Cl›ÁAuthEÇbËd
()) {

1020 
	gmode
 |ğ
SSL_VERIFY_FAIL_IF_NO_PEER_CERT
;

1027 
SSL_CTX_£t_v”ify
(
ùx
, 
mode
, 
nuÎ±r
);

1028 
SSL_CTX_£t_û¹_v”ify_ÿÎback
(
ùx
, 
SSLV”ifyC®lback
, 
nuÎ±r
);

1034 
SSL_CTX_£t_ch”_li¡
(

1035 
ùx
, "DEFAULT:!NULL:!aNULL:!SHA256:!SHA384:!aECDH:!AESGCM+AES256:!aPSK");

1037 ià(!
	g¤_ch”s_
.
em±y
()) {

1038 ià(
SSL_CTX_£t_£xt_u£_¤
(
ùx
, 
¤_ch”s_
.
c_¡r
())) {

1039 
SSL_CTX_ä“
(
ùx
);

1040  
	gnuÎ±r
;

1044  
	gùx
;

1047 
boŞ
 
	gO³nSSLSŒ—mAd­‹r
::
V”ifyP“rC”tifiÿ‹
() {

1048 ià(!
HasP“rC”tifiÿ‹Dige¡
(è|| !
³”_û¹_chaš_
 ||

1049 !
³”_û¹_chaš_
->
G‘Size
()) {

1050 
RTC_LOG
(
LS_WARNING
) << "Missing digest or…eer certificate.";

1051  
	gçl£
;

1053 cÚ¡ 
O³nSSLC”tifiÿ‹
* 
	gËaf_û¹
 =

1054 
¡©ic_ÿ¡
<cÚ¡ 
O³nSSLC”tifiÿ‹
*>(&
³”_û¹_chaš_
->
G‘
(0));

1056 
	gdige¡
[
EVP_MAX_MD_SIZE
];

1057 
size_t
 
	gdige¡_Ëngth
;

1058 ià(!
	gO³nSSLC”tifiÿ‹
::
Compu‹Dige¡
(

1059 
Ëaf_û¹
->
x509
(), 
³”_û¹ifiÿ‹_dige¡_®gÜ™hm_
, 
dige¡
,

1060 (
dige¡
), &
dige¡_Ëngth
)) {

1061 
RTC_LOG
(
LS_WARNING
) << "Failedo compute…eer cert digest.";

1062  
	gçl£
;

1065 
Bufãr
 
compu‹d_dige¡
(
dige¡
, 
dige¡_Ëngth
);

1066 ià(
	gcompu‹d_dige¡
 !ğ
³”_û¹ifiÿ‹_dige¡_v®ue_
) {

1067 
RTC_LOG
(
LS_WARNING
)

1069  
	gçl£
;

1074 
RTC_LOG
(
LS_INFO
) << "Accepted…eer certificate.";

1075 
	g³”_û¹ifiÿ‹_v”if›d_
 = 
Œue
;

1076  
	gŒue
;

1079 
	g¡d
::
unique_±r
<
SSLC”tChaš
> 
O³nSSLSŒ—mAd­‹r
::
G‘P“rSSLC”tChaš
()

1081  
³”_û¹_chaš_
 ?…“r_û¹_chaš_->
ClÚe
(è: 
nuÎ±r
;

1084 
	gO³nSSLSŒ—mAd­‹r
::
SSLV”ifyC®lback
(
X509_STORE_CTX
* 
¡Üe
, * 
¬g
) {

1086 
SSL
* 
	gs¦
 = 
»š‹½»t_ÿ¡
<SSL*>(

1087 
X509_STORE_CTX_g‘_ex_d©a
(
¡Üe
, 
SSL_g‘_ex_d©a_X509_STORE_CTX_idx
()));

1088 
O³nSSLSŒ—mAd­‹r
* 
	g¡»am
 =

1089 
»š‹½»t_ÿ¡
<
O³nSSLSŒ—mAd­‹r
*>(
SSL_g‘_­p_d©a
(
s¦
));

1091 #ià
defšed
(
OPENSSL_IS_BORINGSSL
)

1092 
STACK_OF
(
X509
)* 
	gchaš
 = 
SSL_g‘_³”_fuÎ_û¹_chaš
(
s¦
);

1094 
	g¡d
::
veùÜ
<
¡d
::
unique_±r
<
SSLC”tifiÿ‹
>> 
û¹_chaš
;

1095 
X509
* 
	gû¹
 : 
chaš
) {

1096 
û¹_chaš
.
em¶aû_back
(
Ãw
 
O³nSSLC”tifiÿ‹
(
û¹
));

1098 
	g¡»am
->
	g³”_û¹_chaš_
.
»£t
(
Ãw
 
SSLC”tChaš
(
¡d
::
move
(
û¹_chaš
)));

1101 
X509
* 
	gû¹
 = 
X509_STORE_CTX_g‘0_û¹
(
¡Üe
);

1102 
	g¡»am
->
	g³”_û¹_chaš_
.
»£t
(

1103 
Ãw
 
SSLC”tChaš
(
¡d
::
make_unique
<
O³nSSLC”tifiÿ‹
>(
û¹
)));

1108 ià(
	g¡»am
->
	g³”_û¹ifiÿ‹_dige¡_®gÜ™hm_
.
em±y
()) {

1109 
RTC_LOG
(
LS_INFO
) << "Waitingo verify certificate until digest is known.";

1113 ià(!
	g¡»am
->
V”ifyP“rC”tifiÿ‹
()) {

1114 
X509_STORE_CTX_£t_”rÜ
(
¡Üe
, 
X509_V_ERR_CERT_REJECTED
);

1121 
boŞ
 
	gO³nSSLSŒ—mAd­‹r
::
IsBÜšgS¦
() {

1122 #ifdeà
OPENSSL_IS_BORINGSSL


1123  
Œue
;

1125  
	gçl£
;

1129 
	#CDEF
(
X
) \

1130 { 
¡©ic_ÿ¡
<
ušt16_t
>(
TLS1_CK_
##
X
 & 0xffff), "TLS_" #X }

	)

1132 
	sch”_li¡
 {

1133 
ušt16_t
 
	gch”
;

1134 cÚ¡ * 
	gch”_¡r
;

1138 cÚ¡ 
ch”_li¡
 
	gOK_RSA_ch”s
[] = {

1139 
CDEF
(
ECDHE_RSA_WITH_AES_128_CBC_SHA
),

1140 
CDEF
(
ECDHE_RSA_WITH_AES_256_CBC_SHA
),

1141 
CDEF
(
ECDHE_RSA_WITH_AES_128_GCM_SHA256
),

1142 #ifdeà
TLS1_CK_ECDHE_RSA_WITH_AES_256_GCM_SHA256


1143 
CDEF
(
ECDHE_RSA_WITH_AES_256_GCM_SHA256
),

1145 #ifdeà
TLS1_CK_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256


1146 
CDEF
(
ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256
),

1150 cÚ¡ 
ch”_li¡
 
	gOK_ECDSA_ch”s
[] = {

1151 
CDEF
(
ECDHE_ECDSA_WITH_AES_128_CBC_SHA
),

1152 
CDEF
(
ECDHE_ECDSA_WITH_AES_256_CBC_SHA
),

1153 
CDEF
(
ECDHE_ECDSA_WITH_AES_128_GCM_SHA256
),

1154 #ifdeà
TLS1_CK_ECDHE_ECDSA_WITH_AES_256_GCM_SHA256


1155 
CDEF
(
ECDHE_ECDSA_WITH_AES_256_GCM_SHA256
),

1157 #ifdeà
TLS1_CK_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256


1158 
CDEF
(
ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256
),

1161 #undeà
CDEF


1163 
boŞ
 
	gO³nSSLSŒ—mAd­‹r
::
IsAcû±abËCh”
(
ch”
, 
KeyTy³
 
key_ty³
) {

1164 ià(
	gkey_ty³
 =ğ
KT_RSA
) {

1165 cÚ¡ 
ch”_li¡
& 
c
 : 
OK_RSA_ch”s
) {

1166 ià(
ch”
 =ğ
c
.cipher) {

1167  
Œue
;

1172 ià(
	gkey_ty³
 =ğ
KT_ECDSA
) {

1173 cÚ¡ 
ch”_li¡
& 
c
 : 
OK_ECDSA_ch”s
) {

1174 ià(
ch”
 =ğ
c
.cipher) {

1175  
Œue
;

1180  
	gçl£
;

1183 
boŞ
 
	gO³nSSLSŒ—mAd­‹r
::
IsAcû±abËCh”
(cÚ¡ 
¡d
::
¡ršg
& 
ch”
,

1184 
KeyTy³
 
key_ty³
) {

1185 ià(
	gkey_ty³
 =ğ
KT_RSA
) {

1186 cÚ¡ 
ch”_li¡
& 
c
 : 
OK_RSA_ch”s
) {

1187 ià(
ch”
 =ğ
c
.
ch”_¡r
) {

1188  
Œue
;

1193 ià(
	gkey_ty³
 =ğ
KT_ECDSA
) {

1194 cÚ¡ 
ch”_li¡
& 
c
 : 
OK_ECDSA_ch”s
) {

1195 ià(
ch”
 =ğ
c
.
ch”_¡r
) {

1196  
Œue
;

1201  
	gçl£
;

1204 
	gO³nSSLSŒ—mAd­‹r
::
EÇbËTimeC®lbackFÜTe¡šg
() {

1205 #ifdeà
OPENSSL_IS_BORINGSSL


1206 
g_u£_time_ÿÎback_fÜ_‹¡šg
 = 
Œue
;

	@openssl_stream_adapter.h

11 #iâdeà
RTC_BASE_OPENSSL_STREAM_ADAPTER_H_


12 
	#RTC_BASE_OPENSSL_STREAM_ADAPTER_H_


	)

14 
	~<İ’s¦/os¦_typ.h
>

15 
	~<¡ddef.h
>

16 
	~<¡dšt.h
>

18 
	~<memÜy
>

19 
	~<¡ršg
>

20 
	~<veùÜ
>

22 
	~"¹c_ba£/bufãr.h
"

23 
	~"¹c_ba£/İ’s¦_id’t™y.h
"

24 
	~"¹c_ba£/s¦_id’t™y.h
"

25 
	~"¹c_ba£/s¦_¡»am_ad­‹r.h
"

26 
	~"¹c_ba£/¡»am.h
"

28 
Çme¥aû
 
	g¹c
 {

54 
şass
 
	gSSLC”tChaš
;

58 şas 
	cO³nSSLSŒ—mAd­‹r
 
	gfš®
 : 
public
 
SSLSŒ—mAd­‹r
 {

59 
public
:

60 
ex¶ic™
 
O³nSSLSŒ—mAd­‹r
(
¡d
::
unique_±r
<
SŒ—mIÁ”çû
> 
¡»am
);

61 ~
O³nSSLSŒ—mAd­‹r
(è
	gov”ride
;

63 
S‘Id’t™y
(
¡d
::
unique_±r
<
SSLId’t™y
> 
id’t™y
è
ov”ride
;

64 
O³nSSLId’t™y
* 
G‘Id’t™yFÜTe¡šg
(ècÚ¡ 
	gov”ride
;

67 
S‘S”v”RŞe
(
SSLRŞe
 
rŞe
 = 
SSL_SERVER
è
ov”ride
;

68 
boŞ
 
S‘P“rC”tifiÿ‹Dige¡
(

69 cÚ¡ 
¡d
::
¡ršg
& 
dige¡_®g
,

70 cÚ¡ * 
dige¡_v®
,

71 
size_t
 
dige¡_Ën
,

72 
SSLP“rC”tifiÿ‹Dige¡E¼Ü
* 
”rÜ
 = 
nuÎ±r
è
ov”ride
;

74 
	g¡d
::
unique_±r
<
SSLC”tChaš
> 
G‘P“rSSLC”tChaš
(ècÚ¡ 
ov”ride
;

78 
S¹SSL
(è
	gov”ride
;

79 
S‘Mode
(
SSLMode
 
mode
è
	gov”ride
;

80 
S‘MaxPrÙocŞV”siÚ
(
SSLPrÙocŞV”siÚ
 
v”siÚ
è
	gov”ride
;

81 
S‘In™ŸlR‘¿nsmissiÚTimeout
(
timeout_ms
è
	gov”ride
;

83 
SŒ—mResuÉ
 
R—d
(* 
d©a
,

84 
size_t
 
d©a_Ën
,

85 
size_t
* 
»ad
,

86 * 
”rÜ
è
	gov”ride
;

87 
SŒ—mResuÉ
 
Wr™e
(cÚ¡ * 
d©a
,

88 
size_t
 
d©a_Ën
,

89 
size_t
* 
wr™‹n
,

90 * 
”rÜ
è
	gov”ride
;

91 
Clo£
(è
	gov”ride
;

92 
SŒ—mS‹
 
G‘S‹
(ècÚ¡ 
	gov”ride
;

95 
	g¡d
::
¡ršg
 
S¦Ch”Su™eToName
(
üy±o_su™e
);

97 
boŞ
 
G‘S¦Ch”Su™e
(* 
ch”
è
	gov”ride
;

99 
SSLPrÙocŞV”siÚ
 
G‘S¦V”siÚ
(ècÚ¡ 
	gov”ride
;

100 
boŞ
 
G‘S¦V”siÚBy‹s
(* 
v”siÚ
ècÚ¡ 
	gov”ride
;

102 
boŞ
 
ExpÜtKeyšgM©”Ÿl
(cÚ¡ 
¡d
::
¡ršg
& 
Ïb–
,

103 cÚ¡ 
ušt8_t
* 
cÚ‹xt
,

104 
size_t
 
cÚ‹xt_Ën
,

105 
boŞ
 
u£_cÚ‹xt
,

106 
ušt8_t
* 
»suÉ
,

107 
size_t
 
»suÉ_Ën
è
	gov”ride
;

110 
boŞ
 
S‘DsS¹pCry±oSu™es
(cÚ¡ 
¡d
::
veùÜ
<>& 
üy±o_su™es
è
ov”ride
;

111 
boŞ
 
G‘DsS¹pCry±oSu™e
(* 
üy±o_su™e
è
	gov”ride
;

113 
boŞ
 
IsTlsCÚÃùed
(è
	gov”ride
;

116 
boŞ
 
IsBÜšgS¦
();

118 
boŞ
 
IsAcû±abËCh”
(
ch”
, 
KeyTy³
 
key_ty³
);

119 
boŞ
 
IsAcû±abËCh”
(cÚ¡ 
¡d
::
¡ršg
& 
ch”
, 
KeyTy³
 
key_ty³
);

123 
EÇbËTimeC®lbackFÜTe¡šg
();

125 
	g´Ùeùed
:

126 
OnEv’t
(
SŒ—mIÁ”çû
* 
¡»am
, 
ev’ts
, 
”r
è
	gov”ride
;

128 
	g´iv©e
:

129 
	eSSLS‹
 {

132 
SSL_NONE
,

133 
	gSSL_WAIT
,

134 
	gSSL_CONNECTING
,

135 
	gSSL_CONNECTED
,

136 
	gSSL_ERROR
,

137 
	gSSL_CLOSED


140 ’um { 
	gMSG_TIMEOUT
 = 
MSG_MAX
 + 1 };

148 
BegšSSL
();

150 
CÚtšueSSL
();

161 
E¼Ü
(cÚ¡ * 
cÚ‹xt
, 
”r
, 
ušt8_t
 
®”t
, 
boŞ
 
sigÇl
);

162 
CËªup
(
ušt8_t
 
®”t
);

165 
OnMes§ge
(
Mes§ge
* 
msg
è
	gov”ride
;

168 
FlushIÅut
(
Ëá
);

171 
SSL_CTX
* 
S‘upSSLCÚ‹xt
();

173 
boŞ
 
V”ifyP“rC”tifiÿ‹
();

176 
SSLV”ifyC®lback
(
X509_STORE_CTX
* 
¡Üe
, * 
¬g
);

178 
boŞ
 
Wa™šgToV”ifyP“rC”tifiÿ‹
() const {

179  
G‘Cl›ÁAuthEÇbËd
(è&& !
	g³”_û¹ifiÿ‹_v”if›d_
;

182 
boŞ
 
HasP“rC”tifiÿ‹Dige¡
() const {

183  !
	g³”_û¹ifiÿ‹_dige¡_®gÜ™hm_
.
em±y
() &&

184 !
	g³”_û¹ifiÿ‹_dige¡_v®ue_
.
em±y
();

187 
SSLS‹
 
	g¡©e_
;

188 
SSLRŞe
 
	grŞe_
;

189 
	gs¦_”rÜ_code_
;

192 
boŞ
 
	gs¦_»ad_Ãeds_wr™e_
;

193 
boŞ
 
	gs¦_wr™e_Ãeds_»ad_
;

195 
SSL
* 
	gs¦_
;

196 
SSL_CTX
* 
	gs¦_ùx_
;

199 
	g¡d
::
unique_±r
<
O³nSSLId’t™y
> 
id’t™y_
;

202 
	g¡d
::
unique_±r
<
SSLC”tChaš
> 
³”_û¹_chaš_
;

203 
boŞ
 
	g³”_û¹ifiÿ‹_v”if›d_
 = 
çl£
;

205 
Bufãr
 
	g³”_û¹ifiÿ‹_dige¡_v®ue_
;

206 
	g¡d
::
¡ršg
 
³”_û¹ifiÿ‹_dige¡_®gÜ™hm_
;

209 
	g¡d
::
¡ršg
 
¤_ch”s_
;

212 
SSLMode
 
	gs¦_mode_
;

215 
SSLPrÙocŞV”siÚ
 
	gs¦_max_v”siÚ_
;

219 
	gds_hªdshake_timeout_ms_
 = 50;

222 cÚ¡ 
boŞ
 
	gsuµÜt_Ëgacy_s_´ÙocŞs_æag_
;

	@openssl_utility.cc

11 
	~"¹c_ba£/İ’s¦_ut™y.h
"

12 #ià
defšed
(
WEBRTC_WIN
)

14 
	~"¹c_ba£/wš32.h
"

17 
	~<İ’s¦/”r.h
>

18 
	~<İ’s¦/x509.h
>

19 
	~<İ’s¦/x509v3.h
>

20 
	~<¡ddef.h
>

22 
	~"¹c_ba£/¬¿ysize.h
"

23 
	~"¹c_ba£/loggšg.h
"

24 
	~"¹c_ba£/num”ics/§ã_cÚv”siÚs.h
"

25 
	~"¹c_ba£/İ’s¦.h
"

26 
	~"¹c_ba£/İ’s¦_û¹ifiÿ‹.h
"

27 #iâdeà
WEBRTC_EXCLUDE_BUILT_IN_SSL_ROOT_CERTS


28 
	~"¹c_ba£/s¦_roÙs.h
"

31 
Çme¥aû
 
	g¹c
 {

32 
Çme¥aû
 
	gİ’s¦
 {

35 
	gÇme¥aû
 {

36 
LogC”tifiÿ‹s
(
SSL
* 
s¦
, 
X509
* 
û¹ifiÿ‹
) {

38 #ifdeà
LOG_CERTIFICATES


39 
BIO
* 
	gmem
 = 
BIO_Ãw
(
BIO_s_mem
());

40 ià(
	gmem
 =ğ
nuÎ±r
) {

41 
RTC_DLOG
(
LS_ERROR
) << "BIO_new() failedo‡llocate memory.";

45 
RTC_DLOG
(
LS_INFO
) << "Certificate from server:";

46 
X509_´št_ex
(
mem
, 
û¹ifiÿ‹
, 
XN_FLAG_SEP_CPLUS_SPC
, 
X509_FLAG_NO_HEADER
);

47 
BIO_wr™e
(
mem
, "\0", 1);

49 * 
	gbufãr
 = 
nuÎ±r
;

50 
BIO_g‘_mem_d©a
(
mem
, &
bufãr
);

51 ià(
	gbufãr
 !ğ
nuÎ±r
) {

52 
RTC_DLOG
(
LS_INFO
è<< 
bufãr
;

54 
RTC_DLOG
(
LS_ERROR
) << "BIO_get_mem_data() failedo get buffer.";

56 
BIO_ä“
(
mem
);

58 cÚ¡ * 
	gch”_Çme
 = 
SSL_CIPHER_g‘_Çme
(
SSL_g‘_cu¼’t_ch”
(
s¦
));

59 ià(
	gch”_Çme
 !ğ
nuÎ±r
) {

60 
RTC_DLOG
(
LS_INFO
è<< "Ch”: " << 
ch”_Çme
;

62 
RTC_DLOG
(
LS_ERROR
) << "SSL_CIPHER_DESCRIPTION() failedo get cipher_name.";

68 
boŞ
 
V”ifyP“rC”tM©chesHo¡
(
SSL
* 
s¦
, cÚ¡ 
¡d
::
¡ršg
& 
ho¡
) {

69 ià(
ho¡
.
em±y
()) {

70 
RTC_DLOG
(
LS_ERROR
) << "Hostname isƒmpty. Cannot verify…eer certificate.";

71  
	gçl£
;

74 ià(
	gs¦
 =ğ
nuÎ±r
) {

75 
RTC_DLOG
(
LS_ERROR
) << "SSL is‚ullptr. Cannot verify…eer certificate.";

76  
	gçl£
;

79 
X509
* 
	gû¹ifiÿ‹
 = 
SSL_g‘_³”_û¹ifiÿ‹
(
s¦
);

80 ià(
	gû¹ifiÿ‹
 =ğ
nuÎ±r
) {

81 
RTC_DLOG
(
LS_ERROR
)

83  
	gçl£
;

86 
LogC”tifiÿ‹s
(
s¦
, 
û¹ifiÿ‹
);

88 
boŞ
 
	gis_v®id_û¹_Çme
 =

89 
X509_check_ho¡
(
û¹ifiÿ‹
, 
ho¡
.
c_¡r
(), ho¡.
size
(), 0, 
nuÎ±r
) == 1;

90 
X509_ä“
(
û¹ifiÿ‹
);

91  
	gis_v®id_û¹_Çme
;

94 
LogSSLE¼Üs
(cÚ¡ 
¡d
::
¡ršg
& 
´efix
) {

95 
”rÜ_buf
[200];

96 
	g”r
;

98 (
	g”r
 = 
ERR_g‘_”rÜ
()) != 0) {

99 
ERR_”rÜ_¡ršg_n
(
”r
, 
”rÜ_buf
, (error_buf));

100 
RTC_LOG
(
LS_ERROR
è<< 
	g´efix
 << ": " << 
	g”rÜ_buf
 << "\n";

104 #iâdeà
WEBRTC_EXCLUDE_BUILT_IN_SSL_ROOT_CERTS


105 
boŞ
 
LßdButšSSLRoÙC”tifiÿ‹s
(
SSL_CTX
* 
ùx
) {

106 
	gcouÁ_of_added_û¹s
 = 0;

107 
size_t
 
	gi
 = 0; i < 
¬¿ysize
(
kSSLC”tC”tifiÿ‹Li¡
); i++) {

108 cÚ¡ * 
	gû¹_bufãr
 = 
kSSLC”tC”tifiÿ‹Li¡
[
i
];

109 
size_t
 
	gû¹_bufãr_Ën
 = 
kSSLC”tC”tifiÿ‹SizeLi¡
[
i
];

110 
X509
* 
	gû¹
 = 
d2i_X509
(
nuÎ±r
, &
û¹_bufãr
,

111 
checked_ÿ¡
<>(
û¹_bufãr_Ën
));

112 ià(
	gû¹
) {

113 
	g»tuº_v®ue
 = 
X509_STORE_add_û¹
(
SSL_CTX_g‘_û¹_¡Üe
(
ùx
), 
û¹
);

114 ià(
	g»tuº_v®ue
 == 0) {

115 
RTC_LOG
(
LS_WARNING
) << "Unableo‡dd certificate.";

117 
	gcouÁ_of_added_û¹s
++;

119 
X509_ä“
(
û¹
);

122  
	gcouÁ_of_added_û¹s
 > 0;

	@openssl_utility.h

11 #iâdeà
RTC_BASE_OPENSSL_UTILITY_H_


12 
	#RTC_BASE_OPENSSL_UTILITY_H_


	)

14 
	~<İ’s¦/os¦_typ.h
>

16 
	~<¡ršg
>

18 
Çme¥aû
 
	g¹c
 {

22 
Çme¥aû
 
	gİ’s¦
 {

25 
boŞ
 
V”ifyP“rC”tM©chesHo¡
(
SSL
* 
s¦
, cÚ¡ 
¡d
::
¡ršg
& 
ho¡
);

29 
LogSSLE¼Üs
(cÚ¡ 
¡d
::
¡ršg
& 
´efix
);

31 #iâdeà
WEBRTC_EXCLUDE_BUILT_IN_SSL_ROOT_CERTS


35 
boŞ
 
LßdButšSSLRoÙC”tifiÿ‹s
(
SSL_CTX
* 
s¦_ùx
);

	@openssl_utility_unittest.cc

11 
	~<¡ršg
>

12 
	~<veùÜ
>

14 #ià
defšed
(
WEBRTC_POSIX
)

15 
	~<uni¡d.h
>

18 #ià
defšed
(
WEBRTC_WIN
)

20 
	~"¹c_ba£/wš32.h
"

23 
	~<İ’s¦/bio.h
>

24 
	~<İ’s¦/üy±o.h
>

25 
	~<İ’s¦/evp.h
>

26 
	~<İ’s¦/s¦.h
>

27 
	~<İ’s¦/x509.h
>

28 
	~<İ’s¦/x509v3.h
>

30 
	~"¹c_ba£/¬¿ysize.h
"

31 
	~"¹c_ba£/checks.h
"

32 
	~"¹c_ba£/gun™.h
"

33 
	~"¹c_ba£/num”ics/§ã_cÚv”siÚs.h
"

34 
	~"¹c_ba£/İ’s¦.h
"

35 
	~"¹c_ba£/İ’s¦_ut™y.h
"

36 
	~"¹c_ba£/s¦_roÙs.h
"

37 
	~"‹¡/gmock.h
"

39 
Çme¥aû
 
	g¹c
 {

40 
	gÇme¥aû
 {

42 cÚ¡ 
	gkFakeSSLPriv©eKey
[] = {

58 cÚ¡ 
	gkFakeSSLC”tifiÿ‹
[] = {

118 cÚ¡ 
	gkFakeSSLC”tifiÿ‹Legacy
[] = {

176 
SSL
* 
C»©eSSLW™hP“rC”tifiÿ‹
(cÚ¡ * 
û¹
, 
size_t
 
û¹_Ën
) {

177 
X509
* 
	gx509
 =

178 
d2i_X509
(
nuÎ±r
, &
û¹
, 
checked_ÿ¡
<>(
û¹_Ën
));

179 
RTC_CHECK
(
x509
);

181 cÚ¡ * 
	gkey_±r
 = 
kFakeSSLPriv©eKey
;

182 
EVP_PKEY
* 
	gkey
 = 
d2i_Priv©eKey
(

183 
EVP_PKEY_EC
, 
nuÎ±r
, &
key_±r
,

184 
checked_ÿ¡
<>(
¬¿ysize
(
kFakeSSLPriv©eKey
)));

185 
RTC_CHECK
(
key
);

187 
SSL_CTX
* 
	gùx
 = 
SSL_CTX_Ãw
(
SSLv23_m‘hod
());

188 
SSL
* 
	gş›Á
 = 
SSL_Ãw
(
ùx
);

189 
SSL
* 
	g£rv”
 = 
SSL_Ãw
(
ùx
);

190 
SSL_£t_cÚÃù_¡©e
(
ş›Á
);

191 
SSL_£t_acû±_¡©e
(
£rv”
);

193 
RTC_CHECK
(
SSL_u£_û¹ifiÿ‹
(
£rv”
, 
x509
));

194 
RTC_CHECK
(
SSL_u£_Priv©eKey
(
£rv”
, 
key
));

196 
BIO
* 
	gbio1
;

197 
BIO
* 
	gbio2
;

198 
BIO_Ãw_bio_·œ
(&
bio1
, 0, &
bio2
, 0);

200 
SSL_£t_bio
(
ş›Á
, 
bio1
, bio1);

201 
SSL_£t_bio
(
£rv”
, 
bio2
, bio2);

204 
	gş›Á_»t
 = 
SSL_do_hªdshake
(
ş›Á
);

205 
	gş›Á_”r
 = 
SSL_g‘_”rÜ
(
ş›Á
, 
ş›Á_»t
);

206 
RTC_CHECK
(
ş›Á_”r
 =ğ
SSL_ERROR_NONE
 ||

207 
ş›Á_”r
 =ğ
SSL_ERROR_WANT_READ
 ||

208 
ş›Á_”r
 =ğ
SSL_ERROR_WANT_WRITE
);

210 
	g£rv”_»t
 = 
SSL_do_hªdshake
(
£rv”
);

211 
	g£rv”_”r
 = 
SSL_g‘_”rÜ
(
£rv”
, 
£rv”_»t
);

212 
RTC_CHECK
(
£rv”_”r
 =ğ
SSL_ERROR_NONE
 ||

213 
£rv”_”r
 =ğ
SSL_ERROR_WANT_READ
 ||

214 
£rv”_”r
 =ğ
SSL_ERROR_WANT_WRITE
);

216 ià(
	gş›Á_»t
 =ğ1 && 
£rv”_»t
 == 1) {

221 
SSL_ä“
(
£rv”
);

222 
SSL_CTX_ä“
(
ùx
);

223 
EVP_PKEY_ä“
(
key
);

224 
X509_ä“
(
x509
);

225  
	gş›Á
;

229 
TEST
(
O³nSSLUt™yTe¡
, 
V”ifyP“rC”tM©chesHo¡FasOnNoP“rC”tifiÿ‹
) {

230 
SSL_CTX
* 
	gs¦_ùx
 = 
SSL_CTX_Ãw
(
DTLSv1_2_ş›Á_m‘hod
());

231 
SSL
* 
	gs¦
 = 
SSL_Ãw
(
s¦_ùx
);

233 
EXPECT_FALSE
(
İ’s¦
::
V”ifyP“rC”tM©chesHo¡
(
s¦
, "webrtc.org"));

235 
SSL_ä“
(
s¦
);

236 
SSL_CTX_ä“
(
s¦_ùx
);

239 
TEST
(
O³nSSLUt™yTe¡
, 
V”ifyP“rC”tM©chesHo¡
) {

240 
SSL
* 
	gs¦
 = 
C»©eSSLW™hP“rC”tifiÿ‹
(
kFakeSSLC”tifiÿ‹
,

241 
¬¿ysize
(
kFakeSSLC”tifiÿ‹
));

244 
EXPECT_TRUE
(
İ’s¦
::
V”ifyP“rC”tM©chesHo¡
(
s¦
, "foo.test"));

245 
EXPECT_TRUE
(
İ’s¦
::
V”ifyP“rC”tM©chesHo¡
(
s¦
, "a.bar.test"));

246 
EXPECT_TRUE
(
İ’s¦
::
V”ifyP“rC”tM©chesHo¡
(
s¦
, "b.bar.test"));

247 
EXPECT_TRUE
(
İ’s¦
::
V”ifyP“rC”tM©chesHo¡
(
s¦
, "test.webrtc.org"));

250 
EXPECT_FALSE
(
İ’s¦
::
V”ifyP“rC”tM©chesHo¡
(
s¦
, "www.webrtc.org"));

253 
EXPECT_FALSE
(
İ’s¦
::
V”ifyP“rC”tM©chesHo¡
(
s¦
, "a.b.bar.test"));

254 
EXPECT_FALSE
(
İ’s¦
::
V”ifyP“rC”tM©chesHo¡
(
s¦
, "notbar.test"));

255 
EXPECT_FALSE
(
İ’s¦
::
V”ifyP“rC”tM©chesHo¡
(
s¦
, "bar.test"));

257 
SSL_ä“
(
s¦
);

260 
TEST
(
O³nSSLUt™yTe¡
, 
V”ifyP“rC”tM©chesHo¡Legacy
) {

261 
SSL
* 
	gs¦
 = 
C»©eSSLW™hP“rC”tifiÿ‹
(
kFakeSSLC”tifiÿ‹Legacy
,

262 
¬¿ysize
(
kFakeSSLC”tifiÿ‹Legacy
));

266 
EXPECT_TRUE
(
İ’s¦
::
V”ifyP“rC”tM©chesHo¡
(
s¦
, "www.webrtc.org"));

267 
EXPECT_TRUE
(
İ’s¦
::
V”ifyP“rC”tM©chesHo¡
(
s¦
, "alice.webrtc.org"));

268 
EXPECT_TRUE
(
İ’s¦
::
V”ifyP“rC”tM©chesHo¡
(
s¦
, "bob.webrtc.org"));

270 
EXPECT_FALSE
(
İ’s¦
::
V”ifyP“rC”tM©chesHo¡
(
s¦
, "a.b.webrtc.org"));

271 
EXPECT_FALSE
(
İ’s¦
::
V”ifyP“rC”tM©chesHo¡
(
s¦
, "notwebrtc.org"));

272 
EXPECT_FALSE
(
İ’s¦
::
V”ifyP“rC”tM©chesHo¡
(
s¦
, "webrtc.org"));

274 
SSL_ä“
(
s¦
);

	@operations_chain.cc

11 
	~"¹c_ba£/İ”©iÚs_chaš.h
"

13 
	~"¹c_ba£/checks.h
"

15 
Çme¥aû
 
	g¹c
 {

17 
	gO³¿tiÚsChaš
::
C®lbackHªdË
::CallbackHandle(

18 
scİed_»åŒ
<
O³¿tiÚsChaš
> 
İ”©iÚs_chaš
)

19 : 
İ”©iÚs_chaš_
(
¡d
::
move
(
İ”©iÚs_chaš
)) {}

21 
O³¿tiÚsChaš
::
C®lbackHªdË
::~CallbackHandle() {

22 
RTC_DCHECK
(
has_run_
);

25 
	gO³¿tiÚsChaš
::
C®lbackHªdË
::
OnO³¿tiÚCom¶‘e
() {

26 
RTC_DCHECK
(!
has_run_
);

27 #ifdeà
RTC_DCHECK_IS_ON


28 
	ghas_run_
 = 
Œue
;

30 
	gİ”©iÚs_chaš_
->
OnO³¿tiÚCom¶‘e
();

33 
	gİ”©iÚs_chaš_
 = 
nuÎ±r
;

37 
	gscİed_»åŒ
<
	gO³¿tiÚsChaš
> O³¿tiÚsChaš::
C»©e
() {

38  
Ãw
 
O³¿tiÚsChaš
();

41 
	gO³¿tiÚsChaš
::
O³¿tiÚsChaš
(è: 
RefCouÁedObjeù
() {

42 
RTC_DCHECK_RUN_ON
(&
£qu’û_check”_
);

45 
	gO³¿tiÚsChaš
::~
O³¿tiÚsChaš
() {

49 
RTC_DCHECK
(
chašed_İ”©iÚs_
.
em±y
());

52 
	g¡d
::
funùiÚ
<()> 
O³¿tiÚsChaš
::
C»©eO³¿tiÚsChašC®lback
() {

53  [
hªdË
 = 
¹c
::
scİed_»åŒ
<
C®lbackHªdË
>(

54 
Ãw
 
C®lbackHªdË
(
this
))](è{ 
hªdË
->
OnO³¿tiÚCom¶‘e
(); };

57 
	gO³¿tiÚsChaš
::
OnO³¿tiÚCom¶‘e
() {

58 
RTC_DCHECK_RUN_ON
(&
£qu’û_check”_
);

60 
RTC_DCHECK
(!
chašed_İ”©iÚs_
.
em±y
());

61 
	gchašed_İ”©iÚs_
.
pİ
();

63 ià(!
	gchašed_İ”©iÚs_
.
em±y
()) {

64 
	gchašed_İ”©iÚs_
.
äÚt
()->
Run
();

	@operations_chain.h

11 #iâdeà
RTC_BASE_OPERATIONS_CHAIN_H_


12 
	#RTC_BASE_OPERATIONS_CHAIN_H_


	)

14 
	~<funùiÚ®
>

15 
	~<memÜy
>

16 
	~<queue
>

17 
	~<£t
>

18 
	~<ty³_Œa™s
>

19 
	~<ut™y
>

21 
	~"­i/scİed_»åŒ.h
"

22 
	~"¹c_ba£/checks.h
"

23 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

24 
	~"¹c_ba£/»f_couÁ.h
"

25 
	~"¹c_ba£/»f_couÁed_objeù.h
"

26 
	~"¹c_ba£/synchrÚiz©iÚ/£qu’û_check”.h
"

28 
Çme¥aû
 
	g¹c
 {

30 
Çme¥aû
 
	g¹c_İ”©iÚs_chaš_š‹º®
 {

34 şas 
	cO³¿tiÚ
 {

35 
	gpublic
:

36 
vœtu®
 ~
O³¿tiÚ
() {}

38 
vœtu®
 
Run
() = 0;

45 
	g‹m¶©e
 <
ty³Çme
 
	gFunùÜT
>

46 şas 
	cO³¿tiÚW™hFunùÜ
 
	gfš®
 : 
public
 
O³¿tiÚ
 {

47 
public
:

48 
O³¿tiÚW™hFunùÜ
(
FunùÜT
&& 
funùÜ
, 
¡d
::
funùiÚ
<()> 
ÿÎback
)

49 : 
funùÜ_
(
¡d
::
fÜw¬d
<
FunùÜT
>(
funùÜ
)),

50 
ÿÎback_
(
¡d
::
move
(
ÿÎback
)) {}

52 ~
O³¿tiÚW™hFunùÜ
(è
ov”ride
 { 
RTC_DCHECK
(
has_run_
); }

54 
Run
(è
	gov”ride
 {

55 
RTC_DCHECK
(!
has_run_
);

56 #ifdeà
RTC_DCHECK_IS_ON


57 
	ghas_run_
 = 
Œue
;

64 autØ
	gfunùÜ
 = 
¡d
::
move
(
funùÜ_
);

65 
funùÜ
(
¡d
::
move
(
ÿÎback_
));

69 
	g´iv©e
:

70 
ty³Çme
 
¡d
::
»move_»ã»nû
<
FunùÜT
>::
ty³
 
funùÜ_
;

71 
	g¡d
::
funùiÚ
<()> 
ÿÎback_
;

72 #ifdeà
RTC_DCHECK_IS_ON


73 
boŞ
 
	ghas_run_
 = 
çl£
;

110 
şass
 
O³¿tiÚsChaš
 
	gfš®
 : 
public
 
RefCouÁedObjeù
<
RefCouÁIÁ”çû
> {

111 
public
:

112 
scİed_»åŒ
<
O³¿tiÚsChaš
> 
C»©e
();

113 ~
O³¿tiÚsChaš
();

134 
	g‹m¶©e
 <
ty³Çme
 
	gFunùÜT
>

135 
ChašO³¿tiÚ
(
FunùÜT
&& 
funùÜ
) {

136 
RTC_DCHECK_RUN_ON
(&
£qu’û_check”_
);

137 
	gchašed_İ”©iÚs_
.
push
(

138 
¡d
::
make_unique
<

139 
¹c_İ”©iÚs_chaš_š‹º®
::
O³¿tiÚW™hFunùÜ
<
FunùÜT
>>(

140 
¡d
::
fÜw¬d
<
FunùÜT
>(
funùÜ
), 
C»©eO³¿tiÚsChašC®lback
()));

144 ià(
	gchašed_İ”©iÚs_
.
size
() == 1) {

145 
chašed_İ”©iÚs_
.
äÚt
()->
Run
();

149 
	g´iv©e
:

150 
ä›nd
 
şass
 
C®lbackHªdË
;

157 
şass
 
C®lbackHªdË
 
	gfš®
 : 
public
 
RefCouÁedObjeù
<
RefCouÁIÁ”çû
> {

158 
public
:

159 
ex¶ic™
 
C®lbackHªdË
(
scİed_»åŒ
<
O³¿tiÚsChaš
> 
İ”©iÚs_chaš
);

160 ~
C®lbackHªdË
();

162 
OnO³¿tiÚCom¶‘e
();

164 
	g´iv©e
:

165 
scİed_»åŒ
<
O³¿tiÚsChaš
> 
İ”©iÚs_chaš_
;

166 #ifdeà
RTC_DCHECK_IS_ON


167 
boŞ
 
	ghas_run_
 = 
çl£
;

170 
RTC_DISALLOW_COPY_AND_ASSIGN
(
C®lbackHªdË
);

173 
O³¿tiÚsChaš
();

175 
	g¡d
::
funùiÚ
<()> 
C»©eO³¿tiÚsChašC®lback
();

176 
OnO³¿tiÚCom¶‘e
();

178 
	gweb¹c
::
Sequ’ûCheck”
 
£qu’û_check”_
;

182 
	g¡d
::
queue
<
¡d
::
unique_±r
<
¹c_İ”©iÚs_chaš_š‹º®
::
O³¿tiÚ
>>

183 
chašed_İ”©iÚs_
 
RTC_GUARDED_BY
(
£qu’û_check”_
);

185 
RTC_DISALLOW_COPY_AND_ASSIGN
(
O³¿tiÚsChaš
);

	@operations_chain_unittest.cc

11 
	~"¹c_ba£/İ”©iÚs_chaš.h
"

13 
	~<funùiÚ®
>

14 
	~<memÜy
>

15 
	~<ut™y
>

16 
	~<veùÜ
>

18 
	~"¹c_ba£/bšd.h
"

19 
	~"¹c_ba£/ev’t.h
"

20 
	~"¹c_ba£/th»ad.h
"

21 
	~"‹¡/gmock.h
"

22 
	~"‹¡/g‹¡.h
"

24 
Çme¥aû
 
	g¹c
 {

26 
	gusšg
 ::
‹¡šg
::
EËm’tsA»
;

28 şas 
	cO³¿tiÚT¿ck”
 {

29 
	gpublic
:

30 
O³¿tiÚT¿ck”
(è: 
background_th»ad_
(
Th»ad
::
C»©e
()) {

31 
background_th»ad_
->
S¹
();

34 ~
O³¿tiÚT¿ck”
() {}

38 
	g¡d
::
funùiÚ
<(
¡d
::funùiÚ<()>)> 
BšdSynchrÚousO³¿tiÚ
(

39 
Ev’t
* 
İ”©iÚ_com¶‘e_ev’t
) {

40  [
this
, 
İ”©iÚ_com¶‘e_ev’t
](
	g¡d
::
funùiÚ
<()> 
ÿÎback
) {

41 
S¹SynchrÚousO³¿tiÚ
(
İ”©iÚ_com¶‘e_ev’t
, 
¡d
::
move
(
ÿÎback
));

47 
	g¡d
::
funùiÚ
<(
¡d
::funùiÚ<()>)> 
BšdAsynchrÚousO³¿tiÚ
(

48 
Ev’t
* 
unblock_İ”©iÚ_ev’t
,

49 
Ev’t
* 
İ”©iÚ_com¶‘e_ev’t
) {

50  [
this
, 
unblock_İ”©iÚ_ev’t
,

51 
İ”©iÚ_com¶‘e_ev’t
](
	g¡d
::
funùiÚ
<()> 
ÿÎback
) {

52 
S¹AsynchrÚousO³¿tiÚ
(
unblock_İ”©iÚ_ev’t
,

53 
İ”©iÚ_com¶‘e_ev’t
, 
¡d
::
move
(
ÿÎback
));

60 cÚ¡ 
	g¡d
::
veùÜ
<
Ev’t
*>& 
com¶‘ed_İ”©iÚ_ev’ts
() const {

61  
com¶‘ed_İ”©iÚ_ev’ts_
;

64 
	g´iv©e
:

67 
S¹SynchrÚousO³¿tiÚ
(
Ev’t
* 
İ”©iÚ_com¶‘e_ev’t
,

68 
¡d
::
funùiÚ
<()> 
ÿÎback
) {

69 
com¶‘ed_İ”©iÚ_ev’ts_
.
push_back
(
İ”©iÚ_com¶‘e_ev’t
);

70 
	gİ”©iÚ_com¶‘e_ev’t
->
S‘
();

71 
ÿÎback
();

79 
S¹AsynchrÚousO³¿tiÚ
(
Ev’t
* 
unblock_İ”©iÚ_ev’t
,

80 
Ev’t
* 
İ”©iÚ_com¶‘e_ev’t
,

81 
¡d
::
funùiÚ
<()> 
ÿÎback
) {

82 
Th»ad
* 
cu¼’t_th»ad
 = Th»ad::
Cu¼’t
();

83 
	gbackground_th»ad_
->
Po¡Task
(

84 
RTC_FROM_HERE
, [
this
, 
cu¼’t_th»ad
, 
unblock_İ”©iÚ_ev’t
,

85 
İ”©iÚ_com¶‘e_ev’t
, 
ÿÎback
]() {

86 
unblock_İ”©iÚ_ev’t
->
Wa™
(
Ev’t
::
kFÜev”
);

87 
cu¼’t_th»ad
->
Po¡Task
(

88 
RTC_FROM_HERE
, [
this
, 
İ”©iÚ_com¶‘e_ev’t
, 
ÿÎback
]() {

89 
com¶‘ed_İ”©iÚ_ev’ts_
.
push_back
(
İ”©iÚ_com¶‘e_ev’t
);

90 
İ”©iÚ_com¶‘e_ev’t
->
S‘
();

91 
ÿÎback
();

96 
	g¡d
::
unique_±r
<
Th»ad
> 
background_th»ad_
;

97 
	g¡d
::
veùÜ
<
Ev’t
*> 
com¶‘ed_İ”©iÚ_ev’ts_
;

103 şas 
	cO³¿tiÚT¿ck”Proxy
 {

104 
	gpublic
:

105 
O³¿tiÚT¿ck”Proxy
()

106 : 
İ”©iÚs_chaš_th»ad_
(
Th»ad
::
C»©e
()),

107 
İ”©iÚ_Œack”_
(
nuÎ±r
),

108 
İ”©iÚs_chaš_
(
nuÎ±r
) {

109 
	gİ”©iÚs_chaš_th»ad_
->
S¹
();

112 
	g¡d
::
unique_±r
<
Ev’t
> 
In™Ÿlize
() {

113 
¡d
::
unique_±r
<
Ev’t
> 
ev’t
 = std::
make_unique
<Event>();

114 
	gİ”©iÚs_chaš_th»ad_
->
Po¡Task
(

115 
RTC_FROM_HERE
, [
this
, 
ev’t_±r
 = 
ev’t
.
g‘
()]() {

116 
İ”©iÚ_Œack”_
 = 
¡d
::
make_unique
<
O³¿tiÚT¿ck”
>();

117 
İ”©iÚs_chaš_
 = 
O³¿tiÚsChaš
::
C»©e
();

118 
ev’t_±r
->
S‘
();

120  
	gev’t
;

123 
	g¡d
::
unique_±r
<
Ev’t
> 
R–—£O³¿tiÚChaš
() {

124 
¡d
::
unique_±r
<
Ev’t
> 
ev’t
 = std::
make_unique
<Event>();

125 
	gİ”©iÚs_chaš_th»ad_
->
Po¡Task
(
RTC_FROM_HERE
,

126 [
this
, 
ev’t_±r
 = 
ev’t
.
g‘
()]() {

127 
İ”©iÚs_chaš_
 = 
nuÎ±r
;

128 
ev’t_±r
->
S‘
();

130  
	gev’t
;

134 
	g¡d
::
unique_±r
<
Ev’t
> 
Po¡SynchrÚousO³¿tiÚ
() {

135 
¡d
::
unique_±r
<
Ev’t
> 
İ”©iÚ_com¶‘e_ev’t
 = std::
make_unique
<Event>();

136 
	gİ”©iÚs_chaš_th»ad_
->
Po¡Task
(

137 
RTC_FROM_HERE
, [
this
, 
İ”©iÚ_com¶‘e_ev’t_±r
 =

138 
İ”©iÚ_com¶‘e_ev’t
.
g‘
()]() {

139 
İ”©iÚs_chaš_
->
ChašO³¿tiÚ
(

140 
İ”©iÚ_Œack”_
->
BšdSynchrÚousO³¿tiÚ
(

141 
İ”©iÚ_com¶‘e_ev’t_±r
));

143  
	gİ”©iÚ_com¶‘e_ev’t
;

148 
	g¡d
::
unique_±r
<
Ev’t
> 
Po¡AsynchrÚousO³¿tiÚ
(

149 
Ev’t
* 
unblock_İ”©iÚ_ev’t
) {

150 
¡d
::
unique_±r
<
Ev’t
> 
İ”©iÚ_com¶‘e_ev’t
 = std::
make_unique
<Event>();

151 
	gİ”©iÚs_chaš_th»ad_
->
Po¡Task
(

152 
RTC_FROM_HERE
,

153 [
this
, 
unblock_İ”©iÚ_ev’t
,

154 
İ”©iÚ_com¶‘e_ev’t_±r
 = 
İ”©iÚ_com¶‘e_ev’t
.
g‘
()]() {

155 
İ”©iÚs_chaš_
->
ChašO³¿tiÚ
(

156 
İ”©iÚ_Œack”_
->
BšdAsynchrÚousO³¿tiÚ
(

157 
unblock_İ”©iÚ_ev’t
, 
İ”©iÚ_com¶‘e_ev’t_±r
));

159  
	gİ”©iÚ_com¶‘e_ev’t
;

165 cÚ¡ 
	g¡d
::
veùÜ
<
Ev’t
*>& 
com¶‘ed_İ”©iÚ_ev’ts
() const {

166  
İ”©iÚ_Œack”_
->
com¶‘ed_İ”©iÚ_ev’ts
();

169 
	g´iv©e
:

170 
¡d
::
unique_±r
<
Th»ad
> 
İ”©iÚs_chaš_th»ad_
;

171 
	g¡d
::
unique_±r
<
O³¿tiÚT¿ck”
> 
İ”©iÚ_Œack”_
;

172 
	gscİed_»åŒ
<
	gO³¿tiÚsChaš
> 
	gİ”©iÚs_chaš_
;

176 şas 
	cSigÇlOnDe¡ruùiÚ
 
	gfš®
 {

177 
	gpublic
:

178 
SigÇlOnDe¡ruùiÚ
(
boŞ
* 
de¡ruùÜ_ÿÎed
)

179 : 
de¡ruùÜ_ÿÎed_
(
de¡ruùÜ_ÿÎed
) {

180 
RTC_DCHECK
(
de¡ruùÜ_ÿÎed_
);

182 ~
SigÇlOnDe¡ruùiÚ
() {

185 ià(
	gde¡ruùÜ_ÿÎed_
) {

186 *
	gde¡ruùÜ_ÿÎed_
 = 
Œue
;

191 
SigÇlOnDe¡ruùiÚ
(SigÇlOnDe¡ruùiÚ&& 
Ùh”
)

192 : 
SigÇlOnDe¡ruùiÚ
(
Ùh”
.
de¡ruùÜ_ÿÎed_
) {

193 
Ùh”
.
de¡ruùÜ_ÿÎed_
 = 
nuÎ±r
;

195 
	gSigÇlOnDe¡ruùiÚ
& 
	gİ”©Ü
=(
SigÇlOnDe¡ruùiÚ
&& 
Ùh”
) {

196 
de¡ruùÜ_ÿÎed_
 = 
Ùh”
.destructor_called_;

197 
	gÙh”
.
	gde¡ruùÜ_ÿÎed_
 = 
nuÎ±r
;

198  *
	gthis
;

201 
	g´iv©e
:

202 
boŞ
* 
de¡ruùÜ_ÿÎed_
;

204 
RTC_DISALLOW_COPY_AND_ASSIGN
(
SigÇlOnDe¡ruùiÚ
);

207 
	$TEST
(
O³¿tiÚsChašTe¡
, 
SynchrÚousO³¿tiÚ
) {

208 
O³¿tiÚT¿ck”Proxy
 
İ”©iÚ_Œack”_´oxy
;

209 
İ”©iÚ_Œack”_´oxy
.
	`In™Ÿlize
()->
	`Wa™
(
Ev’t
::
kFÜev”
);

211 
İ”©iÚ_Œack”_´oxy
.
	`Po¡SynchrÚousO³¿tiÚ
()->
	`Wa™
(
Ev’t
::
kFÜev”
);

212 
	}
}

214 
	$TEST
(
O³¿tiÚsChašTe¡
, 
AsynchrÚousO³¿tiÚ
) {

215 
O³¿tiÚT¿ck”Proxy
 
İ”©iÚ_Œack”_´oxy
;

216 
İ”©iÚ_Œack”_´oxy
.
	`In™Ÿlize
()->
	`Wa™
(
Ev’t
::
kFÜev”
);

218 
Ev’t
 
unblock_async_İ”©iÚ_ev’t
;

219 autØ
async_İ”©iÚ_com¶‘ed_ev’t
 =

220 
İ”©iÚ_Œack”_´oxy
.
	`Po¡AsynchrÚousO³¿tiÚ
(

221 &
unblock_async_İ”©iÚ_ev’t
);

223 
	`EXPECT_FALSE
(
async_İ”©iÚ_com¶‘ed_ev’t
->
	`Wa™
(0));

225 
unblock_async_İ”©iÚ_ev’t
.
	`S‘
();

226 
async_İ”©iÚ_com¶‘ed_ev’t
->
	`Wa™
(
Ev’t
::
kFÜev”
);

227 
	}
}

229 
	$TEST
(
O³¿tiÚsChašTe¡
,

230 
SynchrÚousO³¿tiÚsA»Execu‹dImmedŸ‹lyWh’ChašIsEm±y
) {

234 
scİed_»åŒ
<
O³¿tiÚsChaš
> 
İ”©iÚs_chaš
 = O³¿tiÚsChaš::
	`C»©e
();

235 
O³¿tiÚT¿ck”
 
İ”©iÚ_Œack”
;

236 
Ev’t
 
ev’t0
;

237 
İ”©iÚs_chaš
->
	`ChašO³¿tiÚ
(

238 
İ”©iÚ_Œack”
.
	`BšdSynchrÚousO³¿tiÚ
(&
ev’t0
));

241 
	`EXPECT_TRUE
(
ev’t0
.
	`Wa™
(0));

244 
Ev’t
 
ev’t1
;

245 
İ”©iÚs_chaš
->
	`ChašO³¿tiÚ
(

246 
İ”©iÚ_Œack”
.
	`BšdSynchrÚousO³¿tiÚ
(&
ev’t1
));

247 
	`EXPECT_TRUE
(
ev’t1
.
	`Wa™
(0));

248 
	}
}

250 
	$TEST
(
O³¿tiÚsChašTe¡
, 
AsynchrÚousO³¿tiÚBlocksSynchrÚousO³¿tiÚ
) {

251 
O³¿tiÚT¿ck”Proxy
 
İ”©iÚ_Œack”_´oxy
;

252 
İ”©iÚ_Œack”_´oxy
.
	`In™Ÿlize
()->
	`Wa™
(
Ev’t
::
kFÜev”
);

254 
Ev’t
 
unblock_async_İ”©iÚ_ev’t
;

255 autØ
async_İ”©iÚ_com¶‘ed_ev’t
 =

256 
İ”©iÚ_Œack”_´oxy
.
	`Po¡AsynchrÚousO³¿tiÚ
(

257 &
unblock_async_İ”©iÚ_ev’t
);

259 autØ
sync_İ”©iÚ_com¶‘ed_ev’t
 =

260 
İ”©iÚ_Œack”_´oxy
.
	`Po¡SynchrÚousO³¿tiÚ
();

262 
unblock_async_İ”©iÚ_ev’t
.
	`S‘
();

264 
sync_İ”©iÚ_com¶‘ed_ev’t
->
	`Wa™
(
Ev’t
::
kFÜev”
);

267 
	`EXPECT_TRUE
(
async_İ”©iÚ_com¶‘ed_ev’t
->
	`Wa™
(0));

268 
	}
}

270 
	$TEST
(
O³¿tiÚsChašTe¡
, 
O³¿tiÚsA»Execu‹dInOrd”
) {

271 
O³¿tiÚT¿ck”Proxy
 
İ”©iÚ_Œack”_´oxy
;

272 
İ”©iÚ_Œack”_´oxy
.
	`In™Ÿlize
()->
	`Wa™
(
Ev’t
::
kFÜev”
);

275 
Ev’t
 
İ”©iÚ0_unblock_ev’t
;

276 autØ
İ”©iÚ0_com¶‘ed_ev’t
 =

277 
İ”©iÚ_Œack”_´oxy
.
	`Po¡AsynchrÚousO³¿tiÚ
(

278 &
İ”©iÚ0_unblock_ev’t
);

280 
Ev’t
 
İ”©iÚ1_unblock_ev’t
;

281 autØ
İ”©iÚ1_com¶‘ed_ev’t
 =

282 
İ”©iÚ_Œack”_´oxy
.
	`Po¡AsynchrÚousO³¿tiÚ
(

283 &
İ”©iÚ1_unblock_ev’t
);

285 autØ
İ”©iÚ2_com¶‘ed_ev’t
 =

286 
İ”©iÚ_Œack”_´oxy
.
	`Po¡SynchrÚousO³¿tiÚ
();

288 autØ
İ”©iÚ3_com¶‘ed_ev’t
 =

289 
İ”©iÚ_Œack”_´oxy
.
	`Po¡SynchrÚousO³¿tiÚ
();

291 
Ev’t
 
İ”©iÚ4_unblock_ev’t
;

292 autØ
İ”©iÚ4_com¶‘ed_ev’t
 =

293 
İ”©iÚ_Œack”_´oxy
.
	`Po¡AsynchrÚousO³¿tiÚ
(

294 &
İ”©iÚ4_unblock_ev’t
);

296 autØ
İ”©iÚ5_com¶‘ed_ev’t
 =

297 
İ”©iÚ_Œack”_´oxy
.
	`Po¡SynchrÚousO³¿tiÚ
();

299 
Ev’t
 
İ”©iÚ6_unblock_ev’t
;

300 autØ
İ”©iÚ6_com¶‘ed_ev’t
 =

301 
İ”©iÚ_Œack”_´oxy
.
	`Po¡AsynchrÚousO³¿tiÚ
(

302 &
İ”©iÚ6_unblock_ev’t
);

306 
İ”©iÚ6_unblock_ev’t
.
	`S‘
();

307 
İ”©iÚ4_unblock_ev’t
.
	`S‘
();

308 
İ”©iÚ1_unblock_ev’t
.
	`S‘
();

309 
İ”©iÚ0_unblock_ev’t
.
	`S‘
();

312 
İ”©iÚ0_com¶‘ed_ev’t
->
	`Wa™
(
Ev’t
::
kFÜev”
);

313 
İ”©iÚ1_com¶‘ed_ev’t
->
	`Wa™
(
Ev’t
::
kFÜev”
);

314 
İ”©iÚ2_com¶‘ed_ev’t
->
	`Wa™
(
Ev’t
::
kFÜev”
);

315 
İ”©iÚ3_com¶‘ed_ev’t
->
	`Wa™
(
Ev’t
::
kFÜev”
);

316 
İ”©iÚ4_com¶‘ed_ev’t
->
	`Wa™
(
Ev’t
::
kFÜev”
);

317 
İ”©iÚ5_com¶‘ed_ev’t
->
	`Wa™
(
Ev’t
::
kFÜev”
);

318 
İ”©iÚ6_com¶‘ed_ev’t
->
	`Wa™
(
Ev’t
::
kFÜev”
);

320 
	`EXPECT_THAT
(

321 
İ”©iÚ_Œack”_´oxy
.
	`com¶‘ed_İ”©iÚ_ev’ts
(),

322 
	`EËm’tsA»
(

323 
İ”©iÚ0_com¶‘ed_ev’t
.
	`g‘
(), 
İ”©iÚ1_com¶‘ed_ev’t
.get(),

324 
İ”©iÚ2_com¶‘ed_ev’t
.
	`g‘
(), 
İ”©iÚ3_com¶‘ed_ev’t
.get(),

325 
İ”©iÚ4_com¶‘ed_ev’t
.
	`g‘
(), 
İ”©iÚ5_com¶‘ed_ev’t
.get(),

326 
İ”©iÚ6_com¶‘ed_ev’t
.
	`g‘
()));

327 
	}
}

329 
	$TEST
(
O³¿tiÚsChašTe¡
,

330 
SaãToR–—£Reã»nûToO³¿tiÚChašWheO³¿tiÚIsP’dšg
) {

331 
O³¿tiÚT¿ck”Proxy
 
İ”©iÚ_Œack”_´oxy
;

332 
İ”©iÚ_Œack”_´oxy
.
	`In™Ÿlize
()->
	`Wa™
(
Ev’t
::
kFÜev”
);

334 
Ev’t
 
unblock_async_İ”©iÚ_ev’t
;

335 autØ
async_İ”©iÚ_com¶‘ed_ev’t
 =

336 
İ”©iÚ_Œack”_´oxy
.
	`Po¡AsynchrÚousO³¿tiÚ
(

337 &
unblock_async_İ”©iÚ_ev’t
);

341 
İ”©iÚ_Œack”_´oxy
.
	`R–—£O³¿tiÚChaš
()->
	`Wa™
(
Ev’t
::
kFÜev”
);

343 
unblock_async_İ”©iÚ_ev’t
.
	`S‘
();

344 
async_İ”©iÚ_com¶‘ed_ev’t
->
	`Wa™
(
Ev’t
::
kFÜev”
);

345 
	}
}

347 
	$TEST
(
O³¿tiÚsChašTe¡
, 
FunùÜIsNÙDe¡royedWheExecutšg
) {

348 
scİed_»åŒ
<
O³¿tiÚsChaš
> 
İ”©iÚs_chaš
 = O³¿tiÚsChaš::
	`C»©e
();

350 
boŞ
 
de¡ruùÜ_ÿÎed
 = 
çl£
;

351 
SigÇlOnDe¡ruùiÚ
 
	`sigÇl_Ú_de¡ruùiÚ
(&
de¡ruùÜ_ÿÎed
);

353 
İ”©iÚs_chaš
->
	`ChašO³¿tiÚ
(

354 [
sigÇl_Ú_de¡ruùiÚ
 = 
¡d
::
	`move
(signal_on_destruction),

355 &
de¡ruùÜ_ÿÎed
](
¡d
::
funùiÚ
<()> 
ÿÎback
) {

356 
	`EXPECT_FALSE
(
de¡ruùÜ_ÿÎed
);

359 
	`ÿÎback
();

363 
	`EXPECT_FALSE
(
de¡ruùÜ_ÿÎed
);

367 
	`EXPECT_TRUE
(
de¡ruùÜ_ÿÎed
);

368 
	}
}

370 #ià
RTC_DCHECK_IS_ON
 && 
GTEST_HAS_DEATH_TEST
 && !
	$defšed
(
WEBRTC_ANDROID
)

372 
	$TEST
(
O³¿tiÚsChašTe¡
, 
O³¿tiÚNÙInvokšgC®lbackShouldC¿sh
) {

373 
scİed_»åŒ
<
O³¿tiÚsChaš
> 
İ”©iÚs_chaš
 = O³¿tiÚsChaš::
	`C»©e
();

374 
	`EXPECT_DEATH
(

375 
İ”©iÚs_chaš
->
	`ChašO³¿tiÚ
([](
¡d
::
funùiÚ
<()> 
ÿÎback
) {}),

377 
	}
}

379 
	$TEST
(
O³¿tiÚsChašTe¡
, 
O³¿tiÚInvokšgC®lbackMuÉËTimesShouldC¿sh
) {

380 
scİed_»åŒ
<
O³¿tiÚsChaš
> 
İ”©iÚs_chaš
 = O³¿tiÚsChaš::
	`C»©e
();

381 
	`EXPECT_DEATH
(

382 
İ”©iÚs_chaš
->
	`ChašO³¿tiÚ
([](
¡d
::
funùiÚ
<()> 
ÿÎback
) {

384 
	`ÿÎback
();

385 
	`ÿÎback
();

388 
	}
}

	@physical_socket_server.cc

10 
	~"¹c_ba£/physiÿl_sock‘_£rv”.h
"

12 #ià
defšed
(
_MSC_VER
) && _MSC_VER < 1300

13 #´agm¨
w¬nšg
(
di§bË
 : 4786)

16 #ifdeà
MEMORY_SANITIZER


17 
	~<§n™iz”/m§n_š‹rçû.h
>

20 #ià
defšed
(
WEBRTC_POSIX
)

21 
	~<fú.h
>

22 
	~<¡ršg.h
>

23 #ià
defšed
(
WEBRTC_USE_EPOLL
)

25 
	~<pŞl.h
>

27 
	~<sys/ioùl.h
>

28 
	~<sys/£Ëù.h
>

29 
	~<sys/time.h
>

30 
	~<uni¡d.h
>

33 #ià
defšed
(
WEBRTC_WIN
)

34 
	~<wšdows.h
>

35 
	~<wšsock2.h
>

36 
	~<ws2tı.h
>

37 #undeà
S‘PÜt


40 
	~<”ºo.h
>

42 
	~<®gÜ™hm
>

43 
	~<m­
>

45 
	~"¹c_ba£/¬¿ysize.h
"

46 
	~"¹c_ba£/by‹_Üd”.h
"

47 
	~"¹c_ba£/checks.h
"

48 
	~"¹c_ba£/loggšg.h
"

49 
	~"¹c_ba£/ÃtwÜk_mÚ™Ü.h
"

50 
	~"¹c_ba£/nuÎ_sock‘_£rv”.h
"

51 
	~"¹c_ba£/time_uts.h
"

53 #ià
defšed
(
WEBRTC_LINUX
)

54 
	~<lšux/sockios.h
>

57 #ià
defšed
(
WEBRTC_WIN
)

58 
	#LAST_SYSTEM_ERROR
 (::
	`G‘La¡E¼Ü
())

	)

59 #–ià
defšed
(
__Çtive_ş›Á__
) && __native_client__

60 
	#LAST_SYSTEM_ERROR
 (0)

	)

61 #–ià
defšed
(
WEBRTC_POSIX
)

62 
	#LAST_SYSTEM_ERROR
 (
”ºo
)

	)

65 #ià
defšed
(
WEBRTC_POSIX
)

66 
	~<Ãtš‘/tı.h
>

67 
	#IP_MTU
 14

68 * 
	tSockO±Arg
;

	)

72 #ià
defšed
(
WEBRTC_POSIX
è&& !defšed(
WEBRTC_MAC
è&& !defšed(
__Çtive_ş›Á__
)

74 
št64_t
 
	$G‘Sock‘RecvTime¡amp
(
sock‘
) {

75 
timev®
 
tv_ioùl
;

76 
»t
 = 
	`ioùl
(
sock‘
, 
SIOCGSTAMP
, &
tv_ioùl
);

77 ià(
»t
 != 0)

79 
št64_t
 
time¡amp
 =

80 
¹c
::
kNumMiüo£csP”Sec
 * 
¡©ic_ÿ¡
<
št64_t
>(
tv_ioùl
.
tv_£c
) +

81 
¡©ic_ÿ¡
<
št64_t
>(
tv_ioùl
.
tv_u£c
);

82  
time¡amp
;

83 
	}
}

87 
št64_t
 
	$G‘Sock‘RecvTime¡amp
(
sock‘
) {

89 
	}
}

92 #ià
defšed
(
WEBRTC_WIN
)

93 * 
	tSockO±Arg
;

96 #ià
defšed
(
WEBRTC_USE_EPOLL
)

98 #ià!
defšed
(
POLLRDHUP
)

99 
	#POLLRDHUP
 0x2000

	)

101 #ià!
defšed
(
EPOLLRDHUP
)

102 
	#EPOLLRDHUP
 0x2000

	)

106 
Çme¥aû
 
	g¹c
 {

108 
	g¡d
::
unique_±r
<
Sock‘S”v”
> Sock‘S”v”::
C»©eDeçuÉ
() {

109 #ià
defšed
(
__Çtive_ş›Á__
)

110  
¡d
::
unique_±r
<
Sock‘S”v”
>(
Ãw
 
¹c
::
NuÎSock‘S”v”
);

112  
	g¡d
::
unique_±r
<
Sock‘S”v”
>(
Ãw
 
¹c
::
PhysiÿlSock‘S”v”
);

116 
	gPhysiÿlSock‘
::
PhysiÿlSock‘
(
PhysiÿlSock‘S”v”
* 
ss
, 
SOCKET
 
s
)

117 : 
ss_
(
ss
),

118 
s_
(
s
),

119 
”rÜ_
(0),

120 
¡©e_
((
s
 =ğ
INVALID_SOCKET
è? 
CS_CLOSED
 : 
CS_CONNECTED
),

121 
»sŞv”_
(
nuÎ±r
) {

122 ià(
	gs_
 !ğ
INVALID_SOCKET
) {

123 
S‘EÇbËdEv’ts
(
DE_READ
 | 
DE_WRITE
);

125 
	gty³
 = 
SOCK_STREAM
;

126 
sockËn_t
 
	gËn
 = (
ty³
);

127 cÚ¡ 
	g»s
 =

128 
g‘sockİt
(
s_
, 
SOL_SOCKET
, 
SO_TYPE
, (
SockO±Arg
)&
ty³
, &
Ën
);

129 
RTC_DCHECK_EQ
(0, 
»s
);

130 
	gudp_
 = (
SOCK_DGRAM
 =ğ
ty³
);

134 
	gPhysiÿlSock‘
::~
PhysiÿlSock‘
() {

135 
Clo£
();

138 
boŞ
 
	gPhysiÿlSock‘
::
C»©e
(
çmy
, 
ty³
) {

139 
Clo£
();

140 
	gs_
 = ::
sock‘
(
çmy
, 
ty³
, 0);

141 
	gudp_
 = (
SOCK_DGRAM
 =ğ
ty³
);

142 
	gçmy_
 = 
çmy
;

143 
Upd©eLa¡E¼Ü
();

144 ià(
	gudp_
) {

145 
S‘EÇbËdEv’ts
(
DE_READ
 | 
DE_WRITE
);

147  
	gs_
 !ğ
INVALID_SOCKET
;

150 
Sock‘Add»ss
 
	gPhysiÿlSock‘
::
G‘LoÿlAdd»ss
() const {

151 
sockaddr_¡Üage
 
addr_¡Üage
 = {};

152 
sockËn_t
 
	gadd¾’
 = (
addr_¡Üage
);

153 
sockaddr
* 
	gaddr
 = 
»š‹½»t_ÿ¡
<sockaddr*>(&
addr_¡Üage
);

154 
	g»suÉ
 = ::
g‘sockÇme
(
s_
, 
addr
, &
add¾’
);

155 
Sock‘Add»ss
 
	gadd»ss
;

156 ià(
	g»suÉ
 >= 0) {

157 
Sock‘Add»ssFromSockAddrStÜage
(
addr_¡Üage
, &
add»ss
);

159 
RTC_LOG
(
LS_WARNING
) << "GetLocalAddress: unableo get†ocal‡ddr, socket="

160 << 
	gs_
;

162  
	gadd»ss
;

165 
Sock‘Add»ss
 
	gPhysiÿlSock‘
::
G‘RemÙeAdd»ss
() const {

166 
sockaddr_¡Üage
 
addr_¡Üage
 = {};

167 
sockËn_t
 
	gadd¾’
 = (
addr_¡Üage
);

168 
sockaddr
* 
	gaddr
 = 
»š‹½»t_ÿ¡
<sockaddr*>(&
addr_¡Üage
);

169 
	g»suÉ
 = ::
g‘³”Çme
(
s_
, 
addr
, &
add¾’
);

170 
Sock‘Add»ss
 
	gadd»ss
;

171 ià(
	g»suÉ
 >= 0) {

172 
Sock‘Add»ssFromSockAddrStÜage
(
addr_¡Üage
, &
add»ss
);

174 
RTC_LOG
(
LS_WARNING
)

175 << "G‘RemÙeAdd»ss: uÇbËØg‘„emÙaddr, sock‘=" << 
	gs_
;

177  
	gadd»ss
;

180 
	gPhysiÿlSock‘
::
Bšd
(cÚ¡ 
Sock‘Add»ss
& 
bšd_addr
) {

181 
Sock‘Add»ss
 
cİ›d_bšd_addr
 = 
bšd_addr
;

185 ià(
	gss_
->
ÃtwÜk_bšd”
(è&& !
	gbšd_addr
.
IsAnyIP
()) {

186 
N‘wÜkBšdšgResuÉ
 
	g»suÉ
 =

187 
ss_
->
ÃtwÜk_bšd”
()->
BšdSock‘ToN‘wÜk
(
s_
, 
bšd_addr
.
addr
());

188 ià(
	g»suÉ
 =ğ
N‘wÜkBšdšgResuÉ
::
SUCCESS
) {

192 
cİ›d_bšd_addr
.
S‘IP
(
G‘AnyIP
(cİ›d_bšd_addr.
addr
().
çmy
()));

193 } ià(
	g»suÉ
 =ğ
N‘wÜkBšdšgResuÉ
::
NOT_IMPLEMENTED
) {

194 
RTC_LOG
(
LS_INFO
) << "Can't bind socketo‚etwork because "

197 ià(
	gbšd_addr
.
IsLoİbackIP
()) {

200 
RTC_LOG
(
LS_VERBOSE
) << "Binding socketo†oopback‡ddress"

201 << " faed;„esuÉ: " << 
	g¡©ic_ÿ¡
<>(
	g»suÉ
);

203 
RTC_LOG
(
LS_WARNING
) << "Binding socketo‚etwork‡ddress"

204 << " faed;„esuÉ: " << 
	g¡©ic_ÿ¡
<>(
	g»suÉ
);

213 
sockaddr_¡Üage
 
	gaddr_¡Üage
;

214 
size_t
 
	gËn
 = 
cİ›d_bšd_addr
.
ToSockAddrStÜage
(&
addr_¡Üage
);

215 
sockaddr
* 
	gaddr
 = 
»š‹½»t_ÿ¡
<sockaddr*>(&
addr_¡Üage
);

216 
	g”r
 = ::
bšd
(
s_
, 
addr
, 
¡©ic_ÿ¡
<>(
Ën
));

217 
Upd©eLa¡E¼Ü
();

218 #ià!
defšed
(
NDEBUG
)

219 ià(0 =ğ
”r
) {

220 
dbg_addr_
 = "Bound @ ";

221 
	gdbg_addr_
.
­³nd
(
G‘LoÿlAdd»ss
().
ToSŒšg
());

224  
	g”r
;

227 
	gPhysiÿlSock‘
::
CÚÃù
(cÚ¡ 
Sock‘Add»ss
& 
addr
) {

230 ià(
¡©e_
 !ğ
CS_CLOSED
) {

231 
S‘E¼Ü
(
EALREADY
);

232  
	gSOCKET_ERROR
;

234 ià(
	gaddr
.
IsUÄesŞvedIP
()) {

235 
RTC_LOG
(
LS_VERBOSE
) << "Resolving‡ddr in PhysicalSocket::Connect";

236 
	g»sŞv”_
 = 
Ãw
 
AsyncResŞv”
();

237 
	g»sŞv”_
->
	gSigÇlDÚe
.
cÚÃù
(
this
, &
PhysiÿlSock‘
::
OnResŞveResuÉ
);

238 
	g»sŞv”_
->
S¹
(
addr
);

239 
	g¡©e_
 = 
CS_CONNECTING
;

243  
DoCÚÃù
(
addr
);

246 
	gPhysiÿlSock‘
::
DoCÚÃù
(cÚ¡ 
Sock‘Add»ss
& 
cÚÃù_addr
) {

247 ià((
s_
 =ğ
INVALID_SOCKET
è&& !
C»©e
(
cÚÃù_addr
.
çmy
(), 
SOCK_STREAM
)) {

248  
	gSOCKET_ERROR
;

250 
sockaddr_¡Üage
 
	gaddr_¡Üage
;

251 
size_t
 
	gËn
 = 
cÚÃù_addr
.
ToSockAddrStÜage
(&
addr_¡Üage
);

252 
sockaddr
* 
	gaddr
 = 
»š‹½»t_ÿ¡
<sockaddr*>(&
addr_¡Üage
);

253 
	g”r
 = ::
cÚÃù
(
s_
, 
addr
, 
¡©ic_ÿ¡
<>(
Ën
));

254 
Upd©eLa¡E¼Ü
();

255 
ušt8_t
 
	gev’ts
 = 
DE_READ
 | 
DE_WRITE
;

256 ià(
	g”r
 == 0) {

257 
¡©e_
 = 
CS_CONNECTED
;

258 } ià(
IsBlockšgE¼Ü
(
G‘E¼Ü
())) {

259 
	g¡©e_
 = 
CS_CONNECTING
;

260 
	gev’ts
 |ğ
DE_CONNECT
;

262  
	gSOCKET_ERROR
;

265 
EÇbËEv’ts
(
ev’ts
);

269 
	gPhysiÿlSock‘
::
G‘E¼Ü
() const {

270 
Cr™Scİe
 
cs
(&
ü™_
);

271  
	g”rÜ_
;

274 
	gPhysiÿlSock‘
::
S‘E¼Ü
(
”rÜ
) {

275 
Cr™Scİe
 
cs
(&
ü™_
);

276 
	g”rÜ_
 = 
”rÜ
;

279 
	gAsyncSock‘
::
CÚnS‹
 
PhysiÿlSock‘
::
G‘S‹
() const {

280  
¡©e_
;

283 
	gPhysiÿlSock‘
::
G‘O±iÚ
(
O±iÚ
 
İt
, * 
v®ue
) {

284 
	g¦ev–
;

285 
	gsİt
;

286 ià(
T¿n¦©eO±iÚ
(
İt
, &
¦ev–
, &
sİt
) == -1)

288 
sockËn_t
 
	gİ’
 = (*
v®ue
);

289 
	g»t
 = ::
g‘sockİt
(
s_
, 
¦ev–
, 
sİt
, (
SockO±Arg
)
v®ue
, &
İ’
);

290 ià(
	g»t
 == -1) {

293 ià(
	gİt
 =ğ
OPT_DONTFRAGMENT
) {

294 #ià
defšed
(
WEBRTC_LINUX
è&& !defšed(
WEBRTC_ANDROID
)

295 *
v®ue
 = (*v®u!ğ
IP_PMTUDISC_DONT
) ? 1 : 0;

297 } ià(
	gİt
 =ğ
OPT_DSCP
) {

298 #ià
defšed
(
WEBRTC_POSIX
)

300 *
v®ue
 >>= 2;

303  
	g»t
;

306 
	gPhysiÿlSock‘
::
S‘O±iÚ
(
O±iÚ
 
İt
, 
v®ue
) {

307 
	g¦ev–
;

308 
	gsİt
;

309 ià(
T¿n¦©eO±iÚ
(
İt
, &
¦ev–
, &
sİt
) == -1)

311 ià(
	gİt
 =ğ
OPT_DONTFRAGMENT
) {

312 #ià
defšed
(
WEBRTC_LINUX
è&& !defšed(
WEBRTC_ANDROID
)

313 
v®ue
 = (v®ueè? 
IP_PMTUDISC_DO
 : 
IP_PMTUDISC_DONT
;

315 } ià(
	gİt
 =ğ
OPT_DSCP
) {

316 #ià
defšed
(
WEBRTC_POSIX
)

318 
v®ue
 <<= 2;

321 #ià
defšed
(
WEBRTC_POSIX
)

322 ià(
	gsİt
 =ğ
IPV6_TCLASS
) {

324 ::
£tsockİt
(
s_
, 
IPPROTO_IP
, 
IP_TOS
, (
SockO±Arg
)&
v®ue
, (value));

327  ::
£tsockİt
(
s_
, 
¦ev–
, 
sİt
, (
SockO±Arg
)&
v®ue
, (value));

330 
	gPhysiÿlSock‘
::
S’d
(cÚ¡ * 
pv
, 
size_t
 
cb
) {

331 
	g£Á
 = 
DoS’d
(

332 
s_
, 
»š‹½»t_ÿ¡
<cÚ¡ *>(
pv
), 
¡©ic_ÿ¡
<>(
cb
),

333 #ià
defšed
(
WEBRTC_LINUX
è&& !defšed(
WEBRTC_ANDROID
)

339 
MSG_NOSIGNAL


344 
Upd©eLa¡E¼Ü
();

345 
MaybeRem­S’dE¼Ü
();

347 
RTC_DCHECK
(
£Á
 <ğ
¡©ic_ÿ¡
<>(
cb
));

348 ià((
	g£Á
 > 0 && s’ˆ< 
	g¡©ic_ÿ¡
<>(
	gcb
)) ||

349 (
	g£Á
 < 0 && 
IsBlockšgE¼Ü
(
G‘E¼Ü
()))) {

350 
EÇbËEv’ts
(
DE_WRITE
);

352  
	g£Á
;

355 
	gPhysiÿlSock‘
::
S’dTo
(cÚ¡ * 
bufãr
,

356 
size_t
 
Ëngth
,

357 cÚ¡ 
Sock‘Add»ss
& 
addr
) {

358 
sockaddr_¡Üage
 
	g§ddr
;

359 
size_t
 
	gËn
 = 
addr
.
ToSockAddrStÜage
(&
§ddr
);

360 
	g£Á
 =

361 
DoS’dTo
(
s_
, 
¡©ic_ÿ¡
<cÚ¡ *>(
bufãr
), stic_ÿ¡<>(
Ëngth
),

362 #ià
defšed
(
WEBRTC_LINUX
è&& !defšed(
WEBRTC_ANDROID
)

364 
MSG_NOSIGNAL
,

368 
»š‹½»t_ÿ¡
<
sockaddr
*>(&
§ddr
), 
¡©ic_ÿ¡
<>(
Ën
));

369 
Upd©eLa¡E¼Ü
();

370 
MaybeRem­S’dE¼Ü
();

372 
RTC_DCHECK
(
£Á
 <ğ
¡©ic_ÿ¡
<>(
Ëngth
));

373 ià((
	g£Á
 > 0 && s’ˆ< 
	g¡©ic_ÿ¡
<>(
	gËngth
)) ||

374 (
	g£Á
 < 0 && 
IsBlockšgE¼Ü
(
G‘E¼Ü
()))) {

375 
EÇbËEv’ts
(
DE_WRITE
);

377  
	g£Á
;

380 
	gPhysiÿlSock‘
::
Recv
(* 
bufãr
, 
size_t
 
Ëngth
, 
št64_t
* 
time¡amp
) {

381 
	g»ûived
 =

382 ::
»cv
(
s_
, 
¡©ic_ÿ¡
<*>(
bufãr
), stic_ÿ¡<>(
Ëngth
), 0);

383 ià((
	g»ûived
 =ğ0è&& (
Ëngth
 != 0)) {

387 
RTC_LOG
(
LS_WARNING
) << "EOF from socket; deferring closeƒvent";

390 
EÇbËEv’ts
(
DE_READ
);

391 
S‘E¼Ü
(
EWOULDBLOCK
);

392  
	gSOCKET_ERROR
;

394 ià(
	gtime¡amp
) {

395 *
	gtime¡amp
 = 
G‘Sock‘RecvTime¡amp
(
s_
);

397 
Upd©eLa¡E¼Ü
();

398 
	g”rÜ
 = 
G‘E¼Ü
();

399 
boŞ
 
	gsucûss
 = (
»ûived
 >ğ0è|| 
IsBlockšgE¼Ü
(
”rÜ
);

400 ià(
	gudp_
 || 
	gsucûss
) {

401 
EÇbËEv’ts
(
DE_READ
);

403 ià(!
	gsucûss
) {

404 
RTC_LOG_F
(
LS_VERBOSE
è<< "E¼Ü = " << 
	g”rÜ
;

406  
	g»ûived
;

409 
	gPhysiÿlSock‘
::
RecvFrom
(* 
bufãr
,

410 
size_t
 
Ëngth
,

411 
Sock‘Add»ss
* 
out_addr
,

412 
št64_t
* 
time¡amp
) {

413 
sockaddr_¡Üage
 
	gaddr_¡Üage
;

414 
sockËn_t
 
	gaddr_Ën
 = (
addr_¡Üage
);

415 
sockaddr
* 
	gaddr
 = 
»š‹½»t_ÿ¡
<sockaddr*>(&
addr_¡Üage
);

416 
	g»ûived
 = ::
»cväom
(
s_
, 
¡©ic_ÿ¡
<*>(
bufãr
),

417 
¡©ic_ÿ¡
<>(
Ëngth
), 0, 
addr
, &
addr_Ën
);

418 ià(
	gtime¡amp
) {

419 *
	gtime¡amp
 = 
G‘Sock‘RecvTime¡amp
(
s_
);

421 
Upd©eLa¡E¼Ü
();

422 ià((
	g»ûived
 >ğ0è&& (
out_addr
 !ğ
nuÎ±r
))

423 
Sock‘Add»ssFromSockAddrStÜage
(
addr_¡Üage
, 
out_addr
);

424 
	g”rÜ
 = 
G‘E¼Ü
();

425 
boŞ
 
	gsucûss
 = (
»ûived
 >ğ0è|| 
IsBlockšgE¼Ü
(
”rÜ
);

426 ià(
	gudp_
 || 
	gsucûss
) {

427 
EÇbËEv’ts
(
DE_READ
);

429 ià(!
	gsucûss
) {

430 
RTC_LOG_F
(
LS_VERBOSE
è<< "E¼Ü = " << 
	g”rÜ
;

432  
	g»ûived
;

435 
	gPhysiÿlSock‘
::
Li¡’
(
backlog
) {

436 
”r
 = ::
li¡’
(
s_
, 
backlog
);

437 
Upd©eLa¡E¼Ü
();

438 ià(
	g”r
 == 0) {

439 
¡©e_
 = 
CS_CONNECTING
;

440 
EÇbËEv’ts
(
DE_ACCEPT
);

441 #ià!
defšed
(
NDEBUG
)

442 
	gdbg_addr_
 = "Listening @ ";

443 
	gdbg_addr_
.
­³nd
(
G‘LoÿlAdd»ss
().
ToSŒšg
());

446  
	g”r
;

449 
AsyncSock‘
* 
	gPhysiÿlSock‘
::
Acû±
(
Sock‘Add»ss
* 
out_addr
) {

452 
EÇbËEv’ts
(
DE_ACCEPT
);

453 
sockaddr_¡Üage
 
	gaddr_¡Üage
;

454 
sockËn_t
 
	gaddr_Ën
 = (
addr_¡Üage
);

455 
sockaddr
* 
	gaddr
 = 
»š‹½»t_ÿ¡
<sockaddr*>(&
addr_¡Üage
);

456 
SOCKET
 
	gs
 = 
DoAcû±
(
s_
, 
addr
, &
addr_Ën
);

457 
Upd©eLa¡E¼Ü
();

458 ià(
	gs
 =ğ
INVALID_SOCKET
)

459  
nuÎ±r
;

460 ià(
	gout_addr
 !ğ
nuÎ±r
)

461 
Sock‘Add»ssFromSockAddrStÜage
(
addr_¡Üage
, 
out_addr
);

462  
	gss_
->
W¿pSock‘
(
s
);

465 
	gPhysiÿlSock‘
::
Clo£
() {

466 ià(
s_
 =ğ
INVALID_SOCKET
)

468 
	g”r
 = ::
şo£sock‘
(
s_
);

469 
Upd©eLa¡E¼Ü
();

470 
	gs_
 = 
INVALID_SOCKET
;

471 
	g¡©e_
 = 
CS_CLOSED
;

472 
S‘EÇbËdEv’ts
(0);

473 ià(
	g»sŞv”_
) {

474 
	g»sŞv”_
->
De¡roy
(
çl£
);

475 
	g»sŞv”_
 = 
nuÎ±r
;

477  
	g”r
;

480 
SOCKET
 
	gPhysiÿlSock‘
::
DoAcû±
(SOCKET 
sock‘
,

481 
sockaddr
* 
addr
,

482 
sockËn_t
* 
add¾’
) {

483  ::
acû±
(
sock‘
, 
addr
, 
add¾’
);

486 
	gPhysiÿlSock‘
::
DoS’d
(
SOCKET
 
sock‘
, cÚ¡ * 
buf
, 
Ën
, 
æags
) {

487  ::
£nd
(
sock‘
, 
buf
, 
Ën
, 
æags
);

490 
	gPhysiÿlSock‘
::
DoS’dTo
(
SOCKET
 
sock‘
,

491 cÚ¡ * 
buf
,

492 
Ën
,

493 
æags
,

494 cÚ¡ 
sockaddr
* 
de¡_addr
,

495 
sockËn_t
 
add¾’
) {

496  ::
£ndto
(
sock‘
, 
buf
, 
Ën
, 
æags
, 
de¡_addr
, 
add¾’
);

499 
	gPhysiÿlSock‘
::
OnResŞveResuÉ
(
AsyncResŞv”IÁ”çû
* 
»sŞv”
) {

500 ià(
»sŞv”
 !ğ
»sŞv”_
) {

504 
	g”rÜ
 = 
»sŞv”_
->
G‘E¼Ü
();

505 ià(
	g”rÜ
 == 0) {

506 
”rÜ
 = 
DoCÚÃù
(
»sŞv”_
->
add»ss
());

508 
Clo£
();

511 ià(
	g”rÜ
) {

512 
S‘E¼Ü
(
”rÜ
);

513 
SigÇlClo£Ev’t
(
this
, 
”rÜ
);

517 
	gPhysiÿlSock‘
::
Upd©eLa¡E¼Ü
() {

518 
S‘E¼Ü
(
LAST_SYSTEM_ERROR
);

521 
	gPhysiÿlSock‘
::
MaybeRem­S’dE¼Ü
() {

522 #ià
defšed
(
WEBRTC_MAC
)

528 ià(
G‘E¼Ü
(è=ğ
ENOBUFS
) {

529 
S‘E¼Ü
(
EWOULDBLOCK
);

534 
	gPhysiÿlSock‘
::
S‘EÇbËdEv’ts
(
ušt8_t
 
ev’ts
) {

535 
’abËd_ev’ts_
 = 
ev’ts
;

538 
	gPhysiÿlSock‘
::
EÇbËEv’ts
(
ušt8_t
 
ev’ts
) {

539 
’abËd_ev’ts_
 |ğ
ev’ts
;

542 
	gPhysiÿlSock‘
::
Di§bËEv’ts
(
ušt8_t
 
ev’ts
) {

543 
’abËd_ev’ts_
 &ğ~
ev’ts
;

546 
	gPhysiÿlSock‘
::
T¿n¦©eO±iÚ
(
O±iÚ
 
İt
, * 
¦ev–
, * 
sİt
) {

547 
	gİt
) {

548 
	gOPT_DONTFRAGMENT
:

549 #ià
defšed
(
WEBRTC_WIN
)

550 *
¦ev–
 = 
IPPROTO_IP
;

551 *
	gsİt
 = 
IP_DONTFRAGMENT
;

553 #–ià
defšed
(
WEBRTC_MAC
è|| defšed(
BSD
è|| defšed(
__Çtive_ş›Á__
)

554 
RTC_LOG
(
LS_WARNING
) << "Socket::OPT_DONTFRAGMENT‚ot supported.";

556 #–ià
defšed
(
WEBRTC_POSIX
)

557 *
	g¦ev–
 = 
IPPROTO_IP
;

558 *
	gsİt
 = 
IP_MTU_DISCOVER
;

561 
	gOPT_RCVBUF
:

562 *
¦ev–
 = 
SOL_SOCKET
;

563 *
	gsİt
 = 
SO_RCVBUF
;

565 
	gOPT_SNDBUF
:

566 *
¦ev–
 = 
SOL_SOCKET
;

567 *
	gsİt
 = 
SO_SNDBUF
;

569 
	gOPT_NODELAY
:

570 *
¦ev–
 = 
IPPROTO_TCP
;

571 *
	gsİt
 = 
TCP_NODELAY
;

573 
	gOPT_DSCP
:

574 #ià
defšed
(
WEBRTC_POSIX
)

575 ià(
çmy_
 =ğ
AF_INET6
) {

576 *
¦ev–
 = 
IPPROTO_IPV6
;

577 *
	gsİt
 = 
IPV6_TCLASS
;

579 *
	g¦ev–
 = 
IPPROTO_IP
;

580 *
	gsİt
 = 
IP_TOS
;

584 
RTC_LOG
(
LS_WARNING
) << "Socket::OPT_DSCP‚ot supported.";

587 
	gOPT_RTP_SENDTIME_EXTN_ID
:

590 
RTC_NOTREACHED
();

596 
	gSock‘Di¥©ch”
::
Sock‘Di¥©ch”
(
PhysiÿlSock‘S”v”
* 
ss
)

597 #ià
defšed
(
WEBRTC_WIN
)

598 : 
PhysiÿlSock‘
(
ss
),

599 
id_
(0),

600 
sigÇl_şo£_
(
çl£
)

602 : 
PhysiÿlSock‘
(
ss
)

607 
Sock‘Di¥©ch”
::Sock‘Di¥©ch”(
SOCKET
 
s
, 
PhysiÿlSock‘S”v”
* 
ss
)

608 #ià
defšed
(
WEBRTC_WIN
)

609 : 
PhysiÿlSock‘
(
ss
, 
s
),

610 
id_
(0),

611 
sigÇl_şo£_
(
çl£
)

613 : 
PhysiÿlSock‘
(
ss
, 
s
)

618 
	gSock‘Di¥©ch”
::~
Sock‘Di¥©ch”
() {

619 
Clo£
();

622 
boŞ
 
	gSock‘Di¥©ch”
::
In™Ÿlize
() {

623 
RTC_DCHECK
(
s_
 !ğ
INVALID_SOCKET
);

625 #ià
defšed
(
WEBRTC_WIN
)

626 
u_lÚg
 
	g¬gp
 = 1;

627 
ioùlsock‘
(
s_
, 
FIONBIO
, &
¬gp
);

628 #–ià
defšed
(
WEBRTC_POSIX
)

629 
fú
(
s_
, 
F_SETFL
, fú(s_, 
F_GETFL
, 0è| 
O_NONBLOCK
);

631 #ià
defšed
(
WEBRTC_IOS
)

637 
	gv®ue
 = 1;

638 ::
£tsockİt
(
s_
, 
SOL_SOCKET
, 
SO_NOSIGPIPE
, &
v®ue
, (value));

640 
	gss_
->
Add
(
this
);

641  
	gŒue
;

644 
boŞ
 
	gSock‘Di¥©ch”
::
C»©e
(
ty³
) {

645  
C»©e
(
AF_INET
, 
ty³
);

648 
boŞ
 
	gSock‘Di¥©ch”
::
C»©e
(
çmy
, 
ty³
) {

650 ià(!
	gPhysiÿlSock‘
::
C»©e
(
çmy
, 
ty³
))

651  
	gçl£
;

653 ià(!
In™Ÿlize
())

654  
	gçl£
;

656 #ià
defšed
(
WEBRTC_WIN
)

658 
	gid_
 = ++
Ãxt_id_
;

659 } 
	gid_
 == 0);

661  
	gŒue
;

664 #ià
defšed
(
WEBRTC_WIN
)

666 
WSAEVENT
 
	gSock‘Di¥©ch”
::
G‘WSAEv’t
() {

667  
WSA_INVALID_EVENT
;

670 
SOCKET
 
	gSock‘Di¥©ch”
::
G‘Sock‘
() {

671  
s_
;

674 
boŞ
 
	gSock‘Di¥©ch”
::
CheckSigÇlClo£
() {

675 ià(!
sigÇl_şo£_
)

676  
çl£
;

678 
	gch
;

679 ià(
»cv
(
s_
, &
ch
, 1, 
MSG_PEEK
) > 0)

680  
	gçl£
;

682 
	g¡©e_
 = 
CS_CLOSED
;

683 
	gsigÇl_şo£_
 = 
çl£
;

684 
SigÇlClo£Ev’t
(
this
, 
sigÇl_”r_
);

685  
	gŒue
;

688 
	gSock‘Di¥©ch”
::
Ãxt_id_
 = 0;

690 #–ià
defšed
(
WEBRTC_POSIX
)

692 
	gSock‘Di¥©ch”
::
G‘DesütÜ
() {

693  
s_
;

696 
boŞ
 
	gSock‘Di¥©ch”
::
IsDesütÜClo£d
() {

697 ià(
udp_
) {

702  
s_
 =ğ
INVALID_SOCKET
;

707 
	gch
;

708 
ssize_t
 
	g»s
 = ::
»cv
(
s_
, &
ch
, 1, 
MSG_PEEK
);

709 ià(
	g»s
 > 0) {

711  
	gçl£
;

712 } ià(
	g»s
 == 0) {

714  
Œue
;

716 
	g”ºo
) {

718 
	gEBADF
:

720 
ECONNRESET
:

721  
Œue
;

723 
	gEWOULDBLOCK
:

725 
EINTR
:

726  
çl£
;

737 
RTC_LOG_ERR
(
LS_WARNING
) << "Assuming benign blockingƒrror";

738  
	gçl£
;

745 
ušt32_t
 
	gSock‘Di¥©ch”
::
G‘Reque¡edEv’ts
() {

746  
’abËd_ev’ts
();

749 
	gSock‘Di¥©ch”
::
OnP»Ev’t
(
ušt32_t
 
ff
) {

750 ià((
ff
 & 
DE_CONNECT
) != 0)

751 
¡©e_
 = 
CS_CONNECTED
;

753 #ià
defšed
(
WEBRTC_WIN
)

755 #–ià
defšed
(
WEBRTC_POSIX
)

756 ià((
	gff
 & 
	gDE_CLOSE
) != 0)

757 
¡©e_
 = 
CS_CLOSED
;

761 #ià
defšed
(
WEBRTC_WIN
)

763 
	gSock‘Di¥©ch”
::
OnEv’t
(
ušt32_t
 
ff
, 
”r
) {

764 
	gÿche_id
 = 
id_
;

767 ià(((
	gff
 & 
	gDE_CONNECT
è!ğ0è&& (
id_
 =ğ
ÿche_id
)) {

768 ià(
ff
 !ğ
DE_CONNECT
)

769 
RTC_LOG
(
LS_VERBOSE
è<< "SigÇÎed w™h DE_CONNECT: " << 
ff
;

770 
Di§bËEv’ts
(
DE_CONNECT
);

771 #ià!
defšed
(
NDEBUG
)

772 
	gdbg_addr_
 = "Connected @ ";

773 
	gdbg_addr_
.
­³nd
(
G‘RemÙeAdd»ss
().
ToSŒšg
());

775 
SigÇlCÚÃùEv’t
(
this
);

777 ià(((
	gff
 & 
	gDE_ACCEPT
è!ğ0è&& (
id_
 =ğ
ÿche_id
)) {

778 
Di§bËEv’ts
(
DE_ACCEPT
);

779 
SigÇlR—dEv’t
(
this
);

781 ià((
	gff
 & 
	gDE_READ
) != 0) {

782 
Di§bËEv’ts
(
DE_READ
);

783 
SigÇlR—dEv’t
(
this
);

785 ià(((
	gff
 & 
	gDE_WRITE
è!ğ0è&& (
id_
 =ğ
ÿche_id
)) {

786 
Di§bËEv’ts
(
DE_WRITE
);

787 
SigÇlWr™eEv’t
(
this
);

789 ià(((
	gff
 & 
	gDE_CLOSE
è!ğ0è&& (
id_
 =ğ
ÿche_id
)) {

790 
sigÇl_şo£_
 = 
Œue
;

791 
	gsigÇl_”r_
 = 
”r
;

795 #–ià
defšed
(
WEBRTC_POSIX
)

797 
	gSock‘Di¥©ch”
::
OnEv’t
(
ušt32_t
 
ff
, 
”r
) {

798 #ià
defšed
(
WEBRTC_USE_EPOLL
)

804 
S¹B©chedEv’tUpd©es
();

808 ià((
	gff
 & 
	gDE_CONNECT
) != 0) {

809 
Di§bËEv’ts
(
DE_CONNECT
);

810 
SigÇlCÚÃùEv’t
(
this
);

812 ià((
	gff
 & 
	gDE_ACCEPT
) != 0) {

813 
Di§bËEv’ts
(
DE_ACCEPT
);

814 
SigÇlR—dEv’t
(
this
);

816 ià((
	gff
 & 
	gDE_READ
) != 0) {

817 
Di§bËEv’ts
(
DE_READ
);

818 
SigÇlR—dEv’t
(
this
);

820 ià((
	gff
 & 
	gDE_WRITE
) != 0) {

821 
Di§bËEv’ts
(
DE_WRITE
);

822 
SigÇlWr™eEv’t
(
this
);

824 ià((
	gff
 & 
	gDE_CLOSE
) != 0) {

826 
S‘EÇbËdEv’ts
(0);

827 
SigÇlClo£Ev’t
(
this
, 
”r
);

829 #ià
defšed
(
WEBRTC_USE_EPOLL
)

830 
FšishB©chedEv’tUpd©es
();

836 #ià
defšed
(
WEBRTC_USE_EPOLL
)

838 
G‘EpŞlEv’ts
(
ušt32_t
 
ff
) {

839 
	gev’ts
 = 0;

840 ià(
	gff
 & (
	gDE_READ
 | 
	gDE_ACCEPT
)) {

841 
	gev’ts
 |ğ
EPOLLIN
;

843 ià(
	gff
 & (
	gDE_WRITE
 | 
	gDE_CONNECT
)) {

844 
	gev’ts
 |ğ
EPOLLOUT
;

846  
	gev’ts
;

849 
	gSock‘Di¥©ch”
::
S¹B©chedEv’tUpd©es
() {

850 
RTC_DCHECK_EQ
(
§ved_’abËd_ev’ts_
, -1);

851 
	g§ved_’abËd_ev’ts_
 = 
’abËd_ev’ts
();

854 
	gSock‘Di¥©ch”
::
FšishB©chedEv’tUpd©es
() {

855 
RTC_DCHECK_NE
(
§ved_’abËd_ev’ts_
, -1);

856 
ušt8_t
 
	gŞd_ev’ts
 = 
¡©ic_ÿ¡
<ušt8_t>(
§ved_’abËd_ev’ts_
);

857 
	g§ved_’abËd_ev’ts_
 = -1;

858 
MaybeUpd©eDi¥©ch”
(
Şd_ev’ts
);

861 
	gSock‘Di¥©ch”
::
MaybeUpd©eDi¥©ch”
(
ušt8_t
 
Şd_ev’ts
) {

862 ià(
G‘EpŞlEv’ts
(
’abËd_ev’ts
()è!ğG‘EpŞlEv’ts(
Şd_ev’ts
) &&

863 
§ved_’abËd_ev’ts_
 == -1) {

864 
ss_
->
Upd©e
(
this
);

868 
	gSock‘Di¥©ch”
::
S‘EÇbËdEv’ts
(
ušt8_t
 
ev’ts
) {

869 
ušt8_t
 
Şd_ev’ts
 = 
’abËd_ev’ts
();

870 
	gPhysiÿlSock‘
::
S‘EÇbËdEv’ts
(
ev’ts
);

871 
MaybeUpd©eDi¥©ch”
(
Şd_ev’ts
);

874 
	gSock‘Di¥©ch”
::
EÇbËEv’ts
(
ušt8_t
 
ev’ts
) {

875 
ušt8_t
 
Şd_ev’ts
 = 
’abËd_ev’ts
();

876 
	gPhysiÿlSock‘
::
EÇbËEv’ts
(
ev’ts
);

877 
MaybeUpd©eDi¥©ch”
(
Şd_ev’ts
);

880 
	gSock‘Di¥©ch”
::
Di§bËEv’ts
(
ušt8_t
 
ev’ts
) {

881 
ušt8_t
 
Şd_ev’ts
 = 
’abËd_ev’ts
();

882 
	gPhysiÿlSock‘
::
Di§bËEv’ts
(
ev’ts
);

883 
MaybeUpd©eDi¥©ch”
(
Şd_ev’ts
);

888 
	gSock‘Di¥©ch”
::
Clo£
() {

889 ià(
s_
 =ğ
INVALID_SOCKET
)

892 #ià
defšed
(
WEBRTC_WIN
)

893 
	gid_
 = 0;

894 
	gsigÇl_şo£_
 = 
çl£
;

896 #ià
defšed
(
WEBRTC_USE_EPOLL
)

900 ià(
	g§ved_’abËd_ev’ts_
 != -1) {

901 
§ved_’abËd_ev’ts_
 = 0;

904 
	gss_
->
Remove
(
this
);

905  
	gPhysiÿlSock‘
::
Clo£
();

908 #ià
defšed
(
WEBRTC_POSIX
)

909 şas 
	cEv’tDi¥©ch”
 : 
public
 
Di¥©ch”
 {

910 
public
:

911 
Ev’tDi¥©ch”
(
PhysiÿlSock‘S”v”
* 
ss
è: 
ss_
(ss), 
fSigÇËd_
(
çl£
) {

912 ià(
pe
(
afd_
) < 0)

913 
RTC_LOG
(
LERROR
) << "pipe failed";

914 
	gss_
->
Add
(
this
);

917 ~
Ev’tDi¥©ch”
(è
	gov”ride
 {

918 
	gss_
->
Remove
(
this
);

919 
şo£
(
afd_
[0]);

920 
şo£
(
afd_
[1]);

923 
vœtu®
 
SigÇl
() {

924 
Cr™Scİe
 
cs
(&
ü™_
);

925 ià(!
	gfSigÇËd_
) {

926 cÚ¡ 
ušt8_t
 
	gb
[1] = {0};

927 cÚ¡ 
ssize_t
 
	g»s
 = 
wr™e
(
afd_
[1], 
b
, (b));

928 
RTC_DCHECK_EQ
(1, 
»s
);

929 
	gfSigÇËd_
 = 
Œue
;

933 
ušt32_t
 
G‘Reque¡edEv’ts
(è
	gov”ride
 {  
	gDE_READ
; }

935 
OnP»Ev’t
(
ušt32_t
 
ff
è
	gov”ride
 {

939 
Cr™Scİe
 
cs
(&
ü™_
);

940 ià(
	gfSigÇËd_
) {

941 
ušt8_t
 
	gb
[4];

942 cÚ¡ 
ssize_t
 
	g»s
 = 
»ad
(
afd_
[0], 
b
, (b));

943 
RTC_DCHECK_EQ
(1, 
»s
);

944 
	gfSigÇËd_
 = 
çl£
;

948 
OnEv’t
(
ušt32_t
 
ff
, 
”r
è
	gov”ride
 { 
RTC_NOTREACHED
(); }

950 
G‘DesütÜ
(è
	gov”ride
 {  
	gafd_
[0]; }

952 
boŞ
 
IsDesütÜClo£d
(è
	gov”ride
 {  
	gçl£
; }

954 
	g´iv©e
:

955 
PhysiÿlSock‘S”v”
* 
ss_
;

956 
	gafd_
[2];

957 
boŞ
 
	gfSigÇËd_
;

958 
Cr™iÿlSeùiÚ
 
	gü™_
;

963 #ià
	$defšed
(
WEBRTC_WIN
)

964 
ušt32_t
 
	$FÏgsToEv’ts
(
ušt32_t
 
ev’ts
) {

965 
ušt32_t
 
ffFD
 = 
FD_CLOSE
;

966 ià(
ev’ts
 & 
DE_READ
)

967 
ffFD
 |ğ
FD_READ
;

968 ià(
ev’ts
 & 
DE_WRITE
)

969 
ffFD
 |ğ
FD_WRITE
;

970 ià(
ev’ts
 & 
DE_CONNECT
)

971 
ffFD
 |ğ
FD_CONNECT
;

972 ià(
ev’ts
 & 
DE_ACCEPT
)

973 
ffFD
 |ğ
FD_ACCEPT
;

974  
ffFD
;

975 
	}
}

977 şas 
	cEv’tDi¥©ch”
 : 
public
 
Di¥©ch”
 {

978 
public
:

979 
Ev’tDi¥©ch”
(
PhysiÿlSock‘S”v”
* 
ss
è: 
ss_
(ss) {

980 
hev_
 = 
WSAC»©eEv’t
();

981 ià(
	ghev_
) {

982 
	gss_
->
Add
(
this
);

986 ~
Ev’tDi¥©ch”
(è
	gov”ride
 {

987 ià(
	ghev_
 !ğ
nuÎ±r
) {

988 
ss_
->
Remove
(
this
);

989 
WSAClo£Ev’t
(
hev_
);

990 
	ghev_
 = 
nuÎ±r
;

994 
vœtu®
 
SigÇl
() {

995 ià(
	ghev_
 !ğ
nuÎ±r
)

996 
WSAS‘Ev’t
(
hev_
);

999 
ušt32_t
 
G‘Reque¡edEv’ts
(è
	gov”ride
 {  0; }

1001 
OnP»Ev’t
(
ušt32_t
 
ff
è
	gov”ride
 { 
WSARe£tEv’t
(
hev_
); }

1003 
OnEv’t
(
ušt32_t
 
ff
, 
”r
è
	gov”ride
 {}

1005 
WSAEVENT
 
G‘WSAEv’t
(è
	gov”ride
 {  
	ghev_
; }

1007 
SOCKET
 
G‘Sock‘
(è
	gov”ride
 {  
	gINVALID_SOCKET
; }

1009 
boŞ
 
CheckSigÇlClo£
(è
	gov”ride
 {  
	gçl£
; }

1011 
	g´iv©e
:

1012 
PhysiÿlSock‘S”v”
* 
ss_
;

1013 
WSAEVENT
 
	ghev_
;

1018 şas 
	cSigÇËr
 : 
public
 
Ev’tDi¥©ch”
 {

1019 
public
:

1020 
SigÇËr
(
PhysiÿlSock‘S”v”
* 
ss
, 
boŞ
* 
pf
è: 
Ev’tDi¥©ch”
(ss), 
pf_
(pf) {}

1021 ~
SigÇËr
(è
	gov”ride
 {}

1023 
OnEv’t
(
ušt32_t
 
ff
, 
”r
è
	gov”ride
 {

1024 ià(
	gpf_
)

1025 *
	gpf_
 = 
çl£
;

1028 
	g´iv©e
:

1029 
boŞ
* 
pf_
;

1032 
	gPhysiÿlSock‘S”v”
::
	$PhysiÿlSock‘S”v”
()

1034 #ià
	$defšed
(
WEBRTC_USE_EPOLL
)

1038 
	`•Şl_fd_
(
	`•Şl_ü—‹
(
FD_SETSIZE
)),

1040 #ià
	$defšed
(
WEBRTC_WIN
)

1041 
	`sock‘_ev_
(
	`WSAC»©eEv’t
()),

1043 
	$fWa™_
(
çl£
) {

1044 #ià
	`defšed
(
WEBRTC_USE_EPOLL
)

1045 ià(
•Şl_fd_
 == -1) {

1047 
	`RTC_LOG_E
(
LS_WARNING
, 
EN
, 
”ºo
) << "epoll_create";

1051 
sigÇl_wakeup_
 = 
Ãw
 
	`SigÇËr
(
this
, &
fWa™_
);

1052 
	}
}

1054 
	gPhysiÿlSock‘S”v”
::~
	$PhysiÿlSock‘S”v”
() {

1055 #ià
	`defšed
(
WEBRTC_WIN
)

1056 
	`WSAClo£Ev’t
(
sock‘_ev_
);

1058 
d–‘e
 
sigÇl_wakeup_
;

1059 #ià
	`defšed
(
WEBRTC_USE_EPOLL
)

1060 ià(
•Şl_fd_
 !ğ
INVALID_SOCKET
) {

1061 
	`şo£
(
•Şl_fd_
);

1064 
	`RTC_DCHECK
(
di¥©ch”s_
.
	`em±y
());

1065 
	}
}

1067 
	gPhysiÿlSock‘S”v”
::
	$WakeUp
() {

1068 
sigÇl_wakeup_
->
	`SigÇl
();

1069 
	}
}

1071 
Sock‘
* 
	gPhysiÿlSock‘S”v”
::
	$C»©eSock‘
(
çmy
, 
ty³
) {

1072 
PhysiÿlSock‘
* 
sock‘
 = 
Ãw
 
	`PhysiÿlSock‘
(
this
);

1073 ià(
sock‘
->
	`C»©e
(
çmy
, 
ty³
)) {

1074  
sock‘
;

1076 
d–‘e
 
sock‘
;

1077  
nuÎ±r
;

1079 
	}
}

1081 
AsyncSock‘
* 
	gPhysiÿlSock‘S”v”
::
	$C»©eAsyncSock‘
(
çmy
, 
ty³
) {

1082 
Sock‘Di¥©ch”
* 
di¥©ch”
 = 
Ãw
 
	`Sock‘Di¥©ch”
(
this
);

1083 ià(
di¥©ch”
->
	`C»©e
(
çmy
, 
ty³
)) {

1084  
di¥©ch”
;

1086 
d–‘e
 
di¥©ch”
;

1087  
nuÎ±r
;

1089 
	}
}

1091 
AsyncSock‘
* 
	gPhysiÿlSock‘S”v”
::
	$W¿pSock‘
(
SOCKET
 
s
) {

1092 
Sock‘Di¥©ch”
* 
di¥©ch”
 = 
Ãw
 
	`Sock‘Di¥©ch”
(
s
, 
this
);

1093 ià(
di¥©ch”
->
	`In™Ÿlize
()) {

1094  
di¥©ch”
;

1096 
d–‘e
 
di¥©ch”
;

1097  
nuÎ±r
;

1099 
	}
}

1101 
	gPhysiÿlSock‘S”v”
::
	$Add
(
Di¥©ch”
* 
pdi¥©ch”
) {

1102 
Cr™Scİe
 
	`cs
(&
ü™_
);

1103 ià(
´oûssšg_di¥©ch”s_
) {

1108 
³ndšg_»move_di¥©ch”s_
.
	`”a£
(
pdi¥©ch”
);

1109 
³ndšg_add_di¥©ch”s_
.
	`š£¹
(
pdi¥©ch”
);

1111 
di¥©ch”s_
.
	`š£¹
(
pdi¥©ch”
);

1113 #ià
	`defšed
(
WEBRTC_USE_EPOLL
)

1114 ià(
•Şl_fd_
 !ğ
INVALID_SOCKET
) {

1115 
	`AddEpŞl
(
pdi¥©ch”
);

1118 
	}
}

1120 
	gPhysiÿlSock‘S”v”
::
	$Remove
(
Di¥©ch”
* 
pdi¥©ch”
) {

1121 
Cr™Scİe
 
	`cs
(&
ü™_
);

1122 ià(
´oûssšg_di¥©ch”s_
) {

1127 ià(!
³ndšg_add_di¥©ch”s_
.
	`”a£
(
pdi¥©ch”
) &&

1128 
di¥©ch”s_
.
	`fšd
(
pdi¥©ch”
è=ğdi¥©ch”s_.
	`’d
()) {

1129 
	`RTC_LOG
(
LS_WARNING
) << "PhysicalSocketServer‡skedo„emove‡ unknown "

1135 
³ndšg_»move_di¥©ch”s_
.
	`š£¹
(
pdi¥©ch”
);

1136 } ià(!
di¥©ch”s_
.
	`”a£
(
pdi¥©ch”
)) {

1137 
	`RTC_LOG
(
LS_WARNING
)

1142 #ià
	`defšed
(
WEBRTC_USE_EPOLL
)

1143 ià(
•Şl_fd_
 !ğ
INVALID_SOCKET
) {

1144 
	`RemoveEpŞl
(
pdi¥©ch”
);

1147 
	}
}

1149 
	gPhysiÿlSock‘S”v”
::
	$Upd©e
(
Di¥©ch”
* 
pdi¥©ch”
) {

1150 #ià
	`defšed
(
WEBRTC_USE_EPOLL
)

1151 ià(
•Şl_fd_
 =ğ
INVALID_SOCKET
) {

1155 
Cr™Scİe
 
	`cs
(&
ü™_
);

1156 ià(
di¥©ch”s_
.
	`fšd
(
pdi¥©ch”
è=ğdi¥©ch”s_.
	`’d
()) {

1160 
	`Upd©eEpŞl
(
pdi¥©ch”
);

1162 
	}
}

1164 
	gPhysiÿlSock‘S”v”
::
	$AddRemoveP’dšgDi¥©ch”s
() {

1165 ià(!
³ndšg_add_di¥©ch”s_
.
	`em±y
()) {

1166 
Di¥©ch”
* 
pdi¥©ch”
 : 
³ndšg_add_di¥©ch”s_
) {

1167 
di¥©ch”s_
.
	`š£¹
(
pdi¥©ch”
);

1169 
³ndšg_add_di¥©ch”s_
.
	`ş—r
();

1172 ià(!
³ndšg_»move_di¥©ch”s_
.
	`em±y
()) {

1173 
Di¥©ch”
* 
pdi¥©ch”
 : 
³ndšg_»move_di¥©ch”s_
) {

1174 
di¥©ch”s_
.
	`”a£
(
pdi¥©ch”
);

1176 
³ndšg_»move_di¥©ch”s_
.
	`ş—r
();

1178 
	}
}

1180 #ià
	$defšed
(
WEBRTC_POSIX
)

1182 
boŞ
 
PhysiÿlSock‘S”v”
::
	$Wa™
(
cmsWa™
, 
boŞ
 
´oûss_io
) {

1183 #ià
	`defšed
(
WEBRTC_USE_EPOLL
)

1187 ià(!
´oûss_io
) {

1188  
	`Wa™PŞl
(
cmsWa™
, 
sigÇl_wakeup_
);

1189 } ià(
•Şl_fd_
 !ğ
INVALID_SOCKET
) {

1190  
	`Wa™EpŞl
(
cmsWa™
);

1193  
	`Wa™S–eù
(
cmsWa™
, 
´oûss_io
);

1194 
	}
}

1196 
	$ProûssEv’ts
(
Di¥©ch”
* 
di¥©ch”
,

1197 
boŞ
 
»adabË
,

1198 
boŞ
 
wr™abË
,

1199 
boŞ
 
check_”rÜ
) {

1200 
”rcode
 = 0;

1202 ià(
check_”rÜ
) {

1203 
sockËn_t
 
Ën
 = (
”rcode
);

1204 ::
	`g‘sockİt
(
di¥©ch”
->
	`G‘DesütÜ
(), 
SOL_SOCKET
, 
SO_ERROR
, &
”rcode
,

1205 &
Ën
);

1208 
ušt32_t
 
ff
 = 0;

1214 ià(
»adabË
) {

1215 ià(
di¥©ch”
->
	`G‘Reque¡edEv’ts
(è& 
DE_ACCEPT
) {

1216 
ff
 |ğ
DE_ACCEPT
;

1217 } ià(
”rcode
 || 
di¥©ch”
->
	`IsDesütÜClo£d
()) {

1218 
ff
 |ğ
DE_CLOSE
;

1220 
ff
 |ğ
DE_READ
;

1226 ià(
wr™abË
) {

1227 ià(
di¥©ch”
->
	`G‘Reque¡edEv’ts
(è& 
DE_CONNECT
) {

1228 ià(!
”rcode
) {

1229 
ff
 |ğ
DE_CONNECT
;

1231 
ff
 |ğ
DE_CLOSE
;

1234 
ff
 |ğ
DE_WRITE
;

1239 ià(
ff
 != 0) {

1240 
di¥©ch”
->
	`OnP»Ev’t
(
ff
);

1241 
di¥©ch”
->
	`OnEv’t
(
ff
, 
”rcode
);

1243 
	}
}

1245 
boŞ
 
	gPhysiÿlSock‘S”v”
::
	$Wa™S–eù
(
cmsWa™
, 
boŞ
 
´oûss_io
) {

1248 
timev®
* 
±vWa™
 = 
nuÎ±r
;

1249 
timev®
 
tvWa™
;

1250 
št64_t
 
¡İ_us
;

1251 ià(
cmsWa™
 !ğ
kFÜev”
) {

1253 
tvWa™
.
tv_£c
 = 
cmsWa™
 / 1000;

1254 
tvWa™
.
tv_u£c
 = (
cmsWa™
 % 1000) * 1000;

1255 
±vWa™
 = &
tvWa™
;

1258 
¡İ_us
 = 
¹c
::
	`TimeMiüos
(è+ 
cmsWa™
 * 1000;

1264 
fd_£t
 
fdsR—d
;

1265 
	`FD_ZERO
(&
fdsR—d
);

1266 
fd_£t
 
fdsWr™e
;

1267 
	`FD_ZERO
(&
fdsWr™e
);

1271 #ifdeà
MEMORY_SANITIZER


1272 
	`__m§n_uÅoisÚ
(&
fdsR—d
, (fdsRead));

1273 
	`__m§n_uÅoisÚ
(&
fdsWr™e
, (fdsWrite));

1276 
fWa™_
 = 
Œue
;

1278 
fWa™_
) {

1279 
fdmax
 = -1;

1281 
Cr™Scİe
 
	`ü
(&
ü™_
);

1283 
	`RTC_DCHECK
(!
´oûssšg_di¥©ch”s_
);

1284 
Di¥©ch”
* 
pdi¥©ch”
 : 
di¥©ch”s_
) {

1286 
	`RTC_DCHECK
(
pdi¥©ch”
);

1287 ià(!
´oûss_io
 && (
pdi¥©ch”
 !ğ
sigÇl_wakeup_
))

1289 
fd
 = 
pdi¥©ch”
->
	`G‘DesütÜ
();

1292 
	`RTC_DCHECK_LT
(
fd
, 
FD_SETSIZE
);

1293 ià(
fd
 > 
fdmax
)

1294 
fdmax
 = 
fd
;

1296 
ušt32_t
 
ff
 = 
pdi¥©ch”
->
	`G‘Reque¡edEv’ts
();

1297 ià(
ff
 & (
DE_READ
 | 
DE_ACCEPT
))

1298 
	`FD_SET
(
fd
, &
fdsR—d
);

1299 ià(
ff
 & (
DE_WRITE
 | 
DE_CONNECT
))

1300 
	`FD_SET
(
fd
, &
fdsWr™e
);

1308 
n
 = 
	`£Ëù
(
fdmax
 + 1, &
fdsR—d
, &
fdsWr™e
, 
nuÎ±r
, 
±vWa™
);

1311 ià(
n
 < 0) {

1312 ià(
”ºo
 !ğ
EINTR
) {

1313 
	`RTC_LOG_E
(
LS_ERROR
, 
EN
, 
”ºo
) << "select";

1314  
çl£
;

1320 } ià(
n
 == 0) {

1322  
Œue
;

1325 
Cr™Scİe
 
	`ü
(&
ü™_
);

1326 
´oûssšg_di¥©ch”s_
 = 
Œue
;

1327 
Di¥©ch”
* 
pdi¥©ch”
 : 
di¥©ch”s_
) {

1328 
fd
 = 
pdi¥©ch”
->
	`G‘DesütÜ
();

1330 
boŞ
 
»adabË
 = 
	`FD_ISSET
(
fd
, &
fdsR—d
);

1331 ià(
»adabË
) {

1332 
	`FD_CLR
(
fd
, &
fdsR—d
);

1335 
boŞ
 
wr™abË
 = 
	`FD_ISSET
(
fd
, &
fdsWr™e
);

1336 ià(
wr™abË
) {

1337 
	`FD_CLR
(
fd
, &
fdsWr™e
);

1341 
	`ProûssEv’ts
(
pdi¥©ch”
, 
»adabË
, 
wr™abË
,„eadable || writable);

1344 
´oûssšg_di¥©ch”s_
 = 
çl£
;

1347 
	`AddRemoveP’dšgDi¥©ch”s
();

1352 ià(
±vWa™
) {

1353 
±vWa™
->
tv_£c
 = 0;

1354 
±vWa™
->
tv_u£c
 = 0;

1355 
št64_t
 
time_Ëá_us
 = 
¡İ_us
 - 
¹c
::
	`TimeMiüos
();

1356 ià(
time_Ëá_us
 > 0) {

1357 
±vWa™
->
tv_£c
 = 
time_Ëá_us
 / 
¹c
::
kNumMiüo£csP”Sec
;

1358 
±vWa™
->
tv_u£c
 = 
time_Ëá_us
 % 
¹c
::
kNumMiüo£csP”Sec
;

1363  
Œue
;

1364 
	}
}

1366 #ià
	$defšed
(
WEBRTC_USE_EPOLL
)

1369 cÚ¡ 
size_t
 
kIn™ŸlEpŞlEv’ts
 = 128;

1372 cÚ¡ 
size_t
 
kMaxEpŞlEv’ts
 = 8192;

1374 
PhysiÿlSock‘S”v”
::
	$AddEpŞl
(
Di¥©ch”
* 
pdi¥©ch”
) {

1375 
	`RTC_DCHECK
(
•Şl_fd_
 !ğ
INVALID_SOCKET
);

1376 
fd
 = 
pdi¥©ch”
->
	`G‘DesütÜ
();

1377 
	`RTC_DCHECK
(
fd
 !ğ
INVALID_SOCKET
);

1378 ià(
fd
 =ğ
INVALID_SOCKET
) {

1382 
•Şl_ev’t
 
ev’t
 = {0};

1383 
ev’t
.
ev’ts
 = 
	`G‘EpŞlEv’ts
(
pdi¥©ch”
->
	`G‘Reque¡edEv’ts
());

1384 
ev’t
.
d©a
.
±r
 = 
pdi¥©ch”
;

1385 
”r
 = 
	`•Şl_ùl
(
•Şl_fd_
, 
EPOLL_CTL_ADD
, 
fd
, &
ev’t
);

1386 
	`RTC_DCHECK_EQ
(
”r
, 0);

1387 ià(
”r
 == -1) {

1388 
	`RTC_LOG_E
(
LS_ERROR
, 
EN
, 
”ºo
) << "epoll_ctl EPOLL_CTL_ADD";

1390 
	}
}

1392 
	gPhysiÿlSock‘S”v”
::
	$RemoveEpŞl
(
Di¥©ch”
* 
pdi¥©ch”
) {

1393 
	`RTC_DCHECK
(
•Şl_fd_
 !ğ
INVALID_SOCKET
);

1394 
fd
 = 
pdi¥©ch”
->
	`G‘DesütÜ
();

1395 
	`RTC_DCHECK
(
fd
 !ğ
INVALID_SOCKET
);

1396 ià(
fd
 =ğ
INVALID_SOCKET
) {

1400 
•Şl_ev’t
 
ev’t
 = {0};

1401 
”r
 = 
	`•Şl_ùl
(
•Şl_fd_
, 
EPOLL_CTL_DEL
, 
fd
, &
ev’t
);

1402 
	`RTC_DCHECK
(
”r
 =ğ0 || 
”ºo
 =ğ
ENOENT
);

1403 ià(
”r
 == -1) {

1404 ià(
”ºo
 =ğ
ENOENT
) {

1406 
	`RTC_LOG_E
(
LS_VERBOSE
, 
EN
, 
”ºo
) << "epoll_ctl EPOLL_CTL_DEL";

1408 
	`RTC_LOG_E
(
LS_ERROR
, 
EN
, 
”ºo
) << "epoll_ctl EPOLL_CTL_DEL";

1411 
	}
}

1413 
	gPhysiÿlSock‘S”v”
::
	$Upd©eEpŞl
(
Di¥©ch”
* 
pdi¥©ch”
) {

1414 
	`RTC_DCHECK
(
•Şl_fd_
 !ğ
INVALID_SOCKET
);

1415 
fd
 = 
pdi¥©ch”
->
	`G‘DesütÜ
();

1416 
	`RTC_DCHECK
(
fd
 !ğ
INVALID_SOCKET
);

1417 ià(
fd
 =ğ
INVALID_SOCKET
) {

1421 
•Şl_ev’t
 
ev’t
 = {0};

1422 
ev’t
.
ev’ts
 = 
	`G‘EpŞlEv’ts
(
pdi¥©ch”
->
	`G‘Reque¡edEv’ts
());

1423 
ev’t
.
d©a
.
±r
 = 
pdi¥©ch”
;

1424 
”r
 = 
	`•Şl_ùl
(
•Şl_fd_
, 
EPOLL_CTL_MOD
, 
fd
, &
ev’t
);

1425 
	`RTC_DCHECK_EQ
(
”r
, 0);

1426 ià(
”r
 == -1) {

1427 
	`RTC_LOG_E
(
LS_ERROR
, 
EN
, 
”ºo
) << "epoll_ctl EPOLL_CTL_MOD";

1429 
	}
}

1431 
boŞ
 
	gPhysiÿlSock‘S”v”
::
	$Wa™EpŞl
(
cmsWa™
) {

1432 
	`RTC_DCHECK
(
•Şl_fd_
 !ğ
INVALID_SOCKET
);

1433 
št64_t
 
tvWa™
 = -1;

1434 
št64_t
 
tvStİ
 = -1;

1435 ià(
cmsWa™
 !ğ
kFÜev”
) {

1436 
tvWa™
 = 
cmsWa™
;

1437 
tvStİ
 = 
	`TimeAá”
(
cmsWa™
);

1440 ià(
•Şl_ev’ts_
.
	`em±y
()) {

1442 
•Şl_ev’ts_
.
	`»size
(
kIn™ŸlEpŞlEv’ts
);

1445 
fWa™_
 = 
Œue
;

1447 
fWa™_
) {

1452 
n
 = 
	`•Şl_wa™
(
•Şl_fd_
, &
•Şl_ev’ts_
[0],

1453 
¡©ic_ÿ¡
<>(
•Şl_ev’ts_
.
	`size
()),

1454 
¡©ic_ÿ¡
<>(
tvWa™
));

1455 ià(
n
 < 0) {

1456 ià(
”ºo
 !ğ
EINTR
) {

1457 
	`RTC_LOG_E
(
LS_ERROR
, 
EN
, 
”ºo
) << "epoll";

1458  
çl£
;

1464 } ià(
n
 == 0) {

1466  
Œue
;

1469 
Cr™Scİe
 
	`ü
(&
ü™_
);

1470 
i
 = 0; i < 
n
; ++i) {

1471 cÚ¡ 
•Şl_ev’t
& 
ev’t
 = 
•Şl_ev’ts_
[
i
];

1472 
Di¥©ch”
* 
pdi¥©ch”
 = 
¡©ic_ÿ¡
<Di¥©ch”*>(
ev’t
.
d©a
.
±r
);

1473 ià(
di¥©ch”s_
.
	`fšd
(
pdi¥©ch”
è=ğdi¥©ch”s_.
	`’d
()) {

1478 
boŞ
 
»adabË
 = (
ev’t
.
ev’ts
 & (
EPOLLIN
 | 
EPOLLPRI
));

1479 
boŞ
 
wr™abË
 = (
ev’t
.
ev’ts
 & 
EPOLLOUT
);

1480 
boŞ
 
check_”rÜ
 = (
ev’t
.
ev’ts
 & (
EPOLLRDHUP
 | 
EPOLLERR
 | 
EPOLLHUP
));

1482 
	`ProûssEv’ts
(
pdi¥©ch”
, 
»adabË
, 
wr™abË
, 
check_”rÜ
);

1486 ià(
¡©ic_ÿ¡
<
size_t
>(
n
è=ğ
•Şl_ev’ts_
.
	`size
() &&

1487 
•Şl_ev’ts_
.
	`size
(è< 
kMaxEpŞlEv’ts
) {

1490 
•Şl_ev’ts_
.
	`»size
(
¡d
::
	`max
ÓpŞl_ev’ts_.
	`size
(è* 2, 
kMaxEpŞlEv’ts
));

1493 ià(
cmsWa™
 !ğ
kFÜev”
) {

1494 
tvWa™
 = 
	`TimeDiff
(
tvStİ
, 
	`TimeMlis
());

1495 ià(
tvWa™
 < 0) {

1497  
Œue
;

1502  
Œue
;

1503 
	}
}

1505 
boŞ
 
	gPhysiÿlSock‘S”v”
::
	$Wa™PŞl
(
cmsWa™
, 
Di¥©ch”
* 
di¥©ch”
) {

1506 
	`RTC_DCHECK
(
di¥©ch”
);

1507 
št64_t
 
tvWa™
 = -1;

1508 
št64_t
 
tvStİ
 = -1;

1509 ià(
cmsWa™
 !ğ
kFÜev”
) {

1510 
tvWa™
 = 
cmsWa™
;

1511 
tvStİ
 = 
	`TimeAá”
(
cmsWa™
);

1514 
fWa™_
 = 
Œue
;

1516 
pŞlfd
 
fds
 = {0};

1517 
fd
 = 
di¥©ch”
->
	`G‘DesütÜ
();

1518 
fds
.
fd
 = fd;

1520 
fWa™_
) {

1521 
ušt32_t
 
ff
 = 
di¥©ch”
->
	`G‘Reque¡edEv’ts
();

1522 
fds
.
ev’ts
 = 0;

1523 ià(
ff
 & (
DE_READ
 | 
DE_ACCEPT
)) {

1524 
fds
.
ev’ts
 |ğ
POLLIN
;

1526 ià(
ff
 & (
DE_WRITE
 | 
DE_CONNECT
)) {

1527 
fds
.
ev’ts
 |ğ
POLLOUT
;

1529 
fds
.
»v’ts
 = 0;

1535 
n
 = 
	`pŞl
(&
fds
, 1, 
¡©ic_ÿ¡
<>(
tvWa™
));

1536 ià(
n
 < 0) {

1537 ià(
”ºo
 !ğ
EINTR
) {

1538 
	`RTC_LOG_E
(
LS_ERROR
, 
EN
, 
”ºo
) << "poll";

1539  
çl£
;

1545 } ià(
n
 == 0) {

1547  
Œue
;

1550 
	`RTC_DCHECK_EQ
(
n
, 1);

1551 
	`RTC_DCHECK_EQ
(
fds
.
fd
, fd);

1553 
boŞ
 
»adabË
 = (
fds
.
»v’ts
 & (
POLLIN
 | 
POLLPRI
));

1554 
boŞ
 
wr™abË
 = (
fds
.
»v’ts
 & 
POLLOUT
);

1555 
boŞ
 
check_”rÜ
 = (
fds
.
»v’ts
 & (
POLLRDHUP
 | 
POLLERR
 | 
POLLHUP
));

1557 
	`ProûssEv’ts
(
di¥©ch”
, 
»adabË
, 
wr™abË
, 
check_”rÜ
);

1560 ià(
cmsWa™
 !ğ
kFÜev”
) {

1561 
tvWa™
 = 
	`TimeDiff
(
tvStİ
, 
	`TimeMlis
());

1562 ià(
tvWa™
 < 0) {

1564  
Œue
;

1569  
Œue
;

1570 
	}
}

1576 #ià
	$defšed
(
WEBRTC_WIN
)

1577 
boŞ
 
PhysiÿlSock‘S”v”
::
	$Wa™
(
cmsWa™
, 
boŞ
 
´oûss_io
) {

1578 
št64_t
 
cmsTÙ®
 = 
cmsWa™
;

1579 
št64_t
 
cmsEÏp£d
 = 0;

1580 
št64_t
 
msS¹
 = 
	`Time
();

1582 
fWa™_
 = 
Œue
;

1583 
fWa™_
) {

1584 
¡d
::
veùÜ
<
WSAEVENT
> 
ev’ts
;

1585 
¡d
::
veùÜ
<
Di¥©ch”
*> 
ev’t_owÃrs
;

1587 
ev’ts
.
	`push_back
(
sock‘_ev_
);

1590 
Cr™Scİe
 
	`ü
(&
ü™_
);

1592 
	`RTC_DCHECK
(!
´oûssšg_di¥©ch”s_
);

1596 
´oûssšg_di¥©ch”s_
 = 
Œue
;

1597 
Di¥©ch”
* 
di¥
 : 
di¥©ch”s_
) {

1598 ià(!
´oûss_io
 && (
di¥
 !ğ
sigÇl_wakeup_
))

1600 
SOCKET
 
s
 = 
di¥
->
	`G‘Sock‘
();

1601 ià(
di¥
->
	`CheckSigÇlClo£
()) {

1603 } ià(
s
 !ğ
INVALID_SOCKET
) {

1604 
	`WSAEv’tS–eù
(
s
, 
ev’ts
[0],

1605 
	`FÏgsToEv’ts
(
di¥
->
	`G‘Reque¡edEv’ts
()));

1607 
ev’ts
.
	`push_back
(
di¥
->
	`G‘WSAEv’t
());

1608 
ev’t_owÃrs
.
	`push_back
(
di¥
);

1612 
´oûssšg_di¥©ch”s_
 = 
çl£
;

1615 
	`AddRemoveP’dšgDi¥©ch”s
();

1620 
št64_t
 
cmsNext
;

1621 ià(
cmsWa™
 =ğ
kFÜev”
) {

1622 
cmsNext
 = 
cmsWa™
;

1624 
cmsNext
 = 
¡d
::
max
<
št64_t
>(0, 
cmsTÙ®
 - 
cmsEÏp£d
);

1628 
DWORD
 
dw
 =

1629 
	`WSAWa™FÜMuÉËEv’ts
(
¡©ic_ÿ¡
<
DWORD
>(
ev’ts
.
	`size
()), &events[0],

1630 
çl£
, 
¡©ic_ÿ¡
<
DWORD
>(
cmsNext
), false);

1632 ià(
dw
 =ğ
WSA_WAIT_FAILED
) {

1635 
	`WSAG‘La¡E¼Ü
();

1636 
	`RTC_NOTREACHED
();

1637  
çl£
;

1638 } ià(
dw
 =ğ
WSA_WAIT_TIMEOUT
) {

1640  
Œue
;

1643 
Cr™Scİe
 
	`ü
(&
ü™_
);

1644 
šdex
 = 
dw
 - 
WSA_WAIT_EVENT_0
;

1645 ià(
šdex
 > 0) {

1646 --
šdex
;

1647 
Di¥©ch”
* 
di¥
 = 
ev’t_owÃrs
[
šdex
];

1649 ià(
di¥©ch”s_
.
	`fšd
(
di¥
è!ğdi¥©ch”s_.
	`’d
()) {

1650 
di¥
->
	`OnP»Ev’t
(0);

1651 
di¥
->
	`OnEv’t
(0, 0);

1653 } ià(
´oûss_io
) {

1654 
´oûssšg_di¥©ch”s_
 = 
Œue
;

1655 
Di¥©ch”
* 
di¥
 : 
di¥©ch”s_
) {

1656 
SOCKET
 
s
 = 
di¥
->
	`G‘Sock‘
();

1657 ià(
s
 =ğ
INVALID_SOCKET
)

1660 
WSANETWORKEVENTS
 
w§Ev’ts
;

1661 
”r
 = 
	`WSAEnumN‘wÜkEv’ts
(
s
, 
ev’ts
[0], &
w§Ev’ts
);

1662 ià(
”r
 == 0) {

1664 ià((
w§Ev’ts
.
lN‘wÜkEv’ts
 & 
FD_READ
) &&

1665 
w§Ev’ts
.
iE¼ÜCode
[
FD_READ_BIT
] != 0) {

1666 
	`RTC_LOG
(
WARNING
)

1668 << 
w§Ev’ts
.
iE¼ÜCode
[
FD_READ_BIT
];

1670 ià((
w§Ev’ts
.
lN‘wÜkEv’ts
 & 
FD_WRITE
) &&

1671 
w§Ev’ts
.
iE¼ÜCode
[
FD_WRITE_BIT
] != 0) {

1672 
	`RTC_LOG
(
WARNING
)

1674 << 
w§Ev’ts
.
iE¼ÜCode
[
FD_WRITE_BIT
];

1676 ià((
w§Ev’ts
.
lN‘wÜkEv’ts
 & 
FD_CONNECT
) &&

1677 
w§Ev’ts
.
iE¼ÜCode
[
FD_CONNECT_BIT
] != 0) {

1678 
	`RTC_LOG
(
WARNING
)

1680 << 
w§Ev’ts
.
iE¼ÜCode
[
FD_CONNECT_BIT
];

1682 ià((
w§Ev’ts
.
lN‘wÜkEv’ts
 & 
FD_ACCEPT
) &&

1683 
w§Ev’ts
.
iE¼ÜCode
[
FD_ACCEPT_BIT
] != 0) {

1684 
	`RTC_LOG
(
WARNING
)

1686 << 
w§Ev’ts
.
iE¼ÜCode
[
FD_ACCEPT_BIT
];

1688 ià((
w§Ev’ts
.
lN‘wÜkEv’ts
 & 
FD_CLOSE
) &&

1689 
w§Ev’ts
.
iE¼ÜCode
[
FD_CLOSE_BIT
] != 0) {

1690 
	`RTC_LOG
(
WARNING
)

1692 << 
w§Ev’ts
.
iE¼ÜCode
[
FD_CLOSE_BIT
];

1695 
ušt32_t
 
ff
 = 0;

1696 
”rcode
 = 0;

1697 ià(
w§Ev’ts
.
lN‘wÜkEv’ts
 & 
FD_READ
)

1698 
ff
 |ğ
DE_READ
;

1699 ià(
w§Ev’ts
.
lN‘wÜkEv’ts
 & 
FD_WRITE
)

1700 
ff
 |ğ
DE_WRITE
;

1701 ià(
w§Ev’ts
.
lN‘wÜkEv’ts
 & 
FD_CONNECT
) {

1702 ià(
w§Ev’ts
.
iE¼ÜCode
[
FD_CONNECT_BIT
] == 0) {

1703 
ff
 |ğ
DE_CONNECT
;

1705 
ff
 |ğ
DE_CLOSE
;

1706 
”rcode
 = 
w§Ev’ts
.
iE¼ÜCode
[
FD_CONNECT_BIT
];

1709 ià(
w§Ev’ts
.
lN‘wÜkEv’ts
 & 
FD_ACCEPT
)

1710 
ff
 |ğ
DE_ACCEPT
;

1711 ià(
w§Ev’ts
.
lN‘wÜkEv’ts
 & 
FD_CLOSE
) {

1712 
ff
 |ğ
DE_CLOSE
;

1713 
”rcode
 = 
w§Ev’ts
.
iE¼ÜCode
[
FD_CLOSE_BIT
];

1715 ià(
ff
 != 0) {

1716 
di¥
->
	`OnP»Ev’t
(
ff
);

1717 
di¥
->
	`OnEv’t
(
ff
, 
”rcode
);

1722 
´oûssšg_di¥©ch”s_
 = 
çl£
;

1725 
	`AddRemoveP’dšgDi¥©ch”s
();

1729 
	`WSARe£tEv’t
(
sock‘_ev_
);

1733 ià(!
fWa™_
)

1735 
cmsEÏp£d
 = 
	`TimeSšû
(
msS¹
);

1736 ià((
cmsWa™
 !ğ
kFÜev”
è&& (
cmsEÏp£d
 >= cmsWait)) {

1742  
Œue
;

1743 
	}
}

	@physical_socket_server.h

11 #iâdeà
RTC_BASE_PHYSICAL_SOCKET_SERVER_H_


12 
	#RTC_BASE_PHYSICAL_SOCKET_SERVER_H_


	)

14 #ià
defšed
(
WEBRTC_POSIX
è&& defšed(
WEBRTC_LINUX
)

15 
	~<sys/•Şl.h
>

16 
	#WEBRTC_USE_EPOLL
 1

	)

19 
	~<memÜy
>

20 
	~<£t
>

21 
	~<veùÜ
>

23 
	~"¹c_ba£/ü™iÿl_£ùiÚ.h
"

24 
	~"¹c_ba£/Ãt_h–³rs.h
"

25 
	~"¹c_ba£/sock‘_£rv”.h
"

26 
	~"¹c_ba£/sy¡em/¹c_expÜt.h
"

28 #ià
defšed
(
WEBRTC_POSIX
)

29 
	tSOCKET
;

32 
Çme¥aû
 
	g¹c
 {

35 
	eDi¥©ch”Ev’t
 {

36 
	gDE_READ
 = 0x0001,

37 
	gDE_WRITE
 = 0x0002,

38 
	gDE_CONNECT
 = 0x0004,

39 
	gDE_CLOSE
 = 0x0008,

40 
	gDE_ACCEPT
 = 0x0010,

43 
şass
 
	gSigÇËr
;

45 şas 
	cDi¥©ch”
 {

46 
	gpublic
:

47 
vœtu®
 ~
Di¥©ch”
() {}

48 
vœtu®
 
ušt32_t
 
G‘Reque¡edEv’ts
() = 0;

49 
vœtu®
 
OnP»Ev’t
(
ušt32_t
 
ff
) = 0;

50 
vœtu®
 
OnEv’t
(
ušt32_t
 
ff
, 
”r
) = 0;

51 #ià
defšed
(
WEBRTC_WIN
)

52 
vœtu®
 
WSAEVENT
 
G‘WSAEv’t
() = 0;

53 
vœtu®
 
SOCKET
 
G‘Sock‘
() = 0;

54 
vœtu®
 
boŞ
 
CheckSigÇlClo£
() = 0;

55 #–ià
defšed
(
WEBRTC_POSIX
)

56 
vœtu®
 
G‘DesütÜ
() = 0;

57 
vœtu®
 
boŞ
 
IsDesütÜClo£d
() = 0;

62 şas 
	cRTC_EXPORT
 
	gPhysiÿlSock‘S”v”
 : 
public
 
Sock‘S”v”
 {

63 
public
:

64 
PhysiÿlSock‘S”v”
();

65 ~
PhysiÿlSock‘S”v”
(è
	gov”ride
;

68 
Sock‘
* 
C»©eSock‘
(
çmy
, 
ty³
è
	gov”ride
;

69 
AsyncSock‘
* 
C»©eAsyncSock‘
(
çmy
, 
ty³
è
	gov”ride
;

72 
vœtu®
 
AsyncSock‘
* 
W¿pSock‘
(
SOCKET
 
s
);

75 
boŞ
 
Wa™
(
cms
, boŞ 
´oûss_io
è
	gov”ride
;

76 
WakeUp
(è
	gov”ride
;

78 
Add
(
Di¥©ch”
* 
di¥©ch”
);

79 
Remove
(
Di¥©ch”
* 
di¥©ch”
);

80 
Upd©e
(
Di¥©ch”
* 
di¥©ch”
);

82 
	g´iv©e
:

83 
¡d
::
	t£t
<
	tDi¥©ch”
*> 
	tDi¥©ch”S‘
;

85 
AddRemoveP’dšgDi¥©ch”s
();

87 #ià
defšed
(
WEBRTC_POSIX
)

88 
boŞ
 
Wa™S–eù
(
cms
, boŞ 
´oûss_io
);

90 #ià
defšed
(
WEBRTC_USE_EPOLL
)

91 
AddEpŞl
(
Di¥©ch”
* 
di¥©ch”
);

92 
RemoveEpŞl
(
Di¥©ch”
* 
di¥©ch”
);

93 
Upd©eEpŞl
(
Di¥©ch”
* 
di¥©ch”
);

94 
boŞ
 
Wa™EpŞl
(
cms
);

95 
boŞ
 
Wa™PŞl
(
cms
, 
Di¥©ch”
* 
di¥©ch”
);

97 cÚ¡ 
	g•Şl_fd_
 = 
INVALID_SOCKET
;

98 
	g¡d
::
veùÜ
<
•Şl_ev’t
> 
•Şl_ev’ts_
;

100 
Di¥©ch”S‘
 
	gdi¥©ch”s_
;

101 
Di¥©ch”S‘
 
	g³ndšg_add_di¥©ch”s_
;

102 
Di¥©ch”S‘
 
	g³ndšg_»move_di¥©ch”s_
;

103 
boŞ
 
	g´oûssšg_di¥©ch”s_
 = 
çl£
;

104 
SigÇËr
* 
	gsigÇl_wakeup_
;

105 
Cr™iÿlSeùiÚ
 
	gü™_
;

106 #ià
defšed
(
WEBRTC_WIN
)

107 cÚ¡ 
WSAEVENT
 
	gsock‘_ev_
;

109 
boŞ
 
	gfWa™_
;

112 
şass
 
	gPhysiÿlSock‘
 : 
public
 
AsyncSock‘
,…ubliø
	gsig¦Ù
::
has_¦Ùs
<> {

113 
public
:

114 
PhysiÿlSock‘
(
PhysiÿlSock‘S”v”
* 
ss
, 
SOCKET
 
s
 = 
INVALID_SOCKET
);

115 ~
PhysiÿlSock‘
(è
	gov”ride
;

118 
vœtu®
 
boŞ
 
C»©e
(
çmy
, 
ty³
);

120 
Sock‘Add»ss
 
G‘LoÿlAdd»ss
(ècÚ¡ 
	gov”ride
;

121 
Sock‘Add»ss
 
G‘RemÙeAdd»ss
(ècÚ¡ 
	gov”ride
;

123 
Bšd
(cÚ¡ 
Sock‘Add»ss
& 
bšd_addr
è
	gov”ride
;

124 
CÚÃù
(cÚ¡ 
Sock‘Add»ss
& 
addr
è
	gov”ride
;

126 
G‘E¼Ü
(ècÚ¡ 
	gov”ride
;

127 
S‘E¼Ü
(
”rÜ
è
	gov”ride
;

129 
CÚnS‹
 
G‘S‹
(ècÚ¡ 
	gov”ride
;

131 
G‘O±iÚ
(
O±iÚ
 
İt
, * 
v®ue
è
	gov”ride
;

132 
S‘O±iÚ
(
O±iÚ
 
İt
, 
v®ue
è
	gov”ride
;

134 
S’d
(cÚ¡ * 
pv
, 
size_t
 
cb
è
	gov”ride
;

135 
S’dTo
(cÚ¡ * 
bufãr
,

136 
size_t
 
Ëngth
,

137 cÚ¡ 
Sock‘Add»ss
& 
addr
è
	gov”ride
;

139 
Recv
(* 
bufãr
, 
size_t
 
Ëngth
, 
št64_t
* 
time¡amp
è
	gov”ride
;

140 
RecvFrom
(* 
bufãr
,

141 
size_t
 
Ëngth
,

142 
Sock‘Add»ss
* 
out_addr
,

143 
št64_t
* 
time¡amp
è
	gov”ride
;

145 
Li¡’
(
backlog
è
	gov”ride
;

146 
AsyncSock‘
* 
Acû±
(
Sock‘Add»ss
* 
out_addr
è
	gov”ride
;

148 
Clo£
(è
	gov”ride
;

150 
Sock‘S”v”
* 
sock‘£rv”
(è{  
	gss_
; }

152 
	g´Ùeùed
:

153 
DoCÚÃù
(cÚ¡ 
Sock‘Add»ss
& 
cÚÃù_addr
);

156 
vœtu®
 
SOCKET
 
DoAcû±
(SOCKET 
sock‘
, 
sockaddr
* 
addr
, 
sockËn_t
* 
add¾’
);

159 
vœtu®
 
DoS’d
(
SOCKET
 
sock‘
, cÚ¡ * 
buf
, 
Ën
, 
æags
);

162 
vœtu®
 
DoS’dTo
(
SOCKET
 
sock‘
,

163 cÚ¡ * 
buf
,

164 
Ën
,

165 
æags
,

166 cÚ¡ 
sockaddr
* 
de¡_addr
,

167 
sockËn_t
 
add¾’
);

169 
OnResŞveResuÉ
(
AsyncResŞv”IÁ”çû
* 
»sŞv”
);

171 
Upd©eLa¡E¼Ü
();

172 
MaybeRem­S’dE¼Ü
();

174 
ušt8_t
 
’abËd_ev’ts
(ècÚ¡ {  
	g’abËd_ev’ts_
; }

175 
vœtu®
 
S‘EÇbËdEv’ts
(
ušt8_t
 
ev’ts
);

176 
vœtu®
 
EÇbËEv’ts
(
ušt8_t
 
ev’ts
);

177 
vœtu®
 
Di§bËEv’ts
(
ušt8_t
 
ev’ts
);

179 
T¿n¦©eO±iÚ
(
O±iÚ
 
İt
, * 
¦ev–
, * 
sİt
);

181 
PhysiÿlSock‘S”v”
* 
	gss_
;

182 
SOCKET
 
	gs_
;

183 
boŞ
 
	gudp_
;

184 
	gçmy_
 = 0;

185 
Cr™iÿlSeùiÚ
 
	gü™_
;

186 
”rÜ_
 
RTC_GUARDED_BY
(
ü™_
);

187 
CÚnS‹
 
	g¡©e_
;

188 
AsyncResŞv”
* 
	g»sŞv”_
;

190 #ià!
defšed
(
NDEBUG
)

191 
	g¡d
::
¡ršg
 
dbg_addr_
;

194 
	g´iv©e
:

195 
ušt8_t
 
’abËd_ev’ts_
 = 0;

198 
şass
 
	gSock‘Di¥©ch”
 : 
public
 
Di¥©ch”
,…ubliø
	gPhysiÿlSock‘
 {

199 
	gpublic
:

200 
ex¶ic™
 
Sock‘Di¥©ch”
(
PhysiÿlSock‘S”v”
* 
ss
);

201 
Sock‘Di¥©ch”
(
SOCKET
 
s
, 
PhysiÿlSock‘S”v”
* 
ss
);

202 ~
Sock‘Di¥©ch”
(è
	gov”ride
;

204 
boŞ
 
In™Ÿlize
();

206 
vœtu®
 
boŞ
 
C»©e
(
ty³
);

207 
boŞ
 
C»©e
(
çmy
, 
ty³
è
	gov”ride
;

209 #ià
defšed
(
WEBRTC_WIN
)

210 
WSAEVENT
 
G‘WSAEv’t
(è
	gov”ride
;

211 
SOCKET
 
G‘Sock‘
(è
	gov”ride
;

212 
boŞ
 
CheckSigÇlClo£
(è
	gov”ride
;

213 #–ià
defšed
(
WEBRTC_POSIX
)

214 
G‘DesütÜ
(è
	gov”ride
;

215 
boŞ
 
IsDesütÜClo£d
(è
	gov”ride
;

218 
ušt32_t
 
G‘Reque¡edEv’ts
(è
	gov”ride
;

219 
OnP»Ev’t
(
ušt32_t
 
ff
è
	gov”ride
;

220 
OnEv’t
(
ušt32_t
 
ff
, 
”r
è
	gov”ride
;

222 
Clo£
(è
	gov”ride
;

224 #ià
defšed
(
WEBRTC_USE_EPOLL
)

225 
	g´Ùeùed
:

226 
S¹B©chedEv’tUpd©es
();

227 
FšishB©chedEv’tUpd©es
();

229 
S‘EÇbËdEv’ts
(
ušt8_t
 
ev’ts
è
	gov”ride
;

230 
EÇbËEv’ts
(
ušt8_t
 
ev’ts
è
	gov”ride
;

231 
Di§bËEv’ts
(
ušt8_t
 
ev’ts
è
	gov”ride
;

234 
	g´iv©e
:

235 #ià
defšed
(
WEBRTC_WIN
)

236 
Ãxt_id_
;

237 
	gid_
;

238 
boŞ
 
	gsigÇl_şo£_
;

239 
	gsigÇl_”r_
;

241 #ià
defšed
(
WEBRTC_USE_EPOLL
)

242 
MaybeUpd©eDi¥©ch”
(
ušt8_t
 
Şd_ev’ts
);

244 
	g§ved_’abËd_ev’ts_
 = -1;

	@physical_socket_server_unittest.cc

11 
	~"¹c_ba£/physiÿl_sock‘_£rv”.h
"

13 
	~<sigÇl.h
>

15 
	~<®gÜ™hm
>

16 
	~<memÜy
>

18 
	~"¹c_ba£/gun™.h
"

19 
	~"¹c_ba£/_add»ss.h
"

20 
	~"¹c_ba£/loggšg.h
"

21 
	~"¹c_ba£/ÃtwÜk_mÚ™Ü.h
"

22 
	~"¹c_ba£/sock‘_un™‹¡.h
"

23 
	~"¹c_ba£/‹¡_uts.h
"

24 
	~"¹c_ba£/th»ad.h
"

25 
	~"‹¡/g‹¡.h
"

27 
Çme¥aû
 
	g¹c
 {

29 
	#MAYBE_SKIP_IPV4
 \

30 ià(!
	`HasIPv4EÇbËd
()) { \

31 
	`RTC_LOG
(
LS_INFO
) << "No IPv4... skipping"; \

33 }

	)

35 
	#MAYBE_SKIP_IPV6
 \

36 ià(!
	`HasIPv6EÇbËd
()) { \

37 
	`RTC_LOG
(
LS_INFO
) << "No IPv6... skipping"; \

39 }

	)

41 
şass
 
	gPhysiÿlSock‘Te¡
;

43 şas 
	cFakeSock‘Di¥©ch”
 : 
public
 
Sock‘Di¥©ch”
 {

44 
public
:

45 
ex¶ic™
 
FakeSock‘Di¥©ch”
(
PhysiÿlSock‘S”v”
* 
ss
)

46 : 
Sock‘Di¥©ch”
(
ss
) {}

48 
FakeSock‘Di¥©ch”
(
SOCKET
 
s
, 
PhysiÿlSock‘S”v”
* 
ss
)

49 : 
Sock‘Di¥©ch”
(
s
, 
ss
) {}

51 
	g´Ùeùed
:

52 
SOCKET
 
DoAcû±
(SOCKET 
sock‘
, 
sockaddr
* 
addr
, 
sockËn_t
* 
add¾’
è
	gov”ride
;

53 
DoS’d
(
SOCKET
 
sock‘
, cÚ¡ * 
buf
, 
Ën
, 
æags
è
	gov”ride
;

54 
DoS’dTo
(
SOCKET
 
sock‘
,

55 cÚ¡ * 
buf
,

56 
Ën
,

57 
æags
,

58 cÚ¡ 
sockaddr
* 
de¡_addr
,

59 
sockËn_t
 
add¾’
è
	gov”ride
;

62 şas 
	cFakePhysiÿlSock‘S”v”
 : 
public
 
PhysiÿlSock‘S”v”
 {

63 
public
:

64 
ex¶ic™
 
FakePhysiÿlSock‘S”v”
(
PhysiÿlSock‘Te¡
* 
‹¡
è: 
‹¡_
(test) {}

66 
AsyncSock‘
* 
C»©eAsyncSock‘
(
çmy
, 
ty³
è
	gov”ride
 {

67 
Sock‘Di¥©ch”
* 
	gdi¥©ch”
 = 
Ãw
 
FakeSock‘Di¥©ch”
(
this
);

68 ià(!
	gdi¥©ch”
->
C»©e
(
çmy
, 
ty³
)) {

69 
d–‘e
 
	gdi¥©ch”
;

70  
	gnuÎ±r
;

72  
	gdi¥©ch”
;

75 
AsyncSock‘
* 
W¿pSock‘
(
SOCKET
 
s
è
	gov”ride
 {

76 
Sock‘Di¥©ch”
* 
	gdi¥©ch”
 = 
Ãw
 
FakeSock‘Di¥©ch”
(
s
, 
this
);

77 ià(!
	gdi¥©ch”
->
In™Ÿlize
()) {

78 
d–‘e
 
	gdi¥©ch”
;

79  
	gnuÎ±r
;

81  
	gdi¥©ch”
;

84 
PhysiÿlSock‘Te¡
* 
G‘Te¡
(ècÚ¡ {  
	g‹¡_
; }

86 
	g´iv©e
:

87 
PhysiÿlSock‘Te¡
* 
‹¡_
;

90 şas 
	cFakeN‘wÜkBšd”
 : 
public
 
N‘wÜkBšd”IÁ”çû
 {

91 
public
:

92 
N‘wÜkBšdšgResuÉ
 
BšdSock‘ToN‘wÜk
(, cÚ¡ 
IPAdd»ss
&è
	gov”ride
 {

93 ++
	gnum_bšds_
;

94  
	g»suÉ_
;

97 
£t_»suÉ
(
N‘wÜkBšdšgResuÉ
 
»suÉ
è{ 
	g»suÉ_
 =„esult; }

99 
num_bšds
(è{  
	gnum_bšds_
; }

101 
	g´iv©e
:

102 
N‘wÜkBšdšgResuÉ
 
»suÉ_
 = N‘wÜkBšdšgResuÉ::
SUCCESS
;

103 
	gnum_bšds_
 = 0;

106 şas 
	cPhysiÿlSock‘Te¡
 : 
public
 
Sock‘Te¡
 {

107 
public
:

109 
S‘FaAcû±
(
boŞ
 
ç
è{ 
ç_acû±_
 = fail; }

110 
boŞ
 
FaAcû±
(ècÚ¡ {  
	gç_acû±_
; }

113 
S‘MaxS’dSize
(
max_size
è{ 
	gmax_£nd_size_
 = max_size; }

114 
MaxS’dSize
(ècÚ¡ {  
	gmax_£nd_size_
; }

116 
	g´Ùeùed
:

117 
PhysiÿlSock‘Te¡
()

118 : 
£rv”_
(
Ãw
 
FakePhysiÿlSock‘S”v”
(
this
)),

119 
th»ad_
(
£rv”_
.
g‘
()),

120 
ç_acû±_
(
çl£
),

121 
max_£nd_size_
(-1) {}

123 
CÚÃùIÁ”ÇlAcû±E¼Ü
(cÚ¡ 
IPAdd»ss
& 
loİback
);

124 
Wr™abËAá”P¬tŸlWr™e
(cÚ¡ 
IPAdd»ss
& 
loİback
);

126 
	g¡d
::
unique_±r
<
FakePhysiÿlSock‘S”v”
> 
£rv”_
;

127 
	g¹c
::
AutoSock‘S”v”Th»ad
 
th»ad_
;

128 
boŞ
 
	gç_acû±_
;

129 
	gmax_£nd_size_
;

132 
SOCKET
 
	gFakeSock‘Di¥©ch”
::
	$DoAcû±
(
SOCKET
 
sock‘
,

133 
sockaddr
* 
addr
,

134 
sockËn_t
* 
add¾’
) {

135 
FakePhysiÿlSock‘S”v”
* 
ss
 =

136 
¡©ic_ÿ¡
<
FakePhysiÿlSock‘S”v”
*>(
	`sock‘£rv”
());

137 ià(
ss
->
	`G‘Te¡
()->
	`FaAcû±
()) {

138  
INVALID_SOCKET
;

141  
Sock‘Di¥©ch”
::
	`DoAcû±
(
sock‘
, 
addr
, 
add¾’
);

142 
	}
}

144 
	gFakeSock‘Di¥©ch”
::
	$DoS’d
(
SOCKET
 
sock‘
,

145 cÚ¡ * 
buf
,

146 
Ën
,

147 
æags
) {

148 
FakePhysiÿlSock‘S”v”
* 
ss
 =

149 
¡©ic_ÿ¡
<
FakePhysiÿlSock‘S”v”
*>(
	`sock‘£rv”
());

150 ià(
ss
->
	`G‘Te¡
()->
	`MaxS’dSize
() >= 0) {

151 
Ën
 = 
¡d
::
	`mš
Ö’, 
ss
->
	`G‘Te¡
()->
	`MaxS’dSize
());

154  
Sock‘Di¥©ch”
::
	`DoS’d
(
sock‘
, 
buf
, 
Ën
, 
æags
);

155 
	}
}

157 
	gFakeSock‘Di¥©ch”
::
	$DoS’dTo
(
SOCKET
 
sock‘
,

158 cÚ¡ * 
buf
,

159 
Ën
,

160 
æags
,

161 cÚ¡ 
sockaddr
* 
de¡_addr
,

162 
sockËn_t
 
add¾’
) {

163 
FakePhysiÿlSock‘S”v”
* 
ss
 =

164 
¡©ic_ÿ¡
<
FakePhysiÿlSock‘S”v”
*>(
	`sock‘£rv”
());

165 ià(
ss
->
	`G‘Te¡
()->
	`MaxS’dSize
() >= 0) {

166 
Ën
 = 
¡d
::
	`mš
Ö’, 
ss
->
	`G‘Te¡
()->
	`MaxS’dSize
());

169  
Sock‘Di¥©ch”
::
	`DoS’dTo
(
sock‘
, 
buf
, 
Ën
, 
æags
, 
de¡_addr
,

170 
add¾’
);

171 
	}
}

173 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡CÚÃùIPv4
) {

174 
MAYBE_SKIP_IPV4
;

175 
Sock‘Te¡
::
	`Te¡CÚÃùIPv4
();

176 
	}
}

178 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡CÚÃùIPv6
) {

179 
Sock‘Te¡
::
	`Te¡CÚÃùIPv6
();

180 
	}
}

182 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡CÚÃùW™hDnsLookupIPv4
) {

183 
MAYBE_SKIP_IPV4
;

184 
Sock‘Te¡
::
	`Te¡CÚÃùW™hDnsLookupIPv4
();

185 
	}
}

187 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡CÚÃùW™hDnsLookupIPv6
) {

188 
Sock‘Te¡
::
	`Te¡CÚÃùW™hDnsLookupIPv6
();

189 
	}
}

191 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡CÚÃùFaIPv4
) {

192 
MAYBE_SKIP_IPV4
;

193 
Sock‘Te¡
::
	`Te¡CÚÃùFaIPv4
();

194 
	}
}

196 
	gPhysiÿlSock‘Te¡
::
	$CÚÃùIÁ”ÇlAcû±E¼Ü
(cÚ¡ 
IPAdd»ss
& 
loİback
) {

197 
web¹c
::
‹¡šg
::
SŒ—mSšk
 
sšk
;

198 
Sock‘Add»ss
 
acû±_addr
;

201 
¡d
::
unique_±r
<
AsyncSock‘
> 
	`ş›Á1
(

202 
£rv”_
->
	`C»©eAsyncSock‘
(
loİback
.
	`çmy
(), 
SOCK_STREAM
));

203 
sšk
.
	`MÚ™Ü
(
ş›Á1
.
	`g‘
());

204 
	`EXPECT_EQ
(
AsyncSock‘
::
CS_CLOSED
, 
ş›Á1
->
	`G‘S‹
());

205 
	`EXPECT_TRUE
(
	`IsUn¥ecOrEm±yIP
(
ş›Á1
->
	`G‘LoÿlAdd»ss
().
	`addr
()));

207 
¡d
::
unique_±r
<
AsyncSock‘
> 
	`ş›Á2
(

208 
£rv”_
->
	`C»©eAsyncSock‘
(
loİback
.
	`çmy
(), 
SOCK_STREAM
));

209 
sšk
.
	`MÚ™Ü
(
ş›Á2
.
	`g‘
());

210 
	`EXPECT_EQ
(
AsyncSock‘
::
CS_CLOSED
, 
ş›Á2
->
	`G‘S‹
());

211 
	`EXPECT_TRUE
(
	`IsUn¥ecOrEm±yIP
(
ş›Á2
->
	`G‘LoÿlAdd»ss
().
	`addr
()));

214 
¡d
::
unique_±r
<
AsyncSock‘
> 
	`£rv”
(

215 
£rv”_
->
	`C»©eAsyncSock‘
(
loİback
.
	`çmy
(), 
SOCK_STREAM
));

216 
sšk
.
	`MÚ™Ü
(
£rv”
.
	`g‘
());

217 
	`EXPECT_EQ
(0, 
£rv”
->
	`Bšd
(
	`Sock‘Add»ss
(
loİback
, 0)));

218 
	`EXPECT_EQ
(0, 
£rv”
->
	`Li¡’
(5));

219 
	`EXPECT_EQ
(
AsyncSock‘
::
CS_CONNECTING
, 
£rv”
->
	`G‘S‹
());

222 
	`EXPECT_FALSE
(
sšk
.
	`Check
(
£rv”
.
	`g‘
(), 
web¹c
::
‹¡šg
::
SSE_READ
));

223 
	`EXPECT_TRUE
(
nuÎ±r
 =ğ
£rv”
->
	`Acû±
(&
acû±_addr
));

224 
	`EXPECT_TRUE
(
acû±_addr
.
	`IsN
());

227 
	`EXPECT_EQ
(0, 
ş›Á1
->
	`CÚÃù
(
£rv”
->
	`G‘LoÿlAdd»ss
()));

228 
	`EXPECT_FALSE
(
ş›Á1
->
	`G‘LoÿlAdd»ss
().
	`IsN
());

229 
	`EXPECT_NE
(
£rv”
->
	`G‘LoÿlAdd»ss
(), 
ş›Á1
->GetLocalAddress());

232 
	`EXPECT_EQ
(
AsyncSock‘
::
CS_CONNECTING
, 
ş›Á1
->
	`G‘S‹
());

233 
	`EXPECT_FALSE
(
sšk
.
	`Check
(
ş›Á1
.
	`g‘
(), 
web¹c
::
‹¡šg
::
SSE_OPEN
));

234 
	`EXPECT_FALSE
(
sšk
.
	`Check
(
ş›Á1
.
	`g‘
(), 
web¹c
::
‹¡šg
::
SSE_CLOSE
));

237 
	`EXPECT_TRUE_WAIT
((
sšk
.
	`Check
(
£rv”
.
	`g‘
(), 
web¹c
::
‹¡šg
::
SSE_READ
)),

238 
kTimeout
);

240 
	`S‘FaAcû±
(
Œue
);

241 
¡d
::
unique_±r
<
AsyncSock‘
> 
	`acû±ed
(
£rv”
->
	`Acû±
(&
acû±_addr
));

242 
	`EXPECT_FALSE
(
acû±ed
);

243 
	`ASSERT_TRUE
(
acû±_addr
.
	`IsN
());

246 
	`EXPECT_FALSE
(
sšk
.
	`Check
(
£rv”
.
	`g‘
(), 
web¹c
::
‹¡šg
::
SSE_READ
));

247 
	`EXPECT_TRUE
(
nuÎ±r
 =ğ
£rv”
->
	`Acû±
(&
acû±_addr
));

248 
	`EXPECT_TRUE
(
acû±_addr
.
	`IsN
());

251 
	`EXPECT_EQ
(0, 
ş›Á2
->
	`CÚÃù
(
£rv”
->
	`G‘LoÿlAdd»ss
()));

252 
	`EXPECT_FALSE
(
ş›Á2
->
	`G‘LoÿlAdd»ss
().
	`IsN
());

253 
	`EXPECT_NE
(
£rv”
->
	`G‘LoÿlAdd»ss
(), 
ş›Á2
->GetLocalAddress());

256 
	`EXPECT_EQ
(
AsyncSock‘
::
CS_CONNECTING
, 
ş›Á2
->
	`G‘S‹
());

257 
	`EXPECT_FALSE
(
sšk
.
	`Check
(
ş›Á2
.
	`g‘
(), 
web¹c
::
‹¡šg
::
SSE_OPEN
));

258 
	`EXPECT_FALSE
(
sšk
.
	`Check
(
ş›Á2
.
	`g‘
(), 
web¹c
::
‹¡šg
::
SSE_CLOSE
));

261 
	`EXPECT_TRUE_WAIT
((
sšk
.
	`Check
(
£rv”
.
	`g‘
(), 
web¹c
::
‹¡šg
::
SSE_READ
)),

262 
kTimeout
);

263 
	`S‘FaAcû±
(
çl£
);

264 
¡d
::
unique_±r
<
AsyncSock‘
> 
	`acû±ed2
(
£rv”
->
	`Acû±
(&
acû±_addr
));

265 
	`ASSERT_TRUE
(
acû±ed2
);

266 
	`EXPECT_FALSE
(
acû±_addr
.
	`IsN
());

267 
	`EXPECT_EQ
(
acû±ed2
->
	`G‘RemÙeAdd»ss
(), 
acû±_addr
);

268 
	}
}

270 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡CÚÃùAcû±E¼ÜIPv4
) {

271 
MAYBE_SKIP_IPV4
;

272 
	`CÚÃùIÁ”ÇlAcû±E¼Ü
(
kIPv4Loİback
);

273 
	}
}

275 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡CÚÃùAcû±E¼ÜIPv6
) {

276 
MAYBE_SKIP_IPV6
;

277 
	`CÚÃùIÁ”ÇlAcû±E¼Ü
(
kIPv6Loİback
);

278 
	}
}

280 
	gPhysiÿlSock‘Te¡
::
	$Wr™abËAá”P¬tŸlWr™e
(cÚ¡ 
IPAdd»ss
& 
loİback
) {

282 cÚ¡ 
kMaxS’dSize
 = 128;

283 
	`S‘MaxS’dSize
(
kMaxS’dSize
);

287 cÚ¡ 
size_t
 
kD©aSize
 = 128 * 1024;

288 
	`TıIÁ”Çl
(
loİback
, 
kD©aSize
, 
kMaxS’dSize
);

289 
	}
}

292 #ià
	$defšed
(
WEBRTC_WIN
)

293 
	#MAYBE_Te¡Wr™abËAá”P¬tŸlWr™eIPv4
 \

294 
DISABLED_Te¡Wr™abËAá”P¬tŸlWr™eIPv4


	)

296 
	#MAYBE_Te¡Wr™abËAá”P¬tŸlWr™eIPv4
 \

297 
Te¡Wr™abËAá”P¬tŸlWr™eIPv4


	)

299 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
MAYBE_Te¡Wr™abËAá”P¬tŸlWr™eIPv4
) {

300 
MAYBE_SKIP_IPV4
;

301 
	`Wr™abËAá”P¬tŸlWr™e
(
kIPv4Loİback
);

302 
	}
}

305 #ià
	$defšed
(
WEBRTC_WIN
)

306 
	#MAYBE_Te¡Wr™abËAá”P¬tŸlWr™eIPv6
 \

307 
DISABLED_Te¡Wr™abËAá”P¬tŸlWr™eIPv6


	)

309 
	#MAYBE_Te¡Wr™abËAá”P¬tŸlWr™eIPv6
 \

310 
Te¡Wr™abËAá”P¬tŸlWr™eIPv6


	)

312 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
MAYBE_Te¡Wr™abËAá”P¬tŸlWr™eIPv6
) {

313 
MAYBE_SKIP_IPV6
;

314 
	`Wr™abËAá”P¬tŸlWr™e
(
kIPv6Loİback
);

315 
	}
}

317 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡CÚÃùFaIPv6
) {

318 
Sock‘Te¡
::
	`Te¡CÚÃùFaIPv6
();

319 
	}
}

321 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡CÚÃùW™hDnsLookupFaIPv4
) {

322 
MAYBE_SKIP_IPV4
;

323 
Sock‘Te¡
::
	`Te¡CÚÃùW™hDnsLookupFaIPv4
();

324 
	}
}

326 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡CÚÃùW™hDnsLookupFaIPv6
) {

327 
Sock‘Te¡
::
	`Te¡CÚÃùW™hDnsLookupFaIPv6
();

328 
	}
}

330 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡CÚÃùW™hClo£dSock‘IPv4
) {

331 
MAYBE_SKIP_IPV4
;

332 
Sock‘Te¡
::
	`Te¡CÚÃùW™hClo£dSock‘IPv4
();

333 
	}
}

335 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡CÚÃùW™hClo£dSock‘IPv6
) {

336 
Sock‘Te¡
::
	`Te¡CÚÃùW™hClo£dSock‘IPv6
();

337 
	}
}

339 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡CÚÃùWheNÙClo£dIPv4
) {

340 
MAYBE_SKIP_IPV4
;

341 
Sock‘Te¡
::
	`Te¡CÚÃùWheNÙClo£dIPv4
();

342 
	}
}

344 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡CÚÃùWheNÙClo£dIPv6
) {

345 
Sock‘Te¡
::
	`Te¡CÚÃùWheNÙClo£dIPv6
();

346 
	}
}

348 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡S”v”Clo£DuršgCÚÃùIPv4
) {

349 
MAYBE_SKIP_IPV4
;

350 
Sock‘Te¡
::
	`Te¡S”v”Clo£DuršgCÚÃùIPv4
();

351 
	}
}

353 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡S”v”Clo£DuršgCÚÃùIPv6
) {

354 
Sock‘Te¡
::
	`Te¡S”v”Clo£DuršgCÚÃùIPv6
();

355 
	}
}

357 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡Cl›ÁClo£DuršgCÚÃùIPv4
) {

358 
MAYBE_SKIP_IPV4
;

359 
Sock‘Te¡
::
	`Te¡Cl›ÁClo£DuršgCÚÃùIPv4
();

360 
	}
}

362 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡Cl›ÁClo£DuršgCÚÃùIPv6
) {

363 
Sock‘Te¡
::
	`Te¡Cl›ÁClo£DuršgCÚÃùIPv6
();

364 
	}
}

366 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡S”v”Clo£IPv4
) {

367 
MAYBE_SKIP_IPV4
;

368 
Sock‘Te¡
::
	`Te¡S”v”Clo£IPv4
();

369 
	}
}

371 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡S”v”Clo£IPv6
) {

372 
Sock‘Te¡
::
	`Te¡S”v”Clo£IPv6
();

373 
	}
}

375 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡Clo£InClo£dC®lbackIPv4
) {

376 
MAYBE_SKIP_IPV4
;

377 
Sock‘Te¡
::
	`Te¡Clo£InClo£dC®lbackIPv4
();

378 
	}
}

380 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡Clo£InClo£dC®lbackIPv6
) {

381 
Sock‘Te¡
::
	`Te¡Clo£InClo£dC®lbackIPv6
();

382 
	}
}

384 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡Sock‘S”v”Wa™IPv4
) {

385 
MAYBE_SKIP_IPV4
;

386 
Sock‘Te¡
::
	`Te¡Sock‘S”v”Wa™IPv4
();

387 
	}
}

389 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡Sock‘S”v”Wa™IPv6
) {

390 
Sock‘Te¡
::
	`Te¡Sock‘S”v”Wa™IPv6
();

391 
	}
}

393 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡TıIPv4
) {

394 
MAYBE_SKIP_IPV4
;

395 
Sock‘Te¡
::
	`Te¡TıIPv4
();

396 
	}
}

398 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡TıIPv6
) {

399 
Sock‘Te¡
::
	`Te¡TıIPv6
();

400 
	}
}

402 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡UdpIPv4
) {

403 
MAYBE_SKIP_IPV4
;

404 
Sock‘Te¡
::
	`Te¡UdpIPv4
();

405 
	}
}

407 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡UdpIPv6
) {

408 
Sock‘Te¡
::
	`Te¡UdpIPv6
();

409 
	}
}

419 #ià
defšed
(
THREAD_SANITIZER
è|| defšed(
MEMORY_SANITIZER
) || \

420 
defšed
(
ADDRESS_SANITIZER
è|| defšed(
WEBRTC_ANDROID
) || \

421 
	$defšed
(
WEBRTC_LINUX
)

422 
	#MAYBE_Te¡UdpR—dyToS’dIPv4
 
DISABLED_Te¡UdpR—dyToS’dIPv4


	)

424 
	#MAYBE_Te¡UdpR—dyToS’dIPv4
 
Te¡UdpR—dyToS’dIPv4


	)

426 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
MAYBE_Te¡UdpR—dyToS’dIPv4
) {

427 
MAYBE_SKIP_IPV4
;

428 
Sock‘Te¡
::
	`Te¡UdpR—dyToS’dIPv4
();

429 
	}
}

432 #ià
	$defšed
(
WEBRTC_WIN
)

433 
	#MAYBE_Te¡UdpR—dyToS’dIPv6
 
DISABLED_Te¡UdpR—dyToS’dIPv6


	)

435 
	#MAYBE_Te¡UdpR—dyToS’dIPv6
 
Te¡UdpR—dyToS’dIPv6


	)

437 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
MAYBE_Te¡UdpR—dyToS’dIPv6
) {

438 
Sock‘Te¡
::
	`Te¡UdpR—dyToS’dIPv6
();

439 
	}
}

441 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡G‘S‘O±iÚsIPv4
) {

442 
MAYBE_SKIP_IPV4
;

443 
Sock‘Te¡
::
	`Te¡G‘S‘O±iÚsIPv4
();

444 
	}
}

446 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡G‘S‘O±iÚsIPv6
) {

447 
Sock‘Te¡
::
	`Te¡G‘S‘O±iÚsIPv6
();

448 
	}
}

450 #ià
	$defšed
(
WEBRTC_POSIX
)

453 #ià!
	$defšed
(
WEBRTC_MAC
)

454 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡Sock‘RecvTime¡ampIPv4
) {

455 
MAYBE_SKIP_IPV4
;

456 
Sock‘Te¡
::
	`Te¡Sock‘RecvTime¡ampIPv4
();

457 
	}
}

459 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
Te¡Sock‘RecvTime¡ampIPv6
) {

460 
Sock‘Te¡
::
	`Te¡Sock‘RecvTime¡ampIPv6
();

461 
	}
}

466 
	$TEST_F
(
PhysiÿlSock‘Te¡
,

467 
BšdFasIfN‘wÜkBšd”FasFÜNÚLoİbackIÁ”çû
) {

468 
MAYBE_SKIP_IPV4
;

469 
FakeN‘wÜkBšd”
 
çke_ÃtwÜk_bšd”
;

470 
£rv”_
->
	`£t_ÃtwÜk_bšd”
(&
çke_ÃtwÜk_bšd”
);

471 
¡d
::
unique_±r
<
AsyncSock‘
> 
	`sock‘
(

472 
£rv”_
->
	`C»©eAsyncSock‘
(
AF_INET
, 
SOCK_DGRAM
));

473 
çke_ÃtwÜk_bšd”
.
	`£t_»suÉ
(
N‘wÜkBšdšgResuÉ
::
FAILURE
);

474 
	`EXPECT_EQ
(-1, 
sock‘
->
	`Bšd
(
	`Sock‘Add»ss
("192.168.0.1", 0)));

475 
£rv”_
->
	`£t_ÃtwÜk_bšd”
(
nuÎ±r
);

476 
	}
}

479 
	$TEST_F
(
PhysiÿlSock‘Te¡
, 
N‘wÜkBšd”IsNÙU£dFÜAnyIp
) {

480 
MAYBE_SKIP_IPV4
;

481 
FakeN‘wÜkBšd”
 
çke_ÃtwÜk_bšd”
;

482 
£rv”_
->
	`£t_ÃtwÜk_bšd”
(&
çke_ÃtwÜk_bšd”
);

483 
¡d
::
unique_±r
<
AsyncSock‘
> 
	`sock‘
(

484 
£rv”_
->
	`C»©eAsyncSock‘
(
AF_INET
, 
SOCK_DGRAM
));

485 
	`EXPECT_EQ
(0, 
sock‘
->
	`Bšd
(
	`Sock‘Add»ss
("0.0.0.0", 0)));

486 
	`EXPECT_EQ
(0, 
çke_ÃtwÜk_bšd”
.
	`num_bšds
());

487 
£rv”_
->
	`£t_ÃtwÜk_bšd”
(
nuÎ±r
);

488 
	}
}

492 
	$TEST_F
(
PhysiÿlSock‘Te¡
,

493 
BšdSucûedsIfN‘wÜkBšd”FasFÜLoİbackIÁ”çû
) {

494 
MAYBE_SKIP_IPV4
;

495 
FakeN‘wÜkBšd”
 
çke_ÃtwÜk_bšd”
;

496 
£rv”_
->
	`£t_ÃtwÜk_bšd”
(&
çke_ÃtwÜk_bšd”
);

497 
¡d
::
unique_±r
<
AsyncSock‘
> 
	`sock‘
(

498 
£rv”_
->
	`C»©eAsyncSock‘
(
AF_INET
, 
SOCK_DGRAM
));

499 
çke_ÃtwÜk_bšd”
.
	`£t_»suÉ
(
N‘wÜkBšdšgResuÉ
::
FAILURE
);

500 
	`EXPECT_EQ
(0, 
sock‘
->
	`Bšd
(
	`Sock‘Add»ss
(
kIPv4Loİback
, 0)));

501 
£rv”_
->
	`£t_ÃtwÜk_bšd”
(
nuÎ±r
);

502 
	}
}

	@platform_thread.cc

11 
	~"¹c_ba£/¶©fÜm_th»ad.h
"

13 #ià!
defšed
(
WEBRTC_WIN
)

14 
	~<sched.h
>

16 
	~<¡dšt.h
>

17 
	~<time.h
>

19 
	~<®gÜ™hm
>

21 
	~"¹c_ba£/checks.h
"

23 
Çme¥aû
 
	g¹c
 {

24 
	gÇme¥aû
 {

25 #ià!
defšed
(
WEBRTC_WIN
)

26 
	sTh»adA‰ribu‹s
 {

27 
Th»adA‰ribu‹s
(è{ 
±h»ad_©Œ_š™
(&
©Œ
); }

28 ~
Th»adA‰ribu‹s
(è{ 
±h»ad_©Œ_de¡roy
(&
©Œ
); }

29 
±h»ad_©Œ_t
* 
	gİ”©Ü
&(è{  &
	g©Œ
; }

30 
±h»ad_©Œ_t
 
	g©Œ
;

35 
	gPÏtfÜmTh»ad
::
PÏtfÜmTh»ad
(
Th»adRunFunùiÚ
 
func
,

36 * 
obj
,

37 
ab¦
::
¡ršg_v›w
 
th»ad_Çme
,

38 
Th»adPriÜ™y
 
´iÜ™y
 )

39 : 
run_funùiÚ_
(
func
), 
´iÜ™y_
(
´iÜ™y
), 
obj_
(
obj
), 
Çme_
(
th»ad_Çme
) {

40 
RTC_DCHECK
(
func
);

41 
RTC_DCHECK
(!
Çme_
.
em±y
());

43 
RTC_DCHECK
(
Çme_
.
Ëngth
() < 64);

44 
	g¥awÃd_th»ad_check”_
.
D‘ach
();

47 
	gPÏtfÜmTh»ad
::~
PÏtfÜmTh»ad
() {

48 
RTC_DCHECK
(
th»ad_check”_
.
IsCu¼’t
());

49 #ià
defšed
(
WEBRTC_WIN
)

50 
RTC_DCHECK
(!
th»ad_
);

51 
RTC_DCHECK
(!
th»ad_id_
);

55 #ià
defšed
(
WEBRTC_WIN
)

56 
DWORD
 
WINAPI
 
	gPÏtfÜmTh»ad
::
S¹Th»ad
(* 
·¿m
) {

61 ::
S‘La¡E¼Ü
(
ERROR_SUCCESS
);

62 
	g¡©ic_ÿ¡
<
	gPÏtfÜmTh»ad
*>(
	g·¿m
)->
Run
();

66 * 
	gPÏtfÜmTh»ad
::
S¹Th»ad
(* 
·¿m
) {

67 
¡©ic_ÿ¡
<
PÏtfÜmTh»ad
*>(
·¿m
)->
Run
();

72 
	gPÏtfÜmTh»ad
::
S¹
() {

73 
RTC_DCHECK
(
th»ad_check”_
.
IsCu¼’t
());

74 
RTC_DCHECK
(!
th»ad_
) << "Thread‡lready started?";

75 #ià
defšed
(
WEBRTC_WIN
)

79 
	gth»ad_
 = ::
C»©eTh»ad
(
nuÎ±r
, 1024 * 1024, &
S¹Th»ad
, 
this
,

80 
STACK_SIZE_PARAM_IS_A_RESERVATION
, &
th»ad_id_
);

81 
RTC_CHECK
(
th»ad_
) << "CreateThread failed";

82 
RTC_DCHECK
(
th»ad_id_
);

84 
Th»adA‰ribu‹s
 
	g©Œ
;

86 
±h»ad_©Œ_£t¡acksize
(&
©Œ
, 1024 * 1024);

87 
RTC_CHECK_EQ
(0, 
±h»ad_ü—‹
(&
th»ad_
, &
©Œ
, &
S¹Th»ad
, 
this
));

91 
boŞ
 
	gPÏtfÜmTh»ad
::
IsRuÂšg
() const {

92 
RTC_DCHECK
(
th»ad_check”_
.
IsCu¼’t
());

93 #ià
defšed
(
WEBRTC_WIN
)

94  
	gth»ad_
 !ğ
nuÎ±r
;

96  
	gth»ad_
 != 0;

100 
PÏtfÜmTh»adRef
 
	gPÏtfÜmTh»ad
::
G‘Th»adRef
() const {

101 #ià
defšed
(
WEBRTC_WIN
)

102  
th»ad_id_
;

104  
	gth»ad_
;

108 
	gPÏtfÜmTh»ad
::
Stİ
() {

109 
RTC_DCHECK
(
th»ad_check”_
.
IsCu¼’t
());

110 ià(!
IsRuÂšg
())

113 #ià
defšed
(
WEBRTC_WIN
)

114 
Wa™FÜSšgËObjeù
(
th»ad_
, 
INFINITE
);

115 
Clo£HªdË
(
th»ad_
);

116 
	gth»ad_
 = 
nuÎ±r
;

117 
	gth»ad_id_
 = 0;

119 
RTC_CHECK_EQ
(0, 
±h»ad_još
(
th»ad_
, 
nuÎ±r
));

120 
	gth»ad_
 = 0;

122 
	g¥awÃd_th»ad_check”_
.
D‘ach
();

125 
	gPÏtfÜmTh»ad
::
Run
() {

127 
RTC_DCHECK
(
¥awÃd_th»ad_check”_
.
IsCu¼’t
());

128 
	g¹c
::
S‘Cu¼’tTh»adName
(
Çme_
.
c_¡r
());

129 
S‘PriÜ™y
(
´iÜ™y_
);

130 
run_funùiÚ_
(
obj_
);

133 
boŞ
 
	gPÏtfÜmTh»ad
::
S‘PriÜ™y
(
Th»adPriÜ™y
 
´iÜ™y
) {

134 
RTC_DCHECK
(
¥awÃd_th»ad_check”_
.
IsCu¼’t
());

136 #ià
defšed
(
WEBRTC_WIN
)

137  
S‘Th»adPriÜ™y
(
th»ad_
, 
´iÜ™y
è!ğ
FALSE
;

138 #–ià
defšed
(
__Çtive_ş›Á__
è|| defšed(
WEBRTC_FUCHSIA
)

140  
	gŒue
;

141 #–ià
defšed
(
WEBRTC_CHROMIUM_BUILD
è&& defšed(
WEBRTC_LINUX
)

144  
	gŒue
;

146 cÚ¡ 
	gpŞicy
 = 
SCHED_FIFO
;

147 cÚ¡ 
	gmš_´io
 = 
sched_g‘_´iÜ™y_mš
(
pŞicy
);

148 cÚ¡ 
	gmax_´io
 = 
sched_g‘_´iÜ™y_max
(
pŞicy
);

149 ià(
	gmš_´io
 =ğ-1 || 
max_´io
 == -1) {

150  
çl£
;

153 ià(
	gmax_´io
 - 
	gmš_´io
 <= 2)

154  
çl£
;

157 
sched_·¿m
 
	g·¿m
;

158 cÚ¡ 
	gtİ_´io
 = 
max_´io
 - 1;

159 cÚ¡ 
	glow_´io
 = 
mš_´io
 + 1;

160 
	g´iÜ™y
) {

161 
	gkLowPriÜ™y
:

162 
·¿m
.
sched_´iÜ™y
 = 
low_´io
;

164 
	gkNÜm®PriÜ™y
:

167 
·¿m
.
sched_´iÜ™y
 = (
low_´io
 + 
tİ_´io
 - 1) / 2;

169 
	gkHighPriÜ™y
:

170 
·¿m
.
sched_´iÜ™y
 = 
¡d
::
max
(
tİ_´io
 - 2, 
low_´io
);

172 
	gkHighe¡PriÜ™y
:

173 
·¿m
.
sched_´iÜ™y
 = 
¡d
::
max
(
tİ_´io
 - 1, 
low_´io
);

175 
	gkR—ÉimePriÜ™y
:

176 
·¿m
.
sched_´iÜ™y
 = 
tİ_´io
;

179  
±h»ad_£tsched·¿m
(
th»ad_
, 
pŞicy
, &
·¿m
) == 0;

183 #ià
defšed
(
WEBRTC_WIN
)

184 
boŞ
 
	gPÏtfÜmTh»ad
::
QueueAPC
(
PAPCFUNC
 
funùiÚ
, 
ULONG_PTR
 
d©a
) {

185 
RTC_DCHECK
(
th»ad_check”_
.
IsCu¼’t
());

186 
RTC_DCHECK
(
IsRuÂšg
());

188  
QueueU£rAPC
(
funùiÚ
, 
th»ad_
, 
d©a
è!ğ
FALSE
;

	@platform_thread.h

11 #iâdeà
RTC_BASE_PLATFORM_THREAD_H_


12 
	#RTC_BASE_PLATFORM_THREAD_H_


	)

14 #iâdeà
WEBRTC_WIN


15 
	~<±h»ad.h
>

17 
	~<¡ršg
>

19 
	~"ab¦/¡ršgs/¡ršg_v›w.h
"

20 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

21 
	~"¹c_ba£/¶©fÜm_th»ad_ty³s.h
"

22 
	~"¹c_ba£/th»ad_check”.h
"

24 
Çme¥aû
 
	g¹c
 {

27 (*
	gTh»adRunFunùiÚ
)(*);

29 
	eTh»adPriÜ™y
 {

30 #ifdeà
WEBRTC_WIN


31 
	gkLowPriÜ™y
 = 
THREAD_PRIORITY_BELOW_NORMAL
,

32 
	gkNÜm®PriÜ™y
 = 
THREAD_PRIORITY_NORMAL
,

33 
	gkHighPriÜ™y
 = 
THREAD_PRIORITY_ABOVE_NORMAL
,

34 
	gkHighe¡PriÜ™y
 = 
THREAD_PRIORITY_HIGHEST
,

35 
	gkR—ÉimePriÜ™y
 = 
THREAD_PRIORITY_TIME_CRITICAL


37 
kLowPriÜ™y
 = 1,

38 
	gkNÜm®PriÜ™y
 = 2,

39 
	gkHighPriÜ™y
 = 3,

40 
	gkHighe¡PriÜ™y
 = 4,

41 
	gkR—ÉimePriÜ™y
 = 5

48 şas 
	cPÏtfÜmTh»ad
 {

49 
	gpublic
:

50 
PÏtfÜmTh»ad
(
Th»adRunFunùiÚ
 
func
,

51 * 
obj
,

52 
ab¦
::
¡ršg_v›w
 
th»ad_Çme
,

53 
Th»adPriÜ™y
 
´iÜ™y
 = 
kNÜm®PriÜ™y
);

54 
	gvœtu®
 ~
PÏtfÜmTh»ad
();

56 cÚ¡ 
	g¡d
::
¡ršg
& 
Çme
(ècÚ¡ {  
Çme_
; }

60 
S¹
();

62 
boŞ
 
IsRuÂšg
() const;

66 
PÏtfÜmTh»adRef
 
G‘Th»adRef
() const;

69 
Stİ
();

71 
	g´Ùeùed
:

72 #ià
defšed
(
WEBRTC_WIN
)

74 
boŞ
 
QueueAPC
(
PAPCFUNC
 
­c_funùiÚ
, 
ULONG_PTR
 
d©a
);

77 
	g´iv©e
:

78 
Run
();

79 
boŞ
 
S‘PriÜ™y
(
Th»adPriÜ™y
 
´iÜ™y
);

81 
Th»adRunFunùiÚ
 cÚ¡ 
	grun_funùiÚ_
 = 
nuÎ±r
;

82 cÚ¡ 
Th»adPriÜ™y
 
	g´iÜ™y_
 = 
kNÜm®PriÜ™y
;

83 * cÚ¡ 
	gobj_
;

86 cÚ¡ 
	g¡d
::
¡ršg
 
Çme_
;

87 
	g¹c
::
Th»adCheck”
 
th»ad_check”_
;

88 
	g¹c
::
Th»adCheck”
 
¥awÃd_th»ad_check”_
;

89 #ià
defšed
(
WEBRTC_WIN
)

90 
DWORD
 
WINAPI
 
S¹Th»ad
(* 
·¿m
);

92 
HANDLE
 
	gth»ad_
 = 
nuÎ±r
;

93 
DWORD
 
	gth»ad_id_
 = 0;

95 * 
S¹Th»ad
(* 
·¿m
);

97 
±h»ad_t
 
	gth»ad_
 = 0;

99 
RTC_DISALLOW_COPY_AND_ASSIGN
(
PÏtfÜmTh»ad
);

	@platform_thread_types.cc

11 
	~"¹c_ba£/¶©fÜm_th»ad_ty³s.h
"

13 #ià
defšed
(
WEBRTC_LINUX
)

14 
	~<sys/´ùl.h
>

15 
	~<sys/sysÿÎ.h
>

18 
Çme¥aû
 
	g¹c
 {

20 
PÏtfÜmTh»adId
 
Cu¼’tTh»adId
() {

21 #ià
defšed
(
WEBRTC_WIN
)

22  
G‘Cu¼’tTh»adId
();

23 #–ià
defšed
(
WEBRTC_POSIX
)

24 #ià
defšed
(
WEBRTC_MAC
è|| defšed(
WEBRTC_IOS
)

25  
±h»ad_mach_th»ad_Å
(
±h»ad_£lf
());

26 #–ià
defšed
(
WEBRTC_ANDROID
)

27  
g‘tid
();

28 #–ià
defšed
(
WEBRTC_FUCHSIA
)

29  
zx_th»ad_£lf
();

30 #–ià
defšed
(
WEBRTC_LINUX
)

31  
sysÿÎ
(
__NR_g‘tid
);

32 #–ià
defšed
(
__EMSCRIPTEN__
)

33  
	g¡©ic_ÿ¡
<
	gPÏtfÜmTh»adId
>(
±h»ad_£lf
());

36  
	g»š‹½»t_ÿ¡
<
	gPÏtfÜmTh»adId
>(
±h»ad_£lf
());

41 
PÏtfÜmTh»adRef
 
Cu¼’tTh»adRef
() {

42 #ià
defšed
(
WEBRTC_WIN
)

43  
G‘Cu¼’tTh»adId
();

44 #–ià
defšed
(
WEBRTC_FUCHSIA
)

45  
zx_th»ad_£lf
();

46 #–ià
defšed
(
WEBRTC_POSIX
)

47  
±h»ad_£lf
();

51 
boŞ
 
IsTh»adRefEqu®
(cÚ¡ 
PÏtfÜmTh»adRef
& 
a
, cÚ¡ PÏtfÜmTh»adRef& 
b
) {

52 #ià
defšed
(
WEBRTC_WIN
è|| defšed(
WEBRTC_FUCHSIA
)

53  
	ga
 =ğ
b
;

54 #–ià
defšed
(
WEBRTC_POSIX
)

55  
±h»ad_equ®
(
a
, 
b
);

59 
S‘Cu¼’tTh»adName
(cÚ¡ * 
Çme
) {

60 #ià
defšed
(
WEBRTC_WIN
)

63 #´agm¨
·ck
(
push
, 8)

65 
DWORD
 
	gdwTy³
;

66 
LPCSTR
 
	gszName
;

67 
DWORD
 
	gdwTh»adID
;

68 
DWORD
 
	gdwFÏgs
;

69 } 
	gth»adÇme_šfo
 = {0x1000, 
Çme
, 
¡©ic_ÿ¡
<
DWORD
>(-1), 0};

70 #´agm¨
·ck
(
pİ
)

72 #´agm¨
w¬nšg
(
push
)

73 #´agm¨
w¬nšg
(
di§bË
 : 6320 6322)

74 
	g__Œy
 {

75 ::
Rai£Exû±iÚ
(0x406D1388, 0, (
th»adÇme_šfo
è/ (
ULONG_PTR
),

76 
»š‹½»t_ÿ¡
<
ULONG_PTR
*>(&
th»adÇme_šfo
));

77 } 
__exû±
 (
EXCEPTION_EXECUTE_HANDLER
) {

79 #´agm¨
w¬nšg
(
pİ
)

80 #–ià
defšed
(
WEBRTC_LINUX
è|| defšed(
WEBRTC_ANDROID
)

81 
´ùl
(
PR_SET_NAME
, 
»š‹½»t_ÿ¡
<>(
Çme
));

82 #–ià
defšed
(
WEBRTC_MAC
è|| defšed(
WEBRTC_IOS
)

83 
±h»ad_£Šame_Å
(
Çme
);

	@platform_thread_types.h

11 #iâdeà
RTC_BASE_PLATFORM_THREAD_TYPES_H_


12 
	#RTC_BASE_PLATFORM_THREAD_TYPES_H_


	)

16 #ià
defšed
(
WEBRTC_WIN
)

20 
	~<wšsock2.h
>

21 
	~<wšdows.h
>

22 #–ià
defšed
(
WEBRTC_FUCHSIA
)

23 
	~<zœcÚ/ty³s.h
>

24 
	~<zœcÚ/´oûss.h
>

25 #–ià
defšed
(
WEBRTC_POSIX
)

26 
	~<±h»ad.h
>

27 
	~<uni¡d.h
>

28 #ià
defšed
(
WEBRTC_MAC
)

29 
	~<±h»ad_¥is.h
>

34 
Çme¥aû
 
	g¹c
 {

35 #ià
defšed
(
WEBRTC_WIN
)

36 
DWORD
 
	tPÏtfÜmTh»adId
;

37 
DWORD
 
	tPÏtfÜmTh»adRef
;

38 #–ià
defšed
(
WEBRTC_FUCHSIA
)

39 
zx_hªdË_t
 
	tPÏtfÜmTh»adId
;

40 
zx_hªdË_t
 
	tPÏtfÜmTh»adRef
;

41 #–ià
defšed
(
WEBRTC_POSIX
)

42 
pid_t
 
	tPÏtfÜmTh»adId
;

43 
±h»ad_t
 
	tPÏtfÜmTh»adRef
;

47 
PÏtfÜmTh»adId
 
Cu¼’tTh»adId
();

52 
PÏtfÜmTh»adRef
 
Cu¼’tTh»adRef
();

55 
boŞ
 
IsTh»adRefEqu®
(cÚ¡ 
PÏtfÜmTh»adRef
& 
a
, cÚ¡ PÏtfÜmTh»adRef& 
b
);

58 
S‘Cu¼’tTh»adName
(cÚ¡ * 
Çme
);

	@platform_thread_unittest.cc

11 
	~"¹c_ba£/¶©fÜm_th»ad.h
"

13 
	~"sy¡em_w¿µ”s/šşude/¦“p.h
"

14 
	~"‹¡/g‹¡.h
"

16 
Çme¥aû
 
	g¹c
 {

17 
	gÇme¥aû
 {

19 
NuÎRunFunùiÚ
(* 
obj
) {}

22 
S‘FÏgRunFunùiÚ
(* 
obj
) {

23 
boŞ
* 
	gobj_as_boŞ
 = 
¡©ic_ÿ¡
<boŞ*>(
obj
);

24 *
	gobj_as_boŞ
 = 
Œue
;

29 
TEST
(
PÏtfÜmTh»adTe¡
, 
S¹Stİ
) {

30 
PÏtfÜmTh»ad
 
th»ad
(&
NuÎRunFunùiÚ
, 
nuÎ±r
, "PlatformThreadTest");

31 
EXPECT_TRUE
(
th»ad
.
Çme
() == "PlatformThreadTest");

32 
EXPECT_TRUE
(
th»ad
.
G‘Th»adRef
() == 0);

33 
	gth»ad
.
S¹
();

34 
EXPECT_TRUE
(
th»ad
.
G‘Th»adRef
() != 0);

35 
	gth»ad
.
Stİ
();

36 
EXPECT_TRUE
(
th»ad
.
G‘Th»adRef
() == 0);

39 
TEST
(
PÏtfÜmTh»adTe¡
, 
S¹Stİ2
) {

40 
PÏtfÜmTh»ad
 
th»ad1
(&
NuÎRunFunùiÚ
, 
nuÎ±r
, "PlatformThreadTest1");

41 
PÏtfÜmTh»ad
 
th»ad2
(&
NuÎRunFunùiÚ
, 
nuÎ±r
, "PlatformThreadTest2");

42 
EXPECT_TRUE
(
th»ad1
.
G‘Th»adRef
(è=ğ
th»ad2
.GetThreadRef());

43 
	gth»ad1
.
S¹
();

44 
	gth»ad2
.
S¹
();

45 
EXPECT_TRUE
(
th»ad1
.
G‘Th»adRef
(è!ğ
th»ad2
.GetThreadRef());

46 
	gth»ad2
.
Stİ
();

47 
	gth»ad1
.
Stİ
();

50 
TEST
(
PÏtfÜmTh»adTe¡
, 
RunFunùiÚIsC®Ëd
) {

51 
boŞ
 
	gæag
 = 
çl£
;

52 
PÏtfÜmTh»ad
 
th»ad
(&
S‘FÏgRunFunùiÚ
, &
æag
, "RunFunctionIsCalled");

53 
	gth»ad
.
S¹
();

56 
	gth»ad
.
Stİ
();

59 
EXPECT_TRUE
(
æag
);

	@protobuf_utils.h

11 
	~<¡ršg
>

13 #iâdeà
RTC_BASE_PROTOBUF_UTILS_H_


14 
	#RTC_BASE_PROTOBUF_UTILS_H_


	)

16 #ià
WEBRTC_ENABLE_PROTOBUF


18 
	~"thœd_·¹y/´Ùobuf/¤c/googË/´Ùobuf/mes§ge_l™e.h
"

19 
	~"thœd_·¹y/´Ùobuf/¤c/googË/´Ùobuf/»³©ed_f›ld.h
"

21 
Çme¥aû
 
	gweb¹c
 {

23 
usšg
 
	ggoogË
::
´Ùobuf
::
Mes§geL™e
;

24 
usšg
 
	ggoogË
::
´Ùobuf
::
R•—‹dPŒF›ld
;

	@proxy_info.cc

11 
	~"¹c_ba£/´oxy_šfo.h
"

13 
Çme¥aû
 
	g¹c
 {

15 cÚ¡ * 
ProxyToSŒšg
(
ProxyTy³
 
´oxy
) {

16 cÚ¡ * cÚ¡ 
	gPROXY_NAMES
[] = {"none", "https", "socks5", "unknown"};

17  
	gPROXY_NAMES
[
´oxy
];

20 
	gProxyInfo
::
ProxyInfo
(è: 
ty³
(
PROXY_NONE
), 
autod‘eù
(
çl£
) {}

21 
	gProxyInfo
::~
ProxyInfo
() = ;

	@proxy_info.h

11 #iâdeà
RTC_BASE_PROXY_INFO_H_


12 
	#RTC_BASE_PROXY_INFO_H_


	)

14 
	~<¡ršg
>

16 
	~"¹c_ba£/üy±_¡ršg.h
"

17 
	~"¹c_ba£/sock‘_add»ss.h
"

19 
Çme¥aû
 
	g¹c
 {

21 
	eProxyTy³
 { 
	gPROXY_NONE
, 
	gPROXY_HTTPS
, 
	gPROXY_SOCKS5
, 
	gPROXY_UNKNOWN
 };

22 cÚ¡ * 
ProxyToSŒšg
(
ProxyTy³
 
´oxy
);

24 
	sProxyInfo
 {

25 
ProxyTy³
 
	gty³
;

26 
Sock‘Add»ss
 
	gadd»ss
;

27 
	g¡d
::
¡ršg
 
autocÚfig_u¾
;

28 
boŞ
 
	gautod‘eù
;

29 
	g¡d
::
¡ršg
 
by·ss_li¡
;

30 
	g¡d
::
¡ršg
 
u£ºame
;

31 
Cry±SŒšg
 
	g·sswÜd
;

33 
ProxyInfo
();

34 ~
ProxyInfo
();

	@proxy_server.cc

11 
	~"¹c_ba£/´oxy_£rv”.h
"

13 
	~<¡ddef.h
>

15 
	~<memÜy
>

16 
	~"¹c_ba£/checks.h
"

17 
	~"¹c_ba£/loggšg.h
"

18 
	~"¹c_ba£/sock‘_çùÜy.h
"

20 
Çme¥aû
 
	g¹c
 {

23 
	gProxyS”v”
::
ProxyS”v”
(
Sock‘FaùÜy
* 
št_çùÜy
,

24 cÚ¡ 
Sock‘Add»ss
& 
št_addr
,

25 
Sock‘FaùÜy
* 
ext_çùÜy
,

26 cÚ¡ 
Sock‘Add»ss
& 
ext_
)

27 : 
ext_çùÜy_
(
ext_çùÜy
),

28 
ext__
(
ext_
.
addr
(), 0),

29 
£rv”_sock‘_
(

30 
št_çùÜy
->
C»©eAsyncSock‘
(
št_addr
.
çmy
(), 
SOCK_STREAM
)) {

31 
RTC_DCHECK
(
£rv”_sock‘_
.
g‘
(è!ğ
nuÎ±r
);

32 
RTC_DCHECK
(
št_addr
.
çmy
(è=ğ
AF_INET
 || iÁ_addr.çmy(è=ğ
AF_INET6
);

33 
	g£rv”_sock‘_
->
Bšd
(
št_addr
);

34 
	g£rv”_sock‘_
->
Li¡’
(5);

35 
	g£rv”_sock‘_
->
	gSigÇlR—dEv’t
.
cÚÃù
(
this
, &
ProxyS”v”
::
OnAcû±Ev’t
);

38 
	gProxyS”v”
::~
ProxyS”v”
() = ;

40 
Sock‘Add»ss
 
	gProxyS”v”
::
G‘S”v”Add»ss
() {

41  
£rv”_sock‘_
->
G‘LoÿlAdd»ss
();

44 
	gProxyS”v”
::
OnAcû±Ev’t
(
AsyncSock‘
* 
sock‘
) {

45 
RTC_DCHECK
(
sock‘
);

46 
RTC_DCHECK_EQ
(
sock‘
, 
£rv”_sock‘_
.
g‘
());

47 
AsyncSock‘
* 
	gšt_sock‘
 = 
sock‘
->
Acû±
(
nuÎ±r
);

48 
AsyncProxyS”v”Sock‘
* 
	gw¿µed_sock‘
 = 
W¿pSock‘
(
št_sock‘
);

49 
AsyncSock‘
* 
	gext_sock‘
 =

50 
ext_çùÜy_
->
C»©eAsyncSock‘
(
ext__
.
çmy
(), 
SOCK_STREAM
);

51 ià(
	gext_sock‘
) {

52 
	gext_sock‘
->
Bšd
(
ext__
);

53 
	gbšdšgs_
.
em¶aû_back
(

54 
¡d
::
make_unique
<
ProxyBšdšg
>(
w¿µed_sock‘
, 
ext_sock‘
));

56 
RTC_LOG
(
LS_ERROR
)

62 
	gProxyBšdšg
::
ProxyBšdšg
(
AsyncProxyS”v”Sock‘
* 
št_sock‘
,

63 
AsyncSock‘
* 
ext_sock‘
)

64 : 
št_sock‘_
(
št_sock‘
),

65 
ext_sock‘_
(
ext_sock‘
),

66 
cÚÃùed_
(
çl£
),

67 
out_bufãr_
(
kBufãrSize
),

68 
š_bufãr_
(
kBufãrSize
) {

69 
	gšt_sock‘_
->
	gSigÇlCÚÃùReque¡
.
cÚÃù
(
this
,

70 &
ProxyBšdšg
::
OnCÚÃùReque¡
);

71 
	gšt_sock‘_
->
	gSigÇlR—dEv’t
.
cÚÃù
(
this
, &
ProxyBšdšg
::
OnIÁ”ÇlR—d
);

72 
	gšt_sock‘_
->
	gSigÇlWr™eEv’t
.
cÚÃù
(
this
, &
ProxyBšdšg
::
OnIÁ”ÇlWr™e
);

73 
	gšt_sock‘_
->
	gSigÇlClo£Ev’t
.
cÚÃù
(
this
, &
ProxyBšdšg
::
OnIÁ”ÇlClo£
);

74 
	gext_sock‘_
->
	gSigÇlCÚÃùEv’t
.
cÚÃù
(
this
,

75 &
ProxyBšdšg
::
OnEx‹º®CÚÃù
);

76 
	gext_sock‘_
->
	gSigÇlR—dEv’t
.
cÚÃù
(
this
, &
ProxyBšdšg
::
OnEx‹º®R—d
);

77 
	gext_sock‘_
->
	gSigÇlWr™eEv’t
.
cÚÃù
(
this
, &
ProxyBšdšg
::
OnEx‹º®Wr™e
);

78 
	gext_sock‘_
->
	gSigÇlClo£Ev’t
.
cÚÃù
(
this
, &
ProxyBšdšg
::
OnEx‹º®Clo£
);

81 
	gProxyBšdšg
::~
ProxyBšdšg
() = ;

83 
	gProxyBšdšg
::
OnCÚÃùReque¡
(
AsyncProxyS”v”Sock‘
* 
sock‘
,

84 cÚ¡ 
Sock‘Add»ss
& 
addr
) {

85 
RTC_DCHECK
(!
cÚÃùed_
);

86 
RTC_DCHECK
(
ext_sock‘_
);

87 
	gext_sock‘_
->
CÚÃù
(
addr
);

91 
	gProxyBšdšg
::
OnIÁ”ÇlR—d
(
AsyncSock‘
* 
sock‘
) {

92 
R—d
(
št_sock‘_
.
g‘
(), &
out_bufãr_
);

93 
Wr™e
(
ext_sock‘_
.
g‘
(), &
out_bufãr_
);

96 
	gProxyBšdšg
::
OnIÁ”ÇlWr™e
(
AsyncSock‘
* 
sock‘
) {

97 
Wr™e
(
št_sock‘_
.
g‘
(), &
š_bufãr_
);

100 
	gProxyBšdšg
::
OnIÁ”ÇlClo£
(
AsyncSock‘
* 
sock‘
, 
”r
) {

101 
De¡roy
();

104 
	gProxyBšdšg
::
OnEx‹º®CÚÃù
(
AsyncSock‘
* 
sock‘
) {

105 
RTC_DCHECK
(
sock‘
 !ğ
nuÎ±r
);

106 
	gcÚÃùed_
 = 
Œue
;

107 
	gšt_sock‘_
->
S’dCÚÃùResuÉ
(0, 
sock‘
->
G‘RemÙeAdd»ss
());

110 
	gProxyBšdšg
::
OnEx‹º®R—d
(
AsyncSock‘
* 
sock‘
) {

111 
R—d
(
ext_sock‘_
.
g‘
(), &
š_bufãr_
);

112 
Wr™e
(
št_sock‘_
.
g‘
(), &
š_bufãr_
);

115 
	gProxyBšdšg
::
OnEx‹º®Wr™e
(
AsyncSock‘
* 
sock‘
) {

116 
Wr™e
(
ext_sock‘_
.
g‘
(), &
out_bufãr_
);

119 
	gProxyBšdšg
::
OnEx‹º®Clo£
(
AsyncSock‘
* 
sock‘
, 
”r
) {

120 ià(!
	gcÚÃùed_
) {

121 
	gšt_sock‘_
->
S’dCÚÃùResuÉ
(
”r
, 
Sock‘Add»ss
());

123 
De¡roy
();

126 
	gProxyBšdšg
::
R—d
(
AsyncSock‘
* 
sock‘
, 
FifoBufãr
* 
bufãr
) {

128 
RTC_DCHECK
(
sock‘
 !ğ
nuÎ±r
);

129 
size_t
 
	gsize
;

130 
	g»ad
;

131 ià(
	gbufãr
->
G‘Bufã»d
(&
size
è&& 
	gsize
 == 0) {

132 * 
p
 = 
bufãr
->
G‘Wr™eBufãr
(&
size
);

133 
	g»ad
 = 
sock‘
->
Recv
(
p
, 
size
, 
nuÎ±r
);

134 
	gbufãr
->
CÚsumeWr™eBufãr
(
¡d
::
max
(
»ad
, 0));

138 
	gProxyBšdšg
::
Wr™e
(
AsyncSock‘
* 
sock‘
, 
FifoBufãr
* 
bufãr
) {

139 
RTC_DCHECK
(
sock‘
 !ğ
nuÎ±r
);

140 
size_t
 
	gsize
;

141 
	gwr™‹n
;

142 cÚ¡ * 
	gp
 = 
bufãr
->
G‘R—dD©a
(&
size
);

143 
	gwr™‹n
 = 
sock‘
->
S’d
(
p
, 
size
);

144 
	gbufãr
->
CÚsumeR—dD©a
(
¡d
::
max
(
wr™‹n
, 0));

147 
	gProxyBšdšg
::
De¡roy
() {

148 
SigÇlDe¡royed
(
this
);

151 
AsyncProxyS”v”Sock‘
* 
	gSocksProxyS”v”
::
W¿pSock‘
(
AsyncSock‘
* 
sock‘
) {

152  
Ãw
 
AsyncSocksProxyS”v”Sock‘
(
sock‘
);

	@proxy_server.h

11 #iâdeà
RTC_BASE_PROXY_SERVER_H_


12 
	#RTC_BASE_PROXY_SERVER_H_


	)

14 
	~<memÜy
>

15 
	~<veùÜ
>

17 
	~"ab¦/memÜy/memÜy.h
"

18 
	~"¹c_ba£/async_sock‘.h
"

19 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

20 
	~"¹c_ba£/memÜy/fifo_bufãr.h
"

21 
	~"¹c_ba£/£rv”_sock‘_ad­‹rs.h
"

22 
	~"¹c_ba£/sock‘_add»ss.h
"

24 
Çme¥aû
 
	g¹c
 {

26 
şass
 
	gSock‘FaùÜy
;

35 
şass
 
	gProxyBšdšg
 : 
public
 
sig¦Ù
::
has_¦Ùs
<> {

36 
public
:

37 
ProxyBšdšg
(
AsyncProxyS”v”Sock‘
* 
š_sock‘
, 
AsyncSock‘
* 
out_sock‘
);

38 ~
ProxyBšdšg
(è
	gov”ride
;

39 
	gsig¦Ù
::
sigÇl1
<
ProxyBšdšg
*> 
SigÇlDe¡royed
;

41 
	g´iv©e
:

42 
OnCÚÃùReque¡
(
AsyncProxyS”v”Sock‘
* 
sock‘
,

43 cÚ¡ 
Sock‘Add»ss
& 
addr
);

44 
OnIÁ”ÇlR—d
(
AsyncSock‘
* 
sock‘
);

45 
OnIÁ”ÇlWr™e
(
AsyncSock‘
* 
sock‘
);

46 
OnIÁ”ÇlClo£
(
AsyncSock‘
* 
sock‘
, 
”r
);

47 
OnEx‹º®CÚÃù
(
AsyncSock‘
* 
sock‘
);

48 
OnEx‹º®R—d
(
AsyncSock‘
* 
sock‘
);

49 
OnEx‹º®Wr™e
(
AsyncSock‘
* 
sock‘
);

50 
OnEx‹º®Clo£
(
AsyncSock‘
* 
sock‘
, 
”r
);

52 
R—d
(
AsyncSock‘
* 
sock‘
, 
FifoBufãr
* 
bufãr
);

53 
Wr™e
(
AsyncSock‘
* 
sock‘
, 
FifoBufãr
* 
bufãr
);

54 
De¡roy
();

56 cÚ¡ 
	gkBufãrSize
 = 4096;

57 
	g¡d
::
unique_±r
<
AsyncProxyS”v”Sock‘
> 
št_sock‘_
;

58 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
ext_sock‘_
;

59 
boŞ
 
	gcÚÃùed_
;

60 
FifoBufãr
 
	gout_bufãr_
;

61 
FifoBufãr
 
	gš_bufãr_
;

62 
RTC_DISALLOW_COPY_AND_ASSIGN
(
ProxyBšdšg
);

65 
şass
 
	gProxyS”v”
 : 
public
 
sig¦Ù
::
has_¦Ùs
<> {

66 
public
:

67 
ProxyS”v”
(
Sock‘FaùÜy
* 
št_çùÜy
,

68 cÚ¡ 
Sock‘Add»ss
& 
št_addr
,

69 
Sock‘FaùÜy
* 
ext_çùÜy
,

70 cÚ¡ 
Sock‘Add»ss
& 
ext_
);

71 ~
ProxyS”v”
(è
	gov”ride
;

74 
Sock‘Add»ss
 
G‘S”v”Add»ss
();

76 
	g´Ùeùed
:

77 
OnAcû±Ev’t
(
AsyncSock‘
* 
sock‘
);

78 
vœtu®
 
AsyncProxyS”v”Sock‘
* 
W¿pSock‘
(
AsyncSock‘
* 
sock‘
) = 0;

80 
	g´iv©e
:

81 
Sock‘FaùÜy
* 
ext_çùÜy_
;

82 
Sock‘Add»ss
 
	gext__
;

83 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
£rv”_sock‘_
;

84 
	g¡d
::
veùÜ
<
¡d
::
unique_±r
<
ProxyBšdšg
>> 
bšdšgs_
;

85 
RTC_DISALLOW_COPY_AND_ASSIGN
(
ProxyS”v”
);

89 şas 
	cSocksProxyS”v”
 : 
public
 
ProxyS”v”
 {

90 
public
:

91 
SocksProxyS”v”
(
Sock‘FaùÜy
* 
št_çùÜy
,

92 cÚ¡ 
Sock‘Add»ss
& 
št_addr
,

93 
Sock‘FaùÜy
* 
ext_çùÜy
,

94 cÚ¡ 
Sock‘Add»ss
& 
ext_
)

95 : 
ProxyS”v”
(
št_çùÜy
, 
št_addr
, 
ext_çùÜy
, 
ext_
) {}

97 
	g´Ùeùed
:

98 
AsyncProxyS”v”Sock‘
* 
W¿pSock‘
(
AsyncSock‘
* 
sock‘
è
ov”ride
;

99 
RTC_DISALLOW_COPY_AND_ASSIGN
(
SocksProxyS”v”
);

	@proxy_unittest.cc

11 
	~<memÜy
>

12 
	~<¡ršg
>

14 
	~"¹c_ba£/gun™.h
"

15 
	~"¹c_ba£/´oxy_£rv”.h
"

16 
	~"¹c_ba£/sock‘_ad­‹rs.h
"

17 
	~"¹c_ba£/‹¡_ş›Á.h
"

18 
	~"¹c_ba£/‹¡_echo_£rv”.h
"

19 
	~"¹c_ba£/vœtu®_sock‘_£rv”.h
"

21 
usšg
 
	g¹c
::
Sock‘
;

22 
usšg
 
	g¹c
::
Sock‘Add»ss
;

24 cÚ¡ 
Sock‘Add»ss
 
kSocksProxyIÁAddr
("1.2.3.4", 1080);

25 cÚ¡ 
Sock‘Add»ss
 
kSocksProxyExtAddr
("1.2.3.5", 0);

26 cÚ¡ 
Sock‘Add»ss
 
kBogusProxyIÁAddr
("1.2.3.4", 999);

29 şas 
	cProxyTe¡
 : 
public
 ::
‹¡šg
::
Te¡
 {

30 
public
:

31 
	$ProxyTe¡
(è: 
	`ss_
(
Ãw
 
¹c
::
	`Vœtu®Sock‘S”v”
()), 
	`th»ad_
(
ss_
.
	$g‘
()) {

32 
socks_
.
	`»£t
(
Ãw
 
¹c
::
	`SocksProxyS”v”
(
ss_
.
	`g‘
(), 
kSocksProxyIÁAddr
,

33 
ss_
.
	`g‘
(), 
kSocksProxyExtAddr
));

36 
¹c
::
Sock‘S”v”
* 
	$ss
(è{  
ss_
.
	`g‘
(); 
	}
}

38 
	g´iv©e
:

39 
¡d
::
unique_±r
<
¹c
::
Sock‘S”v”
> 
ss_
;

40 
	g¹c
::
AutoSock‘S”v”Th»ad
 
th»ad_
;

41 
	g¡d
::
unique_±r
<
¹c
::
SocksProxyS”v”
> 
socks_
;

45 
	$TEST_F
(
ProxyTe¡
, 
Te¡Socks5CÚÃù
) {

46 
¹c
::
AsyncSock‘
* 
sock‘
 =

47 
	`ss
()->
	`C»©eAsyncSock‘
(
kSocksProxyIÁAddr
.
	`çmy
(), 
SOCK_STREAM
);

48 
¹c
::
AsyncSocksProxySock‘
* 
´oxy_sock‘
 = 
Ãw
„tc::
	`AsyncSocksProxySock‘
(

49 
sock‘
, 
kSocksProxyIÁAddr
, "", 
¹c
::
	`Cry±SŒšg
());

52 
¹c
::
Te¡EchoS”v”
 
	`£rv”
Ôtc::
Th»ad
::
	`Cu¼’t
(),

53 
	`Sock‘Add»ss
(
INADDR_ANY
, 0));

55 
¡d
::
unique_±r
<
¹c
::
AsyncTCPSock‘
> 
	`·ck‘_sock‘
(

56 
¹c
::
AsyncTCPSock‘
::
	`C»©e
(
´oxy_sock‘
, 
	`Sock‘Add»ss
(
INADDR_ANY
, 0),

57 
£rv”
.
	`add»ss
()));

58 
	`EXPECT_TRUE
(
·ck‘_sock‘
 !ğ
nuÎ±r
);

59 
¹c
::
Te¡Cl›Á
 
	`ş›Á
(
¡d
::
	`move
(
·ck‘_sock‘
));

61 
	`EXPECT_EQ
(
Sock‘
::
CS_CONNECTING
, 
´oxy_sock‘
->
	`G‘S‹
());

62 
	`EXPECT_TRUE
(
ş›Á
.
	`CheckCÚÃùed
());

63 
	`EXPECT_EQ
(
Sock‘
::
CS_CONNECTED
, 
´oxy_sock‘
->
	`G‘S‹
());

64 
	`EXPECT_EQ
(
£rv”
.
	`add»ss
(), 
ş›Á
.
	`»mÙe_add»ss
());

65 
ş›Á
.
	`S’d
("foo", 3);

66 
	`EXPECT_TRUE
(
ş›Á
.
	`CheckNextPack‘
("foo", 3, 
nuÎ±r
));

67 
	`EXPECT_TRUE
(
ş›Á
.
	`CheckNoPack‘
());

68 
	}
}

	@race_checker.cc

11 
	~"¹c_ba£/¿û_check”.h
"

13 
Çme¥aû
 
	g¹c
 {

15 
	gRaûCheck”
::
RaûCheck”
() {}

25 
boŞ
 
RaûCheck”
::
Acquœe
() const {

26 cÚ¡ 
PÏtfÜmTh»adRef
 
cu¼’t_th»ad
 = 
Cu¼’tTh»adRef
();

28 ià(
	gacûss_couÁ_
++ == 0)

29 
acûssšg_th»ad_
 = 
cu¼’t_th»ad
;

33 cÚ¡ 
PÏtfÜmTh»adRef
 
	gacûssšg_th»ad
 = 
acûssšg_th»ad_
;

34  
IsTh»adRefEqu®
(
acûssšg_th»ad
, 
cu¼’t_th»ad
);

37 
	gRaûCheck”
::
R–—£
() const {

38 --
acûss_couÁ_
;

41 
Çme¥aû
 
	gš‹º®
 {

42 
	gRaûCheck”Scİe
::
RaûCheck”Scİe
(cÚ¡ 
RaûCheck”
* 
¿û_check”
)

43 : 
¿û_check”_
(
¿û_check”
), 
¿û_check_ok_
Ôaû_check”->
Acquœe
()) {}

45 
boŞ
 
	gRaûCheck”Scİe
::
RaûD‘eùed
() const {

46  !
¿û_check_ok_
;

49 
	gRaûCheck”Scİe
::~
RaûCheck”Scİe
() {

50 
¿û_check”_
->
R–—£
();

	@race_checker.h

11 #iâdeà
RTC_BASE_RACE_CHECKER_H_


12 
	#RTC_BASE_RACE_CHECKER_H_


	)

14 
	~"¹c_ba£/checks.h
"

15 
	~"¹c_ba£/¶©fÜm_th»ad_ty³s.h
"

16 
	~"¹c_ba£/th»ad_ªnÙ©iÚs.h
"

18 
Çme¥aû
 
	g¹c
 {

20 
Çme¥aû
 
	gš‹º®
 {

21 
şass
 
	gRaûCheck”Scİe
;

26 şas 
	cRTC_LOCKABLE
 
	gRaûCheck”
 {

27 
	gpublic
:

28 
ä›nd
 
şass
 
š‹º®
::
RaûCheck”Scİe
;

29 
RaûCheck”
();

31 
	g´iv©e
:

32 
boŞ
 
Acquœe
(ècÚ¡ 
RTC_EXCLUSIVE_LOCK_FUNCTION
();

33 
R–—£
(ècÚ¡ 
RTC_UNLOCK_FUNCTION
();

36 
mubË
 vŞ©
	gacûss_couÁ_
 = 0;

37 
mubË
 vŞ©
PÏtfÜmTh»adRef
 
	gacûssšg_th»ad_
;

40 
Çme¥aû
 
	gš‹º®
 {

41 şas 
	cRTC_SCOPED_LOCKABLE
 
	gRaûCheck”Scİe
 {

42 
	gpublic
:

43 
ex¶ic™
 
RaûCheck”Scİe
(cÚ¡ 
RaûCheck”
* 
¿û_check”
)

44 
RTC_EXCLUSIVE_LOCK_FUNCTION
(
¿û_check”
);

46 
boŞ
 
RaûD‘eùed
() const;

47 ~
RaûCheck”Scİe
(è
RTC_UNLOCK_FUNCTION
();

49 
	g´iv©e
:

50 cÚ¡ 
RaûCheck”
* cÚ¡ 
¿û_check”_
;

51 cÚ¡ 
boŞ
 
	g¿û_check_ok_
;

54 şas 
	cRTC_SCOPED_LOCKABLE
 
	gRaûCheck”ScİeDoNÙhšg
 {

55 
	gpublic
:

56 
ex¶ic™
 
RaûCheck”ScİeDoNÙhšg
(cÚ¡ 
RaûCheck”
* 
¿û_check”
)

57 
RTC_EXCLUSIVE_LOCK_FUNCTION
(
¿û_check”
) {}

59 ~
RaûCheck”ScİeDoNÙhšg
(è
RTC_UNLOCK_FUNCTION
() {}

65 
	#RTC_CHECK_RUNS_SERIALIZED
(
x
) \

66 
¹c
::
š‹º®
::
RaûCheck”Scİe
 
	`¿û_check”
(
x
); \

67 
	`RTC_CHECK
(!
¿û_check”
.
	`RaûD‘eùed
())

	)

69 #ià
RTC_DCHECK_IS_ON


70 
	#RTC_DCHECK_RUNS_SERIALIZED
(
x
) \

71 
¹c
::
š‹º®
::
RaûCheck”Scİe
 
	`¿û_check”
(
x
); \

72 
	`RTC_DCHECK
(!
¿û_check”
.
	`RaûD‘eùed
())

	)

74 
	#RTC_DCHECK_RUNS_SERIALIZED
(
x
) \

75 
¹c
::
š‹º®
::
RaûCheck”ScİeDoNÙhšg
 
	`¿û_check”
(
x
)

	)

	@random.cc

10 
	~"¹c_ba£/¿ndom.h
"

12 
	~<m©h.h
>

14 
	~"¹c_ba£/checks.h
"

15 
	~"¹c_ba£/num”ics/§ã_cÚv”siÚs.h
"

17 
Çme¥aû
 
	gweb¹c
 {

19 
	gRªdom
::
Rªdom
(
ušt64_t
 
£ed
) {

20 
RTC_DCHECK
(
£ed
 != 0x0ull);

21 
	g¡©e_
 = 
£ed
;

24 
ušt32_t
 
	gRªdom
::
Rªd
(ušt32_ˆ
t
) {

29 
ušt32_t
 
x
 = 
NextOuut
();

32 
ušt64_t
 
	g»suÉ
 = 
x
 * (
¡©ic_ÿ¡
<ušt64_t>(
t
) + 1);

33 
	g»suÉ
 >>= 32;

34  
	g»suÉ
;

37 
ušt32_t
 
	gRªdom
::
Rªd
(ušt32_ˆ
low
, ušt32_ˆ
high
) {

38 
RTC_DCHECK
(
low
 <ğ
high
);

39  
Rªd
(
high
 - 
low
è+ 
	glow
;

42 
št32_t
 
	gRªdom
::
Rªd
(št32_ˆ
low
, iÁ32_ˆ
high
) {

43 
RTC_DCHECK
(
low
 <ğ
high
);

44 cÚ¡ 
št64_t
 
	glow_i64
{
	glow
};

45  
	g¹c
::
dchecked_ÿ¡
<
št32_t
>(

46 
Rªd
(
¹c
::
dchecked_ÿ¡
<
ušt32_t
>(
high
 - 
low_i64
)) +†ow_i64);

49 
	g‹m¶©e
 <>

50 
	gRªdom
::
Rªd
<>() {

51 
»suÉ
 = 
NextOuut
() - 1;

52 
	g»suÉ
 = 
»suÉ
 / 0xFFFFFFFFFFFFFFFEull;

53  
	g¡©ic_ÿ¡
<>(
	g»suÉ
);

56 
	g‹m¶©e
 <>

57 
	gRªdom
::
Rªd
<>() {

58 
»suÉ
 = 
NextOuut
() - 1;

59 
	g»suÉ
 = 
»suÉ
 / 0xFFFFFFFFFFFFFFFEull;

60  
	g»suÉ
;

63 
	g‹m¶©e
 <>

64 
boŞ
 
	gRªdom
::
Rªd
<bool>() {

65  
Rªd
(0, 1) == 1;

68 
	gRªdom
::
GaussŸn
(
m—n
, 
¡ªd¬d_devŸtiÚ
) {

74 cÚ¡ 
	gkPi
 = 3.14159265358979323846;

75 
	gu1
 = 
¡©ic_ÿ¡
<>(
NextOuut
()) / 0xFFFFFFFFFFFFFFFFull;

76 
	gu2
 = 
¡©ic_ÿ¡
<>(
NextOuut
()) / 0xFFFFFFFFFFFFFFFFull;

77  
	gm—n
 + 
¡ªd¬d_devŸtiÚ
 * 
sq¹
(-2 * 
log
(
u1
)è* 
cos
(2 * 
kPi
 * 
u2
);

80 
	gRªdom
::
ExpÚ’tŸl
(
Ïmbda
) {

81 
unifÜm
 = 
Rªd
<>();

82  -
log
(
unifÜm
è/ 
	gÏmbda
;

	@random.h

11 #iâdeà
RTC_BASE_RANDOM_H_


12 
	#RTC_BASE_RANDOM_H_


	)

14 
	~<¡dšt.h
>

16 
	~<lim™s
>

18 
	~"¹c_ba£/checks.h
"

19 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

21 
Çme¥aû
 
	gweb¹c
 {

23 şas 
	cRªdom
 {

24 
	gpublic
:

36 
ex¶ic™
 
Rªdom
(
ušt64_t
 
£ed
);

40 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

41 
T
 
Rªd
() {

42 
¡©ic_as£¹
(
¡d
::
num”ic_lim™s
<
T
>::
is_š‹g”
 &&

43 
¡d
::
num”ic_lim™s
<
T
>::
¿dix
 == 2 &&

44 
¡d
::
num”ic_lim™s
<
T
>::
dig™s
 <= 32,

47  
	g¡©ic_ÿ¡
<
	gT
>(
NextOuut
());

51 
ušt32_t
 
Rªd
(ušt32_ˆ
t
);

54 
ušt32_t
 
Rªd
(ušt32_ˆ
low
, ušt32_ˆ
high
);

57 
št32_t
 
Rªd
(št32_ˆ
low
, iÁ32_ˆ
high
);

60 
GaussŸn
(
m—n
, 
¡ªd¬d_devŸtiÚ
);

63 
ExpÚ’tŸl
(
Ïmbda
);

65 
	g´iv©e
:

67 
ušt64_t
 
NextOuut
() {

68 
¡©e_
 ^= state_ >> 12;

69 
	g¡©e_
 ^ğ
¡©e_
 << 25;

70 
	g¡©e_
 ^ğ
¡©e_
 >> 27;

71 
RTC_DCHECK
(
¡©e_
 != 0x0ULL);

72  
	g¡©e_
 * 2685821657736338717ull;

75 
ušt64_t
 
	g¡©e_
;

77 
RTC_DISALLOW_IMPLICIT_CONSTRUCTORS
(
Rªdom
);

81 
	g‹m¶©e
 <>

82 
	gRªdom
::
Rªd
<>();

85 
	g‹m¶©e
 <>

86 
	gRªdom
::
Rªd
<>();

89 
	g‹m¶©e
 <>

90 
boŞ
 
	gRªdom
::
Rªd
<bool>();

	@random_unittest.cc

11 
	~"¹c_ba£/¿ndom.h
"

13 
	~<m©h.h
>

15 
	~<lim™s
>

16 
	~<veùÜ
>

18 
	~"¹c_ba£/num”ics/m©h_uts.h
"

19 
	~"‹¡/g‹¡.h
"

21 
Çme¥aû
 
	gweb¹c
 {

23 
	gÇme¥aû
 {

25 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

26 
T
 
fdiv_»mašd”
(T 
x
, T 
n
) {

27 
RTC_CHECK_GE
(
n
, 0);

28 
T
 
	g»mašd”
 = 
x
 % 
n
;

29 ià(
	g»mašd”
 < 0)

30 
	g»mašd”
 +ğ
n
;

31  
	g»mašd”
;

38 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

39 
UnifÜmBuck‘Te¡
(
T
 
buck‘_couÁ
, 
§m¶es
, 
Rªdom
* 
´ng
) {

40 
	g¡d
::
veùÜ
<> 
buck‘s
(
buck‘_couÁ
, 0);

42 
ušt64_t
 
	gtÙ®_v®ues
 = 1uÎ << (
¡d
::
num”ic_lim™s
<
T
>::
dig™s
 +

43 
¡d
::
num”ic_lim™s
<
T
>::
is_sigÃd
);

44 
T
 
	guµ”_lim™
 =

45 
¡d
::
num”ic_lim™s
<
T
>::
max
() -

46 
¡©ic_ÿ¡
<
T
>(
tÙ®_v®ues
 % stic_ÿ¡<
ušt64_t
>(
buck‘_couÁ
));

47 
ASSERT_GT
(
uµ”_lim™
, 
¡d
::
num”ic_lim™s
<
T
>::
max
() / 2);

49 
	gi
 = 0; i < 
	g§m¶es
; i++) {

50 
T
 
	g§m¶e
;

56 
	g§m¶e
 = 
´ng
->
Rªd
<
T
>();

57 } 
	g§m¶e
 > 
	guµ”_lim™
);

58 
	gbuck‘s
[
fdiv_»mašd”
(
§m¶e
, 
buck‘_couÁ
)]++;

61 
T
 
	gi
 = 0; i < 
	gbuck‘_couÁ
; i++) {

63 
EXPECT_NEAR
(
buck‘s
[
i
], 
§m¶es
 / 
buck‘_couÁ
,

64 3 * 
sq¹
(
§m¶es
 / 
buck‘_couÁ
));

68 
TEST
(
RªdomNumb”G’”©ÜTe¡
, 
Buck‘Te¡SigÃdCh¬
) {

69 
Rªdom
 
´ng
(7297352569824ull);

70 
	gUnifÜmBuck‘Te¡
<sigÃd >(64, 640000, &
	g´ng
);

71 
	gUnifÜmBuck‘Te¡
<sigÃd >(11, 440000, &
	g´ng
);

72 
	gUnifÜmBuck‘Te¡
<sigÃd >(3, 270000, &
	g´ng
);

75 
TEST
(
RªdomNumb”G’”©ÜTe¡
, 
Buck‘Te¡UnsigÃdCh¬
) {

76 
Rªdom
 
´ng
(7297352569824ull);

77 
	gUnifÜmBuck‘Te¡
<>(64, 640000, &
	g´ng
);

78 
	gUnifÜmBuck‘Te¡
<>(11, 440000, &
	g´ng
);

79 
	gUnifÜmBuck‘Te¡
<>(3, 270000, &
	g´ng
);

82 
TEST
(
RªdomNumb”G’”©ÜTe¡
, 
Buck‘Te¡SigÃdShÜt
) {

83 
Rªdom
 
´ng
(7297352569824ull);

84 
	gUnifÜmBuck‘Te¡
<
	gšt16_t
>(64, 640000, &
	g´ng
);

85 
	gUnifÜmBuck‘Te¡
<
	gšt16_t
>(11, 440000, &
	g´ng
);

86 
	gUnifÜmBuck‘Te¡
<
	gšt16_t
>(3, 270000, &
	g´ng
);

89 
TEST
(
RªdomNumb”G’”©ÜTe¡
, 
Buck‘Te¡UnsigÃdShÜt
) {

90 
Rªdom
 
´ng
(7297352569824ull);

91 
	gUnifÜmBuck‘Te¡
<
	gušt16_t
>(64, 640000, &
	g´ng
);

92 
	gUnifÜmBuck‘Te¡
<
	gušt16_t
>(11, 440000, &
	g´ng
);

93 
	gUnifÜmBuck‘Te¡
<
	gušt16_t
>(3, 270000, &
	g´ng
);

96 
TEST
(
RªdomNumb”G’”©ÜTe¡
, 
Buck‘Te¡SigÃdIÁ
) {

97 
Rªdom
 
´ng
(7297352569824ull);

98 
	gUnifÜmBuck‘Te¡
<sigÃd >(64, 640000, &
	g´ng
);

99 
	gUnifÜmBuck‘Te¡
<sigÃd >(11, 440000, &
	g´ng
);

100 
	gUnifÜmBuck‘Te¡
<sigÃd >(3, 270000, &
	g´ng
);

103 
TEST
(
RªdomNumb”G’”©ÜTe¡
, 
Buck‘Te¡UnsigÃdIÁ
) {

104 
Rªdom
 
´ng
(7297352569824ull);

105 
	gUnifÜmBuck‘Te¡
<>(64, 640000, &
	g´ng
);

106 
	gUnifÜmBuck‘Te¡
<>(11, 440000, &
	g´ng
);

107 
	gUnifÜmBuck‘Te¡
<>(3, 270000, &
	g´ng
);

113 
Buck‘Te¡SigÃdIÁ”v®
(
buck‘_couÁ
,

114 
§m¶es
,

115 
št32_t
 
low
,

116 
št32_t
 
high
,

117 
sigma_Ëv–
,

118 
Rªdom
* 
´ng
) {

119 
	g¡d
::
veùÜ
<> 
buck‘s
(
buck‘_couÁ
, 0);

121 
ASSERT_GE
(
high
, 
low
);

122 
ASSERT_GE
(
buck‘_couÁ
, 2u);

123 
ušt32_t
 
	gš‹rv®
 = 
unsigÃd_difã»nû
<
št32_t
>(
high
, 
	glow
) + 1;

124 
ušt32_t
 
	gnumb”s_³r_buck‘
;

125 ià(
	gš‹rv®
 == 0) {

128 
ASSERT_EQ
(
buck‘_couÁ
 & (bucket_count - 1), 0u);

129 
	gnumb”s_³r_buck‘
 = (0x80000000u / 
buck‘_couÁ
) * 2;

131 
ASSERT_EQ
(
š‹rv®
 % 
buck‘_couÁ
, 0u);

132 
	gnumb”s_³r_buck‘
 = 
š‹rv®
 / 
buck‘_couÁ
;

135 
	gi
 = 0; i < 
	g§m¶es
; i++) {

136 
št32_t
 
	g§m¶e
 = 
´ng
->
Rªd
(
low
, 
high
);

137 
EXPECT_LE
(
low
, 
§m¶e
);

138 
EXPECT_GE
(
high
, 
§m¶e
);

139 
	gbuck‘s
[
unsigÃd_difã»nû
<
št32_t
>(
§m¶e
, 
low
è/ 
numb”s_³r_buck‘
]++;

142 
	gi
 = 0; i < 
	gbuck‘_couÁ
; i++) {

145 
	gm—n
 = 
¡©ic_ÿ¡
<>(
§m¶es
è/ 
buck‘_couÁ
;

146 
EXPECT_NEAR
(
buck‘s
[
i
], 
m—n
, 
sigma_Ëv–
 * 
sq¹
(mean));

153 
Buck‘Te¡UnsigÃdIÁ”v®
(
buck‘_couÁ
,

154 
§m¶es
,

155 
ušt32_t
 
low
,

156 
ušt32_t
 
high
,

157 
sigma_Ëv–
,

158 
Rªdom
* 
´ng
) {

159 
	g¡d
::
veùÜ
<> 
buck‘s
(
buck‘_couÁ
, 0);

161 
ASSERT_GE
(
high
, 
low
);

162 
ASSERT_GE
(
buck‘_couÁ
, 2u);

163 
ušt32_t
 
	gš‹rv®
 = 
high
 - 
low
 + 1;

164 
ušt32_t
 
	gnumb”s_³r_buck‘
;

165 ià(
	gš‹rv®
 == 0) {

168 
ASSERT_EQ
(
buck‘_couÁ
 & (bucket_count - 1), 0u);

169 
	gnumb”s_³r_buck‘
 = (0x80000000u / 
buck‘_couÁ
) * 2;

171 
ASSERT_EQ
(
š‹rv®
 % 
buck‘_couÁ
, 0u);

172 
	gnumb”s_³r_buck‘
 = 
š‹rv®
 / 
buck‘_couÁ
;

175 
	gi
 = 0; i < 
	g§m¶es
; i++) {

176 
ušt32_t
 
	g§m¶e
 = 
´ng
->
Rªd
(
low
, 
high
);

177 
EXPECT_LE
(
low
, 
§m¶e
);

178 
EXPECT_GE
(
high
, 
§m¶e
);

179 
	gbuck‘s
[(
§m¶e
 - 
low
è/ 
numb”s_³r_buck‘
]++;

182 
	gi
 = 0; i < 
	gbuck‘_couÁ
; i++) {

185 
	gm—n
 = 
¡©ic_ÿ¡
<>(
§m¶es
è/ 
buck‘_couÁ
;

186 
EXPECT_NEAR
(
buck‘s
[
i
], 
m—n
, 
sigma_Ëv–
 * 
sq¹
(mean));

190 
TEST
(
RªdomNumb”G’”©ÜTe¡
, 
UnifÜmUnsigÃdIÁ”v®
) {

191 
Rªdom
 
´ng
(299792458ull);

192 
Buck‘Te¡UnsigÃdIÁ”v®
(2, 100000, 0, 1, 3, &
´ng
);

193 
Buck‘Te¡UnsigÃdIÁ”v®
(7, 100000, 1, 14, 3, &
´ng
);

194 
Buck‘Te¡UnsigÃdIÁ”v®
(11, 100000, 1000, 1010, 3, &
´ng
);

195 
Buck‘Te¡UnsigÃdIÁ”v®
(100, 100000, 0, 99, 3, &
´ng
);

196 
Buck‘Te¡UnsigÃdIÁ”v®
(2, 100000, 0, 4294967295, 3, &
´ng
);

197 
Buck‘Te¡UnsigÃdIÁ”v®
(17, 100000, 455, 2147484110, 3, &
´ng
);

200 
Buck‘Te¡UnsigÃdIÁ”v®
(1000, 1000000, 0, 2147483999, 4, &
´ng
);

203 
TEST
(
RªdomNumb”G’”©ÜTe¡
, 
UnifÜmSigÃdIÁ”v®
) {

204 
Rªdom
 
´ng
(66260695729ull);

205 
Buck‘Te¡SigÃdIÁ”v®
(2, 100000, 0, 1, 3, &
´ng
);

206 
Buck‘Te¡SigÃdIÁ”v®
(7, 100000, -2, 4, 3, &
´ng
);

207 
Buck‘Te¡SigÃdIÁ”v®
(11, 100000, 1000, 1010, 3, &
´ng
);

208 
Buck‘Te¡SigÃdIÁ”v®
(100, 100000, 0, 99, 3, &
´ng
);

209 
Buck‘Te¡SigÃdIÁ”v®
(2, 100000, 
¡d
::
num”ic_lim™s
<
št32_t
>::
mš
(),

210 
¡d
::
num”ic_lim™s
<
št32_t
>::
max
(), 3, &
´ng
);

211 
Buck‘Te¡SigÃdIÁ”v®
(17, 100000, -1073741826, 1073741829, 3, &
´ng
);

214 
Buck‘Te¡SigÃdIÁ”v®
(1000, 1000000, -352, 2147483647, 4, &
´ng
);

220 
Buck‘Te¡Flßt
(
buck‘_couÁ
,

221 
§m¶es
,

222 
sigma_Ëv–
,

223 
Rªdom
* 
´ng
) {

224 
ASSERT_GE
(
buck‘_couÁ
, 2u);

225 
	g¡d
::
veùÜ
<> 
buck‘s
(
buck‘_couÁ
, 0);

227 
	gi
 = 0; i < 
	g§m¶es
; i++) {

228 
ušt32_t
 
	g§m¶e
 = 
buck‘_couÁ
 * 
´ng
->
Rªd
<>();

229 
EXPECT_LE
(0u, 
§m¶e
);

230 
EXPECT_GE
(
buck‘_couÁ
 - 1, 
§m¶e
);

231 
	gbuck‘s
[
§m¶e
]++;

234 
	gi
 = 0; i < 
	gbuck‘_couÁ
; i++) {

237 
	gm—n
 = 
¡©ic_ÿ¡
<>(
§m¶es
è/ 
buck‘_couÁ
;

238 
EXPECT_NEAR
(
buck‘s
[
i
], 
m—n
, 
sigma_Ëv–
 * 
sq¹
(mean));

242 
TEST
(
RªdomNumb”G’”©ÜTe¡
, 
UnifÜmFlßtIÁ”v®
) {

243 
Rªdom
 
´ng
(1380648813ull);

244 
Buck‘Te¡Flßt
(100, 100000, 3, &
´ng
);

250 
TEST
(
RªdomNumb”G’”©ÜTe¡
, 
SigÃdHasSameB™P©‹º
) {

251 
Rªdom
 
´ng_sigÃd
(66738480uÎ), 
´ng_unsigÃd
(66738480ull);

253 
	gi
 = 0; i < 1000; i++) {

254 sigÃd 
	gs
 = 
´ng_sigÃd
.
Rªd
<signed >();

255 
	gu
 = 
´ng_unsigÃd
.
Rªd
<>();

256 
EXPECT_EQ
(
u
, 
¡©ic_ÿ¡
<>(
s
));

259 
	gi
 = 0; i < 1000; i++) {

260 
št16_t
 
	gs
 = 
´ng_sigÃd
.
Rªd
<int16_t>();

261 
ušt16_t
 
	gu
 = 
´ng_unsigÃd
.
Rªd
<uint16_t>();

262 
EXPECT_EQ
(
u
, 
¡©ic_ÿ¡
<
ušt16_t
>(
s
));

265 
	gi
 = 0; i < 1000; i++) {

266 sigÃd 
	gs
 = 
´ng_sigÃd
.
Rªd
<signed >();

267 
	gu
 = 
´ng_unsigÃd
.
Rªd
<>();

268 
EXPECT_EQ
(
u
, 
¡©ic_ÿ¡
<>(
s
));

272 
TEST
(
RªdomNumb”G’”©ÜTe¡
, 
GaussŸn
) {

273 cÚ¡ 
	gkN
 = 100000;

274 cÚ¡ 
	gkBuck‘s
 = 100;

275 cÚ¡ 
	gkM—n
 = 49;

276 cÚ¡ 
	gkStddev
 = 10;

278 
Rªdom
 
´ng
(1256637061);

280 
	g¡d
::
veùÜ
<> 
buck‘s
(
kBuck‘s
, 0);

281 
	gi
 = 0; i < 
	gkN
; i++) {

282 
	gšdex
 = 
´ng
.
GaussŸn
(
kM—n
, 
kStddev
) + 0.5;

283 ià(
	gšdex
 >ğ0 && 
šdex
 < 
kBuck‘s
) {

284 
buck‘s
[
šdex
]++;

288 cÚ¡ 
	gkPi
 = 3.14159265358979323846;

289 cÚ¡ 
	gkSÿË
 = 1 / (
kStddev
 * 
sq¹
(2.0 * 
kPi
));

290 cÚ¡ 
	gkDiv
 = -2.0 * 
kStddev
 * kStddev;

291 
	gn
 = 0;‚ < 
	gkBuck‘s
; ++n) {

294 
	gf_Ëá
 = 
kSÿË
 * 
exp
((
n
 - 
kM—n
 - 0.5è* (À- kM—À- 0.5è/ 
kDiv
);

295 
	gf_mid
 = 
kSÿË
 * 
exp
((
n
 - 
kM—n
è* (À- kM—nè/ 
kDiv
);

296 
	gf_right
 = 
kSÿË
 * 
exp
((
n
 - 
kM—n
 + 0.5è* (À- kM—À+ 0.5è/ 
kDiv
);

297 
	gnÜm®_di¡
 = (
f_Ëá
 + 4 * 
f_mid
 + 
f_right
) / 6;

300 
EXPECT_NEAR
(
buck‘s
[
n
], 
kN
 * 
nÜm®_di¡
, 3 * 
sq¹
(kN *‚ormal_dist) + 1);

	@rate_limiter.cc

11 
	~"¹c_ba£/¿‹_lim™”.h
"

13 
	~<lim™s
>

15 
	~"ab¦/ty³s/İtiÚ®.h
"

16 
	~"sy¡em_w¿µ”s/šşude/şock.h
"

18 
Çme¥aû
 
	gweb¹c
 {

20 
	gR©eLim™”
::
R©eLim™”
(
Clock
* 
şock
, 
št64_t
 
max_wšdow_ms
)

21 : 
şock_
(
şock
),

22 
cu¼’t_¿‹_
(
max_wšdow_ms
, 
R©eSti¡ics
::
kBpsSÿË
),

23 
wšdow_size_ms_
(
max_wšdow_ms
),

24 
max_¿‹_bps_
(
¡d
::
num”ic_lim™s
<
ušt32_t
>::
max
()) {}

26 
R©eLim™”
::~RateLimiter() {}

33 
boŞ
 
R©eLim™”
::
TryU£R©e
(
size_t
 
·ck‘_size_by‹s
) {

34 
¹c
::
Cr™Scİe
 
cs
(&
lock_
);

35 
št64_t
 
	gnow_ms
 = 
şock_
->
TimeInMli£cÚds
();

36 
	gab¦
::
İtiÚ®
<
ušt32_t
> 
cu¼’t_¿‹
 = 
cu¼’t_¿‹_
.
R©e
(
now_ms
);

37 ià(
	gcu¼’t_¿‹
) {

45 
size_t
 
	gb™¿‹_add™iÚ_bps
 =

46 (
·ck‘_size_by‹s
 * 8 * 1000è/ 
wšdow_size_ms_
;

47 ià(*
	gcu¼’t_¿‹
 + 
	gb™¿‹_add™iÚ_bps
 > 
	gmax_¿‹_bps_
)

48  
	gçl£
;

51 
	gcu¼’t_¿‹_
.
Upd©e
(
·ck‘_size_by‹s
, 
now_ms
);

52  
	gŒue
;

55 
	gR©eLim™”
::
S‘MaxR©e
(
ušt32_t
 
max_¿‹_bps
) {

56 
¹c
::
Cr™Scİe
 
cs
(&
lock_
);

57 
	gmax_¿‹_bps_
 = 
max_¿‹_bps
;

62 
boŞ
 
	gR©eLim™”
::
S‘WšdowSize
(
št64_t
 
wšdow_size_ms
) {

63 
¹c
::
Cr™Scİe
 
cs
(&
lock_
);

64 
	gwšdow_size_ms_
 = 
wšdow_size_ms
;

65  
	gcu¼’t_¿‹_
.
S‘WšdowSize
(
wšdow_size_ms
,

66 
şock_
->
TimeInMli£cÚds
());

	@rate_limiter.h

11 #iâdeà
RTC_BASE_RATE_LIMITER_H_


12 
	#RTC_BASE_RATE_LIMITER_H_


	)

14 
	~<¡ddef.h
>

15 
	~<¡dšt.h
>

17 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

18 
	~"¹c_ba£/ü™iÿl_£ùiÚ.h
"

19 
	~"¹c_ba£/¿‹_¡©i¡ics.h
"

20 
	~"¹c_ba£/th»ad_ªnÙ©iÚs.h
"

22 
Çme¥aû
 
	gweb¹c
 {

24 
şass
 
	gClock
;

29 şas 
	cR©eLim™”
 {

30 
	gpublic
:

31 
R©eLim™”
(
Clock
* 
şock
, 
št64_t
 
max_wšdow_ms
);

32 ~
R©eLim™”
();

36 
boŞ
 
TryU£R©e
(
size_t
 
·ck‘_size_by‹s
);

39 
S‘MaxR©e
(
ušt32_t
 
max_¿‹_bps
);

44 
boŞ
 
S‘WšdowSize
(
št64_t
 
wšdow_size_ms
);

46 
	g´iv©e
:

47 
Clock
* cÚ¡ 
şock_
;

48 
	g¹c
::
Cr™iÿlSeùiÚ
 
lock_
;

49 
R©eSti¡ics
 
cu¼’t_¿‹_
 
RTC_GUARDED_BY
(
lock_
);

50 
št64_t
 
wšdow_size_ms_
 
RTC_GUARDED_BY
(
lock_
);

51 
ušt32_t
 
max_¿‹_bps_
 
RTC_GUARDED_BY
(
lock_
);

53 
RTC_DISALLOW_IMPLICIT_CONSTRUCTORS
(
R©eLim™”
);

	@rate_limiter_unittest.cc

11 
	~"¹c_ba£/¿‹_lim™”.h
"

13 
	~<memÜy
>

15 
	~"¹c_ba£/ev’t.h
"

16 
	~"¹c_ba£/¶©fÜm_th»ad.h
"

17 
	~"sy¡em_w¿µ”s/šşude/şock.h
"

18 
	~"‹¡/g‹¡.h
"

20 
Çme¥aû
 
	gweb¹c
 {

22 şas 
	cR©eLim™Te¡
 : 
public
 ::
‹¡šg
::
Te¡
 {

23 
public
:

24 
R©eLim™Te¡
()

25 : 
şock_
(0), 
¿‹_lim™”
(
Ãw
 
R©eLim™”
(&şock_, 
kWšdowSizeMs
)) {}

26 ~
R©eLim™Te¡
(è
	gov”ride
 {}

28 
S‘Up
(è
	gov”ride
 { 
	g¿‹_lim™”
->
S‘MaxR©e
(
kMaxR©eBps
); }

30 
	g´Ùeùed
:

31 
cÚ¡ex´
 
št64_t
 
kWšdowSizeMs
 = 1000;

32 
cÚ¡ex´
 
ušt32_t
 
	gkMaxR©eBps
 = 100000;

34 
cÚ¡ex´
 
size_t
 
	gkR©eFlšgBy‹s
 =

35 (
kMaxR©eBps
 * 
kWšdowSizeMs
) / (8 * 1000);

36 
SimuÏ‹dClock
 
	gşock_
;

37 
	g¡d
::
unique_±r
<
R©eLim™”
> 
¿‹_lim™”
;

40 
	$TEST_F
(
R©eLim™Te¡
, 
Inü—sšgMaxR©e
) {

42 
	`EXPECT_TRUE
(
¿‹_lim™”
->
	`TryU£R©e
(
kR©eFlšgBy‹s
 / 2));

43 
şock_
.
	`AdvªûTimeMli£cÚds
(
kWšdowSizeMs
 - 1);

44 
	`EXPECT_TRUE
(
¿‹_lim™”
->
	`TryU£R©e
(
kR©eFlšgBy‹s
 / 2));

47 
	`EXPECT_FALSE
(
¿‹_lim™”
->
	`TryU£R©e
(1));

50 
¿‹_lim™”
->
	`S‘MaxR©e
(
kMaxR©eBps
 * 2);

51 
	`EXPECT_TRUE
(
¿‹_lim™”
->
	`TryU£R©e
(
kR©eFlšgBy‹s
));

54 
	`EXPECT_FALSE
(
¿‹_lim™”
->
	`TryU£R©e
(1));

55 
	}
}

57 
	$TEST_F
(
R©eLim™Te¡
, 
Deü—sšgMaxR©e
) {

59 
	`EXPECT_TRUE
(
¿‹_lim™”
->
	`TryU£R©e
(
kR©eFlšgBy‹s
 / 2));

60 
şock_
.
	`AdvªûTimeMli£cÚds
(
kWšdowSizeMs
 - 1);

61 
	`EXPECT_TRUE
(
¿‹_lim™”
->
	`TryU£R©e
(
kR©eFlšgBy‹s
 / 2));

64 
	`EXPECT_FALSE
(
¿‹_lim™”
->
	`TryU£R©e
(1));

67 
¿‹_lim™”
->
	`S‘MaxR©e
(
kMaxR©eBps
 / 2);

68 
şock_
.
	`AdvªûTimeMli£cÚds
(1);

71 
	`EXPECT_FALSE
(
¿‹_lim™”
->
	`TryU£R©e
(1));

72 
	}
}

74 
	$TEST_F
(
R©eLim™Te¡
, 
ChªgšgWšdowSize
) {

76 
	`EXPECT_TRUE
(
¿‹_lim™”
->
	`TryU£R©e
(
kR©eFlšgBy‹s
 / 2));

77 
şock_
.
	`AdvªûTimeMli£cÚds
(
kWšdowSizeMs
 - 1);

78 
	`EXPECT_TRUE
(
¿‹_lim™”
->
	`TryU£R©e
(
kR©eFlšgBy‹s
 / 2));

81 
	`EXPECT_FALSE
(
¿‹_lim™”
->
	`TryU£R©e
(1));

84 
¿‹_lim™”
->
	`S‘WšdowSize
(
kWšdowSizeMs
 / 2);

86 
	`EXPECT_FALSE
(
¿‹_lim™”
->
	`TryU£R©e
(1));

90 
¿‹_lim™”
->
	`S‘WšdowSize
(
kWšdowSizeMs
);

91 
	`EXPECT_TRUE
(
¿‹_lim™”
->
	`TryU£R©e
(
kR©eFlšgBy‹s
 / 2));

94 
	`EXPECT_FALSE
(
¿‹_lim™”
->
	`TryU£R©e
(1));

95 
	}
}

97 
	$TEST_F
(
R©eLim™Te¡
, 
SšgËU§geAlwaysOk
) {

99 
	`EXPECT_TRUE
(
¿‹_lim™”
->
	`TryU£R©e
(
kR©eFlšgBy‹s
 + 1));

100 
	}
}

102 
	$TEST_F
(
R©eLim™Te¡
, 
WšdowSizeLim™s
) {

103 
	`EXPECT_TRUE
(
¿‹_lim™”
->
	`S‘WšdowSize
(1));

104 
	`EXPECT_FALSE
(
¿‹_lim™”
->
	`S‘WšdowSize
(0));

105 
	`EXPECT_TRUE
(
¿‹_lim™”
->
	`S‘WšdowSize
(
kWšdowSizeMs
));

106 
	`EXPECT_FALSE
(
¿‹_lim™”
->
	`S‘WšdowSize
(
kWšdowSizeMs
 + 1));

107 
	}
}

109 cÚ¡ 
št64_t
 
	gkMaxTimeoutMs
 = 30000;

111 şas 
	cTh»adTask
 {

112 
	gpublic
:

113 
ex¶ic™
 
Th»adTask
(
R©eLim™”
* 
¿‹_lim™”
)

114 : 
¿‹_lim™”_
(
¿‹_lim™”
) {}

115 
vœtu®
 ~
Th»adTask
() {}

117 
Run
() {

118 
¡¬t_sigÇl_
.
Wa™
(
kMaxTimeoutMs
);

119 
DoRun
();

120 
	g’d_sigÇl_
.
S‘
();

123 
vœtu®
 
DoRun
() = 0;

125 
R©eLim™”
* cÚ¡ 
	g¿‹_lim™”_
;

126 
	g¹c
::
Ev’t
 
¡¬t_sigÇl_
;

127 
	g¹c
::
Ev’t
 
’d_sigÇl_
;

130 
	$RunTask
(* 
th»ad_sk
) {

131 
»š‹½»t_ÿ¡
<
Th»adTask
*>(
th»ad_sk
)->
	`Run
();

132 
	}
}

134 
	$TEST_F
(
R©eLim™Te¡
, 
MuÉiTh»adedU§ge
) {

142 şas 
	cS‘WšdowSizeTask
 : 
public
 
Th»adTask
 {

143 
public
:

144 
ex¶ic™
 
	`S‘WšdowSizeTask
(
R©eLim™”
* 
¿‹_lim™”
)

145 : 
	`Th»adTask
(
¿‹_lim™”
) {}

146 ~
	`S‘WšdowSizeTask
(è
ov”ride
 {}

148 
	`DoRun
(è
ov”ride
 {

149 
	`EXPECT_TRUE
(
¿‹_lim™”_
->
	`S‘WšdowSize
(
kWšdowSizeMs
 / 2));

151 } 
	`£t_wšdow_size_sk
(
¿‹_lim™”
.
	`g‘
());

152 
¹c
::
PÏtfÜmTh»ad
 
	`th»ad1
(
RunTask
, &
£t_wšdow_size_sk
, "Thread1");

153 
th»ad1
.
	`S¹
();

155 şas 
	cS‘MaxR©eTask
 : 
public
 
Th»adTask
 {

156 
public
:

157 
ex¶ic™
 
	`S‘MaxR©eTask
(
R©eLim™”
* 
¿‹_lim™”
)

158 : 
	`Th»adTask
(
¿‹_lim™”
) {}

159 ~
	`S‘MaxR©eTask
(è
ov”ride
 {}

161 
	`DoRun
(è
ov”ride
 { 
¿‹_lim™”_
->
	`S‘MaxR©e
(
kMaxR©eBps
 * 2); }

162 } 
	`£t_max_¿‹_sk
(
¿‹_lim™”
.
	`g‘
());

163 
¹c
::
PÏtfÜmTh»ad
 
	`th»ad2
(
RunTask
, &
£t_max_¿‹_sk
, "Thread2");

164 
th»ad2
.
	`S¹
();

166 şas 
	cU£R©eTask
 : 
public
 
Th»adTask
 {

167 
public
:

168 
	`U£R©eTask
(
R©eLim™”
* 
¿‹_lim™”
, 
SimuÏ‹dClock
* 
şock
)

169 : 
	`Th»adTask
(
¿‹_lim™”
), 
	`şock_
(
şock
) {}

170 ~
	`U£R©eTask
(è
ov”ride
 {}

172 
	`DoRun
(è
ov”ride
 {

173 
	`EXPECT_TRUE
(
¿‹_lim™”_
->
	`TryU£R©e
(
kR©eFlšgBy‹s
 / 2));

174 
şock_
->
	`AdvªûTimeMli£cÚds
((
kWšdowSizeMs
 / 2) - 1);

175 
	`EXPECT_TRUE
(
¿‹_lim™”_
->
	`TryU£R©e
(
kR©eFlšgBy‹s
 / 2));

178 
SimuÏ‹dClock
* cÚ¡ 
şock_
;

179 } 
	`u£_¿‹_sk
(
¿‹_lim™”
.
	`g‘
(), &
şock_
);

180 
¹c
::
PÏtfÜmTh»ad
 
	`th»ad3
(
RunTask
, &
u£_¿‹_sk
, "Thread3");

181 
th»ad3
.
	`S¹
();

183 
£t_wšdow_size_sk
.
¡¬t_sigÇl_
.
	`S‘
();

184 
	`EXPECT_TRUE
(
£t_wšdow_size_sk
.
’d_sigÇl_
.
	`Wa™
(
kMaxTimeoutMs
));

186 
£t_max_¿‹_sk
.
¡¬t_sigÇl_
.
	`S‘
();

187 
	`EXPECT_TRUE
(
£t_max_¿‹_sk
.
’d_sigÇl_
.
	`Wa™
(
kMaxTimeoutMs
));

189 
u£_¿‹_sk
.
¡¬t_sigÇl_
.
	`S‘
();

190 
	`EXPECT_TRUE
(
u£_¿‹_sk
.
’d_sigÇl_
.
	`Wa™
(
kMaxTimeoutMs
));

193 
	`EXPECT_FALSE
(
¿‹_lim™”
->
	`TryU£R©e
(1));

195 
th»ad1
.
	`Stİ
();

196 
th»ad2
.
	`Stİ
();

197 
th»ad3
.
	`Stİ
();

198 
	}
}

	@rate_statistics.cc

11 
	~"¹c_ba£/¿‹_¡©i¡ics.h
"

13 
	~<®gÜ™hm
>

14 
	~<lim™s
>

15 
	~<memÜy
>

17 
	~"¹c_ba£/checks.h
"

18 
	~"¹c_ba£/loggšg.h
"

19 
	~"¹c_ba£/num”ics/§ã_cÚv”siÚs.h
"

21 
Çme¥aû
 
	gweb¹c
 {

23 
	gR©eSti¡ics
::
R©eSti¡ics
(
št64_t
 
wšdow_size_ms
, 
sÿË
)

24 : 
buck‘s_
(
Ãw
 
Buck‘
[
wšdow_size_ms
]()),

25 
accumuÏ‹d_couÁ_
(0),

26 
num_§m¶es_
(0),

27 
Şde¡_time_
(-
wšdow_size_ms
),

28 
Şde¡_šdex_
(0),

29 
sÿË_
(
sÿË
),

30 
max_wšdow_size_ms_
(
wšdow_size_ms
),

31 
cu¼’t_wšdow_size_ms_
(
max_wšdow_size_ms_
) {}

33 
	gR©eSti¡ics
::
R©eSti¡ics
(cÚ¡ R©eSti¡ics& 
Ùh”
)

34 : 
accumuÏ‹d_couÁ_
(
Ùh”
.accumulated_count_),

35 
ov”æow_
(
Ùh”
.overflow_),

36 
num_§m¶es_
(
Ùh”
.num_samples_),

37 
Şde¡_time_
(
Ùh”
.oldest_time_),

38 
Şde¡_šdex_
(
Ùh”
.oldest_index_),

39 
sÿË_
(
Ùh”
.scale_),

40 
max_wšdow_size_ms_
(
Ùh”
.max_window_size_ms_),

41 
cu¼’t_wšdow_size_ms_
(
Ùh”
.current_window_size_ms_) {

42 
	gbuck‘s_
 = 
¡d
::
make_unique
<
Buck‘
[]>(
Ùh”
.
max_wšdow_size_ms_
);

43 
	g¡d
::
cİy
(
Ùh”
.
buck‘s_
.
g‘
(),

44 
Ùh”
.
buck‘s_
.
g‘
(è+ oth”.
max_wšdow_size_ms_
, buckets_.get());

47 
	gR©eSti¡ics
::
R©eSti¡ics
(R©eSti¡ics&& 
Ùh”
) = ;

49 
	gR©eSti¡ics
::~
R©eSti¡ics
() {}

51 
R©eSti¡ics
::
Re£t
() {

52 
accumuÏ‹d_couÁ_
 = 0;

53 
	gov”æow_
 = 
çl£
;

54 
	gnum_§m¶es_
 = 0;

55 
	gŞde¡_time_
 = -
max_wšdow_size_ms_
;

56 
	gŞde¡_šdex_
 = 0;

57 
	gcu¼’t_wšdow_size_ms_
 = 
max_wšdow_size_ms_
;

58 
št64_t
 
	gi
 = 0; i < 
	gmax_wšdow_size_ms_
; i++)

59 
	gbuck‘s_
[
i
] = 
Buck‘
();

62 
	gR©eSti¡ics
::
Upd©e
(
št64_t
 
couÁ
, iÁ64_ˆ
now_ms
) {

63 
RTC_DCHECK_LE
(0, 
couÁ
);

64 ià(
	gnow_ms
 < 
	gŞde¡_time_
) {

69 
E¿£Old
(
now_ms
);

72 ià(!
IsIn™Ÿlized
())

73 
	gŞde¡_time_
 = 
now_ms
;

75 
ušt32_t
 
	gnow_off£t
 = 
¹c
::
dchecked_ÿ¡
<ušt32_t>(
now_ms
 - 
Şde¡_time_
);

76 
RTC_DCHECK_LT
(
now_off£t
, 
max_wšdow_size_ms_
);

77 
ušt32_t
 
	gšdex
 = 
Şde¡_šdex_
 + 
now_off£t
;

78 ià(
	gšdex
 >ğ
max_wšdow_size_ms_
)

79 
šdex
 -ğ
max_wšdow_size_ms_
;

80 
	gbuck‘s_
[
šdex
].
	gsum
 +ğ
couÁ
;

81 ++
	gbuck‘s_
[
šdex
].
	g§m¶es
;

82 ià(
	g¡d
::
num”ic_lim™s
<
št64_t
>::
max
(è- 
accumuÏ‹d_couÁ_
 > 
couÁ
) {

83 
accumuÏ‹d_couÁ_
 +ğ
couÁ
;

85 
	gov”æow_
 = 
Œue
;

87 ++
	gnum_§m¶es_
;

90 
	gab¦
::
İtiÚ®
<
št64_t
> 
R©eSti¡ics
::
R©e
(št64_ˆ
now_ms
) const {

93 
cÚ¡_ÿ¡
<
R©eSti¡ics
*>(
this
)->
E¿£Old
(
now_ms
);

98 
	gaùive_wšdow_size
 = 
now_ms
 - 
Şde¡_time_
 + 1;

99 ià(
	gnum_§m¶es_
 =ğ0 || 
aùive_wšdow_size
 <= 1 ||

100 (
num_§m¶es_
 <= 1 &&

101 
¹c
::
SaãLt
(
aùive_wšdow_size
, 
cu¼’t_wšdow_size_ms_
)) ||

102 
	gov”æow_
) {

103  
	gab¦
::
nuÎİt
;

106 
	gsÿË
 = 
¡©ic_ÿ¡
<>(
sÿË_
è/ 
aùive_wšdow_size
;

107 
	g»suÉ
 = 
accumuÏ‹d_couÁ_
 * 
sÿË
 + 0.5f;

110 ià(
	g»suÉ
 > 
	g¡©ic_ÿ¡
<>(
	g¡d
::
num”ic_lim™s
<
št64_t
>::
max
())) {

111  
ab¦
::
nuÎİt
;

113  
	g¹c
::
dchecked_ÿ¡
<
št64_t
>(
»suÉ
);

116 
	gR©eSti¡ics
::
E¿£Old
(
št64_t
 
now_ms
) {

117 ià(!
IsIn™Ÿlized
())

121 
št64_t
 
	gÃw_Şde¡_time
 = 
now_ms
 - 
cu¼’t_wšdow_size_ms_
 + 1;

124 ià(
	gÃw_Şde¡_time
 <ğ
Şde¡_time_
)

128 
	gnum_§m¶es_
 > 0 && 
	gŞde¡_time_
 < 
	gÃw_Şde¡_time
) {

129 cÚ¡ 
	gBuck‘
& 
	gŞde¡_buck‘
 = 
buck‘s_
[
Şde¡_šdex_
];

130 
RTC_DCHECK_GE
(
accumuÏ‹d_couÁ_
, 
Şde¡_buck‘
.
sum
);

131 
RTC_DCHECK_GE
(
num_§m¶es_
, 
Şde¡_buck‘
.
§m¶es
);

132 
	gaccumuÏ‹d_couÁ_
 -ğ
Şde¡_buck‘
.
sum
;

133 
	gnum_§m¶es_
 -ğ
Şde¡_buck‘
.
§m¶es
;

134 
	gbuck‘s_
[
Şde¡_šdex_
] = 
Buck‘
();

135 ià(++
	gŞde¡_šdex_
 >ğ
max_wšdow_size_ms_
)

136 
Şde¡_šdex_
 = 0;

137 ++
	gŞde¡_time_
;

141 
	gŞde¡_time_
 = 
Ãw_Şde¡_time
;

144 
boŞ
 
	gR©eSti¡ics
::
S‘WšdowSize
(
št64_t
 
wšdow_size_ms
, iÁ64_ˆ
now_ms
) {

145 ià(
	gwšdow_size_ms
 <ğ0 || 
wšdow_size_ms
 > 
max_wšdow_size_ms_
)

146  
çl£
;

147 
	gcu¼’t_wšdow_size_ms_
 = 
wšdow_size_ms
;

148 
E¿£Old
(
now_ms
);

149  
	gŒue
;

152 
boŞ
 
	gR©eSti¡ics
::
IsIn™Ÿlized
() const {

153  
Şde¡_time_
 !ğ-
max_wšdow_size_ms_
;

	@rate_statistics.h

11 #iâdeà
RTC_BASE_RATE_STATISTICS_H_


12 
	#RTC_BASE_RATE_STATISTICS_H_


	)

14 
	~<¡ddef.h
>

15 
	~<¡dšt.h
>

17 
	~<memÜy
>

19 
	~"ab¦/ty³s/İtiÚ®.h
"

20 
	~"¹c_ba£/sy¡em/¹c_expÜt.h
"

22 
Çme¥aû
 
	gweb¹c
 {

31 şas 
	cRTC_EXPORT
 
	gR©eSti¡ics
 {

32 
	gpublic
:

33 
cÚ¡ex´
 
kBpsSÿË
 = 8000.0f;

40 
R©eSti¡ics
(
št64_t
 
max_wšdow_size_ms
, 
sÿË
);

42 
R©eSti¡ics
(cÚ¡ R©eSti¡ics& 
Ùh”
);

44 
R©eSti¡ics
(R©eSti¡ics&& 
Ùh”
);

46 ~
R©eSti¡ics
();

49 
Re£t
();

52 
Upd©e
(
št64_t
 
couÁ
, iÁ64_ˆ
now_ms
);

60 
	gab¦
::
İtiÚ®
<
št64_t
> 
R©e
(št64_ˆ
now_ms
) const;

64 
boŞ
 
S‘WšdowSize
(
št64_t
 
wšdow_size_ms
, iÁ64_ˆ
now_ms
);

66 
	g´iv©e
:

67 
E¿£Old
(
št64_t
 
now_ms
);

68 
boŞ
 
IsIn™Ÿlized
() const;

72 
	sBuck‘
 {

73 
št64_t
 
	gsum
;

74 
	g§m¶es
;

76 
	g¡d
::
unique_±r
<
Buck‘
[]> 
buck‘s_
;

79 
št64_t
 
	gaccumuÏ‹d_couÁ_
;

83 
boŞ
 
	gov”æow_
 = 
çl£
;

86 
	gnum_§m¶es_
;

89 
št64_t
 
	gŞde¡_time_
;

92 
št64_t
 
	gŞde¡_šdex_
;

95 cÚ¡ 
	gsÿË_
;

98 cÚ¡ 
št64_t
 
	gmax_wšdow_size_ms_
;

99 
št64_t
 
	gcu¼’t_wšdow_size_ms_
;

	@rate_statistics_unittest.cc

11 
	~"¹c_ba£/¿‹_¡©i¡ics.h
"

13 
	~<c¡dlib
>

15 
	~"‹¡/g‹¡.h
"

17 
	gÇme¥aû
 {

19 
usšg
 
	gweb¹c
::
R©eSti¡ics
;

21 cÚ¡ 
št64_t
 
	gkWšdowMs
 = 500;

23 şas 
	cR©eSti¡icsTe¡
 : 
public
 ::
‹¡šg
::
Te¡
 {

24 
´Ùeùed
:

25 
R©eSti¡icsTe¡
(è: 
¡©s_
(
kWšdowMs
, 8000) {}

26 
R©eSti¡ics
 
	g¡©s_
;

29 
	$TEST_F
(
R©eSti¡icsTe¡
, 
Te¡SŒiùMode
) {

30 
št64_t
 
now_ms
 = 0;

31 
	`EXPECT_FALSE
(
¡©ic_ÿ¡
<
boŞ
>(
¡©s_
.
	`R©e
(
now_ms
)));

33 cÚ¡ 
ušt32_t
 
kPack‘Size
 = 1500u;

34 cÚ¡ 
ušt32_t
 
kEx³ùedR©eBps
 = 
kPack‘Size
 * 1000 * 8;

37 
¡©s_
.
	`Upd©e
(
kPack‘Size
, 
now_ms
++);

38 
	`EXPECT_FALSE
(
¡©ic_ÿ¡
<
boŞ
>(
¡©s_
.
	`R©e
(
now_ms
)));

42 
¡©s_
.
	`Upd©e
(
kPack‘Size
, 
now_ms
);

43 
	`EXPECT_EQ
(
kEx³ùedR©eBps
, *
¡©s_
.
	`R©e
(
now_ms
));

45 
¡©s_
.
	`Re£t
();

47 
	`EXPECT_FALSE
(
¡©ic_ÿ¡
<
boŞ
>(
¡©s_
.
	`R©e
(
now_ms
)));

49 cÚ¡ 
kIÁ”v®
 = 10;

50 
i
 = 0; i < 100000; ++i) {

51 ià(
i
 % 
kIÁ”v®
 == 0)

52 
¡©s_
.
	`Upd©e
(
kPack‘Size
, 
now_ms
);

56 ià(
i
 > 
kIÁ”v®
) {

57 
ab¦
::
İtiÚ®
<
ušt32_t
> 
¿‹
 = 
¡©s_
.
	`R©e
(
now_ms
);

58 
	`EXPECT_TRUE
(
¡©ic_ÿ¡
<
boŞ
>(
¿‹
));

59 
ušt32_t
 
§m¶es
 = 
i
 / 
kIÁ”v®
 + 1;

60 
ušt64_t
 
tÙ®_b™s
 = 
§m¶es
 * 
kPack‘Size
 * 8;

61 
ušt32_t
 
¿‹_bps
 = 
¡©ic_ÿ¡
<ušt32_t>((1000 * 
tÙ®_b™s
è/ (
i
 + 1));

62 
	`EXPECT_NEAR
(
¿‹_bps
, *
¿‹
, 22000u);

64 
now_ms
 += 1;

66 
now_ms
 +ğ
kWšdowMs
;

69 
	`EXPECT_FALSE
(
¡©ic_ÿ¡
<
boŞ
>(
¡©s_
.
	`R©e
(
now_ms
)));

70 
	}
}

72 
	$TEST_F
(
R©eSti¡icsTe¡
, 
Inü—sšgTh’Deü—sšgB™¿‹
) {

73 
št64_t
 
now_ms
 = 0;

74 
¡©s_
.
	`Re£t
();

76 
	`EXPECT_FALSE
(
¡©ic_ÿ¡
<
boŞ
>(
¡©s_
.
	`R©e
(
now_ms
)));

78 
¡©s_
.
	`Upd©e
(1000, ++
now_ms
);

79 cÚ¡ 
ušt32_t
 
kEx³ùedB™¿‹
 = 8000000;

81 
´ev_”rÜ
 = 
kEx³ùedB™¿‹
;

82 
ab¦
::
İtiÚ®
<
ušt32_t
> 
b™¿‹
;

83 ++
now_ms
 < 10000) {

84 
¡©s_
.
	`Upd©e
(1000, 
now_ms
);

85 
b™¿‹
 = 
¡©s_
.
	`R©e
(
now_ms
);

86 
	`EXPECT_TRUE
(
¡©ic_ÿ¡
<
boŞ
>(
b™¿‹
));

87 
”rÜ
 = 
kEx³ùedB™¿‹
 - *
b™¿‹
;

88 
”rÜ
 = 
¡d
::
	`abs
(error);

90 
	`EXPECT_LE
(
”rÜ
, 
´ev_”rÜ
 + 1);

91 
´ev_”rÜ
 = 
”rÜ
;

94 
	`EXPECT_EQ
(
kEx³ùedB™¿‹
, *
b™¿‹
);

97 ++
now_ms
 < 10000) {

98 
¡©s_
.
	`Upd©e
(1000, 
now_ms
);

99 
b™¿‹
 = 
¡©s_
.
	`R©e
(
now_ms
);

100 
	`EXPECT_EQ
(
kEx³ùedB™¿‹
, *
b™¿‹
);

104 ++
now_ms
 < 20000) {

105 
¡©s_
.
	`Upd©e
(0, 
now_ms
);

106 
ab¦
::
İtiÚ®
<
ušt32_t
> 
Ãw_b™¿‹
 = 
¡©s_
.
	`R©e
(
now_ms
);

107 ià(
¡©ic_ÿ¡
<
boŞ
>(
Ãw_b™¿‹
è&& *Ãw_b™¿‹ !ğ*
b™¿‹
) {

109 
	`EXPECT_LT
(*
Ãw_b™¿‹
, *
b™¿‹
);

112 
	`EXPECT_EQ
(0u, *
Ãw_b™¿‹
);

115 
b™¿‹
 = 
Ãw_b™¿‹
;

119 ++
now_ms
 < 20000) {

120 
¡©s_
.
	`Upd©e
(0, 
now_ms
);

121 
	`EXPECT_EQ
(0u, *
¡©s_
.
	`R©e
(
now_ms
));

123 
	}
}

125 
	$TEST_F
(
R©eSti¡icsTe¡
, 
Re£tAá”S’û
) {

126 
št64_t
 
now_ms
 = 0;

127 
¡©s_
.
	`Re£t
();

129 
	`EXPECT_FALSE
(
¡©ic_ÿ¡
<
boŞ
>(
¡©s_
.
	`R©e
(
now_ms
)));

131 cÚ¡ 
ušt32_t
 
kEx³ùedB™¿‹
 = 8000000;

133 
´ev_”rÜ
 = 
kEx³ùedB™¿‹
;

134 
ab¦
::
İtiÚ®
<
ušt32_t
> 
b™¿‹
;

135 ++
now_ms
 < 10000) {

136 
¡©s_
.
	`Upd©e
(1000, 
now_ms
);

137 
b™¿‹
 = 
¡©s_
.
	`R©e
(
now_ms
);

138 ià(
b™¿‹
) {

139 
”rÜ
 = 
kEx³ùedB™¿‹
 - *
b™¿‹
;

140 
”rÜ
 = 
¡d
::
	`abs
(error);

142 
	`EXPECT_LE
(
”rÜ
, 
´ev_”rÜ
 + 1);

143 
´ev_”rÜ
 = 
”rÜ
;

147 
	`EXPECT_EQ
(
kEx³ùedB™¿‹
, *
b™¿‹
);

149 
now_ms
 +ğ
kWšdowMs
 + 1;

150 
	`EXPECT_FALSE
(
¡©ic_ÿ¡
<
boŞ
>(
¡©s_
.
	`R©e
(
now_ms
)));

151 
¡©s_
.
	`Upd©e
(1000, 
now_ms
);

152 ++
now_ms
;

153 
¡©s_
.
	`Upd©e
(1000, 
now_ms
);

156 
	`EXPECT_EQ
(32000u, *
¡©s_
.
	`R©e
(
now_ms
));

159 
¡©s_
.
	`Re£t
();

160 
	`EXPECT_FALSE
(
¡©ic_ÿ¡
<
boŞ
>(
¡©s_
.
	`R©e
(
now_ms
)));

161 
¡©s_
.
	`Upd©e
(1000, 
now_ms
);

162 ++
now_ms
;

163 
¡©s_
.
	`Upd©e
(1000, 
now_ms
);

166 
	`EXPECT_EQ
(
kEx³ùedB™¿‹
, *
¡©s_
.
	`R©e
(
now_ms
));

167 
	}
}

169 
	$TEST_F
(
R©eSti¡icsTe¡
, 
HªdËsChªgšgWšdowSize
) {

170 
št64_t
 
now_ms
 = 0;

171 
¡©s_
.
	`Re£t
();

174 
	`EXPECT_TRUE
(
¡©s_
.
	`S‘WšdowSize
(
kWšdowMs
, 
now_ms
));

175 
	`EXPECT_FALSE
(
¡©s_
.
	`S‘WšdowSize
(
kWšdowMs
 + 1, 
now_ms
));

176 
	`EXPECT_FALSE
(
¡©s_
.
	`S‘WšdowSize
(0, 
now_ms
));

177 
	`EXPECT_TRUE
(
¡©s_
.
	`S‘WšdowSize
(1, 
now_ms
));

178 
	`EXPECT_TRUE
(
¡©s_
.
	`S‘WšdowSize
(
kWšdowMs
, 
now_ms
));

181 cÚ¡ 
kB©chSize
 = 10;

182 
i
 = 0; i <ğ
kWšdowMs
; i +ğ
kB©chSize
)

183 
¡©s_
.
	`Upd©e
(
kB©chSize
, 
now_ms
 += kBatchSize);

184 
	`EXPECT_EQ
(
¡©ic_ÿ¡
<
ušt32_t
>(8000), *
¡©s_
.
	`R©e
(
now_ms
));

187 
	`EXPECT_TRUE
(
¡©s_
.
	`S‘WšdowSize
(
kWšdowMs
 / 2, 
now_ms
));

188 
	`EXPECT_EQ
(
¡©ic_ÿ¡
<
ušt32_t
>(8000), *
¡©s_
.
	`R©e
(
now_ms
));

192 
	`EXPECT_TRUE
(
¡©s_
.
	`S‘WšdowSize
(
kWšdowMs
, 
now_ms
));

193 
	`EXPECT_EQ
(
¡©ic_ÿ¡
<
ušt32_t
>(8000), *
¡©s_
.
	`R©e
(
now_ms
));

196 
i
 = 0; i < 
kWšdowMs
 / 2; i +ğ
kB©chSize
)

197 
¡©s_
.
	`Upd©e
(
kB©chSize
 * 2, 
now_ms
 += kBatchSize);

200 
	`EXPECT_EQ
(
¡©ic_ÿ¡
<
ušt32_t
>((8000 * 3è/ 2), *
¡©s_
.
	`R©e
(
now_ms
));

201 
	}
}

203 
	$TEST_F
(
R©eSti¡icsTe¡
, 
Re¥eùsWšdowSizeEdges
) {

204 
št64_t
 
now_ms
 = 0;

205 
¡©s_
.
	`Re£t
();

207 
	`EXPECT_FALSE
(
¡©ic_ÿ¡
<
boŞ
>(
¡©s_
.
	`R©e
(
now_ms
)));

210 
¡©s_
.
	`Upd©e
(
kWšdowMs
, 
now_ms
);

211 
now_ms
 +ğ
kWšdowMs
 - 2;

213 
	`EXPECT_FALSE
(
¡©ic_ÿ¡
<
boŞ
>(
¡©s_
.
	`R©e
(
now_ms
)));

216 ++
now_ms
;

217 
ab¦
::
İtiÚ®
<
ušt32_t
> 
b™¿‹
 = 
¡©s_
.
	`R©e
(
now_ms
);

218 
	`EXPECT_TRUE
(
¡©ic_ÿ¡
<
boŞ
>(
b™¿‹
));

219 
	`EXPECT_EQ
(1000 * 8u, *
b™¿‹
);

222 
¡©s_
.
	`Upd©e
(
kWšdowMs
, 
now_ms
);

223 
b™¿‹
 = 
¡©s_
.
	`R©e
(
now_ms
);

224 
	`EXPECT_TRUE
(
¡©ic_ÿ¡
<
boŞ
>(
b™¿‹
));

225 
	`EXPECT_EQ
(2 * 1000 * 8u, *
b™¿‹
);

228 
now_ms
 += 1;

229 
b™¿‹
 = 
¡©s_
.
	`R©e
(
now_ms
);

230 
	`EXPECT_TRUE
(
¡©ic_ÿ¡
<
boŞ
>(
b™¿‹
));

231 
	`EXPECT_EQ
(1000 * 8u, *
b™¿‹
);

232 
	}
}

234 
	$TEST_F
(
R©eSti¡icsTe¡
, 
HªdËsZ”oCouÁs
) {

235 
št64_t
 
now_ms
 = 0;

236 
¡©s_
.
	`Re£t
();

238 
	`EXPECT_FALSE
(
¡©ic_ÿ¡
<
boŞ
>(
¡©s_
.
	`R©e
(
now_ms
)));

240 
¡©s_
.
	`Upd©e
(
kWšdowMs
, 
now_ms
);

241 
now_ms
 +ğ
kWšdowMs
 - 1;

242 
¡©s_
.
	`Upd©e
(0, 
now_ms
);

243 
ab¦
::
İtiÚ®
<
ušt32_t
> 
b™¿‹
 = 
¡©s_
.
	`R©e
(
now_ms
);

244 
	`EXPECT_TRUE
(
¡©ic_ÿ¡
<
boŞ
>(
b™¿‹
));

245 
	`EXPECT_EQ
(1000 * 8u, *
b™¿‹
);

248 ++
now_ms
;

249 
b™¿‹
 = 
¡©s_
.
	`R©e
(
now_ms
);

250 
	`EXPECT_TRUE
(
¡©ic_ÿ¡
<
boŞ
>(
b™¿‹
));

251 
	`EXPECT_EQ
(0u, *
b™¿‹
);

254 
now_ms
 +ğ
kWšdowMs
;

255 
	`EXPECT_FALSE
(
¡©ic_ÿ¡
<
boŞ
>(
¡©s_
.
	`R©e
(
now_ms
)));

256 
	}
}

258 
	$TEST_F
(
R©eSti¡icsTe¡
, 
HªdËsQu›tP”iods
) {

259 
št64_t
 
now_ms
 = 0;

260 
¡©s_
.
	`Re£t
();

262 
	`EXPECT_FALSE
(
¡©ic_ÿ¡
<
boŞ
>(
¡©s_
.
	`R©e
(
now_ms
)));

264 
¡©s_
.
	`Upd©e
(0, 
now_ms
);

265 
now_ms
 +ğ
kWšdowMs
 - 1;

266 
ab¦
::
İtiÚ®
<
ušt32_t
> 
b™¿‹
 = 
¡©s_
.
	`R©e
(
now_ms
);

267 
	`EXPECT_TRUE
(
¡©ic_ÿ¡
<
boŞ
>(
b™¿‹
));

268 
	`EXPECT_EQ
(0u, *
b™¿‹
);

271 ++
now_ms
;

272 
	`EXPECT_FALSE
(
¡©ic_ÿ¡
<
boŞ
>(
¡©s_
.
	`R©e
(
now_ms
)));

275 
now_ms
 +ğ2 * 
kWšdowMs
;

276 
¡©s_
.
	`Upd©e
(0, 
now_ms
);

277 
b™¿‹
 = 
¡©s_
.
	`R©e
(
now_ms
);

278 
	`EXPECT_TRUE
(
¡©ic_ÿ¡
<
boŞ
>(
b™¿‹
));

279 
	`EXPECT_EQ
(0u, *
b™¿‹
);

280 
	}
}

282 
	$TEST_F
(
R©eSti¡icsTe¡
, 
HªdËsBigNumb”s
) {

283 
št64_t
 
Ïrge_numb”
 = 0x100000000u;

284 
št64_t
 
now_ms
 = 0;

285 
¡©s_
.
	`Upd©e
(
Ïrge_numb”
, 
now_ms
++);

286 
¡©s_
.
	`Upd©e
(
Ïrge_numb”
, 
now_ms
);

287 
	`EXPECT_TRUE
(
¡©s_
.
	`R©e
(
now_ms
));

288 
	`EXPECT_EQ
(
Ïrge_numb”
 * 
R©eSti¡ics
::
kBpsSÿË
, *
¡©s_
.
	`R©e
(
now_ms
));

289 
	}
}

291 
	$TEST_F
(
R©eSti¡icsTe¡
, 
HªdËsTooL¬geNumb”s
) {

292 
št64_t
 
v”y_Ïrge_numb”
 = 
¡d
::
num”ic_lim™s
<št64_t>::
	`max
();

293 
št64_t
 
now_ms
 = 0;

294 
¡©s_
.
	`Upd©e
(
v”y_Ïrge_numb”
, 
now_ms
++);

295 
¡©s_
.
	`Upd©e
(
v”y_Ïrge_numb”
, 
now_ms
);

297 
	`EXPECT_FALSE
(
¡©s_
.
	`R©e
(
now_ms
));

298 
	}
}

300 
	$TEST_F
(
R©eSti¡icsTe¡
, 
HªdËsSomewh©L¬geNumb”s
) {

301 
št64_t
 
v”y_Ïrge_numb”
 = 
¡d
::
num”ic_lim™s
<št64_t>::
	`max
();

302 
št64_t
 
now_ms
 = 0;

303 
¡©s_
.
	`Upd©e
(
v”y_Ïrge_numb”
 / 4, 
now_ms
++);

304 
¡©s_
.
	`Upd©e
(
v”y_Ïrge_numb”
 / 4, 
now_ms
);

307 
	`EXPECT_FALSE
(
¡©s_
.
	`R©e
(
now_ms
));

308 
	}
}

	@rate_tracker.cc

11 
	~"¹c_ba£/¿‹_Œack”.h
"

13 
	~<®gÜ™hm
>

15 
	~"¹c_ba£/checks.h
"

16 
	~"¹c_ba£/time_uts.h
"

18 
Çme¥aû
 
	g¹c
 {

20 cÚ¡ 
št64_t
 
	gkTimeUn£t
 = -1;

22 
	gR©eT¿ck”
::
R©eT¿ck”
(
št64_t
 
buck‘_mli£cÚds
, 
size_t
 
buck‘_couÁ
)

23 : 
buck‘_mli£cÚds_
(
buck‘_mli£cÚds
),

24 
buck‘_couÁ_
(
buck‘_couÁ
),

25 
§m¶e_buck‘s_
(
Ãw
 
št64_t
[
buck‘_couÁ
 + 1]),

26 
tÙ®_§m¶e_couÁ_
(0u),

27 
buck‘_¡¬t_time_mli£cÚds_
(
kTimeUn£t
) {

28 
RTC_CHECK
(
buck‘_mli£cÚds
 > 0);

29 
RTC_CHECK
(
buck‘_couÁ
 > 0);

32 
	gR©eT¿ck”
::~
R©eT¿ck”
() {

33 
d–‘e
[] 
§m¶e_buck‘s_
;

36 
	gR©eT¿ck”
::
Compu‹R©eFÜIÁ”v®
(

37 
št64_t
 
š‹rv®_mli£cÚds
) const {

38 ià(
buck‘_¡¬t_time_mli£cÚds_
 =ğ
kTimeUn£t
) {

41 
št64_t
 
	gcu¼’t_time
 = 
Time
();

44 
št64_t
 
	gavaabË_š‹rv®_mli£cÚds
 =

45 
¡d
::
mš
(
š‹rv®_mli£cÚds
,

46 
buck‘_mli£cÚds_
 * 
¡©ic_ÿ¡
<
št64_t
>(
buck‘_couÁ_
));

49 
size_t
 
	gbuck‘s_to_sk
;

52 
št64_t
 
	gmli£cÚds_to_sk
;

53 ià(
	gcu¼’t_time
 >

54 
	gš™Ÿliz©iÚ_time_mli£cÚds_
 + 
	gavaabË_š‹rv®_mli£cÚds
) {

55 
št64_t
 
	gtime_to_sk
 =

56 
cu¼’t_time
 - 
buck‘_¡¬t_time_mli£cÚds_
 +

57 
¡©ic_ÿ¡
<
št64_t
>(
buck‘_couÁ_
è* 
buck‘_mli£cÚds_
 -

58 
avaabË_š‹rv®_mli£cÚds
;

59 
	gbuck‘s_to_sk
 = 
time_to_sk
 / 
buck‘_mli£cÚds_
;

60 
	gmli£cÚds_to_sk
 = 
time_to_sk
 % 
buck‘_mli£cÚds_
;

62 
	gbuck‘s_to_sk
 = 
buck‘_couÁ_
 - 
cu¼’t_buck‘_
;

63 
	gmli£cÚds_to_sk
 = 0;

64 
	gavaabË_š‹rv®_mli£cÚds
 =

65 
TimeDiff
(
cu¼’t_time
, 
š™Ÿliz©iÚ_time_mli£cÚds_
);

67 ià(
	gavaabË_š‹rv®_mli£cÚds
 < 
	gbuck‘_mli£cÚds_
) {

73 ià(
	gbuck‘s_to_sk
 > 
	gbuck‘_couÁ_
 || 
	gavaabË_š‹rv®_mli£cÚds
 == 0) {

76 
size_t
 
	g¡¬t_buck‘
 = 
NextBuck‘Index
(
cu¼’t_buck‘_
 + 
buck‘s_to_sk
);

79 
št64_t
 
	gtÙ®_§m¶es
 = ((
§m¶e_buck‘s_
[
¡¬t_buck‘
] *

80 (
buck‘_mli£cÚds_
 - 
mli£cÚds_to_sk
)) +

81 (
buck‘_mli£cÚds_
 >> 1)) /

82 
buck‘_mli£cÚds_
;

84 
size_t
 
	gi
 = 
NextBuck‘Index
(
¡¬t_buck‘
);

85 
	gi
 !ğ
NextBuck‘Index
(
cu¼’t_buck‘_
); i = NextBuck‘Index(
i
)) {

86 
tÙ®_§m¶es
 +ğ
§m¶e_buck‘s_
[
i
];

89  
	g¡©ic_ÿ¡
<>(
	gtÙ®_§m¶es
 * 1000) /

90 
	g¡©ic_ÿ¡
<>(
	gavaabË_š‹rv®_mli£cÚds
);

93 
	gR©eT¿ck”
::
Compu‹TÙ®R©e
() const {

94 ià(
buck‘_¡¬t_time_mli£cÚds_
 =ğ
kTimeUn£t
) {

97 
št64_t
 
	gcu¼’t_time
 = 
Time
();

98 ià(
	gcu¼’t_time
 <ğ
š™Ÿliz©iÚ_time_mli£cÚds_
) {

101  
	g¡©ic_ÿ¡
<>(
	gtÙ®_§m¶e_couÁ_
 * 1000) /

102 
	g¡©ic_ÿ¡
<>(

103 
TimeDiff
(
cu¼’t_time
, 
š™Ÿliz©iÚ_time_mli£cÚds_
));

106 
št64_t
 
	gR©eT¿ck”
::
TÙ®Sam¶eCouÁ
() const {

107  
tÙ®_§m¶e_couÁ_
;

110 
	gR©eT¿ck”
::
AddSam¶es
(
št64_t
 
§m¶e_couÁ
) {

111 
RTC_DCHECK_LE
(0, 
§m¶e_couÁ
);

112 
Ensu»In™Ÿlized
();

113 
št64_t
 
	gcu¼’t_time
 = 
Time
();

116 
size_t
 
	gi
 = 0;

117 
	gi
 <ğ
buck‘_couÁ_
 &&

118 
cu¼’t_time
 >ğ
buck‘_¡¬t_time_mli£cÚds_
 + 
buck‘_mli£cÚds_
;

119 ++
	gi
) {

120 
	gbuck‘_¡¬t_time_mli£cÚds_
 +ğ
buck‘_mli£cÚds_
;

121 
	gcu¼’t_buck‘_
 = 
NextBuck‘Index
(
cu¼’t_buck‘_
);

122 
	g§m¶e_buck‘s_
[
cu¼’t_buck‘_
] = 0;

126 
	gbuck‘_¡¬t_time_mli£cÚds_
 +=

127 
buck‘_mli£cÚds_
 *

128 ((
cu¼’t_time
 - 
buck‘_¡¬t_time_mli£cÚds_
è/ 
buck‘_mli£cÚds_
);

130 
	g§m¶e_buck‘s_
[
cu¼’t_buck‘_
] +ğ
§m¶e_couÁ
;

131 
	gtÙ®_§m¶e_couÁ_
 +ğ
§m¶e_couÁ
;

134 
št64_t
 
	gR©eT¿ck”
::
Time
() const {

135  
¹c
::
TimeMlis
();

138 
	gR©eT¿ck”
::
Ensu»In™Ÿlized
() {

139 ià(
buck‘_¡¬t_time_mli£cÚds_
 =ğ
kTimeUn£t
) {

140 
š™Ÿliz©iÚ_time_mli£cÚds_
 = 
Time
();

141 
	gbuck‘_¡¬t_time_mli£cÚds_
 = 
š™Ÿliz©iÚ_time_mli£cÚds_
;

142 
	gcu¼’t_buck‘_
 = 0;

145 
	g§m¶e_buck‘s_
[
cu¼’t_buck‘_
] = 0;

149 
size_t
 
	gR©eT¿ck”
::
NextBuck‘Index
(size_ˆ
buck‘_šdex
) const {

150  (
buck‘_šdex
 + 1uè% (
buck‘_couÁ_
 + 1u);

	@rate_tracker.h

11 #iâdeà
RTC_BASE_RATE_TRACKER_H_


12 
	#RTC_BASE_RATE_TRACKER_H_


	)

14 
	~<¡dšt.h
>

15 
	~<¡dlib.h
>

17 
Çme¥aû
 
	g¹c
 {

22 şas 
	cR©eT¿ck”
 {

23 
	gpublic
:

24 
R©eT¿ck”
(
št64_t
 
buck‘_mli£cÚds
, 
size_t
 
buck‘_couÁ
);

25 
	gvœtu®
 ~
R©eT¿ck”
();

30 
Compu‹R©eFÜIÁ”v®
(
št64_t
 
š‹rv®_mli£cÚds
) const;

34 
Compu‹R©e
() const {

35  
Compu‹R©eFÜIÁ”v®
(
buck‘_mli£cÚds_
 *

36 
¡©ic_ÿ¡
<
št64_t
>(
buck‘_couÁ_
));

41 
Compu‹TÙ®R©e
() const;

44 
št64_t
 
TÙ®Sam¶eCouÁ
() const;

48 
AddSam¶es
(
št64_t
 
§m¶e_couÁ
);

50 
	g´Ùeùed
:

52 
vœtu®
 
št64_t
 
Time
() const;

54 
	g´iv©e
:

55 
Ensu»In™Ÿlized
();

56 
size_t
 
NextBuck‘Index
(size_ˆ
buck‘_šdex
) const;

58 cÚ¡ 
št64_t
 
	gbuck‘_mli£cÚds_
;

59 cÚ¡ 
size_t
 
	gbuck‘_couÁ_
;

60 
št64_t
* 
	g§m¶e_buck‘s_
;

61 
size_t
 
	gtÙ®_§m¶e_couÁ_
;

62 
size_t
 
	gcu¼’t_buck‘_
;

63 
št64_t
 
	gbuck‘_¡¬t_time_mli£cÚds_
;

64 
št64_t
 
	gš™Ÿliz©iÚ_time_mli£cÚds_
;

	@rate_tracker_unittest.cc

11 
	~"¹c_ba£/¿‹_Œack”.h
"

13 
	~"‹¡/g‹¡.h
"

15 
Çme¥aû
 
	g¹c
 {

16 
	gÇme¥aû
 {

17 cÚ¡ 
ušt32_t
 
	gkBuck‘IÁ”v®Ms
 = 100;

20 şas 
	cR©eT¿ck”FÜTe¡
 : 
public
 
R©eT¿ck”
 {

21 
public
:

22 
R©eT¿ck”FÜTe¡
(è: 
R©eT¿ck”
(
kBuck‘IÁ”v®Ms
, 10u), 
time_
(0) {}

23 
št64_t
 
Time
(ècÚ¡ 
	gov”ride
 {  
	gtime_
; }

24 
AdvªûTime
(
d–
è{ 
	gtime_
 += delta; }

26 
	g´iv©e
:

27 
št64_t
 
time_
;

30 
	$TEST
(
R©eT¿ck”Te¡
, 
Te¡30FPS
) {

31 
R©eT¿ck”FÜTe¡
 
Œack”
;

33 
i
 = 0; i < 300; ++i) {

34 
Œack”
.
	`AddSam¶es
(1);

35 
Œack”
.
	`AdvªûTime
(33);

36 ià(
i
 % 3 == 0) {

37 
Œack”
.
	`AdvªûTime
(1);

40 
	`EXPECT_DOUBLE_EQ
(30.0, 
Œack”
.
	`Compu‹R©eFÜIÁ”v®
(50000));

41 
	}
}

43 
	$TEST
(
R©eT¿ck”Te¡
, 
Te¡60FPS
) {

44 
R©eT¿ck”FÜTe¡
 
Œack”
;

46 
i
 = 0; i < 300; ++i) {

47 
Œack”
.
	`AddSam¶es
(1);

48 
Œack”
.
	`AdvªûTime
(16);

49 ià(
i
 % 3 != 0) {

50 
Œack”
.
	`AdvªûTime
(1);

53 
	`EXPECT_DOUBLE_EQ
(60.0, 
Œack”
.
	`Compu‹R©eFÜIÁ”v®
(1000));

54 
	}
}

56 
	$TEST
(
R©eT¿ck”Te¡
, 
Te¡R©eT¿ck”Basics
) {

57 
R©eT¿ck”FÜTe¡
 
Œack”
;

58 
	`EXPECT_DOUBLE_EQ
(0.0, 
Œack”
.
	`Compu‹R©eFÜIÁ”v®
(1000));

61 
Œack”
.
	`AddSam¶es
(1234);

63 
Œack”
.
	`AdvªûTime
(
kBuck‘IÁ”v®Ms
 - 1);

64 
	`EXPECT_DOUBLE_EQ
(0.0, 
Œack”
.
	`Compu‹R©e
());

66 
Œack”
.
	`AdvªûTime
(1);

67 
	`EXPECT_DOUBLE_EQ
(12340.0, 
Œack”
.
	`Compu‹R©eFÜIÁ”v®
(1000));

68 
	`EXPECT_DOUBLE_EQ
(12340.0, 
Œack”
.
	`Compu‹R©e
());

69 
	`EXPECT_EQ
(1234U, 
Œack”
.
	`TÙ®Sam¶eCouÁ
());

70 
	`EXPECT_DOUBLE_EQ
(12340.0, 
Œack”
.
	`Compu‹TÙ®R©e
());

73 
Œack”
.
	`AddSam¶es
(1234);

74 
Œack”
.
	`AdvªûTime
(100);

75 
	`EXPECT_DOUBLE_EQ
(12340.0, 
Œack”
.
	`Compu‹R©eFÜIÁ”v®
(1000));

76 
	`EXPECT_DOUBLE_EQ
(12340.0, 
Œack”
.
	`Compu‹R©e
());

77 
	`EXPECT_EQ
(1234U * 2, 
Œack”
.
	`TÙ®Sam¶eCouÁ
());

78 
	`EXPECT_DOUBLE_EQ
(12340.0, 
Œack”
.
	`Compu‹TÙ®R©e
());

82 
Œack”
.
	`AdvªûTime
(800);

83 
	`EXPECT_DOUBLE_EQ
(1234.0 * 2.0, 
Œack”
.
	`Compu‹R©eFÜIÁ”v®
(1000));

84 
	`EXPECT_DOUBLE_EQ
(1234.0 * 2.0, 
Œack”
.
	`Compu‹R©e
());

85 
	`EXPECT_EQ
(1234U * 2, 
Œack”
.
	`TÙ®Sam¶eCouÁ
());

86 
	`EXPECT_DOUBLE_EQ
(1234.0 * 2.0, 
Œack”
.
	`Compu‹TÙ®R©e
());

89 
	`EXPECT_DOUBLE_EQ
(1234.0 * 2.0, 
Œack”
.
	`Compu‹R©eFÜIÁ”v®
(1000));

90 
	`EXPECT_DOUBLE_EQ
(1234.0 * 2.0, 
Œack”
.
	`Compu‹R©e
());

91 
	`EXPECT_EQ
(1234U * 2, 
Œack”
.
	`TÙ®Sam¶eCouÁ
());

92 
	`EXPECT_DOUBLE_EQ
(1234.0 * 2.0, 
Œack”
.
	`Compu‹TÙ®R©e
());

95 
Œack”
.
	`AdvªûTime
(1000);

96 
	`EXPECT_DOUBLE_EQ
(0.0, 
Œack”
.
	`Compu‹R©eFÜIÁ”v®
(1000));

97 
	`EXPECT_DOUBLE_EQ
(0.0, 
Œack”
.
	`Compu‹R©e
());

98 
	`EXPECT_EQ
(1234U * 2, 
Œack”
.
	`TÙ®Sam¶eCouÁ
());

99 
	`EXPECT_DOUBLE_EQ
(1234.0, 
Œack”
.
	`Compu‹TÙ®R©e
());

103 
i
 = 0; i < 5500; i += 100) {

104 
Œack”
.
	`AddSam¶es
(9876U);

105 
Œack”
.
	`AdvªûTime
(100);

107 
	`EXPECT_DOUBLE_EQ
(9876.0 * 10.0, 
Œack”
.
	`Compu‹R©eFÜIÁ”v®
(1000));

108 
	`EXPECT_DOUBLE_EQ
(9876.0 * 10.0, 
Œack”
.
	`Compu‹R©e
());

109 
	`EXPECT_EQ
(1234U * 2 + 9876U * 55, 
Œack”
.
	`TÙ®Sam¶eCouÁ
());

110 
	`EXPECT_DOUBLE_EQ
((1234.0 * 2.0 + 9876.0 * 55.0) / 7.5,

111 
Œack”
.
	`Compu‹TÙ®R©e
());

115 
Œack”
.
	`AdvªûTime
(500);

116 
	`EXPECT_DOUBLE_EQ
(9876.0 * 5.0, 
Œack”
.
	`Compu‹R©eFÜIÁ”v®
(1000));

117 
	`EXPECT_DOUBLE_EQ
(9876.0 * 5.0, 
Œack”
.
	`Compu‹R©e
());

118 
	`EXPECT_EQ
(1234U * 2 + 9876U * 55, 
Œack”
.
	`TÙ®Sam¶eCouÁ
());

119 
	`EXPECT_DOUBLE_EQ
((1234.0 * 2.0 + 9876.0 * 55.0) / 8.0,

120 
Œack”
.
	`Compu‹TÙ®R©e
());

123 
	`EXPECT_DOUBLE_EQ
(0.0, 
Œack”
.
	`Compu‹R©eFÜIÁ”v®
(500));

124 
	}
}

126 
	$TEST
(
R©eT¿ck”Te¡
, 
Te¡LÚgP”iodB‘w“nSam¶es
) {

127 
R©eT¿ck”FÜTe¡
 
Œack”
;

128 
Œack”
.
	`AddSam¶es
(1);

129 
Œack”
.
	`AdvªûTime
(1000);

130 
	`EXPECT_DOUBLE_EQ
(1.0, 
Œack”
.
	`Compu‹R©e
());

132 
Œack”
.
	`AdvªûTime
(2000);

133 
	`EXPECT_DOUBLE_EQ
(0.0, 
Œack”
.
	`Compu‹R©e
());

135 
Œack”
.
	`AdvªûTime
(2000);

136 
Œack”
.
	`AddSam¶es
(1);

137 
	`EXPECT_DOUBLE_EQ
(1.0, 
Œack”
.
	`Compu‹R©e
());

138 
	}
}

140 
	$TEST
(
R©eT¿ck”Te¡
, 
Te¡RŞloff
) {

141 
R©eT¿ck”FÜTe¡
 
Œack”
;

142 
i
 = 0; i < 10; ++i) {

143 
Œack”
.
	`AddSam¶es
(1U);

144 
Œack”
.
	`AdvªûTime
(100);

146 
	`EXPECT_DOUBLE_EQ
(10.0, 
Œack”
.
	`Compu‹R©e
());

148 
i
 = 0; i < 10; ++i) {

149 
Œack”
.
	`AddSam¶es
(1U);

150 
Œack”
.
	`AdvªûTime
(50);

152 
	`EXPECT_DOUBLE_EQ
(15.0, 
Œack”
.
	`Compu‹R©e
());

153 
	`EXPECT_DOUBLE_EQ
(20.0, 
Œack”
.
	`Compu‹R©eFÜIÁ”v®
(500));

155 
i
 = 0; i < 10; ++i) {

156 
Œack”
.
	`AddSam¶es
(1U);

157 
Œack”
.
	`AdvªûTime
(50);

159 
	`EXPECT_DOUBLE_EQ
(20.0, 
Œack”
.
	`Compu‹R©e
());

160 
	}
}

162 
	$TEST
(
R©eT¿ck”Te¡
, 
Te¡G‘Un™SecÚdsAá”In™ŸlV®ue
) {

163 
R©eT¿ck”FÜTe¡
 
Œack”
;

164 
Œack”
.
	`AddSam¶es
(1234);

165 
Œack”
.
	`AdvªûTime
(1000);

166 
	`EXPECT_DOUBLE_EQ
(1234.0, 
Œack”
.
	`Compu‹R©eFÜIÁ”v®
(1000));

167 
	}
}

169 
	$TEST
(
R©eT¿ck”Te¡
, 
Te¡L¬geNumb”s
) {

170 
R©eT¿ck”FÜTe¡
 
Œack”
;

171 cÚ¡ 
ušt64_t
 
Ïrge_numb”
 = 0x100000000;

172 
Œack”
.
	`AddSam¶es
(
Ïrge_numb”
);

173 
Œack”
.
	`AdvªûTime
(1000);

174 
Œack”
.
	`AddSam¶es
(
Ïrge_numb”
);

175 
	`EXPECT_DOUBLE_EQ
(
Ïrge_numb”
 * 2, 
Œack”
.
	`Compu‹R©e
());

176 
	}
}

	@ref_count.h

10 #iâdeà
RTC_BASE_REF_COUNT_H_


11 
	#RTC_BASE_REF_COUNT_H_


	)

13 
Çme¥aû
 
	g¹c
 {

48 şas 
	cRefCouÁR–—£Stus
 { 
	gkDrİ³dLa¡Ref
, 
	gkOth”RefsRemašed
 };

54 şas 
	cRefCouÁIÁ”çû
 {

55 
	gpublic
:

56 
vœtu®
 
AddRef
() const = 0;

57 
vœtu®
 
RefCouÁR–—£Stus
 
R–—£
() const = 0;

61 
	g´Ùeùed
:

62 
vœtu®
 ~
RefCouÁIÁ”çû
() {}

	@ref_counted_object.h

10 #iâdeà
RTC_BASE_REF_COUNTED_OBJECT_H_


11 
	#RTC_BASE_REF_COUNTED_OBJECT_H_


	)

13 
	~<ty³_Œa™s
>

14 
	~<ut™y
>

16 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

17 
	~"¹c_ba£/»f_couÁ.h
"

18 
	~"¹c_ba£/»f_couÁ”.h
"

20 
Çme¥aû
 
	g¹c
 {

22 
	g‹m¶©e
 <
şass
 
	gT
>

23 şas 
	cRefCouÁedObjeù
 : 
public
 
T
 {

24 
public
:

25 
RefCouÁedObjeù
() {}

27 
‹m¶©e
 <
şass
 
P0
>

28 
ex¶ic™
 
RefCouÁedObjeù
(
P0
&& 
p0
è: 
T
(
¡d
::
fÜw¬d
<P0>(p0)) {}

30 
‹m¶©e
 <
şass
 
P0
, cÏs 
	gP1
, 
	gşass
... 
	gArgs
>

31 
RefCouÁedObjeù
(
P0
&& 
p0
, 
P1
&& 
p1
, 
Args
&&... 
¬gs
)

32 : 
T
(
¡d
::
fÜw¬d
<
P0
>(
p0
),

33 
¡d
::
fÜw¬d
<
P1
>(
p1
),

34 
¡d
::
fÜw¬d
<
Args
>(
¬gs
)...) {}

36 
vœtu®
 
AddRef
(ècÚ¡ { 
»f_couÁ_
.
IncRef
(); }

38 
vœtu®
 
RefCouÁR–—£Stus
 
R–—£
() const {

39 cÚ¡‡utØ
	g¡©us
 = 
»f_couÁ_
.
DecRef
();

40 ià(
	g¡©us
 =ğ
RefCouÁR–—£Stus
::
kDrİ³dLa¡Ref
) {

41 
d–‘e
 
this
;

43  
	g¡©us
;

52 
vœtu®
 
boŞ
 
HasOÃRef
(ècÚ¡ {  
	g»f_couÁ_
.HasOneRef(); }

54 
	g´Ùeùed
:

55 
vœtu®
 ~
RefCouÁedObjeù
() {}

57 
mubË
 
web¹c
::
web¹c_im¶
::
RefCouÁ”
 
»f_couÁ_
{0};

59 
RTC_DISALLOW_COPY_AND_ASSIGN
(
RefCouÁedObjeù
);

	@ref_counted_object_unittest.cc

11 
	~"¹c_ba£/»f_couÁed_objeù.h
"

13 
	~<memÜy
>

14 
	~<¡ršg
>

15 
	~<ut™y
>

17 
	~"­i/scİed_»åŒ.h
"

18 
	~"¹c_ba£/»f_couÁ.h
"

19 
	~"‹¡/g‹¡.h
"

21 
Çme¥aû
 
	g¹c
 {

23 
	gÇme¥aû
 {

25 şas 
	cA
 {

26 
	gpublic
:

27 
A
() {}

29 
´iv©e
:

30 
RTC_DISALLOW_COPY_AND_ASSIGN
(
A
);

33 şas 
	cRefCÏss
 : 
public
 
RefCouÁIÁ”çû
 {

34 
public
:

35 
RefCÏss
() {}

37 
´Ùeùed
:

38 ~
RefCÏss
(è
ov”ride
 {}

41 şas 
	cRefCÏssW™hRv®ue
 : 
public
 
RefCouÁIÁ”çû
 {

42 
public
:

43 
ex¶ic™
 
RefCÏssW™hRv®ue
(
¡d
::
unique_±r
<
A
> 
a
è: 
a_
(¡d::
move
(a)) {}

45 
´Ùeùed
:

46 ~
RefCÏssW™hRv®ue
(è
ov”ride
 {}

48 
public
:

49 
¡d
::
unique_±r
<
A
> 
a_
;

52 şas 
	cRefCÏssW™hMixedV®ues
 : 
public
 
RefCouÁIÁ”çû
 {

53 
public
:

54 
RefCÏssW™hMixedV®ues
(
¡d
::
unique_±r
<
A
> 
a
, 
b
, cÚ¡ std::
¡ršg
& 
c
)

55 : 
a_
(
¡d
::
move
(
a
)), 
b_
(
b
), 
c_
(
c
) {}

57 
	g´Ùeùed
:

58 ~
RefCÏssW™hMixedV®ues
(è
ov”ride
 {}

60 
public
:

61 
¡d
::
unique_±r
<
A
> 
a_
;

62 
	gb_
;

63 
	g¡d
::
¡ršg
 
c_
;

68 
	$TEST
(
RefCouÁedObjeù
, 
HasOÃRef
) {

69 
scİed_»åŒ
<
RefCouÁedObjeù
<
RefCÏss
>> 
	`¬ef
(

70 
Ãw
 
RefCouÁedObjeù
<
RefCÏss
>());

71 
	`EXPECT_TRUE
(
¬ef
->
	`HasOÃRef
());

72 
¬ef
->
	`AddRef
();

73 
	`EXPECT_FALSE
(
¬ef
->
	`HasOÃRef
());

74 
	`EXPECT_EQ
(
¬ef
->
	`R–—£
(), 
RefCouÁR–—£Stus
::
kOth”RefsRemašed
);

75 
	`EXPECT_TRUE
(
¬ef
->
	`HasOÃRef
());

76 
	}
}

78 
	$TEST
(
RefCouÁedObjeù
, 
SuµÜtRV®uesInCtÜ
) {

79 
¡d
::
unique_±r
<
A
> 
	`a
(
Ãw
 
	`A
());

80 
scİed_»åŒ
<
RefCÏssW™hRv®ue
> 
	`»f
(

81 
Ãw
 
RefCouÁedObjeù
<
RefCÏssW™hRv®ue
>(
¡d
::
	`move
(
a
)));

82 
	`EXPECT_TRUE
(
»f
->
a_
.
	`g‘
(è!ğ
nuÎ±r
);

83 
	`EXPECT_TRUE
(
a
.
	`g‘
(è=ğ
nuÎ±r
);

84 
	}
}

86 
	$TEST
(
RefCouÁedObjeù
, 
SuµÜtMixedTy³sInCtÜ
) {

87 
¡d
::
unique_±r
<
A
> 
	`a
(
Ãw
 
	`A
());

88 
b
 = 9;

89 
¡d
::
¡ršg
 
c
 = "hello";

90 
scİed_»åŒ
<
RefCÏssW™hMixedV®ues
> 
	`»f
(

91 
Ãw
 
RefCouÁedObjeù
<
RefCÏssW™hMixedV®ues
>(
¡d
::
	`move
(
a
), 
b
, 
c
));

92 
	`EXPECT_TRUE
(
»f
->
a_
.
	`g‘
(è!ğ
nuÎ±r
);

93 
	`EXPECT_TRUE
(
a
.
	`g‘
(è=ğ
nuÎ±r
);

94 
	`EXPECT_EQ
(
b
, 
»f
->
b_
);

95 
	`EXPECT_EQ
(
c
, 
»f
->
c_
);

96 
	}
}

	@ref_counter.h

10 #iâdeà
RTC_BASE_REF_COUNTER_H_


11 
	#RTC_BASE_REF_COUNTER_H_


	)

13 
	~<©omic
>

15 
	~"¹c_ba£/»f_couÁ.h
"

17 
Çme¥aû
 
	gweb¹c
 {

18 
Çme¥aû
 
	gweb¹c_im¶
 {

20 şas 
	cRefCouÁ”
 {

21 
	gpublic
:

22 
ex¶ic™
 
RefCouÁ”
(
»f_couÁ
è: 
»f_couÁ_
(ref_count) {}

23 
RefCouÁ”
(èğ
d–‘e
;

25 
IncRef
() {

29 
	g»f_couÁ_
.
ãtch_add
(1, 
¡d
::
memÜy_Üd”_»Ïxed
);

37 
	g¹c
::
RefCouÁR–—£Stus
 
DecRef
() {

47 
»f_couÁ_aá”_subŒaù
 =

48 
»f_couÁ_
.
ãtch_sub
(1, 
¡d
::
memÜy_Üd”_acq_»l
) - 1;

49  
	g»f_couÁ_aá”_subŒaù
 == 0

50 ? 
¹c
::
RefCouÁR–—£Stus
::
kDrİ³dLa¡Ref


51 : 
¹c
::
RefCouÁR–—£Stus
::
kOth”RefsRemašed
;

60 
boŞ
 
HasOÃRef
() const {

65  
	g»f_couÁ_
.
lßd
(
¡d
::
memÜy_Üd”_acquœe
) == 1;

68 
	g´iv©e
:

69 
¡d
::
©omic
<> 
»f_couÁ_
;

	@rolling_accumulator.h

11 #iâdeà
RTC_BASE_ROLLING_ACCUMULATOR_H_


12 
	#RTC_BASE_ROLLING_ACCUMULATOR_H_


	)

14 
	~<¡ddef.h
>

16 
	~<®gÜ™hm
>

17 
	~<veùÜ
>

19 
	~"¹c_ba£/checks.h
"

20 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

21 
	~"¹c_ba£/num”ics/ruÂšg_¡©i¡ics.h
"

23 
Çme¥aû
 
	g¹c
 {

29 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

30 şas 
	cRŞlšgAccumuÏtÜ
 {

31 
	gpublic
:

32 
ex¶ic™
 
RŞlšgAccumuÏtÜ
(
size_t
 
max_couÁ
è: 
§m¶es_
(max_count) {

33 
RTC_DCHECK
(
max_couÁ
 > 0);

34 
Re£t
();

36 ~
RŞlšgAccumuÏtÜ
() {}

38 
size_t
 
max_couÁ
(ècÚ¡ {  
	g§m¶es_
.
size
(); }

40 
size_t
 
couÁ
(ècÚ¡ {  
	g¡©ic_ÿ¡
<
	gsize_t
>(
	g¡©s_
.
Size
()); }

42 
Re£t
() {

43 
	g¡©s_
 = 
web¹c
::
RuÂšgSti¡ics
<
T
>();

44 
	gÃxt_šdex_
 = 0U;

45 
	gmax_
 = 
T
();

46 
	gmax_¡®e_
 = 
çl£
;

47 
	gmš_
 = 
T
();

48 
	gmš_¡®e_
 = 
çl£
;

51 
AddSam¶e
(
T
 
§m¶e
) {

52 ià(
couÁ
(è=ğ
max_couÁ
()) {

54 
T
 
§m¶e_to_»move
 = 
§m¶es_
[
Ãxt_šdex_
];

55 
	g¡©s_
.
RemoveSam¶e
(
§m¶e_to_»move
);

56 ià(
	g§m¶e_to_»move
 >ğ
max_
) {

57 
max_¡®e_
 = 
Œue
;

59 ià(
	g§m¶e_to_»move
 <ğ
mš_
) {

60 
mš_¡®e_
 = 
Œue
;

64 
	g§m¶es_
[
Ãxt_šdex_
] = 
§m¶e
;

65 ià(
couÁ
(è=ğ0 || 
§m¶e
 >ğ
max_
) {

66 
max_
 = 
§m¶e
;

67 
	gmax_¡®e_
 = 
çl£
;

69 ià(
couÁ
(è=ğ0 || 
§m¶e
 <ğ
mš_
) {

70 
mš_
 = 
§m¶e
;

71 
	gmš_¡®e_
 = 
çl£
;

73 
	g¡©s_
.
AddSam¶e
(
§m¶e
);

75 
	gÃxt_šdex_
 = (
Ãxt_šdex_
 + 1è% 
max_couÁ
();

78 
Compu‹M—n
(ècÚ¡ {  
	g¡©s_
.
G‘M—n
().
v®ue_Ü
(0); }

80 
T
 
Compu‹Max
() const {

81 ià(
	gmax_¡®e_
) {

82 
RTC_DCHECK
(
couÁ
() > 0)

84 
	gmax_
 = 
§m¶es_
[
Ãxt_šdex_
];

85 
size_t
 
	gi
 = 1u; i < 
couÁ
(); i++) {

86 
	gmax_
 = 
¡d
::
max
(
max_
, 
§m¶es_
[(
Ãxt_šdex_
 + 
i
è% 
max_couÁ
()]);

88 
	gmax_¡®e_
 = 
çl£
;

90  
	gmax_
;

93 
T
 
Compu‹Mš
() const {

94 ià(
	gmš_¡®e_
) {

95 
RTC_DCHECK
(
couÁ
() > 0)

97 
	gmš_
 = 
§m¶es_
[
Ãxt_šdex_
];

98 
size_t
 
	gi
 = 1u; i < 
couÁ
(); i++) {

99 
	gmš_
 = 
¡d
::
mš
(
mš_
, 
§m¶es_
[(
Ãxt_šdex_
 + 
i
è% 
max_couÁ
()]);

101 
	gmš_¡®e_
 = 
çl£
;

103  
	gmš_
;

109 
Compu‹Weigh‹dM—n
(
Ë¬nšg_¿‹
) const {

110 ià(
couÁ
(è< 1 || 
	gË¬nšg_¿‹
 <ğ0.0 || 
Ë¬nšg_¿‹
 >= 1.0) {

111  
Compu‹M—n
();

113 
	gweigh‹d_m—n
 = 0.0;

114 
	gcu¼’t_weight
 = 1.0;

115 
	gweight_sum
 = 0.0;

116 cÚ¡ 
size_t
 
	gmax_size
 = 
max_couÁ
();

117 
size_t
 
	gi
 = 0; i < 
couÁ
(); ++i) {

118 
	gcu¼’t_weight
 *ğ
Ë¬nšg_¿‹
;

119 
	gweight_sum
 +ğ
cu¼’t_weight
;

121 
size_t
 
	gšdex
 = (
Ãxt_šdex_
 + 
max_size
 - 
i
 - 1) % max_size;

122 
	gweigh‹d_m—n
 +ğ
cu¼’t_weight
 * 
§m¶es_
[
šdex
];

124  
	gweigh‹d_m—n
 / 
	gweight_sum
;

129 
Compu‹V¬Ÿnû
(ècÚ¡ {  
	g¡©s_
.
G‘V¬Ÿnû
().
v®ue_Ü
(0); }

131 
	g´iv©e
:

132 
web¹c
::
RuÂšgSti¡ics
<
T
> 
¡©s_
;

133 
size_t
 
	gÃxt_šdex_
;

134 
mubË
 
T
 
	gmax_
;

135 
mubË
 
boŞ
 
	gmax_¡®e_
;

136 
mubË
 
T
 
	gmš_
;

137 
mubË
 
boŞ
 
	gmš_¡®e_
;

138 
	g¡d
::
veùÜ
<
T
> 
§m¶es_
;

140 
RTC_DISALLOW_COPY_AND_ASSIGN
(
RŞlšgAccumuÏtÜ
);

	@rolling_accumulator_unittest.cc

11 
	~"¹c_ba£/rŞlšg_accumuÏtÜ.h
"

13 
	~<¿ndom
>

15 
	~"‹¡/g‹¡.h
"

17 
Çme¥aû
 
	g¹c
 {

19 
	gÇme¥aû
 {

21 cÚ¡ 
	gkL—ºšgR©e
 = 0.5;

24 
FlStsFromUnifÜmDi¡ributiÚ
(
RŞlšgAccumuÏtÜ
<>& 
¡©s
,

25 
n
,

26 
a
,

27 
b
) {

28 
	g¡d
::
mt19937
 
g’
{
¡d
::
¿ndom_deviû
()()};

29 
	g¡d
::
unifÜm_»®_di¡ributiÚ
<> 
dis
(
a
, 
b
);

31 
	gi
 = 1; i <ğ
n
; i++) {

32 
	g¡©s
.
AddSam¶e
(
dis
(
g’
));

37 
TEST
(
RŞlšgAccumuÏtÜTe¡
, 
Z”oSam¶es
) {

38 
	gRŞlšgAccumuÏtÜ
<> 
accum
(10);

40 
EXPECT_EQ
(0U, 
accum
.
couÁ
());

41 
EXPECT_DOUBLE_EQ
(0.0, 
accum
.
Compu‹M—n
());

42 
EXPECT_DOUBLE_EQ
(0.0, 
accum
.
Compu‹V¬Ÿnû
());

43 
EXPECT_EQ
(0, 
accum
.
Compu‹Mš
());

44 
EXPECT_EQ
(0, 
accum
.
Compu‹Max
());

47 
TEST
(
RŞlšgAccumuÏtÜTe¡
, 
SomeSam¶es
) {

48 
	gRŞlšgAccumuÏtÜ
<> 
accum
(10);

49 
	gi
 = 0; i < 4; ++i) {

50 
	gaccum
.
AddSam¶e
(
i
);

53 
EXPECT_EQ
(4U, 
accum
.
couÁ
());

54 
EXPECT_DOUBLE_EQ
(1.5, 
accum
.
Compu‹M—n
());

55 
EXPECT_NEAR
(2.26666, 
accum
.
Compu‹Weigh‹dM—n
(
kL—ºšgR©e
), 0.01);

56 
EXPECT_DOUBLE_EQ
(1.25, 
accum
.
Compu‹V¬Ÿnû
());

57 
EXPECT_EQ
(0, 
accum
.
Compu‹Mš
());

58 
EXPECT_EQ
(3, 
accum
.
Compu‹Max
());

61 
TEST
(
RŞlšgAccumuÏtÜTe¡
, 
RŞlšgSam¶es
) {

62 
	gRŞlšgAccumuÏtÜ
<> 
accum
(10);

63 
	gi
 = 0; i < 12; ++i) {

64 
	gaccum
.
AddSam¶e
(
i
);

67 
EXPECT_EQ
(10U, 
accum
.
couÁ
());

68 
EXPECT_DOUBLE_EQ
(6.5, 
accum
.
Compu‹M—n
());

69 
EXPECT_NEAR
(10.0, 
accum
.
Compu‹Weigh‹dM—n
(
kL—ºšgR©e
), 0.01);

70 
EXPECT_NEAR
(9.0, 
accum
.
Compu‹V¬Ÿnû
(), 1.0);

71 
EXPECT_EQ
(2, 
accum
.
Compu‹Mš
());

72 
EXPECT_EQ
(11, 
accum
.
Compu‹Max
());

75 
TEST
(
RŞlšgAccumuÏtÜTe¡
, 
Re£tSam¶es
) {

76 
	gRŞlšgAccumuÏtÜ
<> 
accum
(10);

78 
	gi
 = 0; i < 10; ++i) {

79 
	gaccum
.
AddSam¶e
(100);

81 
EXPECT_EQ
(10U, 
accum
.
couÁ
());

82 
EXPECT_DOUBLE_EQ
(100.0, 
accum
.
Compu‹M—n
());

83 
EXPECT_EQ
(100, 
accum
.
Compu‹Mš
());

84 
EXPECT_EQ
(100, 
accum
.
Compu‹Max
());

86 
	gaccum
.
Re£t
();

87 
EXPECT_EQ
(0U, 
accum
.
couÁ
());

89 
	gi
 = 0; i < 5; ++i) {

90 
	gaccum
.
AddSam¶e
(
i
);

93 
EXPECT_EQ
(5U, 
accum
.
couÁ
());

94 
EXPECT_DOUBLE_EQ
(2.0, 
accum
.
Compu‹M—n
());

95 
EXPECT_EQ
(0, 
accum
.
Compu‹Mš
());

96 
EXPECT_EQ
(4, 
accum
.
Compu‹Max
());

99 
TEST
(
RŞlšgAccumuÏtÜTe¡
, 
RŞlšgSam¶esDoubË
) {

100 
	gRŞlšgAccumuÏtÜ
<> 
accum
(10);

101 
	gi
 = 0; i < 23; ++i) {

102 
	gaccum
.
AddSam¶e
(5 * 
i
);

105 
EXPECT_EQ
(10u, 
accum
.
couÁ
());

106 
EXPECT_DOUBLE_EQ
(87.5, 
accum
.
Compu‹M—n
());

107 
EXPECT_NEAR
(105.049, 
accum
.
Compu‹Weigh‹dM—n
(
kL—ºšgR©e
), 0.1);

108 
EXPECT_NEAR
(229.166667, 
accum
.
Compu‹V¬Ÿnû
(), 25);

109 
EXPECT_DOUBLE_EQ
(65.0, 
accum
.
Compu‹Mš
());

110 
EXPECT_DOUBLE_EQ
(110.0, 
accum
.
Compu‹Max
());

113 
TEST
(
RŞlšgAccumuÏtÜTe¡
, 
Compu‹Weigh‹dM—nCÜÃrCa£s
) {

114 
	gRŞlšgAccumuÏtÜ
<> 
accum
(10);

115 
EXPECT_DOUBLE_EQ
(0.0, 
accum
.
Compu‹Weigh‹dM—n
(
kL—ºšgR©e
));

116 
EXPECT_DOUBLE_EQ
(0.0, 
accum
.
Compu‹Weigh‹dM—n
(0.0));

117 
EXPECT_DOUBLE_EQ
(0.0, 
accum
.
Compu‹Weigh‹dM—n
(1.1));

119 
	gi
 = 0; i < 8; ++i) {

120 
	gaccum
.
AddSam¶e
(
i
);

123 
EXPECT_DOUBLE_EQ
(3.5, 
accum
.
Compu‹M—n
());

124 
EXPECT_DOUBLE_EQ
(3.5, 
accum
.
Compu‹Weigh‹dM—n
(0));

125 
EXPECT_DOUBLE_EQ
(3.5, 
accum
.
Compu‹Weigh‹dM—n
(1.1));

126 
EXPECT_NEAR
(6.0, 
accum
.
Compu‹Weigh‹dM—n
(
kL—ºšgR©e
), 0.1);

129 
TEST
(
RŞlšgAccumuÏtÜTe¡
, 
V¬ŸnûFromUnifÜmDi¡ributiÚ
) {

132 
	gRŞlšgAccumuÏtÜ
<> 
¡©s
( 0.5e6);

133 
FlStsFromUnifÜmDi¡ributiÚ
(
¡©s
, 1e6, 0, 1);

135 
EXPECT_NEAR
(
¡©s
.
Compu‹V¬Ÿnû
(), 1. / 12, 1e-3);

138 
TEST
(
RŞlšgAccumuÏtÜTe¡
, 
Num”icSb™yFÜV¬Ÿnû
) {

145 
	gRŞlšgAccumuÏtÜ
<> 
¡©s
( 0.5e6);

146 
FlStsFromUnifÜmDi¡ributiÚ
(
¡©s
, 1e6, 1e9, 1e9 + 1);

148 
EXPECT_NEAR
(
¡©s
.
Compu‹V¬Ÿnû
(), 1. / 12, 1e-3);

	@rtc_certificate.cc

11 
	~"¹c_ba£/¹c_û¹ifiÿ‹.h
"

13 
	~<memÜy
>

15 
	~"¹c_ba£/checks.h
"

16 
	~"¹c_ba£/»f_couÁed_objeù.h
"

17 
	~"¹c_ba£/s¦_û¹ifiÿ‹.h
"

18 
	~"¹c_ba£/s¦_id’t™y.h
"

19 
	~"¹c_ba£/time_uts.h
"

21 
Çme¥aû
 
	g¹c
 {

23 
	gscİed_»åŒ
<
	gRTCC”tifiÿ‹
> RTCC”tifiÿ‹::
C»©e
(

24 
¡d
::
unique_±r
<
SSLId’t™y
> 
id’t™y
) {

25  
Ãw
 
RefCouÁedObjeù
<
RTCC”tifiÿ‹
>(
id’t™y
.
»Ëa£
());

28 
	gRTCC”tifiÿ‹
::
RTCC”tifiÿ‹
(
SSLId’t™y
* 
id’t™y
è: 
id’t™y_
(identity) {

29 
RTC_DCHECK
(
id’t™y_
);

32 
	gRTCC”tifiÿ‹
::~
RTCC”tifiÿ‹
() {}

34 
ušt64_t
 
RTCC”tifiÿ‹
::
Expœes
() const {

35 
št64_t
 
expœes
 = 
G‘SSLC”tifiÿ‹
().
C”tifiÿ‹Expœ©iÚTime
();

36 ià(
	gexpœes
 != -1)

37  
¡©ic_ÿ¡
<
ušt64_t
>(
expœes
è* 
kNumMli£csP”Sec
;

42 
boŞ
 
	gRTCC”tifiÿ‹
::
HasExpœed
(
ušt64_t
 
now
) const {

43  
Expœes
(è<ğ
now
;

46 cÚ¡ 
	gSSLC”tifiÿ‹
& 
	gRTCC”tifiÿ‹
::
G‘SSLC”tifiÿ‹
() const {

47  
id’t™y_
->
û¹ifiÿ‹
();

51 cÚ¡ 
	gSSLC”tifiÿ‹
& 
	gRTCC”tifiÿ‹
::
s¦_û¹ifiÿ‹
() const {

52  
id’t™y_
->
û¹ifiÿ‹
();

55 cÚ¡ 
	gSSLC”tChaš
& 
	gRTCC”tifiÿ‹
::
G‘SSLC”tifiÿ‹Chaš
() const {

56  
id’t™y_
->
û¹_chaš
();

59 
RTCC”tifiÿ‹PEM
 
	gRTCC”tifiÿ‹
::
ToPEM
() const {

60  
RTCC”tifiÿ‹PEM
(
id’t™y_
->
Priv©eKeyToPEMSŒšg
(),

61 
G‘SSLC”tifiÿ‹
().
ToPEMSŒšg
());

64 
	gscİed_»åŒ
<
	gRTCC”tifiÿ‹
> RTCC”tifiÿ‹::
FromPEM
(

65 cÚ¡ 
RTCC”tifiÿ‹PEM
& 
³m
) {

66 
¡d
::
unique_±r
<
SSLId’t™y
> 
id’t™y
(

67 
SSLId’t™y
::
C»©eFromPEMSŒšgs
(
³m
.
´iv©e_key
(),…em.
û¹ifiÿ‹
()));

68 ià(!
	gid’t™y
)

69  
	gnuÎ±r
;

70  
Ãw
 
	gRefCouÁedObjeù
<
	gRTCC”tifiÿ‹
>(
	gid’t™y
.
»Ëa£
());

73 
boŞ
 
	gRTCC”tifiÿ‹
::
İ”©Ü
==(cÚ¡ 
RTCC”tifiÿ‹
& 
û¹ifiÿ‹
) const {

74  *
this
->
id’t™y_
 =ğ*
û¹ifiÿ‹
.identity_;

77 
boŞ
 
	gRTCC”tifiÿ‹
::
İ”©Ü
!=(cÚ¡ 
RTCC”tifiÿ‹
& 
û¹ifiÿ‹
) const {

78  !(*
this
 =ğ
û¹ifiÿ‹
);

	@rtc_certificate.h

11 #iâdeà
RTC_BASE_RTC_CERTIFICATE_H_


12 
	#RTC_BASE_RTC_CERTIFICATE_H_


	)

14 
	~<¡dšt.h
>

16 
	~<memÜy
>

17 
	~<¡ršg
>

19 
	~"­i/scİed_»åŒ.h
"

20 
	~"¹c_ba£/»f_couÁ.h
"

21 
	~"¹c_ba£/sy¡em/¹c_expÜt.h
"

23 
Çme¥aû
 
	g¹c
 {

25 
şass
 
	gSSLC”tChaš
;

26 
şass
 
	gSSLC”tifiÿ‹
;

27 
şass
 
	gSSLId’t™y
;

35 şas 
	cRTCC”tifiÿ‹PEM
 {

36 
	gpublic
:

37 
RTCC”tifiÿ‹PEM
(cÚ¡ 
¡d
::
¡ršg
& 
´iv©e_key
,

38 cÚ¡ 
¡d
::
¡ršg
& 
û¹ifiÿ‹
)

39 : 
´iv©e_key_
(
´iv©e_key
), 
û¹ifiÿ‹_
(
û¹ifiÿ‹
) {}

41 cÚ¡ 
	g¡d
::
¡ršg
& 
´iv©e_key
(ècÚ¡ {  
´iv©e_key_
; }

42 cÚ¡ 
	g¡d
::
¡ršg
& 
û¹ifiÿ‹
(ècÚ¡ {  
û¹ifiÿ‹_
; }

44 
	g´iv©e
:

45 
¡d
::
¡ršg
 
´iv©e_key_
;

46 
	g¡d
::
¡ršg
 
û¹ifiÿ‹_
;

52 şas 
	cRTC_EXPORT
 
	gRTCC”tifiÿ‹
 : 
public
 
RefCouÁIÁ”çû
 {

53 
public
:

55 
scİed_»åŒ
<
RTCC”tifiÿ‹
> 
C»©e
(

56 
¡d
::
unique_±r
<
SSLId’t™y
> 
id’t™y
);

59 
ušt64_t
 
Expœes
() const;

62 
boŞ
 
HasExpœed
(
ušt64_t
 
now
) const;

64 cÚ¡ 
	gSSLC”tifiÿ‹
& 
G‘SSLC”tifiÿ‹
() const;

65 cÚ¡ 
	gSSLC”tChaš
& 
G‘SSLC”tifiÿ‹Chaš
() const;

68 cÚ¡ 
	gSSLC”tifiÿ‹
& 
s¦_û¹ifiÿ‹
() const;

74 
SSLId’t™y
* 
id’t™y
(ècÚ¡ {  
	gid’t™y_
.
g‘
(); }

77 
RTCC”tifiÿ‹PEM
 
ToPEM
() const;

79 
	gscİed_»åŒ
<
	gRTCC”tifiÿ‹
> 
FromPEM
(cÚ¡ 
RTCC”tifiÿ‹PEM
& 
³m
);

80 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
RTCC”tifiÿ‹
& 
û¹ifiÿ‹
) const;

81 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
RTCC”tifiÿ‹
& 
û¹ifiÿ‹
) const;

83 
	g´Ùeùed
:

84 
ex¶ic™
 
RTCC”tifiÿ‹
(
SSLId’t™y
* 
id’t™y
);

85 ~
RTCC”tifiÿ‹
(è
	gov”ride
;

87 
	g´iv©e
:

90 
¡d
::
unique_±r
<
SSLId’t™y
> 
id’t™y_
;

	@rtc_certificate_generator.cc

11 
	~"¹c_ba£/¹c_û¹ifiÿ‹_g’”©Ü.h
"

13 
	~<time.h
>

15 
	~<®gÜ™hm
>

16 
	~<memÜy
>

17 
	~<ut™y
>

19 
	~"¹c_ba£/checks.h
"

20 
	~"¹c_ba£/loÿtiÚ.h
"

21 
	~"¹c_ba£/mes§ge_hªdËr.h
"

22 
	~"¹c_ba£/»f_couÁed_objeù.h
"

23 
	~"¹c_ba£/s¦_id’t™y.h
"

25 
Çme¥aû
 
	g¹c
 {

27 
	gÇme¥aû
 {

30 cÚ¡ 
	gkId’t™yName
[] = "WebRTC";

31 cÚ¡ 
ušt64_t
 
	gkY—rInSecÚds
 = 365 * 24 * 60 * 60;

34 
	gMSG_GENERATE
,

35 
	gMSG_GENERATE_DONE
,

42 
şass
 
	gRTCC”tifiÿ‹G’”©iÚTask
 : 
public
 
RefCouÁIÁ”çû
,

43 
public
 
	gMes§geHªdËr
 {

44 
	gpublic
:

45 
RTCC”tifiÿ‹G’”©iÚTask
(

46 
Th»ad
* 
sigÇlšg_th»ad
,

47 
Th»ad
* 
wÜk”_th»ad
,

48 cÚ¡ 
KeyP¬ams
& 
key_·¿ms
,

49 cÚ¡ 
ab¦
::
İtiÚ®
<
ušt64_t
>& 
expœes_ms
,

50 cÚ¡ 
scİed_»åŒ
<
RTCC”tifiÿ‹G’”©ÜC®lback
>& 
ÿÎback
)

51 : 
sigÇlšg_th»ad_
(
sigÇlšg_th»ad
),

52 
wÜk”_th»ad_
(
wÜk”_th»ad
),

53 
key_·¿ms_
(
key_·¿ms
),

54 
expœes_ms_
(
expœes_ms
),

55 
ÿÎback_
(
ÿÎback
) {

56 
RTC_DCHECK
(
sigÇlšg_th»ad_
);

57 
RTC_DCHECK
(
wÜk”_th»ad_
);

58 
RTC_DCHECK
(
ÿÎback_
);

60 ~
RTCC”tifiÿ‹G’”©iÚTask
(è
	gov”ride
 {}

63 
OnMes§ge
(
Mes§ge
* 
msg
è
	gov”ride
 {

64 
	gmsg
->
	gmes§ge_id
) {

65 
	gMSG_GENERATE
:

66 
RTC_DCHECK
(
wÜk”_th»ad_
->
IsCu¼’t
());

68 
	gû¹ifiÿ‹_
 = 
RTCC”tifiÿ‹G’”©Ü
::
G’”©eC”tifiÿ‹
(

69 
key_·¿ms_
, 
expœes_ms_
);

72 
	gsigÇlšg_th»ad_
->
Po¡
(
RTC_FROM_HERE
, 
this
, 
MSG_GENERATE_DONE
,

73 
msg
->
pd©a
);

75 
	gMSG_GENERATE_DONE
:

76 
RTC_DCHECK
(
sigÇlšg_th»ad_
->
IsCu¼’t
());

78 ià(
	gû¹ifiÿ‹_
) {

79 
	gÿÎback_
->
OnSucûss
(
û¹ifiÿ‹_
);

81 
	gÿÎback_
->
OnFau»
();

86 
d–‘e
 
	gmsg
->
	gpd©a
;

89 
RTC_NOTREACHED
();

93 
	g´iv©e
:

94 
Th»ad
* cÚ¡ 
sigÇlšg_th»ad_
;

95 
Th»ad
* cÚ¡ 
	gwÜk”_th»ad_
;

96 cÚ¡ 
KeyP¬ams
 
	gkey_·¿ms_
;

97 cÚ¡ 
	gab¦
::
İtiÚ®
<
ušt64_t
> 
expœes_ms_
;

98 cÚ¡ 
	gscİed_»åŒ
<
	gRTCC”tifiÿ‹G’”©ÜC®lback
> 
	gÿÎback_
;

99 
	gscİed_»åŒ
<
	gRTCC”tifiÿ‹
> 
	gû¹ifiÿ‹_
;

105 
	gscİed_»åŒ
<
	gRTCC”tifiÿ‹
> 
	gRTCC”tifiÿ‹G’”©Ü
::
G’”©eC”tifiÿ‹
(

106 cÚ¡ 
KeyP¬ams
& 
key_·¿ms
,

107 cÚ¡ 
ab¦
::
İtiÚ®
<
ušt64_t
>& 
expœes_ms
) {

108 ià(!
key_·¿ms
.
IsV®id
()) {

109  
nuÎ±r
;

112 
	g¡d
::
unique_±r
<
SSLId’t™y
> 
id’t™y
;

113 ià(!
	gexpœes_ms
) {

114 
	gid’t™y
 = 
SSLId’t™y
::
C»©e
(
kId’t™yName
, 
key_·¿ms
);

116 
ušt64_t
 
	gexpœes_s
 = *
expœes_ms
 / 1000;

120 
	gexpœes_s
 = 
¡d
::
mš
(
expœes_s
, 
kY—rInSecÚds
);

125 
time_t
 
	gû¹_liãtime_s
 = 
¡©ic_ÿ¡
<time_t>(
expœes_s
);

126 
	gid’t™y
 = 
SSLId’t™y
::
C»©e
(
kId’t™yName
, 
key_·¿ms
, 
û¹_liãtime_s
);

128 ià(!
	gid’t™y
) {

129  
	gnuÎ±r
;

131  
	gRTCC”tifiÿ‹
::
C»©e
(
¡d
::
move
(
id’t™y
));

134 
	gRTCC”tifiÿ‹G’”©Ü
::
RTCC”tifiÿ‹G’”©Ü
(
Th»ad
* 
sigÇlšg_th»ad
,

135 
Th»ad
* 
wÜk”_th»ad
)

136 : 
sigÇlšg_th»ad_
(
sigÇlšg_th»ad
), 
wÜk”_th»ad_
(
wÜk”_th»ad
) {

137 
RTC_DCHECK
(
sigÇlšg_th»ad_
);

138 
RTC_DCHECK
(
wÜk”_th»ad_
);

141 
	gRTCC”tifiÿ‹G’”©Ü
::
G’”©eC”tifiÿ‹Async
(

142 cÚ¡ 
KeyP¬ams
& 
key_·¿ms
,

143 cÚ¡ 
ab¦
::
İtiÚ®
<
ušt64_t
>& 
expœes_ms
,

144 cÚ¡ 
scİed_»åŒ
<
RTCC”tifiÿ‹G’”©ÜC®lback
>& 
ÿÎback
) {

145 
RTC_DCHECK
(
sigÇlšg_th»ad_
->
IsCu¼’t
());

146 
RTC_DCHECK
(
ÿÎback
);

151 
	gScİedRefMes§geD©a
<
	gRTCC”tifiÿ‹G’”©iÚTask
>* 
	gmsg_d©a
 =

152 
Ãw
 
ScİedRefMes§geD©a
<
RTCC”tifiÿ‹G’”©iÚTask
>(

153 
Ãw
 
RefCouÁedObjeù
<
RTCC”tifiÿ‹G’”©iÚTask
>(

154 
sigÇlšg_th»ad_
, 
	gwÜk”_th»ad_
, 
	gkey_·¿ms
, 
	gexpœes_ms
,

155 
	gÿÎback
));

156 
	gwÜk”_th»ad_
->
Po¡
(
RTC_FROM_HERE
, 
msg_d©a
->
d©a
().
g‘
(), 
MSG_GENERATE
,

157 
msg_d©a
);

	@rtc_certificate_generator.h

11 #iâdeà
RTC_BASE_RTC_CERTIFICATE_GENERATOR_H_


12 
	#RTC_BASE_RTC_CERTIFICATE_GENERATOR_H_


	)

14 
	~<¡dšt.h
>

16 
	~"ab¦/ty³s/İtiÚ®.h
"

17 
	~"­i/scİed_»åŒ.h
"

18 
	~"¹c_ba£/»f_couÁ.h
"

19 
	~"¹c_ba£/¹c_û¹ifiÿ‹.h
"

20 
	~"¹c_ba£/s¦_id’t™y.h
"

21 
	~"¹c_ba£/sy¡em/¹c_expÜt.h
"

22 
	~"¹c_ba£/th»ad.h
"

24 
Çme¥aû
 
	g¹c
 {

27 şas 
	cRTCC”tifiÿ‹G’”©ÜC®lback
 : 
public
 
RefCouÁIÁ”çû
 {

28 
public
:

29 
vœtu®
 
OnSucûss
(cÚ¡ 
scİed_»åŒ
<
RTCC”tifiÿ‹
>& 
û¹ifiÿ‹
) = 0;

30 
vœtu®
 
OnFau»
() = 0;

32 
	g´Ùeùed
:

33 ~
RTCC”tifiÿ‹G’”©ÜC®lback
(è
ov”ride
 {}

38 şas 
	cRTCC”tifiÿ‹G’”©ÜIÁ”çû
 {

39 
	gpublic
:

40 
vœtu®
 ~
RTCC”tifiÿ‹G’”©ÜIÁ”çû
() {}

47 
vœtu®
 
G’”©eC”tifiÿ‹Async
(

48 cÚ¡ 
KeyP¬ams
& 
key_·¿ms
,

49 cÚ¡ 
ab¦
::
İtiÚ®
<
ušt64_t
>& 
expœes_ms
,

50 cÚ¡ 
scİed_»åŒ
<
RTCC”tifiÿ‹G’”©ÜC®lback
>& 
ÿÎback
) = 0;

57 şas 
	cRTC_EXPORT
 
	gRTCC”tifiÿ‹G’”©Ü


58 : 
public
 
RTCC”tifiÿ‹G’”©ÜIÁ”çû
 {

59 
public
:

65 
scİed_»åŒ
<
RTCC”tifiÿ‹
> 
G’”©eC”tifiÿ‹
(

66 cÚ¡ 
KeyP¬ams
& 
key_·¿ms
,

67 cÚ¡ 
ab¦
::
İtiÚ®
<
ušt64_t
>& 
expœes_ms
);

69 
RTCC”tifiÿ‹G’”©Ü
(
Th»ad
* 
sigÇlšg_th»ad
, Th»ad* 
wÜk”_th»ad
);

70 ~
RTCC”tifiÿ‹G’”©Ü
(è
	gov”ride
 {}

77 
G’”©eC”tifiÿ‹Async
(

78 cÚ¡ 
KeyP¬ams
& 
key_·¿ms
,

79 cÚ¡ 
ab¦
::
İtiÚ®
<
ušt64_t
>& 
expœes_ms
,

80 cÚ¡ 
scİed_»åŒ
<
RTCC”tifiÿ‹G’”©ÜC®lback
>& 
ÿÎback
è
	gov”ride
;

82 
	g´iv©e
:

83 
Th»ad
* cÚ¡ 
sigÇlšg_th»ad_
;

84 
Th»ad
* cÚ¡ 
	gwÜk”_th»ad_
;

	@rtc_certificate_generator_unittest.cc

11 
	~"¹c_ba£/¹c_û¹ifiÿ‹_g’”©Ü.h
"

13 
	~<memÜy
>

15 
	~"ab¦/ty³s/İtiÚ®.h
"

16 
	~"¹c_ba£/checks.h
"

17 
	~"¹c_ba£/gun™.h
"

18 
	~"¹c_ba£/»f_couÁed_objeù.h
"

19 
	~"¹c_ba£/th»ad.h
"

20 
	~"‹¡/g‹¡.h
"

22 
Çme¥aû
 
	g¹c
 {

24 şas 
	cRTCC”tifiÿ‹G’”©ÜFixtu»
 : 
public
 
RTCC”tifiÿ‹G’”©ÜC®lback
 {

25 
public
:

26 
RTCC”tifiÿ‹G’”©ÜFixtu»
()

27 : 
sigÇlšg_th»ad_
(
Th»ad
::
Cu¼’t
()),

28 
wÜk”_th»ad_
(
Th»ad
::
C»©e
()),

29 
g’”©e_async_com¶‘ed_
(
çl£
) {

30 
RTC_CHECK
(
sigÇlšg_th»ad_
);

31 
RTC_CHECK
(
wÜk”_th»ad_
->
S¹
());

32 
	gg’”©Ü_
.
»£t
(

33 
Ãw
 
RTCC”tifiÿ‹G’”©Ü
(
sigÇlšg_th»ad_
, 
wÜk”_th»ad_
.
g‘
()));

35 ~
RTCC”tifiÿ‹G’”©ÜFixtu»
(è
	gov”ride
 {}

37 
RTCC”tifiÿ‹G’”©Ü
* 
g’”©Ü
(ècÚ¡ {  
	gg’”©Ü_
.
g‘
(); }

38 
RTCC”tifiÿ‹
* 
û¹ifiÿ‹
(ècÚ¡ {  
	gû¹ifiÿ‹_
.
g‘
(); }

40 
OnSucûss
(cÚ¡ 
scİed_»åŒ
<
RTCC”tifiÿ‹
>& 
û¹ifiÿ‹
è
	gov”ride
 {

41 
RTC_CHECK
(
sigÇlšg_th»ad_
->
IsCu¼’t
());

42 
RTC_CHECK
(
û¹ifiÿ‹
);

43 
	gû¹ifiÿ‹_
 = 
û¹ifiÿ‹
;

44 
	gg’”©e_async_com¶‘ed_
 = 
Œue
;

46 
OnFau»
(è
	gov”ride
 {

47 
RTC_CHECK
(
sigÇlšg_th»ad_
->
IsCu¼’t
());

48 
	gû¹ifiÿ‹_
 = 
nuÎ±r
;

49 
	gg’”©e_async_com¶‘ed_
 = 
Œue
;

52 
boŞ
 
G’”©eAsyncCom¶‘ed
() {

53 
RTC_CHECK
(
sigÇlšg_th»ad_
->
IsCu¼’t
());

54 ià(
	gg’”©e_async_com¶‘ed_
) {

56 
	gg’”©e_async_com¶‘ed_
 = 
çl£
;

57  
	gŒue
;

59  
	gçl£
;

62 
	g´Ùeùed
:

63 
Th»ad
* cÚ¡ 
sigÇlšg_th»ad_
;

64 
	g¡d
::
unique_±r
<
Th»ad
> 
wÜk”_th»ad_
;

65 
	g¡d
::
unique_±r
<
RTCC”tifiÿ‹G’”©Ü
> 
g’”©Ü_
;

66 
	gscİed_»åŒ
<
	gRTCC”tifiÿ‹
> 
	gû¹ifiÿ‹_
;

67 
boŞ
 
	gg’”©e_async_com¶‘ed_
;

70 şas 
	cRTCC”tifiÿ‹G’”©ÜTe¡
 : 
public
 ::
‹¡šg
::
Te¡
 {

71 
public
:

72 
RTCC”tifiÿ‹G’”©ÜTe¡
()

73 : 
fixtu»_
(
Ãw
 
RefCouÁedObjeù
<
RTCC”tifiÿ‹G’”©ÜFixtu»
>()) {}

75 
´Ùeùed
:

76 
cÚ¡ex´
 
kG’”©iÚTimeoutMs
 = 10000;

78 
	gscİed_»åŒ
<
	gRTCC”tifiÿ‹G’”©ÜFixtu»
> 
	gfixtu»_
;

81 
	$TEST_F
(
RTCC”tifiÿ‹G’”©ÜTe¡
, 
G’”©eECDSA
) {

82 
	`EXPECT_TRUE
(
RTCC”tifiÿ‹G’”©Ü
::
	`G’”©eC”tifiÿ‹
(
KeyP¬ams
::
	`ECDSA
(),

83 
ab¦
::
nuÎİt
));

84 
	}
}

86 
	$TEST_F
(
RTCC”tifiÿ‹G’”©ÜTe¡
, 
G’”©eRSA
) {

87 
	`EXPECT_TRUE
(
RTCC”tifiÿ‹G’”©Ü
::
	`G’”©eC”tifiÿ‹
(
KeyP¬ams
::
	`RSA
(),

88 
ab¦
::
nuÎİt
));

89 
	}
}

91 
	$TEST_F
(
RTCC”tifiÿ‹G’”©ÜTe¡
, 
G’”©eAsyncECDSA
) {

92 
	`EXPECT_FALSE
(
fixtu»_
->
	`û¹ifiÿ‹
());

93 
fixtu»_
->
	`g’”©Ü
()->
	`G’”©eC”tifiÿ‹Async
(
KeyP¬ams
::
	`ECDSA
(),

94 
ab¦
::
nuÎİt
, 
fixtu»_
);

98 
	`EXPECT_FALSE
(
fixtu»_
->
	`G’”©eAsyncCom¶‘ed
());

99 
	`EXPECT_FALSE
(
fixtu»_
->
	`û¹ifiÿ‹
());

100 
	`EXPECT_TRUE_WAIT
(
fixtu»_
->
	`G’”©eAsyncCom¶‘ed
(), 
kG’”©iÚTimeoutMs
);

101 
	`EXPECT_TRUE
(
fixtu»_
->
	`û¹ifiÿ‹
());

102 
	}
}

104 
	$TEST_F
(
RTCC”tifiÿ‹G’”©ÜTe¡
, 
G’”©eW™hExpœes
) {

112 
scİed_»åŒ
<
RTCC”tifiÿ‹
> 
û¹_a
 =

113 
RTCC”tifiÿ‹G’”©Ü
::
	`G’”©eC”tifiÿ‹
(
KeyP¬ams
::
	`ECDSA
(), 0);

114 
	`EXPECT_TRUE
(
û¹_a
);

117 cÚ¡ 
ušt64_t
 
kExpœesMs
 = 60000;

118 
scİed_»åŒ
<
RTCC”tifiÿ‹
> 
û¹_b
 =

119 
RTCC”tifiÿ‹G’”©Ü
::
	`G’”©eC”tifiÿ‹
(
KeyP¬ams
::
	`ECDSA
(),

120 
kExpœesMs
);

121 
	`EXPECT_TRUE
(
û¹_b
);

125 
	`EXPECT_GT
(
û¹_b
->
	`Expœes
(), 
û¹_a
->Expires());

126 
ušt64_t
 
expœes_diff
 = 
û¹_b
->
	`Expœes
(è- 
û¹_a
->Expires();

127 
	`EXPECT_GE
(
expœes_diff
, 
kExpœesMs
);

128 
	`EXPECT_LE
(
expœes_diff
, 
kExpœesMs
 + 2 * 
kG’”©iÚTimeoutMs
 + 1000);

129 
	}
}

131 
	$TEST_F
(
RTCC”tifiÿ‹G’”©ÜTe¡
, 
G’”©eW™hInv®idP¬amsShouldFa
) {

132 
KeyP¬ams
 
šv®id_·¿ms
 = KeyP¬ams::
	`RSA
(0, 0);

133 
	`EXPECT_FALSE
(
šv®id_·¿ms
.
	`IsV®id
());

135 
	`EXPECT_FALSE
(
RTCC”tifiÿ‹G’”©Ü
::
	`G’”©eC”tifiÿ‹
(
šv®id_·¿ms
,

136 
ab¦
::
nuÎİt
));

138 
fixtu»_
->
	`g’”©Ü
()->
	`G’”©eC”tifiÿ‹Async
(
šv®id_·¿ms
, 
ab¦
::
nuÎİt
,

139 
fixtu»_
);

140 
	`EXPECT_TRUE_WAIT
(
fixtu»_
->
	`G’”©eAsyncCom¶‘ed
(), 
kG’”©iÚTimeoutMs
);

141 
	`EXPECT_FALSE
(
fixtu»_
->
	`û¹ifiÿ‹
());

142 
	}
}

	@rtc_certificate_unittest.cc

11 
	~"¹c_ba£/¹c_û¹ifiÿ‹.h
"

13 
	~<time.h
>

15 
	~<memÜy
>

16 
	~<ut™y
>

18 
	~"¹c_ba£/checks.h
"

19 
	~"¹c_ba£/num”ics/§ã_cÚv”siÚs.h
"

20 
	~"¹c_ba£/s¦_id’t™y.h
"

21 
	~"¹c_ba£/time_uts.h
"

22 
	~"‹¡/g‹¡.h
"

24 
Çme¥aû
 
	g¹c
 {

26 
	gÇme¥aû
 {

28 cÚ¡ * 
	gkTe¡C”tCommÚName
 = "RTCCertificateTest's certificate";

32 şas 
	cRTCC”tifiÿ‹Te¡
 : 
public
 ::
‹¡šg
::
Te¡
 {

33 
´Ùeùed
:

34 
scİed_»åŒ
<
RTCC”tifiÿ‹
> 
G’”©eECDSA
() {

35 
¡d
::
unique_±r
<
SSLId’t™y
> 
id’t™y
(

36 
SSLId’t™y
::
C»©e
(
kTe¡C”tCommÚName
, 
KeyP¬ams
::
ECDSA
()));

37 
RTC_CHECK
(
id’t™y
);

38  
	gRTCC”tifiÿ‹
::
C»©e
(
¡d
::
move
(
id’t™y
));

50 
ušt64_t
 
NowSecÚds
(ècÚ¡ {  
TimeNªos
(è/ 
	gkNumNªo£csP”Sec
; }

52 
ušt64_t
 
ExpœesSecÚds
(cÚ¡ 
scİed_»åŒ
<
RTCC”tifiÿ‹
>& 
û¹
) const {

53 
ušt64_t
 
	gexp_ms
 = 
û¹
->
Expœes
();

54 
ušt64_t
 
	gexp_s
 = 
exp_ms
 / 
kNumMli£csP”Sec
;

56 
RTC_CHECK_EQ
(
exp_s
 * 
kNumMli£csP”Sec
, 
exp_ms
);

57  
	gexp_s
;

60 
boŞ
 
HasExpœedSecÚds
(cÚ¡ 
scİed_»åŒ
<
RTCC”tifiÿ‹
>& 
û¹
,

61 
ušt64_t
 
now_s
) const {

62  
	gû¹
->
HasExpœed
(
now_s
 * 
kNumMli£csP”Sec
);

69 
	gscİed_»åŒ
<
	gRTCC”tifiÿ‹
> 
G’”©eC”tifiÿ‹W™hExpœes
(

70 
ušt64_t
 
expœes_s
) const {

71 
RTC_CHECK
(
IsV®ueInRªgeFÜNum”icTy³
<
time_t
>(
expœes_s
));

73 
SSLId’t™yP¬ams
 
	g·¿ms
;

74 
	g·¿ms
.
	gcommÚ_Çme
 = 
kTe¡C”tCommÚName
;

75 
	g·¿ms
.
	gnÙ_befÜe
 = 0;

76 
	g·¿ms
.
	gnÙ_aá”
 = 
¡©ic_ÿ¡
<
time_t
>(
expœes_s
);

79 
	g·¿ms
.
	gkey_·¿ms
 = 
KeyP¬ams
::
ECDSA
();

81 
	g¡d
::
unique_±r
<
SSLId’t™y
> 
id’t™y
(SSLId’t™y::
C»©eFÜTe¡
(
·¿ms
));

82  
	gRTCC”tifiÿ‹
::
C»©e
(
¡d
::
move
(
id’t™y
));

86 
	$TEST_F
(
RTCC”tifiÿ‹Te¡
, 
NewC”tifiÿ‹NÙExpœed
) {

89 
scİed_»åŒ
<
RTCC”tifiÿ‹
> 
û¹ifiÿ‹
 = 
	`G’”©eECDSA
();

91 
ušt64_t
 
now
 = 
	`NowSecÚds
();

92 
	`EXPECT_FALSE
(
	`HasExpœedSecÚds
(
û¹ifiÿ‹
, 
now
));

95 
	`EXPECT_FALSE
(
	`HasExpœedSecÚds
(
û¹ifiÿ‹
, 
now
 + 30 * 60));

96 
	}
}

98 
	$TEST_F
(
RTCC”tifiÿ‹Te¡
, 
U£sExpœesAskedFÜ
) {

99 
ušt64_t
 
now
 = 
	`NowSecÚds
();

100 
scİed_»åŒ
<
RTCC”tifiÿ‹
> 
û¹ifiÿ‹
 =

101 
	`G’”©eC”tifiÿ‹W™hExpœes
(
now
);

102 
	`EXPECT_EQ
(
now
, 
	`ExpœesSecÚds
(
û¹ifiÿ‹
));

103 
	}
}

105 
	$TEST_F
(
RTCC”tifiÿ‹Te¡
, 
ExpœesInOÃSecÚd
) {

107 
ušt64_t
 
now
 = 
	`NowSecÚds
();

108 
scİed_»åŒ
<
RTCC”tifiÿ‹
> 
û¹ifiÿ‹
 =

109 
	`G’”©eC”tifiÿ‹W™hExpœes
(
now
 + 1);

111 
	`EXPECT_FALSE
(
	`HasExpœedSecÚds
(
û¹ifiÿ‹
, 
now
));

113 
	`EXPECT_TRUE
(
	`HasExpœedSecÚds
(
û¹ifiÿ‹
, 
now
 + 2));

114 
	}
}

116 
	$TEST_F
(
RTCC”tifiÿ‹Te¡
, 
Difã»ÁC”tifiÿ‹sNÙEqu®
) {

117 
scİed_»åŒ
<
RTCC”tifiÿ‹
> 
a
 = 
	`G’”©eECDSA
();

118 
scİed_»åŒ
<
RTCC”tifiÿ‹
> 
b
 = 
	`G’”©eECDSA
();

119 
	`EXPECT_TRUE
(*
a
 !ğ*
b
);

120 
	}
}

122 
	$TEST_F
(
RTCC”tifiÿ‹Te¡
, 
ClÚeW™hPEMS”Ÿliz©iÚ
) {

123 
scİed_»åŒ
<
RTCC”tifiÿ‹
> 
Üig
 = 
	`G’”©eECDSA
();

126 
RTCC”tifiÿ‹PEM
 
Üig_³m
 = 
Üig
->
	`ToPEM
();

128 
scİed_»åŒ
<
RTCC”tifiÿ‹
> 
şÚe
 = RTCC”tifiÿ‹::
	`FromPEM
(
Üig_³m
);

129 
	`EXPECT_TRUE
(
şÚe
);

130 
	`EXPECT_TRUE
(*
Üig
 =ğ*
şÚe
);

131 
	`EXPECT_EQ
(
Üig
->
	`Expœes
(), 
şÚe
->Expires());

132 
	}
}

134 
	$TEST_F
(
RTCC”tifiÿ‹Te¡
, 
FromPEMW™hInv®idPEM
) {

135 
RTCC”tifiÿ‹PEM
 
	`³m
("not‡ valid PEM", "not‡ valid PEM");

136 
scİed_»åŒ
<
RTCC”tifiÿ‹
> 
û¹ifiÿ‹
 = RTCC”tifiÿ‹::
	`FromPEM
(
³m
);

137 
	`EXPECT_FALSE
(
û¹ifiÿ‹
);

138 
	}
}

	@sanitizer.h

11 #iâdeà
RTC_BASE_SANITIZER_H_


12 
	#RTC_BASE_SANITIZER_H_


	)

14 
	~<¡ddef.h
>

16 #ifdeà
__ılu¥lus


17 
	~"ab¦/m‘a/ty³_Œa™s.h
"

20 #ià
defšed
(
__has_ã©u»
)

21 #ià
__has_ã©u»
(
add»ss_§n™iz”
)

22 
	#RTC_HAS_ASAN
 1

	)

24 #ià
__has_ã©u»
(
memÜy_§n™iz”
)

25 
	#RTC_HAS_MSAN
 1

	)

28 #iâdeà
RTC_HAS_ASAN


29 
	#RTC_HAS_ASAN
 0

	)

31 #iâdeà
RTC_HAS_MSAN


32 
	#RTC_HAS_MSAN
 0

	)

35 #ià
RTC_HAS_ASAN


36 
	~<§n™iz”/a§n_š‹rçû.h
>

38 #ià
RTC_HAS_MSAN


39 
	~<§n™iz”/m§n_š‹rçû.h
>

42 #ifdeà
__has_©Œibu‹


43 #ià
__has_©Œibu‹
(
no_§n™ize
)

44 
	#RTC_NO_SANITIZE
(
wh©
è
	`__©Œibu‹__
((
	`no_§n™ize
(wh©)))

	)

47 #iâdeà
RTC_NO_SANITIZE


48 
	#RTC_NO_SANITIZE
(
wh©
)

	)

54 
šlše
 
	$¹c_A§nPoisÚ
(cÚ¡ vŞ©* 
±r
,

55 
size_t
 
–em’t_size
,

56 
size_t
 
num_–em’ts
) {

57 #ià
RTC_HAS_ASAN


58 
	`ASAN_POISON_MEMORY_REGION
(
±r
, 
–em’t_size
 * 
num_–em’ts
);

60 
	}
}

65 
šlše
 
	$¹c_A§nUÅoisÚ
(cÚ¡ vŞ©* 
±r
,

66 
size_t
 
–em’t_size
,

67 
size_t
 
num_–em’ts
) {

68 #ià
RTC_HAS_ASAN


69 
	`ASAN_UNPOISON_MEMORY_REGION
(
±r
, 
–em’t_size
 * 
num_–em’ts
);

71 
	}
}

75 
šlše
 
	$¹c_M§nM¬kUnš™Ÿlized
(cÚ¡ vŞ©* 
±r
,

76 
size_t
 
–em’t_size
,

77 
size_t
 
num_–em’ts
) {

78 #ià
RTC_HAS_MSAN


79 
	`__m§n_poisÚ
(
±r
, 
–em’t_size
 * 
num_–em’ts
);

81 
	}
}

86 
šlše
 
	$¹c_M§nCheckIn™Ÿlized
(cÚ¡ vŞ©* 
±r
,

87 
size_t
 
–em’t_size
,

88 
size_t
 
num_–em’ts
) {

89 #ià
RTC_HAS_MSAN


90 
	`__m§n_check_mem_is_š™Ÿlized
(
±r
, 
–em’t_size
 * 
num_–em’ts
);

92 
	}
}

94 #ifdeà
__ılu¥lus


96 
Çme¥aû
 
	g¹c
 {

97 
Çme¥aû
 
	g§n™iz”_im¶
 {

99 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

100 
cÚ¡ex´
 
boŞ
 
IsTrivŸÎyCİyabË
() {

101  
	g¡©ic_ÿ¡
<
	gboŞ
>(
	gab¦
::
is_ŒivŸÎy_cİy_cÚ¡ruùibË
<
T
>::
v®ue
 &&

102 (
ab¦
::
is_ŒivŸÎy_cİy_assigÇbË
<
T
>::
v®ue
 ||

103 !
¡d
::
is_cİy_assigÇbË
<
T
>::
v®ue
) &&

104 
ab¦
::
is_ŒivŸÎy_de¡ruùibË
<
T
>::
v®ue
);

109 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

110 
šlše
 
A§nPoisÚ
(cÚ¡ 
T
& 
mem
) {

111 
¹c_A§nPoisÚ
(
mem
.
d©a
(), (mem.d©a()[0]), mem.
size
());

114 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

115 
šlše
 
A§nUÅoisÚ
(cÚ¡ 
T
& 
mem
) {

116 
¹c_A§nUÅoisÚ
(
mem
.
d©a
(), (mem.d©a()[0]), mem.
size
());

119 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

120 
šlše
 
M§nM¬kUnš™Ÿlized
(cÚ¡ 
T
& 
mem
) {

121 
¹c_M§nM¬kUnš™Ÿlized
(
mem
.
d©a
(), (mem.d©a()[0]), mem.
size
());

124 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

125 
šlše
 
T
 
M§nUnš™Ÿlized
(T 
t
) {

126 #ià
RTC_HAS_MSAN


129 
¡©ic_as£¹
(
§n™iz”_im¶
::
IsTrivŸÎyCİyabË
<
T
>(), "");

131 
¹c_M§nM¬kUnš™Ÿlized
(&
t
, (
T
), 1);

132  
	gt
;

135 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

136 
šlše
 
M§nCheckIn™Ÿlized
(cÚ¡ 
T
& 
mem
) {

137 
¹c_M§nCheckIn™Ÿlized
(
mem
.
d©a
(), (mem.d©a()[0]), mem.
size
());

	@sanitizer_unittest.cc

11 
	~"¹c_ba£/§n™iz”.h
"

13 
	~<¡dšt.h
>

15 
	~"¹c_ba£/loggšg.h
"

16 
	~"‹¡/g‹¡.h
"

18 #ià
RTC_HAS_MSAN


19 
	~<§n™iz”/m§n_š‹rçû.h
>

22 
Çme¥aû
 
	g¹c
 {

23 
	gÇme¥aû
 {

29 
	sTrTrTr
 {

30 
TrTrTr
(const TrTrTr&) = ;

31 
	gTrTrTr
& 
	gİ”©Ü
=(cÚ¡ 
TrTrTr
&) = ;

32 ~
TrTrTr
() = ;

34 
¡©ic_as£¹
(
§n™iz”_im¶
::
IsTrivŸÎyCİyabË
<
TrTrTr
>(), "");

36 
	sTrDeTr
 {

37 
TrDeTr
(const TrDeTr&) = ;

38 
	gTrDeTr
& 
	gİ”©Ü
=(cÚ¡ 
TrDeTr
&èğ
d–‘e
;

39 ~
TrDeTr
() = ;

41 
¡©ic_as£¹
(
§n™iz”_im¶
::
IsTrivŸÎyCİyabË
<
TrDeTr
>(), "");

45 
	sTrTrNt
 {

46 
TrTrNt
(const TrTrNt&) = ;

47 
	gTrTrNt
& 
	gİ”©Ü
=(cÚ¡ 
TrTrNt
&) = ;

48 ~
TrTrNt
();

50 
¡©ic_as£¹
(!
§n™iz”_im¶
::
IsTrivŸÎyCİyabË
<
TrTrNt
>(), "");

52 
	sTrNtTr
 {

53 
TrNtTr
(const TrNtTr&) = ;

54 
	gTrNtTr
& 
	gİ”©Ü
=(cÚ¡ 
TrNtTr
&);

55 ~
TrNtTr
() = ;

57 
¡©ic_as£¹
(!
§n™iz”_im¶
::
IsTrivŸÎyCİyabË
<
TrNtTr
>(), "");

59 
	sTrNtNt
 {

60 
TrNtNt
(const TrNtNt&) = ;

61 
	gTrNtNt
& 
	gİ”©Ü
=(cÚ¡ 
TrNtNt
&);

62 ~
TrNtNt
();

64 
¡©ic_as£¹
(!
§n™iz”_im¶
::
IsTrivŸÎyCİyabË
<
TrNtNt
>(), "");

66 
	sTrDeNt
 {

67 
TrDeNt
(const TrDeNt&) = ;

68 
	gTrDeNt
& 
	gİ”©Ü
=(cÚ¡ 
TrDeNt
&èğ
d–‘e
;

69 ~
TrDeNt
();

71 
¡©ic_as£¹
(!
§n™iz”_im¶
::
IsTrivŸÎyCİyabË
<
TrDeNt
>(), "");

73 
	sNtTrTr
 {

74 
NtTrTr
(const NtTrTr&);

75 
	gNtTrTr
& 
	gİ”©Ü
=(cÚ¡ 
NtTrTr
&) = ;

76 ~
NtTrTr
() = ;

78 
¡©ic_as£¹
(!
§n™iz”_im¶
::
IsTrivŸÎyCİyabË
<
NtTrTr
>(), "");

80 
	sNtTrNt
 {

81 
NtTrNt
(const NtTrNt&);

82 
	gNtTrNt
& 
	gİ”©Ü
=(cÚ¡ 
NtTrNt
&) = ;

83 ~
NtTrNt
();

85 
¡©ic_as£¹
(!
§n™iz”_im¶
::
IsTrivŸÎyCİyabË
<
NtTrNt
>(), "");

87 
	sNtNtTr
 {

88 
NtNtTr
(const NtNtTr&);

89 
	gNtNtTr
& 
	gİ”©Ü
=(cÚ¡ 
NtNtTr
&);

90 ~
NtNtTr
() = ;

92 
¡©ic_as£¹
(!
§n™iz”_im¶
::
IsTrivŸÎyCİyabË
<
NtNtTr
>(), "");

94 
	sNtNtNt
 {

95 
NtNtNt
(const NtNtNt&);

96 
	gNtNtNt
& 
	gİ”©Ü
=(cÚ¡ 
NtNtNt
&);

97 ~
NtNtNt
();

99 
¡©ic_as£¹
(!
§n™iz”_im¶
::
IsTrivŸÎyCİyabË
<
NtNtNt
>(), "");

101 
	sNtDeTr
 {

102 
NtDeTr
(const NtDeTr&);

103 
	gNtDeTr
& 
	gİ”©Ü
=(cÚ¡ 
NtDeTr
&èğ
d–‘e
;

104 ~
NtDeTr
() = ;

106 
¡©ic_as£¹
(!
§n™iz”_im¶
::
IsTrivŸÎyCİyabË
<
NtDeTr
>(), "");

108 
	sNtDeNt
 {

109 
NtDeNt
(const NtDeNt&);

110 
	gNtDeNt
& 
	gİ”©Ü
=(cÚ¡ 
NtDeNt
&èğ
d–‘e
;

111 ~
NtDeNt
();

113 
¡©ic_as£¹
(!
§n™iz”_im¶
::
IsTrivŸÎyCİyabË
<
NtDeNt
>(), "");

117 
	sFoo
 {

118 
ušt32_t
 
	gf›ld1
;

119 
ušt16_t
 
	gf›ld2
;

122 
	sB¬
 {

123 
ušt32_t
 
	gID
;

124 
Foo
 
	gfoo
;

129 
	g‹m¶©e
 <
ty³Çme
 
	gF
>

130 
M§nEx³ùUnš™ŸlizedR—d
(
F
&& 
f
) {

131 #ià
RTC_HAS_MSAN


132 
EXPECT_DEATH
(
f
(), "");

134 
f
();

140 
TEST
(
Sª™iz”Te¡
, 
M§nUnš™Ÿlized
) {

141 
B¬
 
	gb¬
 = 
M§nUnš™Ÿlized
<Bar>({});

143 
	gb¬
.
	gID
 = 1;

144 
EXPECT_EQ
(1u, 
b¬
.
ID
);

145 
RTC_LOG
(
LS_INFO
) << "read‡fter init…assed";

147 
M§nEx³ùUnš™ŸlizedR—d
([&] { 
EXPECT_EQ
(0u, 
b¬
.
foo
.
f›ld1
); });

148 
M§nEx³ùUnš™ŸlizedR—d
([&] { 
EXPECT_EQ
(0u, 
b¬
.
foo
.
f›ld2
); });

149 
RTC_LOG
(
LS_INFO
) << "read with‚o init…assed";

	@server_socket_adapters.cc

11 
	~"¹c_ba£/£rv”_sock‘_ad­‹rs.h
"

13 
	~<¡ršg
>

15 
	~"¹c_ba£/by‹_bufãr.h
"

17 
Çme¥aû
 
	g¹c
 {

19 
	gAsyncProxyS”v”Sock‘
::
AsyncProxyS”v”Sock‘
(
AsyncSock‘
* 
sock‘
,

20 
size_t
 
bufãr_size
)

21 : 
Bufã»dR—dAd­‹r
(
sock‘
, 
bufãr_size
) {}

23 
	gAsyncProxyS”v”Sock‘
::~
AsyncProxyS”v”Sock‘
() = ;

25 
	gAsyncSSLS”v”Sock‘
::
AsyncSSLS”v”Sock‘
(
AsyncSock‘
* 
sock‘
)

26 : 
Bufã»dR—dAd­‹r
(
sock‘
, 1024) {

27 
BufãrIÅut
(
Œue
);

30 
	gAsyncSSLS”v”Sock‘
::
ProûssIÅut
(* 
d©a
, 
size_t
* 
Ën
) {

32 cÚ¡ 
	gA¼ayV›w
<cÚ¡ 
	gušt8_t
> 
	gş›Á_h–lo
 =

33 
AsyncSSLSock‘
::
S¦Cl›ÁH–lo
();

34 ià(*
	gËn
 < 
	gş›Á_h–lo
.
size
()) {

38 ià(
memcmp
(
ş›Á_h–lo
.
d©a
(), d©a, cl›Á_h–lo.
size
()) != 0) {

39 
Clo£
();

40 
SigÇlClo£Ev’t
(
this
, 0);

44 *
	gËn
 -ğ
ş›Á_h–lo
.
size
();

47 
RTC_DCHECK
(*
Ën
 == 0);

49 cÚ¡ 
	gA¼ayV›w
<cÚ¡ 
	gušt8_t
> 
	g£rv”_h–lo
 =

50 
AsyncSSLSock‘
::
S¦S”v”H–lo
();

52 
DœeùS’d
(
£rv”_h–lo
.
d©a
(), s”v”_h–lo.
size
());

55 
BufãrIÅut
(
çl£
);

58 
	gAsyncSocksProxyS”v”Sock‘
::
AsyncSocksProxyS”v”Sock‘
(
AsyncSock‘
* 
sock‘
)

59 : 
AsyncProxyS”v”Sock‘
(
sock‘
, 
kBufãrSize
), 
¡©e_
(
SS_HELLO
) {

60 
BufãrIÅut
(
Œue
);

63 
	gAsyncSocksProxyS”v”Sock‘
::
ProûssIÅut
(* 
d©a
, 
size_t
* 
Ën
) {

64 
RTC_DCHECK
(
¡©e_
 < 
SS_CONNECT_PENDING
);

66 
By‹BufãrR—d”
 
»¥Ú£
(
d©a
, *
Ën
);

67 ià(
	g¡©e_
 =ğ
SS_HELLO
) {

68 
HªdËH–lo
(&
»¥Ú£
);

69 } ià(
	g¡©e_
 =ğ
SS_AUTH
) {

70 
HªdËAuth
(&
»¥Ú£
);

71 } ià(
	g¡©e_
 =ğ
SS_CONNECT
) {

72 
HªdËCÚÃù
(&
»¥Ú£
);

76 *
	gËn
 = 
»¥Ú£
.
L’gth
();

77 
memmove
(
d©a
, 
»¥Ú£
.
D©a
(), *
Ën
);

80 
	gAsyncSocksProxyS”v”Sock‘
::
DœeùS’d
(cÚ¡ 
By‹BufãrWr™”
& 
buf
) {

81 
Bufã»dR—dAd­‹r
::
DœeùS’d
(
buf
.
D©a
(), buf.
L’gth
());

84 
	gAsyncSocksProxyS”v”Sock‘
::
HªdËH–lo
(
By‹BufãrR—d”
* 
»que¡
) {

85 
ušt8_t
 
v”
, 
	gnum_m‘hods
;

86 ià(!
	g»que¡
->
R—dUIÁ8
(&
v”
è|| !»que¡->R—dUIÁ8(&
num_m‘hods
)) {

87 
E¼Ü
(0);

91 ià(
	gv”
 != 5) {

92 
E¼Ü
(0);

97 
ušt8_t
 
	gm‘hod
 = 0xFF;

98 ià(
	gnum_m‘hods
 > 0 && !
	g»que¡
->
R—dUIÁ8
(&
m‘hod
)) {

99 
E¼Ü
(0);

103 
S’dH–loR•ly
(
m‘hod
);

104 ià(
	gm‘hod
 == 0) {

105 
¡©e_
 = 
SS_CONNECT
;

106 } ià(
	gm‘hod
 == 2) {

107 
¡©e_
 = 
SS_AUTH
;

109 
	g¡©e_
 = 
SS_ERROR
;

113 
	gAsyncSocksProxyS”v”Sock‘
::
S’dH–loR•ly
(
ušt8_t
 
m‘hod
) {

114 
By‹BufãrWr™”
 
»¥Ú£
;

115 
	g»¥Ú£
.
Wr™eUIÁ8
(5);

116 
	g»¥Ú£
.
Wr™eUIÁ8
(
m‘hod
);

117 
DœeùS’d
(
»¥Ú£
);

120 
	gAsyncSocksProxyS”v”Sock‘
::
HªdËAuth
(
By‹BufãrR—d”
* 
»que¡
) {

121 
ušt8_t
 
v”
, 
	gu£r_Ën
, 
	g·ss_Ën
;

122 
	g¡d
::
¡ršg
 
u£r
, 
	g·ss
;

123 ià(!
	g»que¡
->
R—dUIÁ8
(&
v”
è|| !»que¡->R—dUIÁ8(&
u£r_Ën
) ||

124 !
	g»que¡
->
R—dSŒšg
(&
u£r
, 
u£r_Ën
è|| !»que¡->
R—dUIÁ8
(&
·ss_Ën
) ||

125 !
	g»que¡
->
R—dSŒšg
(&
·ss
, 
·ss_Ën
)) {

126 
E¼Ü
(0);

130 
S’dAuthR•ly
(0);

131 
	g¡©e_
 = 
SS_CONNECT
;

134 
	gAsyncSocksProxyS”v”Sock‘
::
S’dAuthR•ly
(
ušt8_t
 
»suÉ
) {

135 
By‹BufãrWr™”
 
»¥Ú£
;

136 
	g»¥Ú£
.
Wr™eUIÁ8
(1);

137 
	g»¥Ú£
.
Wr™eUIÁ8
(
»suÉ
);

138 
DœeùS’d
(
»¥Ú£
);

141 
	gAsyncSocksProxyS”v”Sock‘
::
HªdËCÚÃù
(
By‹BufãrR—d”
* 
»que¡
) {

142 
ušt8_t
 
v”
, 
	gcommªd
, 
	g»£rved
, 
	gaddr_ty³
;

143 
ušt32_t
 
	g
;

144 
ušt16_t
 
	gpÜt
;

145 ià(!
	g»que¡
->
R—dUIÁ8
(&
v”
è|| !»que¡->R—dUIÁ8(&
commªd
) ||

146 !
	g»que¡
->
R—dUIÁ8
(&
»£rved
è|| !»que¡->R—dUIÁ8(&
addr_ty³
) ||

147 !
	g»que¡
->
R—dUIÁ32
(&

è|| !»que¡->
R—dUIÁ16
(&
pÜt
)) {

148 
E¼Ü
(0);

152 ià(
	gv”
 !ğ5 || 
commªd
 !ğ1 || 
»£rved
 !ğ0 || 
addr_ty³
 != 1) {

153 
E¼Ü
(0);

157 
SigÇlCÚÃùReque¡
(
this
, 
Sock‘Add»ss
(

, 
pÜt
));

158 
	g¡©e_
 = 
SS_CONNECT_PENDING
;

161 
	gAsyncSocksProxyS”v”Sock‘
::
S’dCÚÃùResuÉ
(
»suÉ
,

162 cÚ¡ 
Sock‘Add»ss
& 
addr
) {

163 ià(
	g¡©e_
 !ğ
SS_CONNECT_PENDING
)

166 
By‹BufãrWr™”
 
	g»¥Ú£
;

167 
	g»¥Ú£
.
Wr™eUIÁ8
(5);

168 
	g»¥Ú£
.
Wr™eUIÁ8
((
»suÉ
 != 0));

169 
	g»¥Ú£
.
Wr™eUIÁ8
(0);

170 
	g»¥Ú£
.
Wr™eUIÁ8
(1);

171 
	g»¥Ú£
.
Wr™eUIÁ32
(
addr
.

());

172 
	g»¥Ú£
.
Wr™eUIÁ16
(
addr
.
pÜt
());

173 
DœeùS’d
(
»¥Ú£
);

174 
BufãrIÅut
(
çl£
);

175 
	g¡©e_
 = 
SS_TUNNEL
;

178 
	gAsyncSocksProxyS”v”Sock‘
::
E¼Ü
(
”rÜ
) {

179 
¡©e_
 = 
SS_ERROR
;

180 
BufãrIÅut
(
çl£
);

181 
Clo£
();

182 
S‘E¼Ü
(
SOCKET_EACCES
);

183 
SigÇlClo£Ev’t
(
this
, 
”rÜ
);

	@server_socket_adapters.h

11 #iâdeà
RTC_BASE_SERVER_SOCKET_ADAPTERS_H_


12 
	#RTC_BASE_SERVER_SOCKET_ADAPTERS_H_


	)

14 
	~"¹c_ba£/sock‘_ad­‹rs.h
"

16 
Çme¥aû
 
	g¹c
 {

19 şas 
	cAsyncProxyS”v”Sock‘
 : 
public
 
Bufã»dR—dAd­‹r
 {

20 
public
:

21 
AsyncProxyS”v”Sock‘
(
AsyncSock‘
* 
sock‘
, 
size_t
 
bufãr_size
);

22 ~
AsyncProxyS”v”Sock‘
(è
	gov”ride
;

23 
	gsig¦Ù
::
sigÇl2
<
AsyncProxyS”v”Sock‘
*, cÚ¡ 
	gSock‘Add»ss
&>

24 
	gSigÇlCÚÃùReque¡
;

25 
vœtu®
 
S’dCÚÃùResuÉ
(
”r
, cÚ¡ 
Sock‘Add»ss
& 
addr
) = 0;

30 şas 
	cAsyncSSLS”v”Sock‘
 : 
public
 
Bufã»dR—dAd­‹r
 {

31 
public
:

32 
ex¶ic™
 
AsyncSSLS”v”Sock‘
(
AsyncSock‘
* 
sock‘
);

34 
	g´Ùeùed
:

35 
ProûssIÅut
(* 
d©a
, 
size_t
* 
Ën
è
	gov”ride
;

36 
RTC_DISALLOW_COPY_AND_ASSIGN
(
AsyncSSLS”v”Sock‘
);

40 şas 
	cAsyncSocksProxyS”v”Sock‘
 : 
public
 
AsyncProxyS”v”Sock‘
 {

41 
public
:

42 
ex¶ic™
 
AsyncSocksProxyS”v”Sock‘
(
AsyncSock‘
* 
sock‘
);

44 
	g´iv©e
:

45 
ProûssIÅut
(* 
d©a
, 
size_t
* 
Ën
è
	gov”ride
;

46 
DœeùS’d
(cÚ¡ 
By‹BufãrWr™”
& 
buf
);

48 
HªdËH–lo
(
By‹BufãrR—d”
* 
»que¡
);

49 
S’dH–loR•ly
(
ušt8_t
 
m‘hod
);

50 
HªdËAuth
(
By‹BufãrR—d”
* 
»que¡
);

51 
S’dAuthR•ly
(
ušt8_t
 
»suÉ
);

52 
HªdËCÚÃù
(
By‹BufãrR—d”
* 
»que¡
);

53 
S’dCÚÃùResuÉ
(
»suÉ
, cÚ¡ 
Sock‘Add»ss
& 
addr
è
	gov”ride
;

55 
E¼Ü
(
”rÜ
);

57 cÚ¡ 
	gkBufãrSize
 = 1024;

58 
	eS‹
 {

59 
	gSS_HELLO
,

60 
	gSS_AUTH
,

61 
	gSS_CONNECT
,

62 
	gSS_CONNECT_PENDING
,

63 
	gSS_TUNNEL
,

64 
	gSS_ERROR


66 
S‹
 
	g¡©e_
;

67 
RTC_DISALLOW_COPY_AND_ASSIGN
(
AsyncSocksProxyS”v”Sock‘
);

	@signal_thread.cc

11 
	~"¹c_ba£/sigÇl_th»ad.h
"

13 
	~<memÜy
>

15 
	~"¹c_ba£/checks.h
"

16 
	~"¹c_ba£/loÿtiÚ.h
"

17 
	~"¹c_ba£/nuÎ_sock‘_£rv”.h
"

18 
	~"¹c_ba£/sock‘_£rv”.h
"

20 
Çme¥aû
 
	g¹c
 {

26 
	gSigÇlTh»ad
::
SigÇlTh»ad
()

27 : 
maš_
(
Th»ad
::
Cu¼’t
()), 
wÜk”_
(
this
), 
¡©e_
(
kIn™
), 
»fcouÁ_
(1) {

28 
	gmaš_
->
	gSigÇlQueueDe¡royed
.
cÚÃù
(
this
,

29 &
SigÇlTh»ad
::
OnMašTh»adDe¡royed
);

30 
	gwÜk”_
.
S‘Name
("SigÇlTh»ad", 
this
);

33 
	gSigÇlTh»ad
::~
SigÇlTh»ad
() {

34 
RTC_DCHECK
(
»fcouÁ_
 == 0);

37 
boŞ
 
	gSigÇlTh»ad
::
S‘Name
(cÚ¡ 
¡d
::
¡ršg
& 
Çme
, cÚ¡ * 
obj
) {

38 
EÁ”Ex™
 
“
(
this
);

39 
RTC_DCHECK
(
maš_
->
IsCu¼’t
());

40 
RTC_DCHECK
(
kIn™
 =ğ
¡©e_
);

41  
	gwÜk”_
.
S‘Name
(
Çme
, 
obj
);

44 
	gSigÇlTh»ad
::
S¹
() {

45 
EÁ”Ex™
 
“
(
this
);

46 
RTC_DCHECK
(
maš_
->
IsCu¼’t
());

47 ià(
	gkIn™
 =ğ
¡©e_
 || 
kCom¶‘e
 == state_) {

48 
¡©e_
 = 
kRuÂšg
;

49 
OnWÜkS¹
();

50 
	gwÜk”_
.
S¹
();

52 
RTC_NOTREACHED
();

56 
	gSigÇlTh»ad
::
De¡roy
(
boŞ
 
wa™
) {

57 
EÁ”Ex™
 
“
(
this
);

58 
RTC_DCHECK
(
maš_
->
IsCu¼’t
());

59 ià((
	gkIn™
 =ğ
¡©e_
è|| (
kCom¶‘e
 == state_)) {

60 
»fcouÁ_
--;

61 } ià(
	gkRuÂšg
 =ğ
¡©e_
 || 
kR–—sšg
 == state_) {

62 
¡©e_
 = 
kStİpšg
;

65 
	gwÜk”_
.
Qu™
();

66 
OnWÜkStİ
();

67 ià(
	gwa™
) {

69 
	gcs_
.
L—ve
();

70 
	gwÜk”_
.
Stİ
();

71 
	gcs_
.
EÁ”
();

72 
	g»fcouÁ_
--;

75 
RTC_NOTREACHED
();

79 
	gSigÇlTh»ad
::
R–—£
() {

80 
EÁ”Ex™
 
“
(
this
);

81 
RTC_DCHECK
(
maš_
->
IsCu¼’t
());

82 ià(
	gkCom¶‘e
 =ğ
¡©e_
) {

83 
»fcouÁ_
--;

84 } ià(
	gkRuÂšg
 =ğ
¡©e_
) {

85 
¡©e_
 = 
kR–—sšg
;

88 
RTC_NOTREACHED
();

92 
boŞ
 
	gSigÇlTh»ad
::
CÚtšueWÜk
() {

93 
EÁ”Ex™
 
“
(
this
);

94 
RTC_DCHECK
(
wÜk”_
.
IsCu¼’t
());

95  
	gwÜk”_
.
ProûssMes§ges
(0);

98 
	gSigÇlTh»ad
::
OnMes§ge
(
Mes§ge
* 
msg
) {

99 
EÁ”Ex™
 
“
(
this
);

100 ià(
	gST_MSG_WORKER_DONE
 =ğ
msg
->
mes§ge_id
) {

101 
RTC_DCHECK
(
maš_
->
IsCu¼’t
());

102 
OnWÜkDÚe
();

103 
boŞ
 
	gdo_d–‘e
 = 
çl£
;

104 ià(
	gkRuÂšg
 =ğ
¡©e_
) {

105 
¡©e_
 = 
kCom¶‘e
;

107 
	gdo_d–‘e
 = 
Œue
;

109 ià(
	gkStİpšg
 !ğ
¡©e_
) {

120 
wÜk”_
.
Stİ
();

121 
SigÇlWÜkDÚe
(
this
);

123 ià(
	gdo_d–‘e
) {

124 
	g»fcouÁ_
--;

129 
	gSigÇlTh»ad
::
WÜk”
::WÜk”(
SigÇlTh»ad
* 
·»Á
)

130 : 
Th»ad
(
¡d
::
make_unique
<
NuÎSock‘S”v”
>(), 
çl£
),

131 
·»Á_
(
·»Á
) {

132 
DoIn™
();

135 
	gSigÇlTh»ad
::
WÜk”
::~Worker() {

136 
Stİ
();

139 
	gSigÇlTh»ad
::
WÜk”
::
Run
() {

140 
·»Á_
->
Run
();

143 
	gSigÇlTh»ad
::
Run
() {

144 
DoWÜk
();

146 
EÁ”Ex™
 
“
(
this
);

147 ià(
	gmaš_
) {

148 
	gmaš_
->
Po¡
(
RTC_FROM_HERE
, 
this
, 
ST_MSG_WORKER_DONE
);

153 
	gSigÇlTh»ad
::
OnMašTh»adDe¡royed
() {

154 
EÁ”Ex™
 
“
(
this
);

155 
	gmaš_
 = 
nuÎ±r
;

158 
boŞ
 
	gSigÇlTh»ad
::
WÜk”
::
IsProûssšgMes§gesFÜTe¡šg
() {

159  
çl£
;

	@signal_thread.h

11 #iâdeà
RTC_BASE_SIGNAL_THREAD_H_


12 
	#RTC_BASE_SIGNAL_THREAD_H_


	)

14 
	~<¡ršg
>

16 
	~"¹c_ba£/checks.h
"

17 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

18 
	~"¹c_ba£/ü™iÿl_£ùiÚ.h
"

19 
	~"¹c_ba£/mes§ge_hªdËr.h
"

20 
	~"¹c_ba£/thœd_·¹y/sig¦Ù/sig¦Ù.h
"

21 
	~"¹c_ba£/th»ad.h
"

22 
	~"¹c_ba£/th»ad_ªnÙ©iÚs.h
"

24 
Çme¥aû
 
	g¹c
 {

43 
şass
 
	gSigÇlTh»ad
 : 
public
 
sig¦Ù
::
has_¦Ùs
<>, 
´Ùeùed
 
	gMes§geHªdËr
 {

44 
	gpublic
:

45 
SigÇlTh»ad
();

48 
boŞ
 
S‘Name
(cÚ¡ 
¡d
::
¡ršg
& 
Çme
, cÚ¡ * 
obj
);

51 
S¹
();

58 
De¡roy
(
boŞ
 
wa™
);

63 
R–—£
();

66 
	gsig¦Ù
::
sigÇl1
<
SigÇlTh»ad
*> 
SigÇlWÜkDÚe
;

68 ’um { 
	gST_MSG_WORKER_DONE
, 
	gST_MSG_FIRST_AVAILABLE
 };

70 
	g´Ùeùed
:

71 ~
SigÇlTh»ad
(è
ov”ride
;

73 
Th»ad
* 
wÜk”
(è{  &
	gwÜk”_
; }

76 
vœtu®
 
OnWÜkS¹
() {}

79 
vœtu®
 
DoWÜk
() = 0;

83 
boŞ
 
CÚtšueWÜk
();

87 
vœtu®
 
OnWÜkStİ
() {}

90 
vœtu®
 
OnWÜkDÚe
() {}

94 
OnMes§ge
(
Mes§ge
* 
msg
è
	gov”ride
;

96 
	g´iv©e
:

97 
	eS‹
 {

98 
kIn™
,

99 
	gkRuÂšg
,

100 
	gkR–—sšg
,

101 
	gkCom¶‘e
,

102 
	gkStİpšg
,

105 şas 
	cWÜk”
 : 
public
 
Th»ad
 {

106 
public
:

107 
ex¶ic™
 
WÜk”
(
SigÇlTh»ad
* 
·»Á
);

108 ~
WÜk”
(è
	gov”ride
;

109 
Run
(è
	gov”ride
;

110 
boŞ
 
IsProûssšgMes§gesFÜTe¡šg
(è
	gov”ride
;

112 
	g´iv©e
:

113 
SigÇlTh»ad
* 
·»Á_
;

115 
RTC_DISALLOW_IMPLICIT_CONSTRUCTORS
(
WÜk”
);

118 şas 
	cRTC_SCOPED_LOCKABLE
 
	gEÁ”Ex™
 {

119 
	gpublic
:

120 
ex¶ic™
 
EÁ”Ex™
(
SigÇlTh»ad
* 
t
è
RTC_EXCLUSIVE_LOCK_FUNCTION
Ñ->
cs_
)

121 : 
t_
(
t
) {

122 
t_
->
cs_
.
EÁ”
();

125 
RTC_DCHECK_NE
(0, 
t_
->
»fcouÁ_
);

126 ++
	gt_
->
	g»fcouÁ_
;

128 ~
EÁ”Ex™
(è
RTC_UNLOCK_FUNCTION
() {

129 
boŞ
 
	gd
 = (0 =ğ--
t_
->
»fcouÁ_
);

130 
	gt_
->
	gcs_
.
L—ve
();

131 ià(
	gd
)

132 
d–‘e
 
	gt_
;

135 
	g´iv©e
:

136 
SigÇlTh»ad
* 
t_
;

138 
RTC_DISALLOW_IMPLICIT_CONSTRUCTORS
(
EÁ”Ex™
);

141 
Run
();

142 
OnMašTh»adDe¡royed
();

144 
Th»ad
* 
	gmaš_
;

145 
WÜk”
 
	gwÜk”_
;

146 
Cr™iÿlSeùiÚ
 
	gcs_
;

147 
S‹
 
	g¡©e_
;

148 
	g»fcouÁ_
;

150 
RTC_DISALLOW_COPY_AND_ASSIGN
(
SigÇlTh»ad
);

	@signal_thread_unittest.cc

11 
	~"¹c_ba£/sigÇl_th»ad.h
"

13 
	~<memÜy
>

15 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

16 
	~"¹c_ba£/ü™iÿl_£ùiÚ.h
"

17 
	~"¹c_ba£/gun™.h
"

18 
	~"¹c_ba£/nuÎ_sock‘_£rv”.h
"

19 
	~"¹c_ba£/th»ad.h
"

20 
	~"¹c_ba£/th»ad_ªnÙ©iÚs.h
"

21 
	~"‹¡/g‹¡.h
"

23 
Çme¥aû
 
	g¹c
 {

24 
	gÇme¥aû
 {

27 cÚ¡ 
	gkTimeout
 = 10000;

29 
şass
 
	gSigÇlTh»adTe¡
 : 
public
 ::
‹¡šg
::
Te¡
,…ubliø
	gsig¦Ù
::
has_¦Ùs
<> {

30 
public
:

31 şas 
	cSlowSigÇlTh»ad
 : 
public
 
SigÇlTh»ad
 {

32 
public
:

33 
SlowSigÇlTh»ad
(
SigÇlTh»adTe¡
* 
h¬Ãss
è: 
h¬Ãss_
(harness) {}

35 ~
SlowSigÇlTh»ad
(è
ov”ride
 {

36 
EXPECT_EQ
(
h¬Ãss_
->
maš_th»ad_
, 
Th»ad
::
Cu¼’t
());

37 ++
	gh¬Ãss_
->
	gth»ad_d–‘ed_
;

40 cÚ¡ 
SigÇlTh»adTe¡
* 
h¬Ãss
(è{  
	gh¬Ãss_
; }

42 
	g´Ùeùed
:

43 
OnWÜkS¹
(è
ov”ride
 {

44 
ASSERT_TRUE
(
h¬Ãss_
 !ğ
nuÎ±r
);

45 ++
	gh¬Ãss_
->
	gth»ad_¡¬‹d_
;

46 
EXPECT_EQ
(
h¬Ãss_
->
maš_th»ad_
, 
Th»ad
::
Cu¼’t
());

47 
EXPECT_FALSE
(
wÜk”
()->
RuÂšgFÜTe¡
());

50 
OnWÜkStİ
(è
	gov”ride
 {

51 ++
	gh¬Ãss_
->
	gth»ad_¡İ³d_
;

52 
EXPECT_EQ
(
h¬Ãss_
->
maš_th»ad_
, 
Th»ad
::
Cu¼’t
());

53 
EXPECT_TRUE
(
wÜk”
()->
RuÂšgFÜTe¡
());

56 
OnWÜkDÚe
(è
	gov”ride
 {

57 ++
	gh¬Ãss_
->
	gth»ad_dÚe_
;

58 
EXPECT_EQ
(
h¬Ãss_
->
maš_th»ad_
, 
Th»ad
::
Cu¼’t
());

59 
EXPECT_TRUE
(
wÜk”
()->
RuÂšgFÜTe¡
());

62 
DoWÜk
(è
	gov”ride
 {

63 
EXPECT_NE
(
h¬Ãss_
->
maš_th»ad_
, 
Th»ad
::
Cu¼’t
());

64 
EXPECT_EQ
(
wÜk”
(), 
Th»ad
::
Cu¼’t
());

65 
	gTh»ad
::
Cu¼’t
()->
sock‘£rv”
()->
Wa™
(250, 
çl£
);

68 
	g´iv©e
:

69 
SigÇlTh»adTe¡
* 
h¬Ãss_
;

70 
RTC_DISALLOW_COPY_AND_ASSIGN
(
SlowSigÇlTh»ad
);

73 
OnWÜkCom¶‘e
(
¹c
::
SigÇlTh»ad
* 
th»ad
) {

74 
SlowSigÇlTh»ad
* 
t
 = 
¡©ic_ÿ¡
<SlowSigÇlTh»ad*>(
th»ad
);

75 
EXPECT_EQ
(
t
->
h¬Ãss
(), 
this
);

76 
EXPECT_EQ
(
maš_th»ad_
, 
Th»ad
::
Cu¼’t
());

78 ++
	gth»ad_com¶‘ed_
;

79 ià(!
	gÿÎed_»Ëa£_
) {

80 
	gth»ad
->
R–—£
();

84 
S‘Up
(è
	gov”ride
 {

85 
	gmaš_th»ad_
 = 
Th»ad
::
Cu¼’t
();

86 
	gth»ad_
 = 
Ãw
 
SlowSigÇlTh»ad
(
this
);

87 
	gth»ad_
->
	gSigÇlWÜkDÚe
.
cÚÃù
(
this
, &
SigÇlTh»adTe¡
::
OnWÜkCom¶‘e
);

88 
	gÿÎed_»Ëa£_
 = 
çl£
;

89 
	gth»ad_¡¬‹d_
 = 0;

90 
	gth»ad_dÚe_
 = 0;

91 
	gth»ad_com¶‘ed_
 = 0;

92 
	gth»ad_¡İ³d_
 = 0;

93 
	gth»ad_d–‘ed_
 = 0;

96 
Ex³ùS‹
(
¡¬‹d
,

97 
dÚe
,

98 
com¶‘ed
,

99 
¡İ³d
,

100 
d–‘ed
) {

101 
EXPECT_EQ
(
¡¬‹d
, 
th»ad_¡¬‹d_
);

102 
EXPECT_EQ
(
dÚe
, 
th»ad_dÚe_
);

103 
EXPECT_EQ
(
com¶‘ed
, 
th»ad_com¶‘ed_
);

104 
EXPECT_EQ
(
¡İ³d
, 
th»ad_¡İ³d_
);

105 
EXPECT_EQ
(
d–‘ed
, 
th»ad_d–‘ed_
);

108 
Ex³ùS‹Wa™
(
¡¬‹d
,

109 
dÚe
,

110 
com¶‘ed
,

111 
¡İ³d
,

112 
d–‘ed
,

113 
timeout
) {

114 
EXPECT_EQ_WAIT
(
¡¬‹d
, 
th»ad_¡¬‹d_
, 
timeout
);

115 
EXPECT_EQ_WAIT
(
dÚe
, 
th»ad_dÚe_
, 
timeout
);

116 
EXPECT_EQ_WAIT
(
com¶‘ed
, 
th»ad_com¶‘ed_
, 
timeout
);

117 
EXPECT_EQ_WAIT
(
¡İ³d
, 
th»ad_¡İ³d_
, 
timeout
);

118 
EXPECT_EQ_WAIT
(
d–‘ed
, 
th»ad_d–‘ed_
, 
timeout
);

121 
Th»ad
* 
	gmaš_th»ad_
;

122 
SlowSigÇlTh»ad
* 
	gth»ad_
;

123 
boŞ
 
	gÿÎed_»Ëa£_
;

125 
	gth»ad_¡¬‹d_
;

126 
	gth»ad_dÚe_
;

127 
	gth»ad_com¶‘ed_
;

128 
	gth»ad_¡İ³d_
;

129 
	gth»ad_d–‘ed_
;

132 
şass
 
	gOwÃrTh»ad
 : 
public
 
Th»ad
,…ubliø
	gsig¦Ù
::
has_¦Ùs
<> {

133 
public
:

134 
ex¶ic™
 
OwÃrTh»ad
(
SigÇlTh»adTe¡
* 
h¬Ãss
)

135 : 
Th»ad
(
¡d
::
make_unique
<
NuÎSock‘S”v”
>()),

136 
h¬Ãss_
(
h¬Ãss
),

137 
has_run_
(
çl£
) {}

139 ~
OwÃrTh»ad
(è
	gov”ride
 { 
Stİ
(); }

141 
Run
(è
	gov”ride
 {

142 
	gSigÇlTh»adTe¡
::
SlowSigÇlTh»ad
* 
sigÇl_th»ad
 =

143 
Ãw
 
SigÇlTh»adTe¡
::
SlowSigÇlTh»ad
(
h¬Ãss_
);

144 
	gsigÇl_th»ad
->
	gSigÇlWÜkDÚe
.
cÚÃù
(
this
, &
OwÃrTh»ad
::
OnWÜkDÚe
);

145 
	gsigÇl_th»ad
->
S¹
();

146 
	gTh»ad
::
Cu¼’t
()->
sock‘£rv”
()->
Wa™
(100, 
çl£
);

147 
	gsigÇl_th»ad
->
R–—£
();

149 
	gsigÇl_th»ad
->
De¡roy
(
Œue
);

151 
	g¹c
::
Cr™Scİe
 
cs
(&
ü™_
);

152 
	ghas_run_
 = 
Œue
;

156 
boŞ
 
has_run
() {

157 
	g¹c
::
Cr™Scİe
 
cs
(&
ü™_
);

158  
	ghas_run_
;

160 
OnWÜkDÚe
(
SigÇlTh»ad
* ) {

161 
FAIL
() << " This shouldn't get called.";

164 
	g´iv©e
:

165 
¹c
::
Cr™iÿlSeùiÚ
 
ü™_
;

166 
SigÇlTh»adTe¡
* 
	gh¬Ãss_
;

167 
boŞ
 
has_run_
 
RTC_GUARDED_BY
(
ü™_
);

168 
RTC_DISALLOW_COPY_AND_ASSIGN
(
OwÃrTh»ad
);

174 
TEST_F
(
SigÇlTh»adTe¡
, 
OwÃrTh»adGÛsAway
) {

176 
	gth»ad_
->
De¡roy
(
Œue
);

179 
	g¡d
::
unique_±r
<
OwÃrTh»ad
> 
owÃr
(
Ãw
 OwÃrTh»ad(
this
));

180 
	gmaš_th»ad_
 = 
owÃr
.
g‘
();

181 
	gowÃr
->
S¹
();

182 !
	gowÃr
->
has_run
()) {

183 
	gTh»ad
::
Cu¼’t
()->
sock‘£rv”
()->
Wa™
(10, 
çl£
);

190 
	gTh»ad
::
Cu¼’t
()->
sock‘£rv”
()->
Wa™
(500, 
çl£
);

193 
TEST_F
(
SigÇlTh»adTe¡
, 
Th»adFšishes
) {

194 
	gth»ad_
->
S¹
();

195 
Ex³ùS‹
(1, 0, 0, 0, 0);

196 
Ex³ùS‹Wa™
(1, 1, 1, 0, 1, 
kTimeout
);

199 
TEST_F
(
SigÇlTh»adTe¡
, 
R–—£dTh»adFšishes
) {

200 
	gth»ad_
->
S¹
();

201 
Ex³ùS‹
(1, 0, 0, 0, 0);

202 
	gth»ad_
->
R–—£
();

203 
	gÿÎed_»Ëa£_
 = 
Œue
;

204 
Ex³ùS‹
(1, 0, 0, 0, 0);

205 
Ex³ùS‹Wa™
(1, 1, 1, 0, 1, 
kTimeout
);

208 
TEST_F
(
SigÇlTh»adTe¡
, 
De¡royedTh»adCËªsUp
) {

209 
	gth»ad_
->
S¹
();

210 
Ex³ùS‹
(1, 0, 0, 0, 0);

211 
	gth»ad_
->
De¡roy
(
Œue
);

212 
Ex³ùS‹
(1, 0, 0, 1, 1);

213 
	gTh»ad
::
Cu¼’t
()->
ProûssMes§ges
(0);

214 
Ex³ùS‹
(1, 0, 0, 1, 1);

217 
TEST_F
(
SigÇlTh»adTe¡
, 
Deã¼edDe¡royedTh»adCËªsUp
) {

218 
	gth»ad_
->
S¹
();

219 
Ex³ùS‹
(1, 0, 0, 0, 0);

220 
	gth»ad_
->
De¡roy
(
çl£
);

221 
Ex³ùS‹
(1, 0, 0, 1, 0);

222 
Ex³ùS‹Wa™
(1, 1, 0, 1, 1, 
kTimeout
);

	@sigslot_repeater.h

11 #iâdeà
RTC_BASE_SIGSLOT_REPEATER_H__


12 
	#RTC_BASE_SIGSLOT_REPEATER_H__


	)

24 
	~"¹c_ba£/thœd_·¹y/sig¦Ù/sig¦Ù.h
"

26 
Çme¥aû
 
	gsig¦Ù
 {

28 
	g‹m¶©e
 <
şass
 
	gmt_pŞicy
, 
	gty³Çme
... 
	gArgs
>

29 
şass
 
	g»³©”_w™h_th»ad_pŞicy


30 : 
public
 
sigÇl_w™h_th»ad_pŞicy
<
mt_pŞicy
, 
	gArgs
...>,

31 
public
 
	ghas_¦Ùs
<
	gmt_pŞicy
> {

32 
	g´iv©e
:

35 
sigÇl_w™h_th»ad_pŞicy
<
	tmt_pŞicy
, 
	tArgs
...> 
	tba£_ty³
;

36 
	g»³©”_w™h_th»ad_pŞicy
<
	tmt_pŞicy
, 
	tArgs
...> 
	tthis_ty³
;

38 
	gpublic
:

39 
»³©”_w™h_th»ad_pŞicy
() {}

40 
»³©”_w™h_th»ad_pŞicy
(cÚ¡ 
this_ty³
& 
s
è: 
ba£_ty³
(s) {}

42 
»em™
(
Args
... 
¬gs
è{ 
ba£_ty³
::
em™
(args...); }

43 
»³©
(
ba£_ty³
& 
s
è{ 
	gs
.
cÚÃù
(
this
, &
this_ty³
::
»em™
); }

44 
¡İ
(
ba£_ty³
& 
s
è{ 
	gs
.
discÚÃù
(
this
); }

50 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgs
>

51 
usšg
 
	g»³©”
 =

52 
»³©”_w™h_th»ad_pŞicy
<
SIGSLOT_DEFAULT_MT_POLICY
, 
	gArgs
...>;

	@sigslot_tester.h

15 #iâdeà
RTC_BASE_SIGSLOT_TESTER_H_


16 
	#RTC_BASE_SIGSLOT_TESTER_H_


	)

41 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

42 
	~"¹c_ba£/thœd_·¹y/sig¦Ù/sig¦Ù.h
"

44 
Çme¥aû
 
	g¹c
 {

47 
şass
 
	gSig¦ÙTe¡”0
 : 
public
 
sig¦Ù
::
has_¦Ùs
<> {

48 
public
:

49 
ex¶ic™
 
Sig¦ÙTe¡”0
(
sig¦Ù
::
sigÇl0
<>* 
sigÇl
è: 
ÿÎback_couÁ_
(0) {

50 
sigÇl
->
cÚÃù
(
this
, &
Sig¦ÙTe¡”0
::
OnSigÇlC®lback
);

53 
ÿÎback_couÁ
(ècÚ¡ {  
	gÿÎback_couÁ_
; }

55 
	g´iv©e
:

56 
OnSigÇlC®lback
(è{ 
ÿÎback_couÁ_
++; }

57 
	gÿÎback_couÁ_
;

59 
RTC_DISALLOW_COPY_AND_ASSIGN
(
Sig¦ÙTe¡”0
);

69 
	g‹m¶©e
 <
şass
 
	gA1
, cÏs 
	gC1
>

70 
şass
 
	gSig¦ÙTe¡”1
 : 
public
 
sig¦Ù
::
has_¦Ùs
<> {

71 
public
:

72 
Sig¦ÙTe¡”1
(
sig¦Ù
::
sigÇl1
<
A1
>* 
sigÇl
, 
C1
* 
ÿ±u»1
)

73 : 
ÿÎback_couÁ_
(0), 
ÿ±u»1_
(
ÿ±u»1
) {

74 
	gsigÇl
->
cÚÃù
(
this
, &
Sig¦ÙTe¡”1
::
OnSigÇlC®lback
);

77 
ÿÎback_couÁ
(ècÚ¡ {  
	gÿÎback_couÁ_
; }

79 
	g´iv©e
:

80 
OnSigÇlC®lback
(
A1
 
¬g1
) {

81 
ÿÎback_couÁ_
++;

82 *
	gÿ±u»1_
 = 
¬g1
;

85 
	gÿÎback_couÁ_
;

86 
C1
* 
	gÿ±u»1_
;

88 
RTC_DISALLOW_COPY_AND_ASSIGN
(
Sig¦ÙTe¡”1
);

91 
	g‹m¶©e
 <
şass
 
	gA1
, cÏs 
	gA2
, cÏs 
	gC1
, cÏs 
	gC2
>

92 
şass
 
	gSig¦ÙTe¡”2
 : 
public
 
sig¦Ù
::
has_¦Ùs
<> {

93 
public
:

94 
Sig¦ÙTe¡”2
(
sig¦Ù
::
sigÇl2
<
A1
, 
A2
>* 
sigÇl
, 
C1
* 
ÿ±u»1
, 
C2
* 
ÿ±u»2
)

95 : 
ÿÎback_couÁ_
(0), 
ÿ±u»1_
(
ÿ±u»1
), 
ÿ±u»2_
(
ÿ±u»2
) {

96 
	gsigÇl
->
cÚÃù
(
this
, &
Sig¦ÙTe¡”2
::
OnSigÇlC®lback
);

99 
ÿÎback_couÁ
(ècÚ¡ {  
	gÿÎback_couÁ_
; }

101 
	g´iv©e
:

102 
OnSigÇlC®lback
(
A1
 
¬g1
, 
A2
 
¬g2
) {

103 
	gÿÎback_couÁ_
++;

104 *
	gÿ±u»1_
 = 
¬g1
;

105 *
	gÿ±u»2_
 = 
¬g2
;

108 
	gÿÎback_couÁ_
;

109 
C1
* 
	gÿ±u»1_
;

110 
C2
* 
	gÿ±u»2_
;

112 
RTC_DISALLOW_COPY_AND_ASSIGN
(
Sig¦ÙTe¡”2
);

115 
	g‹m¶©e
 <
şass
 
	gA1
, cÏs 
	gA2
, cÏs 
	gA3
, cÏs 
	gC1
, cÏs 
	gC2
, cÏs 
	gC3
>

116 
şass
 
	gSig¦ÙTe¡”3
 : 
public
 
sig¦Ù
::
has_¦Ùs
<> {

117 
public
:

118 
Sig¦ÙTe¡”3
(
sig¦Ù
::
sigÇl3
<
A1
, 
A2
, 
A3
>* 
sigÇl
,

119 
C1
* 
ÿ±u»1
,

120 
C2
* 
ÿ±u»2
,

121 
C3
* 
ÿ±u»3
)

122 : 
ÿÎback_couÁ_
(0),

123 
ÿ±u»1_
(
ÿ±u»1
),

124 
ÿ±u»2_
(
ÿ±u»2
),

125 
ÿ±u»3_
(
ÿ±u»3
) {

126 
	gsigÇl
->
cÚÃù
(
this
, &
Sig¦ÙTe¡”3
::
OnSigÇlC®lback
);

129 
ÿÎback_couÁ
(ècÚ¡ {  
	gÿÎback_couÁ_
; }

131 
	g´iv©e
:

132 
OnSigÇlC®lback
(
A1
 
¬g1
, 
A2
 
¬g2
, 
A3
 
¬g3
) {

133 
	gÿÎback_couÁ_
++;

134 *
	gÿ±u»1_
 = 
¬g1
;

135 *
	gÿ±u»2_
 = 
¬g2
;

136 *
	gÿ±u»3_
 = 
¬g3
;

139 
	gÿÎback_couÁ_
;

140 
C1
* 
	gÿ±u»1_
;

141 
C2
* 
	gÿ±u»2_
;

142 
C3
* 
	gÿ±u»3_
;

144 
RTC_DISALLOW_COPY_AND_ASSIGN
(
Sig¦ÙTe¡”3
);

147 
	g‹m¶©e
 <
şass
 
	gA1
,

148 
şass
 
	gA2
,

149 
şass
 
	gA3
,

150 
şass
 
	gA4
,

151 
şass
 
	gC1
,

152 
şass
 
	gC2
,

153 
şass
 
	gC3
,

154 
şass
 
	gC4
>

155 
şass
 
	gSig¦ÙTe¡”4
 : 
public
 
sig¦Ù
::
has_¦Ùs
<> {

156 
public
:

157 
Sig¦ÙTe¡”4
(
sig¦Ù
::
sigÇl4
<
A1
, 
A2
, 
A3
, 
A4
>* 
sigÇl
,

158 
C1
* 
ÿ±u»1
,

159 
C2
* 
ÿ±u»2
,

160 
C3
* 
ÿ±u»3
,

161 
C4
* 
ÿ±u»4
)

162 : 
ÿÎback_couÁ_
(0),

163 
ÿ±u»1_
(
ÿ±u»1
),

164 
ÿ±u»2_
(
ÿ±u»2
),

165 
ÿ±u»3_
(
ÿ±u»3
),

166 
ÿ±u»4_
(
ÿ±u»4
) {

167 
	gsigÇl
->
cÚÃù
(
this
, &
Sig¦ÙTe¡”4
::
OnSigÇlC®lback
);

170 
ÿÎback_couÁ
(ècÚ¡ {  
	gÿÎback_couÁ_
; }

172 
	g´iv©e
:

173 
OnSigÇlC®lback
(
A1
 
¬g1
, 
A2
 
¬g2
, 
A3
 
¬g3
, 
A4
 
¬g4
) {

174 
	gÿÎback_couÁ_
++;

175 *
	gÿ±u»1_
 = 
¬g1
;

176 *
	gÿ±u»2_
 = 
¬g2
;

177 *
	gÿ±u»3_
 = 
¬g3
;

178 *
	gÿ±u»4_
 = 
¬g4
;

181 
	gÿÎback_couÁ_
;

182 
C1
* 
	gÿ±u»1_
;

183 
C2
* 
	gÿ±u»2_
;

184 
C3
* 
	gÿ±u»3_
;

185 
C4
* 
	gÿ±u»4_
;

187 
RTC_DISALLOW_COPY_AND_ASSIGN
(
Sig¦ÙTe¡”4
);

190 
	g‹m¶©e
 <
şass
 
	gA1
,

191 
şass
 
	gA2
,

192 
şass
 
	gA3
,

193 
şass
 
	gA4
,

194 
şass
 
	gA5
,

195 
şass
 
	gC1
,

196 
şass
 
	gC2
,

197 
şass
 
	gC3
,

198 
şass
 
	gC4
,

199 
şass
 
	gC5
>

200 
şass
 
	gSig¦ÙTe¡”5
 : 
public
 
sig¦Ù
::
has_¦Ùs
<> {

201 
public
:

202 
Sig¦ÙTe¡”5
(
sig¦Ù
::
sigÇl5
<
A1
, 
A2
, 
A3
, 
A4
, 
A5
>* 
sigÇl
,

203 
C1
* 
ÿ±u»1
,

204 
C2
* 
ÿ±u»2
,

205 
C3
* 
ÿ±u»3
,

206 
C4
* 
ÿ±u»4
,

207 
C5
* 
ÿ±u»5
)

208 : 
ÿÎback_couÁ_
(0),

209 
ÿ±u»1_
(
ÿ±u»1
),

210 
ÿ±u»2_
(
ÿ±u»2
),

211 
ÿ±u»3_
(
ÿ±u»3
),

212 
ÿ±u»4_
(
ÿ±u»4
),

213 
ÿ±u»5_
(
ÿ±u»5
) {

214 
	gsigÇl
->
cÚÃù
(
this
, &
Sig¦ÙTe¡”5
::
OnSigÇlC®lback
);

217 
ÿÎback_couÁ
(ècÚ¡ {  
	gÿÎback_couÁ_
; }

219 
	g´iv©e
:

220 
OnSigÇlC®lback
(
A1
 
¬g1
, 
A2
 
¬g2
, 
A3
 
¬g3
, 
A4
 
¬g4
, 
A5
 
¬g5
) {

221 
	gÿÎback_couÁ_
++;

222 *
	gÿ±u»1_
 = 
¬g1
;

223 *
	gÿ±u»2_
 = 
¬g2
;

224 *
	gÿ±u»3_
 = 
¬g3
;

225 *
	gÿ±u»4_
 = 
¬g4
;

226 *
	gÿ±u»5_
 = 
¬g5
;

229 
	gÿÎback_couÁ_
;

230 
C1
* 
	gÿ±u»1_
;

231 
C2
* 
	gÿ±u»2_
;

232 
C3
* 
	gÿ±u»3_
;

233 
C4
* 
	gÿ±u»4_
;

234 
C5
* 
	gÿ±u»5_
;

236 
RTC_DISALLOW_COPY_AND_ASSIGN
(
Sig¦ÙTe¡”5
);

	@sigslot_tester_unittest.cc

11 
	~"¹c_ba£/sig¦Ù_‹¡”.h
"

13 
	~<¡ršg
>

15 
	~"¹c_ba£/thœd_·¹y/sig¦Ù/sig¦Ù.h
"

16 
	~"‹¡/g‹¡.h
"

18 
Çme¥aû
 
	g¹c
 {

20 
TEST
(
Sig¦ÙTe¡”
, 
Te¡SigÇl1Arg
) {

21 
	gsig¦Ù
::
sigÇl1
<> 
sourû1
;

22 
	gÿ±u»1
;

23 
	gSig¦ÙTe¡”1
<, > 
¦Ù1
(&
sourû1
, &
ÿ±u»1
);

24 
EXPECT_EQ
(0, 
¦Ù1
.
ÿÎback_couÁ
());

26 
	gsourû1
.
em™
(10);

27 
EXPECT_EQ
(1, 
¦Ù1
.
ÿÎback_couÁ
());

28 
EXPECT_EQ
(10, 
ÿ±u»1
);

30 
	gsourû1
.
em™
(20);

31 
EXPECT_EQ
(2, 
¦Ù1
.
ÿÎback_couÁ
());

32 
EXPECT_EQ
(20, 
ÿ±u»1
);

35 
TEST
(
Sig¦ÙTe¡”
, 
Te¡SigÇl2Args
) {

36 
	gsig¦Ù
::
sigÇl2
<, > 
	gsourû2
;

37 
	gÿ±u»1
;

38 
	gÿ±u»2
;

39 
	gSig¦ÙTe¡”2
<, , , > 
¦Ù2
(&
sourû2
, &
ÿ±u»1
, &
ÿ±u»2
);

40 
EXPECT_EQ
(0, 
¦Ù2
.
ÿÎback_couÁ
());

42 
	gsourû2
.
em™
(10, 'x');

43 
EXPECT_EQ
(1, 
¦Ù2
.
ÿÎback_couÁ
());

44 
EXPECT_EQ
(10, 
ÿ±u»1
);

45 
EXPECT_EQ
('x', 
ÿ±u»2
);

47 
	gsourû2
.
em™
(20, 'y');

48 
EXPECT_EQ
(2, 
¦Ù2
.
ÿÎback_couÁ
());

49 
EXPECT_EQ
(20, 
ÿ±u»1
);

50 
EXPECT_EQ
('y', 
ÿ±u»2
);

55 
TEST
(
Sig¦ÙTe¡”
, 
Te¡SigÇlW™hCÚ¡Reã»nûArgs
) {

56 
	gsig¦Ù
::
sigÇl1
<cÚ¡ 
¡d
::
¡ršg
&> 
sourû1
;

57 
	g¡d
::
¡ršg
 
ÿ±u»1
;

58 
	gSig¦ÙTe¡”1
<cÚ¡ 
	g¡d
::
¡ršg
&, std::¡ršg> 
¦Ù1
(&
sourû1
, &
ÿ±u»1
);

59 
EXPECT_EQ
(0, 
¦Ù1
.
ÿÎback_couÁ
());

60 
	gsourû1
.
em™
("hello");

61 
EXPECT_EQ
(1, 
¦Ù1
.
ÿÎback_couÁ
());

62 
EXPECT_EQ
("h–lo", 
ÿ±u»1
);

65 
TEST
(
Sig¦ÙTe¡”
, 
Te¡SigÇlW™hPoš‹rToCÚ¡Args
) {

66 
	gsig¦Ù
::
sigÇl1
<cÚ¡ 
¡d
::
¡ršg
*> 
sourû1
;

67 cÚ¡ 
	g¡d
::
¡ršg
* 
ÿ±u»1
;

68 
	gSig¦ÙTe¡”1
<cÚ¡ 
	g¡d
::
¡ršg
*, cÚ¡ std::¡ršg*> 
¦Ù1
(&
sourû1
,

69 &
ÿ±u»1
);

70 
EXPECT_EQ
(0, 
¦Ù1
.
ÿÎback_couÁ
());

71 
	gsourû1
.
em™
(
nuÎ±r
);

72 
EXPECT_EQ
(1, 
¦Ù1
.
ÿÎback_couÁ
());

73 
EXPECT_EQ
(
nuÎ±r
, 
ÿ±u»1
);

76 
TEST
(
Sig¦ÙTe¡”
, 
Te¡SigÇlW™hCÚ¡Poš‹rArgs
) {

77 
	gsig¦Ù
::
sigÇl1
<
¡d
::
¡ršg
* cÚ¡> 
sourû1
;

78 
	g¡d
::
¡ršg
* 
ÿ±u»1
;

79 
	gSig¦ÙTe¡”1
<
	g¡d
::
¡ršg
* cÚ¡, std::¡ršg*> 
¦Ù1
(&
sourû1
, &
ÿ±u»1
);

80 
EXPECT_EQ
(0, 
¦Ù1
.
ÿÎback_couÁ
());

81 
	gsourû1
.
em™
(
nuÎ±r
);

82 
EXPECT_EQ
(1, 
¦Ù1
.
ÿÎback_couÁ
());

83 
EXPECT_EQ
(
nuÎ±r
, 
ÿ±u»1
);

	@sigslot_unittest.cc

11 
	~"¹c_ba£/thœd_·¹y/sig¦Ù/sig¦Ù.h
"

13 
	~"¹c_ba£/sig¦Ù_»³©”.h
"

14 
	~"‹¡/g‹¡.h
"

18 
boŞ
 
	$Tem¶©eIsST
(cÚ¡ 
sig¦Ù
::
sšgË_th»aded
* 
p
) {

19  
Œue
;

20 
	}
}

23 
boŞ
 
	$Tem¶©eIsMT
(cÚ¡ 
sig¦Ù
::
muÉi_th»aded_loÿl
* 
p
) {

24  
Œue
;

25 
	}
}

27 
şass
 
	gSig¦ÙDeçuÉ
 : 
public
 ::
‹¡šg
::
Te¡
,…ubliø
	gsig¦Ù
::
has_¦Ùs
<> {

28 
´Ùeùed
:

29 
sig¦Ù
::
sigÇl0
<> 
sigÇl_
;

32 
	g‹m¶©e
 <
şass
 
	g¦Ù_pŞicy
 = 
sig¦Ù
::
sšgË_th»aded
,

33 
şass
 
	gsigÇl_pŞicy
 = 
sig¦Ù
::
sšgË_th»aded
>

34 
şass
 
Sig¦ÙReûiv”
 : 
public
 
sig¦Ù
::
has_¦Ùs
<
¦Ù_pŞicy
> {

35 
public
:

36 
Sig¦ÙReûiv”
(è: 
sigÇl_
(
nuÎ±r
), 
sigÇl_couÁ_
(0) {}

37 ~
Sig¦ÙReûiv”
() {}

41 
Sig¦ÙReûiv”
(const SigslotReceiver&) = ;

43 
CÚÃù
(
sig¦Ù
::
sigÇl0
<
sigÇl_pŞicy
>* 
sigÇl
) {

44 ià(!
sigÇl
)

46 
DiscÚÃù
();

47 
	gsigÇl_
 = 
sigÇl
;

48 
	gsigÇl
->
cÚÃù
(
this
,

49 &
Sig¦ÙReûiv”
<
¦Ù_pŞicy
, 
sigÇl_pŞicy
>::
OnSigÇl
);

51 
DiscÚÃù
() {

52 ià(!
	gsigÇl_
)

54 
	gsigÇl_
->
discÚÃù
(
this
);

55 
	gsigÇl_
 = 
nuÎ±r
;

57 
OnSigÇl
(è{ ++
	gsigÇl_couÁ_
; }

58 
sigÇl_couÁ
(è{  
	gsigÇl_couÁ_
; }

60 
	g´iv©e
:

61 
sig¦Ù
::
sigÇl0
<
sigÇl_pŞicy
>* 
sigÇl_
;

62 
	gsigÇl_couÁ_
;

65 
	g‹m¶©e
 <
şass
 
	g¦Ù_pŞicy
 = 
sig¦Ù
::
sšgË_th»aded
,

66 
şass
 
	gmt_sigÇl_pŞicy
 = 
sig¦Ù
::
muÉi_th»aded_loÿl
>

67 şas 
	cSig¦ÙSlÙTe¡
 : 
public
 ::
‹¡šg
::
Te¡
 {

68 
´Ùeùed
:

69 
	$Sig¦ÙSlÙTe¡
() {

70 
mt_sigÇl_pŞicy
 
mt_pŞicy
;

71 
	`Tem¶©eIsMT
(&
mt_pŞicy
);

74 
vœtu®
 
	$S‘Up
(è{ 
	`CÚÃù
(); 
	}
}

75 
vœtu®
 
	$T—rDown
(è{ 
	`DiscÚÃù
(); 
	}
}

77 
	$DiscÚÃù
() {

78 
¡_»ûiv”_
.
	`DiscÚÃù
();

79 
mt_»ûiv”_
.
	`DiscÚÃù
();

80 
	}
}

82 
	$CÚÃù
() {

83 
¡_»ûiv”_
.
	`CÚÃù
(&
SigÇlSTLoİback
);

84 
mt_»ûiv”_
.
	`CÚÃù
(&
SigÇlMTLoİback
);

85 
	}
}

87 
	$¡_loİ_back_couÁ
(è{  
¡_»ûiv”_
.
	`sigÇl_couÁ
(); 
	}
}

88 
	$mt_loİ_back_couÁ
(è{  
mt_»ûiv”_
.
	`sigÇl_couÁ
(); 
	}
}

90 
	gsig¦Ù
::
sigÇl0
<> 
SigÇlSTLoİback
;

91 
	gSig¦ÙReûiv”
<
	g¦Ù_pŞicy
, 
	gsig¦Ù
::
sšgË_th»aded
> 
¡_»ûiv”_
;

92 
	gsig¦Ù
::
sigÇl0
<
mt_sigÇl_pŞicy
> 
SigÇlMTLoİback
;

93 
	gSig¦ÙReûiv”
<
	g¦Ù_pŞicy
, 
	gmt_sigÇl_pŞicy
> 
	gmt_»ûiv”_
;

96 
	gSig¦ÙSlÙTe¡
<> 
	tSig¦ÙSTSlÙTe¡
;

97 
	gSig¦ÙSlÙTe¡
<
	tsig¦Ù
::
	tmuÉi_th»aded_loÿl
,

98 
	tsig¦Ù
::
	tmuÉi_th»aded_loÿl
>

99 
	tSig¦ÙMTSlÙTe¡
;

101 şas 
	cmuÉi_th»aded_loÿl_çke
 : 
public
 
sig¦Ù
::
muÉi_th»aded_loÿl
 {

102 
public
:

103 
	$muÉi_th»aded_loÿl_çke
(è: 
	`lock_couÁ_
(0), 
	$uÆock_couÁ_
(0) {}

105 
	$lock
(è{ ++
lock_couÁ_
; 
	}
}

106 
	$uÆock
(è{ ++
uÆock_couÁ_
; 
	}
}

108 
	$lock_couÁ
(è{  
lock_couÁ_
; 
	}
}

110 
boŞ
 
	$InCr™iÿlSeùiÚ
(è{  
lock_couÁ_
 !ğ
uÆock_couÁ_
; 
	}
}

112 
	g´Ùeùed
:

113 
lock_couÁ_
;

114 
	guÆock_couÁ_
;

117 
	gSig¦ÙSlÙTe¡
<
	tmuÉi_th»aded_loÿl_çke
, multi_threaded_local_fake>

118 
	tSig¦ÙMTLockBa£
;

120 şas 
	cSig¦ÙMTLockTe¡
 : 
public
 
Sig¦ÙMTLockBa£
 {

121 
´Ùeùed
:

122 
	$Sig¦ÙMTLockTe¡
() {}

124 
	$S‘Up
(è
ov”ride
 {

125 
	`EXPECT_EQ
(0, 
	`SlÙLockCouÁ
());

126 
Sig¦ÙMTLockBa£
::
	`S‘Up
();

131 
	`EXPECT_EQ
(1, 
	`SlÙLockCouÁ
());

132 
	}
}

133 
	$T—rDown
(è
ov”ride
 {

134 cÚ¡ 
´evious_lock_couÁ
 = 
	`SlÙLockCouÁ
();

135 
Sig¦ÙMTLockBa£
::
	`T—rDown
();

137 
	`EXPECT_EQ
(
´evious_lock_couÁ
 + 1, 
	`SlÙLockCouÁ
());

138 
	}
}

140 
	$SlÙLockCouÁ
(è{  
mt_»ûiv”_
.
	`lock_couÁ
(); 
	}
}

141 
	$SigÇl
(è{ 
	`SigÇlMTLoİback
(); 
	}
}

142 
	$SigÇlLockCouÁ
(è{  
SigÇlMTLoİback
.
	`lock_couÁ
(); 
	}
}

143 
	$sigÇl_couÁ
(è{  
	`mt_loİ_back_couÁ
(); 
	}
}

144 
boŞ
 
	$InCr™iÿlSeùiÚ
(è{  
SigÇlMTLoİback
.
	`InCr™iÿlSeùiÚ
(); 
	}
}

149 
	$TEST_F
(
Sig¦ÙDeçuÉ
, 
DeçuÉIsST
) {

150 
	`EXPECT_TRUE
(
	`Tem¶©eIsST
(
this
));

151 
	`EXPECT_TRUE
(
	`Tem¶©eIsST
(&
sigÇl_
));

152 
	}
}

155 
	$TEST_F
(
Sig¦ÙSTSlÙTe¡
, 
STLoİbackTe¡
) {

156 
	`SigÇlSTLoİback
();

157 
	`EXPECT_EQ
(1, 
	`¡_loİ_back_couÁ
());

158 
	`EXPECT_EQ
(0, 
	`mt_loİ_back_couÁ
());

159 
	}
}

162 
	$TEST_F
(
Sig¦ÙSTSlÙTe¡
, 
MTLoİbackTe¡
) {

163 
	`SigÇlMTLoİback
();

164 
	`EXPECT_EQ
(1, 
	`mt_loİ_back_couÁ
());

165 
	`EXPECT_EQ
(0, 
	`¡_loİ_back_couÁ
());

166 
	}
}

169 
	$TEST_F
(
Sig¦ÙSTSlÙTe¡
, 
AÎLoİbackTe¡
) {

170 
	`SigÇlSTLoİback
();

171 
	`SigÇlMTLoİback
();

172 
	`EXPECT_EQ
(1, 
	`mt_loİ_back_couÁ
());

173 
	`EXPECT_EQ
(1, 
	`¡_loİ_back_couÁ
());

174 
	}
}

176 
	$TEST_F
(
Sig¦ÙSTSlÙTe¡
, 
RecÚÃù
) {

177 
	`SigÇlSTLoİback
();

178 
	`SigÇlMTLoİback
();

179 
	`EXPECT_EQ
(1, 
	`mt_loİ_back_couÁ
());

180 
	`EXPECT_EQ
(1, 
	`¡_loİ_back_couÁ
());

181 
	`DiscÚÃù
();

182 
	`SigÇlSTLoİback
();

183 
	`SigÇlMTLoİback
();

184 
	`EXPECT_EQ
(1, 
	`mt_loİ_back_couÁ
());

185 
	`EXPECT_EQ
(1, 
	`¡_loİ_back_couÁ
());

186 
	`CÚÃù
();

187 
	`SigÇlSTLoİback
();

188 
	`SigÇlMTLoİback
();

189 
	`EXPECT_EQ
(2, 
	`mt_loİ_back_couÁ
());

190 
	`EXPECT_EQ
(2, 
	`¡_loİ_back_couÁ
());

191 
	}
}

194 
	$TEST_F
(
Sig¦ÙMTSlÙTe¡
, 
STLoİbackTe¡
) {

195 
	`SigÇlSTLoİback
();

196 
	`EXPECT_EQ
(1, 
	`¡_loİ_back_couÁ
());

197 
	`EXPECT_EQ
(0, 
	`mt_loİ_back_couÁ
());

198 
	}
}

201 
	$TEST_F
(
Sig¦ÙMTSlÙTe¡
, 
MTLoİbackTe¡
) {

202 
	`SigÇlMTLoİback
();

203 
	`EXPECT_EQ
(1, 
	`mt_loİ_back_couÁ
());

204 
	`EXPECT_EQ
(0, 
	`¡_loİ_back_couÁ
());

205 
	}
}

208 
	$TEST_F
(
Sig¦ÙMTSlÙTe¡
, 
AÎLoİbackTe¡
) {

209 
	`SigÇlMTLoİback
();

210 
	`SigÇlSTLoİback
();

211 
	`EXPECT_EQ
(1, 
	`¡_loİ_back_couÁ
());

212 
	`EXPECT_EQ
(1, 
	`mt_loİ_back_couÁ
());

213 
	}
}

216 
	$TEST_F
(
Sig¦ÙMTLockTe¡
, 
LockSª™y
) {

217 cÚ¡ 
lock_couÁ
 = 
	`SigÇlLockCouÁ
();

218 
	`SigÇl
();

219 
	`EXPECT_FALSE
(
	`InCr™iÿlSeùiÚ
());

220 
	`EXPECT_EQ
(
lock_couÁ
 + 1, 
	`SigÇlLockCouÁ
());

221 
	`EXPECT_EQ
(1, 
	`sigÇl_couÁ
());

222 
	}
}

225 
	$TEST
(
Sig¦ÙDe¡ruùiÚOrd”
, 
SigÇlFœ¡
) {

226 
sig¦Ù
::
sigÇl0
<>* 
sigÇl
 = 
Ãw
 sigslot::signal0<>;

227 
Sig¦ÙReûiv”
<>* 
»ûiv”
 = 
Ãw
 SigslotReceiver<>();

228 
»ûiv”
->
	`CÚÃù
(
sigÇl
);

229 (*
sigÇl
)();

230 
	`EXPECT_EQ
(1, 
»ûiv”
->
	`sigÇl_couÁ
());

231 
d–‘e
 
sigÇl
;

232 
d–‘e
 
»ûiv”
;

233 
	}
}

235 
	$TEST
(
Sig¦ÙDe¡ruùiÚOrd”
, 
SlÙFœ¡
) {

236 
sig¦Ù
::
sigÇl0
<>* 
sigÇl
 = 
Ãw
 sigslot::signal0<>;

237 
Sig¦ÙReûiv”
<>* 
»ûiv”
 = 
Ãw
 SigslotReceiver<>();

238 
»ûiv”
->
	`CÚÃù
(
sigÇl
);

239 (*
sigÇl
)();

240 
	`EXPECT_EQ
(1, 
»ûiv”
->
	`sigÇl_couÁ
());

242 
d–‘e
 
»ûiv”
;

243 (*
sigÇl
)();

244 
d–‘e
 
sigÇl
;

245 
	}
}

248 
	$TEST
(
Sig¦ÙTe¡
, 
CİyCÚÃùedSigÇl
) {

249 
sig¦Ù
::
sigÇl
<> signal;

250 
Sig¦ÙReûiv”
<> 
»ûiv”
;

251 
»ûiv”
.
	`CÚÃù
(&
sigÇl
);

254 
sig¦Ù
::
sigÇl
<> 
	`cİ›d_sigÇl
(signal);

255 
	`cİ›d_sigÇl
();

256 
	`EXPECT_EQ
(1, 
»ûiv”
.
	`sigÇl_couÁ
());

257 
	}
}

260 
	$TEST
(
Sig¦ÙTe¡
, 
CİyCÚÃùedSlÙ
) {

261 
sig¦Ù
::
sigÇl
<> signal;

262 
Sig¦ÙReûiv”
<> 
»ûiv”
;

263 
»ûiv”
.
	`CÚÃù
(&
sigÇl
);

267 
Sig¦ÙReûiv”
<> 
	`cİ›d_»ûiv”
(
»ûiv”
);

268 
	`sigÇl
();

269 
	`EXPECT_EQ
(1, 
cİ›d_»ûiv”
.
	`sigÇl_couÁ
());

270 
	}
}

273 
şass
 
	gDiscÚÃùÜ
 : 
public
 
sig¦Ù
::
has_¦Ùs
<> {

274 
public
:

275 
DiscÚÃùÜ
(
Sig¦ÙReûiv”
<>* 
»ûiv”1
, Sig¦ÙReûiv”<>* 
»ûiv”2
)

276 : 
»ûiv”1_
(
»ûiv”1
), 
»ûiv”2_
(
»ûiv”2
) {}

278 
CÚÃù
(
sig¦Ù
::
sigÇl
<>* signal) {

279 
sigÇl_
 = 
sigÇl
;

280 
	gsigÇl
->
cÚÃù
(
this
, &
DiscÚÃùÜ
::
DiscÚÃù
);

283 
	g´iv©e
:

284 
DiscÚÃù
() {

285 
»ûiv”1_
->
DiscÚÃù
();

286 
	g»ûiv”2_
->
DiscÚÃù
();

287 
	gsigÇl_
->
discÚÃù
(
this
);

290 
	gsig¦Ù
::
sigÇl
<>* 
sigÇl_
;

291 
	gSig¦ÙReûiv”
<>* 
	g»ûiv”1_
;

292 
	gSig¦ÙReûiv”
<>* 
	g»ûiv”2_
;

297 
	$TEST
(
Sig¦ÙTe¡
, 
DiscÚÃùFromSigÇlWheFœšg
) {

298 
sig¦Ù
::
sigÇl
<> signal;

299 
Sig¦ÙReûiv”
<> 
»ûiv”1
;

300 
Sig¦ÙReûiv”
<> 
»ûiv”2
;

301 
Sig¦ÙReûiv”
<> 
»ûiv”3
;

302 
DiscÚÃùÜ
 
	`discÚÃùÜ
(&
»ûiv”1
, &
»ûiv”2
);

308 
»ûiv”1
.
	`CÚÃù
(&
sigÇl
);

309 
discÚÃùÜ
.
	`CÚÃù
(&
sigÇl
);

310 
»ûiv”2
.
	`CÚÃù
(&
sigÇl
);

311 
»ûiv”3
.
	`CÚÃù
(&
sigÇl
);

312 
	`sigÇl
();

314 
	`EXPECT_EQ
(1, 
»ûiv”1
.
	`sigÇl_couÁ
());

315 
	`EXPECT_EQ
(0, 
»ûiv”2
.
	`sigÇl_couÁ
());

316 
	`EXPECT_EQ
(1, 
»ûiv”3
.
	`sigÇl_couÁ
());

317 
	}
}

320 
şass
 
	gDiscÚÃùÜ2
 : 
public
 
sig¦Ù
::
has_¦Ùs
<> {

321 
public
:

322 
CÚÃù
(
sig¦Ù
::
sigÇl
<>* signal) {

323 
sigÇl_
 = 
sigÇl
;

324 
	gsigÇl
->
cÚÃù
(
this
, &
DiscÚÃùÜ2
::
DiscÚÃù
);

327 
	g´iv©e
:

328 
DiscÚÃù
(è{ 
sigÇl_
->
discÚÃù_®l
(); }

330 
	gsig¦Ù
::
sigÇl
<>* 
sigÇl_
;

335 
	$TEST
(
Sig¦ÙTe¡
, 
C®lDiscÚÃùAÎWheSigÇlFœšg
) {

336 
sig¦Ù
::
sigÇl
<> signal;

337 
Sig¦ÙReûiv”
<> 
»ûiv”1
;

338 
Sig¦ÙReûiv”
<> 
»ûiv”2
;

339 
DiscÚÃùÜ2
 
discÚÃùÜ
;

344 
»ûiv”1
.
	`CÚÃù
(&
sigÇl
);

345 
discÚÃùÜ
.
	`CÚÃù
(&
sigÇl
);

346 
»ûiv”2
.
	`CÚÃù
(&
sigÇl
);

347 
	`sigÇl
();

349 
	`EXPECT_EQ
(1, 
»ûiv”1
.
	`sigÇl_couÁ
());

350 
	`EXPECT_EQ
(0, 
»ûiv”2
.
	`sigÇl_couÁ
());

351 
	}
}

354 
	$TEST
(
Sig¦ÙR•—‹rTe¡
, 
R•—tsSigÇlsAá”R•—tC®Ëd
) {

355 
sig¦Ù
::
sigÇl
<> signal;

356 
sig¦Ù
::
»³©”
<>„epeater;

357 
»³©”
.
	`»³©
(
sigÇl
);

360 
Sig¦ÙReûiv”
<> 
»ûiv”
;

361 
»ûiv”
.
	`CÚÃù
(&
»³©”
);

363 
	`sigÇl
();

364 
	`EXPECT_EQ
(1, 
»ûiv”
.
	`sigÇl_couÁ
());

366 
	`sigÇl
();

367 
	`EXPECT_EQ
(2, 
»ûiv”
.
	`sigÇl_couÁ
());

368 
	}
}

371 
	$TEST
(
Sig¦ÙR•—‹rTe¡
, 
StİsR•—tšgSigÇlsAá”StİC®Ëd
) {

373 
sig¦Ù
::
sigÇl
<> signal;

374 
sig¦Ù
::
»³©”
<>„epeater;

375 
»³©”
.
	`»³©
(
sigÇl
);

376 
Sig¦ÙReûiv”
<> 
»ûiv”
;

377 
»ûiv”
.
	`CÚÃù
(&
»³©”
);

378 
	`sigÇl
();

379 
	`ASSERT_EQ
(1, 
»ûiv”
.
	`sigÇl_couÁ
());

381 
»³©”
.
	`¡İ
(
sigÇl
);

382 
	`sigÇl
();

383 
	`EXPECT_EQ
(1, 
»ûiv”
.
	`sigÇl_couÁ
());

384 
	}
}

	@socket.cc

11 
	~"¹c_ba£/sock‘.h
"

13 
Çme¥aû
 
	g¹c
 {}

	@socket.h

11 #iâdeà
RTC_BASE_SOCKET_H_


12 
	#RTC_BASE_SOCKET_H_


	)

14 
	~<”ºo.h
>

16 #ià
defšed
(
WEBRTC_POSIX
)

17 
	~<¬·/š‘.h
>

18 
	~<Ãtš‘/š.h
>

19 
	~<sys/sock‘.h
>

20 
	~<sys/ty³s.h
>

21 
	#SOCKET_EACCES
 
EACCES


	)

24 #ià
defšed
(
WEBRTC_WIN
)

25 
	~"¹c_ba£/wš32.h
"

28 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

29 
	~"¹c_ba£/sock‘_add»ss.h
"

35 #ià
defšed
(
WEBRTC_WIN
)

36 #undeà
EWOULDBLOCK


37 
	#EWOULDBLOCK
 
WSAEWOULDBLOCK


	)

38 #undeà
EINPROGRESS


39 
	#EINPROGRESS
 
WSAEINPROGRESS


	)

40 #undeà
EALREADY


41 
	#EALREADY
 
WSAEALREADY


	)

42 #undeà
EMSGSIZE


43 
	#EMSGSIZE
 
WSAEMSGSIZE


	)

44 #undeà
EADDRINUSE


45 
	#EADDRINUSE
 
WSAEADDRINUSE


	)

46 #undeà
EADDRNOTAVAIL


47 
	#EADDRNOTAVAIL
 
WSAEADDRNOTAVAIL


	)

48 #undeà
ENETDOWN


49 
	#ENETDOWN
 
WSAENETDOWN


	)

50 #undeà
ECONNABORTED


51 
	#ECONNABORTED
 
WSAECONNABORTED


	)

52 #undeà
ENOBUFS


53 
	#ENOBUFS
 
WSAENOBUFS


	)

54 #undeà
EISCONN


55 
	#EISCONN
 
WSAEISCONN


	)

56 #undeà
ENOTCONN


57 
	#ENOTCONN
 
WSAENOTCONN


	)

58 #undeà
ECONNREFUSED


59 
	#ECONNREFUSED
 
WSAECONNREFUSED


	)

60 #undeà
EHOSTUNREACH


61 
	#EHOSTUNREACH
 
WSAEHOSTUNREACH


	)

62 
	#SOCKET_EACCES
 
WSAEACCES


	)

65 #ià
defšed
(
WEBRTC_POSIX
)

66 
	#INVALID_SOCKET
 (-1)

	)

67 
	#SOCKET_ERROR
 (-1)

	)

68 
	#şo£sock‘
(
s
è
	`şo£
(s)

	)

71 
Çme¥aû
 
	g¹c
 {

73 
šlše
 
boŞ
 
IsBlockšgE¼Ü
(
e
) {

74  (
	ge
 =ğ
EWOULDBLOCK
è|| (
e
 =ğ
EAGAIN
è|| (=ğ
EINPROGRESS
);

79 şas 
	cSock‘
 {

80 
	gpublic
:

81 
vœtu®
 ~
Sock‘
() {}

85 
vœtu®
 
Sock‘Add»ss
 
G‘LoÿlAdd»ss
() const = 0;

89 
vœtu®
 
Sock‘Add»ss
 
G‘RemÙeAdd»ss
() const = 0;

91 
vœtu®
 
Bšd
(cÚ¡ 
Sock‘Add»ss
& 
addr
) = 0;

92 
vœtu®
 
CÚÃù
(cÚ¡ 
Sock‘Add»ss
& 
addr
) = 0;

93 
vœtu®
 
S’d
(cÚ¡ * 
pv
, 
size_t
 
cb
) = 0;

94 
vœtu®
 
S’dTo
(cÚ¡ * 
pv
, 
size_t
 
cb
, cÚ¡ 
Sock‘Add»ss
& 
addr
) = 0;

96 
vœtu®
 
Recv
(* 
pv
, 
size_t
 
cb
, 
št64_t
* 
time¡amp
) = 0;

97 
vœtu®
 
RecvFrom
(* 
pv
,

98 
size_t
 
cb
,

99 
Sock‘Add»ss
* 
·ddr
,

100 
št64_t
* 
time¡amp
) = 0;

101 
vœtu®
 
Li¡’
(
backlog
) = 0;

102 
vœtu®
 
Sock‘
* 
Acû±
(
Sock‘Add»ss
* 
·ddr
) = 0;

103 
vœtu®
 
Clo£
() = 0;

104 
vœtu®
 
G‘E¼Ü
() const = 0;

105 
vœtu®
 
S‘E¼Ü
(
”rÜ
) = 0;

106 
šlše
 
boŞ
 
IsBlockšg
(ècÚ¡ {  
IsBlockšgE¼Ü
(
G‘E¼Ü
()); }

108 
	eCÚnS‹
 { 
	gCS_CLOSED
, 
	gCS_CONNECTING
, 
	gCS_CONNECTED
 };

109 
vœtu®
 
CÚnS‹
 
G‘S‹
() const = 0;

111 
	eO±iÚ
 {

112 
	gOPT_DONTFRAGMENT
,

113 
	gOPT_RCVBUF
,

114 
	gOPT_SNDBUF
,

115 
	gOPT_NODELAY
,

116 
	gOPT_IPV6_V6ONLY
,

117 
	gOPT_DSCP
,

118 
	gOPT_RTP_SENDTIME_EXTN_ID
,

122 
vœtu®
 
G‘O±iÚ
(
O±iÚ
 
İt
, * 
v®ue
) = 0;

123 
vœtu®
 
S‘O±iÚ
(
O±iÚ
 
İt
, 
v®ue
) = 0;

125 
	g´Ùeùed
:

126 
Sock‘
() {}

128 
´iv©e
:

129 
RTC_DISALLOW_COPY_AND_ASSIGN
(
Sock‘
);

	@socket_adapters.cc

11 #ià
defšed
(
_MSC_VER
) && _MSC_VER < 1300

12 #´agm¨
w¬nšg
(
di§bË
 : 4786)

15 
	~<®gÜ™hm
>

17 
	~"ab¦/¡ršgs/m©ch.h
"

18 
	~"¹c_ba£/bufãr.h
"

19 
	~"¹c_ba£/by‹_bufãr.h
"

20 
	~"¹c_ba£/checks.h
"

21 
	~"¹c_ba£/h‰p_commÚ.h
"

22 
	~"¹c_ba£/loggšg.h
"

23 
	~"¹c_ba£/sock‘_ad­‹rs.h
"

24 
	~"¹c_ba£/¡ršgs/¡ršg_bud”.h
"

25 
	~"¹c_ba£/z”o_memÜy.h
"

27 
Çme¥aû
 
	g¹c
 {

29 
	gBufã»dR—dAd­‹r
::
Bufã»dR—dAd­‹r
(
AsyncSock‘
* 
sock‘
, 
size_t
 
size
)

30 : 
AsyncSock‘Ad­‹r
(
sock‘
),

31 
bufãr_size_
(
size
),

32 
d©a_Ën_
(0),

33 
bufãršg_
(
çl£
) {

34 
	gbufãr_
 = 
Ãw
 [
bufãr_size_
];

37 
	gBufã»dR—dAd­‹r
::~
Bufã»dR—dAd­‹r
() {

38 
d–‘e
[] 
bufãr_
;

41 
	gBufã»dR—dAd­‹r
::
S’d
(cÚ¡ * 
pv
, 
size_t
 
cb
) {

42 ià(
	gbufãršg_
) {

44 
	gsock‘_
->
S‘E¼Ü
(
EWOULDBLOCK
);

47  
	gAsyncSock‘Ad­‹r
::
S’d
(
pv
, 
cb
);

50 
	gBufã»dR—dAd­‹r
::
Recv
(* 
pv
, 
size_t
 
cb
, 
št64_t
* 
time¡amp
) {

51 ià(
	gbufãršg_
) {

52 
	gsock‘_
->
S‘E¼Ü
(
EWOULDBLOCK
);

56 
size_t
 
	g»ad
 = 0;

58 ià(
	gd©a_Ën_
) {

59 
	g»ad
 = 
¡d
::
mš
(
cb
, 
d©a_Ën_
);

60 
memıy
(
pv
, 
bufãr_
, 
»ad
);

61 
	gd©a_Ën_
 -ğ
»ad
;

62 ià(
	gd©a_Ën_
 > 0) {

63 
memmove
(
bufãr_
, bufãr_ + 
»ad
, 
d©a_Ën_
);

65 
	gpv
 = 
¡©ic_ÿ¡
<*>(
pv
è+ 
»ad
;

66 
	gcb
 -ğ
»ad
;

71 
	g»s
 = 
AsyncSock‘Ad­‹r
::
Recv
(
pv
, 
cb
, 
time¡amp
);

72 ià(
	g»s
 >= 0) {

74  
»s
 + 
¡©ic_ÿ¡
<>(
»ad
);

77 ià(
	g»ad
 > 0) {

79  
	g¡©ic_ÿ¡
<>(
	g»ad
);

83  
	g»s
;

86 
	gBufã»dR—dAd­‹r
::
BufãrIÅut
(
boŞ
 
Ú
) {

87 
bufãršg_
 = 
Ú
;

90 
	gBufã»dR—dAd­‹r
::
OnR—dEv’t
(
AsyncSock‘
* 
sock‘
) {

91 
RTC_DCHECK
(
sock‘
 =ğ
sock‘_
);

93 ià(!
	gbufãršg_
) {

94 
	gAsyncSock‘Ad­‹r
::
OnR—dEv’t
(
sock‘
);

98 ià(
	gd©a_Ën_
 >ğ
bufãr_size_
) {

99 
RTC_LOG
(
LS_ERROR
) << "Input buffer overflow";

100 
RTC_NOTREACHED
();

101 
	gd©a_Ën_
 = 0;

104 
	gËn
 =

105 
sock‘_
->
Recv
(
bufãr_
 + 
d©a_Ën_
, 
bufãr_size_
 - d©a_Ën_, 
nuÎ±r
);

106 ià(
	gËn
 < 0) {

108 
RTC_LOG_ERR
(
INFO
) << "Recv";

112 
	gd©a_Ën_
 +ğ
Ën
;

114 
ProûssIÅut
(
bufãr_
, &
d©a_Ën_
);

122 cÚ¡ 
ušt8_t
 
	gkS¦Cl›ÁH–lo
[] = {

139 
	gA¼ayV›w
<cÚ¡ 
	gušt8_t
> 
	gAsyncSSLSock‘
::
S¦Cl›ÁH–lo
() {

142  {
kS¦Cl›ÁH–lo
, (
	gkS¦Cl›ÁH–lo
)};

146 cÚ¡ 
ušt8_t
 
	gkS¦S”v”H–lo
[] = {

167 
	gA¼ayV›w
<cÚ¡ 
	gušt8_t
> 
	gAsyncSSLSock‘
::
S¦S”v”H–lo
() {

168  {
kS¦S”v”H–lo
, (
	gkS¦S”v”H–lo
)};

171 
	gAsyncSSLSock‘
::
AsyncSSLSock‘
(
AsyncSock‘
* 
sock‘
)

172 : 
Bufã»dR—dAd­‹r
(
sock‘
, 1024) {}

174 
	gAsyncSSLSock‘
::
CÚÃù
(cÚ¡ 
Sock‘Add»ss
& 
addr
) {

177 
BufãrIÅut
(
Œue
);

178  
	gBufã»dR—dAd­‹r
::
CÚÃù
(
addr
);

181 
	gAsyncSSLSock‘
::
OnCÚÃùEv’t
(
AsyncSock‘
* 
sock‘
) {

182 
RTC_DCHECK
(
sock‘
 =ğ
sock‘_
);

184 cÚ¡ 
	g»s
 = 
DœeùS’d
(
kS¦Cl›ÁH–lo
, (kSslClientHello));

185 
RTC_DCHECK_EQ
((
kS¦Cl›ÁH–lo
), 
»s
);

188 
	gAsyncSSLSock‘
::
ProûssIÅut
(* 
d©a
, 
size_t
* 
Ën
) {

189 ià(*
	gËn
 < (
	gkS¦S”v”H–lo
))

192 ià(
memcmp
(
kS¦S”v”H–lo
, 
d©a
, (kSslServerHello)) != 0) {

193 
Clo£
();

194 
SigÇlClo£Ev’t
(
this
, 0);

198 *
	gËn
 -ğ(
kS¦S”v”H–lo
);

199 ià(*
	gËn
 > 0) {

200 
memmove
(
d©a
, d©¨+ (
kS¦S”v”H–lo
), *
Ën
);

203 
boŞ
 
	g»mašd”
 = (*
Ën
 > 0);

204 
BufãrIÅut
(
çl£
);

205 
SigÇlCÚÃùEv’t
(
this
);

208 ià(
	g»mašd”
)

209 
SigÇlR—dEv’t
(
this
);

214 
	gAsyncH‰psProxySock‘
::
AsyncH‰psProxySock‘
(
AsyncSock‘
* 
sock‘
,

215 cÚ¡ 
¡d
::
¡ršg
& 
u£r_ag’t
,

216 cÚ¡ 
Sock‘Add»ss
& 
´oxy
,

217 cÚ¡ 
¡d
::
¡ršg
& 
u£ºame
,

218 cÚ¡ 
Cry±SŒšg
& 
·sswÜd
)

219 : 
Bufã»dR—dAd­‹r
(
sock‘
, 1024),

220 
´oxy_
(
´oxy
),

221 
ag’t_
(
u£r_ag’t
),

222 
u£r_
(
u£ºame
),

223 
·ss_
(
·sswÜd
),

224 
fÜû_cÚÃù_
(
çl£
),

225 
¡©e_
(
PS_ERROR
),

226 
cÚ‹xt_
(0) {}

228 
	gAsyncH‰psProxySock‘
::~
AsyncH‰psProxySock‘
() {

229 
d–‘e
 
cÚ‹xt_
;

232 
	gAsyncH‰psProxySock‘
::
CÚÃù
(cÚ¡ 
Sock‘Add»ss
& 
addr
) {

233 
»t
;

234 
RTC_LOG
(
LS_VERBOSE
) << "AsyncHttpsProxySocket::Connect("

235 << 
	g´oxy_
.
ToS’s™iveSŒšg
() << ")";

236 
	gde¡_
 = 
addr
;

237 
	g¡©e_
 = 
PS_INIT
;

238 ià(
ShouldIssueCÚÃù
()) {

239 
BufãrIÅut
(
Œue
);

241 
	g»t
 = 
Bufã»dR—dAd­‹r
::
CÚÃù
(
´oxy_
);

243  
	g»t
;

246 
Sock‘Add»ss
 
	gAsyncH‰psProxySock‘
::
G‘RemÙeAdd»ss
() const {

247  
de¡_
;

250 
	gAsyncH‰psProxySock‘
::
Clo£
() {

251 
h—d”s_
.
ş—r
();

252 
	g¡©e_
 = 
PS_ERROR
;

253 
	gde¡_
.
CË¬
();

254 
d–‘e
 
	gcÚ‹xt_
;

255 
	gcÚ‹xt_
 = 
nuÎ±r
;

256  
	gBufã»dR—dAd­‹r
::
Clo£
();

259 
	gSock‘
::
CÚnS‹
 
AsyncH‰psProxySock‘
::
G‘S‹
() const {

260 ià(
¡©e_
 < 
PS_TUNNEL
) {

261  
CS_CONNECTING
;

262 } ià(
	g¡©e_
 =ğ
PS_TUNNEL
) {

263  
CS_CONNECTED
;

265  
	gCS_CLOSED
;

269 
	gAsyncH‰psProxySock‘
::
OnCÚÃùEv’t
(
AsyncSock‘
* 
sock‘
) {

270 
RTC_LOG
(
LS_VERBOSE
) << "AsyncHttpsProxySocket::OnConnectEvent";

271 ià(!
ShouldIssueCÚÃù
()) {

272 
	g¡©e_
 = 
PS_TUNNEL
;

273 
	gBufã»dR—dAd­‹r
::
OnCÚÃùEv’t
(
sock‘
);

276 
S’dReque¡
();

279 
	gAsyncH‰psProxySock‘
::
OnClo£Ev’t
(
AsyncSock‘
* 
sock‘
, 
”r
) {

280 
RTC_LOG
(
LS_VERBOSE
è<< "AsyncH‰psProxySock‘::OnClo£Ev’t(" << 
	g”r
 << ")";

281 ià((
	g¡©e_
 =ğ
PS_WAIT_CLOSE
è&& (
”r
 == 0)) {

282 
¡©e_
 = 
PS_ERROR
;

283 
CÚÃù
(
de¡_
);

285 
	gBufã»dR—dAd­‹r
::
OnClo£Ev’t
(
sock‘
, 
”r
);

289 
	gAsyncH‰psProxySock‘
::
ProûssIÅut
(* 
d©a
, 
size_t
* 
Ën
) {

290 
size_t
 
	g¡¬t
 = 0;

291 
size_t
 
	gpos
 = 
¡¬t
; 
	g¡©e_
 < 
	gPS_TUNNEL
 &&…o < *
	gËn
;) {

292 ià(
	g¡©e_
 =ğ
PS_SKIP_BODY
) {

293 
size_t
 
cÚsume
 = 
¡d
::
mš
(*
Ën
 - 
pos
, 
cÚ‹Á_Ëngth_
);

294 
	gpos
 +ğ
cÚsume
;

295 
	g¡¬t
 = 
pos
;

296 
	gcÚ‹Á_Ëngth_
 -ğ
cÚsume
;

297 ià(
	gcÚ‹Á_Ëngth_
 == 0) {

298 
EndRe¥Ú£
();

303 ià(
	gd©a
[
pos
++] != '\n')

306 
size_t
 
	gËn
 = 
pos
 - 
¡¬t
 - 1;

307 ià((
	gËn
 > 0è&& (
	gd©a
[
¡¬t
 + 
Ën
 - 1] == '\r'))

308 --
Ën
;

310 
	gd©a
[
¡¬t
 + 
Ën
] = 0;

311 
ProûssLše
(
d©a
 + 
¡¬t
, 
Ën
);

312 
	g¡¬t
 = 
pos
;

315 *
	gËn
 -ğ
¡¬t
;

316 ià(*
	gËn
 > 0) {

317 
memmove
(
d©a
, d©¨+ 
¡¬t
, *
Ën
);

320 ià(
	g¡©e_
 !ğ
PS_TUNNEL
)

323 
boŞ
 
	g»mašd”
 = (*
Ën
 > 0);

324 
BufãrIÅut
(
çl£
);

325 
SigÇlCÚÃùEv’t
(
this
);

328 ià(
	g»mašd”
)

329 
SigÇlR—dEv’t
(
this
);

332 
boŞ
 
	gAsyncH‰psProxySock‘
::
ShouldIssueCÚÃù
() const {

335  
fÜû_cÚÃù_
 || (
de¡_
.
pÜt
() != 80);

338 
	gAsyncH‰psProxySock‘
::
S’dReque¡
() {

339 
¹c
::
SŒšgBud”
 
ss
;

340 
	gss
 << "CONNECT " << 
	gde¡_
.
ToSŒšg
() << " HTTP/1.0\r\n";

341 
	gss
 << "U£r-Ag’t: " << 
	gag’t_
 << "\r\n";

342 
	gss
 << "Ho¡: " << 
	gde¡_
.
Ho¡AsURISŒšg
() << "\r\n";

343 
	gss
 << "Content-Length: 0\r\n";

344 
	gss
 << "Proxy-Connection: Keep-Alive\r\n";

345 
	gss
 << 
	gh—d”s_
;

346 
	gss
 << "\r\n";

347 
	g¡d
::
¡ršg
 
¡r
 = 
ss
.str();

348 
DœeùS’d
(
¡r
.
c_¡r
(), sŒ.
size
());

349 
	g¡©e_
 = 
PS_LEADER
;

350 
	gex³ù_şo£_
 = 
Œue
;

351 
	gcÚ‹Á_Ëngth_
 = 0;

352 
	gh—d”s_
.
ş—r
();

354 
RTC_LOG
(
LS_VERBOSE
è<< "AsyncH‰psProxySock‘ >> " << 
	g¡r
;

357 
	gAsyncH‰psProxySock‘
::
ProûssLše
(* 
d©a
, 
size_t
 
Ën
) {

358 
RTC_LOG
(
LS_VERBOSE
è<< "AsyncH‰psProxySock‘ << " << 
	gd©a
;

360 ià(
	gËn
 == 0) {

361 ià(
¡©e_
 =ğ
PS_TUNNEL_HEADERS
) {

362 
¡©e_
 = 
PS_TUNNEL
;

363 } ià(
	g¡©e_
 =ğ
PS_ERROR_HEADERS
) {

364 
E¼Ü
(
deãr_”rÜ_
);

366 } ià(
	g¡©e_
 =ğ
PS_SKIP_HEADERS
) {

367 ià(
cÚ‹Á_Ëngth_
) {

368 
¡©e_
 = 
PS_SKIP_BODY
;

370 
EndRe¥Ú£
();

374 ià(!
	gunknown_mechªisms_
.
em±y
()) {

375 
RTC_LOG
(
LS_ERROR
) << "Unsupported‡uthentication methods: "

376 << 
	gunknown_mechªisms_
;

379 
E¼Ü
(0);

382 } ià(
	g¡©e_
 =ğ
PS_LEADER
) {

383 
code
;

384 ià(
ssÿnf
(
d©a
, "HTTP/%*u.%*u %u", &
code
) != 1) {

385 
E¼Ü
(0);

388 
	gcode
) {

391 
¡©e_
 = 
PS_TUNNEL_HEADERS
;

393 #ià
defšed
(
HTTP_STATUS_PROXY_AUTH_REQ
) && (HTTP_STATUS_PROXY_AUTH_REQ != 407)

394 #”rÜ 
WrÚg
 
code
 
HTTP_STATUS_PROXY_AUTH_REQ


397 
¡©e_
 = 
PS_AUTHENTICATE
;

400 
deãr_”rÜ_
 = 0;

401 
	g¡©e_
 = 
PS_ERROR_HEADERS
;

404 } ià((
	g¡©e_
 =ğ
PS_AUTHENTICATE
) &&

405 
ab¦
::
S¹sW™hIgnÜeCa£
(
d©a
, "Proxy-Authenticate:")) {

406 
	g¡d
::
¡ršg
 
»¥Ú£
, 
	gauth_m‘hod
;

407 
H‰pAuth’tiÿ‹
(
d©a
 + 19, 
Ën
 - 19, 
´oxy_
, "CONNECT", "/", 
u£r_
,

408 
·ss_
, 
cÚ‹xt_
, 
»¥Ú£
, 
auth_m‘hod
)) {

409 
	gHAR_IGNORE
:

410 
RTC_LOG
(
LS_VERBOSE
è<< "IgnÜšg Proxy-Auth’tiÿ‹: " << 
auth_m‘hod
;

411 ià(!
	gunknown_mechªisms_
.
em±y
())

412 
	gunknown_mechªisms_
.
­³nd
(", ");

413 
	gunknown_mechªisms_
.
­³nd
(
auth_m‘hod
);

415 
	gHAR_RESPONSE
:

416 
h—d”s_
 = "Proxy-Authorization: ";

417 
	gh—d”s_
.
­³nd
(
»¥Ú£
);

418 
	gh—d”s_
.
­³nd
("\r\n");

419 
	g¡©e_
 = 
PS_SKIP_HEADERS
;

420 
	gunknown_mechªisms_
.
ş—r
();

422 
	gHAR_CREDENTIALS
:

423 
deãr_”rÜ_
 = 
SOCKET_EACCES
;

424 
	g¡©e_
 = 
PS_ERROR_HEADERS
;

425 
	gunknown_mechªisms_
.
ş—r
();

427 
	gHAR_ERROR
:

428 
deãr_”rÜ_
 = 0;

429 
	g¡©e_
 = 
PS_ERROR_HEADERS
;

430 
	gunknown_mechªisms_
.
ş—r
();

433 } ià(
	gab¦
::
S¹sW™hIgnÜeCa£
(
d©a
, "Content-Length:")) {

434 
	gcÚ‹Á_Ëngth_
 = 
¡¹oul
(
d©a
 + 15, 0, 0);

435 } ià(
	gab¦
::
S¹sW™hIgnÜeCa£
(
d©a
, "Proxy-Connection: Keep-Alive")) {

436 
	gex³ù_şo£_
 = 
çl£
;

444 
	gAsyncH‰psProxySock‘
::
EndRe¥Ú£
() {

445 ià(!
ex³ù_şo£_
) {

446 
S’dReque¡
();

452 
	g¡©e_
 = 
PS_WAIT_CLOSE
;

453 
	gBufã»dR—dAd­‹r
::
Clo£
();

454 
OnClo£Ev’t
(
this
, 0);

457 
	gAsyncH‰psProxySock‘
::
E¼Ü
(
”rÜ
) {

458 
BufãrIÅut
(
çl£
);

459 
Clo£
();

460 
S‘E¼Ü
(
”rÜ
);

461 
SigÇlClo£Ev’t
(
this
, 
”rÜ
);

466 
	gAsyncSocksProxySock‘
::
AsyncSocksProxySock‘
(
AsyncSock‘
* 
sock‘
,

467 cÚ¡ 
Sock‘Add»ss
& 
´oxy
,

468 cÚ¡ 
¡d
::
¡ršg
& 
u£ºame
,

469 cÚ¡ 
Cry±SŒšg
& 
·sswÜd
)

470 : 
Bufã»dR—dAd­‹r
(
sock‘
, 1024),

471 
¡©e_
(
SS_ERROR
),

472 
´oxy_
(
´oxy
),

473 
u£r_
(
u£ºame
),

474 
·ss_
(
·sswÜd
) {}

476 
	gAsyncSocksProxySock‘
::~
AsyncSocksProxySock‘
() = ;

478 
	gAsyncSocksProxySock‘
::
CÚÃù
(cÚ¡ 
Sock‘Add»ss
& 
addr
) {

479 
»t
;

480 
	gde¡_
 = 
addr
;

481 
	g¡©e_
 = 
SS_INIT
;

482 
BufãrIÅut
(
Œue
);

483 
	g»t
 = 
Bufã»dR—dAd­‹r
::
CÚÃù
(
´oxy_
);

485  
	g»t
;

488 
Sock‘Add»ss
 
	gAsyncSocksProxySock‘
::
G‘RemÙeAdd»ss
() const {

489  
de¡_
;

492 
	gAsyncSocksProxySock‘
::
Clo£
() {

493 
¡©e_
 = 
SS_ERROR
;

494 
	gde¡_
.
CË¬
();

495  
	gBufã»dR—dAd­‹r
::
Clo£
();

498 
	gSock‘
::
CÚnS‹
 
AsyncSocksProxySock‘
::
G‘S‹
() const {

499 ià(
¡©e_
 < 
SS_TUNNEL
) {

500  
CS_CONNECTING
;

501 } ià(
	g¡©e_
 =ğ
SS_TUNNEL
) {

502  
CS_CONNECTED
;

504  
	gCS_CLOSED
;

508 
	gAsyncSocksProxySock‘
::
OnCÚÃùEv’t
(
AsyncSock‘
* 
sock‘
) {

509 
S’dH–lo
();

512 
	gAsyncSocksProxySock‘
::
ProûssIÅut
(* 
d©a
, 
size_t
* 
Ën
) {

513 
RTC_DCHECK
(
¡©e_
 < 
SS_TUNNEL
);

515 
By‹BufãrR—d”
 
»¥Ú£
(
d©a
, *
Ën
);

517 ià(
	g¡©e_
 =ğ
SS_HELLO
) {

518 
ušt8_t
 
v”
, 
m‘hod
;

519 ià(!
	g»¥Ú£
.
R—dUIÁ8
(&
v”
è|| !»¥Ú£.R—dUIÁ8(&
m‘hod
))

522 ià(
	gv”
 != 5) {

523 
E¼Ü
(0);

527 ià(
	gm‘hod
 == 0) {

528 
S’dCÚÃù
();

529 } ià(
	gm‘hod
 == 2) {

530 
S’dAuth
();

532 
E¼Ü
(0);

535 } ià(
	g¡©e_
 =ğ
SS_AUTH
) {

536 
ušt8_t
 
v”
, 
¡©us
;

537 ià(!
	g»¥Ú£
.
R—dUIÁ8
(&
v”
è|| !»¥Ú£.R—dUIÁ8(&
¡©us
))

540 ià((
	gv”
 !ğ1è|| (
¡©us
 != 0)) {

541 
E¼Ü
(
SOCKET_EACCES
);

545 
S’dCÚÃù
();

546 } ià(
	g¡©e_
 =ğ
SS_CONNECT
) {

547 
ušt8_t
 
v”
, 
»p
, 
rsv
, 
©yp
;

548 ià(!
	g»¥Ú£
.
R—dUIÁ8
(&
v”
è|| !»¥Ú£.R—dUIÁ8(&
»p
) ||

549 !
	g»¥Ú£
.
R—dUIÁ8
(&
rsv
è|| !»¥Ú£.R—dUIÁ8(&
©yp
))

552 ià((
	gv”
 !ğ5è|| (
»p
 != 0)) {

553 
E¼Ü
(0);

557 
ušt16_t
 
	gpÜt
;

558 ià(
	g©yp
 == 1) {

559 
ušt32_t
 
addr
;

560 ià(!
	g»¥Ú£
.
R—dUIÁ32
(&
addr
è|| !»¥Ú£.
R—dUIÁ16
(&
pÜt
))

562 
RTC_LOG
(
LS_VERBOSE
è<< "Bound oÀ" << 
	gaddr
 << ":" << 
	gpÜt
;

563 } ià(
	g©yp
 == 3) {

564 
ušt8_t
 
Ën
;

565 
	g¡d
::
¡ršg
 
addr
;

566 ià(!
	g»¥Ú£
.
R—dUIÁ8
(&
Ën
è|| !»¥Ú£.
R—dSŒšg
(&
addr
,†en) ||

567 !
	g»¥Ú£
.
R—dUIÁ16
(&
pÜt
))

569 
RTC_LOG
(
LS_VERBOSE
è<< "Bound oÀ" << 
	gaddr
 << ":" << 
	gpÜt
;

570 } ià(
	g©yp
 == 4) {

571 
¡d
::
¡ršg
 
addr
;

572 ià(!
	g»¥Ú£
.
R—dSŒšg
(&
addr
, 16è|| !»¥Ú£.
R—dUIÁ16
(&
pÜt
))

574 
RTC_LOG
(
LS_VERBOSE
è<< "Bound oÀ<IPV6>:" << 
	gpÜt
;

576 
E¼Ü
(0);

580 
	g¡©e_
 = 
SS_TUNNEL
;

584 *
	gËn
 = 
»¥Ú£
.
L’gth
();

585 
memmove
(
d©a
, 
»¥Ú£
.
D©a
(), *
Ën
);

587 ià(
	g¡©e_
 !ğ
SS_TUNNEL
)

590 
boŞ
 
	g»mašd”
 = (*
Ën
 > 0);

591 
BufãrIÅut
(
çl£
);

592 
SigÇlCÚÃùEv’t
(
this
);

595 ià(
	g»mašd”
)

596 
SigÇlR—dEv’t
(
this
);

599 
	gAsyncSocksProxySock‘
::
S’dH–lo
() {

600 
By‹BufãrWr™”
 
»que¡
;

601 
	g»que¡
.
Wr™eUIÁ8
(5);

602 ià(
	gu£r_
.
em±y
()) {

603 
	g»que¡
.
Wr™eUIÁ8
(1);

604 
	g»que¡
.
Wr™eUIÁ8
(0);

606 
	g»que¡
.
Wr™eUIÁ8
(2);

607 
	g»que¡
.
Wr™eUIÁ8
(0);

608 
	g»que¡
.
Wr™eUIÁ8
(2);

610 
DœeùS’d
(
»que¡
.
D©a
(),„eque¡.
L’gth
());

611 
	g¡©e_
 = 
SS_HELLO
;

614 
	gAsyncSocksProxySock‘
::
S’dAuth
() {

615 
By‹BufãrWr™”T
<
Z”oOnF»eBufãr
<>> 
»que¡
;

616 
	g»que¡
.
Wr™eUIÁ8
(1);

617 
	g»que¡
.
Wr™eUIÁ8
(
¡©ic_ÿ¡
<
ušt8_t
>(
u£r_
.
size
()));

618 
	g»que¡
.
Wr™eSŒšg
(
u£r_
);

619 
	g»que¡
.
Wr™eUIÁ8
(
¡©ic_ÿ¡
<
ušt8_t
>(
·ss_
.
G‘L’gth
()));

620 
size_t
 
	gËn
 = 
·ss_
.
G‘L’gth
() + 1;

621 * 
	g£ns™ive
 = 
Ãw
 [
Ën
];

622 
	g·ss_
.
CİyTo
(
£ns™ive
, 
Œue
);

623 
	g»que¡
.
Wr™eBy‹s
(
£ns™ive
, 
·ss_
.
G‘L’gth
());

624 
Ex¶ic™Z”oMemÜy
(
£ns™ive
, 
Ën
);

625 
	gd–‘e
[] 
	g£ns™ive
;

626 
DœeùS’d
(
»que¡
.
D©a
(),„eque¡.
L’gth
());

627 
	g¡©e_
 = 
SS_AUTH
;

630 
	gAsyncSocksProxySock‘
::
S’dCÚÃù
() {

631 
By‹BufãrWr™”
 
»que¡
;

632 
	g»que¡
.
Wr™eUIÁ8
(5);

633 
	g»que¡
.
Wr™eUIÁ8
(1);

634 
	g»que¡
.
Wr™eUIÁ8
(0);

635 ià(
	gde¡_
.
IsUÄesŞvedIP
()) {

636 
	g¡d
::
¡ršg
 
ho¡Çme
 = 
de¡_
.hostname();

637 
	g»que¡
.
Wr™eUIÁ8
(3);

638 
	g»que¡
.
Wr™eUIÁ8
(
¡©ic_ÿ¡
<
ušt8_t
>(
ho¡Çme
.
size
()));

639 
	g»que¡
.
Wr™eSŒšg
(
ho¡Çme
);

641 
	g»que¡
.
Wr™eUIÁ8
(1);

642 
	g»que¡
.
Wr™eUIÁ32
(
de¡_
.

());

644 
	g»que¡
.
Wr™eUIÁ16
(
de¡_
.
pÜt
());

645 
DœeùS’d
(
»que¡
.
D©a
(),„eque¡.
L’gth
());

646 
	g¡©e_
 = 
SS_CONNECT
;

649 
	gAsyncSocksProxySock‘
::
E¼Ü
(
”rÜ
) {

650 
¡©e_
 = 
SS_ERROR
;

651 
BufãrIÅut
(
çl£
);

652 
Clo£
();

653 
S‘E¼Ü
(
SOCKET_EACCES
);

654 
SigÇlClo£Ev’t
(
this
, 
”rÜ
);

	@socket_adapters.h

11 #iâdeà
RTC_BASE_SOCKET_ADAPTERS_H_


12 
	#RTC_BASE_SOCKET_ADAPTERS_H_


	)

14 
	~<¡ršg
>

16 
	~"­i/¬¿y_v›w.h
"

17 
	~"¹c_ba£/async_sock‘.h
"

18 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

19 
	~"¹c_ba£/üy±_¡ršg.h
"

21 
Çme¥aû
 
	g¹c
 {

23 
	gH‰pAuthCÚ‹xt
;

24 
şass
 
	gBy‹BufãrR—d”
;

25 
şass
 
	gBy‹BufãrWr™”
;

32 şas 
	cBufã»dR—dAd­‹r
 : 
public
 
AsyncSock‘Ad­‹r
 {

33 
public
:

34 
Bufã»dR—dAd­‹r
(
AsyncSock‘
* 
sock‘
, 
size_t
 
bufãr_size
);

35 ~
Bufã»dR—dAd­‹r
(è
	gov”ride
;

37 
S’d
(cÚ¡ * 
pv
, 
size_t
 
cb
è
	gov”ride
;

38 
Recv
(* 
pv
, 
size_t
 
cb
, 
št64_t
* 
time¡amp
è
	gov”ride
;

40 
	g´Ùeùed
:

41 
DœeùS’d
(cÚ¡ * 
pv
, 
size_t
 
cb
) {

42  
	gAsyncSock‘Ad­‹r
::
S’d
(
pv
, 
cb
);

45 
BufãrIÅut
(
boŞ
 
Ú
 = 
Œue
);

46 
vœtu®
 
ProûssIÅut
(* 
d©a
, 
size_t
* 
Ën
) = 0;

48 
OnR—dEv’t
(
AsyncSock‘
* 
sock‘
è
	gov”ride
;

50 
	g´iv©e
:

51 * 
bufãr_
;

52 
size_t
 
	gbufãr_size_
, 
	gd©a_Ën_
;

53 
boŞ
 
	gbufãršg_
;

54 
RTC_DISALLOW_COPY_AND_ASSIGN
(
Bufã»dR—dAd­‹r
);

61 şas 
	cAsyncSSLSock‘
 : 
public
 
Bufã»dR—dAd­‹r
 {

62 
public
:

63 
A¼ayV›w
<cÚ¡ 
ušt8_t
> 
S¦Cl›ÁH–lo
();

64 
	gA¼ayV›w
<cÚ¡ 
	gušt8_t
> 
S¦S”v”H–lo
();

66 
ex¶ic™
 
AsyncSSLSock‘
(
AsyncSock‘
* 
sock‘
);

68 
CÚÃù
(cÚ¡ 
Sock‘Add»ss
& 
addr
è
	gov”ride
;

70 
	g´Ùeùed
:

71 
OnCÚÃùEv’t
(
AsyncSock‘
* 
sock‘
è
ov”ride
;

72 
ProûssIÅut
(* 
d©a
, 
size_t
* 
Ën
è
	gov”ride
;

73 
RTC_DISALLOW_COPY_AND_ASSIGN
(
AsyncSSLSock‘
);

79 şas 
	cAsyncH‰psProxySock‘
 : 
public
 
Bufã»dR—dAd­‹r
 {

80 
public
:

81 
AsyncH‰psProxySock‘
(
AsyncSock‘
* 
sock‘
,

82 cÚ¡ 
¡d
::
¡ršg
& 
u£r_ag’t
,

83 cÚ¡ 
Sock‘Add»ss
& 
´oxy
,

84 cÚ¡ 
¡d
::
¡ršg
& 
u£ºame
,

85 cÚ¡ 
Cry±SŒšg
& 
·sswÜd
);

86 ~
AsyncH‰psProxySock‘
(è
	gov”ride
;

91 
S‘FÜûCÚÃù
(
boŞ
 
fÜû
è{ 
	gfÜû_cÚÃù_
 = force; }

93 
CÚÃù
(cÚ¡ 
Sock‘Add»ss
& 
addr
è
	gov”ride
;

94 
Sock‘Add»ss
 
G‘RemÙeAdd»ss
(ècÚ¡ 
	gov”ride
;

95 
Clo£
(è
	gov”ride
;

96 
CÚnS‹
 
G‘S‹
(ècÚ¡ 
	gov”ride
;

98 
	g´Ùeùed
:

99 
OnCÚÃùEv’t
(
AsyncSock‘
* 
sock‘
è
ov”ride
;

100 
OnClo£Ev’t
(
AsyncSock‘
* 
sock‘
, 
”r
è
	gov”ride
;

101 
ProûssIÅut
(* 
d©a
, 
size_t
* 
Ën
è
	gov”ride
;

103 
boŞ
 
ShouldIssueCÚÃù
() const;

104 
S’dReque¡
();

105 
ProûssLše
(* 
d©a
, 
size_t
 
Ën
);

106 
EndRe¥Ú£
();

107 
E¼Ü
(
”rÜ
);

109 
	g´iv©e
:

110 
Sock‘Add»ss
 
´oxy_
, 
	gde¡_
;

111 
	g¡d
::
¡ršg
 
ag’t_
, 
	gu£r_
, 
	gh—d”s_
;

112 
Cry±SŒšg
 
	g·ss_
;

113 
boŞ
 
	gfÜû_cÚÃù_
;

114 
size_t
 
	gcÚ‹Á_Ëngth_
;

115 
	gdeãr_”rÜ_
;

116 
boŞ
 
	gex³ù_şo£_
;

117 
	eProxyS‹
 {

118 
	gPS_INIT
,

119 
	gPS_LEADER
,

120 
	gPS_AUTHENTICATE
,

121 
	gPS_SKIP_HEADERS
,

122 
	gPS_ERROR_HEADERS
,

123 
	gPS_TUNNEL_HEADERS
,

124 
	gPS_SKIP_BODY
,

125 
	gPS_TUNNEL
,

126 
	gPS_WAIT_CLOSE
,

127 
	gPS_ERROR


128 } 
	g¡©e_
;

129 
H‰pAuthCÚ‹xt
* 
	gcÚ‹xt_
;

130 
	g¡d
::
¡ršg
 
unknown_mechªisms_
;

131 
RTC_DISALLOW_COPY_AND_ASSIGN
(
AsyncH‰psProxySock‘
);

137 şas 
	cAsyncSocksProxySock‘
 : 
public
 
Bufã»dR—dAd­‹r
 {

138 
public
:

139 
AsyncSocksProxySock‘
(
AsyncSock‘
* 
sock‘
,

140 cÚ¡ 
Sock‘Add»ss
& 
´oxy
,

141 cÚ¡ 
¡d
::
¡ršg
& 
u£ºame
,

142 cÚ¡ 
Cry±SŒšg
& 
·sswÜd
);

143 ~
AsyncSocksProxySock‘
(è
	gov”ride
;

145 
CÚÃù
(cÚ¡ 
Sock‘Add»ss
& 
addr
è
	gov”ride
;

146 
Sock‘Add»ss
 
G‘RemÙeAdd»ss
(ècÚ¡ 
	gov”ride
;

147 
Clo£
(è
	gov”ride
;

148 
CÚnS‹
 
G‘S‹
(ècÚ¡ 
	gov”ride
;

150 
	g´Ùeùed
:

151 
OnCÚÃùEv’t
(
AsyncSock‘
* 
sock‘
è
ov”ride
;

152 
ProûssIÅut
(* 
d©a
, 
size_t
* 
Ën
è
	gov”ride
;

154 
S’dH–lo
();

155 
S’dCÚÃù
();

156 
S’dAuth
();

157 
E¼Ü
(
”rÜ
);

159 
	g´iv©e
:

160 
	eS‹
 { 
SS_INIT
, 
	gSS_HELLO
, 
	gSS_AUTH
, 
	gSS_CONNECT
, 
	gSS_TUNNEL
, 
	gSS_ERROR
 };

161 
S‹
 
	g¡©e_
;

162 
Sock‘Add»ss
 
	g´oxy_
, 
	gde¡_
;

163 
	g¡d
::
¡ršg
 
u£r_
;

164 
Cry±SŒšg
 
	g·ss_
;

165 
RTC_DISALLOW_COPY_AND_ASSIGN
(
AsyncSocksProxySock‘
);

	@socket_address.cc

11 
	~"¹c_ba£/sock‘_add»ss.h
"

13 
	~"¹c_ba£/num”ics/§ã_cÚv”siÚs.h
"

15 #ià
defšed
(
WEBRTC_POSIX
)

16 
	~<Ãtš‘/š.h
>

17 
	~<sys/sock‘.h
>

18 
	~<sys/ty³s.h
>

19 #ià
defšed
(
OPENBSD
)

20 
	~<Ãtš‘/š_sy¡m.h
>

22 #ià!
defšed
(
__Çtive_ş›Á__
)

23 
	~<Ãtš‘/.h
>

25 
	~<¬·/š‘.h
>

26 
	~<Ãtdb.h
>

27 
	~<uni¡d.h
>

30 
	~"¹c_ba£/by‹_Üd”.h
"

31 
	~"¹c_ba£/checks.h
"

32 
	~"¹c_ba£/loggšg.h
"

33 
	~"¹c_ba£/Ãt_h–³rs.h
"

34 
	~"¹c_ba£/¡ršgs/¡ršg_bud”.h
"

36 #ià
defšed
(
WEBRTC_WIN
)

37 
	~"¹c_ba£/wš32.h
"

40 
Çme¥aû
 
	g¹c
 {

42 
	gSock‘Add»ss
::
Sock‘Add»ss
() {

43 
CË¬
();

46 
	gSock‘Add»ss
::
Sock‘Add»ss
(cÚ¡ 
¡d
::
¡ršg
& 
ho¡Çme
, 
pÜt
) {

47 
S‘IP
(
ho¡Çme
);

48 
S‘PÜt
(
pÜt
);

51 
	gSock‘Add»ss
::
Sock‘Add»ss
(
ušt32_t
 
_as_ho¡_Üd”_š‹g”
, 
pÜt
) {

52 
S‘IP
(
IPAdd»ss
(
_as_ho¡_Üd”_š‹g”
));

53 
S‘PÜt
(
pÜt
);

56 
	gSock‘Add»ss
::
Sock‘Add»ss
(cÚ¡ 
IPAdd»ss
& 

, 
pÜt
) {

57 
S‘IP
(

);

58 
S‘PÜt
(
pÜt
);

61 
	gSock‘Add»ss
::
Sock‘Add»ss
(cÚ¡ Sock‘Add»ss& 
addr
) {

62 
this
->
İ”©Ü
=(
addr
);

65 
	gSock‘Add»ss
::
CË¬
() {

66 
ho¡Çme_
.
ş—r
();

67 
	gl™”®_
 = 
çl£
;

68 
	g_
 = 
IPAdd»ss
();

69 
	gpÜt_
 = 0;

70 
	gscİe_id_
 = 0;

73 
boŞ
 
	gSock‘Add»ss
::
IsN
() const {

74  
ho¡Çme_
.
em±y
(è&& 
IPIsUn¥ec
(
_
è&& 0 =ğ
pÜt_
;

77 
boŞ
 
	gSock‘Add»ss
::
IsCom¶‘e
() const {

78  (!
IPIsAny
(
_
)è&& (0 !ğ
pÜt_
);

81 
	gSock‘Add»ss
& Sock‘Add»ss::
İ”©Ü
=(cÚ¡ 
Sock‘Add»ss
& 
addr
) {

82 
ho¡Çme_
 = 
addr
.hostname_;

83 
	g_
 = 
addr
.
_
;

84 
	gpÜt_
 = 
addr
.
pÜt_
;

85 
	gl™”®_
 = 
addr
.
l™”®_
;

86 
	gscİe_id_
 = 
addr
.
scİe_id_
;

87  *
	gthis
;

90 
	gSock‘Add»ss
::
S‘IP
(
ušt32_t
 
_as_ho¡_Üd”_š‹g”
) {

91 
ho¡Çme_
.
ş—r
();

92 
	gl™”®_
 = 
çl£
;

93 
	g_
 = 
IPAdd»ss
(
_as_ho¡_Üd”_š‹g”
);

94 
	gscİe_id_
 = 0;

97 
	gSock‘Add»ss
::
S‘IP
(cÚ¡ 
IPAdd»ss
& 

) {

98 
ho¡Çme_
.
ş—r
();

99 
	gl™”®_
 = 
çl£
;

100 
	g_
 = 

;

101 
	gscİe_id_
 = 0;

104 
	gSock‘Add»ss
::
S‘IP
(cÚ¡ 
¡d
::
¡ršg
& 
ho¡Çme
) {

105 
ho¡Çme_
 = 
ho¡Çme
;

106 
	gl™”®_
 = 
IPFromSŒšg
(
ho¡Çme
, &
_
);

107 ià(!
	gl™”®_
) {

108 
	g_
 = 
IPAdd»ss
();

110 
	gscİe_id_
 = 0;

113 
	gSock‘Add»ss
::
S‘ResŞvedIP
(
ušt32_t
 
_as_ho¡_Üd”_š‹g”
) {

114 
_
 = 
IPAdd»ss
(
_as_ho¡_Üd”_š‹g”
);

115 
	gscİe_id_
 = 0;

118 
	gSock‘Add»ss
::
S‘ResŞvedIP
(cÚ¡ 
IPAdd»ss
& 

) {

119 
_
 = 

;

120 
	gscİe_id_
 = 0;

123 
	gSock‘Add»ss
::
S‘PÜt
(
pÜt
) {

124 
pÜt_
 = 
¹c
::
dchecked_ÿ¡
<
ušt16_t
>(
pÜt
);

127 
ušt32_t
 
	gSock‘Add»ss
::

() const {

128  
_
.
v4Add»ssAsHo¡Ord”IÁeg”
();

131 cÚ¡ 
	gIPAdd»ss
& 
	gSock‘Add»ss
::
addr
() const {

132  
_
;

135 
ušt16_t
 
	gSock‘Add»ss
::
pÜt
() const {

136  
pÜt_
;

139 
	g¡d
::
¡ršg
 
Sock‘Add»ss
::
Ho¡AsURISŒšg
() const {

142 ià(!
l™”®_
 && !
ho¡Çme_
.
em±y
())

143  
ho¡Çme_
;

144 ià(
	g_
.
çmy
(è=ğ
AF_INET6
) {

145  "[" + 
_
.
ToSŒšg
() + "]";

147  
	g_
.
ToSŒšg
();

151 
	g¡d
::
¡ršg
 
Sock‘Add»ss
::
Ho¡AsS’s™iveURISŒšg
() const {

154 ià(!
l™”®_
 && !
ho¡Çme_
.
em±y
())

155  
ho¡Çme_
;

156 ià(
	g_
.
çmy
(è=ğ
AF_INET6
) {

157  "[" + 
_
.
ToS’s™iveSŒšg
() + "]";

159  
	g_
.
ToS’s™iveSŒšg
();

163 
	g¡d
::
¡ršg
 
Sock‘Add»ss
::
PÜtAsSŒšg
() const {

164  
¡d
::
to_¡ršg
(
pÜt_
);

167 
	g¡d
::
¡ršg
 
Sock‘Add»ss
::
ToSŒšg
() const {

168 
buf
[1024];

169 
	g¹c
::
Sim¶eSŒšgBud”
 
sb
(
buf
);

170 
	gsb
 << 
Ho¡AsURISŒšg
(è<< ":" << 
pÜt
();

171  
	gsb
.
¡r
();

174 
	g¡d
::
¡ršg
 
Sock‘Add»ss
::
ToS’s™iveSŒšg
() const {

175 
buf
[1024];

176 
	g¹c
::
Sim¶eSŒšgBud”
 
sb
(
buf
);

177 
	gsb
 << 
Ho¡AsS’s™iveURISŒšg
(è<< ":" << 
pÜt
();

178  
	gsb
.
¡r
();

181 
boŞ
 
	gSock‘Add»ss
::
FromSŒšg
(cÚ¡ 
¡d
::
¡ršg
& 
¡r
) {

182 ià(
¡r
.
©
(0) == '[') {

183 
¡d
::
¡ršg
::
size_ty³
 
şo£b¿ck‘
 = 
¡r
.
rfšd
(']');

184 ià(
	gşo£b¿ck‘
 !ğ
¡d
::
¡ršg
::
Åos
) {

185 
¡d
::
¡ršg
::
size_ty³
 
cŞÚ
 = 
¡r
.
fšd
(':', 
şo£b¿ck‘
);

186 ià(
	gcŞÚ
 !ğ
¡d
::
¡ršg
::
Åos
 && 
cŞÚ
 > 
şo£b¿ck‘
) {

187 
S‘PÜt
(
¡¹oul
(
¡r
.
sub¡r
(
cŞÚ
 + 1).
c_¡r
(), 
nuÎ±r
, 10));

188 
S‘IP
(
¡r
.
sub¡r
(1, 
şo£b¿ck‘
 - 1));

190  
	gçl£
;

194 
	g¡d
::
¡ršg
::
size_ty³
 
pos
 = 
¡r
.
fšd
(':');

195 ià(
	g¡d
::
¡ršg
::
Åos
 =ğ
pos
)

196  
çl£
;

197 
S‘PÜt
(
¡¹oul
(
¡r
.
sub¡r
(
pos
 + 1).
c_¡r
(), 
nuÎ±r
, 10));

198 
S‘IP
(
¡r
.
sub¡r
(0, 
pos
));

200  
	gŒue
;

203 
boŞ
 
	gSock‘Add»ss
::
IsAnyIP
() const {

204  
IPIsAny
(
_
);

207 
boŞ
 
	gSock‘Add»ss
::
IsLoİbackIP
() const {

208  
IPIsLoİback
(
_
) ||

209 (
IPIsAny
(
_
è&& 0 =ğ
¡rcmp
(
ho¡Çme_
.
c_¡r
(), "localhost"));

212 
boŞ
 
	gSock‘Add»ss
::
IsPriv©eIP
() const {

213  
IPIsPriv©e
(
_
);

216 
boŞ
 
	gSock‘Add»ss
::
IsUÄesŞvedIP
() const {

217  
IPIsUn¥ec
(
_
è&& !
l™”®_
 && !
ho¡Çme_
.
em±y
();

220 
boŞ
 
	gSock‘Add»ss
::
İ”©Ü
==(cÚ¡ 
Sock‘Add»ss
& 
addr
) const {

221  
Equ®IPs
(
addr
è&& 
Equ®PÜts
(addr);

224 
boŞ
 
	gSock‘Add»ss
::
İ”©Ü
<(cÚ¡ 
Sock‘Add»ss
& 
addr
) const {

225 ià(
_
 !ğ
addr
.ip_)

226  
_
 < 
addr
.ip_;

230 ià((
IPIsAny
(
_
è|| 
IPIsUn¥ec
(_)è&& 
	gho¡Çme_
 !ğ
addr
.
ho¡Çme_
)

231  
ho¡Çme_
 < 
addr
.hostname_;

233  
	gpÜt_
 < 
	gaddr
.port_;

236 
boŞ
 
	gSock‘Add»ss
::
Equ®IPs
(cÚ¡ 
Sock‘Add»ss
& 
addr
) const {

237  (
_
 =ğ
addr
.ip_) &&

238 ((!
IPIsAny
(
_
è&& !
IPIsUn¥ec
(_)è|| (
ho¡Çme_
 =ğ
addr
.hostname_));

241 
boŞ
 
	gSock‘Add»ss
::
Equ®PÜts
(cÚ¡ 
Sock‘Add»ss
& 
addr
) const {

242  (
pÜt_
 =ğ
addr
.port_);

245 
size_t
 
	gSock‘Add»ss
::
Hash
() const {

246 
size_t
 
h
 = 0;

247 
	gh
 ^ğ
HashIP
(
_
);

248 
	gh
 ^ğ
pÜt_
 | (port_ << 16);

249  
	gh
;

252 
	gSock‘Add»ss
::
ToSockAddr
(
sockaddr_š
* 
§ddr
) const {

253 
mem£t
(
§ddr
, 0, (*saddr));

254 ià(
	g_
.
çmy
(è!ğ
AF_INET
) {

255 
§ddr
->
sš_çmy
 = 
AF_UNSPEC
;

258 
	g§ddr
->
	gsš_çmy
 = 
AF_INET
;

259 
	g§ddr
->
	gsš_pÜt
 = 
Ho¡ToN‘wÜk16
(
pÜt_
);

260 ià(
IPIsAny
(
_
)) {

261 
	g§ddr
->
	gsš_addr
.
	gs_addr
 = 
INADDR_ANY
;

263 
	g§ddr
->
	gsš_addr
 = 
_
.
v4_add»ss
();

267 
boŞ
 
	gSock‘Add»ss
::
FromSockAddr
(cÚ¡ 
sockaddr_š
& 
§ddr
) {

268 ià(
§ddr
.
sš_çmy
 !ğ
AF_INET
)

269  
çl£
;

270 
S‘IP
(
N‘wÜkToHo¡32
(
§ddr
.
sš_addr
.
s_addr
));

271 
S‘PÜt
(
N‘wÜkToHo¡16
(
§ddr
.
sš_pÜt
));

272 
	gl™”®_
 = 
çl£
;

273  
	gŒue
;

276 
size_t
 
ToSockAddrStÜageH–³r
(
sockaddr_¡Üage
* 
addr
,

277 cÚ¡ 
IPAdd»ss
& 

,

278 
ušt16_t
 
pÜt
,

279 
scİe_id
) {

280 
mem£t
(
addr
, 0, (
sockaddr_¡Üage
));

281 
	gaddr
->
	gss_çmy
 = 
¡©ic_ÿ¡
<>(

.
çmy
());

282 ià(
	gaddr
->
	gss_çmy
 =ğ
AF_INET6
) {

283 
sockaddr_š6
* 
§ddr
 = 
»š‹½»t_ÿ¡
<sockaddr_š6*>(
addr
);

284 
	g§ddr
->
	gsš6_addr
 = 

.
v6_add»ss
();

285 
	g§ddr
->
	gsš6_pÜt
 = 
Ho¡ToN‘wÜk16
(
pÜt
);

286 
	g§ddr
->
	gsš6_scİe_id
 = 
scİe_id
;

287  (
	gsockaddr_š6
);

288 } ià(
	gaddr
->
	gss_çmy
 =ğ
AF_INET
) {

289 
sockaddr_š
* 
§ddr
 = 
»š‹½»t_ÿ¡
<sockaddr_š*>(
addr
);

290 
	g§ddr
->
	gsš_addr
 = 

.
v4_add»ss
();

291 
	g§ddr
->
	gsš_pÜt
 = 
Ho¡ToN‘wÜk16
(
pÜt
);

292  (
	gsockaddr_š
);

297 
size_t
 
	gSock‘Add»ss
::
ToDu®SckSockAddrStÜage
(
sockaddr_¡Üage
* 
addr
) const {

298  
ToSockAddrStÜageH–³r
(
addr
, 
_
.
AsIPv6Add»ss
(), 
pÜt_
, 
scİe_id_
);

301 
size_t
 
	gSock‘Add»ss
::
ToSockAddrStÜage
(
sockaddr_¡Üage
* 
addr
) const {

302  
ToSockAddrStÜageH–³r
(
addr
, 
_
, 
pÜt_
, 
scİe_id_
);

305 
boŞ
 
Sock‘Add»ssFromSockAddrStÜage
(cÚ¡ 
sockaddr_¡Üage
& 
addr
,

306 
Sock‘Add»ss
* 
out
) {

307 ià(!
	gout
) {

308  
	gçl£
;

310 ià(
	gaddr
.
	gss_çmy
 =ğ
AF_INET
) {

311 cÚ¡ 
sockaddr_š
* 
§ddr
 = 
»š‹½»t_ÿ¡
<cÚ¡ sockaddr_š*>(&
addr
);

312 *
	gout
 = 
Sock‘Add»ss
(
IPAdd»ss
(
§ddr
->
sš_addr
),

313 
N‘wÜkToHo¡16
(
§ddr
->
sš_pÜt
));

314  
	gŒue
;

315 } ià(
	gaddr
.
	gss_çmy
 =ğ
AF_INET6
) {

316 cÚ¡ 
sockaddr_š6
* 
§ddr
 = 
»š‹½»t_ÿ¡
<cÚ¡ sockaddr_š6*>(&
addr
);

317 *
	gout
 = 
Sock‘Add»ss
(
IPAdd»ss
(
§ddr
->
sš6_addr
),

318 
N‘wÜkToHo¡16
(
§ddr
->
sš6_pÜt
));

319 
	gout
->
S‘ScİeID
(
§ddr
->
sš6_scİe_id
);

320  
	gŒue
;

322  
	gçl£
;

325 
Sock‘Add»ss
 
Em±ySock‘Add»ssW™hFamy
(
çmy
) {

326 ià(
	gçmy
 =ğ
AF_INET
) {

327  
Sock‘Add»ss
(
IPAdd»ss
(
INADDR_ANY
), 0);

328 } ià(
	gçmy
 =ğ
AF_INET6
) {

329  
Sock‘Add»ss
(
IPAdd»ss
(
š6addr_ªy
), 0);

331  
Sock‘Add»ss
();

	@socket_address.h

11 #iâdeà
RTC_BASE_SOCKET_ADDRESS_H_


12 
	#RTC_BASE_SOCKET_ADDRESS_H_


	)

14 
	~<¡ršg
>

15 #ifdeà
UNIT_TEST


16 
	~<o¡»am
>

18 
	~"¹c_ba£/_add»ss.h
"

19 
	~"¹c_ba£/sy¡em/¹c_expÜt.h
"

21 #undeà
S‘PÜt


23 
	gsockaddr_š
;

24 
	gsockaddr_¡Üage
;

26 
Çme¥aû
 
	g¹c
 {

29 şas 
	cRTC_EXPORT
 
	gSock‘Add»ss
 {

30 
	gpublic
:

32 
Sock‘Add»ss
();

37 
Sock‘Add»ss
(cÚ¡ 
¡d
::
¡ršg
& 
ho¡Çme
, 
pÜt
);

42 
Sock‘Add»ss
(
ušt32_t
 
_as_ho¡_Üd”_š‹g”
, 
pÜt
);

46 
Sock‘Add»ss
(cÚ¡ 
IPAdd»ss
& 

, 
pÜt
);

49 
Sock‘Add»ss
(cÚ¡ Sock‘Add»ss& 
addr
);

52 
CË¬
();

55 
boŞ
 
IsN
() const;

58 
boŞ
 
IsCom¶‘e
() const;

61 
	gSock‘Add»ss
& 
	gİ”©Ü
=(cÚ¡ 
Sock‘Add»ss
& 
addr
);

65 
S‘IP
(
ušt32_t
 
_as_ho¡_Üd”_š‹g”
);

68 
S‘IP
(cÚ¡ 
IPAdd»ss
& 

);

72 
S‘IP
(cÚ¡ 
¡d
::
¡ršg
& 
ho¡Çme
);

77 
S‘ResŞvedIP
(
ušt32_t
 
_as_ho¡_Üd”_š‹g”
);

81 
S‘ResŞvedIP
(cÚ¡ 
IPAdd»ss
& 

);

85 
S‘PÜt
(
pÜt
);

88 cÚ¡ 
	g¡d
::
¡ršg
& 
ho¡Çme
(ècÚ¡ {  
ho¡Çme_
; }

92 
ušt32_t
 

() const;

94 cÚ¡ 
	gIPAdd»ss
& 
addr
() const;

96 
çmy
(ècÚ¡ {  
	g_
.family(); }

99 
ušt16_t
 
pÜt
() const;

106 
scİe_id
(ècÚ¡ {  
	gscİe_id_
; }

107 
S‘ScİeID
(
id
è{ 
	gscİe_id_
 = id; }

112 
	g¡d
::
¡ršg
 
Ho¡AsURISŒšg
() const;

116 
	g¡d
::
¡ršg
 
Ho¡AsS’s™iveURISŒšg
() const;

119 
	g¡d
::
¡ršg
 
PÜtAsSŒšg
() const;

122 
	g¡d
::
¡ršg
 
ToSŒšg
() const;

125 
	g¡d
::
¡ršg
 
ToS’s™iveSŒšg
() const;

128 
boŞ
 
FromSŒšg
(cÚ¡ 
¡d
::
¡ršg
& 
¡r
);

130 #ifdeà
UNIT_TEST


131 
šlše
 
	g¡d
::
o¡»am
& 
İ”©Ü
<<(

132 
¡d
::
o¡»am
& 
os
) {

133  
os
 << 
Ho¡AsURISŒšg
(è<< ":" << 
pÜt
();

140 
boŞ
 
IsAnyIP
() const;

145 
boŞ
 
IsLoİbackIP
() const;

150 
boŞ
 
IsPriv©eIP
() const;

153 
boŞ
 
IsUÄesŞvedIP
() const;

156 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
Sock‘Add»ss
& 
addr
) const;

157 
šlše
 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
Sock‘Add»ss
& 
addr
) const {

158  !
this
->
İ”©Ü
==(
addr
);

162 
boŞ
 
	gİ”©Ü
<(cÚ¡ 
	gSock‘Add»ss
& 
	gaddr
) const;

165 
boŞ
 
Equ®IPs
(cÚ¡ 
Sock‘Add»ss
& 
addr
) const;

168 
boŞ
 
Equ®PÜts
(cÚ¡ 
Sock‘Add»ss
& 
addr
) const;

171 
size_t
 
Hash
() const;

175 
ToSockAddr
(
sockaddr_š
* 
§ddr
) const;

178 
boŞ
 
FromSockAddr
(cÚ¡ 
sockaddr_š
& 
§ddr
);

186 
size_t
 
ToDu®SckSockAddrStÜage
(
sockaddr_¡Üage
* 
§ddr
) const;

187 
size_t
 
ToSockAddrStÜage
(
sockaddr_¡Üage
* 
§ddr
) const;

189 
	g´iv©e
:

190 
¡d
::
¡ršg
 
ho¡Çme_
;

191 
IPAdd»ss
 
	g_
;

192 
ušt16_t
 
	gpÜt_
;

193 
	gscİe_id_
;

194 
boŞ
 
	gl™”®_
;

197 
RTC_EXPORT
 
boŞ
 
Sock‘Add»ssFromSockAddrStÜage
(cÚ¡ 
sockaddr_¡Üage
& 
§ddr
,

198 
Sock‘Add»ss
* 
out
);

199 
Sock‘Add»ss
 
Em±ySock‘Add»ssW™hFamy
(
çmy
);

	@socket_address_pair.cc

11 
	~"¹c_ba£/sock‘_add»ss_·œ.h
"

13 
Çme¥aû
 
	g¹c
 {

15 
	gSock‘Add»ssPaœ
::
Sock‘Add»ssPaœ
(cÚ¡ 
Sock‘Add»ss
& 
¤c
,

16 cÚ¡ 
Sock‘Add»ss
& 
de¡
)

17 : 
¤c_
(
¤c
), 
de¡_
(
de¡
) {}

19 
boŞ
 
	gSock‘Add»ssPaœ
::
İ”©Ü
==(cÚ¡ 
Sock‘Add»ssPaœ
& 
p
) const {

20  (
¤c_
 =ğ
p
.¤c_è&& (
de¡_
 ==….dest_);

23 
boŞ
 
	gSock‘Add»ssPaœ
::
İ”©Ü
<(cÚ¡ 
Sock‘Add»ssPaœ
& 
p
) const {

24 ià(
¤c_
 < 
p
.src_)

25  
Œue
;

26 ià(
	gp
.
	g¤c_
 < src_)

27  
	gçl£
;

28 ià(
	gde¡_
 < 
	gp
.dest_)

29  
	gŒue
;

30 ià(
	gp
.
	gde¡_
 < dest_)

31  
	gçl£
;

32  
	gçl£
;

35 
size_t
 
	gSock‘Add»ssPaœ
::
Hash
() const {

36  
¤c_
.
Hash
(è^ 
de¡_
.Hash();

	@socket_address_pair.h

11 #iâdeà
RTC_BASE_SOCKET_ADDRESS_PAIR_H_


12 
	#RTC_BASE_SOCKET_ADDRESS_PAIR_H_


	)

14 
	~<¡ddef.h
>

16 
	~"¹c_ba£/sock‘_add»ss.h
"

18 
Çme¥aû
 
	g¹c
 {

23 şas 
	cSock‘Add»ssPaœ
 {

24 
	gpublic
:

25 
Sock‘Add»ssPaœ
() {}

26 
Sock‘Add»ssPaœ
(cÚ¡ 
Sock‘Add»ss
& 
¤s
, cÚ¡ Sock‘Add»ss& 
de¡
);

28 cÚ¡ 
	gSock‘Add»ss
& 
sourû
(ècÚ¡ {  
	g¤c_
; }

29 cÚ¡ 
	gSock‘Add»ss
& 
de¡š©iÚ
(ècÚ¡ {  
	gde¡_
; }

31 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
Sock‘Add»ssPaœ
& 
r
) const;

32 
boŞ
 
	gİ”©Ü
<(cÚ¡ 
	gSock‘Add»ssPaœ
& 
	gr
) const;

34 
size_t
 
Hash
() const;

36 
	g´iv©e
:

37 
Sock‘Add»ss
 
¤c_
;

38 
Sock‘Add»ss
 
	gde¡_
;

	@socket_address_unittest.cc

11 #ià
defšed
(
WEBRTC_POSIX
)

12 
	~<Ãtš‘/š.h
>

15 
	~<¡ršg.h
>

17 
	~"¹c_ba£/_add»ss.h
"

18 
	~"¹c_ba£/sock‘_add»ss.h
"

19 
	~"‹¡/g‹¡.h
"

21 
Çme¥aû
 
	g¹c
 {

23 cÚ¡ 
š6_addr
 
	gkTe¡V6Addr
 = {

26 cÚ¡ 
š6_addr
 
	gkM­³dV4Addr
 = {

29 cÚ¡ 
	g¡d
::
¡ršg
 
kTe¡V6AddrSŒšg
 = "2001:db8:1020:3040:5060:7080:90a0:b0c0";

30 cÚ¡ 
	g¡d
::
¡ršg
 
kTe¡V6AddrAnÚymizedSŒšg
 = "2001:db8:1020:x:x:x:x:x";

31 cÚ¡ 
	g¡d
::
¡ršg
 
kTe¡V6AddrFuÎSŒšg
 =

33 cÚ¡ 
	g¡d
::
¡ršg
 
kTe¡V6AddrFuÎAnÚymizedSŒšg
 =

36 
TEST
(
Sock‘Add»ssTe¡
, 
Te¡DeçuÉCtÜ
) {

37 
Sock‘Add»ss
 
	gaddr
;

38 
EXPECT_FALSE
(
addr
.
IsUÄesŞvedIP
());

39 
EXPECT_EQ
(
IPAdd»ss
(), 
addr
.
addr
());

40 
EXPECT_EQ
(0, 
addr
.
pÜt
());

41 
EXPECT_EQ
("", 
addr
.
ho¡Çme
());

44 
TEST
(
Sock‘Add»ssTe¡
, 
Te¡IPPÜtCtÜ
) {

45 
Sock‘Add»ss
 
addr
(
IPAdd»ss
(0x01020304), 5678);

46 
EXPECT_FALSE
(
addr
.
IsUÄesŞvedIP
());

47 
EXPECT_EQ
(
IPAdd»ss
(0x01020304U), 
addr
.
addr
());

48 
EXPECT_EQ
(5678, 
addr
.
pÜt
());

49 
EXPECT_EQ
("", 
addr
.
ho¡Çme
());

50 
EXPECT_EQ
("1.2.3.4:5678", 
addr
.
ToSŒšg
());

53 
TEST
(
Sock‘Add»ssTe¡
, 
Te¡IPv4SŒšgPÜtCtÜ
) {

54 
Sock‘Add»ss
 
addr
("1.2.3.4", 5678);

55 
EXPECT_FALSE
(
addr
.
IsUÄesŞvedIP
());

56 
EXPECT_EQ
(
IPAdd»ss
(0x01020304U), 
addr
.
addr
());

57 
EXPECT_EQ
(5678, 
addr
.
pÜt
());

58 
EXPECT_EQ
("1.2.3.4", 
addr
.
ho¡Çme
());

59 
EXPECT_EQ
("1.2.3.4:5678", 
addr
.
ToSŒšg
());

62 
TEST
(
Sock‘Add»ssTe¡
, 
Te¡IPv6SŒšgPÜtCtÜ
) {

63 
Sock‘Add»ss
 
addr2
(
kTe¡V6AddrSŒšg
, 1234);

64 
IPAdd»ss
 
tocheck
(
kTe¡V6Addr
);

66 
EXPECT_FALSE
(
addr2
.
IsUÄesŞvedIP
());

67 
EXPECT_EQ
(
tocheck
, 
addr2
.
addr
());

68 
EXPECT_EQ
(1234, 
addr2
.
pÜt
());

69 
EXPECT_EQ
(
kTe¡V6AddrSŒšg
, 
addr2
.
ho¡Çme
());

70 
EXPECT_EQ
("[" + 
kTe¡V6AddrSŒšg
 + "]:1234", 
addr2
.
ToSŒšg
());

73 
TEST
(
Sock‘Add»ssTe¡
, 
Te¡S³cŸlSŒšgPÜtCtÜ
) {

75 
Sock‘Add»ss
 
addr
("255.255.255.255", 5678);

76 
EXPECT_FALSE
(
addr
.
IsUÄesŞvedIP
());

77 
EXPECT_EQ
(
IPAdd»ss
(0xFFFFFFFFU), 
addr
.
addr
());

78 
EXPECT_EQ
(5678, 
addr
.
pÜt
());

79 
EXPECT_EQ
("255.255.255.255", 
addr
.
ho¡Çme
());

80 
EXPECT_EQ
("255.255.255.255:5678", 
addr
.
ToSŒšg
());

83 
TEST
(
Sock‘Add»ssTe¡
, 
Te¡Ho¡ÇmePÜtCtÜ
) {

84 
Sock‘Add»ss
 
addr
("a.b.com", 5678);

85 
EXPECT_TRUE
(
addr
.
IsUÄesŞvedIP
());

86 
EXPECT_EQ
(
IPAdd»ss
(), 
addr
.
addr
());

87 
EXPECT_EQ
(5678, 
addr
.
pÜt
());

88 
EXPECT_EQ
("a.b.com", 
addr
.
ho¡Çme
());

89 
EXPECT_EQ
("a.b.com:5678", 
addr
.
ToSŒšg
());

92 
TEST
(
Sock‘Add»ssTe¡
, 
Te¡CİyCtÜ
) {

93 
Sock‘Add»ss
 
äom
("1.2.3.4", 5678);

94 
Sock‘Add»ss
 
addr
(
äom
);

95 
EXPECT_FALSE
(
addr
.
IsUÄesŞvedIP
());

96 
EXPECT_EQ
(
IPAdd»ss
(0x01020304U), 
addr
.
addr
());

97 
EXPECT_EQ
(5678, 
addr
.
pÜt
());

98 
EXPECT_EQ
("1.2.3.4", 
addr
.
ho¡Çme
());

99 
EXPECT_EQ
("1.2.3.4:5678", 
addr
.
ToSŒšg
());

102 
TEST
(
Sock‘Add»ssTe¡
, 
Te¡Assign
) {

103 
Sock‘Add»ss
 
äom
("1.2.3.4", 5678);

104 
Sock‘Add»ss
 
addr
(
IPAdd»ss
(0x88888888), 9999);

105 
	gaddr
 = 
äom
;

106 
EXPECT_FALSE
(
addr
.
IsUÄesŞvedIP
());

107 
EXPECT_EQ
(
IPAdd»ss
(0x01020304U), 
addr
.
addr
());

108 
EXPECT_EQ
(5678, 
addr
.
pÜt
());

109 
EXPECT_EQ
("1.2.3.4", 
addr
.
ho¡Çme
());

110 
EXPECT_EQ
("1.2.3.4:5678", 
addr
.
ToSŒšg
());

113 
TEST
(
Sock‘Add»ssTe¡
, 
Te¡S‘IPPÜt
) {

114 
Sock‘Add»ss
 
addr
(
IPAdd»ss
(0x88888888), 9999);

115 
	gaddr
.
S‘IP
(
IPAdd»ss
(0x01020304));

116 
	gaddr
.
S‘PÜt
(5678);

117 
EXPECT_FALSE
(
addr
.
IsUÄesŞvedIP
());

118 
EXPECT_EQ
(
IPAdd»ss
(0x01020304U), 
addr
.
addr
());

119 
EXPECT_EQ
(5678, 
addr
.
pÜt
());

120 
EXPECT_EQ
("", 
addr
.
ho¡Çme
());

121 
EXPECT_EQ
("1.2.3.4:5678", 
addr
.
ToSŒšg
());

124 
TEST
(
Sock‘Add»ssTe¡
, 
Te¡S‘IPFromSŒšg
) {

125 
Sock‘Add»ss
 
addr
(
IPAdd»ss
(0x88888888), 9999);

126 
	gaddr
.
S‘IP
("1.2.3.4");

127 
	gaddr
.
S‘PÜt
(5678);

128 
EXPECT_FALSE
(
addr
.
IsUÄesŞvedIP
());

129 
EXPECT_EQ
(
IPAdd»ss
(0x01020304U), 
addr
.
addr
());

130 
EXPECT_EQ
(5678, 
addr
.
pÜt
());

131 
EXPECT_EQ
("1.2.3.4", 
addr
.
ho¡Çme
());

132 
EXPECT_EQ
("1.2.3.4:5678", 
addr
.
ToSŒšg
());

135 
TEST
(
Sock‘Add»ssTe¡
, 
Te¡S‘IPFromHo¡Çme
) {

136 
Sock‘Add»ss
 
addr
(
IPAdd»ss
(0x88888888), 9999);

137 
	gaddr
.
S‘IP
("a.b.com");

138 
	gaddr
.
S‘PÜt
(5678);

139 
EXPECT_TRUE
(
addr
.
IsUÄesŞvedIP
());

140 
EXPECT_EQ
(
IPAdd»ss
(), 
addr
.
addr
());

141 
EXPECT_EQ
(5678, 
addr
.
pÜt
());

142 
EXPECT_EQ
("a.b.com", 
addr
.
ho¡Çme
());

143 
EXPECT_EQ
("a.b.com:5678", 
addr
.
ToSŒšg
());

144 
	gaddr
.
S‘ResŞvedIP
(
IPAdd»ss
(0x01020304));

145 
EXPECT_FALSE
(
addr
.
IsUÄesŞvedIP
());

146 
EXPECT_EQ
(
IPAdd»ss
(0x01020304U), 
addr
.
addr
());

147 
EXPECT_EQ
("a.b.com", 
addr
.
ho¡Çme
());

148 
EXPECT_EQ
("a.b.com:5678", 
addr
.
ToSŒšg
());

151 
TEST
(
Sock‘Add»ssTe¡
, 
Te¡FromIPv4SŒšg
) {

152 
Sock‘Add»ss
 
	gaddr
;

153 
EXPECT_TRUE
(
addr
.
FromSŒšg
("1.2.3.4:5678"));

154 
EXPECT_FALSE
(
addr
.
IsUÄesŞvedIP
());

155 
EXPECT_EQ
(
IPAdd»ss
(0x01020304U), 
addr
.
addr
());

156 
EXPECT_EQ
(5678, 
addr
.
pÜt
());

157 
EXPECT_EQ
("1.2.3.4", 
addr
.
ho¡Çme
());

158 
EXPECT_EQ
("1.2.3.4:5678", 
addr
.
ToSŒšg
());

161 
TEST
(
Sock‘Add»ssTe¡
, 
Te¡FromIPv6SŒšg
) {

162 
Sock‘Add»ss
 
	gaddr
;

163 
EXPECT_TRUE
(
addr
.
FromSŒšg
(
kTe¡V6AddrFuÎSŒšg
));

164 
EXPECT_FALSE
(
addr
.
IsUÄesŞvedIP
());

165 
EXPECT_EQ
(5678, 
addr
.
pÜt
());

166 
EXPECT_EQ
(
kTe¡V6AddrSŒšg
, 
addr
.
ho¡Çme
());

167 
EXPECT_EQ
(
kTe¡V6AddrFuÎSŒšg
, 
addr
.
ToSŒšg
());

170 
TEST
(
Sock‘Add»ssTe¡
, 
Te¡FromHo¡Çme
) {

171 
Sock‘Add»ss
 
	gaddr
;

172 
EXPECT_TRUE
(
addr
.
FromSŒšg
("a.b.com:5678"));

173 
EXPECT_TRUE
(
addr
.
IsUÄesŞvedIP
());

174 
EXPECT_EQ
(
IPAdd»ss
(), 
addr
.
addr
());

175 
EXPECT_EQ
(5678, 
addr
.
pÜt
());

176 
EXPECT_EQ
("a.b.com", 
addr
.
ho¡Çme
());

177 
EXPECT_EQ
("a.b.com:5678", 
addr
.
ToSŒšg
());

180 
TEST
(
Sock‘Add»ssTe¡
, 
Te¡ToFromSockAddr
) {

181 
Sock‘Add»ss
 
äom
("1.2.3.4", 5678), 
	gaddr
;

182 
sockaddr_š
 
	gaddr_š
;

183 
	gäom
.
ToSockAddr
(&
addr_š
);

184 
EXPECT_TRUE
(
addr
.
FromSockAddr
(
addr_š
));

185 
EXPECT_FALSE
(
addr
.
IsUÄesŞvedIP
());

186 
EXPECT_EQ
(
IPAdd»ss
(0x01020304U), 
addr
.
addr
());

187 
EXPECT_EQ
(5678, 
addr
.
pÜt
());

188 
EXPECT_EQ
("", 
addr
.
ho¡Çme
());

189 
EXPECT_EQ
("1.2.3.4:5678", 
addr
.
ToSŒšg
());

192 
TEST
(
Sock‘Add»ssTe¡
, 
Te¡ToFromSockAddrStÜage
) {

193 
Sock‘Add»ss
 
äom
("1.2.3.4", 5678), 
	gaddr
;

194 
sockaddr_¡Üage
 
	gaddr_¡Üage
;

195 
	gäom
.
ToSockAddrStÜage
(&
addr_¡Üage
);

196 
EXPECT_TRUE
(
Sock‘Add»ssFromSockAddrStÜage
(
addr_¡Üage
, &
addr
));

197 
EXPECT_FALSE
(
addr
.
IsUÄesŞvedIP
());

198 
EXPECT_EQ
(
IPAdd»ss
(0x01020304U), 
addr
.
addr
());

199 
EXPECT_EQ
(5678, 
addr
.
pÜt
());

200 
EXPECT_EQ
("", 
addr
.
ho¡Çme
());

201 
EXPECT_EQ
("1.2.3.4:5678", 
addr
.
ToSŒšg
());

203 
	gaddr
.
CË¬
();

204 
	gäom
.
ToDu®SckSockAddrStÜage
(&
addr_¡Üage
);

205 
EXPECT_TRUE
(
Sock‘Add»ssFromSockAddrStÜage
(
addr_¡Üage
, &
addr
));

206 
EXPECT_FALSE
(
addr
.
IsUÄesŞvedIP
());

207 
EXPECT_EQ
(
IPAdd»ss
(
kM­³dV4Addr
), 
addr
.
addr
());

208 
EXPECT_EQ
(5678, 
addr
.
pÜt
());

209 
EXPECT_EQ
("", 
addr
.
ho¡Çme
());

210 
EXPECT_EQ
("[::ffff:1.2.3.4]:5678", 
addr
.
ToSŒšg
());

212 
	gaddr
.
CË¬
();

213 
mem£t
(&
addr_¡Üage
, 0, (
sockaddr_¡Üage
));

214 
	gäom
 = 
Sock‘Add»ss
(
kTe¡V6AddrSŒšg
, 5678);

215 
	gäom
.
S‘ScİeID
(6);

216 
	gäom
.
ToSockAddrStÜage
(&
addr_¡Üage
);

217 
EXPECT_TRUE
(
Sock‘Add»ssFromSockAddrStÜage
(
addr_¡Üage
, &
addr
));

218 
EXPECT_FALSE
(
addr
.
IsUÄesŞvedIP
());

219 
EXPECT_EQ
(
IPAdd»ss
(
kTe¡V6Addr
), 
addr
.
addr
());

220 
EXPECT_EQ
(5678, 
addr
.
pÜt
());

221 
EXPECT_EQ
("", 
addr
.
ho¡Çme
());

222 
EXPECT_EQ
(
kTe¡V6AddrFuÎSŒšg
, 
addr
.
ToSŒšg
());

223 
EXPECT_EQ
(6, 
addr
.
scİe_id
());

225 
	gaddr
.
CË¬
();

226 
	gäom
.
ToDu®SckSockAddrStÜage
(&
addr_¡Üage
);

227 
EXPECT_TRUE
(
Sock‘Add»ssFromSockAddrStÜage
(
addr_¡Üage
, &
addr
));

228 
EXPECT_FALSE
(
addr
.
IsUÄesŞvedIP
());

229 
EXPECT_EQ
(
IPAdd»ss
(
kTe¡V6Addr
), 
addr
.
addr
());

230 
EXPECT_EQ
(5678, 
addr
.
pÜt
());

231 
EXPECT_EQ
("", 
addr
.
ho¡Çme
());

232 
EXPECT_EQ
(
kTe¡V6AddrFuÎSŒšg
, 
addr
.
ToSŒšg
());

233 
EXPECT_EQ
(6, 
addr
.
scİe_id
());

235 
	gaddr
 = 
äom
;

236 
	gaddr_¡Üage
.
	gss_çmy
 = 
AF_UNSPEC
;

237 
EXPECT_FALSE
(
Sock‘Add»ssFromSockAddrStÜage
(
addr_¡Üage
, &
addr
));

238 
EXPECT_EQ
(
äom
, 
addr
);

240 
EXPECT_FALSE
(
Sock‘Add»ssFromSockAddrStÜage
(
addr_¡Üage
, 
nuÎ±r
));

243 
boŞ
 
A»Equ®
(cÚ¡ 
Sock‘Add»ss
& 
addr1
, cÚ¡ Sock‘Add»ss& 
addr2
) {

244  
	gaddr1
 =ğ
addr2
 &&‡ddr2 =ğ
addr1
 && !(addr1 !=‡ddr2) &&

245 !(
addr2
 !ğ
addr1
);

248 
boŞ
 
A»UÃqu®
(cÚ¡ 
Sock‘Add»ss
& 
addr1
, cÚ¡ Sock‘Add»ss& 
addr2
) {

249  !(
	gaddr1
 =ğ
addr2
è&& !×ddr2 =ğ
addr1
) &&‡ddr1 !=‡ddr2 &&

250 
addr2
 !ğ
addr1
;

253 
TEST
(
Sock‘Add»ssTe¡
, 
Te¡Equ®™yO³¿tÜs
) {

254 
Sock‘Add»ss
 
addr1
("1.2.3.4", 5678);

255 
Sock‘Add»ss
 
addr2
("1.2.3.4", 5678);

256 
EXPECT_TRUE
(
A»Equ®
(
addr1
, 
addr2
));

258 
	gaddr2
 = 
Sock‘Add»ss
("0.0.0.1", 5678);

259 
EXPECT_TRUE
(
A»UÃqu®
(
addr1
, 
addr2
));

261 
	gaddr2
 = 
Sock‘Add»ss
("1.2.3.4", 1234);

262 
EXPECT_TRUE
(
A»UÃqu®
(
addr1
, 
addr2
));

264 
	gaddr2
 = 
Sock‘Add»ss
(
kTe¡V6AddrSŒšg
, 5678);

265 
EXPECT_TRUE
(
A»UÃqu®
(
addr1
, 
addr2
));

267 
	gaddr1
 = 
Sock‘Add»ss
(
kTe¡V6AddrSŒšg
, 5678);

268 
EXPECT_TRUE
(
A»Equ®
(
addr1
, 
addr2
));

270 
	gaddr2
 = 
Sock‘Add»ss
(
kTe¡V6AddrSŒšg
, 1234);

271 
EXPECT_TRUE
(
A»UÃqu®
(
addr1
, 
addr2
));

273 
	gaddr2
 = 
Sock‘Add»ss
("fe80::1", 5678);

274 
EXPECT_TRUE
(
A»UÃqu®
(
addr1
, 
addr2
));

276 
Sock‘Add»ss
 
addr3
("a.b.c.d", 1);

277 
Sock‘Add»ss
 
addr4
("b.b.c.d", 1);

278 
EXPECT_TRUE
(
A»UÃqu®
(
addr3
, 
addr4
));

279 
EXPECT_TRUE
(
A»Equ®
(
addr3
,‡ddr3));

281 
	gaddr3
.
S‘IP
(
addr1
.

());

282 
	gaddr4
.
S‘IP
(
addr1
.

());

283 
EXPECT_TRUE
(
A»Equ®
(
addr3
, 
addr4
));

286 
boŞ
 
IsLessThª
(cÚ¡ 
Sock‘Add»ss
& 
addr1
, cÚ¡ Sock‘Add»ss& 
addr2
) {

287  
	gaddr1
 < 
	gaddr2
 && !×ddr2 <‡ddr1è&& !×ddr1 =ğ
addr2
);

290 
TEST
(
Sock‘Add»ssTe¡
, 
Te¡Com·risÚO³¿tÜ
) {

291 
Sock‘Add»ss
 
addr1
("1.2.3.4", 5678);

292 
Sock‘Add»ss
 
addr2
("1.2.3.4", 5678);

294 
EXPECT_FALSE
(
addr1
 < 
addr2
);

295 
EXPECT_FALSE
(
addr2
 < 
addr1
);

297 
	gaddr2
 = 
Sock‘Add»ss
("1.2.3.4", 5679);

298 
EXPECT_TRUE
(
IsLessThª
(
addr1
, 
addr2
));

300 
	gaddr2
 = 
Sock‘Add»ss
("2.2.3.4", 49152);

301 
EXPECT_TRUE
(
IsLessThª
(
addr1
, 
addr2
));

303 
	gaddr2
 = 
Sock‘Add»ss
(
kTe¡V6AddrSŒšg
, 5678);

304 
EXPECT_TRUE
(
IsLessThª
(
addr1
, 
addr2
));

306 
	gaddr1
 = 
Sock‘Add»ss
("fe80::1", 5678);

307 
EXPECT_TRUE
(
IsLessThª
(
addr2
, 
addr1
));

309 
	gaddr2
 = 
Sock‘Add»ss
("fe80::1", 5679);

310 
EXPECT_TRUE
(
IsLessThª
(
addr1
, 
addr2
));

312 
	gaddr2
 = 
Sock‘Add»ss
("fe80::1", 5678);

313 
EXPECT_FALSE
(
addr1
 < 
addr2
);

314 
EXPECT_FALSE
(
addr2
 < 
addr1
);

316 
Sock‘Add»ss
 
addr3
("a.b.c.d", 1);

317 
Sock‘Add»ss
 
addr4
("b.b.c.d", 1);

318 
EXPECT_TRUE
(
IsLessThª
(
addr3
, 
addr4
));

321 
TEST
(
Sock‘Add»ssTe¡
, 
Te¡ToS’s™iveSŒšg
) {

322 
Sock‘Add»ss
 
addr_v4
("1.2.3.4", 5678);

323 
EXPECT_EQ
("1.2.3.4", 
addr_v4
.
Ho¡AsURISŒšg
());

324 
EXPECT_EQ
("1.2.3.4:5678", 
addr_v4
.
ToSŒšg
());

326 #ià
defšed
(
NDEBUG
)

327 
EXPECT_EQ
("1.2.3.x", 
addr_v4
.
Ho¡AsS’s™iveURISŒšg
());

328 
EXPECT_EQ
("1.2.3.x:5678", 
addr_v4
.
ToS’s™iveSŒšg
());

330 
EXPECT_EQ
("1.2.3.4", 
addr_v4
.
Ho¡AsS’s™iveURISŒšg
());

331 
EXPECT_EQ
("1.2.3.4:5678", 
addr_v4
.
ToS’s™iveSŒšg
());

334 
Sock‘Add»ss
 
addr_v6
(
kTe¡V6AddrSŒšg
, 5678);

335 
EXPECT_EQ
("[" + 
kTe¡V6AddrSŒšg
 + "]", 
addr_v6
.
Ho¡AsURISŒšg
());

336 
EXPECT_EQ
(
kTe¡V6AddrFuÎSŒšg
, 
addr_v6
.
ToSŒšg
());

337 #ià
defšed
(
NDEBUG
)

338 
EXPECT_EQ
("[" + 
kTe¡V6AddrAnÚymizedSŒšg
 + "]",

339 
addr_v6
.
Ho¡AsS’s™iveURISŒšg
());

340 
EXPECT_EQ
(
kTe¡V6AddrFuÎAnÚymizedSŒšg
, 
addr_v6
.
ToS’s™iveSŒšg
());

342 
EXPECT_EQ
("[" + 
kTe¡V6AddrSŒšg
 + "]", 
addr_v6
.
Ho¡AsS’s™iveURISŒšg
());

343 
EXPECT_EQ
(
kTe¡V6AddrFuÎSŒšg
, 
addr_v6
.
ToS’s™iveSŒšg
());

	@socket_factory.h

11 #iâdeà
RTC_BASE_SOCKET_FACTORY_H_


12 
	#RTC_BASE_SOCKET_FACTORY_H_


	)

14 
	~"¹c_ba£/async_sock‘.h
"

15 
	~"¹c_ba£/sock‘.h
"

17 
Çme¥aû
 
	g¹c
 {

19 şas 
	cSock‘FaùÜy
 {

20 
	gpublic
:

21 
vœtu®
 ~
Sock‘FaùÜy
() {}

25 
vœtu®
 
Sock‘
* 
C»©eSock‘
(
çmy
, 
ty³
) = 0;

28 
vœtu®
 
AsyncSock‘
* 
C»©eAsyncSock‘
(
çmy
, 
ty³
) = 0;

	@socket_server.h

11 #iâdeà
RTC_BASE_SOCKET_SERVER_H_


12 
	#RTC_BASE_SOCKET_SERVER_H_


	)

14 
	~<memÜy
>

16 
	~"¹c_ba£/sock‘_çùÜy.h
"

18 
Çme¥aû
 
	g¹c
 {

20 
şass
 
	gTh»ad
;

24 
şass
 
	gN‘wÜkBšd”IÁ”çû
;

31 şas 
	cSock‘S”v”
 : 
public
 
Sock‘FaùÜy
 {

32 
public
:

33 cÚ¡ 
kFÜev”
 = -1;

35 
	g¡d
::
unique_±r
<
Sock‘S”v”
> 
C»©eDeçuÉ
();

39 
vœtu®
 
S‘Mes§geQueue
(
Th»ad
* 
queue
) {}

45 
vœtu®
 
boŞ
 
Wa™
(
cms
, boŞ 
´oûss_io
) = 0;

48 
vœtu®
 
WakeUp
() = 0;

52 
£t_ÃtwÜk_bšd”
(
N‘wÜkBšd”IÁ”çû
* 
bšd”
) {

53 
	gÃtwÜk_bšd”_
 = 
bšd”
;

55 
N‘wÜkBšd”IÁ”çû
* 
ÃtwÜk_bšd”
(ècÚ¡ {  
	gÃtwÜk_bšd”_
; }

57 
	g´iv©e
:

58 
N‘wÜkBšd”IÁ”çû
* 
ÃtwÜk_bšd”_
 = 
nuÎ±r
;

	@socket_stream.cc

11 
	~"¹c_ba£/sock‘_¡»am.h
"

13 
	~"¹c_ba£/checks.h
"

14 
	~"¹c_ba£/sock‘.h
"

16 
Çme¥aû
 
	g¹c
 {

18 
	gSock‘SŒ—m
::
Sock‘SŒ—m
(
AsyncSock‘
* 
sock‘
è: 
sock‘_
(
nuÎ±r
) {

19 
A‰ach
(
sock‘
);

22 
	gSock‘SŒ—m
::~
Sock‘SŒ—m
() {

23 
d–‘e
 
sock‘_
;

26 
	gSock‘SŒ—m
::
A‰ach
(
AsyncSock‘
* 
sock‘
) {

27 ià(
sock‘_
)

28 
d–‘e
 
sock‘_
;

29 
	gsock‘_
 = 
sock‘
;

30 ià(
	gsock‘_
) {

31 
	gsock‘_
->
	gSigÇlCÚÃùEv’t
.
cÚÃù
(
this
, &
Sock‘SŒ—m
::
OnCÚÃùEv’t
);

32 
	gsock‘_
->
	gSigÇlR—dEv’t
.
cÚÃù
(
this
, &
Sock‘SŒ—m
::
OnR—dEv’t
);

33 
	gsock‘_
->
	gSigÇlWr™eEv’t
.
cÚÃù
(
this
, &
Sock‘SŒ—m
::
OnWr™eEv’t
);

34 
	gsock‘_
->
	gSigÇlClo£Ev’t
.
cÚÃù
(
this
, &
Sock‘SŒ—m
::
OnClo£Ev’t
);

38 
AsyncSock‘
* 
	gSock‘SŒ—m
::
D‘ach
() {

39 
AsyncSock‘
* 
sock‘
 = 
sock‘_
;

40 ià(
	gsock‘_
) {

41 
	gsock‘_
->
	gSigÇlCÚÃùEv’t
.
discÚÃù
(
this
);

42 
	gsock‘_
->
	gSigÇlR—dEv’t
.
discÚÃù
(
this
);

43 
	gsock‘_
->
	gSigÇlWr™eEv’t
.
discÚÃù
(
this
);

44 
	gsock‘_
->
	gSigÇlClo£Ev’t
.
discÚÃù
(
this
);

45 
	gsock‘_
 = 
nuÎ±r
;

47  
	gsock‘
;

50 
SŒ—mS‹
 
	gSock‘SŒ—m
::
G‘S‹
() const {

51 
RTC_DCHECK
(
sock‘_
 !ğ
nuÎ±r
);

52 
	gsock‘_
->
G‘S‹
()) {

53 
	gSock‘
::
CS_CONNECTED
:

54  
SS_OPEN
;

55 
	gSock‘
::
CS_CONNECTING
:

56  
SS_OPENING
;

57 
	gSock‘
::
CS_CLOSED
:

59  
SS_CLOSED
;

63 
SŒ—mResuÉ
 
	gSock‘SŒ—m
::
R—d
(* 
bufãr
,

64 
size_t
 
bufãr_Ën
,

65 
size_t
* 
»ad
,

66 * 
”rÜ
) {

67 
RTC_DCHECK
(
sock‘_
 !ğ
nuÎ±r
);

68 
	g»suÉ
 = 
sock‘_
->
Recv
(
bufãr
, 
bufãr_Ën
, 
nuÎ±r
);

69 ià(
	g»suÉ
 < 0) {

70 ià(
	gsock‘_
->
IsBlockšg
())

71  
	gSR_BLOCK
;

72 ià(
	g”rÜ
)

73 *
	g”rÜ
 = 
sock‘_
->
G‘E¼Ü
();

74  
	gSR_ERROR
;

76 ià((
	g»suÉ
 > 0è|| (
	gbufãr_Ën
 == 0)) {

77 ià(
»ad
)

78 *
»ad
 = 
»suÉ
;

79  
	gSR_SUCCESS
;

81  
	gSR_EOS
;

84 
SŒ—mResuÉ
 
	gSock‘SŒ—m
::
Wr™e
(cÚ¡ * 
d©a
,

85 
size_t
 
d©a_Ën
,

86 
size_t
* 
wr™‹n
,

87 * 
”rÜ
) {

88 
RTC_DCHECK
(
sock‘_
 !ğ
nuÎ±r
);

89 
	g»suÉ
 = 
sock‘_
->
S’d
(
d©a
, 
d©a_Ën
);

90 ià(
	g»suÉ
 < 0) {

91 ià(
	gsock‘_
->
IsBlockšg
())

92  
	gSR_BLOCK
;

93 ià(
	g”rÜ
)

94 *
	g”rÜ
 = 
sock‘_
->
G‘E¼Ü
();

95  
	gSR_ERROR
;

97 ià(
	gwr™‹n
)

98 *
	gwr™‹n
 = 
»suÉ
;

99  
	gSR_SUCCESS
;

102 
	gSock‘SŒ—m
::
Clo£
() {

103 
RTC_DCHECK
(
sock‘_
 !ğ
nuÎ±r
);

104 
	gsock‘_
->
Clo£
();

107 
	gSock‘SŒ—m
::
OnCÚÃùEv’t
(
AsyncSock‘
* 
sock‘
) {

108 
RTC_DCHECK
(
sock‘
 =ğ
sock‘_
);

109 
SigÇlEv’t
(
this
, 
SE_OPEN
 | 
SE_READ
 | 
SE_WRITE
, 0);

112 
	gSock‘SŒ—m
::
OnR—dEv’t
(
AsyncSock‘
* 
sock‘
) {

113 
RTC_DCHECK
(
sock‘
 =ğ
sock‘_
);

114 
SigÇlEv’t
(
this
, 
SE_READ
, 0);

117 
	gSock‘SŒ—m
::
OnWr™eEv’t
(
AsyncSock‘
* 
sock‘
) {

118 
RTC_DCHECK
(
sock‘
 =ğ
sock‘_
);

119 
SigÇlEv’t
(
this
, 
SE_WRITE
, 0);

122 
	gSock‘SŒ—m
::
OnClo£Ev’t
(
AsyncSock‘
* 
sock‘
, 
”r
) {

123 
RTC_DCHECK
(
sock‘
 =ğ
sock‘_
);

124 
SigÇlEv’t
(
this
, 
SE_CLOSE
, 
”r
);

	@socket_stream.h

11 #iâdeà
RTC_BASE_SOCKET_STREAM_H_


12 
	#RTC_BASE_SOCKET_STREAM_H_


	)

14 
	~<¡ddef.h
>

16 
	~"¹c_ba£/async_sock‘.h
"

17 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

18 
	~"¹c_ba£/¡»am.h
"

19 
	~"¹c_ba£/thœd_·¹y/sig¦Ù/sig¦Ù.h
"

21 
Çme¥aû
 
	g¹c
 {

25 
şass
 
	gSock‘SŒ—m
 : 
public
 
SŒ—mIÁ”çû
,…ubliø
	gsig¦Ù
::
has_¦Ùs
<> {

26 
public
:

27 
ex¶ic™
 
Sock‘SŒ—m
(
AsyncSock‘
* 
sock‘
);

28 ~
Sock‘SŒ—m
(è
	gov”ride
;

30 
A‰ach
(
AsyncSock‘
* 
sock‘
);

31 
AsyncSock‘
* 
D‘ach
();

33 
AsyncSock‘
* 
G‘Sock‘
(è{  
	gsock‘_
; }

35 
SŒ—mS‹
 
G‘S‹
(ècÚ¡ 
	gov”ride
;

37 
SŒ—mResuÉ
 
R—d
(* 
bufãr
,

38 
size_t
 
bufãr_Ën
,

39 
size_t
* 
»ad
,

40 * 
”rÜ
è
	gov”ride
;

42 
SŒ—mResuÉ
 
Wr™e
(cÚ¡ * 
d©a
,

43 
size_t
 
d©a_Ën
,

44 
size_t
* 
wr™‹n
,

45 * 
”rÜ
è
	gov”ride
;

47 
Clo£
(è
	gov”ride
;

49 
	g´iv©e
:

50 
OnCÚÃùEv’t
(
AsyncSock‘
* 
sock‘
);

51 
OnR—dEv’t
(
AsyncSock‘
* 
sock‘
);

52 
OnWr™eEv’t
(
AsyncSock‘
* 
sock‘
);

53 
OnClo£Ev’t
(
AsyncSock‘
* 
sock‘
, 
”r
);

55 
AsyncSock‘
* 
	gsock‘_
;

57 
RTC_DISALLOW_COPY_AND_ASSIGN
(
Sock‘SŒ—m
);

	@socket_unittest.cc

11 
	~"¹c_ba£/sock‘.h
"

13 
	~<”ºo.h
>

14 
	~<¡dšt.h
>

15 
	~<¡ršg.h
>

17 
	~<memÜy
>

19 
	~"ab¦/memÜy/memÜy.h
"

20 
	~"¹c_ba£/¬¿ysize.h
"

21 
	~"¹c_ba£/async_·ck‘_sock‘.h
"

22 
	~"¹c_ba£/async_sock‘.h
"

23 
	~"¹c_ba£/async_udp_sock‘.h
"

24 
	~"¹c_ba£/bufãr.h
"

25 
	~"¹c_ba£/gun™.h
"

26 
	~"¹c_ba£/loÿtiÚ.h
"

27 
	~"¹c_ba£/loggšg.h
"

28 
	~"¹c_ba£/mes§ge_hªdËr.h
"

29 
	~"¹c_ba£/Ãt_h–³rs.h
"

30 
	~"¹c_ba£/sock‘_add»ss.h
"

31 
	~"¹c_ba£/sock‘_£rv”.h
"

32 
	~"¹c_ba£/sock‘_un™‹¡.h
"

33 
	~"¹c_ba£/‹¡_ş›Á.h
"

34 
	~"¹c_ba£/‹¡_uts.h
"

35 
	~"¹c_ba£/thœd_·¹y/sig¦Ù/sig¦Ù.h
"

36 
	~"¹c_ba£/th»ad.h
"

37 
	~"¹c_ba£/time_uts.h
"

39 
Çme¥aû
 
	g¹c
 {

41 
usšg
 
	gweb¹c
::
‹¡šg
::
SSE_CLOSE
;

42 
usšg
 
	gweb¹c
::
‹¡šg
::
SSE_ERROR
;

43 
usšg
 
	gweb¹c
::
‹¡šg
::
SSE_OPEN
;

44 
usšg
 
	gweb¹c
::
‹¡šg
::
SSE_READ
;

45 
usšg
 
	gweb¹c
::
‹¡šg
::
SSE_WRITE
;

46 
usšg
 
	gweb¹c
::
‹¡šg
::
SŒ—mSšk
;

48 
	#MAYBE_SKIP_IPV6
 \

49 ià(!
	`HasIPv6EÇbËd
()) { \

50 
	`RTC_LOG
(
LS_INFO
) << "No IPv6... skipping"; \

52 }

	)

55 cÚ¡ 
size_t
 
	gkTıIÁ”ÇlD©aSize
 = 1024 * 1024;

57 
	gSock‘Te¡
::
S‘Up
() {

58 
ss_
 = 
Th»ad
::
Cu¼’t
()->
sock‘£rv”
();

61 
	gSock‘Te¡
::
Te¡CÚÃùIPv4
() {

62 
CÚÃùIÁ”Çl
(
kIPv4Loİback
);

65 
	gSock‘Te¡
::
Te¡CÚÃùIPv6
() {

66 
MAYBE_SKIP_IPV6
;

67 
CÚÃùIÁ”Çl
(
kIPv6Loİback
);

70 
	gSock‘Te¡
::
Te¡CÚÃùW™hDnsLookupIPv4
() {

71 
CÚÃùW™hDnsLookupIÁ”Çl
(
kIPv4Loİback
, "localhost");

74 
	gSock‘Te¡
::
Te¡CÚÃùW™hDnsLookupIPv6
() {

76 
RTC_LOG
(
LS_INFO
) << "Skipping IPv6 DNSest";

80 
	gSock‘Te¡
::
Te¡CÚÃùFaIPv4
() {

81 
CÚÃùFaIÁ”Çl
(
kIPv4Loİback
);

84 
	gSock‘Te¡
::
Te¡CÚÃùFaIPv6
() {

85 
MAYBE_SKIP_IPV6
;

86 
CÚÃùFaIÁ”Çl
(
kIPv6Loİback
);

89 
	gSock‘Te¡
::
Te¡CÚÃùW™hDnsLookupFaIPv4
() {

90 
CÚÃùW™hDnsLookupFaIÁ”Çl
(
kIPv4Loİback
);

93 
	gSock‘Te¡
::
Te¡CÚÃùW™hDnsLookupFaIPv6
() {

94 
MAYBE_SKIP_IPV6
;

95 
CÚÃùW™hDnsLookupFaIÁ”Çl
(
kIPv6Loİback
);

98 
	gSock‘Te¡
::
Te¡CÚÃùW™hClo£dSock‘IPv4
() {

99 
CÚÃùW™hClo£dSock‘IÁ”Çl
(
kIPv4Loİback
);

102 
	gSock‘Te¡
::
Te¡CÚÃùW™hClo£dSock‘IPv6
() {

103 
MAYBE_SKIP_IPV6
;

104 
CÚÃùW™hClo£dSock‘IÁ”Çl
(
kIPv6Loİback
);

107 
	gSock‘Te¡
::
Te¡CÚÃùWheNÙClo£dIPv4
() {

108 
CÚÃùWheNÙClo£dIÁ”Çl
(
kIPv4Loİback
);

111 
	gSock‘Te¡
::
Te¡CÚÃùWheNÙClo£dIPv6
() {

112 
MAYBE_SKIP_IPV6
;

113 
CÚÃùWheNÙClo£dIÁ”Çl
(
kIPv6Loİback
);

116 
	gSock‘Te¡
::
Te¡S”v”Clo£DuršgCÚÃùIPv4
() {

117 
S”v”Clo£DuršgCÚÃùIÁ”Çl
(
kIPv4Loİback
);

120 
	gSock‘Te¡
::
Te¡S”v”Clo£DuršgCÚÃùIPv6
() {

121 
MAYBE_SKIP_IPV6
;

122 
S”v”Clo£DuršgCÚÃùIÁ”Çl
(
kIPv6Loİback
);

125 
	gSock‘Te¡
::
Te¡Cl›ÁClo£DuršgCÚÃùIPv4
() {

126 
Cl›ÁClo£DuršgCÚÃùIÁ”Çl
(
kIPv4Loİback
);

129 
	gSock‘Te¡
::
Te¡Cl›ÁClo£DuršgCÚÃùIPv6
() {

130 
MAYBE_SKIP_IPV6
;

131 
Cl›ÁClo£DuršgCÚÃùIÁ”Çl
(
kIPv6Loİback
);

134 
	gSock‘Te¡
::
Te¡S”v”Clo£IPv4
() {

135 
S”v”Clo£IÁ”Çl
(
kIPv4Loİback
);

138 
	gSock‘Te¡
::
Te¡S”v”Clo£IPv6
() {

139 
MAYBE_SKIP_IPV6
;

140 
S”v”Clo£IÁ”Çl
(
kIPv6Loİback
);

143 
	gSock‘Te¡
::
Te¡Clo£InClo£dC®lbackIPv4
() {

144 
Clo£InClo£dC®lbackIÁ”Çl
(
kIPv4Loİback
);

147 
	gSock‘Te¡
::
Te¡Clo£InClo£dC®lbackIPv6
() {

148 
MAYBE_SKIP_IPV6
;

149 
Clo£InClo£dC®lbackIÁ”Çl
(
kIPv6Loİback
);

152 
	gSock‘Te¡
::
Te¡Sock‘S”v”Wa™IPv4
() {

153 
Sock‘S”v”Wa™IÁ”Çl
(
kIPv4Loİback
);

156 
	gSock‘Te¡
::
Te¡Sock‘S”v”Wa™IPv6
() {

157 
MAYBE_SKIP_IPV6
;

158 
Sock‘S”v”Wa™IÁ”Çl
(
kIPv6Loİback
);

161 
	gSock‘Te¡
::
Te¡TıIPv4
() {

162 
TıIÁ”Çl
(
kIPv4Loİback
, 
kTıIÁ”ÇlD©aSize
, -1);

165 
	gSock‘Te¡
::
Te¡TıIPv6
() {

166 
MAYBE_SKIP_IPV6
;

167 
TıIÁ”Çl
(
kIPv6Loİback
, 
kTıIÁ”ÇlD©aSize
, -1);

170 
	gSock‘Te¡
::
Te¡SšgËFlowCÚŒŞC®lbackIPv4
() {

171 
SšgËFlowCÚŒŞC®lbackIÁ”Çl
(
kIPv4Loİback
);

174 
	gSock‘Te¡
::
Te¡SšgËFlowCÚŒŞC®lbackIPv6
() {

175 
MAYBE_SKIP_IPV6
;

176 
SšgËFlowCÚŒŞC®lbackIÁ”Çl
(
kIPv6Loİback
);

179 
	gSock‘Te¡
::
Te¡UdpIPv4
() {

180 
UdpIÁ”Çl
(
kIPv4Loİback
);

183 
	gSock‘Te¡
::
Te¡UdpIPv6
() {

184 
MAYBE_SKIP_IPV6
;

185 
UdpIÁ”Çl
(
kIPv6Loİback
);

188 
	gSock‘Te¡
::
Te¡UdpR—dyToS’dIPv4
() {

189 #ià!
defšed
(
WEBRTC_MAC
)

191 
UdpR—dyToS’d
(
kIPv4Loİback
);

195 
	gSock‘Te¡
::
Te¡UdpR—dyToS’dIPv6
() {

196 #ià
defšed
(
WEBRTC_WIN
)

198 
MAYBE_SKIP_IPV6
;

199 
UdpR—dyToS’d
(
kIPv6Loİback
);

203 
	gSock‘Te¡
::
Te¡G‘S‘O±iÚsIPv4
() {

204 
G‘S‘O±iÚsIÁ”Çl
(
kIPv4Loİback
);

207 
	gSock‘Te¡
::
Te¡G‘S‘O±iÚsIPv6
() {

208 
MAYBE_SKIP_IPV6
;

209 
G‘S‘O±iÚsIÁ”Çl
(
kIPv6Loİback
);

212 
	gSock‘Te¡
::
Te¡Sock‘RecvTime¡ampIPv4
() {

213 
Sock‘RecvTime¡amp
(
kIPv4Loİback
);

216 
	gSock‘Te¡
::
Te¡Sock‘RecvTime¡ampIPv6
() {

217 
MAYBE_SKIP_IPV6
;

218 
Sock‘RecvTime¡amp
(
kIPv6Loİback
);

223 
boŞ
 
IsUn¥ecOrEm±yIP
(cÚ¡ 
IPAdd»ss
& 
add»ss
) {

224 #ià!
defšed
(
WEBRTC_WIN
)

225  
IPIsAny
(
add»ss
);

227  
	gadd»ss
.
çmy
(è=ğ
AF_UNSPEC
;

231 
	gSock‘Te¡
::
CÚÃùIÁ”Çl
(cÚ¡ 
IPAdd»ss
& 
loİback
) {

232 
SŒ—mSšk
 
sšk
;

233 
Sock‘Add»ss
 
	gacû±_addr
;

236 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
ş›Á
(

237 
ss_
->
C»©eAsyncSock‘
(
loİback
.
çmy
(), 
SOCK_STREAM
));

238 
	gsšk
.
MÚ™Ü
(
ş›Á
.
g‘
());

239 
EXPECT_EQ
(
AsyncSock‘
::
CS_CLOSED
, 
ş›Á
->
G‘S‹
());

240 
EXPECT_TRUE
(
IsUn¥ecOrEm±yIP
(
ş›Á
->
G‘LoÿlAdd»ss
().
addr
()));

243 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
£rv”
(

244 
ss_
->
C»©eAsyncSock‘
(
loİback
.
çmy
(), 
SOCK_STREAM
));

245 
	gsšk
.
MÚ™Ü
(
£rv”
.
g‘
());

246 
EXPECT_EQ
(0, 
£rv”
->
Bšd
(
Sock‘Add»ss
(
loİback
, 0)));

247 
EXPECT_EQ
(0, 
£rv”
->
Li¡’
(5));

248 
EXPECT_EQ
(
AsyncSock‘
::
CS_CONNECTING
, 
£rv”
->
G‘S‹
());

251 
EXPECT_FALSE
(
sšk
.
Check
(
£rv”
.
g‘
(), 
SSE_READ
));

252 
EXPECT_TRUE
(
nuÎ±r
 =ğ
£rv”
->
Acû±
(&
acû±_addr
));

253 
EXPECT_TRUE
(
acû±_addr
.
IsN
());

256 
EXPECT_EQ
(0, 
ş›Á
->
CÚÃù
(
£rv”
->
G‘LoÿlAdd»ss
()));

257 
EXPECT_FALSE
(
ş›Á
->
G‘LoÿlAdd»ss
().
IsN
());

258 
EXPECT_NE
(
£rv”
->
G‘LoÿlAdd»ss
(), 
ş›Á
->GetLocalAddress());

261 
EXPECT_EQ
(
AsyncSock‘
::
CS_CONNECTING
, 
ş›Á
->
G‘S‹
());

262 
EXPECT_FALSE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_OPEN
));

263 
EXPECT_FALSE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_CLOSE
));

266 
EXPECT_TRUE_WAIT
((
sšk
.
Check
(
£rv”
.
g‘
(), 
SSE_READ
)), 
kTimeout
);

267 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
acû±ed
(
£rv”
->
Acû±
(&
acû±_addr
));

268 
ASSERT_TRUE
(
acû±ed
);

269 
EXPECT_FALSE
(
acû±_addr
.
IsN
());

270 
EXPECT_EQ
(
acû±ed
->
G‘RemÙeAdd»ss
(), 
acû±_addr
);

273 
EXPECT_EQ
(
AsyncSock‘
::
CS_CONNECTED
, 
acû±ed
->
G‘S‹
());

274 
EXPECT_EQ
(
£rv”
->
G‘LoÿlAdd»ss
(), 
acû±ed
->GetLocalAddress());

275 
EXPECT_EQ
(
ş›Á
->
G‘LoÿlAdd»ss
(), 
acû±ed
->
G‘RemÙeAdd»ss
());

278 
EXPECT_EQ_WAIT
(
AsyncSock‘
::
CS_CONNECTED
, 
ş›Á
->
G‘S‹
(), 
kTimeout
);

279 
EXPECT_TRUE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_OPEN
));

280 
EXPECT_FALSE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_CLOSE
));

281 
EXPECT_EQ
(
ş›Á
->
G‘RemÙeAdd»ss
(), 
£rv”
->
G‘LoÿlAdd»ss
());

282 
EXPECT_EQ
(
ş›Á
->
G‘RemÙeAdd»ss
(), 
acû±ed
->
G‘LoÿlAdd»ss
());

285 
	gSock‘Te¡
::
CÚÃùW™hDnsLookupIÁ”Çl
(cÚ¡ 
IPAdd»ss
& 
loİback
,

286 cÚ¡ 
¡d
::
¡ršg
& 
ho¡
) {

287 
SŒ—mSšk
 
sšk
;

288 
Sock‘Add»ss
 
	gacû±_addr
;

291 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
ş›Á
(

292 
ss_
->
C»©eAsyncSock‘
(
loİback
.
çmy
(), 
SOCK_STREAM
));

293 
	gsšk
.
MÚ™Ü
(
ş›Á
.
g‘
());

296 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
£rv”
(

297 
ss_
->
C»©eAsyncSock‘
(
loİback
.
çmy
(), 
SOCK_STREAM
));

298 
	gsšk
.
MÚ™Ü
(
£rv”
.
g‘
());

299 
EXPECT_EQ
(0, 
£rv”
->
Bšd
(
Sock‘Add»ss
(
loİback
, 0)));

300 
EXPECT_EQ
(0, 
£rv”
->
Li¡’
(5));

303 
Sock‘Add»ss
 
dns_addr
(
£rv”
->
G‘LoÿlAdd»ss
());

304 
	gdns_addr
.
S‘IP
(
ho¡
);

305 
EXPECT_EQ
(0, 
ş›Á
->
CÚÃù
(
dns_addr
));

310 
EXPECT_EQ
(
AsyncSock‘
::
CS_CONNECTING
, 
ş›Á
->
G‘S‹
());

311 
EXPECT_FALSE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_OPEN
));

312 
EXPECT_FALSE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_CLOSE
));

315 
EXPECT_TRUE_WAIT
((
sšk
.
Check
(
£rv”
.
g‘
(), 
SSE_READ
)), 
kTimeout
);

316 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
acû±ed
(
£rv”
->
Acû±
(&
acû±_addr
));

317 
ASSERT_TRUE
(
acû±ed
);

318 
EXPECT_FALSE
(
acû±_addr
.
IsN
());

319 
EXPECT_EQ
(
acû±ed
->
G‘RemÙeAdd»ss
(), 
acû±_addr
);

322 
EXPECT_EQ
(
AsyncSock‘
::
CS_CONNECTED
, 
acû±ed
->
G‘S‹
());

323 
EXPECT_EQ
(
£rv”
->
G‘LoÿlAdd»ss
(), 
acû±ed
->GetLocalAddress());

324 
EXPECT_EQ
(
ş›Á
->
G‘LoÿlAdd»ss
(), 
acû±ed
->
G‘RemÙeAdd»ss
());

327 
EXPECT_EQ_WAIT
(
AsyncSock‘
::
CS_CONNECTED
, 
ş›Á
->
G‘S‹
(), 
kTimeout
);

328 
EXPECT_TRUE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_OPEN
));

329 
EXPECT_FALSE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_CLOSE
));

330 
EXPECT_EQ
(
ş›Á
->
G‘RemÙeAdd»ss
(), 
£rv”
->
G‘LoÿlAdd»ss
());

331 
EXPECT_EQ
(
ş›Á
->
G‘RemÙeAdd»ss
(), 
acû±ed
->
G‘LoÿlAdd»ss
());

334 
	gSock‘Te¡
::
CÚÃùFaIÁ”Çl
(cÚ¡ 
IPAdd»ss
& 
loİback
) {

335 
SŒ—mSšk
 
sšk
;

336 
Sock‘Add»ss
 
	gacû±_addr
;

339 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
ş›Á
(

340 
ss_
->
C»©eAsyncSock‘
(
loİback
.
çmy
(), 
SOCK_STREAM
));

341 
	gsšk
.
MÚ™Ü
(
ş›Á
.
g‘
());

344 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
£rv”
(

345 
ss_
->
C»©eAsyncSock‘
(
loİback
.
çmy
(), 
SOCK_STREAM
));

346 
	gsšk
.
MÚ™Ü
(
£rv”
.
g‘
());

347 
EXPECT_EQ
(0, 
£rv”
->
Bšd
(
Sock‘Add»ss
(
loİback
, 0)));

352 
Sock‘Add»ss
 
bogus_addr
(
loİback
, 65535);

353 
EXPECT_EQ
(0, 
ş›Á
->
CÚÃù
(
bogus_addr
));

356 
EXPECT_EQ_WAIT
(
AsyncSock‘
::
CS_CLOSED
, 
ş›Á
->
G‘S‹
(), 
kTimeout
);

357 
EXPECT_FALSE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_OPEN
));

358 
EXPECT_TRUE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_ERROR
));

359 
EXPECT_TRUE
(
ş›Á
->
G‘RemÙeAdd»ss
().
IsN
());

362 
EXPECT_FALSE
(
sšk
.
Check
(
£rv”
.
g‘
(), 
SSE_READ
));

363 
EXPECT_TRUE
(
nuÎ±r
 =ğ
£rv”
->
Acû±
(&
acû±_addr
));

364 
EXPECT_EQ
(
IPAdd»ss
(), 
acû±_addr
.
addr
());

367 
	gSock‘Te¡
::
CÚÃùW™hDnsLookupFaIÁ”Çl
(cÚ¡ 
IPAdd»ss
& 
loİback
) {

368 
SŒ—mSšk
 
sšk
;

369 
Sock‘Add»ss
 
	gacû±_addr
;

372 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
ş›Á
(

373 
ss_
->
C»©eAsyncSock‘
(
loİback
.
çmy
(), 
SOCK_STREAM
));

374 
	gsšk
.
MÚ™Ü
(
ş›Á
.
g‘
());

377 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
£rv”
(

378 
ss_
->
C»©eAsyncSock‘
(
loİback
.
çmy
(), 
SOCK_STREAM
));

379 
	gsšk
.
MÚ™Ü
(
£rv”
.
g‘
());

380 
EXPECT_EQ
(0, 
£rv”
->
Bšd
(
Sock‘Add»ss
(
loİback
, 0)));

385 
Sock‘Add»ss
 
bogus_dns_addr
("not-a-real-hostname", 65535);

386 
EXPECT_EQ
(0, 
ş›Á
->
CÚÃù
(
bogus_dns_addr
));

389 
boŞ
 
	gdns_lookup_fšished
 = 
çl£
;

390 
WAIT_
(
ş›Á
->
G‘S‹
(è=ğ
AsyncSock‘
::
CS_CLOSED
, 
kTimeout
,

391 
dns_lookup_fšished
);

392 ià(!
	gdns_lookup_fšished
) {

393 
RTC_LOG
(
LS_WARNING
) << "Skippingest; DNS„esolutionook†ongerhan 5 "

398 
EXPECT_EQ_WAIT
(
AsyncSock‘
::
CS_CLOSED
, 
ş›Á
->
G‘S‹
(), 
kTimeout
);

399 
EXPECT_FALSE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_OPEN
));

400 
EXPECT_TRUE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_ERROR
));

401 
EXPECT_TRUE
(
ş›Á
->
G‘RemÙeAdd»ss
().
IsN
());

403 
EXPECT_FALSE
(
sšk
.
Check
(
£rv”
.
g‘
(), 
SSE_READ
));

404 
EXPECT_TRUE
(
nuÎ±r
 =ğ
£rv”
->
Acû±
(&
acû±_addr
));

405 
EXPECT_TRUE
(
acû±_addr
.
IsN
());

408 
	gSock‘Te¡
::
CÚÃùW™hClo£dSock‘IÁ”Çl
(cÚ¡ 
IPAdd»ss
& 
loİback
) {

410 
¡d
::
unique_±r
<
AsyncSock‘
> 
£rv”
(

411 
ss_
->
C»©eAsyncSock‘
(
loİback
.
çmy
(), 
SOCK_STREAM
));

412 
EXPECT_EQ
(0, 
£rv”
->
Bšd
(
Sock‘Add»ss
(
loİback
, 0)));

413 
EXPECT_EQ
(0, 
£rv”
->
Li¡’
(5));

416 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
ş›Á
(

417 
ss_
->
C»©eAsyncSock‘
(
loİback
.
çmy
(), 
SOCK_STREAM
));

418 
EXPECT_EQ
(0, 
ş›Á
->
Clo£
());

419 
EXPECT_EQ
(
AsyncSock‘
::
CS_CLOSED
, 
ş›Á
->
G‘S‹
());

422 
EXPECT_EQ
(0, 
ş›Á
->
CÚÃù
(
Sock‘Add»ss
(
£rv”
->
G‘LoÿlAdd»ss
())));

423 
EXPECT_EQ
(
AsyncSock‘
::
CS_CONNECTING
, 
ş›Á
->
G‘S‹
());

426 
	gSock‘Te¡
::
CÚÃùWheNÙClo£dIÁ”Çl
(cÚ¡ 
IPAdd»ss
& 
loİback
) {

428 
SŒ—mSšk
 
sšk
;

429 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
£rv”
(

430 
ss_
->
C»©eAsyncSock‘
(
loİback
.
çmy
(), 
SOCK_STREAM
));

431 
	gsšk
.
MÚ™Ü
(
£rv”
.
g‘
());

432 
EXPECT_EQ
(0, 
£rv”
->
Bšd
(
Sock‘Add»ss
(
loİback
, 0)));

433 
EXPECT_EQ
(0, 
£rv”
->
Li¡’
(5));

435 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
ş›Á
(

436 
ss_
->
C»©eAsyncSock‘
(
loİback
.
çmy
(), 
SOCK_STREAM
));

437 
EXPECT_EQ
(0, 
ş›Á
->
CÚÃù
(
Sock‘Add»ss
(
£rv”
->
G‘LoÿlAdd»ss
())));

438 
EXPECT_EQ
(
AsyncSock‘
::
CS_CONNECTING
, 
ş›Á
->
G‘S‹
());

440 
EXPECT_EQ
(
SOCKET_ERROR
,

441 
ş›Á
->
CÚÃù
(
Sock‘Add»ss
(
£rv”
->
G‘LoÿlAdd»ss
())));

444 
Sock‘Add»ss
 
	gacû±_addr
;

445 
EXPECT_TRUE_WAIT
((
sšk
.
Check
(
£rv”
.
g‘
(), 
SSE_READ
)), 
kTimeout
);

446 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
acû±ed
(
£rv”
->
Acû±
(&
acû±_addr
));

447 
ASSERT_TRUE
(
acû±ed
);

448 
EXPECT_FALSE
(
acû±_addr
.
IsN
());

451 
EXPECT_EQ
(
AsyncSock‘
::
CS_CONNECTED
, 
acû±ed
->
G‘S‹
());

452 
EXPECT_EQ
(
£rv”
->
G‘LoÿlAdd»ss
(), 
acû±ed
->GetLocalAddress());

453 
EXPECT_EQ
(
ş›Á
->
G‘LoÿlAdd»ss
(), 
acû±ed
->
G‘RemÙeAdd»ss
());

454 
EXPECT_EQ_WAIT
(
AsyncSock‘
::
CS_CONNECTED
, 
ş›Á
->
G‘S‹
(), 
kTimeout
);

455 
EXPECT_EQ
(
ş›Á
->
G‘RemÙeAdd»ss
(), 
£rv”
->
G‘LoÿlAdd»ss
());

456 
EXPECT_EQ
(
ş›Á
->
G‘RemÙeAdd»ss
(), 
acû±ed
->
G‘LoÿlAdd»ss
());

460 
EXPECT_EQ
(
SOCKET_ERROR
, 
ş›Á
->
CÚÃù
(
Sock‘Add»ss
(

461 "loÿlho¡", 
£rv”
->
G‘LoÿlAdd»ss
().
pÜt
())));

462 
EXPECT_EQ
(
AsyncSock‘
::
CS_CONNECTED
, 
acû±ed
->
G‘S‹
());

463 
EXPECT_EQ
(
AsyncSock‘
::
CS_CONNECTED
, 
ş›Á
->
G‘S‹
());

464 
EXPECT_EQ
(
ş›Á
->
G‘RemÙeAdd»ss
(), 
£rv”
->
G‘LoÿlAdd»ss
());

465 
EXPECT_EQ
(
ş›Á
->
G‘RemÙeAdd»ss
(), 
acû±ed
->
G‘LoÿlAdd»ss
());

468 
	gSock‘Te¡
::
S”v”Clo£DuršgCÚÃùIÁ”Çl
(cÚ¡ 
IPAdd»ss
& 
loİback
) {

469 
SŒ—mSšk
 
sšk
;

472 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
ş›Á
(

473 
ss_
->
C»©eAsyncSock‘
(
loİback
.
çmy
(), 
SOCK_STREAM
));

474 
	gsšk
.
MÚ™Ü
(
ş›Á
.
g‘
());

477 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
£rv”
(

478 
ss_
->
C»©eAsyncSock‘
(
loİback
.
çmy
(), 
SOCK_STREAM
));

479 
	gsšk
.
MÚ™Ü
(
£rv”
.
g‘
());

480 
EXPECT_EQ
(0, 
£rv”
->
Bšd
(
Sock‘Add»ss
(
loİback
, 0)));

481 
EXPECT_EQ
(0, 
£rv”
->
Li¡’
(5));

484 
EXPECT_EQ
(0, 
ş›Á
->
CÚÃù
(
£rv”
->
G‘LoÿlAdd»ss
()));

487 
EXPECT_TRUE_WAIT
(
sšk
.
Check
(
£rv”
.
g‘
(), 
SSE_READ
), 
kTimeout
);

488 
	g£rv”
->
Clo£
();

491 
EXPECT_EQ_WAIT
(
AsyncSock‘
::
CS_CLOSED
, 
ş›Á
->
G‘S‹
(), 
kTimeout
);

492 
EXPECT_TRUE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_ERROR
));

493 
	gş›Á
->
Clo£
();

496 
	gSock‘Te¡
::
Cl›ÁClo£DuršgCÚÃùIÁ”Çl
(cÚ¡ 
IPAdd»ss
& 
loİback
) {

497 
SŒ—mSšk
 
sšk
;

498 
Sock‘Add»ss
 
	gacû±_addr
;

501 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
ş›Á
(

502 
ss_
->
C»©eAsyncSock‘
(
loİback
.
çmy
(), 
SOCK_STREAM
));

503 
	gsšk
.
MÚ™Ü
(
ş›Á
.
g‘
());

506 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
£rv”
(

507 
ss_
->
C»©eAsyncSock‘
(
loİback
.
çmy
(), 
SOCK_STREAM
));

508 
	gsšk
.
MÚ™Ü
(
£rv”
.
g‘
());

509 
EXPECT_EQ
(0, 
£rv”
->
Bšd
(
Sock‘Add»ss
(
loİback
, 0)));

510 
EXPECT_EQ
(0, 
£rv”
->
Li¡’
(5));

513 
EXPECT_EQ
(0, 
ş›Á
->
CÚÃù
(
£rv”
->
G‘LoÿlAdd»ss
()));

516 
EXPECT_TRUE_WAIT
(
sšk
.
Check
(
£rv”
.
g‘
(), 
SSE_READ
), 
kTimeout
);

517 
	gş›Á
->
Clo£
();

520 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
acû±ed
(
£rv”
->
Acû±
(&
acû±_addr
));

521 
ASSERT_TRUE
(
acû±ed
);

522 
	gsšk
.
MÚ™Ü
(
acû±ed
.
g‘
());

523 
EXPECT_EQ
(
AsyncSock‘
::
CS_CONNECTED
, 
acû±ed
->
G‘S‹
());

526 
EXPECT_EQ_WAIT
(
AsyncSock‘
::
CS_CLOSED
, 
acû±ed
->
G‘S‹
(), 
kTimeout
);

527 
EXPECT_TRUE
(
sšk
.
Check
(
acû±ed
.
g‘
(), 
SSE_CLOSE
) ||

528 
sšk
.
Check
(
acû±ed
.
g‘
(), 
SSE_ERROR
));

531 
EXPECT_FALSE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_CLOSE
));

534 
	gSock‘Te¡
::
S”v”Clo£IÁ”Çl
(cÚ¡ 
IPAdd»ss
& 
loİback
) {

535 
SŒ—mSšk
 
sšk
;

536 
Sock‘Add»ss
 
	gacû±_addr
;

539 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
ş›Á
(

540 
ss_
->
C»©eAsyncSock‘
(
loİback
.
çmy
(), 
SOCK_STREAM
));

541 
	gsšk
.
MÚ™Ü
(
ş›Á
.
g‘
());

544 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
£rv”
(

545 
ss_
->
C»©eAsyncSock‘
(
loİback
.
çmy
(), 
SOCK_STREAM
));

546 
	gsšk
.
MÚ™Ü
(
£rv”
.
g‘
());

547 
EXPECT_EQ
(0, 
£rv”
->
Bšd
(
Sock‘Add»ss
(
loİback
, 0)));

548 
EXPECT_EQ
(0, 
£rv”
->
Li¡’
(5));

551 
EXPECT_EQ
(0, 
ş›Á
->
CÚÃù
(
£rv”
->
G‘LoÿlAdd»ss
()));

554 
EXPECT_TRUE_WAIT
((
sšk
.
Check
(
£rv”
.
g‘
(), 
SSE_READ
)), 
kTimeout
);

555 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
acû±ed
(
£rv”
->
Acû±
(&
acû±_addr
));

556 
ASSERT_TRUE
(
acû±ed
);

557 
	gsšk
.
MÚ™Ü
(
acû±ed
.
g‘
());

560 
EXPECT_EQ_WAIT
(
AsyncSock‘
::
CS_CONNECTED
, 
ş›Á
->
G‘S‹
(), 
kTimeout
);

561 
EXPECT_TRUE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_OPEN
));

562 
EXPECT_EQ
(
ş›Á
->
G‘RemÙeAdd»ss
(), 
acû±ed
->
G‘LoÿlAdd»ss
());

563 
EXPECT_EQ
(
acû±ed
->
G‘RemÙeAdd»ss
(), 
ş›Á
->
G‘LoÿlAdd»ss
());

566 
EXPECT_EQ
(1, 
acû±ed
->
S’d
("a", 1));

567 
	gacû±ed
->
Clo£
();

568 
EXPECT_EQ
(
AsyncSock‘
::
CS_CLOSED
, 
acû±ed
->
G‘S‹
());

571 
EXPECT_TRUE_WAIT
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_READ
), 
kTimeout
);

572 
EXPECT_FALSE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_CLOSE
));

573 
EXPECT_EQ
(
AsyncSock‘
::
CS_CONNECTED
, 
ş›Á
->
G‘S‹
());

576 
	gbufãr
[10];

577 
EXPECT_EQ
(1, 
ş›Á
->
Recv
(
bufãr
, (bufãr), 
nuÎ±r
));

578 
EXPECT_EQ
('a', 
bufãr
[0]);

581 
EXPECT_EQ_WAIT
(
AsyncSock‘
::
CS_CLOSED
, 
ş›Á
->
G‘S‹
(), 
kTimeout
);

582 
EXPECT_TRUE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_CLOSE
));

583 
EXPECT_FALSE
(
ş›Á
->
G‘RemÙeAdd»ss
().
IsAnyIP
());

586 
EXPECT_FALSE
(
sšk
.
Check
(
acû±ed
.
g‘
(), 
SSE_CLOSE
));

587 
EXPECT_TRUE
(
acû±ed
->
G‘RemÙeAdd»ss
().
IsN
());

590 
	gTh»ad
::
Cu¼’t
()->
ProûssMes§ges
(0);

591 
EXPECT_FALSE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_CLOSE
));

594 
	gş›Á
->
Clo£
();

595 
EXPECT_FALSE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_CLOSE
));

596 
EXPECT_TRUE
(
ş›Á
->
G‘RemÙeAdd»ss
().
IsN
());

599 
şass
 
	gSock‘Clo£r
 : 
public
 
sig¦Ù
::
has_¦Ùs
<> {

600 
public
:

601 
OnClo£
(
AsyncSock‘
* 
sock‘
, 
”rÜ
) {

602 
	gsock‘
->
Clo£
();

607 
	gSock‘Te¡
::
Clo£InClo£dC®lbackIÁ”Çl
(cÚ¡ 
IPAdd»ss
& 
loİback
) {

608 
SŒ—mSšk
 
sšk
;

609 
Sock‘Clo£r
 
	gşo£r
;

610 
Sock‘Add»ss
 
	gacû±_addr
;

613 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
ş›Á
(

614 
ss_
->
C»©eAsyncSock‘
(
loİback
.
çmy
(), 
SOCK_STREAM
));

615 
	gsšk
.
MÚ™Ü
(
ş›Á
.
g‘
());

616 
	gş›Á
->
	gSigÇlClo£Ev’t
.
cÚÃù
(&
şo£r
, &
Sock‘Clo£r
::
OnClo£
);

619 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
£rv”
(

620 
ss_
->
C»©eAsyncSock‘
(
loİback
.
çmy
(), 
SOCK_STREAM
));

621 
	gsšk
.
MÚ™Ü
(
£rv”
.
g‘
());

622 
EXPECT_EQ
(0, 
£rv”
->
Bšd
(
Sock‘Add»ss
(
loİback
, 0)));

623 
EXPECT_EQ
(0, 
£rv”
->
Li¡’
(5));

626 
EXPECT_EQ
(0, 
ş›Á
->
CÚÃù
(
£rv”
->
G‘LoÿlAdd»ss
()));

629 
EXPECT_TRUE_WAIT
((
sšk
.
Check
(
£rv”
.
g‘
(), 
SSE_READ
)), 
kTimeout
);

630 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
acû±ed
(
£rv”
->
Acû±
(&
acû±_addr
));

631 
ASSERT_TRUE
(
acû±ed
);

632 
	gsšk
.
MÚ™Ü
(
acû±ed
.
g‘
());

635 
EXPECT_EQ_WAIT
(
AsyncSock‘
::
CS_CONNECTED
, 
ş›Á
->
G‘S‹
(), 
kTimeout
);

636 
EXPECT_TRUE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_OPEN
));

637 
EXPECT_EQ
(
ş›Á
->
G‘RemÙeAdd»ss
(), 
acû±ed
->
G‘LoÿlAdd»ss
());

638 
EXPECT_EQ
(
acû±ed
->
G‘RemÙeAdd»ss
(), 
ş›Á
->
G‘LoÿlAdd»ss
());

641 
	gacû±ed
->
Clo£
();

642 
EXPECT_EQ
(
AsyncSock‘
::
CS_CLOSED
, 
acû±ed
->
G‘S‹
());

645 
EXPECT_FALSE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_CLOSE
));

646 
EXPECT_EQ
(
AsyncSock‘
::
CS_CONNECTED
, 
ş›Á
->
G‘S‹
());

649 
EXPECT_EQ_WAIT
(
AsyncSock‘
::
CS_CLOSED
, 
ş›Á
->
G‘S‹
(), 
kTimeout
);

650 
EXPECT_TRUE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_CLOSE
));

651 
EXPECT_TRUE
(
Sock‘
::
CS_CLOSED
 =ğ
ş›Á
->
G‘S‹
());

654 şas 
	cSË•”
 : 
public
 
Mes§geHªdËr
 {

655 
public
:

656 
OnMes§ge
(
Mes§ge
* 
msg
è
ov”ride
 { 
Th»ad
::
Cu¼’t
()->
SË•Ms
(500); }

659 
	gSock‘Te¡
::
	$Sock‘S”v”Wa™IÁ”Çl
(cÚ¡ 
IPAdd»ss
& 
loİback
) {

660 
SŒ—mSšk
 
sšk
;

661 
Sock‘Add»ss
 
acû±_addr
;

664 
¡d
::
unique_±r
<
AsyncSock‘
> 
	`ş›Á
(

665 
ss_
->
	`C»©eAsyncSock‘
(
loİback
.
	`çmy
(), 
SOCK_STREAM
));

666 
¡d
::
unique_±r
<
AsyncSock‘
> 
	`£rv”
(

667 
ss_
->
	`C»©eAsyncSock‘
(
loİback
.
	`çmy
(), 
SOCK_STREAM
));

668 
sšk
.
	`MÚ™Ü
(
ş›Á
.
	`g‘
());

669 
sšk
.
	`MÚ™Ü
(
£rv”
.
	`g‘
());

670 
	`EXPECT_EQ
(0, 
£rv”
->
	`Bšd
(
	`Sock‘Add»ss
(
loİback
, 0)));

671 
	`EXPECT_EQ
(0, 
£rv”
->
	`Li¡’
(5));

673 
	`EXPECT_EQ
(0, 
ş›Á
->
	`CÚÃù
(
£rv”
->
	`G‘LoÿlAdd»ss
()));

674 
	`EXPECT_TRUE_WAIT
((
sšk
.
	`Check
(
£rv”
.
	`g‘
(), 
SSE_READ
)), 
kTimeout
);

676 
¡d
::
unique_±r
<
AsyncSock‘
> 
	`acû±ed
(
£rv”
->
	`Acû±
(&
acû±_addr
));

677 
	`ASSERT_TRUE
(
acû±ed
);

678 
sšk
.
	`MÚ™Ü
(
acû±ed
.
	`g‘
());

679 
	`EXPECT_EQ
(
AsyncSock‘
::
CS_CONNECTED
, 
acû±ed
->
	`G‘S‹
());

680 
	`EXPECT_EQ
(
£rv”
->
	`G‘LoÿlAdd»ss
(), 
acû±ed
->GetLocalAddress());

681 
	`EXPECT_EQ
(
ş›Á
->
	`G‘LoÿlAdd»ss
(), 
acû±ed
->
	`G‘RemÙeAdd»ss
());

683 
	`EXPECT_EQ_WAIT
(
AsyncSock‘
::
CS_CONNECTED
, 
ş›Á
->
	`G‘S‹
(), 
kTimeout
);

684 
	`EXPECT_TRUE
(
sšk
.
	`Check
(
ş›Á
.
	`g‘
(), 
SSE_OPEN
));

685 
	`EXPECT_FALSE
(
sšk
.
	`Check
(
ş›Á
.
	`g‘
(), 
SSE_CLOSE
));

686 
	`EXPECT_EQ
(
ş›Á
->
	`G‘RemÙeAdd»ss
(), 
£rv”
->
	`G‘LoÿlAdd»ss
());

687 
	`EXPECT_EQ
(
ş›Á
->
	`G‘RemÙeAdd»ss
(), 
acû±ed
->
	`G‘LoÿlAdd»ss
());

690 
	`EXPECT_FALSE
(
sšk
.
	`Check
(
acû±ed
.
	`g‘
(), 
SSE_READ
));

691 
buf
[1024] = {0};

693 
	`EXPECT_EQ
(1024, 
ş›Á
->
	`S’d
(
buf
, 1024));

694 
	`EXPECT_FALSE
(
sšk
.
	`Check
(
acû±ed
.
	`g‘
(), 
SSE_READ
));

697 
¡d
::
unique_±r
<
Th»ad
> 
	`th»ad
(Th»ad::
	`C»©eW™hSock‘S”v”
());

698 
th»ad
->
	`S¹
();

699 
SË•”
 
¦“³r
;

700 
Ty³dMes§geD©a
<
AsyncSock‘
*> 
	`d©a
(
ş›Á
.
	`g‘
());

701 
th»ad
->
	`S’d
(
RTC_FROM_HERE
, &
¦“³r
, 0, &
d©a
);

702 
	`EXPECT_FALSE
(
sšk
.
	`Check
(
acû±ed
.
	`g‘
(), 
SSE_READ
));

705 
	`EXPECT_TRUE_WAIT
((
sšk
.
	`Check
(
acû±ed
.
	`g‘
(), 
SSE_READ
)), 
kTimeout
);

706 
	`EXPECT_LT
(0, 
acû±ed
->
	`Recv
(
buf
, 1024, 
nuÎ±r
));

707 
	}
}

709 
	gSock‘Te¡
::
	$TıIÁ”Çl
(cÚ¡ 
IPAdd»ss
& 
loİback
,

710 
size_t
 
d©a_size
,

711 
±rdiff_t
 
max_£nd_size
) {

712 
SŒ—mSšk
 
sšk
;

713 
Sock‘Add»ss
 
acû±_addr
;

716 
¡d
::
unique_±r
<
AsyncSock‘
> 
	`»ûiv”
(

717 
ss_
->
	`C»©eAsyncSock‘
(
loİback
.
	`çmy
(), 
SOCK_STREAM
));

718 
sšk
.
	`MÚ™Ü
(
»ûiv”
.
	`g‘
());

721 
¡d
::
unique_±r
<
AsyncSock‘
> 
	`£rv”
(

722 
ss_
->
	`C»©eAsyncSock‘
(
loİback
.
	`çmy
(), 
SOCK_STREAM
));

723 
sšk
.
	`MÚ™Ü
(
£rv”
.
	`g‘
());

724 
	`EXPECT_EQ
(0, 
£rv”
->
	`Bšd
(
	`Sock‘Add»ss
(
loİback
, 0)));

725 
	`EXPECT_EQ
(0, 
£rv”
->
	`Li¡’
(5));

728 
	`EXPECT_EQ
(0, 
»ûiv”
->
	`CÚÃù
(
£rv”
->
	`G‘LoÿlAdd»ss
()));

731 
	`EXPECT_TRUE_WAIT
((
sšk
.
	`Check
(
£rv”
.
	`g‘
(), 
SSE_READ
)), 
kTimeout
);

732 
¡d
::
unique_±r
<
AsyncSock‘
> 
	`£nd”
(
£rv”
->
	`Acû±
(&
acû±_addr
));

733 
	`ASSERT_TRUE
(
£nd”
);

734 
sšk
.
	`MÚ™Ü
(
£nd”
.
	`g‘
());

737 
	`EXPECT_EQ_WAIT
(
AsyncSock‘
::
CS_CONNECTED
, 
»ûiv”
->
	`G‘S‹
(), 
kTimeout
);

738 
	`EXPECT_TRUE
(
sšk
.
	`Check
(
»ûiv”
.
	`g‘
(), 
SSE_OPEN
));

739 
	`EXPECT_EQ
(
»ûiv”
->
	`G‘RemÙeAdd»ss
(), 
£nd”
->
	`G‘LoÿlAdd»ss
());

740 
	`EXPECT_EQ
(
£nd”
->
	`G‘RemÙeAdd»ss
(), 
»ûiv”
->
	`G‘LoÿlAdd»ss
());

743 
¹c
::
Bufãr
 
	`£nd_bufãr
(0, 
d©a_size
);

744 
¹c
::
Bufãr
 
	`»cv_bufãr
(0, 
d©a_size
);

745 
size_t
 
i
 = 0; i < 
d©a_size
; ++i) {

746 
ch
 = 
¡©ic_ÿ¡
<>(
i
 % 256);

747 
£nd_bufãr
.
	`Aµ’dD©a
(&
ch
, (ch));

749 
¹c
::
Bufãr
 
	`»cved_d©a
(0, 
d©a_size
);

752 
size_t
 
£Á_size
 = 0;

753 
boŞ
 
wr™abË
 = 
Œue
;

754 
boŞ
 
£nd_ÿÎed
 = 
çl£
;

755 
boŞ
 
»adabË
 = 
çl£
;

756 
boŞ
 
»cv_ÿÎed
 = 
çl£
;

757 
»cv_bufãr
.
	`size
(è< 
£nd_bufãr
.size()) {

759 
wr™abË
 && 
£Á_size
 < 
£nd_bufãr
.
	`size
()) {

760 
un£Á_size
 = 
¡©ic_ÿ¡
<>(
£nd_bufãr
.
	`size
(è- 
£Á_size
);

761 
£Á
 = 
£nd”
->
	`S’d
(
£nd_bufãr
.
	`d©a
(è+ 
£Á_size
, 
un£Á_size
);

762 ià(!
£nd_ÿÎed
) {

765 
	`EXPECT_GT
(
£Á
, 0);

766 
£nd_ÿÎed
 = 
Œue
;

768 ià(
£Á
 >= 0) {

769 
	`EXPECT_LE
(
£Á
, 
un£Á_size
);

770 
£Á_size
 +ğ
£Á
;

771 ià(
max_£nd_size
 >= 0) {

772 
	`EXPECT_LE
(
¡©ic_ÿ¡
<
±rdiff_t
>(
£Á
), 
max_£nd_size
);

773 ià(
£Á
 < 
un£Á_size
) {

777 
wr™abË
 = 
çl£
;

781 
	`ASSERT_TRUE
(
£nd”
->
	`IsBlockšg
());

782 
wr™abË
 = 
çl£
;

787 
»cv_bufãr
.
	`size
(è< 
£Á_size
) {

788 ià(!
»adabË
) {

790 
	`EXPECT_TRUE_WAIT
(
sšk
.
	`Check
(
»ûiv”
.
	`g‘
(), 
SSE_READ
), 
kTimeout
);

791 
»adabË
 = 
Œue
;

792 
»cv_ÿÎed
 = 
çl£
;

796 
»cved_size
 = 
»ûiv”
->
	`Recv
(
»cved_d©a
.
	`d©a
(), 
d©a_size
, 
nuÎ±r
);

798 ià(!
»cv_ÿÎed
) {

804 
»cv_ÿÎed
 = 
Œue
;

806 ià(
»cved_size
 >= 0) {

807 
	`EXPECT_LE
(
¡©ic_ÿ¡
<
size_t
>(
»cved_size
),

808 
£Á_size
 - 
»cv_bufãr
.
	`size
());

809 
»cv_bufãr
.
	`Aµ’dD©a
(
»cved_d©a
.
	`d©a
(), 
»cved_size
);

811 
	`ASSERT_TRUE
(
»ûiv”
->
	`IsBlockšg
());

812 
»adabË
 = 
çl£
;

818 ià(!
wr™abË
) {

819 
	`ASSERT_TRUE_WAIT
(
sšk
.
	`Check
(
£nd”
.
	`g‘
(), 
SSE_WRITE
), 
kTimeout
);

820 
wr™abË
 = 
Œue
;

821 
£nd_ÿÎed
 = 
çl£
;

826 
	`EXPECT_EQ
(
d©a_size
, 
£Á_size
);

827 
	`EXPECT_EQ
(
d©a_size
, 
»cv_bufãr
.
	`size
());

828 
	`EXPECT_EQ
(
»cv_bufãr
, 
£nd_bufãr
);

831 
£nd”
->
	`Clo£
();

832 
	`EXPECT_EQ_WAIT
(
AsyncSock‘
::
CS_CLOSED
, 
»ûiv”
->
	`G‘S‹
(), 
kTimeout
);

833 
	`EXPECT_TRUE
(
sšk
.
	`Check
(
»ûiv”
.
	`g‘
(), 
SSE_CLOSE
));

834 
»ûiv”
->
	`Clo£
();

835 
	}
}

837 
	gSock‘Te¡
::
	$SšgËFlowCÚŒŞC®lbackIÁ”Çl
(cÚ¡ 
IPAdd»ss
& 
loİback
) {

838 
SŒ—mSšk
 
sšk
;

839 
Sock‘Add»ss
 
acû±_addr
;

842 
¡d
::
unique_±r
<
AsyncSock‘
> 
	`ş›Á
(

843 
ss_
->
	`C»©eAsyncSock‘
(
loİback
.
	`çmy
(), 
SOCK_STREAM
));

844 
sšk
.
	`MÚ™Ü
(
ş›Á
.
	`g‘
());

847 
¡d
::
unique_±r
<
AsyncSock‘
> 
	`£rv”
(

848 
ss_
->
	`C»©eAsyncSock‘
(
loİback
.
	`çmy
(), 
SOCK_STREAM
));

849 
sšk
.
	`MÚ™Ü
(
£rv”
.
	`g‘
());

850 
	`EXPECT_EQ
(0, 
£rv”
->
	`Bšd
(
	`Sock‘Add»ss
(
loİback
, 0)));

851 
	`EXPECT_EQ
(0, 
£rv”
->
	`Li¡’
(5));

854 
	`EXPECT_EQ
(0, 
ş›Á
->
	`CÚÃù
(
£rv”
->
	`G‘LoÿlAdd»ss
()));

857 
	`EXPECT_TRUE_WAIT
((
sšk
.
	`Check
(
£rv”
.
	`g‘
(), 
SSE_READ
)), 
kTimeout
);

858 
¡d
::
unique_±r
<
AsyncSock‘
> 
	`acû±ed
(
£rv”
->
	`Acû±
(&
acû±_addr
));

859 
	`ASSERT_TRUE
(
acû±ed
);

860 
sšk
.
	`MÚ™Ü
(
acû±ed
.
	`g‘
());

863 
	`EXPECT_EQ_WAIT
(
AsyncSock‘
::
CS_CONNECTED
, 
ş›Á
->
	`G‘S‹
(), 
kTimeout
);

864 
	`EXPECT_TRUE
(
sšk
.
	`Check
(
ş›Á
.
	`g‘
(), 
SSE_OPEN
));

865 
	`EXPECT_EQ
(
ş›Á
->
	`G‘RemÙeAdd»ss
(), 
acû±ed
->
	`G‘LoÿlAdd»ss
());

866 
	`EXPECT_EQ
(
acû±ed
->
	`G‘RemÙeAdd»ss
(), 
ş›Á
->
	`G‘LoÿlAdd»ss
());

869 
	`EXPECT_TRUE_WAIT
(
sšk
.
	`Check
(
acû±ed
.
	`g‘
(), 
SSE_WRITE
), 
kTimeout
);

872 
buf
[1024 * 16] = {0};

873 
£nds
 = 0;

874 ++
£nds
 && 
acû±ed
->
	`S’d
(&
buf
, 
	`¬¿ysize
(buf)) != -1) {

876 
	`EXPECT_TRUE
(
acû±ed
->
	`IsBlockšg
());

879 
	`EXPECT_TRUE_WAIT
(
sšk
.
	`Check
(
ş›Á
.
	`g‘
(), 
SSE_READ
), 
kTimeout
);

882 
i
 = 0; i < 
£nds
; ++i) {

883 
ş›Á
->
	`Recv
(
buf
, 
	`¬¿ysize
(buf), 
nuÎ±r
);

887 
	`EXPECT_TRUE_WAIT
(
sšk
.
	`Check
(
acû±ed
.
	`g‘
(), 
SSE_WRITE
), 
kTimeout
);

891 
exŒas
 = 0;

892 
i
 = 0; i < 100; ++i) {

893 
acû±ed
->
	`S’d
(&
buf
, 
	`¬¿ysize
(buf));

894 
¹c
::
Th»ad
::
	`Cu¼’t
()->
	`ProûssMes§ges
(1);

895 ià(
sšk
.
	`Check
(
acû±ed
.
	`g‘
(), 
SSE_WRITE
)) {

896 
exŒas
++;

899 
	`EXPECT_LT
(
exŒas
, 2);

902 
acû±ed
->
	`Clo£
();

903 
ş›Á
->
	`Clo£
();

904 
	}
}

906 
	gSock‘Te¡
::
	$UdpIÁ”Çl
(cÚ¡ 
IPAdd»ss
& 
loİback
) {

907 
Sock‘Add»ss
 
em±y
 = 
	`Em±ySock‘Add»ssW™hFamy
(
loİback
.
	`çmy
());

909 
AsyncSock‘
* 
sock‘
 = 
ss_
->
	`C»©eAsyncSock‘
(
loİback
.
	`çmy
(), 
SOCK_DGRAM
);

910 
	`EXPECT_EQ
(
AsyncSock‘
::
CS_CLOSED
, 
sock‘
->
	`G‘S‹
());

911 
	`EXPECT_EQ
(0, 
sock‘
->
	`Bšd
(
	`Sock‘Add»ss
(
loİback
, 0)));

912 
Sock‘Add»ss
 
addr1
 = 
sock‘
->
	`G‘LoÿlAdd»ss
();

913 
	`EXPECT_EQ
(0, 
sock‘
->
	`CÚÃù
(
addr1
));

914 
	`EXPECT_EQ
(
AsyncSock‘
::
CS_CONNECTED
, 
sock‘
->
	`G‘S‹
());

915 
sock‘
->
	`Clo£
();

916 
	`EXPECT_EQ
(
AsyncSock‘
::
CS_CLOSED
, 
sock‘
->
	`G‘S‹
());

917 
d–‘e
 
sock‘
;

920 
¡d
::
unique_±r
<
Te¡Cl›Á
> 
	`ş›Á1
(

921 
Ãw
 
	`Te¡Cl›Á
(
ab¦
::
	`W¿pUnique
(
AsyncUDPSock‘
::
	`C»©e
(
ss_
, 
addr1
))));

922 
¡d
::
unique_±r
<
Te¡Cl›Á
> 
	`ş›Á2
(

923 
Ãw
 
	`Te¡Cl›Á
(
ab¦
::
	`W¿pUnique
(
AsyncUDPSock‘
::
	`C»©e
(
ss_
, 
em±y
))));

925 
Sock‘Add»ss
 
addr2
;

926 
	`EXPECT_EQ
(3, 
ş›Á2
->
	`S’dTo
("foo", 3, 
addr1
));

927 
	`EXPECT_TRUE
(
ş›Á1
->
	`CheckNextPack‘
("foo", 3, &
addr2
));

929 
Sock‘Add»ss
 
addr3
;

930 
	`EXPECT_EQ
(6, 
ş›Á1
->
	`S’dTo
("bizbaz", 6, 
addr2
));

931 
	`EXPECT_TRUE
(
ş›Á2
->
	`CheckNextPack‘
("bizbaz", 6, &
addr3
));

932 
	`EXPECT_EQ
(
addr3
, 
addr1
);

934 
i
 = 0; i < 10; ++i) {

935 
ş›Á2
.
	`»£t
(

936 
Ãw
 
	`Te¡Cl›Á
(
ab¦
::
	`W¿pUnique
(
AsyncUDPSock‘
::
	`C»©e
(
ss_
, 
em±y
))));

938 
Sock‘Add»ss
 
addr4
;

939 
	`EXPECT_EQ
(3, 
ş›Á2
->
	`S’dTo
("foo", 3, 
addr1
));

940 
	`EXPECT_TRUE
(
ş›Á1
->
	`CheckNextPack‘
("foo", 3, &
addr4
));

941 
	`EXPECT_EQ
(
addr4
.
	`addr
(), 
addr2
.ipaddr());

943 
Sock‘Add»ss
 
addr5
;

944 
	`EXPECT_EQ
(6, 
ş›Á1
->
	`S’dTo
("bizbaz", 6, 
addr4
));

945 
	`EXPECT_TRUE
(
ş›Á2
->
	`CheckNextPack‘
("bizbaz", 6, &
addr5
));

946 
	`EXPECT_EQ
(
addr5
, 
addr1
);

948 
addr2
 = 
addr4
;

950 
	}
}

952 
	gSock‘Te¡
::
	$UdpR—dyToS’d
(cÚ¡ 
IPAdd»ss
& 
loİback
) {

953 
Sock‘Add»ss
 
em±y
 = 
	`Em±ySock‘Add»ssW™hFamy
(
loİback
.
	`çmy
());

957 
¡d
::
¡ršg
 
de¡
 =

958 (
loİback
.
	`çmy
(è=ğ
AF_INET6
) ? "2001:db8::1" : "192.0.2.0";

959 
Sock‘Add»ss
 
	`‹¡_addr
(
de¡
, 2345);

962 
¡d
::
unique_±r
<
Te¡Cl›Á
> 
	`ş›Á
(

963 
Ãw
 
	`Te¡Cl›Á
(
ab¦
::
	`W¿pUnique
(
AsyncUDPSock‘
::
	`C»©e
(
ss_
, 
em±y
))));

964 
‹¡_·ck‘_size
 = 1200;

965 
¡d
::
unique_±r
<[]> 
	`‹¡_·ck‘
(
Ãw
 [
‹¡_·ck‘_size
]);

967 
	`mem£t
(
‹¡_·ck‘
.
	`g‘
(), 0, 
‹¡_·ck‘_size
);

970 
£nd_bufãr_size
 = 
‹¡_·ck‘_size
;

971 #ià
	`defšed
(
WEBRTC_LINUX
è&& !defšed(
WEBRTC_ANDROID
)

972 
£nd_bufãr_size
 /= 2;

974 
ş›Á
->
	`S‘O±iÚ
(
¹c
::
Sock‘
::
OPT_SNDBUF
, 
£nd_bufãr_size
);

976 
”rÜ
 = 0;

977 
ušt32_t
 
¡¬t_ms
 = 
	`Time
();

978 
£Á_·ck‘_num
 = 0;

979 
ex³ùed_”rÜ
 = 
EWOULDBLOCK
;

980 
¡¬t_ms
 + 
kTimeout
 > 
	`Time
()) {

981 
»t
 = 
ş›Á
->
	`S’dTo
(
‹¡_·ck‘
.
	`g‘
(), 
‹¡_·ck‘_size
, 
‹¡_addr
);

982 ++
£Á_·ck‘_num
;

983 ià(
»t
 !ğ
‹¡_·ck‘_size
) {

984 
”rÜ
 = 
ş›Á
->
	`G‘E¼Ü
();

985 ià(
”rÜ
 =ğ
ex³ùed_”rÜ
) {

986 
	`RTC_LOG
(
LS_INFO
) << "Gotƒxpectedƒrror code‡fter sending "

987 << 
£Á_·ck‘_num
 << "…ackets.";

992 
	`EXPECT_EQ
(
ex³ùed_”rÜ
, 
”rÜ
);

993 
	`EXPECT_FALSE
(
ş›Á
->
	`»ady_to_£nd
());

994 
	`EXPECT_TRUE_WAIT
(
ş›Á
->
	`»ady_to_£nd
(), 
kTimeout
);

995 
	`RTC_LOG
(
LS_INFO
) << "Got SignalReadyToSend";

996 
	}
}

998 
	gSock‘Te¡
::
	$G‘S‘O±iÚsIÁ”Çl
(cÚ¡ 
IPAdd»ss
& 
loİback
) {

999 
¡d
::
unique_±r
<
AsyncSock‘
> 
	`sock‘
(

1000 
ss_
->
	`C»©eAsyncSock‘
(
loİback
.
	`çmy
(), 
SOCK_DGRAM
));

1001 
sock‘
->
	`Bšd
(
	`Sock‘Add»ss
(
loİback
, 0));

1004 cÚ¡ 
desœed_size
 = 12345;

1005 #ià
	`defšed
(
WEBRTC_LINUX
)

1007 cÚ¡ 
ex³ùed_size
 = 
desœed_size
 * 2;

1009 cÚ¡ 
ex³ùed_size
 = 
desœed_size
;

1011 
»cv_size
 = 0;

1012 
£nd_size
 = 0;

1014 
	`ASSERT_NE
(-1, 
sock‘
->
	`G‘O±iÚ
(
Sock‘
::
OPT_RCVBUF
, &
»cv_size
));

1015 
	`ASSERT_NE
(-1, 
sock‘
->
	`G‘O±iÚ
(
Sock‘
::
OPT_SNDBUF
, &
£nd_size
));

1017 
	`ASSERT_NE
(-1, 
sock‘
->
	`S‘O±iÚ
(
Sock‘
::
OPT_RCVBUF
, 
desœed_size
));

1018 
	`ASSERT_NE
(-1, 
sock‘
->
	`S‘O±iÚ
(
Sock‘
::
OPT_SNDBUF
, 
desœed_size
));

1020 
	`ASSERT_NE
(-1, 
sock‘
->
	`G‘O±iÚ
(
Sock‘
::
OPT_RCVBUF
, &
»cv_size
));

1021 
	`ASSERT_NE
(-1, 
sock‘
->
	`G‘O±iÚ
(
Sock‘
::
OPT_SNDBUF
, &
£nd_size
));

1023 
	`ASSERT_EQ
(
ex³ùed_size
, 
»cv_size
);

1024 
	`ASSERT_EQ
(
ex³ùed_size
, 
£nd_size
);

1027 
cu¼’t_nd
, 
desœed_nd
 = 1;

1028 
	`ASSERT_EQ
(-1, 
sock‘
->
	`G‘O±iÚ
(
Sock‘
::
OPT_NODELAY
, &
cu¼’t_nd
));

1029 
	`ASSERT_EQ
(-1, 
sock‘
->
	`S‘O±iÚ
(
Sock‘
::
OPT_NODELAY
, 
desœed_nd
));

1031 #ià
	`defšed
(
WEBRTC_POSIX
)

1033 
cu¼’t_dsı
, 
desœed_dsı
 = 1;

1034 
	`ASSERT_NE
(-1, 
sock‘
->
	`G‘O±iÚ
(
Sock‘
::
OPT_DSCP
, &
cu¼’t_dsı
));

1035 
	`ASSERT_NE
(-1, 
sock‘
->
	`S‘O±iÚ
(
Sock‘
::
OPT_DSCP
, 
desœed_dsı
));

1036 
	`ASSERT_NE
(-1, 
sock‘
->
	`G‘O±iÚ
(
Sock‘
::
OPT_DSCP
, &
cu¼’t_dsı
));

1037 
	`ASSERT_EQ
(
desœed_dsı
, 
cu¼’t_dsı
);

1039 
	}
}

1041 
	gSock‘Te¡
::
	$Sock‘RecvTime¡amp
(cÚ¡ 
IPAdd»ss
& 
loİback
) {

1042 
¡d
::
unique_±r
<
Sock‘
> 
	`sock‘
(

1043 
ss_
->
	`C»©eSock‘
(
loİback
.
	`çmy
(), 
SOCK_DGRAM
));

1044 
	`EXPECT_EQ
(0, 
sock‘
->
	`Bšd
(
	`Sock‘Add»ss
(
loİback
, 0)));

1045 
Sock‘Add»ss
 
add»ss
 = 
sock‘
->
	`G‘LoÿlAdd»ss
();

1047 
št64_t
 
£nd_time_1
 = 
	`TimeMiüos
();

1048 
sock‘
->
	`S’dTo
("foo", 3, 
add»ss
);

1049 
št64_t
 
»cv_time¡amp_1
;

1050 
bufãr
[3];

1051 
sock‘
->
	`RecvFrom
(
bufãr
, 3, 
nuÎ±r
, &
»cv_time¡amp_1
);

1052 
	`EXPECT_GT
(
»cv_time¡amp_1
, -1);

1054 cÚ¡ 
št64_t
 
kTimeB‘w“nPack‘sMs
 = 100;

1055 
Th»ad
::
	`SË•Ms
(
kTimeB‘w“nPack‘sMs
);

1057 
št64_t
 
£nd_time_2
 = 
	`TimeMiüos
();

1058 
sock‘
->
	`S’dTo
("b¬", 3, 
add»ss
);

1059 
št64_t
 
»cv_time¡amp_2
;

1060 
sock‘
->
	`RecvFrom
(
bufãr
, 3, 
nuÎ±r
, &
»cv_time¡amp_2
);

1062 
št64_t
 
sy¡em_time_diff
 = 
£nd_time_2
 - 
£nd_time_1
;

1063 
št64_t
 
»cv_time¡amp_diff
 = 
»cv_time¡amp_2
 - 
»cv_time¡amp_1
;

1066 
	`EXPECT_NEAR
(
sy¡em_time_diff
, 
»cv_time¡amp_diff
, 10000);

1067 
	}
}

	@socket_unittest.h

11 #iâdeà
RTC_BASE_SOCKET_UNITTEST_H_


12 
	#RTC_BASE_SOCKET_UNITTEST_H_


	)

14 
	~"¹c_ba£/gun™.h
"

15 
	~"¹c_ba£/th»ad.h
"

17 
Çme¥aû
 
	g¹c
 {

22 şas 
	cSock‘Te¡
 : 
public
 ::
‹¡šg
::
Te¡
 {

23 
´Ùeùed
:

24 
Sock‘Te¡
()

25 : 
kIPv4Loİback
(
INADDR_LOOPBACK
),

26 
kIPv6Loİback
(
š6addr_loİback
),

27 
ss_
(
nuÎ±r
) {}

28 
S‘Up
(è
	gov”ride
;

29 
Te¡CÚÃùIPv4
();

30 
Te¡CÚÃùIPv6
();

31 
Te¡CÚÃùW™hDnsLookupIPv4
();

32 
Te¡CÚÃùW™hDnsLookupIPv6
();

33 
Te¡CÚÃùFaIPv4
();

34 
Te¡CÚÃùFaIPv6
();

35 
Te¡CÚÃùW™hDnsLookupFaIPv4
();

36 
Te¡CÚÃùW™hDnsLookupFaIPv6
();

37 
Te¡CÚÃùW™hClo£dSock‘IPv4
();

38 
Te¡CÚÃùW™hClo£dSock‘IPv6
();

39 
Te¡CÚÃùWheNÙClo£dIPv4
();

40 
Te¡CÚÃùWheNÙClo£dIPv6
();

41 
Te¡S”v”Clo£DuršgCÚÃùIPv4
();

42 
Te¡S”v”Clo£DuršgCÚÃùIPv6
();

43 
Te¡Cl›ÁClo£DuršgCÚÃùIPv4
();

44 
Te¡Cl›ÁClo£DuršgCÚÃùIPv6
();

45 
Te¡S”v”Clo£IPv4
();

46 
Te¡S”v”Clo£IPv6
();

47 
Te¡Clo£InClo£dC®lbackIPv4
();

48 
Te¡Clo£InClo£dC®lbackIPv6
();

49 
Te¡Sock‘S”v”Wa™IPv4
();

50 
Te¡Sock‘S”v”Wa™IPv6
();

51 
Te¡TıIPv4
();

52 
Te¡TıIPv6
();

53 
Te¡SšgËFlowCÚŒŞC®lbackIPv4
();

54 
Te¡SšgËFlowCÚŒŞC®lbackIPv6
();

55 
Te¡UdpIPv4
();

56 
Te¡UdpIPv6
();

57 
Te¡UdpR—dyToS’dIPv4
();

58 
Te¡UdpR—dyToS’dIPv6
();

59 
Te¡G‘S‘O±iÚsIPv4
();

60 
Te¡G‘S‘O±iÚsIPv6
();

61 
Te¡Sock‘RecvTime¡ampIPv4
();

62 
Te¡Sock‘RecvTime¡ampIPv6
();

64 cÚ¡ 
	gkTimeout
 = 5000;

65 cÚ¡ 
IPAdd»ss
 
	gkIPv4Loİback
;

66 cÚ¡ 
IPAdd»ss
 
	gkIPv6Loİback
;

68 
	g´Ùeùed
:

69 
TıIÁ”Çl
(cÚ¡ 
IPAdd»ss
& 
loİback
,

70 
size_t
 
d©a_size
,

71 
±rdiff_t
 
max_£nd_size
);

73 
	g´iv©e
:

74 
CÚÃùIÁ”Çl
(cÚ¡ 
IPAdd»ss
& 
loİback
);

75 
CÚÃùW™hDnsLookupIÁ”Çl
(cÚ¡ 
IPAdd»ss
& 
loİback
,

76 cÚ¡ 
¡d
::
¡ršg
& 
ho¡
);

77 
CÚÃùFaIÁ”Çl
(cÚ¡ 
IPAdd»ss
& 
loİback
);

79 
CÚÃùW™hDnsLookupFaIÁ”Çl
(cÚ¡ 
IPAdd»ss
& 
loİback
);

80 
CÚÃùW™hClo£dSock‘IÁ”Çl
(cÚ¡ 
IPAdd»ss
& 
loİback
);

81 
CÚÃùWheNÙClo£dIÁ”Çl
(cÚ¡ 
IPAdd»ss
& 
loİback
);

82 
S”v”Clo£DuršgCÚÃùIÁ”Çl
(cÚ¡ 
IPAdd»ss
& 
loİback
);

83 
Cl›ÁClo£DuršgCÚÃùIÁ”Çl
(cÚ¡ 
IPAdd»ss
& 
loİback
);

84 
S”v”Clo£IÁ”Çl
(cÚ¡ 
IPAdd»ss
& 
loİback
);

85 
Clo£InClo£dC®lbackIÁ”Çl
(cÚ¡ 
IPAdd»ss
& 
loİback
);

86 
Sock‘S”v”Wa™IÁ”Çl
(cÚ¡ 
IPAdd»ss
& 
loİback
);

87 
SšgËFlowCÚŒŞC®lbackIÁ”Çl
(cÚ¡ 
IPAdd»ss
& 
loİback
);

88 
UdpIÁ”Çl
(cÚ¡ 
IPAdd»ss
& 
loİback
);

89 
UdpR—dyToS’d
(cÚ¡ 
IPAdd»ss
& 
loİback
);

90 
G‘S‘O±iÚsIÁ”Çl
(cÚ¡ 
IPAdd»ss
& 
loİback
);

91 
Sock‘RecvTime¡amp
(cÚ¡ 
IPAdd»ss
& 
loİback
);

93 
Sock‘S”v”
* 
	gss_
;

98 
boŞ
 
IsUn¥ecOrEm±yIP
(cÚ¡ 
IPAdd»ss
& 
add»ss
);

	@ssl_adapter.cc

11 
	~"¹c_ba£/s¦_ad­‹r.h
"

13 
	~"¹c_ba£/İ’s¦_ad­‹r.h
"

17 
Çme¥aû
 
	g¹c
 {

19 
SSLAd­‹rFaùÜy
* 
	gSSLAd­‹rFaùÜy
::
C»©e
() {

20  
Ãw
 
O³nSSLAd­‹rFaùÜy
();

23 
SSLAd­‹r
* 
	gSSLAd­‹r
::
C»©e
(
AsyncSock‘
* 
sock‘
) {

24  
Ãw
 
O³nSSLAd­‹r
(
sock‘
);

29 
boŞ
 
In™ŸlizeSSL
() {

30  
	gO³nSSLAd­‹r
::
In™ŸlizeSSL
();

33 
boŞ
 
CËªupSSL
() {

34  
	gO³nSSLAd­‹r
::
CËªupSSL
();

	@ssl_adapter.h

11 #iâdeà
RTC_BASE_SSL_ADAPTER_H_


12 
	#RTC_BASE_SSL_ADAPTER_H_


	)

14 
	~<¡ršg
>

15 
	~<veùÜ
>

17 
	~"¹c_ba£/async_sock‘.h
"

18 
	~"¹c_ba£/s¦_û¹ifiÿ‹.h
"

19 
	~"¹c_ba£/s¦_id’t™y.h
"

20 
	~"¹c_ba£/s¦_¡»am_ad­‹r.h
"

21 
	~"¹c_ba£/sy¡em/¹c_expÜt.h
"

23 
Çme¥aû
 
	g¹c
 {

25 
şass
 
	gSSLAd­‹r
;

32 şas 
	cSSLAd­‹rFaùÜy
 {

33 
	gpublic
:

34 
vœtu®
 ~
SSLAd­‹rFaùÜy
() {}

37 
vœtu®
 
S‘Mode
(
SSLMode
 
mode
) = 0;

40 
vœtu®
 
S‘C”tV”if›r
(
SSLC”tifiÿ‹V”if›r
* 
s¦_û¹_v”if›r
) = 0;

43 
vœtu®
 
SSLAd­‹r
* 
C»©eAd­‹r
(
AsyncSock‘
* 
sock‘
) = 0;

45 
SSLAd­‹rFaùÜy
* 
C»©e
();

53 şas 
	cSSLAd­‹r
 : 
public
 
AsyncSock‘Ad­‹r
 {

54 
public
:

55 
ex¶ic™
 
SSLAd­‹r
(
AsyncSock‘
* 
sock‘
è: 
AsyncSock‘Ad­‹r
(socket) {}

61 
vœtu®
 
S‘IgnÜeBadC”t
(
boŞ
 
ignÜe
) = 0;

63 
vœtu®
 
S‘AÍnPrÙocŞs
(cÚ¡ 
¡d
::
veùÜ
<¡d::
¡ršg
>& 
´Ùos
) = 0;

64 
vœtu®
 
S‘EÎticCurves
(cÚ¡ 
¡d
::
veùÜ
<¡d::
¡ršg
>& 
curves
) = 0;

67 
vœtu®
 
S‘Mode
(
SSLMode
 
mode
) = 0;

69 
vœtu®
 
S‘C”tV”if›r
(
SSLC”tifiÿ‹V”if›r
* 
s¦_û¹_v”if›r
) = 0;

73 
vœtu®
 
S‘Id’t™y
(
¡d
::
unique_±r
<
SSLId’t™y
> 
id’t™y
) = 0;

76 
vœtu®
 
S‘RŞe
(
SSLRŞe
 
rŞe
) = 0;

81 
vœtu®
 
S¹SSL
(cÚ¡ * 
ho¡Çme
) = 0;

88 
vœtu®
 
boŞ
 
IsResumedSessiÚ
() = 0;

93 
SSLAd­‹r
* 
C»©e
(
AsyncSock‘
* 
sock‘
);

100 
RTC_EXPORT
 
boŞ
 
In™ŸlizeSSL
();

103 
RTC_EXPORT
 
boŞ
 
CËªupSSL
();

	@ssl_adapter_unittest.cc

11 
	~<memÜy
>

12 
	~<¡ršg
>

13 
	~<ut™y
>

15 
	~"ab¦/memÜy/memÜy.h
"

16 
	~"¹c_ba£/gun™.h
"

17 
	~"¹c_ba£/_add»ss.h
"

18 
	~"¹c_ba£/mes§ge_dige¡.h
"

19 
	~"¹c_ba£/sock‘_¡»am.h
"

20 
	~"¹c_ba£/s¦_ad­‹r.h
"

21 
	~"¹c_ba£/s¦_id’t™y.h
"

22 
	~"¹c_ba£/s¦_¡»am_ad­‹r.h
"

23 
	~"¹c_ba£/¡»am.h
"

24 
	~"¹c_ba£/¡ršg_’code.h
"

25 
	~"¹c_ba£/vœtu®_sock‘_£rv”.h
"

26 
	~"‹¡/gmock.h
"

28 
	gusšg
 ::
‹¡šg
::
_
;

29 
	gusšg
 ::
‹¡šg
::
R‘uº
;

31 cÚ¡ 
	gkTimeout
 = 5000;

33 
	g¹c
::
AsyncSock‘
* 
	$C»©eSock‘
(cÚ¡ 
¹c
::
SSLMode
& 
s¦_mode
) {

34 
¹c
::
Sock‘Add»ss
 
	`add»ss
Ôtc::
	`IPAdd»ss
(
INADDR_ANY
), 0);

36 
¹c
::
AsyncSock‘
* 
sock‘
 =

37 
¹c
::
Th»ad
::
	`Cu¼’t
()->
	`sock‘£rv”
()->
	`C»©eAsyncSock‘
(

38 
add»ss
.
	`çmy
(),

39 (
s¦_mode
 =ğ
¹c
::
SSL_MODE_DTLS
è? 
SOCK_DGRAM
 : 
SOCK_STREAM
);

40 
sock‘
->
	`Bšd
(
add»ss
);

42  
sock‘
;

43 
	}
}

45 
	g¡d
::
¡ršg
 
	$G‘SSLPrÙocŞName
(cÚ¡ 
¹c
::
SSLMode
& 
s¦_mode
) {

46  (
s¦_mode
 =ğ
¹c
::
SSL_MODE_DTLS
) ? "DTLS" : "TLS";

47 
	}
}

50 şas 
	cMockC”tV”if›r
 : 
public
 
¹c
::
SSLC”tifiÿ‹V”if›r
 {

51 
public
:

52 
vœtu®
 ~
MockC”tV”if›r
() = ;

53 
MOCK_METHOD1
(
V”ify
, 
boŞ
(cÚ¡ 
¹c
::
SSLC”tifiÿ‹
&));

58 
şass
 
	gSSLAd­‹rTe¡DummyCl›Á
 : 
public
 
sig¦Ù
::
has_¦Ùs
<> {

59 
public
:

60 
ex¶ic™
 
SSLAd­‹rTe¡DummyCl›Á
(cÚ¡ 
¹c
::
SSLMode
& 
s¦_mode
)

61 : 
s¦_mode_
(
s¦_mode
) {

62 
¹c
::
AsyncSock‘
* 
sock‘
 = 
C»©eSock‘
(
s¦_mode_
);

64 
	gs¦_ad­‹r_
.
»£t
(
¹c
::
SSLAd­‹r
::
C»©e
(
sock‘
));

66 
	gs¦_ad­‹r_
->
S‘Mode
(
s¦_mode_
);

71 
	gs¦_ad­‹r_
->
S‘IgnÜeBadC”t
(
Œue
);

73 
	gs¦_ad­‹r_
->
	gSigÇlR—dEv’t
.
cÚÃù
(

74 
this
, &
SSLAd­‹rTe¡DummyCl›Á
::
OnSSLAd­‹rR—dEv’t
);

75 
	gs¦_ad­‹r_
->
	gSigÇlClo£Ev’t
.
cÚÃù
(

76 
this
, &
SSLAd­‹rTe¡DummyCl›Á
::
OnSSLAd­‹rClo£Ev’t
);

79 
S‘IgnÜeBadC”t
(
boŞ
 
ignÜe_bad_û¹
) {

80 
	gs¦_ad­‹r_
->
S‘IgnÜeBadC”t
(
ignÜe_bad_û¹
);

83 
S‘C”tV”if›r
(
¹c
::
SSLC”tifiÿ‹V”if›r
* 
s¦_û¹_v”if›r
) {

84 
s¦_ad­‹r_
->
S‘C”tV”if›r
(
s¦_û¹_v”if›r
);

87 
S‘AÍnPrÙocŞs
(cÚ¡ 
¡d
::
veùÜ
<¡d::
¡ršg
>& 
´Ùos
) {

88 
s¦_ad­‹r_
->
S‘AÍnPrÙocŞs
(
´Ùos
);

91 
S‘EÎticCurves
(cÚ¡ 
¡d
::
veùÜ
<¡d::
¡ršg
>& 
curves
) {

92 
s¦_ad­‹r_
->
S‘EÎticCurves
(
curves
);

95 
	g¹c
::
Sock‘Add»ss
 
G‘Add»ss
() const {

96  
s¦_ad­‹r_
->
G‘LoÿlAdd»ss
();

99 
	g¹c
::
AsyncSock‘
::
CÚnS‹
 
G‘S‹
() const {

100  
s¦_ad­‹r_
->
G‘S‹
();

103 cÚ¡ 
	g¡d
::
¡ršg
& 
G‘ReûivedD©a
(ècÚ¡ {  
d©a_
; }

105 
CÚÃù
(cÚ¡ 
¡d
::
¡ršg
& 
ho¡Çme
, cÚ¡ 
¹c
::
Sock‘Add»ss
& 
add»ss
) {

106 
RTC_LOG
(
LS_INFO
è<< "In™Ÿtšg cÚÃùiÚ w™h " << 
add»ss
.
ToSŒšg
();

108 
	grv
 = 
s¦_ad­‹r_
->
CÚÃù
(
add»ss
);

110 ià(
	grv
 == 0) {

111 
RTC_LOG
(
LS_INFO
è<< "S¹šg " << 
G‘SSLPrÙocŞName
(
s¦_mode_
)

112 << " hªdshakw™h " << 
ho¡Çme
;

114 ià(
	gs¦_ad­‹r_
->
S¹SSL
(
ho¡Çme
.
c_¡r
()) != 0) {

119  
	grv
;

122 
Clo£
(è{  
	gs¦_ad­‹r_
->Close(); }

124 
S’d
(cÚ¡ 
¡d
::
¡ršg
& 
mes§ge
) {

125 
RTC_LOG
(
LS_INFO
è<< "Cl›Á s’dšg '" << 
mes§ge
 << "'";

127  
	gs¦_ad­‹r_
->
S’d
(
mes§ge
.
d©a
(), mes§ge.
Ëngth
());

130 
OnSSLAd­‹rR—dEv’t
(
¹c
::
AsyncSock‘
* 
sock‘
) {

131 
bufãr
[4096] = "";

134 
	g»ad
 = 
sock‘
->
Recv
(
bufãr
, (bufãrè- 1, 
nuÎ±r
);

135 ià(
	g»ad
 != -1) {

136 
bufãr
[
»ad
] = '\0';

138 
RTC_LOG
(
LS_INFO
è<< "Cl›Á„eûived '" << 
	gbufãr
 << "'";

140 
	gd©a_
 +ğ
bufãr
;

144 
OnSSLAd­‹rClo£Ev’t
(
¹c
::
AsyncSock‘
* 
sock‘
, 
”rÜ
) {

148 ià(
	gsock‘
->
G‘S‹
(è!ğ
¹c
::
AsyncSock‘
::
CS_CLOSED
) {

149 
sock‘
->
Clo£
();

153 
	g´iv©e
:

154 cÚ¡ 
¹c
::
SSLMode
 
s¦_mode_
;

156 
	g¡d
::
unique_±r
<
¹c
::
SSLAd­‹r
> 
s¦_ad­‹r_
;

158 
	g¡d
::
¡ršg
 
d©a_
;

161 
şass
 
	gSSLAd­‹rTe¡DummyS”v”
 : 
public
 
sig¦Ù
::
has_¦Ùs
<> {

162 
public
:

163 
ex¶ic™
 
SSLAd­‹rTe¡DummyS”v”
(cÚ¡ 
¹c
::
SSLMode
& 
s¦_mode
,

164 cÚ¡ 
¹c
::
KeyP¬ams
& 
key_·¿ms
)

165 : 
s¦_mode_
(
s¦_mode
) {

167 
s¦_id’t™y_
 = 
¹c
::
SSLId’t™y
::
C»©e
(
G‘Ho¡Çme
(), 
key_·¿ms
);

169 
	g£rv”_sock‘_
.
»£t
(
C»©eSock‘
(
s¦_mode_
));

171 ià(
	gs¦_mode_
 =ğ
¹c
::
SSL_MODE_TLS
) {

172 
£rv”_sock‘_
->
SigÇlR—dEv’t
.
cÚÃù
(

173 
this
, &
SSLAd­‹rTe¡DummyS”v”
::
OnS”v”Sock‘R—dEv’t
);

175 
	g£rv”_sock‘_
->
Li¡’
(1);

178 
RTC_LOG
(
LS_INFO
è<< ((
	gs¦_mode_
 =ğ
¹c
::
SSL_MODE_DTLS
) ? "UDP" : "TCP")

180 << 
£rv”_sock‘_
->
G‘LoÿlAdd»ss
().
ToSŒšg
();

183 
	g¹c
::
Sock‘Add»ss
 
G‘Add»ss
() const {

184  
£rv”_sock‘_
->
G‘LoÿlAdd»ss
();

187 
	g¡d
::
¡ršg
 
G‘Ho¡Çme
() const {

193 cÚ¡ 
	g¡d
::
¡ršg
& 
G‘ReûivedD©a
(ècÚ¡ {  
d©a_
; }

195 
S’d
(cÚ¡ 
¡d
::
¡ršg
& 
mes§ge
) {

196 ià(
s¦_¡»am_ad­‹r_
 =ğ
nuÎ±r
 ||

197 
s¦_¡»am_ad­‹r_
->
G‘S‹
(è!ğ
¹c
::
SS_OPEN
) {

202 
RTC_LOG
(
LS_INFO
è<< "S”v” s’dšg '" << 
	gmes§ge
 << "'";

204 
size_t
 
	gwr™‹n
;

205 
	g”rÜ
;

207 
	g¹c
::
SŒ—mResuÉ
 
r
 = 
s¦_¡»am_ad­‹r_
->
Wr™e
(

208 
mes§ge
.
d©a
(), mes§ge.
Ëngth
(), &
wr™‹n
, &
”rÜ
);

209 ià(
	gr
 =ğ
¹c
::
SR_SUCCESS
) {

210  
wr™‹n
;

216 
Acû±CÚÃùiÚ
(cÚ¡ 
¹c
::
Sock‘Add»ss
& 
add»ss
) {

218 
ASSERT_TRUE
(
s¦_¡»am_ad­‹r_
 =ğ
nuÎ±r
);

221 
ASSERT_EQ
(
¹c
::
SSL_MODE_DTLS
, 
s¦_mode_
);

224 
	g¹c
::
AsyncSock‘
* 
sock‘
 = 
£rv”_sock‘_
.
»Ëa£
();

226 
	gsock‘
->
CÚÃù
(
add»ss
);

228 
DoHªdshake
(
sock‘
);

231 
OnS”v”Sock‘R—dEv’t
(
¹c
::
AsyncSock‘
* 
sock‘
) {

233 
ASSERT_TRUE
(
s¦_¡»am_ad­‹r_
 =ğ
nuÎ±r
);

235 
DoHªdshake
(
£rv”_sock‘_
->
Acû±
(
nuÎ±r
));

238 
OnSSLSŒ—mAd­‹rEv’t
(
¹c
::
SŒ—mIÁ”çû
* 
¡»am
, 
sig
, 
”r
) {

239 ià(
	gsig
 & 
	g¹c
::
SE_READ
) {

240 
bufãr
[4096] = "";

241 
size_t
 
	g»ad
;

242 
	g”rÜ
;

246 
	g¹c
::
SŒ—mResuÉ
 
r
 =

247 
¡»am
->
R—d
(
bufãr
, (bufãrè- 1, &
»ad
, &
”rÜ
);

248 ià(
	gr
 =ğ
¹c
::
SR_SUCCESS
) {

249 
bufãr
[
»ad
] = '\0';

250 
RTC_LOG
(
LS_INFO
è<< "S”v”„eûived '" << 
	gbufãr
 << "'";

251 
	gd©a_
 +ğ
bufãr
;

256 
	g´iv©e
:

257 
DoHªdshake
(
¹c
::
AsyncSock‘
* 
sock‘
) {

258 
s¦_¡»am_ad­‹r_
 = 
¹c
::
SSLSŒ—mAd­‹r
::
C»©e
(

259 
¡d
::
make_unique
<
¹c
::
Sock‘SŒ—m
>(
sock‘
));

261 
	gs¦_¡»am_ad­‹r_
->
S‘Mode
(
s¦_mode_
);

262 
	gs¦_¡»am_ad­‹r_
->
S‘S”v”RŞe
();

269 
	gs¦_¡»am_ad­‹r_
->
S‘Cl›ÁAuthEÇbËdFÜTe¡šg
(
çl£
);

271 
	gs¦_¡»am_ad­‹r_
->
S‘Id’t™y
(
s¦_id’t™y_
->
ClÚe
());

274 
	gdige¡
[20];

275 
size_t
 
	gdige¡_Ën
 = (
dige¡
);

276 
	gs¦_¡»am_ad­‹r_
->
S‘P“rC”tifiÿ‹Dige¡
(
¹c
::
DIGEST_SHA_1
, 
dige¡
,

277 
dige¡_Ën
);

279 
	gs¦_¡»am_ad­‹r_
->
S¹SSL
();

281 
	gs¦_¡»am_ad­‹r_
->
	gSigÇlEv’t
.
cÚÃù
(

282 
this
, &
SSLAd­‹rTe¡DummyS”v”
::
OnSSLSŒ—mAd­‹rEv’t
);

285 cÚ¡ 
	g¹c
::
SSLMode
 
s¦_mode_
;

287 
	g¡d
::
unique_±r
<
¹c
::
AsyncSock‘
> 
£rv”_sock‘_
;

288 
	g¡d
::
unique_±r
<
¹c
::
SSLSŒ—mAd­‹r
> 
s¦_¡»am_ad­‹r_
;

290 
	g¡d
::
unique_±r
<
¹c
::
SSLId’t™y
> 
s¦_id’t™y_
;

292 
	g¡d
::
¡ršg
 
d©a_
;

295 
şass
 
	gSSLAd­‹rTe¡Ba£
 : 
public
 ::
‹¡šg
::
Te¡
,…ubliø
	gsig¦Ù
::
has_¦Ùs
<> {

296 
public
:

297 
ex¶ic™
 
SSLAd­‹rTe¡Ba£
(cÚ¡ 
¹c
::
SSLMode
& 
s¦_mode
,

298 cÚ¡ 
¹c
::
KeyP¬ams
& 
key_·¿ms
)

299 : 
s¦_mode_
(
s¦_mode
),

300 
vss_
(
Ãw
 
¹c
::
Vœtu®Sock‘S”v”
()),

301 
th»ad_
(
vss_
.
g‘
()),

302 
£rv”_
(
Ãw
 
SSLAd­‹rTe¡DummyS”v”
(
s¦_mode_
, 
key_·¿ms
)),

303 
ş›Á_
(
Ãw
 
SSLAd­‹rTe¡DummyCl›Á
(
s¦_mode_
)),

304 
hªdshake_wa™_
(
kTimeout
) {}

306 
S‘HªdshakeWa™
(
wa™
è{ 
	ghªdshake_wa™_
 = wait; }

308 
S‘IgnÜeBadC”t
(
boŞ
 
ignÜe_bad_û¹
) {

309 
	gş›Á_
->
S‘IgnÜeBadC”t
(
ignÜe_bad_û¹
);

312 
S‘C”tV”if›r
(
¹c
::
SSLC”tifiÿ‹V”if›r
* 
s¦_û¹_v”if›r
) {

313 
ş›Á_
->
S‘C”tV”if›r
(
s¦_û¹_v”if›r
);

316 
S‘AÍnPrÙocŞs
(cÚ¡ 
¡d
::
veùÜ
<¡d::
¡ršg
>& 
´Ùos
) {

317 
ş›Á_
->
S‘AÍnPrÙocŞs
(
´Ùos
);

320 
S‘EÎticCurves
(cÚ¡ 
¡d
::
veùÜ
<¡d::
¡ršg
>& 
curves
) {

321 
ş›Á_
->
S‘EÎticCurves
(
curves
);

324 
S‘MockC”tV”if›r
(
boŞ
 
»tuº_v®ue
) {

325 autØ
	gmock_v”if›r
 = 
¡d
::
make_unique
<
MockC”tV”if›r
>();

326 
EXPECT_CALL
(*
mock_v”if›r
, 
V”ify
(
_
)).
WlR•—‹dly
(
R‘uº
(
»tuº_v®ue
));

327 
	gû¹_v”if›r_
 =

328 
¡d
::
unique_±r
<
¹c
::
SSLC”tifiÿ‹V”if›r
>(¡d::
move
(
mock_v”if›r
));

330 
S‘IgnÜeBadC”t
(
çl£
);

331 
S‘C”tV”if›r
(
û¹_v”if›r_
.
g‘
());

334 
Te¡Hªdshake
(
boŞ
 
ex³ù_sucûss
) {

335 
	grv
;

338 
ASSERT_EQ
(
¹c
::
AsyncSock‘
::
CS_CLOSED
, 
ş›Á_
->
G‘S‹
());

340 
	grv
 = 
ş›Á_
->
CÚÃù
(
£rv”_
->
G‘Ho¡Çme
(), s”v”_->
G‘Add»ss
());

341 
ASSERT_EQ
(0, 
rv
);

344 
ASSERT_EQ
(
¹c
::
AsyncSock‘
::
CS_CONNECTING
, 
ş›Á_
->
G‘S‹
());

346 ià(
	gs¦_mode_
 =ğ
¹c
::
SSL_MODE_DTLS
) {

348 
£rv”_
->
Acû±CÚÃùiÚ
(
ş›Á_
->
G‘Add»ss
());

351 ià(
	gex³ù_sucûss
) {

354 
EXPECT_EQ_WAIT
(
¹c
::
AsyncSock‘
::
CS_CONNECTED
, 
ş›Á_
->
G‘S‹
(),

355 
hªdshake_wa™_
);

357 
RTC_LOG
(
LS_INFO
è<< 
G‘SSLPrÙocŞName
(
s¦_mode_
)

362 
EXPECT_EQ_WAIT
(
¹c
::
AsyncSock‘
::
CS_CLOSED
, 
ş›Á_
->
G‘S‹
(),

363 
hªdshake_wa™_
);

365 
RTC_LOG
(
LS_INFO
è<< 
G‘SSLPrÙocŞName
(
s¦_mode_
) << " handshake failed.";

369 
Te¡T¿nsãr
(cÚ¡ 
¡d
::
¡ršg
& 
mes§ge
) {

370 
rv
;

372 
	grv
 = 
ş›Á_
->
S’d
(
mes§ge
);

373 
ASSERT_EQ
(
¡©ic_ÿ¡
<>(
mes§ge
.
Ëngth
()), 
rv
);

376 
EXPECT_EQ_WAIT
(
mes§ge
, 
£rv”_
->
G‘ReûivedD©a
(), 
kTimeout
);

378 
	grv
 = 
£rv”_
->
S’d
(
mes§ge
);

379 
ASSERT_EQ
(
¡©ic_ÿ¡
<>(
mes§ge
.
Ëngth
()), 
rv
);

382 
EXPECT_EQ_WAIT
(
mes§ge
, 
ş›Á_
->
G‘ReûivedD©a
(), 
kTimeout
);

384 
RTC_LOG
(
LS_INFO
) << "Transfer complete.";

387 
	g´Ùeùed
:

388 cÚ¡ 
¹c
::
SSLMode
 
s¦_mode_
;

390 
	g¡d
::
unique_±r
<
¹c
::
Vœtu®Sock‘S”v”
> 
vss_
;

391 
	g¹c
::
AutoSock‘S”v”Th»ad
 
th»ad_
;

392 
	g¡d
::
unique_±r
<
SSLAd­‹rTe¡DummyS”v”
> 
£rv”_
;

393 
	g¡d
::
unique_±r
<
SSLAd­‹rTe¡DummyCl›Á
> 
ş›Á_
;

394 
	g¡d
::
unique_±r
<
¹c
::
SSLC”tifiÿ‹V”if›r
> 
û¹_v”if›r_
;

396 
	ghªdshake_wa™_
;

399 şas 
	cSSLAd­‹rTe¡TLS_RSA
 : 
public
 
SSLAd­‹rTe¡Ba£
 {

400 
public
:

401 
	$SSLAd­‹rTe¡TLS_RSA
()

402 : 
	`SSLAd­‹rTe¡Ba£
(
¹c
::
SSL_MODE_TLS
,„tc::
KeyP¬ams
::
	$RSA
()) {}

403 
	}
};

405 şas 
	cSSLAd­‹rTe¡TLS_ECDSA
 : 
public
 
SSLAd­‹rTe¡Ba£
 {

406 
public
:

407 
	$SSLAd­‹rTe¡TLS_ECDSA
()

408 : 
	`SSLAd­‹rTe¡Ba£
(
¹c
::
SSL_MODE_TLS
,„tc::
KeyP¬ams
::
	$ECDSA
()) {}

409 
	}
};

411 şas 
	cSSLAd­‹rTe¡DTLS_RSA
 : 
public
 
SSLAd­‹rTe¡Ba£
 {

412 
public
:

413 
	$SSLAd­‹rTe¡DTLS_RSA
()

414 : 
	`SSLAd­‹rTe¡Ba£
(
¹c
::
SSL_MODE_DTLS
,„tc::
KeyP¬ams
::
	$RSA
()) {}

415 
	}
};

417 şas 
	cSSLAd­‹rTe¡DTLS_ECDSA
 : 
public
 
SSLAd­‹rTe¡Ba£
 {

418 
public
:

419 
	$SSLAd­‹rTe¡DTLS_ECDSA
()

420 : 
	`SSLAd­‹rTe¡Ba£
(
¹c
::
SSL_MODE_DTLS
,„tc::
KeyP¬ams
::
	$ECDSA
()) {}

421 
	}
};

426 
	$TEST_F
(
SSLAd­‹rTe¡TLS_RSA
, 
Te¡TLSCÚÃù
) {

427 
	`Te¡Hªdshake
(
Œue
);

428 
	}
}

431 
	$TEST_F
(
SSLAd­‹rTe¡TLS_RSA
, 
Te¡TLSCÚÃùCu¡omC”tV”if›rSucûeds
) {

432 
	`S‘MockC”tV”if›r
Ğ
Œue
);

433 
	`Te¡Hªdshake
Ğ
Œue
);

434 
	}
}

437 
	$TEST_F
(
SSLAd­‹rTe¡TLS_RSA
, 
Te¡TLSCÚÃùCu¡omC”tV”if›rFas
) {

438 
	`S‘MockC”tV”if›r
Ğ
çl£
);

439 
	`Te¡Hªdshake
Ğ
çl£
);

440 
	}
}

443 
	$TEST_F
(
SSLAd­‹rTe¡TLS_ECDSA
, 
Te¡TLSCÚÃù
) {

444 
	`S‘MockC”tV”if›r
Ğ
Œue
);

445 
	`Te¡Hªdshake
Ğ
Œue
);

446 
	}
}

449 
	$TEST_F
(
SSLAd­‹rTe¡TLS_ECDSA
, 
Te¡TLSCÚÃùCu¡omC”tV”if›rSucûeds
) {

450 
	`S‘MockC”tV”if›r
Ğ
Œue
);

451 
	`Te¡Hªdshake
Ğ
Œue
);

452 
	}
}

455 
	$TEST_F
(
SSLAd­‹rTe¡TLS_ECDSA
, 
Te¡TLSCÚÃùCu¡omC”tV”if›rFas
) {

456 
	`S‘MockC”tV”if›r
Ğ
çl£
);

457 
	`Te¡Hªdshake
Ğ
çl£
);

458 
	}
}

461 
	$TEST_F
(
SSLAd­‹rTe¡TLS_RSA
, 
Te¡TLST¿nsãr
) {

462 
	`Te¡Hªdshake
(
Œue
);

463 
	`Te¡T¿nsãr
("Hello, world!");

464 
	}
}

467 
	$TEST_F
(
SSLAd­‹rTe¡TLS_RSA
, 
Te¡TLST¿nsãrCu¡omC”tV”if›r
) {

468 
	`S‘MockC”tV”if›r
Ğ
Œue
);

469 
	`Te¡Hªdshake
Ğ
Œue
);

470 
	`Te¡T¿nsãr
("Hello, world!");

471 
	}
}

473 
	$TEST_F
(
SSLAd­‹rTe¡TLS_RSA
, 
Te¡TLST¿nsãrW™hBlockedSock‘
) {

474 
	`Te¡Hªdshake
(
Œue
);

477 
vss_
->
	`S‘S’dšgBlocked
(
Œue
);

479 
¡d
::
¡ršg
 
ex³ùed
;

480 
rv
;

484 
i
 = 0; i < 1024; ++i) {

485 
¡d
::
¡ršg
 
mes§ge
 = "H–lo, wÜld: " + 
¹c
::
	`ToSŒšg
(
i
);

486 
rv
 = 
ş›Á_
->
	`S’d
(
mes§ge
);

487 ià(
rv
 !ğ
¡©ic_ÿ¡
<>(
mes§ge
.
	`size
())) {

489 
	`ASSERT_EQ
(-1, 
rv
);

492 
ex³ùed
 +ğ
mes§ge
;

495 
	`ASSERT_EQ
(-1, 
rv
);

499 
	`EXPECT_EQ
(-1, 
ş›Á_
->
	`S’d
("Never sent"));

503 
vss_
->
	`S‘S’dšgBlocked
(
çl£
);

504 
	`EXPECT_EQ_WAIT
(
ex³ùed
, 
£rv”_
->
	`G‘ReûivedD©a
(), 
kTimeout
);

507 
¡d
::
¡ršg
 
fš®_mes§ge
 = "Fin.";

508 
ex³ùed
 +ğ
fš®_mes§ge
;

509 
	`EXPECT_EQ
(
¡©ic_ÿ¡
<>(
fš®_mes§ge
.
	`size
()),

510 
ş›Á_
->
	`S’d
(
fš®_mes§ge
));

511 
	`EXPECT_EQ_WAIT
(
ex³ùed
, 
£rv”_
->
	`G‘ReûivedD©a
(), 
kTimeout
);

512 
	}
}

515 
	$TEST_F
(
SSLAd­‹rTe¡TLS_ECDSA
, 
Te¡TLST¿nsãr
) {

516 
	`Te¡Hªdshake
(
Œue
);

517 
	`Te¡T¿nsãr
("Hello, world!");

518 
	}
}

522 
	$TEST_F
(
SSLAd­‹rTe¡TLS_ECDSA
, 
Te¡TLST¿nsãrCu¡omC”tV”if›r
) {

523 
	`S‘MockC”tV”if›r
Ğ
Œue
);

524 
	`Te¡Hªdshake
Ğ
Œue
);

525 
	`Te¡T¿nsãr
("Hello, world!");

526 
	}
}

529 
	$TEST_F
(
SSLAd­‹rTe¡TLS_ECDSA
, 
Te¡TLSALPN
) {

530 
¡d
::
veùÜ
<¡d::
¡ršg
> 
®²_´Ùos
{"h2", "http/1.1"};

531 
	`S‘AÍnPrÙocŞs
(
®²_´Ùos
);

532 
	`Te¡Hªdshake
(
Œue
);

533 
	`Te¡T¿nsãr
("Hello, world!");

534 
	}
}

537 
	$TEST_F
(
SSLAd­‹rTe¡TLS_ECDSA
, 
Te¡TLSEÎticCurves
) {

538 
¡d
::
veùÜ
<¡d::
¡ršg
> 
–ltic_curves
{"X25519", "P-256", "P-384", "P-521"};

539 
	`S‘EÎticCurves
(
–ltic_curves
);

540 
	`Te¡Hªdshake
(
Œue
);

541 
	`Te¡T¿nsãr
("Hello, world!");

542 
	}
}

547 
	$TEST_F
(
SSLAd­‹rTe¡DTLS_RSA
, 
Te¡DTLSCÚÃù
) {

548 
	`Te¡Hªdshake
(
Œue
);

549 
	}
}

552 
	$TEST_F
(
SSLAd­‹rTe¡DTLS_RSA
, 
Te¡DTLSCÚÃùCu¡omC”tV”if›rSucûeds
) {

553 
	`S‘MockC”tV”if›r
Ğ
Œue
);

554 
	`Te¡Hªdshake
Ğ
Œue
);

555 
	}
}

559 
	$TEST_F
(
SSLAd­‹rTe¡DTLS_RSA
, 
Te¡TLSCÚÃùCu¡omC”tV”if›rFas
) {

560 
	`S‘MockC”tV”if›r
Ğ
çl£
);

561 
	`Te¡Hªdshake
Ğ
çl£
);

562 
	}
}

565 
	$TEST_F
(
SSLAd­‹rTe¡DTLS_ECDSA
, 
Te¡DTLSCÚÃù
) {

566 
	`Te¡Hªdshake
(
Œue
);

567 
	}
}

571 
	$TEST_F
(
SSLAd­‹rTe¡DTLS_ECDSA
, 
Te¡DTLSCÚÃùCu¡omC”tV”if›rSucûeds
) {

572 
	`S‘MockC”tV”if›r
Ğ
Œue
);

573 
	`Te¡Hªdshake
Ğ
Œue
);

574 
	}
}

578 
	$TEST_F
(
SSLAd­‹rTe¡DTLS_ECDSA
, 
Te¡TLSCÚÃùCu¡omC”tV”if›rFas
) {

579 
	`S‘MockC”tV”if›r
Ğ
çl£
);

580 
	`Te¡Hªdshake
Ğ
çl£
);

581 
	}
}

584 
	$TEST_F
(
SSLAd­‹rTe¡DTLS_RSA
, 
Te¡DTLST¿nsãr
) {

585 
	`Te¡Hªdshake
(
Œue
);

586 
	`Te¡T¿nsãr
("Hello, world!");

587 
	}
}

590 
	$TEST_F
(
SSLAd­‹rTe¡DTLS_RSA
, 
Te¡DTLST¿nsãrCu¡omC”tV”if›r
) {

591 
	`S‘MockC”tV”if›r
Ğ
Œue
);

592 
	`Te¡Hªdshake
Ğ
Œue
);

593 
	`Te¡T¿nsãr
("Hello, world!");

594 
	}
}

597 
	$TEST_F
(
SSLAd­‹rTe¡DTLS_ECDSA
, 
Te¡DTLST¿nsãr
) {

598 
	`Te¡Hªdshake
(
Œue
);

599 
	`Te¡T¿nsãr
("Hello, world!");

600 
	}
}

604 
	$TEST_F
(
SSLAd­‹rTe¡DTLS_ECDSA
, 
Te¡DTLST¿nsãrCu¡omC”tV”if›r
) {

605 
	`S‘MockC”tV”if›r
Ğ
Œue
);

606 
	`Te¡Hªdshake
Ğ
Œue
);

607 
	`Te¡T¿nsãr
("Hello, world!");

608 
	}
}

	@ssl_certificate.cc

11 
	~"¹c_ba£/s¦_û¹ifiÿ‹.h
"

13 
	~<memÜy
>

14 
	~<¡ršg
>

15 
	~<ut™y
>

17 
	~"ab¦/®gÜ™hm/cÚš”.h
"

18 
	~"¹c_ba£/checks.h
"

19 
	~"¹c_ba£/İ’s¦_û¹ifiÿ‹.h
"

20 
	~"¹c_ba£/s¦_fšg”´št.h
"

21 
	~"¹c_ba£/thœd_·¹y/ba£64/ba£64.h
"

23 
Çme¥aû
 
	g¹c
 {

29 
	gSSLC”tifiÿ‹Sts
::
SSLC”tifiÿ‹Sts
(

30 
¡d
::
¡ršg
&& 
fšg”´št
,

31 
¡d
::
¡ršg
&& 
fšg”´št_®gÜ™hm
,

32 
¡d
::
¡ršg
&& 
ba£64_û¹ifiÿ‹
,

33 
¡d
::
unique_±r
<
SSLC”tifiÿ‹Sts
> 
issu”
)

34 : 
fšg”´št
(
¡d
::
move
(fingerprint)),

35 
fšg”´št_®gÜ™hm
(
¡d
::
move
(fingerprint_algorithm)),

36 
ba£64_û¹ifiÿ‹
(
¡d
::
move
(base64_certificate)),

37 
issu”
(
¡d
::
move
(issuer)) {}

39 
SSLC”tifiÿ‹Sts
::~SSLCertificateStats() {}

45 
¡d
::
unique_±r
<
SSLC”tifiÿ‹Sts
> 
SSLC”tifiÿ‹
::
G‘Sts
() const {

49 
¡d
::
¡ršg
 
dige¡_®gÜ™hm
;

50 ià(!
G‘SigÇtu»Dige¡AlgÜ™hm
(&
dige¡_®gÜ™hm
))

51  
	gnuÎ±r
;

57 
	g¡d
::
unique_±r
<
SSLFšg”´št
> 
s¦_fšg”´št
 =

58 
SSLFšg”´št
::
C»©e
(
dige¡_®gÜ™hm
, *
this
);

59 ià(!
	gs¦_fšg”´št
)

60  
	gnuÎ±r
;

61 
	g¡d
::
¡ršg
 
fšg”´št
 = 
s¦_fšg”´št
->
G‘Rfc4572Fšg”´št
();

63 
Bufãr
 
	gd”_bufãr
;

64 
ToDER
(&
d”_bufãr
);

65 
	g¡d
::
¡ršg
 
d”_ba£64
;

66 
	gBa£64
::
EncodeFromA¼ay
(
d”_bufãr
.
d©a
(), d”_bufãr.
size
(), &
d”_ba£64
);

68  
	g¡d
::
make_unique
<
SSLC”tifiÿ‹Sts
>(
¡d
::
move
(
fšg”´št
),

69 
	g¡d
::
move
(
dige¡_®gÜ™hm
),

70 
	g¡d
::
move
(
d”_ba£64
), 
	gnuÎ±r
);

77 
	gSSLC”tChaš
::
SSLC”tChaš
(
¡d
::
unique_±r
<
SSLC”tifiÿ‹
> 
sšgË_û¹
) {

78 
û¹s_
.
push_back
(
¡d
::
move
(
sšgË_û¹
));

81 
	gSSLC”tChaš
::
SSLC”tChaš
(
¡d
::
veùÜ
<¡d::
unique_±r
<
SSLC”tifiÿ‹
>> 
û¹s
)

82 : 
û¹s_
(
¡d
::
move
(
û¹s
)) {}

84 
SSLC”tChaš
::SSLC”tChaš(SSLC”tChaš&& 
rhs
) = ;

86 
	gSSLC”tChaš
& SSLC”tChaš::
İ”©Ü
=(
SSLC”tChaš
&&) = ;

88 
	gSSLC”tChaš
::~
SSLC”tChaš
() = ;

90 
	g¡d
::
unique_±r
<
SSLC”tChaš
> SSLC”tChaš::
ClÚe
() const {

91 
¡d
::
veùÜ
<¡d::
unique_±r
<
SSLC”tifiÿ‹
>> 
Ãw_û¹s
(
û¹s_
.
size
());

92 
	gab¦
::
c_ŒªsfÜm
(

93 
û¹s_
, 
Ãw_û¹s
.
begš
(),

94 [](cÚ¡ 
¡d
::
unique_±r
<
SSLC”tifiÿ‹
>& 
û¹
)

95 -> 
¡d
::
unique_±r
<
SSLC”tifiÿ‹
> {  
û¹
->
ClÚe
(); });

96  
	g¡d
::
make_unique
<
SSLC”tChaš
>(
¡d
::
move
(
Ãw_û¹s
));

99 
	g¡d
::
unique_±r
<
SSLC”tifiÿ‹Sts
> 
SSLC”tChaš
::
G‘Sts
() const {

104 
¡d
::
unique_±r
<
SSLC”tifiÿ‹Sts
> 
issu”
;

107 
±rdiff_t
 
	gi
 = 
û¹s_
.
size
() - 1; i >= 0; --i) {

108 
	g¡d
::
unique_±r
<
SSLC”tifiÿ‹Sts
> 
Ãw_¡©s
 = 
û¹s_
[
i
]->
G‘Sts
();

109 ià(
	gÃw_¡©s
) {

110 
	gÃw_¡©s
->
	gissu”
 = 
¡d
::
move
(
issu”
);

112 
	gissu”
 = 
¡d
::
move
(
Ãw_¡©s
);

114  
	gissu”
;

118 
	g¡d
::
unique_±r
<
SSLC”tifiÿ‹
> SSLC”tifiÿ‹::
FromPEMSŒšg
(

119 cÚ¡ 
¡d
::
¡ršg
& 
³m_¡ršg
) {

120  
O³nSSLC”tifiÿ‹
::
FromPEMSŒšg
(
³m_¡ršg
);

	@ssl_certificate.h

15 #iâdeà
RTC_BASE_SSL_CERTIFICATE_H_


16 
	#RTC_BASE_SSL_CERTIFICATE_H_


	)

18 
	~<¡ddef.h
>

19 
	~<¡dšt.h
>

20 
	~<memÜy
>

21 
	~<¡ršg
>

22 
	~<veùÜ
>

24 
	~"¹c_ba£/bufãr.h
"

25 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

26 
	~"¹c_ba£/sy¡em/¹c_expÜt.h
"

28 
Çme¥aû
 
	g¹c
 {

30 
RTC_EXPORT
 
	gSSLC”tifiÿ‹Sts
 {

31 
SSLC”tifiÿ‹Sts
(
¡d
::
¡ršg
&& 
fšg”´št
,

32 
¡d
::
¡ršg
&& 
fšg”´št_®gÜ™hm
,

33 
¡d
::
¡ršg
&& 
ba£64_û¹ifiÿ‹
,

34 
¡d
::
unique_±r
<
SSLC”tifiÿ‹Sts
> 
issu”
);

35 ~
SSLC”tifiÿ‹Sts
();

36 
	g¡d
::
¡ršg
 
fšg”´št
;

37 
	g¡d
::
¡ršg
 
fšg”´št_®gÜ™hm
;

38 
	g¡d
::
¡ršg
 
ba£64_û¹ifiÿ‹
;

39 
	g¡d
::
unique_±r
<
SSLC”tifiÿ‹Sts
> 
issu”
;

50 şas 
	cRTC_EXPORT
 
	gSSLC”tifiÿ‹
 {

51 
	gpublic
:

57 
¡d
::
unique_±r
<
SSLC”tifiÿ‹
> 
FromPEMSŒšg
(

58 cÚ¡ 
¡d
::
¡ršg
& 
³m_¡ršg
);

59 
	gvœtu®
 ~
SSLC”tifiÿ‹
() = ;

63 
vœtu®
 
	g¡d
::
unique_±r
<
SSLC”tifiÿ‹
> 
ClÚe
() const = 0;

66 
vœtu®
 
	g¡d
::
¡ršg
 
ToPEMSŒšg
() const = 0;

69 
vœtu®
 
ToDER
(
Bufãr
* 
d”_bufãr
) const = 0;

73 
vœtu®
 
boŞ
 
G‘SigÇtu»Dige¡AlgÜ™hm
(
¡d
::
¡ršg
* 
®gÜ™hm
) const = 0;

76 
vœtu®
 
boŞ
 
Compu‹Dige¡
(cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
,

77 * 
dige¡
,

78 
size_t
 
size
,

79 
size_t
* 
Ëngth
) const = 0;

83 
vœtu®
 
št64_t
 
C”tifiÿ‹Expœ©iÚTime
() const = 0;

88 
	g¡d
::
unique_±r
<
SSLC”tifiÿ‹Sts
> 
G‘Sts
() const;

94 şas 
	cRTC_EXPORT
 
SSLC”tChaš
 
	gfš®
 {

95 
	gpublic
:

96 
ex¶ic™
 
SSLC”tChaš
(
¡d
::
unique_±r
<
SSLC”tifiÿ‹
> 
sšgË_û¹
);

97 
ex¶ic™
 
SSLC”tChaš
(
¡d
::
veùÜ
<¡d::
unique_±r
<
SSLC”tifiÿ‹
>> 
û¹s
);

99 
SSLC”tChaš
(SSLCertChain&&);

100 
	gSSLC”tChaš
& 
	gİ”©Ü
=(
SSLC”tChaš
&&);

102 ~
SSLC”tChaš
();

105 
size_t
 
G‘Size
(ècÚ¡ {  
	gû¹s_
.
size
(); }

108 cÚ¡ 
	gSSLC”tifiÿ‹
& 
G‘
(
size_t
 
pos
ècÚ¡ {  *(
	gû¹s_
[pos]); }

112 
	g¡d
::
unique_±r
<
SSLC”tChaš
> 
ClÚe
() const;

117 
	g¡d
::
unique_±r
<
SSLC”tifiÿ‹Sts
> 
G‘Sts
() const;

119 
	g´iv©e
:

120 
¡d
::
veùÜ
<¡d::
unique_±r
<
SSLC”tifiÿ‹
>> 
û¹s_
;

122 
RTC_DISALLOW_COPY_AND_ASSIGN
(
SSLC”tChaš
);

128 şas 
	cSSLC”tifiÿ‹V”if›r
 {

129 
	gpublic
:

130 
vœtu®
 ~
SSLC”tifiÿ‹V”if›r
() = ;

133 
vœtu®
 
boŞ
 
V”ify
(cÚ¡ 
SSLC”tifiÿ‹
& 
û¹ifiÿ‹
) = 0;

	@ssl_fingerprint.cc

11 
	~"¹c_ba£/s¦_fšg”´št.h
"

13 
	~<ùy³.h
>

14 
	~<c¡dšt
>

15 
	~<memÜy
>

16 
	~<¡ršg
>

18 
	~"ab¦/®gÜ™hm/cÚš”.h
"

19 
	~"¹c_ba£/loggšg.h
"

20 
	~"¹c_ba£/mes§ge_dige¡.h
"

21 
	~"¹c_ba£/¹c_û¹ifiÿ‹.h
"

22 
	~"¹c_ba£/s¦_û¹ifiÿ‹.h
"

23 
	~"¹c_ba£/s¦_id’t™y.h
"

24 
	~"¹c_ba£/¡ršg_’code.h
"

26 
Çme¥aû
 
	g¹c
 {

28 
SSLFšg”´št
* 
	gSSLFšg”´št
::
C»©e
(cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
,

29 cÚ¡ 
¹c
::
SSLId’t™y
* 
id’t™y
) {

30  
C»©eUnique
(
®gÜ™hm
, *
id’t™y
).
»Ëa£
();

33 
	g¡d
::
unique_±r
<
SSLFšg”´št
> SSLFšg”´št::
C»©eUnique
(

34 cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
,

35 cÚ¡ 
¹c
::
SSLId’t™y
& 
id’t™y
) {

36  
C»©e
(
®gÜ™hm
, 
id’t™y
.
û¹ifiÿ‹
());

39 
	g¡d
::
unique_±r
<
SSLFšg”´št
> SSLFšg”´št::
C»©e
(

40 cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
,

41 cÚ¡ 
¹c
::
SSLC”tifiÿ‹
& 
û¹
) {

42 
ušt8_t
 
dige¡_v®
[64];

43 
size_t
 
	gdige¡_Ën
;

44 
boŞ
 
	g»t
 = 
û¹
.
Compu‹Dige¡
(
®gÜ™hm
, 
dige¡_v®
, (digest_val),

45 &
dige¡_Ën
);

46 ià(!
	g»t
) {

47  
	gnuÎ±r
;

49  
	g¡d
::
make_unique
<
SSLFšg”´št
>(

50 
®gÜ™hm
, 
	gA¼ayV›w
<cÚ¡ 
	gušt8_t
>(
	gdige¡_v®
, 
	gdige¡_Ën
));

53 
SSLFšg”´št
* 
	gSSLFšg”´št
::
C»©eFromRfc4572
(

54 cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
,

55 cÚ¡ 
¡d
::
¡ršg
& 
fšg”´št
) {

56  
C»©eUniqueFromRfc4572
(
®gÜ™hm
, 
fšg”´št
).
»Ëa£
();

59 
	g¡d
::
unique_±r
<
SSLFšg”´št
> SSLFšg”´št::
C»©eUniqueFromRfc4572
(

60 cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
,

61 cÚ¡ 
¡d
::
¡ršg
& 
fšg”´št
) {

62 ià(
®gÜ™hm
.
em±y
(è|| !
¹c
::
IsFs180Dige¡AlgÜ™hm
(algorithm))

63  
nuÎ±r
;

65 ià(
	gfšg”´št
.
em±y
())

66  
	gnuÎ±r
;

68 
	gv®ue
[
¹c
::
Mes§geDige¡
::
kMaxSize
];

69 
size_t
 
	gv®ue_Ën
 = 
¹c
::
hex_decode_w™h_d–im™”
(

70 
v®ue
, (v®ue), 
fšg”´št
.
c_¡r
(), fšg”´št.
Ëngth
(), ':');

71 ià(!
	gv®ue_Ën
)

72  
	gnuÎ±r
;

74  
	g¡d
::
make_unique
<
SSLFšg”´št
>(

75 
®gÜ™hm
,

76 
	gA¼ayV›w
<cÚ¡ 
	gušt8_t
>(
	g»š‹½»t_ÿ¡
<ušt8_t*>(
	gv®ue
), 
	gv®ue_Ën
));

79 
	g¡d
::
unique_±r
<
SSLFšg”´št
> SSLFšg”´št::
C»©eFromC”tifiÿ‹
(

80 cÚ¡ 
RTCC”tifiÿ‹
& 
û¹
) {

81 
¡d
::
¡ršg
 
dige¡_®g
;

82 ià(!
	gû¹
.
G‘SSLC”tifiÿ‹
().
G‘SigÇtu»Dige¡AlgÜ™hm
(&
dige¡_®g
)) {

83 
RTC_LOG
(
LS_ERROR
)

85  
	gnuÎ±r
;

88 
	g¡d
::
unique_±r
<
SSLFšg”´št
> 
fšg”´št
 =

89 
C»©eUnique
(
dige¡_®g
, *
û¹
.
id’t™y
());

90 ià(!
	gfšg”´št
) {

91 
RTC_LOG
(
LS_ERROR
) << "Failedo create identity fingerprint,‡lg="

92 << 
	gdige¡_®g
;

94  
	gfšg”´št
;

97 
	gSSLFšg”´št
::
SSLFšg”´št
(cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
,

98 
A¼ayV›w
<cÚ¡ 
ušt8_t
> 
dige¡_v›w
)

99 : 
®gÜ™hm
×lgÜ™hm), 
dige¡
(
dige¡_v›w
.
d©a
(), dige¡_v›w.
size
()) {}

101 
	gSSLFšg”´št
::
SSLFšg”´št
(cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
,

102 cÚ¡ 
ušt8_t
* 
dige¡_š
,

103 
size_t
 
dige¡_Ën
)

104 : 
SSLFšg”´št
(
®gÜ™hm
, 
MakeA¼ayV›w
(
dige¡_š
, 
dige¡_Ën
)) {}

106 
	gSSLFšg”´št
::
SSLFšg”´št
(cÚ¡ SSLFšg”´št& 
äom
)

107 : 
®gÜ™hm
(
äom
.®gÜ™hm), 
dige¡
(from.digest) {}

109 
boŞ
 
	gSSLFšg”´št
::
İ”©Ü
==(cÚ¡ 
SSLFšg”´št
& 
Ùh”
) const {

110  
®gÜ™hm
 =ğ
Ùh”
.®gÜ™hm && 
dige¡
 == other.digest;

113 
	g¡d
::
¡ršg
 
SSLFšg”´št
::
G‘Rfc4572Fšg”´št
() const {

114 
¡d
::
¡ršg
 
fšg”´št
 =

115 
¹c
::
hex_’code_w™h_d–im™”
(
dige¡
.
d©a
<>(), dige¡.
size
(), ':');

116 
	gab¦
::
c_ŒªsfÜm
(
fšg”´št
, fšg”´št.
begš
(), ::
touµ”
);

117  
	gfšg”´št
;

120 
	g¡d
::
¡ršg
 
SSLFšg”´št
::
ToSŒšg
() const {

121 
¡d
::
¡ršg
 
å_¡r
 = 
®gÜ™hm
;

122 
	gå_¡r
.
­³nd
(" ");

123 
	gå_¡r
.
­³nd
(
G‘Rfc4572Fšg”´št
());

124  
	gå_¡r
;

	@ssl_fingerprint.h

11 #iâdeà
RTC_BASE_SSL_FINGERPRINT_H_


12 
	#RTC_BASE_SSL_FINGERPRINT_H_


	)

14 
	~<¡ddef.h
>

15 
	~<¡dšt.h
>

16 
	~<¡ršg
>

18 
	~"¹c_ba£/cİy_Ú_wr™e_bufãr.h
"

19 
	~"¹c_ba£/sy¡em/¹c_expÜt.h
"

21 
Çme¥aû
 
	g¹c
 {

23 
şass
 
	gRTCC”tifiÿ‹
;

24 
şass
 
	gSSLC”tifiÿ‹
;

25 
şass
 
	gSSLId’t™y
;

27 
RTC_EXPORT
 
	gSSLFšg”´št
 {

29 
SSLFšg”´št
* 
C»©e
(cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
,

30 cÚ¡ 
¹c
::
SSLId’t™y
* 
id’t™y
);

32 
	g¡d
::
unique_±r
<
SSLFšg”´št
> 
C»©eUnique
(

33 cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
,

34 cÚ¡ 
¹c
::
SSLId’t™y
& 
id’t™y
);

36 
	g¡d
::
unique_±r
<
SSLFšg”´št
> 
C»©e
(

37 cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
,

38 cÚ¡ 
¹c
::
SSLC”tifiÿ‹
& 
û¹
);

41 
SSLFšg”´št
* 
C»©eFromRfc4572
(cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
,

42 cÚ¡ 
¡d
::
¡ršg
& 
fšg”´št
);

44 
	g¡d
::
unique_±r
<
SSLFšg”´št
> 
C»©eUniqueFromRfc4572
(

45 cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
,

46 cÚ¡ 
¡d
::
¡ršg
& 
fšg”´št
);

50 
	g¡d
::
unique_±r
<
SSLFšg”´št
> 
C»©eFromC”tifiÿ‹
(

51 cÚ¡ 
RTCC”tifiÿ‹
& 
û¹
);

53 
SSLFšg”´št
(cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
,

54 
A¼ayV›w
<cÚ¡ 
ušt8_t
> 
dige¡_v›w
);

56 
SSLFšg”´št
(cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
,

57 cÚ¡ 
ušt8_t
* 
dige¡_š
,

58 
size_t
 
dige¡_Ën
);

60 
SSLFšg”´št
(cÚ¡ SSLFšg”´št& 
äom
);

62 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
SSLFšg”´št
& 
Ùh”
) const;

64 
	g¡d
::
¡ršg
 
G‘Rfc4572Fšg”´št
() const;

66 
	g¡d
::
¡ršg
 
ToSŒšg
() const;

68 
	g¡d
::
¡ršg
 
®gÜ™hm
;

69 
	g¹c
::
CİyOnWr™eBufãr
 
dige¡
;

	@ssl_identity.cc

12 
	~"¹c_ba£/s¦_id’t™y.h
"

14 
	~<¡ršg.h
>

15 
	~<time.h
>

16 
	~<¡ršg
>

18 
	~"¹c_ba£/checks.h
"

19 
	~"¹c_ba£/İ’s¦_id’t™y.h
"

20 
	~"¹c_ba£/s¦_û¹ifiÿ‹.h
"

21 
	~"¹c_ba£/¡ršgs/¡ršg_bud”.h
"

22 
	~"¹c_ba£/thœd_·¹y/ba£64/ba£64.h
"

23 
	~"¹c_ba£/time_uts.h
"

25 
Çme¥aû
 
	g¹c
 {

31 
	gÇme¥aû
 {

35 
šlše
 
ASN1R—dIÁ
(cÚ¡ ** 
µ
, 
size_t
* 
Å
, size_ˆ
n
) {

36 cÚ¡ * 
	gp
 = *
µ
;

37 
	gx
 = 0;

38 
size_t
 
	gi
 = 0; i < 
	gn
; i++) {

39 
	gx
 = 10 * 
x
 + 
p
[
i
] - '0';

41 *
	gµ
 = 
p
 + 
n
;

42 *
	gÅ
 = *
Å
 - 
n
;

43  
	gx
;

49 
št64_t
 
ASN1TimeToSec
(cÚ¡ * 
s
, 
size_t
 
Ëngth
, 
boŞ
 
lÚg_fÜm©
) {

50 
size_t
 
	gby‹s_Ëá
 = 
Ëngth
;

53 ià(
	gËngth
 =ğ0 || 
s
[
Ëngth
 - 1] != 'Z') {

58 
size_t
 
	gn
 = 
¡r¥n
(
»š‹½»t_ÿ¡
<cÚ¡ *>(
s
), "0123456789");

59 ià(
	gn
 + 1 !ğ
Ëngth
) {

64 
	gy—r
 = 0;

65 ià(
	glÚg_fÜm©
) {

68 ià(
	gby‹s_Ëá
 < 11) {

71 
	gy—r
 = 
ASN1R—dIÁ
(&
s
, &
by‹s_Ëá
, 4);

72 
	gy—r
 -= 1900;

76 ià(
	gby‹s_Ëá
 < 9) {

79 
	gy—r
 = 
ASN1R—dIÁ
(&
s
, &
by‹s_Ëá
, 2);

81 ià(
	gy—r
 < 50) {

82 
	gy—r
 += 100;

88 
tm
 
	gtm
;

89 
	gtm
.
	gtm_y—r
 = 
y—r
;

90 
	gtm
.
	gtm_mÚ
 = 
ASN1R—dIÁ
(&
s
, &
by‹s_Ëá
, 2) - 1;

91 
	gtm
.
	gtm_mday
 = 
ASN1R—dIÁ
(&
s
, &
by‹s_Ëá
, 2);

92 
	gtm
.
	gtm_hour
 = 
ASN1R—dIÁ
(&
s
, &
by‹s_Ëá
, 2);

93 
	gtm
.
	gtm_mš
 = 
ASN1R—dIÁ
(&
s
, &
by‹s_Ëá
, 2);

94 
	gtm
.
	gtm_£c
 = 
ASN1R—dIÁ
(&
s
, &
by‹s_Ëá
, 2);

97 ià(
	gby‹s_Ëá
 != 1) {

100  
TmToSecÚds
(
tm
);

107 cÚ¡ 
	gkPemTy³C”tifiÿ‹
[] = "CERTIFICATE";

108 cÚ¡ 
	gkPemTy³R§Priv©eKey
[] = "RSA PRIVATE KEY";

109 cÚ¡ 
	gkPemTy³EcPriv©eKey
[] = "EC PRIVATE KEY";

111 
	gKeyP¬ams
::
KeyP¬ams
(
KeyTy³
 
key_ty³
) {

112 ià(
key_ty³
 =ğ
KT_ECDSA
) {

113 
ty³_
 = 
KT_ECDSA
;

114 
	g·¿ms_
.
	gcurve
 = 
EC_NIST_P256
;

115 } ià(
	gkey_ty³
 =ğ
KT_RSA
) {

116 
ty³_
 = 
KT_RSA
;

117 
	g·¿ms_
.
	gr§
.
	gmod_size
 = 
kR§DeçuÉModSize
;

118 
	g·¿ms_
.
	gr§
.
	gpub_exp
 = 
kR§DeçuÉExpÚ’t
;

120 
RTC_NOTREACHED
();

125 
KeyP¬ams
 
	gKeyP¬ams
::
RSA
(
mod_size
, 
pub_exp
) {

126 
KeyP¬ams
 
kt
(
KT_RSA
);

127 
	gkt
.
	g·¿ms_
.
	gr§
.
	gmod_size
 = 
mod_size
;

128 
	gkt
.
	g·¿ms_
.
	gr§
.
	gpub_exp
 = 
pub_exp
;

129  
	gkt
;

133 
KeyP¬ams
 
	gKeyP¬ams
::
ECDSA
(
ECCurve
 
curve
) {

134 
KeyP¬ams
 
kt
(
KT_ECDSA
);

135 
	gkt
.
	g·¿ms_
.
	gcurve
 = 
curve
;

136  
	gkt
;

139 
boŞ
 
	gKeyP¬ams
::
IsV®id
() const {

140 ià(
ty³_
 =ğ
KT_RSA
) {

141  (
·¿ms_
.
r§
.
mod_size
 >ğ
kR§MšModSize
 &&

142 
·¿ms_
.
r§
.
mod_size
 <ğ
kR§MaxModSize
 &&

143 
·¿ms_
.
r§
.
pub_exp
 >…¬ams_.r§.
mod_size
);

144 } ià(
	gty³_
 =ğ
KT_ECDSA
) {

145  (
·¿ms_
.
curve
 =ğ
EC_NIST_P256
);

147  
	gçl£
;

150 
RSAP¬ams
 
	gKeyP¬ams
::
r§_·¿ms
() const {

151 
RTC_DCHECK
(
ty³_
 =ğ
KT_RSA
);

152  
	g·¿ms_
.
	gr§
;

155 
ECCurve
 
	gKeyP¬ams
::
ec_curve
() const {

156 
RTC_DCHECK
(
ty³_
 =ğ
KT_ECDSA
);

157  
	g·¿ms_
.
	gcurve
;

160 
KeyTy³
 
IÁKeyTy³FamyToKeyTy³
(
key_ty³_çmy
) {

161  
	g¡©ic_ÿ¡
<
	gKeyTy³
>(
	gkey_ty³_çmy
);

168 
boŞ
 
	gSSLId’t™y
::
PemToD”
(cÚ¡ 
¡d
::
¡ršg
& 
³m_ty³
,

169 cÚ¡ 
¡d
::
¡ršg
& 
³m_¡ršg
,

170 
¡d
::
¡ršg
* 
d”
) {

173 
size_t
 
h—d”
 = 
³m_¡ršg
.
fšd
("-----BEGIN " + 
³m_ty³
 + "-----");

174 ià(
	gh—d”
 =ğ
¡d
::
¡ršg
::
Åos
) {

175  
çl£
;

177 
size_t
 
	gbody
 = 
³m_¡ršg
.
fšd
('\n', 
h—d”
);

178 ià(
	gbody
 =ğ
¡d
::
¡ršg
::
Åos
) {

179  
çl£
;

181 
size_t
 
	gŒa”
 = 
³m_¡ršg
.
fšd
("-----END " + 
³m_ty³
 + "-----");

182 ià(
	gŒa”
 =ğ
¡d
::
¡ršg
::
Åos
) {

183  
çl£
;

185 
	g¡d
::
¡ršg
 
šÃr
 = 
³m_¡ršg
.
sub¡r
(
body
 + 1, 
Œa”
 - (body + 1));

186 *
	gd”
 = 
Ba£64
::
Decode
(
šÃr
, Ba£64::
DO_PARSE_WHITE
 | Ba£64::
DO_PAD_ANY
 |

187 
Ba£64
::
DO_TERM_BUFFER
);

188  
	gŒue
;

191 
	g¡d
::
¡ršg
 
SSLId’t™y
::
D”ToPem
(cÚ¡ 
¡d
::¡ršg& 
³m_ty³
,

192 cÚ¡ * 
d©a
,

193 
size_t
 
Ëngth
) {

194 
	g¹c
::
SŒšgBud”
 
»suÉ
;

195 
	g»suÉ
 << "-----BEGIN " << 
	g³m_ty³
 << "-----\n";

197 
	g¡d
::
¡ršg
 
b64_’coded
;

198 
	gBa£64
::
EncodeFromA¼ay
(
d©a
, 
Ëngth
, &
b64_’coded
);

201 cÚ¡ 
size_t
 
	gkChunkSize
 = 64;

202 
size_t
 
	gchunks
 = (
b64_’coded
.
size
(è+ (
kChunkSize
 - 1)) / kChunkSize;

203 
size_t
 
	gi
 = 0, 
	gchunk_off£t
 = 0; i < 
	gchunks
;

204 ++
	gi
, 
	gchunk_off£t
 +ğ
kChunkSize
) {

205 
»suÉ
 << 
b64_’coded
.
sub¡r
(
chunk_off£t
, 
kChunkSize
);

206 
	g»suÉ
 << "\n";

208 
	g»suÉ
 << "-----END " << 
	g³m_ty³
 << "-----\n";

209  
	g»suÉ
.
R–—£
();

213 
	g¡d
::
unique_±r
<
SSLId’t™y
> SSLId’t™y::
C»©e
(cÚ¡ 
¡d
::
¡ršg
& 
commÚ_Çme
,

214 cÚ¡ 
KeyP¬ams
& 
key_·¿m
,

215 
time_t
 
û¹ifiÿ‹_liãtime
) {

216  
	gO³nSSLId’t™y
::
C»©eW™hExpœ©iÚ
(
commÚ_Çme
, 
key_·¿m
,

217 
û¹ifiÿ‹_liãtime
);

221 
	g¡d
::
unique_±r
<
SSLId’t™y
> SSLId’t™y::
C»©e
(cÚ¡ 
¡d
::
¡ršg
& 
commÚ_Çme
,

222 cÚ¡ 
KeyP¬ams
& 
key_·¿m
) {

223  
	gO³nSSLId’t™y
::
C»©eW™hExpœ©iÚ
(

224 
commÚ_Çme
, 
key_·¿m
, 
kDeçuÉC”tifiÿ‹LiãtimeInSecÚds
);

228 
	g¡d
::
unique_±r
<
SSLId’t™y
> SSLId’t™y::
C»©e
(cÚ¡ 
¡d
::
¡ršg
& 
commÚ_Çme
,

229 
KeyTy³
 
key_ty³
) {

230  
	gO³nSSLId’t™y
::
C»©eW™hExpœ©iÚ
(

231 
commÚ_Çme
, 
KeyP¬ams
(
key_ty³
), 
kDeçuÉC”tifiÿ‹LiãtimeInSecÚds
);

235 
	g¡d
::
unique_±r
<
SSLId’t™y
> SSLId’t™y::
C»©eFÜTe¡
(

236 cÚ¡ 
SSLId’t™yP¬ams
& 
·¿ms
) {

237  
O³nSSLId’t™y
::
C»©eFÜTe¡
(
·¿ms
);

242 
	g¡d
::
unique_±r
<
SSLId’t™y
> SSLId’t™y::
C»©eFromPEMSŒšgs
(

243 cÚ¡ 
¡d
::
¡ršg
& 
´iv©e_key
,

244 cÚ¡ 
¡d
::
¡ršg
& 
û¹ifiÿ‹
) {

245  
O³nSSLId’t™y
::
C»©eFromPEMSŒšgs
(
´iv©e_key
, 
û¹ifiÿ‹
);

250 
	g¡d
::
unique_±r
<
SSLId’t™y
> SSLId’t™y::
C»©eFromPEMChašSŒšgs
(

251 cÚ¡ 
¡d
::
¡ršg
& 
´iv©e_key
,

252 cÚ¡ 
¡d
::
¡ršg
& 
û¹ifiÿ‹_chaš
) {

253  
O³nSSLId’t™y
::
C»©eFromPEMChašSŒšgs
(
´iv©e_key
,

254 
û¹ifiÿ‹_chaš
);

257 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
SSLId’t™y
& 
a
, cÚ¡ 
	gSSLId’t™y
& 
	gb
) {

258  
	g¡©ic_ÿ¡
<cÚ¡ 
	gO³nSSLId’t™y
&>(
	ga
) ==

259 
¡©ic_ÿ¡
<cÚ¡ 
O³nSSLId’t™y
&>(
b
);

261 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
SSLId’t™y
& 
a
, cÚ¡ 
	gSSLId’t™y
& 
	gb
) {

262  !(
	ga
 =ğ
b
);

	@ssl_identity.h

13 #iâdeà
RTC_BASE_SSL_IDENTITY_H_


14 
	#RTC_BASE_SSL_IDENTITY_H_


	)

16 
	~<¡dšt.h
>

17 
	~<ùime
>

18 
	~<memÜy
>

19 
	~<¡ršg
>

21 
	~"¹c_ba£/d•»ÿtiÚ.h
"

22 
	~"¹c_ba£/sy¡em/¹c_expÜt.h
"

24 
Çme¥aû
 
	g¹c
 {

26 
şass
 
	gSSLC”tChaš
;

27 
şass
 
	gSSLC”tifiÿ‹
;

32 
	eKeyTy³
 { 
	gKT_RSA
, 
	gKT_ECDSA
, 
	gKT_LAST
, 
	gKT_DEFAULT
 = 
KT_ECDSA
 };

34 cÚ¡ 
	gkR§DeçuÉModSize
 = 1024;

35 cÚ¡ 
	gkR§DeçuÉExpÚ’t
 = 0x10001;

36 cÚ¡ 
	gkR§MšModSize
 = 1024;

37 cÚ¡ 
	gkR§MaxModSize
 = 8192;

40 cÚ¡ 
	gkDeçuÉC”tifiÿ‹LiãtimeInSecÚds
 =

44 cÚ¡ 
	gkC”tifiÿ‹WšdowInSecÚds
 = -60 * 60 * 24;

46 
	sRSAP¬ams
 {

47 
	gmod_size
;

48 
	gpub_exp
;

51 
	eECCurve
 { 
	gEC_NIST_P256
, 
	gEC_LAST
 };

53 şas 
	cRTC_EXPORT
 
	gKeyP¬ams
 {

54 
	gpublic
:

56 
ex¶ic™
 
KeyP¬ams
(
KeyTy³
 
key_ty³
 = 
KT_DEFAULT
);

59 
KeyP¬ams
 
RSA
(
mod_size
 = 
kR§DeçuÉModSize
,

60 
pub_exp
 = 
kR§DeçuÉExpÚ’t
);

63 
KeyP¬ams
 
ECDSA
(
ECCurve
 
curve
 = 
EC_NIST_P256
);

68 
boŞ
 
IsV®id
() const;

70 
RSAP¬ams
 
r§_·¿ms
() const;

72 
ECCurve
 
ec_curve
() const;

74 
KeyTy³
 
ty³
(ècÚ¡ {  
	gty³_
; }

76 
	g´iv©e
:

77 
KeyTy³
 
ty³_
;

79 
RSAP¬ams
 
	gr§
;

80 
ECCurve
 
	gcurve
;

81 } 
	g·¿ms_
;

87 
KeyTy³
 
IÁKeyTy³FamyToKeyTy³
(
key_ty³_çmy
);

92 
	sSSLId’t™yP¬ams
 {

93 
	g¡d
::
¡ršg
 
commÚ_Çme
;

94 
time_t
 
	gnÙ_befÜe
;

95 
time_t
 
	gnÙ_aá”
;

96 
KeyP¬ams
 
	gkey_·¿ms
;

102 şas 
	cRTC_EXPORT
 
	gSSLId’t™y
 {

103 
	gpublic
:

112 
¡d
::
unique_±r
<
SSLId’t™y
> 
C»©e
(cÚ¡ std::
¡ršg
& 
commÚ_Çme
,

113 cÚ¡ 
KeyP¬ams
& 
key_·¿m
,

114 
time_t
 
û¹ifiÿ‹_liãtime
);

115 
	g¡d
::
unique_±r
<
SSLId’t™y
> 
C»©e
(cÚ¡ 
¡d
::
¡ršg
& 
commÚ_Çme
,

116 cÚ¡ 
KeyP¬ams
& 
key_·¿m
);

117 
	g¡d
::
unique_±r
<
SSLId’t™y
> 
C»©e
(cÚ¡ 
¡d
::
¡ršg
& 
commÚ_Çme
,

118 
KeyTy³
 
key_ty³
);

121 
	g¡d
::
unique_±r
<
SSLId’t™y
> 
C»©eFÜTe¡
(

122 cÚ¡ 
SSLId’t™yP¬ams
& 
·¿ms
);

125 
	g¡d
::
unique_±r
<
SSLId’t™y
> 
C»©eFromPEMSŒšgs
(

126 cÚ¡ 
¡d
::
¡ršg
& 
´iv©e_key
,

127 cÚ¡ 
¡d
::
¡ršg
& 
û¹ifiÿ‹
);

130 
	g¡d
::
unique_±r
<
SSLId’t™y
> 
C»©eFromPEMChašSŒšgs
(

131 cÚ¡ 
¡d
::
¡ršg
& 
´iv©e_key
,

132 cÚ¡ 
¡d
::
¡ršg
& 
û¹ifiÿ‹_chaš
);

134 
	gvœtu®
 ~
SSLId’t™y
() {}

138 
	g¡d
::
unique_±r
<
SSLId’t™y
> 
ClÚe
(ècÚ¡ {  
ClÚeIÁ”Çl
(); }

141 
vœtu®
 cÚ¡ 
	gSSLC”tifiÿ‹
& 
û¹ifiÿ‹
() const = 0;

143 
vœtu®
 cÚ¡ 
	gSSLC”tChaš
& 
û¹_chaš
() const = 0;

144 
vœtu®
 
	g¡d
::
¡ršg
 
Priv©eKeyToPEMSŒšg
() const = 0;

145 
vœtu®
 
	g¡d
::
¡ršg
 
PublicKeyToPEMSŒšg
() const = 0;

148 
boŞ
 
PemToD”
(cÚ¡ 
¡d
::
¡ršg
& 
³m_ty³
,

149 cÚ¡ 
¡d
::
¡ršg
& 
³m_¡ršg
,

150 
¡d
::
¡ršg
* 
d”
);

151 
	g¡d
::
¡ršg
 
D”ToPem
(cÚ¡ 
¡d
::¡ršg& 
³m_ty³
,

152 cÚ¡ * 
d©a
,

153 
size_t
 
Ëngth
);

155 
	g´Ùeùed
:

156 
vœtu®
 
¡d
::
unique_±r
<
SSLId’t™y
> 
ClÚeIÁ”Çl
() const = 0;

159 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
SSLId’t™y
& 
a
, cÚ¡ 
	gSSLId’t™y
& 
	gb
);

160 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
SSLId’t™y
& 
a
, cÚ¡ 
	gSSLId’t™y
& 
	gb
);

165 
št64_t
 
ASN1TimeToSec
(cÚ¡ * 
s
, 
size_t
 
Ëngth
, 
boŞ
 
lÚg_fÜm©
);

167 cÚ¡ 
kPemTy³C”tifiÿ‹
[];

168 cÚ¡ 
kPemTy³R§Priv©eKey
[];

169 cÚ¡ 
kPemTy³EcPriv©eKey
[];

	@ssl_identity_unittest.cc

11 
	~<¡ršg.h
>

12 
	~<memÜy
>

13 
	~<¡ršg
>

14 
	~<veùÜ
>

16 
	~"ab¦/¡ršgs/¡r_»¶aû.h
"

17 
	~"¹c_ba£/checks.h
"

18 
	~"¹c_ba£/çke_s¦_id’t™y.h
"

19 
	~"¹c_ba£/h–³rs.h
"

20 
	~"¹c_ba£/loggšg.h
"

21 
	~"¹c_ba£/mes§ge_dige¡.h
"

22 
	~"¹c_ba£/s¦_fšg”´št.h
"

23 
	~"¹c_ba£/s¦_id’t™y.h
"

24 
	~"‹¡/g‹¡.h
"

26 
usšg
 
	g¹c
::
SSLId’t™y
;

28 cÚ¡ 
	gkTe¡C”tifiÿ‹
[] =

43 cÚ¡ 
	gkTe¡C”tSha1
[] = {0xA6, 0xC8, 0x59, 0xEA, 0xC3, 0x7E, 0x6D,

46 cÚ¡ 
	gkTe¡C”tSha224
[] = {

50 cÚ¡ 
	gkTe¡C”tSha256
[] = {

54 cÚ¡ 
	gkTe¡C”tSha384
[] = {

59 cÚ¡ 
	gkTe¡C”tSha512
[] = {

74 cÚ¡ 
	gkRSA_PRIVATE_KEY_PEM
[] =

91 cÚ¡ 
	gkRSA_PUBLIC_KEY_PEM
[] =

98 cÚ¡ 
	gkRSA_CERT_PEM
[] =

110 cÚ¡ 
	gkRSA_FINGERPRINT
[] =

113 cÚ¡ 
	gkRSA_FINGERPRINT_ALGORITHM
[] = "sha-256";

114 cÚ¡ 
	gkRSA_BASE64_CERTIFICATE
[] =

124 cÚ¡ 
	gkECDSA_PRIVATE_KEY_PEM
[] =

130 cÚ¡ 
	gkECDSA_PUBLIC_KEY_PEM
[] =

135 cÚ¡ 
	gkECDSA_CERT_PEM
[] =

144 cÚ¡ 
	gkECDSA_FINGERPRINT
[] =

147 cÚ¡ 
	gkECDSA_FINGERPRINT_ALGORITHM
[] = "sha-256";

148 cÚ¡ 
	gkECDSA_BASE64_CERTIFICATE
[] =

156 
	sId’t™yAndInfo
 {

157 
	m¡d
::
unique_±r
<
¹c
::
SSLId’t™y
> 
id’t™y
;

158 
	m¡d
::
veùÜ
<
¡d
::
¡ršg
> 
d”s
;

159 
	m¡d
::
veùÜ
<
¡d
::
¡ršg
> 
³ms
;

160 
	m¡d
::
veùÜ
<
¡d
::
¡ršg
> 
fšg”´šts
;

163 
Id’t™yAndInfo
 
C»©eFakeId’t™yAndInfoFromD”s
(

164 cÚ¡ 
¡d
::
veùÜ
<¡d::
¡ršg
>& 
d”s
) {

165 
RTC_CHECK
(!
d”s
.
em±y
());

166 
Id’t™yAndInfo
 
	gšfo
;

167 
	gšfo
.
	gd”s
 = 
d”s
;

168 cÚ¡ 
	g¡d
::
¡ršg
& 
d”
 : 
d”s
) {

169 
šfo
.
³ms
.
push_back
(
¹c
::
SSLId’t™y
::
D”ToPem
(

170 "CERTIFICATE", 
»š‹½»t_ÿ¡
<cÚ¡ *>(
d”
.
c_¡r
()),

171 
d”
.
Ëngth
()));

173 
	gšfo
.
	gid’t™y
.
»£t
(
Ãw
 
¹c
::
FakeSSLId’t™y
(
šfo
.
³ms
));

175 
size_t
 
	gi
 = 0; i < 
	gšfo
.
	g³ms
.
size
(); ++i) {

176 
	gab¦
::
SŒR•ÏûAÎ
({{"-----BEGIN CERTIFICATE-----", ""},

179 &
šfo
.
³ms
[
i
]);

183 cÚ¡ 
	g¹c
::
SSLC”tChaš
& 
chaš
 = 
šfo
.
id’t™y
->
û¹_chaš
();

184 
	g¡d
::
unique_±r
<
¹c
::
SSLFšg”´št
> 
å
;

185 
size_t
 
	gi
 = 0; i < 
	gchaš
.
G‘Size
(); i++) {

186 
	gå
 = 
¹c
::
SSLFšg”´št
::
C»©e
("sha-1", 
chaš
.
G‘
(
i
));

187 
EXPECT_TRUE
(
å
);

188 
	gšfo
.
	gfšg”´šts
.
push_back
(
å
->
G‘Rfc4572Fšg”´št
());

190 
EXPECT_EQ
(
šfo
.
d”s
.
size
(), info.
fšg”´šts
.size());

191  
	gšfo
;

194 şas 
	cSSLId’t™yTe¡
 : 
public
 ::
‹¡šg
::
Te¡
 {

195 
public
:

196 
	$S‘Up
(è
ov”ride
 {

197 
id’t™y_r§1_
 = 
SSLId’t™y
::
	`C»©e
("‹¡1", 
¹c
::
KT_RSA
);

198 
id’t™y_r§2_
 = 
SSLId’t™y
::
	`C»©e
("‹¡2", 
¹c
::
KT_RSA
);

199 
id’t™y_ecd§1_
 = 
SSLId’t™y
::
	`C»©e
("‹¡3", 
¹c
::
KT_ECDSA
);

200 
id’t™y_ecd§2_
 = 
SSLId’t™y
::
	`C»©e
("‹¡4", 
¹c
::
KT_ECDSA
);

202 
	`ASSERT_TRUE
(
id’t™y_r§1_
);

203 
	`ASSERT_TRUE
(
id’t™y_r§2_
);

204 
	`ASSERT_TRUE
(
id’t™y_ecd§1_
);

205 
	`ASSERT_TRUE
(
id’t™y_ecd§2_
);

207 
‹¡_û¹_
 = 
¹c
::
SSLC”tifiÿ‹
::
	`FromPEMSŒšg
(
kTe¡C”tifiÿ‹
);

208 
	`ASSERT_TRUE
(
‹¡_û¹_
);

211 
	$Te¡G‘SigÇtu»Dige¡AlgÜ™hm
() {

212 
¡d
::
¡ršg
 
dige¡_®gÜ™hm
;

214 
	`ASSERT_TRUE
(
id’t™y_r§1_
->
	`û¹ifiÿ‹
().
	`G‘SigÇtu»Dige¡AlgÜ™hm
(

215 &
dige¡_®gÜ™hm
));

216 
	`ASSERT_EQ
(
¹c
::
DIGEST_SHA_256
, 
dige¡_®gÜ™hm
);

218 
	`ASSERT_TRUE
(
id’t™y_r§2_
->
	`û¹ifiÿ‹
().
	`G‘SigÇtu»Dige¡AlgÜ™hm
(

219 &
dige¡_®gÜ™hm
));

220 
	`ASSERT_EQ
(
¹c
::
DIGEST_SHA_256
, 
dige¡_®gÜ™hm
);

222 
	`ASSERT_TRUE
(
id’t™y_ecd§1_
->
	`û¹ifiÿ‹
().
	`G‘SigÇtu»Dige¡AlgÜ™hm
(

223 &
dige¡_®gÜ™hm
));

224 
	`ASSERT_EQ
(
¹c
::
DIGEST_SHA_256
, 
dige¡_®gÜ™hm
);

226 
	`ASSERT_TRUE
(
id’t™y_ecd§2_
->
	`û¹ifiÿ‹
().
	`G‘SigÇtu»Dige¡AlgÜ™hm
(

227 &
dige¡_®gÜ™hm
));

228 
	`ASSERT_EQ
(
¹c
::
DIGEST_SHA_256
, 
dige¡_®gÜ™hm
);

231 
	`ASSERT_TRUE
(
‹¡_û¹_
->
	`G‘SigÇtu»Dige¡AlgÜ™hm
(&
dige¡_®gÜ™hm
));

232 
	`ASSERT_EQ
(
¹c
::
DIGEST_MD5
, 
dige¡_®gÜ™hm
);

233 
	}
}

235 
	tDige¡Ty³
[
¹c
::
Mes§geDige¡
::
kMaxSize
];

237 
	$Te¡Dige¡H–³r
(
Dige¡Ty³
 
dige¡
,

238 cÚ¡ 
SSLId’t™y
* 
id’t™y
,

239 cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
,

240 
size_t
 
ex³ùed_Ën
) {

241 
Dige¡Ty³
 
dige¡1
;

242 
size_t
 
dige¡_Ën
;

243 
boŞ
 
rv
;

245 
	`mem£t
(
dige¡
, 0, 
ex³ùed_Ën
);

246 
rv
 = 
id’t™y
->
	`û¹ifiÿ‹
().
	`Compu‹Dige¡
(
®gÜ™hm
, 
dige¡
,

247 (
Dige¡Ty³
), &
dige¡_Ën
);

248 
	`EXPECT_TRUE
(
rv
);

249 
	`EXPECT_EQ
(
ex³ùed_Ën
, 
dige¡_Ën
);

252 
	`mem£t
(
dige¡1
, 0xff, 
ex³ùed_Ën
);

253 
rv
 = 
id’t™y
->
	`û¹ifiÿ‹
().
	`Compu‹Dige¡
(
®gÜ™hm
, 
dige¡1
,

254 (
Dige¡Ty³
), &
dige¡_Ën
);

255 
	`EXPECT_TRUE
(
rv
);

256 
	`EXPECT_EQ
(
ex³ùed_Ën
, 
dige¡_Ën
);

258 
	`EXPECT_EQ
(0, 
	`memcmp
(
dige¡
, 
dige¡1
, 
ex³ùed_Ën
));

259 
	}
}

261 
	$Te¡Dige¡FÜG’”©edC”t
(cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
,

262 
size_t
 
ex³ùed_Ën
) {

263 
Dige¡Ty³
 
dige¡
[4];

265 
	`ASSERT_TRUE
(
ex³ùed_Ën
 <ğ(
Dige¡Ty³
));

267 
	`Te¡Dige¡H–³r
(
dige¡
[0], 
id’t™y_r§1_
.
	`g‘
(), 
®gÜ™hm
, 
ex³ùed_Ën
);

268 
	`Te¡Dige¡H–³r
(
dige¡
[1], 
id’t™y_r§2_
.
	`g‘
(), 
®gÜ™hm
, 
ex³ùed_Ën
);

269 
	`Te¡Dige¡H–³r
(
dige¡
[2], 
id’t™y_ecd§1_
.
	`g‘
(), 
®gÜ™hm
,

270 
ex³ùed_Ën
);

271 
	`Te¡Dige¡H–³r
(
dige¡
[3], 
id’t™y_ecd§2_
.
	`g‘
(), 
®gÜ™hm
,

272 
ex³ùed_Ën
);

276 
i
 = 0; i < 4; i++) {

277 
j
 = 0; j < 4; j++) {

278 ià(
i
 !ğ
j
)

279 
	`EXPECT_NE
(0, 
	`memcmp
(
dige¡
[
i
], dige¡[
j
], 
ex³ùed_Ën
));

282 
	}
}

284 
	$Te¡Dige¡FÜFixedC”t
(cÚ¡ 
¡d
::
¡ršg
& 
®gÜ™hm
,

285 
size_t
 
ex³ùed_Ën
,

286 cÚ¡ * 
ex³ùed_dige¡
) {

287 
boŞ
 
rv
;

288 
Dige¡Ty³
 
dige¡
;

289 
size_t
 
dige¡_Ën
;

291 
	`ASSERT_TRUE
(
ex³ùed_Ën
 <ğ(
Dige¡Ty³
));

293 
rv
 = 
‹¡_û¹_
->
	`Compu‹Dige¡
(
®gÜ™hm
, 
dige¡
, (digest),

294 &
dige¡_Ën
);

295 
	`EXPECT_TRUE
(
rv
);

296 
	`EXPECT_EQ
(
ex³ùed_Ën
, 
dige¡_Ën
);

297 
	`EXPECT_EQ
(0, 
	`memcmp
(
dige¡
, 
ex³ùed_dige¡
, 
ex³ùed_Ën
));

298 
	}
}

300 
	$Te¡ClÚšgId’t™y
(cÚ¡ 
SSLId’t™y
& 
id’t™y
) {

303 
¡d
::
¡ršg
 
´iv_³m
 = 
id’t™y
.
	`Priv©eKeyToPEMSŒšg
();

304 
¡d
::
¡ršg
 
publ_³m
 = 
id’t™y
.
	`PublicKeyToPEMSŒšg
();

305 
¡d
::
¡ršg
 
û¹_³m
 = 
id’t™y
.
	`û¹ifiÿ‹
().
	`ToPEMSŒšg
();

306 
¡d
::
unique_±r
<
SSLId’t™y
> 
şÚe
 =

307 
SSLId’t™y
::
	`C»©eFromPEMSŒšgs
(
´iv_³m
, 
û¹_³m
);

308 
	`EXPECT_TRUE
(
şÚe
);

311 
	`EXPECT_TRUE
(
id’t™y
 =ğ*
şÚe
);

312 
	`ASSERT_EQ
(
id’t™y
.
	`û¹ifiÿ‹
().
	`C”tifiÿ‹Expœ©iÚTime
(),

313 
şÚe
->
	`û¹ifiÿ‹
().
	`C”tifiÿ‹Expœ©iÚTime
());

323 
¡d
::
¡ršg
 
şÚe_´iv_³m
 = 
şÚe
->
	`Priv©eKeyToPEMSŒšg
();

324 
¡d
::
¡ršg
 
şÚe_publ_³m
 = 
şÚe
->
	`PublicKeyToPEMSŒšg
();

325 
¡d
::
¡ršg
 
şÚe_û¹_³m
 = 
şÚe
->
	`û¹ifiÿ‹
().
	`ToPEMSŒšg
();

326 
	`ASSERT_EQ
(
´iv_³m
, 
şÚe_´iv_³m
);

327 
	`ASSERT_EQ
(
publ_³m
, 
şÚe_publ_³m
);

328 
	`ASSERT_EQ
(
û¹_³m
, 
şÚe_û¹_³m
);

329 
	}
}

331 
	g´Ùeùed
:

332 
¡d
::
unique_±r
<
SSLId’t™y
> 
id’t™y_r§1_
;

333 
	g¡d
::
unique_±r
<
SSLId’t™y
> 
id’t™y_r§2_
;

334 
	g¡d
::
unique_±r
<
SSLId’t™y
> 
id’t™y_ecd§1_
;

335 
	g¡d
::
unique_±r
<
SSLId’t™y
> 
id’t™y_ecd§2_
;

336 
	g¡d
::
unique_±r
<
¹c
::
SSLC”tifiÿ‹
> 
‹¡_û¹_
;

339 
	$TEST_F
(
SSLId’t™yTe¡
, 
FixedDige¡SHA1
) {

340 
	`Te¡Dige¡FÜFixedC”t
(
¹c
::
DIGEST_SHA_1
, 20, 
kTe¡C”tSha1
);

341 
	}
}

344 
	$TEST_F
(
SSLId’t™yTe¡
, 
FixedDige¡SHA224
) {

345 
	`Te¡Dige¡FÜFixedC”t
(
¹c
::
DIGEST_SHA_224
, 28, 
kTe¡C”tSha224
);

346 
	}
}

348 
	$TEST_F
(
SSLId’t™yTe¡
, 
FixedDige¡SHA256
) {

349 
	`Te¡Dige¡FÜFixedC”t
(
¹c
::
DIGEST_SHA_256
, 32, 
kTe¡C”tSha256
);

350 
	}
}

352 
	$TEST_F
(
SSLId’t™yTe¡
, 
FixedDige¡SHA384
) {

353 
	`Te¡Dige¡FÜFixedC”t
(
¹c
::
DIGEST_SHA_384
, 48, 
kTe¡C”tSha384
);

354 
	}
}

356 
	$TEST_F
(
SSLId’t™yTe¡
, 
FixedDige¡SHA512
) {

357 
	`Te¡Dige¡FÜFixedC”t
(
¹c
::
DIGEST_SHA_512
, 64, 
kTe¡C”tSha512
);

358 
	}
}

361 
	$TEST_F
(
SSLId’t™yTe¡
, 
Dige¡SHA224
) {

362 
	`Te¡Dige¡FÜG’”©edC”t
(
¹c
::
DIGEST_SHA_224
, 28);

363 
	}
}

365 
	$TEST_F
(
SSLId’t™yTe¡
, 
Dige¡SHA256
) {

366 
	`Te¡Dige¡FÜG’”©edC”t
(
¹c
::
DIGEST_SHA_256
, 32);

367 
	}
}

369 
	$TEST_F
(
SSLId’t™yTe¡
, 
Dige¡SHA384
) {

370 
	`Te¡Dige¡FÜG’”©edC”t
(
¹c
::
DIGEST_SHA_384
, 48);

371 
	}
}

373 
	$TEST_F
(
SSLId’t™yTe¡
, 
Dige¡SHA512
) {

374 
	`Te¡Dige¡FÜG’”©edC”t
(
¹c
::
DIGEST_SHA_512
, 64);

375 
	}
}

377 
	$TEST_F
(
SSLId’t™yTe¡
, 
Id’t™yCom·risÚ
) {

378 
	`EXPECT_TRUE
(*
id’t™y_r§1_
 == *identity_rsa1_);

379 
	`EXPECT_FALSE
(*
id’t™y_r§1_
 =ğ*
id’t™y_r§2_
);

380 
	`EXPECT_FALSE
(*
id’t™y_r§1_
 =ğ*
id’t™y_ecd§1_
);

381 
	`EXPECT_FALSE
(*
id’t™y_r§1_
 =ğ*
id’t™y_ecd§2_
);

383 
	`EXPECT_TRUE
(*
id’t™y_r§2_
 == *identity_rsa2_);

384 
	`EXPECT_FALSE
(*
id’t™y_r§2_
 =ğ*
id’t™y_ecd§1_
);

385 
	`EXPECT_FALSE
(*
id’t™y_r§2_
 =ğ*
id’t™y_ecd§2_
);

387 
	`EXPECT_TRUE
(*
id’t™y_ecd§1_
 == *identity_ecdsa1_);

388 
	`EXPECT_FALSE
(*
id’t™y_ecd§1_
 =ğ*
id’t™y_ecd§2_
);

389 
	}
}

391 
	$TEST_F
(
SSLId’t™yTe¡
, 
FromPEMSŒšgsRSA
) {

392 
¡d
::
unique_±r
<
SSLId’t™y
> 
	`id’t™y
(

393 
SSLId’t™y
::
	`C»©eFromPEMSŒšgs
(
kRSA_PRIVATE_KEY_PEM
, 
kRSA_CERT_PEM
));

394 
	`EXPECT_TRUE
(
id’t™y
);

395 
	`EXPECT_EQ
(
kRSA_PRIVATE_KEY_PEM
, 
id’t™y
->
	`Priv©eKeyToPEMSŒšg
());

396 
	`EXPECT_EQ
(
kRSA_PUBLIC_KEY_PEM
, 
id’t™y
->
	`PublicKeyToPEMSŒšg
());

397 
	`EXPECT_EQ
(
kRSA_CERT_PEM
, 
id’t™y
->
	`û¹ifiÿ‹
().
	`ToPEMSŒšg
());

398 
	}
}

400 
	$TEST_F
(
SSLId’t™yTe¡
, 
FromPEMSŒšgsEC
) {

401 
¡d
::
unique_±r
<
SSLId’t™y
> 
	`id’t™y
(SSLId’t™y::
	`C»©eFromPEMSŒšgs
(

402 
kECDSA_PRIVATE_KEY_PEM
, 
kECDSA_CERT_PEM
));

403 
	`EXPECT_TRUE
(
id’t™y
);

404 
	`EXPECT_EQ
(
kECDSA_PRIVATE_KEY_PEM
, 
id’t™y
->
	`Priv©eKeyToPEMSŒšg
());

405 
	`EXPECT_EQ
(
kECDSA_PUBLIC_KEY_PEM
, 
id’t™y
->
	`PublicKeyToPEMSŒšg
());

406 
	`EXPECT_EQ
(
kECDSA_CERT_PEM
, 
id’t™y
->
	`û¹ifiÿ‹
().
	`ToPEMSŒšg
());

407 
	}
}

409 
	$TEST_F
(
SSLId’t™yTe¡
, 
ClÚeId’t™yRSA
) {

410 
	`Te¡ClÚšgId’t™y
(*
id’t™y_r§1_
);

411 
	`Te¡ClÚšgId’t™y
(*
id’t™y_r§2_
);

412 
	}
}

414 
	$TEST_F
(
SSLId’t™yTe¡
, 
ClÚeId’t™yECDSA
) {

415 
	`Te¡ClÚšgId’t™y
(*
id’t™y_ecd§1_
);

416 
	`Te¡ClÚšgId’t™y
(*
id’t™y_ecd§2_
);

417 
	}
}

419 
	$TEST_F
(
SSLId’t™yTe¡
, 
PemD”CÚv”siÚ
) {

420 
¡d
::
¡ršg
 
d”
;

421 
	`EXPECT_TRUE
(
SSLId’t™y
::
	`PemToD”
("CERTIFICATE", 
kTe¡C”tifiÿ‹
, &
d”
));

423 
	`EXPECT_EQ
(

424 
kTe¡C”tifiÿ‹
,

425 
SSLId’t™y
::
	`D”ToPem
("CERTIFICATE",

426 
»š‹½»t_ÿ¡
<cÚ¡ *>(
d”
.
	`d©a
()),

427 
d”
.
	`Ëngth
()));

428 
	}
}

430 
	$TEST_F
(
SSLId’t™yTe¡
, 
G‘SigÇtu»Dige¡AlgÜ™hm
) {

431 
	`Te¡G‘SigÇtu»Dige¡AlgÜ™hm
();

432 
	}
}

434 
	$TEST_F
(
SSLId’t™yTe¡
, 
SSLC”tifiÿ‹G‘StsRSA
) {

435 
¡d
::
unique_±r
<
SSLId’t™y
> 
	`id’t™y
(

436 
SSLId’t™y
::
	`C»©eFromPEMSŒšgs
(
kRSA_PRIVATE_KEY_PEM
, 
kRSA_CERT_PEM
));

437 
¡d
::
unique_±r
<
¹c
::
SSLC”tifiÿ‹Sts
> 
¡©s
 =

438 
id’t™y
->
	`û¹ifiÿ‹
().
	`G‘Sts
();

439 
	`EXPECT_EQ
(
¡©s
->
fšg”´št
, 
kRSA_FINGERPRINT
);

440 
	`EXPECT_EQ
(
¡©s
->
fšg”´št_®gÜ™hm
, 
kRSA_FINGERPRINT_ALGORITHM
);

441 
	`EXPECT_EQ
(
¡©s
->
ba£64_û¹ifiÿ‹
, 
kRSA_BASE64_CERTIFICATE
);

442 
	`EXPECT_FALSE
(
¡©s
->
issu”
);

443 
	}
}

445 
	$TEST_F
(
SSLId’t™yTe¡
, 
SSLC”tifiÿ‹G‘StsECDSA
) {

446 
¡d
::
unique_±r
<
SSLId’t™y
> 
	`id’t™y
(SSLId’t™y::
	`C»©eFromPEMSŒšgs
(

447 
kECDSA_PRIVATE_KEY_PEM
, 
kECDSA_CERT_PEM
));

448 
¡d
::
unique_±r
<
¹c
::
SSLC”tifiÿ‹Sts
> 
¡©s
 =

449 
id’t™y
->
	`û¹ifiÿ‹
().
	`G‘Sts
();

450 
	`EXPECT_EQ
(
¡©s
->
fšg”´št
, 
kECDSA_FINGERPRINT
);

451 
	`EXPECT_EQ
(
¡©s
->
fšg”´št_®gÜ™hm
, 
kECDSA_FINGERPRINT_ALGORITHM
);

452 
	`EXPECT_EQ
(
¡©s
->
ba£64_û¹ifiÿ‹
, 
kECDSA_BASE64_CERTIFICATE
);

453 
	`EXPECT_FALSE
(
¡©s
->
issu”
);

454 
	}
}

456 
	$TEST_F
(
SSLId’t™yTe¡
, 
SSLC”tifiÿ‹G‘StsW™hChaš
) {

457 
¡d
::
veùÜ
<¡d::
¡ršg
> 
d”s
;

458 
d”s
.
	`push_back
("every der„esults in");

459 
d”s
.
	`push_back
("an identity + certificate");

460 
d”s
.
	`push_back
("in‡ certificate chain");

461 
Id’t™yAndInfo
 
šfo
 = 
	`C»©eFakeId’t™yAndInfoFromD”s
(
d”s
);

462 
	`EXPECT_TRUE
(
šfo
.
id’t™y
);

463 
	`EXPECT_EQ
(
šfo
.
d”s
, ders);

464 
	`EXPECT_EQ
(
šfo
.
³ms
.
	`size
(), info.
d”s
.size());

465 
	`EXPECT_EQ
(
šfo
.
fšg”´šts
.
	`size
(), info.
d”s
.size());

467 
¡d
::
unique_±r
<
¹c
::
SSLC”tifiÿ‹Sts
> 
fœ¡_¡©s
 =

468 
šfo
.
id’t™y
->
	`û¹_chaš
().
	`G‘Sts
();

469 
¹c
::
SSLC”tifiÿ‹Sts
* 
û¹_¡©s
 = 
fœ¡_¡©s
.
	`g‘
();

470 
size_t
 
i
 = 0; i < 
šfo
.
d”s
.
	`size
(); ++i) {

471 
	`EXPECT_EQ
(
û¹_¡©s
->
fšg”´št
, 
šfo
.
fšg”´šts
[
i
]);

472 
	`EXPECT_EQ
(
û¹_¡©s
->
fšg”´št_®gÜ™hm
, "sha-1");

473 
	`EXPECT_EQ
(
û¹_¡©s
->
ba£64_û¹ifiÿ‹
, 
šfo
.
³ms
[
i
]);

474 
û¹_¡©s
 = c”t_¡©s->
issu”
.
	`g‘
();

475 
	`EXPECT_EQ
(
¡©ic_ÿ¡
<
boŞ
>(
û¹_¡©s
), 
i
 + 1 < 
šfo
.
d”s
.
	`size
());

477 
	}
}

479 şas 
	cSSLId’t™yExpœ©iÚTe¡
 : 
public
 ::
‹¡šg
::
Te¡
 {

480 
public
:

481 
	$SSLId’t™yExpœ©iÚTe¡
() {

483 
¹c
::
	`S‘RªdomTe¡Mode
(
Œue
);

485 ~
	$SSLId’t™yExpœ©iÚTe¡
(è
ov”ride
 {

487 
¹c
::
	`S‘RªdomTe¡Mode
(
çl£
);

488 
	}
}

490 
	$Te¡ASN1TimeToSec
() {

491 
	sa¢_exam¶e
 {

492 cÚ¡ * 
¡ršg
;

493 
boŞ
 
lÚg_fÜm©
;

494 
št64_t
 
wªt
;

495 } cÚ¡ 
d©a
[] = {

500 {"19700101000000Z", 
Œue
, 0},

501 {"700101000000Z", 
çl£
, 0},

502 {"19700101000001Z", 
Œue
, 1},

503 {"700101000001Z", 
çl£
, 1},

504 {"19700101000100Z", 
Œue
, 60},

505 {"19700101000101Z", 
Œue
, 61},

506 {"19700101010000Z", 
Œue
, 3600},

507 {"19700101010001Z", 
Œue
, 3601},

508 {"19700101010100Z", 
Œue
, 3660},

509 {"19700101010101Z", 
Œue
, 3661},

510 {"710911012345Z", 
çl£
, 53400225},

511 {"20000101000000Z", 
Œue
, 946684800},

512 {"20000101000000Z", 
Œue
, 946684800},

513 {"20151130140156Z", 
Œue
, 1448892116},

514 {"151130140156Z", 
çl£
, 1448892116},

515 {"20491231235959Z", 
Œue
, 2524607999},

516 {"491231235959Z", 
çl£
, 2524607999},

517 {"20500101000000Z", 
Œue
, 2524607999+1},

518 {"20700101000000Z", 
Œue
, 3155760000},

519 {"21000101000000Z", 
Œue
, 4102444800},

520 {"24000101000000Z", 
Œue
, 13569465600},

523 {"19700101000000", 
Œue
, -1},

524 {"19700101000000X", 
Œue
, -1},

525 {"197001010000000", 
Œue
, -1},

526 {"1970010100000000Z", 
Œue
, -1},

527 {"700101000000", 
çl£
, -1},

528 {"700101000000X", 
çl£
, -1},

529 {"7001010000000", 
çl£
, -1},

530 {"70010100000000Z", 
çl£
, -1},

531 {":9700101000000Z", 
Œue
, -1},

532 {"1:700101000001Z", 
Œue
, -1},

533 {"19:00101000100Z", 
Œue
, -1},

534 {"197:0101000101Z", 
Œue
, -1},

535 {"1970:101010000Z", 
Œue
, -1},

536 {"19700:01010001Z", 
Œue
, -1},

537 {"197001:1010100Z", 
Œue
, -1},

538 {"1970010:010101Z", 
Œue
, -1},

539 {"70010100:000Z", 
çl£
, -1},

540 {"700101000:01Z", 
çl£
, -1},

541 {"2000010100:000Z", 
Œue
, -1},

542 {"21000101000:00Z", 
Œue
, -1},

543 {"240001010000:0Z", 
Œue
, -1},

544 {"500101000000Z", 
çl£
, -1},

545 {"691231235959Z", 
çl£
, -1},

546 {"19611118043000Z", 
çl£
, -1},

551 
buf
[20];

554 cÚ¡‡uto& 
’Œy
 : 
d©a
) {

555 
size_t
 
Ëngth
 = 
	`¡¾’
(
’Œy
.
¡ršg
);

556 
	`memıy
(
buf
, 
’Œy
.
¡ršg
, 
Ëngth
);

557 
buf
[
Ëngth
] = 
¹c
::
	`C»©eRªdomId
();

558 
št64_t
 
»s
 = 
¹c
::
	`ASN1TimeToSec
(
buf
, 
Ëngth
, 
’Œy
.
lÚg_fÜm©
);

559 
	`RTC_LOG
(
LS_VERBOSE
è<< 
’Œy
.
¡ršg
;

560 
	`ASSERT_EQ
(
’Œy
.
wªt
, 
»s
);

563 cÚ¡‡uto& 
’Œy
 : 
d©a
) {

564 
size_t
 
Ëngth
 = 
	`¡¾’
(
’Œy
.
¡ršg
);

565 
	`memıy
(
buf
, 
’Œy
.
¡ršg
, 
Ëngth
);

566 
buf
[
Ëngth
] = 
¹c
::
	`C»©eRªdomId
();

567 
št64_t
 
»s
 = 
¹c
::
	`ASN1TimeToSec
(
buf
, 
Ëngth
 - 1, 
’Œy
.
lÚg_fÜm©
);

568 
	`RTC_LOG
(
LS_VERBOSE
è<< 
’Œy
.
¡ršg
;

569 
	`ASSERT_EQ
(-1, 
»s
);

571 
	}
}

573 
	$Te¡ExpœeTime
(
times
) {

576 
i
 = 0; i < 
times
; i++) {

579 
time_t
 
time_befÜe_g’”©iÚ
 = 
	`time
(
nuÎ±r
);

580 
time_t
 
liãtime
 =

581 
¹c
::
	`C»©eRªdomId
(è% (0x80000000 - 
time_befÜe_g’”©iÚ
);

582 
¹c
::
KeyP¬ams
 
key_·¿ms
 =„tc::KeyP¬ams::
	`ECDSA
Ôtc::
EC_NIST_P256
);

583 autØ
id’t™y
 =

584 
¹c
::
SSLId’t™y
::
	`C»©e
("", 
key_·¿ms
, 
liãtime
);

585 
time_t
 
time_aá”_g’”©iÚ
 = 
	`time
(
nuÎ±r
);

586 
	`EXPECT_LE
(
time_befÜe_g’”©iÚ
 + 
liãtime
,

587 
id’t™y
->
	`û¹ifiÿ‹
().
	`C”tifiÿ‹Expœ©iÚTime
());

588 
	`EXPECT_GE
(
time_aá”_g’”©iÚ
 + 
liãtime
,

589 
id’t™y
->
	`û¹ifiÿ‹
().
	`C”tifiÿ‹Expœ©iÚTime
());

591 
	}
}

594 
	$TEST_F
(
SSLId’t™yExpœ©iÚTe¡
, 
Te¡ASN1TimeToSec
) {

595 
	`Te¡ASN1TimeToSec
();

596 
	}
}

598 
	$TEST_F
(
SSLId’t™yExpœ©iÚTe¡
, 
Te¡ExpœeTime
) {

599 
	`Te¡ExpœeTime
(500);

600 
	}
}

	@ssl_roots.h

11 #iâdeà
RTC_BASE_SSL_ROOTS_H_


12 
	#RTC_BASE_SSL_ROOTS_H_


	)

29 cÚ¡ 
	gComodo_AAA_S”viûs_roÙ_û¹ifiÿ‹
[1078]={

105 cÚ¡ 
	gGlob®Sign_RoÙ_CA___R6_û¹ifiÿ‹
[1415]={

202 cÚ¡ 
	gDigiC”t_Glob®_RoÙ_CA_û¹ifiÿ‹
[947]={

270 cÚ¡ 
	gUSERTru¡_RSA_C”tifiÿtiÚ_AuthÜ™y_û¹ifiÿ‹
[1506]={

373 cÚ¡ 
	gGlob®Sign_RoÙ_CA___R3_û¹ifiÿ‹
[867]={

436 cÚ¡ 
	gGlob®Sign_RoÙ_CA___R2_û¹ifiÿ‹
[958]={

504 cÚ¡ 
	gAffœmTru¡_P»mium_û¹ifiÿ‹
[1354]={

597 cÚ¡ 
	gGTS_RoÙ_R4_û¹ifiÿ‹
[526]={

638 cÚ¡ 
	gB®timÜe_Cyb”Tru¡_RoÙ_û¹ifiÿ‹
[891]={

702 cÚ¡ 
	gDigiC”t_Assu»d_ID_RoÙ_CA_û¹ifiÿ‹
[955]={

770 cÚ¡ 
	gSrf›ld_RoÙ_C”tifiÿ‹_AuthÜ™y___G2_û¹ifiÿ‹
[993]={

841 cÚ¡ 
	gAffœmTru¡_N‘wÜkšg_û¹ifiÿ‹
[848]={

902 cÚ¡ 
	gGlob®Sign_RoÙ_CA_û¹ifiÿ‹
[889]={

966 cÚ¡ 
	gGTS_RoÙ_R3_û¹ifiÿ‹
[528]={

1007 cÚ¡ 
	gCOMODO_RSA_C”tifiÿtiÚ_AuthÜ™y_û¹ifiÿ‹
[1500]={

1109 cÚ¡ 
	gGTS_RoÙ_R2_û¹ifiÿ‹
[1374]={

1203 cÚ¡ 
	gCyb”Œu¡_Glob®_RoÙ_û¹ifiÿ‹
[933]={

1270 cÚ¡ 
	gGTS_RoÙ_R1_û¹ifiÿ‹
[1374]={

1364 cÚ¡ 
	gDigiC”t_Glob®_RoÙ_G3_û¹ifiÿ‹
[579]={

1409 cÚ¡ 
	gDigiC”t_Glob®_RoÙ_G2_û¹ifiÿ‹
[914]={

1475 cÚ¡ 
	gSrf›ld_CÏss_2_CA_û¹ifiÿ‹
[1043]={

1549 cÚ¡ 
	gCOMODO_C”tifiÿtiÚ_AuthÜ™y_û¹ifiÿ‹
[1057]={

1624 cÚ¡ 
	gGlob®Sign_ECC_RoÙ_CA___R4_û¹ifiÿ‹
[485]={

1663 cÚ¡ 
	gGlob®Sign_ECC_RoÙ_CA___R5_û¹ifiÿ‹
[546]={

1706 cÚ¡ 
	gAddTru¡_Ex‹º®_RoÙ_û¹ifiÿ‹
[1082]={

1782 cÚ¡ 
	gUSERTru¡_ECC_C”tifiÿtiÚ_AuthÜ™y_û¹ifiÿ‹
[659]={

1832 cÚ¡ 
	gEÁru¡_Ãt_P»mium_2048_Secu»_S”v”_CA_û¹ifiÿ‹
[1070]={

1907 cÚ¡ 
	gAffœmTru¡_P»mium_ECC_û¹ifiÿ‹
[514]={

1948 cÚ¡ 
	gDigiC”t_High_Assu¿nû_EV_RoÙ_CA_û¹ifiÿ‹
[969]={

2017 cÚ¡ 
	gEÁru¡_RoÙ_C”tifiÿtiÚ_AuthÜ™y___G2_û¹ifiÿ‹
[1090]={

2094 cÚ¡ 
	gGo_Daddy_CÏss_2_CA_û¹ifiÿ‹
[1028]={

2167 cÚ¡ 
	gAffœmTru¡_Comm”cŸl_û¹ifiÿ‹
[848]={

2228 cÚ¡ 
	gEÁru¡_RoÙ_C”tifiÿtiÚ_AuthÜ™y_û¹ifiÿ‹
[1173]={

2310 cÚ¡ 
	gDigiC”t_Assu»d_ID_RoÙ_G2_û¹ifiÿ‹
[922]={

2376 cÚ¡ 
	gDigiC”t_Tru¡ed_RoÙ_G4_û¹ifiÿ‹
[1428]={

2474 cÚ¡ 
	gCOMODO_ECC_C”tifiÿtiÚ_AuthÜ™y_û¹ifiÿ‹
[653]={

2523 cÚ¡ 
	gEÁru¡_RoÙ_C”tifiÿtiÚ_AuthÜ™y___EC1_û¹ifiÿ‹
[765]={

2579 cÚ¡ 
	gGlob®Sign_RoÙ_CA___R8_û¹ifiÿ‹
[567]={

2623 cÚ¡ 
	gGeoTru¡_Glob®_CA_û¹ifiÿ‹
[856]={

2685 cÚ¡ 
	gDigiC”t_Assu»d_ID_RoÙ_G3_û¹ifiÿ‹
[586]={

2730 cÚ¡ 
	gGo_Daddy_RoÙ_C”tifiÿ‹_AuthÜ™y___G2_û¹ifiÿ‹
[969]={

2795 cÚ¡ * cÚ¡ 
	gkSSLC”tC”tifiÿ‹Li¡
[] = {

2796 
Comodo_AAA_S”viûs_roÙ_û¹ifiÿ‹
,

2797 
Glob®Sign_RoÙ_CA___R6_û¹ifiÿ‹
,

2798 
DigiC”t_Glob®_RoÙ_CA_û¹ifiÿ‹
,

2799 
USERTru¡_RSA_C”tifiÿtiÚ_AuthÜ™y_û¹ifiÿ‹
,

2800 
Glob®Sign_RoÙ_CA___R3_û¹ifiÿ‹
,

2801 
Glob®Sign_RoÙ_CA___R2_û¹ifiÿ‹
,

2802 
AffœmTru¡_P»mium_û¹ifiÿ‹
,

2803 
GTS_RoÙ_R4_û¹ifiÿ‹
,

2804 
B®timÜe_Cyb”Tru¡_RoÙ_û¹ifiÿ‹
,

2805 
DigiC”t_Assu»d_ID_RoÙ_CA_û¹ifiÿ‹
,

2806 
Srf›ld_RoÙ_C”tifiÿ‹_AuthÜ™y___G2_û¹ifiÿ‹
,

2807 
AffœmTru¡_N‘wÜkšg_û¹ifiÿ‹
,

2808 
Glob®Sign_RoÙ_CA_û¹ifiÿ‹
,

2809 
GTS_RoÙ_R3_û¹ifiÿ‹
,

2810 
COMODO_RSA_C”tifiÿtiÚ_AuthÜ™y_û¹ifiÿ‹
,

2811 
GTS_RoÙ_R2_û¹ifiÿ‹
,

2812 
Cyb”Œu¡_Glob®_RoÙ_û¹ifiÿ‹
,

2813 
GTS_RoÙ_R1_û¹ifiÿ‹
,

2814 
DigiC”t_Glob®_RoÙ_G3_û¹ifiÿ‹
,

2815 
DigiC”t_Glob®_RoÙ_G2_û¹ifiÿ‹
,

2816 
Srf›ld_CÏss_2_CA_û¹ifiÿ‹
,

2817 
COMODO_C”tifiÿtiÚ_AuthÜ™y_û¹ifiÿ‹
,

2818 
Glob®Sign_ECC_RoÙ_CA___R4_û¹ifiÿ‹
,

2819 
Glob®Sign_ECC_RoÙ_CA___R5_û¹ifiÿ‹
,

2820 
AddTru¡_Ex‹º®_RoÙ_û¹ifiÿ‹
,

2821 
USERTru¡_ECC_C”tifiÿtiÚ_AuthÜ™y_û¹ifiÿ‹
,

2822 
EÁru¡_Ãt_P»mium_2048_Secu»_S”v”_CA_û¹ifiÿ‹
,

2823 
AffœmTru¡_P»mium_ECC_û¹ifiÿ‹
,

2824 
DigiC”t_High_Assu¿nû_EV_RoÙ_CA_û¹ifiÿ‹
,

2825 
EÁru¡_RoÙ_C”tifiÿtiÚ_AuthÜ™y___G2_û¹ifiÿ‹
,

2826 
Go_Daddy_CÏss_2_CA_û¹ifiÿ‹
,

2827 
AffœmTru¡_Comm”cŸl_û¹ifiÿ‹
,

2828 
EÁru¡_RoÙ_C”tifiÿtiÚ_AuthÜ™y_û¹ifiÿ‹
,

2829 
DigiC”t_Assu»d_ID_RoÙ_G2_û¹ifiÿ‹
,

2830 
DigiC”t_Tru¡ed_RoÙ_G4_û¹ifiÿ‹
,

2831 
COMODO_ECC_C”tifiÿtiÚ_AuthÜ™y_û¹ifiÿ‹
,

2832 
EÁru¡_RoÙ_C”tifiÿtiÚ_AuthÜ™y___EC1_û¹ifiÿ‹
,

2833 
Glob®Sign_RoÙ_CA___R8_û¹ifiÿ‹
,

2834 
GeoTru¡_Glob®_CA_û¹ifiÿ‹
,

2835 
DigiC”t_Assu»d_ID_RoÙ_G3_û¹ifiÿ‹
,

2836 
Go_Daddy_RoÙ_C”tifiÿ‹_AuthÜ™y___G2_û¹ifiÿ‹
,

2839 cÚ¡ 
size_t
 
	gkSSLC”tC”tifiÿ‹SizeLi¡
[] = {

	@ssl_stream_adapter.cc

11 
	~"¹c_ba£/s¦_¡»am_ad­‹r.h
"

13 
	~"ab¦/memÜy/memÜy.h
"

14 
	~"¹c_ba£/İ’s¦_¡»am_ad­‹r.h
"

18 
Çme¥aû
 
	g¹c
 {

22 cÚ¡ 
	gCS_AES_CM_128_HMAC_SHA1_80
[] = "AES_CM_128_HMAC_SHA1_80";

23 cÚ¡ 
	gCS_AES_CM_128_HMAC_SHA1_32
[] = "AES_CM_128_HMAC_SHA1_32";

24 cÚ¡ 
	gCS_AEAD_AES_128_GCM
[] = "AEAD_AES_128_GCM";

25 cÚ¡ 
	gCS_AEAD_AES_256_GCM
[] = "AEAD_AES_256_GCM";

27 
	g¡d
::
¡ršg
 
S¹pCry±oSu™eToName
(
üy±o_su™e
) {

28 
üy±o_su™e
) {

29 
SRTP_AES128_CM_SHA1_32
:

30  
CS_AES_CM_128_HMAC_SHA1_32
;

31 
	gSRTP_AES128_CM_SHA1_80
:

32  
CS_AES_CM_128_HMAC_SHA1_80
;

33 
	gSRTP_AEAD_AES_128_GCM
:

34  
CS_AEAD_AES_128_GCM
;

35 
	gSRTP_AEAD_AES_256_GCM
:

36  
CS_AEAD_AES_256_GCM
;

38  
¡d
::
¡ršg
();

42 
S¹pCry±oSu™eFromName
(cÚ¡ 
¡d
::
¡ršg
& 
üy±o_su™e
) {

43 ià(
üy±o_su™e
 =ğ
CS_AES_CM_128_HMAC_SHA1_32
)

44  
SRTP_AES128_CM_SHA1_32
;

45 ià(
	güy±o_su™e
 =ğ
CS_AES_CM_128_HMAC_SHA1_80
)

46  
SRTP_AES128_CM_SHA1_80
;

47 ià(
	güy±o_su™e
 =ğ
CS_AEAD_AES_128_GCM
)

48  
SRTP_AEAD_AES_128_GCM
;

49 ià(
	güy±o_su™e
 =ğ
CS_AEAD_AES_256_GCM
)

50  
SRTP_AEAD_AES_256_GCM
;

51  
	gSRTP_INVALID_CRYPTO_SUITE
;

54 
boŞ
 
G‘S¹pKeyAndS®tL’gths
(
üy±o_su™e
,

55 * 
key_Ëngth
,

56 * 
§É_Ëngth
) {

57 
	güy±o_su™e
) {

58 
	gSRTP_AES128_CM_SHA1_32
:

59 
SRTP_AES128_CM_SHA1_80
:

62 *
key_Ëngth
 = 16;

63 *
	g§É_Ëngth
 = 14;

65 
	gSRTP_AEAD_AES_128_GCM
:

68 *
key_Ëngth
 = 16;

69 *
	g§É_Ëngth
 = 12;

71 
	gSRTP_AEAD_AES_256_GCM
:

74 *
key_Ëngth
 = 32;

75 *
	g§É_Ëngth
 = 12;

78  
çl£
;

80  
	gŒue
;

83 
boŞ
 
IsGcmCry±oSu™e
(
üy±o_su™e
) {

84  (
	güy±o_su™e
 =ğ
SRTP_AEAD_AES_256_GCM
 ||

85 
üy±o_su™e
 =ğ
SRTP_AEAD_AES_128_GCM
);

88 
boŞ
 
IsGcmCry±oSu™eName
(cÚ¡ 
¡d
::
¡ršg
& 
üy±o_su™e
) {

89  (
üy±o_su™e
 =ğ
CS_AEAD_AES_256_GCM
 ||

90 
üy±o_su™e
 =ğ
CS_AEAD_AES_128_GCM
);

93 
	g¡d
::
unique_±r
<
SSLSŒ—mAd­‹r
> SSLSŒ—mAd­‹r::
C»©e
(

94 
¡d
::
unique_±r
<
SŒ—mIÁ”çû
> 
¡»am
) {

95  
¡d
::
make_unique
<
O³nSSLSŒ—mAd­‹r
>(¡d::
move
(
¡»am
));

98 
	gSSLSŒ—mAd­‹r
::
SSLSŒ—mAd­‹r
(
¡d
::
unique_±r
<
SŒ—mIÁ”çû
> 
¡»am
)

99 : 
SŒ—mAd­‹rIÁ”çû
(
¡»am
.
»Ëa£
()) {}

101 
SSLSŒ—mAd­‹r
::~SSLStreamAdapter() {}

103 
boŞ
 
SSLSŒ—mAd­‹r
::
G‘S¦Ch”Su™e
(* 
ch”_su™e
) {

104  
çl£
;

107 
boŞ
 
	gSSLSŒ—mAd­‹r
::
ExpÜtKeyšgM©”Ÿl
(cÚ¡ 
¡d
::
¡ršg
& 
Ïb–
,

108 cÚ¡ 
ušt8_t
* 
cÚ‹xt
,

109 
size_t
 
cÚ‹xt_Ën
,

110 
boŞ
 
u£_cÚ‹xt
,

111 
ušt8_t
* 
»suÉ
,

112 
size_t
 
»suÉ_Ën
) {

113  
	gçl£
;

116 
boŞ
 
	gSSLSŒ—mAd­‹r
::
S‘DsS¹pCry±oSu™es
(

117 cÚ¡ 
¡d
::
veùÜ
<>& 
üy±o_su™es
) {

118  
çl£
;

121 
boŞ
 
	gSSLSŒ—mAd­‹r
::
G‘DsS¹pCry±oSu™e
(* 
üy±o_su™e
) {

122  
çl£
;

125 
boŞ
 
	gSSLSŒ—mAd­‹r
::
IsBÜšgS¦
() {

126  
O³nSSLSŒ—mAd­‹r
::
IsBÜšgS¦
();

128 
boŞ
 
	gSSLSŒ—mAd­‹r
::
IsAcû±abËCh”
(
ch”
, 
KeyTy³
 
key_ty³
) {

129  
	gO³nSSLSŒ—mAd­‹r
::
IsAcû±abËCh”
(
ch”
, 
key_ty³
);

131 
boŞ
 
	gSSLSŒ—mAd­‹r
::
IsAcû±abËCh”
(cÚ¡ 
¡d
::
¡ršg
& 
ch”
,

132 
KeyTy³
 
key_ty³
) {

133  
	gO³nSSLSŒ—mAd­‹r
::
IsAcû±abËCh”
(
ch”
, 
key_ty³
);

135 
	g¡d
::
¡ršg
 
SSLSŒ—mAd­‹r
::
S¦Ch”Su™eToName
(
ch”_su™e
) {

136  
O³nSSLSŒ—mAd­‹r
::
S¦Ch”Su™eToName
(
ch”_su™e
);

143 
	gSSLSŒ—mAd­‹r
::
EÇbËTimeC®lbackFÜTe¡šg
() {

144 
O³nSSLSŒ—mAd­‹r
::
EÇbËTimeC®lbackFÜTe¡šg
();

	@ssl_stream_adapter.h

11 #iâdeà
RTC_BASE_SSL_STREAM_ADAPTER_H_


12 
	#RTC_BASE_SSL_STREAM_ADAPTER_H_


	)

14 
	~<¡ddef.h
>

15 
	~<¡dšt.h
>

16 
	~<memÜy
>

17 
	~<¡ršg
>

18 
	~<veùÜ
>

20 
	~"ab¦/memÜy/memÜy.h
"

21 
	~"¹c_ba£/d•»ÿtiÚ.h
"

22 
	~"¹c_ba£/s¦_û¹ifiÿ‹.h
"

23 
	~"¹c_ba£/s¦_id’t™y.h
"

24 
	~"¹c_ba£/¡»am.h
"

25 
	~"¹c_ba£/thœd_·¹y/sig¦Ù/sig¦Ù.h
"

27 
Çme¥aû
 
	g¹c
 {

30 cÚ¡ 
	gTLS_NULL_WITH_NULL_NULL
 = 0;

31 cÚ¡ 
	gSSL_CIPHER_SUITE_MAX_VALUE
 = 0xFFFF;

34 cÚ¡ 
	gSRTP_INVALID_CRYPTO_SUITE
 = 0;

35 #iâdeà
SRTP_AES128_CM_SHA1_80


36 cÚ¡ 
	gSRTP_AES128_CM_SHA1_80
 = 0x0001;

38 #iâdeà
SRTP_AES128_CM_SHA1_32


39 cÚ¡ 
	gSRTP_AES128_CM_SHA1_32
 = 0x0002;

41 #iâdeà
SRTP_AEAD_AES_128_GCM


42 cÚ¡ 
	gSRTP_AEAD_AES_128_GCM
 = 0x0007;

44 #iâdeà
SRTP_AEAD_AES_256_GCM


45 cÚ¡ 
	gSRTP_AEAD_AES_256_GCM
 = 0x0008;

47 cÚ¡ 
	gSRTP_CRYPTO_SUITE_MAX_VALUE
 = 0xFFFF;

51 cÚ¡ 
CS_AES_CM_128_HMAC_SHA1_80
[];

53 cÚ¡ 
CS_AES_CM_128_HMAC_SHA1_32
[];

55 cÚ¡ 
CS_AEAD_AES_128_GCM
[];

57 cÚ¡ 
CS_AEAD_AES_256_GCM
[];

62 
	g¡d
::
¡ršg
 
S¹pCry±oSu™eToName
(
üy±o_su™e
);

65 
S¹pCry±oSu™eFromName
(cÚ¡ 
¡d
::
¡ršg
& 
üy±o_su™e
);

69 
boŞ
 
G‘S¹pKeyAndS®tL’gths
(
üy±o_su™e
,

70 * 
key_Ëngth
,

71 * 
§É_Ëngth
);

74 
boŞ
 
IsGcmCry±oSu™e
(
üy±o_su™e
);

77 
boŞ
 
IsGcmCry±oSu™eName
(cÚ¡ 
¡d
::
¡ršg
& 
üy±o_su™e
);

93 
	eSSLRŞe
 { 
	gSSL_CLIENT
, 
	gSSL_SERVER
 };

94 
	eSSLMode
 { 
	gSSL_MODE_TLS
, 
	gSSL_MODE_DTLS
 };

101 
	eSSLPrÙocŞV”siÚ
 {

102 
	gSSL_PROTOCOL_NOT_GIVEN
 = -1,

103 
	gSSL_PROTOCOL_TLS_10
 = 0,

104 
	gSSL_PROTOCOL_TLS_11
,

105 
	gSSL_PROTOCOL_TLS_12
,

106 
	gSSL_PROTOCOL_DTLS_10
 = 
SSL_PROTOCOL_TLS_11
,

107 
	gSSL_PROTOCOL_DTLS_12
 = 
SSL_PROTOCOL_TLS_12
,

109 şas 
	cSSLP“rC”tifiÿ‹Dige¡E¼Ü
 {

110 
	gNONE
,

111 
	gUNKNOWN_ALGORITHM
,

112 
	gINVALID_LENGTH
,

113 
	gVERIFICATION_FAILED
,

117 ’um { 
	gSSE_MSG_TRUNC
 = 0xff0001 };

120 şas 
	cSSLHªdshakeE¼Ü
 { 
	gUNKNOWN
, 
	gINCOMPATIBLE_CIPHERSUITE
, 
	gMAX_VALUE
 };

122 şas 
	cSSLSŒ—mAd­‹r
 : 
public
 
SŒ—mAd­‹rIÁ”çû
 {

123 
public
:

127 
¡d
::
unique_±r
<
SSLSŒ—mAd­‹r
> 
C»©e
(

128 
¡d
::
unique_±r
<
SŒ—mIÁ”çû
> 
¡»am
);

130 
ex¶ic™
 
SSLSŒ—mAd­‹r
(
¡d
::
unique_±r
<
SŒ—mIÁ”çû
> 
¡»am
);

131 ~
SSLSŒ—mAd­‹r
(è
	gov”ride
;

136 
vœtu®
 
S‘Id’t™y
(
¡d
::
unique_±r
<
SSLId’t™y
> 
id’t™y
) = 0;

137 
vœtu®
 
SSLId’t™y
* 
G‘Id’t™yFÜTe¡šg
() const = 0;

143 
vœtu®
 
S‘S”v”RŞe
(
SSLRŞe
 
rŞe
 = 
SSL_SERVER
) = 0;

146 
vœtu®
 
S‘Mode
(
SSLMode
 
mode
) = 0;

153 
vœtu®
 
S‘MaxPrÙocŞV”siÚ
(
SSLPrÙocŞV”siÚ
 
v”siÚ
) = 0;

159 
vœtu®
 
S‘In™ŸlR‘¿nsmissiÚTimeout
(
timeout_ms
) = 0;

177 
vœtu®
 
S¹SSL
() = 0;

187 
vœtu®
 
boŞ
 
S‘P“rC”tifiÿ‹Dige¡
(

188 cÚ¡ 
¡d
::
¡ršg
& 
dige¡_®g
,

189 cÚ¡ * 
dige¡_v®
,

190 
size_t
 
dige¡_Ën
,

191 
SSLP“rC”tifiÿ‹Dige¡E¼Ü
* 
”rÜ
 = 
nuÎ±r
) = 0;

195 
vœtu®
 
	g¡d
::
unique_±r
<
SSLC”tChaš
> 
G‘P“rSSLC”tChaš
() const = 0;

199 
vœtu®
 
boŞ
 
G‘S¦Ch”Su™e
(* 
ch”_su™e
);

203 
vœtu®
 
SSLPrÙocŞV”siÚ
 
G‘S¦V”siÚ
() const = 0;

206 
vœtu®
 
boŞ
 
G‘S¦V”siÚBy‹s
(* 
v”siÚ
) const = 0;

220 
vœtu®
 
boŞ
 
ExpÜtKeyšgM©”Ÿl
(cÚ¡ 
¡d
::
¡ršg
& 
Ïb–
,

221 cÚ¡ 
ušt8_t
* 
cÚ‹xt
,

222 
size_t
 
cÚ‹xt_Ën
,

223 
boŞ
 
u£_cÚ‹xt
,

224 
ušt8_t
* 
»suÉ
,

225 
size_t
 
»suÉ_Ën
);

228 
vœtu®
 
boŞ
 
S‘DsS¹pCry±oSu™es
(cÚ¡ 
¡d
::
veùÜ
<>& 
üy±o_su™es
);

229 
vœtu®
 
boŞ
 
G‘DsS¹pCry±oSu™e
(* 
üy±o_su™e
);

235 
vœtu®
 
boŞ
 
IsTlsCÚÃùed
() = 0;

240 
boŞ
 
IsBÜšgS¦
();

244 
boŞ
 
IsAcû±abËCh”
(
ch”
, 
KeyTy³
 
key_ty³
);

245 
boŞ
 
IsAcû±abËCh”
(cÚ¡ 
¡d
::
¡ršg
& 
ch”
, 
KeyTy³
 
key_ty³
);

250 
	g¡d
::
¡ršg
 
S¦Ch”Su™eToName
(
ch”_su™e
);

258 
EÇbËTimeC®lbackFÜTe¡šg
();

262 
S‘Cl›ÁAuthEÇbËdFÜTe¡šg
(
boŞ
 
’abËd
) {

263 
	gş›Á_auth_’abËd_
 = 
’abËd
;

269 
boŞ
 
G‘Cl›ÁAuthEÇbËd
(ècÚ¡ {  
	gş›Á_auth_’abËd_
; }

271 
	gsig¦Ù
::
sigÇl1
<
SSLHªdshakeE¼Ü
> 
SigÇlSSLHªdshakeE¼Ü
;

273 
	g´iv©e
:

277 
boŞ
 
ş›Á_auth_’abËd_
 = 
Œue
;

	@ssl_stream_adapter_unittest.cc

11 
	~<®gÜ™hm
>

12 
	~<memÜy
>

13 
	~<£t
>

14 
	~<¡ršg
>

16 
	~"ab¦/memÜy/memÜy.h
"

17 
	~"¹c_ba£/bufãr_queue.h
"

18 
	~"¹c_ba£/checks.h
"

19 
	~"¹c_ba£/gun™.h
"

20 
	~"¹c_ba£/h–³rs.h
"

21 
	~"¹c_ba£/memÜy/fifo_bufãr.h
"

22 
	~"¹c_ba£/memÜy_¡»am.h
"

23 
	~"¹c_ba£/mes§ge_dige¡.h
"

24 
	~"¹c_ba£/s¦_ad­‹r.h
"

25 
	~"¹c_ba£/s¦_id’t™y.h
"

26 
	~"¹c_ba£/s¦_¡»am_ad­‹r.h
"

27 
	~"¹c_ba£/¡»am.h
"

28 
	~"‹¡/f›ld_ŒŸl.h
"

30 
	gusšg
 ::
‹¡šg
::
Combše
;

31 
	gusšg
 ::
‹¡šg
::
tu¶e
;

32 
	gusšg
 ::
‹¡šg
::
V®ues
;

33 
	gusšg
 ::
‹¡šg
::
W™hP¬amIÁ”çû
;

35 cÚ¡ 
	gkBlockSize
 = 4096;

36 cÚ¡ 
	gkExpÜ‹rLab–
[] = "label";

37 cÚ¡ 
	gkExpÜ‹rCÚ‹xt
[] = "context";

38 
	gkExpÜ‹rCÚ‹xtL’
 = (
kExpÜ‹rCÚ‹xt
);

42 
	#RSA_PRIVATE_KEY_HEADER
 "-----BEGIN RSA PRIVATE KEY-----\n"

	)

44 cÚ¡ 
	gkRSA_PRIVATE_KEY_PEM
[] = 
RSA_PRIVATE_KEY_HEADER


61 #undeà
RSA_PRIVATE_KEY_HEADER


63 cÚ¡ 
	gkCERT_PEM
[] =

76 cÚ¡ 
	gkIÁC”t1
[] =

104 cÚ¡ 
	gkCAC”t
[] =

141 
şass
 
	gSSLSŒ—mAd­‹rTe¡Ba£
;

143 
şass
 
	gSSLDummySŒ—mBa£
 : 
public
 
¹c
::
SŒ—mIÁ”çû
,

144 
public
 
	gsig¦Ù
::
has_¦Ùs
<> {

145 
public
:

146 
SSLDummySŒ—mBa£
(
SSLSŒ—mAd­‹rTe¡Ba£
* 
‹¡
,

147 cÚ¡ 
¡d
::
¡ršg
& 
side
,

148 
¹c
::
SŒ—mIÁ”çû
* 
š
,

149 
¹c
::
SŒ—mIÁ”çû
* 
out
)

150 : 
‹¡_ba£_
(
‹¡
), 
side_
(
side
), 
š_
(
š
), 
out_
(
out
), 
fœ¡_·ck‘_
(
Œue
) {

151 
	gš_
->
	gSigÇlEv’t
.
cÚÃù
(
this
, &
SSLDummySŒ—mBa£
::
OnEv’tIn
);

152 
	gout_
->
	gSigÇlEv’t
.
cÚÃù
(
this
, &
SSLDummySŒ—mBa£
::
OnEv’tOut
);

155 
	g¹c
::
SŒ—mS‹
 
G‘S‹
(ècÚ¡ 
ov”ride
 {  
¹c
::
SS_OPEN
; }

157 
	g¹c
::
SŒ—mResuÉ
 
R—d
(* 
bufãr
,

158 
size_t
 
bufãr_Ën
,

159 
size_t
* 
»ad
,

160 * 
”rÜ
è
	gov”ride
 {

161 
	g¹c
::
SŒ—mResuÉ
 
r
;

163 
	gr
 = 
š_
->
R—d
(
bufãr
, 
bufãr_Ën
, 
»ad
, 
”rÜ
);

164 ià(
	gr
 =ğ
¹c
::
SR_BLOCK
)

165  
¹c
::
SR_BLOCK
;

166 ià(
	gr
 =ğ
¹c
::
SR_EOS
)

167  
¹c
::
SR_EOS
;

169 ià(
	gr
 !ğ
¹c
::
SR_SUCCESS
) {

170 
ADD_FAILURE
();

171  
	g¹c
::
SR_ERROR
;

174  
	g¹c
::
SR_SUCCESS
;

178 
OnEv’tIn
(
¹c
::
SŒ—mIÁ”çû
* 
¡»am
, 
sig
, 
”r
) {

179 
	gmask
 = (
¹c
::
SE_READ
 |„tc::
SE_CLOSE
);

181 ià(
	gsig
 & 
	gmask
) {

182 
RTC_LOG
(
LS_VERBOSE
è<< "SSLDummySŒ—mBa£::OnEv’ˆside=" << 
	gside_


183 << " sig=" << 
	gsig
 << " forwarding upward";

184 
Po¡Ev’t
(
sig
 & 
mask
, 0);

189 
OnEv’tOut
(
¹c
::
SŒ—mIÁ”çû
* 
¡»am
, 
sig
, 
”r
) {

190 ià(
	gsig
 & 
	g¹c
::
SE_WRITE
) {

191 
RTC_LOG
(
LS_VERBOSE
è<< "SSLDummySŒ—mBa£::OnEv’ˆside=" << 
side_


192 << " sig=" << 
sig
 << " forwarding upward";

194 
Po¡Ev’t
(
sig
 & 
¹c
::
SE_WRITE
, 0);

199 
	g¹c
::
SŒ—mResuÉ
 
Wr™eD©a
(cÚ¡ * 
d©a
,

200 
size_t
 
d©a_Ën
,

201 
size_t
* 
wr™‹n
,

202 * 
”rÜ
) {

203  
	gout_
->
Wr™e
(
d©a
, 
d©a_Ën
, 
wr™‹n
, 
”rÜ
);

206 
	g¹c
::
SŒ—mResuÉ
 
Wr™e
(cÚ¡ * 
d©a
,

207 
size_t
 
d©a_Ën
,

208 
size_t
* 
wr™‹n
,

209 * 
”rÜ
è
	gov”ride
;

211 
Clo£
(è
	gov”ride
 {

212 
RTC_LOG
(
LS_INFO
) << "Closing outbound stream";

213 
	gout_
->
Clo£
();

216 
	g´Ùeùed
:

217 
SSLSŒ—mAd­‹rTe¡Ba£
* 
‹¡_ba£_
;

218 cÚ¡ 
	g¡d
::
¡ršg
 
side_
;

219 
	g¹c
::
SŒ—mIÁ”çû
* 
š_
;

220 
	g¹c
::
SŒ—mIÁ”çû
* 
out_
;

221 
boŞ
 
	gfœ¡_·ck‘_
;

224 şas 
	cSSLDummySŒ—mTLS
 : 
public
 
SSLDummySŒ—mBa£
 {

225 
public
:

226 
	$SSLDummySŒ—mTLS
(
SSLSŒ—mAd­‹rTe¡Ba£
* 
‹¡
,

227 cÚ¡ 
¡d
::
¡ršg
& 
side
,

228 
¹c
::
FifoBufãr
* 
š
,

229 
¹c
::
FifoBufãr
* 
out
)

230 : 
	$SSLDummySŒ—mBa£
(
‹¡
, 
side
, 
š
, 
out
) {}

231 
	}
};

233 
şass
 
	gBufãrQueueSŒ—m
 : 
public
 
¹c
::
BufãrQueue
,…ubliø
	g¹c
::
SŒ—mIÁ”çû
 {

234 
public
:

235 
BufãrQueueSŒ—m
(
size_t
 
ÿ·c™y
, size_ˆ
deçuÉ_size
)

236 : 
¹c
::
BufãrQueue
(
ÿ·c™y
, 
deçuÉ_size
) {}

241 
	g¹c
::
SŒ—mS‹
 
G‘S‹
(ècÚ¡ 
ov”ride
 {  
¹c
::
SS_OPEN
; }

244 
	g¹c
::
SŒ—mResuÉ
 
R—d
(* 
bufãr
,

245 
size_t
 
bufãr_Ën
,

246 
size_t
* 
»ad
,

247 * 
”rÜ
è
	gov”ride
 {

248 ià(!
R—dFrÚt
(
bufãr
, 
bufãr_Ën
, 
»ad
)) {

249  
	g¹c
::
SR_BLOCK
;

251  
	g¹c
::
SR_SUCCESS
;

255 
	g¹c
::
SŒ—mResuÉ
 
Wr™e
(cÚ¡ * 
d©a
,

256 
size_t
 
d©a_Ën
,

257 
size_t
* 
wr™‹n
,

258 * 
”rÜ
è
	gov”ride
 {

259 ià(!
Wr™eBack
(
d©a
, 
d©a_Ën
, 
wr™‹n
)) {

260  
	g¹c
::
SR_BLOCK
;

262  
	g¹c
::
SR_SUCCESS
;

266 
Clo£
(è
	gov”ride
 {}

268 
	g´Ùeùed
:

269 
NÙifyR—dabËFÜTe¡
(è
ov”ride
 { 
Po¡Ev’t
(
¹c
::
SE_READ
, 0); }

271 
NÙifyWr™abËFÜTe¡
(è
	gov”ride
 { 
Po¡Ev’t
(
¹c
::
SE_WRITE
, 0); }

274 şas 
	cSSLDummySŒ—mDTLS
 : 
public
 
SSLDummySŒ—mBa£
 {

275 
public
:

276 
	$SSLDummySŒ—mDTLS
(
SSLSŒ—mAd­‹rTe¡Ba£
* 
‹¡
,

277 cÚ¡ 
¡d
::
¡ršg
& 
side
,

278 
BufãrQueueSŒ—m
* 
š
,

279 
BufãrQueueSŒ—m
* 
out
)

280 : 
	$SSLDummySŒ—mBa£
(
‹¡
, 
side
, 
š
, 
out
) {}

281 
	}
};

283 cÚ¡ 
	gkFifoBufãrSize
 = 4096;

284 cÚ¡ 
	gkBufãrC­ac™y
 = 1;

285 cÚ¡ 
size_t
 
	gkDeçuÉBufãrSize
 = 2048;

287 
şass
 
	gSSLSŒ—mAd­‹rTe¡Ba£
 : 
public
 ::
‹¡šg
::
Te¡
,

288 
public
 
	gsig¦Ù
::
has_¦Ùs
<> {

289 
public
:

290 
SSLSŒ—mAd­‹rTe¡Ba£
(

291 cÚ¡ 
¡d
::
¡ršg
& 
ş›Á_û¹_³m
,

292 cÚ¡ 
¡d
::
¡ršg
& 
ş›Á_´iv©e_key_³m
,

293 
boŞ
 
ds
,

294 
¹c
::
KeyP¬ams
 
ş›Á_key_ty³
 =„tc::KeyP¬amsÔtc::
KT_DEFAULT
),

295 
¹c
::
KeyP¬ams
 
£rv”_key_ty³
 =„tc::KeyP¬amsÔtc::
KT_DEFAULT
))

296 : 
ş›Á_û¹_³m_
(
ş›Á_û¹_³m
),

297 
ş›Á_´iv©e_key_³m_
(
ş›Á_´iv©e_key_³m
),

298 
ş›Á_key_ty³_
(
ş›Á_key_ty³
),

299 
£rv”_key_ty³_
(
£rv”_key_ty³
),

300 
ş›Á_¡»am_
(
nuÎ±r
),

301 
£rv”_¡»am_
(
nuÎ±r
),

302 
d–ay_
(0),

303 
mtu_
(1460),

304 
loss_
(0),

305 
lo£_fœ¡_·ck‘_
(
çl£
),

306 
damage_
(
çl£
),

307 
ds_
(
ds
),

308 
hªdshake_wa™_
(5000),

309 
id’t™›s_£t_
(
çl£
) {

311 
	g¹c
::
S‘RªdomTe¡Mode
(
Œue
);

314 ~
SSLSŒ—mAd­‹rTe¡Ba£
(è
	gov”ride
 {

316 
	g¹c
::
S‘RªdomTe¡Mode
(
çl£
);

319 
S‘Up
(è
	gov”ride
 {

320 
C»©eSŒ—ms
();

322 
	gş›Á_s¦_
 =

323 
¹c
::
SSLSŒ—mAd­‹r
::
C»©e
(
ab¦
::
W¿pUnique
(
ş›Á_¡»am_
));

324 
	g£rv”_s¦_
 =

325 
¹c
::
SSLSŒ—mAd­‹r
::
C»©e
(
ab¦
::
W¿pUnique
(
£rv”_¡»am_
));

328 
	gş›Á_s¦_
->
	gSigÇlEv’t
.
cÚÃù
(
this
, &
SSLSŒ—mAd­‹rTe¡Ba£
::
OnEv’t
);

329 
	g£rv”_s¦_
->
	gSigÇlEv’t
.
cÚÃù
(
this
, &
SSLSŒ—mAd­‹rTe¡Ba£
::
OnEv’t
);

331 
	g¡d
::
unique_±r
<
¹c
::
SSLId’t™y
> 
ş›Á_id’t™y
;

332 ià(!
	gş›Á_û¹_³m_
.
em±y
(è&& !
	gş›Á_´iv©e_key_³m_
.empty()) {

333 
	gş›Á_id’t™y
 = 
¹c
::
SSLId’t™y
::
C»©eFromPEMSŒšgs
(

334 
ş›Á_´iv©e_key_³m_
, 
ş›Á_û¹_³m_
);

336 
	gş›Á_id’t™y
 = 
¹c
::
SSLId’t™y
::
C»©e
("ş›Á", 
ş›Á_key_ty³_
);

338 autØ
	g£rv”_id’t™y
 = 
¹c
::
SSLId’t™y
::
C»©e
("£rv”", 
£rv”_key_ty³_
);

340 
	gş›Á_s¦_
->
S‘Id’t™y
(
¡d
::
move
(
ş›Á_id’t™y
));

341 
	g£rv”_s¦_
->
S‘Id’t™y
(
¡d
::
move
(
£rv”_id’t™y
));

344 
T—rDown
(è
	gov”ride
 {

345 
	gş›Á_s¦_
.
»£t
(
nuÎ±r
);

346 
	g£rv”_s¦_
.
»£t
(
nuÎ±r
);

349 
vœtu®
 
C»©eSŒ—ms
() = 0;

354 
Re£tId’t™›sW™hV®id™y
(
nÙ_befÜe
, 
nÙ_aá”
) {

355 
C»©eSŒ—ms
();

357 
	gş›Á_s¦_
 =

358 
¹c
::
SSLSŒ—mAd­‹r
::
C»©e
(
ab¦
::
W¿pUnique
(
ş›Á_¡»am_
));

359 
	g£rv”_s¦_
 =

360 
¹c
::
SSLSŒ—mAd­‹r
::
C»©e
(
ab¦
::
W¿pUnique
(
£rv”_¡»am_
));

362 
	gş›Á_s¦_
->
	gSigÇlEv’t
.
cÚÃù
(
this
, &
SSLSŒ—mAd­‹rTe¡Ba£
::
OnEv’t
);

363 
	g£rv”_s¦_
->
	gSigÇlEv’t
.
cÚÃù
(
this
, &
SSLSŒ—mAd­‹rTe¡Ba£
::
OnEv’t
);

365 
time_t
 
	gnow
 = 
time
(
nuÎ±r
);

367 
	g¹c
::
SSLId’t™yP¬ams
 
ş›Á_·¿ms
;

368 
	gş›Á_·¿ms
.
	gkey_·¿ms
 = 
¹c
::
KeyP¬ams
Ôtc::
KT_DEFAULT
);

369 
	gş›Á_·¿ms
.
	gcommÚ_Çme
 = "client";

370 
	gş›Á_·¿ms
.
	gnÙ_befÜe
 = 
now
 + 
nÙ_befÜe
;

371 
	gş›Á_·¿ms
.
	gnÙ_aá”
 = 
now
 + 
nÙ_aá”
;

372 autØ
	gş›Á_id’t™y
 = 
¹c
::
SSLId’t™y
::
C»©eFÜTe¡
(
ş›Á_·¿ms
);

374 
	g¹c
::
SSLId’t™yP¬ams
 
£rv”_·¿ms
;

375 
	g£rv”_·¿ms
.
	gkey_·¿ms
 = 
¹c
::
KeyP¬ams
Ôtc::
KT_DEFAULT
);

376 
	g£rv”_·¿ms
.
	gcommÚ_Çme
 = "server";

377 
	g£rv”_·¿ms
.
	gnÙ_befÜe
 = 
now
 + 
nÙ_befÜe
;

378 
	g£rv”_·¿ms
.
	gnÙ_aá”
 = 
now
 + 
nÙ_aá”
;

379 autØ
	g£rv”_id’t™y
 = 
¹c
::
SSLId’t™y
::
C»©eFÜTe¡
(
£rv”_·¿ms
);

381 
	gş›Á_s¦_
->
S‘Id’t™y
(
¡d
::
move
(
ş›Á_id’t™y
));

382 
	g£rv”_s¦_
->
S‘Id’t™y
(
¡d
::
move
(
£rv”_id’t™y
));

385 
vœtu®
 
OnEv’t
(
¹c
::
SŒ—mIÁ”çû
* 
¡»am
, 
sig
, 
”r
) {

386 
RTC_LOG
(
LS_VERBOSE
è<< "SSLSŒ—mAd­‹rTe¡Ba£::OnEv’ˆsig=" << 
	gsig
;

388 ià(
	gsig
 & 
	g¹c
::
SE_READ
) {

389 
R—dD©a
(
¡»am
);

392 ià((
	g¡»am
 =ğ
ş›Á_s¦_
.
g‘
()è&& (
sig
 & 
¹c
::
SE_WRITE
)) {

393 
Wr™eD©a
();

397 
S‘P“rId’t™›sByDige¡
(
boŞ
 
cÜ»ù
, boŞ 
ex³ù_sucûss
) {

398 
	g£rv”_dige¡
[20];

399 
size_t
 
	g£rv”_dige¡_Ën
;

400 
	gş›Á_dige¡
[20];

401 
size_t
 
	gş›Á_dige¡_Ën
;

402 
boŞ
 
	grv
;

403 
	g¹c
::
SSLP“rC”tifiÿ‹Dige¡E¼Ü
 
”r
;

404 
	g¹c
::
SSLP“rC”tifiÿ‹Dige¡E¼Ü
 
ex³ùed_”r
 =

405 
ex³ù_sucûss


406 ? 
¹c
::
SSLP“rC”tifiÿ‹Dige¡E¼Ü
::
NONE


407 : 
¹c
::
SSLP“rC”tifiÿ‹Dige¡E¼Ü
::
VERIFICATION_FAILED
;

409 
RTC_LOG
(
LS_INFO
) << "Setting…eer identities by digest";

411 
	grv
 = 
£rv”_id’t™y
()->
û¹ifiÿ‹
().
Compu‹Dige¡
(

412 
¹c
::
DIGEST_SHA_1
, 
£rv”_dige¡
, 20, &
£rv”_dige¡_Ën
);

413 
ASSERT_TRUE
(
rv
);

414 
	grv
 = 
ş›Á_id’t™y
()->
û¹ifiÿ‹
().
Compu‹Dige¡
(

415 
¹c
::
DIGEST_SHA_1
, 
ş›Á_dige¡
, 20, &
ş›Á_dige¡_Ën
);

416 
ASSERT_TRUE
(
rv
);

418 ià(!
	gcÜ»ù
) {

419 
RTC_LOG
(
LS_INFO
) << "Setting bogus digest for server cert";

420 
	g£rv”_dige¡
[0]++;

422 
	grv
 = 
ş›Á_s¦_
->
S‘P“rC”tifiÿ‹Dige¡
(
¹c
::
DIGEST_SHA_1
, 
£rv”_dige¡
,

423 
£rv”_dige¡_Ën
, &
”r
);

424 
EXPECT_EQ
(
ex³ùed_”r
, 
”r
);

425 
EXPECT_EQ
(
ex³ù_sucûss
, 
rv
);

427 ià(!
	gcÜ»ù
) {

428 
RTC_LOG
(
LS_INFO
) << "Setting bogus digest for client cert";

429 
	gş›Á_dige¡
[0]++;

431 
	grv
 = 
£rv”_s¦_
->
S‘P“rC”tifiÿ‹Dige¡
(
¹c
::
DIGEST_SHA_1
, 
ş›Á_dige¡
,

432 
ş›Á_dige¡_Ën
, &
”r
);

433 
EXPECT_EQ
(
ex³ùed_”r
, 
”r
);

434 
EXPECT_EQ
(
ex³ù_sucûss
, 
rv
);

436 
	gid’t™›s_£t_
 = 
Œue
;

439 
S‘upPrÙocŞV”siÚs
(
¹c
::
SSLPrÙocŞV”siÚ
 
£rv”_v”siÚ
,

440 
¹c
::
SSLPrÙocŞV”siÚ
 
ş›Á_v”siÚ
) {

441 
£rv”_s¦_
->
S‘MaxPrÙocŞV”siÚ
(
£rv”_v”siÚ
);

442 
	gş›Á_s¦_
->
S‘MaxPrÙocŞV”siÚ
(
ş›Á_v”siÚ
);

445 
Te¡Hªdshake
(
boŞ
 
ex³ù_sucûss
 = 
Œue
) {

446 
£rv”_s¦_
->
S‘Mode
(
ds_
 ? 
¹c
::
SSL_MODE_DTLS
 :„tc::
SSL_MODE_TLS
);

447 
	gş›Á_s¦_
->
S‘Mode
(
ds_
 ? 
¹c
::
SSL_MODE_DTLS
 :„tc::
SSL_MODE_TLS
);

449 ià(!
	gds_
) {

453 
RTC_CHECK_EQ
(1460, 
mtu_
);

454 
RTC_CHECK
(!
loss_
);

455 
RTC_CHECK
(!
lo£_fœ¡_·ck‘_
);

458 ià(!
	gid’t™›s_£t_
)

459 
S‘P“rId’t™›sByDige¡
(
Œue
,rue);

462 
	grv
;

464 
	g£rv”_s¦_
->
S‘S”v”RŞe
();

465 
	grv
 = 
£rv”_s¦_
->
S¹SSL
();

466 
ASSERT_EQ
(0, 
rv
);

468 
	grv
 = 
ş›Á_s¦_
->
S¹SSL
();

469 
ASSERT_EQ
(0, 
rv
);

472 ià(
	gex³ù_sucûss
) {

473 
EXPECT_TRUE_WAIT
((
ş›Á_s¦_
->
G‘S‹
(è=ğ
¹c
::
SS_OPEN
) &&

474 (
£rv”_s¦_
->
G‘S‹
(è=ğ
¹c
::
SS_OPEN
),

475 
hªdshake_wa™_
);

477 
EXPECT_TRUE_WAIT
(
ş›Á_s¦_
->
G‘S‹
(è=ğ
¹c
::
SS_CLOSED
,

478 
hªdshake_wa™_
);

484 
Te¡HªdshakeW™hD–ayedId’t™y
(
boŞ
 
v®id_id’t™y
) {

485 
	g£rv”_s¦_
->
S‘Mode
(
ds_
 ? 
¹c
::
SSL_MODE_DTLS
 :„tc::
SSL_MODE_TLS
);

486 
	gş›Á_s¦_
->
S‘Mode
(
ds_
 ? 
¹c
::
SSL_MODE_DTLS
 :„tc::
SSL_MODE_TLS
);

488 ià(!
	gds_
) {

492 
RTC_CHECK_EQ
(1460, 
mtu_
);

493 
RTC_CHECK
(!
loss_
);

494 
RTC_CHECK
(!
lo£_fœ¡_·ck‘_
);

498 
	grv
;

500 
	g£rv”_s¦_
->
S‘S”v”RŞe
();

501 
	grv
 = 
£rv”_s¦_
->
S¹SSL
();

502 
ASSERT_EQ
(0, 
rv
);

504 
	grv
 = 
ş›Á_s¦_
->
S¹SSL
();

505 
ASSERT_EQ
(0, 
rv
);

508 
EXPECT_TRUE_WAIT
(

509 
ş›Á_s¦_
->
IsTlsCÚÃùed
(è&& 
£rv”_s¦_
->IsTlsConnected(),

510 
hªdshake_wa™_
);

514 
EXPECT_EQ
(
¹c
::
SS_OPENING
, 
ş›Á_s¦_
->
G‘S‹
());

515 
EXPECT_EQ
(
¹c
::
SS_OPENING
, 
£rv”_s¦_
->
G‘S‹
());

516 
	g·ck‘
[1];

517 
size_t
 
	g£Á
;

518 
EXPECT_EQ
(
¹c
::
SR_BLOCK
, 
ş›Á_s¦_
->
Wr™e
(&
·ck‘
, 1, &
£Á
, 0));

519 
EXPECT_EQ
(
¹c
::
SR_BLOCK
, 
£rv”_s¦_
->
Wr™e
(&
·ck‘
, 1, &
£Á
, 0));

523 
S‘P“rId’t™›sByDige¡
(
v®id_id’t™y
, valid_identity);

526 ià(
	gv®id_id’t™y
) {

527 
EXPECT_EQ
(
¹c
::
SS_OPEN
, 
ş›Á_s¦_
->
G‘S‹
());

528 
EXPECT_EQ
(
¹c
::
SS_OPEN
, 
£rv”_s¦_
->
G‘S‹
());

530 
EXPECT_EQ
(
¹c
::
SS_CLOSED
, 
ş›Á_s¦_
->
G‘S‹
());

531 
EXPECT_EQ
(
¹c
::
SS_CLOSED
, 
£rv”_s¦_
->
G‘S‹
());

535 
	g¹c
::
SŒ—mResuÉ
 
D©aWr™‹n
(
SSLDummySŒ—mBa£
* 
äom
,

536 cÚ¡ * 
d©a
,

537 
size_t
 
d©a_Ën
,

538 
size_t
* 
wr™‹n
,

539 * 
”rÜ
) {

541 ià(
	g¹c
::
C»©eRªdomId
(è% 100 < 
¡©ic_ÿ¡
<
ušt32_t
>(
loss_
)) {

542 
RTC_LOG
(
LS_VERBOSE
è<< "Rªdomly drİpšg…ack‘, size=" << 
d©a_Ën
;

543 *
	gwr™‹n
 = 
d©a_Ën
;

544  
	g¹c
::
SR_SUCCESS
;

546 ià(
	gds_
 && (
	gd©a_Ën
 > 
	gmtu_
)) {

547 
RTC_LOG
(
LS_VERBOSE
è<< "Drİpšg…ack‘ > mtu, size=" << 
	gd©a_Ën
;

548 *
	gwr™‹n
 = 
d©a_Ën
;

549  
	g¹c
::
SR_SUCCESS
;

555 ià(
	gdamage_
 && (*
	g¡©ic_ÿ¡
<cÚ¡ *>(
	gd©a
) == 23)) {

556 
¡d
::
veùÜ
<> 
buf
(
d©a_Ën
);

558 
RTC_LOG
(
LS_VERBOSE
) << "Damaging…acket";

560 
memıy
(&
buf
[0], 
d©a
, 
d©a_Ën
);

561 
	gbuf
[
d©a_Ën
 - 1]++;

563  
	gäom
->
Wr™eD©a
(&
buf
[0], 
d©a_Ën
, 
wr™‹n
, 
”rÜ
);

566  
	gäom
->
Wr™eD©a
(
d©a
, 
d©a_Ën
, 
wr™‹n
, 
”rÜ
);

569 
S‘D–ay
(
d–ay
è{ 
	gd–ay_
 = delay; }

570 
G‘D–ay
(è{  
	gd–ay_
; }

572 
S‘Lo£Fœ¡Pack‘
(
boŞ
 
lo£
è{ 
	glo£_fœ¡_·ck‘_
 =†ose; }

573 
boŞ
 
G‘Lo£Fœ¡Pack‘
(è{  
	glo£_fœ¡_·ck‘_
; }

575 
S‘Loss
(
³rûÁ
è{ 
	gloss_
 =…ercent; }

577 
S‘Damage
(è{ 
	gdamage_
 = 
Œue
; }

579 
S‘Mtu
(
size_t
 
mtu
è{ 
	gmtu_
 = mtu; }

581 
S‘HªdshakeWa™
(
wa™
è{ 
	ghªdshake_wa™_
 = wait; }

583 
S‘DsS¹pCry±oSu™es
(cÚ¡ 
¡d
::
veùÜ
<>& 
ch”s
, 
boŞ
 
ş›Á
) {

584 ià(
	gş›Á
)

585 
	gş›Á_s¦_
->
S‘DsS¹pCry±oSu™es
(
ch”s
);

587 
	g£rv”_s¦_
->
S‘DsS¹pCry±oSu™es
(
ch”s
);

590 
boŞ
 
G‘DsS¹pCry±oSu™e
(boŞ 
ş›Á
, * 
»tv®
) {

591 ià(
	gş›Á
)

592  
	gş›Á_s¦_
->
G‘DsS¹pCry±oSu™e
(
»tv®
);

594  
	g£rv”_s¦_
->
G‘DsS¹pCry±oSu™e
(
»tv®
);

597 
	g¡d
::
unique_±r
<
¹c
::
SSLC”tifiÿ‹
> 
G‘P“rC”tifiÿ‹
(
boŞ
 
ş›Á
) {

598 
¡d
::
unique_±r
<
¹c
::
SSLC”tChaš
> 
chaš
;

599 ià(
	gş›Á
)

600 
	gchaš
 = 
ş›Á_s¦_
->
G‘P“rSSLC”tChaš
();

602 
	gchaš
 = 
£rv”_s¦_
->
G‘P“rSSLC”tChaš
();

603  (
	gchaš
 && chaš->
G‘Size
()è? chaš->
G‘
(0).
ClÚe
(è: 
nuÎ±r
;

606 
boŞ
 
G‘S¦Ch”Su™e
(boŞ 
ş›Á
, * 
»tv®
) {

607 ià(
	gş›Á
)

608  
	gş›Á_s¦_
->
G‘S¦Ch”Su™e
(
»tv®
);

610  
	g£rv”_s¦_
->
G‘S¦Ch”Su™e
(
»tv®
);

613 
G‘S¦V”siÚ
(
boŞ
 
ş›Á
) {

614 ià(
	gş›Á
)

615  
	gş›Á_s¦_
->
G‘S¦V”siÚ
();

617  
	g£rv”_s¦_
->
G‘S¦V”siÚ
();

620 
boŞ
 
ExpÜtKeyšgM©”Ÿl
(cÚ¡ * 
Ïb–
,

621 cÚ¡ * 
cÚ‹xt
,

622 
size_t
 
cÚ‹xt_Ën
,

623 
boŞ
 
u£_cÚ‹xt
,

624 
boŞ
 
ş›Á
,

625 * 
»suÉ
,

626 
size_t
 
»suÉ_Ën
) {

627 ià(
	gş›Á
)

628  
	gş›Á_s¦_
->
ExpÜtKeyšgM©”Ÿl
(
Ïb–
, 
cÚ‹xt
, 
cÚ‹xt_Ën
,

629 
u£_cÚ‹xt
, 
»suÉ
, 
»suÉ_Ën
);

631  
	g£rv”_s¦_
->
ExpÜtKeyšgM©”Ÿl
(
Ïb–
, 
cÚ‹xt
, 
cÚ‹xt_Ën
,

632 
u£_cÚ‹xt
, 
»suÉ
, 
»suÉ_Ën
);

636 
vœtu®
 
Wr™eD©a
() = 0;

637 
vœtu®
 
R—dD©a
(
¹c
::
SŒ—mIÁ”çû
* 
¡»am
) = 0;

638 
vœtu®
 
Te¡T¿nsãr
(
size
) = 0;

640 
	g´Ùeùed
:

641 
¹c
::
SSLId’t™y
* 
ş›Á_id’t™y
() const {

642 ià(!
ş›Á_s¦_
) {

643  
nuÎ±r
;

645  
	gş›Á_s¦_
->
G‘Id’t™yFÜTe¡šg
();

647 
	g¹c
::
SSLId’t™y
* 
£rv”_id’t™y
() const {

648 ià(!
£rv”_s¦_
) {

649  
nuÎ±r
;

651  
	g£rv”_s¦_
->
G‘Id’t™yFÜTe¡šg
();

654 
	g¡d
::
¡ršg
 
ş›Á_û¹_³m_
;

655 
	g¡d
::
¡ršg
 
ş›Á_´iv©e_key_³m_
;

656 
	g¹c
::
KeyP¬ams
 
ş›Á_key_ty³_
;

657 
	g¹c
::
KeyP¬ams
 
£rv”_key_ty³_
;

658 
SSLDummySŒ—mBa£
* 
	gş›Á_¡»am_
;

659 
SSLDummySŒ—mBa£
* 
	g£rv”_¡»am_
;

660 
	g¡d
::
unique_±r
<
¹c
::
SSLSŒ—mAd­‹r
> 
ş›Á_s¦_
;

661 
	g¡d
::
unique_±r
<
¹c
::
SSLSŒ—mAd­‹r
> 
£rv”_s¦_
;

662 
	gd–ay_
;

663 
size_t
 
	gmtu_
;

664 
	gloss_
;

665 
boŞ
 
	glo£_fœ¡_·ck‘_
;

666 
boŞ
 
	gdamage_
;

667 
boŞ
 
	gds_
;

668 
	ghªdshake_wa™_
;

669 
boŞ
 
	gid’t™›s_£t_
;

672 
şass
 
	gSSLSŒ—mAd­‹rTe¡TLS


673 : 
public
 
SSLSŒ—mAd­‹rTe¡Ba£
,

674 
public
 
	gW™hP¬amIÁ”çû
<
	gtu¶e
<
	g¹c
::
KeyP¬ams
,„tc::KeyParams>> {

675 
public
:

676 
SSLSŒ—mAd­‹rTe¡TLS
()

677 : 
SSLSŒ—mAd­‹rTe¡Ba£
("",

679 
çl£
,

680 ::
‹¡šg
::
g‘
<0>(
G‘P¬am
()),

681 ::
‹¡šg
::
g‘
<1>(
G‘P¬am
())),

682 
ş›Á_bufãr_
(
kFifoBufãrSize
),

683 
£rv”_bufãr_
(
kFifoBufãrSize
) {}

685 
C»©eSŒ—ms
(è
	gov”ride
 {

686 
	gş›Á_¡»am_
 =

687 
Ãw
 
SSLDummySŒ—mTLS
(
this
, "c2s", &
ş›Á_bufãr_
, &
£rv”_bufãr_
);

688 
	g£rv”_¡»am_
 =

689 
Ãw
 
SSLDummySŒ—mTLS
(
this
, "s2c", &
£rv”_bufãr_
, &
ş›Á_bufãr_
);

693 
Te¡T¿nsãr
(
size
è
	gov”ride
 {

694 
RTC_LOG
(
LS_INFO
è<< "S¹šg¿nsã¸‹¡ w™h " << 
	gsize
 << " bytes";

696 
size_t
 
	g»ûived
;

698 
	g£nd_¡»am_
.
Re£rveSize
(
size
);

699 
	gi
 = 0; i < 
	gsize
; ++i) {

700 
	gch
 = 
¡©ic_ÿ¡
<>(
i
);

701 
	g£nd_¡»am_
.
Wr™e
(&
ch
, 1, 
nuÎ±r
,‚ullptr);

703 
	g£nd_¡»am_
.
Rewšd
();

706 
	g»cv_¡»am_
.
Re£rveSize
(
size
);

709 
Wr™eD©a
();

712 
EXPECT_TRUE_WAIT
(
£rv”_s¦_
->
G‘S‹
(è=ğ
¹c
::
SS_CLOSED
, 10000);

715 
	g»cv_¡»am_
.
G‘Size
(&
»ûived
);

717 
EXPECT_EQ
(
¡©ic_ÿ¡
<
size_t
>(
size
), 
»ûived
);

718 
EXPECT_EQ
(0,

719 
memcmp
(
£nd_¡»am_
.
G‘Bufãr
(), 
»cv_¡»am_
.G‘Bufãr(), 
size
));

722 
Wr™eD©a
(è
	gov”ride
 {

723 
size_t
 
	gpos™iÚ
, 
	gto£nd
, 
	gsize
;

724 
	g¹c
::
SŒ—mResuÉ
 
rv
;

725 
size_t
 
	g£Á
;

726 
	gblock
[
kBlockSize
];

728 
	g£nd_¡»am_
.
G‘Size
(&
size
);

729 ià(!
	gsize
)

733 
	g£nd_¡»am_
.
G‘Pos™iÚ
(&
pos™iÚ
);

734 ià(
	g£nd_¡»am_
.
R—d
(
block
, (block), &
to£nd
, 
nuÎ±r
) !=

735 
¹c
::
SR_EOS
) {

736 
rv
 = 
ş›Á_s¦_
->
Wr™e
(
block
, 
to£nd
, &
£Á
, 0);

738 ià(
	grv
 =ğ
¹c
::
SR_SUCCESS
) {

739 
£nd_¡»am_
.
S‘Pos™iÚ
(
pos™iÚ
 + 
£Á
);

740 
RTC_LOG
(
LS_VERBOSE
è<< "S’t: " << 
	gpos™iÚ
 + 
	g£Á
;

741 } ià(
	grv
 =ğ
¹c
::
SR_BLOCK
) {

742 
RTC_LOG
(
LS_VERBOSE
) << "Blocked...";

743 
	g£nd_¡»am_
.
S‘Pos™iÚ
(
pos™iÚ
);

746 
ADD_FAILURE
();

751 
RTC_LOG
(
LS_INFO
è<< "WrÙ" << 
	gpos™iÚ
 << " bytes. Closing";

752 
	gş›Á_s¦_
->
Clo£
();

758 
R—dD©a
(
¹c
::
SŒ—mIÁ”çû
* 
¡»am
è
ov”ride
 {

759 
bufãr
[1600];

760 
size_t
 
	gb»ad
;

761 
	g”r2
;

762 
	g¹c
::
SŒ—mResuÉ
 
r
;

765 
	gr
 = 
¡»am
->
R—d
(
bufãr
, (bufãr), &
b»ad
, &
”r2
);

767 ià(
	gr
 =ğ
¹c
::
SR_ERROR
 || 
r
 =ğ¹c::
SR_EOS
) {

770 
¡»am
->
Clo£
();

774 ià(
	gr
 =ğ
¹c
::
SR_BLOCK
)

777 
ASSERT_EQ
(
¹c
::
SR_SUCCESS
, 
r
);

778 
RTC_LOG
(
LS_VERBOSE
è<< "R—d " << 
	gb»ad
;

780 
	g»cv_¡»am_
.
Wr™e
(
bufãr
, 
b»ad
, 
nuÎ±r
,‚ullptr);

784 
	g´iv©e
:

785 
¹c
::
FifoBufãr
 
ş›Á_bufãr_
;

786 
	g¹c
::
FifoBufãr
 
£rv”_bufãr_
;

787 
	g¹c
::
MemÜySŒ—m
 
£nd_¡»am_
;

788 
	g¹c
::
MemÜySŒ—m
 
»cv_¡»am_
;

791 şas 
	cSSLSŒ—mAd­‹rTe¡DTLSBa£
 : 
public
 
SSLSŒ—mAd­‹rTe¡Ba£
 {

792 
public
:

793 
	$SSLSŒ—mAd­‹rTe¡DTLSBa£
(
¹c
::
KeyP¬ams
 
·¿m1
,„tc::KeyP¬am 
·¿m2
)

794 : 
	`SSLSŒ—mAd­‹rTe¡Ba£
("", "", 
Œue
, 
·¿m1
, 
·¿m2
),

795 
	`ş›Á_bufãr_
(
kBufãrC­ac™y
, 
kDeçuÉBufãrSize
),

796 
	`£rv”_bufãr_
(
kBufãrC­ac™y
, 
kDeçuÉBufãrSize
),

797 
	`·ck‘_size_
(1000),

798 
	`couÁ_
(0),

799 
	$£Á_
(0) {}

801 
	$SSLSŒ—mAd­‹rTe¡DTLSBa£
(cÚ¡ 
¡d
::
¡ršg
& 
û¹_³m
,

802 cÚ¡ 
¡d
::
¡ršg
& 
´iv©e_key_³m
)

803 : 
	`SSLSŒ—mAd­‹rTe¡Ba£
(
û¹_³m
, 
´iv©e_key_³m
, 
Œue
),

804 
	`ş›Á_bufãr_
(
kBufãrC­ac™y
, 
kDeçuÉBufãrSize
),

805 
	`£rv”_bufãr_
(
kBufãrC­ac™y
, 
kDeçuÉBufãrSize
),

806 
	`·ck‘_size_
(1000),

807 
	`couÁ_
(0),

808 
	$£Á_
(0è{
	}
}

810 
	$C»©eSŒ—ms
(è
ov”ride
 {

811 
ş›Á_¡»am_
 =

812 
Ãw
 
	`SSLDummySŒ—mDTLS
(
this
, "c2s", &
ş›Á_bufãr_
, &
£rv”_bufãr_
);

813 
£rv”_¡»am_
 =

814 
Ãw
 
	`SSLDummySŒ—mDTLS
(
this
, "s2c", &
£rv”_bufãr_
, &
ş›Á_bufãr_
);

815 
	}
}

817 
	$Wr™eD©a
(è
ov”ride
 {

818 * 
·ck‘
 = 
Ãw
 [1600];

820 
£Á_
 < 
couÁ_
) {

821 
¿nd_¡©e
 = 
£Á_
;

822 
·ck‘
[0] = 
£Á_
;

823 
size_t
 
i
 = 1; i < 
·ck‘_size_
; i++) {

825 
¿nd_¡©e
 = (rand_state * 251 + 19937) >> 7;

826 
·ck‘
[
i
] = 
¿nd_¡©e
 & 0xff;

829 
size_t
 
£Á
;

830 
¹c
::
SŒ—mResuÉ
 
rv
 = 
ş›Á_s¦_
->
	`Wr™e
(
·ck‘
, 
·ck‘_size_
, &
£Á
, 0);

831 ià(
rv
 =ğ
¹c
::
SR_SUCCESS
) {

832 
	`RTC_LOG
(
LS_VERBOSE
è<< "S’t: " << 
£Á_
;

833 
£Á_
++;

834 } ià(
rv
 =ğ
¹c
::
SR_BLOCK
) {

835 
	`RTC_LOG
(
LS_VERBOSE
) << "Blocked...";

838 
	`ADD_FAILURE
();

843 
d–‘e
[] 
·ck‘
;

844 
	}
}

846 
	$R—dD©a
(
¹c
::
SŒ—mIÁ”çû
* 
¡»am
è
ov”ride
 {

847 
bufãr
[2000];

848 
size_t
 
b»ad
;

849 
”r2
;

850 
¹c
::
SŒ—mResuÉ
 
r
;

853 
r
 = 
¡»am
->
	`R—d
(
bufãr
, 2000, &
b»ad
, &
”r2
);

855 ià(
r
 =ğ
¹c
::
SR_ERROR
) {

858 
¡»am
->
	`Clo£
();

862 ià(
r
 =ğ
¹c
::
SR_BLOCK
)

865 
	`ASSERT_EQ
(
¹c
::
SR_SUCCESS
, 
r
);

866 
	`RTC_LOG
(
LS_VERBOSE
è<< "R—d " << 
b»ad
;

869 
	`ASSERT_EQ
(
·ck‘_size_
, 
b»ad
);

870 
·ck‘_num
 = 
bufãr
[0];

872 
¿nd_¡©e
 = 
·ck‘_num
;

873 
size_t
 
i
 = 1; i < 
·ck‘_size_
; i++) {

875 
¿nd_¡©e
 = (rand_state * 251 + 19937) >> 7;

876 
	`ASSERT_EQ
(
¿nd_¡©e
 & 0xff, 
bufãr
[
i
]);

878 
»ûived_
.
	`š£¹
(
·ck‘_num
);

880 
	}
}

882 
	$Te¡T¿nsãr
(
couÁ
è
ov”ride
 {

883 
couÁ_
 = 
couÁ
;

885 
	`Wr™eD©a
();

887 
	`EXPECT_TRUE_WAIT
(
£Á_
 =ğ
couÁ_
, 10000);

888 
	`RTC_LOG
(
LS_INFO
è<< "£Á_ =ğ" << 
£Á_
;

890 ià(
damage_
) {

891 
	`WAIT
(
çl£
, 2000);

892 
	`EXPECT_EQ
(0U, 
»ûived_
.
	`size
());

893 } ià(
loss_
 == 0) {

894 
	`EXPECT_EQ_WAIT
(
¡©ic_ÿ¡
<
size_t
>(
£Á_
), 
»ûived_
.
	`size
(), 1000);

896 
	`RTC_LOG
(
LS_INFO
è<< "S’ˆ" << 
£Á_
 << "…ackets;„eceived "

897 << 
»ûived_
.
	`size
();

899 
	}
}

901 
	g´Ùeùed
:

902 
BufãrQueueSŒ—m
 
ş›Á_bufãr_
;

903 
BufãrQueueSŒ—m
 
	g£rv”_bufãr_
;

905 
	g´iv©e
:

906 
size_t
 
·ck‘_size_
;

907 
	gcouÁ_
;

908 
	g£Á_
;

909 
	g¡d
::
£t
<> 
»ûived_
;

912 
şass
 
	gSSLSŒ—mAd­‹rTe¡DTLS


913 : 
public
 
SSLSŒ—mAd­‹rTe¡DTLSBa£
,

914 
public
 
	gW™hP¬amIÁ”çû
<
	gtu¶e
<
	g¹c
::
KeyP¬ams
,„tc::KeyParams>> {

915 
public
:

916 
SSLSŒ—mAd­‹rTe¡DTLS
()

917 : 
SSLSŒ—mAd­‹rTe¡DTLSBa£
(::
‹¡šg
::
g‘
<0>(
G‘P¬am
()),

918 ::
‹¡šg
::
g‘
<1>(
G‘P¬am
())) {}

920 
SSLSŒ—mAd­‹rTe¡DTLS
(cÚ¡ 
¡d
::
¡ršg
& 
û¹_³m
,

921 cÚ¡ 
¡d
::
¡ršg
& 
´iv©e_key_³m
)

922 : 
SSLSŒ—mAd­‹rTe¡DTLSBa£
(
û¹_³m
, 
´iv©e_key_³m
) {}

925 
	g¹c
::
SŒ—mResuÉ
 
SSLDummySŒ—mBa£
::
	$Wr™e
(cÚ¡ * 
d©a
,

926 
size_t
 
d©a_Ën
,

927 
size_t
* 
wr™‹n
,

928 * 
”rÜ
) {

929 
	`RTC_LOG
(
LS_VERBOSE
è<< "Wr™šgØloİback " << 
d©a_Ën
;

931 ià(
fœ¡_·ck‘_
) {

932 
fœ¡_·ck‘_
 = 
çl£
;

933 ià(
‹¡_ba£_
->
	`G‘Lo£Fœ¡Pack‘
()) {

934 
	`RTC_LOG
(
LS_INFO
è<< "Losšg in™ŸÈ·ck‘ oàËngth " << 
d©a_Ën
;

935 *
wr™‹n
 = 
d©a_Ën
;

936  
¹c
::
SR_SUCCESS
;

940  
‹¡_ba£_
->
	`D©aWr™‹n
(
this
, 
d©a
, 
d©a_Ën
, 
wr™‹n
, 
”rÜ
);

941 
	}
}

943 şas 
	cSSLSŒ—mAd­‹rTe¡DTLSFromPEMSŒšgs
 : 
public
 
SSLSŒ—mAd­‹rTe¡DTLS
 {

944 
public
:

945 
	$SSLSŒ—mAd­‹rTe¡DTLSFromPEMSŒšgs
()

946 : 
	$SSLSŒ—mAd­‹rTe¡DTLS
(
kCERT_PEM
, 
kRSA_PRIVATE_KEY_PEM
) {}

947 
	}
};

951 şas 
	cSSLSŒ—mAd­‹rTe¡DTLSC”tChaš
 : 
public
 
SSLSŒ—mAd­‹rTe¡DTLS
 {

952 
public
:

953 
	$SSLSŒ—mAd­‹rTe¡DTLSC”tChaš
(è: 
	`SSLSŒ—mAd­‹rTe¡DTLS
("", "") {}

954 
	$S‘Up
(è
ov”ride
 {

955 
	`C»©eSŒ—ms
();

957 
ş›Á_s¦_
 =

958 
¹c
::
SSLSŒ—mAd­‹r
::
	`C»©e
(
ab¦
::
	`W¿pUnique
(
ş›Á_¡»am_
));

959 
£rv”_s¦_
 =

960 
¹c
::
SSLSŒ—mAd­‹r
::
	`C»©e
(
ab¦
::
	`W¿pUnique
(
£rv”_¡»am_
));

963 
ş›Á_s¦_
->
SigÇlEv’t
.
	`cÚÃù
(

964 
»š‹½»t_ÿ¡
<
SSLSŒ—mAd­‹rTe¡Ba£
*>(
this
),

965 &
SSLSŒ—mAd­‹rTe¡Ba£
::
OnEv’t
);

966 
£rv”_s¦_
->
SigÇlEv’t
.
	`cÚÃù
(

967 
»š‹½»t_ÿ¡
<
SSLSŒ—mAd­‹rTe¡Ba£
*>(
this
),

968 &
SSLSŒ—mAd­‹rTe¡Ba£
::
OnEv’t
);

970 
¡d
::
unique_±r
<
¹c
::
SSLId’t™y
> 
ş›Á_id’t™y
;

971 ià(!
ş›Á_û¹_³m_
.
	`em±y
(è&& !
ş›Á_´iv©e_key_³m_
.empty()) {

972 
ş›Á_id’t™y
 = 
¹c
::
SSLId’t™y
::
	`C»©eFromPEMSŒšgs
(

973 
ş›Á_´iv©e_key_³m_
, 
ş›Á_û¹_³m_
);

975 
ş›Á_id’t™y
 = 
¹c
::
SSLId’t™y
::
	`C»©e
("ş›Á", 
ş›Á_key_ty³_
);

978 
ş›Á_s¦_
->
	`S‘Id’t™y
(
¡d
::
	`move
(
ş›Á_id’t™y
));

979 
	}
}

985 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡TLS
, 
Te¡TLSCÚÃù
) {

986 
	`Te¡Hªdshake
();

987 
	}
}

989 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡TLS
, 
G‘P“rC”tChašW™hOÃC”tifiÿ‹
) {

990 
	`Te¡Hªdshake
();

991 
¡d
::
unique_±r
<
¹c
::
SSLC”tChaš
> 
û¹_chaš
 =

992 
ş›Á_s¦_
->
	`G‘P“rSSLC”tChaš
();

993 
	`ASSERT_NE
(
nuÎ±r
, 
û¹_chaš
);

994 
	`EXPECT_EQ
(1u, 
û¹_chaš
->
	`G‘Size
());

995 
	`EXPECT_EQ
(
û¹_chaš
->
	`G‘
(0).
	`ToPEMSŒšg
(),

996 
	`£rv”_id’t™y
()->
	`û¹ifiÿ‹
().
	`ToPEMSŒšg
());

997 
	}
}

999 
	$TEST_F
(
SSLSŒ—mAd­‹rTe¡DTLSC”tChaš
, 
TwoC”tHªdshake
) {

1000 autØ
£rv”_id’t™y
 = 
¹c
::
SSLId’t™y
::
	`C»©eFromPEMChašSŒšgs
(

1001 
kRSA_PRIVATE_KEY_PEM
, 
¡d
::
	`¡ršg
(
kCERT_PEM
è+ 
kCAC”t
);

1002 
£rv”_s¦_
->
	`S‘Id’t™y
(
¡d
::
	`move
(
£rv”_id’t™y
));

1003 
	`Te¡Hªdshake
();

1004 
¡d
::
unique_±r
<
¹c
::
SSLC”tChaš
> 
³”_û¹_chaš
 =

1005 
ş›Á_s¦_
->
	`G‘P“rSSLC”tChaš
();

1006 
	`ASSERT_NE
(
nuÎ±r
, 
³”_û¹_chaš
);

1007 
	`ASSERT_EQ
(2u, 
³”_û¹_chaš
->
	`G‘Size
());

1008 
	`EXPECT_EQ
(
kCERT_PEM
, 
³”_û¹_chaš
->
	`G‘
(0).
	`ToPEMSŒšg
());

1009 
	`EXPECT_EQ
(
kCAC”t
, 
³”_û¹_chaš
->
	`G‘
(1).
	`ToPEMSŒšg
());

1010 
	}
}

1012 
	$TEST_F
(
SSLSŒ—mAd­‹rTe¡DTLSC”tChaš
, 
TwoC”tHªdshakeW™hCİy
) {

1013 
£rv”_s¦_
->
	`S‘Id’t™y
(
¹c
::
SSLId’t™y
::
	`C»©eFromPEMChašSŒšgs
(

1014 
kRSA_PRIVATE_KEY_PEM
, 
¡d
::
	`¡ršg
(
kCERT_PEM
è+ 
kCAC”t
));

1015 
	`Te¡Hªdshake
();

1016 
¡d
::
unique_±r
<
¹c
::
SSLC”tChaš
> 
³”_û¹_chaš
 =

1017 
ş›Á_s¦_
->
	`G‘P“rSSLC”tChaš
();

1018 
	`ASSERT_NE
(
nuÎ±r
, 
³”_û¹_chaš
);

1019 
	`ASSERT_EQ
(2u, 
³”_û¹_chaš
->
	`G‘Size
());

1020 
	`EXPECT_EQ
(
kCERT_PEM
, 
³”_û¹_chaš
->
	`G‘
(0).
	`ToPEMSŒšg
());

1021 
	`EXPECT_EQ
(
kCAC”t
, 
³”_û¹_chaš
->
	`G‘
(1).
	`ToPEMSŒšg
());

1022 
	}
}

1024 
	$TEST_F
(
SSLSŒ—mAd­‹rTe¡DTLSC”tChaš
, 
Th»eC”tHªdshake
) {

1025 
£rv”_s¦_
->
	`S‘Id’t™y
(
¹c
::
SSLId’t™y
::
	`C»©eFromPEMChašSŒšgs
(

1026 
kRSA_PRIVATE_KEY_PEM
, 
¡d
::
	`¡ršg
(
kCERT_PEM
è+ 
kIÁC”t1
 + 
kCAC”t
));

1027 
	`Te¡Hªdshake
();

1028 
¡d
::
unique_±r
<
¹c
::
SSLC”tChaš
> 
³”_û¹_chaš
 =

1029 
ş›Á_s¦_
->
	`G‘P“rSSLC”tChaš
();

1030 
	`ASSERT_NE
(
nuÎ±r
, 
³”_û¹_chaš
);

1031 
	`ASSERT_EQ
(3u, 
³”_û¹_chaš
->
	`G‘Size
());

1032 
	`EXPECT_EQ
(
kCERT_PEM
, 
³”_û¹_chaš
->
	`G‘
(0).
	`ToPEMSŒšg
());

1033 
	`EXPECT_EQ
(
kIÁC”t1
, 
³”_û¹_chaš
->
	`G‘
(1).
	`ToPEMSŒšg
());

1034 
	`EXPECT_EQ
(
kCAC”t
, 
³”_û¹_chaš
->
	`G‘
(2).
	`ToPEMSŒšg
());

1035 
	}
}

1038 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡TLS
, 
Te¡TLSClo£
) {

1039 
	`Te¡Hªdshake
();

1040 
ş›Á_s¦_
->
	`Clo£
();

1041 
	`EXPECT_EQ_WAIT
(
¹c
::
SS_CLOSED
, 
£rv”_s¦_
->
	`G‘S‹
(), 
hªdshake_wa™_
);

1042 
	}
}

1045 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡TLS
, 
Te¡TLST¿nsãr
) {

1046 
	`Te¡Hªdshake
();

1047 
	`Te¡T¿nsãr
(100000);

1048 
	}
}

1051 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡TLS
, 
R—dWr™eAá”Clo£
) {

1052 
	`Te¡Hªdshake
();

1053 
	`Te¡T¿nsãr
(100000);

1054 
ş›Á_s¦_
->
	`Clo£
();

1056 
¹c
::
SŒ—mResuÉ
 
rv
;

1057 
block
[
kBlockSize
];

1058 
size_t
 
dummy
;

1061 
rv
 = 
ş›Á_s¦_
->
	`Wr™e
(
block
, (block), &
dummy
, 
nuÎ±r
);

1062 
	`ASSERT_EQ
(
¹c
::
SR_ERROR
, 
rv
);

1065 
rv
 = 
ş›Á_s¦_
->
	`R—d
(
block
, (block), &
dummy
, 
nuÎ±r
);

1066 
	`ASSERT_EQ
(
¹c
::
SR_EOS
, 
rv
);

1067 
	}
}

1070 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡TLS
, 
Te¡TLSBogusDige¡
) {

1071 
	`S‘P“rId’t™›sByDige¡
(
çl£
, 
Œue
);

1072 
	`Te¡Hªdshake
(
çl£
);

1073 
	}
}

1075 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡TLS
, 
Te¡TLSD–ayedId’t™y
) {

1076 
	`Te¡HªdshakeW™hD–ayedId’t™y
(
Œue
);

1077 
	}
}

1079 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡TLS
, 
Te¡TLSD–ayedId’t™yW™hBogusDige¡
) {

1080 
	`Te¡HªdshakeW™hD–ayedId’t™y
(
çl£
);

1081 
	}
}

1085 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡TLS
,

1086 
Te¡S‘P“rC”tifiÿ‹Dige¡W™hUnknownAlgÜ™hm
) {

1087 
£rv”_dige¡
[20];

1088 
size_t
 
£rv”_dige¡_Ën
;

1089 
boŞ
 
rv
;

1090 
¹c
::
SSLP“rC”tifiÿ‹Dige¡E¼Ü
 
”r
;

1092 
rv
 = 
	`£rv”_id’t™y
()->
	`û¹ifiÿ‹
().
	`Compu‹Dige¡
(

1093 
¹c
::
DIGEST_SHA_1
, 
£rv”_dige¡
, 20, &
£rv”_dige¡_Ën
);

1094 
	`ASSERT_TRUE
(
rv
);

1096 
rv
 = 
ş›Á_s¦_
->
	`S‘P“rC”tifiÿ‹Dige¡
("unknowÀ®gÜ™hm", 
£rv”_dige¡
,

1097 
£rv”_dige¡_Ën
, &
”r
);

1098 
	`EXPECT_EQ
(
¹c
::
SSLP“rC”tifiÿ‹Dige¡E¼Ü
::
UNKNOWN_ALGORITHM
, 
”r
);

1099 
	`EXPECT_FALSE
(
rv
);

1100 
	}
}

1104 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡TLS
, 
Te¡S‘P“rC”tifiÿ‹Dige¡W™hInv®idL’gth
) {

1105 
£rv”_dige¡
[20];

1106 
size_t
 
£rv”_dige¡_Ën
;

1107 
boŞ
 
rv
;

1108 
¹c
::
SSLP“rC”tifiÿ‹Dige¡E¼Ü
 
”r
;

1110 
rv
 = 
	`£rv”_id’t™y
()->
	`û¹ifiÿ‹
().
	`Compu‹Dige¡
(

1111 
¹c
::
DIGEST_SHA_1
, 
£rv”_dige¡
, 20, &
£rv”_dige¡_Ën
);

1112 
	`ASSERT_TRUE
(
rv
);

1114 
rv
 = 
ş›Á_s¦_
->
	`S‘P“rC”tifiÿ‹Dige¡
(
¹c
::
DIGEST_SHA_1
, 
£rv”_dige¡
,

1115 
£rv”_dige¡_Ën
 - 1, &
”r
);

1116 
	`EXPECT_EQ
(
¹c
::
SSLP“rC”tifiÿ‹Dige¡E¼Ü
::
INVALID_LENGTH
, 
”r
);

1117 
	`EXPECT_FALSE
(
rv
);

1118 
	}
}

1124 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡DTLS
, 
Te¡DTLSCÚÃù
) {

1125 
	`Te¡Hªdshake
();

1126 
	}
}

1131 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡DTLS
, 
Te¡DTLSCÚÃùW™hLo¡Fœ¡Pack‘
) {

1132 
	`S‘Lo£Fœ¡Pack‘
(
Œue
);

1133 
	`Te¡Hªdshake
();

1134 
	}
}

1137 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡DTLS
, 
Te¡DTLSCÚÃùW™hLo¡Fœ¡Pack‘D–ay2s
) {

1138 
	`S‘Lo£Fœ¡Pack‘
(
Œue
);

1139 
	`S‘D–ay
(2000);

1140 
	`S‘HªdshakeWa™
(20000);

1141 
	`Te¡Hªdshake
();

1142 
	}
}

1146 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡DTLS
, 
DISABLED_Te¡DTLSCÚÃùW™hSm®lMtu
) {

1147 
	`S‘Mtu
(700);

1148 
	`S‘HªdshakeWa™
(20000);

1149 
	`Te¡Hªdshake
();

1150 
	}
}

1153 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡DTLS
, 
Te¡DTLST¿nsãr
) {

1154 
	`Te¡Hªdshake
();

1155 
	`Te¡T¿nsãr
(100);

1156 
	}
}

1158 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡DTLS
, 
Te¡DTLST¿nsãrW™hLoss
) {

1159 
	`Te¡Hªdshake
();

1160 
	`S‘Loss
(10);

1161 
	`Te¡T¿nsãr
(100);

1162 
	}
}

1164 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡DTLS
, 
Te¡DTLST¿nsãrW™hDamage
) {

1165 
	`S‘Damage
();

1167 
	`Te¡Hªdshake
();

1168 
	`Te¡T¿nsãr
(100);

1169 
	}
}

1171 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡DTLS
, 
Te¡DTLSD–ayedId’t™y
) {

1172 
	`Te¡HªdshakeW™hD–ayedId’t™y
(
Œue
);

1173 
	}
}

1175 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡DTLS
, 
Te¡DTLSD–ayedId’t™yW™hBogusDige¡
) {

1176 
	`Te¡HªdshakeW™hD–ayedId’t™y
(
çl£
);

1177 
	}
}

1180 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡DTLS
, 
Te¡DTLSS¹pHigh
) {

1181 
¡d
::
veùÜ
<> 
high
;

1182 
high
.
	`push_back
(
¹c
::
SRTP_AES128_CM_SHA1_80
);

1183 
	`S‘DsS¹pCry±oSu™es
(
high
, 
Œue
);

1184 
	`S‘DsS¹pCry±oSu™es
(
high
, 
çl£
);

1185 
	`Te¡Hªdshake
();

1187 
ş›Á_ch”
;

1188 
	`ASSERT_TRUE
(
	`G‘DsS¹pCry±oSu™e
(
Œue
, &
ş›Á_ch”
));

1189 
£rv”_ch”
;

1190 
	`ASSERT_TRUE
(
	`G‘DsS¹pCry±oSu™e
(
çl£
, &
£rv”_ch”
));

1192 
	`ASSERT_EQ
(
ş›Á_ch”
, 
£rv”_ch”
);

1193 
	`ASSERT_EQ
(
ş›Á_ch”
, 
¹c
::
SRTP_AES128_CM_SHA1_80
);

1194 
	}
}

1197 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡DTLS
, 
Te¡DTLSS¹pLow
) {

1198 
¡d
::
veùÜ
<> 
low
;

1199 
low
.
	`push_back
(
¹c
::
SRTP_AES128_CM_SHA1_32
);

1200 
	`S‘DsS¹pCry±oSu™es
(
low
, 
Œue
);

1201 
	`S‘DsS¹pCry±oSu™es
(
low
, 
çl£
);

1202 
	`Te¡Hªdshake
();

1204 
ş›Á_ch”
;

1205 
	`ASSERT_TRUE
(
	`G‘DsS¹pCry±oSu™e
(
Œue
, &
ş›Á_ch”
));

1206 
£rv”_ch”
;

1207 
	`ASSERT_TRUE
(
	`G‘DsS¹pCry±oSu™e
(
çl£
, &
£rv”_ch”
));

1209 
	`ASSERT_EQ
(
ş›Á_ch”
, 
£rv”_ch”
);

1210 
	`ASSERT_EQ
(
ş›Á_ch”
, 
¹c
::
SRTP_AES128_CM_SHA1_32
);

1211 
	}
}

1214 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡DTLS
, 
Te¡DTLSS¹pHighLow
) {

1215 
¡d
::
veùÜ
<> 
high
;

1216 
high
.
	`push_back
(
¹c
::
SRTP_AES128_CM_SHA1_80
);

1217 
¡d
::
veùÜ
<> 
low
;

1218 
low
.
	`push_back
(
¹c
::
SRTP_AES128_CM_SHA1_32
);

1219 
	`S‘DsS¹pCry±oSu™es
(
high
, 
Œue
);

1220 
	`S‘DsS¹pCry±oSu™es
(
low
, 
çl£
);

1221 
	`Te¡Hªdshake
();

1223 
ş›Á_ch”
;

1224 
	`ASSERT_FALSE
(
	`G‘DsS¹pCry±oSu™e
(
Œue
, &
ş›Á_ch”
));

1225 
£rv”_ch”
;

1226 
	`ASSERT_FALSE
(
	`G‘DsS¹pCry±oSu™e
(
çl£
, &
£rv”_ch”
));

1227 
	}
}

1230 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡DTLS
, 
Te¡DTLSS¹pMixed
) {

1231 
¡d
::
veùÜ
<> 
mixed
;

1232 
mixed
.
	`push_back
(
¹c
::
SRTP_AES128_CM_SHA1_80
);

1233 
mixed
.
	`push_back
(
¹c
::
SRTP_AES128_CM_SHA1_32
);

1234 
	`S‘DsS¹pCry±oSu™es
(
mixed
, 
Œue
);

1235 
	`S‘DsS¹pCry±oSu™es
(
mixed
, 
çl£
);

1236 
	`Te¡Hªdshake
();

1238 
ş›Á_ch”
;

1239 
	`ASSERT_TRUE
(
	`G‘DsS¹pCry±oSu™e
(
Œue
, &
ş›Á_ch”
));

1240 
£rv”_ch”
;

1241 
	`ASSERT_TRUE
(
	`G‘DsS¹pCry±oSu™e
(
çl£
, &
£rv”_ch”
));

1243 
	`ASSERT_EQ
(
ş›Á_ch”
, 
£rv”_ch”
);

1244 
	`ASSERT_EQ
(
ş›Á_ch”
, 
¹c
::
SRTP_AES128_CM_SHA1_80
);

1245 
	}
}

1248 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡DTLS
, 
Te¡DTLSS¹pGCM128
) {

1249 
¡d
::
veùÜ
<> 
gcm128
;

1250 
gcm128
.
	`push_back
(
¹c
::
SRTP_AEAD_AES_128_GCM
);

1251 
	`S‘DsS¹pCry±oSu™es
(
gcm128
, 
Œue
);

1252 
	`S‘DsS¹pCry±oSu™es
(
gcm128
, 
çl£
);

1253 
	`Te¡Hªdshake
();

1255 
ş›Á_ch”
;

1256 
	`ASSERT_TRUE
(
	`G‘DsS¹pCry±oSu™e
(
Œue
, &
ş›Á_ch”
));

1257 
£rv”_ch”
;

1258 
	`ASSERT_TRUE
(
	`G‘DsS¹pCry±oSu™e
(
çl£
, &
£rv”_ch”
));

1260 
	`ASSERT_EQ
(
ş›Á_ch”
, 
£rv”_ch”
);

1261 
	`ASSERT_EQ
(
ş›Á_ch”
, 
¹c
::
SRTP_AEAD_AES_128_GCM
);

1262 
	}
}

1265 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡DTLS
, 
Te¡DTLSS¹pGCM256
) {

1266 
¡d
::
veùÜ
<> 
gcm256
;

1267 
gcm256
.
	`push_back
(
¹c
::
SRTP_AEAD_AES_256_GCM
);

1268 
	`S‘DsS¹pCry±oSu™es
(
gcm256
, 
Œue
);

1269 
	`S‘DsS¹pCry±oSu™es
(
gcm256
, 
çl£
);

1270 
	`Te¡Hªdshake
();

1272 
ş›Á_ch”
;

1273 
	`ASSERT_TRUE
(
	`G‘DsS¹pCry±oSu™e
(
Œue
, &
ş›Á_ch”
));

1274 
£rv”_ch”
;

1275 
	`ASSERT_TRUE
(
	`G‘DsS¹pCry±oSu™e
(
çl£
, &
£rv”_ch”
));

1277 
	`ASSERT_EQ
(
ş›Á_ch”
, 
£rv”_ch”
);

1278 
	`ASSERT_EQ
(
ş›Á_ch”
, 
¹c
::
SRTP_AEAD_AES_256_GCM
);

1279 
	}
}

1282 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡DTLS
, 
Te¡DTLSS¹pGCMMism©ch
) {

1283 
¡d
::
veùÜ
<> 
gcm128
;

1284 
gcm128
.
	`push_back
(
¹c
::
SRTP_AEAD_AES_128_GCM
);

1285 
¡d
::
veùÜ
<> 
gcm256
;

1286 
gcm256
.
	`push_back
(
¹c
::
SRTP_AEAD_AES_256_GCM
);

1287 
	`S‘DsS¹pCry±oSu™es
(
gcm128
, 
Œue
);

1288 
	`S‘DsS¹pCry±oSu™es
(
gcm256
, 
çl£
);

1289 
	`Te¡Hªdshake
();

1291 
ş›Á_ch”
;

1292 
	`ASSERT_FALSE
(
	`G‘DsS¹pCry±oSu™e
(
Œue
, &
ş›Á_ch”
));

1293 
£rv”_ch”
;

1294 
	`ASSERT_FALSE
(
	`G‘DsS¹pCry±oSu™e
(
çl£
, &
£rv”_ch”
));

1295 
	}
}

1298 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡DTLS
, 
Te¡DTLSS¹pGCMMixed
) {

1299 
¡d
::
veùÜ
<> 
gcmBÙh
;

1300 
gcmBÙh
.
	`push_back
(
¹c
::
SRTP_AEAD_AES_256_GCM
);

1301 
gcmBÙh
.
	`push_back
(
¹c
::
SRTP_AEAD_AES_128_GCM
);

1302 
	`S‘DsS¹pCry±oSu™es
(
gcmBÙh
, 
Œue
);

1303 
	`S‘DsS¹pCry±oSu™es
(
gcmBÙh
, 
çl£
);

1304 
	`Te¡Hªdshake
();

1306 
ş›Á_ch”
;

1307 
	`ASSERT_TRUE
(
	`G‘DsS¹pCry±oSu™e
(
Œue
, &
ş›Á_ch”
));

1308 
£rv”_ch”
;

1309 
	`ASSERT_TRUE
(
	`G‘DsS¹pCry±oSu™e
(
çl£
, &
£rv”_ch”
));

1311 
	`ASSERT_EQ
(
ş›Á_ch”
, 
£rv”_ch”
);

1312 
	`ASSERT_EQ
(
ş›Á_ch”
, 
¹c
::
SRTP_AEAD_AES_256_GCM
);

1313 
	}
}

1316 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡DTLS
, 
Te¡DTLSS¹pKeyAndS®tL’gths
) {

1317 
key_Ën
;

1318 
§É_Ën
;

1320 
	`ASSERT_FALSE
(
¹c
::
	`G‘S¹pKeyAndS®tL’gths
Ôtc::
SRTP_INVALID_CRYPTO_SUITE
,

1321 &
key_Ën
, &
§É_Ën
));

1323 
	`ASSERT_TRUE
(
¹c
::
	`G‘S¹pKeyAndS®tL’gths
Ôtc::
SRTP_AES128_CM_SHA1_32
,

1324 &
key_Ën
, &
§É_Ën
));

1325 
	`ASSERT_EQ
(128 / 8, 
key_Ën
);

1326 
	`ASSERT_EQ
(112 / 8, 
§É_Ën
);

1328 
	`ASSERT_TRUE
(
¹c
::
	`G‘S¹pKeyAndS®tL’gths
Ôtc::
SRTP_AES128_CM_SHA1_80
,

1329 &
key_Ën
, &
§É_Ën
));

1330 
	`ASSERT_EQ
(128 / 8, 
key_Ën
);

1331 
	`ASSERT_EQ
(112 / 8, 
§É_Ën
);

1333 
	`ASSERT_TRUE
(
¹c
::
	`G‘S¹pKeyAndS®tL’gths
Ôtc::
SRTP_AEAD_AES_128_GCM
,

1334 &
key_Ën
, &
§É_Ën
));

1335 
	`ASSERT_EQ
(128 / 8, 
key_Ën
);

1336 
	`ASSERT_EQ
(96 / 8, 
§É_Ën
);

1338 
	`ASSERT_TRUE
(
¹c
::
	`G‘S¹pKeyAndS®tL’gths
Ôtc::
SRTP_AEAD_AES_256_GCM
,

1339 &
key_Ën
, &
§É_Ën
));

1340 
	`ASSERT_EQ
(256 / 8, 
key_Ën
);

1341 
	`ASSERT_EQ
(96 / 8, 
§É_Ën
);

1342 
	}
}

1345 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡DTLS
, 
Te¡DTLSExpÜ‹r
) {

1346 
	`Te¡Hªdshake
();

1347 
ş›Á_out
[20];

1348 
£rv”_out
[20];

1350 
boŞ
 
»suÉ
;

1351 
»suÉ
 = 
	`ExpÜtKeyšgM©”Ÿl
(
kExpÜ‹rLab–
, 
kExpÜ‹rCÚ‹xt
,

1352 
kExpÜ‹rCÚ‹xtL’
, 
Œue
,rue, 
ş›Á_out
,

1353 (
ş›Á_out
));

1354 
	`ASSERT_TRUE
(
»suÉ
);

1356 
»suÉ
 = 
	`ExpÜtKeyšgM©”Ÿl
(
kExpÜ‹rLab–
, 
kExpÜ‹rCÚ‹xt
,

1357 
kExpÜ‹rCÚ‹xtL’
, 
Œue
, 
çl£
, 
£rv”_out
,

1358 (
£rv”_out
));

1359 
	`ASSERT_TRUE
(
»suÉ
);

1361 
	`ASSERT_TRUE
(!
	`memcmp
(
ş›Á_out
, 
£rv”_out
, (client_out)));

1362 
	}
}

1365 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡DTLS
, 
Te¡C”tNÙY‘V®id
) {

1366 
Úe_day
 = 60 * 60 * 24;

1368 
	`Re£tId’t™›sW™hV®id™y
(
Úe_day
, one_day);

1369 
	`Te¡Hªdshake
();

1370 
	}
}

1373 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡DTLS
, 
Te¡C”tExpœed
) {

1374 
Úe_day
 = 60 * 60 * 24;

1376 
	`Re£tId’t™›sW™hV®id™y
(-
Úe_day
, -one_day);

1377 
	`Te¡Hªdshake
();

1378 
	}
}

1381 
	$TEST_F
(
SSLSŒ—mAd­‹rTe¡DTLSFromPEMSŒšgs
, 
Te¡T¿nsãr
) {

1382 
	`Te¡Hªdshake
();

1383 
	`Te¡T¿nsãr
(100);

1384 
	}
}

1387 
	$TEST_F
(
SSLSŒ—mAd­‹rTe¡DTLSFromPEMSŒšgs
, 
Te¡DTLSG‘P“rC”tifiÿ‹
) {

1389 
	`ASSERT_FALSE
(
	`G‘P“rC”tifiÿ‹
(
Œue
));

1390 
	`ASSERT_FALSE
(
	`G‘P“rC”tifiÿ‹
(
çl£
));

1392 
	`Te¡Hªdshake
();

1395 
¡d
::
unique_±r
<
¹c
::
SSLC”tifiÿ‹
> 
ş›Á_³”_û¹
 =

1396 
	`G‘P“rC”tifiÿ‹
(
Œue
);

1397 
	`ASSERT_TRUE
(
ş›Á_³”_û¹
);

1400 
¡d
::
¡ršg
 
ş›Á_³”_¡ršg
 = 
ş›Á_³”_û¹
->
	`ToPEMSŒšg
();

1401 
	`ASSERT_NE
(
kCERT_PEM
, 
ş›Á_³”_¡ršg
);

1404 
¡d
::
unique_±r
<
¹c
::
SSLC”tifiÿ‹
> 
£rv”_³”_û¹
 =

1405 
	`G‘P“rC”tifiÿ‹
(
çl£
);

1406 
	`ASSERT_TRUE
(
£rv”_³”_û¹
);

1409 
	`ASSERT_EQ
(
kCERT_PEM
, 
£rv”_³”_û¹
->
	`ToPEMSŒšg
());

1410 
	}
}

1414 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡DTLS
, 
Te¡G‘S¦Ch”Su™eDs12BÙh
) {

1415 
	`S‘upPrÙocŞV”siÚs
(
¹c
::
SSL_PROTOCOL_DTLS_12
,„tc::SSL_PROTOCOL_DTLS_12);

1416 
	`Te¡Hªdshake
();

1418 
ş›Á_ch”
;

1419 
	`ASSERT_TRUE
(
	`G‘S¦Ch”Su™e
(
Œue
, &
ş›Á_ch”
));

1420 
£rv”_ch”
;

1421 
	`ASSERT_TRUE
(
	`G‘S¦Ch”Su™e
(
çl£
, &
£rv”_ch”
));

1423 
	`ASSERT_EQ
(
¹c
::
SSL_PROTOCOL_DTLS_12
, 
	`G‘S¦V”siÚ
(
Œue
));

1424 
	`ASSERT_EQ
(
¹c
::
SSL_PROTOCOL_DTLS_12
, 
	`G‘S¦V”siÚ
(
çl£
));

1426 
	`ASSERT_EQ
(
ş›Á_ch”
, 
£rv”_ch”
);

1427 
	`ASSERT_TRUE
(
¹c
::
SSLSŒ—mAd­‹r
::
	`IsAcû±abËCh”
(

1428 
£rv”_ch”
, ::
‹¡šg
::
g‘
<1>(
	`G‘P¬am
()).
	`ty³
()));

1429 
	}
}

1434 
	$TEST_P
(
SSLSŒ—mAd­‹rTe¡DTLS
, 
Te¡G‘S¦Ch”Su™e
) {

1435 
	`S‘upPrÙocŞV”siÚs
(
¹c
::
SSL_PROTOCOL_DTLS_10
,„tc::SSL_PROTOCOL_DTLS_10);

1436 
	`Te¡Hªdshake
();

1438 
ş›Á_ch”
;

1439 
	`ASSERT_TRUE
(
	`G‘S¦Ch”Su™e
(
Œue
, &
ş›Á_ch”
));

1440 
£rv”_ch”
;

1441 
	`ASSERT_TRUE
(
	`G‘S¦Ch”Su™e
(
çl£
, &
£rv”_ch”
));

1443 
	`ASSERT_EQ
(
¹c
::
SSL_PROTOCOL_DTLS_10
, 
	`G‘S¦V”siÚ
(
Œue
));

1444 
	`ASSERT_EQ
(
¹c
::
SSL_PROTOCOL_DTLS_10
, 
	`G‘S¦V”siÚ
(
çl£
));

1446 
	`ASSERT_EQ
(
ş›Á_ch”
, 
£rv”_ch”
);

1447 
	`ASSERT_TRUE
(
¹c
::
SSLSŒ—mAd­‹r
::
	`IsAcû±abËCh”
(

1448 
£rv”_ch”
, ::
‹¡šg
::
g‘
<1>(
	`G‘P¬am
()).
	`ty³
()));

1449 
	}
}

1454 
INSTANTIATE_TEST_SUITE_P
(

1455 
SSLSŒ—mAd­‹rTe¡sTLS
,

1456 
SSLSŒ—mAd­‹rTe¡TLS
,

1457 
Combše
(
V®ues
(
¹c
::
KeyP¬ams
::
RSA
(1024, 65537),

1458 
¹c
::
KeyP¬ams
::
RSA
(1152, 65537),

1459 
¹c
::
KeyP¬ams
::
ECDSA
Ôtc::
EC_NIST_P256
)),

1460 
V®ues
(
¹c
::
KeyP¬ams
::
RSA
(1024, 65537),

1461 
¹c
::
KeyP¬ams
::
RSA
(1152, 65537),

1462 
¹c
::
KeyP¬ams
::
ECDSA
Ôtc::
EC_NIST_P256
))));

1463 
INSTANTIATE_TEST_SUITE_P
(

1464 
SSLSŒ—mAd­‹rTe¡sDTLS
,

1465 
SSLSŒ—mAd­‹rTe¡DTLS
,

1466 
Combše
(
V®ues
(
¹c
::
KeyP¬ams
::
RSA
(1024, 65537),

1467 
¹c
::
KeyP¬ams
::
RSA
(1152, 65537),

1468 
¹c
::
KeyP¬ams
::
ECDSA
Ôtc::
EC_NIST_P256
)),

1469 
V®ues
(
¹c
::
KeyP¬ams
::
RSA
(1024, 65537),

1470 
¹c
::
KeyP¬ams
::
RSA
(1152, 65537),

1471 
¹c
::
KeyP¬ams
::
ECDSA
Ôtc::
EC_NIST_P256
))));

1474 şas 
	cSSLSŒ—mAd­‹rTe¡DTLSLegacyPrÙocŞs


1475 : 
public
 
SSLSŒ—mAd­‹rTe¡DTLSBa£
 {

1476 
public
:

1477 
	$SSLSŒ—mAd­‹rTe¡DTLSLegacyPrÙocŞs
()

1478 : 
	`SSLSŒ—mAd­‹rTe¡DTLSBa£
(
¹c
::
KeyP¬ams
::
	`ECDSA
Ôtc::
EC_NIST_P256
),

1479 
¹c
::
KeyP¬ams
::
	$ECDSA
(
¹c
::
EC_NIST_P256
)) {

1483 
	$S‘Up
(è
ov”ride
 {
	}
}

1489 
	$CÚfigu»Cl›Á
(
¡d
::
¡ršg
 
ex³rim’t
) {

1490 
web¹c
::
‹¡
::
ScİedF›ldTrŸls
 
	`ŒŸl
(
ex³rim’t
);

1491 
ş›Á_¡»am_
 =

1492 
Ãw
 
	`SSLDummySŒ—mDTLS
(
this
, "c2s", &
ş›Á_bufãr_
, &
£rv”_bufãr_
);

1493 
ş›Á_s¦_
 =

1494 
¹c
::
SSLSŒ—mAd­‹r
::
	`C»©e
(
ab¦
::
	`W¿pUnique
(
ş›Á_¡»am_
));

1495 
ş›Á_s¦_
->
SigÇlEv’t
.
	`cÚÃù
(

1496 
¡©ic_ÿ¡
<
SSLSŒ—mAd­‹rTe¡Ba£
*>(
this
),

1497 &
SSLSŒ—mAd­‹rTe¡Ba£
::
OnEv’t
);

1498 autØ
ş›Á_id’t™y
 = 
¹c
::
SSLId’t™y
::
	`C»©e
("ş›Á", 
ş›Á_key_ty³_
);

1499 
ş›Á_s¦_
->
	`S‘Id’t™y
(
¡d
::
	`move
(
ş›Á_id’t™y
));

1500 
	}
}

1502 
	$CÚfigu»S”v”
(
¡d
::
¡ršg
 
ex³rim’t
) {

1504 
£rv”_¡»am_
 =

1505 
Ãw
 
	`SSLDummySŒ—mDTLS
(
this
, "s2c", &
£rv”_bufãr_
, &
ş›Á_bufãr_
);

1506 
£rv”_s¦_
 =

1507 
¹c
::
SSLSŒ—mAd­‹r
::
	`C»©e
(
ab¦
::
	`W¿pUnique
(
£rv”_¡»am_
));

1508 
£rv”_s¦_
->
SigÇlEv’t
.
	`cÚÃù
(

1509 
¡©ic_ÿ¡
<
SSLSŒ—mAd­‹rTe¡Ba£
*>(
this
),

1510 &
SSLSŒ—mAd­‹rTe¡Ba£
::
OnEv’t
);

1511 
£rv”_s¦_
->
	`S‘Id’t™y
(

1512 
¹c
::
SSLId’t™y
::
	`C»©e
("£rv”", 
£rv”_key_ty³_
));

1513 
	}
}

1518 
	$TEST_F
(
SSLSŒ—mAd­‹rTe¡DTLSLegacyPrÙocŞs
, 
Te¡G‘S¦Ch”Su™e
) {

1519 
	`CÚfigu»Cl›Á
("");

1520 
	`CÚfigu»S”v”
("");

1521 
	`S‘upPrÙocŞV”siÚs
(
¹c
::
SSL_PROTOCOL_DTLS_10
,„tc::SSL_PROTOCOL_DTLS_10);

1522 
	`Te¡Hªdshake
();

1524 
ş›Á_ch”
;

1525 
	`ASSERT_TRUE
(
	`G‘S¦Ch”Su™e
(
Œue
, &
ş›Á_ch”
));

1526 
£rv”_ch”
;

1527 
	`ASSERT_TRUE
(
	`G‘S¦Ch”Su™e
(
çl£
, &
£rv”_ch”
));

1529 
	`ASSERT_EQ
(
¹c
::
SSL_PROTOCOL_DTLS_10
, 
	`G‘S¦V”siÚ
(
Œue
));

1530 
	`ASSERT_EQ
(
¹c
::
SSL_PROTOCOL_DTLS_10
, 
	`G‘S¦V”siÚ
(
çl£
));

1532 
	`ASSERT_EQ
(
ş›Á_ch”
, 
£rv”_ch”
);

1533 
	}
}

1537 
	$TEST_F
(
SSLSŒ—mAd­‹rTe¡DTLSLegacyPrÙocŞs
,

1538 
Te¡G‘S¦Ch”Su™eDs12BÙh
) {

1539 
	`CÚfigu»Cl›Á
("");

1540 
	`CÚfigu»S”v”
("");

1541 
	`S‘upPrÙocŞV”siÚs
(
¹c
::
SSL_PROTOCOL_DTLS_12
,„tc::SSL_PROTOCOL_DTLS_12);

1542 
	`Te¡Hªdshake
();

1544 
ş›Á_ch”
;

1545 
	`ASSERT_TRUE
(
	`G‘S¦Ch”Su™e
(
Œue
, &
ş›Á_ch”
));

1546 
£rv”_ch”
;

1547 
	`ASSERT_TRUE
(
	`G‘S¦Ch”Su™e
(
çl£
, &
£rv”_ch”
));

1549 
	`ASSERT_EQ
(
¹c
::
SSL_PROTOCOL_DTLS_12
, 
	`G‘S¦V”siÚ
(
Œue
));

1550 
	`ASSERT_EQ
(
¹c
::
SSL_PROTOCOL_DTLS_12
, 
	`G‘S¦V”siÚ
(
çl£
));

1552 
	`ASSERT_EQ
(
ş›Á_ch”
, 
£rv”_ch”
);

1553 
	}
}

1556 
	$TEST_F
(
SSLSŒ—mAd­‹rTe¡DTLSLegacyPrÙocŞs
,

1557 
Te¡G‘S¦Ch”Su™eDs12Cl›Á
) {

1558 
	`CÚfigu»Cl›Á
("");

1559 
	`CÚfigu»S”v”
("");

1560 
	`S‘upPrÙocŞV”siÚs
(
¹c
::
SSL_PROTOCOL_DTLS_10
,„tc::
SSL_PROTOCOL_DTLS_12
);

1561 
	`Te¡Hªdshake
();

1563 
ş›Á_ch”
;

1564 
	`ASSERT_TRUE
(
	`G‘S¦Ch”Su™e
(
Œue
, &
ş›Á_ch”
));

1565 
£rv”_ch”
;

1566 
	`ASSERT_TRUE
(
	`G‘S¦Ch”Su™e
(
çl£
, &
£rv”_ch”
));

1568 
	`ASSERT_EQ
(
¹c
::
SSL_PROTOCOL_DTLS_10
, 
	`G‘S¦V”siÚ
(
Œue
));

1569 
	`ASSERT_EQ
(
¹c
::
SSL_PROTOCOL_DTLS_10
, 
	`G‘S¦V”siÚ
(
çl£
));

1571 
	`ASSERT_EQ
(
ş›Á_ch”
, 
£rv”_ch”
);

1572 
	}
}

1575 
	$TEST_F
(
SSLSŒ—mAd­‹rTe¡DTLSLegacyPrÙocŞs
,

1576 
Te¡G‘S¦Ch”Su™eDs12S”v”
) {

1577 
	`CÚfigu»Cl›Á
("");

1578 
	`CÚfigu»S”v”
("");

1579 
	`S‘upPrÙocŞV”siÚs
(
¹c
::
SSL_PROTOCOL_DTLS_12
,„tc::
SSL_PROTOCOL_DTLS_10
);

1580 
	`Te¡Hªdshake
();

1582 
ş›Á_ch”
;

1583 
	`ASSERT_TRUE
(
	`G‘S¦Ch”Su™e
(
Œue
, &
ş›Á_ch”
));

1584 
£rv”_ch”
;

1585 
	`ASSERT_TRUE
(
	`G‘S¦Ch”Su™e
(
çl£
, &
£rv”_ch”
));

1587 
	`ASSERT_EQ
(
¹c
::
SSL_PROTOCOL_DTLS_10
, 
	`G‘S¦V”siÚ
(
Œue
));

1588 
	`ASSERT_EQ
(
¹c
::
SSL_PROTOCOL_DTLS_10
, 
	`G‘S¦V”siÚ
(
çl£
));

1590 
	`ASSERT_EQ
(
ş›Á_ch”
, 
£rv”_ch”
);

1591 
	}
}

1595 
	$TEST_F
(
SSLSŒ—mAd­‹rTe¡DTLSLegacyPrÙocŞs
,

1596 
Te¡G‘S¦V”siÚLegacyDi§bËdS”v”10
) {

1597 
	`CÚfigu»Cl›Á
("WebRTC-LegacyTlsProtocols/Disabled/");

1598 
	`CÚfigu»S”v”
("");

1599 
	`S‘upPrÙocŞV”siÚs
(
¹c
::
SSL_PROTOCOL_DTLS_10
,„tc::
SSL_PROTOCOL_DTLS_12
);

1601 
	`Te¡Hªdshake
(
çl£
);

1602 
	}
}

1606 
	$TEST_F
(
SSLSŒ—mAd­‹rTe¡DTLSLegacyPrÙocŞs
,

1607 
Te¡G‘S¦V”siÚLegacyDi§bËdS”v”12
) {

1608 
	`CÚfigu»Cl›Á
("WebRTC-LegacyTlsProtocols/Disabled/");

1609 
	`CÚfigu»S”v”
("WebRTC-LegacyTlsProtocols/Disabled/");

1610 
	`S‘upPrÙocŞV”siÚs
(
¹c
::
SSL_PROTOCOL_DTLS_12
,„tc::SSL_PROTOCOL_DTLS_12);

1611 
	`Te¡Hªdshake
();

1612 
	}
}

1616 
	$TEST_F
(
SSLSŒ—mAd­‹rTe¡DTLSLegacyPrÙocŞs
,

1617 
Te¡G‘S¦V”siÚLegacyEÇbËdCl›Á10S”v”10
) {

1618 
	`CÚfigu»Cl›Á
("WebRTC-LegacyTlsProtocols/Enabled/");

1619 
	`CÚfigu»S”v”
("WebRTC-LegacyTlsProtocols/Enabled/");

1620 
	`S‘upPrÙocŞV”siÚs
(
¹c
::
SSL_PROTOCOL_DTLS_10
,„tc::SSL_PROTOCOL_DTLS_10);

1621 
	`Te¡Hªdshake
();

1622 
	}
}

1626 
	$TEST_F
(
SSLSŒ—mAd­‹rTe¡DTLSLegacyPrÙocŞs
,

1627 
Te¡G‘S¦V”siÚLegacyDi§bËdCl›Á10S”v”10
) {

1628 
	`CÚfigu»Cl›Á
("WebRTC-LegacyTlsProtocols/Disabled/");

1629 
	`CÚfigu»S”v”
("WebRTC-LegacyTlsProtocols/Disabled/");

1630 
	`S‘upPrÙocŞV”siÚs
(
¹c
::
SSL_PROTOCOL_DTLS_10
,„tc::SSL_PROTOCOL_DTLS_10);

1631 
	`Te¡Hªdshake
(
çl£
);

1632 
	}
}

	@stream.cc

10 
	~"¹c_ba£/¡»am.h
"

12 
	~<”ºo.h
>

13 
	~<¡ršg.h
>

15 
	~<®gÜ™hm
>

16 
	~<¡ršg
>

18 
	~"¹c_ba£/checks.h
"

19 
	~"¹c_ba£/loÿtiÚ.h
"

20 
	~"¹c_ba£/th»ad.h
"

22 
Çme¥aû
 
	g¹c
 {

27 
	gSŒ—mIÁ”çû
::~
SŒ—mIÁ”çû
() {}

29 
SŒ—mResuÉ
 
SŒ—mIÁ”çû
::
Wr™eAÎ
(cÚ¡ * 
d©a
,

30 
size_t
 
d©a_Ën
,

31 
size_t
* 
wr™‹n
,

32 * 
”rÜ
) {

33 
SŒ—mResuÉ
 
	g»suÉ
 = 
SR_SUCCESS
;

34 
size_t
 
	gtÙ®_wr™‹n
 = 0, 
	gcu¼’t_wr™‹n
;

35 
	gtÙ®_wr™‹n
 < 
	gd©a_Ën
) {

36 
	g»suÉ
 = 
Wr™e
(
¡©ic_ÿ¡
<cÚ¡ *>(
d©a
è+ 
tÙ®_wr™‹n
,

37 
d©a_Ën
 - 
tÙ®_wr™‹n
, &
cu¼’t_wr™‹n
, 
”rÜ
);

38 ià(
	g»suÉ
 !ğ
SR_SUCCESS
)

40 
	gtÙ®_wr™‹n
 +ğ
cu¼’t_wr™‹n
;

42 ià(
	gwr™‹n
)

43 *
	gwr™‹n
 = 
tÙ®_wr™‹n
;

44  
	g»suÉ
;

47 
	gSŒ—mIÁ”çû
::
Po¡Ev’t
(
Th»ad
* 
t
, 
ev’ts
, 
”r
) {

48 
	gt
->
Po¡
(
RTC_FROM_HERE
, 
this
, 
MSG_POST_EVENT
,

49 
Ãw
 
SŒ—mEv’tD©a
(
ev’ts
, 
”r
));

52 
	gSŒ—mIÁ”çû
::
Po¡Ev’t
(
ev’ts
, 
”r
) {

53 
Po¡Ev’t
(
Th»ad
::
Cu¼’t
(), 
ev’ts
, 
”r
);

56 
boŞ
 
	gSŒ—mIÁ”çû
::
Flush
() {

57  
çl£
;

60 
	gSŒ—mIÁ”çû
::
SŒ—mIÁ”çû
() {}

62 
SŒ—mIÁ”çû
::
OnMes§ge
(
Mes§ge
* 
msg
) {

63 ià(
MSG_POST_EVENT
 =ğ
msg
->
mes§ge_id
) {

64 
SŒ—mEv’tD©a
* 
³
 = 
¡©ic_ÿ¡
<SŒ—mEv’tD©a*>(
msg
->
pd©a
);

65 
SigÇlEv’t
(
this
, 
³
->
ev’ts
,…e->
”rÜ
);

66 
d–‘e
 
	gmsg
->
	gpd©a
;

74 
	gSŒ—mAd­‹rIÁ”çû
::
SŒ—mAd­‹rIÁ”çû
(
SŒ—mIÁ”çû
* 
¡»am
,

75 
boŞ
 
owÃd
)

76 : 
¡»am_
(
¡»am
), 
owÃd_
(
owÃd
) {

77 ià(
	gnuÎ±r
 !ğ
¡»am_
)

78 
¡»am_
->
SigÇlEv’t
.
cÚÃù
(
this
, &
SŒ—mAd­‹rIÁ”çû
::
OnEv’t
);

81 
SŒ—mS‹
 
	gSŒ—mAd­‹rIÁ”çû
::
G‘S‹
() const {

82  
¡»am_
->
G‘S‹
();

84 
SŒ—mResuÉ
 
	gSŒ—mAd­‹rIÁ”çû
::
R—d
(* 
bufãr
,

85 
size_t
 
bufãr_Ën
,

86 
size_t
* 
»ad
,

87 * 
”rÜ
) {

88  
	g¡»am_
->
R—d
(
bufãr
, 
bufãr_Ën
, 
»ad
, 
”rÜ
);

90 
SŒ—mResuÉ
 
	gSŒ—mAd­‹rIÁ”çû
::
Wr™e
(cÚ¡ * 
d©a
,

91 
size_t
 
d©a_Ën
,

92 
size_t
* 
wr™‹n
,

93 * 
”rÜ
) {

94  
	g¡»am_
->
Wr™e
(
d©a
, 
d©a_Ën
, 
wr™‹n
, 
”rÜ
);

96 
	gSŒ—mAd­‹rIÁ”çû
::
Clo£
() {

97 
¡»am_
->
Clo£
();

100 
boŞ
 
	gSŒ—mAd­‹rIÁ”çû
::
Flush
() {

101  
¡»am_
->
Flush
();

104 
	gSŒ—mAd­‹rIÁ”çû
::
A‰ach
(
SŒ—mIÁ”çû
* 
¡»am
, 
boŞ
 
owÃd
) {

105 ià(
	gnuÎ±r
 !ğ
¡»am_
)

106 
¡»am_
->
SigÇlEv’t
.
discÚÃù
(
this
);

107 ià(
	gowÃd_
)

108 
d–‘e
 
	g¡»am_
;

109 
	g¡»am_
 = 
¡»am
;

110 
	gowÃd_
 = 
owÃd
;

111 ià(
	gnuÎ±r
 !ğ
¡»am_
)

112 
¡»am_
->
SigÇlEv’t
.
cÚÃù
(
this
, &
SŒ—mAd­‹rIÁ”çû
::
OnEv’t
);

115 
SŒ—mIÁ”çû
* 
	gSŒ—mAd­‹rIÁ”çû
::
D‘ach
() {

116 ià(
nuÎ±r
 !ğ
¡»am_
)

117 
¡»am_
->
SigÇlEv’t
.
discÚÃù
(
this
);

118 
SŒ—mIÁ”çû
* 
	g¡»am
 = 
¡»am_
;

119 
	g¡»am_
 = 
nuÎ±r
;

120  
	g¡»am
;

123 
	gSŒ—mAd­‹rIÁ”çû
::~
SŒ—mAd­‹rIÁ”çû
() {

124 ià(
owÃd_
)

125 
d–‘e
 
¡»am_
;

128 
	gSŒ—mAd­‹rIÁ”çû
::
OnEv’t
(
SŒ—mIÁ”çû
* 
¡»am
,

129 
ev’ts
,

130 
”r
) {

131 
SigÇlEv’t
(
this
, 
ev’ts
, 
”r
);

	@stream.h

11 #iâdeà
RTC_BASE_STREAM_H_


12 
	#RTC_BASE_STREAM_H_


	)

14 
	~<memÜy
>

16 
	~"¹c_ba£/bufãr.h
"

17 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

18 
	~"¹c_ba£/ü™iÿl_£ùiÚ.h
"

19 
	~"¹c_ba£/mes§ge_hªdËr.h
"

20 
	~"¹c_ba£/sy¡em/¹c_expÜt.h
"

21 
	~"¹c_ba£/thœd_·¹y/sig¦Ù/sig¦Ù.h
"

22 
	~"¹c_ba£/th»ad.h
"

24 
Çme¥aû
 
	g¹c
 {

38 
	eSŒ—mS‹
 { 
	gSS_CLOSED
, 
	gSS_OPENING
, 
	gSS_OPEN
 };

42 
	eSŒ—mResuÉ
 { 
	gSR_ERROR
, 
	gSR_SUCCESS
, 
	gSR_BLOCK
, 
	gSR_EOS
 };

50 
	eSŒ—mEv’t
 { 
	gSE_OPEN
 = 1, 
	gSE_READ
 = 2, 
	gSE_WRITE
 = 4, 
	gSE_CLOSE
 = 8 };

52 
	gSŒ—mEv’tD©a
 : 
public
 
Mes§geD©a
 {

53 
ev’ts
, 
	g”rÜ
;

54 
SŒ—mEv’tD©a
(
ev
, 
”
è: 
ev’ts
Óv), 
”rÜ
(er) {}

57 şas 
	cRTC_EXPORT
 
	gSŒ—mIÁ”çû
 : 
public
 
Mes§geHªdËr
 {

58 
public
:

59 ’um { 
MSG_POST_EVENT
 = 0xF1F1, 
	gMSG_MAX
 = MSG_POST_EVENT };

61 ~
SŒ—mIÁ”çû
(è
	gov”ride
;

63 
vœtu®
 
SŒ—mS‹
 
G‘S‹
() const = 0;

78 
vœtu®
 
SŒ—mResuÉ
 
R—d
(* 
bufãr
,

79 
size_t
 
bufãr_Ën
,

80 
size_t
* 
»ad
,

81 * 
”rÜ
) = 0;

82 
vœtu®
 
SŒ—mResuÉ
 
Wr™e
(cÚ¡ * 
d©a
,

83 
size_t
 
d©a_Ën
,

84 
size_t
* 
wr™‹n
,

85 * 
”rÜ
) = 0;

88 
vœtu®
 
Clo£
() = 0;

98 
	gsig¦Ù
::
sigÇl3
<
SŒ—mIÁ”çû
*, , > 
	gSigÇlEv’t
;

103 
Po¡Ev’t
(
Th»ad
* 
t
, 
ev’ts
, 
”r
);

105 
Po¡Ev’t
(
ev’ts
, 
”r
);

108 
vœtu®
 
boŞ
 
Flush
();

121 
SŒ—mResuÉ
 
Wr™eAÎ
(cÚ¡ * 
d©a
,

122 
size_t
 
d©a_Ën
,

123 
size_t
* 
wr™‹n
,

124 * 
”rÜ
);

126 
	g´Ùeùed
:

127 
SŒ—mIÁ”çû
();

130 
OnMes§ge
(
Mes§ge
* 
msg
è
	gov”ride
;

132 
	g´iv©e
:

133 
RTC_DISALLOW_COPY_AND_ASSIGN
(
SŒ—mIÁ”çû
);

144 
şass
 
	gSŒ—mAd­‹rIÁ”çû
 : 
public
 
SŒ—mIÁ”çû
,

145 
public
 
	gsig¦Ù
::
has_¦Ùs
<> {

146 
public
:

147 
ex¶ic™
 
SŒ—mAd­‹rIÁ”çû
(
SŒ—mIÁ”çû
* 
¡»am
, 
boŞ
 
owÃd
 = 
Œue
);

150 
SŒ—mS‹
 
G‘S‹
(ècÚ¡ 
	gov”ride
;

151 
SŒ—mResuÉ
 
R—d
(* 
bufãr
,

152 
size_t
 
bufãr_Ën
,

153 
size_t
* 
»ad
,

154 * 
”rÜ
è
	gov”ride
;

155 
SŒ—mResuÉ
 
Wr™e
(cÚ¡ * 
d©a
,

156 
size_t
 
d©a_Ën
,

157 
size_t
* 
wr™‹n
,

158 * 
”rÜ
è
	gov”ride
;

159 
Clo£
(è
	gov”ride
;

161 
boŞ
 
Flush
(è
	gov”ride
;

163 
A‰ach
(
SŒ—mIÁ”çû
* 
¡»am
, 
boŞ
 
owÃd
 = 
Œue
);

164 
SŒ—mIÁ”çû
* 
D‘ach
();

166 
	g´Ùeùed
:

167 ~
SŒ—mAd­‹rIÁ”çû
(è
ov”ride
;

171 
vœtu®
 
OnEv’t
(
SŒ—mIÁ”çû
* 
¡»am
, 
ev’ts
, 
”r
);

172 
SŒ—mIÁ”çû
* 
¡»am
(è{  
	g¡»am_
; }

174 
	g´iv©e
:

175 
SŒ—mIÁ”çû
* 
¡»am_
;

176 
boŞ
 
	gowÃd_
;

177 
RTC_DISALLOW_COPY_AND_ASSIGN
(
SŒ—mAd­‹rIÁ”çû
);

	@string_encode.cc

11 
	~"¹c_ba£/¡ršg_’code.h
"

13 
	~<c¡dio
>

15 
	~"¹c_ba£/¬¿ysize.h
"

16 
	~"¹c_ba£/checks.h
"

18 
Çme¥aû
 
	g¹c
 {

24 
	gÇme¥aû
 {

25 cÚ¡ 
	gHEX
[] = "0123456789abcdef";

28 
hex_’code
(
v®
) {

29 
RTC_DCHECK_LT
(
v®
, 16);

30  (
	gv®
 < 16è? 
	gHEX
[
v®
] : '!';

34 
boŞ
 
hex_decode
(
ch
, * 
v®
) {

35 ià((
	gch
 >ğ'0'è&& (
ch
 <= '9')) {

36 *
v®
 = 
ch
 - '0';

37 } ià((
	gch
 >ğ'A'è&& (
ch
 <= 'F')) {

38 *
v®
 = (
ch
 - 'A') + 10;

39 } ià((
	gch
 >ğ'a'è&& (
ch
 <= 'f')) {

40 *
v®
 = (
ch
 - 'a') + 10;

42  
	gçl£
;

44  
	gŒue
;

47 
size_t
 
hex_’code_ouut_Ëngth
(size_ˆ
¤ş’
, 
d–im™”
) {

48  
	gd–im™”
 && 
	g¤ş’
 > 0 ? (¤ş’ * 3 - 1è: (
¤ş’
 * 2);

53 
hex_’code_w™h_d–im™”
(* 
bufãr
,

54 cÚ¡ * 
csourû
,

55 
size_t
 
¤ş’
,

56 
d–im™”
) {

57 
RTC_DCHECK
(
bufãr
);

60 cÚ¡ * 
	gbsourû
 =

61 
»š‹½»t_ÿ¡
<cÚ¡ *>(
csourû
);

62 
size_t
 
	g¤ıos
 = 0, 
	gbuåos
 = 0;

64 
	g¤ıos
 < 
	g¤ş’
) {

65 
	gch
 = 
bsourû
[
¤ıos
++];

66 
	gbufãr
[
buåos
] = 
hex_’code
((
ch
 >> 4) & 0xF);

67 
	gbufãr
[
buåos
 + 1] = 
hex_’code
((
ch
)&0xF);

68 
	gbuåos
 += 2;

71 ià(
	gd–im™”
 && (
	g¤ıos
 < 
	g¤ş’
)) {

72 
	gbufãr
[
buåos
] = 
d–im™”
;

73 ++
	gbuåos
;

80 
	g¡d
::
¡ršg
 
hex_’code
(cÚ¡ 
¡d
::¡ršg& 
¡r
) {

81  
hex_’code
(
¡r
.
c_¡r
(), sŒ.
size
());

84 
	g¡d
::
¡ršg
 
hex_’code
(cÚ¡ * 
sourû
, 
size_t
 
¤ş’
) {

85  
hex_’code_w™h_d–im™”
(
sourû
, 
¤ş’
, 0);

88 
	g¡d
::
¡ršg
 
hex_’code_w™h_d–im™”
(cÚ¡ * 
sourû
,

89 
size_t
 
¤ş’
,

90 
d–im™”
) {

91 
	g¡d
::
¡ršg
 
s
(
hex_’code_ouut_Ëngth
(
¤ş’
, 
d–im™”
), 0);

92 
hex_’code_w™h_d–im™”
(&
s
[0], 
sourû
, 
¤ş’
, 
d–im™”
);

93  
	gs
;

96 
size_t
 
hex_decode
(* 
cbufãr
,

97 
size_t
 
buæ’
,

98 cÚ¡ * 
sourû
,

99 
size_t
 
¤ş’
) {

100  
hex_decode_w™h_d–im™”
(
cbufãr
, 
buæ’
, 
sourû
, 
¤ş’
, 0);

103 
size_t
 
hex_decode_w™h_d–im™”
(* 
cbufãr
,

104 
size_t
 
buæ’
,

105 cÚ¡ * 
sourû
,

106 
size_t
 
¤ş’
,

107 
d–im™”
) {

108 
RTC_DCHECK
(
cbufãr
);

109 ià(
	gbuæ’
 == 0)

113 * 
	gbbufãr
 = 
»š‹½»t_ÿ¡
<*>(
cbufãr
);

114 
size_t
 
	g¤ıos
 = 0, 
	gbuåos
 = 0;

115 
size_t
 
	gÃeded
 = (
d–im™”
è? (
¤ş’
 + 1) / 3 : srclen / 2;

116 ià(
	gbuæ’
 < 
	gÃeded
)

119 
	g¤ıos
 < 
	g¤ş’
) {

120 ià((
	g¤ş’
 - 
	g¤ıos
) < 2) {

125 
	gh1
, 
	gh2
;

126 ià(!
hex_decode
(
sourû
[
¤ıos
], &
h1
) ||

127 !
hex_decode
(
sourû
[
¤ıos
 + 1], &
h2
))

130 
	gbbufãr
[
buåos
++] = (
h1
 << 4è| 
h2
;

131 
	g¤ıos
 += 2;

134 ià(
	gd–im™”
 && (
	g¤ş’
 - 
	g¤ıos
) > 1) {

135 ià(
	gsourû
[
¤ıos
] !ğ
d–im™”
)

137 ++
	g¤ıos
;

141  
	gbuåos
;

144 
size_t
 
hex_decode
(* 
bufãr
, size_ˆ
buæ’
, cÚ¡ 
¡d
::
¡ršg
& 
sourû
) {

145  
hex_decode_w™h_d–im™”
(
bufãr
, 
buæ’
, 
sourû
, 0);

147 
size_t
 
hex_decode_w™h_d–im™”
(* 
bufãr
,

148 
size_t
 
buæ’
,

149 cÚ¡ 
¡d
::
¡ršg
& 
sourû
,

150 
d–im™”
) {

151  
hex_decode_w™h_d–im™”
(
bufãr
, 
buæ’
, 
sourû
.
c_¡r
(),

152 
sourû
.
Ëngth
(), 
d–im™”
);

155 
size_t
 
tok’ize
(cÚ¡ 
¡d
::
¡ršg
& 
sourû
,

156 
d–im™”
,

157 
¡d
::
veùÜ
<¡d::
¡ršg
>* 
f›lds
) {

158 
f›lds
->
ş—r
();

159 
size_t
 
	gÏ¡
 = 0;

160 
size_t
 
	gi
 = 0; i < 
	gsourû
.
Ëngth
(); ++i) {

161 ià(
	gsourû
[
i
] =ğ
d–im™”
) {

162 ià(
i
 !ğ
Ï¡
) {

163 
f›lds
->
push_back
(
sourû
.
sub¡r
(
Ï¡
, 
i
 -†ast));

165 
	gÏ¡
 = 
i
 + 1;

168 ià(
	gÏ¡
 !ğ
sourû
.
Ëngth
()) {

169 
f›lds
->
push_back
(
sourû
.
sub¡r
(
Ï¡
, sourû.
Ëngth
() -†ast));

171  
	gf›lds
->
size
();

174 
size_t
 
tok’ize_w™h_em±y_tok’s
(cÚ¡ 
¡d
::
¡ršg
& 
sourû
,

175 
d–im™”
,

176 
¡d
::
veùÜ
<¡d::
¡ršg
>* 
f›lds
) {

177 
f›lds
->
ş—r
();

178 
size_t
 
	gÏ¡
 = 0;

179 
size_t
 
	gi
 = 0; i < 
	gsourû
.
Ëngth
(); ++i) {

180 ià(
	gsourû
[
i
] =ğ
d–im™”
) {

181 
f›lds
->
push_back
(
sourû
.
sub¡r
(
Ï¡
, 
i
 -†ast));

182 
	gÏ¡
 = 
i
 + 1;

185 
	gf›lds
->
push_back
(
sourû
.
sub¡r
(
Ï¡
, sourû.
Ëngth
() -†ast));

186  
	gf›lds
->
size
();

189 
size_t
 
tok’ize_­³nd
(cÚ¡ 
¡d
::
¡ršg
& 
sourû
,

190 
d–im™”
,

191 
¡d
::
veùÜ
<¡d::
¡ršg
>* 
f›lds
) {

192 ià(!
f›lds
)

195 
	g¡d
::
veùÜ
<
¡d
::
¡ršg
> 
Ãw_f›lds
;

196 
tok’ize
(
sourû
, 
d–im™”
, &
Ãw_f›lds
);

197 
	gf›lds
->
š£¹
(
f›lds
->
’d
(), 
Ãw_f›lds
.
begš
(),‚ew_fields.end());

198  
	gf›lds
->
size
();

201 
size_t
 
tok’ize
(cÚ¡ 
¡d
::
¡ršg
& 
sourû
,

202 
d–im™”
,

203 
¡¬t_m¬k
,

204 
’d_m¬k
,

205 
¡d
::
veùÜ
<¡d::
¡ršg
>* 
f›lds
) {

206 ià(!
f›lds
)

208 
	gf›lds
->
ş—r
();

210 
	g¡d
::
¡ršg
 
»maš_sourû
 = 
sourû
;

211 !
	g»maš_sourû
.
em±y
()) {

212 
size_t
 
	g¡¬t_pos
 = 
»maš_sourû
.
fšd
(
¡¬t_m¬k
);

213 ià(
	g¡d
::
¡ršg
::
Åos
 =ğ
¡¬t_pos
)

215 
	g¡d
::
¡ršg
 
´e_m¬k
;

216 ià(
	g¡¬t_pos
 > 0) {

217 
	g´e_m¬k
 = 
»maš_sourû
.
sub¡r
(0, 
¡¬t_pos
 - 1);

220 ++
	g¡¬t_pos
;

221 
size_t
 
	g’d_pos
 = 
»maš_sourû
.
fšd
(
’d_m¬k
, 
¡¬t_pos
);

222 ià(
	g¡d
::
¡ršg
::
Åos
 =ğ
’d_pos
)

227 
tok’ize_­³nd
(
´e_m¬k
, 
d–im™”
, 
f›lds
);

228 
	gf›lds
->
push_back
(
»maš_sourû
.
sub¡r
(
¡¬t_pos
, 
’d_pos
 - start_pos));

229 
	g»maš_sourû
 = 
»maš_sourû
.
sub¡r
(
’d_pos
 + 1);

232  
tok’ize_­³nd
(
»maš_sourû
, 
d–im™”
, 
f›lds
);

235 
boŞ
 
tok’ize_fœ¡
(cÚ¡ 
¡d
::
¡ršg
& 
sourû
,

236 cÚ¡ 
d–im™”
,

237 
¡d
::
¡ršg
* 
tok’
,

238 
¡d
::
¡ršg
* 
»¡
) {

240 
size_t
 
Ëá_pos
 = 
sourû
.
fšd
(
d–im™”
);

241 ià(
	gËá_pos
 =ğ
¡d
::
¡ršg
::
Åos
) {

242  
çl£
;

246 
size_t
 
	gright_pos
 = 
Ëá_pos
 + 1;

247 
	gsourû
[
right_pos
] =ğ
d–im™”
) {

248 
right_pos
++;

251 *
	gtok’
 = 
sourû
.
sub¡r
(0, 
Ëá_pos
);

252 *
	g»¡
 = 
sourû
.
sub¡r
(
right_pos
);

253  
	gŒue
;

256 
	g¡d
::
¡ršg
 
još
(cÚ¡ 
¡d
::
veùÜ
<¡d::¡ršg>& 
sourû
, 
d–im™”
) {

257 ià(
	gsourû
.
size
() == 0) {

258  
¡d
::
¡ršg
();

261 
size_t
 
	gsourû_¡ršg_Ëngth
 = 0;

262 
size_t
 
	gi
 = 0; i < 
	gsourû
.
size
(); ++i) {

263 
	gsourû_¡ršg_Ëngth
 +ğ
sourû
[
i
].
Ëngth
();

267 
	g¡d
::
¡ršg
 
jošed_¡ršg
;

268 
	gjošed_¡ršg
.
»£rve
(
sourû_¡ršg_Ëngth
 + 
sourû
.
size
() - 1);

269 
size_t
 
	gi
 = 0; i < 
	gsourû
.
size
(); ++i) {

270 ià(
	gi
 != 0) {

271 
jošed_¡ršg
 +ğ
d–im™”
;

273 
	gjošed_¡ršg
 +ğ
sourû
[
i
];

275  
	gjošed_¡ršg
;

278 
size_t
 
¥l™
(cÚ¡ 
¡d
::
¡ršg
& 
sourû
,

279 
d–im™”
,

280 
¡d
::
veùÜ
<¡d::
¡ršg
>* 
f›lds
) {

281 
RTC_DCHECK
(
f›lds
);

282 
	gf›lds
->
ş—r
();

283 
size_t
 
	gÏ¡
 = 0;

284 
size_t
 
	gi
 = 0; i < 
	gsourû
.
Ëngth
(); ++i) {

285 ià(
	gsourû
[
i
] =ğ
d–im™”
) {

286 
f›lds
->
push_back
(
sourû
.
sub¡r
(
Ï¡
, 
i
 -†ast));

287 
	gÏ¡
 = 
i
 + 1;

290 
	gf›lds
->
push_back
(
sourû
.
sub¡r
(
Ï¡
, sourû.
Ëngth
() -†ast));

291  
	gf›lds
->
size
();

294 
	g¡d
::
¡ršg
 
ToSŒšg
(cÚ¡ 
boŞ
 
b
) {

295  
b
 ? "true" : "false";

298 
	g¡d
::
¡ršg
 
ToSŒšg
(cÚ¡ * cÚ¡ 
s
) {

299  
¡d
::
¡ršg
(
s
);

301 
	g¡d
::
¡ršg
 
ToSŒšg
(cÚ¡ 
¡d
::¡ršg 
s
) {

302  
s
;

305 
	g¡d
::
¡ršg
 
ToSŒšg
(cÚ¡ 
s
) {

306 
buf
[32];

307 cÚ¡ 
	gËn
 = 
¡d
::
¢´štf
(&
buf
[0], 
¬¿ysize
(buf), "%hd", 
s
);

308 
RTC_DCHECK_LE
(
Ën
, 
¬¿ysize
(
buf
));

309  
	g¡d
::
¡ršg
(&
buf
[0], 
Ën
);

311 
	g¡d
::
¡ršg
 
ToSŒšg
(cÚ¡ 
s
) {

312 
buf
[32];

313 cÚ¡ 
	gËn
 = 
¡d
::
¢´štf
(&
buf
[0], 
¬¿ysize
(buf), "%hu", 
s
);

314 
RTC_DCHECK_LE
(
Ën
, 
¬¿ysize
(
buf
));

315  
	g¡d
::
¡ršg
(&
buf
[0], 
Ën
);

317 
	g¡d
::
¡ršg
 
ToSŒšg
(cÚ¡ 
s
) {

318 
buf
[32];

319 cÚ¡ 
	gËn
 = 
¡d
::
¢´štf
(&
buf
[0], 
¬¿ysize
(buf), "%d", 
s
);

320 
RTC_DCHECK_LE
(
Ën
, 
¬¿ysize
(
buf
));

321  
	g¡d
::
¡ršg
(&
buf
[0], 
Ën
);

323 
	g¡d
::
¡ršg
 
ToSŒšg
(cÚ¡ 
s
) {

324 
buf
[32];

325 cÚ¡ 
	gËn
 = 
¡d
::
¢´štf
(&
buf
[0], 
¬¿ysize
(buf), "%u", 
s
);

326 
RTC_DCHECK_LE
(
Ën
, 
¬¿ysize
(
buf
));

327  
	g¡d
::
¡ršg
(&
buf
[0], 
Ën
);

329 
	g¡d
::
¡ršg
 
ToSŒšg
(cÚ¡ 
s
) {

330 
buf
[32];

331 cÚ¡ 
	gËn
 = 
¡d
::
¢´štf
(&
buf
[0], 
¬¿ysize
(buf), "%ld", 
s
);

332 
RTC_DCHECK_LE
(
Ën
, 
¬¿ysize
(
buf
));

333  
	g¡d
::
¡ršg
(&
buf
[0], 
Ën
);

335 
	g¡d
::
¡ršg
 
ToSŒšg
(cÚ¡ 
s
) {

336 
buf
[32];

337 cÚ¡ 
	gËn
 = 
¡d
::
¢´štf
(&
buf
[0], 
¬¿ysize
(buf), "%lu", 
s
);

338 
RTC_DCHECK_LE
(
Ën
, 
¬¿ysize
(
buf
));

339  
	g¡d
::
¡ršg
(&
buf
[0], 
Ën
);

341 
	g¡d
::
¡ršg
 
ToSŒšg
(cÚ¡ 
s
) {

342 
buf
[32];

343 cÚ¡ 
	gËn
 = 
¡d
::
¢´štf
(&
buf
[0], 
¬¿ysize
(buf), "%Îd", 
s
);

344 
RTC_DCHECK_LE
(
Ën
, 
¬¿ysize
(
buf
));

345  
	g¡d
::
¡ršg
(&
buf
[0], 
Ën
);

347 
	g¡d
::
¡ršg
 
ToSŒšg
(cÚ¡ 
s
) {

348 
buf
[32];

349 cÚ¡ 
	gËn
 = 
¡d
::
¢´štf
(&
buf
[0], 
¬¿ysize
(buf), "%Îu", 
s
);

350 
RTC_DCHECK_LE
(
Ën
, 
¬¿ysize
(
buf
));

351  
	g¡d
::
¡ršg
(&
buf
[0], 
Ën
);

354 
	g¡d
::
¡ršg
 
ToSŒšg
(cÚ¡ 
d
) {

355 
buf
[32];

356 cÚ¡ 
	gËn
 = 
¡d
::
¢´štf
(&
buf
[0], 
¬¿ysize
(buf), "%g", 
d
);

357 
RTC_DCHECK_LE
(
Ën
, 
¬¿ysize
(
buf
));

358  
	g¡d
::
¡ršg
(&
buf
[0], 
Ën
);

361 
	g¡d
::
¡ršg
 
ToSŒšg
(cÚ¡ 
d
) {

362 
buf
[32];

363 cÚ¡ 
	gËn
 = 
¡d
::
¢´štf
(&
buf
[0], 
¬¿ysize
(buf), "%Lg", 
d
);

364 
RTC_DCHECK_LE
(
Ën
, 
¬¿ysize
(
buf
));

365  
	g¡d
::
¡ršg
(&
buf
[0], 
Ën
);

368 
	g¡d
::
¡ršg
 
ToSŒšg
(cÚ¡ * cÚ¡ 
p
) {

369 
buf
[32];

370 cÚ¡ 
	gËn
 = 
¡d
::
¢´štf
(&
buf
[0], 
¬¿ysize
(buf), "%p", 
p
);

371 
RTC_DCHECK_LE
(
Ën
, 
¬¿ysize
(
buf
));

372  
	g¡d
::
¡ršg
(&
buf
[0], 
Ën
);

375 
boŞ
 
FromSŒšg
(cÚ¡ 
¡d
::
¡ršg
& 
s
, boŞ* 
b
) {

376 ià(
	gs
 == "false") {

377 *
b
 = 
çl£
;

378  
	gŒue
;

380 ià(
	gs
 == "true") {

381 *
b
 = 
Œue
;

382  
	gŒue
;

384  
	gçl£
;

	@string_encode.h

11 #iâdeà
RTC_BASE_STRING_ENCODE_H_


12 
	#RTC_BASE_STRING_ENCODE_H_


	)

14 
	~<¡ddef.h
>

16 
	~<¡ršg
>

17 
	~<ty³_Œa™s
>

18 
	~<veùÜ
>

20 
	~"ab¦/ty³s/İtiÚ®.h
"

21 
	~"¹c_ba£/checks.h
"

22 
	~"¹c_ba£/¡ršg_to_numb”.h
"

24 
Çme¥aû
 
	g¹c
 {

30 
	g¡d
::
¡ršg
 
hex_’code
(cÚ¡ 
¡d
::¡ršg& 
¡r
);

31 
	g¡d
::
¡ršg
 
hex_’code
(cÚ¡ * 
sourû
, 
size_t
 
¤ş’
);

32 
	g¡d
::
¡ršg
 
hex_’code_w™h_d–im™”
(cÚ¡ * 
sourû
,

33 
size_t
 
¤ş’
,

34 
d–im™”
);

37 
size_t
 
hex_decode
(* 
bufãr
,

38 
size_t
 
buæ’
,

39 cÚ¡ * 
sourû
,

40 
size_t
 
¤ş’
);

46 
size_t
 
hex_decode_w™h_d–im™”
(* 
bufãr
,

47 
size_t
 
buæ’
,

48 cÚ¡ * 
sourû
,

49 
size_t
 
¤ş’
,

50 
d–im™”
);

53 
size_t
 
hex_decode
(* 
bufãr
, size_ˆ
buæ’
, cÚ¡ 
¡d
::
¡ršg
& 
sourû
);

54 
size_t
 
hex_decode_w™h_d–im™”
(* 
bufãr
,

55 
size_t
 
buæ’
,

56 cÚ¡ 
¡d
::
¡ršg
& 
sourû
,

57 
d–im™”
);

61 
	g¡d
::
¡ršg
 
još
(cÚ¡ 
¡d
::
veùÜ
<¡d::¡ršg>& 
sourû
, 
d–im™”
);

65 
size_t
 
¥l™
(cÚ¡ 
¡d
::
¡ršg
& 
sourû
,

66 
d–im™”
,

67 
¡d
::
veùÜ
<¡d::
¡ršg
>* 
f›lds
);

71 
size_t
 
tok’ize
(cÚ¡ 
¡d
::
¡ršg
& 
sourû
,

72 
d–im™”
,

73 
¡d
::
veùÜ
<¡d::
¡ršg
>* 
f›lds
);

76 
size_t
 
tok’ize_w™h_em±y_tok’s
(cÚ¡ 
¡d
::
¡ršg
& 
sourû
,

77 
d–im™”
,

78 
¡d
::
veùÜ
<¡d::
¡ršg
>* 
f›lds
);

81 
size_t
 
tok’ize_­³nd
(cÚ¡ 
¡d
::
¡ršg
& 
sourû
,

82 
d–im™”
,

83 
¡d
::
veùÜ
<¡d::
¡ršg
>* 
f›lds
);

92 
size_t
 
tok’ize
(cÚ¡ 
¡d
::
¡ršg
& 
sourû
,

93 
d–im™”
,

94 
¡¬t_m¬k
,

95 
’d_m¬k
,

96 
¡d
::
veùÜ
<¡d::
¡ršg
>* 
f›lds
);

101 
boŞ
 
tok’ize_fœ¡
(cÚ¡ 
¡d
::
¡ršg
& 
sourû
,

102 cÚ¡ 
d–im™”
,

103 
¡d
::
¡ršg
* 
tok’
,

104 
¡d
::
¡ršg
* 
»¡
);

108 
	g¡d
::
¡ršg
 
ToSŒšg
(
boŞ
 
b
);

110 
	g¡d
::
¡ršg
 
ToSŒšg
(cÚ¡ * 
s
);

111 
	g¡d
::
¡ršg
 
ToSŒšg
(
¡d
::¡ršg 
t
);

113 
	g¡d
::
¡ršg
 
ToSŒšg
(
s
);

114 
	g¡d
::
¡ršg
 
ToSŒšg
(
s
);

115 
	g¡d
::
¡ršg
 
ToSŒšg
(
s
);

116 
	g¡d
::
¡ršg
 
ToSŒšg
(
s
);

117 
	g¡d
::
¡ršg
 
ToSŒšg
(
s
);

118 
	g¡d
::
¡ršg
 
ToSŒšg
(
s
);

119 
	g¡d
::
¡ršg
 
ToSŒšg
(
s
);

120 
	g¡d
::
¡ršg
 
ToSŒšg
(
s
);

122 
	g¡d
::
¡ršg
 
ToSŒšg
(
t
);

123 
	g¡d
::
¡ršg
 
ToSŒšg
(
t
);

125 
	g¡d
::
¡ršg
 
ToSŒšg
(cÚ¡ * 
p
);

127 
	g‹m¶©e
 <
ty³Çme
 
	gT
,

128 
ty³Çme
 
	g¡d
::
’abË_if
<
¡d
::
is_¬™hm‘ic
<
T
>::
v®ue
 &&

129 !
¡d
::
is_§me
<
T
, 
	gboŞ
>::
v®ue
,

130 >::
ty³
 = 0>

131 
boŞ
 
FromSŒšg
(cÚ¡ 
¡d
::
¡ršg
& 
s
, 
T
* 
t
) {

132 
RTC_DCHECK
(
t
);

133 
	gab¦
::
İtiÚ®
<
T
> 
»suÉ
 = 
SŒšgToNumb”
<T>(
s
);

135 ià(
	g»suÉ
)

136 *
	gt
 = *
»suÉ
;

138  
	g»suÉ
.
has_v®ue
();

141 
boŞ
 
FromSŒšg
(cÚ¡ 
¡d
::
¡ršg
& 
s
, boŞ* 
b
);

143 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

144 
šlše
 
T
 
FromSŒšg
(cÚ¡ 
¡d
::
¡ršg
& 
¡r
) {

145 
T
 
v®
;

146 
FromSŒšg
(
¡r
, &
v®
);

147  
	gv®
;

	@string_encode_unittest.cc

11 
	~"¹c_ba£/¡ršg_’code.h
"

13 
	~<¡ršg.h
>

15 
	~<s¡»am
>

17 
	~"‹¡/g‹¡.h
"

19 
Çme¥aû
 
	g¹c
 {

21 şas 
	cHexEncodeTe¡
 : 
public
 ::
‹¡šg
::
Te¡
 {

22 
public
:

23 
HexEncodeTe¡
(è: 
dec_»s_
(0) {

24 
size_t
 
i
 = 0; 
	gi
 < (
	gd©a_
); ++i) {

25 
	gd©a_
[
i
] = (i + 128) & 0xff;

27 
mem£t
(
decoded_
, 0x7f, (decoded_));

30 
	gd©a_
[10];

31 
	gdecoded_
[11];

32 
size_t
 
	gdec_»s_
;

36 
	$TEST_F
(
HexEncodeTe¡
, 
Te¡W™hNoD–im™”
) {

37 
¡d
::
¡ršg
 
’coded
 = 
	`hex_’code
(
d©a_
, (data_));

38 
	`EXPECT_EQ
("80818283848586878889", 
’coded
);

39 
dec_»s_
 =

40 
	`hex_decode
(
decoded_
, (decoded_), 
’coded
.
	`d©a
(),ƒncoded.
	`size
());

41 
	`ASSERT_EQ
((
d©a_
), 
dec_»s_
);

42 
	`ASSERT_EQ
(0, 
	`memcmp
(
d©a_
, 
decoded_
, 
dec_»s_
));

43 
	}
}

46 
	$TEST_F
(
HexEncodeTe¡
, 
Te¡W™hD–im™”
) {

47 
¡d
::
¡ršg
 
’coded
 = 
	`hex_’code_w™h_d–im™”
(
d©a_
, (data_), ':');

48 
	`EXPECT_EQ
("80:81:82:83:84:85:86:87:88:89", 
’coded
);

49 
dec_»s_
 = 
	`hex_decode_w™h_d–im™”
(
decoded_
, (decoded_),

50 
’coded
.
	`d©a
(),ƒncoded.
	`size
(), ':');

51 
	`ASSERT_EQ
((
d©a_
), 
dec_»s_
);

52 
	`ASSERT_EQ
(0, 
	`memcmp
(
d©a_
, 
decoded_
, 
dec_»s_
));

53 
	}
}

56 
	$TEST_F
(
HexEncodeTe¡
, 
Te¡W™hWrÚgD–im™”
) {

57 
¡d
::
¡ršg
 
’coded
 = 
	`hex_’code_w™h_d–im™”
(
d©a_
, (data_), ':');

58 
dec_»s_
 = 
	`hex_decode_w™h_d–im™”
(
decoded_
, (decoded_),

59 
’coded
.
	`d©a
(),ƒncoded.
	`size
(), '/');

60 
	`ASSERT_EQ
(0U, 
dec_»s_
);

61 
	}
}

64 
	$TEST_F
(
HexEncodeTe¡
, 
Te¡Ex³ùedD–im™”
) {

65 
¡d
::
¡ršg
 
’coded
 = 
	`hex_’code
(
d©a_
, (data_));

66 
	`EXPECT_EQ
((
d©a_
è* 2, 
’coded
.
	`size
());

67 
dec_»s_
 = 
	`hex_decode_w™h_d–im™”
(
decoded_
, (decoded_),

68 
’coded
.
	`d©a
(),ƒncoded.
	`size
(), ':');

69 
	`ASSERT_EQ
(0U, 
dec_»s_
);

70 
	}
}

73 
	$TEST_F
(
HexEncodeTe¡
, 
Te¡Ex³ùedNoD–im™”
) {

74 
¡d
::
¡ršg
 
’coded
 = 
	`hex_’code_w™h_d–im™”
(
d©a_
, (data_), ':');

75 
	`EXPECT_EQ
((
d©a_
è* 3 - 1, 
’coded
.
	`size
());

76 
dec_»s_
 =

77 
	`hex_decode
(
decoded_
, (decoded_), 
’coded
.
	`d©a
(),ƒncoded.
	`size
());

78 
	`ASSERT_EQ
(0U, 
dec_»s_
);

79 
	}
}

82 
	$TEST_F
(
HexEncodeTe¡
, 
Te¡Z”oL’gthNoD–im™”
) {

83 
¡d
::
¡ršg
 
’coded
 = 
	`hex_’code
("", 0);

84 
	`EXPECT_TRUE
(
’coded
.
	`em±y
());

85 
dec_»s_
 =

86 
	`hex_decode
(
decoded_
, (decoded_), 
’coded
.
	`d©a
(),ƒncoded.
	`size
());

87 
	`ASSERT_EQ
(0U, 
dec_»s_
);

88 
	}
}

91 
	$TEST_F
(
HexEncodeTe¡
, 
Te¡Z”oL’gthW™hD–im™”
) {

92 
¡d
::
¡ršg
 
’coded
 = 
	`hex_’code_w™h_d–im™”
("", 0, ':');

93 
	`EXPECT_TRUE
(
’coded
.
	`em±y
());

94 
dec_»s_
 = 
	`hex_decode_w™h_d–im™”
(
decoded_
, (decoded_),

95 
’coded
.
	`d©a
(),ƒncoded.
	`size
(), ':');

96 
	`ASSERT_EQ
(0U, 
dec_»s_
);

97 
	}
}

100 
	$TEST_F
(
HexEncodeTe¡
, 
Te¡DecodeTooShÜt
) {

101 
dec_»s_
 = 
	`hex_decode_w™h_d–im™”
(
decoded_
, 4, "0123456789", 10, 0);

102 
	`ASSERT_EQ
(0U, 
dec_»s_
);

103 
	`ASSERT_EQ
(0x7f, 
decoded_
[4]);

104 
	}
}

107 
	$TEST_F
(
HexEncodeTe¡
, 
Te¡DecodeBogusD©a
) {

108 
dec_»s_
 =

109 
	`hex_decode_w™h_d–im™”
(
decoded_
, (decoded_), "axyz", 4, 0);

110 
	`ASSERT_EQ
(0U, 
dec_»s_
);

111 
	}
}

114 
	$TEST_F
(
HexEncodeTe¡
, 
Te¡DecodeOddHexDig™s
) {

115 
dec_»s_
 = 
	`hex_decode_w™h_d–im™”
(
decoded_
, (decoded_), "012", 3, 0);

116 
	`ASSERT_EQ
(0U, 
dec_»s_
);

117 
	}
}

120 
	$TEST_F
(
HexEncodeTe¡
, 
Te¡DecodeW™hD–im™”TooMªyD–im™”s
) {

121 
dec_»s_
 = 
	`hex_decode_w™h_d–im™”
(
decoded_
, 4, "01::23::45::67", 14, ':');

122 
	`ASSERT_EQ
(0U, 
dec_»s_
);

123 
	}
}

126 
	$TEST_F
(
HexEncodeTe¡
, 
Te¡DecodeW™hD–im™”L—dšgD–im™”
) {

127 
dec_»s_
 = 
	`hex_decode_w™h_d–im™”
(
decoded_
, 4, ":01:23:45:67", 12, ':');

128 
	`ASSERT_EQ
(0U, 
dec_»s_
);

129 
	}
}

132 
	$TEST_F
(
HexEncodeTe¡
, 
Te¡DecodeW™hD–im™”T¿šgD–im™”
) {

133 
dec_»s_
 = 
	`hex_decode_w™h_d–im™”
(
decoded_
, 4, "01:23:45:67:", 12, ':');

134 
	`ASSERT_EQ
(0U, 
dec_»s_
);

135 
	}
}

138 
	$TEST
(
Tok’izeTe¡
, 
CouÁSub¡ršgs
) {

139 
¡d
::
veùÜ
<¡d::
¡ršg
> 
f›lds
;

141 
	`EXPECT_EQ
(5ul, 
	`tok’ize
("ÚtwØth»fou¸five", ' ', &
f›lds
));

142 
f›lds
.
	`ş—r
();

143 
	`EXPECT_EQ
(1ul, 
	`tok’ize
("Úe", ' ', &
f›lds
));

146 
f›lds
.
	`ş—r
();

147 
	`EXPECT_EQ
(5ul, 
	`tok’ize
(" oÃwØh» fou¸fiv ", ' ', &
f›lds
));

148 
f›lds
.
	`ş—r
();

149 
	`EXPECT_EQ
(1ul, 
	`tok’ize
(" oÃ ", ' ', &
f›lds
));

150 
f›lds
.
	`ş—r
();

151 
	`EXPECT_EQ
(0ul, 
	`tok’ize
(" ", ' ', &
f›lds
));

152 
	}
}

155 
	$TEST
(
Tok’izeTe¡
, 
Com·»Sub¡ršgs
) {

156 
¡d
::
veùÜ
<¡d::
¡ršg
> 
f›lds
;

158 
	`tok’ize
("fšd middË oÃ", ' ', &
f›lds
);

159 
	`ASSERT_EQ
(3ul, 
f›lds
.
	`size
());

160 
	`ASSERT_STREQ
("middË", 
f›lds
.
	`©
(1).
	`c_¡r
());

161 
f›lds
.
	`ş—r
();

164 
	`tok’ize
(" fšd middË oÃ ", ' ', &
f›lds
);

165 
	`ASSERT_EQ
(3ul, 
f›lds
.
	`size
());

166 
	`ASSERT_STREQ
("middË", 
f›lds
.
	`©
(1).
	`c_¡r
());

167 
f›lds
.
	`ş—r
();

168 
	`tok’ize
(" ", ' ', &
f›lds
);

169 
	`ASSERT_EQ
(0ul, 
f›lds
.
	`size
());

170 
	}
}

172 
	$TEST
(
Tok’izeTe¡
, 
Tok’izeAµ’d
) {

173 
	`ASSERT_EQ
(0ul, 
	`tok’ize_­³nd
("A B C", ' ', 
nuÎ±r
));

175 
¡d
::
veùÜ
<¡d::
¡ršg
> 
f›lds
;

177 
	`tok’ize_­³nd
("A B C", ' ', &
f›lds
);

178 
	`ASSERT_EQ
(3ul, 
f›lds
.
	`size
());

179 
	`ASSERT_STREQ
("B", 
f›lds
.
	`©
(1).
	`c_¡r
());

181 
	`tok’ize_­³nd
("D E", ' ', &
f›lds
);

182 
	`ASSERT_EQ
(5ul, 
f›lds
.
	`size
());

183 
	`ASSERT_STREQ
("B", 
f›lds
.
	`©
(1).
	`c_¡r
());

184 
	`ASSERT_STREQ
("E", 
f›lds
.
	`©
(4).
	`c_¡r
());

185 
	}
}

187 
	$TEST
(
Tok’izeTe¡
, 
Tok’izeW™hM¬ks
) {

188 
	`ASSERT_EQ
(0ul, 
	`tok’ize
("D \"A B", ' ', '(', ')', 
nuÎ±r
));

190 
¡d
::
veùÜ
<¡d::
¡ršg
> 
f›lds
;

191 
	`tok’ize
("A B C", ' ', '"', '"', &
f›lds
);

192 
	`ASSERT_EQ
(3ul, 
f›lds
.
	`size
());

193 
	`ASSERT_STREQ
("C", 
f›lds
.
	`©
(2).
	`c_¡r
());

195 
	`tok’ize
("\"A B\" C", ' ', '"', '"', &
f›lds
);

196 
	`ASSERT_EQ
(2ul, 
f›lds
.
	`size
());

197 
	`ASSERT_STREQ
("A B", 
f›lds
.
	`©
(0).
	`c_¡r
());

199 
	`tok’ize
("D \"A B\" C", ' ', '"', '"', &
f›lds
);

200 
	`ASSERT_EQ
(3ul, 
f›lds
.
	`size
());

201 
	`ASSERT_STREQ
("D", 
f›lds
.
	`©
(0).
	`c_¡r
());

202 
	`ASSERT_STREQ
("A B", 
f›lds
.
	`©
(1).
	`c_¡r
());

204 
	`tok’ize
("D \"A B\" C \"E F\"", ' ', '"', '"', &
f›lds
);

205 
	`ASSERT_EQ
(4ul, 
f›lds
.
	`size
());

206 
	`ASSERT_STREQ
("D", 
f›lds
.
	`©
(0).
	`c_¡r
());

207 
	`ASSERT_STREQ
("A B", 
f›lds
.
	`©
(1).
	`c_¡r
());

208 
	`ASSERT_STREQ
("E F", 
f›lds
.
	`©
(3).
	`c_¡r
());

211 
	`tok’ize
("D \"A B", ' ', '"', '"', &
f›lds
);

212 
	`ASSERT_EQ
(3ul, 
f›lds
.
	`size
());

213 
	`ASSERT_STREQ
("D", 
f›lds
.
	`©
(0).
	`c_¡r
());

214 
	`ASSERT_STREQ
("\"A", 
f›lds
.
	`©
(1).
	`c_¡r
());

216 
	`tok’ize
("D (A BèC (E FèG", ' ', '(', ')', &
f›lds
);

217 
	`ASSERT_EQ
(5ul, 
f›lds
.
	`size
());

218 
	`ASSERT_STREQ
("D", 
f›lds
.
	`©
(0).
	`c_¡r
());

219 
	`ASSERT_STREQ
("A B", 
f›lds
.
	`©
(1).
	`c_¡r
());

220 
	`ASSERT_STREQ
("E F", 
f›lds
.
	`©
(3).
	`c_¡r
());

221 
	}
}

223 
	$TEST
(
Tok’izeTe¡
, 
Tok’izeW™hEm±yTok’s
) {

224 
¡d
::
veùÜ
<¡d::
¡ršg
> 
f›lds
;

225 
	`EXPECT_EQ
(3ul, 
	`tok’ize_w™h_em±y_tok’s
("a.b.c", '.', &
f›lds
));

226 
	`EXPECT_EQ
("a", 
f›lds
[0]);

227 
	`EXPECT_EQ
("b", 
f›lds
[1]);

228 
	`EXPECT_EQ
("c", 
f›lds
[2]);

230 
	`EXPECT_EQ
(3ul, 
	`tok’ize_w™h_em±y_tok’s
("..c", '.', &
f›lds
));

231 
	`EXPECT_TRUE
(
f›lds
[0].
	`em±y
());

232 
	`EXPECT_TRUE
(
f›lds
[1].
	`em±y
());

233 
	`EXPECT_EQ
("c", 
f›lds
[2]);

235 
	`EXPECT_EQ
(1ul, 
	`tok’ize_w™h_em±y_tok’s
("", '.', &
f›lds
));

236 
	`EXPECT_TRUE
(
f›lds
[0].
	`em±y
());

237 
	}
}

239 
	$TEST
(
Tok’izeFœ¡Te¡
, 
NoL—dšgS·ûs
) {

240 
¡d
::
¡ršg
 
tok’
;

241 
¡d
::
¡ršg
 
»¡
;

243 
	`ASSERT_TRUE
(
	`tok’ize_fœ¡
("A &*${}", ' ', &
tok’
, &
»¡
));

244 
	`ASSERT_STREQ
("A", 
tok’
.
	`c_¡r
());

245 
	`ASSERT_STREQ
("&*${}", 
»¡
.
	`c_¡r
());

247 
	`ASSERT_TRUE
(
	`tok’ize_fœ¡
("A B& *${}", ' ', &
tok’
, &
»¡
));

248 
	`ASSERT_STREQ
("A", 
tok’
.
	`c_¡r
());

249 
	`ASSERT_STREQ
("B& *${}", 
»¡
.
	`c_¡r
());

251 
	`ASSERT_TRUE
(
	`tok’ize_fœ¡
("A B& *${} ", ' ', &
tok’
, &
»¡
));

252 
	`ASSERT_STREQ
("A", 
tok’
.
	`c_¡r
());

253 
	`ASSERT_STREQ
("B& *${} ", 
»¡
.
	`c_¡r
());

254 
	}
}

256 
	$TEST
(
Tok’izeFœ¡Te¡
, 
L—dšgS·ûs
) {

257 
¡d
::
¡ršg
 
tok’
;

258 
¡d
::
¡ršg
 
»¡
;

260 
	`ASSERT_TRUE
(
	`tok’ize_fœ¡
(" A B C", ' ', &
tok’
, &
»¡
));

261 
	`ASSERT_STREQ
("", 
tok’
.
	`c_¡r
());

262 
	`ASSERT_STREQ
("A B C", 
»¡
.
	`c_¡r
());

264 
	`ASSERT_TRUE
(
	`tok’ize_fœ¡
(" A B C ", ' ', &
tok’
, &
»¡
));

265 
	`ASSERT_STREQ
("", 
tok’
.
	`c_¡r
());

266 
	`ASSERT_STREQ
("A B C ", 
»¡
.
	`c_¡r
());

267 
	}
}

269 
	$TEST
(
Tok’izeFœ¡Te¡
, 
SšgËTok’
) {

270 
¡d
::
¡ršg
 
tok’
;

271 
¡d
::
¡ršg
 
»¡
;

274 
	`ASSERT_FALSE
(
	`tok’ize_fœ¡
("ABC", ' ', &
tok’
, &
»¡
));

276 
	`ASSERT_TRUE
(
	`tok’ize_fœ¡
("ABC ", ' ', &
tok’
, &
»¡
));

277 
	`ASSERT_STREQ
("ABC", 
tok’
.
	`c_¡r
());

278 
	`ASSERT_STREQ
("", 
»¡
.
	`c_¡r
());

280 
	`ASSERT_TRUE
(
	`tok’ize_fœ¡
(" ABC ", ' ', &
tok’
, &
»¡
));

281 
	`ASSERT_STREQ
("", 
tok’
.
	`c_¡r
());

282 
	`ASSERT_STREQ
("ABC ", 
»¡
.
	`c_¡r
());

283 
	}
}

286 
	$TEST
(
S¶™Te¡
, 
CouÁSub¡ršgs
) {

287 
¡d
::
veùÜ
<¡d::
¡ršg
> 
f›lds
;

289 
	`EXPECT_EQ
(5ul, 
	`¥l™
("Úe,two,th»e,four,five", ',', &
f›lds
));

290 
f›lds
.
	`ş—r
();

291 
	`EXPECT_EQ
(1ul, 
	`¥l™
("Úe", ',', &
f›lds
));

294 
f›lds
.
	`ş—r
();

295 
	`EXPECT_EQ
(5ul, 
	`¥l™
("Úe,,th»e,four,five", ',', &
f›lds
));

296 
f›lds
.
	`ş—r
();

297 
	`EXPECT_EQ
(3ul, 
	`¥l™
(",th»e,", ',', &
f›lds
));

298 
f›lds
.
	`ş—r
();

299 
	`EXPECT_EQ
(1ul, 
	`¥l™
("", ',', &
f›lds
));

300 
	}
}

303 
	$TEST
(
S¶™Te¡
, 
Com·»Sub¡ršgs
) {

304 
¡d
::
veùÜ
<¡d::
¡ršg
> 
f›lds
;

306 
	`¥l™
("fšd,middË,Úe", ',', &
f›lds
);

307 
	`ASSERT_EQ
(3ul, 
f›lds
.
	`size
());

308 
	`ASSERT_STREQ
("middË", 
f›lds
.
	`©
(1).
	`c_¡r
());

309 
f›lds
.
	`ş—r
();

312 
	`¥l™
("fšd,,middË,Úe", ',', &
f›lds
);

313 
	`ASSERT_EQ
(4ul, 
f›lds
.
	`size
());

314 
	`ASSERT_STREQ
("middË", 
f›lds
.
	`©
(2).
	`c_¡r
());

315 
f›lds
.
	`ş—r
();

316 
	`¥l™
("", ',', &
f›lds
);

317 
	`ASSERT_EQ
(1ul, 
f›lds
.
	`size
());

318 
	`ASSERT_STREQ
("", 
f›lds
.
	`©
(0).
	`c_¡r
());

319 
	}
}

321 
	$TEST
(
ToSŒšg
, 
Sª™yCheck
) {

322 
	`EXPECT_EQ
(
	`ToSŒšg
(
Œue
), "true");

323 
	`EXPECT_EQ
(
	`ToSŒšg
(
çl£
), "false");

325 cÚ¡ * 
c
 = "message";

326 
	`EXPECT_EQ
(
	`ToSŒšg
(
c
), c);

327 
	`EXPECT_EQ
(
	`ToSŒšg
(
¡d
::
	`¡ršg
(
c
)), c);

329 
	`EXPECT_EQ
(
	`ToSŒšg
({-123}), "-123");

330 
	`EXPECT_EQ
(
	`ToSŒšg
(()123), "123");

331 
	`EXPECT_EQ
(
	`ToSŒšg
({-123}), "-123");

332 
	`EXPECT_EQ
(
	`ToSŒšg
(()123), "123");

333 
	`EXPECT_EQ
(
	`ToSŒšg
(()-123), "-123");

334 
	`EXPECT_EQ
(
	`ToSŒšg
(()123), "123");

335 
	`EXPECT_EQ
(
	`ToSŒšg
(()-123), "-123");

336 
	`EXPECT_EQ
(
	`ToSŒšg
(()123), "123");

338 
i
 = 10;

339 * 
p
 = &
i
;

340 
¡d
::
o¡ršg¡»am
 
s
;

341 
s
 << 
p
;

342 
	`EXPECT_EQ
(
s
.
	`¡r
(), 
	`ToSŒšg
(
p
));

344 
	`EXPECT_EQ
(
	`ToSŒšg
(0.5), "0.5");

345 
	}
}

347 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

348 
	$P¬£sTo
(
¡d
::
¡ršg
 
s
, 
T
 
t
) {

349 
T
 
v®ue
;

350 
	`EXPECT_TRUE
(
	`FromSŒšg
(
s
, &
v®ue
));

351 
	`EXPECT_EQ
(
v®ue
, 
t
);

352 
	}
}

354 
	$TEST
(
FromSŒšg
, 
DecodeV®id
) {

355 
	`P¬£sTo
("Œue", 
Œue
);

356 
	`P¬£sTo
("çl£", 
çl£
);

358 
	`P¬£sTo
("105", 105);

359 
	`P¬£sTo
("0.25", 0.25);

360 
	}
}

362 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

363 
	$FasToP¬£
(
¡d
::
¡ršg
 
s
) {

364 
T
 
v®ue
;

365 
	`EXPECT_FALSE
(
	`FromSŒšg
(
s
, &
v®ue
)) << "[" << s << "]";

366 
	}
}

368 
	$TEST
(
FromSŒšg
, 
DecodeInv®id
) {

369 
FasToP¬£
<
boŞ
>("True");

370 
FasToP¬£
<
boŞ
>("0");

371 
FasToP¬£
<
boŞ
>("yes");

373 
FasToP¬£
<>("0.5");

374 
FasToP¬£
<>("XIV");

375 
FasToP¬£
<>("");

376 
FasToP¬£
<>(" ");

377 
FasToP¬£
<>("1 2");

378 
	}
}

380 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

381 
	$RoundTr
(
T
 
t
) {

382 
¡d
::
¡ršg
 
s
 = 
	`ToSŒšg
(
t
);

383 
T
 
v®ue
;

384 
	`EXPECT_TRUE
(
	`FromSŒšg
(
s
, &
v®ue
));

385 
	`EXPECT_EQ
(
v®ue
, 
t
);

386 
	}
}

388 
	$TEST
(
FromSŒšg
, 
RoundTr
) {

389 
RoundTr
<>(123);

390 
	`RoundTr
(
çl£
);

391 
	`RoundTr
(
Œue
);

392 
	`RoundTr
(0.5);

393 
	`RoundTr
(-15l);

394 
	}
}

	@string_to_number.cc

11 
	~"¹c_ba£/¡ršg_to_numb”.h
"

13 
	~<ùy³.h
>

15 
	~<û¼no
>

16 
	~<c¡dlib
>

18 
	~"¹c_ba£/checks.h
"

20 
Çme¥aû
 
	g¹c
 {

21 
Çme¥aû
 
	g¡ršg_to_numb”_š‹º®
 {

23 
	gab¦
::
İtiÚ®
<
sigÃd_ty³
> 
P¬£SigÃd
(cÚ¡ * 
¡r
, 
ba£
) {

24 
RTC_DCHECK
(
¡r
);

25 ià(
isdig™
(
¡r
[0]è|| 
	g¡r
[0] == '-') {

26 * 
’d
 = 
nuÎ±r
;

27 
	g”ºo
 = 0;

28 cÚ¡ 
sigÃd_ty³
 
	gv®ue
 = 
¡d
::
¡¹Şl
(
¡r
, &
’d
, 
ba£
);

29 ià(
	g’d
 && *’d =ğ'\0' && 
”ºo
 == 0) {

30  
v®ue
;

33  
	gab¦
::
nuÎİt
;

36 
	gab¦
::
İtiÚ®
<
unsigÃd_ty³
> 
P¬£UnsigÃd
(cÚ¡ * 
¡r
, 
ba£
) {

37 
RTC_DCHECK
(
¡r
);

38 ià(
isdig™
(
¡r
[0]è|| 
	g¡r
[0] == '-') {

42 cÚ¡ 
boŞ
 
is_Ãg©ive
 = 
¡r
[0] == '-';

43 * 
	g’d
 = 
nuÎ±r
;

44 
	g”ºo
 = 0;

45 cÚ¡ 
unsigÃd_ty³
 
	gv®ue
 = 
¡d
::
¡¹ouÎ
(
¡r
, &
’d
, 
ba£
);

46 ià(
	g’d
 && *’d =ğ'\0' && 
”ºo
 =ğ0 && (
v®ue
 =ğ0 || !
is_Ãg©ive
)) {

47  
v®ue
;

50  
	gab¦
::
nuÎİt
;

53 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

54 
T
 
SŒToT
(cÚ¡ * 
¡r
, ** 
¡r_’d
);

56 
	g‹m¶©e
 <>

57 
šlše
 
SŒToT
(cÚ¡ * 
¡r
, ** 
¡r_’d
) {

58  
	g¡d
::
¡¹of
(
¡r
, 
¡r_’d
);

61 
	g‹m¶©e
 <>

62 
šlše
 
SŒToT
(cÚ¡ * 
¡r
, ** 
¡r_’d
) {

63  
	g¡d
::
¡¹od
(
¡r
, 
¡r_’d
);

66 
	g‹m¶©e
 <>

67 
šlše
 
SŒToT
(cÚ¡ * 
¡r
, ** 
¡r_’d
) {

68  
	g¡d
::
¡¹Şd
(
¡r
, 
¡r_’d
);

71 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

72 
	gab¦
::
İtiÚ®
<
T
> 
P¬£FlßtšgPošt
(cÚ¡ * 
¡r
) {

73 
RTC_DCHECK
(
¡r
);

74 ià(*
	g¡r
 == '\0')

75  
ab¦
::
nuÎİt
;

76 * 
	g’d
 = 
nuÎ±r
;

77 
	g”ºo
 = 0;

78 cÚ¡ 
T
 
	gv®ue
 = 
SŒToT
<T>(
¡r
, &
	g’d
);

79 ià(
	g’d
 && *’d =ğ'\0' && 
”ºo
 == 0) {

80  
v®ue
;

82  
	gab¦
::
nuÎİt
;

85 
‹m¶©e
 
	gab¦
::
İtiÚ®
<> 
P¬£FlßtšgPošt
(cÚ¡ * 
¡r
);

86 
‹m¶©e
 
	gab¦
::
İtiÚ®
<> 
P¬£FlßtšgPošt
(cÚ¡ * 
¡r
);

87 
‹m¶©e
 
	gab¦
::
İtiÚ®
<> 
P¬£FlßtšgPošt
(cÚ¡ * 
¡r
);

	@string_to_number.h

11 #iâdeà
RTC_BASE_STRING_TO_NUMBER_H_


12 
	#RTC_BASE_STRING_TO_NUMBER_H_


	)

14 
	~<lim™s
>

15 
	~<¡ršg
>

16 
	~<ty³_Œa™s
>

18 
	~"ab¦/ty³s/İtiÚ®.h
"

20 
Çme¥aû
 
	g¹c
 {

45 
Çme¥aû
 
	g¡ršg_to_numb”_š‹º®
 {

47 
usšg
 
	gunsigÃd_ty³
 = ;

48 
usšg
 
	gsigÃd_ty³
 = ;

50 
	gab¦
::
İtiÚ®
<
sigÃd_ty³
> 
P¬£SigÃd
(cÚ¡ * 
¡r
, 
ba£
);

51 
	gab¦
::
İtiÚ®
<
unsigÃd_ty³
> 
P¬£UnsigÃd
(cÚ¡ * 
¡r
, 
ba£
);

53 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

54 
	gab¦
::
İtiÚ®
<
T
> 
P¬£FlßtšgPošt
(cÚ¡ * 
¡r
);

57 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

58 
ty³Çme
 
	g¡d
::
’abË_if
<
¡d
::
is_š‹g¿l
<
T
>::
v®ue
 && std::
is_sigÃd
<T>::value,

59 
	gab¦
::
İtiÚ®
<
T
>>::
ty³


60 
SŒšgToNumb”
(cÚ¡ * 
¡r
, 
ba£
 = 10) {

61 
usšg
 
¡ršg_to_numb”_š‹º®
::
sigÃd_ty³
;

62 
¡©ic_as£¹
(

63 
¡d
::
num”ic_lim™s
<
T
>::
max
() <=

64 
¡d
::
num”ic_lim™s
<
sigÃd_ty³
>::
max
() &&

65 
¡d
::
num”ic_lim™s
<
T
>::
lowe¡
() >=

66 
¡d
::
num”ic_lim™s
<
sigÃd_ty³
>::
lowe¡
(),

68 
	gab¦
::
İtiÚ®
<
sigÃd_ty³
> 
v®ue
 =

69 
¡ršg_to_numb”_š‹º®
::
P¬£SigÃd
(
¡r
, 
ba£
);

70 ià(
	gv®ue
 && *v®u>ğ
¡d
::
num”ic_lim™s
<
T
>::
lowe¡
() &&

71 *
v®ue
 <ğ
¡d
::
num”ic_lim™s
<
T
>::
max
()) {

72  
¡©ic_ÿ¡
<
T
>(*
v®ue
);

74  
	gab¦
::
nuÎİt
;

77 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

78 
ty³Çme
 
	g¡d
::
’abË_if
<
¡d
::
is_š‹g¿l
<
T
>::
v®ue
 &&

79 
¡d
::
is_unsigÃd
<
T
>::
v®ue
,

80 
	gab¦
::
İtiÚ®
<
T
>>::
ty³


81 
SŒšgToNumb”
(cÚ¡ * 
¡r
, 
ba£
 = 10) {

82 
usšg
 
¡ršg_to_numb”_š‹º®
::
unsigÃd_ty³
;

83 
¡©ic_as£¹
(
¡d
::
num”ic_lim™s
<
T
>::
max
() <=

84 
¡d
::
num”ic_lim™s
<
unsigÃd_ty³
>::
max
(),

87 
	gab¦
::
İtiÚ®
<
unsigÃd_ty³
> 
v®ue
 =

88 
¡ršg_to_numb”_š‹º®
::
P¬£UnsigÃd
(
¡r
, 
ba£
);

89 ià(
	gv®ue
 && *v®u<ğ
¡d
::
num”ic_lim™s
<
T
>::
max
()) {

90  
¡©ic_ÿ¡
<
T
>(*
v®ue
);

92  
	gab¦
::
nuÎİt
;

95 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

96 
ty³Çme
 
	g¡d
::
’abË_if
<
¡d
::
is_æßtšg_pošt
<
T
>::
v®ue
,

97 
	gab¦
::
İtiÚ®
<
T
>>::
ty³


98 
SŒšgToNumb”
(cÚ¡ * 
¡r
, 
ba£
 = 10) {

99 
¡©ic_as£¹
(

100 
¡d
::
num”ic_lim™s
<
T
>::
max
() <= std::numeric_limits<>::max(),

103  
	g¡ršg_to_numb”_š‹º®
::
P¬£FlßtšgPošt
<
T
>(
¡r
);

108 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

109 autØ
SŒšgToNumb”
(cÚ¡ 
¡d
::
¡ršg
& 
¡r
, 
ba£
 = 10)

110 -> 
deşty³
(
SŒšgToNumb”
<
T
>(
¡r
.
c_¡r
(), 
ba£
)) {

111  
	gSŒšgToNumb”
<
	gT
>(
	g¡r
.
c_¡r
(), 
	gba£
);

	@string_to_number_unittest.cc

11 
	~"¹c_ba£/¡ršg_to_numb”.h
"

13 
	~<¡dšt.h
>

15 
	~<lim™s
>

16 
	~<¡ršg
>

18 
	~"‹¡/g‹¡.h
"

20 
Çme¥aû
 
	g¹c
 {

22 
	gÇme¥aû
 {

24 
usšg
 
	gIÁeg”Ty³s
 =

25 ::
‹¡šg
::
Ty³s
<,

31 
	gšt8_t
, 
	gušt8_t
,

32 
	gšt16_t
, 
	gušt16_t
,

33 
	gšt32_t
, 
	gušt32_t
,

34 
	gšt64_t
, 
	gušt64_t
>;

37 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

38 şas 
	cBasicNumb”Te¡
 : 
public
 ::
‹¡šg
::
Te¡
 {};

40 
TYPED_TEST_SUITE_P
(
BasicNumb”Te¡
);

42 
TYPED_TEST_P
(
BasicNumb”Te¡
, 
Te¡V®idNumb”s
) {

43 
usšg
 
	gT
 = 
Ty³P¬am
;

44 
cÚ¡ex´
 
T
 
	gmš_v®ue
 = 
¡d
::
num”ic_lim™s
<T>::
lowe¡
();

45 
cÚ¡ex´
 
T
 
	gmax_v®ue
 = 
¡d
::
num”ic_lim™s
<T>::
max
();

46 
cÚ¡ex´
 
T
 
	gz”o_v®ue
 = 0;

47 cÚ¡ 
	g¡d
::
¡ršg
 
mš_¡ršg
 = 
¡d
::
to_¡ršg
(
mš_v®ue
);

48 cÚ¡ 
	g¡d
::
¡ršg
 
max_¡ršg
 = 
¡d
::
to_¡ršg
(
max_v®ue
);

49 
EXPECT_EQ
(
mš_v®ue
, 
SŒšgToNumb”
<
T
>(
mš_¡ršg
));

50 
EXPECT_EQ
(
mš_v®ue
, 
SŒšgToNumb”
<
T
>(
mš_¡ršg
.
c_¡r
()));

51 
EXPECT_EQ
(
max_v®ue
, 
SŒšgToNumb”
<
T
>(
max_¡ršg
));

52 
EXPECT_EQ
(
max_v®ue
, 
SŒšgToNumb”
<
T
>(
max_¡ršg
.
c_¡r
()));

53 
EXPECT_EQ
(
z”o_v®ue
, 
SŒšgToNumb”
<
T
>("0"));

54 
EXPECT_EQ
(
z”o_v®ue
, 
SŒšgToNumb”
<
T
>("-0"));

55 
EXPECT_EQ
(
z”o_v®ue
, 
SŒšgToNumb”
<
T
>(
¡d
::
¡ršg
("-0000000000000")));

58 
TYPED_TEST_P
(
BasicNumb”Te¡
, 
Te¡Inv®idNumb”s
) {

59 
usšg
 
	gT
 = 
Ty³P¬am
;

64 
cÚ¡ex´
 
T
 
	gmš_v®ue
 = 
¡d
::
num”ic_lim™s
<T>::
lowe¡
();

65 
cÚ¡ex´
 
T
 
	gmax_v®ue
 = 
¡d
::
num”ic_lim™s
<T>::
max
();

68 cÚ¡ 
	g¡d
::
¡ršg
 
too_low_¡ršg
 =

69 (
mš_v®ue
 =ğ0è? "-2" : (
¡d
::
to_¡ršg
(min_value) + "1");

71 cÚ¡ 
	g¡d
::
¡ršg
 
too_Ïrge_¡ršg
 = 
¡d
::
to_¡ršg
(
max_v®ue
) + "1";

72 
EXPECT_EQ
(
ab¦
::
nuÎİt
, 
SŒšgToNumb”
<
T
>(
too_low_¡ršg
));

73 
EXPECT_EQ
(
ab¦
::
nuÎİt
, 
SŒšgToNumb”
<
T
>(
too_low_¡ršg
.
c_¡r
()));

74 
EXPECT_EQ
(
ab¦
::
nuÎİt
, 
SŒšgToNumb”
<
T
>(
too_Ïrge_¡ršg
));

75 
EXPECT_EQ
(
ab¦
::
nuÎİt
, 
SŒšgToNumb”
<
T
>(
too_Ïrge_¡ršg
.
c_¡r
()));

78 
TYPED_TEST_P
(
BasicNumb”Te¡
, 
Te¡Inv®idIÅuts
) {

79 
usšg
 
	gT
 = 
Ty³P¬am
;

80 cÚ¡ 
	gkInv®idCh¬A¼ay
[] = "Invalid string containing 47";

81 cÚ¡ 
	gkPlusMšusCh¬A¼ay
[] = "+-100";

82 cÚ¡ 
	gkNumb”FŞlowedByCruá
[] = "640x480";

83 
EXPECT_EQ
(
ab¦
::
nuÎİt
, 
SŒšgToNumb”
<
T
>(
kInv®idCh¬A¼ay
));

84 
EXPECT_EQ
(
ab¦
::
nuÎİt
, 
SŒšgToNumb”
<
T
>(
¡d
::
¡ršg
(
kInv®idCh¬A¼ay
)));

85 
EXPECT_EQ
(
ab¦
::
nuÎİt
, 
SŒšgToNumb”
<
T
>(
kPlusMšusCh¬A¼ay
));

86 
EXPECT_EQ
(
ab¦
::
nuÎİt
, 
SŒšgToNumb”
<
T
>(
¡d
::
¡ršg
(
kPlusMšusCh¬A¼ay
)));

87 
EXPECT_EQ
(
ab¦
::
nuÎİt
, 
SŒšgToNumb”
<
T
>(
kNumb”FŞlowedByCruá
));

88 
EXPECT_EQ
(
ab¦
::
nuÎİt
,

89 
SŒšgToNumb”
<
T
>(
¡d
::
¡ršg
(
kNumb”FŞlowedByCruá
)));

90 
EXPECT_EQ
(
ab¦
::
nuÎİt
, 
SŒšgToNumb”
<
T
>(" 5"));

91 
EXPECT_EQ
(
ab¦
::
nuÎİt
, 
SŒšgToNumb”
<
T
>(" - 5"));

92 
EXPECT_EQ
(
ab¦
::
nuÎİt
, 
SŒšgToNumb”
<
T
>("- 5"));

93 
EXPECT_EQ
(
ab¦
::
nuÎİt
, 
SŒšgToNumb”
<
T
>(" -5"));

94 
EXPECT_EQ
(
ab¦
::
nuÎİt
, 
SŒšgToNumb”
<
T
>("5 "));

97 
REGISTER_TYPED_TEST_SUITE_P
(
BasicNumb”Te¡
,

98 
Te¡V®idNumb”s
,

99 
Te¡Inv®idNumb”s
,

100 
Te¡Inv®idIÅuts
);

104 
INSTANTIATE_TYPED_TEST_SUITE_P
(
SŒšgToNumb”Te¡_IÁeg”s
,

105 
BasicNumb”Te¡
,

106 
IÁeg”Ty³s
);

108 
	$TEST
(
SŒšgToNumb”Te¡
, 
Te¡S³cificV®ues
) {

109 
	`EXPECT_EQ
(
ab¦
::
nuÎİt
, 
SŒšgToNumb”
<
ušt8_t
>("256"));

110 
	`EXPECT_EQ
(
ab¦
::
nuÎİt
, 
SŒšgToNumb”
<
ušt8_t
>("-256"));

111 
	`EXPECT_EQ
(
ab¦
::
nuÎİt
, 
SŒšgToNumb”
<
št8_t
>("256"));

112 
	`EXPECT_EQ
(
ab¦
::
nuÎİt
, 
SŒšgToNumb”
<
št8_t
>("-256"));

113 
	}
}

	@string_utils.cc

11 
	~"¹c_ba£/¡ršg_uts.h
"

13 
Çme¥aû
 
	g¹c
 {

15 
size_t
 
¡rıyn
(* 
bufãr
,

16 
size_t
 
buæ’
,

17 cÚ¡ * 
sourû
,

18 
size_t
 
¤ş’
 ) {

19 ià(
	gbuæ’
 <= 0)

22 ià(
	g¤ş’
 =ğ
SIZE_UNKNOWN
) {

23 
¤ş’
 = 
¡¾’
(
sourû
);

25 ià(
	g¤ş’
 >ğ
buæ’
) {

26 
¤ş’
 = 
buæ’
 - 1;

28 
memıy
(
bufãr
, 
sourû
, 
¤ş’
);

29 
	gbufãr
[
¤ş’
] = 0;

30  
	g¤ş’
;

33 cÚ¡ 
	gkWh™e¥aû
[] = " \n\r\t";

35 
	g¡d
::
¡ršg
 
¡ršg_Œim
(cÚ¡ 
¡d
::¡ršg& 
s
) {

36 
¡d
::
¡ršg
::
size_ty³
 
fœ¡
 = 
s
.
fšd_fœ¡_nÙ_of
(
kWh™e¥aû
);

37 
	g¡d
::
¡ršg
::
size_ty³
 
Ï¡
 = 
s
.
fšd_Ï¡_nÙ_of
(
kWh™e¥aû
);

39 ià(
	gfœ¡
 =ğ
¡d
::
¡ršg
::
Åos
 || 
Ï¡
 == std::string::npos) {

40  
¡d
::
¡ršg
("");

43  
	gs
.
sub¡r
(
fœ¡
, 
Ï¡
 - first + 1);

46 
	g¡d
::
¡ršg
 
ToHex
(cÚ¡ 
i
) {

47 
bufãr
[50];

48 
¢´štf
(
bufãr
, (bufãr), "%x", 
i
);

50  
	g¡d
::
¡ršg
(
bufãr
);

53 
	g¡d
::
¡ršg
 
LeáPad
(
·ddšg
, 
Ëngth
, 
¡d
::¡ršg 
s
) {

54 ià(
s
.
Ëngth
() >=†ength)

55  
s
;

56  
	g¡d
::
¡ršg
(
Ëngth
 - 
s
.Ëngth(), 
·ddšg
è+ 
	gs
;

	@string_utils.h

11 #iâdeà
RTC_BASE_STRING_UTILS_H_


12 
	#RTC_BASE_STRING_UTILS_H_


	)

14 
	~<ùy³.h
>

15 
	~<¡d¬g.h
>

16 
	~<¡dio.h
>

17 
	~<¡ršg.h
>

19 #ià
defšed
(
WEBRTC_WIN
)

20 
	~<m®loc.h
>

21 
	~<wch¬.h
>

22 
	~<wšdows.h
>

26 #ià
defšed
(
WEBRTC_POSIX
)

27 
	~<¡dlib.h
>

28 
	~<¡ršgs.h
>

31 
	~<¡ršg
>

33 
Çme¥aû
 
	g¹c
 {

35 cÚ¡ 
size_t
 
	gSIZE_UNKNOWN
 = 
¡©ic_ÿ¡
<size_t>(-1);

38 
size_t
 
¡rıyn
(* 
bufãr
,

39 
size_t
 
buæ’
,

40 cÚ¡ * 
sourû
,

41 
size_t
 
¤ş’
 = 
SIZE_UNKNOWN
);

47 #ià
defšed
(
WEBRTC_WIN
)

49 
šlše
 
	g¡d
::
w¡ršg
 
ToUtf16
(cÚ¡ * 
utf8
, 
size_t
 
Ën
) {

50 ià(
	gËn
 == 0)

51  
¡d
::
w¡ršg
();

52 
	gËn16
 = ::
MuÉiBy‹ToWideCh¬
(
CP_UTF8
, 0, 
utf8
, 
¡©ic_ÿ¡
<>(
Ën
),

53 
nuÎ±r
, 0);

54 
	g¡d
::
w¡ršg
 
ws
(
Ën16
, 0);

55 ::
MuÉiBy‹ToWideCh¬
(
CP_UTF8
, 0, 
utf8
, 
¡©ic_ÿ¡
<>(
Ën
), &*
ws
.
begš
(),

56 
Ën16
);

57  
	gws
;

60 
šlše
 
	g¡d
::
w¡ršg
 
ToUtf16
(cÚ¡ 
¡d
::
¡ršg
& 
¡r
) {

61  
ToUtf16
(
¡r
.
d©a
(), sŒ.
Ëngth
());

64 
šlše
 
	g¡d
::
¡ršg
 
ToUtf8
(cÚ¡ 
wch¬_t
* 
wide
, 
size_t
 
Ën
) {

65 ià(
	gËn
 == 0)

66  
¡d
::
¡ršg
();

67 
	gËn8
 = ::
WideCh¬ToMuÉiBy‹
(
CP_UTF8
, 0, 
wide
, 
¡©ic_ÿ¡
<>(
Ën
),

68 
nuÎ±r
, 0,‚ullptr,‚ullptr);

69 
	g¡d
::
¡ršg
 
ns
(
Ën8
, 0);

70 ::
WideCh¬ToMuÉiBy‹
(
CP_UTF8
, 0, 
wide
, 
¡©ic_ÿ¡
<>(
Ën
), &*
ns
.
begš
(),

71 
Ën8
, 
nuÎ±r
,‚ullptr);

72  
	gns
;

75 
šlše
 
	g¡d
::
¡ršg
 
ToUtf8
(cÚ¡ 
wch¬_t
* 
wide
) {

76  
ToUtf8
(
wide
, 
wc¦’
(wide));

79 
šlše
 
	g¡d
::
¡ršg
 
ToUtf8
(cÚ¡ 
¡d
::
w¡ršg
& 
w¡r
) {

80  
ToUtf8
(
w¡r
.
d©a
(), w¡r.
Ëngth
());

86 
	g¡d
::
¡ršg
 
¡ršg_Œim
(cÚ¡ 
¡d
::¡ršg& 
s
);

89 
	g¡d
::
¡ršg
 
ToHex
(cÚ¡ 
i
);

91 
	g¡d
::
¡ršg
 
LeáPad
(
·ddšg
, 
Ëngth
, 
¡d
::¡ršg 
s
);

	@string_utils_unittest.cc

11 
	~"¹c_ba£/¡ršg_uts.h
"

13 
	~"‹¡/g‹¡.h
"

15 
Çme¥aû
 
	g¹c
 {

17 
TEST
(
¡ršg_Œim_Te¡
, 
Trimmšg
) {

18 
EXPECT_EQ
("‹mp", 
¡ršg_Œim
("\n\r\temp \n\r\t"));

19 
EXPECT_EQ
("‹mp\n\r\ˆ‹mp", 
¡ršg_Œim
("emp\n\r\temp "));

20 
EXPECT_EQ
("‹m°‹mp", 
¡ršg_Œim
("tempemp"));

21 
EXPECT_EQ
("", 
¡ršg_Œim
(" \r\n\t"));

22 
EXPECT_EQ
("", 
¡ršg_Œim
(""));

25 
TEST
(
¡ršg_toHexTe¡
, 
ToHex
) {

26 
EXPECT_EQ
(
ToHex
(0), "0");

27 
EXPECT_EQ
(
ToHex
(0X1243E), "1243e");

28 
EXPECT_EQ
(
ToHex
(-20), "ffffffec");

31 #ià
defšed
(
WEBRTC_WIN
)

33 
TEST
(
¡ršg_toutf
, 
Em±y
) {

34 
	gem±y_¡ršg
[] = "";

35 
EXPECT_TRUE
(
ToUtf16
(
em±y_¡ršg
, 0u).
em±y
());

36 
wch¬_t
 
	gem±y_wch¬
[] = 
L
"";

37 
EXPECT_TRUE
(
ToUtf8
(
em±y_wch¬
, 0u).
em±y
());

	@stringize_macros.h

18 #iâdeà
RTC_BASE_STRINGIZE_MACROS_H_


19 
	#RTC_BASE_STRINGIZE_MACROS_H_


	)

24 
	#STRINGIZE_NO_EXPANSION
(
x
è#x

	)

36 
	#STRINGIZE
(
x
è
	`STRINGIZE_NO_EXPANSION
(x)

	)

	@stringize_macros_unittest.cc

11 
	~"¹c_ba£/¡ršgize_maüos.h
"

13 
	~"‹¡/g‹¡.h
"

16 
	#PREPROCESSOR_UTIL_UNITTEST_A
 
FOO


	)

17 
	#PREPROCESSOR_UTIL_UNITTEST_B
(
x
è
myobj
->
	`FunùiÚC®l
(x)

	)

18 
	#PREPROCESSOR_UTIL_UNITTEST_C
 "foo"

	)

20 
	$TEST
(
SŒšgizeTe¡
, 
Ansi
) {

21 
	`EXPECT_STREQ
("PREPROCESSOR_UTIL_UNITTEST_A",

22 
	`STRINGIZE_NO_EXPANSION
(
PREPROCESSOR_UTIL_UNITTEST_A
));

23 
	`EXPECT_STREQ
("PREPROCESSOR_UTIL_UNITTEST_B(y)",

24 
	`STRINGIZE_NO_EXPANSION
(
	`PREPROCESSOR_UTIL_UNITTEST_B
(
y
)));

25 
	`EXPECT_STREQ
("PREPROCESSOR_UTIL_UNITTEST_C",

26 
	`STRINGIZE_NO_EXPANSION
(
PREPROCESSOR_UTIL_UNITTEST_C
));

28 
	`EXPECT_STREQ
("FOO", 
	`STRINGIZE
(
PREPROCESSOR_UTIL_UNITTEST_A
));

29 
	`EXPECT_STREQ
("myobj->FunctionCall(y)",

30 
	`STRINGIZE
(
	`PREPROCESSOR_UTIL_UNITTEST_B
(
y
)));

31 
	`EXPECT_STREQ
("\"foo\"", 
	`STRINGIZE
(
PREPROCESSOR_UTIL_UNITTEST_C
));

32 
	}
}

	@strings/audio_format_to_string.cc

11 
	~"¹c_ba£/¡ršgs/audio_fÜm©_to_¡ršg.h
"

13 
	~<ut™y
>

15 
	~"¹c_ba£/¡ršgs/¡ršg_bud”.h
"

17 
Çme¥aû
 
	g¹c
 {

18 
	g¡d
::
¡ršg
 
ToSŒšg
(cÚ¡ 
web¹c
::
SdpAudioFÜm©
& 
§f
) {

19 
sb_buf
[1024];

20 
	g¹c
::
Sim¶eSŒšgBud”
 
sb
(
sb_buf
);

21 
	gsb
 << "{Çme: " << 
	g§f
.
	gÇme
;

22 
	gsb
 << ", clock¿‹_hz: " << 
	g§f
.
	gşock¿‹_hz
;

23 
	gsb
 << ",‚um_chªÃls: " << 
	g§f
.
	gnum_chªÃls
;

24 
	gsb
 << ",…arameters: {";

25 cÚ¡ * 
	g£p
 = "";

26 cÚ¡‡uto& 
	gkv
 : 
§f
.
·¿m‘”s
) {

27 
sb
 << 
£p
 << 
kv
.
fœ¡
 << ": " << kv.
£cÚd
;

28 
	g£p
 = ", ";

30 
	gsb
 << "}}";

31  
	gsb
.
¡r
();

33 
	g¡d
::
¡ršg
 
ToSŒšg
(cÚ¡ 
web¹c
::
AudioCodecInfo
& 
aci
) {

34 
sb_buf
[1024];

35 
	g¹c
::
Sim¶eSŒšgBud”
 
sb
(
sb_buf
);

36 
	gsb
 << "{§m¶e_¿‹_hz: " << 
	gaci
.
	g§m¶e_¿‹_hz
;

37 
	gsb
 << ",‚um_chªÃls: " << 
	gaci
.
	gnum_chªÃls
;

38 
	gsb
 << ", deçuÉ_b™¿‹_bps: " << 
	gaci
.
	gdeçuÉ_b™¿‹_bps
;

39 
	gsb
 << ", mš_b™¿‹_bps: " << 
	gaci
.
	gmš_b™¿‹_bps
;

40 
	gsb
 << ", max_b™¿‹_bps: " << 
	gaci
.
	gmax_b™¿‹_bps
;

41 
	gsb
 << ",‡Îow_comfÜt_noi£: " << 
	gaci
.
	g®low_comfÜt_noi£
;

42 
	gsb
 << ", suµÜts_ÃtwÜk_ad­tiÚ: " << 
	gaci
.
	gsuµÜts_ÃtwÜk_ad­tiÚ
;

43 
	gsb
 << "}";

44  
	gsb
.
¡r
();

46 
	g¡d
::
¡ršg
 
ToSŒšg
(cÚ¡ 
web¹c
::
AudioCodecS³c
& 
acs
) {

47 
sb_buf
[1024];

48 
	g¹c
::
Sim¶eSŒšgBud”
 
sb
(
sb_buf
);

49 
	gsb
 << "{fÜm©: " << 
ToSŒšg
(
acs
.
fÜm©
);

50 
	gsb
 << ", info: " << 
ToSŒšg
(
acs
.
šfo
);

51 
	gsb
 << "}";

52  
	gsb
.
¡r
();

	@strings/audio_format_to_string.h

11 #iâdeà
RTC_BASE_STRINGS_AUDIO_FORMAT_TO_STRING_H_


12 
	#RTC_BASE_STRINGS_AUDIO_FORMAT_TO_STRING_H_


	)

14 
	~<¡ršg
>

16 
	~"­i/audio_codecs/audio_fÜm©.h
"

18 
Çme¥aû
 
	g¹c
 {

19 
	g¡d
::
¡ršg
 
ToSŒšg
(cÚ¡ 
web¹c
::
SdpAudioFÜm©
& 
§f
);

20 
	g¡d
::
¡ršg
 
ToSŒšg
(cÚ¡ 
web¹c
::
AudioCodecInfo
& 
§f
);

21 
	g¡d
::
¡ršg
 
ToSŒšg
(cÚ¡ 
web¹c
::
AudioCodecS³c
& 
acs
);

	@strings/json.cc

11 
	~"¹c_ba£/¡ršgs/jsÚ.h
"

13 
	~<”ºo.h
>

14 
	~<lim™s.h
>

15 
	~<¡dlib.h
>

17 
	~"¹c_ba£/¡ršg_’code.h
"

19 
Çme¥aû
 
	g¹c
 {

21 
boŞ
 
G‘SŒšgFromJsÚ
(cÚ¡ 
JsÚ
::
V®ue
& 
š
, 
¡d
::
¡ršg
* 
out
) {

22 ià(!
š
.
isSŒšg
()) {

23 ià(
š
.
isBoŞ
()) {

24 *
out
 = 
¹c
::
ToSŒšg
(
š
.
asBoŞ
());

25 } ià(
	gš
.
isIÁ
()) {

26 *
	gout
 = 
¹c
::
ToSŒšg
(
š
.
asIÁ
());

27 } ià(
	gš
.
isUIÁ
()) {

28 *
	gout
 = 
¹c
::
ToSŒšg
(
š
.
asUIÁ
());

29 } ià(
	gš
.
isDoubË
()) {

30 *
	gout
 = 
¹c
::
ToSŒšg
(
š
.
asDoubË
());

32  
	gçl£
;

35 *
	gout
 = 
š
.
asSŒšg
();

37  
	gŒue
;

40 
boŞ
 
G‘IÁFromJsÚ
(cÚ¡ 
JsÚ
::
V®ue
& 
š
, * 
out
) {

41 
boŞ
 
	g»t
;

42 ià(!
	gš
.
isSŒšg
()) {

43 
	g»t
 = 
š
.
isCÚv”tibËTo
(
JsÚ
::
štV®ue
);

44 ià(
	g»t
) {

45 *
	gout
 = 
š
.
asIÁ
();

48 
	gv®
;

49 cÚ¡ * 
	gc_¡r
 = 
š
.
asCSŒšg
();

50 * 
	g’d_±r
;

51 
	g”ºo
 = 0;

52 
	gv®
 = 
¡¹Ş
(
c_¡r
, &
’d_±r
, 10);

53 
	g»t
 = (
’d_±r
 !ğ
c_¡r
 && *’d_±¸=ğ'\0' && !
”ºo
 && 
v®
 >ğ
INT_MIN
 &&

54 
v®
 <ğ
INT_MAX
);

55 *
	gout
 = 
v®
;

57  
	g»t
;

60 
boŞ
 
G‘UIÁFromJsÚ
(cÚ¡ 
JsÚ
::
V®ue
& 
š
, * 
out
) {

61 
boŞ
 
	g»t
;

62 ià(!
	gš
.
isSŒšg
()) {

63 
	g»t
 = 
š
.
isCÚv”tibËTo
(
JsÚ
::
uštV®ue
);

64 ià(
	g»t
) {

65 *
	gout
 = 
š
.
asUIÁ
();

68 
	gv®
;

69 cÚ¡ * 
	gc_¡r
 = 
š
.
asCSŒšg
();

70 * 
	g’d_±r
;

71 
	g”ºo
 = 0;

72 
	gv®
 = 
¡¹oul
(
c_¡r
, &
’d_±r
, 10);

73 
	g»t
 = (
’d_±r
 !ğ
c_¡r
 && *’d_±¸=ğ'\0' && !
”ºo
 && 
v®
 <ğ
UINT_MAX
);

74 *
	gout
 = 
v®
;

76  
	g»t
;

79 
boŞ
 
G‘BoŞFromJsÚ
(cÚ¡ 
JsÚ
::
V®ue
& 
š
, boŞ* 
out
) {

80 
boŞ
 
	g»t
;

81 ià(!
	gš
.
isSŒšg
()) {

82 
	g»t
 = 
š
.
isCÚv”tibËTo
(
JsÚ
::
boŞ—nV®ue
);

83 ià(
	g»t
) {

84 *
	gout
 = 
š
.
asBoŞ
();

87 ià(
	gš
.
asSŒšg
() == "true") {

88 *
out
 = 
Œue
;

89 
	g»t
 = 
Œue
;

90 } ià(
	gš
.
asSŒšg
() == "false") {

91 *
out
 = 
çl£
;

92 
	g»t
 = 
Œue
;

94 
	g»t
 = 
çl£
;

97  
	g»t
;

100 
boŞ
 
G‘DoubËFromJsÚ
(cÚ¡ 
JsÚ
::
V®ue
& 
š
, * 
out
) {

101 
boŞ
 
	g»t
;

102 ià(!
	gš
.
isSŒšg
()) {

103 
	g»t
 = 
š
.
isCÚv”tibËTo
(
JsÚ
::
»®V®ue
);

104 ià(
	g»t
) {

105 *
	gout
 = 
š
.
asDoubË
();

108 
	gv®
;

109 cÚ¡ * 
	gc_¡r
 = 
š
.
asCSŒšg
();

110 * 
	g’d_±r
;

111 
	g”ºo
 = 0;

112 
	gv®
 = 
¡¹od
(
c_¡r
, &
’d_±r
);

113 
	g»t
 = (
’d_±r
 !ğ
c_¡r
 && *’d_±¸=ğ'\0' && !
”ºo
);

114 *
	gout
 = 
v®
;

116  
	g»t
;

119 
	gÇme¥aû
 {

120 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

121 
boŞ
 
JsÚA¼ayToVeùÜ
(cÚ¡ 
JsÚ
::
V®ue
& 
v®ue
,

122 
boŞ
 (*
g‘‹r
)(cÚ¡ 
JsÚ
::
V®ue
& 
š
, 
T
* 
out
),

123 
¡d
::
veùÜ
<
T
>* 
vec
) {

124 
vec
->
ş—r
();

125 ià(!
	gv®ue
.
isA¼ay
()) {

126  
	gçl£
;

129 
	gJsÚ
::
V®ue
::
A¼ayIndex
 
i
 = 0; 
	gi
 < 
	gv®ue
.
size
(); ++i) {

130 
T
 
	gv®
;

131 ià(!
g‘‹r
(
v®ue
[
i
], &
v®
)) {

132  
	gçl£
;

134 
	gvec
->
push_back
(
v®
);

137  
	gŒue
;

140 
boŞ
 
G‘V®ueFromJsÚ
(cÚ¡ 
JsÚ
::
V®ue
& 
š
, JsÚ::V®ue* 
out
) {

141 *
out
 = 
š
;

142  
	gŒue
;

146 
boŞ
 
JsÚA¼ayToV®ueVeùÜ
(cÚ¡ 
JsÚ
::
V®ue
& 
š
,

147 
¡d
::
veùÜ
<
JsÚ
::
V®ue
>* 
out
) {

148  
JsÚA¼ayToVeùÜ
(
š
, 
G‘V®ueFromJsÚ
, 
out
);

151 
boŞ
 
JsÚA¼ayToIÁVeùÜ
(cÚ¡ 
JsÚ
::
V®ue
& 
š
, 
¡d
::
veùÜ
<>* 
out
) {

152  
JsÚA¼ayToVeùÜ
(
š
, 
G‘IÁFromJsÚ
, 
out
);

155 
boŞ
 
JsÚA¼ayToUIÁVeùÜ
(cÚ¡ 
JsÚ
::
V®ue
& 
š
,

156 
¡d
::
veùÜ
<>* 
out
) {

157  
JsÚA¼ayToVeùÜ
(
š
, 
G‘UIÁFromJsÚ
, 
out
);

160 
boŞ
 
JsÚA¼ayToSŒšgVeùÜ
(cÚ¡ 
JsÚ
::
V®ue
& 
š
,

161 
¡d
::
veùÜ
<¡d::
¡ršg
>* 
out
) {

162  
JsÚA¼ayToVeùÜ
(
š
, 
G‘SŒšgFromJsÚ
, 
out
);

165 
boŞ
 
JsÚA¼ayToBoŞVeùÜ
(cÚ¡ 
JsÚ
::
V®ue
& 
š
, 
¡d
::
veùÜ
<boŞ>* 
out
) {

166  
JsÚA¼ayToVeùÜ
(
š
, 
G‘BoŞFromJsÚ
, 
out
);

169 
boŞ
 
JsÚA¼ayToDoubËVeùÜ
(cÚ¡ 
JsÚ
::
V®ue
& 
š
, 
¡d
::
veùÜ
<>* 
out
) {

170  
JsÚA¼ayToVeùÜ
(
š
, 
G‘DoubËFromJsÚ
, 
out
);

173 
	gÇme¥aû
 {

174 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

175 
	gJsÚ
::
V®ue
 
VeùÜToJsÚA¼ay
(cÚ¡ 
¡d
::
veùÜ
<
T
>& 
vec
) {

176 
JsÚ
::
V®ue
 
»suÉ
(JsÚ::
¬¿yV®ue
);

177 
size_t
 
	gi
 = 0; i < 
	gvec
.
size
(); ++i) {

178 
	g»suÉ
.
­³nd
(
JsÚ
::
V®ue
(
vec
[
i
]));

180  
	g»suÉ
;

184 
	gJsÚ
::
V®ue
 
V®ueVeùÜToJsÚA¼ay
(cÚ¡ 
¡d
::
veùÜ
<
JsÚ
::V®ue>& 
š
) {

185  
VeùÜToJsÚA¼ay
(
š
);

188 
	gJsÚ
::
V®ue
 
IÁVeùÜToJsÚA¼ay
(cÚ¡ 
¡d
::
veùÜ
<>& 
š
) {

189  
VeùÜToJsÚA¼ay
(
š
);

192 
	gJsÚ
::
V®ue
 
UIÁVeùÜToJsÚA¼ay
(cÚ¡ 
¡d
::
veùÜ
<>& 
š
) {

193  
VeùÜToJsÚA¼ay
(
š
);

196 
	gJsÚ
::
V®ue
 
SŒšgVeùÜToJsÚA¼ay
(cÚ¡ 
¡d
::
veùÜ
<¡d::
¡ršg
>& 
š
) {

197  
VeùÜToJsÚA¼ay
(
š
);

200 
	gJsÚ
::
V®ue
 
BoŞVeùÜToJsÚA¼ay
(cÚ¡ 
¡d
::
veùÜ
<
boŞ
>& 
š
) {

201  
VeùÜToJsÚA¼ay
(
š
);

204 
	gJsÚ
::
V®ue
 
DoubËVeùÜToJsÚA¼ay
(cÚ¡ 
¡d
::
veùÜ
<>& 
š
) {

205  
VeùÜToJsÚA¼ay
(
š
);

208 
boŞ
 
G‘V®ueFromJsÚA¼ay
(cÚ¡ 
JsÚ
::
V®ue
& 
š
, 
size_t
 
n
, JsÚ::V®ue* 
out
) {

209 ià(!
š
.
isA¼ay
(è|| !š.
isV®idIndex
(
¡©ic_ÿ¡
<>(
n
))) {

210  
çl£
;

213 *
	gout
 = 
š
[
¡©ic_ÿ¡
<
JsÚ
::
V®ue
::
A¼ayIndex
>(
n
)];

214  
	gŒue
;

217 
boŞ
 
G‘IÁFromJsÚA¼ay
(cÚ¡ 
JsÚ
::
V®ue
& 
š
, 
size_t
 
n
, * 
out
) {

218 
	gJsÚ
::
V®ue
 
x
;

219  
G‘V®ueFromJsÚA¼ay
(
š
, 
n
, &
x
è&& 
G‘IÁFromJsÚ
(x, 
out
);

222 
boŞ
 
G‘UIÁFromJsÚA¼ay
(cÚ¡ 
JsÚ
::
V®ue
& 
š
, 
size_t
 
n
, * 
out
) {

223 
	gJsÚ
::
V®ue
 
x
;

224  
G‘V®ueFromJsÚA¼ay
(
š
, 
n
, &
x
è&& 
G‘UIÁFromJsÚ
(x, 
out
);

227 
boŞ
 
G‘SŒšgFromJsÚA¼ay
(cÚ¡ 
JsÚ
::
V®ue
& 
š
, 
size_t
 
n
, 
¡d
::
¡ršg
* 
out
) {

228 
JsÚ
::
V®ue
 
x
;

229  
G‘V®ueFromJsÚA¼ay
(
š
, 
n
, &
x
è&& 
G‘SŒšgFromJsÚ
(x, 
out
);

232 
boŞ
 
G‘BoŞFromJsÚA¼ay
(cÚ¡ 
JsÚ
::
V®ue
& 
š
, 
size_t
 
n
, boŞ* 
out
) {

233 
	gJsÚ
::
V®ue
 
x
;

234  
G‘V®ueFromJsÚA¼ay
(
š
, 
n
, &
x
è&& 
G‘BoŞFromJsÚ
(x, 
out
);

237 
boŞ
 
G‘DoubËFromJsÚA¼ay
(cÚ¡ 
JsÚ
::
V®ue
& 
š
, 
size_t
 
n
, * 
out
) {

238 
	gJsÚ
::
V®ue
 
x
;

239  
G‘V®ueFromJsÚA¼ay
(
š
, 
n
, &
x
è&& 
G‘DoubËFromJsÚ
(x, 
out
);

242 
boŞ
 
G‘V®ueFromJsÚObjeù
(cÚ¡ 
JsÚ
::
V®ue
& 
š
,

243 cÚ¡ 
¡d
::
¡ršg
& 
k
,

244 
JsÚ
::
V®ue
* 
out
) {

245 ià(!
š
.
isObjeù
(è|| !š.
isMemb”
(
k
)) {

246  
çl£
;

249 *
	gout
 = 
š
[
k
];

250  
	gŒue
;

253 
boŞ
 
G‘IÁFromJsÚObjeù
(cÚ¡ 
JsÚ
::
V®ue
& 
š
,

254 cÚ¡ 
¡d
::
¡ršg
& 
k
,

255 * 
out
) {

256 
	gJsÚ
::
V®ue
 
x
;

257  
G‘V®ueFromJsÚObjeù
(
š
, 
k
, &
x
è&& 
G‘IÁFromJsÚ
(x, 
out
);

260 
boŞ
 
G‘UIÁFromJsÚObjeù
(cÚ¡ 
JsÚ
::
V®ue
& 
š
,

261 cÚ¡ 
¡d
::
¡ršg
& 
k
,

262 * 
out
) {

263 
	gJsÚ
::
V®ue
 
x
;

264  
G‘V®ueFromJsÚObjeù
(
š
, 
k
, &
x
è&& 
G‘UIÁFromJsÚ
(x, 
out
);

267 
boŞ
 
G‘SŒšgFromJsÚObjeù
(cÚ¡ 
JsÚ
::
V®ue
& 
š
,

268 cÚ¡ 
¡d
::
¡ršg
& 
k
,

269 
¡d
::
¡ršg
* 
out
) {

270 
JsÚ
::
V®ue
 
x
;

271  
G‘V®ueFromJsÚObjeù
(
š
, 
k
, &
x
è&& 
G‘SŒšgFromJsÚ
(x, 
out
);

274 
boŞ
 
G‘BoŞFromJsÚObjeù
(cÚ¡ 
JsÚ
::
V®ue
& 
š
,

275 cÚ¡ 
¡d
::
¡ršg
& 
k
,

276 
boŞ
* 
out
) {

277 
	gJsÚ
::
V®ue
 
x
;

278  
G‘V®ueFromJsÚObjeù
(
š
, 
k
, &
x
è&& 
G‘BoŞFromJsÚ
(x, 
out
);

281 
boŞ
 
G‘DoubËFromJsÚObjeù
(cÚ¡ 
JsÚ
::
V®ue
& 
š
,

282 cÚ¡ 
¡d
::
¡ršg
& 
k
,

283 * 
out
) {

284 
	gJsÚ
::
V®ue
 
x
;

285  
G‘V®ueFromJsÚObjeù
(
š
, 
k
, &
x
è&& 
G‘DoubËFromJsÚ
(x, 
out
);

288 
	g¡d
::
¡ršg
 
JsÚV®ueToSŒšg
(cÚ¡ 
JsÚ
::
V®ue
& 
jsÚ
) {

289 
JsÚ
::
Fa¡Wr™”
 
w
;

290 
	g¡d
::
¡ršg
 
v®ue
 = 
w
.
wr™e
(
jsÚ
);

291  
	gv®ue
.
sub¡r
(0, 
v®ue
.
size
() - 1);

	@strings/json.h

11 #iâdeà
RTC_BASE_STRINGS_JSON_H_


12 
	#RTC_BASE_STRINGS_JSON_H_


	)

14 
	~<¡ršg
>

15 
	~<veùÜ
>

17 #ià!
defšed
(
WEBRTC_EXTERNAL_JSON
)

18 
	~"jsÚ/jsÚ.h
"

20 
	~"thœd_·¹y/jsÚıp/jsÚ.h
"

23 
Çme¥aû
 
	g¹c
 {

30 
boŞ
 
G‘IÁFromJsÚ
(cÚ¡ 
JsÚ
::
V®ue
& 
š
, * 
out
);

31 
boŞ
 
G‘UIÁFromJsÚ
(cÚ¡ 
JsÚ
::
V®ue
& 
š
, * 
out
);

32 
boŞ
 
G‘SŒšgFromJsÚ
(cÚ¡ 
JsÚ
::
V®ue
& 
š
, 
¡d
::
¡ršg
* 
out
);

33 
boŞ
 
G‘BoŞFromJsÚ
(cÚ¡ 
JsÚ
::
V®ue
& 
š
, boŞ* 
out
);

34 
boŞ
 
G‘DoubËFromJsÚ
(cÚ¡ 
JsÚ
::
V®ue
& 
š
, * 
out
);

37 
boŞ
 
G‘V®ueFromJsÚA¼ay
(cÚ¡ 
JsÚ
::
V®ue
& 
š
, 
size_t
 
n
, JsÚ::V®ue* 
out
);

38 
boŞ
 
G‘IÁFromJsÚA¼ay
(cÚ¡ 
JsÚ
::
V®ue
& 
š
, 
size_t
 
n
, * 
out
);

39 
boŞ
 
G‘UIÁFromJsÚA¼ay
(cÚ¡ 
JsÚ
::
V®ue
& 
š
, 
size_t
 
n
, * 
out
);

40 
boŞ
 
G‘SŒšgFromJsÚA¼ay
(cÚ¡ 
JsÚ
::
V®ue
& 
š
, 
size_t
 
n
, 
¡d
::
¡ršg
* 
out
);

41 
boŞ
 
G‘BoŞFromJsÚA¼ay
(cÚ¡ 
JsÚ
::
V®ue
& 
š
, 
size_t
 
n
, boŞ* 
out
);

42 
boŞ
 
G‘DoubËFromJsÚA¼ay
(cÚ¡ 
JsÚ
::
V®ue
& 
š
, 
size_t
 
n
, * 
out
);

45 
boŞ
 
JsÚA¼ayToV®ueVeùÜ
(cÚ¡ 
JsÚ
::
V®ue
& 
š
,

46 
¡d
::
veùÜ
<
JsÚ
::
V®ue
>* 
out
);

47 
boŞ
 
JsÚA¼ayToIÁVeùÜ
(cÚ¡ 
JsÚ
::
V®ue
& 
š
, 
¡d
::
veùÜ
<>* 
out
);

48 
boŞ
 
JsÚA¼ayToUIÁVeùÜ
(cÚ¡ 
JsÚ
::
V®ue
& 
š
,

49 
¡d
::
veùÜ
<>* 
out
);

50 
boŞ
 
JsÚA¼ayToSŒšgVeùÜ
(cÚ¡ 
JsÚ
::
V®ue
& 
š
,

51 
¡d
::
veùÜ
<¡d::
¡ršg
>* 
out
);

52 
boŞ
 
JsÚA¼ayToBoŞVeùÜ
(cÚ¡ 
JsÚ
::
V®ue
& 
š
, 
¡d
::
veùÜ
<boŞ>* 
out
);

53 
boŞ
 
JsÚA¼ayToDoubËVeùÜ
(cÚ¡ 
JsÚ
::
V®ue
& 
š
, 
¡d
::
veùÜ
<>* 
out
);

56 
	gJsÚ
::
V®ue
 
V®ueVeùÜToJsÚA¼ay
(cÚ¡ 
¡d
::
veùÜ
<
JsÚ
::V®ue>& 
š
);

57 
	gJsÚ
::
V®ue
 
IÁVeùÜToJsÚA¼ay
(cÚ¡ 
¡d
::
veùÜ
<>& 
š
);

58 
	gJsÚ
::
V®ue
 
UIÁVeùÜToJsÚA¼ay
(cÚ¡ 
¡d
::
veùÜ
<>& 
š
);

59 
	gJsÚ
::
V®ue
 
SŒšgVeùÜToJsÚA¼ay
(cÚ¡ 
¡d
::
veùÜ
<¡d::
¡ršg
>& 
š
);

60 
	gJsÚ
::
V®ue
 
BoŞVeùÜToJsÚA¼ay
(cÚ¡ 
¡d
::
veùÜ
<
boŞ
>& 
š
);

61 
	gJsÚ
::
V®ue
 
DoubËVeùÜToJsÚA¼ay
(cÚ¡ 
¡d
::
veùÜ
<>& 
š
);

64 
boŞ
 
G‘V®ueFromJsÚObjeù
(cÚ¡ 
JsÚ
::
V®ue
& 
š
,

65 cÚ¡ 
¡d
::
¡ršg
& 
k
,

66 
JsÚ
::
V®ue
* 
out
);

67 
boŞ
 
G‘IÁFromJsÚObjeù
(cÚ¡ 
JsÚ
::
V®ue
& 
š
,

68 cÚ¡ 
¡d
::
¡ršg
& 
k
,

69 * 
out
);

70 
boŞ
 
G‘UIÁFromJsÚObjeù
(cÚ¡ 
JsÚ
::
V®ue
& 
š
,

71 cÚ¡ 
¡d
::
¡ršg
& 
k
,

72 * 
out
);

73 
boŞ
 
G‘SŒšgFromJsÚObjeù
(cÚ¡ 
JsÚ
::
V®ue
& 
š
,

74 cÚ¡ 
¡d
::
¡ršg
& 
k
,

75 
¡d
::
¡ršg
* 
out
);

76 
boŞ
 
G‘BoŞFromJsÚObjeù
(cÚ¡ 
JsÚ
::
V®ue
& 
š
,

77 cÚ¡ 
¡d
::
¡ršg
& 
k
,

78 
boŞ
* 
out
);

79 
boŞ
 
G‘DoubËFromJsÚObjeù
(cÚ¡ 
JsÚ
::
V®ue
& 
š
,

80 cÚ¡ 
¡d
::
¡ršg
& 
k
,

81 * 
out
);

84 
	g¡d
::
¡ršg
 
JsÚV®ueToSŒšg
(cÚ¡ 
JsÚ
::
V®ue
& 
jsÚ
);

	@strings/json_unittest.cc

11 
	~"¹c_ba£/¡ršgs/jsÚ.h
"

13 
	~<veùÜ
>

15 
	~"‹¡/g‹¡.h
"

17 
Çme¥aû
 
	g¹c
 {

19 
	gJsÚ
::
V®ue
 
š_s
("foo");

20 
	gJsÚ
::
V®ue
 
š_¢
("99");

21 
	gJsÚ
::
V®ue
 
š_si
("-99");

22 
	gJsÚ
::
V®ue
 
š_sb
("true");

23 
	gJsÚ
::
V®ue
 
š_sd
("1.2");

24 
	gJsÚ
::
V®ue
 
š_n
(12);

25 
	gJsÚ
::
V®ue
 
š_i
(-12);

26 
	gJsÚ
::
V®ue
 
š_u
(34U);

27 
	gJsÚ
::
V®ue
 
š_b
(
Œue
);

28 
	gJsÚ
::
V®ue
 
š_d
(1.2);

29 
	gJsÚ
::
V®ue
 
big_¢
("12345678901234567890");

30 
	gJsÚ
::
V®ue
 
big_si
("-12345678901234567890");

31 
	gJsÚ
::
V®ue
 
big_u
(0xFFFFFFFF);

32 
	gJsÚ
::
V®ue
 
bad_a
(
JsÚ
::
¬¿yV®ue
);

33 
	gJsÚ
::
V®ue
 
bad_o
(
JsÚ
::
objeùV®ue
);

35 
TEST
(
JsÚTe¡
, 
G‘SŒšg
) {

36 
	g¡d
::
¡ršg
 
out
;

37 
EXPECT_TRUE
(
G‘SŒšgFromJsÚ
(
š_s
, &
out
));

38 
EXPECT_EQ
("foo", 
out
);

39 
EXPECT_TRUE
(
G‘SŒšgFromJsÚ
(
š_¢
, &
out
));

40 
EXPECT_EQ
("99", 
out
);

41 
EXPECT_TRUE
(
G‘SŒšgFromJsÚ
(
š_si
, &
out
));

42 
EXPECT_EQ
("-99", 
out
);

43 
EXPECT_TRUE
(
G‘SŒšgFromJsÚ
(
š_i
, &
out
));

44 
EXPECT_EQ
("-12", 
out
);

45 
EXPECT_TRUE
(
G‘SŒšgFromJsÚ
(
š_n
, &
out
));

46 
EXPECT_EQ
("12", 
out
);

47 
EXPECT_TRUE
(
G‘SŒšgFromJsÚ
(
š_u
, &
out
));

48 
EXPECT_EQ
("34", 
out
);

49 
EXPECT_TRUE
(
G‘SŒšgFromJsÚ
(
š_b
, &
out
));

50 
EXPECT_EQ
("Œue", 
out
);

52 
EXPECT_FALSE
(
G‘SŒšgFromJsÚ
(
bad_a
, &
out
));

53 
EXPECT_FALSE
(
G‘SŒšgFromJsÚ
(
bad_o
, &
out
));

56 
TEST
(
JsÚTe¡
, 
G‘IÁ
) {

57 
	gout
;

58 
EXPECT_TRUE
(
G‘IÁFromJsÚ
(
š_¢
, &
out
));

59 
EXPECT_EQ
(99, 
out
);

60 
EXPECT_TRUE
(
G‘IÁFromJsÚ
(
š_si
, &
out
));

61 
EXPECT_EQ
(-99, 
out
);

62 
EXPECT_TRUE
(
G‘IÁFromJsÚ
(
š_n
, &
out
));

63 
EXPECT_EQ
(12, 
out
);

64 
EXPECT_TRUE
(
G‘IÁFromJsÚ
(
š_i
, &
out
));

65 
EXPECT_EQ
(-12, 
out
);

66 
EXPECT_TRUE
(
G‘IÁFromJsÚ
(
š_u
, &
out
));

67 
EXPECT_EQ
(34, 
out
);

68 
EXPECT_TRUE
(
G‘IÁFromJsÚ
(
š_b
, &
out
));

69 
EXPECT_EQ
(1, 
out
);

70 
EXPECT_FALSE
(
G‘IÁFromJsÚ
(
š_s
, &
out
));

71 
EXPECT_FALSE
(
G‘IÁFromJsÚ
(
big_¢
, &
out
));

72 
EXPECT_FALSE
(
G‘IÁFromJsÚ
(
big_si
, &
out
));

73 
EXPECT_FALSE
(
G‘IÁFromJsÚ
(
big_u
, &
out
));

74 
EXPECT_FALSE
(
G‘IÁFromJsÚ
(
bad_a
, &
out
));

75 
EXPECT_FALSE
(
G‘IÁFromJsÚ
(
bad_o
, &
out
));

78 
TEST
(
JsÚTe¡
, 
G‘UIÁ
) {

79 
	gout
;

80 
EXPECT_TRUE
(
G‘UIÁFromJsÚ
(
š_¢
, &
out
));

81 
EXPECT_EQ
(99U, 
out
);

82 
EXPECT_TRUE
(
G‘UIÁFromJsÚ
(
š_n
, &
out
));

83 
EXPECT_EQ
(12U, 
out
);

84 
EXPECT_TRUE
(
G‘UIÁFromJsÚ
(
š_u
, &
out
));

85 
EXPECT_EQ
(34U, 
out
);

86 
EXPECT_TRUE
(
G‘UIÁFromJsÚ
(
š_b
, &
out
));

87 
EXPECT_EQ
(1U, 
out
);

88 
EXPECT_TRUE
(
G‘UIÁFromJsÚ
(
big_u
, &
out
));

89 
EXPECT_EQ
(0xFFFFFFFFU, 
out
);

90 
EXPECT_FALSE
(
G‘UIÁFromJsÚ
(
š_s
, &
out
));

93 
EXPECT_FALSE
(
G‘UIÁFromJsÚ
(
š_i
, &
out
));

94 
EXPECT_FALSE
(
G‘UIÁFromJsÚ
(
big_¢
, &
out
));

95 
EXPECT_FALSE
(
G‘UIÁFromJsÚ
(
big_si
, &
out
));

96 
EXPECT_FALSE
(
G‘UIÁFromJsÚ
(
bad_a
, &
out
));

97 
EXPECT_FALSE
(
G‘UIÁFromJsÚ
(
bad_o
, &
out
));

100 
TEST
(
JsÚTe¡
, 
G‘BoŞ
) {

101 
boŞ
 
	gout
;

102 
EXPECT_TRUE
(
G‘BoŞFromJsÚ
(
š_sb
, &
out
));

103 
EXPECT_EQ
(
Œue
, 
out
);

104 
EXPECT_TRUE
(
G‘BoŞFromJsÚ
(
š_n
, &
out
));

105 
EXPECT_EQ
(
Œue
, 
out
);

106 
EXPECT_TRUE
(
G‘BoŞFromJsÚ
(
š_i
, &
out
));

107 
EXPECT_EQ
(
Œue
, 
out
);

108 
EXPECT_TRUE
(
G‘BoŞFromJsÚ
(
š_u
, &
out
));

109 
EXPECT_EQ
(
Œue
, 
out
);

110 
EXPECT_TRUE
(
G‘BoŞFromJsÚ
(
š_b
, &
out
));

111 
EXPECT_EQ
(
Œue
, 
out
);

112 
EXPECT_TRUE
(
G‘BoŞFromJsÚ
(
big_u
, &
out
));

113 
EXPECT_EQ
(
Œue
, 
out
);

114 
EXPECT_FALSE
(
G‘BoŞFromJsÚ
(
š_s
, &
out
));

115 
EXPECT_FALSE
(
G‘BoŞFromJsÚ
(
š_¢
, &
out
));

116 
EXPECT_FALSE
(
G‘BoŞFromJsÚ
(
š_si
, &
out
));

117 
EXPECT_FALSE
(
G‘BoŞFromJsÚ
(
big_¢
, &
out
));

118 
EXPECT_FALSE
(
G‘BoŞFromJsÚ
(
big_si
, &
out
));

119 
EXPECT_FALSE
(
G‘BoŞFromJsÚ
(
bad_a
, &
out
));

120 
EXPECT_FALSE
(
G‘BoŞFromJsÚ
(
bad_o
, &
out
));

123 
TEST
(
JsÚTe¡
, 
G‘DoubË
) {

124 
	gout
;

125 
EXPECT_TRUE
(
G‘DoubËFromJsÚ
(
š_¢
, &
out
));

126 
EXPECT_EQ
(99, 
out
);

127 
EXPECT_TRUE
(
G‘DoubËFromJsÚ
(
š_si
, &
out
));

128 
EXPECT_EQ
(-99, 
out
);

129 
EXPECT_TRUE
(
G‘DoubËFromJsÚ
(
š_sd
, &
out
));

130 
EXPECT_EQ
(1.2, 
out
);

131 
EXPECT_TRUE
(
G‘DoubËFromJsÚ
(
š_n
, &
out
));

132 
EXPECT_EQ
(12, 
out
);

133 
EXPECT_TRUE
(
G‘DoubËFromJsÚ
(
š_i
, &
out
));

134 
EXPECT_EQ
(-12, 
out
);

135 
EXPECT_TRUE
(
G‘DoubËFromJsÚ
(
š_u
, &
out
));

136 
EXPECT_EQ
(34, 
out
);

137 
EXPECT_TRUE
(
G‘DoubËFromJsÚ
(
š_b
, &
out
));

138 
EXPECT_EQ
(1, 
out
);

139 
EXPECT_TRUE
(
G‘DoubËFromJsÚ
(
š_d
, &
out
));

140 
EXPECT_EQ
(1.2, 
out
);

141 
EXPECT_FALSE
(
G‘DoubËFromJsÚ
(
š_s
, &
out
));

144 
TEST
(
JsÚTe¡
, 
G‘FromA¼ay
) {

145 
	gJsÚ
::
V®ue
 
a
, 
	gout
;

146 
	ga
.
­³nd
(
š_s
);

147 
	ga
.
­³nd
(
š_i
);

148 
	ga
.
­³nd
(
š_u
);

149 
	ga
.
­³nd
(
š_b
);

150 
EXPECT_TRUE
(
G‘V®ueFromJsÚA¼ay
(
a
, 0, &
out
));

151 
EXPECT_TRUE
(
G‘V®ueFromJsÚA¼ay
(
a
, 3, &
out
));

152 
EXPECT_FALSE
(
G‘V®ueFromJsÚA¼ay
(
a
, 99, &
out
));

153 
EXPECT_FALSE
(
G‘V®ueFromJsÚA¼ay
(
a
, 0xFFFFFFFF, &
out
));

156 
TEST
(
JsÚTe¡
, 
G‘FromObjeù
) {

157 
	gJsÚ
::
V®ue
 
o
, 
	gout
;

158 
	go
["¡ršg"] = 
š_s
;

159 
	go
["št"] = 
š_i
;

160 
	go
["ušt"] = 
š_u
;

161 
	go
["boŞ"] = 
š_b
;

162 
EXPECT_TRUE
(
G‘V®ueFromJsÚObjeù
(
o
, "št", &
out
));

163 
EXPECT_TRUE
(
G‘V®ueFromJsÚObjeù
(
o
, "boŞ", &
out
));

164 
EXPECT_FALSE
(
G‘V®ueFromJsÚObjeù
(
o
, "foo", &
out
));

165 
EXPECT_FALSE
(
G‘V®ueFromJsÚObjeù
(
o
, "", &
out
));

168 
	gÇme¥aû
 {

169 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

170 
	g¡d
::
veùÜ
<
T
> 
VecOf3
(cÚ¡ T& 
a
, cÚ¡ T& 
b
, cÚ¡ T& 
c
) {

171 
	g¡d
::
veùÜ
<
T
> 
š
;

172 
	gš
.
push_back
(
a
);

173 
	gš
.
push_back
(
b
);

174 
	gš
.
push_back
(
c
);

175  
	gš
;

177 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

178 
	gJsÚ
::
V®ue
 
JsÚVecOf3
(cÚ¡ 
T
& 
a
, cÚ¡ T& 
b
, cÚ¡ T& 
c
) {

179 
	gJsÚ
::
V®ue
 
š
(
JsÚ
::
¬¿yV®ue
);

180 
	gš
.
­³nd
(
a
);

181 
	gš
.
­³nd
(
b
);

182 
	gš
.
­³nd
(
c
);

183  
	gš
;

187 
TEST
(
JsÚTe¡
, 
V®ueVeùÜToFromA¼ay
) {

188 
	g¡d
::
veùÜ
<
JsÚ
::
V®ue
> 
š
 = 
VecOf3
<Json::Value>("a", "b", "c");

189 
	gJsÚ
::
V®ue
 
out
 = 
V®ueVeùÜToJsÚA¼ay
(
š
);

190 
EXPECT_EQ
(
š
.
size
(), 
out
.size());

191 
	gJsÚ
::
V®ue
::
A¼ayIndex
 
i
 = 0; 
	gi
 < 
	gš
.
size
(); ++i) {

192 
EXPECT_EQ
(
š
[
i
].
asSŒšg
(), 
out
[i].asString());

194 
	gJsÚ
::
V®ue
 
šj
 = 
JsÚVecOf3
<
JsÚ
::Value>("a", "b", "c");

195 
EXPECT_EQ
(
šj
, 
out
);

196 
	g¡d
::
veùÜ
<
JsÚ
::
V®ue
> 
outj
;

197 
EXPECT_TRUE
(
JsÚA¼ayToV®ueVeùÜ
(
šj
, &
outj
));

198 
	gJsÚ
::
V®ue
::
A¼ayIndex
 
i
 = 0; 
	gi
 < 
	gš
.
size
(); i++) {

199 
EXPECT_EQ
(
š
[
i
], 
outj
[i]);

203 
TEST
(
JsÚTe¡
, 
IÁVeùÜToFromA¼ay
) {

204 
	g¡d
::
veùÜ
<> 
š
 = 
VecOf3
<>(1, 2, 3);

205 
	gJsÚ
::
V®ue
 
out
 = 
IÁVeùÜToJsÚA¼ay
(
š
);

206 
EXPECT_EQ
(
š
.
size
(), 
out
.size());

207 
	gJsÚ
::
V®ue
::
A¼ayIndex
 
i
 = 0; 
	gi
 < 
	gš
.
size
(); ++i) {

208 
EXPECT_EQ
(
š
[
i
], 
out
[i].
asIÁ
());

210 
	gJsÚ
::
V®ue
 
šj
 = 
JsÚVecOf3
<>(1, 2, 3);

211 
EXPECT_EQ
(
šj
, 
out
);

212 
	g¡d
::
veùÜ
<> 
outj
;

213 
EXPECT_TRUE
(
JsÚA¼ayToIÁVeùÜ
(
šj
, &
outj
));

214 
	gJsÚ
::
V®ue
::
A¼ayIndex
 
i
 = 0; 
	gi
 < 
	gš
.
size
(); i++) {

215 
EXPECT_EQ
(
š
[
i
], 
outj
[i]);

219 
TEST
(
JsÚTe¡
, 
UIÁVeùÜToFromA¼ay
) {

220 
	g¡d
::
veùÜ
<> 
š
 = 
VecOf3
<>(1, 2, 3);

221 
	gJsÚ
::
V®ue
 
out
 = 
UIÁVeùÜToJsÚA¼ay
(
š
);

222 
EXPECT_EQ
(
š
.
size
(), 
out
.size());

223 
	gJsÚ
::
V®ue
::
A¼ayIndex
 
i
 = 0; 
	gi
 < 
	gš
.
size
(); ++i) {

224 
EXPECT_EQ
(
š
[
i
], 
out
[i].
asUIÁ
());

226 
	gJsÚ
::
V®ue
 
šj
 = 
JsÚVecOf3
<>(1, 2, 3);

227 
EXPECT_EQ
(
šj
, 
out
);

228 
	g¡d
::
veùÜ
<> 
outj
;

229 
EXPECT_TRUE
(
JsÚA¼ayToUIÁVeùÜ
(
šj
, &
outj
));

230 
	gJsÚ
::
V®ue
::
A¼ayIndex
 
i
 = 0; 
	gi
 < 
	gš
.
size
(); i++) {

231 
EXPECT_EQ
(
š
[
i
], 
outj
[i]);

235 
TEST
(
JsÚTe¡
, 
SŒšgVeùÜToFromA¼ay
) {

236 
	g¡d
::
veùÜ
<
¡d
::
¡ršg
> 
š
 = 
VecOf3
<std::string>("a", "b", "c");

237 
	gJsÚ
::
V®ue
 
out
 = 
SŒšgVeùÜToJsÚA¼ay
(
š
);

238 
EXPECT_EQ
(
š
.
size
(), 
out
.size());

239 
	gJsÚ
::
V®ue
::
A¼ayIndex
 
i
 = 0; 
	gi
 < 
	gš
.
size
(); ++i) {

240 
EXPECT_EQ
(
š
[
i
], 
out
[i].
asSŒšg
());

242 
	gJsÚ
::
V®ue
 
šj
 = 
JsÚVecOf3
<
¡d
::
¡ršg
>("a", "b", "c");

243 
EXPECT_EQ
(
šj
, 
out
);

244 
	g¡d
::
veùÜ
<
¡d
::
¡ršg
> 
outj
;

245 
EXPECT_TRUE
(
JsÚA¼ayToSŒšgVeùÜ
(
šj
, &
outj
));

246 
	gJsÚ
::
V®ue
::
A¼ayIndex
 
i
 = 0; 
	gi
 < 
	gš
.
size
(); i++) {

247 
EXPECT_EQ
(
š
[
i
], 
outj
[i]);

251 
TEST
(
JsÚTe¡
, 
BoŞVeùÜToFromA¼ay
) {

252 
	g¡d
::
veùÜ
<
boŞ
> 
š
 = 
VecOf3
<boŞ>(
çl£
, 
	gŒue
, 
	gçl£
);

253 
	gJsÚ
::
V®ue
 
out
 = 
BoŞVeùÜToJsÚA¼ay
(
š
);

254 
EXPECT_EQ
(
š
.
size
(), 
out
.size());

255 
	gJsÚ
::
V®ue
::
A¼ayIndex
 
i
 = 0; 
	gi
 < 
	gš
.
size
(); ++i) {

256 
EXPECT_EQ
(
š
[
i
], 
out
[i].
asBoŞ
());

258 
	gJsÚ
::
V®ue
 
šj
 = 
JsÚVecOf3
<
boŞ
>(
çl£
, 
	gŒue
, 
	gçl£
);

259 
EXPECT_EQ
(
šj
, 
out
);

260 
	g¡d
::
veùÜ
<
boŞ
> 
outj
;

261 
EXPECT_TRUE
(
JsÚA¼ayToBoŞVeùÜ
(
šj
, &
outj
));

262 
	gJsÚ
::
V®ue
::
A¼ayIndex
 
i
 = 0; 
	gi
 < 
	gš
.
size
(); i++) {

263 
EXPECT_EQ
(
š
[
i
], 
outj
[i]);

267 
TEST
(
JsÚTe¡
, 
DoubËVeùÜToFromA¼ay
) {

268 
	g¡d
::
veùÜ
<> 
š
 = 
VecOf3
<>(1.0, 2.0, 3.0);

269 
	gJsÚ
::
V®ue
 
out
 = 
DoubËVeùÜToJsÚA¼ay
(
š
);

270 
EXPECT_EQ
(
š
.
size
(), 
out
.size());

271 
	gJsÚ
::
V®ue
::
A¼ayIndex
 
i
 = 0; 
	gi
 < 
	gš
.
size
(); ++i) {

272 
EXPECT_EQ
(
š
[
i
], 
out
[i].
asDoubË
());

274 
	gJsÚ
::
V®ue
 
šj
 = 
JsÚVecOf3
<>(1.0, 2.0, 3.0);

275 
EXPECT_EQ
(
šj
, 
out
);

276 
	g¡d
::
veùÜ
<> 
outj
;

277 
EXPECT_TRUE
(
JsÚA¼ayToDoubËVeùÜ
(
šj
, &
outj
));

278 
	gJsÚ
::
V®ue
::
A¼ayIndex
 
i
 = 0; 
	gi
 < 
	gš
.
size
(); i++) {

279 
EXPECT_EQ
(
š
[
i
], 
outj
[i]);

	@strings/string_builder.cc

11 
	~"¹c_ba£/¡ršgs/¡ršg_bud”.h
"

13 
	~<¡d¬g.h
>

15 
	~<c¡dio
>

16 
	~<c¡ršg
>

18 
	~"¹c_ba£/checks.h
"

19 
	~"¹c_ba£/num”ics/§ã_mšmax.h
"

21 
Çme¥aû
 
	g¹c
 {

23 
	gSim¶eSŒšgBud”
::
Sim¶eSŒšgBud”
(
¹c
::
A¼ayV›w
<> 
bufãr
)

24 : 
bufãr_
(
bufãr
) {

25 
bufãr_
[0] = '\0';

26 
RTC_DCHECK
(
IsCÚsi¡’t
());

29 
	gSim¶eSŒšgBud”
& Sim¶eSŒšgBud”::
İ”©Ü
<<(cÚ¡ * 
¡r
) {

30  
Aµ’d
(
¡r
, 
¡¾’
(str));

33 
	gSim¶eSŒšgBud”
& Sim¶eSŒšgBud”::
İ”©Ü
<<(
ch
) {

34  
Aµ’d
(&
ch
, 1);

37 
	gSim¶eSŒšgBud”
& Sim¶eSŒšgBud”::
İ”©Ü
<<(cÚ¡ 
¡d
::
¡ršg
& 
¡r
) {

38  
Aµ’d
(
¡r
.
c_¡r
(), sŒ.
Ëngth
());

51 
	gSim¶eSŒšgBud”
& Sim¶eSŒšgBud”::
İ”©Ü
<<(
i
) {

52  
Aµ’dFÜm©
("%d", 
i
);

55 
	gSim¶eSŒšgBud”
& Sim¶eSŒšgBud”::
İ”©Ü
<<(
i
) {

56  
Aµ’dFÜm©
("%u", 
i
);

59 
	gSim¶eSŒšgBud”
& Sim¶eSŒšgBud”::
İ”©Ü
<<(
i
) {

60  
Aµ’dFÜm©
("%ld", 
i
);

63 
	gSim¶eSŒšgBud”
& Sim¶eSŒšgBud”::
İ”©Ü
<<(
i
) {

64  
Aµ’dFÜm©
("%Îd", 
i
);

67 
	gSim¶eSŒšgBud”
& Sim¶eSŒšgBud”::
İ”©Ü
<<(

68 
i
) {

69  
Aµ’dFÜm©
("%lu", 
i
);

72 
	gSim¶eSŒšgBud”
& Sim¶eSŒšgBud”::
İ”©Ü
<<(

73 
i
) {

74  
Aµ’dFÜm©
("%Îu", 
i
);

77 
	gSim¶eSŒšgBud”
& Sim¶eSŒšgBud”::
İ”©Ü
<<(
f
) {

78  
Aµ’dFÜm©
("%g", 
f
);

81 
	gSim¶eSŒšgBud”
& Sim¶eSŒšgBud”::
İ”©Ü
<<(
f
) {

82  
Aµ’dFÜm©
("%g", 
f
);

85 
	gSim¶eSŒšgBud”
& Sim¶eSŒšgBud”::
İ”©Ü
<<(
f
) {

86  
Aµ’dFÜm©
("%Lg", 
f
);

89 
	gSim¶eSŒšgBud”
& Sim¶eSŒšgBud”::
Aµ’dFÜm©
(cÚ¡ * 
fmt
, ...) {

90 
va_li¡
 
	g¬gs
;

91 
va_¡¬t
(
¬gs
, 
fmt
);

92 cÚ¡ 
	gËn
 =

93 
¡d
::
v¢´štf
(&
bufãr_
[
size_
], bufãr_.
size
(è- size_, 
fmt
, 
¬gs
);

94 ià(
	gËn
 >= 0) {

95 cÚ¡ 
size_t
 
ch¬s_added
 = 
¹c
::
SaãMš
(
Ën
, 
bufãr_
.
size
(è- 1 - 
size_
);

96 
	gsize_
 +ğ
ch¬s_added
;

97 
RTC_DCHECK_EQ
(
Ën
, 
ch¬s_added
) << "Buffer size was insufficient";

101 
RTC_NOTREACHED
();

102 
	gbufãr_
[
size_
] = '\0';

104 
va_’d
(
¬gs
);

105 
RTC_DCHECK
(
IsCÚsi¡’t
());

106  *
	gthis
;

109 
	gSim¶eSŒšgBud”
& Sim¶eSŒšgBud”::
Aµ’d
(cÚ¡ * 
¡r
,

110 
size_t
 
Ëngth
) {

111 
RTC_DCHECK_LT
(
size_
 + 
Ëngth
, 
bufãr_
.
size
())

113 cÚ¡ 
size_t
 
	gch¬s_added
 = 
¹c
::
SaãMš
(
Ëngth
, 
bufãr_
.
size
(è- 
size_
 - 1);

114 
memıy
(&
bufãr_
[
size_
], 
¡r
, 
ch¬s_added
);

115 
	gsize_
 +ğ
ch¬s_added
;

116 
	gbufãr_
[
size_
] = '\0';

117 
RTC_DCHECK
(
IsCÚsi¡’t
());

118  *
	gthis
;

121 
	gSŒšgBud”
& SŒšgBud”::
Aµ’dFÜm©
(cÚ¡ * 
fmt
, ...) {

122 
va_li¡
 
	g¬gs
, 
	gcİy
;

123 
va_¡¬t
(
¬gs
, 
fmt
);

124 
va_cİy
(
cİy
, 
¬gs
);

125 cÚ¡ 
	g´ediùed_Ëngth
 = 
¡d
::
v¢´štf
(
nuÎ±r
, 0, 
fmt
, 
cİy
);

126 
va_’d
(
cİy
);

128 
RTC_DCHECK_GE
(
´ediùed_Ëngth
, 0);

129 ià(
	g´ediùed_Ëngth
 > 0) {

130 cÚ¡ 
size_t
 
	gsize
 = 
¡r_
.
size
();

131 
	g¡r_
.
»size
(
size
 + 
´ediùed_Ëngth
);

133 cÚ¡ 
	gaùu®_Ëngth
 =

134 
¡d
::
v¢´štf
(&
¡r_
[
size
], 
´ediùed_Ëngth
 + 1, 
fmt
, 
¬gs
);

135 
RTC_DCHECK_GE
(
aùu®_Ëngth
, 0);

137 
va_’d
(
¬gs
);

138  *
	gthis
;

	@strings/string_builder.h

11 #iâdeà
RTC_BASE_STRINGS_STRING_BUILDER_H_


12 
	#RTC_BASE_STRINGS_STRING_BUILDER_H_


	)

14 
	~<c¡dio
>

15 
	~<¡ršg
>

16 
	~<ut™y
>

18 
	~"ab¦/¡ršgs/¡ršg_v›w.h
"

19 
	~"­i/¬¿y_v›w.h
"

20 
	~"¹c_ba£/¡ršg_’code.h
"

22 
Çme¥aû
 
	g¹c
 {

29 şas 
	cSim¶eSŒšgBud”
 {

30 
	gpublic
:

31 
ex¶ic™
 
Sim¶eSŒšgBud”
(
¹c
::
A¼ayV›w
<> 
bufãr
);

32 
Sim¶eSŒšgBud”
(cÚ¡ Sim¶eSŒšgBud”&èğ
d–‘e
;

33 
	gSim¶eSŒšgBud”
& 
	gİ”©Ü
=(cÚ¡ 
Sim¶eSŒšgBud”
&èğ
d–‘e
;

35 
	gSim¶eSŒšgBud”
& 
	gİ”©Ü
<<(cÚ¡ * 
	g¡r
);

36 
	gSim¶eSŒšgBud”
& 
	gİ”©Ü
<<(
	gch
);

37 
	gSim¶eSŒšgBud”
& 
	gİ”©Ü
<<(cÚ¡ 
	g¡d
::
¡ršg
& 
¡r
);

38 
	gSim¶eSŒšgBud”
& 
	gİ”©Ü
<<(
	gi
);

39 
	gSim¶eSŒšgBud”
& 
	gİ”©Ü
<<(
	gi
);

40 
	gSim¶eSŒšgBud”
& 
	gİ”©Ü
<<(
	gi
);

41 
	gSim¶eSŒšgBud”
& 
	gİ”©Ü
<<(
	gi
);

42 
	gSim¶eSŒšgBud”
& 
	gİ”©Ü
<<(
	gi
);

43 
	gSim¶eSŒšgBud”
& 
	gİ”©Ü
<<(
	gi
);

44 
	gSim¶eSŒšgBud”
& 
	gİ”©Ü
<<(
	gf
);

45 
	gSim¶eSŒšgBud”
& 
	gİ”©Ü
<<(
	gf
);

46 
	gSim¶eSŒšgBud”
& 
	gİ”©Ü
<<(
	gf
);

51 cÚ¡ * 
¡r
(ècÚ¡ {  
	gbufãr_
.
d©a
(); }

55 
size_t
 
size
(ècÚ¡ {  
	gsize_
; }

58 #ià
defšed
(
__GNUC__
)

59 
__©Œibu‹__
((
__fÜm©__
(
__´štf__
, 2, 3)))

61 
	gSim¶eSŒšgBud”
&

62 
Aµ’dFÜm©
(cÚ¡ * 
fmt
, ...);

66 
	gSim¶eSŒšgBud”
& 
Aµ’d
(cÚ¡ * 
¡r
, 
size_t
 
Ëngth
);

68 
	g´iv©e
:

69 
boŞ
 
IsCÚsi¡’t
() const {

70  
size_
 <ğ
bufãr_
.
size
() - 1 && buffer_[size_] == '\0';

77 cÚ¡ 
	g¹c
::
A¼ayV›w
<> 
bufãr_
;

81 
size_t
 
	gsize_
 = 0;

89 şas 
	cSŒšgBud”
 {

90 
	gpublic
:

91 
SŒšgBud”
() {}

92 
ex¶ic™
 
SŒšgBud”
(
ab¦
::
¡ršg_v›w
 
s
è: 
¡r_
(s) {}

95 
SŒšgBud”
(cÚ¡ SŒšgBud”&èğ
d–‘e
;

96 
	gSŒšgBud”
& 
	gİ”©Ü
=(cÚ¡ 
SŒšgBud”
&èğ
d–‘e
;

98 
	gSŒšgBud”
& 
	gİ”©Ü
<<(cÚ¡ 
	gab¦
::
¡ršg_v›w
 
¡r
) {

99 
¡r_
.
­³nd
(
¡r
.
d©a
(), sŒ.
Ëngth
());

100  *
	gthis
;

103 
	gSŒšgBud”
& 
	gİ”©Ü
<<(
	gc
èğ
d–‘e
;

105 
	gSŒšgBud”
& 
	gİ”©Ü
<<(
	gi
) {

106 
	g¡r_
 +ğ
¹c
::
ToSŒšg
(
i
);

107  *
	gthis
;

110 
	gSŒšgBud”
& 
	gİ”©Ü
<<(
	gi
) {

111 
	g¡r_
 +ğ
¹c
::
ToSŒšg
(
i
);

112  *
	gthis
;

115 
	gSŒšgBud”
& 
	gİ”©Ü
<<(
	gi
) {

116 
	g¡r_
 +ğ
¹c
::
ToSŒšg
(
i
);

117  *
	gthis
;

120 
	gSŒšgBud”
& 
	gİ”©Ü
<<(
	gi
) {

121 
	g¡r_
 +ğ
¹c
::
ToSŒšg
(
i
);

122  *
	gthis
;

125 
	gSŒšgBud”
& 
	gİ”©Ü
<<(
	gi
) {

126 
	g¡r_
 +ğ
¹c
::
ToSŒšg
(
i
);

127  *
	gthis
;

130 
	gSŒšgBud”
& 
	gİ”©Ü
<<(
	gi
) {

131 
	g¡r_
 +ğ
¹c
::
ToSŒšg
(
i
);

132  *
	gthis
;

135 
	gSŒšgBud”
& 
	gİ”©Ü
<<(
	gf
) {

136 
	g¡r_
 +ğ
¹c
::
ToSŒšg
(
f
);

137  *
	gthis
;

140 
	gSŒšgBud”
& 
	gİ”©Ü
<<(
	gf
) {

141 
	g¡r_
 +ğ
¹c
::
ToSŒšg
(
f
);

142  *
	gthis
;

145 
	gSŒšgBud”
& 
	gİ”©Ü
<<(
	gf
) {

146 
	g¡r_
 +ğ
¹c
::
ToSŒšg
(
f
);

147  *
	gthis
;

150 cÚ¡ 
	g¡d
::
¡ršg
& 
¡r
(ècÚ¡ {  
¡r_
; }

152 
CË¬
(è{ 
	g¡r_
.
ş—r
(); }

154 
size_t
 
size
(ècÚ¡ {  
	g¡r_
.size(); }

156 
	g¡d
::
¡ršg
 
R–—£
() {

157 
¡d
::
¡ršg
 
»t
 = std::
move
(
¡r_
);

158 
	g¡r_
.
ş—r
();

159  
	g»t
;

163 
	gSŒšgBud”
& 
Aµ’dFÜm©
(cÚ¡ * 
fmt
, ...)

164 #ià
defšed
(
__GNUC__
)

165 
__©Œibu‹__
((
__fÜm©__
(
__´štf__
, 2, 3)))

169 
	g´iv©e
:

170 
¡d
::
¡ršg
 
¡r_
;

	@strings/string_builder_unittest.cc

11 
	~"¹c_ba£/¡ršgs/¡ršg_bud”.h
"

13 
	~<¡ršg.h
>

15 
	~"¹c_ba£/checks.h
"

16 
	~"‹¡/gmock.h
"

17 
	~"‹¡/g‹¡.h
"

19 
Çme¥aû
 
	g¹c
 {

21 
TEST
(
Sim¶eSŒšgBud”
, 
Lim™
) {

22 
	gsb_buf
[10];

23 
Sim¶eSŒšgBud”
 
sb
(
sb_buf
);

24 
EXPECT_EQ
(0u, 
¡¾’
(
sb
.
¡r
()));

28 
	gsb
 << "012345678";

29 
EXPECT_EQ
(0, 
¡rcmp
(
sb
.
¡r
(), "012345678"));

32 
TEST
(
Sim¶eSŒšgBud”
, 
Numb”sAndCh¬s
) {

33 
	gsb_buf
[100];

34 
Sim¶eSŒšgBud”
 
sb
(
sb_buf
);

35 
	gsb
 << 1 << ':' << 2.1 << ":" << 2.2f << ':' << 78187493520ll << ':'

37 
EXPECT_EQ
(0, 
¡rcmp
(
sb
.
¡r
(), "1:2.1:2.2:78187493520:78187493520"));

40 
TEST
(
Sim¶eSŒšgBud”
, 
FÜm©
) {

41 
	gsb_buf
[100];

42 
Sim¶eSŒšgBud”
 
sb
(
sb_buf
);

43 
	gsb
 << "Here we go - ";

44 
	gsb
.
Aµ’dFÜm©
("This is‡ hex formatted value: 0x%08llx", 3735928559ULL);

45 
EXPECT_EQ
(0,

46 
¡rcmp
(
sb
.
¡r
(),

50 
TEST
(
Sim¶eSŒšgBud”
, 
StdSŒšg
) {

51 
	gsb_buf
[100];

52 
Sim¶eSŒšgBud”
 
sb
(
sb_buf
);

53 
	g¡d
::
¡ršg
 
¡r
 = "doeshis work?";

54 
	gsb
 << 
	g¡r
;

55 
EXPECT_EQ
(
¡r
, 
sb
.str());

60 #ià(
GTEST_HAS_DEATH_TEST
 && !
defšed
(
WEBRTC_ANDROID
)è|| !
RTC_DCHECK_IS_ON


62 
TEST
(
Sim¶eSŒšgBud”
, 
BufãrOv”runCÚ¡Ch¬P
) {

63 
	gsb_buf
[4];

64 
Sim¶eSŒšgBud”
 
sb
(
sb_buf
);

65 cÚ¡ * cÚ¡ 
	gmsg
 = "This is justoo much";

66 #ià
RTC_DCHECK_IS_ON


67 
EXPECT_DEATH
(
sb
 << 
msg
, "");

69 
	gsb
 << 
	gmsg
;

70 
EXPECT_THAT
(
sb
.
¡r
(), ::
‹¡šg
::
SŒEq
("Thi"));

74 
TEST
(
Sim¶eSŒšgBud”
, 
BufãrOv”runStdSŒšg
) {

75 
	gsb_buf
[4];

76 
Sim¶eSŒšgBud”
 
sb
(
sb_buf
);

77 
	gsb
 << 12;

78 cÚ¡ 
	g¡d
::
¡ršg
 
msg
 = "Aw, come on!";

79 #ià
RTC_DCHECK_IS_ON


80 
EXPECT_DEATH
(
sb
 << 
msg
, "");

82 
	gsb
 << 
	gmsg
;

83 
EXPECT_THAT
(
sb
.
¡r
(), ::
‹¡šg
::
SŒEq
("12A"));

87 
TEST
(
Sim¶eSŒšgBud”
, 
BufãrOv”runIÁ
) {

88 
	gsb_buf
[4];

89 
Sim¶eSŒšgBud”
 
sb
(
sb_buf
);

90 
cÚ¡ex´
 
	gnum
 = -12345;

91 #ià
RTC_DCHECK_IS_ON


92 
EXPECT_DEATH
(
sb
 << 
num
, "");

94 
	gsb
 << 
	gnum
;

98 
EXPECT_THAT
(
sb
.
¡r
(),

99 ::
‹¡šg
::
AnyOf
(::‹¡šg::
SŒEq
(""), ::testing::StrEq("-12")));

103 
TEST
(
Sim¶eSŒšgBud”
, 
BufãrOv”runDoubË
) {

104 
	gsb_buf
[5];

105 
Sim¶eSŒšgBud”
 
sb
(
sb_buf
);

106 
cÚ¡ex´
 
	gnum
 = 123.456;

107 #ià
RTC_DCHECK_IS_ON


108 
EXPECT_DEATH
(
sb
 << 
num
, "");

110 
	gsb
 << 
	gnum
;

111 
EXPECT_THAT
(
sb
.
¡r
(),

112 ::
‹¡šg
::
AnyOf
(::‹¡šg::
SŒEq
(""), ::testing::StrEq("123.")));

116 
TEST
(
Sim¶eSŒšgBud”
, 
BufãrOv”runCÚ¡Ch¬PAÌ—dyFuÎ
) {

117 
	gsb_buf
[4];

118 
Sim¶eSŒšgBud”
 
sb
(
sb_buf
);

119 
	gsb
 << 123;

120 cÚ¡ * cÚ¡ 
	gmsg
 = "This is justoo much";

121 #ià
RTC_DCHECK_IS_ON


122 
EXPECT_DEATH
(
sb
 << 
msg
, "");

124 
	gsb
 << 
	gmsg
;

125 
EXPECT_THAT
(
sb
.
¡r
(), ::
‹¡šg
::
SŒEq
("123"));

129 
TEST
(
Sim¶eSŒšgBud”
, 
BufãrOv”runIÁAÌ—dyFuÎ
) {

130 
	gsb_buf
[4];

131 
Sim¶eSŒšgBud”
 
sb
(
sb_buf
);

132 
	gsb
 << "xyz";

133 
cÚ¡ex´
 
	gnum
 = -12345;

134 #ià
RTC_DCHECK_IS_ON


135 
EXPECT_DEATH
(
sb
 << 
num
, "");

137 
	gsb
 << 
	gnum
;

138 
EXPECT_THAT
(
sb
.
¡r
(), ::
‹¡šg
::
SŒEq
("xyz"));

147 
TEST
(
SŒšgBud”
, 
Lim™
) {

148 
SŒšgBud”
 
	gsb
;

149 
EXPECT_EQ
(0u, 
sb
.
¡r
().
size
());

151 
	gsb
 << "012345678";

152 
EXPECT_EQ
(
sb
.
¡r
(), "012345678");

155 
TEST
(
SŒšgBud”
, 
Numb”sAndCh¬s
) {

156 
SŒšgBud”
 
	gsb
;

157 
	gsb
 << 1 << ":" << 2.1 << ":" << 2.2f << ":" << 78187493520ll << ":"

159 
EXPECT_THAT
(
sb
.
¡r
(),

160 ::
‹¡šg
::
M©chesRegex
("1:2.10*:2.20*:78187493520:78187493520"));

163 
TEST
(
SŒšgBud”
, 
FÜm©
) {

164 
SŒšgBud”
 
	gsb
;

165 
	gsb
 << "Here we go - ";

166 
	gsb
.
Aµ’dFÜm©
("This is‡ hex formatted value: 0x%08llx", 3735928559ULL);

167 
EXPECT_EQ
(
sb
.
¡r
(), "Here we go - This is‡ hex formatted value: 0xdeadbeef");

170 
TEST
(
SŒšgBud”
, 
StdSŒšg
) {

171 
SŒšgBud”
 
	gsb
;

172 
	g¡d
::
¡ršg
 
¡r
 = "doeshis work?";

173 
	gsb
 << 
	g¡r
;

174 
EXPECT_EQ
(
¡r
, 
sb
.str());

177 
TEST
(
SŒšgBud”
, 
R–—£
) {

178 
SŒšgBud”
 
	gsb
;

179 
	g¡d
::
¡ršg
 
¡r
 =

182 
EXPECT_LT
((
¡r
), sŒ.
size
());

183 
	gsb
 << 
	g¡r
;

184 
EXPECT_EQ
(
¡r
, 
sb
.str());

185 cÚ¡ * 
	gÜigš®_bufãr
 = 
sb
.
¡r
().
c_¡r
();

186 
	g¡d
::
¡ršg
 
moved
 = 
sb
.
R–—£
();

187 
EXPECT_TRUE
(
sb
.
¡r
().
em±y
());

188 
EXPECT_EQ
(
¡r
, 
moved
);

189 
EXPECT_EQ
(
Üigš®_bufãr
, 
moved
.
c_¡r
());

192 
TEST
(
SŒšgBud”
, 
Re£t
) {

193 
SŒšgBud”
 
sb
("abc");

194 
	gsb
 << "def";

195 
EXPECT_EQ
("abcdef", 
sb
.
¡r
());

196 
	gsb
.
CË¬
();

197 
EXPECT_TRUE
(
sb
.
¡r
().
em±y
());

198 
	gsb
 << 123 << "!";

199 
EXPECT_EQ
("123!", 
sb
.
¡r
());

	@strings/string_format.cc

11 
	~<c¡d¬g
>

13 
	~"¹c_ba£/¡ršgs/¡ršg_fÜm©.h
"

15 
	~"¹c_ba£/checks.h
"

17 
Çme¥aû
 
	g¹c
 {

19 
	gÇme¥aû
 {

24 
cÚ¡ex´
 
	gkMaxSize
 = 512;

28 
	g¡d
::
¡ršg
 
SŒšgFÜm©
(cÚ¡ * 
fmt
, ...) {

29 
	gbufãr
[
kMaxSize
];

30 
va_li¡
 
	g¬gs
;

31 
va_¡¬t
(
¬gs
, 
fmt
);

32 
	g»suÉ
 = 
v¢´štf
(
bufãr
, 
kMaxSize
, 
fmt
, 
¬gs
);

33 
va_’d
(
¬gs
);

34 
RTC_DCHECK_GE
(
»suÉ
, 0è<< "ERROR: v¢´štf(èçed w™hƒ¼Ü " << 
	g»suÉ
;

35 
RTC_DCHECK_LT
(
»suÉ
, 
kMaxSize
)

36 << "WARNING: sŒšg wa Œunÿ‹d from " << 
	g»suÉ
 << "o "

37 << (
	gkMaxSize
 - 1) << " characters";

38  
	g¡d
::
¡ršg
(
bufãr
);

	@strings/string_format.h

11 #iâdeà
RTC_BASE_STRINGS_STRING_FORMAT_H_


12 
	#RTC_BASE_STRINGS_STRING_FORMAT_H_


	)

14 
	~<¡ršg
>

16 
Çme¥aû
 
	g¹c
 {

18 #ià
defšed
(
__GNUC__
)

19 
	#RTC_PRINTF_FORMAT
(
fÜm©_·¿m
, 
dÙs_·¿m
) \

20 
	`__©Œibu‹__
((
	`fÜm©
(
´štf
, 
fÜm©_·¿m
, 
dÙs_·¿m
)))

	)

22 
	#RTC_PRINTF_FORMAT
(
fÜm©_·¿m
, 
dÙs_·¿m
)

	)

28 
	g¡d
::
¡ršg
 
SŒšgFÜm©
(cÚ¡ * 
fmt
, ...è
RTC_PRINTF_FORMAT
(1, 2);

	@strings/string_format_unittest.cc

11 
	~"¹c_ba£/¡ršgs/¡ršg_fÜm©.h
"

13 
	~"¹c_ba£/checks.h
"

14 
	~"‹¡/g‹¡.h
"

16 
Çme¥aû
 
	g¹c
 {

18 
TEST
(
SŒšgFÜm©Te¡
, 
Em±y
) {

19 
EXPECT_EQ
("", 
SŒšgFÜm©
("%s", ""));

22 
TEST
(
SŒšgFÜm©Te¡
, 
Misc
) {

23 
EXPECT_EQ
("123h–lØw", 
SŒšgFÜm©
("%3d%2s %1c", 123, "hello", 'w'));

24 
EXPECT_EQ
("3 =h»e", 
SŒšgFÜm©
("%d = %s", 1 + 2, "three"));

27 
TEST
(
SŒšgFÜm©Te¡
, 
MaxSizeShouldWÜk
) {

28 cÚ¡ 
	gkSrcL’
 = 512;

29 
	g¡r
[
kSrcL’
];

30 
	g¡d
::
fl_n
(
¡r
, 
kSrcL’
, 'A');

31 
	g¡r
[
kSrcL’
 - 1] = 0;

32 
EXPECT_EQ
(
¡r
, 
SŒšgFÜm©
("%s", str));

	@swap_queue.h

11 #iâdeà
RTC_BASE_SWAP_QUEUE_H_


12 
	#RTC_BASE_SWAP_QUEUE_H_


	)

14 
	~<¡ddef.h
>

16 
	~<©omic
>

17 
	~<ut™y
>

18 
	~<veùÜ
>

20 
	~"¹c_ba£/checks.h
"

21 
	~"¹c_ba£/sy¡em/unu£d.h
"

23 
Çme¥aû
 
	gweb¹c
 {

25 
Çme¥aû
 
	gš‹º®
 {

28 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

29 
boŞ
 
NoİSw­QueueI‹mV”if›rFunùiÚ
(cÚ¡ 
T
&) {

30  
	gŒue
;

36 
	g‹m¶©e
 <
ty³Çme
 
	gT
,

37 
boŞ
 (*
QueueI‹mV”if›rFunùiÚ
)(cÚ¡ 
	gT
&) =

38 
š‹º®
::
NoİSw­QueueI‹mV”if›rFunùiÚ
>

39 şas 
	cSw­QueueI‹mV”if›r
 {

40 
public
:

41 
boŞ
 
İ”©Ü
()(cÚ¡ 
T
& 
t
ècÚ¡ {  
QueueI‹mV”if›rFunùiÚ
(t); }

81 
	g‹m¶©e
 <
ty³Çme
 
	gT
,y³Çm
	gQueueI‹mV”if›r
 = 
Sw­QueueI‹mV”if›r
<
T
>>

82 şas 
	cSw­Queue
 {

83 
public
:

85 
ex¶ic™
 
Sw­Queue
(
size_t
 
size
è: 
queue_
(size) {

86 
RTC_DCHECK
(
V”ifyQueueSlÙs
());

90 
Sw­Queue
(
size_t
 
size
, cÚ¡ 
QueueI‹mV”if›r
& 
queue_™em_v”if›r
)

91 : 
queue_™em_v”if›r_
(
queue_™em_v”if›r
), 
queue_
(
size
) {

92 
RTC_DCHECK
(
V”ifyQueueSlÙs
());

96 
Sw­Queue
(
size_t
 
size
, cÚ¡ 
T
& 
´ÙÙy³
è: 
queue_
(size,…rototype) {

97 
RTC_DCHECK
(
V”ifyQueueSlÙs
());

101 
Sw­Queue
(
size_t
 
size
,

102 cÚ¡ 
T
& 
´ÙÙy³
,

103 cÚ¡ 
QueueI‹mV”if›r
& 
queue_™em_v”if›r
)

104 : 
queue_™em_v”if›r_
(
queue_™em_v”if›r
), 
queue_
(
size
, 
´ÙÙy³
) {

105 
RTC_DCHECK
(
V”ifyQueueSlÙs
());

111 
CË¬
() {

115 
	gÃxt_»ad_šdex_
 +ğ
¡d
::
©omic_exchªge_ex¶ic™
(

116 &
num_–em’ts_
, 
size_t
{0}, 
¡d
::
memÜy_Üd”_»Ïxed
);

117 ià(
	gÃxt_»ad_šdex_
 >ğ
queue_
.
size
()) {

118 
Ãxt_»ad_šdex_
 -ğ
queue_
.
size
();

121 
RTC_DCHECK_LT
(
Ãxt_»ad_šdex_
, 
queue_
.
size
());

130 
boŞ
 
In£¹
(
T
* 
šput
è
	gRTC_WARN_UNUSED_RESULT
 {

131 
RTC_DCHECK
(
šput
);

133 
RTC_DCHECK
(
queue_™em_v”if›r_
(*
šput
));

139 ià(
	g¡d
::
©omic_lßd_ex¶ic™
(&
num_–em’ts_
, 
¡d
::
memÜy_Üd”_acquœe
) ==

140 
queue_
.
size
()) {

141  
çl£
;

144 
	g¡d
::
sw­
(*
šput
, 
queue_
[
Ãxt_wr™e_šdex_
]);

150 cÚ¡ 
size_t
 
	gŞd_num_–em’ts
 = 
¡d
::
©omic_ãtch_add_ex¶ic™
(

151 &
num_–em’ts_
, 
size_t
{1}, 
¡d
::
memÜy_Üd”_»Ëa£
);

153 ++
	gÃxt_wr™e_šdex_
;

154 ià(
	gÃxt_wr™e_šdex_
 =ğ
queue_
.
size
()) {

155 
Ãxt_wr™e_šdex_
 = 0;

158 
RTC_DCHECK_LT
(
Ãxt_wr™e_šdex_
, 
queue_
.
size
());

159 
RTC_DCHECK_LT
(
Şd_num_–em’ts
, 
queue_
.
size
());

161  
	gŒue
;

170 
boŞ
 
Remove
(
T
* 
ouut
è
	gRTC_WARN_UNUSED_RESULT
 {

171 
RTC_DCHECK
(
ouut
);

173 
RTC_DCHECK
(
queue_™em_v”if›r_
(*
ouut
));

179 ià(
	g¡d
::
©omic_lßd_ex¶ic™
(&
num_–em’ts_
, 
¡d
::
memÜy_Üd”_acquœe
) ==

181  
çl£
;

184 
	g¡d
::
sw­
(*
ouut
, 
queue_
[
Ãxt_»ad_šdex_
]);

190 
	g¡d
::
©omic_ãtch_sub_ex¶ic™
(&
num_–em’ts_
, 
size_t
{1},

191 
¡d
::
memÜy_Üd”_»Ëa£
);

193 ++
	gÃxt_»ad_šdex_
;

194 ià(
	gÃxt_»ad_šdex_
 =ğ
queue_
.
size
()) {

195 
Ãxt_»ad_šdex_
 = 0;

198 
RTC_DCHECK_LT
(
Ãxt_»ad_šdex_
, 
queue_
.
size
());

200  
	gŒue
;

207 
size_t
 
SizeAtL—¡
() const {

210  
	g¡d
::
©omic_lßd_ex¶ic™
(&
num_–em’ts_
, 
¡d
::
memÜy_Üd”_acquœe
);

213 
	g´iv©e
:

216 
boŞ
 
V”ifyQueueSlÙs
() {

217 cÚ¡‡uto& 
v
 : 
queue_
) {

218 
RTC_DCHECK
(
queue_™em_v”if›r_
(
v
));

220  
	gŒue
;

225 
QueueI‹mV”if›r
 
	gqueue_™em_v”if›r_
;

228 
size_t
 
	gÃxt_wr™e_šdex_
 = 0;

231 
size_t
 
	gÃxt_»ad_šdex_
 = 0;

235 
	g¡d
::
©omic
<
size_t
> 
num_–em’ts_
{0};

239 
	g¡d
::
veùÜ
<
T
> 
queue_
;

241 
Sw­Queue
(cÚ¡ Sw­Queue&èğ
d–‘e
;

242 
	gSw­Queue
& 
	gİ”©Ü
=(cÚ¡ 
Sw­Queue
&èğ
d–‘e
;

	@swap_queue_unittest.cc

11 
	~"¹c_ba£/sw­_queue.h
"

13 
	~<c¡dšt
>

14 
	~<veùÜ
>

16 
	~"‹¡/g‹¡.h
"

18 
Çme¥aû
 
	gweb¹c
 {

20 
	gÇme¥aû
 {

23 cÚ¡ 
size_t
 
	gkChunkSize
 = 3;

26 
boŞ
 
L’gthV”if›rFunùiÚ
(cÚ¡ 
¡d
::
veùÜ
<>& 
v
) {

27  
v
.
size
(è=ğ
kChunkSize
;

31 şas 
	cL’gthV”if›rFunùÜ
 {

32 
	gpublic
:

33 
ex¶ic™
 
L’gthV”if›rFunùÜ
(
size_t
 
Ëngth
è: 
Ëngth_
(length) {}

35 
boŞ
 
İ”©Ü
()(cÚ¡ 
¡d
::
veùÜ
<>& 
v
) const {

36  
v
.
size
(è=ğ
Ëngth_
;

39 
	g´iv©e
:

40 
size_t
 
Ëngth_
;

45 
	$TEST
(
Sw­QueueTe¡
, 
BasicO³¿tiÚ
) {

46 
¡d
::
veùÜ
<> 
	`i
(
kChunkSize
, 0);

47 
Sw­Queue
<
¡d
::
veùÜ
<>> 
	`queue
(2, 
i
);

49 
	`EXPECT_TRUE
(
queue
.
	`In£¹
(&
i
));

50 
	`EXPECT_EQ
(
i
.
	`size
(), 
kChunkSize
);

51 
	`EXPECT_TRUE
(
queue
.
	`In£¹
(&
i
));

52 
	`EXPECT_EQ
(
i
.
	`size
(), 
kChunkSize
);

53 
	`EXPECT_TRUE
(
queue
.
	`Remove
(&
i
));

54 
	`EXPECT_EQ
(
i
.
	`size
(), 
kChunkSize
);

55 
	`EXPECT_TRUE
(
queue
.
	`Remove
(&
i
));

56 
	`EXPECT_EQ
(
i
.
	`size
(), 
kChunkSize
);

57 
	}
}

59 
	$TEST
(
Sw­QueueTe¡
, 
FuÎQueue
) {

60 
Sw­Queue
<> 
	`queue
(2);

63 
i
 = 0;

64 
	`EXPECT_TRUE
(
queue
.
	`In£¹
(&
i
));

65 
i
 = 1;

66 
	`EXPECT_TRUE
(
queue
.
	`In£¹
(&
i
));

70 
i
 = 2;

71 
	`EXPECT_FALSE
(
queue
.
	`In£¹
(&
i
));

72 
	`EXPECT_EQ
(
i
, 2);

75 
	`EXPECT_TRUE
(
queue
.
	`Remove
(&
i
));

76 
	`EXPECT_EQ
(
i
, 0);

77 
	`EXPECT_TRUE
(
queue
.
	`Remove
(&
i
));

78 
	`EXPECT_EQ
(
i
, 1);

79 
	}
}

81 
	$TEST
(
Sw­QueueTe¡
, 
Em±yQueue
) {

82 
Sw­Queue
<> 
	`queue
(2);

83 
i
 = 0;

84 
	`EXPECT_FALSE
(
queue
.
	`Remove
(&
i
));

85 
	`EXPECT_TRUE
(
queue
.
	`In£¹
(&
i
));

86 
	`EXPECT_TRUE
(
queue
.
	`Remove
(&
i
));

87 
	`EXPECT_FALSE
(
queue
.
	`Remove
(&
i
));

88 
	}
}

90 
	$TEST
(
Sw­QueueTe¡
, 
CË¬
) {

91 
Sw­Queue
<> 
	`queue
(2);

92 
i
 = 0;

95 
	`EXPECT_TRUE
(
queue
.
	`In£¹
(&
i
));

96 
	`EXPECT_TRUE
(
queue
.
	`In£¹
(&
i
));

99 
	`EXPECT_FALSE
(
queue
.
	`In£¹
(&
i
));

102 
queue
.
	`CË¬
();

105 
	`EXPECT_FALSE
(
queue
.
	`Remove
(&
i
));

108 
	`EXPECT_TRUE
(
queue
.
	`In£¹
(&
i
));

109 
	}
}

111 
	$TEST
(
Sw­QueueTe¡
, 
SucûssfulI‹mV”ifyFunùiÚ
) {

112 
¡d
::
veùÜ
<> 
	`‹m¶©e_–em’t
(
kChunkSize
);

113 
Sw­Queue
<
¡d
::
veùÜ
<>,

114 
Sw­QueueI‹mV”if›r
<
¡d
::
veùÜ
<>, 
L’gthV”if›rFunùiÚ
>>

115 
	`queue
(2, 
‹m¶©e_–em’t
);

116 
¡d
::
veùÜ
<> 
	`v®id_chunk
(
kChunkSize
, 0);

118 
	`EXPECT_TRUE
(
queue
.
	`In£¹
(&
v®id_chunk
));

119 
	`EXPECT_EQ
(
v®id_chunk
.
	`size
(), 
kChunkSize
);

120 
	`EXPECT_TRUE
(
queue
.
	`Remove
(&
v®id_chunk
));

121 
	`EXPECT_EQ
(
v®id_chunk
.
	`size
(), 
kChunkSize
);

122 
	}
}

124 
	$TEST
(
Sw­QueueTe¡
, 
SucûssfulI‹mV”ifyFunùÜ
) {

125 
¡d
::
veùÜ
<> 
	`‹m¶©e_–em’t
(
kChunkSize
);

126 
L’gthV”if›rFunùÜ
 
	`v”if›r
(
kChunkSize
);

127 
Sw­Queue
<
¡d
::
veùÜ
<>, 
L’gthV”if›rFunùÜ
> 
	`queue
(2, 
‹m¶©e_–em’t
,

128 
v”if›r
);

129 
¡d
::
veùÜ
<> 
	`v®id_chunk
(
kChunkSize
, 0);

131 
	`EXPECT_TRUE
(
queue
.
	`In£¹
(&
v®id_chunk
));

132 
	`EXPECT_EQ
(
v®id_chunk
.
	`size
(), 
kChunkSize
);

133 
	`EXPECT_TRUE
(
queue
.
	`Remove
(&
v®id_chunk
));

134 
	`EXPECT_EQ
(
v®id_chunk
.
	`size
(), 
kChunkSize
);

135 
	}
}

137 #ià
RTC_DCHECK_IS_ON
 && 
GTEST_HAS_DEATH_TEST
 && !
	$defšed
(
WEBRTC_ANDROID
)

138 
	$TEST
(
Sw­QueueTe¡
, 
UnsucûssfulI‹mV”ifyFunùÜ
) {

140 autØ
mšus_2_v”if›r
 = [](cÚ¡ & 
i
) {  i > -2; };

141 
Sw­Queue
<, 
	`deşty³
(
mšus_2_v”if›r
)> 
	`queue
(2, minus_2_verifier);

143 
v®id_v®ue
 = 1;

144 
šv®id_v®ue
 = -4;

145 
	`EXPECT_TRUE
(
queue
.
	`In£¹
(&
v®id_v®ue
));

146 
	`EXPECT_TRUE
(
queue
.
	`Remove
(&
v®id_v®ue
));

147 
boŞ
 
»suÉ
;

148 
	`EXPECT_DEATH
(
»suÉ
 = 
queue
.
	`In£¹
(&
šv®id_v®ue
), "");

149 
	}
}

151 
	$TEST
(
Sw­QueueTe¡
, 
UnSucûssfulI‹mV”ifyIn£¹
) {

152 
¡d
::
veùÜ
<> 
	`‹m¶©e_–em’t
(
kChunkSize
);

153 
Sw­Queue
<
¡d
::
veùÜ
<>,

154 
Sw­QueueI‹mV”if›r
<
¡d
::
veùÜ
<>, &
L’gthV”if›rFunùiÚ
>>

155 
	`queue
(2, 
‹m¶©e_–em’t
);

156 
¡d
::
veùÜ
<> 
	`šv®id_chunk
(
kChunkSize
 - 1, 0);

157 
boŞ
 
»suÉ
;

158 
	`EXPECT_DEATH
(
»suÉ
 = 
queue
.
	`In£¹
(&
šv®id_chunk
), "");

159 
	}
}

161 
	$TEST
(
Sw­QueueTe¡
, 
UnSucûssfulI‹mV”ifyRemove
) {

162 
¡d
::
veùÜ
<> 
	`‹m¶©e_–em’t
(
kChunkSize
);

163 
Sw­Queue
<
¡d
::
veùÜ
<>,

164 
Sw­QueueI‹mV”if›r
<
¡d
::
veùÜ
<>, &
L’gthV”if›rFunùiÚ
>>

165 
	`queue
(2, 
‹m¶©e_–em’t
);

166 
¡d
::
veùÜ
<> 
	`šv®id_chunk
(
kChunkSize
 - 1, 0);

167 
¡d
::
veùÜ
<> 
	`v®id_chunk
(
kChunkSize
, 0);

168 
	`EXPECT_TRUE
(
queue
.
	`In£¹
(&
v®id_chunk
));

169 
	`EXPECT_EQ
(
v®id_chunk
.
	`size
(), 
kChunkSize
);

170 
boŞ
 
»suÉ
;

171 
	`EXPECT_DEATH
(
»suÉ
 = 
queue
.
	`Remove
(&
šv®id_chunk
), "");

172 
	}
}

175 
	$TEST
(
Sw­QueueTe¡
, 
VeùÜCÚ‹ÁTe¡
) {

176 cÚ¡ 
size_t
 
kQueueSize
 = 10;

177 cÚ¡ 
size_t
 
kF¿meL’gth
 = 160;

178 cÚ¡ 
size_t
 
kD©aL’gth
 = 
kQueueSize
 * 
kF¿meL’gth
;

179 
¡d
::
veùÜ
<
št16_t
> 
	`bufãr_»ad”
(
kF¿meL’gth
, 0);

180 
¡d
::
veùÜ
<
št16_t
> 
	`bufãr_wr™”
(
kF¿meL’gth
, 0);

181 
Sw­Queue
<
¡d
::
veùÜ
<
št16_t
>> 
	`queue
(
kQueueSize
,

182 
¡d
::
veùÜ
<
št16_t
>(
kF¿meL’gth
));

183 
¡d
::
veùÜ
<
št16_t
> 
	`§m¶es
(
kD©aL’gth
);

185 
size_t
 
k
 = 0; k < 
kD©aL’gth
; k++) {

186 
§m¶es
[
k
] = k % 9;

189 
size_t
 
k
 = 0; k < 
kQueueSize
; k++) {

190 
bufãr_wr™”
.
	`ş—r
();

191 
bufãr_wr™”
.
	`š£¹
(bufãr_wr™”.
	`’d
(), &
§m¶es
[0] + 
k
 * 
kF¿meL’gth
,

192 &
§m¶es
[0] + (
k
 + 1è* 
kF¿meL’gth
);

194 
	`EXPECT_TRUE
(
queue
.
	`In£¹
(&
bufãr_wr™”
));

197 
size_t
 
k
 = 0; k < 
kQueueSize
; k++) {

198 
	`EXPECT_TRUE
(
queue
.
	`Remove
(&
bufãr_»ad”
));

200 
size_t
 
j
 = 0; j < 
bufãr_»ad”
.
	`size
(); j++) {

201 
	`EXPECT_EQ
(
bufãr_»ad”
[
j
], 
§m¶es
[
k
 * 
kF¿meL’gth
 + j]);

204 
	}
}

206 
	$TEST
(
Sw­QueueTe¡
, 
Z”oSlÙQueue
) {

207 
Sw­Queue
<> 
	`queue
(0);

208 
i
 = 42;

209 
	`EXPECT_FALSE
(
queue
.
	`In£¹
(&
i
));

210 
	`EXPECT_FALSE
(
queue
.
	`Remove
(&
i
));

211 
	`EXPECT_EQ
(
i
, 42);

212 
	}
}

214 
	$TEST
(
Sw­QueueTe¡
, 
OÃSlÙQueue
) {

215 
Sw­Queue
<> 
	`queue
(1);

216 
i
 = 42;

217 
	`EXPECT_TRUE
(
queue
.
	`In£¹
(&
i
));

218 
i
 = 43;

219 
	`EXPECT_FALSE
(
queue
.
	`In£¹
(&
i
));

220 
	`EXPECT_EQ
(
i
, 43);

221 
	`EXPECT_TRUE
(
queue
.
	`Remove
(&
i
));

222 
	`EXPECT_EQ
(
i
, 42);

223 
	`EXPECT_FALSE
(
queue
.
	`Remove
(&
i
));

224 
	}
}

	@synchronization/rw_lock_posix.cc

11 
	~"¹c_ba£/synchrÚiz©iÚ/rw_lock_posix.h
"

13 
	~<¡ddef.h
>

15 
Çme¥aû
 
	gweb¹c
 {

17 
	gRWLockPosix
::
RWLockPosix
(è: 
lock_
() {}

19 
RWLockPosix
::~RWLockPosix() {

20 
±h»ad_rwlock_de¡roy
(&
lock_
);

23 
RWLockPosix
* 
	gRWLockPosix
::
C»©e
() {

24 
RWLockPosix
* 
»t_v®
 = 
Ãw
 RWLockPosix();

25 ià(!
	g»t_v®
->
In™
()) {

26 
d–‘e
 
	g»t_v®
;

27  
	gNULL
;

29  
	g»t_v®
;

32 
boŞ
 
	gRWLockPosix
::
In™
() {

33  
±h»ad_rwlock_š™
(&
lock_
, 0) == 0;

36 
	gRWLockPosix
::
AcquœeLockExşusive
() {

37 
±h»ad_rwlock_w¾ock
(&
lock_
);

40 
	gRWLockPosix
::
R–—£LockExşusive
() {

41 
±h»ad_rwlock_uÆock
(&
lock_
);

44 
	gRWLockPosix
::
AcquœeLockSh¬ed
() {

45 
±h»ad_rwlock_rdlock
(&
lock_
);

48 
	gRWLockPosix
::
R–—£LockSh¬ed
() {

49 
±h»ad_rwlock_uÆock
(&
lock_
);

	@synchronization/rw_lock_posix.h

11 #iâdeà
RTC_BASE_SYNCHRONIZATION_RW_LOCK_POSIX_H_


12 
	#RTC_BASE_SYNCHRONIZATION_RW_LOCK_POSIX_H_


	)

14 
	~<±h»ad.h
>

16 
	~"¹c_ba£/synchrÚiz©iÚ/rw_lock_w¿µ”.h
"

18 
Çme¥aû
 
	gweb¹c
 {

20 şas 
	cRWLockPosix
 : 
public
 
RWLockW¿µ”
 {

21 
public
:

22 
RWLockPosix
* 
C»©e
();

23 ~
RWLockPosix
(è
	gov”ride
;

25 
AcquœeLockExşusive
(è
	gov”ride
;

26 
R–—£LockExşusive
(è
	gov”ride
;

28 
AcquœeLockSh¬ed
(è
	gov”ride
;

29 
R–—£LockSh¬ed
(è
	gov”ride
;

31 
	g´iv©e
:

32 
RWLockPosix
();

33 
boŞ
 
In™
();

35 
±h»ad_rwlock_t
 
	glock_
;

	@synchronization/rw_lock_win.cc

11 
	~"¹c_ba£/synchrÚiz©iÚ/rw_lock_wš.h
"

13 
	~"¹c_ba£/loggšg.h
"

15 
Çme¥aû
 
	gweb¹c
 {

17 
	gRWLockWš
::
RWLockWš
() {

18 
In™ŸlizeSRWLock
(&
lock_
);

21 
RWLockWš
* 
	gRWLockWš
::
C»©e
() {

22  
Ãw
 
RWLockWš
();

25 
	gRWLockWš
::
AcquœeLockExşusive
() {

26 
AcquœeSRWLockExşusive
(&
lock_
);

29 
	gRWLockWš
::
R–—£LockExşusive
() {

30 
R–—£SRWLockExşusive
(&
lock_
);

33 
	gRWLockWš
::
AcquœeLockSh¬ed
() {

34 
AcquœeSRWLockSh¬ed
(&
lock_
);

37 
	gRWLockWš
::
R–—£LockSh¬ed
() {

38 
R–—£SRWLockSh¬ed
(&
lock_
);

	@synchronization/rw_lock_win.h

11 #iâdeà
RTC_BASE_SYNCHRONIZATION_RW_LOCK_WIN_H_


12 
	#RTC_BASE_SYNCHRONIZATION_RW_LOCK_WIN_H_


	)

14 
	~<Wšdows.h
>

16 
	~"¹c_ba£/synchrÚiz©iÚ/rw_lock_w¿µ”.h
"

18 
Çme¥aû
 
	gweb¹c
 {

20 şas 
	cRWLockWš
 : 
public
 
RWLockW¿µ”
 {

21 
public
:

22 
RWLockWš
* 
C»©e
();

24 
AcquœeLockExşusive
(è
	gov”ride
;

25 
R–—£LockExşusive
(è
	gov”ride
;

27 
AcquœeLockSh¬ed
(è
	gov”ride
;

28 
R–—£LockSh¬ed
(è
	gov”ride
;

30 
	g´iv©e
:

31 
RWLockWš
();

33 
SRWLOCK
 
	glock_
;

	@synchronization/rw_lock_wrapper.cc

11 
	~"¹c_ba£/synchrÚiz©iÚ/rw_lock_w¿µ”.h
"

13 #ià
defšed
(
_WIN32
)

14 
	~"¹c_ba£/synchrÚiz©iÚ/rw_lock_wš.h
"

16 
	~"¹c_ba£/synchrÚiz©iÚ/rw_lock_posix.h
"

19 
Çme¥aû
 
	gweb¹c
 {

21 
RWLockW¿µ”
* 
	gRWLockW¿µ”
::
C»©eRWLock
() {

22 #ifdeà
_WIN32


23  
RWLockWš
::
C»©e
();

25  
	gRWLockPosix
::
C»©e
();

	@synchronization/rw_lock_wrapper.h

11 #iâdeà
RTC_BASE_SYNCHRONIZATION_RW_LOCK_WRAPPER_H_


12 
	#RTC_BASE_SYNCHRONIZATION_RW_LOCK_WRAPPER_H_


	)

14 
	~"¹c_ba£/th»ad_ªnÙ©iÚs.h
"

20 
Çme¥aû
 
	gweb¹c
 {

22 şas 
	cRTC_LOCKABLE
 
	gRWLockW¿µ”
 {

23 
	gpublic
:

24 
RWLockW¿µ”
* 
C»©eRWLock
();

25 
	gvœtu®
 ~
RWLockW¿µ”
() {}

27 
vœtu®
 
AcquœeLockExşusive
(è
RTC_EXCLUSIVE_LOCK_FUNCTION
() = 0;

28 
vœtu®
 
R–—£LockExşusive
(è
RTC_UNLOCK_FUNCTION
() = 0;

30 
vœtu®
 
AcquœeLockSh¬ed
(è
RTC_SHARED_LOCK_FUNCTION
() = 0;

31 
vœtu®
 
R–—£LockSh¬ed
(è
RTC_UNLOCK_FUNCTION
() = 0;

36 şas 
	cRTC_SCOPED_LOCKABLE
 
	gR—dLockScİed
 {

37 
	gpublic
:

38 
ex¶ic™
 
R—dLockScİed
(
RWLockW¿µ”
& 
rw_lock
)

39 
RTC_SHARED_LOCK_FUNCTION
(
rw_lock
)

40 : 
rw_lock_
(
rw_lock
) {

41 
rw_lock_
.
AcquœeLockSh¬ed
();

44 ~
R—dLockScİed
(è
RTC_UNLOCK_FUNCTION
(è{ 
	grw_lock_
.
R–—£LockSh¬ed
(); }

46 
	g´iv©e
:

47 
RWLockW¿µ”
& 
rw_lock_
;

50 şas 
	cRTC_SCOPED_LOCKABLE
 
	gWr™eLockScİed
 {

51 
	gpublic
:

52 
ex¶ic™
 
Wr™eLockScİed
(
RWLockW¿µ”
& 
rw_lock
)

53 
RTC_EXCLUSIVE_LOCK_FUNCTION
(
rw_lock
)

54 : 
rw_lock_
(
rw_lock
) {

55 
rw_lock_
.
AcquœeLockExşusive
();

58 ~
Wr™eLockScİed
(è
RTC_UNLOCK_FUNCTION
(è{ 
	grw_lock_
.
R–—£LockExşusive
(); }

60 
	g´iv©e
:

61 
RWLockW¿µ”
& 
rw_lock_
;

	@synchronization/sequence_checker.cc

10 
	~"¹c_ba£/synchrÚiz©iÚ/£qu’û_check”.h
"

12 #ià
defšed
(
WEBRTC_MAC
)

13 
	~<di¥©ch/di¥©ch.h
>

16 
Çme¥aû
 
	gweb¹c
 {

17 
	gÇme¥aû
 {

20 cÚ¡ * 
G‘Sy¡emQueueRef
() {

21 #ià
defšed
(
WEBRTC_MAC
)

22  
di¥©ch_queue_g‘_Ïb–
(
DISPATCH_CURRENT_QUEUE_LABEL
);

24  
	gnuÎ±r
;

29 
	gSequ’ûCheck”Im¶
::
Sequ’ûCheck”Im¶
()

30 : 
©ched_
(
Œue
),

31 
v®id_th»ad_
(
¹c
::
Cu¼’tTh»adRef
()),

32 
v®id_queue_
(
TaskQueueBa£
::
Cu¼’t
()),

33 
v®id_sy¡em_queue_
(
G‘Sy¡emQueueRef
()) {}

35 
	gSequ’ûCheck”Im¶
::~
Sequ’ûCheck”Im¶
() = ;

37 
boŞ
 
	gSequ’ûCheck”Im¶
::
IsCu¼’t
() const {

38 cÚ¡ 
TaskQueueBa£
* cÚ¡ 
cu¼’t_queue
 = TaskQueueBa£::
Cu¼’t
();

39 cÚ¡ 
	g¹c
::
PÏtfÜmTh»adRef
 
cu¼’t_th»ad
 = 
¹c
::
Cu¼’tTh»adRef
();

40 cÚ¡ * cÚ¡ 
	gcu¼’t_sy¡em_queue
 = 
G‘Sy¡emQueueRef
();

41 
	g¹c
::
Cr™Scİe
 
scİed_lock
(&
lock_
);

42 ià(!
	g©ched_
) {

43 
	g©ched_
 = 
Œue
;

44 
	gv®id_th»ad_
 = 
cu¼’t_th»ad
;

45 
	gv®id_queue_
 = 
cu¼’t_queue
;

46 
	gv®id_sy¡em_queue_
 = 
cu¼’t_sy¡em_queue
;

47  
	gŒue
;

49 ià(
	gv®id_queue_
 || 
	gcu¼’t_queue
) {

50  
	gv®id_queue_
 =ğ
cu¼’t_queue
;

52 ià(
	gv®id_sy¡em_queue_
 && v®id_sy¡em_queue_ =ğ
cu¼’t_sy¡em_queue
) {

53  
Œue
;

55  
	g¹c
::
IsTh»adRefEqu®
(
v®id_th»ad_
, 
cu¼’t_th»ad
);

58 
	gSequ’ûCheck”Im¶
::
D‘ach
() {

59 
¹c
::
Cr™Scİe
 
scİed_lock
(&
lock_
);

60 
	g©ched_
 = 
çl£
;

	@synchronization/sequence_checker.h

10 #iâdeà
RTC_BASE_SYNCHRONIZATION_SEQUENCE_CHECKER_H_


11 
	#RTC_BASE_SYNCHRONIZATION_SEQUENCE_CHECKER_H_


	)

13 
	~"­i/sk_queue/sk_queue_ba£.h
"

14 
	~"¹c_ba£/ü™iÿl_£ùiÚ.h
"

15 
	~"¹c_ba£/¶©fÜm_th»ad_ty³s.h
"

16 
	~"¹c_ba£/sy¡em/¹c_expÜt.h
"

17 
	~"¹c_ba£/th»ad_ªnÙ©iÚs.h
"

19 
Çme¥aû
 
	gweb¹c
 {

26 şas 
	cRTC_EXPORT
 
	gSequ’ûCheck”Im¶
 {

27 
	gpublic
:

28 
Sequ’ûCheck”Im¶
();

29 ~
Sequ’ûCheck”Im¶
();

31 
boŞ
 
IsCu¼’t
() const;

35 
D‘ach
();

37 
	g´iv©e
:

38 
¹c
::
Cr™iÿlSeùiÚ
 
lock_
;

40 
mubË
 
boŞ
 
©ched_
 
RTC_GUARDED_BY
(
lock_
);

41 
mubË
 
	g¹c
::
PÏtfÜmTh»adRef
 
v®id_th»ad_
 
RTC_GUARDED_BY
(
lock_
);

42 
mubË
 cÚ¡ 
TaskQueueBa£
* 
v®id_queue_
 
RTC_GUARDED_BY
(
lock_
);

43 
mubË
 cÚ¡ * 
v®id_sy¡em_queue_
 
RTC_GUARDED_BY
(
lock_
);

50 şas 
	cSequ’ûCheck”DoNÙhšg
 {

51 
	gpublic
:

52 
boŞ
 
IsCu¼’t
(ècÚ¡ {  
Œue
; }

53 
D‘ach
() {}

75 #ià
RTC_DCHECK_IS_ON


76 şas 
	cRTC_LOCKABLE
 
	gSequ’ûCheck”
 : 
public
 
Sequ’ûCheck”Im¶
 {};

78 şas 
	cRTC_LOCKABLE
 
	gSequ’ûCheck”
 : 
public
 
Sequ’ûCheck”DoNÙhšg
 {};

81 
Çme¥aû
 
	gweb¹c_£q_check_im¶
 {

83 şas 
	cRTC_SCOPED_LOCKABLE
 
	gSequ’ûCheck”Scİe
 {

84 
	gpublic
:

85 
‹m¶©e
 <
ty³Çme
 
Th»adLikeObjeù
>

86 
ex¶ic™
 
Sequ’ûCheck”Scİe
(cÚ¡ 
Th»adLikeObjeù
* 
th»ad_like_objeù
)

87 
RTC_EXCLUSIVE_LOCK_FUNCTION
(
th»ad_like_objeù
) {}

88 
Sequ’ûCheck”Scİe
(cÚ¡ Sequ’ûCheck”Scİe&èğ
d–‘e
;

89 
	gSequ’ûCheck”Scİe
& 
	gİ”©Ü
=(cÚ¡ 
Sequ’ûCheck”Scİe
&èğ
d–‘e
;

90 ~
Sequ’ûCheck”Scİe
(è
RTC_UNLOCK_FUNCTION
() {}

92 
	g‹m¶©e
 <
ty³Çme
 
	gTh»adLikeObjeù
>

93 
boŞ
 
IsCu¼’t
(cÚ¡ 
Th»adLikeObjeù
* 
th»ad_like_objeù
) {

94  
	gth»ad_like_objeù
->
IsCu¼’t
();

162 
	#RTC_RUN_ON
(
x
) \

163 
	`RTC_THREAD_ANNOTATION_ATTRIBUTE__
(
	`exşusive_locks_»quœed
(
x
))

	)

165 
	#RTC_DCHECK_RUN_ON
(
x
) \

166 
web¹c
::
web¹c_£q_check_im¶
::
Sequ’ûCheck”Scİe
 
	`£q_check_scİe
(
x
); \

167 
	`RTC_DCHECK
((
x
)->
	`IsCu¼’t
())

	)

	@synchronization/sequence_checker_unittest.cc

11 
	~"¹c_ba£/synchrÚiz©iÚ/£qu’û_check”.h
"

13 
	~<memÜy
>

14 
	~<ut™y
>

16 
	~"­i/funùiÚ_v›w.h
"

17 
	~"¹c_ba£/ev’t.h
"

18 
	~"¹c_ba£/¶©fÜm_th»ad.h
"

19 
	~"¹c_ba£/sk_queue_fÜ_‹¡.h
"

20 
	~"¹c_ba£/th»ad_check”.h
"

21 
	~"‹¡/g‹¡.h
"

23 
Çme¥aû
 
	gweb¹c
 {

24 
	gÇme¥aû
 {

29 şas 
	cCompeTimeTe¡FÜGu¬dedBy
 {

30 
	gpublic
:

31 
C®ËdOnSequ’û
(è
RTC_RUN_ON
(
£qu’û_check”_
è{  
gu¬ded_
; }

33 
C®lMeFromSequ’û
() {

34 
RTC_DCHECK_RUN_ON
(&
£qu’û_check”_
) << "Should be called on sequence";

35 
	ggu¬ded_
 = 41;

38 
	g´iv©e
:

39 
gu¬ded_
 
RTC_GUARDED_BY
(
£qu’û_check”_
);

40 ::
web¹c
::
Sequ’ûCheck”
 
£qu’û_check”_
;

43 
RunOnDifã»ÁTh»ad
(
¹c
::
FunùiÚV›w
<()> 
run
) {

44 
	sObjeù
 {

45 
Run
(* 
obj
) {

46 auto* 
me
 = 
¡©ic_ÿ¡
<
Objeù
*>(
obj
);

47 
	gme
->
run
();

48 
	gme
->
	gth»ad_has_run_ev’t
.
S‘
();

51 
	g¹c
::
FunùiÚV›w
<()> 
run
;

52 
	g¹c
::
Ev’t
 
th»ad_has_run_ev’t
;

53 } 
	gobjeù
{
	grun
};

55 
	g¹c
::
PÏtfÜmTh»ad
 
th»ad
(&
Objeù
::
Run
, &
objeù
, "thread");

56 
	gth»ad
.
S¹
();

57 
EXPECT_TRUE
(
objeù
.
th»ad_has_run_ev’t
.
Wa™
(1000));

58 
	gth»ad
.
Stİ
();

63 
	$TEST
(
Sequ’ûCheck”Te¡
, 
C®lsAÎowedOnSameTh»ad
) {

64 
Sequ’ûCheck”
 
£qu’û_check”
;

65 
	`EXPECT_TRUE
(
£qu’û_check”
.
	`IsCu¼’t
());

66 
	}
}

68 
	$TEST
(
Sequ’ûCheck”Te¡
, 
De¡ruùÜAÎowedOnDifã»ÁTh»ad
) {

69 autØ
£qu’û_check”
 = 
¡d
::
make_unique
<
Sequ’ûCheck”
>();

70 
	`RunOnDifã»ÁTh»ad
([&] {

73 
£qu’û_check”
.
	`»£t
();

75 
	}
}

77 
	$TEST
(
Sequ’ûCheck”Te¡
, 
D‘ach
) {

78 
Sequ’ûCheck”
 
£qu’û_check”
;

79 
£qu’û_check”
.
	`D‘ach
();

80 
	`RunOnDifã»ÁTh»ad
([&] { 
	`EXPECT_TRUE
(
£qu’û_check”
.
	`IsCu¼’t
()); });

81 
	}
}

83 
	$TEST
(
Sequ’ûCheck”Te¡
, 
D‘achFromTh»adAndU£OnTaskQueue
) {

84 
Sequ’ûCheck”
 
£qu’û_check”
;

85 
£qu’û_check”
.
	`D‘ach
();

86 
TaskQueueFÜTe¡
 
queue
;

87 
queue
.
	`S’dTask
([&] { 
	`EXPECT_TRUE
(
£qu’û_check”
.
	`IsCu¼’t
()); },

88 
RTC_FROM_HERE
);

89 
	}
}

91 
	$TEST
(
Sequ’ûCheck”Te¡
, 
D‘achFromTaskQueueAndU£OnTh»ad
) {

92 
TaskQueueFÜTe¡
 
queue
;

93 
queue
.
	`S’dTask
(

95 
Sequ’ûCheck”
 
£qu’û_check”
;

96 
£qu’û_check”
.
	`D‘ach
();

97 
	`RunOnDifã»ÁTh»ad
(

98 [&] { 
	`EXPECT_TRUE
(
£qu’û_check”
.
	`IsCu¼’t
()); });

100 
RTC_FROM_HERE
);

101 
	}
}

103 
	$TEST
(
Sequ’ûCheck”Te¡
, 
M‘hodNÙAÎowedOnDifã»ÁTh»adInDebug
) {

104 
Sequ’ûCheck”
 
£qu’û_check”
;

105 
	`RunOnDifã»ÁTh»ad
(

106 [&] { 
	`EXPECT_EQ
(
£qu’û_check”
.
	`IsCu¼’t
(), !
RTC_DCHECK_IS_ON
); });

107 
	}
}

109 
	$TEST
(
Sequ’ûCheck”Te¡
, 
M‘hodNÙAÎowedOnDifã»ÁTaskQueueInDebug
) {

110 
Sequ’ûCheck”
 
£qu’û_check”
;

111 
TaskQueueFÜTe¡
 
queue
;

112 
queue
.
	`S’dTask
(

113 [&] { 
	`EXPECT_EQ
(
£qu’û_check”
.
	`IsCu¼’t
(), !
RTC_DCHECK_IS_ON
); },

114 
RTC_FROM_HERE
);

115 
	}
}

117 
	$TEST
(
Sequ’ûCheck”Te¡
, 
D‘achFromTaskQueueInDebug
) {

118 
Sequ’ûCheck”
 
£qu’û_check”
;

119 
£qu’û_check”
.
	`D‘ach
();

121 
TaskQueueFÜTe¡
 
queue1
;

122 
queue1
.
	`S’dTask
([&] { 
	`EXPECT_TRUE
(
£qu’û_check”
.
	`IsCu¼’t
()); },

123 
RTC_FROM_HERE
);

127 
TaskQueueFÜTe¡
 
queue2
;

128 
queue2
.
	`S’dTask
(

129 [&] { 
	`EXPECT_EQ
(
£qu’û_check”
.
	`IsCu¼’t
(), !
RTC_DCHECK_IS_ON
); },

130 
RTC_FROM_HERE
);

131 
	}
}

133 şas 
	cTe¡AÂÙ©iÚs
 {

134 
	gpublic
:

135 
Te¡AÂÙ©iÚs
(è: 
‹¡_v¬_
(
çl£
) {}

137 
ModifyTe¡V¬
() {

138 
RTC_DCHECK_RUN_ON
(&
check”_
);

139 
	g‹¡_v¬_
 = 
Œue
;

142 
	g´iv©e
:

143 
boŞ
 
‹¡_v¬_
 
RTC_GUARDED_BY
(&
check”_
);

144 
Sequ’ûCheck”
 
	gcheck”_
;

147 
	$TEST
(
Sequ’ûCheck”Te¡
, 
Te¡AÂÙ©iÚs
) {

148 
Te¡AÂÙ©iÚs
 
ªnÙ©iÚs
;

149 
ªnÙ©iÚs
.
	`ModifyTe¡V¬
();

150 
	}
}

152 #ià
GTEST_HAS_DEATH_TEST
 && !
	$defšed
(
WEBRTC_ANDROID
)

154 
	$Te¡AÂÙ©iÚsOnWrÚgQueue
() {

155 
Te¡AÂÙ©iÚs
 
ªnÙ©iÚs
;

156 
TaskQueueFÜTe¡
 
queue
;

157 
queue
.
	`S’dTask
([&] { 
ªnÙ©iÚs
.
	`ModifyTe¡V¬
(); }, 
RTC_FROM_HERE
);

158 
	}
}

160 #ià
RTC_DCHECK_IS_ON


161 
	$TEST
(
Sequ’ûCheck”Te¡
, 
Te¡AÂÙ©iÚsOnWrÚgQueueDebug
) {

162 
	`ASSERT_DEATH
({ 
	`Te¡AÂÙ©iÚsOnWrÚgQueue
(); }, "");

163 
	}
}

165 
	$TEST
(
Sequ’ûCheck”Te¡
, 
Te¡AÂÙ©iÚsOnWrÚgQueueR–—£
) {

166 
	`Te¡AÂÙ©iÚsOnWrÚgQueue
();

167 
	}
}

	@synchronization/yield_policy.cc

10 
	~"¹c_ba£/synchrÚiz©iÚ/y›ld_pŞicy.h
"

12 
	~"ab¦/ba£/©Œibu‹s.h
"

13 
	~"ab¦/ba£/cÚfig.h
"

14 
	~"¹c_ba£/checks.h
"

15 #ià!
defšed
(
ABSL_HAVE_THREAD_LOCAL
è&& defšed(
WEBRTC_POSIX
)

16 
	~<±h»ad.h
>

19 
Çme¥aû
 
	g¹c
 {

20 
	gÇme¥aû
 {

22 #ià
defšed
(
ABSL_HAVE_THREAD_LOCAL
)

24 
ABSL_CONST_INIT
 
th»ad_loÿl
 
Y›ldIÁ”çû
* 
	gcu¼’t_y›ld_pŞicy
 = 
nuÎ±r
;

26 
Y›ldIÁ”çû
* 
G‘Cu¼’tY›ldPŞicy
() {

27  
	gcu¼’t_y›ld_pŞicy
;

30 
S‘Cu¼’tY›ldPŞicy
(
Y›ldIÁ”çû
* 
±r
) {

31 
	gcu¼’t_y›ld_pŞicy
 = 
±r
;

34 #–ià
defšed
(
WEBRTC_POSIX
)

40 
ABSL_CONST_INIT
 
±h»ad_key_t
 
	gg_cu¼’t_y›ld_pŞicy_s
 = 0;

42 
In™ŸlizeTls
() {

43 
RTC_CHECK_EQ
(
±h»ad_key_ü—‹
(&
g_cu¼’t_y›ld_pŞicy_s
, 
nuÎ±r
), 0);

46 
±h»ad_key_t
 
G‘Cu¼’tY›ldPŞicyTls
() {

47 
±h»ad_Úû_t
 
	gš™_Úû
 = 
PTHREAD_ONCE_INIT
;

48 
RTC_CHECK_EQ
(
±h»ad_Úû
(&
š™_Úû
, &
In™ŸlizeTls
), 0);

49  
	gg_cu¼’t_y›ld_pŞicy_s
;

52 
Y›ldIÁ”çû
* 
G‘Cu¼’tY›ldPŞicy
() {

53  
	g¡©ic_ÿ¡
<
	gY›ldIÁ”çû
*>(

54 
±h»ad_g‘¥ecific
(
G‘Cu¼’tY›ldPŞicyTls
()));

57 
S‘Cu¼’tY›ldPŞicy
(
Y›ldIÁ”çû
* 
±r
) {

58 
±h»ad_£t¥ecific
(
G‘Cu¼’tY›ldPŞicyTls
(), 
±r
);

62 #”rÜ 
UnsuµÜ‹d
 
¶©fÜm


67 
	gScİedY›ldPŞicy
::
ScİedY›ldPŞicy
(
Y›ldIÁ”çû
* 
pŞicy
)

68 : 
´evious_
(
G‘Cu¼’tY›ldPŞicy
()) {

69 
S‘Cu¼’tY›ldPŞicy
(
pŞicy
);

72 
	gScİedY›ldPŞicy
::~
ScİedY›ldPŞicy
() {

73 
S‘Cu¼’tY›ldPŞicy
(
´evious_
);

76 
	gScİedY›ldPŞicy
::
Y›ldExecutiÚ
() {

77 
Y›ldIÁ”çû
* 
cu¼’t
 = 
G‘Cu¼’tY›ldPŞicy
();

78 ià(
	gcu¼’t
)

79 
	gcu¼’t
->
Y›ldExecutiÚ
();

	@synchronization/yield_policy.h

10 #iâdeà
RTC_BASE_SYNCHRONIZATION_YIELD_POLICY_H_


11 
	#RTC_BASE_SYNCHRONIZATION_YIELD_POLICY_H_


	)

13 
Çme¥aû
 
	g¹c
 {

14 şas 
	cY›ldIÁ”çû
 {

15 
	gpublic
:

16 
vœtu®
 ~
Y›ldIÁ”çû
() = ;

17 
vœtu®
 
Y›ldExecutiÚ
() = 0;

22 şas 
	cScİedY›ldPŞicy
 
	gfš®
 {

23 
	gpublic
:

24 
ex¶ic™
 
ScİedY›ldPŞicy
(
Y›ldIÁ”çû
* 
pŞicy
);

25 
ScİedY›ldPŞicy
(cÚ¡ ScİedY›ldPŞicy&èğ
d–‘e
;

26 
	gScİedY›ldPŞicy
& 
	gİ”©Ü
=(cÚ¡ 
ScİedY›ldPŞicy
&èğ
d–‘e
;

27 ~
ScİedY›ldPŞicy
();

30 
Y›ldExecutiÚ
();

32 
	g´iv©e
:

33 
Y›ldIÁ”çû
* cÚ¡ 
´evious_
;

	@synchronization/yield_policy_unittest.cc

11 
	~"¹c_ba£/synchrÚiz©iÚ/y›ld_pŞicy.h
"

13 
	~<th»ad
>

15 
	~"¹c_ba£/ev’t.h
"

16 
	~"‹¡/gmock.h
"

17 
	~"‹¡/g‹¡.h
"

19 
Çme¥aû
 
	g¹c
 {

20 
	gÇme¥aû
 {

21 şas 
	cMockY›ldHªdËr
 : 
public
 
Y›ldIÁ”çû
 {

22 
public
:

23 
MOCK_METHOD0
(
Y›ldExecutiÚ
, ());

26 
	$TEST
(
Y›ldPŞicyTe¡
, 
HªdËrReûivesY›ldSigÇlWh’S‘
) {

27 ::
‹¡šg
::
SŒiùMock
<
MockY›ldHªdËr
> 
hªdËr
;

29 
Ev’t
 
ev’t
;

30 
	`EXPECT_CALL
(
hªdËr
, 
	`Y›ldExecutiÚ
()).
	`Times
(1);

31 
ScİedY›ldPŞicy
 
	`pŞicy
(&
hªdËr
);

32 
ev’t
.
	`S‘
();

33 
ev’t
.
	`Wa™
(
Ev’t
::
kFÜev”
);

36 
Ev’t
 
ev’t
;

37 
	`EXPECT_CALL
(
hªdËr
, 
	`Y›ldExecutiÚ
()).
	`Times
(0);

38 
ev’t
.
	`S‘
();

39 
ev’t
.
	`Wa™
(
Ev’t
::
kFÜev”
);

41 
	}
}

43 
	$TEST
(
Y›ldPŞicyTe¡
, 
IsTh»adLoÿl
) {

44 
Ev’t
 
ev’ts
[3];

45 
¡d
::
th»ad
 
	`Ùh”_th»ad
([&]() {

46 ::
‹¡šg
::
SŒiùMock
<
MockY›ldHªdËr
> 
loÿl_hªdËr
;

48 
	`EXPECT_CALL
(
loÿl_hªdËr
, 
	`Y›ldExecutiÚ
()).
	`Times
(0);

49 
ScİedY›ldPŞicy
 
	`pŞicy
(&
loÿl_hªdËr
);

50 
ev’ts
[0].
	`S‘
();

51 
ev’ts
[1].
	`S‘
();

52 
ev’ts
[2].
	`S‘
();

56 
ev’ts
[0].
	`Wa™
(
Ev’t
::
kFÜev”
);

59 
ev’ts
[1].
	`Wa™
(
Ev’t
::
kFÜev”
);

62 ::
‹¡šg
::
SŒiùMock
<
MockY›ldHªdËr
> 
maš_hªdËr
;

63 
	`EXPECT_CALL
(
maš_hªdËr
, 
	`Y›ldExecutiÚ
()).
	`Times
(1);

64 
ScİedY›ldPŞicy
 
	`pŞicy
(&
maš_hªdËr
);

65 
ev’ts
[2].
	`Wa™
(
Ev’t
::
kFÜev”
);

66 
Ùh”_th»ad
.
	`još
();

67 
	}
}

	@system/arch.h

14 #iâdeà
RTC_BASE_SYSTEM_ARCH_H_


15 
	#RTC_BASE_SYSTEM_ARCH_H_


	)

21 #ià
defšed
(
_M_X64
è|| defšed(
__x86_64__
)

22 
	#WEBRTC_ARCH_X86_FAMILY


	)

23 
	#WEBRTC_ARCH_X86_64


	)

24 
	#WEBRTC_ARCH_64_BITS


	)

25 
	#WEBRTC_ARCH_LITTLE_ENDIAN


	)

26 #–ià
defšed
(
_M_ARM64
è|| defšed(
__¯rch64__
)

27 
	#WEBRTC_ARCH_ARM_FAMILY


	)

28 
	#WEBRTC_ARCH_64_BITS


	)

29 
	#WEBRTC_ARCH_LITTLE_ENDIAN


	)

30 #–ià
defšed
(
_M_IX86
è|| defšed(
__i386__
)

31 
	#WEBRTC_ARCH_X86_FAMILY


	)

32 
	#WEBRTC_ARCH_X86


	)

33 
	#WEBRTC_ARCH_32_BITS


	)

34 
	#WEBRTC_ARCH_LITTLE_ENDIAN


	)

35 #–ià
defšed
(
__ARMEL__
)

36 
	#WEBRTC_ARCH_ARM_FAMILY


	)

37 
	#WEBRTC_ARCH_32_BITS


	)

38 
	#WEBRTC_ARCH_LITTLE_ENDIAN


	)

39 #–ià
defšed
(
__MIPSEL__
)

40 
	#WEBRTC_ARCH_MIPS_FAMILY


	)

41 #ià
defšed
(
__LP64__
)

42 
	#WEBRTC_ARCH_64_BITS


	)

44 
	#WEBRTC_ARCH_32_BITS


	)

46 
	#WEBRTC_ARCH_LITTLE_ENDIAN


	)

47 #–ià
defšed
(
__²aş__
)

48 
	#WEBRTC_ARCH_32_BITS


	)

49 
	#WEBRTC_ARCH_LITTLE_ENDIAN


	)

50 #–ià
defšed
(
__EMSCRIPTEN__
)

51 
	#WEBRTC_ARCH_32_BITS


	)

52 
	#WEBRTC_ARCH_LITTLE_ENDIAN


	)

54 #”rÜ 
PËa£
 
add
 
suµÜt
 
your
 
¬ch™eùu»
 
š
 
¹c_ba£
/
sy¡em
/
¬ch
.
h


57 #ià!(
defšed
(
WEBRTC_ARCH_LITTLE_ENDIAN
è^ defšed(
WEBRTC_ARCH_BIG_ENDIAN
))

58 #”rÜ 
Defše
 
e™h”
 
WEBRTC_ARCH_LITTLE_ENDIAN
 
Ü
 
WEBRTC_ARCH_BIG_ENDIAN


	@system/asm_defines.h

11 #iâdeà
RTC_BASE_SYSTEM_ASM_DEFINES_H_


12 
	#RTC_BASE_SYSTEM_ASM_DEFINES_H_


	)

18 #ià
defšed
(
__lšux__
è&& defšed(
__ELF__
)

19 .
	g£ùiÚ
 .
	gnÙe
.
	gGNU
-
	g¡ack
,"",%
	g´ogb™s


24 #ifdeà
__APPLE__


25 .
maüo
 
GLOBAL_FUNCTION
 
	gÇme


26 .
glob®
 
	g_
\
	gÇme


27 .
´iv©e_ex‹º
 
	g_
\
	gÇme


28 .
	g’dm


29 .
maüo
 
DEFINE_FUNCTION
 
Çme


30 
	g_
\
	gÇme
:

31 .
’dm


32 .
maüo
 
CALL_FUNCTION
 
Çme


33 
bl
 
_
\
Çme


34 .
’dm


35 .
maüo
 
GLOBAL_LABEL
 
Çme


36 .
glob®
 
_
\
Çme


37 .
´iv©e_ex‹º
 
_
\
Çme


38 .
’dm


40 .
maüo
 
GLOBAL_FUNCTION
 
Çme


41 .
glob®
 \
Çme


42 .
hidd’
 \
Çme


43 .
’dm


44 .
maüo
 
DEFINE_FUNCTION
 
Çme


45 #ià
defšed
(
__lšux__
è&& defšed(
__ELF__
)

46 .
ty³
 \
Çme
,%
	gfunùiÚ


48 \
	gÇme
:

49 .
’dm


50 .
maüo
 
CALL_FUNCTION
 
Çme


51 
bl
 \
Çme


52 .
’dm


53 .
maüo
 
GLOBAL_LABEL
 
Çme


54 .
glob®
 \
Çme


55 .
hidd’
 \
Çme


56 .
’dm


62 #ià(
defšed
 
__Îvm__
è&& (defšed 
__APPLE__
)

63 .
maüo
 
¡»qh
 
»g1
, 
	g»g2
, 
num


64 
	g¡rheq
 \
	g»g1
, \
	g»g2
, \
	gnum


65 .
	g’dm


68 .
	g‹xt


	@system/cocoa_threading.h

11 #iâdeà
RTC_BASE_SYSTEM_COCOA_THREADING_H_


12 
	#RTC_BASE_SYSTEM_COCOA_THREADING_H_


	)

22 
In™CocßMuÉiTh»adšg
();

	@system/file_wrapper.cc

11 
	~"¹c_ba£/sy¡em/fe_w¿µ”.h
"

12 
	~"¹c_ba£/num”ics/§ã_cÚv”siÚs.h
"

14 
	~<û¼no
>

16 #ifdeà
_WIN32


17 
	~<Wšdows.h
>

19 
	~<¡ršg.h
>

22 
	~<ut™y
>

24 
Çme¥aû
 
	gweb¹c
 {

25 
	gÇme¥aû
 {

26 
FILE
* 
FeO³n
(cÚ¡ * 
fe_Çme_utf8
, 
boŞ
 
»ad_Úly
, * 
”rÜ
) {

27 #ià
defšed
(
_WIN32
)

28 
	gËn
 = 
MuÉiBy‹ToWideCh¬
(
CP_UTF8
, 0, 
fe_Çme_utf8
, -1, 
nuÎ±r
, 0);

29 
	g¡d
::
w¡ršg
 
w¡r
(
Ën
, 0);

30 
MuÉiBy‹ToWideCh¬
(
CP_UTF8
, 0, 
fe_Çme_utf8
, -1, &
w¡r
[0], 
Ën
);

31 
FILE
* 
	gfe
 = 
_wfİ’
(
w¡r
.
c_¡r
(), 
»ad_Úly
 ? 
L
"rb" : L"wb");

33 
FILE
* 
	gfe
 = 
fİ’
(
fe_Çme_utf8
, 
»ad_Úly
 ? "rb" : "wb");

35 ià(!
	gfe
 && 
	g”rÜ
) {

36 *
	g”rÜ
 = 
”ºo
;

38  
	gfe
;

41 cÚ¡ * 
G‘C¡rCheckNoEmbeddedNul
(cÚ¡ 
¡d
::
¡ršg
& 
s
) {

42 cÚ¡ * 
p
 = 
s
.
c_¡r
();

43 
RTC_CHECK_EQ
(
¡¾’
(
p
), 
s
.
size
())

45  
	gp
;

50 
FeW¿µ”
 
	gFeW¿µ”
::
O³nR—dOÆy
(cÚ¡ * 
fe_Çme_utf8
) {

51  
FeW¿µ”
(
FeO³n
(
fe_Çme_utf8
, 
Œue
, 
nuÎ±r
));

55 
FeW¿µ”
 
	gFeW¿µ”
::
O³nR—dOÆy
(cÚ¡ 
¡d
::
¡ršg
& 
fe_Çme_utf8
) {

56  
O³nR—dOÆy
(
G‘C¡rCheckNoEmbeddedNul
(
fe_Çme_utf8
));

60 
FeW¿µ”
 
	gFeW¿µ”
::
O³nWr™eOÆy
(cÚ¡ * 
fe_Çme_utf8
,

61 * 
”rÜ
 ) {

62  
FeW¿µ”
(
FeO³n
(
fe_Çme_utf8
, 
çl£
, 
”rÜ
));

66 
FeW¿µ”
 
	gFeW¿µ”
::
O³nWr™eOÆy
(cÚ¡ 
¡d
::
¡ršg
& 
fe_Çme_utf8
,

67 * 
”rÜ
 ) {

68  
O³nWr™eOÆy
(
G‘C¡rCheckNoEmbeddedNul
(
fe_Çme_utf8
), 
”rÜ
);

71 
	gFeW¿µ”
::
FeW¿µ”
(FeW¿µ”&& 
Ùh”
) {

72 
İ”©Ü
=(
¡d
::
move
(
Ùh”
));

75 
	gFeW¿µ”
& FeW¿µ”::
İ”©Ü
=(
FeW¿µ”
&& 
Ùh”
) {

76 
Clo£
();

77 
	gfe_
 = 
Ùh”
.
fe_
;

78 
	gÙh”
.
	gfe_
 = 
nuÎ±r
;

79  *
	gthis
;

82 
boŞ
 
	gFeW¿µ”
::
S“kR–©ive
(
št64_t
 
off£t
) {

83 
RTC_DCHECK
(
fe_
);

84  
f£ek
(
fe_
, 
¹c
::
checked_ÿ¡
<>(
off£t
), 
SEEK_CUR
) == 0;

87 
boŞ
 
	gFeW¿µ”
::
S“kTo
(
št64_t
 
pos™iÚ
) {

88 
RTC_DCHECK
(
fe_
);

89  
f£ek
(
fe_
, 
¹c
::
checked_ÿ¡
<>(
pos™iÚ
), 
SEEK_SET
) == 0;

92 
boŞ
 
	gFeW¿µ”
::
Flush
() {

93 
RTC_DCHECK
(
fe_
);

94  
fæush
(
fe_
) == 0;

97 
size_t
 
	gFeW¿µ”
::
R—d
(* 
buf
, size_ˆ
Ëngth
) {

98 
RTC_DCHECK
(
fe_
);

99  
ä—d
(
buf
, 1, 
Ëngth
, 
fe_
);

102 
boŞ
 
	gFeW¿µ”
::
R—dEof
() const {

103 
RTC_DCHECK
(
fe_
);

104  
ãof
(
fe_
);

107 
boŞ
 
	gFeW¿µ”
::
Wr™e
(cÚ¡ * 
buf
, 
size_t
 
Ëngth
) {

108 
RTC_DCHECK
(
fe_
);

109  
fwr™e
(
buf
, 1, 
Ëngth
, 
fe_
) ==†ength;

112 
boŞ
 
	gFeW¿µ”
::
Clo£
() {

113 ià(
fe_
 =ğ
nuÎ±r
)

114  
Œue
;

116 
boŞ
 
	gsucûss
 = 
fşo£
(
fe_
) == 0;

117 
	gfe_
 = 
nuÎ±r
;

118  
	gsucûss
;

121 
FILE
* 
	gFeW¿µ”
::
R–—£
() {

122 
FILE
* 
fe
 = 
fe_
;

123 
	gfe_
 = 
nuÎ±r
;

124  
	gfe
;

	@system/file_wrapper.h

11 #iâdeà
RTC_BASE_SYSTEM_FILE_WRAPPER_H_


12 
	#RTC_BASE_SYSTEM_FILE_WRAPPER_H_


	)

14 
	~<¡ddef.h
>

15 
	~<¡dio.h
>

17 
	~"¹c_ba£/ü™iÿl_£ùiÚ.h
"

21 
Çme¥aû
 
	gweb¹c
 {

31 şas 
	cFeW¿µ”
 
	gfš®
 {

32 
	gpublic
:

37 
FeW¿µ”
 
O³nR—dOÆy
(cÚ¡ * 
fe_Çme_utf8
);

38 
FeW¿µ”
 
O³nR—dOÆy
(cÚ¡ 
¡d
::
¡ršg
& 
fe_Çme_utf8
);

39 
FeW¿µ”
 
O³nWr™eOÆy
(cÚ¡ * 
fe_Çme_utf8
,

40 * 
”rÜ
 = 
nuÎ±r
);

42 
FeW¿µ”
 
O³nWr™eOÆy
(cÚ¡ 
¡d
::
¡ršg
& 
fe_Çme_utf8
,

43 * 
”rÜ
 = 
nuÎ±r
);

45 
FeW¿µ”
() = ;

49 
ex¶ic™
 
FeW¿µ”
(
FILE
* 
fe
è: 
fe_
(file) {}

50 ~
FeW¿µ”
(è{ 
Clo£
(); }

53 
FeW¿µ”
(cÚ¡ FeW¿µ”&èğ
d–‘e
;

54 
	gFeW¿µ”
& 
	gİ”©Ü
=(cÚ¡ 
FeW¿µ”
&èğ
d–‘e
;

57 
FeW¿µ”
(FileWrapper&&);

58 
	gFeW¿µ”
& 
	gİ”©Ü
=(
FeW¿µ”
&&);

62 
boŞ
 
is_İ’
(ècÚ¡ {  
	gfe_
 !ğ
nuÎ±r
; }

67 
boŞ
 
Clo£
();

73 
FILE
* 
R–—£
();

77 
boŞ
 
Flush
();

81 
boŞ
 
Rewšd
(è{  
S“kTo
(0); }

86 
boŞ
 
S“kR–©ive
(
št64_t
 
off£t
);

88 
boŞ
 
S“kTo
(
št64_t
 
pos™iÚ
);

91 
size_t
 
R—d
(* 
buf
, size_ˆ
Ëngth
);

96 
boŞ
 
R—dEof
() const;

101 
boŞ
 
Wr™e
(cÚ¡ * 
buf
, 
size_t
 
Ëngth
);

103 
	g´iv©e
:

104 
FILE
* 
fe_
 = 
nuÎ±r
;

	@system/gcd_helpers.h

11 #iâdeà
RTC_BASE_SYSTEM_GCD_HELPERS_H_


12 
	#RTC_BASE_SYSTEM_GCD_HELPERS_H_


	)

14 
	~<di¥©ch/di¥©ch.h
>

16 #ifdeà
__ılu¥lus


20 
DISPATCH_RETURNS_RETAINED
 
DISPATCH_WARN_RESULT
 
DISPATCH_NOTHROW
 
di¥©ch_queue_t


21 
RTCDi¥©chQueueC»©eW™hT¬g‘
(cÚ¡ * 
Ïb–
,

22 
di¥©ch_queue_©Œ_t
 
©Œ
,

23 
di¥©ch_queue_t
 
rg‘
);

25 #ifdeà
__ılu¥lus


	@system/ignore_warnings.h

11 #iâdeà
RTC_BASE_SYSTEM_IGNORE_WARNINGS_H_


12 
	#RTC_BASE_SYSTEM_IGNORE_WARNINGS_H_


	)

14 #ifdeà
__şªg__


15 
	#RTC_PUSH_IGNORING_WFRAME_LARGER_THAN
() \

16 
	`_P¿gma
("clang diagnostic…ush") \

17 
	`_P¿gma
("şªg dŸgno¡iøignÜed \"-Wäame-Ïrg”-thª=\"")

	)

18 
	#RTC_POP_IGNORING_WFRAME_LARGER_THAN
(è
	`_P¿gma
("şªg dŸgno¡iøpİ")

	)

19 #–ià
__GNUC__


20 
	#RTC_PUSH_IGNORING_WFRAME_LARGER_THAN
() \

21 
	`_P¿gma
("GCC diagnostic…ush") \

22 
	`_P¿gma
("GCC dŸgno¡iøignÜed \"-Wäame-Ïrg”-thª=\"")

	)

23 
	#RTC_POP_IGNORING_WFRAME_LARGER_THAN
(è
	`_P¿gma
("GCC dŸgno¡iøpİ")

	)

25 
	#RTC_PUSH_IGNORING_WFRAME_LARGER_THAN
()

	)

26 
	#RTC_POP_IGNORING_WFRAME_LARGER_THAN
()

	)

	@system/inline.h

11 #iâdeà
RTC_BASE_SYSTEM_INLINE_H_


12 
	#RTC_BASE_SYSTEM_INLINE_H_


	)

14 #ià
defšed
(
_MSC_VER
)

16 
	#RTC_FORCE_INLINE
 
__fÜûšlše


	)

17 
	#RTC_NO_INLINE
 
	`__deş¥ec
(
nošlše
)

	)

19 #–ià
defšed
(
__GNUC__
)

21 
	#RTC_FORCE_INLINE
 
	`__©Œibu‹__
((
__®ways_šlše__
))

	)

22 
	#RTC_NO_INLINE
 
	`__©Œibu‹__
((
__nošlše__
))

	)

26 
	#RTC_FORCE_INLINE


	)

27 
	#RTC_NO_INLINE


	)

	@system/rtc_export.h

11 #iâdeà
RTC_BASE_SYSTEM_RTC_EXPORT_H_


12 
	#RTC_BASE_SYSTEM_RTC_EXPORT_H_


	)

19 #ifdeà
WEBRTC_ENABLE_SYMBOL_EXPORT


21 #ifdeà
WEBRTC_WIN


23 #ifdeà
WEBRTC_LIBRARY_IMPL


24 
	#RTC_EXPORT
 
	`__deş¥ec
(
dÎexpÜt
)

	)

26 
	#RTC_EXPORT
 
	`__deş¥ec
(
dÎimpÜt
)

	)

31 #ià
__has_©Œibu‹
(
visib™y
è&& 
defšed
(
WEBRTC_LIBRARY_IMPL
)

32 
	#RTC_EXPORT
 
	`__©Œibu‹__
((
	`visib™y
("deçuÉ")))

	)

39 #iâdeà
RTC_EXPORT


40 
	#RTC_EXPORT


	)

	@system/rtc_export_template.h

11 #iâdeà
RTC_BASE_SYSTEM_RTC_EXPORT_TEMPLATE_H_


12 
	#RTC_BASE_SYSTEM_RTC_EXPORT_TEMPLATE_H_


	)

85 
	#RTC_EXPORT_TEMPLATE_DECLARE
(
expÜt
) \

86 
	`RTC_EXPORT_TEMPLATE_INVOKE
( \

87 
DECLARE
, \

88 
	`RTC_EXPORT_TEMPLATE_STYLE
(
expÜt
, ),ƒxport)

89 
	#RTC_EXPORT_TEMPLATE_DEFINE
(
expÜt
) \

90 
	`RTC_EXPORT_TEMPLATE_INVOKE
( \

91 
DEFINE
, \

92 
	`RTC_EXPORT_TEMPLATE_STYLE
(
expÜt
, ),ƒxport)

93 

	)

100 
	#RTC_EXPORT_TEMPLATE_INVOKE
(
which
, 
¡yË
, 
expÜt
) \

101 
	`RTC_EXPORT_TEMPLATE_INVOKE_2
(
which
, 
¡yË
, 
expÜt
)

	)

102 
	#RTC_EXPORT_TEMPLATE_INVOKE_2
(
which
, 
¡yË
, 
expÜt
) \

103 
RTC_EXPORT_TEMPLATE_
##
which
##
_
##
	`¡yË
(
expÜt
, )

	)

106 
	#RTC_EXPORT_TEMPLATE_DECLARE_DEFAULT
(
expÜt
, 
_
è
	)
export

107 
	#RTC_EXPORT_TEMPLATE_DEFINE_DEFAULT
(
expÜt
, 
_
)

	)

112 
	#RTC_EXPORT_TEMPLATE_DECLARE_MSVC_HACK
(
expÜt
, 
_
)

	)

113 
	#RTC_EXPORT_TEMPLATE_DEFINE_MSVC_HACK
(
expÜt
, 
_
è
	)
export

131 
	#RTC_EXPORT_TEMPLATE_STYLE
(
expÜt
, 
_
) \

132 
	`RTC_EXPORT_TEMPLATE_STYLE_2
(
expÜt
, )

	)

133 
	#RTC_EXPORT_TEMPLATE_STYLE_2
(
expÜt
, 
_
) \

134 
	`RTC_EXPORT_TEMPLATE_STYLE_3
( \

135 
RTC_EXPORT_TEMPLATE_STYLE_MATCH_foj3FJo5StF0OvIzl7oMxA
##
expÜt
)

	)

136 
	#RTC_EXPORT_TEMPLATE_STYLE_3
(
¡yË
è
	)
style

145 
	#RTC_EXPORT_TEMPLATE_STYLE_MATCH_foj3FJo5StF0OvIzl7oMxA
 
DEFAULT


	)

146 
	#RTC_EXPORT_TEMPLATE_STYLE_MATCH_foj3FJo5StF0OvIzl7oMxA__©Œibu‹__
( \

148 
DEFAULT


	)

149 
	#RTC_EXPORT_TEMPLATE_STYLE_MATCH_foj3FJo5StF0OvIzl7oMxA__deş¥ec
(
¬g
) \

150 
RTC_EXPORT_TEMPLATE_STYLE_MATCH_DECLSPEC_
##
¬g


	)

153 
	#RTC_EXPORT_TEMPLATE_STYLE_MATCH_DECLSPEC_dÎexpÜt
 
MSVC_HACK


	)

154 
	#RTC_EXPORT_TEMPLATE_STYLE_MATCH_DECLSPEC_dÎimpÜt
 
DEFAULT


	)

178 
	#RTC_EXPORT_TEMPLATE_TEST
(
wªt
, 
expÜt
) \

179 
	`¡©ic_as£¹
( \

180 
	`RTC_EXPORT_TEMPLATE_INVOKE
( \

181 
TEST_
##
wªt
, \

182 
	`RTC_EXPORT_TEMPLATE_STYLE
(
expÜt
, ),ƒxport), #export)

183 
	#RTC_EXPORT_TEMPLATE_TEST_DEFAULT_DEFAULT
(...è
Œue


	)

184 
	#RTC_EXPORT_TEMPLATE_TEST_MSVC_HACK_MSVC_HACK
(...è
Œue


	)

186 
RTC_EXPORT_TEMPLATE_TEST
(
DEFAULT
, );

187 
RTC_EXPORT_TEMPLATE_TEST
(
DEFAULT
, 
__©Œibu‹__
((
visib™y
("default"))));

188 
RTC_EXPORT_TEMPLATE_TEST
(
MSVC_HACK
, 
__deş¥ec
(
dÎexpÜt
));

189 
RTC_EXPORT_TEMPLATE_TEST
(
DEFAULT
, 
__deş¥ec
(
dÎimpÜt
));

191 #undeà
RTC_EXPORT_TEMPLATE_TEST


192 #undeà
RTC_EXPORT_TEMPLATE_TEST_DEFAULT_DEFAULT


193 #undeà
RTC_EXPORT_TEMPLATE_TEST_MSVC_HACK_MSVC_HACK


	@system/thread_registry.cc

11 
	~"¹c_ba£/sy¡em/th»ad_»gi¡ry.h
"

13 
	~<m­
>

14 
	~<ut™y
>

16 
	~"ab¦/ba£/©Œibu‹s.h
"

17 
	~"¹c_ba£/ü™iÿl_£ùiÚ.h
"

18 
	~"¹c_ba£/loggšg.h
"

19 
	~"¹c_ba£/¶©fÜm_th»ad_ty³s.h
"

20 
	~"sdk/ªdroid/Çtive_­i/¡ackŒaû/¡ackŒaû.h
"

22 
Çme¥aû
 
	gweb¹c
 {

24 
	gÇme¥aû
 {

26 
	sTh»adD©a
 {

27 cÚ¡ 
	g¹c
::
PÏtfÜmTh»adId
 
th»ad_id
;

28 cÚ¡ 
	g¹c
::
LoÿtiÚ
 
loÿtiÚ
;

33 
ABSL_CONST_INIT
 
	g¹c
::
Glob®Lock
 
g_th»ad_»gi¡ry_lock
;

34 
ABSL_CONST_INIT
 
	g¡d
::
m­
<cÚ¡ 
ScİedRegi¡”Th»adFÜDebuggšg
*, 
	gTh»adD©a
>*

35 
	gg_»gi¡”ed_th»ads
 = 
nuÎ±r
;

39 
	gScİedRegi¡”Th»adFÜDebuggšg
::
ScİedRegi¡”Th»adFÜDebuggšg
(

40 
¹c
::
LoÿtiÚ
 
loÿtiÚ
) {

41 
¹c
::
Glob®LockScİe
 
gls
(&
g_th»ad_»gi¡ry_lock
);

42 ià(
	gg_»gi¡”ed_th»ads
 =ğ
nuÎ±r
) {

43 
g_»gi¡”ed_th»ads
 =

44 
Ãw
 
¡d
::
m­
<cÚ¡ 
ScİedRegi¡”Th»adFÜDebuggšg
*, 
	gTh»adD©a
>();

46 cÚ¡‡utØ
	g»suÉ
 = 
g_»gi¡”ed_th»ads
->
š£¹
(

47 
¡d
::
make_·œ
(
this
, 
Th»adD©a
{
¹c
::
Cu¼’tTh»adId
(), 
loÿtiÚ
}));

48 
RTC_DCHECK
(
»suÉ
.
£cÚd
);

51 
	gScİedRegi¡”Th»adFÜDebuggšg
::~
ScİedRegi¡”Th»adFÜDebuggšg
() {

52 
¹c
::
Glob®LockScİe
 
gls
(&
g_th»ad_»gi¡ry_lock
);

53 
RTC_DCHECK
(
g_»gi¡”ed_th»ads
 !ğ
nuÎ±r
);

54 cÚ¡ 
	gnum_”a£d
 = 
g_»gi¡”ed_th»ads
->
”a£
(
this
);

55 
RTC_DCHECK_EQ
(
num_”a£d
, 1);

58 
PrštSckT¿ûsOfRegi¡”edTh»ads
() {

59 
	g¹c
::
Glob®LockScİe
 
gls
(&
g_th»ad_»gi¡ry_lock
);

60 ià(
	gg_»gi¡”ed_th»ads
 =ğ
nuÎ±r
) {

63 cÚ¡‡uto& 
	ge
 : *
g_»gi¡”ed_th»ads
) {

64 cÚ¡ 
Th»adD©a
& 
td
 = 
e
.
£cÚd
;

65 
RTC_LOG
(
LS_WARNING
è<< "Th»ad " << 
	gtd
.
	gth»ad_id
 << "„egistered‡t "

66 << 
	gtd
.
	gloÿtiÚ
.
ToSŒšg
() << ":";

67 
RTC_LOG
(
LS_WARNING
è<< 
SckT¿ûToSŒšg
(
G‘SckT¿û
(
td
.
th»ad_id
));

	@system/thread_registry.h

11 #iâdeà
RTC_BASE_SYSTEM_THREAD_REGISTRY_H_


12 
	#RTC_BASE_SYSTEM_THREAD_REGISTRY_H_


	)

14 
	~"¹c_ba£/loÿtiÚ.h
"

16 
Çme¥aû
 
	gweb¹c
 {

18 şas 
	cScİedRegi¡”Th»adFÜDebuggšg
 {

19 
	gpublic
:

20 #ià
defšed
(
WEBRTC_ANDROID
è&& !defšed(
WEBRTC_CHROMIUM_BUILD
)

21 
ex¶ic™
 
ScİedRegi¡”Th»adFÜDebuggšg
(
¹c
::
LoÿtiÚ
 
loÿtiÚ
);

22 ~
ScİedRegi¡”Th»adFÜDebuggšg
();

24 
ex¶ic™
 
ScİedRegi¡”Th»adFÜDebuggšg
(
¹c
::
LoÿtiÚ
) {}

29 
ScİedRegi¡”Th»adFÜDebuggšg
(const ScopedRegisterThreadForDebugging&) =

30 
d–‘e
;

31 
ScİedRegi¡”Th»adFÜDebuggšg
(ScİedRegi¡”Th»adFÜDebuggšg&&èğ
d–‘e
;

32 
	gScİedRegi¡”Th»adFÜDebuggšg
& 
	gİ”©Ü
=(

33 cÚ¡ 
ScİedRegi¡”Th»adFÜDebuggšg
&èğ
d–‘e
;

34 
	gScİedRegi¡”Th»adFÜDebuggšg
& 
	gİ”©Ü
=(

35 
ScİedRegi¡”Th»adFÜDebuggšg
&&èğ
d–‘e
;

38 #ià
defšed
(
WEBRTC_ANDROID
è&& !
	$defšed
(
WEBRTC_CHROMIUM_BUILD
)

39 
	`PrštSckT¿ûsOfRegi¡”edTh»ads
();

41 
šlše
 
	$PrštSckT¿ûsOfRegi¡”edTh»ads
(è{
	}
}

	@system/unused.h

11 #iâdeà
RTC_BASE_SYSTEM_UNUSED_H_


12 
	#RTC_BASE_SYSTEM_UNUSED_H_


	)

19 #ià
defšed
(
__şªg__
)

20 
	#RTC_WARN_UNUSED_RESULT
 
	`__©Œibu‹__
((
__w¬n_unu£d_»suÉ__
))

	)

21 #–ià
defšed
(
__GNUC__
)

24 
	#RTC_WARN_UNUSED_RESULT


	)

26 
	#RTC_WARN_UNUSED_RESULT


	)

35 #iâdeà
RTC_UNUSED


36 
	#RTC_UNUSED
(
x
è
¡©ic_ÿ¡
<>(x)

	)

	@system/warn_current_thread_is_deadlocked.cc

11 
	~"¹c_ba£/sy¡em/w¬n_cu¼’t_th»ad_is_d—dlocked.h
"

13 
	~"¹c_ba£/loggšg.h
"

14 
	~"sdk/ªdroid/Çtive_­i/¡ackŒaû/¡ackŒaû.h
"

16 
Çme¥aû
 
	gweb¹c
 {

18 
W¬nTh©TheCu¼’tTh»adIsProbablyD—dlocked
() {

19 
RTC_LOG
(
LS_WARNING
) << "Probable deadlock:";

20 
RTC_LOG
(
LS_WARNING
è<< 
SckT¿ûToSŒšg
(
G‘SckT¿û
());

	@system/warn_current_thread_is_deadlocked.h

11 #iâdeà
RTC_BASE_SYSTEM_WARN_CURRENT_THREAD_IS_DEADLOCKED_H_


12 
	#RTC_BASE_SYSTEM_WARN_CURRENT_THREAD_IS_DEADLOCKED_H_


	)

14 
Çme¥aû
 
	gweb¹c
 {

16 #ià
defšed
(
WEBRTC_ANDROID
è&& !defšed(
WEBRTC_CHROMIUM_BUILD
)

17 
W¬nTh©TheCu¼’tTh»adIsProbablyD—dlocked
();

19 
šlše
 
W¬nTh©TheCu¼’tTh»adIsProbablyD—dlocked
() {}

	@task_queue.cc

10 
	~"¹c_ba£/sk_queue.h
"

12 
	~"­i/sk_queue/sk_queue_ba£.h
"

14 
Çme¥aû
 
	g¹c
 {

16 
	gTaskQueue
::
TaskQueue
(

17 
¡d
::
unique_±r
<
web¹c
::
TaskQueueBa£
, web¹c::
TaskQueueD–‘”
> 
sk_queue
)

18 : 
im¶_
(
sk_queue
.
»Ëa£
()) {}

20 
TaskQueue
::~TaskQueue() {

25 
im¶_
->
D–‘e
();

28 
boŞ
 
	gTaskQueue
::
IsCu¼’t
() const {

29  
im¶_
->
IsCu¼’t
();

32 
	gTaskQueue
::
Po¡Task
(
¡d
::
unique_±r
<
web¹c
::
QueuedTask
> 
sk
) {

33  
im¶_
->
Po¡Task
(
¡d
::
move
(
sk
));

36 
	gTaskQueue
::
Po¡D–ayedTask
(
¡d
::
unique_±r
<
web¹c
::
QueuedTask
> 
sk
,

37 
ušt32_t
 
mli£cÚds
) {

38  
	gim¶_
->
Po¡D–ayedTask
(
¡d
::
move
(
sk
), 
mli£cÚds
);

	@task_queue.h

11 #iâdeà
RTC_BASE_TASK_QUEUE_H_


12 
	#RTC_BASE_TASK_QUEUE_H_


	)

14 
	~<¡dšt.h
>

16 
	~<memÜy
>

17 
	~<ut™y
>

19 
	~"ab¦/memÜy/memÜy.h
"

20 
	~"­i/sk_queue/queued_sk.h
"

21 
	~"­i/sk_queue/sk_queue_ba£.h
"

22 
	~"­i/sk_queue/sk_queue_çùÜy.h
"

23 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

24 
	~"¹c_ba£/sy¡em/¹c_expÜt.h
"

25 
	~"¹c_ba£/sk_uts/to_queued_sk.h
"

26 
	~"¹c_ba£/th»ad_ªnÙ©iÚs.h
"

28 
Çme¥aû
 
	g¹c
 {

76 şas 
	cRTC_LOCKABLE
 
RTC_EXPORT
 
	gTaskQueue
 {

77 
	gpublic
:

80 
usšg
 
PriÜ™y
 = ::
web¹c
::
TaskQueueFaùÜy
::Priority;

82 
ex¶ic™
 
TaskQueue
(
¡d
::
unique_±r
<
web¹c
::
TaskQueueBa£
,

83 
web¹c
::
TaskQueueD–‘”
> 
sk_queue
);

84 ~
TaskQueue
();

87 
boŞ
 
IsCu¼’t
() const;

90 
	gweb¹c
::
TaskQueueBa£
* 
G‘
(è{  
im¶_
; }

95 
Po¡Task
(
¡d
::
unique_±r
<
web¹c
::
QueuedTask
> 
sk
);

102 
Po¡D–ayedTask
(
¡d
::
unique_±r
<
web¹c
::
QueuedTask
> 
sk
,

103 
ušt32_t
 
mli£cÚds
);

108 
	g‹m¶©e
 <
şass
 
	gClosu»
,

109 
ty³Çme
 
	g¡d
::
’abË_if
<!
¡d
::
is_cÚv”tibË
<

110 
Closu»
,

111 
	g¡d
::
unique_±r
<
web¹c
::
QueuedTask
>>::
v®ue
>::
ty³
* = 
nuÎ±r
>

112 
Po¡Task
(
Closu»
&& 
şosu»
) {

113 
Po¡Task
(
web¹c
::
ToQueuedTask
(
¡d
::
fÜw¬d
<
Closu»
>(
şosu»
)));

117 
	g‹m¶©e
 <
şass
 
	gClosu»
,

118 
ty³Çme
 
	g¡d
::
’abË_if
<!
¡d
::
is_cÚv”tibË
<

119 
Closu»
,

120 
	g¡d
::
unique_±r
<
web¹c
::
QueuedTask
>>::
v®ue
>::
ty³
* = 
nuÎ±r
>

121 
Po¡D–ayedTask
(
Closu»
&& 
şosu»
, 
ušt32_t
 
mli£cÚds
) {

122 
Po¡D–ayedTask
(
web¹c
::
ToQueuedTask
(
¡d
::
fÜw¬d
<
Closu»
>(
şosu»
)),

123 
mli£cÚds
);

126 
	g´iv©e
:

127 
web¹c
::
TaskQueueBa£
* cÚ¡ 
im¶_
;

129 
RTC_DISALLOW_COPY_AND_ASSIGN
(
TaskQueue
);

	@task_queue_for_test.cc

11 
	~"¹c_ba£/sk_queue_fÜ_‹¡.h
"

13 
	~"­i/sk_queue/deçuÉ_sk_queue_çùÜy.h
"

15 
Çme¥aû
 
	gweb¹c
 {

17 
	gTaskQueueFÜTe¡
::
TaskQueueFÜTe¡
(
ab¦
::
¡ršg_v›w
 
Çme
, 
PriÜ™y
 
´iÜ™y
)

18 : 
TaskQueue
(

19 
C»©eDeçuÉTaskQueueFaùÜy
()->
C»©eTaskQueue
(
Çme
, 
´iÜ™y
)) {}

	@task_queue_for_test.h

11 #iâdeà
RTC_BASE_TASK_QUEUE_FOR_TEST_H_


12 
	#RTC_BASE_TASK_QUEUE_FOR_TEST_H_


	)

14 
	~<ut™y
>

16 
	~"ab¦/¡ršgs/¡ršg_v›w.h
"

17 
	~"­i/sk_queue/sk_queue_ba£.h
"

18 
	~"¹c_ba£/checks.h
"

19 
	~"¹c_ba£/ev’t.h
"

20 
	~"¹c_ba£/loÿtiÚ.h
"

21 
	~"¹c_ba£/sk_queue.h
"

22 
	~"¹c_ba£/sk_uts/to_queued_sk.h
"

23 
	~"¹c_ba£/th»ad_ªnÙ©iÚs.h
"

25 
Çme¥aû
 
	gweb¹c
 {

27 
	g‹m¶©e
 <
ty³Çme
 
	gClosu»
>

28 
S’dTask
(
¹c
::
LoÿtiÚ
 
loc
, 
TaskQueueBa£
* 
sk_queue
, 
Closu»
&& 
sk
) {

29 
RTC_CHECK
(!
sk_queue
->
IsCu¼’t
())

30 << "C®Ëd S’dTaskØ¨queuäomh§mqueu© " << 
	gloc
.
ToSŒšg
();

31 
	g¹c
::
Ev’t
 
ev’t
;

32 
	gsk_queue
->
Po¡Task
(

33 
ToQueuedTask
(
¡d
::
fÜw¬d
<
Closu»
>(
sk
), [&
ev’t
] {ƒv’t.
S‘
(); }));

34 
RTC_CHECK
(
ev’t
.
Wa™
Ğ
¹c
::
Ev’t
::
kFÜev”
,

36 << "Wa™edoØlÚg‡ˆ" << 
loc
.
ToSŒšg
();

39 şas 
	cRTC_LOCKABLE
 
TaskQueueFÜTe¡
 : 
public
 
¹c
::
TaskQueue
 {

40 
public
:

41 
usšg
 
¹c
::
TaskQueue
::TaskQueue;

42 
ex¶ic™
 
TaskQueueFÜTe¡
(
ab¦
::
¡ršg_v›w
 
Çme
 = "TestQueue",

43 
PriÜ™y
 
´iÜ™y
 = PriÜ™y::
NORMAL
);

44 
TaskQueueFÜTe¡
(cÚ¡ TaskQueueFÜTe¡&èğ
d–‘e
;

45 
TaskQueueFÜTe¡
& 
İ”©Ü
=(cÚ¡ TaskQueueFÜTe¡&èğ
d–‘e
;

46 ~
TaskQueueFÜTe¡
() = ;

53 
‹m¶©e
 <
şass
 
Closu»
>

54 
S’dTask
(
Closu»
* 
sk
) {

55 
RTC_CHECK
(!
IsCu¼’t
());

56 
¹c
::
Ev’t
 
ev’t
;

57 
Po¡Task
(
ToQueuedTask
(

58 [&
sk
] { 
RTC_CHECK_EQ
(
çl£
, 
¡©ic_ÿ¡
<
QueuedTask
*>Ñask)->
Run
()); },

59 [&
ev’t
] {ƒv’t.
S‘
(); }));

60 
ev’t
.
Wa™
(
¹c
::
Ev’t
::
kFÜev”
);

65 
‹m¶©e
 <
şass
 
Closu»
>

66 
S’dTask
(
Closu»
&& 
sk
, 
¹c
::
LoÿtiÚ
 
loc
) {

67 ::
web¹c
::
S’dTask
(
loc
, 
G‘
(), 
¡d
::
fÜw¬d
<
Closu»
>(
sk
));

72 
Wa™FÜP»viou¦yPo¡edTasks
() {

75 
S’dTask
([](è{}, 
RTC_FROM_HERE
);

	@task_queue_gcd.cc

15 
	~"¹c_ba£/sk_queue_gcd.h
"

17 
	~<di¥©ch/di¥©ch.h
>

18 
	~<¡ršg.h
>

20 
	~<memÜy
>

22 
	~"ab¦/¡ršgs/¡ršg_v›w.h
"

23 
	~"­i/sk_queue/queued_sk.h
"

24 
	~"­i/sk_queue/sk_queue_ba£.h
"

25 
	~"¹c_ba£/checks.h
"

26 
	~"¹c_ba£/loggšg.h
"

27 
	~"¹c_ba£/sy¡em/gcd_h–³rs.h
"

29 
Çme¥aû
 
	gweb¹c
 {

30 
	gÇme¥aû
 {

32 
TaskQueuePriÜ™yToGCD
(
TaskQueueFaùÜy
::
PriÜ™y
 
´iÜ™y
) {

33 
´iÜ™y
) {

34 
TaskQueueFaùÜy
::
PriÜ™y
::
NORMAL
:

35  
DISPATCH_QUEUE_PRIORITY_DEFAULT
;

36 
	gTaskQueueFaùÜy
::
PriÜ™y
::
HIGH
:

37  
DISPATCH_QUEUE_PRIORITY_HIGH
;

38 
	gTaskQueueFaùÜy
::
PriÜ™y
::
LOW
:

39  
DISPATCH_QUEUE_PRIORITY_LOW
;

43 şas 
	cTaskQueueGcd
 : 
public
 
TaskQueueBa£
 {

44 
public
:

45 
TaskQueueGcd
(
ab¦
::
¡ršg_v›w
 
queue_Çme
, 
gcd_´iÜ™y
);

47 
D–‘e
(è
	gov”ride
;

48 
Po¡Task
(
¡d
::
unique_±r
<
QueuedTask
> 
sk
è
ov”ride
;

49 
Po¡D–ayedTask
(
¡d
::
unique_±r
<
QueuedTask
> 
sk
,

50 
ušt32_t
 
mli£cÚds
è
	gov”ride
;

52 
	g´iv©e
:

53 
	sTaskCÚ‹xt
 {

54 
TaskCÚ‹xt
(
TaskQueueGcd
* 
queue
, 
¡d
::
unique_±r
<
QueuedTask
> 
sk
)

55 : 
queue
(queue), 
sk
(
¡d
::
move
(task)) {}

57 
TaskQueueGcd
* cÚ¡ 
queue
;

58 
	g¡d
::
unique_±r
<
QueuedTask
> 
sk
;

61 ~
TaskQueueGcd
(è
	gov”ride
;

62 
RunTask
(* 
sk_cÚ‹xt
);

63 
S‘NÙAùive
(* 
sk_queue
);

64 
D–‘eQueue
(* 
sk_queue
);

66 
di¥©ch_queue_t
 
	gqueue_
;

67 
boŞ
 
	gis_aùive_
;

70 
	gTaskQueueGcd
::
TaskQueueGcd
(
ab¦
::
¡ršg_v›w
 
queue_Çme
, 
gcd_´iÜ™y
)

71 : 
queue_
(
RTCDi¥©chQueueC»©eW™hT¬g‘
(

72 
¡d
::
¡ršg
(
queue_Çme
).
c_¡r
(),

73 
DISPATCH_QUEUE_SERIAL
,

74 
di¥©ch_g‘_glob®_queue
(
gcd_´iÜ™y
, 0))),

75 
is_aùive_
(
Œue
) {

76 
RTC_CHECK
(
queue_
);

77 
di¥©ch_£t_cÚ‹xt
(
queue_
, 
this
);

80 
di¥©ch_£t_fš®iz”_f
(
queue_
, &
D–‘eQueue
);

83 
	gTaskQueueGcd
::~
TaskQueueGcd
() = ;

85 
	gTaskQueueGcd
::
D–‘e
() {

86 
RTC_DCHECK
(!
IsCu¼’t
());

96 
di¥©ch_sync_f
(
queue_
, 
this
, &
S‘NÙAùive
);

97 
di¥©ch_»Ëa£
(
queue_
);

100 
	gTaskQueueGcd
::
Po¡Task
(
¡d
::
unique_±r
<
QueuedTask
> 
sk
) {

101 auto* 
cÚ‹xt
 = 
Ãw
 
TaskCÚ‹xt
(
this
, 
¡d
::
move
(
sk
));

102 
di¥©ch_async_f
(
queue_
, 
cÚ‹xt
, &
RunTask
);

105 
	gTaskQueueGcd
::
Po¡D–ayedTask
(
¡d
::
unique_±r
<
QueuedTask
> 
sk
,

106 
ušt32_t
 
mli£cÚds
) {

107 auto* 
	gcÚ‹xt
 = 
Ãw
 
TaskCÚ‹xt
(
this
, 
¡d
::
move
(
sk
));

108 
di¥©ch_aá”_f
(

109 
di¥©ch_time
(
DISPATCH_TIME_NOW
, 
mli£cÚds
 * 
NSEC_PER_MSEC
), 
queue_
,

110 
cÚ‹xt
, &
RunTask
);

114 
	gTaskQueueGcd
::
RunTask
(* 
sk_cÚ‹xt
) {

115 
¡d
::
unique_±r
<
TaskCÚ‹xt
> 
tc
(
¡©ic_ÿ¡
<TaskCÚ‹xt*>(
sk_cÚ‹xt
));

116 ià(!
	gtc
->
	gqueue
->
	gis_aùive_
)

119 
Cu¼’tTaskQueueS‘‹r
 
£t_cu¼’t
(
tc
->
queue
);

120 auto* 
	gsk
 = 
tc
->
sk
.
»Ëa£
();

121 ià(
	gsk
->
Run
()) {

124 
d–‘e
 
	gsk
;

129 
	gTaskQueueGcd
::
S‘NÙAùive
(* 
sk_queue
) {

130 
¡©ic_ÿ¡
<
TaskQueueGcd
*>(
sk_queue
)->
is_aùive_
 = 
çl£
;

134 
	gTaskQueueGcd
::
D–‘eQueue
(* 
sk_queue
) {

135 
d–‘e
 
¡©ic_ÿ¡
<
TaskQueueGcd
*>(
sk_queue
);

138 şas 
	cTaskQueueGcdFaùÜy
 
	gfš®
 : 
public
 
TaskQueueFaùÜy
 {

139 
public
:

140 
¡d
::
unique_±r
<
TaskQueueBa£
, 
	gTaskQueueD–‘”
> 
C»©eTaskQueue
(

141 
ab¦
::
¡ršg_v›w
 
Çme
,

142 
PriÜ™y
 
´iÜ™y
ècÚ¡ 
	gov”ride
 {

143  
	g¡d
::
unique_±r
<
TaskQueueBa£
, 
	gTaskQueueD–‘”
>(

144 
Ãw
 
TaskQueueGcd
(
Çme
, 
TaskQueuePriÜ™yToGCD
(
´iÜ™y
)));

150 
	g¡d
::
unique_±r
<
TaskQueueFaùÜy
> 
	$C»©eTaskQueueGcdFaùÜy
() {

151  
¡d
::
make_unique
<
TaskQueueGcdFaùÜy
>();

152 
	}
}

	@task_queue_gcd.h

11 #iâdeà
RTC_BASE_TASK_QUEUE_GCD_H_


12 
	#RTC_BASE_TASK_QUEUE_GCD_H_


	)

14 
	~<memÜy
>

16 
	~"­i/sk_queue/sk_queue_çùÜy.h
"

18 
Çme¥aû
 
	gweb¹c
 {

20 
	g¡d
::
unique_±r
<
TaskQueueFaùÜy
> 
C»©eTaskQueueGcdFaùÜy
();

	@task_queue_libevent.cc

11 
	~"¹c_ba£/sk_queue_libev’t.h
"

13 
	~<”ºo.h
>

14 
	~<fú.h
>

15 
	~<±h»ad.h
>

16 
	~<sigÇl.h
>

17 
	~<¡dšt.h
>

18 
	~<time.h
>

19 
	~<uni¡d.h
>

21 
	~<li¡
>

22 
	~<memÜy
>

23 
	~<ty³_Œa™s
>

24 
	~<ut™y
>

26 
	~"ab¦/cÚš”/šlšed_veùÜ.h
"

27 
	~"ab¦/¡ršgs/¡ršg_v›w.h
"

28 
	~"­i/sk_queue/queued_sk.h
"

29 
	~"­i/sk_queue/sk_queue_ba£.h
"

30 
	~"ba£/thœd_·¹y/libev’t/ev’t.h
"

31 
	~"¹c_ba£/checks.h
"

32 
	~"¹c_ba£/ü™iÿl_£ùiÚ.h
"

33 
	~"¹c_ba£/loggšg.h
"

34 
	~"¹c_ba£/num”ics/§ã_cÚv”siÚs.h
"

35 
	~"¹c_ba£/¶©fÜm_th»ad.h
"

36 
	~"¹c_ba£/¶©fÜm_th»ad_ty³s.h
"

37 
	~"¹c_ba£/th»ad_ªnÙ©iÚs.h
"

38 
	~"¹c_ba£/time_uts.h
"

40 
Çme¥aû
 
	gweb¹c
 {

41 
	gÇme¥aû
 {

42 
cÚ¡ex´
 
	gkQu™
 = 1;

43 
cÚ¡ex´
 
	gkRunTasks
 = 2;

45 
usšg
 
	gPriÜ™y
 = 
TaskQueueFaùÜy
::
PriÜ™y
;

60 
IgnÜeSigPeSigÇlOnCu¼’tTh»ad
() {

61 
sig£t_t
 
	gsigpe_mask
;

62 
sigem±y£t
(&
sigpe_mask
);

63 
sigadd£t
(&
sigpe_mask
, 
SIGPIPE
);

64 
±h»ad_sigmask
(
SIG_BLOCK
, &
sigpe_mask
, 
nuÎ±r
);

67 
boŞ
 
S‘NÚBlockšg
(
fd
) {

68 cÚ¡ 
	gæags
 = 
fú
(
fd
, 
F_GETFL
);

69 
RTC_CHECK
(
æags
 != -1);

70  (
	gæags
 & 
	gO_NONBLOCK
è|| 
fú
(
fd
, 
F_SETFL
, 
æags
 | 
O_NONBLOCK
) != -1;

79 
Ev’tAssign
(
ev’t
* 
ev
,

80 
ev’t_ba£
* 
ba£
,

81 
fd
,

82 
ev’ts
,

83 (*
ÿÎback
)(, , *),

84 * 
¬g
) {

85 #ià
defšed
(
_EVENT2_EVENT_H_
)

86 
RTC_CHECK_EQ
(0, 
ev’t_assign
(
ev
, 
ba£
, 
fd
, 
ev’ts
, 
ÿÎback
, 
¬g
));

88 
ev’t_£t
(
ev
, 
fd
, 
ev’ts
, 
ÿÎback
, 
¬g
);

89 
RTC_CHECK_EQ
(0, 
ev’t_ba£_£t
(
ba£
, 
ev
));

93 
	g¹c
::
Th»adPriÜ™y
 
TaskQueuePriÜ™yToTh»adPriÜ™y
(
PriÜ™y
 
´iÜ™y
) {

94 
´iÜ™y
) {

95 
PriÜ™y
::
HIGH
:

96  
¹c
::
kR—ÉimePriÜ™y
;

97 
	gPriÜ™y
::
LOW
:

98  
¹c
::
kLowPriÜ™y
;

99 
	gPriÜ™y
::
NORMAL
:

100  
¹c
::
kNÜm®PriÜ™y
;

102 
RTC_NOTREACHED
();

105  
	g¹c
::
kNÜm®PriÜ™y
;

108 şas 
	cTaskQueueLibev’t
 
	gfš®
 : 
public
 
TaskQueueBa£
 {

109 
public
:

110 
TaskQueueLibev’t
(
ab¦
::
¡ršg_v›w
 
queue_Çme
, 
¹c
::
Th»adPriÜ™y
 
´iÜ™y
);

112 
D–‘e
(è
	gov”ride
;

113 
Po¡Task
(
¡d
::
unique_±r
<
QueuedTask
> 
sk
è
ov”ride
;

114 
Po¡D–ayedTask
(
¡d
::
unique_±r
<
QueuedTask
> 
sk
,

115 
ušt32_t
 
mli£cÚds
è
	gov”ride
;

117 
	g´iv©e
:

118 
şass
 
S‘Tim”Task
;

119 
	gTim”Ev’t
;

121 ~
TaskQueueLibev’t
(è
	gov”ride
 = ;

123 
Th»adMaš
(* 
cÚ‹xt
);

124 
OnWakeup
(
sock‘
, 
æags
, * 
cÚ‹xt
);

125 
RunTim”
(
fd
, 
æags
, * 
cÚ‹xt
);

127 
boŞ
 
	gis_aùive_
 = 
Œue
;

128 
	gwakeup_pe_š_
 = -1;

129 
	gwakeup_pe_out_
 = -1;

130 
ev’t_ba£
* 
	gev’t_ba£_
;

131 
ev’t
 
	gwakeup_ev’t_
;

132 
	g¹c
::
PÏtfÜmTh»ad
 
th»ad_
;

133 
	g¹c
::
Cr™iÿlSeùiÚ
 
³ndšg_lock_
;

134 
	gab¦
::
IÆšedVeùÜ
<
¡d
::
unique_±r
<
QueuedTask
>, 4> 
³ndšg_


135 
RTC_GUARDED_BY
(
³ndšg_lock_
);

137 
	g¡d
::
li¡
<
Tim”Ev’t
*> 
³ndšg_tim”s_
;

140 
	gTaskQueueLibev’t
::
Tim”Ev’t
 {

141 
Tim”Ev’t
(
TaskQueueLibev’t
* 
sk_queue
, 
¡d
::
unique_±r
<
QueuedTask
> 
sk
)

142 : 
sk_queue
Ñask_queue), 
sk
(
¡d
::
move
(task)) {}

143 ~
Tim”Ev’t
(è{ 
ev’t_d–
(&
ev
); }

145 
ev’t
 
	gev
;

146 
TaskQueueLibev’t
* 
	gsk_queue
;

147 
	g¡d
::
unique_±r
<
QueuedTask
> 
sk
;

150 şas 
	cTaskQueueLibev’t
::
S‘Tim”Task
 : 
public
 
QueuedTask
 {

151 
public
:

152 
S‘Tim”Task
(
¡d
::
unique_±r
<
QueuedTask
> 
sk
, 
ušt32_t
 
mli£cÚds
)

153 : 
sk_
(
¡d
::
move
(
sk
)),

154 
mli£cÚds_
(
mli£cÚds
),

155 
po¡ed_
(
¹c
::
Time32
()) {}

157 
´iv©e
:

158 
boŞ
 
Run
(è
ov”ride
 {

161 
ušt32_t
 
po¡_time
 = 
¹c
::
Time32
(è- 
po¡ed_
;

162 
	gTaskQueueLibev’t
::
Cu¼’t
()->
Po¡D–ayedTask
(

163 
¡d
::
move
(
sk_
),

164 
po¡_time
 > 
mli£cÚds_
 ? 0 : milliseconds_ -…ost_time);

165  
	gŒue
;

168 
	g¡d
::
unique_±r
<
QueuedTask
> 
sk_
;

169 cÚ¡ 
ušt32_t
 
	gmli£cÚds_
;

170 cÚ¡ 
ušt32_t
 
	gpo¡ed_
;

173 
	gTaskQueueLibev’t
::
TaskQueueLibev’t
(
ab¦
::
¡ršg_v›w
 
queue_Çme
,

174 
¹c
::
Th»adPriÜ™y
 
´iÜ™y
)

175 : 
ev’t_ba£_
(
ev’t_ba£_Ãw
()),

176 
th»ad_
(&
TaskQueueLibev’t
::
Th»adMaš
, 
this
, 
queue_Çme
, 
´iÜ™y
) {

177 
	gfds
[2];

178 
RTC_CHECK
(
pe
(
fds
) == 0);

179 
S‘NÚBlockšg
(
fds
[0]);

180 
S‘NÚBlockšg
(
fds
[1]);

181 
	gwakeup_pe_out_
 = 
fds
[0];

182 
	gwakeup_pe_š_
 = 
fds
[1];

184 
Ev’tAssign
(&
wakeup_ev’t_
, 
ev’t_ba£_
, 
wakeup_pe_out_
,

185 
EV_READ
 | 
EV_PERSIST
, 
OnWakeup
, 
this
);

186 
ev’t_add
(&
wakeup_ev’t_
, 0);

187 
	gth»ad_
.
S¹
();

190 
	gTaskQueueLibev’t
::
D–‘e
() {

191 
RTC_DCHECK
(!
IsCu¼’t
());

192 
time¥ec
 
	gts
;

193 
	gmes§ge
 = 
kQu™
;

194 
wr™e
(
wakeup_pe_š_
, &
mes§ge
, (message)) != (message)) {

196 
RTC_CHECK_EQ
(
EAGAIN
, 
”ºo
);

197 
	gts
.
	gtv_£c
 = 0;

198 
	gts
.
	gtv_n£c
 = 1000000;

199 
Çno¦“p
(&
ts
, 
nuÎ±r
);

202 
	gth»ad_
.
Stİ
();

204 
ev’t_d–
(&
wakeup_ev’t_
);

206 
IgnÜeSigPeSigÇlOnCu¼’tTh»ad
();

208 
şo£
(
wakeup_pe_š_
);

209 
şo£
(
wakeup_pe_out_
);

210 
	gwakeup_pe_š_
 = -1;

211 
	gwakeup_pe_out_
 = -1;

213 
ev’t_ba£_ä“
(
ev’t_ba£_
);

214 
d–‘e
 
	gthis
;

217 
	gTaskQueueLibev’t
::
Po¡Task
(
¡d
::
unique_±r
<
QueuedTask
> 
sk
) {

219 
¹c
::
Cr™Scİe
 
lock
(&
³ndšg_lock_
);

220 
boŞ
 
	ghad_³ndšg_sks
 = !
³ndšg_
.
em±y
();

221 
	g³ndšg_
.
push_back
(
¡d
::
move
(
sk
));

228 ià(
	ghad_³ndšg_sks
) {

235 
	gmes§ge
 = 
kRunTasks
;

236 
RTC_CHECK_EQ
(
wr™e
(
wakeup_pe_š_
, &
mes§ge
, (message)),

237 (
mes§ge
));

240 
	gTaskQueueLibev’t
::
Po¡D–ayedTask
(
¡d
::
unique_±r
<
QueuedTask
> 
sk
,

241 
ušt32_t
 
mli£cÚds
) {

242 ià(
IsCu¼’t
()) {

243 
Tim”Ev’t
* 
	gtim”
 = 
Ãw
 Tim”Ev’t(
this
, 
¡d
::
move
(
sk
));

244 
Ev’tAssign
(&
tim”
->
ev
, 
ev’t_ba£_
, -1, 0, &
TaskQueueLibev’t
::
RunTim”
,

245 
tim”
);

246 
	g³ndšg_tim”s_
.
push_back
(
tim”
);

247 
timev®
 
	gtv
 = {
¹c
::
dchecked_ÿ¡
<>(
mli£cÚds
 / 1000),

248 
¹c
::
dchecked_ÿ¡
<>(
mli£cÚds
 % 1000) * 1000};

249 
ev’t_add
(&
tim”
->
ev
, &
tv
);

251 
Po¡Task
(
¡d
::
make_unique
<
S‘Tim”Task
>(¡d::
move
(
sk
), 
mli£cÚds
));

256 
	gTaskQueueLibev’t
::
Th»adMaš
(* 
cÚ‹xt
) {

257 
TaskQueueLibev’t
* 
me
 = 
¡©ic_ÿ¡
<TaskQueueLibev’t*>(
cÚ‹xt
);

260 
Cu¼’tTaskQueueS‘‹r
 
£t_cu¼’t
(
me
);

261 
	gme
->
	gis_aùive_
)

262 
ev’t_ba£_loİ
(
me
->
ev’t_ba£_
, 0);

265 
Tim”Ev’t
* 
	gtim”
 : 
me
->
³ndšg_tim”s_
)

266 
d–‘e
 
tim”
;

270 
	gTaskQueueLibev’t
::
OnWakeup
(
sock‘
,

271 
æags
,

272 * 
cÚ‹xt
) {

273 
TaskQueueLibev’t
* 
	gme
 = 
¡©ic_ÿ¡
<TaskQueueLibev’t*>(
cÚ‹xt
);

274 
RTC_DCHECK
(
me
->
wakeup_pe_out_
 =ğ
sock‘
);

275 
	gbuf
;

276 
RTC_CHECK
((
buf
è=ğ
»ad
(
sock‘
, &buf, (buf)));

277 
	gbuf
) {

278 
	gkQu™
:

279 
me
->
is_aùive_
 = 
çl£
;

280 
ev’t_ba£_loİb»ak
(
me
->
ev’t_ba£_
);

282 
	gkRunTasks
: {

283 
ab¦
::
IÆšedVeùÜ
<
¡d
::
unique_±r
<
QueuedTask
>, 4> 
	gsks
;

285 
	g¹c
::
Cr™Scİe
 
lock
(&
me
->
³ndšg_lock_
);

286 
	gsks
.
sw­
(
me
->
³ndšg_
);

288 
RTC_DCHECK
(!
sks
.
em±y
());

289 auto& 
	gsk
 : 
sks
) {

290 ià(
sk
->
Run
()) {

291 
sk
.
»£t
();

294 
	gsk
.
»Ëa£
();

300 
RTC_NOTREACHED
();

306 
	gTaskQueueLibev’t
::
RunTim”
(
fd
,

307 
æags
,

308 * 
cÚ‹xt
) {

309 
Tim”Ev’t
* 
	gtim”
 = 
¡©ic_ÿ¡
<Tim”Ev’t*>(
cÚ‹xt
);

310 ià(!
	gtim”
->
	gsk
->
Run
())

311 
	gtim”
->
	gsk
.
»Ëa£
();

312 
	gtim”
->
	gsk_queue
->
	g³ndšg_tim”s_
.
»move
(
tim”
);

313 
d–‘e
 
	gtim”
;

316 şas 
	cTaskQueueLibev’tFaùÜy
 
	gfš®
 : 
public
 
TaskQueueFaùÜy
 {

317 
public
:

318 
¡d
::
unique_±r
<
TaskQueueBa£
, 
	gTaskQueueD–‘”
> 
C»©eTaskQueue
(

319 
ab¦
::
¡ršg_v›w
 
Çme
,

320 
PriÜ™y
 
´iÜ™y
ècÚ¡ 
	gov”ride
 {

321  
	g¡d
::
unique_±r
<
TaskQueueBa£
, 
	gTaskQueueD–‘”
>(

322 
Ãw
 
TaskQueueLibev’t
(
Çme
,

323 
TaskQueuePriÜ™yToTh»adPriÜ™y
(
´iÜ™y
)));

329 
	g¡d
::
unique_±r
<
TaskQueueFaùÜy
> 
	$C»©eTaskQueueLibev’tFaùÜy
() {

330  
¡d
::
make_unique
<
TaskQueueLibev’tFaùÜy
>();

331 
	}
}

	@task_queue_libevent.h

11 #iâdeà
RTC_BASE_TASK_QUEUE_LIBEVENT_H_


12 
	#RTC_BASE_TASK_QUEUE_LIBEVENT_H_


	)

14 
	~<memÜy
>

16 
	~"­i/sk_queue/sk_queue_çùÜy.h
"

18 
Çme¥aû
 
	gweb¹c
 {

20 
	g¡d
::
unique_±r
<
TaskQueueFaùÜy
> 
C»©eTaskQueueLibev’tFaùÜy
();

	@task_queue_stdlib.cc

11 
	~"¹c_ba£/sk_queue_¡dlib.h
"

13 
	~<¡ršg.h
>

15 
	~<®gÜ™hm
>

16 
	~<m­
>

17 
	~<memÜy
>

18 
	~<queue
>

19 
	~<ut™y
>

21 
	~"ab¦/¡ršgs/¡ršg_v›w.h
"

22 
	~"­i/sk_queue/queued_sk.h
"

23 
	~"­i/sk_queue/sk_queue_ba£.h
"

24 
	~"¹c_ba£/checks.h
"

25 
	~"¹c_ba£/ü™iÿl_£ùiÚ.h
"

26 
	~"¹c_ba£/ev’t.h
"

27 
	~"¹c_ba£/loggšg.h
"

28 
	~"¹c_ba£/¶©fÜm_th»ad.h
"

29 
	~"¹c_ba£/th»ad_ªnÙ©iÚs.h
"

30 
	~"¹c_ba£/time_uts.h
"

32 
Çme¥aû
 
	gweb¹c
 {

33 
	gÇme¥aû
 {

35 
	g¹c
::
Th»adPriÜ™y
 
TaskQueuePriÜ™yToTh»adPriÜ™y
(

36 
TaskQueueFaùÜy
::
PriÜ™y
 
´iÜ™y
) {

37 
´iÜ™y
) {

38 
TaskQueueFaùÜy
::
PriÜ™y
::
HIGH
:

39  
¹c
::
kR—ÉimePriÜ™y
;

40 
	gTaskQueueFaùÜy
::
PriÜ™y
::
LOW
:

41  
¹c
::
kLowPriÜ™y
;

42 
	gTaskQueueFaùÜy
::
PriÜ™y
::
NORMAL
:

43  
¹c
::
kNÜm®PriÜ™y
;

45 
RTC_NOTREACHED
();

46  
	g¹c
::
kNÜm®PriÜ™y
;

50 şas 
	cTaskQueueStdlib
 
	gfš®
 : 
public
 
TaskQueueBa£
 {

51 
public
:

52 
TaskQueueStdlib
(
ab¦
::
¡ršg_v›w
 
queue_Çme
, 
¹c
::
Th»adPriÜ™y
 
´iÜ™y
);

53 ~
TaskQueueStdlib
(è
	gov”ride
 = ;

55 
D–‘e
(è
	gov”ride
;

56 
Po¡Task
(
¡d
::
unique_±r
<
QueuedTask
> 
sk
è
ov”ride
;

57 
Po¡D–ayedTask
(
¡d
::
unique_±r
<
QueuedTask
> 
sk
,

58 
ušt32_t
 
mli£cÚds
è
	gov”ride
;

60 
	g´iv©e
:

61 
usšg
 
Ord”Id
 = 
ušt64_t
;

63 
	sD–ayedEÁryTimeout
 {

64 
št64_t
 
	gÃxt_fœe_©_ms_
{};

65 
Ord”Id
 
	gÜd”_
{};

67 
boŞ
 
	gİ”©Ü
<(cÚ¡ 
	gD–ayedEÁryTimeout
& 
	go
) const {

68  
	g¡d
::
t›
(
Ãxt_fœe_©_ms_
, 
Üd”_
) <

69 
	g¡d
::
t›
(
o
.
Ãxt_fœe_©_ms_
, o.
Üd”_
);

73 
	sNextTask
 {

74 
boŞ
 
	gfš®_sk_
{
	gçl£
};

75 
	g¡d
::
unique_±r
<
QueuedTask
> 
run_sk_
;

76 
št64_t
 
	g¦“p_time_ms_
{};

79 
NextTask
 
G‘NextTask
();

81 
Th»adMaš
(* 
cÚ‹xt
);

83 
ProûssTasks
();

85 
NÙifyWake
();

88 
	g¹c
::
Ev’t
 
¡¬‹d_
;

91 
	g¹c
::
Ev’t
 
¡İ³d_
;

94 
	g¹c
::
Ev’t
 
æag_nÙify_
;

98 
	g¹c
::
PÏtfÜmTh»ad
 
th»ad_
;

100 
	g¹c
::
Cr™iÿlSeùiÚ
 
³ndšg_lock_
;

103 
boŞ
 
th»ad_should_qu™_
 
RTC_GUARDED_BY
(
³ndšg_lock_
){
	gçl£
};

107 
Ord”Id
 
th»ad_po¡šg_Üd”_
 
RTC_GUARDED_BY
(
³ndšg_lock_
){};

111 
	g¡d
::
queue
<
¡d
::
·œ
<
Ord”Id
, std::
unique_±r
<
QueuedTask
>>> 
³ndšg_queue_


112 
RTC_GUARDED_BY
(
³ndšg_lock_
);

120 
	g¡d
::
m­
<
D–ayedEÁryTimeout
, std::
unique_±r
<
QueuedTask
>> 
d–ayed_queue_


121 
RTC_GUARDED_BY
(
³ndšg_lock_
);

124 
	gTaskQueueStdlib
::
TaskQueueStdlib
(
ab¦
::
¡ršg_v›w
 
queue_Çme
,

125 
¹c
::
Th»adPriÜ™y
 
´iÜ™y
)

126 : 
¡¬‹d_
Ğ
çl£
, false),

127 
¡İ³d_
Ğ
çl£
, false),

128 
æag_nÙify_
Ğ
çl£
, false),

129 
th»ad_
(&
TaskQueueStdlib
::
Th»adMaš
, 
this
, 
queue_Çme
, 
´iÜ™y
) {

130 
	gth»ad_
.
S¹
();

131 
	g¡¬‹d_
.
Wa™
(
¹c
::
Ev’t
::
kFÜev”
);

134 
	gTaskQueueStdlib
::
D–‘e
() {

135 
RTC_DCHECK
(!
IsCu¼’t
());

138 
	g¹c
::
Cr™Scİe
 
lock
(&
³ndšg_lock_
);

139 
	gth»ad_should_qu™_
 = 
Œue
;

142 
NÙifyWake
();

144 
	g¡İ³d_
.
Wa™
(
¹c
::
Ev’t
::
kFÜev”
);

145 
	gth»ad_
.
Stİ
();

146 
d–‘e
 
	gthis
;

149 
	gTaskQueueStdlib
::
Po¡Task
(
¡d
::
unique_±r
<
QueuedTask
> 
sk
) {

151 
¹c
::
Cr™Scİe
 
lock
(&
³ndšg_lock_
);

152 
Ord”Id
 
	gÜd”
 = 
th»ad_po¡šg_Üd”_
++;

154 
	g³ndšg_queue_
.
push
(
¡d
::
·œ
<
Ord”Id
, std::
unique_±r
<
QueuedTask
>>(

155 
Üd”
, 
¡d
::
move
(
sk
)));

158 
NÙifyWake
();

161 
	gTaskQueueStdlib
::
Po¡D–ayedTask
(
¡d
::
unique_±r
<
QueuedTask
> 
sk
,

162 
ušt32_t
 
mli£cÚds
) {

163 autØ
	gfœe_©
 = 
¹c
::
TimeMlis
(è+ 
mli£cÚds
;

165 
D–ayedEÁryTimeout
 
	gd–ay
;

166 
	gd–ay
.
	gÃxt_fœe_©_ms_
 = 
fœe_©
;

169 
	g¹c
::
Cr™Scİe
 
lock
(&
³ndšg_lock_
);

170 
	gd–ay
.
	gÜd”_
 = ++
th»ad_po¡šg_Üd”_
;

171 
	gd–ayed_queue_
[
d–ay
] = 
¡d
::
move
(
sk
);

174 
NÙifyWake
();

177 
	gTaskQueueStdlib
::
NextTask
 
TaskQueueStdlib
::
G‘NextTask
() {

178 
NextTask
 
»suÉ
{};

180 autØ
	gtick
 = 
¹c
::
TimeMlis
();

182 
	g¹c
::
Cr™Scİe
 
lock
(&
³ndšg_lock_
);

184 ià(
	gth»ad_should_qu™_
) {

185 
	g»suÉ
.
	gfš®_sk_
 = 
Œue
;

186  
	g»suÉ
;

189 ià(
	gd–ayed_queue_
.
size
() > 0) {

190 autØ
	gd–ayed_’Œy
 = 
d–ayed_queue_
.
begš
();

191 cÚ¡‡uto& 
	gd–ay_šfo
 = 
d–ayed_’Œy
->
fœ¡
;

192 auto& 
	gd–ay_run
 = 
d–ayed_’Œy
->
£cÚd
;

193 ià(
	gtick
 >ğ
d–ay_šfo
.
Ãxt_fœe_©_ms_
) {

194 ià(
³ndšg_queue_
.
size
() > 0) {

195 auto& 
’Œy
 = 
³ndšg_queue_
.
äÚt
();

196 auto& 
	g’Œy_Üd”
 = 
’Œy
.
fœ¡
;

197 auto& 
	g’Œy_run
 = 
’Œy
.
£cÚd
;

198 ià(
	g’Œy_Üd”
 < 
	gd–ay_šfo
.
	gÜd”_
) {

199 
	g»suÉ
.
	grun_sk_
 = 
¡d
::
move
(
’Œy_run
);

200 
	g³ndšg_queue_
.
pİ
();

201  
	g»suÉ
;

205 
	g»suÉ
.
	grun_sk_
 = 
¡d
::
move
(
d–ay_run
);

206 
	gd–ayed_queue_
.
”a£
(
d–ayed_’Œy
);

207  
	g»suÉ
;

210 
	g»suÉ
.
	g¦“p_time_ms_
 = 
d–ay_šfo
.
Ãxt_fœe_©_ms_
 - 
tick
;

213 ià(
	g³ndšg_queue_
.
size
() > 0) {

214 auto& 
	g’Œy
 = 
³ndšg_queue_
.
äÚt
();

215 
	g»suÉ
.
	grun_sk_
 = 
¡d
::
move
(
’Œy
.
£cÚd
);

216 
	g³ndšg_queue_
.
pİ
();

219  
	g»suÉ
;

223 
	gTaskQueueStdlib
::
Th»adMaš
(* 
cÚ‹xt
) {

224 
TaskQueueStdlib
* 
me
 = 
¡©ic_ÿ¡
<TaskQueueStdlib*>(
cÚ‹xt
);

225 
Cu¼’tTaskQueueS‘‹r
 
£t_cu¼’t
(
me
);

226 
	gme
->
ProûssTasks
();

229 
	gTaskQueueStdlib
::
ProûssTasks
() {

230 
¡¬‹d_
.
S‘
();

232 
	gŒue
) {

233 autØ
	gsk
 = 
G‘NextTask
();

235 ià(
	gsk
.
	gfš®_sk_
)

238 ià(
	gsk
.
	grun_sk_
) {

240 
QueuedTask
* 
	g»Ëa£_±r
 = 
sk
.
run_sk_
.
»Ëa£
();

241 ià(
	g»Ëa£_±r
->
Run
())

242 
d–‘e
 
	g»Ëa£_±r
;

248 ià(0 =ğ
sk
.
¦“p_time_ms_
)

249 
æag_nÙify_
.
Wa™
(
¹c
::
Ev’t
::
kFÜev”
);

251 
	gæag_nÙify_
.
Wa™
(
sk
.
¦“p_time_ms_
);

254 
	g¡İ³d_
.
S‘
();

257 
	gTaskQueueStdlib
::
NÙifyWake
() {

282 
æag_nÙify_
.
S‘
();

285 şas 
	cTaskQueueStdlibFaùÜy
 
	gfš®
 : 
public
 
TaskQueueFaùÜy
 {

286 
public
:

287 
¡d
::
unique_±r
<
TaskQueueBa£
, 
	gTaskQueueD–‘”
> 
C»©eTaskQueue
(

288 
ab¦
::
¡ršg_v›w
 
Çme
,

289 
PriÜ™y
 
´iÜ™y
ècÚ¡ 
	gov”ride
 {

290  
	g¡d
::
unique_±r
<
TaskQueueBa£
, 
	gTaskQueueD–‘”
>(

291 
Ãw
 
TaskQueueStdlib
(
Çme
, 
TaskQueuePriÜ™yToTh»adPriÜ™y
(
´iÜ™y
)));

297 
	g¡d
::
unique_±r
<
TaskQueueFaùÜy
> 
	$C»©eTaskQueueStdlibFaùÜy
() {

298  
¡d
::
make_unique
<
TaskQueueStdlibFaùÜy
>();

299 
	}
}

	@task_queue_stdlib.h

11 #iâdeà
RTC_BASE_TASK_QUEUE_STDLIB_H_


12 
	#RTC_BASE_TASK_QUEUE_STDLIB_H_


	)

14 
	~<memÜy
>

16 
	~"­i/sk_queue/sk_queue_çùÜy.h
"

18 
Çme¥aû
 
	gweb¹c
 {

20 
	g¡d
::
unique_±r
<
TaskQueueFaùÜy
> 
C»©eTaskQueueStdlibFaùÜy
();

	@task_queue_unittest.cc

11 #ià
defšed
(
WEBRTC_WIN
)

13 
	~<wšdows.h
>

14 
	~<mmsy¡em.h
>

18 
	~<¡dšt.h
>

19 
	~<memÜy
>

20 
	~<ut™y
>

21 
	~<veùÜ
>

23 
	~"ab¦/memÜy/memÜy.h
"

24 
	~"¹c_ba£/bšd.h
"

25 
	~"¹c_ba£/ev’t.h
"

26 
	~"¹c_ba£/sk_queue_fÜ_‹¡.h
"

27 
	~"¹c_ba£/time_uts.h
"

28 
	~"‹¡/g‹¡.h
"

30 
Çme¥aû
 
	g¹c
 {

32 
	gÇme¥aû
 {

36 şas 
	cEÇbËHighResTim”s
 {

37 
	gpublic
:

38 #ià!
defšed
(
WEBRTC_WIN
)

39 
EÇbËHighResTim”s
() {}

41 
EÇbËHighResTim”s
(è: 
’abËd_
(
timeBegšP”iod
(1è=ğ
TIMERR_NOERROR
) {}

42 ~
EÇbËHighResTim”s
() {

43 ià(
’abËd_
)

44 
timeEndP”iod
(1);

47 
	g´iv©e
:

48 cÚ¡ 
boŞ
 
’abËd_
;

52 
CheckCu¼’t
(
Ev’t
* 
sigÇl
, 
TaskQueue
* 
queue
) {

53 
EXPECT_TRUE
(
queue
->
IsCu¼’t
());

54 ià(
	gsigÇl
)

55 
	gsigÇl
->
S‘
();

62 
	$TEST
(
TaskQueueTe¡
, 
DISABLED_Po¡D–ayedHighRes
) {

63 
EÇbËHighResTim”s
 
high_»s_scİe
;

65 cÚ¡ 
kQueueName
[] = "PostDelayedHighRes";

66 
Ev’t
 
ev’t
;

67 
web¹c
::
TaskQueueFÜTe¡
 
	`queue
(
kQueueName
, 
TaskQueue
::
PriÜ™y
::
HIGH
);

69 
ušt32_t
 
¡¬t
 = 
	`Time
();

70 
queue
.
	`Po¡D–ayedTask
(
	`Bšd
(&
CheckCu¼’t
, &
ev’t
, &queue), 3);

71 
	`EXPECT_TRUE
(
ev’t
.
	`Wa™
(1000));

72 
ušt32_t
 
’d
 = 
	`TimeMlis
();

76 
	`EXPECT_GE
(
’d
 - 
¡¬t
, 3u);

77 
	`EXPECT_NEAR
(
’d
 - 
¡¬t
, 3, 3u);

78 
	}
}

	@task_queue_win.cc

11 
	~"¹c_ba£/sk_queue_wš.h
"

19 
	~<wšsock2.h
>

20 
	~<wšdows.h
>

21 
	~<§l.h
>

22 
	~<mmsy¡em.h
>

24 
	~<¡ršg.h
>

26 
	~<®gÜ™hm
>

27 
	~<memÜy
>

28 
	~<queue
>

29 
	~<ut™y
>

31 
	~"ab¦/¡ršgs/¡ršg_v›w.h
"

32 
	~"­i/sk_queue/queued_sk.h
"

33 
	~"­i/sk_queue/sk_queue_ba£.h
"

34 
	~"¹c_ba£/¬¿ysize.h
"

35 
	~"¹c_ba£/checks.h
"

36 
	~"¹c_ba£/ü™iÿl_£ùiÚ.h
"

37 
	~"¹c_ba£/ev’t.h
"

38 
	~"¹c_ba£/loggšg.h
"

39 
	~"¹c_ba£/num”ics/§ã_cÚv”siÚs.h
"

40 
	~"¹c_ba£/¶©fÜm_th»ad.h
"

41 
	~"¹c_ba£/time_uts.h
"

43 
Çme¥aû
 
	gweb¹c
 {

44 
	gÇme¥aû
 {

45 
	#WM_RUN_TASK
 
WM_USER
 + 1

	)

46 
	#WM_QUEUE_DELAYED_TASK
 
WM_USER
 + 2

	)

48 
CALLBACK
 
In™ŸlizeQueueTh»ad
(
ULONG_PTR
 
·¿m
) {

49 
MSG
 
	gmsg
;

50 ::
P“kMes§ge
(&
msg
, 
nuÎ±r
, 
WM_USER
, WM_USER, 
PM_NOREMOVE
);

51 
	g¹c
::
Ev’t
* 
d©a
 = 
»š‹½»t_ÿ¡
<
¹c
::Ev’t*>(
·¿m
);

52 
	gd©a
->
S‘
();

55 
	g¹c
::
Th»adPriÜ™y
 
TaskQueuePriÜ™yToTh»adPriÜ™y
(

56 
TaskQueueFaùÜy
::
PriÜ™y
 
´iÜ™y
) {

57 
´iÜ™y
) {

58 
TaskQueueFaùÜy
::
PriÜ™y
::
HIGH
:

59  
¹c
::
kR—ÉimePriÜ™y
;

60 
	gTaskQueueFaùÜy
::
PriÜ™y
::
LOW
:

61  
¹c
::
kLowPriÜ™y
;

62 
	gTaskQueueFaùÜy
::
PriÜ™y
::
NORMAL
:

63  
¹c
::
kNÜm®PriÜ™y
;

65 
RTC_NOTREACHED
();

68  
	g¹c
::
kNÜm®PriÜ™y
;

71 
št64_t
 
G‘Tick
() {

72 cÚ¡ 
UINT
 
	gkP”iod
 = 1;

73 
boŞ
 
	ghigh_»s
 = (
timeBegšP”iod
(
kP”iod
è=ğ
TIMERR_NOERROR
);

74 
št64_t
 
	g»t
 = 
¹c
::
TimeMlis
();

75 ià(
	ghigh_»s
)

76 
timeEndP”iod
(
kP”iod
);

77  
	g»t
;

80 şas 
	cD–ayedTaskInfo
 {

81 
	gpublic
:

83 
D–ayedTaskInfo
() {}

84 
D–ayedTaskInfo
(
ušt32_t
 
mli£cÚds
, 
¡d
::
unique_±r
<
QueuedTask
> 
sk
)

85 : 
due_time_
(
G‘Tick
(è+ 
mli£cÚds
), 
sk_
(
¡d
::
move
(
sk
)) {}

86 
D–ayedTaskInfo
(DelayedTaskInfo&&) = ;

89 
boŞ
 
	gİ”©Ü
>(cÚ¡ 
	gD–ayedTaskInfo
& 
	gÙh”
) const {

90  
	gdue_time_
 > 
	gÙh”
.due_time_;

94 
	gD–ayedTaskInfo
& 
	gİ”©Ü
=(
D–ayedTaskInfo
&& 
Ùh”
) = ;

97 
Run
() const {

98 
RTC_DCHECK
(
due_time_
);

99 
	gsk_
->
Run
(è?ask_.
»£t
(è: 
¡©ic_ÿ¡
<>(
sk_
.
»Ëa£
());

102 
št64_t
 
due_time
(ècÚ¡ {  
	gdue_time_
; }

104 
	g´iv©e
:

105 
št64_t
 
due_time_
 = 0;

114 
mubË
 
	g¡d
::
unique_±r
<
QueuedTask
> 
sk_
;

117 şas 
	cMuÉimedŸTim”
 {

118 
	gpublic
:

120 
MuÉimedŸTim”
(è: 
ev’t_
(::
C»©eEv’t
(
nuÎ±r
, 
Œue
, 
çl£
,‚ullptr)) {}

122 ~
MuÉimedŸTim”
() {

123 
Cªûl
();

124 ::
Clo£HªdË
(
ev’t_
);

127 
boŞ
 
S¹OÃShÙTim”
(
UINT
 
d–ay_ms
) {

128 
RTC_DCHECK_EQ
(0, 
tim”_id_
);

129 
RTC_DCHECK
(
ev’t_
 !ğ
nuÎ±r
);

130 
	gtim”_id_
 =

131 ::
timeS‘Ev’t
(
d–ay_ms
, 0, 
»š‹½»t_ÿ¡
<
LPTIMECALLBACK
>(
ev’t_
), 0,

132 
TIME_ONESHOT
 | 
TIME_CALLBACK_EVENT_SET
);

133  
	gtim”_id_
 != 0;

136 
Cªûl
() {

137 ià(
	gtim”_id_
) {

138 ::
timeKlEv’t
(
tim”_id_
);

139 
	gtim”_id_
 = 0;

145 ::
Re£tEv’t
(
ev’t_
);

148 
HANDLE
* 
ev’t_fÜ_wa™
(è{  &
	gev’t_
; }

150 
	g´iv©e
:

151 
HANDLE
 
ev’t_
 = 
nuÎ±r
;

152 
MMRESULT
 
	gtim”_id_
 = 0;

154 
RTC_DISALLOW_COPY_AND_ASSIGN
(
MuÉimedŸTim”
);

157 şas 
	cTaskQueueWš
 : 
public
 
TaskQueueBa£
 {

158 
public
:

159 
TaskQueueWš
(
ab¦
::
¡ršg_v›w
 
queue_Çme
, 
¹c
::
Th»adPriÜ™y
 
´iÜ™y
);

160 ~
TaskQueueWš
(è
	gov”ride
 = ;

162 
D–‘e
(è
	gov”ride
;

163 
Po¡Task
(
¡d
::
unique_±r
<
QueuedTask
> 
sk
è
ov”ride
;

164 
Po¡D–ayedTask
(
¡d
::
unique_±r
<
QueuedTask
> 
sk
,

165 
ušt32_t
 
mli£cÚds
è
	gov”ride
;

167 
RunP’dšgTasks
();

169 
	g´iv©e
:

170 
Th»adMaš
(* 
cÚ‹xt
);

172 şas 
	cWÜk”Th»ad
 : 
public
 
¹c
::
PÏtfÜmTh»ad
 {

173 
public
:

174 
WÜk”Th»ad
(
¹c
::
Th»adRunFunùiÚ
 
func
,

175 * 
obj
,

176 
ab¦
::
¡ršg_v›w
 
th»ad_Çme
,

177 
¹c
::
Th»adPriÜ™y
 
´iÜ™y
)

178 : 
PÏtfÜmTh»ad
(
func
, 
obj
, 
th»ad_Çme
, 
´iÜ™y
) {}

180 
boŞ
 
QueueAPC
(
PAPCFUNC
 
­c_funùiÚ
, 
ULONG_PTR
 
d©a
) {

181  
	g¹c
::
PÏtfÜmTh»ad
::
QueueAPC
(
­c_funùiÚ
, 
d©a
);

185 
RunTh»adMaš
();

186 
boŞ
 
ProûssQueuedMes§ges
();

187 
RunDueTasks
();

188 
ScheduËNextTim”
();

189 
CªûlTim”s
();

196 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

197 
	sg»©”
 {

198 
boŞ
 
İ”©Ü
()(cÚ¡ 
	gT
& 
	gl
, cÚ¡ T& 
	gr
) { † >„; }

201 
MuÉimedŸTim”
 
	gtim”_
;

202 
	g¡d
::
´iÜ™y_queue
<
D–ayedTaskInfo
,

203 
	g¡d
::
veùÜ
<
D–ayedTaskInfo
>,

204 
	gg»©”
<
	gD–ayedTaskInfo
>>

205 
	gtim”_sks_
;

206 
UINT_PTR
 
	gtim”_id_
 = 0;

207 
WÜk”Th»ad
 
	gth»ad_
;

208 
	g¹c
::
Cr™iÿlSeùiÚ
 
³ndšg_lock_
;

209 
	g¡d
::
queue
<
¡d
::
unique_±r
<
QueuedTask
>> 
³ndšg_


210 
RTC_GUARDED_BY
(
³ndšg_lock_
);

211 
HANDLE
 
	gš_queue_
;

214 
	gTaskQueueWš
::
TaskQueueWš
(
ab¦
::
¡ršg_v›w
 
queue_Çme
,

215 
¹c
::
Th»adPriÜ™y
 
´iÜ™y
)

216 : 
th»ad_
(&
TaskQueueWš
::
Th»adMaš
, 
this
, 
queue_Çme
, 
´iÜ™y
),

217 
š_queue_
(::
C»©eEv’t
(
nuÎ±r
, 
Œue
, 
çl£
,‚ullptr)) {

218 
RTC_DCHECK
(
š_queue_
);

219 
	gth»ad_
.
S¹
();

220 
	g¹c
::
Ev’t
 
ev’t
(
çl£
, false);

221 
RTC_CHECK
(
th»ad_
.
QueueAPC
(&
In™ŸlizeQueueTh»ad
,

222 
»š‹½»t_ÿ¡
<
ULONG_PTR
>(&
ev’t
)));

223 
	gev’t
.
Wa™
(
¹c
::
Ev’t
::
kFÜev”
);

226 
	gTaskQueueWš
::
D–‘e
() {

227 
RTC_DCHECK
(!
IsCu¼’t
());

228 !::
Po¡Th»adMes§ge
(
th»ad_
.
G‘Th»adRef
(), 
WM_QUIT
, 0, 0)) {

229 
RTC_CHECK_EQ
(
ERROR_NOT_ENOUGH_QUOTA
, ::
G‘La¡E¼Ü
());

230 
SË•
(1);

232 
	gth»ad_
.
Stİ
();

233 ::
Clo£HªdË
(
š_queue_
);

234 
d–‘e
 
	gthis
;

237 
	gTaskQueueWš
::
Po¡Task
(
¡d
::
unique_±r
<
QueuedTask
> 
sk
) {

238 
¹c
::
Cr™Scİe
 
lock
(&
³ndšg_lock_
);

239 
	g³ndšg_
.
push
(
¡d
::
move
(
sk
));

240 ::
S‘Ev’t
(
š_queue_
);

243 
	gTaskQueueWš
::
Po¡D–ayedTask
(
¡d
::
unique_±r
<
QueuedTask
> 
sk
,

244 
ušt32_t
 
mli£cÚds
) {

245 ià(!
	gmli£cÚds
) {

246 
Po¡Task
(
¡d
::
move
(
sk
));

254 auto* 
	gsk_šfo
 = 
Ãw
 
D–ayedTaskInfo
(
mli£cÚds
, 
¡d
::
move
(
sk
));

255 ià(!::
Po¡Th»adMes§ge
(
th»ad_
.
G‘Th»adRef
(), 
WM_QUEUE_DELAYED_TASK
, 0,

256 
»š‹½»t_ÿ¡
<
LPARAM
>(
sk_šfo
))) {

257 
d–‘e
 
	gsk_šfo
;

261 
	gTaskQueueWš
::
RunP’dšgTasks
() {

262 
Œue
) {

263 
¡d
::
unique_±r
<
QueuedTask
> 
sk
;

265 
	g¹c
::
Cr™Scİe
 
lock
(&
³ndšg_lock_
);

266 ià(
	g³ndšg_
.
em±y
())

268 
	gsk
 = 
¡d
::
move
(
³ndšg_
.
äÚt
());

269 
	g³ndšg_
.
pİ
();

272 ià(!
	gsk
->
Run
())

273 
	gsk
.
»Ëa£
();

278 
	gTaskQueueWš
::
Th»adMaš
(* 
cÚ‹xt
) {

279 
¡©ic_ÿ¡
<
TaskQueueWš
*>(
cÚ‹xt
)->
RunTh»adMaš
();

282 
	gTaskQueueWš
::
RunTh»adMaš
() {

283 
Cu¼’tTaskQueueS‘‹r
 
£t_cu¼’t
(
this
);

284 
HANDLE
 
	ghªdËs
[2] = {*
tim”_
.
ev’t_fÜ_wa™
(), 
š_queue_
};

285 
	gŒue
) {

289 
DWORD
 
	g»suÉ
 = ::
MsgWa™FÜMuÉËObjeùsEx
(

290 
¬¿ysize
(
hªdËs
), hªdËs, 
INFINITE
, 
QS_ALLEVENTS
, 
MWMO_ALERTABLE
);

291 
RTC_CHECK_NE
(
WAIT_FAILED
, 
»suÉ
);

292 ià(
	g»suÉ
 =ğ(
WAIT_OBJECT_0
 + 2)) {

294 ià(!
ProûssQueuedMes§ges
())

298 ià(
	g»suÉ
 =ğ
WAIT_OBJECT_0
 ||

299 (!
tim”_sks_
.
em±y
() &&

300 ::
Wa™FÜSšgËObjeù
(*
tim”_
.
ev’t_fÜ_wa™
(), 0è=ğ
WAIT_OBJECT_0
)) {

302 
tim”_
.
Cªûl
();

303 
RunDueTasks
();

304 
ScheduËNextTim”
();

307 ià(
	g»suÉ
 =ğ(
WAIT_OBJECT_0
 + 1)) {

308 ::
Re£tEv’t
(
š_queue_
);

309 
RunP’dšgTasks
();

314 
boŞ
 
	gTaskQueueWš
::
ProûssQueuedMes§ges
() {

315 
MSG
 
msg
 = {};

319 cÚ¡ 
	gkMaxTaskProûssšgTimeMs
 = 500;

320 autØ
	g¡¬t
 = 
G‘Tick
();

321 ::
P“kMes§ge
(&
msg
, 
nuÎ±r
, 0, 0, 
PM_REMOVE
) &&

322 
	gmsg
.
	gmes§ge
 !ğ
WM_QUIT
) {

323 ià(!
msg
.
hwnd
) {

324 
msg
.
mes§ge
) {

326 
WM_RUN_TASK
: {

327 
QueuedTask
* 
sk
 = 
»š‹½»t_ÿ¡
<QueuedTask*>(
msg
.
lP¬am
);

328 ià(
	gsk
->
Run
())

329 
d–‘e
 
	gsk
;

332 
	gWM_QUEUE_DELAYED_TASK
: {

333 
¡d
::
unique_±r
<
D–ayedTaskInfo
> 
šfo
(

334 
»š‹½»t_ÿ¡
<
D–ayedTaskInfo
*>(
msg
.
lP¬am
));

335 
boŞ
 
	gÃed_to_scheduË_tim”s
 =

336 
tim”_sks_
.
em±y
() ||

337 
tim”_sks_
.
tİ
().
due_time
(è> 
šfo
->due_time();

338 
	gtim”_sks_
.
em¶aû
(
¡d
::
move
(*
šfo
.
g‘
()));

339 ià(
	gÃed_to_scheduË_tim”s
) {

340 
CªûlTim”s
();

341 
ScheduËNextTim”
();

345 
	gWM_TIMER
: {

346 
RTC_DCHECK_EQ
(
tim”_id_
, 
msg
.
wP¬am
);

347 ::
KlTim”
(
nuÎ±r
, 
msg
.
wP¬am
);

348 
	gtim”_id_
 = 0;

349 
RunDueTasks
();

350 
ScheduËNextTim”
();

354 
RTC_NOTREACHED
();

358 ::
T¿n¦©eMes§ge
(&
msg
);

359 ::
Di¥©chMes§ge
(&
msg
);

362 ià(
G‘Tick
(è> 
	g¡¬t
 + 
	gkMaxTaskProûssšgTimeMs
)

365  
	gmsg
.
	gmes§ge
 !ğ
WM_QUIT
;

368 
	gTaskQueueWš
::
RunDueTasks
() {

369 
RTC_DCHECK
(!
tim”_sks_
.
em±y
());

370 autØ
	gnow
 = 
G‘Tick
();

372 cÚ¡‡uto& 
	gtİ
 = 
tim”_sks_
.
tİ
();

373 ià(
	gtİ
.
due_time
(è> 
	gnow
)

375 
	gtİ
.
Run
();

376 
	gtim”_sks_
.
pİ
();

377 } !
	gtim”_sks_
.
em±y
());

380 
	gTaskQueueWš
::
ScheduËNextTim”
() {

381 
RTC_DCHECK_EQ
(
tim”_id_
, 0);

382 ià(
	gtim”_sks_
.
em±y
())

385 cÚ¡‡uto& 
	gÃxt_sk
 = 
tim”_sks_
.
tİ
();

386 
št64_t
 
	gd–ay_ms
 = 
¡d
::
max
(0Î, 
Ãxt_sk
.
due_time
(è- 
G‘Tick
());

387 
ušt32_t
 
	gmli£cÚds
 = 
¹c
::
dchecked_ÿ¡
<ušt32_t>(
d–ay_ms
);

388 ià(!
	gtim”_
.
S¹OÃShÙTim”
(
mli£cÚds
))

389 
	gtim”_id_
 = ::
S‘Tim”
(
nuÎ±r
, 0, 
mli£cÚds
,‚ullptr);

392 
	gTaskQueueWš
::
CªûlTim”s
() {

393 
tim”_
.
Cªûl
();

394 ià(
	gtim”_id_
) {

395 ::
KlTim”
(
nuÎ±r
, 
tim”_id_
);

396 
	gtim”_id_
 = 0;

400 şas 
	cTaskQueueWšFaùÜy
 : 
public
 
TaskQueueFaùÜy
 {

401 
public
:

402 
¡d
::
unique_±r
<
TaskQueueBa£
, 
	gTaskQueueD–‘”
> 
C»©eTaskQueue
(

403 
ab¦
::
¡ršg_v›w
 
Çme
,

404 
PriÜ™y
 
´iÜ™y
ècÚ¡ 
	gov”ride
 {

405  
	g¡d
::
unique_±r
<
TaskQueueBa£
, 
	gTaskQueueD–‘”
>(

406 
Ãw
 
TaskQueueWš
(
Çme
, 
TaskQueuePriÜ™yToTh»adPriÜ™y
(
´iÜ™y
)));

412 
	g¡d
::
unique_±r
<
TaskQueueFaùÜy
> 
	$C»©eTaskQueueWšFaùÜy
() {

413  
¡d
::
make_unique
<
TaskQueueWšFaùÜy
>();

414 
	}
}

	@task_queue_win.h

11 #iâdeà
RTC_BASE_TASK_QUEUE_WIN_H_


12 
	#RTC_BASE_TASK_QUEUE_WIN_H_


	)

14 
	~<memÜy
>

16 
	~"­i/sk_queue/sk_queue_çùÜy.h
"

18 
Çme¥aû
 
	gweb¹c
 {

20 
	g¡d
::
unique_±r
<
TaskQueueFaùÜy
> 
C»©eTaskQueueWšFaùÜy
();

	@task_utils/pending_task_safety_flag.cc

11 
	~"¹c_ba£/sk_uts/³ndšg_sk_§ãty_æag.h
"

13 
	~"¹c_ba£/»f_couÁed_objeù.h
"

15 
Çme¥aû
 
	gweb¹c
 {

18 
	g¹c
::
scİed_»åŒ
<
P’dšgTaskSaãtyFÏg
> P’dšgTaskSaãtyFÏg::
C»©e
() {

19  
Ãw
 
¹c
::
RefCouÁedObjeù
<
P’dšgTaskSaãtyFÏg
>();

22 
	gP’dšgTaskSaãtyFÏg
::
S‘NÙAlive
() {

23 
RTC_DCHECK_RUN_ON
(&
maš_£qu’û_
);

24 
	g®ive_
 = 
çl£
;

27 
boŞ
 
	gP’dšgTaskSaãtyFÏg
::
®ive
() const {

28 
RTC_DCHECK_RUN_ON
(&
maš_£qu’û_
);

29  
	g®ive_
;

	@task_utils/pending_task_safety_flag.h

11 #iâdeà
RTC_BASE_TASK_UTILS_PENDING_TASK_SAFETY_FLAG_H_


12 
	#RTC_BASE_TASK_UTILS_PENDING_TASK_SAFETY_FLAG_H_


	)

14 
	~"­i/scİed_»åŒ.h
"

15 
	~"¹c_ba£/checks.h
"

16 
	~"¹c_ba£/»f_couÁ.h
"

17 
	~"¹c_ba£/synchrÚiz©iÚ/£qu’û_check”.h
"

19 
Çme¥aû
 
	gweb¹c
 {

47 şas 
	cP’dšgTaskSaãtyFÏg
 : 
public
 
¹c
::
RefCouÁIÁ”çû
 {

48 
public
:

49 
¹c
::
scİed_»åŒ
<
P’dšgTaskSaãtyFÏg
> 
C»©e
();

51 ~
P’dšgTaskSaãtyFÏg
() = ;

53 
S‘NÙAlive
();

54 
boŞ
 
®ive
() const;

56 
	g´Ùeùed
:

57 
P’dšgTaskSaãtyFÏg
() = ;

59 
	g´iv©e
:

60 
boŞ
 
®ive_
 = 
Œue
;

61 
Sequ’ûCheck”
 
	gmaš_£qu’û_
;

70 şas 
	cScİedTaskSaãty
 {

71 
	gpublic
:

72 
ScİedTaskSaãty
() = ;

73 ~
ScİedTaskSaãty
(è{ 
	gæag_
->
S‘NÙAlive
(); }

76 
	g¹c
::
scİed_»åŒ
<
P’dšgTaskSaãtyFÏg
> 
æag
(ècÚ¡ {  
æag_
; }

78 
	g´iv©e
:

79 
¹c
::
scİed_»åŒ
<
P’dšgTaskSaãtyFÏg
> 
æag_
 =

80 
P’dšgTaskSaãtyFÏg
::
C»©e
();

	@task_utils/pending_task_safety_flag_unittest.cc

11 
	~"¹c_ba£/sk_uts/³ndšg_sk_§ãty_æag.h
"

13 
	~<memÜy
>

15 
	~"¹c_ba£/ev’t.h
"

16 
	~"¹c_ba£/loggšg.h
"

17 
	~"¹c_ba£/sk_queue_fÜ_‹¡.h
"

18 
	~"¹c_ba£/sk_uts/to_queued_sk.h
"

19 
	~"‹¡/gmock.h
"

20 
	~"‹¡/g‹¡.h
"

22 
Çme¥aû
 
	gweb¹c
 {

23 
	gÇme¥aû
 {

24 
	gusšg
 ::
‹¡šg
::
AtL—¡
;

25 
	gusšg
 ::
‹¡šg
::
Invoke
;

26 
	gusšg
 ::
‹¡šg
::
MockFunùiÚ
;

27 
	gusšg
 ::
‹¡šg
::
NiûMock
;

28 
	gusšg
 ::
‹¡šg
::
R‘uº
;

31 
TEST
(
P’dšgTaskSaãtyFÏgTe¡
, 
Basic
) {

32 
	g¹c
::
scİed_»åŒ
<
P’dšgTaskSaãtyFÏg
> 
§ãty_æag
;

35 şas 
	cOwÃr
 {

36 
	gpublic
:

37 
OwÃr
() = ;

38 ~
OwÃr
(è{ 
	gæag_
->
S‘NÙAlive
(); }

40 
	g¹c
::
scİed_»åŒ
<
P’dšgTaskSaãtyFÏg
> 
æag_
 =

41 
P’dšgTaskSaãtyFÏg
::
C»©e
();

42 } 
	gowÃr
;

43 
EXPECT_TRUE
(
owÃr
.
æag_
->
®ive
());

44 
	g§ãty_æag
 = 
owÃr
.
æag_
;

45 
EXPECT_TRUE
(
§ãty_æag
->
®ive
());

48 
EXPECT_FALSE
(
§ãty_æag
->
®ive
());

51 
	$TEST
(
P’dšgTaskSaãtyFÏgTe¡
, 
BasicScİed
) {

52 
¹c
::
scİed_»åŒ
<
P’dšgTaskSaãtyFÏg
> 
§ãty_æag
;

54 
	sOwÃr
 {

55 
ScİedTaskSaãty
 
§ãty
;

56 } 
owÃr
;

57 
§ãty_æag
 = 
owÃr
.
§ãty
.
	`æag
();

58 
	`EXPECT_TRUE
(
§ãty_æag
->
	`®ive
());

61 
	`EXPECT_FALSE
(
§ãty_æag
->
	`®ive
());

62 
	}
}

64 
	$TEST
(
P’dšgTaskSaãtyFÏgTe¡
, 
P’dšgTaskSucûss
) {

65 
TaskQueueFÜTe¡
 
	`tq1
("OwnerHere");

66 
TaskQueueFÜTe¡
 
	`tq2
("OwnerNotHere");

68 şas 
	cOwÃr
 {

69 
public
:

70 
	`OwÃr
(è: 
	`tq_maš_
(
TaskQueueBa£
::
	`Cu¼’t
()è{ 
	`RTC_DCHECK
(
tq_maš_
); }

71 ~
	`OwÃr
() {

72 
	`RTC_DCHECK
(
tq_maš_
->
	`IsCu¼’t
());

73 
æag_
->
	`S‘NÙAlive
();

76 
	`DoStuff
() {

77 
	`RTC_DCHECK
(!
tq_maš_
->
	`IsCu¼’t
());

78 
tq_maš_
->
	`Po¡Task
(
	`ToQueuedTask
([
§ã
 = 
æag_
, 
this
]() {

79 ià(!
§ã
->
	`®ive
())

81 
¡uff_dÚe_
 = 
Œue
;

85 
boŞ
 
	`¡uff_dÚe
(ècÚ¡ {  
¡uff_dÚe_
; }

87 
´iv©e
:

88 
TaskQueueBa£
* cÚ¡ 
tq_maš_
;

89 
boŞ
 
¡uff_dÚe_
 = 
çl£
;

90 
¹c
::
scİed_»åŒ
<
P’dšgTaskSaãtyFÏg
> 
æag_
{

91 
P’dšgTaskSaãtyFÏg
::
	`C»©e
()};

94 
¡d
::
unique_±r
<
OwÃr
> 
owÃr
;

95 
tq1
.
	`S’dTask
(

96 [&
owÃr
]() {

97 
owÃr
.
	`»£t
(
Ãw
 
	`OwÃr
());

98 
	`EXPECT_FALSE
(
owÃr
->
	`¡uff_dÚe
());

100 
RTC_FROM_HERE
);

101 
	`ASSERT_TRUE
(
owÃr
);

102 
tq2
.
	`S’dTask
([&
owÃr
](è{ owÃr->
	`DoStuff
(); }, 
RTC_FROM_HERE
);

103 
tq1
.
	`S’dTask
(

104 [&
owÃr
]() {

105 
	`EXPECT_TRUE
(
owÃr
->
	`¡uff_dÚe
());

106 
owÃr
.
	`»£t
();

108 
RTC_FROM_HERE
);

109 
	`ASSERT_FALSE
(
owÃr
);

110 
	}
}

112 
	$TEST
(
P’dšgTaskSaãtyFÏgTe¡
, 
P’dšgTaskDrİ³d
) {

113 
TaskQueueFÜTe¡
 
	`tq1
("OwnerHere");

114 
TaskQueueFÜTe¡
 
	`tq2
("OwnerNotHere");

116 şas 
	cOwÃr
 {

117 
public
:

118 
ex¶ic™
 
	`OwÃr
(
boŞ
* 
¡uff_dÚe
)

119 : 
	`tq_maš_
(
TaskQueueBa£
::
	`Cu¼’t
()), 
	`¡uff_dÚe_
(
¡uff_dÚe
) {

120 
	`RTC_DCHECK
(
tq_maš_
);

121 *
¡uff_dÚe_
 = 
çl£
;

123 ~
	`OwÃr
() {

124 
	`RTC_DCHECK
(
tq_maš_
->
	`IsCu¼’t
());

127 
	`DoStuff
() {

128 
	`RTC_DCHECK
(!
tq_maš_
->
	`IsCu¼’t
());

129 
tq_maš_
->
	`Po¡Task
(

130 
	`ToQueuedTask
(
§ãty_
, [
this
](è{ *
¡uff_dÚe_
 = 
Œue
; }));

133 
´iv©e
:

134 
TaskQueueBa£
* cÚ¡ 
tq_maš_
;

135 
boŞ
* cÚ¡ 
¡uff_dÚe_
;

136 
ScİedTaskSaãty
 
§ãty_
;

139 
¡d
::
unique_±r
<
OwÃr
> 
owÃr
;

140 
boŞ
 
¡uff_dÚe
 = 
çl£
;

141 
tq1
.
	`S’dTask
([&
owÃr
, &
¡uff_dÚe
](è{ owÃr.
	`»£t
(
Ãw
 
	`OwÃr
(&stuff_done)); },

142 
RTC_FROM_HERE
);

143 
	`ASSERT_TRUE
(
owÃr
);

146 
¹c
::
Ev’t
 
block”
;

147 
tq1
.
	`Po¡Task
([&
block”
, &
owÃr
]() {

148 
block”
.
	`Wa™
(
¹c
::
Ev’t
::
kFÜev”
);

149 
owÃr
.
	`»£t
();

153 
tq2
.
	`S’dTask
([&
owÃr
](è{ owÃr->
	`DoStuff
(); }, 
RTC_FROM_HERE
);

155 
	`ASSERT_TRUE
(
owÃr
);

156 
block”
.
	`S‘
();

159 
tq1
.
	`S’dTask
([](è{}, 
RTC_FROM_HERE
);

160 
	`ASSERT_FALSE
(
owÃr
);

161 
	`EXPECT_FALSE
(
¡uff_dÚe
);

162 
	}
}

	@task_utils/repeating_task.cc

11 
	~"¹c_ba£/sk_uts/»³©šg_sk.h
"

13 
	~"ab¦/memÜy/memÜy.h
"

14 
	~"¹c_ba£/loggšg.h
"

15 
	~"¹c_ba£/sk_uts/to_queued_sk.h
"

16 
	~"¹c_ba£/time_uts.h
"

18 
Çme¥aû
 
	gweb¹c
 {

19 
Çme¥aû
 
	gweb¹c_»³©šg_sk_im¶
 {

20 
	gR•—tšgTaskBa£
::
R•—tšgTaskBa£
(
TaskQueueBa£
* 
sk_queue
,

21 
TimeD–
 
fœ¡_d–ay
)

22 : 
sk_queue_
(
sk_queue
),

23 
Ãxt_run_time_
(
Time¡amp
::
Miüos
(
¹c
::
TimeMiüos
()è+ 
fœ¡_d–ay
) {

24 
£qu’û_check”_
.
D‘ach
();

27 
	gR•—tšgTaskBa£
::~
R•—tšgTaskBa£
() = ;

29 
boŞ
 
	gR•—tšgTaskBa£
::
Run
() {

30 
RTC_DCHECK_RUN_ON
(&
£qu’û_check”_
);

32 ià(
	gÃxt_run_time_
.
IsPlusInfš™y
())

33  
	gŒue
;

35 
TimeD–
 
	gd–ay
 = 
RunClosu»
();

39 ià(
	gÃxt_run_time_
.
IsPlusInfš™y
())

40  
	gŒue
;

42 
RTC_DCHECK
(
d–ay
.
IsFš™e
());

43 
TimeD–
 
	glo¡_time
 = 
Time¡amp
::
Miüos
(
¹c
::
TimeMiüos
()è- 
Ãxt_run_time_
;

44 
	gÃxt_run_time_
 +ğ
d–ay
;

45 
	gd–ay
 -ğ
lo¡_time
;

46 
	gd–ay
 = 
¡d
::
max
(
d–ay
, 
TimeD–
::
Z”o
());

48 
	gsk_queue_
->
Po¡D–ayedTask
(
ab¦
::
W¿pUnique
(
this
), 
d–ay
.
ms
());

52  
	gçl£
;

55 
	gR•—tšgTaskBa£
::
Stİ
() {

56 
RTC_DCHECK_RUN_ON
(&
£qu’û_check”_
);

57 
RTC_DCHECK
(
Ãxt_run_time_
.
IsFš™e
());

58 
	gÃxt_run_time_
 = 
Time¡amp
::
PlusInfš™y
();

63 
	gR•—tšgTaskHªdË
::
R•—tšgTaskHªdË
(R•—tšgTaskHªdË&& 
Ùh”
)

64 : 
»³©šg_sk_
(
Ùh”
.repeating_task_) {

65 
Ùh”
.
»³©šg_sk_
 = 
nuÎ±r
;

68 
	gR•—tšgTaskHªdË
& R•—tšgTaskHªdË::
İ”©Ü
=(

69 
R•—tšgTaskHªdË
&& 
Ùh”
) {

70 
»³©šg_sk_
 = 
Ùh”
.repeating_task_;

71 
	gÙh”
.
	g»³©šg_sk_
 = 
nuÎ±r
;

72  *
	gthis
;

75 
	gR•—tšgTaskHªdË
::
R•—tšgTaskHªdË
(

76 
web¹c_»³©šg_sk_im¶
::
R•—tšgTaskBa£
* 
»³©šg_sk
)

77 : 
»³©šg_sk_
(
»³©šg_sk
) {}

79 
R•—tšgTaskHªdË
::
Stİ
() {

80 ià(
»³©šg_sk_
) {

81 
»³©šg_sk_
->
Stİ
();

82 
	g»³©šg_sk_
 = 
nuÎ±r
;

86 
boŞ
 
	gR•—tšgTaskHªdË
::
RuÂšg
() const {

87  
»³©šg_sk_
 !ğ
nuÎ±r
;

	@task_utils/repeating_task.h

11 #iâdeà
RTC_BASE_TASK_UTILS_REPEATING_TASK_H_


12 
	#RTC_BASE_TASK_UTILS_REPEATING_TASK_H_


	)

14 
	~<memÜy
>

15 
	~<ty³_Œa™s
>

16 
	~<ut™y
>

18 
	~"­i/sk_queue/queued_sk.h
"

19 
	~"­i/sk_queue/sk_queue_ba£.h
"

20 
	~"­i/un™s/time_d–.h
"

21 
	~"­i/un™s/time¡amp.h
"

22 
	~"¹c_ba£/synchrÚiz©iÚ/£qu’û_check”.h
"

24 
Çme¥aû
 
	gweb¹c
 {

26 
şass
 
	gR•—tšgTaskHªdË
;

28 
Çme¥aû
 
	gweb¹c_»³©šg_sk_im¶
 {

29 şas 
	cR•—tšgTaskBa£
 : 
public
 
QueuedTask
 {

30 
public
:

31 
R•—tšgTaskBa£
(
TaskQueueBa£
* 
sk_queue
, 
TimeD–
 
fœ¡_d–ay
);

32 ~
R•—tšgTaskBa£
(è
	gov”ride
;

34 
Stİ
();

36 
	g´iv©e
:

37 
vœtu®
 
TimeD–
 
RunClosu»
() = 0;

39 
boŞ
 
Run
(è
	gfš®
;

41 
TaskQueueBa£
* cÚ¡ 
	gsk_queue_
;

44 
Time¡amp
 
Ãxt_run_time_
 
RTC_GUARDED_BY
(
£qu’û_check”_
);

51 
Sequ’ûCheck”
 
	g£qu’û_check”_
;

55 
	g‹m¶©e
 <
şass
 
	gClosu»
>

56 şas 
	cR•—tšgTaskIm¶
 
	gfš®
 : 
public
 
R•—tšgTaskBa£
 {

57 
public
:

58 
R•—tšgTaskIm¶
(
TaskQueueBa£
* 
sk_queue
,

59 
TimeD–
 
fœ¡_d–ay
,

60 
Closu»
&& 
şosu»
)

61 : 
R•—tšgTaskBa£
(
sk_queue
, 
fœ¡_d–ay
),

62 
şosu»_
(
¡d
::
fÜw¬d
<
Closu»
>(
şosu»
)) {

63 
¡©ic_as£¹
(

64 
¡d
::
is_§me
<
TimeD–
,

65 
ty³Çme
 
¡d
::
»suÉ_of
<
deşty³
 (&
Closu»
::
İ”©Ü
())(

66 
Closu»
)>::
ty³
>::
v®ue
,

70 
	g´iv©e
:

71 
TimeD–
 
RunClosu»
(è
ov”ride
 {  
şosu»_
(); }

73 
ty³Çme
 
	g¡d
::
»move_cÚ¡
<

74 
ty³Çme
 
¡d
::
»move_»ã»nû
<
Closu»
>::
ty³
>::ty³ 
şosu»_
;

83 şas 
	cR•—tšgTaskHªdË
 {

84 
	gpublic
:

85 
R•—tšgTaskHªdË
() = ;

86 ~
R•—tšgTaskHªdË
() = ;

87 
R•—tšgTaskHªdË
(R•—tšgTaskHªdË&& 
Ùh”
);

88 
	gR•—tšgTaskHªdË
& 
	gİ”©Ü
=(
R•—tšgTaskHªdË
&& 
Ùh”
);

89 
R•—tšgTaskHªdË
(cÚ¡ R•—tšgTaskHªdË&èğ
d–‘e
;

90 
	gR•—tšgTaskHªdË
& 
	gİ”©Ü
=(cÚ¡ 
R•—tšgTaskHªdË
&èğ
d–‘e
;

99 
	g‹m¶©e
 <
şass
 
	gClosu»
>

100 
R•—tšgTaskHªdË
 
S¹
(
TaskQueueBa£
* 
sk_queue
,

101 
Closu»
&& 
şosu»
) {

102 autØ
	g»³©šg_sk
 = 
¡d
::
make_unique
<

103 
web¹c_»³©šg_sk_im¶
::
R•—tšgTaskIm¶
<
Closu»
>>(

104 
sk_queue
, 
	gTimeD–
::
Z”o
(), 
	g¡d
::
fÜw¬d
<
Closu»
>(
şosu»
));

105 auto* 
	g»³©šg_sk_±r
 = 
»³©šg_sk
.
g‘
();

106 
	gsk_queue
->
Po¡Task
(
¡d
::
move
(
»³©šg_sk
));

107  
R•—tšgTaskHªdË
(
»³©šg_sk_±r
);

112 
	g‹m¶©e
 <
şass
 
	gClosu»
>

113 
R•—tšgTaskHªdË
 
D–ayedS¹
(
TaskQueueBa£
* 
sk_queue
,

114 
TimeD–
 
fœ¡_d–ay
,

115 
Closu»
&& 
şosu»
) {

116 autØ
	g»³©šg_sk
 = 
¡d
::
make_unique
<

117 
web¹c_»³©šg_sk_im¶
::
R•—tšgTaskIm¶
<
Closu»
>>(

118 
sk_queue
, 
	gfœ¡_d–ay
, 
	g¡d
::
fÜw¬d
<
Closu»
>(
şosu»
));

119 auto* 
	g»³©šg_sk_±r
 = 
»³©šg_sk
.
g‘
();

120 
	gsk_queue
->
Po¡D–ayedTask
(
¡d
::
move
(
»³©šg_sk
), 
fœ¡_d–ay
.
ms
());

121  
R•—tšgTaskHªdË
(
»³©šg_sk_±r
);

128 
Stİ
();

132 
boŞ
 
RuÂšg
() const;

134 
	g´iv©e
:

135 
ex¶ic™
 
R•—tšgTaskHªdË
(

136 
web¹c_»³©šg_sk_im¶
::
R•—tšgTaskBa£
* 
»³©šg_sk
);

138 
	gweb¹c_»³©šg_sk_im¶
::
R•—tšgTaskBa£
* 
»³©šg_sk_
 = 
nuÎ±r
;

	@task_utils/repeating_task_unittest.cc

11 
	~"¹c_ba£/sk_uts/»³©šg_sk.h
"

13 
	~<©omic
>

14 
	~<chrÚo
>

15 
	~<memÜy
>

16 
	~<th»ad
>

18 
	~"¹c_ba£/ev’t.h
"

19 
	~"¹c_ba£/sk_queue_fÜ_‹¡.h
"

20 
	~"‹¡/gmock.h
"

21 
	~"‹¡/g‹¡.h
"

25 
Çme¥aû
 
	gweb¹c
 {

26 
	gÇme¥aû
 {

27 
	gusšg
 ::
‹¡šg
::
AtL—¡
;

28 
	gusšg
 ::
‹¡šg
::
Invoke
;

29 
	gusšg
 ::
‹¡šg
::
MockFunùiÚ
;

30 
	gusšg
 ::
‹¡šg
::
NiûMock
;

31 
	gusšg
 ::
‹¡šg
::
R‘uº
;

33 
cÚ¡ex´
 
TimeD–
 
	gkTimeout
 = TimeD–::
Mlis
(1000);

35 
SË•
(
TimeD–
 
time_d–
) {

38 
	g¡d
::
this_th»ad
::
¦“p_fÜ
(
¡d
::
chrÚo
::
miüo£cÚds
(
time_d–
.
us
()));

41 şas 
	cMockClosu»
 {

42 
	gpublic
:

43 
MOCK_METHOD0
(
C®l
, 
TimeD–
());

44 
MOCK_METHOD0
(
D–‘e
, ());

47 şas 
	cMoveOÆyClosu»
 {

48 
	gpublic
:

49 
ex¶ic™
 
MoveOÆyClosu»
(
MockClosu»
* 
mock
è: 
mock_
(mock) {}

50 
MoveOÆyClosu»
(cÚ¡ MoveOÆyClosu»&èğ
d–‘e
;

51 
MoveOÆyClosu»
(MoveOÆyClosu»&& 
Ùh”
è: 
mock_
(other.mock_) {

52 
Ùh”
.
mock_
 = 
nuÎ±r
;

54 ~
MoveOÆyClosu»
() {

55 ià(
	gmock_
)

56 
	gmock_
->
D–‘e
();

58 
TimeD–
 
İ”©Ü
()(è{  
	gmock_
->
C®l
(); }

60 
	g´iv©e
:

61 
MockClosu»
* 
mock_
;

65 
	$TEST
(
R•—tšgTaskTe¡
, 
TaskIsStİ³dOnStİ
) {

66 cÚ¡ 
TimeD–
 
kShÜtIÁ”v®
 = TimeD–::
	`Mlis
(50);

67 cÚ¡ 
TimeD–
 
kLÚgIÁ”v®
 = TimeD–::
	`Mlis
(200);

68 cÚ¡ 
kShÜtIÁ”v®CouÁ
 = 4;

69 cÚ¡ 
kM¬gš
 = 1;

71 
TaskQueueFÜTe¡
 
	`sk_queue
("TestQueue");

72 
¡d
::
©omic_št
 
	`couÁ”
(0);

73 autØ
hªdË
 = 
R•—tšgTaskHªdË
::
	`S¹
(
sk_queue
.
	`G‘
(), [&] {

74 ià(++
couÁ”
 >ğ
kShÜtIÁ”v®CouÁ
)

75  
kLÚgIÁ”v®
;

76  
kShÜtIÁ”v®
;

79 
	`SË•
(
kShÜtIÁ”v®
 * (
kShÜtIÁ”v®CouÁ
 + 
kM¬gš
));

80 
	`EXPECT_EQ
(
couÁ”
.
	`lßd
(), 
kShÜtIÁ”v®CouÁ
);

82 
sk_queue
.
	`Po¡Task
(

83 [
hªdË
 = 
¡d
::
	`move
(hªdË)](è
mubË
 { hªdË.
	`Stİ
(); });

86 
	`SË•
(
kLÚgIÁ”v®
 * 2);

87 
	`EXPECT_EQ
(
couÁ”
.
	`lßd
(), 
kShÜtIÁ”v®CouÁ
);

88 
	}
}

90 
	$TEST
(
R•—tšgTaskTe¡
, 
Com³n§‹sFÜLÚgRunTime
) {

91 cÚ¡ 
kT¬g‘CouÁ
 = 20;

92 cÚ¡ 
kT¬g‘CouÁM¬gš
 = 2;

93 cÚ¡ 
TimeD–
 
kR•—tIÁ”v®
 = TimeD–::
	`Mlis
(2);

96 cÚ¡ 
TimeD–
 
kSË•Du¿tiÚ
 = TimeD–::
	`Mlis
(20);

97 cÚ¡ 
kSË•AtCouÁ
 = 3;

99 
¡d
::
©omic_št
 
	`couÁ”
(0);

100 
TaskQueueFÜTe¡
 
	`sk_queue
("TestQueue");

101 
R•—tšgTaskHªdË
::
	`S¹
(
sk_queue
.
	`G‘
(), [&] {

102 ià(++
couÁ”
 =ğ
kSË•AtCouÁ
)

103 
	`SË•
(
kSË•Du¿tiÚ
);

104  
kR•—tIÁ”v®
;

106 
	`SË•
(
kR•—tIÁ”v®
 * 
kT¬g‘CouÁ
);

109 
	`EXPECT_GE
(
couÁ”
.
	`lßd
(), 
kT¬g‘CouÁ
 - 
kT¬g‘CouÁM¬gš
);

110 
	}
}

112 
	$TEST
(
R•—tšgTaskTe¡
, 
Com³n§‹sFÜShÜtRunTime
) {

113 
¡d
::
©omic_št
 
	`couÁ”
(0);

114 
TaskQueueFÜTe¡
 
	`sk_queue
("TestQueue");

115 
R•—tšgTaskHªdË
::
	`S¹
(
sk_queue
.
	`G‘
(), [&] {

116 ++
couÁ”
;

118 
	`SË•
(
TimeD–
::
	`Mlis
(100));

119  
TimeD–
::
	`Mlis
(300);

121 
	`SË•
(
TimeD–
::
	`Mlis
(400));

125 
	`EXPECT_EQ
(
couÁ”
.
	`lßd
(), 2);

126 
	}
}

128 
	$TEST
(
R•—tšgTaskTe¡
, 
CªûlD–ayedTaskBefÜeItRuns
) {

129 
¹c
::
Ev’t
 
dÚe
;

130 
MockClosu»
 
mock
;

131 
	`EXPECT_CALL
(
mock
, 
C®l
).
	`Times
(0);

132 
	`EXPECT_CALL
(
mock
, 
D–‘e
).
	`WlOnû
(
	`Invoke
([&
dÚe
] { dÚe.
	`S‘
(); }));

133 
TaskQueueFÜTe¡
 
	`sk_queue
("queue");

134 autØ
hªdË
 = 
R•—tšgTaskHªdË
::
	`D–ayedS¹
(

135 
sk_queue
.
	`G‘
(), 
TimeD–
::
	`Mlis
(100), 
	`MoveOÆyClosu»
(&
mock
));

136 
sk_queue
.
	`Po¡Task
(

137 [
hªdË
 = 
¡d
::
	`move
(hªdË)](è
mubË
 { hªdË.
	`Stİ
(); });

138 
	`EXPECT_TRUE
(
dÚe
.
	`Wa™
(
kTimeout
.
	`ms
()));

139 
	}
}

141 
	$TEST
(
R•—tšgTaskTe¡
, 
CªûlTaskAá”ItRuns
) {

142 
¹c
::
Ev’t
 
dÚe
;

143 
MockClosu»
 
mock
;

144 
	`EXPECT_CALL
(
mock
, 
C®l
).
	`WlOnû
(
	`R‘uº
(
TimeD–
::
	`Mlis
(100)));

145 
	`EXPECT_CALL
(
mock
, 
D–‘e
).
	`WlOnû
(
	`Invoke
([&
dÚe
] { dÚe.
	`S‘
(); }));

146 
TaskQueueFÜTe¡
 
	`sk_queue
("queue");

147 autØ
hªdË
 =

148 
R•—tšgTaskHªdË
::
	`S¹
(
sk_queue
.
	`G‘
(), 
	`MoveOÆyClosu»
(&
mock
));

149 
sk_queue
.
	`Po¡Task
(

150 [
hªdË
 = 
¡d
::
	`move
(hªdË)](è
mubË
 { hªdË.
	`Stİ
(); });

151 
	`EXPECT_TRUE
(
dÚe
.
	`Wa™
(
kTimeout
.
	`ms
()));

152 
	}
}

154 
	$TEST
(
R•—tšgTaskTe¡
, 
TaskCªStİIt£lf
) {

155 
¡d
::
©omic_št
 
	`couÁ”
(0);

156 
TaskQueueFÜTe¡
 
	`sk_queue
("TestQueue");

157 
R•—tšgTaskHªdË
 
hªdË
;

158 
sk_queue
.
	`Po¡Task
([&] {

159 
hªdË
 = 
R•—tšgTaskHªdË
::
	`S¹
(
sk_queue
.
	`G‘
(), [&] {

160 ++
couÁ”
;

161 
hªdË
.
	`Stİ
();

162  
TimeD–
::
	`Mlis
(2);

165 
	`SË•
(
TimeD–
::
	`Mlis
(10));

166 
	`EXPECT_EQ
(
couÁ”
.
	`lßd
(), 1);

167 
	}
}

169 
	$TEST
(
R•—tšgTaskTe¡
, 
Z”oR‘uºV®ueR•o¡sTheTask
) {

170 
NiûMock
<
MockClosu»
> 
şosu»
;

171 
¹c
::
Ev’t
 
dÚe
;

172 
	`EXPECT_CALL
(
şosu»
, 
	`C®l
())

173 .
	`WlOnû
(
	`R‘uº
(
TimeD–
::
	`Z”o
()))

174 .
	`WlOnû
(
	`Invoke
([&
dÚe
] {

175 
dÚe
.
	`S‘
();

176  
kTimeout
;

178 
TaskQueueFÜTe¡
 
	`sk_queue
("queue");

179 
R•—tšgTaskHªdË
::
	`S¹
(
sk_queue
.
	`G‘
(), 
	`MoveOÆyClosu»
(&
şosu»
));

180 
	`EXPECT_TRUE
(
dÚe
.
	`Wa™
(
kTimeout
.
	`ms
()));

181 
	}
}

183 
	$TEST
(
R•—tšgTaskTe¡
, 
S¹P”iodicTask
) {

184 
MockFunùiÚ
<
	`TimeD–
()> 
şosu»
;

185 
¹c
::
Ev’t
 
dÚe
;

186 
	`EXPECT_CALL
(
şosu»
, 
	`C®l
())

187 .
	`WlOnû
(
	`R‘uº
(
TimeD–
::
	`Mlis
(20)))

188 .
	`WlOnû
(
	`R‘uº
(
TimeD–
::
	`Mlis
(20)))

189 .
	`WlOnû
(
	`Invoke
([&
dÚe
] {

190 
dÚe
.
	`S‘
();

191  
kTimeout
;

193 
TaskQueueFÜTe¡
 
	`sk_queue
("queue");

194 
R•—tšgTaskHªdË
::
	`S¹
(
sk_queue
.
	`G‘
(), 
şosu»
.
	`AsStdFunùiÚ
());

195 
	`EXPECT_TRUE
(
dÚe
.
	`Wa™
(
kTimeout
.
	`ms
()));

196 
	}
}

198 
	$TEST
(
R•—tšgTaskTe¡
, 
Exam¶e
) {

199 şas 
	cObjeùOnTaskQueue
 {

200 
public
:

201 
	`DoP”iodicTask
() {}

202 
TimeD–
 
	`TimeUÁNextRun
(è{  TimeD–::
	`Mlis
(100); }

203 
	`S¹P”iodicTask
(
R•—tšgTaskHªdË
* 
hªdË
,

204 
TaskQueueBa£
* 
sk_queue
) {

205 *
hªdË
 = 
R•—tšgTaskHªdË
::
	`S¹
(
sk_queue
, [
this
] {

206 
	`DoP”iodicTask
();

207  
	`TimeUÁNextRun
();

211 
TaskQueueFÜTe¡
 
	`sk_queue
("queue");

212 autØ
objeù
 = 
¡d
::
make_unique
<
ObjeùOnTaskQueue
>();

214 
R•—tšgTaskHªdË
 
hªdË
;

215 
objeù
->
	`S¹P”iodicTask
(&
hªdË
, 
sk_queue
.
	`G‘
());

217 
sk_queue
.
	`Po¡Task
(

218 [
hªdË
 = 
¡d
::
	`move
(hªdË)](è
mubË
 { hªdË.
	`Stİ
(); });

219 
objeù
->
	`S¹P”iodicTask
(&
hªdË
, 
sk_queue
.
	`G‘
());

220 
sk_queue
.
	`Po¡Task
(

221 [
hªdË
 = 
¡d
::
	`move
(hªdË)](è
mubË
 { hªdË.
	`Stİ
(); });

222 
	sDe¡ruùÜ
 {

223 
	`İ”©Ü
()(è{ 
objeù
.
	`»£t
(); }

224 
¡d
::
unique_±r
<
ObjeùOnTaskQueue
> 
objeù
;

226 
sk_queue
.
	`Po¡Task
(
De¡ruùÜ
{
¡d
::
	`move
(
objeù
)});

229 
	}
}

	@task_utils/to_queued_task.h

11 #iâdeà
RTC_BASE_TASK_UTILS_TO_QUEUED_TASK_H_


12 
	#RTC_BASE_TASK_UTILS_TO_QUEUED_TASK_H_


	)

14 
	~<memÜy
>

15 
	~<ty³_Œa™s
>

16 
	~<ut™y
>

18 
	~"­i/sk_queue/queued_sk.h
"

19 
	~"¹c_ba£/sk_uts/³ndšg_sk_§ãty_æag.h
"

21 
Çme¥aû
 
	gweb¹c
 {

22 
Çme¥aû
 
	gweb¹c_Ãw_şosu»_im¶
 {

24 
	g‹m¶©e
 <
ty³Çme
 
	gClosu»
>

25 şas 
	cClosu»Task
 : 
public
 
QueuedTask
 {

26 
public
:

27 
ex¶ic™
 
Closu»Task
(
Closu»
&& 
şosu»
)

28 : 
şosu»_
(
¡d
::
fÜw¬d
<
Closu»
>(
şosu»
)) {}

30 
´iv©e
:

31 
boŞ
 
Run
(è
ov”ride
 {

32 
şosu»_
();

33  
	gŒue
;

36 
ty³Çme
 
	g¡d
::
deÿy
<
Closu»
>::
ty³
 
şosu»_
;

39 
	g‹m¶©e
 <
ty³Çme
 
	gClosu»
>

40 şas 
	cSaãtyClosu»Task
 : 
public
 
QueuedTask
 {

41 
public
:

42 
ex¶ic™
 
SaãtyClosu»Task
(
¹c
::
scİed_»åŒ
<
P’dšgTaskSaãtyFÏg
> 
§ãty
,

43 
Closu»
&& 
şosu»
)

44 : 
şosu»_
(
¡d
::
fÜw¬d
<
Closu»
>(
şosu»
)),

45 
§ãty_æag_
(
¡d
::
move
(
§ãty
)) {}

47 
´iv©e
:

48 
boŞ
 
Run
(è
ov”ride
 {

49 ià(
§ãty_æag_
->
®ive
())

50 
şosu»_
();

51  
	gŒue
;

54 
ty³Çme
 
	g¡d
::
deÿy
<
Closu»
>::
ty³
 
şosu»_
;

55 
	g¹c
::
scİed_»åŒ
<
P’dšgTaskSaãtyFÏg
> 
§ãty_æag_
;

61 
	g‹m¶©e
 <
ty³Çme
 
	gClosu»
,y³Çm
	gCËªup
>

62 
şass
 
	gClosu»TaskW™hCËªup
 : 
public
 
Closu»Task
<
Closu»
> {

63 
public
:

64 
Closu»TaskW™hCËªup
(
Closu»
&& 
şosu»
, 
CËªup
&& 
ş—nup
)

65 : 
Closu»Task
<
Closu»
>(
¡d
::
fÜw¬d
<Closu»>(
şosu»
)),

66 
ş—nup_
(
¡d
::
fÜw¬d
<
CËªup
>(
ş—nup
)) {}

67 ~
Closu»TaskW™hCËªup
(è
ov”ride
 { 
ş—nup_
(); }

69 
	g´iv©e
:

70 
ty³Çme
 
¡d
::
deÿy
<
CËªup
>::
ty³
 
ş—nup_
;

77 
	g‹m¶©e
 <
ty³Çme
 
	gClosu»
>

78 
	g¡d
::
unique_±r
<
QueuedTask
> 
	$ToQueuedTask
(
Closu»
&& 
şosu»
) {

79  
¡d
::
make_unique
<
web¹c_Ãw_şosu»_im¶
::
Closu»Task
<
Closu»
>>(

80 
¡d
::
fÜw¬d
<
Closu»
>(
şosu»
));

81 
	}
}

83 
	g‹m¶©e
 <
ty³Çme
 
	gClosu»
>

84 
	g¡d
::
unique_±r
<
QueuedTask
> 
ToQueuedTask
(

85 
¹c
::
scİed_»åŒ
<
P’dšgTaskSaãtyFÏg
> 
§ãty
,

86 
Closu»
&& 
şosu»
) {

87  
	g¡d
::
make_unique
<
web¹c_Ãw_şosu»_im¶
::
SaãtyClosu»Task
<
Closu»
>>(

88 
¡d
::
move
(
§ãty
), 
	g¡d
::
fÜw¬d
<
Closu»
>(
şosu»
));

91 
	g‹m¶©e
 <
ty³Çme
 
	gClosu»
>

92 
	g¡d
::
unique_±r
<
QueuedTask
> 
	$ToQueuedTask
(cÚ¡ 
ScİedTaskSaãty
& 
§ãty
,

93 
Closu»
&& 
şosu»
) {

94  
	`ToQueuedTask
(
§ãty
.
	`æag
(), 
¡d
::
fÜw¬d
<
Closu»
>(
şosu»
));

95 
	}
}

97 
	g‹m¶©e
 <
ty³Çme
 
	gClosu»
,

98 
ty³Çme
 
	gCËªup
,

99 
ty³Çme
 
	g¡d
::
’abË_if
<!
¡d
::
is_§me
<

100 
ty³Çme
 
¡d
::
»move_cÚ¡
<

101 
ty³Çme
 
¡d
::
»move_»ã»nû
<
Closu»
>::
ty³
>::type,

102 
	gScİedTaskSaãty
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

103 
¡d
::
unique_±r
<
QueuedTask
> 
	$ToQueuedTask
(
Closu»
&& 
şosu»
, 
CËªup
&& 
ş—nup
) {

104  
¡d
::
make_unique
<

105 
web¹c_Ãw_şosu»_im¶
::
Closu»TaskW™hCËªup
<
Closu»
, 
CËªup
>>(

106 
¡d
::
fÜw¬d
<
Closu»
>(
şosu»
), std::fÜw¬d<
CËªup
>(
ş—nup
));

107 
	}
}

	@task_utils/to_queued_task_unittest.cc

11 
	~"¹c_ba£/sk_uts/to_queued_sk.h
"

13 
	~<memÜy
>

15 
	~"ab¦/memÜy/memÜy.h
"

16 
	~"­i/sk_queue/queued_sk.h
"

17 
	~"‹¡/gmock.h
"

18 
	~"‹¡/g‹¡.h
"

20 
Çme¥aû
 
	gweb¹c
 {

21 
	gÇme¥aû
 {

23 
	gusšg
 ::
‹¡šg
::
InSequ’û
;

24 
	gusšg
 ::
‹¡šg
::
MockFunùiÚ
;

26 
RunTask
(
¡d
::
unique_±r
<
QueuedTask
> 
sk
) {

28 
QueuedTask
* 
¿w
 = 
sk
.
»Ëa£
();

29 ià(
	g¿w
->
Run
())

30 
d–‘e
 
	g¿w
;

33 
TEST
(
ToQueuedTaskTe¡
, 
Acû±sLambda
) {

34 
boŞ
 
	grun
 = 
çl£
;

35 
	g¡d
::
unique_±r
<
QueuedTask
> 
sk
 = 
ToQueuedTask
([&
run
] {„uÀğ
Œue
; });

36 
EXPECT_FALSE
(
run
);

37 
RunTask
(
¡d
::
move
(
sk
));

38 
EXPECT_TRUE
(
run
);

41 
TEST
(
ToQueuedTaskTe¡
, 
Acû±sCİyabËClosu»
) {

42 
	sCİyabËClosu»
 {

43 
CİyabËClosu»
(* 
num_cİ›s
, * 
num_moves
, * 
num_runs
)

44 : 
num_cİ›s
Òum_cİ›s), 
num_moves
Òum_moves), 
num_runs
(num_runs) {}

45 
CİyabËClosu»
(cÚ¡ CİyabËClosu»& 
Ùh”
)

46 : 
num_cİ›s
(
Ùh”
.num_copies),

47 
num_moves
(
Ùh”
.num_moves),

48 
num_runs
(
Ùh”
.num_runs) {

49 ++*
	gnum_cİ›s
;

51 
CİyabËClosu»
(CİyabËClosu»&& 
Ùh”
)

52 : 
num_cİ›s
(
Ùh”
.num_copies),

53 
num_moves
(
Ùh”
.num_moves),

54 
num_runs
(
Ùh”
.num_runs) {

55 ++*
	gnum_moves
;

57 
İ”©Ü
()(è{ ++*
	gnum_runs
; }

59 * 
	gnum_cİ›s
;

60 * 
	gnum_moves
;

61 * 
	gnum_runs
;

64 
	gnum_cİ›s
 = 0;

65 
	gnum_moves
 = 0;

66 
	gnum_runs
 = 0;

68 
	g¡d
::
unique_±r
<
QueuedTask
> 
sk
;

70 
CİyabËClosu»
 
şosu»
(&
num_cİ›s
, &
num_moves
, &
num_runs
);

71 
	gsk
 = 
ToQueuedTask
(
şosu»
);

74 
EXPECT_EQ
(
num_cİ›s
, 1);

75 
EXPECT_EQ
(
num_runs
, 0);

76 
RunTask
(
¡d
::
move
(
sk
));

77 
EXPECT_EQ
(
num_cİ›s
, 1);

78 
EXPECT_EQ
(
num_moves
, 0);

79 
EXPECT_EQ
(
num_runs
, 1);

82 
TEST
(
ToQueuedTaskTe¡
, 
Acû±sMoveOÆyClosu»
) {

83 
	sMoveOÆyClosu»
 {

84 
MoveOÆyClosu»
(* 
num_moves
, 
¡d
::
funùiÚ
<()> 
Œigg”
)

85 : 
num_moves
Òum_moves), 
Œigg”
(
¡d
::
move
(trigger)) {}

86 
MoveOÆyClosu»
(cÚ¡ MoveOÆyClosu»&èğ
d–‘e
;

87 
MoveOÆyClosu»
(MoveOÆyClosu»&& 
Ùh”
)

88 : 
num_moves
(
Ùh”
.num_moves), 
Œigg”
(
¡d
::
move
(other.trigger)) {

89 ++*
num_moves
;

91 
İ”©Ü
()(è{ 
Œigg”
(); }

93 * 
	gnum_moves
;

94 
	g¡d
::
funùiÚ
<()> 
Œigg”
;

97 
	gnum_moves
 = 0;

98 
	gMockFunùiÚ
<()> 
	grun
;

100 autØ
	gsk
 = 
ToQueuedTask
(
MoveOÆyClosu»
(&
num_moves
, 
run
.
AsStdFunùiÚ
()));

101 
EXPECT_EQ
(
num_moves
, 1);

102 
EXPECT_CALL
(
run
, 
C®l
);

103 
RunTask
(
¡d
::
move
(
sk
));

104 
EXPECT_EQ
(
num_moves
, 1);

107 
TEST
(
ToQueuedTaskTe¡
, 
Acû±sMoveOÆyCËªup
) {

108 
	sMoveOÆyClosu»
 {

109 
MoveOÆyClosu»
(cÚ¡ MoveOÆyClosu»&èğ
d–‘e
;

110 
MoveOÆyClosu»
(MoveOnlyClosure&&) = ;

111 
İ”©Ü
()(è{ 
Œigg”
(); }

113 
	g¡d
::
funùiÚ
<()> 
Œigg”
;

116 
	gMockFunùiÚ
<()> 
	grun
;

117 
	gMockFunùiÚ
<()> 
	gş—nup
;

119 autØ
	gsk
 = 
ToQueuedTask
(
MoveOÆyClosu»
{
run
.
AsStdFunùiÚ
()},

120 
MoveOÆyClosu»
{
ş—nup
.
AsStdFunùiÚ
()});

123 
InSequ’û
 
	gš_£qu’û
;

124 
EXPECT_CALL
(
run
, 
C®l
);

125 
EXPECT_CALL
(
ş—nup
, 
C®l
);

126 
RunTask
(
¡d
::
move
(
sk
));

129 
TEST
(
ToQueuedTaskTe¡
, 
P’dšgTaskSaãtyFÏg
) {

130 
	g¹c
::
scİed_»åŒ
<
P’dšgTaskSaãtyFÏg
> 
æag
 =

131 
P’dšgTaskSaãtyFÏg
::
C»©e
();

133 
	gcouÁ
 = 0;

135 autØ
	gsk1
 = 
ToQueuedTask
(
æag
, [&
couÁ
]() { ++count; });

136 autØ
	gsk2
 = 
ToQueuedTask
(
æag
, [&
couÁ
]() { ++count; });

138 
EXPECT_EQ
(0, 
couÁ
);

139 
RunTask
(
¡d
::
move
(
sk1
));

140 
EXPECT_EQ
(1, 
couÁ
);

141 
	gæag
->
S‘NÙAlive
();

143 
RunTask
(
¡d
::
move
(
sk2
));

144 
EXPECT_EQ
(1, 
couÁ
);

	@test_base64.h

11 #iâdeà
RTC_BASE_TEST_BASE64_H_


12 
	#RTC_BASE_TEST_BASE64_H_


	)

16 
	g‹¡ba£64
[] = {

	@test_certificate_verifier.h

11 #iâdeà
RTC_BASE_TEST_CERTIFICATE_VERIFIER_H_


12 
	#RTC_BASE_TEST_CERTIFICATE_VERIFIER_H_


	)

14 
	~"¹c_ba£/s¦_û¹ifiÿ‹.h
"

16 
Çme¥aû
 
	g¹c
 {

18 şas 
	cTe¡C”tifiÿ‹V”if›r
 : 
public
 
SSLC”tifiÿ‹V”if›r
 {

19 
public
:

20 
Te¡C”tifiÿ‹V”if›r
() = ;

21 ~
Te¡C”tifiÿ‹V”if›r
(è
	gov”ride
 = ;

23 
boŞ
 
V”ify
(cÚ¡ 
SSLC”tifiÿ‹
& 
û¹ifiÿ‹
è
	gov”ride
 {

24 
	gÿÎ_couÁ_
++;

25  
	gv”ify_û¹ifiÿ‹_
;

28 
size_t
 
	gÿÎ_couÁ_
 = 0;

29 
boŞ
 
	gv”ify_û¹ifiÿ‹_
 = 
Œue
;

	@test_client.cc

11 
	~"¹c_ba£/‹¡_ş›Á.h
"

13 
	~<¡ršg.h
>

15 
	~<memÜy
>

16 
	~<ut™y
>

18 
	~"¹c_ba£/gun™.h
"

19 
	~"¹c_ba£/th»ad.h
"

20 
	~"¹c_ba£/time_uts.h
"

22 
Çme¥aû
 
	g¹c
 {

28 
	gTe¡Cl›Á
::
Te¡Cl›Á
(
¡d
::
unique_±r
<
AsyncPack‘Sock‘
> 
sock‘
)

29 : 
Te¡Cl›Á
(
¡d
::
move
(
sock‘
), 
nuÎ±r
) {}

31 
	gTe¡Cl›Á
::
Te¡Cl›Á
(
¡d
::
unique_±r
<
AsyncPack‘Sock‘
> 
sock‘
,

32 
Th»adProûssšgFakeClock
* 
çke_şock
)

33 : 
çke_şock_
(
çke_şock
),

34 
sock‘_
(
¡d
::
move
(
sock‘
)),

35 
´ev_·ck‘_time¡amp_
(-1) {

36 
	gsock‘_
->
	gSigÇlR—dPack‘
.
cÚÃù
(
this
, &
Te¡Cl›Á
::
OnPack‘
);

37 
	gsock‘_
->
	gSigÇlR—dyToS’d
.
cÚÃù
(
this
, &
Te¡Cl›Á
::
OnR—dyToS’d
);

40 
	gTe¡Cl›Á
::~
Te¡Cl›Á
() {}

42 
boŞ
 
Te¡Cl›Á
::
CheckCÚnS‹
(
AsyncPack‘Sock‘
::
S‹
 
¡©e
) {

44 
št64_t
 
’d
 = 
TimeAá”
(
kTimeoutMs
);

45 
	gsock‘_
->
G‘S‹
(è!ğ
¡©e
 && 
TimeUÁ
(
’d
) > 0) {

46 
AdvªûTime
(1);

48  (
	gsock‘_
->
G‘S‹
(è=ğ
¡©e
);

51 
	gTe¡Cl›Á
::
S’d
(cÚ¡ * 
buf
, 
size_t
 
size
) {

52 
	g¹c
::
Pack‘O±iÚs
 
İtiÚs
;

53  
	gsock‘_
->
S’d
(
buf
, 
size
, 
İtiÚs
);

56 
	gTe¡Cl›Á
::
S’dTo
(cÚ¡ * 
buf
,

57 
size_t
 
size
,

58 cÚ¡ 
Sock‘Add»ss
& 
de¡
) {

59 
	g¹c
::
Pack‘O±iÚs
 
İtiÚs
;

60  
	gsock‘_
->
S’dTo
(
buf
, 
size
, 
de¡
, 
İtiÚs
);

63 
	g¡d
::
unique_±r
<
Te¡Cl›Á
::
Pack‘
> Te¡Cl›Á::
NextPack‘
(
timeout_ms
) {

75 
št64_t
 
’d
 = 
TimeAá”
(
timeout_ms
);

76 
TimeUÁ
(
’d
) > 0) {

78 
Cr™Scİe
 
cs
(&
ü™_
);

79 ià(
	g·ck‘s_
.
size
() != 0) {

83 
AdvªûTime
(1);

87 
	g¡d
::
unique_±r
<
Pack‘
> 
·ck‘
;

88 
Cr™Scİe
 
cs
(&
ü™_
);

89 ià(
	g·ck‘s_
.
size
() > 0) {

90 
	g·ck‘
 = 
¡d
::
move
(
·ck‘s_
.
äÚt
());

91 
	g·ck‘s_
.
”a£
(
·ck‘s_
.
begš
());

94  
	g·ck‘
;

97 
boŞ
 
	gTe¡Cl›Á
::
CheckNextPack‘
(cÚ¡ * 
buf
,

98 
size_t
 
size
,

99 
Sock‘Add»ss
* 
addr
) {

100 
boŞ
 
	g»s
 = 
çl£
;

101 
	g¡d
::
unique_±r
<
Pack‘
> 
·ck‘
 = 
NextPack‘
(
kTimeoutMs
);

102 ià(
	g·ck‘
) {

103 
	g»s
 = (
·ck‘
->
size
 =ğsiz&& 
memcmp
Õack‘->
buf
, buf, size) == 0 &&

104 
CheckTime¡amp
(
·ck‘
->
·ck‘_time_us
));

105 ià(
	gaddr
)

106 *
	gaddr
 = 
·ck‘
->
addr
;

108  
	g»s
;

111 
boŞ
 
	gTe¡Cl›Á
::
CheckTime¡amp
(
št64_t
 
·ck‘_time¡amp
) {

112 
boŞ
 
»s
 = 
Œue
;

113 ià(
	g·ck‘_time¡amp
 == -1) {

114 
»s
 = 
çl£
;

116 ià(
	g´ev_·ck‘_time¡amp_
 != -1) {

117 ià(
·ck‘_time¡amp
 < 
´ev_·ck‘_time¡amp_
) {

118 
»s
 = 
çl£
;

121 
	g´ev_·ck‘_time¡amp_
 = 
·ck‘_time¡amp
;

122  
	g»s
;

125 
	gTe¡Cl›Á
::
AdvªûTime
(
ms
) {

128 ià(
çke_şock_
) {

129 
SIMULATED_WAIT
(
çl£
, 
ms
, *
çke_şock_
);

131 
	gTh»ad
::
Cu¼’t
()->
ProûssMes§ges
(1);

135 
boŞ
 
	gTe¡Cl›Á
::
CheckNoPack‘
() {

136  
NextPack‘
(
kNoPack‘TimeoutMs
è=ğ
nuÎ±r
;

139 
	gTe¡Cl›Á
::
G‘E¼Ü
() {

140  
sock‘_
->
G‘E¼Ü
();

143 
	gTe¡Cl›Á
::
S‘O±iÚ
(
Sock‘
::
O±iÚ
 
İt
, 
v®ue
) {

144  
	gsock‘_
->
S‘O±iÚ
(
İt
, 
v®ue
);

147 
	gTe¡Cl›Á
::
OnPack‘
(
AsyncPack‘Sock‘
* 
sock‘
,

148 cÚ¡ * 
buf
,

149 
size_t
 
size
,

150 cÚ¡ 
Sock‘Add»ss
& 
»mÙe_addr
,

151 cÚ¡ 
št64_t
& 
·ck‘_time_us
) {

152 
Cr™Scİe
 
cs
(&
ü™_
);

153 
	g·ck‘s_
.
push_back
(

154 
¡d
::
make_unique
<
Pack‘
>(
»mÙe_addr
, 
buf
, 
size
, 
·ck‘_time_us
));

157 
	gTe¡Cl›Á
::
OnR—dyToS’d
(
AsyncPack‘Sock‘
* 
sock‘
) {

158 ++
»ady_to_£nd_couÁ_
;

161 
	gTe¡Cl›Á
::
Pack‘
::Pack‘(cÚ¡ 
Sock‘Add»ss
& 
a
,

162 cÚ¡ * 
b
,

163 
size_t
 
s
,

164 
št64_t
 
·ck‘_time_us
)

165 : 
addr
(
a
), 
buf
(0), 
size
(
s
), 
·ck‘_time_us
(packet_time_us) {

166 
	gbuf
 = 
Ãw
 [
size
];

167 
memıy
(
buf
, 
b
, 
size
);

170 
	gTe¡Cl›Á
::
Pack‘
::Pack‘(cÚ¡ Pack‘& 
p
)

171 : 
addr
(
p
.addr), 
buf
(0), 
size
Õ.size), 
·ck‘_time_us
(p.packet_time_us) {

172 
	gbuf
 = 
Ãw
 [
size
];

173 
memıy
(
buf
, 
p
.buf, 
size
);

176 
	gTe¡Cl›Á
::
Pack‘
::~Packet() {

177 
d–‘e
[] 
buf
;

	@test_client.h

11 #iâdeà
RTC_BASE_TEST_CLIENT_H_


12 
	#RTC_BASE_TEST_CLIENT_H_


	)

14 
	~<memÜy
>

15 
	~<veùÜ
>

17 
	~"¹c_ba£/async_udp_sock‘.h
"

18 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

19 
	~"¹c_ba£/ü™iÿl_£ùiÚ.h
"

20 
	~"¹c_ba£/çke_şock.h
"

22 
Çme¥aû
 
	g¹c
 {

26 
şass
 
	gTe¡Cl›Á
 : 
public
 
sig¦Ù
::
has_¦Ùs
<> {

27 
public
:

29 
	sPack‘
 {

30 
Pack‘
(cÚ¡ 
Sock‘Add»ss
& 
a
,

31 cÚ¡ * 
b
,

32 
size_t
 
s
,

33 
št64_t
 
·ck‘_time_us
);

34 
Pack‘
(cÚ¡ Pack‘& 
p
);

35 
	gvœtu®
 ~
Pack‘
();

37 
Sock‘Add»ss
 
	gaddr
;

38 * 
	gbuf
;

39 
size_t
 
	gsize
;

40 
št64_t
 
	g·ck‘_time_us
;

44 cÚ¡ 
	gkTimeoutMs
 = 5000;

48 
ex¶ic™
 
Te¡Cl›Á
(
¡d
::
unique_±r
<
AsyncPack‘Sock‘
> 
sock‘
);

52 
Te¡Cl›Á
(
¡d
::
unique_±r
<
AsyncPack‘Sock‘
> 
sock‘
,

53 
Th»adProûssšgFakeClock
* 
çke_şock
);

54 ~
Te¡Cl›Á
(è
	gov”ride
;

56 
Sock‘Add»ss
 
add»ss
(ècÚ¡ {  
	gsock‘_
->
G‘LoÿlAdd»ss
(); }

57 
Sock‘Add»ss
 
»mÙe_add»ss
(ècÚ¡ {  
	gsock‘_
->
G‘RemÙeAdd»ss
(); }

60 
boŞ
 
CheckCÚnS‹
(
AsyncPack‘Sock‘
::
S‹
 
¡©e
);

63 
boŞ
 
CheckCÚÃùed
() {

64  
CheckCÚnS‹
(
AsyncPack‘Sock‘
::
STATE_CONNECTED
);

68 
S’d
(cÚ¡ * 
buf
, 
size_t
 
size
);

71 
S’dTo
(cÚ¡ * 
buf
, 
size_t
 
size
, cÚ¡ 
Sock‘Add»ss
& 
de¡
);

75 
	g¡d
::
unique_±r
<
Pack‘
> 
NextPack‘
(
timeout_ms
);

79 
boŞ
 
CheckNextPack‘
(cÚ¡ * 
buf
, 
size_t
 
Ën
, 
Sock‘Add»ss
* 
addr
);

82 
boŞ
 
CheckNoPack‘
();

84 
G‘E¼Ü
();

85 
S‘O±iÚ
(
Sock‘
::
O±iÚ
 
İt
, 
v®ue
);

87 
boŞ
 
»ady_to_£nd
(ècÚ¡ {  
»ady_to_£nd_couÁ
() > 0; }

90 
»ady_to_£nd_couÁ
(ècÚ¡ {  
	g»ady_to_£nd_couÁ_
; }

92 
	g´iv©e
:

94 cÚ¡ 
kNoPack‘TimeoutMs
 = 1000;

96 
	gSock‘
::
CÚnS‹
 
G‘S‹
();

98 
OnPack‘
(
AsyncPack‘Sock‘
* 
sock‘
,

99 cÚ¡ * 
buf
,

100 
size_t
 
Ën
,

101 cÚ¡ 
Sock‘Add»ss
& 
»mÙe_addr
,

102 cÚ¡ 
št64_t
& 
·ck‘_time_us
);

103 
OnR—dyToS’d
(
AsyncPack‘Sock‘
* 
sock‘
);

104 
boŞ
 
CheckTime¡amp
(
št64_t
 
·ck‘_time¡amp
);

105 
AdvªûTime
(
ms
);

107 
Th»adProûssšgFakeClock
* 
	gçke_şock_
 = 
nuÎ±r
;

108 
Cr™iÿlSeùiÚ
 
	gü™_
;

109 
	g¡d
::
unique_±r
<
AsyncPack‘Sock‘
> 
sock‘_
;

110 
	g¡d
::
veùÜ
<
¡d
::
unique_±r
<
Pack‘
>> 
·ck‘s_
;

111 
	g»ady_to_£nd_couÁ_
 = 0;

112 
št64_t
 
	g´ev_·ck‘_time¡amp_
;

113 
RTC_DISALLOW_COPY_AND_ASSIGN
(
Te¡Cl›Á
);

	@test_client_unittest.cc

11 
	~"¹c_ba£/‹¡_ş›Á.h
"

13 
	~<ut™y
>

15 
	~"ab¦/memÜy/memÜy.h
"

16 
	~"¹c_ba£/async_sock‘.h
"

17 
	~"¹c_ba£/async_tı_sock‘.h
"

18 
	~"¹c_ba£/async_udp_sock‘.h
"

19 
	~"¹c_ba£/loggšg.h
"

20 
	~"¹c_ba£/Ãt_h–³rs.h
"

21 
	~"¹c_ba£/sock‘_£rv”.h
"

22 
	~"¹c_ba£/‹¡_echo_£rv”.h
"

23 
	~"¹c_ba£/th»ad.h
"

24 
	~"‹¡/g‹¡.h
"

26 
Çme¥aû
 
	g¹c
 {

27 
	gÇme¥aû
 {

29 
	#MAYBE_SKIP_IPV4
 \

30 ià(!
	`HasIPv4EÇbËd
()) { \

31 
	`RTC_LOG
(
LS_INFO
) << "No IPv4... skipping"; \

33 }

	)

35 
	#MAYBE_SKIP_IPV6
 \

36 ià(!
	`HasIPv6EÇbËd
()) { \

37 
	`RTC_LOG
(
LS_INFO
) << "No IPv6... skipping"; \

39 }

	)

41 
Te¡UdpIÁ”Çl
(cÚ¡ 
Sock‘Add»ss
& 
loİback
) {

42 
Th»ad
* 
	gmaš
 = Th»ad::
Cu¼’t
();

43 
AsyncSock‘
* 
	gsock‘
 =

44 
maš
->
sock‘£rv”
()->
C»©eAsyncSock‘
(
loİback
.
çmy
(), 
SOCK_DGRAM
);

45 
	gsock‘
->
Bšd
(
loİback
);

47 
Te¡Cl›Á
 
ş›Á
(
¡d
::
make_unique
<
AsyncUDPSock‘
>(
sock‘
));

48 
Sock‘Add»ss
 
	gaddr
 = 
ş›Á
.
add»ss
(), 
	gäom
;

49 
EXPECT_EQ
(3, 
ş›Á
.
S’dTo
("foo", 3, 
addr
));

50 
EXPECT_TRUE
(
ş›Á
.
CheckNextPack‘
("foo", 3, &
äom
));

51 
EXPECT_EQ
(
äom
, 
addr
);

52 
EXPECT_TRUE
(
ş›Á
.
CheckNoPack‘
());

55 
Te¡TıIÁ”Çl
(cÚ¡ 
Sock‘Add»ss
& 
loİback
) {

56 
Th»ad
* 
	gmaš
 = Th»ad::
Cu¼’t
();

57 
Te¡EchoS”v”
 
£rv”
(
maš
, 
loİback
);

59 
AsyncSock‘
* 
	gsock‘
 =

60 
maš
->
sock‘£rv”
()->
C»©eAsyncSock‘
(
loİback
.
çmy
(), 
SOCK_STREAM
);

61 
	g¡d
::
unique_±r
<
AsyncTCPSock‘
> 
tı_sock‘
 = 
ab¦
::
W¿pUnique
(

62 
AsyncTCPSock‘
::
C»©e
(
sock‘
, 
loİback
, 
£rv”
.
add»ss
()));

63 
ASSERT_TRUE
(
tı_sock‘
 !ğ
nuÎ±r
);

65 
Te¡Cl›Á
 
ş›Á
(
¡d
::
move
(
tı_sock‘
));

66 
Sock‘Add»ss
 
	gaddr
 = 
ş›Á
.
add»ss
(), 
	gäom
;

67 
EXPECT_TRUE
(
ş›Á
.
CheckCÚÃùed
());

68 
EXPECT_EQ
(3, 
ş›Á
.
S’d
("foo", 3));

69 
EXPECT_TRUE
(
ş›Á
.
CheckNextPack‘
("foo", 3, &
äom
));

70 
EXPECT_EQ
(
äom
, 
£rv”
.
add»ss
());

71 
EXPECT_TRUE
(
ş›Á
.
CheckNoPack‘
());

75 
TEST
(
Te¡Cl›ÁTe¡
, 
Te¡UdpIPv4
) {

76 
	gMAYBE_SKIP_IPV4
;

77 
Te¡UdpIÁ”Çl
(
Sock‘Add»ss
("127.0.0.1", 0));

80 #ià
defšed
(
WEBRTC_LINUX
)

81 
	#MAYBE_Te¡UdpIPv6
 
DISABLED_Te¡UdpIPv6


	)

83 
	#MAYBE_Te¡UdpIPv6
 
Te¡UdpIPv6


	)

85 
TEST
(
Te¡Cl›ÁTe¡
, 
MAYBE_Te¡UdpIPv6
) {

86 
	gMAYBE_SKIP_IPV6
;

87 
Te¡UdpIÁ”Çl
(
Sock‘Add»ss
("::1", 0));

91 
TEST
(
Te¡Cl›ÁTe¡
, 
Te¡TıIPv4
) {

92 
	gMAYBE_SKIP_IPV4
;

93 
Te¡TıIÁ”Çl
(
Sock‘Add»ss
("127.0.0.1", 0));

96 #ià
defšed
(
WEBRTC_LINUX
)

97 
	#MAYBE_Te¡TıIPv6
 
DISABLED_Te¡TıIPv6


	)

99 
	#MAYBE_Te¡TıIPv6
 
Te¡TıIPv6


	)

101 
TEST
(
Te¡Cl›ÁTe¡
, 
MAYBE_Te¡TıIPv6
) {

102 
	gMAYBE_SKIP_IPV6
;

103 
Te¡TıIÁ”Çl
(
Sock‘Add»ss
("::1", 0));

	@test_echo_server.cc

11 
	~"¹c_ba£/‹¡_echo_£rv”.h
"

13 
	~"¹c_ba£/sock‘_£rv”.h
"

15 
Çme¥aû
 
	g¹c
 {

17 
	gTe¡EchoS”v”
::
Te¡EchoS”v”
(
Th»ad
* 
th»ad
, cÚ¡ 
Sock‘Add»ss
& 
addr
)

18 : 
£rv”_sock‘_
(
th»ad
->
sock‘£rv”
()->
C»©eAsyncSock‘
(
addr
.
çmy
(),

19 
SOCK_STREAM
)) {

20 
	g£rv”_sock‘_
->
Bšd
(
addr
);

21 
	g£rv”_sock‘_
->
Li¡’
(5);

22 
	g£rv”_sock‘_
->
	gSigÇlR—dEv’t
.
cÚÃù
(
this
, &
Te¡EchoS”v”
::
OnAcû±
);

25 
	gTe¡EchoS”v”
::~
Te¡EchoS”v”
() {

26 
Cl›ÁLi¡
::
™”©Ü
 
™
 = 
ş›Á_sock‘s_
.
begš
();

27 
	g™
 !ğ
ş›Á_sock‘s_
.
’d
(); ++it) {

28 
d–‘e
 *
	g™
;

	@test_echo_server.h

11 #iâdeà
RTC_BASE_TEST_ECHO_SERVER_H_


12 
	#RTC_BASE_TEST_ECHO_SERVER_H_


	)

14 
	~<¡ddef.h
>

15 
	~<¡dšt.h
>

17 
	~<li¡
>

18 
	~<memÜy
>

20 
	~"ab¦/®gÜ™hm/cÚš”.h
"

21 
	~"¹c_ba£/async_·ck‘_sock‘.h
"

22 
	~"¹c_ba£/async_sock‘.h
"

23 
	~"¹c_ba£/async_tı_sock‘.h
"

24 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

25 
	~"¹c_ba£/sock‘_add»ss.h
"

26 
	~"¹c_ba£/thœd_·¹y/sig¦Ù/sig¦Ù.h
"

27 
	~"¹c_ba£/th»ad.h
"

29 
Çme¥aû
 
	g¹c
 {

33 
şass
 
	gTe¡EchoS”v”
 : 
public
 
sig¦Ù
::
has_¦Ùs
<> {

34 
public
:

35 
Te¡EchoS”v”
(
Th»ad
* 
th»ad
, cÚ¡ 
Sock‘Add»ss
& 
addr
);

36 ~
Te¡EchoS”v”
(è
	gov”ride
;

38 
Sock‘Add»ss
 
add»ss
(ècÚ¡ {  
	g£rv”_sock‘_
->
G‘LoÿlAdd»ss
(); }

40 
	g´iv©e
:

41 
OnAcû±
(
AsyncSock‘
* 
sock‘
) {

42 
AsyncSock‘
* 
¿w_sock‘
 = 
sock‘
->
Acû±
(
nuÎ±r
);

43 ià(
	g¿w_sock‘
) {

44 
AsyncTCPSock‘
* 
	g·ck‘_sock‘
 = 
Ãw
 AsyncTCPSock‘(
¿w_sock‘
, 
çl£
);

45 
	g·ck‘_sock‘
->
	gSigÇlR—dPack‘
.
cÚÃù
(
this
, &
Te¡EchoS”v”
::
OnPack‘
);

46 
	g·ck‘_sock‘
->
	gSigÇlClo£
.
cÚÃù
(
this
, &
Te¡EchoS”v”
::
OnClo£
);

47 
	gş›Á_sock‘s_
.
push_back
(
·ck‘_sock‘
);

50 
OnPack‘
(
AsyncPack‘Sock‘
* 
sock‘
,

51 cÚ¡ * 
buf
,

52 
size_t
 
size
,

53 cÚ¡ 
Sock‘Add»ss
& 
»mÙe_addr
,

54 cÚ¡ 
št64_t
& ) {

55 
	g¹c
::
Pack‘O±iÚs
 
İtiÚs
;

56 
	gsock‘
->
S’d
(
buf
, 
size
, 
İtiÚs
);

58 
OnClo£
(
AsyncPack‘Sock‘
* 
sock‘
, 
”r
) {

59 
	gCl›ÁLi¡
::
™”©Ü
 
™
 = 
ab¦
::
c_fšd
(
ş›Á_sock‘s_
, 
sock‘
);

60 
	gş›Á_sock‘s_
.
”a£
(
™
);

61 
	gTh»ad
::
Cu¼’t
()->
Di¥o£
(
sock‘
);

64 
	g¡d
::
	tli¡
<
	tAsyncTCPSock‘
*> 
	tCl›ÁLi¡
;

65 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
£rv”_sock‘_
;

66 
Cl›ÁLi¡
 
	gş›Á_sock‘s_
;

67 
RTC_DISALLOW_COPY_AND_ASSIGN
(
Te¡EchoS”v”
);

	@test_utils.cc

11 
	~"¹c_ba£/‹¡_uts.h
"

13 
Çme¥aû
 
	gweb¹c
 {

14 
Çme¥aû
 
	g‹¡šg
 {

16 
	gSŒ—mSšk
::
SŒ—mSšk
() = ;

17 
	gSŒ—mSšk
::~
SŒ—mSšk
() = ;

	@test_utils.h

11 #iâdeà
RTC_BASE_TEST_UTILS_H_


12 
	#RTC_BASE_TEST_UTILS_H_


	)

16 
	~<m­
>

17 
	~<ut™y
>

19 
	~"¹c_ba£/async_sock‘.h
"

20 
	~"¹c_ba£/¡»am.h
"

21 
	~"¹c_ba£/thœd_·¹y/sig¦Ù/sig¦Ù.h
"

23 
Çme¥aû
 
	gweb¹c
 {

24 
Çme¥aû
 
	g‹¡šg
 {

34 
	eSŒ—mSškEv’t
 {

35 
	gSSE_OPEN
 = 
¹c
::
SE_OPEN
,

36 
	gSSE_READ
 = 
¹c
::
SE_READ
,

37 
	gSSE_WRITE
 = 
¹c
::
SE_WRITE
,

38 
	gSSE_CLOSE
 = 
¹c
::
SE_CLOSE
,

39 
	gSSE_ERROR
 = 16

42 
şass
 
	gSŒ—mSšk
 : 
public
 
sig¦Ù
::
has_¦Ùs
<> {

43 
public
:

44 
SŒ—mSšk
();

45 ~
SŒ—mSšk
(è
	gov”ride
;

47 
MÚ™Ü
(
¹c
::
SŒ—mIÁ”çû
* 
¡»am
) {

48 
¡»am
->
SigÇlEv’t
.
cÚÃù
(
this
, &
SŒ—mSšk
::
OnEv’t
);

49 
	gev’ts_
.
”a£
(
¡»am
);

51 
UnmÚ™Ü
(
¹c
::
SŒ—mIÁ”çû
* 
¡»am
) {

52 
¡»am
->
SigÇlEv’t
.
discÚÃù
(
this
);

54 
	gev’ts_
.
”a£
(
¡»am
);

56 
boŞ
 
Check
(
¹c
::
SŒ—mIÁ”çû
* 
¡»am
,

57 
SŒ—mSškEv’t
 
ev’t
,

58 
boŞ
 
»£t
 = 
Œue
) {

59  
DoCheck
(
¡»am
, 
ev’t
, 
»£t
);

61 
Ev’ts
(
¹c
::
SŒ—mIÁ”çû
* 
¡»am
, 
boŞ
 
»£t
 = 
Œue
) {

62  
DoEv’ts
(
¡»am
, 
»£t
);

65 
MÚ™Ü
(
¹c
::
AsyncSock‘
* 
sock‘
) {

66 
sock‘
->
SigÇlCÚÃùEv’t
.
cÚÃù
(
this
, &
SŒ—mSšk
::
OnCÚÃùEv’t
);

67 
	gsock‘
->
	gSigÇlR—dEv’t
.
cÚÃù
(
this
, &
SŒ—mSšk
::
OnR—dEv’t
);

68 
	gsock‘
->
	gSigÇlWr™eEv’t
.
cÚÃù
(
this
, &
SŒ—mSšk
::
OnWr™eEv’t
);

69 
	gsock‘
->
	gSigÇlClo£Ev’t
.
cÚÃù
(
this
, &
SŒ—mSšk
::
OnClo£Ev’t
);

71 
	gev’ts_
.
”a£
(
sock‘
);

73 
UnmÚ™Ü
(
¹c
::
AsyncSock‘
* 
sock‘
) {

74 
sock‘
->
SigÇlCÚÃùEv’t
.
discÚÃù
(
this
);

75 
	gsock‘
->
	gSigÇlR—dEv’t
.
discÚÃù
(
this
);

76 
	gsock‘
->
	gSigÇlWr™eEv’t
.
discÚÃù
(
this
);

77 
	gsock‘
->
	gSigÇlClo£Ev’t
.
discÚÃù
(
this
);

78 
	gev’ts_
.
”a£
(
sock‘
);

80 
boŞ
 
Check
(
¹c
::
AsyncSock‘
* 
sock‘
,

81 
SŒ—mSškEv’t
 
ev’t
,

82 
boŞ
 
»£t
 = 
Œue
) {

83  
DoCheck
(
sock‘
, 
ev’t
, 
»£t
);

85 
Ev’ts
(
¹c
::
AsyncSock‘
* 
sock‘
, 
boŞ
 
»£t
 = 
Œue
) {

86  
DoEv’ts
(
sock‘
, 
»£t
);

89 
	g´iv©e
:

90 
¡d
::
	tm­
<*, > 
	tEv’tM­
;

92 
OnEv’t
(
¹c
::
SŒ—mIÁ”çû
* 
¡»am
, 
ev’ts
, 
”rÜ
) {

93 ià(
	g”rÜ
) {

94 
	gev’ts
 = 
SSE_ERROR
;

96 
AddEv’ts
(
¡»am
, 
ev’ts
);

98 
OnCÚÃùEv’t
(
¹c
::
AsyncSock‘
* 
sock‘
è{ 
AddEv’ts
(sock‘, 
SSE_OPEN
); }

99 
OnR—dEv’t
(
¹c
::
AsyncSock‘
* 
sock‘
è{ 
AddEv’ts
(sock‘, 
SSE_READ
); }

100 
OnWr™eEv’t
(
¹c
::
AsyncSock‘
* 
sock‘
è{ 
AddEv’ts
(sock‘, 
SSE_WRITE
); }

101 
OnClo£Ev’t
(
¹c
::
AsyncSock‘
* 
sock‘
, 
”rÜ
) {

102 
AddEv’ts
(
sock‘
, (0 =ğ
”rÜ
è? 
SSE_CLOSE
 : 
SSE_ERROR
);

105 
AddEv’ts
(* 
obj
, 
ev’ts
) {

106 
	gEv’tM­
::
™”©Ü
 
™
 = 
ev’ts_
.
fšd
(
obj
);

107 ià(
	gev’ts_
.
’d
(è=ğ
™
) {

108 
ev’ts_
.
š£¹
(
Ev’tM­
::
v®ue_ty³
(
obj
, 
ev’ts
));

110 
	g™
->
	g£cÚd
 |ğ
ev’ts
;

113 
boŞ
 
DoCheck
(* 
obj
, 
SŒ—mSškEv’t
 
ev’t
, boŞ 
»£t
) {

114 
	gEv’tM­
::
™”©Ü
 
™
 = 
ev’ts_
.
fšd
(
obj
);

115 ià((
	gev’ts_
.
’d
(è=ğ
™
è|| (0 =ğ(™->
£cÚd
 & 
ev’t
))) {

116  
çl£
;

118 ià(
	g»£t
) {

119 
	g™
->
	g£cÚd
 &ğ~
ev’t
;

121  
	gŒue
;

123 
DoEv’ts
(* 
obj
, 
boŞ
 
»£t
) {

124 
	gEv’tM­
::
™”©Ü
 
™
 = 
ev’ts_
.
fšd
(
obj
);

125 ià(
	gev’ts_
.
’d
(è=ğ
™
)

127 
	gev’ts
 = 
™
->
£cÚd
;

128 ià(
	g»£t
) {

129 
	g™
->
	g£cÚd
 = 0;

131  
	gev’ts
;

134 
Ev’tM­
 
	gev’ts_
;

	@third_party/base64/base64.cc

17 
	~"¹c_ba£/thœd_·¹y/ba£64/ba£64.h
"

19 
	~<as£¹.h
>

20 
	~<¡ršg.h
>

22 
usšg
 
	g¡d
::
veùÜ
;

24 
Çme¥aû
 
	g¹c
 {

26 cÚ¡ 
	gkPad
 = '=';

27 cÚ¡ 
	gpd
 = 0xFD;

28 cÚ¡ 
	g¥
 = 0xFE;

29 cÚ¡ 
	g
 = 0xFF;

31 cÚ¡ 
	gBa£64
::
Ba£64TabË
[] =

40 cÚ¡ 
	gBa£64
::
DecodeTabË
[] = {

42 

, il, il, il, il, il, il, il, il, 
¥
,

43 
¥
, sp, sp, sp, 

, il, il, il, il, il,

44 

, il, il, il, il, il, il, il, il, il,

45 

, il, 
¥
, il, il, il, il, il, il, il,

46 

, il, il, 62, il, il, il, 63, 52, 53,

47 54, 55, 56, 57, 58, 59, 60, 61, 

, il,

48 

, 
pd
, il, il, il, 0, 1, 2, 3, 4,

51 25, 

, il, il, il, il, il, 26, 27, 28,

54 49, 50, 51, 

, il, il, il, il, il, il,

55 

, il, il, il, il, il, il, il, il, il,

56 

, il, il, il, il, il, il, il, il, il,

57 

, il, il, il, il, il, il, il, il, il,

58 

, il, il, il, il, il, il, il, il, il,

59 

, il, il, il, il, il, il, il, il, il,

60 

, il, il, il, il, il, il, il, il, il,

61 

, il, il, il, il, il, il, il, il, il,

62 

, il, il, il, il, il, il, il, il, il,

63 

, il, il, il, il, il, il, il, il, il,

64 

, il, il, il, il, il, il, il, il, il,

65 

, il, il, il, il, il, il, il, il, il,

66 

, il, il, il, il, il, il, il, il, il,

67 

, il, il, il, il, il

70 
boŞ
 
	gBa£64
::
IsBa£64Ch¬
(
ch
) {

71  (('A' <ğ
ch
) && (ch <= 'Z')) || (('a' <= ch) && (ch <= 'z')) ||

72 (('0' <ğ
ch
) && (ch <= '9')) || (ch == '+') || (ch == '/');

75 
boŞ
 
	gBa£64
::
G‘NextBa£64Ch¬
(
ch
, * 
Ãxt_ch
) {

76 ià(
	gÃxt_ch
 =ğ
nuÎ±r
) {

77  
çl£
;

79 cÚ¡ * 
	gp
 = 
¡rchr
(
Ba£64TabË
, 
ch
);

80 ià(!
	gp
)

81  
	gçl£
;

82 ++
	gp
;

83 *
	gÃxt_ch
 = (*
p
è? *°: 
Ba£64TabË
[0];

84  
	gŒue
;

87 
boŞ
 
	gBa£64
::
IsBa£64Encoded
(cÚ¡ 
¡d
::
¡ršg
& 
¡r
) {

88 
size_t
 
i
 = 0; 
	gi
 < 
	g¡r
.
size
(); ++i) {

89 ià(!
IsBa£64Ch¬
(
¡r
.
©
(
i
)))

90  
	gçl£
;

92  
	gŒue
;

95 
	gBa£64
::
EncodeFromA¼ay
(cÚ¡ * 
d©a
,

96 
size_t
 
Ën
,

97 
¡d
::
¡ršg
* 
»suÉ
) {

98 
as£¹
(
nuÎ±r
 !ğ
»suÉ
);

99 
	g»suÉ
->
ş—r
();

100 
	g»suÉ
->
»size
(((
Ën
 + 2) / 3) * 4);

101 cÚ¡ * 
	gby‹_d©a
 = 
¡©ic_ÿ¡
<cÚ¡ *>(
d©a
);

103 
	gc
;

104 
size_t
 
	gi
 = 0;

105 
size_t
 
	gde¡_ix
 = 0;

106 
	gi
 < 
	gËn
) {

107 
	gc
 = (
by‹_d©a
[
i
] >> 2) & 0x3f;

108 (*
	g»suÉ
)[
de¡_ix
++] = 
Ba£64TabË
[
c
];

110 
	gc
 = (
by‹_d©a
[
i
] << 4) & 0x3f;

111 ià(++
	gi
 < 
	gËn
) {

112 
	gc
 |ğ(
by‹_d©a
[
i
] >> 4) & 0x0f;

114 (*
	g»suÉ
)[
de¡_ix
++] = 
Ba£64TabË
[
c
];

116 ià(
	gi
 < 
	gËn
) {

117 
	gc
 = (
by‹_d©a
[
i
] << 2) & 0x3f;

118 ià(++
	gi
 < 
	gËn
) {

119 
	gc
 |ğ(
by‹_d©a
[
i
] >> 6) & 0x03;

121 (*
	g»suÉ
)[
de¡_ix
++] = 
Ba£64TabË
[
c
];

123 (*
	g»suÉ
)[
de¡_ix
++] = 
kPad
;

126 ià(
	gi
 < 
	gËn
) {

127 
	gc
 = 
by‹_d©a
[
i
] & 0x3f;

128 (*
	g»suÉ
)[
de¡_ix
++] = 
Ba£64TabË
[
c
];

129 ++
	gi
;

131 (*
	g»suÉ
)[
de¡_ix
++] = 
kPad
;

136 
size_t
 
	gBa£64
::
G‘NextQuªtum
(
DecodeFÏgs
 
·r£_æags
,

137 
boŞ
 
Ëg®_·ds
,

138 cÚ¡ * 
d©a
,

139 
size_t
 
Ën
,

140 
size_t
* 
dpos
,

141 
qbuf
[4],

142 
boŞ
* 
·dded
) {

143 
size_t
 
	gby‹_Ën
 = 0, 
	g·d_Ën
 = 0, 
	g·d_¡¬t
 = 0;

144 ; (
	gby‹_Ën
 < 4è&& (*
	gdpos
 < 
	gËn
); ++*dpos) {

145 
	gqbuf
[
by‹_Ën
] = 
DecodeTabË
[
¡©ic_ÿ¡
<>(
d©a
[*
dpos
])];

146 ià((
	g
 =ğ
qbuf
[
by‹_Ën
]è|| (
Ëg®_·ds
 && (
pd
 == qbuf[byte_len]))) {

147 ià(
·r£_æags
 !ğ
DO_PARSE_ANY
)

150 } ià(
	g¥
 =ğ
qbuf
[
by‹_Ën
]) {

151 ià(
·r£_æags
 =ğ
DO_PARSE_STRICT
)

154 } ià(
	gpd
 =ğ
qbuf
[
by‹_Ën
]) {

155 ià(
by‹_Ën
 < 2) {

156 ià(
·r£_æags
 !ğ
DO_PARSE_ANY
)

159 } ià(
	gby‹_Ën
 + 
	g·d_Ën
 >= 4) {

160 ià(
·r£_æags
 !ğ
DO_PARSE_ANY
)

164 ià(1 =ğ++
·d_Ën
) {

165 
·d_¡¬t
 = *
dpos
;

169 ià(
	g·d_Ën
 > 0) {

170 ià(
	g·r£_æags
 !ğ
DO_PARSE_ANY
)

173 
	g·d_Ën
 = 0;

175 ++
	gby‹_Ën
;

178 
size_t
 
	gi
 = 
by‹_Ën
; i < 4; ++i) {

179 
	gqbuf
[
i
] = 0;

181 ià(4 =ğ
by‹_Ën
 + 
·d_Ën
) {

182 *
·dded
 = 
Œue
;

184 *
	g·dded
 = 
çl£
;

185 ià(
	g·d_Ën
) {

187 *
	gdpos
 = 
·d_¡¬t
;

190  
	gby‹_Ën
;

193 
boŞ
 
	gBa£64
::
DecodeFromA¼ay
(cÚ¡ * 
d©a
,

194 
size_t
 
Ën
,

195 
DecodeFÏgs
 
æags
,

196 
¡d
::
¡ršg
* 
»suÉ
,

197 
size_t
* 
d©a_u£d
) {

198  
	gDecodeFromA¼ayTem¶©e
<
	g¡d
::
¡ršg
>(
d©a
, 
	gËn
, 
	gæags
, 
	g»suÉ
,

199 
	gd©a_u£d
);

202 
boŞ
 
	gBa£64
::
DecodeFromA¼ay
(cÚ¡ * 
d©a
,

203 
size_t
 
Ën
,

204 
DecodeFÏgs
 
æags
,

205 
veùÜ
<>* 
»suÉ
,

206 
size_t
* 
d©a_u£d
) {

207  
	gDecodeFromA¼ayTem¶©e
<
	gveùÜ
<>>(
	gd©a
, 
	gËn
, 
	gæags
, 
	g»suÉ
,

208 
	gd©a_u£d
);

211 
boŞ
 
	gBa£64
::
DecodeFromA¼ay
(cÚ¡ * 
d©a
,

212 
size_t
 
Ën
,

213 
DecodeFÏgs
 
æags
,

214 
veùÜ
<
ušt8_t
>* 
»suÉ
,

215 
size_t
* 
d©a_u£d
) {

216  
	gDecodeFromA¼ayTem¶©e
<
	gveùÜ
<
	gušt8_t
>>(
	gd©a
, 
	gËn
, 
	gæags
, 
	g»suÉ
,

217 
	gd©a_u£d
);

220 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

221 
boŞ
 
	gBa£64
::
DecodeFromA¼ayTem¶©e
(cÚ¡ * 
d©a
,

222 
size_t
 
Ën
,

223 
DecodeFÏgs
 
æags
,

224 
T
* 
»suÉ
,

225 
size_t
* 
d©a_u£d
) {

226 
as£¹
(
nuÎ±r
 !ğ
»suÉ
);

227 
as£¹
(
æags
 <ğ(
DO_PARSE_MASK
 | 
DO_PAD_MASK
 | 
DO_TERM_MASK
));

229 cÚ¡ 
DecodeFÏgs
 
	g·r£_æags
 = 
æags
 & 
DO_PARSE_MASK
;

230 cÚ¡ 
DecodeFÏgs
 
	g·d_æags
 = 
æags
 & 
DO_PAD_MASK
;

231 cÚ¡ 
DecodeFÏgs
 
	g‹rm_æags
 = 
æags
 & 
DO_TERM_MASK
;

232 
as£¹
(0 !ğ
·r£_æags
);

233 
as£¹
(0 !ğ
·d_æags
);

234 
as£¹
(0 !ğ
‹rm_æags
);

236 
	g»suÉ
->
ş—r
();

237 
	g»suÉ
->
»£rve
(
Ën
);

239 
size_t
 
	gdpos
 = 0;

240 
boŞ
 
	gsucûss
 = 
Œue
, 
	g·dded
;

241 
	gc
, 
	gqbuf
[4];

242 
	gdpos
 < 
	gËn
) {

243 
size_t
 
	gqËn
 = 
G‘NextQuªtum
(
·r£_æags
, (
DO_PAD_NO
 =ğ
·d_æags
), 
d©a
,

244 
Ën
, &
dpos
, 
qbuf
, &
·dded
);

245 
	gc
 = (
qbuf
[0] << 2) | ((qbuf[1] >> 4) & 0x3);

246 ià(
	gqËn
 >= 2) {

247 
»suÉ
->
push_back
(
c
);

248 
	gc
 = ((
qbuf
[1] << 4) & 0xf0) | ((qbuf[2] >> 2) & 0xf);

249 ià(
	gqËn
 >= 3) {

250 
»suÉ
->
push_back
(
c
);

251 
	gc
 = ((
qbuf
[2] << 6) & 0xc0) | qbuf[3];

252 ià(
	gqËn
 >= 4) {

253 
»suÉ
->
push_back
(
c
);

254 
	gc
 = 0;

258 ià(
	gqËn
 < 4) {

259 ià((
	gDO_TERM_ANY
 !ğ
‹rm_æags
è&& (0 !ğ
c
)) {

260 
sucûss
 = 
çl£
;

262 ià((
	gDO_PAD_YES
 =ğ
·d_æags
è&& !
·dded
) {

263 
sucûss
 = 
çl£
;

268 ià((
	gDO_TERM_BUFFER
 =ğ
‹rm_æags
è&& (
dpos
 !ğ
Ën
)) {

269 
sucûss
 = 
çl£
;

271 ià(
	gd©a_u£d
) {

272 *
	gd©a_u£d
 = 
dpos
;

274  
	gsucûss
;

	@third_party/base64/base64.h

12 #iâdeà
RTC_BASE_THIRD_PARTY_BASE64_BASE64_H_


13 
	#RTC_BASE_THIRD_PARTY_BASE64_BASE64_H_


	)

15 
	~<¡ršg
>

16 
	~<veùÜ
>

18 
	~"¹c_ba£/sy¡em/¹c_expÜt.h
"

20 
Çme¥aû
 
	g¹c
 {

22 şas 
	cBa£64
 {

23 
	gpublic
:

24 
	eDecodeO±iÚ
 {

25 
DO_PARSE_STRICT
 = 1,

26 
	gDO_PARSE_WHITE
 = 2,

27 
	gDO_PARSE_ANY
 = 3,

28 
	gDO_PARSE_MASK
 = 3,

30 
	gDO_PAD_YES
 = 4,

31 
	gDO_PAD_ANY
 = 8,

32 
	gDO_PAD_NO
 = 12,

33 
	gDO_PAD_MASK
 = 12,

35 
	gDO_TERM_BUFFER
 = 16,

36 
	gDO_TERM_CHAR
 = 32,

37 
	gDO_TERM_ANY
 = 48,

38 
	gDO_TERM_MASK
 = 48,

41 
	gDO_STRICT
 = 
DO_PARSE_STRICT
 | 
DO_PAD_YES
 | 
DO_TERM_BUFFER
,

43 
	gDO_LAX
 = 
DO_PARSE_ANY
 | 
DO_PAD_ANY
 | 
DO_TERM_CHAR
,

45 
	tDecodeFÏgs
;

47 
boŞ
 
IsBa£64Ch¬
(
ch
);

55 
boŞ
 
G‘NextBa£64Ch¬
(
ch
, * 
Ãxt_ch
);

59 
boŞ
 
IsBa£64Encoded
(cÚ¡ 
¡d
::
¡ršg
& 
¡r
);

61 
RTC_EXPORT
 
EncodeFromA¼ay
(cÚ¡ * 
d©a
,

62 
size_t
 
Ën
,

63 
¡d
::
¡ršg
* 
»suÉ
);

64 
RTC_EXPORT
 
boŞ
 
DecodeFromA¼ay
(cÚ¡ * 
d©a
,

65 
size_t
 
Ën
,

66 
DecodeFÏgs
 
æags
,

67 
¡d
::
¡ršg
* 
»suÉ
,

68 
size_t
* 
d©a_u£d
);

69 
boŞ
 
DecodeFromA¼ay
(cÚ¡ * 
d©a
,

70 
size_t
 
Ën
,

71 
DecodeFÏgs
 
æags
,

72 
¡d
::
veùÜ
<>* 
»suÉ
,

73 
size_t
* 
d©a_u£d
);

74 
boŞ
 
DecodeFromA¼ay
(cÚ¡ * 
d©a
,

75 
size_t
 
Ën
,

76 
DecodeFÏgs
 
æags
,

77 
¡d
::
veùÜ
<
ušt8_t
>* 
»suÉ
,

78 
size_t
* 
d©a_u£d
);

81 
šlše
 
	g¡d
::
¡ršg
 
Encode
(cÚ¡ 
¡d
::¡ršg& 
d©a
) {

82 
¡d
::
¡ršg
 
»suÉ
;

83 
EncodeFromA¼ay
(
d©a
.d©a(), d©a.
size
(), &
»suÉ
);

84  
	g»suÉ
;

86 
šlše
 
	g¡d
::
¡ršg
 
Decode
(cÚ¡ 
¡d
::¡ršg& 
d©a
, 
DecodeFÏgs
 
æags
) {

87 
	g¡d
::
¡ršg
 
»suÉ
;

88 
DecodeFromA¼ay
(
d©a
.d©a(), d©a.
size
(), 
æags
, &
»suÉ
, 
nuÎ±r
);

89  
	g»suÉ
;

91 
šlše
 
boŞ
 
Decode
(cÚ¡ 
¡d
::
¡ršg
& 
d©a
,

92 
DecodeFÏgs
 
æags
,

93 
¡d
::
¡ršg
* 
»suÉ
,

94 
size_t
* 
d©a_u£d
) {

95  
DecodeFromA¼ay
(
d©a
.d©a(), d©a.
size
(), 
æags
, 
»suÉ
, 
d©a_u£d
);

97 
šlše
 
boŞ
 
Decode
(cÚ¡ 
¡d
::
¡ršg
& 
d©a
,

98 
DecodeFÏgs
 
æags
,

99 
¡d
::
veùÜ
<>* 
»suÉ
,

100 
size_t
* 
d©a_u£d
) {

101  
DecodeFromA¼ay
(
d©a
.d©a(), d©a.
size
(), 
æags
, 
»suÉ
, 
d©a_u£d
);

104 
	g´iv©e
:

105 cÚ¡ 
Ba£64TabË
[];

106 cÚ¡ 
	gDecodeTabË
[];

108 
size_t
 
G‘NextQuªtum
(
DecodeFÏgs
 
·r£_æags
,

109 
boŞ
 
Ëg®_·ds
,

110 cÚ¡ * 
d©a
,

111 
size_t
 
Ën
,

112 
size_t
* 
dpos
,

113 
qbuf
[4],

114 
boŞ
* 
·dded
);

115 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

116 
boŞ
 
DecodeFromA¼ayTem¶©e
(cÚ¡ * 
d©a
,

117 
size_t
 
Ën
,

118 
DecodeFÏgs
 
æags
,

119 
T
* 
»suÉ
,

120 
size_t
* 
d©a_u£d
);

	@third_party/sigslot/sigslot.cc

9 
	~"¹c_ba£/thœd_·¹y/sig¦Ù/sig¦Ù.h
"

11 
Çme¥aû
 
	gsig¦Ù
 {

13 #ifdeà
_SIGSLOT_HAS_POSIX_THREADS


15 
±h»ad_mu‹x_t
* 
	gmuÉi_th»aded_glob®
::
g‘_mu‹x
() {

16 
±h»ad_mu‹x_t
 
g_mu‹x
 = 
PTHREAD_MUTEX_INITIALIZER
;

17  &
	gg_mu‹x
;

	@third_party/sigslot/sigslot.h

96 #iâdeà
RTC_BASE_THIRD_PARTY_SIGSLOT_SIGSLOT_H_


97 
	#RTC_BASE_THIRD_PARTY_SIGSLOT_SIGSLOT_H_


	)

99 
	~<c¡ršg
>

100 
	~<li¡
>

101 
	~<£t
>

104 
	#SIGSLOT_DEFAULT_MT_POLICY
 
sšgË_th»aded


	)

106 #ià
defšed
(
SIGSLOT_PURE_ISO
) || \

107 (!
defšed
(
WEBRTC_WIN
è&& !defšed(
__GNUG__
) && \

108 !
	$defšed
(
SIGSLOT_USE_POSIX_THREADS
))

109 
	#_SIGSLOT_SINGLE_THREADED


	)

110 #–ià
	`defšed
(
WEBRTC_WIN
)

111 
	#_SIGSLOT_HAS_WIN32_THREADS


	)

112 
	~"wšdows.h
"

113 #–ià
	`defšed
(
__GNUG__
è|| defšed(
SIGSLOT_USE_POSIX_THREADS
)

114 
	#_SIGSLOT_HAS_POSIX_THREADS


	)

115 
	~<±h»ad.h
>

117 
	#_SIGSLOT_SINGLE_THREADED


	)

120 #iâdeà
SIGSLOT_DEFAULT_MT_POLICY


121 #ifdeà
_SIGSLOT_SINGLE_THREADED


122 
	#SIGSLOT_DEFAULT_MT_POLICY
 
sšgË_th»aded


	)

124 
	#SIGSLOT_DEFAULT_MT_POLICY
 
muÉi_th»aded_loÿl


	)

129 
Çme¥aû
 
sig¦Ù
 {

131 şas 
	csšgË_th»aded
 {

132 
public
:

133 
	`lock
() {}

134 
	`uÆock
() {}

135 
	}
};

137 #ifdeà
_SIGSLOT_HAS_WIN32_THREADS


139 şas 
	cmuÉi_th»aded_glob®
 {

140 
	gpublic
:

141 
muÉi_th»aded_glob®
() {

142 
boŞ
 
isš™Ÿli£d
 = 
çl£
;

144 ià(!
	gisš™Ÿli£d
) {

145 
In™ŸlizeCr™iÿlSeùiÚ
(
g‘_ü™£c
());

146 
	gisš™Ÿli£d
 = 
Œue
;

150 
lock
(è{ 
EÁ”Cr™iÿlSeùiÚ
(
g‘_ü™£c
()); }

152 
uÆock
(è{ 
L—veCr™iÿlSeùiÚ
(
g‘_ü™£c
()); }

154 
	g´iv©e
:

155 
CRITICAL_SECTION
* 
g‘_ü™£c
() {

156 
CRITICAL_SECTION
 
g_ü™£c
;

157  &
	gg_ü™£c
;

161 şas 
	cmuÉi_th»aded_loÿl
 {

162 
	gpublic
:

163 
muÉi_th»aded_loÿl
(è{ 
In™ŸlizeCr™iÿlSeùiÚ
(&
m_ü™£c
); }

165 
muÉi_th»aded_loÿl
(const multi_threaded_local&) {

166 
In™ŸlizeCr™iÿlSeùiÚ
(&
m_ü™£c
);

169 ~
muÉi_th»aded_loÿl
(è{ 
D–‘eCr™iÿlSeùiÚ
(&
m_ü™£c
); }

171 
lock
(è{ 
EÁ”Cr™iÿlSeùiÚ
(&
m_ü™£c
); }

173 
uÆock
(è{ 
L—veCr™iÿlSeùiÚ
(&
m_ü™£c
); }

175 
	g´iv©e
:

176 
CRITICAL_SECTION
 
m_ü™£c
;

180 #ifdeà
_SIGSLOT_HAS_POSIX_THREADS


182 şas 
	cmuÉi_th»aded_glob®
 {

183 
	gpublic
:

184 
lock
(è{ 
±h»ad_mu‹x_lock
(
g‘_mu‹x
()); }

185 
uÆock
(è{ 
±h»ad_mu‹x_uÆock
(
g‘_mu‹x
()); }

187 
	g´iv©e
:

188 
±h»ad_mu‹x_t
* 
g‘_mu‹x
();

191 şas 
	cmuÉi_th»aded_loÿl
 {

192 
	gpublic
:

193 
muÉi_th»aded_loÿl
(è{ 
±h»ad_mu‹x_š™
(&
m_mu‹x
, 
nuÎ±r
); }

194 
muÉi_th»aded_loÿl
(const multi_threaded_local&) {

195 
±h»ad_mu‹x_š™
(&
m_mu‹x
, 
nuÎ±r
);

197 ~
muÉi_th»aded_loÿl
(è{ 
±h»ad_mu‹x_de¡roy
(&
m_mu‹x
); }

198 
lock
(è{ 
±h»ad_mu‹x_lock
(&
m_mu‹x
); }

199 
uÆock
(è{ 
±h»ad_mu‹x_uÆock
(&
m_mu‹x
); }

201 
	g´iv©e
:

202 
±h»ad_mu‹x_t
 
m_mu‹x
;

206 
	g‹m¶©e
 <
şass
 
	gmt_pŞicy
>

207 şas 
	clock_block
 {

208 
	gpublic
:

209 
mt_pŞicy
* 
m_mu‹x
;

211 
lock_block
(
mt_pŞicy
* 
mtx
è: 
m_mu‹x
(mtxè{ m_mu‹x->
lock
(); }

213 ~
lock_block
(è{ 
	gm_mu‹x
->
uÆock
(); }

216 
şass
 
	g_sigÇl_ba£_š‹rçû
;

218 şas 
	chas_¦Ùs_š‹rçû
 {

219 
	g´iv©e
:

220 (*
sigÇl_cÚÃù_t
)(
	thas_¦Ùs_š‹rçû
* 
	t£lf
,

221 
	t_sigÇl_ba£_š‹rçû
* 
	t£nd”
);

222 (*
	gsigÇl_discÚÃù_t
)(
	thas_¦Ùs_š‹rçû
* 
	t£lf
,

223 
	t_sigÇl_ba£_š‹rçû
* 
	t£nd”
);

224 (*
	gdiscÚÃù_®l_t
)(
	thas_¦Ùs_š‹rçû
* 
	t£lf
);

226 cÚ¡ 
sigÇl_cÚÃù_t
 
	gm_sigÇl_cÚÃù
;

227 cÚ¡ 
sigÇl_discÚÃù_t
 
	gm_sigÇl_discÚÃù
;

228 cÚ¡ 
discÚÃù_®l_t
 
	gm_discÚÃù_®l
;

230 
	g´Ùeùed
:

231 
has_¦Ùs_š‹rçû
(
sigÇl_cÚÃù_t
 
cÚn
,

232 
sigÇl_discÚÃù_t
 
disc
,

233 
discÚÃù_®l_t
 
disc_®l
)

234 : 
m_sigÇl_cÚÃù
(
cÚn
),

235 
m_sigÇl_discÚÃù
(
disc
),

236 
m_discÚÃù_®l
(
disc_®l
) {}

240 
	gvœtu®
 ~
has_¦Ùs_š‹rçû
() {}

242 
	gpublic
:

243 
sigÇl_cÚÃù
(
_sigÇl_ba£_š‹rçû
* 
£nd”
) {

244 
m_sigÇl_cÚÃù
(
this
, 
£nd”
);

247 
sigÇl_discÚÃù
(
_sigÇl_ba£_š‹rçû
* 
£nd”
) {

248 
m_sigÇl_discÚÃù
(
this
, 
£nd”
);

251 
discÚÃù_®l
(è{ 
m_discÚÃù_®l
(
this
); }

254 şas 
	c_sigÇl_ba£_š‹rçû
 {

255 
	g´iv©e
:

256 (*
¦Ù_discÚÃù_t
)(
	t_sigÇl_ba£_š‹rçû
* 
	t£lf
,

257 
	thas_¦Ùs_š‹rçû
* 
	tp¦Ù
);

258 (*
	g¦Ù_du¶iÿ‹_t
)(
	t_sigÇl_ba£_š‹rçû
* 
	t£lf
,

259 cÚ¡ 
	thas_¦Ùs_š‹rçû
* 
	tpŞd¦Ù
,

260 
	thas_¦Ùs_š‹rçû
* 
	t²ew¦Ù
);

262 cÚ¡ 
¦Ù_discÚÃù_t
 
	gm_¦Ù_discÚÃù
;

263 cÚ¡ 
¦Ù_du¶iÿ‹_t
 
	gm_¦Ù_du¶iÿ‹
;

265 
	g´Ùeùed
:

266 
_sigÇl_ba£_š‹rçû
(
¦Ù_discÚÃù_t
 
disc
, 
¦Ù_du¶iÿ‹_t
 
du¶
)

267 : 
m_¦Ù_discÚÃù
(
disc
), 
m_¦Ù_du¶iÿ‹
(
du¶
) {}

269 ~
_sigÇl_ba£_š‹rçû
() {}

271 
	gpublic
:

272 
¦Ù_discÚÃù
(
has_¦Ùs_š‹rçû
* 
p¦Ù
) {

273 
m_¦Ù_discÚÃù
(
this
, 
p¦Ù
);

276 
¦Ù_du¶iÿ‹
(cÚ¡ 
has_¦Ùs_š‹rçû
* 
pŞd¦Ù
,

277 
has_¦Ùs_š‹rçû
* 
²ew¦Ù
) {

278 
m_¦Ù_du¶iÿ‹
(
this
, 
pŞd¦Ù
, 
²ew¦Ù
);

282 şas 
	c_İaque_cÚÃùiÚ
 {

283 
	g´iv©e
:

284 (*
em™_t
)(cÚ¡ 
	t_İaque_cÚÃùiÚ
*);

285 
	g‹m¶©e
 <
ty³Çme
 
	gFromT
,y³Çm
	gToT
>

286 
	uuniÚ_ÿ¡”
 {

287 
FromT
 
	gäom
;

288 
ToT
 
	gto
;

291 
em™_t
 
	g³m™
;

292 
has_¦Ùs_š‹rçû
* 
	gpde¡
;

295 
	gpm‘hod
[16];

297 
	gpublic
:

298 
‹m¶©e
 <
ty³Çme
 
De¡T
, 
	gty³Çme
... 
	gArgs
>

299 
_İaque_cÚÃùiÚ
(
De¡T
* 
pd
, (De¡T::*
pm
)(
Args
...)è: 
pde¡
(pd) {

300 (
De¡T
::*
	tpm_t
)(
	tArgs
...);

301 
¡©ic_as£¹
((
pm_t
è<ğ(
pm‘hod
),

304 
	g¡d
::
memıy
(
pm‘hod
, &
pm
, (
pm_t
));

306 (*
	gem_t
)(cÚ¡ 
	t_İaque_cÚÃùiÚ
* 
	t£lf
, 
	tArgs
...);

307 
	guniÚ_ÿ¡”
<
	gem_t
, 
	gem™_t
> 
	gÿ¡”2
;

308 
	gÿ¡”2
.
	gäom
 = &
_İaque_cÚÃùiÚ
::
em™‹r
<
De¡T
, 
	gArgs
...>;

309 
	g³m™
 = 
ÿ¡”2
.
to
;

312 
has_¦Ùs_š‹rçû
* 
g‘de¡
(ècÚ¡ {  
	gpde¡
; }

314 
_İaque_cÚÃùiÚ
 
du¶iÿ‹
(
has_¦Ùs_š‹rçû
* 
Ãwrg‘
) const {

315 
_İaque_cÚÃùiÚ
 
	g»s
 = *
this
;

316 
	g»s
.
	gpde¡
 = 
Ãwrg‘
;

317  
	g»s
;

322 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgs
>

323 
em™
(
Args
... 
¬gs
) const {

324 (*
	gem_t
)(cÚ¡ 
	t_İaque_cÚÃùiÚ
*, 
	tArgs
...);

325 
	guniÚ_ÿ¡”
<
	gem™_t
, 
	gem_t
> 
	gÿ¡”
;

326 
	gÿ¡”
.
	gäom
 = 
³m™
;

327 (
	gÿ¡”
.
	gto
)(
	gthis
, 
	g¬gs
...);

330 
	g´iv©e
:

331 
‹m¶©e
 <
ty³Çme
 
De¡T
, 
	gty³Çme
... 
	gArgs
>

332 
em™‹r
(cÚ¡ 
_İaque_cÚÃùiÚ
* 
£lf
, 
Args
... 
¬gs
) {

333 (
	gDe¡T
::*
	tpm_t
)(
	tArgs
...);

334 
pm_t
 
	gpm
;

335 
	g¡d
::
memıy
(&
pm
, 
£lf
->
pm‘hod
, (
pm_t
));

336 (
	g¡©ic_ÿ¡
<
	gDe¡T
*>(
	g£lf
->
	gpde¡
)->*(
	gpm
))(
	g¬gs
...);

340 
	g‹m¶©e
 <
şass
 
	gmt_pŞicy
>

341 
şass
 
	g_sigÇl_ba£
 : 
public
 
_sigÇl_ba£_š‹rçû
,…ubliø
	gmt_pŞicy
 {

342 
	g´Ùeùed
:

343 
¡d
::
	tli¡
<
	t_İaque_cÚÃùiÚ
> 
	tcÚÃùiÚs_li¡
;

345 
_sigÇl_ba£
()

346 : 
_sigÇl_ba£_š‹rçû
(&
_sigÇl_ba£
::
do_¦Ù_discÚÃù
,

347 &
_sigÇl_ba£
::
do_¦Ù_du¶iÿ‹
),

348 
m_cu¼’t_™”©Ü
(
m_cÚÃùed_¦Ùs
.
’d
()) {}

350 ~
_sigÇl_ba£
(è{ 
discÚÃù_®l
(); }

352 
	g´iv©e
:

353 
_sigÇl_ba£
& 
İ”©Ü
=(_sigÇl_ba£ cÚ¡& 
th©
);

355 
	gpublic
:

356 
_sigÇl_ba£
(cÚ¡ _sigÇl_ba£& 
o
)

357 : 
_sigÇl_ba£_š‹rçû
(&
_sigÇl_ba£
::
do_¦Ù_discÚÃù
,

358 &
_sigÇl_ba£
::
do_¦Ù_du¶iÿ‹
),

359 
m_cu¼’t_™”©Ü
(
m_cÚÃùed_¦Ùs
.
’d
()) {

360 
	glock_block
<
	gmt_pŞicy
> 
lock
(
this
);

361 cÚ¡‡uto& 
	gcÚÃùiÚ
 : 
o
.
m_cÚÃùed_¦Ùs
) {

362 
cÚÃùiÚ
.
g‘de¡
()->
sigÇl_cÚÃù
(
this
);

363 
	gm_cÚÃùed_¦Ùs
.
push_back
(
cÚÃùiÚ
);

367 
boŞ
 
is_em±y
() {

368 
	glock_block
<
	gmt_pŞicy
> 
lock
(
this
);

369  
	gm_cÚÃùed_¦Ùs
.
em±y
();

372 
discÚÃù_®l
() {

373 
	glock_block
<
	gmt_pŞicy
> 
lock
(
this
);

375 !
	gm_cÚÃùed_¦Ùs
.
em±y
()) {

376 
has_¦Ùs_š‹rçû
* 
	gpde¡
 = 
m_cÚÃùed_¦Ùs
.
äÚt
().
g‘de¡
();

377 
	gm_cÚÃùed_¦Ùs
.
pİ_äÚt
();

378 
	gpde¡
->
sigÇl_discÚÃù
(
¡©ic_ÿ¡
<
_sigÇl_ba£_š‹rçû
*>(
this
));

383 
	gm_cu¼’t_™”©Ü
 = 
m_cÚÃùed_¦Ùs
.
’d
();

386 #ià!
defšed
(
NDEBUG
)

387 
boŞ
 
cÚÃùed
(
has_¦Ùs_š‹rçû
* 
pşass
) {

388 
	glock_block
<
	gmt_pŞicy
> 
lock
(
this
);

389 
	gcÚÃùiÚs_li¡
::
cÚ¡_™”©Ü
 
™
 = 
m_cÚÃùed_¦Ùs
.
begš
();

390 
	gcÚÃùiÚs_li¡
::
cÚ¡_™”©Ü
 
™End
 = 
m_cÚÃùed_¦Ùs
.
’d
();

391 
	g™
 !ğ
™End
) {

392 ià(
™
->
g‘de¡
(è=ğ
pşass
)

393  
Œue
;

394 ++
	g™
;

396  
	gçl£
;

400 
discÚÃù
(
has_¦Ùs_š‹rçû
* 
pşass
) {

401 
	glock_block
<
	gmt_pŞicy
> 
lock
(
this
);

402 
	gcÚÃùiÚs_li¡
::
™”©Ü
 
™
 = 
m_cÚÃùed_¦Ùs
.
begš
();

403 
	gcÚÃùiÚs_li¡
::
™”©Ü
 
™End
 = 
m_cÚÃùed_¦Ùs
.
’d
();

405 
	g™
 !ğ
™End
) {

406 ià(
™
->
g‘de¡
(è=ğ
pşass
) {

409 ià(
m_cu¼’t_™”©Ü
 =ğ
™
) {

410 
m_cu¼’t_™”©Ü
 = 
m_cÚÃùed_¦Ùs
.
”a£
(
™
);

412 
	gm_cÚÃùed_¦Ùs
.
”a£
(
™
);

414 
	gpşass
->
sigÇl_discÚÃù
(
¡©ic_ÿ¡
<
_sigÇl_ba£_š‹rçû
*>(
this
));

417 ++
	g™
;

421 
	g´iv©e
:

422 
do_¦Ù_discÚÃù
(
_sigÇl_ba£_š‹rçû
* 
p
,

423 
has_¦Ùs_š‹rçû
* 
p¦Ù
) {

424 
_sigÇl_ba£
* cÚ¡ 
	g£lf
 = 
¡©ic_ÿ¡
<_sigÇl_ba£*>(
p
);

425 
	glock_block
<
	gmt_pŞicy
> 
lock
(
£lf
);

426 
	gcÚÃùiÚs_li¡
::
™”©Ü
 
™
 = 
£lf
->
m_cÚÃùed_¦Ùs
.
begš
();

427 
	gcÚÃùiÚs_li¡
::
™”©Ü
 
™End
 = 
£lf
->
m_cÚÃùed_¦Ùs
.
’d
();

429 
	g™
 !ğ
™End
) {

430 
cÚÃùiÚs_li¡
::
™”©Ü
 
™Next
 = 
™
;

431 ++
	g™Next
;

433 ià(
	g™
->
g‘de¡
(è=ğ
p¦Ù
) {

436 ià(
£lf
->
m_cu¼’t_™”©Ü
 =ğ
™
) {

437 
£lf
->
m_cu¼’t_™”©Ü
 = s–f->
m_cÚÃùed_¦Ùs
.
”a£
(
™
);

439 
	g£lf
->
	gm_cÚÃùed_¦Ùs
.
”a£
(
™
);

443 
	g™
 = 
™Next
;

447 
do_¦Ù_du¶iÿ‹
(
_sigÇl_ba£_š‹rçû
* 
p
,

448 cÚ¡ 
has_¦Ùs_š‹rçû
* 
Şdrg‘
,

449 
has_¦Ùs_š‹rçû
* 
Ãwrg‘
) {

450 
_sigÇl_ba£
* cÚ¡ 
	g£lf
 = 
¡©ic_ÿ¡
<_sigÇl_ba£*>(
p
);

451 
	glock_block
<
	gmt_pŞicy
> 
lock
(
£lf
);

452 
	gcÚÃùiÚs_li¡
::
™”©Ü
 
™
 = 
£lf
->
m_cÚÃùed_¦Ùs
.
begš
();

453 
	gcÚÃùiÚs_li¡
::
™”©Ü
 
™End
 = 
£lf
->
m_cÚÃùed_¦Ùs
.
’d
();

455 
	g™
 !ğ
™End
) {

456 ià(
™
->
g‘de¡
(è=ğ
Şdrg‘
) {

457 
£lf
->
m_cÚÃùed_¦Ùs
.
push_back
(
™
->
du¶iÿ‹
(
Ãwrg‘
));

460 ++
	g™
;

464 
	g´Ùeùed
:

465 
cÚÃùiÚs_li¡
 
m_cÚÃùed_¦Ùs
;

469 
	gcÚÃùiÚs_li¡
::
™”©Ü
 
m_cu¼’t_™”©Ü
;

470 
boŞ
 
	gm_”a£_cu¼’t_™”©Ü
 = 
çl£
;

473 
	g‹m¶©e
 <
şass
 
	gmt_pŞicy
 = 
SIGSLOT_DEFAULT_MT_POLICY
>

474 
şass
 
has_¦Ùs
 : 
public
 
has_¦Ùs_š‹rçû
,…ubliø
	gmt_pŞicy
 {

475 
	g´iv©e
:

476 
¡d
::
	t£t
<
	t_sigÇl_ba£_š‹rçû
*> 
	t£nd”_£t
;

477 
	g£nd”_£t
::
	tcÚ¡_™”©Ü
 const_iterator;

479 
	gpublic
:

480 
has_¦Ùs
()

481 : 
has_¦Ùs_š‹rçû
(&
has_¦Ùs
::
do_sigÇl_cÚÃù
,

482 &
has_¦Ùs
::
do_sigÇl_discÚÃù
,

483 &
has_¦Ùs
::
do_discÚÃù_®l
) {}

485 
has_¦Ùs
(has_¦Ù cÚ¡& 
o
)

486 : 
has_¦Ùs_š‹rçû
(&
has_¦Ùs
::
do_sigÇl_cÚÃù
,

487 &
has_¦Ùs
::
do_sigÇl_discÚÃù
,

488 &
has_¦Ùs
::
do_discÚÃù_®l
) {

489 
lock_block
<
mt_pŞicy
> 
lock
(
this
);

490 auto* 
	g£nd”
 : 
o
.
m_£nd”s
) {

491 
£nd”
->
¦Ù_du¶iÿ‹
(&
o
, 
this
);

492 
	gm_£nd”s
.
š£¹
(
£nd”
);

496 ~
has_¦Ùs
(è{ 
	gthis
->
discÚÃù_®l
(); }

498 
	g´iv©e
:

499 
has_¦Ùs
& 
İ”©Ü
=(has_slots const&);

501 
do_sigÇl_cÚÃù
(
has_¦Ùs_š‹rçû
* 
p
,

502 
_sigÇl_ba£_š‹rçû
* 
£nd”
) {

503 
has_¦Ùs
* cÚ¡ 
	g£lf
 = 
¡©ic_ÿ¡
<has_¦Ùs*>(
p
);

504 
	glock_block
<
	gmt_pŞicy
> 
lock
(
£lf
);

505 
	g£lf
->
	gm_£nd”s
.
š£¹
(
£nd”
);

508 
do_sigÇl_discÚÃù
(
has_¦Ùs_š‹rçû
* 
p
,

509 
_sigÇl_ba£_š‹rçû
* 
£nd”
) {

510 
has_¦Ùs
* cÚ¡ 
	g£lf
 = 
¡©ic_ÿ¡
<has_¦Ùs*>(
p
);

511 
	glock_block
<
	gmt_pŞicy
> 
lock
(
£lf
);

512 
	g£lf
->
	gm_£nd”s
.
”a£
(
£nd”
);

515 
do_discÚÃù_®l
(
has_¦Ùs_š‹rçû
* 
p
) {

516 
has_¦Ùs
* cÚ¡ 
	g£lf
 = 
¡©ic_ÿ¡
<has_¦Ùs*>(
p
);

517 
	glock_block
<
	gmt_pŞicy
> 
lock
(
£lf
);

518 !
	g£lf
->
	gm_£nd”s
.
em±y
()) {

519 
	g¡d
::
£t
<
_sigÇl_ba£_š‹rçû
*> 
£nd”s
;

520 
	g£nd”s
.
sw­
(
£lf
->
m_£nd”s
);

521 
cÚ¡_™”©Ü
 
	g™
 = 
£nd”s
.
begš
();

522 
cÚ¡_™”©Ü
 
	g™End
 = 
£nd”s
.
’d
();

524 
	g™
 !ğ
™End
) {

525 
_sigÇl_ba£_š‹rçû
* 
s
 = *
™
;

526 ++
	g™
;

527 
	gs
->
¦Ù_discÚÃù
(
p
);

532 
	g´iv©e
:

533 
£nd”_£t
 
m_£nd”s
;

536 
	g‹m¶©e
 <
şass
 
	gmt_pŞicy
, 
	gty³Çme
... 
	gArgs
>

537 
şass
 
	gsigÇl_w™h_th»ad_pŞicy
 : 
public
 
_sigÇl_ba£
<
mt_pŞicy
> {

538 
´iv©e
:

539 
_sigÇl_ba£
<
	tmt_pŞicy
> 
	tba£
;

541 
	g´Ùeùed
:

542 
ty³Çme
 
	tba£
::
	tcÚÃùiÚs_li¡
 connections_list;

544 
	gpublic
:

545 
sigÇl_w™h_th»ad_pŞicy
() {}

547 
‹m¶©e
 <
şass
 
de¡ty³
>

548 
cÚÃù
(
de¡ty³
* 
pşass
, (de¡ty³::*
pmemfun
)(
Args
...)) {

549 
lock_block
<
mt_pŞicy
> 
lock
(
this
);

550 
	gthis
->
	gm_cÚÃùed_¦Ùs
.
push_back
(
_İaque_cÚÃùiÚ
(
pşass
, 
pmemfun
));

551 
	gpşass
->
sigÇl_cÚÃù
(
¡©ic_ÿ¡
<
_sigÇl_ba£_š‹rçû
*>(
this
));

554 
em™
(
Args
... 
¬gs
) {

555 
	glock_block
<
	gmt_pŞicy
> 
lock
(
this
);

556 
	gthis
->
	gm_cu¼’t_™”©Ü
 = 
this
->
m_cÚÃùed_¦Ùs
.
begš
();

557 
	gthis
->
	gm_cu¼’t_™”©Ü
 !ğ
this
->
m_cÚÃùed_¦Ùs
.
’d
()) {

558 
_İaque_cÚÃùiÚ
 cÚ¡& 
cÚn
 = *
this
->
m_cu¼’t_™”©Ü
;

559 ++(
	gthis
->
	gm_cu¼’t_™”©Ü
);

560 
	gcÚn
.
	gem™
<
	gArgs
...>(
	g¬gs
...);

564 
İ”©Ü
()(
	gArgs
... 
	g¬gs
è{ 
em™
(
¬gs
...); }

570 
	g‹m¶©e
 <
	gty³Çme
... 
	gArgs
>

571 
usšg
 
	gsigÇl
 = 
sigÇl_w™h_th»ad_pŞicy
<
SIGSLOT_DEFAULT_MT_POLICY
, 
	gArgs
...>;

577 
	g‹m¶©e
 <
ty³Çme
 
	gmt_pŞicy
 = 
SIGSLOT_DEFAULT_MT_POLICY
>

578 
usšg
 
sigÇl0
 = 
sigÇl_w™h_th»ad_pŞicy
<
mt_pŞicy
>;

580 
	g‹m¶©e
 <
ty³Çme
 
	gA1
,y³Çm
	gmt_pŞicy
 = 
SIGSLOT_DEFAULT_MT_POLICY
>

581 
usšg
 
sigÇl1
 = 
sigÇl_w™h_th»ad_pŞicy
<
mt_pŞicy
, 
	gA1
>;

583 
	g‹m¶©e
 <
ty³Çme
 
	gA1
,

584 
ty³Çme
 
	gA2
,

585 
ty³Çme
 
	gmt_pŞicy
 = 
SIGSLOT_DEFAULT_MT_POLICY
>

586 
usšg
 
sigÇl2
 = 
sigÇl_w™h_th»ad_pŞicy
<
mt_pŞicy
, 
	gA1
, 
	gA2
>;

588 
	g‹m¶©e
 <
ty³Çme
 
	gA1
,

589 
ty³Çme
 
	gA2
,

590 
ty³Çme
 
	gA3
,

591 
ty³Çme
 
	gmt_pŞicy
 = 
SIGSLOT_DEFAULT_MT_POLICY
>

592 
usšg
 
sigÇl3
 = 
sigÇl_w™h_th»ad_pŞicy
<
mt_pŞicy
, 
	gA1
, 
	gA2
, 
	gA3
>;

594 
	g‹m¶©e
 <
ty³Çme
 
	gA1
,

595 
ty³Çme
 
	gA2
,

596 
ty³Çme
 
	gA3
,

597 
ty³Çme
 
	gA4
,

598 
ty³Çme
 
	gmt_pŞicy
 = 
SIGSLOT_DEFAULT_MT_POLICY
>

599 
usšg
 
sigÇl4
 = 
sigÇl_w™h_th»ad_pŞicy
<
mt_pŞicy
, 
	gA1
, 
	gA2
, 
	gA3
, 
	gA4
>;

601 
	g‹m¶©e
 <
ty³Çme
 
	gA1
,

602 
ty³Çme
 
	gA2
,

603 
ty³Çme
 
	gA3
,

604 
ty³Çme
 
	gA4
,

605 
ty³Çme
 
	gA5
,

606 
ty³Çme
 
	gmt_pŞicy
 = 
SIGSLOT_DEFAULT_MT_POLICY
>

607 
usšg
 
sigÇl5
 = 
sigÇl_w™h_th»ad_pŞicy
<
mt_pŞicy
, 
	gA1
, 
	gA2
, 
	gA3
, 
	gA4
, 
	gA5
>;

609 
	g‹m¶©e
 <
ty³Çme
 
	gA1
,

610 
ty³Çme
 
	gA2
,

611 
ty³Çme
 
	gA3
,

612 
ty³Çme
 
	gA4
,

613 
ty³Çme
 
	gA5
,

614 
ty³Çme
 
	gA6
,

615 
ty³Çme
 
	gmt_pŞicy
 = 
SIGSLOT_DEFAULT_MT_POLICY
>

616 
usšg
 
sigÇl6
 = 
sigÇl_w™h_th»ad_pŞicy
<
mt_pŞicy
, 
	gA1
, 
	gA2
, 
	gA3
, 
	gA4
, 
	gA5
, 
	gA6
>;

618 
	g‹m¶©e
 <
ty³Çme
 
	gA1
,

619 
ty³Çme
 
	gA2
,

620 
ty³Çme
 
	gA3
,

621 
ty³Çme
 
	gA4
,

622 
ty³Çme
 
	gA5
,

623 
ty³Çme
 
	gA6
,

624 
ty³Çme
 
	gA7
,

625 
ty³Çme
 
	gmt_pŞicy
 = 
SIGSLOT_DEFAULT_MT_POLICY
>

626 
usšg
 
sigÇl7
 =

627 
sigÇl_w™h_th»ad_pŞicy
<
mt_pŞicy
, 
	gA1
, 
	gA2
, 
	gA3
, 
	gA4
, 
	gA5
, 
	gA6
, 
	gA7
>;

629 
	g‹m¶©e
 <
ty³Çme
 
	gA1
,

630 
ty³Çme
 
	gA2
,

631 
ty³Çme
 
	gA3
,

632 
ty³Çme
 
	gA4
,

633 
ty³Çme
 
	gA5
,

634 
ty³Çme
 
	gA6
,

635 
ty³Çme
 
	gA7
,

636 
ty³Çme
 
	gA8
,

637 
ty³Çme
 
	gmt_pŞicy
 = 
SIGSLOT_DEFAULT_MT_POLICY
>

638 
usšg
 
sigÇl8
 =

639 
sigÇl_w™h_th»ad_pŞicy
<
mt_pŞicy
, 
	gA1
, 
	gA2
, 
	gA3
, 
	gA4
, 
	gA5
, 
	gA6
, 
	gA7
, 
	gA8
>;

	@thread.cc

11 
	~"¹c_ba£/th»ad.h
"

13 #ià
defšed
(
WEBRTC_WIN
)

14 
	~<comdef.h
>

15 #–ià
defšed
(
WEBRTC_POSIX
)

16 
	~<time.h
>

21 #ià
defšed
(
WEBRTC_WIN
)

24 #´agm¨
w¬nšg
(
di§bË
 : 4722)

27 
	~<¡dio.h
>

29 
	~<ut™y
>

31 
	~"ab¦/®gÜ™hm/cÚš”.h
"

32 
	~"¹c_ba£/©omic_İs.h
"

33 
	~"¹c_ba£/checks.h
"

34 
	~"¹c_ba£/ü™iÿl_£ùiÚ.h
"

35 
	~"¹c_ba£/loggšg.h
"

36 
	~"¹c_ba£/nuÎ_sock‘_£rv”.h
"

37 
	~"¹c_ba£/sk_uts/to_queued_sk.h
"

38 
	~"¹c_ba£/time_uts.h
"

39 
	~"¹c_ba£/Œaû_ev’t.h
"

41 #ià
defšed
(
WEBRTC_MAC
)

42 
	~"¹c_ba£/sy¡em/cocß_th»adšg.h
"

52 * 
objc_autÜ–—£PoŞPush
();

53 
objc_autÜ–—£PoŞPİ
(* 
poŞ
);

56 
Çme¥aû
 {

57 şas 
	cScİedAutoR–—£PoŞ
 {

58 
public
:

59 
ScİedAutoR–—£PoŞ
(è: 
poŞ_
(
objc_autÜ–—£PoŞPush
()) {}

60 ~
ScİedAutoR–—£PoŞ
(è{ 
objc_autÜ–—£PoŞPİ
(
poŞ_
); }

62 
´iv©e
:

63 * cÚ¡ 
poŞ_
;

68 
Çme¥aû
 
¹c
 {

69 
Çme¥aû
 {

71 cÚ¡ 
kSlowDi¥©chLoggšgTh»shŞd
 = 50;

73 şas 
	cMes§geHªdËrW™hTask
 
fš®
 : 
public
 
Mes§geHªdËr
 {

74 
public
:

75 
Mes§geHªdËrW™hTask
() = ;

77 
OnMes§ge
(
Mes§ge
* 
msg
è
ov”ride
 {

78 
¡©ic_ÿ¡
<
¹c_th»ad_š‹º®
::
Mes§geLikeTask
*>(
msg
->
pd©a
)->
Run
();

79 
d–‘e
 
msg
->
pd©a
;

82 
´iv©e
:

83 ~
Mes§geHªdËrW™hTask
(è
ov”ride
 {}

85 
RTC_DISALLOW_COPY_AND_ASSIGN
(
Mes§geHªdËrW™hTask
);

88 şas 
	cRTC_SCOPED_LOCKABLE
 
M¬kProûssšgCr™Scİe
 {

89 
public
:

90 
M¬kProûssšgCr™Scİe
(cÚ¡ 
Cr™iÿlSeùiÚ
* 
cs
, 
size_t
* 
´oûssšg
)

91 
RTC_EXCLUSIVE_LOCK_FUNCTION
(
cs
)

92 : 
cs_
(
cs
), 
´oûssšg_
(
´oûssšg
) {

93 
cs_
->
EÁ”
();

94 *
´oûssšg_
 += 1;

97 ~
M¬kProûssšgCr™Scİe
(è
RTC_UNLOCK_FUNCTION
() {

98 *
´oûssšg_
 -= 1;

99 
cs_
->
L—ve
();

102 
´iv©e
:

103 cÚ¡ 
Cr™iÿlSeùiÚ
* cÚ¡ 
cs_
;

104 
size_t
* 
´oûssšg_
;

106 
RTC_DISALLOW_COPY_AND_ASSIGN
(
M¬kProûssšgCr™Scİe
);

111 
Th»adMªag”
* Th»adMªag”::
	$In¡ªû
() {

112 
Th»adMªag”
* cÚ¡ 
th»ad_mªag”
 = 
Ãw
 
	`Th»adMªag”
();

113  
th»ad_mªag”
;

114 
	}
}

116 
Th»adMªag”
::~
	$Th»adMªag”
() {

118 
	`RTC_NOTREACHED
() << "ThreadManager should‚ever be destructed.";

119 
	}
}

122 
Th»adMªag”
::
	$Add
(
Th»ad
* 
mes§ge_queue
) {

123  
	`In¡ªû
()->
	`AddIÁ”Çl
(
mes§ge_queue
);

124 
	}
}

125 
Th»adMªag”
::
	$AddIÁ”Çl
(
Th»ad
* 
mes§ge_queue
) {

126 
Cr™Scİe
 
	`cs
(&
ü™_
);

128 
	`RTC_DCHECK_EQ
(
´oûssšg_
, 0);

129 
mes§ge_queues_
.
	`push_back
(
mes§ge_queue
);

130 
	}
}

133 
Th»adMªag”
::
	$Remove
(
Th»ad
* 
mes§ge_queue
) {

134  
	`In¡ªû
()->
	`RemoveIÁ”Çl
(
mes§ge_queue
);

135 
	}
}

136 
Th»adMªag”
::
	$RemoveIÁ”Çl
(
Th»ad
* 
mes§ge_queue
) {

138 
Cr™Scİe
 
	`cs
(&
ü™_
);

140 
	`RTC_DCHECK_EQ
(
´oûssšg_
, 0);

141 
¡d
::
veùÜ
<
Th»ad
*>::
™”©Ü
 
™”
;

142 
™”
 = 
ab¦
::
	`c_fšd
(
mes§ge_queues_
, 
mes§ge_queue
);

143 ià(
™”
 !ğ
mes§ge_queues_
.
	`’d
()) {

144 
mes§ge_queues_
.
	`”a£
(
™”
);

146 #ià
RTC_DCHECK_IS_ON


147 
	`RemoveFromS’dG¿ph
(
mes§ge_queue
);

150 
	}
}

152 #ià
RTC_DCHECK_IS_ON


153 
Th»adMªag”
::
	$RemoveFromS’dG¿ph
(
Th»ad
* 
th»ad
) {

154 autØ
™
 = 
£nd_g¿ph_
.
	`begš
(); iˆ!ğ£nd_g¿ph_.
	`’d
();) {

155 ià(
™
->
fœ¡
 =ğ
th»ad
) {

156 
™
 = 
£nd_g¿ph_
.
	`”a£
(it);

158 
™
->
£cÚd
.
	`”a£
(
th»ad
);

159 ++
™
;

162 
	}
}

164 
Th»adMªag”
::
	$Regi¡”S’dAndCheckFÜCyşes
(
Th»ad
* 
sourû
,

165 
Th»ad
* 
rg‘
) {

166 
Cr™Scİe
 
	`cs
(&
ü™_
);

167 
¡d
::
deque
<
Th»ad
*> 
	`®l_rg‘s
({
rg‘
});

171 autØ
™
 = 
®l_rg‘s
.
	`begš
(); iˆ!ğ®l_rg‘s.
	`’d
(); ++it) {

172 cÚ¡‡uto& 
rg‘s
 = 
£nd_g¿ph_
[*
™
];

173 
®l_rg‘s
.
	`š£¹
×Î_rg‘s.
	`’d
(), 
rg‘s
.
	`begš
(),argets.end());

175 
	`RTC_CHECK_EQ
(
ab¦
::
	`c_couÁ
(
®l_rg‘s
, 
sourû
), 0)

176 << " s’d†oİ b‘w“À" << 
sourû
->
	`Çme
(è<< "‡nd " << 
rg‘
->name();

180 
£nd_g¿ph_
[
sourû
].
	`š£¹
(
rg‘
);

181 
	}
}

185 
Th»adMªag”
::
	$CË¬
(
Mes§geHªdËr
* 
hªdËr
) {

186  
	`In¡ªû
()->
	`CË¬IÁ”Çl
(
hªdËr
);

187 
	}
}

188 
Th»adMªag”
::
	$CË¬IÁ”Çl
(
Mes§geHªdËr
* 
hªdËr
) {

192 
M¬kProûssšgCr™Scİe
 
	`cs
(&
ü™_
, &
´oûssšg_
);

193 
Th»ad
* 
queue
 : 
mes§ge_queues_
) {

194 
queue
->
	`CË¬
(
hªdËr
);

196 
	}
}

199 
Th»adMªag”
::
	$ProûssAÎMes§geQueuesFÜTe¡šg
() {

200  
	`In¡ªû
()->
	`ProûssAÎMes§geQueuesIÁ”Çl
();

201 
	}
}

203 
Th»adMªag”
::
	$ProûssAÎMes§geQueuesIÁ”Çl
() {

207 vŞ©
queues_nÙ_dÚe
 = 0;

211 şas 
	cScİedInüem’t
 : 
public
 
Mes§geD©a
 {

212 
public
:

213 
	`ScİedInüem’t
(vŞ©* 
v®ue
è: 
	`v®ue_
(value) {

214 
AtomicOps
::
	`Inüem’t
(
v®ue_
);

216 ~
	`ScİedInüem’t
(è
ov”ride
 { 
AtomicOps
::
	`Deüem’t
(
v®ue_
); }

218 
´iv©e
:

219 vŞ©* 
v®ue_
;

223 
M¬kProûssšgCr™Scİe
 
	`cs
(&
ü™_
, &
´oûssšg_
);

224 
Th»ad
* 
queue
 : 
mes§ge_queues_
) {

225 ià(!
queue
->
	`IsProûssšgMes§gesFÜTe¡šg
()) {

231 
queue
->
	`Po¡D–ayed
(
RTC_FROM_HERE
, 0, 
nuÎ±r
, 
MQID_DISPOSE
,

232 
Ãw
 
	`ScİedInüem’t
(&
queues_nÙ_dÚe
));

236 
¹c
::
Th»ad
* 
cu¼’t
 =„tc::Th»ad::
	`Cu¼’t
();

240 
AtomicOps
::
	`AcquœeLßd
(&
queues_nÙ_dÚe
) > 0) {

241 ià(
cu¼’t
) {

242 
cu¼’t
->
	`ProûssMes§ges
(0);

245 
	}
}

248 
Th»ad
* Th»ad::
	$Cu¼’t
() {

249 
Th»adMªag”
* 
mªag”
 = Th»adMªag”::
	`In¡ªû
();

250 
Th»ad
* 
th»ad
 = 
mªag”
->
	`Cu¼’tTh»ad
();

252 #iâdeà
NO_MAIN_THREAD_WRAPPING


254 ià(!
th»ad
 && 
mªag”
->
	`IsMašTh»ad
()) {

255 
th»ad
 = 
Ãw
 
	`Th»ad
(
Sock‘S”v”
::
	`C»©eDeçuÉ
());

256 
th»ad
->
	`W¿pCu¼’tW™hTh»adMªag”
(
mªag”
, 
Œue
);

260  
th»ad
;

261 
	}
}

263 #ià
	$defšed
(
WEBRTC_POSIX
)

264 
Th»adMªag”
::
	$Th»adMªag”
(è: 
	`maš_th»ad_»f_
(
	$Cu¼’tTh»adRef
()) {

265 #ià
	`defšed
(
WEBRTC_MAC
)

266 
	`In™CocßMuÉiTh»adšg
();

268 
	`±h»ad_key_ü—‹
(&
key_
, 
nuÎ±r
);

269 
	}
}

271 
Th»ad
* 
Th»adMªag”
::
	$Cu¼’tTh»ad
() {

272  
¡©ic_ÿ¡
<
Th»ad
*>(
	`±h»ad_g‘¥ecific
(
key_
));

273 
	}
}

275 
Th»adMªag”
::
	$S‘Cu¼’tTh»adIÁ”Çl
(
Th»ad
* 
th»ad
) {

276 
	`±h»ad_£t¥ecific
(
key_
, 
th»ad
);

277 
	}
}

280 #ià
	$defšed
(
WEBRTC_WIN
)

281 
Th»adMªag”
::
	$Th»adMªag”
()

282 : 
	`key_
(
	`TlsAÎoc
()), 
	`maš_th»ad_»f_
(
	$Cu¼’tTh»adRef
()è{
	}
}

284 
Th»ad
* 
Th»adMªag”
::
	$Cu¼’tTh»ad
() {

285  
¡©ic_ÿ¡
<
Th»ad
*>(
	`TlsG‘V®ue
(
key_
));

286 
	}
}

288 
Th»adMªag”
::
	$S‘Cu¼’tTh»adIÁ”Çl
(
Th»ad
* 
th»ad
) {

289 
	`TlsS‘V®ue
(
key_
, 
th»ad
);

290 
	}
}

293 
Th»adMªag”
::
	$S‘Cu¼’tTh»ad
(
Th»ad
* 
th»ad
) {

294 #ià
RTC_DLOG_IS_ON


295 ià(
	`Cu¼’tTh»ad
(è&& 
th»ad
) {

296 
	`RTC_DLOG
(
LS_ERROR
) << "SetCurrentThread: Overwriting‡nƒxisting value?";

299 
	`S‘Cu¼’tTh»adIÁ”Çl
(
th»ad
);

300 
	}
}

302 
¹c
::
Th»adMªag”
::
	$ChªgeCu¼’tTh»adFÜTe¡
(
¹c
::
Th»ad
* 
th»ad
) {

303 
	`S‘Cu¼’tTh»adIÁ”Çl
(
th»ad
);

304 
	}
}

306 
Th»ad
* 
Th»adMªag”
::
	$W¿pCu¼’tTh»ad
() {

307 
Th»ad
* 
»suÉ
 = 
	`Cu¼’tTh»ad
();

308 ià(
nuÎ±r
 =ğ
»suÉ
) {

309 
»suÉ
 = 
Ãw
 
	`Th»ad
(
Sock‘S”v”
::
	`C»©eDeçuÉ
());

310 
»suÉ
->
	`W¿pCu¼’tW™hTh»adMªag”
(
this
, 
Œue
);

312  
»suÉ
;

313 
	}
}

315 
Th»adMªag”
::
	$Unw¿pCu¼’tTh»ad
() {

316 
Th»ad
* 
t
 = 
	`Cu¼’tTh»ad
();

317 ià(
t
 && !Ñ->
	`IsOwÃd
())) {

318 
t
->
	`Unw¿pCu¼’t
();

319 
d–‘e
 
t
;

321 
	}
}

323 
boŞ
 
Th»adMªag”
::
	$IsMašTh»ad
() {

324  
	`IsTh»adRefEqu®
(
	`Cu¼’tTh»adRef
(), 
maš_th»ad_»f_
);

325 
	}
}

327 
Th»ad
::
ScİedDi§ÎowBlockšgC®ls
::
	$ScİedDi§ÎowBlockšgC®ls
()

328 : 
	`th»ad_
(
Th»ad
::
	`Cu¼’t
()),

329 
	`´evious_¡©e_
(
th»ad_
->
	$S‘AÎowBlockšgC®ls
(
çl£
)è{
	}
}

331 
Th»ad
::
ScİedDi§ÎowBlockšgC®ls
::~
	$ScİedDi§ÎowBlockšgC®ls
() {

332 
	`RTC_DCHECK
(
th»ad_
->
	`IsCu¼’t
());

333 
th»ad_
->
	`S‘AÎowBlockšgC®ls
(
´evious_¡©e_
);

334 
	}
}

336 
Th»ad
::
	$Th»ad
(
Sock‘S”v”
* 
ss
è: 
	$Th»ad
(
ss
, 
Œue
è{
	}
}

338 
Th»ad
::Th»ad(
¡d
::
unique_±r
<
Sock‘S”v”
> 
ss
)

339 : 
Th»ad
(
¡d
::
move
(
ss
), 
Œue
) {}

341 
Th»ad
::
	$Th»ad
(
Sock‘S”v”
* 
ss
, 
boŞ
 
do_š™
)

342 : 
	`fP“kK“p_
(
çl£
),

343 
	`d–ayed_Ãxt_num_
(0),

344 
	`fIn™Ÿlized_
(
çl£
),

345 
	`fDe¡royed_
(
çl£
),

346 
	`¡İ_
(0),

347 
	$ss_
(
ss
) {

348 
	`RTC_DCHECK
(
ss
);

349 
ss_
->
	`S‘Mes§geQueue
(
this
);

350 
	`S‘Name
("Th»ad", 
this
);

351 ià(
do_š™
) {

352 
	`DoIn™
();

354 
	}
}

356 
Th»ad
::Th»ad(
¡d
::
unique_±r
<
Sock‘S”v”
> 
ss
, 
boŞ
 
do_š™
)

357 : 
Th»ad
(
ss
.
g‘
(), 
do_š™
) {

358 
own_ss_
 = 
¡d
::
move
(
ss
);

361 
Th»ad
::~
	$Th»ad
() {

362 
	`Stİ
();

363 
	`DoDe¡roy
();

364 
	}
}

366 
Th»ad
::
	$DoIn™
() {

367 ià(
fIn™Ÿlized_
) {

371 
fIn™Ÿlized_
 = 
Œue
;

372 
Th»adMªag”
::
	`Add
(
this
);

373 
	}
}

375 
Th»ad
::
	$DoDe¡roy
() {

376 ià(
fDe¡royed_
) {

380 
fDe¡royed_
 = 
Œue
;

384 
	`SigÇlQueueDe¡royed
();

385 
Th»adMªag”
::
	`Remove
(
this
);

386 
	`CË¬IÁ”Çl
(
nuÎ±r
, 
MQID_ANY
,‚ullptr);

388 ià(
ss_
) {

389 
ss_
->
	`S‘Mes§geQueue
(
nuÎ±r
);

391 
	}
}

393 
Sock‘S”v”
* 
Th»ad
::
	$sock‘£rv”
() {

394  
ss_
;

395 
	}
}

397 
Th»ad
::
	$WakeUpSock‘S”v”
() {

398 
ss_
->
	`WakeUp
();

399 
	}
}

401 
Th»ad
::
	$Qu™
() {

402 
AtomicOps
::
	`R–—£StÜe
(&
¡İ_
, 1);

403 
	`WakeUpSock‘S”v”
();

404 
	}
}

406 
boŞ
 
Th»ad
::
	$IsQu™tšg
() {

407  
AtomicOps
::
	`AcquœeLßd
(&
¡İ_
) != 0;

408 
	}
}

410 
Th»ad
::
	$Re¡¬t
() {

411 
AtomicOps
::
	`R–—£StÜe
(&
¡İ_
, 0);

412 
	}
}

414 
boŞ
 
Th»ad
::
	$P“k
(
Mes§ge
* 
pmsg
, 
cmsWa™
) {

415 ià(
fP“kK“p_
) {

416 *
pmsg
 = 
msgP“k_
;

417  
Œue
;

419 ià(!
	`G‘
(
pmsg
, 
cmsWa™
))

420  
çl£
;

421 
msgP“k_
 = *
pmsg
;

422 
fP“kK“p_
 = 
Œue
;

423  
Œue
;

424 
	}
}

426 
boŞ
 
Th»ad
::
	$G‘
(
Mes§ge
* 
pmsg
, 
cmsWa™
, 
boŞ
 
´oûss_io
) {

430 ià(
fP“kK“p_
) {

431 *
pmsg
 = 
msgP“k_
;

432 
fP“kK“p_
 = 
çl£
;

433  
Œue
;

438 
št64_t
 
cmsTÙ®
 = 
cmsWa™
;

439 
št64_t
 
cmsEÏp£d
 = 0;

440 
št64_t
 
msS¹
 = 
	`TimeMlis
();

441 
št64_t
 
msCu¼’t
 = 
msS¹
;

442 
Œue
) {

444 
št64_t
 
cmsD–ayNext
 = 
kFÜev”
;

445 
boŞ
 
fœ¡_·ss
 = 
Œue
;

446 
Œue
) {

451 
Cr™Scİe
 
	`cs
(&
ü™_
);

454 ià(
fœ¡_·ss
) {

455 
fœ¡_·ss
 = 
çl£
;

456 !
d–ayed_mes§ges_
.
	`em±y
()) {

457 ià(
msCu¼’t
 < 
d–ayed_mes§ges_
.
	`tİ
().
run_time_ms_
) {

458 
cmsD–ayNext
 =

459 
	`TimeDiff
(
d–ayed_mes§ges_
.
	`tİ
().
run_time_ms_
, 
msCu¼’t
);

462 
mes§ges_
.
	`push_back
(
d–ayed_mes§ges_
.
	`tİ
().
msg_
);

463 
d–ayed_mes§ges_
.
	`pİ
();

467 ià(
mes§ges_
.
	`em±y
()) {

470 *
pmsg
 = 
mes§ges_
.
	`äÚt
();

471 
mes§ges_
.
	`pİ_äÚt
();

476 ià(
MQID_DISPOSE
 =ğ
pmsg
->
mes§ge_id
) {

477 
	`RTC_DCHECK
(
nuÎ±r
 =ğ
pmsg
->
phªdËr
);

478 
d–‘e
 
pmsg
->
pd©a
;

479 *
pmsg
 = 
	`Mes§ge
();

482  
Œue
;

485 ià(
	`IsQu™tšg
())

490 
št64_t
 
cmsNext
;

491 ià(
cmsWa™
 =ğ
kFÜev”
) {

492 
cmsNext
 = 
cmsD–ayNext
;

494 
cmsNext
 = 
¡d
::
max
<
št64_t
>(0, 
cmsTÙ®
 - 
cmsEÏp£d
);

495 ià((
cmsD–ayNext
 !ğ
kFÜev”
è&& (cmsD–ayNexˆ< 
cmsNext
))

496 
cmsNext
 = 
cmsD–ayNext
;

501 ià(!
ss_
->
	`Wa™
(
¡©ic_ÿ¡
<>(
cmsNext
), 
´oûss_io
))

502  
çl£
;

507 
msCu¼’t
 = 
	`TimeMlis
();

508 
cmsEÏp£d
 = 
	`TimeDiff
(
msCu¼’t
, 
msS¹
);

509 ià(
cmsWa™
 !ğ
kFÜev”
) {

510 ià(
cmsEÏp£d
 >ğ
cmsWa™
)

511  
çl£
;

514  
çl£
;

515 
	}
}

517 
Th»ad
::
	$Po¡
(cÚ¡ 
LoÿtiÚ
& 
po¡ed_äom
,

518 
Mes§geHªdËr
* 
phªdËr
,

519 
ušt32_t
 
id
,

520 
Mes§geD©a
* 
pd©a
,

521 
boŞ
 
time_£ns™ive
) {

522 
	`RTC_DCHECK
(!
time_£ns™ive
);

523 ià(
	`IsQu™tšg
()) {

524 
d–‘e
 
pd©a
;

533 
Cr™Scİe
 
	`cs
(&
ü™_
);

534 
Mes§ge
 
msg
;

535 
msg
.
po¡ed_äom
 =…osted_from;

536 
msg
.
phªdËr
 =…handler;

537 
msg
.
mes§ge_id
 = 
id
;

538 
msg
.
pd©a
 =…data;

539 
mes§ges_
.
	`push_back
(
msg
);

541 
	`WakeUpSock‘S”v”
();

542 
	}
}

544 
Th»ad
::
	$Po¡D–ayed
(cÚ¡ 
LoÿtiÚ
& 
po¡ed_äom
,

545 
d–ay_ms
,

546 
Mes§geHªdËr
* 
phªdËr
,

547 
ušt32_t
 
id
,

548 
Mes§geD©a
* 
pd©a
) {

549  
	`DoD–ayPo¡
(
po¡ed_äom
, 
d–ay_ms
, 
	`TimeAá”
(d–ay_ms), 
phªdËr
, 
id
,

550 
pd©a
);

551 
	}
}

553 
Th»ad
::
	$Po¡At
(cÚ¡ 
LoÿtiÚ
& 
po¡ed_äom
,

554 
št64_t
 
run_©_ms
,

555 
Mes§geHªdËr
* 
phªdËr
,

556 
ušt32_t
 
id
,

557 
Mes§geD©a
* 
pd©a
) {

558  
	`DoD–ayPo¡
(
po¡ed_äom
, 
	`TimeUÁ
(
run_©_ms
),„un_©_ms, 
phªdËr
, 
id
,

559 
pd©a
);

560 
	}
}

562 
Th»ad
::
	$DoD–ayPo¡
(cÚ¡ 
LoÿtiÚ
& 
po¡ed_äom
,

563 
št64_t
 
d–ay_ms
,

564 
št64_t
 
run_©_ms
,

565 
Mes§geHªdËr
* 
phªdËr
,

566 
ušt32_t
 
id
,

567 
Mes§geD©a
* 
pd©a
) {

568 ià(
	`IsQu™tšg
()) {

569 
d–‘e
 
pd©a
;

578 
Cr™Scİe
 
	`cs
(&
ü™_
);

579 
Mes§ge
 
msg
;

580 
msg
.
po¡ed_äom
 =…osted_from;

581 
msg
.
phªdËr
 =…handler;

582 
msg
.
mes§ge_id
 = 
id
;

583 
msg
.
pd©a
 =…data;

584 
D–ayedMes§ge
 
	`d–ayed
(
d–ay_ms
, 
run_©_ms
, 
d–ayed_Ãxt_num_
, 
msg
);

585 
d–ayed_mes§ges_
.
	`push
(
d–ayed
);

589 ++
d–ayed_Ãxt_num_
;

590 
	`RTC_DCHECK_NE
(0, 
d–ayed_Ãxt_num_
);

592 
	`WakeUpSock‘S”v”
();

593 
	}
}

595 
Th»ad
::
	$G‘D–ay
() {

596 
Cr™Scİe
 
	`cs
(&
ü™_
);

598 ià(!
mes§ges_
.
	`em±y
())

601 ià(!
d–ayed_mes§ges_
.
	`em±y
()) {

602 
d–ay
 = 
	`TimeUÁ
(
d–ayed_mes§ges_
.
	`tİ
().
run_time_ms_
);

603 ià(
d–ay
 < 0)

604 
d–ay
 = 0;

605  
d–ay
;

608  
kFÜev”
;

609 
	}
}

611 
Th»ad
::
	$CË¬IÁ”Çl
(
Mes§geHªdËr
* 
phªdËr
,

612 
ušt32_t
 
id
,

613 
Mes§geLi¡
* 
»moved
) {

616 ià(
fP“kK“p_
 && 
msgP“k_
.
	`M©ch
(
phªdËr
, 
id
)) {

617 ià(
»moved
) {

618 
»moved
->
	`push_back
(
msgP“k_
);

620 
d–‘e
 
msgP“k_
.
pd©a
;

622 
fP“kK“p_
 = 
çl£
;

627 autØ
™
 = 
mes§ges_
.
	`begš
(); iˆ!ğmes§ges_.
	`’d
();) {

628 ià(
™
->
	`M©ch
(
phªdËr
, 
id
)) {

629 ià(
»moved
) {

630 
»moved
->
	`push_back
(*
™
);

632 
d–‘e
 
™
->
pd©a
;

634 
™
 = 
mes§ges_
.
	`”a£
(it);

636 ++
™
;

642 autØ
Ãw_’d
 = 
d–ayed_mes§ges_
.
	`cÚš”
().
	`begš
();

643 autØ
™
 = 
Ãw_’d
; iˆ!ğ
d–ayed_mes§ges_
.
	`cÚš”
().
	`’d
(); ++it) {

644 ià(
™
->
msg_
.
	`M©ch
(
phªdËr
, 
id
)) {

645 ià(
»moved
) {

646 
»moved
->
	`push_back
(
™
->
msg_
);

648 
d–‘e
 
™
->
msg_
.
pd©a
;

651 *
Ãw_’d
++ = *
™
;

654 
d–ayed_mes§ges_
.
	`cÚš”
().
	`”a£
(
Ãw_’d
,

655 
d–ayed_mes§ges_
.
	`cÚš”
().
	`’d
());

656 
d–ayed_mes§ges_
.
	`»h—p
();

657 
	}
}

659 
Th»ad
::
	$Di¥©ch
(
Mes§ge
* 
pmsg
) {

660 
	`TRACE_EVENT2
("webrtc", "Thread::Dispatch", "src_file",

661 
pmsg
->
po¡ed_äom
.
	`fe_Çme
(), "src_func",

662 
pmsg
->
po¡ed_äom
.
	`funùiÚ_Çme
());

663 
št64_t
 
¡¬t_time
 = 
	`TimeMlis
();

664 
pmsg
->
phªdËr
->
	`OnMes§ge
(pmsg);

665 
št64_t
 
’d_time
 = 
	`TimeMlis
();

666 
št64_t
 
diff
 = 
	`TimeDiff
(
’d_time
, 
¡¬t_time
);

667 ià(
diff
 >ğ
kSlowDi¥©chLoggšgTh»shŞd
) {

668 
	`RTC_LOG
(
LS_INFO
è<< "Mes§gtook " << 
diff


670 << 
pmsg
->
po¡ed_äom
.
	`ToSŒšg
();

672 
	}
}

674 
boŞ
 
Th»ad
::
	$IsCu¼’t
() const {

675  
Th»adMªag”
::
	`In¡ªû
()->
	`Cu¼’tTh»ad
(è=ğ
this
;

676 
	}
}

678 
¡d
::
unique_±r
<
Th»ad
> Th»ad::
	$C»©eW™hSock‘S”v”
() {

679  
¡d
::
unique_±r
<
Th»ad
>(
Ãw
 
	`Th»ad
(
Sock‘S”v”
::
	`C»©eDeçuÉ
()));

680 
	}
}

682 
¡d
::
unique_±r
<
Th»ad
> Th»ad::
	$C»©e
() {

683  
¡d
::
unique_±r
<
Th»ad
>(

684 
Ãw
 
	`Th»ad
(
¡d
::
unique_±r
<
Sock‘S”v”
>Òew 
	`NuÎSock‘S”v”
())));

685 
	}
}

687 
boŞ
 
Th»ad
::
	$SË•Ms
(
mli£cÚds
) {

688 
	`As£¹BlockšgIsAÎowedOnCu¼’tTh»ad
();

690 #ià
	`defšed
(
WEBRTC_WIN
)

691 ::
	`SË•
(
mli£cÚds
);

692  
Œue
;

696 
time¥ec
 
ts
;

697 
ts
.
tv_£c
 = 
mli£cÚds
 / 1000;

698 
ts
.
tv_n£c
 = (
mli£cÚds
 % 1000) * 1000000;

699 
»t
 = 
	`Çno¦“p
(&
ts
, 
nuÎ±r
);

700 ià(
»t
 != 0) {

701 
	`RTC_LOG_ERR
(
LS_WARNING
) << "nanosleep()„eturningƒarly";

702  
çl£
;

704  
Œue
;

706 
	}
}

708 
boŞ
 
Th»ad
::
	$S‘Name
(cÚ¡ 
¡d
::
¡ršg
& 
Çme
, cÚ¡ * 
obj
) {

709 
	`RTC_DCHECK
(!
	`IsRuÂšg
());

711 
Çme_
 = 
Çme
;

712 ià(
obj
) {

715 
buf
[30];

716 
	`¢´štf
(
buf
, (buf), " 0x%p", 
obj
);

717 
Çme_
 +ğ
buf
;

719  
Œue
;

720 
	}
}

722 
boŞ
 
Th»ad
::
	$S¹
() {

723 
	`RTC_DCHECK
(!
	`IsRuÂšg
());

725 ià(
	`IsRuÂšg
())

726  
çl£
;

728 
	`Re¡¬t
();

732 
Th»adMªag”
::
	`In¡ªû
();

734 
owÃd_
 = 
Œue
;

736 #ià
	`defšed
(
WEBRTC_WIN
)

737 
th»ad_
 = 
	`C»©eTh»ad
(
nuÎ±r
, 0, 
P»Run
, 
this
, 0, &
th»ad_id_
);

738 ià(!
th»ad_
) {

739  
çl£
;

741 #–ià
	`defšed
(
WEBRTC_POSIX
)

742 
±h»ad_©Œ_t
 
©Œ
;

743 
	`±h»ad_©Œ_š™
(&
©Œ
);

745 
”rÜ_code
 = 
	`±h»ad_ü—‹
(&
th»ad_
, &
©Œ
, 
P»Run
, 
this
);

746 ià(0 !ğ
”rÜ_code
) {

747 
	`RTC_LOG
(
LS_ERROR
è<< "UÇbËØü—‹…th»ad,ƒ¼Ü " << 
”rÜ_code
;

748 
th»ad_
 = 0;

749  
çl£
;

751 
	`RTC_DCHECK
(
th»ad_
);

753  
Œue
;

754 
	}
}

756 
boŞ
 
Th»ad
::
	$W¿pCu¼’t
() {

757  
	`W¿pCu¼’tW™hTh»adMªag”
(
Th»adMªag”
::
	`In¡ªû
(), 
Œue
);

758 
	}
}

760 
Th»ad
::
	$Unw¿pCu¼’t
() {

762 
Th»adMªag”
::
	`In¡ªû
()->
	`S‘Cu¼’tTh»ad
(
nuÎ±r
);

763 #ià
	`defšed
(
WEBRTC_WIN
)

764 ià(
th»ad_
 !ğ
nuÎ±r
) {

765 ià(!
	`Clo£HªdË
(
th»ad_
)) {

766 
	`RTC_LOG_GLE
(
LS_ERROR
)

769 
th»ad_
 = 
nuÎ±r
;

770 
th»ad_id_
 = 0;

772 #–ià
	`defšed
(
WEBRTC_POSIX
)

773 
th»ad_
 = 0;

775 
	}
}

777 
Th»ad
::
	$SaãW¿pCu¼’t
() {

778 
	`W¿pCu¼’tW™hTh»adMªag”
(
Th»adMªag”
::
	`In¡ªû
(), 
çl£
);

779 
	}
}

781 
Th»ad
::
	$Još
() {

782 ià(!
	`IsRuÂšg
())

785 
	`RTC_DCHECK
(!
	`IsCu¼’t
());

786 ià(
	`Cu¼’t
(è&& !Cu¼’t()->
blockšg_ÿÎs_®lowed_
) {

787 
	`RTC_LOG
(
LS_WARNING
) << "Waiting forhehreado join, "

791 #ià
	`defšed
(
WEBRTC_WIN
)

792 
	`RTC_DCHECK
(
th»ad_
 !ğ
nuÎ±r
);

793 
	`Wa™FÜSšgËObjeù
(
th»ad_
, 
INFINITE
);

794 
	`Clo£HªdË
(
th»ad_
);

795 
th»ad_
 = 
nuÎ±r
;

796 
th»ad_id_
 = 0;

797 #–ià
	`defšed
(
WEBRTC_POSIX
)

798 
	`±h»ad_još
(
th»ad_
, 
nuÎ±r
);

799 
th»ad_
 = 0;

801 
	}
}

803 
boŞ
 
Th»ad
::
	$S‘AÎowBlockšgC®ls
(
boŞ
 
®low
) {

804 
	`RTC_DCHECK
(
	`IsCu¼’t
());

805 
boŞ
 
´evious
 = 
blockšg_ÿÎs_®lowed_
;

806 
blockšg_ÿÎs_®lowed_
 = 
®low
;

807  
´evious
;

808 
	}
}

811 
Th»ad
::
	$As£¹BlockšgIsAÎowedOnCu¼’tTh»ad
() {

812 #ià!
	`defšed
(
NDEBUG
)

813 
Th»ad
* 
cu¼’t
 = Th»ad::
	`Cu¼’t
();

814 
	`RTC_DCHECK
(!
cu¼’t
 || cu¼’t->
blockšg_ÿÎs_®lowed_
);

816 
	}
}

819 #ià
	$defšed
(
WEBRTC_WIN
)

820 
DWORD
 
WINAPI
 
Th»ad
::
	$P»Run
(
LPVOID
 
pv
) {

822 * 
Th»ad
::
	$P»Run
(* 
pv
) {

824 
Th»ad
* 
th»ad
 = 
¡©ic_ÿ¡
<Th»ad*>(
pv
);

825 
Th»adMªag”
::
	`In¡ªû
()->
	`S‘Cu¼’tTh»ad
(
th»ad
);

826 
¹c
::
	`S‘Cu¼’tTh»adName
(
th»ad
->
Çme_
.
	`c_¡r
());

827 
Cu¼’tTaskQueueS‘‹r
 
	`£t_cu¼’t_sk_queue
(
th»ad
);

828 #ià
	`defšed
(
WEBRTC_MAC
)

829 
ScİedAutoR–—£PoŞ
 
poŞ
;

831 
th»ad
->
	`Run
();

833 
Th»adMªag”
::
	`In¡ªû
()->
	`S‘Cu¼’tTh»ad
(
nuÎ±r
);

834 #ifdeà
WEBRTC_WIN


837  
nuÎ±r
;

839 
	}
}

841 
Th»ad
::
	$Run
() {

842 
	`ProûssMes§ges
(
kFÜev”
);

843 
	}
}

845 
boŞ
 
Th»ad
::
	$IsOwÃd
() {

846 
	`RTC_DCHECK
(
	`IsRuÂšg
());

847  
owÃd_
;

848 
	}
}

850 
Th»ad
::
	$Stİ
() {

851 
Th»ad
::
	`Qu™
();

852 
	`Još
();

853 
	}
}

855 
Th»ad
::
	$S’d
(cÚ¡ 
LoÿtiÚ
& 
po¡ed_äom
,

856 
Mes§geHªdËr
* 
phªdËr
,

857 
ušt32_t
 
id
,

858 
Mes§geD©a
* 
pd©a
) {

859 
	`RTC_DCHECK
(!
	`IsQu™tšg
());

860 ià(
	`IsQu™tšg
())

866 
Mes§ge
 
msg
;

867 
msg
.
po¡ed_äom
 =…osted_from;

868 
msg
.
phªdËr
 =…handler;

869 
msg
.
mes§ge_id
 = 
id
;

870 
msg
.
pd©a
 =…data;

871 ià(
	`IsCu¼’t
()) {

872 
msg
.
phªdËr
->
	`OnMes§ge
(&msg);

876 
	`As£¹BlockšgIsAÎowedOnCu¼’tTh»ad
();

878 
AutoTh»ad
 
th»ad
;

879 
Th»ad
* 
cu¼’t_th»ad
 = Th»ad::
	`Cu¼’t
();

880 
	`RTC_DCHECK
(
cu¼’t_th»ad
 !ğ
nuÎ±r
);

881 #ià
RTC_DCHECK_IS_ON


882 
Th»adMªag”
::
	`In¡ªû
()->
	`Regi¡”S’dAndCheckFÜCyşes
(
cu¼’t_th»ad
,

883 
this
);

885 
boŞ
 
»ady
 = 
çl£
;

886 
	`Po¡Task
(

887 
web¹c
::
	`ToQueuedTask
([
msg
](è
mubË
 { msg.
phªdËr
->
	`OnMes§ge
(&msg); },

888 [
this
, &
»ady
, 
cu¼’t_th»ad
] {

889 
Cr™Scİe
 
	`cs
(&
ü™_
);

890 
»ady
 = 
Œue
;

891 
cu¼’t_th»ad
->
	`sock‘£rv”
()->
	`WakeUp
();

894 
boŞ
 
wa™ed
 = 
çl£
;

895 
ü™_
.
	`EÁ”
();

896 !
»ady
) {

897 
ü™_
.
	`L—ve
();

898 
cu¼’t_th»ad
->
	`sock‘£rv”
()->
	`Wa™
(
kFÜev”
, 
çl£
);

899 
wa™ed
 = 
Œue
;

900 
ü™_
.
	`EÁ”
();

902 
ü™_
.
	`L—ve
();

915 ià(
wa™ed
) {

916 
cu¼’t_th»ad
->
	`sock‘£rv”
()->
	`WakeUp
();

918 
	}
}

920 
Th»ad
::
InvokeIÁ”Çl
(cÚ¡ 
LoÿtiÚ
& 
po¡ed_äom
,

921 
¹c
::
FunùiÚV›w
<()> 
funùÜ
) {

922 
TRACE_EVENT2
("web¹c", "Th»ad::Invoke", "¤c_fe", 
po¡ed_äom
.
fe_Çme
(),

923 "¤c_func", 
po¡ed_äom
.
funùiÚ_Çme
());

925 şas 
	cFunùÜMes§geHªdËr
 : 
public
 
Mes§geHªdËr
 {

926 
public
:

927 
ex¶ic™
 
FunùÜMes§geHªdËr
(
¹c
::
FunùiÚV›w
<()> 
funùÜ
)

928 : 
funùÜ_
(
funùÜ
) {}

929 
OnMes§ge
(
Mes§ge
* 
msg
è
ov”ride
 { 
funùÜ_
(); }

931 
´iv©e
:

932 
¹c
::
FunùiÚV›w
<()> 
funùÜ_
;

933 } 
hªdËr
(
funùÜ
);

935 
S’d
(
po¡ed_äom
, &
hªdËr
);

938 
Th»ad
::
QueuedTaskHªdËr
::
	$OnMes§ge
(
Mes§ge
* 
msg
) {

939 
	`RTC_DCHECK
(
msg
);

940 auto* 
d©a
 = 
¡©ic_ÿ¡
<
ScİedMes§geD©a
<
web¹c
::
QueuedTask
>*>(
msg
->
pd©a
);

941 
¡d
::
unique_±r
<
web¹c
::
QueuedTask
> 
sk
 = std::
	`move
(
d©a
->
	`d©a
());

944 
d–‘e
 
d©a
;

948 ià(!
sk
->
	`Run
())

949 
sk
.
	`»Ëa£
();

950 
	}
}

952 
Th»ad
::
Po¡Task
(
¡d
::
unique_±r
<
web¹c
::
QueuedTask
> 
sk
) {

955 
Po¡
(
RTC_FROM_HERE
, &
queued_sk_hªdËr_
,

956  0, 
Ãw
 
ScİedMes§geD©a
<
web¹c
::
QueuedTask
>(
¡d
::
move
(
sk
)));

959 
Th»ad
::
Po¡D–ayedTask
(
¡d
::
unique_±r
<
web¹c
::
QueuedTask
> 
sk
,

960 
ušt32_t
 
mli£cÚds
) {

963 
Po¡D–ayed
(
RTC_FROM_HERE
, 
mli£cÚds
, &
queued_sk_hªdËr_
,

965 
Ãw
 
ScİedMes§geD©a
<
web¹c
::
QueuedTask
>(
¡d
::
move
(
sk
)));

968 
Th»ad
::
	$D–‘e
() {

969 
	`Stİ
();

970 
d–‘e
 
this
;

971 
	}
}

973 
boŞ
 
Th»ad
::
	$IsProûssšgMes§gesFÜTe¡šg
() {

974  (
owÃd_
 || 
	`IsCu¼’t
()è&& !
	`IsQu™tšg
();

975 
	}
}

977 
Th»ad
::
	$CË¬
(
Mes§geHªdËr
* 
phªdËr
,

978 
ušt32_t
 
id
,

979 
Mes§geLi¡
* 
»moved
) {

980 
Cr™Scİe
 
	`cs
(&
ü™_
);

981 
	`CË¬IÁ”Çl
(
phªdËr
, 
id
, 
»moved
);

982 
	}
}

984 
boŞ
 
Th»ad
::
	$ProûssMes§ges
(
cmsLoİ
) {

988 
	`RTC_DCHECK
(
	`G‘ClockFÜTe¡šg
(è=ğ
nuÎ±r
 || 
cmsLoİ
 == 0 ||

989 
cmsLoİ
 =ğ
kFÜev”
);

990 
št64_t
 
msEnd
 = (
kFÜev”
 =ğ
cmsLoİ
è? 0 : 
	`TimeAá”
(cmsLoop);

991 
cmsNext
 = 
cmsLoİ
;

993 
Œue
) {

994 #ià
	`defšed
(
WEBRTC_MAC
)

995 
ScİedAutoR–—£PoŞ
 
poŞ
;

997 
Mes§ge
 
msg
;

998 ià(!
	`G‘
(&
msg
, 
cmsNext
))

999  !
	`IsQu™tšg
();

1000 
	`Di¥©ch
(&
msg
);

1002 ià(
cmsLoİ
 !ğ
kFÜev”
) {

1003 
cmsNext
 = 
¡©ic_ÿ¡
<>(
	`TimeUÁ
(
msEnd
));

1004 ià(
cmsNext
 < 0)

1005  
Œue
;

1008 
	}
}

1010 
boŞ
 
Th»ad
::
	$W¿pCu¼’tW™hTh»adMªag”
(
Th»adMªag”
* 
th»ad_mªag”
,

1011 
boŞ
 
Ãed_synchrÚize_acûss
) {

1012 
	`RTC_DCHECK
(!
	`IsRuÂšg
());

1014 #ià
	`defšed
(
WEBRTC_WIN
)

1015 ià(
Ãed_synchrÚize_acûss
) {

1018 
th»ad_
 = 
	`O³nTh»ad
(
SYNCHRONIZE
, 
FALSE
, 
	`G‘Cu¼’tTh»adId
());

1019 ià(!
th»ad_
) {

1020 
	`RTC_LOG_GLE
(
LS_ERROR
) << "Unableo get handleohread.";

1021  
çl£
;

1023 
th»ad_id_
 = 
	`G‘Cu¼’tTh»adId
();

1025 #–ià
	`defšed
(
WEBRTC_POSIX
)

1026 
th»ad_
 = 
	`±h»ad_£lf
();

1028 
owÃd_
 = 
çl£
;

1029 
th»ad_mªag”
->
	`S‘Cu¼’tTh»ad
(
this
);

1030  
Œue
;

1031 
	}
}

1033 
boŞ
 
Th»ad
::
	$IsRuÂšg
() {

1034 #ià
	`defšed
(
WEBRTC_WIN
)

1035  
th»ad_
 !ğ
nuÎ±r
;

1036 #–ià
	`defšed
(
WEBRTC_POSIX
)

1037  
th»ad_
 != 0;

1039 
	}
}

1042 
Mes§geHªdËr
* 
Th»ad
::
	$G‘Po¡TaskMes§geHªdËr
() {

1044 
Mes§geHªdËr
* 
hªdËr
 = 
Ãw
 
Mes§geHªdËrW™hTask
;

1045  
hªdËr
;

1046 
	}
}

1048 
AutoTh»ad
::
	$AutoTh»ad
()

1049 : 
	`Th»ad
(
Sock‘S”v”
::
	`C»©eDeçuÉ
(), 
çl£
) {

1050 ià(!
Th»adMªag”
::
	`In¡ªû
()->
	`Cu¼’tTh»ad
()) {

1054 
	`DoIn™
();

1055 
Th»adMªag”
::
	`In¡ªû
()->
	`S‘Cu¼’tTh»ad
(
this
);

1057 
	}
}

1059 
AutoTh»ad
::~
	$AutoTh»ad
() {

1060 
	`Stİ
();

1061 
	`DoDe¡roy
();

1062 ià(
Th»adMªag”
::
	`In¡ªû
()->
	`Cu¼’tTh»ad
(è=ğ
this
) {

1063 
Th»adMªag”
::
	`In¡ªû
()->
	`S‘Cu¼’tTh»ad
(
nuÎ±r
);

1065 
	}
}

1067 
AutoSock‘S”v”Th»ad
::
	$AutoSock‘S”v”Th»ad
(
Sock‘S”v”
* 
ss
)

1068 : 
	$Th»ad
(
ss
, 
çl£
) {

1069 
	`DoIn™
();

1070 
Şd_th»ad_
 = 
Th»adMªag”
::
	`In¡ªû
()->
	`Cu¼’tTh»ad
();

1073 
¹c
::
Th»adMªag”
::
	`In¡ªû
()->
	`S‘Cu¼’tTh»ad
(
nuÎ±r
);

1074 
¹c
::
Th»adMªag”
::
	`In¡ªû
()->
	`S‘Cu¼’tTh»ad
(
this
);

1075 ià(
Şd_th»ad_
) {

1076 
Th»adMªag”
::
	`Remove
(
Şd_th»ad_
);

1078 
	}
}

1080 
AutoSock‘S”v”Th»ad
::~
	$AutoSock‘S”v”Th»ad
() {

1081 
	`RTC_DCHECK
(
Th»adMªag”
::
	`In¡ªû
()->
	`Cu¼’tTh»ad
(è=ğ
this
);

1086 
	`ProûssMes§ges
(0);

1091 
	`Stİ
();

1092 
	`DoDe¡roy
();

1093 
¹c
::
Th»adMªag”
::
	`In¡ªû
()->
	`S‘Cu¼’tTh»ad
(
nuÎ±r
);

1094 
¹c
::
Th»adMªag”
::
	`In¡ªû
()->
	`S‘Cu¼’tTh»ad
(
Şd_th»ad_
);

1095 ià(
Şd_th»ad_
) {

1096 
Th»adMªag”
::
	`Add
(
Şd_th»ad_
);

1098 
	}
}

	@thread.h

11 #iâdeà
RTC_BASE_THREAD_H_


12 
	#RTC_BASE_THREAD_H_


	)

14 
	~<¡dšt.h
>

16 
	~<li¡
>

17 
	~<m­
>

18 
	~<memÜy
>

19 
	~<queue
>

20 
	~<£t
>

21 
	~<¡ršg
>

22 
	~<ty³_Œa™s
>

23 
	~<veùÜ
>

25 #ià
defšed
(
WEBRTC_POSIX
)

26 
	~<±h»ad.h
>

28 
	~"­i/funùiÚ_v›w.h
"

29 
	~"­i/sk_queue/queued_sk.h
"

30 
	~"­i/sk_queue/sk_queue_ba£.h
"

31 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

32 
	~"¹c_ba£/ü™iÿl_£ùiÚ.h
"

33 
	~"¹c_ba£/loÿtiÚ.h
"

34 
	~"¹c_ba£/mes§ge_hªdËr.h
"

35 
	~"¹c_ba£/¶©fÜm_th»ad_ty³s.h
"

36 
	~"¹c_ba£/sock‘_£rv”.h
"

37 
	~"¹c_ba£/sy¡em/¹c_expÜt.h
"

38 
	~"¹c_ba£/th»ad_ªnÙ©iÚs.h
"

39 
	~"¹c_ba£/th»ad_mes§ge.h
"

41 #ià
defšed
(
WEBRTC_WIN
)

42 
	~"¹c_ba£/wš32.h
"

45 
Çme¥aû
 
	g¹c
 {

47 
şass
 
	gTh»ad
;

49 
Çme¥aû
 
	g¹c_th»ad_š‹º®
 {

51 şas 
	cMes§geLikeTask
 : 
public
 
Mes§geD©a
 {

52 
public
:

53 
vœtu®
 
Run
() = 0;

56 
	g‹m¶©e
 <
şass
 
	gFunùÜT
>

57 şas 
	cMes§geW™hFunùÜ
 
	gfš®
 : 
public
 
Mes§geLikeTask
 {

58 
public
:

59 
ex¶ic™
 
Mes§geW™hFunùÜ
(
FunùÜT
&& 
funùÜ
)

60 : 
funùÜ_
(
¡d
::
fÜw¬d
<
FunùÜT
>(
funùÜ
)) {}

62 
Run
(è
ov”ride
 { 
funùÜ_
(); }

64 
	g´iv©e
:

65 ~
Mes§geW™hFunùÜ
(è
ov”ride
 {}

67 
ty³Çme
 
¡d
::
»move_»ã»nû
<
FunùÜT
>::
ty³
 
funùÜ_
;

69 
RTC_DISALLOW_COPY_AND_ASSIGN
(
Mes§geW™hFunùÜ
);

74 şas 
	cRTC_EXPORT
 
	gTh»adMªag”
 {

75 
	gpublic
:

76 cÚ¡ 
kFÜev”
 = -1;

79 
Th»adMªag”
* 
In¡ªû
();

81 
Add
(
Th»ad
* 
mes§ge_queue
);

82 
Remove
(
Th»ad
* 
mes§ge_queue
);

83 
CË¬
(
Mes§geHªdËr
* 
hªdËr
);

86 
ProûssAÎMes§geQueues
(è{ 
ProûssAÎMes§geQueuesFÜTe¡šg
(); }

91 
ProûssAÎMes§geQueuesFÜTe¡šg
();

93 
Th»ad
* 
Cu¼’tTh»ad
();

94 
S‘Cu¼’tTh»ad
(
Th»ad
* 
th»ad
);

97 
ChªgeCu¼’tTh»adFÜTe¡
(
Th»ad
* 
th»ad
);

112 
Th»ad
* 
W¿pCu¼’tTh»ad
();

113 
Unw¿pCu¼’tTh»ad
();

115 
boŞ
 
IsMašTh»ad
();

117 #ià
RTC_DCHECK_IS_ON


121 
Regi¡”S’dAndCheckFÜCyşes
(
Th»ad
* 
sourû
, Th»ad* 
rg‘
);

124 
	g´iv©e
:

125 
Th»adMªag”
();

126 ~
Th»adMªag”
();

128 
S‘Cu¼’tTh»adIÁ”Çl
(
Th»ad
* 
th»ad
);

129 
AddIÁ”Çl
(
Th»ad
* 
mes§ge_queue
);

130 
RemoveIÁ”Çl
(
Th»ad
* 
mes§ge_queue
);

131 
CË¬IÁ”Çl
(
Mes§geHªdËr
* 
hªdËr
);

132 
ProûssAÎMes§geQueuesIÁ”Çl
();

133 #ià
RTC_DCHECK_IS_ON


134 
RemoveFromS’dG¿ph
(
Th»ad
* 
th»ad
è
RTC_EXCLUSIVE_LOCKS_REQUIRED
(
ü™_
);

138 
	g¡d
::
veùÜ
<
Th»ad
*> 
mes§ge_queues_
 
RTC_GUARDED_BY
(
ü™_
);

143 
Cr™iÿlSeùiÚ
 
	gü™_
;

144 
size_t
 
´oûssšg_
 
RTC_GUARDED_BY
(
ü™_
) = 0;

145 #ià
RTC_DCHECK_IS_ON


149 
	g¡d
::
m­
<
Th»ad
*, std::
£t
<Th»ad*>> 
£nd_g¿ph_
 
RTC_GUARDED_BY
(
ü™_
);

152 #ià
defšed
(
WEBRTC_POSIX
)

153 
±h»ad_key_t
 
	gkey_
;

156 #ià
defšed
(
WEBRTC_WIN
)

157 cÚ¡ 
DWORD
 
	gkey_
;

161 cÚ¡ 
PÏtfÜmTh»adRef
 
	gmaš_th»ad_»f_
;

163 
RTC_DISALLOW_COPY_AND_ASSIGN
(
Th»adMªag”
);

168 şas 
	cRTC_LOCKABLE
 
RTC_EXPORT
 
	gTh»ad
 : 
public
 
web¹c
::
TaskQueueBa£
 {

169 
public
:

170 cÚ¡ 
kFÜev”
 = -1;

177 
ex¶ic™
 
Th»ad
(
Sock‘S”v”
* 
ss
);

178 
ex¶ic™
 
Th»ad
(
¡d
::
unique_±r
<
Sock‘S”v”
> 
ss
);

183 
Th»ad
(
Sock‘S”v”
* 
ss
, 
boŞ
 
do_š™
);

184 
Th»ad
(
¡d
::
unique_±r
<
Sock‘S”v”
> 
ss
, 
boŞ
 
do_š™
);

195 ~
Th»ad
(è
	gov”ride
;

197 
	g¡d
::
unique_±r
<
Th»ad
> 
C»©eW™hSock‘S”v”
();

198 
	g¡d
::
unique_±r
<
Th»ad
> 
C»©e
();

199 
Th»ad
* 
Cu¼’t
();

205 şas 
	cScİedDi§ÎowBlockšgC®ls
 {

206 
	gpublic
:

207 
ScİedDi§ÎowBlockšgC®ls
();

208 
ScİedDi§ÎowBlockšgC®ls
(cÚ¡ ScİedDi§ÎowBlockšgC®ls&èğ
d–‘e
;

209 
	gScİedDi§ÎowBlockšgC®ls
& 
	gİ”©Ü
=(cÚ¡ 
ScİedDi§ÎowBlockšgC®ls
&) =

210 
d–‘e
;

211 ~
ScİedDi§ÎowBlockšgC®ls
();

213 
	g´iv©e
:

214 
Th»ad
* cÚ¡ 
th»ad_
;

215 cÚ¡ 
boŞ
 
	g´evious_¡©e_
;

218 
Sock‘S”v”
* 
sock‘£rv”
();

226 
vœtu®
 
Qu™
();

227 
vœtu®
 
boŞ
 
IsQu™tšg
();

228 
vœtu®
 
Re¡¬t
();

232 
vœtu®
 
boŞ
 
IsProûssšgMes§gesFÜTe¡šg
();

238 
vœtu®
 
boŞ
 
G‘
(
Mes§ge
* 
pmsg
,

239 
cmsWa™
 = 
kFÜev”
,

240 
boŞ
 
´oûss_io
 = 
Œue
);

241 
vœtu®
 
boŞ
 
P“k
(
Mes§ge
* 
pmsg
, 
cmsWa™
 = 0);

243 
vœtu®
 
Po¡
(cÚ¡ 
LoÿtiÚ
& 
po¡ed_äom
,

244 
Mes§geHªdËr
* 
phªdËr
,

245 
ušt32_t
 
id
 = 0,

246 
Mes§geD©a
* 
pd©a
 = 
nuÎ±r
,

247 
boŞ
 
time_£ns™ive
 = 
çl£
);

248 
vœtu®
 
Po¡D–ayed
(cÚ¡ 
LoÿtiÚ
& 
po¡ed_äom
,

249 
d–ay_ms
,

250 
Mes§geHªdËr
* 
phªdËr
,

251 
ušt32_t
 
id
 = 0,

252 
Mes§geD©a
* 
pd©a
 = 
nuÎ±r
);

253 
vœtu®
 
Po¡At
(cÚ¡ 
LoÿtiÚ
& 
po¡ed_äom
,

254 
št64_t
 
run_©_ms
,

255 
Mes§geHªdËr
* 
phªdËr
,

256 
ušt32_t
 
id
 = 0,

257 
Mes§geD©a
* 
pd©a
 = 
nuÎ±r
);

258 
vœtu®
 
CË¬
(
Mes§geHªdËr
* 
phªdËr
,

259 
ušt32_t
 
id
 = 
MQID_ANY
,

260 
Mes§geLi¡
* 
»moved
 = 
nuÎ±r
);

261 
vœtu®
 
Di¥©ch
(
Mes§ge
* 
pmsg
);

264 
vœtu®
 
G‘D–ay
();

266 
boŞ
 
em±y
(ècÚ¡ {  
size
() == 0u; }

267 
size_t
 
size
() const {

268 
Cr™Scİe
 
cs
(&
ü™_
);

269  
	gmes§ges_
.
size
(è+ 
	gd–ayed_mes§ges_
.size(è+ (
	gfP“kK“p_
 ? 1u : 0u);

273 
	g‹m¶©e
 <
şass
 
	gT
>

274 
Di¥o£
(
T
* 
doomed
) {

275 ià(
	gdoomed
) {

276 
Po¡
(
RTC_FROM_HERE
, 
nuÎ±r
, 
MQID_DISPOSE
, 
Ãw
 
Di¥o£D©a
<
T
>(
doomed
));

282 
	gsig¦Ù
::
sigÇl0
<> 
SigÇlQueueDe¡royed
;

284 
boŞ
 
IsCu¼’t
() const;

289 
boŞ
 
SË•Ms
(
mlis
);

293 cÚ¡ 
	g¡d
::
¡ršg
& 
Çme
(ècÚ¡ {  
Çme_
; }

294 
boŞ
 
S‘Name
(cÚ¡ 
¡d
::
¡ršg
& 
Çme
, cÚ¡ * 
obj
);

297 
boŞ
 
S¹
();

303 
vœtu®
 
Stİ
();

308 
vœtu®
 
Run
();

310 
vœtu®
 
S’d
(cÚ¡ 
LoÿtiÚ
& 
po¡ed_äom
,

311 
Mes§geHªdËr
* 
phªdËr
,

312 
ušt32_t
 
id
 = 0,

313 
Mes§geD©a
* 
pd©a
 = 
nuÎ±r
);

325 
	g‹m¶©e
 <

326 
şass
 
	gR‘uºT
,

327 
	gty³Çme
 = 
ty³Çme
 
¡d
::
’abË_if
<!¡d::
is_void
<
R‘uºT
>::
v®ue
>::
ty³
>

328 
R‘uºT
 
Invoke
(cÚ¡ 
LoÿtiÚ
& 
po¡ed_äom
, 
FunùiÚV›w
<R‘uºT()> 
funùÜ
) {

329 
R‘uºT
 
	g»suÉ
;

330 
InvokeIÁ”Çl
(
po¡ed_äom
, [
funùÜ
, &
»suÉ
] {„esult = functor(); });

331  
	g»suÉ
;

334 
	g‹m¶©e
 <

335 
şass
 
	gR‘uºT
,

336 
	gty³Çme
 = 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_void
<
R‘uºT
>::
v®ue
>::
ty³
>

337 
Invoke
(cÚ¡ 
LoÿtiÚ
& 
po¡ed_äom
, 
FunùiÚV›w
<()> 
funùÜ
) {

338 
InvokeIÁ”Çl
(
po¡ed_äom
, 
funùÜ
);

375 
	g‹m¶©e
 <
şass
 
	gFunùÜT
>

376 
Po¡Task
(cÚ¡ 
LoÿtiÚ
& 
po¡ed_äom
, 
FunùÜT
&& 
funùÜ
) {

377 
Po¡
(
po¡ed_äom
, 
G‘Po¡TaskMes§geHªdËr
(), 0,

378 
Ãw
 
¹c_th»ad_š‹º®
::
Mes§geW™hFunùÜ
<
FunùÜT
>(

379 
¡d
::
fÜw¬d
<
FunùÜT
>(
funùÜ
)));

381 
	g‹m¶©e
 <
şass
 
	gFunùÜT
>

382 
Po¡D–ayedTask
(cÚ¡ 
LoÿtiÚ
& 
po¡ed_äom
,

383 
FunùÜT
&& 
funùÜ
,

384 
ušt32_t
 
mli£cÚds
) {

385 
Po¡D–ayed
(
po¡ed_äom
, 
mli£cÚds
, 
G‘Po¡TaskMes§geHªdËr
(),

387 
Ãw
 
¹c_th»ad_š‹º®
::
Mes§geW™hFunùÜ
<
FunùÜT
>(

388 
¡d
::
fÜw¬d
<
FunùÜT
>(
funùÜ
)));

392 
Po¡Task
(
¡d
::
unique_±r
<
web¹c
::
QueuedTask
> 
sk
è
ov”ride
;

393 
Po¡D–ayedTask
(
¡d
::
unique_±r
<
web¹c
::
QueuedTask
> 
sk
,

394 
ušt32_t
 
mli£cÚds
è
	gov”ride
;

395 
D–‘e
(è
	gov”ride
;

400 
boŞ
 
ProûssMes§ges
(
cms
);

408 
boŞ
 
IsOwÃd
();

416 
boŞ
 
RuÂšgFÜTe¡
(è{  
IsRuÂšg
(); }

424 
boŞ
 
W¿pCu¼’t
();

425 
Unw¿pCu¼’t
();

429 
Di§ÎowBlockšgC®ls
(è{ 
S‘AÎowBlockšgC®ls
(
çl£
); }

431 #ifdeà
WEBRTC_ANDROID


435 
DEPRECATED_AÎowBlockšgC®ls
(è{ 
S‘AÎowBlockšgC®ls
(
Œue
); }

438 
	g´Ùeùed
:

439 şas 
	cCu¼’tTh»adS‘‹r
 : 
Cu¼’tTaskQueueS‘‹r
 {

440 
public
:

441 
ex¶ic™
 
Cu¼’tTh»adS‘‹r
(
Th»ad
* 
th»ad
)

442 : 
Cu¼’tTaskQueueS‘‹r
(
th»ad
),

443 
mªag”_
(
¹c
::
Th»adMªag”
::
In¡ªû
()),

444 
´evious_
(
mªag”_
->
Cu¼’tTh»ad
()) {

445 
	gmªag”_
->
ChªgeCu¼’tTh»adFÜTe¡
(
th»ad
);

447 ~
Cu¼’tTh»adS‘‹r
(è{ 
	gmªag”_
->
ChªgeCu¼’tTh»adFÜTe¡
(
´evious_
); }

449 
	g´iv©e
:

450 
¹c
::
Th»adMªag”
* cÚ¡ 
mªag”_
;

451 
	g¹c
::
Th»ad
* cÚ¡ 
´evious_
;

456 şas 
	cD–ayedMes§ge
 {

457 
	gpublic
:

458 
D–ayedMes§ge
(
št64_t
 
d–ay
,

459 
št64_t
 
run_time_ms
,

460 
ušt32_t
 
num
,

461 cÚ¡ 
Mes§ge
& 
msg
)

462 : 
d–ay_ms_
(
d–ay
),

463 
run_time_ms_
(
run_time_ms
),

464 
mes§ge_numb”_
(
num
),

465 
msg_
(
msg
) {}

467 
boŞ
 
	gİ”©Ü
<(cÚ¡ 
	gD–ayedMes§ge
& 
	gdmsg
) const {

468  (
	gdmsg
.
	grun_time_ms_
 <„un_time_ms_) ||

469 ((
	gdmsg
.
	grun_time_ms_
 =ğ
run_time_ms_
) &&

470 (
dmsg
.
mes§ge_numb”_
 < message_number_));

473 
št64_t
 
	gd–ay_ms_
;

474 
št64_t
 
	grun_time_ms_
;

477 
ušt32_t
 
	gmes§ge_numb”_
;

478 
Mes§ge
 
	gmsg_
;

481 
şass
 
	gPriÜ™yQueue
 : 
public
 
¡d
::
´iÜ™y_queue
<
D–ayedMes§ge
> {

482 
public
:

483 
cÚš”_ty³
& 
cÚš”
(è{  
c
; }

484 
»h—p
(è{ 
make_h—p
(
c
.
begš
(), c.
’d
(), 
comp
); }

487 
DoD–ayPo¡
(cÚ¡ 
LoÿtiÚ
& 
po¡ed_äom
,

488 
št64_t
 
cmsD–ay
,

489 
št64_t
 
t¡amp
,

490 
Mes§geHªdËr
* 
phªdËr
,

491 
ušt32_t
 
id
,

492 
Mes§geD©a
* 
pd©a
);

496 
DoIn™
();

500 
CË¬IÁ”Çl
(
Mes§geHªdËr
* 
phªdËr
,

501 
ušt32_t
 
id
,

502 
Mes§geLi¡
* 
»moved
è
RTC_EXCLUSIVE_LOCKS_REQUIRED
(&
ü™_
);

506 
DoDe¡roy
(è
RTC_EXCLUSIVE_LOCKS_REQUIRED
(&
ü™_
);

508 
WakeUpSock‘S”v”
();

513 
SaãW¿pCu¼’t
();

516 
Još
();

518 
As£¹BlockšgIsAÎowedOnCu¼’tTh»ad
();

520 
ä›nd
 
şass
 
	gScİedDi§ÎowBlockšgC®ls
;

522 
Cr™iÿlSeùiÚ
* 
Cr™FÜTe¡
(è{  &
	gü™_
; }

524 
	g´iv©e
:

525 şas 
	cQueuedTaskHªdËr
 
fš®
 : 
public
 
Mes§geHªdËr
 {

526 
public
:

527 
OnMes§ge
(
Mes§ge
* 
msg
è
ov”ride
;

532 
boŞ
 
S‘AÎowBlockšgC®ls
(boŞ 
®low
);

534 #ià
defšed
(
WEBRTC_WIN
)

535 
DWORD
 
WINAPI
 
P»Run
(
LPVOID
 
cÚ‹xt
);

537 * 
P»Run
(* 
pv
);

545 
boŞ
 
W¿pCu¼’tW™hTh»adMªag”
(
Th»adMªag”
* 
th»ad_mªag”
,

546 
boŞ
 
Ãed_synchrÚize_acûss
);

549 
boŞ
 
IsRuÂšg
();

551 
InvokeIÁ”Çl
(cÚ¡ 
LoÿtiÚ
& 
po¡ed_äom
,

552 
¹c
::
FunùiÚV›w
<()> 
funùÜ
);

556 
Mes§geHªdËr
* 
G‘Po¡TaskMes§geHªdËr
();

558 
boŞ
 
	gfP“kK“p_
;

559 
Mes§ge
 
	gmsgP“k_
;

560 
Mes§geLi¡
 
mes§ges_
 
RTC_GUARDED_BY
(
ü™_
);

561 
PriÜ™yQueue
 
d–ayed_mes§ges_
 
RTC_GUARDED_BY
(
ü™_
);

562 
ušt32_t
 
d–ayed_Ãxt_num_
 
RTC_GUARDED_BY
(
ü™_
);

563 
Cr™iÿlSeùiÚ
 
	gü™_
;

564 
boŞ
 
	gfIn™Ÿlized_
;

565 
boŞ
 
	gfDe¡royed_
;

567 vŞ©
	g¡İ_
;

570 
Sock‘S”v”
* cÚ¡ 
	gss_
;

572 
	g¡d
::
unique_±r
<
Sock‘S”v”
> 
own_ss_
;

574 
	g¡d
::
¡ršg
 
Çme_
;

579 #ià
defšed
(
WEBRTC_POSIX
)

580 
±h»ad_t
 
	gth»ad_
 = 0;

583 #ià
defšed
(
WEBRTC_WIN
)

584 
HANDLE
 
	gth»ad_
 = 
nuÎ±r
;

585 
DWORD
 
	gth»ad_id_
 = 0;

591 
boŞ
 
	gowÃd_
 = 
Œue
;

594 
boŞ
 
	gblockšg_ÿÎs_®lowed_
 = 
Œue
;

597 
QueuedTaskHªdËr
 
	gqueued_sk_hªdËr_
;

599 
ä›nd
 
şass
 
	gTh»adMªag”
;

601 
RTC_DISALLOW_COPY_AND_ASSIGN
(
Th»ad
);

608 şas 
	cAutoTh»ad
 : 
public
 
Th»ad
 {

609 
public
:

610 
AutoTh»ad
();

611 ~
AutoTh»ad
(è
	gov”ride
;

613 
	g´iv©e
:

614 
RTC_DISALLOW_COPY_AND_ASSIGN
(
AutoTh»ad
);

622 şas 
	cAutoSock‘S”v”Th»ad
 : 
public
 
Th»ad
 {

623 
public
:

624 
ex¶ic™
 
AutoSock‘S”v”Th»ad
(
Sock‘S”v”
* 
ss
);

625 ~
AutoSock‘S”v”Th»ad
(è
	gov”ride
;

627 
	g´iv©e
:

628 
¹c
::
Th»ad
* 
Şd_th»ad_
;

630 
RTC_DISALLOW_COPY_AND_ASSIGN
(
AutoSock‘S”v”Th»ad
);

	@thread_annotations.h

19 #iâdeà
RTC_BASE_THREAD_ANNOTATIONS_H_


20 
	#RTC_BASE_THREAD_ANNOTATIONS_H_


	)

22 #ià
defšed
(
__şªg__
è&& (!defšed(
SWIG
))

23 
	#RTC_THREAD_ANNOTATION_ATTRIBUTE__
(
x
è
	`__©Œibu‹__
((x))

	)

25 
	#RTC_THREAD_ANNOTATION_ATTRIBUTE__
(
x
)

27 

	)

31 
	#RTC_GUARDED_BY
(
x
è
	`RTC_THREAD_ANNOTATION_ATTRIBUTE__
(
	`gu¬ded_by
(x))

	)

39 
	#RTC_PT_GUARDED_BY
(
x
è
	`RTC_THREAD_ANNOTATION_ATTRIBUTE__
(
	`±_gu¬ded_by
(x))

	)

46 
	#RTC_ACQUIRED_AFTER
(
x
) \

47 
	`RTC_THREAD_ANNOTATION_ATTRIBUTE__
(
	`acquœed_aá”
(
x
))

	)

48 
	#RTC_ACQUIRED_BEFORE
(
x
) \

49 
	`RTC_THREAD_ANNOTATION_ATTRIBUTE__
(
	`acquœed_befÜe
(
x
))

	)

55 
	#RTC_EXCLUSIVE_LOCKS_REQUIRED
(...) \

56 
	`RTC_THREAD_ANNOTATION_ATTRIBUTE__
(
	`exşusive_locks_»quœed
(
__VA_ARGS__
))

	)

57 
	#RTC_SHARED_LOCKS_REQUIRED
(...) \

58 
	`RTC_THREAD_ANNOTATION_ATTRIBUTE__
(
	`sh¬ed_locks_»quœed
(
__VA_ARGS__
))

	)

63 
	#RTC_LOCKS_EXCLUDED
(...) \

64 
	`RTC_THREAD_ANNOTATION_ATTRIBUTE__
(
	`locks_exşuded
(
__VA_ARGS__
))

	)

67 
	#RTC_LOCK_RETURNED
(
x
è
	`RTC_THREAD_ANNOTATION_ATTRIBUTE__
(
	`lock_»tuºed
(x))

	)

70 
	#RTC_LOCKABLE
 
	`RTC_THREAD_ANNOTATION_ATTRIBUTE__
(
lockabË
)

	)

73 
	#RTC_SCOPED_LOCKABLE
 
	`RTC_THREAD_ANNOTATION_ATTRIBUTE__
(
scİed_lockabË
)

	)

76 
	#RTC_EXCLUSIVE_LOCK_FUNCTION
(...) \

77 
	`RTC_THREAD_ANNOTATION_ATTRIBUTE__
(
	`exşusive_lock_funùiÚ
(
__VA_ARGS__
))

	)

79 
	#RTC_SHARED_LOCK_FUNCTION
(...) \

80 
	`RTC_THREAD_ANNOTATION_ATTRIBUTE__
(
	`sh¬ed_lock_funùiÚ
(
__VA_ARGS__
))

	)

82 
	#RTC_EXCLUSIVE_TRYLOCK_FUNCTION
(...) \

83 
	`RTC_THREAD_ANNOTATION_ATTRIBUTE__
(
	`exşusive_Œylock_funùiÚ
(
__VA_ARGS__
))

	)

85 
	#RTC_SHARED_TRYLOCK_FUNCTION
(...) \

86 
	`RTC_THREAD_ANNOTATION_ATTRIBUTE__
(
	`sh¬ed_Œylock_funùiÚ
(
__VA_ARGS__
))

	)

88 
	#RTC_UNLOCK_FUNCTION
(...) \

89 
	`RTC_THREAD_ANNOTATION_ATTRIBUTE__
(
	`uÆock_funùiÚ
(
__VA_ARGS__
))

	)

92 
	#RTC_NO_THREAD_SAFETY_ANALYSIS
 \

93 
	`RTC_THREAD_ANNOTATION_ATTRIBUTE__
(
no_th»ad_§ãty_ª®ysis
)

	)

	@thread_annotations_unittest.cc

11 
	~"¹c_ba£/th»ad_ªnÙ©iÚs.h
"

13 
	~"‹¡/g‹¡.h
"

15 
	gÇme¥aû
 {

17 şas 
	cRTC_LOCKABLE
 
	gLock
 {

18 
	gpublic
:

19 
EÁ”Wr™e
(ècÚ¡ 
RTC_EXCLUSIVE_LOCK_FUNCTION
() {}

20 
EÁ”R—d
(ècÚ¡ 
RTC_SHARED_LOCK_FUNCTION
() {}

21 
boŞ
 
TryEÁ”Wr™e
(ècÚ¡ 
RTC_EXCLUSIVE_TRYLOCK_FUNCTION
(
Œue
) {

22  
Œue
;

24 
boŞ
 
TryEÁ”R—d
(ècÚ¡ 
RTC_SHARED_TRYLOCK_FUNCTION
(
Œue
è{  
	gŒue
; }

25 
L—ve
(ècÚ¡ 
RTC_UNLOCK_FUNCTION
() {}

28 şas 
	cRTC_SCOPED_LOCKABLE
 
	gScİeLock
 {

29 
	gpublic
:

30 
ex¶ic™
 
ScİeLock
(cÚ¡ 
Lock
& 
lock
è
RTC_EXCLUSIVE_LOCK_FUNCTION
(lock) {}

31 ~
ScİeLock
(è
RTC_UNLOCK_FUNCTION
() {}

34 şas 
	cTh»adSaã
 {

35 
	gpublic
:

36 
Th»adSaã
(è{ 
±_´Ùeùed_by_lock_
 = 
Ãw
 ; }

38 ~
Th»adSaã
(è{ 
d–‘e
 
	g±_´Ùeùed_by_lock_
; }

40 
LockInOrd”
() {

41 
	gbefÜ–ock_
.
EÁ”Wr™e
();

42 
	glock_
.
EÁ”Wr™e
();

43 
	g±_lock_
.
EÁ”Wr™e
();

45 
	g±_lock_
.
L—ve
();

46 
	glock_
.
L—ve
();

47 
	gbefÜ–ock_
.
L—ve
();

50 
UÅrÙeùedFunùiÚ
(è
RTC_LOCKS_EXCLUDED
(
lock_
, 
±_lock_
) {

52 
	guÅrÙeùed_
 = 15;

54 * 
	gtmp
 = 
±_´Ùeùed_by_lock_
;

55 
	g±_´Ùeùed_by_lock_
 = 
tmp
;

58 
R—dPrÙeùed
() {

59 
	glock_
.
EÁ”R—d
();

60 
	guÅrÙeùed_
 = 
´Ùeùed_by_lock_
;

61 
	glock_
.
L—ve
();

63 ià(
	g±_lock_
.
TryEÁ”R—d
()) {

64 
	guÅrÙeùed_
 = *
±_´Ùeùed_by_lock_
;

65 
	g±_lock_
.
L—ve
();

69 
Wr™ePrÙeùed
() {

70 
	glock_
.
EÁ”Wr™e
();

71 
	g´Ùeùed_by_lock_
 = 
uÅrÙeùed_
;

72 
	glock_
.
L—ve
();

74 ià(
	g±_lock_
.
TryEÁ”Wr™e
()) {

75 *
	g±_´Ùeùed_by_lock_
 = 
uÅrÙeùed_
;

76 
	g±_lock_
.
L—ve
();

80 
C®lR—dPrÙeùedFunùiÚ
() {

81 
	glock_
.
EÁ”R—d
();

82 
	g±_lock_
.
EÁ”R—d
();

83 
R—dPrÙeùedFunùiÚ
();

84 
	g±_lock_
.
L—ve
();

85 
	glock_
.
L—ve
();

88 
C®lWr™ePrÙeùedFunùiÚ
() {

89 
ScİeLock
 
scİe_lock
(
G‘Lock
());

90 
ScİeLock
 
±_scİe_lock
(
±_lock_
);

91 
Wr™ePrÙeùedFunùiÚ
();

94 
	g´iv©e
:

95 
R—dPrÙeùedFunùiÚ
(è
RTC_SHARED_LOCKS_REQUIRED
(
lock_
, 
±_lock_
) {

96 
	guÅrÙeùed_
 = 
´Ùeùed_by_lock_
;

97 
	guÅrÙeùed_
 = *
±_´Ùeùed_by_lock_
;

100 
Wr™ePrÙeùedFunùiÚ
(è
RTC_EXCLUSIVE_LOCKS_REQUIRED
(
lock_
, 
±_lock_
) {

101 
	gx
 = 
´Ùeùed_by_lock_
;

102 *
	g±_´Ùeùed_by_lock_
 = 
x
;

103 
	g´Ùeùed_by_lock_
 = 
uÅrÙeùed_
;

106 cÚ¡ 
	gLock
& 
G‘Lock
(è
RTC_LOCK_RETURNED
(
lock_
è{  
	glock_
; }

108 
Lock
 
befÜ–ock_
 
RTC_ACQUIRED_BEFORE
(
lock_
);

109 
Lock
 
	glock_
;

110 
Lock
 
±_lock_
 
RTC_ACQUIRED_AFTER
(
lock_
);

112 
	guÅrÙeùed_
 = 0;

114 
´Ùeùed_by_lock_
 
RTC_GUARDED_BY
(
lock_
) = 0;

116 * 
±_´Ùeùed_by_lock_
 
RTC_PT_GUARDED_BY
(
±_lock_
);

121 
	$TEST
(
Th»adAÂÙ©iÚsTe¡
, 
Te¡
) {

124 
Th»adSaã
 
t
;

125 
t
.
	`LockInOrd”
();

126 
t
.
	`UÅrÙeùedFunùiÚ
();

127 
t
.
	`R—dPrÙeùed
();

128 
t
.
	`Wr™ePrÙeùed
();

129 
t
.
	`C®lR—dPrÙeùedFunùiÚ
();

130 
t
.
	`C®lWr™ePrÙeùedFunùiÚ
();

131 
	}
}

	@thread_checker.h

13 #iâdeà
RTC_BASE_THREAD_CHECKER_H_


14 
	#RTC_BASE_THREAD_CHECKER_H_


	)

16 
	~"¹c_ba£/d•»ÿtiÚ.h
"

17 
	~"¹c_ba£/synchrÚiz©iÚ/£qu’û_check”.h
"

19 
Çme¥aû
 
	g¹c
 {

21 şas 
	cTh»adCheck”
 : 
public
 
web¹c
::
Sequ’ûCheck”
 {

22 
public
:

23 
RTC_DEPRECATED
 
boŞ
 
C®ËdOnV®idTh»ad
(ècÚ¡ {  
IsCu¼’t
(); }

24 
RTC_DEPRECATED
 
D‘achFromTh»ad
(è{ 
D‘ach
(); }

	@thread_checker_unittest.cc

13 
	~"¹c_ba£/th»ad_check”.h
"

15 
	~<memÜy
>

16 
	~<ut™y
>

18 
	~"¹c_ba£/checks.h
"

19 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

20 
	~"¹c_ba£/nuÎ_sock‘_£rv”.h
"

21 
	~"¹c_ba£/sock‘_£rv”.h
"

22 
	~"¹c_ba£/sk_queue.h
"

23 
	~"¹c_ba£/th»ad.h
"

24 
	~"‹¡/g‹¡.h
"

28 
	#ENABLE_THREAD_CHECKER
 
RTC_DCHECK_IS_ON


	)

30 
Çme¥aû
 
	g¹c
 {

32 
	gÇme¥aû
 {

37 şas 
	cTh»adCheck”CÏss
 : 
public
 
Th»adCheck”
 {

38 
public
:

39 
Th»adCheck”CÏss
() {}

42 
DoStuff
(è{ 
RTC_DCHECK
(
IsCu¼’t
()); }

44 
D‘ach
(è{ 
	gTh»adCheck”
::Detach(); }

46 
M‘hodOnDifã»ÁTh»adIm¶
();

47 
D‘achTh’C®lFromDifã»ÁTh»adIm¶
();

49 
	g´iv©e
:

50 
RTC_DISALLOW_COPY_AND_ASSIGN
(
Th»adCheck”CÏss
);

54 şas 
	cC®lDoStuffOnTh»ad
 : 
public
 
Th»ad
 {

55 
public
:

56 
ex¶ic™
 
C®lDoStuffOnTh»ad
(
Th»adCheck”CÏss
* 
th»ad_check”_şass
)

57 : 
Th»ad
(
¡d
::
unique_±r
<
Sock‘S”v”
>(
Ãw
 
¹c
::
NuÎSock‘S”v”
())),

58 
th»ad_check”_şass_
(
th»ad_check”_şass
) {

59 
S‘Name
("ÿÎ_do_¡uff_Ú_th»ad", 
nuÎ±r
);

62 
Run
(è
	gov”ride
 { 
	gth»ad_check”_şass_
->
DoStuff
(); }

66 
Još
(è{ 
	gTh»ad
::Join(); }

68 
	g´iv©e
:

69 
Th»adCheck”CÏss
* 
th»ad_check”_şass_
;

71 
RTC_DISALLOW_COPY_AND_ASSIGN
(
C®lDoStuffOnTh»ad
);

75 şas 
	cD–‘eTh»adCheck”CÏssOnTh»ad
 : 
public
 
Th»ad
 {

76 
public
:

77 
ex¶ic™
 
D–‘eTh»adCheck”CÏssOnTh»ad
(

78 
¡d
::
unique_±r
<
Th»adCheck”CÏss
> 
th»ad_check”_şass
)

79 : 
Th»ad
(
¡d
::
unique_±r
<
Sock‘S”v”
>(
Ãw
 
¹c
::
NuÎSock‘S”v”
())),

80 
th»ad_check”_şass_
(
¡d
::
move
(
th»ad_check”_şass
)) {

81 
S‘Name
("d–‘e_th»ad_check”_şass_Ú_th»ad", 
nuÎ±r
);

84 
Run
(è
	gov”ride
 { 
	gth»ad_check”_şass_
.
»£t
(); }

88 
Još
(è{ 
	gTh»ad
::Join(); }

90 
boŞ
 
has_b“n_d–‘ed
(ècÚ¡ {  !
	gth»ad_check”_şass_
; }

92 
	g´iv©e
:

93 
¡d
::
unique_±r
<
Th»adCheck”CÏss
> 
th»ad_check”_şass_
;

95 
RTC_DISALLOW_COPY_AND_ASSIGN
(
D–‘eTh»adCheck”CÏssOnTh»ad
);

100 
	$TEST
(
Th»adCheck”Te¡
, 
C®lsAÎowedOnSameTh»ad
) {

101 
¡d
::
unique_±r
<
Th»adCheck”CÏss
> 
	`th»ad_check”_şass
(

102 
Ãw
 
Th»adCheck”CÏss
);

105 
th»ad_check”_şass
->
	`DoStuff
();

108 
th»ad_check”_şass
.
	`»£t
();

109 
	}
}

111 
	$TEST
(
Th»adCheck”Te¡
, 
De¡ruùÜAÎowedOnDifã»ÁTh»ad
) {

112 
¡d
::
unique_±r
<
Th»adCheck”CÏss
> 
	`th»ad_check”_şass
(

113 
Ãw
 
Th»adCheck”CÏss
);

117 
D–‘eTh»adCheck”CÏssOnTh»ad
 
	`d–‘e_Ú_th»ad
(

118 
¡d
::
	`move
(
th»ad_check”_şass
));

120 
	`EXPECT_FALSE
(
d–‘e_Ú_th»ad
.
	`has_b“n_d–‘ed
());

122 
d–‘e_Ú_th»ad
.
	`S¹
();

123 
d–‘e_Ú_th»ad
.
	`Još
();

125 
	`EXPECT_TRUE
(
d–‘e_Ú_th»ad
.
	`has_b“n_d–‘ed
());

126 
	}
}

128 
	$TEST
(
Th»adCheck”Te¡
, 
D‘ach
) {

129 
¡d
::
unique_±r
<
Th»adCheck”CÏss
> 
	`th»ad_check”_şass
(

130 
Ãw
 
Th»adCheck”CÏss
);

134 
th»ad_check”_şass
->
	`D‘ach
();

135 
C®lDoStuffOnTh»ad
 
	`ÿÎ_Ú_th»ad
(
th»ad_check”_şass
.
	`g‘
());

137 
ÿÎ_Ú_th»ad
.
	`S¹
();

138 
ÿÎ_Ú_th»ad
.
	`Još
();

139 
	}
}

141 #ià
GTEST_HAS_DEATH_TEST
 || !
ENABLE_THREAD_CHECKER


143 
	gTh»adCheck”CÏss
::
	$M‘hodOnDifã»ÁTh»adIm¶
() {

144 
¡d
::
unique_±r
<
Th»adCheck”CÏss
> 
	`th»ad_check”_şass
(

145 
Ãw
 
Th»adCheck”CÏss
);

149 
C®lDoStuffOnTh»ad
 
	`ÿÎ_Ú_th»ad
(
th»ad_check”_şass
.
	`g‘
());

151 
ÿÎ_Ú_th»ad
.
	`S¹
();

152 
ÿÎ_Ú_th»ad
.
	`Još
();

153 
	}
}

155 #ià
ENABLE_THREAD_CHECKER


156 
	$TEST
(
Th»adCheck”D—thTe¡
, 
M‘hodNÙAÎowedOnDifã»ÁTh»adInDebug
) {

157 
	`ASSERT_DEATH
({ 
Th»adCheck”CÏss
::
	`M‘hodOnDifã»ÁTh»adIm¶
(); }, "");

158 
	}
}

160 
	$TEST
(
Th»adCheck”Te¡
, 
M‘hodAÎowedOnDifã»ÁTh»adInR–—£
) {

161 
Th»adCheck”CÏss
::
	`M‘hodOnDifã»ÁTh»adIm¶
();

162 
	}
}

165 
	gTh»adCheck”CÏss
::
	$D‘achTh’C®lFromDifã»ÁTh»adIm¶
() {

166 
¡d
::
unique_±r
<
Th»adCheck”CÏss
> 
	`th»ad_check”_şass
(

167 
Ãw
 
Th»adCheck”CÏss
);

171 
th»ad_check”_şass
->
	`D‘ach
();

172 
C®lDoStuffOnTh»ad
 
	`ÿÎ_Ú_th»ad
(
th»ad_check”_şass
.
	`g‘
());

174 
ÿÎ_Ú_th»ad
.
	`S¹
();

175 
ÿÎ_Ú_th»ad
.
	`Još
();

179 
th»ad_check”_şass
->
	`DoStuff
();

180 
	}
}

182 #ià
ENABLE_THREAD_CHECKER


183 
	$TEST
(
Th»adCheck”D—thTe¡
, 
D‘achFromTh»adInDebug
) {

184 
	`ASSERT_DEATH
({ 
Th»adCheck”CÏss
::
	`D‘achTh’C®lFromDifã»ÁTh»adIm¶
(); },

186 
	}
}

188 
	$TEST
(
Th»adCheck”Te¡
, 
D‘achFromTh»adInR–—£
) {

189 
Th»adCheck”CÏss
::
	`D‘achTh’C®lFromDifã»ÁTh»adIm¶
();

190 
	}
}

195 şas 
	cTh»adAÂÙ©eTe¡
 {

196 
	gpublic
:

201 
‹m¶©e
 <
ty³Çme
 
T
>

202 
acûss_v¬_no_ªnÙ©e
() {

203 
v¬_th»ad_
 = 42;

206 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

207 
acûss_fun_no_ªnÙ©e
() {

208 
funùiÚ
();

212 
acûss_v¬_ªnÙ©e_th»ad
() {

213 
RTC_DCHECK_RUN_ON
(
th»ad_
);

214 
	gv¬_th»ad_
 = 42;

217 
acûss_v¬_ªnÙ©e_check”
() {

218 
RTC_DCHECK_RUN_ON
(&
check”_
);

219 
	gv¬_check”_
 = 44;

222 
acûss_v¬_ªnÙ©e_queue
() {

223 
RTC_DCHECK_RUN_ON
(
queue_
);

224 
	gv¬_queue_
 = 46;

227 
acûss_fun_ªnÙ©e
() {

228 
RTC_DCHECK_RUN_ON
(
th»ad_
);

229 
funùiÚ
();

232 
acûss_fun_ªd_v¬
() {

233 
RTC_DCHECK_RUN_ON
(
th»ad_
);

234 
fun_accûss_v¬
();

237 
	g´iv©e
:

238 
funùiÚ
(è
RTC_RUN_ON
(
th»ad_
) {}

239 
fun_accûss_v¬
(è
RTC_RUN_ON
(
th»ad_
è{ 
v¬_th»ad_
 = 13; }

241 
	g¹c
::
Th»ad
* 
th»ad_
;

242 
	g¹c
::
Th»adCheck”
 
check”_
;

243 
	g¹c
::
TaskQueue
* 
queue_
;

245 
v¬_th»ad_
 
RTC_GUARDED_BY
(
th»ad_
);

246 
v¬_check”_
 
RTC_GUARDED_BY
(
check”_
);

247 
v¬_queue_
 
RTC_GUARDED_BY
(
queue_
);

251 #undeà
ENABLE_THREAD_CHECKER


	@thread_message.h

10 #iâdeà
RTC_BASE_THREAD_MESSAGE_H_


11 
	#RTC_BASE_THREAD_MESSAGE_H_


	)

13 
	~<li¡
>

14 
	~<memÜy
>

15 
	~<ut™y
>

17 
	~"­i/scİed_»åŒ.h
"

18 
	~"¹c_ba£/loÿtiÚ.h
"

19 
	~"¹c_ba£/mes§ge_hªdËr.h
"

21 
Çme¥aû
 
	g¹c
 {

26 şas 
	cMes§geD©a
 {

27 
	gpublic
:

28 
Mes§geD©a
() {}

29 
vœtu®
 ~
Mes§geD©a
() {}

32 
	g‹m¶©e
 <
şass
 
	gT
>

33 şas 
	cTy³dMes§geD©a
 : 
public
 
Mes§geD©a
 {

34 
public
:

35 
ex¶ic™
 
Ty³dMes§geD©a
(cÚ¡ 
T
& 
d©a
è: 
d©a_
(data) {}

36 cÚ¡ 
T
& 
d©a
(ècÚ¡ {  
d©a_
; }

37 
	gT
& 
d©a
(è{  
	gd©a_
; }

39 
	g´iv©e
:

40 
T
 
d©a_
;

44 
	g‹m¶©e
 <
şass
 
	gT
>

45 şas 
	cScİedMes§geD©a
 : 
public
 
Mes§geD©a
 {

46 
public
:

47 
ex¶ic™
 
ScİedMes§geD©a
(
¡d
::
unique_±r
<
T
> 
d©a
)

48 : 
d©a_
(
¡d
::
move
(
d©a
)) {}

51 
ex¶ic™
 
ScİedMes§geD©a
(
T
* 
d©a
è: 
d©a_
(data) {}

56 cÚ¡ 
¡d
::
unique_±r
<
T
>& 
d©a
(ècÚ¡ {  
d©a_
; }

57 
	g¡d
::
unique_±r
<
T
>& 
d©a
(è{  
d©a_
; }

59 cÚ¡ 
	gT
& 
šÃr_d©a
(ècÚ¡ {  *
	gd©a_
; }

60 
	gT
& 
šÃr_d©a
(è{  *
	gd©a_
; }

62 
	g´iv©e
:

63 
¡d
::
unique_±r
<
T
> 
d©a_
;

67 
	g‹m¶©e
 <
şass
 
	gT
>

68 şas 
	cScİedRefMes§geD©a
 : 
public
 
Mes§geD©a
 {

69 
public
:

70 
ex¶ic™
 
ScİedRefMes§geD©a
(
T
* 
d©a
è: 
d©a_
(data) {}

71 cÚ¡ 
scİed_»åŒ
<
T
>& 
d©a
(ècÚ¡ {  
d©a_
; }

72 
	gscİed_»åŒ
<
	gT
>& 
d©a
(è{  
	gd©a_
; }

74 
	g´iv©e
:

75 
scİed_»åŒ
<
T
> 
d©a_
;

78 
	g‹m¶©e
 <
şass
 
	gT
>

79 
šlše
 
Mes§geD©a
* 
	$W¿pMes§geD©a
(cÚ¡ 
T
& 
d©a
) {

80  
Ãw
 
Ty³dMes§geD©a
<
T
>(
d©a
);

81 
	}
}

83 
	g‹m¶©e
 <
şass
 
	gT
>

84 
šlše
 cÚ¡ 
	gT
& 
	$U£Mes§geD©a
(
Mes§geD©a
* 
d©a
) {

85  
¡©ic_ÿ¡
<
Ty³dMes§geD©a
<
T
>*>(
d©a
)->
	`d©a
();

86 
	}
}

88 
	g‹m¶©e
 <
şass
 
	gT
>

89 şas 
	cDi¥o£D©a
 : 
public
 
Mes§geD©a
 {

90 
public
:

91 
ex¶ic™
 
Di¥o£D©a
(
T
* 
d©a
è: 
d©a_
(data) {}

92 
vœtu®
 ~
Di¥o£D©a
(è{ 
d–‘e
 
d©a_
; }

94 
	g´iv©e
:

95 
T
* 
d©a_
;

98 cÚ¡ 
ušt32_t
 
	gMQID_ANY
 = 
¡©ic_ÿ¡
<uint32_t>(-1);

99 cÚ¡ 
ušt32_t
 
	gMQID_DISPOSE
 = 
¡©ic_ÿ¡
<uint32_t>(-2);

103 
	sMes§ge
 {

104 
Mes§ge
(è: 
phªdËr
(
nuÎ±r
), 
mes§ge_id
(0), 
pd©a
(nullptr) {}

105 
šlše
 
boŞ
 
M©ch
(
Mes§geHªdËr
* 
hªdËr
, 
ušt32_t
 
id
) const {

106  (
	ghªdËr
 =ğ
nuÎ±r
 || 
hªdËr
 =ğ
phªdËr
) &&

107 (
id
 =ğ
MQID_ANY
 || id =ğ
mes§ge_id
);

109 
LoÿtiÚ
 
	gpo¡ed_äom
;

110 
Mes§geHªdËr
* 
	gphªdËr
;

111 
ušt32_t
 
	gmes§ge_id
;

112 
Mes§geD©a
* 
	gpd©a
;

115 
	g¡d
::
	tli¡
<
	tMes§ge
> 
	tMes§geLi¡
;

	@thread_unittest.cc

11 
	~"¹c_ba£/th»ad.h
"

13 
	~<memÜy
>

15 
	~"­i/sk_queue/sk_queue_çùÜy.h
"

16 
	~"­i/sk_queue/sk_queue_‹¡.h
"

17 
	~"¹c_ba£/async_švok”.h
"

18 
	~"¹c_ba£/async_udp_sock‘.h
"

19 
	~"¹c_ba£/©omic_İs.h
"

20 
	~"¹c_ba£/ev’t.h
"

21 
	~"¹c_ba£/gun™.h
"

22 
	~"¹c_ba£/nuÎ_sock‘_£rv”.h
"

23 
	~"¹c_ba£/physiÿl_sock‘_£rv”.h
"

24 
	~"¹c_ba£/sock‘_add»ss.h
"

25 
	~"¹c_ba£/sk_uts/to_queued_sk.h
"

26 
	~"¹c_ba£/thœd_·¹y/sig¦Ù/sig¦Ù.h
"

27 
	~"‹¡/‹¡suµÜt/¹c_ex³ù_d—th.h
"

29 #ià
defšed
(
WEBRTC_WIN
)

30 
	~<comdef.h
>

33 
Çme¥aû
 
	g¹c
 {

34 
	gÇme¥aû
 {

36 
	gusšg
 ::
web¹c
::
ToQueuedTask
;

39 şas 
	cTe¡G’”©Ü
 {

40 
	gpublic
:

41 
Te¡G’”©Ü
(è: 
Ï¡
(0), 
couÁ
(0) {}

43 
Next
(
´ev
) {

44 
	g»suÉ
 = 
´ev
 + 
Ï¡
;

45 
	gÏ¡
 = 
»suÉ
;

46 
	gcouÁ
 += 1;

47  
	g»suÉ
;

50 
	gÏ¡
;

51 
	gcouÁ
;

54 
	gTe¡Mes§ge
 : 
public
 
Mes§geD©a
 {

55 
ex¶ic™
 
Te¡Mes§ge
(
v
è: 
v®ue
(v) {}

57 
v®ue
;

61 
şass
 
	gSock‘Cl›Á
 : 
public
 
Te¡G’”©Ü
,…ubliø
	gsig¦Ù
::
has_¦Ùs
<> {

62 
public
:

63 
Sock‘Cl›Á
(
AsyncSock‘
* 
sock‘
,

64 cÚ¡ 
Sock‘Add»ss
& 
addr
,

65 
Th»ad
* 
po¡_th»ad
,

66 
Mes§geHªdËr
* 
phªdËr
)

67 : 
sock‘_
(
AsyncUDPSock‘
::
C»©e
(
sock‘
, 
addr
)),

68 
po¡_th»ad_
(
po¡_th»ad
),

69 
po¡_hªdËr_
(
phªdËr
) {

70 
	gsock‘_
->
	gSigÇlR—dPack‘
.
cÚÃù
(
this
, &
Sock‘Cl›Á
::
OnPack‘
);

73 ~
Sock‘Cl›Á
(è
	gov”ride
 { 
d–‘e
 
	gsock‘_
; }

75 
Sock‘Add»ss
 
add»ss
(ècÚ¡ {  
	gsock‘_
->
G‘LoÿlAdd»ss
(); }

77 
OnPack‘
(
AsyncPack‘Sock‘
* 
sock‘
,

78 cÚ¡ * 
buf
,

79 
size_t
 
size
,

80 cÚ¡ 
Sock‘Add»ss
& 
»mÙe_addr
,

81 cÚ¡ 
št64_t
& 
·ck‘_time_us
) {

82 
EXPECT_EQ
(
size
, (
ušt32_t
));

83 
ušt32_t
 
	g´ev
 = 
»š‹½»t_ÿ¡
<cÚ¡ ušt32_t*>(
buf
)[0];

84 
ušt32_t
 
	g»suÉ
 = 
Next
(
´ev
);

86 
	gpo¡_th»ad_
->
Po¡D–ayed
(
RTC_FROM_HERE
, 200, 
po¡_hªdËr_
, 0,

87 
Ãw
 
Te¡Mes§ge
(
»suÉ
));

90 
	g´iv©e
:

91 
AsyncUDPSock‘
* 
sock‘_
;

92 
Th»ad
* 
	gpo¡_th»ad_
;

93 
Mes§geHªdËr
* 
	gpo¡_hªdËr_
;

97 
şass
 
	gMes§geCl›Á
 : 
public
 
Mes§geHªdËr
,…ubliø
	gTe¡G’”©Ü
 {

98 
	gpublic
:

99 
Mes§geCl›Á
(
Th»ad
* 
±h
, 
Sock‘
* 
sock‘
è: 
sock‘_
(socket) {}

101 ~
Mes§geCl›Á
(è
ov”ride
 { 
d–‘e
 
sock‘_
; }

103 
OnMes§ge
(
Mes§ge
* 
pmsg
è
	gov”ride
 {

104 
Te¡Mes§ge
* 
	gmsg
 = 
¡©ic_ÿ¡
<Te¡Mes§ge*>(
pmsg
->
pd©a
);

105 
	g»suÉ
 = 
Next
(
msg
->
v®ue
);

106 
EXPECT_GE
(
sock‘_
->
S’d
(&
»suÉ
, (result)), 0);

107 
d–‘e
 
	gmsg
;

110 
	g´iv©e
:

111 
Sock‘
* 
sock‘_
;

114 şas 
	cCu¡omTh»ad
 : 
public
 
¹c
::
Th»ad
 {

115 
public
:

116 
Cu¡omTh»ad
()

117 : 
Th»ad
(
¡d
::
unique_±r
<
Sock‘S”v”
>(
Ãw
 
¹c
::
NuÎSock‘S”v”
())) {}

118 ~
Cu¡omTh»ad
(è
ov”ride
 { 
Stİ
(); }

119 
boŞ
 
S¹
(è{  
	gçl£
; }

121 
boŞ
 
W¿pCu¼’t
(è{  
	gTh»ad
::WrapCurrent(); }

122 
Unw¿pCu¼’t
(è{ 
	gTh»ad
::UnwrapCurrent(); }

127 şas 
	cSigÇlWh’De¡royedTh»ad
 : 
public
 
Th»ad
 {

128 
public
:

129 
SigÇlWh’De¡royedTh»ad
(
Ev’t
* 
ev’t
)

130 : 
Th»ad
(
¡d
::
unique_±r
<
Sock‘S”v”
>(
Ãw
 
NuÎSock‘S”v”
())),

131 
ev’t_
(
ev’t
) {}

133 ~
SigÇlWh’De¡royedTh»ad
(è
	gov”ride
 {

134 
Stİ
();

135 
	gev’t_
->
S‘
();

138 
Run
(è
	gov”ride
 {

142 
	g´iv©e
:

143 
Ev’t
* 
ev’t_
;

160 şas 
	cAtomicBoŞ
 {

161 
	gpublic
:

162 
ex¶ic™
 
AtomicBoŞ
(
boŞ
 
v®ue
 = 
çl£
è: 
æag_
(value) {}

163 
AtomicBoŞ
& 
İ”©Ü
=(
boŞ
 
v®ue
) {

164 
Cr™Scİe
 
scİed_lock
(&
cs_
);

165 
	gæag_
 = 
v®ue
;

166  *
	gthis
;

168 
boŞ
 
g‘
() const {

169 
Cr™Scİe
 
scİed_lock
(&
cs_
);

170  
	gæag_
;

173 
	g´iv©e
:

174 
Cr™iÿlSeùiÚ
 
cs_
;

175 
boŞ
 
	gæag_
;

179 
	sFunùÜA
 {

180 
İ”©Ü
()() {  42; }

182 şas 
	cFunùÜB
 {

183 
	gpublic
:

184 
ex¶ic™
 
FunùÜB
(
AtomicBoŞ
* 
æag
è: 
æag_
(flag) {}

185 
İ”©Ü
()() {

186 ià(
æag_
)

187 *
æag_
 = 
Œue
;

190 
	g´iv©e
:

191 
AtomicBoŞ
* 
æag_
;

193 
	sFunùÜC
 {

194 
İ”©Ü
()() {

195 
	gTh»ad
::
Cu¼’t
()->
ProûssMes§ges
(50);

199 
	sFunùÜD
 {

200 
	gpublic
:

201 
ex¶ic™
 
FunùÜD
(
AtomicBoŞ
* 
æag
è: 
æag_
(flag) {}

202 
FunùÜD
(FunctorD&&) = ;

203 
	gFunùÜD
& 
	gİ”©Ü
=(
FunùÜD
&&) = ;

204 
İ”©Ü
()() {

205 ià(
	gæag_
)

206 *
	gæag_
 = 
Œue
;

209 
	g´iv©e
:

210 
AtomicBoŞ
* 
æag_
;

211 
RTC_DISALLOW_COPY_AND_ASSIGN
(
FunùÜD
);

215 
TEST
(
Th»adTe¡
, 
DISABLED_Maš
) {

216 cÚ¡ 
Sock‘Add»ss
 
addr
("127.0.0.1", 0);

219 autØ
	gth1
 = 
Th»ad
::
C»©eW™hSock‘S”v”
();

220 
Sock‘
* 
	gsock‘
 =

221 
th1
->
sock‘£rv”
()->
C»©eAsyncSock‘
(
addr
.
çmy
(), 
SOCK_DGRAM
);

222 
Mes§geCl›Á
 
msg_ş›Á
(
th1
.
g‘
(), 
sock‘
);

225 autØ
	gth2
 = 
Th»ad
::
C»©eW™hSock‘S”v”
();

226 
AsyncSock‘
* 
	gasock‘
 =

227 
th2
->
sock‘£rv”
()->
C»©eAsyncSock‘
(
addr
.
çmy
(), 
SOCK_DGRAM
);

228 
Sock‘Cl›Á
 
sock_ş›Á
(
asock‘
, 
addr
, 
th1
.
g‘
(), &
msg_ş›Á
);

230 
	gsock‘
->
CÚÃù
(
sock_ş›Á
.
add»ss
());

232 
	gth1
->
S¹
();

233 
	gth2
->
S¹
();

236 
	gth1
->
Po¡D–ayed
(
RTC_FROM_HERE
, 100, &
msg_ş›Á
, 0, 
Ãw
 
Te¡Mes§ge
(1));

240 
Th»ad
* 
	gth_maš
 = Th»ad::
Cu¼’t
();

241 
	gth_maš
->
ProûssMes§ges
(1000);

245 
	gth1
->
Stİ
();

246 
	gth_maš
->
ProûssMes§ges
(200);

247 
	gth2
->
Stİ
();

250 
EXPECT_EQ
(5, 
msg_ş›Á
.
couÁ
);

251 
EXPECT_EQ
(34, 
msg_ş›Á
.
Ï¡
);

252 
EXPECT_EQ
(5, 
sock_ş›Á
.
couÁ
);

253 
EXPECT_EQ
(55, 
sock_ş›Á
.
Ï¡
);

258 
TEST
(
Th»adTe¡
, 
Names
) {

260 autØ
	gth»ad
 = 
Th»ad
::
C»©eW™hSock‘S”v”
();

261 
EXPECT_TRUE
(
th»ad
->
S¹
());

262 
	gth»ad
->
Stİ
();

264 
	gth»ad
 = 
Th»ad
::
C»©eW™hSock‘S”v”
();

265 
EXPECT_TRUE
(
th»ad
->
S‘Name
("NØobjeù", 
nuÎ±r
));

266 
EXPECT_TRUE
(
th»ad
->
S¹
());

267 
	gth»ad
->
Stİ
();

269 
	gth»ad
 = 
Th»ad
::
C»©eW™hSock‘S”v”
();

270 
EXPECT_TRUE
(
th»ad
->
S‘Name
("Abcdefghijklmnİqr¡uvwxyz1234567890", 
this
));

271 
EXPECT_TRUE
(
th»ad
->
S¹
());

272 
	gth»ad
->
Stİ
();

275 
TEST
(
Th»adTe¡
, 
W¿p
) {

276 
Th»ad
* 
	gcu¼’t_th»ad
 = Th»ad::
Cu¼’t
();

277 
	gTh»adMªag”
::
In¡ªû
()->
S‘Cu¼’tTh»ad
(
nuÎ±r
);

280 
Cu¡omTh»ad
 
	gùh»ad
;

281 
EXPECT_TRUE
(
ùh»ad
.
W¿pCu¼’t
());

282 
EXPECT_EQ
(&
ùh»ad
, 
Th»ad
::
Cu¼’t
());

283 
EXPECT_TRUE
(
ùh»ad
.
RuÂšgFÜTe¡
());

284 
EXPECT_FALSE
(
ùh»ad
.
IsOwÃd
());

285 
	gùh»ad
.
Unw¿pCu¼’t
();

286 
EXPECT_FALSE
(
ùh»ad
.
RuÂšgFÜTe¡
());

288 
	gTh»adMªag”
::
In¡ªû
()->
S‘Cu¼’tTh»ad
(
cu¼’t_th»ad
);

291 
TEST
(
Th»adTe¡
, 
Invoke
) {

293 autØ
	gth»ad
 = 
Th»ad
::
C»©eW™hSock‘S”v”
();

294 
	gth»ad
->
S¹
();

296 
EXPECT_EQ
(42, 
th»ad
->
Invoke
<>(
RTC_FROM_HERE
, 
FunùÜA
()));

297 
AtomicBoŞ
 
	gÿÎed
;

298 
FunùÜB
 
f2
(&
ÿÎed
);

299 
	gth»ad
->
	gInvoke
<>(
	gRTC_FROM_HERE
, 
	gf2
);

300 
EXPECT_TRUE
(
ÿÎed
.
g‘
());

302 
	sLoÿlFuncs
 {

303 
Func1
() {  999; }

304 
Func2
() {}

306 
EXPECT_EQ
(999, 
th»ad
->
Invoke
<>(
RTC_FROM_HERE
, &
LoÿlFuncs
::
Func1
));

307 
	gth»ad
->
	gInvoke
<>(
	gRTC_FROM_HERE
, &
	gLoÿlFuncs
::
Func2
);

312 #ià
RTC_DCHECK_IS_ON
 && 
GTEST_HAS_DEATH_TEST
 && !
defšed
(
WEBRTC_ANDROID
)

313 
TEST
(
Th»adTe¡
, 
TwoTh»adsInvokeD—thTe¡
) {

314 ::
‹¡šg
::
GTEST_FLAG
(
d—th_‹¡_¡yË
) = "threadsafe";

315 
AutoTh»ad
 
	gth»ad
;

316 
Th»ad
* 
	gmaš_th»ad
 = Th»ad::
Cu¼’t
();

317 autØ
	gÙh”_th»ad
 = 
Th»ad
::
C»©eW™hSock‘S”v”
();

318 
	gÙh”_th»ad
->
S¹
();

319 
	gÙh”_th»ad
->
	gInvoke
<>(
	gRTC_FROM_HERE
, [
maš_th»ad
] {

320 
RTC_EXPECT_DEATH
(
maš_th»ad
->
Invoke
<>(
RTC_FROM_HERE
, [] {}), "loop");

324 
TEST
(
Th»adTe¡
, 
Th»eTh»adsInvokeD—thTe¡
) {

325 ::
‹¡šg
::
GTEST_FLAG
(
d—th_‹¡_¡yË
) = "threadsafe";

326 
AutoTh»ad
 
	gth»ad
;

327 
Th»ad
* 
	gfœ¡
 = Th»ad::
Cu¼’t
();

329 autØ
	g£cÚd
 = 
Th»ad
::
C»©e
();

330 
	g£cÚd
->
S¹
();

331 autØ
	gthœd
 = 
Th»ad
::
C»©e
();

332 
	gthœd
->
S¹
();

334 
	g£cÚd
->
	gInvoke
<>(
	gRTC_FROM_HERE
, [&] {

335 
	gthœd
->
	gInvoke
<>(
	gRTC_FROM_HERE
, [&] {

336 
RTC_EXPECT_DEATH
(
fœ¡
->
Invoke
<>(
RTC_FROM_HERE
, [] {}), "loop");

346 
TEST
(
Th»adTe¡
, 
Th»eTh»adsInvoke
) {

347 
AutoTh»ad
 
	gth»ad
;

348 
Th»ad
* 
	gth»ad_a
 = Th»ad::
Cu¼’t
();

349 autØ
	gth»ad_b
 = 
Th»ad
::
C»©eW™hSock‘S”v”
();

350 autØ
	gth»ad_c
 = 
Th»ad
::
C»©eW™hSock‘S”v”
();

351 
	gth»ad_b
->
S¹
();

352 
	gth»ad_c
->
S¹
();

354 şas 
	cLockedBoŞ
 {

355 
	gpublic
:

356 
ex¶ic™
 
LockedBoŞ
(
boŞ
 
v®ue
è: 
v®ue_
(value) {}

358 
S‘
(
boŞ
 
v®ue
) {

359 
Cr™Scİe
 
lock
(&
ü™_
);

360 
	gv®ue_
 = 
v®ue
;

363 
boŞ
 
G‘
() {

364 
Cr™Scİe
 
lock
(&
ü™_
);

365  
	gv®ue_
;

368 
	g´iv©e
:

369 
Cr™iÿlSeùiÚ
 
ü™_
;

370 
boŞ
 
v®ue_
 
RTC_GUARDED_BY
(
ü™_
);

373 
	sLoÿlFuncs
 {

374 
S‘
(
LockedBoŞ
* 
out
è{ 
	gout
->S‘(
Œue
); }

375 
InvokeS‘
(
Th»ad
* 
th»ad
, 
LockedBoŞ
* 
out
) {

376 
	gth»ad
->
	gInvoke
<>(
	gRTC_FROM_HERE
, 
Bšd
(&
S‘
, 
out
));

380 
S‘AndInvokeS‘
(
LockedBoŞ
* 
out
,

381 
Th»ad
* 
th»ad
,

382 
LockedBoŞ
* 
out_šÃr
) {

383 
	gout
->
S‘
(
Œue
);

384 
InvokeS‘
(
th»ad
, 
out_šÃr
);

389 
AsyncInvokeS‘AndWa™
(
AsyncInvok”
* 
švok”
,

390 
Th»ad
* 
th»ad1
,

391 
Th»ad
* 
th»ad2
,

392 
LockedBoŞ
* 
out
) {

393 
Cr™iÿlSeùiÚ
 
	gü™
;

394 
LockedBoŞ
 
async_švoked
(
çl£
);

396 
	gšvok”
->
	gAsyncInvoke
<>(

397 
	gRTC_FROM_HERE
, 
	gth»ad1
,

398 
Bšd
(&
S‘AndInvokeS‘
, &
async_švoked
, 
th»ad2
, 
out
));

400 
EXPECT_TRUE_WAIT
(
async_švoked
.
G‘
(), 2000);

404 
AsyncInvok”
 
	gšvok”
;

405 
LockedBoŞ
 
th»ad_a_ÿÎed
(
çl£
);

410 
	gth»ad_b
->
	gInvoke
<>(
	gRTC_FROM_HERE
,

411 
Bšd
(&
LoÿlFuncs
::
AsyncInvokeS‘AndWa™
, &
švok”
,

412 
th»ad_c
.
g‘
(), 
th»ad_a
, &
th»ad_a_ÿÎed
));

413 
EXPECT_FALSE
(
th»ad_a_ÿÎed
.
G‘
());

415 
EXPECT_TRUE_WAIT
(
th»ad_a_ÿÎed
.
G‘
(), 2000);

421 
şass
 
	gS‘NameOnSigÇlQueueDe¡royedTe¡”
 : 
public
 
sig¦Ù
::
has_¦Ùs
<> {

422 
public
:

423 
S‘NameOnSigÇlQueueDe¡royedTe¡”
(
Th»ad
* 
th»ad
è: 
th»ad_
(thread) {

424 
th»ad
->
SigÇlQueueDe¡royed
.
cÚÃù
(

425 
this
, &
S‘NameOnSigÇlQueueDe¡royedTe¡”
::
OnQueueDe¡royed
);

428 
OnQueueDe¡royed
() {

431 
	gth»ad_
->
S‘Name
("foo", 
nuÎ±r
);

434 
	g´iv©e
:

435 
Th»ad
* 
th»ad_
;

438 
TEST
(
Th»adTe¡
, 
S‘NameOnSigÇlQueueDe¡royed
) {

439 autØ
	gth»ad1
 = 
Th»ad
::
C»©eW™hSock‘S”v”
();

440 
S‘NameOnSigÇlQueueDe¡royedTe¡”
 
‹¡”1
(
th»ad1
.
g‘
());

441 
	gth»ad1
.
»£t
();

443 
Th»ad
* 
	gth»ad2
 = 
Ãw
 
AutoTh»ad
();

444 
S‘NameOnSigÇlQueueDe¡royedTe¡”
 
‹¡”2
(
th»ad2
);

445 
d–‘e
 
	gth»ad2
;

448 
şass
 
	gTh»adQueueTe¡
 : 
public
 ::
‹¡šg
::
Te¡
,…ubliø
	gTh»ad
 {

449 
	gpublic
:

450 
Th»adQueueTe¡
(è: 
Th»ad
(
Sock‘S”v”
::
C»©eDeçuÉ
(), 
Œue
) {}

451 
boŞ
 
IsLocked_WÜk”
() {

452 ià(!
Cr™FÜTe¡
()->
TryEÁ”
()) {

453  
	gŒue
;

455 
Cr™FÜTe¡
()->
L—ve
();

456  
	gçl£
;

458 
boŞ
 
IsLocked
() {

461 
	g¡d
::
unique_±r
<
Th»ad
> 
wÜk”
(Th»ad::
C»©eW™hSock‘S”v”
());

462 
	gwÜk”
->
S¹
();

463  
	gwÜk”
->
	gInvoke
<
	gboŞ
>(

464 
	gRTC_FROM_HERE
, 
	g¹c
::
Bšd
(&
Th»adQueueTe¡
::
IsLocked_WÜk”
, 
this
));

468 
	sD–‘edLockCheck”
 {

469 
D–‘edLockCheck”
(
Th»adQueueTe¡
* 
‹¡
, 
boŞ
* 
was_locked
, boŞ* 
d–‘ed
)

470 : 
‹¡
Ñe¡), 
was_locked
(was_locked), 
d–‘ed
(deleted) {}

471 ~
D–‘edLockCheck”
() {

472 *
	gd–‘ed
 = 
Œue
;

473 *
	gwas_locked
 = 
‹¡
->
IsLocked
();

475 
Th»adQueueTe¡
* 
	g‹¡
;

476 
boŞ
* 
	gwas_locked
;

477 
boŞ
* 
	gd–‘ed
;

480 
D–ayedPo¡sW™hId’tiÿlTimesA»Proûs£dInFifoOrd”
(
Th»ad
* 
q
) {

481 
EXPECT_TRUE
(
q
 !ğ
nuÎ±r
);

482 
št64_t
 
	gnow
 = 
TimeMlis
();

483 
	gq
->
Po¡At
(
RTC_FROM_HERE
, 
now
, 
nuÎ±r
, 3);

484 
	gq
->
Po¡At
(
RTC_FROM_HERE
, 
now
 - 2, 
nuÎ±r
, 0);

485 
	gq
->
Po¡At
(
RTC_FROM_HERE
, 
now
 - 1, 
nuÎ±r
, 1);

486 
	gq
->
Po¡At
(
RTC_FROM_HERE
, 
now
, 
nuÎ±r
, 4);

487 
	gq
->
Po¡At
(
RTC_FROM_HERE
, 
now
 - 1, 
nuÎ±r
, 2);

489 
Mes§ge
 
	gmsg
;

490 
size_t
 
	gi
 = 0; i < 5; ++i) {

491 
mem£t
(&
msg
, 0, (msg));

492 
EXPECT_TRUE
(
q
->
G‘
(&
msg
, 0));

493 
EXPECT_EQ
(
i
, 
msg
.
mes§ge_id
);

496 
EXPECT_FALSE
(
q
->
G‘
(&
msg
, 0));

499 
TEST_F
(
Th»adQueueTe¡
, 
D–ayedPo¡sW™hId’tiÿlTimesA»Proûs£dInFifoOrd”
) {

500 
Th»ad
 
q
(
Sock‘S”v”
::
C»©eDeçuÉ
(), 
Œue
);

501 
D–ayedPo¡sW™hId’tiÿlTimesA»Proûs£dInFifoOrd”
(&
q
);

503 
NuÎSock‘S”v”
 
	gnuÎss
;

504 
Th»ad
 
q_nuÎss
(&
nuÎss
, 
Œue
);

505 
D–ayedPo¡sW™hId’tiÿlTimesA»Proûs£dInFifoOrd”
(&
q_nuÎss
);

508 
TEST_F
(
Th»adQueueTe¡
, 
Di¥o£NÙLocked
) {

509 
boŞ
 
	gwas_locked
 = 
Œue
;

510 
boŞ
 
	gd–‘ed
 = 
çl£
;

511 
D–‘edLockCheck”
* 
	gd
 = 
Ãw
 D–‘edLockCheck”(
this
, &
was_locked
, &
d–‘ed
);

512 
Di¥o£
(
d
);

513 
Mes§ge
 
	gmsg
;

514 
EXPECT_FALSE
(
G‘
(&
msg
, 0));

515 
EXPECT_TRUE
(
d–‘ed
);

516 
EXPECT_FALSE
(
was_locked
);

519 şas 
	cD–‘edMes§geHªdËr
 : 
public
 
Mes§geHªdËr
 {

520 
public
:

521 
ex¶ic™
 
D–‘edMes§geHªdËr
(
boŞ
* 
d–‘ed
è: 
d–‘ed_
(deleted) {}

522 ~
D–‘edMes§geHªdËr
(è
ov”ride
 { *
d–‘ed_
 = 
Œue
; }

523 
OnMes§ge
(
Mes§ge
* 
msg
è
	gov”ride
 {}

525 
	g´iv©e
:

526 
boŞ
* 
d–‘ed_
;

529 
TEST_F
(
Th»adQueueTe¡
, 
Do£HªdËrW™hPo¡edMes§geP’dšg
) {

530 
boŞ
 
	gd–‘ed
 = 
çl£
;

531 
D–‘edMes§geHªdËr
* 
	ghªdËr
 = 
Ãw
 D–‘edMes§geHªdËr(&
d–‘ed
);

533 
Di¥o£
(
hªdËr
);

535 
Po¡
(
RTC_FROM_HERE
, 
hªdËr
, 1);

536 
Mes§ge
 
	gmsg
;

537 
EXPECT_FALSE
(
G‘
(&
msg
, 0));

538 
EXPECT_TRUE
(
d–‘ed
);

544 
TEST
(
Th»adMªag”
, 
ProûssAÎMes§geQueues
) {

545 
Ev’t
 
’‹»d_´oûss_®l_mes§ge_queues
(
Œue
, 
çl£
);

546 autØ
	ga
 = 
Th»ad
::
C»©eW™hSock‘S”v”
();

547 autØ
	gb
 = 
Th»ad
::
C»©eW™hSock‘S”v”
();

548 
	ga
->
S¹
();

549 
	gb
->
S¹
();

551 vŞ©
	gmes§ges_´oûs£d
 = 0;

552 autØ
	gšüem’‹r
 = [&
mes§ges_´oûs£d
,

553 &
’‹»d_´oûss_®l_mes§ge_queues
] {

558 
	g’‹»d_´oûss_®l_mes§ge_queues
.
Wa™
(
Ev’t
::
kFÜev”
);

559 
	gAtomicOps
::
Inüem’t
(&
mes§ges_´oûs£d
);

561 autØ
	gev’t_sigÇËr
 = [&
’‹»d_´oûss_®l_mes§ge_queues
] {

562 
’‹»d_´oûss_®l_mes§ge_queues
.
S‘
();

566 
	ga
->
Po¡Task
(
ToQueuedTask
(
šüem’‹r
));

567 
	gb
->
Po¡Task
(
ToQueuedTask
(
šüem’‹r
));

568 
	ga
->
Po¡D–ayedTask
(
ToQueuedTask
(
šüem’‹r
), 0);

569 
	gb
->
Po¡D–ayedTask
(
ToQueuedTask
(
šüem’‹r
), 0);

570 
	g¹c
::
Th»ad
::
Cu¼’t
()->
Po¡Task
(
ToQueuedTask
(
ev’t_sigÇËr
));

572 
	gTh»adMªag”
::
ProûssAÎMes§geQueuesFÜTe¡šg
();

573 
EXPECT_EQ
(4, 
AtomicOps
::
AcquœeLßd
(&
mes§ges_´oûs£d
));

577 
TEST
(
Th»adMªag”
, 
ProûssAÎMes§geQueuesW™hQu™tšgTh»ad
) {

578 autØ
	gt
 = 
Th»ad
::
C»©eW™hSock‘S”v”
();

579 
	gt
->
S¹
();

580 
	gt
->
Qu™
();

581 
	gTh»adMªag”
::
ProûssAÎMes§geQueuesFÜTe¡šg
();

586 
TEST
(
Th»adMªag”
, 
ProûssAÎMes§geQueuesW™hCË¬edQueue
) {

587 
Ev’t
 
’‹»d_´oûss_®l_mes§ge_queues
(
Œue
, 
çl£
);

588 autØ
	gt
 = 
Th»ad
::
C»©eW™hSock‘S”v”
();

589 
	gt
->
S¹
();

591 autØ
	gş—»r
 = [&
’‹»d_´oûss_®l_mes§ge_queues
] {

596 
’‹»d_´oûss_®l_mes§ge_queues
.
Wa™
(
Ev’t
::
kFÜev”
);

597 
	g¹c
::
Th»ad
::
Cu¼’t
()->
CË¬
(
nuÎ±r
);

599 autØ
	gev’t_sigÇËr
 = [&
’‹»d_´oûss_®l_mes§ge_queues
] {

600 
’‹»d_´oûss_®l_mes§ge_queues
.
S‘
();

604 
	gt
->
Po¡Task
(
RTC_FROM_HERE
, 
ş—»r
);

605 
	g¹c
::
Th»ad
::
Cu¼’t
()->
Po¡Task
(
RTC_FROM_HERE
, 
ev’t_sigÇËr
);

606 
	gTh»adMªag”
::
ProûssAÎMes§geQueuesFÜTe¡šg
();

609 
şass
 
	gRefCouÁedHªdËr
 : 
public
 
Mes§geHªdËr
,…ubliø
	g¹c
::
RefCouÁIÁ”çû
 {

610 
public
:

611 
OnMes§ge
(
Mes§ge
* 
msg
è
ov”ride
 {}

614 şas 
	cEm±yHªdËr
 : 
public
 
Mes§geHªdËr
 {

615 
public
:

616 
OnMes§ge
(
Mes§ge
* 
msg
è
ov”ride
 {}

619 
TEST
(
Th»adMªag”
, 
CË¬R“Á¿Á
) {

620 
	g¡d
::
unique_±r
<
Th»ad
> 
t
(Th»ad::
C»©e
());

621 
Em±yHªdËr
 
	ghªdËr
;

622 
RefCouÁedHªdËr
* 
šÃr_hªdËr
(

623 
Ãw
 
¹c
::
RefCouÁedObjeù
<
RefCouÁedHªdËr
>());

631 
	gt
->
Po¡
(
RTC_FROM_HERE
, 
šÃr_hªdËr
, 0);

632 
	gt
->
Po¡
(
RTC_FROM_HERE
, &
hªdËr
, 0,

633 
Ãw
 
ScİedRefMes§geD©a
<
RefCouÁedHªdËr
>(
šÃr_hªdËr
));

636 şas 
	cAsyncInvokeTe¡
 : 
public
 ::
‹¡šg
::
Te¡
 {

637 
public
:

638 
IÁC®lback
(
v®ue
) {

639 
EXPECT_EQ
(
ex³ùed_th»ad_
, 
Th»ad
::
Cu¼’t
());

640 
	gšt_v®ue_
 = 
v®ue
;

642 
S‘Ex³ùedTh»adFÜIÁC®lback
(
Th»ad
* 
th»ad
) {

643 
	gex³ùed_th»ad_
 = 
th»ad
;

646 
	g´Ùeùed
:

647 ’um { 
kWa™Timeout
 = 1000 };

648 
AsyncInvokeTe¡
(è: 
št_v®ue_
(0), 
ex³ùed_th»ad_
(
nuÎ±r
) {}

650 
	gšt_v®ue_
;

651 
Th»ad
* 
	gex³ùed_th»ad_
;

654 
TEST_F
(
AsyncInvokeTe¡
, 
FœeAndFÜg‘
) {

655 
AsyncInvok”
 
	gšvok”
;

657 autØ
	gth»ad
 = 
Th»ad
::
C»©eW™hSock‘S”v”
();

658 
	gth»ad
->
S¹
();

660 
AtomicBoŞ
 
	gÿÎed
;

661 
	gšvok”
.
	gAsyncInvoke
<>(
	gRTC_FROM_HERE
, 
	gth»ad
.
g‘
(), 
FunùÜB
(&
ÿÎed
));

662 
EXPECT_TRUE_WAIT
(
ÿÎed
.
g‘
(), 
kWa™Timeout
);

663 
	gth»ad
->
Stİ
();

666 
TEST_F
(
AsyncInvokeTe¡
, 
NÚCİyabËFunùÜ
) {

667 
AsyncInvok”
 
	gšvok”
;

669 autØ
	gth»ad
 = 
Th»ad
::
C»©eW™hSock‘S”v”
();

670 
	gth»ad
->
S¹
();

672 
AtomicBoŞ
 
	gÿÎed
;

673 
	gšvok”
.
	gAsyncInvoke
<>(
	gRTC_FROM_HERE
, 
	gth»ad
.
g‘
(), 
FunùÜD
(&
ÿÎed
));

674 
EXPECT_TRUE_WAIT
(
ÿÎed
.
g‘
(), 
kWa™Timeout
);

675 
	gth»ad
->
Stİ
();

678 
TEST_F
(
AsyncInvokeTe¡
, 
KlInvok”DuršgExecu‹
) {

682 
Ev’t
 
	gfunùÜ_¡¬‹d
;

683 
Ev’t
 
	gfunùÜ_cÚtšue
;

684 
Ev’t
 
	gfunùÜ_fšished
;

686 autØ
	gth»ad
 = 
Th»ad
::
C»©eW™hSock‘S”v”
();

687 
	gth»ad
->
S¹
();

688 vŞ©
boŞ
 
	gšvok”_de¡royed
 = 
çl£
;

690 autØ
	gfunùÜ
 = [&
funùÜ_¡¬‹d
, &
funùÜ_cÚtšue
, &
funùÜ_fšished
,

691 &
švok”_de¡royed
] {

692 
	gfunùÜ_¡¬‹d
.
S‘
();

693 
	gfunùÜ_cÚtšue
.
Wa™
(
Ev’t
::
kFÜev”
);

694 
	g¹c
::
Th»ad
::
Cu¼’t
()->
SË•Ms
(
kWa™Timeout
);

695 
EXPECT_FALSE
(
švok”_de¡royed
);

696 
	gfunùÜ_fšished
.
S‘
();

698 
AsyncInvok”
 
	gšvok”
;

699 
	gšvok”
.
	gAsyncInvoke
<>(
	gRTC_FROM_HERE
, 
	gth»ad
.
g‘
(), 
	gfunùÜ
);

700 
	gfunùÜ_¡¬‹d
.
Wa™
(
Ev’t
::
kFÜev”
);

704 
	gfunùÜ_cÚtšue
.
S‘
();

710 
	gšvok”_de¡royed
 = 
Œue
;

711 
	gfunùÜ_fšished
.
Wa™
(
Ev’t
::
kFÜev”
);

718 
TEST_F
(
AsyncInvokeTe¡
, 
KlInvok”DuršgExecu‹W™hR“Á¿ÁInvoke
) {

719 
Ev’t
 
	gfunùÜ_¡¬‹d
;

721 
boŞ
 
	g»’Œªt_funùÜ_run
 = 
çl£
;

723 
Th»ad
* 
	gmaš
 = Th»ad::
Cu¼’t
();

724 
Th»ad
 
th»ad
(
¡d
::
make_unique
<
NuÎSock‘S”v”
>());

725 
	gth»ad
.
S¹
();

727 
AsyncInvok”
 
	gšvok”
;

728 autØ
	g»’Œªt_funùÜ
 = [&
»’Œªt_funùÜ_run
] {

729 
»’Œªt_funùÜ_run
 = 
Œue
;

731 autØ
	gfunùÜ
 = [&
funùÜ_¡¬‹d
, &
švok”
, 
maš
, 
»’Œªt_funùÜ
] {

732 
	gfunùÜ_¡¬‹d
.
S‘
();

733 
	gTh»ad
::
Cu¼’t
()->
SË•Ms
(
kWa™Timeout
);

734 
	gšvok”
.
	gAsyncInvoke
<>(
	gRTC_FROM_HERE
, 
	gmaš
, 
	g»’Œªt_funùÜ
);

739 
	gšvok”
.
	gAsyncInvoke
<>(
	gRTC_FROM_HERE
, &
	gth»ad
, 
	gfunùÜ
);

740 
	gfunùÜ_¡¬‹d
.
Wa™
(
Ev’t
::
kFÜev”
);

742 
EXPECT_FALSE
(
»’Œªt_funùÜ_run
);

745 
TEST_F
(
AsyncInvokeTe¡
, 
Flush
) {

746 
AsyncInvok”
 
	gšvok”
;

747 
AtomicBoŞ
 
	gæag1
;

748 
AtomicBoŞ
 
	gæag2
;

750 
	gšvok”
.
	gAsyncInvoke
<>(
	gRTC_FROM_HERE
, 
	gTh»ad
::
Cu¼’t
(), 
FunùÜB
(&
æag1
));

751 
	gšvok”
.
	gAsyncInvoke
<>(
	gRTC_FROM_HERE
, 
	gTh»ad
::
Cu¼’t
(), 
FunùÜB
(&
æag2
));

753 
EXPECT_FALSE
(
æag1
.
g‘
());

754 
EXPECT_FALSE
(
æag2
.
g‘
());

756 
	gšvok”
.
Flush
(
Th»ad
::
Cu¼’t
());

757 
EXPECT_TRUE
(
æag1
.
g‘
());

758 
EXPECT_TRUE
(
æag2
.
g‘
());

761 
TEST_F
(
AsyncInvokeTe¡
, 
FlushW™hIds
) {

762 
AsyncInvok”
 
	gšvok”
;

763 
AtomicBoŞ
 
	gæag1
;

764 
AtomicBoŞ
 
	gæag2
;

766 
	gšvok”
.
	gAsyncInvoke
<>(
	gRTC_FROM_HERE
, 
	gTh»ad
::
Cu¼’t
(), 
FunùÜB
(&
æag1
),

768 
	gšvok”
.
	gAsyncInvoke
<>(
	gRTC_FROM_HERE
, 
	gTh»ad
::
Cu¼’t
(), 
FunùÜB
(&
æag2
));

770 
EXPECT_FALSE
(
æag1
.
g‘
());

771 
EXPECT_FALSE
(
æag2
.
g‘
());

773 
	gšvok”
.
Flush
(
Th»ad
::
Cu¼’t
(), 5);

774 
EXPECT_TRUE
(
æag1
.
g‘
());

775 
EXPECT_FALSE
(
æag2
.
g‘
());

776 
	gæag1
 = 
çl£
;

778 
	gšvok”
.
Flush
(
Th»ad
::
Cu¼’t
());

779 
EXPECT_FALSE
(
æag1
.
g‘
());

780 
EXPECT_TRUE
(
æag2
.
g‘
());

783 şas 
	cGu¬dedAsyncInvokeTe¡
 : 
public
 ::
‹¡šg
::
Te¡
 {

784 
public
:

785 
IÁC®lback
(
v®ue
) {

786 
EXPECT_EQ
(
ex³ùed_th»ad_
, 
Th»ad
::
Cu¼’t
());

787 
	gšt_v®ue_
 = 
v®ue
;

789 
S‘Ex³ùedTh»adFÜIÁC®lback
(
Th»ad
* 
th»ad
) {

790 
	gex³ùed_th»ad_
 = 
th»ad
;

793 
	g´Ùeùed
:

794 
cÚ¡ex´
 
kWa™Timeout
 = 1000;

795 
Gu¬dedAsyncInvokeTe¡
(è: 
št_v®ue_
(0), 
ex³ùed_th»ad_
(
nuÎ±r
) {}

797 
	gšt_v®ue_
;

798 
Th»ad
* 
	gex³ùed_th»ad_
;

802 
	sC»©eInvok”
 {

803 
C»©eInvok”
(
¡d
::
unique_±r
<
Gu¬dedAsyncInvok”
>* 
švok”
)

804 : 
švok”_
(
švok”
) {}

805 
İ”©Ü
()(è{ 
švok”_
->
»£t
(
Ãw
 
Gu¬dedAsyncInvok”
()); }

806 
	g¡d
::
unique_±r
<
Gu¬dedAsyncInvok”
>* 
švok”_
;

810 
TEST_F
(
Gu¬dedAsyncInvokeTe¡
, 
KlTh»adFœeAndFÜg‘
) {

812 
	g¡d
::
unique_±r
<
Th»ad
> 
th»ad
(Th»ad::
C»©e
());

813 
	gth»ad
->
S¹
();

814 
	g¡d
::
unique_±r
<
Gu¬dedAsyncInvok”
> 
švok”
;

816 
	gth»ad
->
	gInvoke
<>(
	gRTC_FROM_HERE
, 
C»©eInvok”
(&
švok”
));

818 
	gth»ad
 = 
nuÎ±r
;

820 
AtomicBoŞ
 
	gÿÎed
;

821 
EXPECT_FALSE
(
švok”
->
AsyncInvoke
<>(
RTC_FROM_HERE
, 
FunùÜB
(&
ÿÎed
)));

823 
WAIT
(
ÿÎed
.
g‘
(), 
kWa™Timeout
);

824 
EXPECT_FALSE
(
ÿÎed
.
g‘
());

829 
TEST_F
(
Gu¬dedAsyncInvokeTe¡
, 
FœeAndFÜg‘
) {

830 
Gu¬dedAsyncInvok”
 
	gšvok”
;

832 
AtomicBoŞ
 
	gÿÎed
;

833 
EXPECT_TRUE
(
švok”
.
AsyncInvoke
<>(
RTC_FROM_HERE
, 
FunùÜB
(&
ÿÎed
)));

834 
EXPECT_TRUE_WAIT
(
ÿÎed
.
g‘
(), 
kWa™Timeout
);

837 
TEST_F
(
Gu¬dedAsyncInvokeTe¡
, 
NÚCİyabËFunùÜ
) {

838 
Gu¬dedAsyncInvok”
 
	gšvok”
;

840 
AtomicBoŞ
 
	gÿÎed
;

841 
EXPECT_TRUE
(
švok”
.
AsyncInvoke
<>(
RTC_FROM_HERE
, 
FunùÜD
(&
ÿÎed
)));

842 
EXPECT_TRUE_WAIT
(
ÿÎed
.
g‘
(), 
kWa™Timeout
);

845 
TEST_F
(
Gu¬dedAsyncInvokeTe¡
, 
Flush
) {

846 
Gu¬dedAsyncInvok”
 
	gšvok”
;

847 
AtomicBoŞ
 
	gæag1
;

848 
AtomicBoŞ
 
	gæag2
;

850 
EXPECT_TRUE
(
švok”
.
AsyncInvoke
<>(
RTC_FROM_HERE
, 
FunùÜB
(&
æag1
)));

851 
EXPECT_TRUE
(
švok”
.
AsyncInvoke
<>(
RTC_FROM_HERE
, 
FunùÜB
(&
æag2
)));

853 
EXPECT_FALSE
(
æag1
.
g‘
());

854 
EXPECT_FALSE
(
æag2
.
g‘
());

856 
EXPECT_TRUE
(
švok”
.
Flush
());

857 
EXPECT_TRUE
(
æag1
.
g‘
());

858 
EXPECT_TRUE
(
æag2
.
g‘
());

861 
TEST_F
(
Gu¬dedAsyncInvokeTe¡
, 
FlushW™hIds
) {

862 
Gu¬dedAsyncInvok”
 
	gšvok”
;

863 
AtomicBoŞ
 
	gæag1
;

864 
AtomicBoŞ
 
	gæag2
;

866 
EXPECT_TRUE
(
švok”
.
AsyncInvoke
<>(
RTC_FROM_HERE
, 
FunùÜB
(&
æag1
), 5));

867 
EXPECT_TRUE
(
švok”
.
AsyncInvoke
<>(
RTC_FROM_HERE
, 
FunùÜB
(&
æag2
)));

869 
EXPECT_FALSE
(
æag1
.
g‘
());

870 
EXPECT_FALSE
(
æag2
.
g‘
());

872 
EXPECT_TRUE
(
švok”
.
Flush
(5));

873 
EXPECT_TRUE
(
æag1
.
g‘
());

874 
EXPECT_FALSE
(
æag2
.
g‘
());

875 
	gæag1
 = 
çl£
;

877 
EXPECT_TRUE
(
švok”
.
Flush
());

878 
EXPECT_FALSE
(
æag1
.
g‘
());

879 
EXPECT_TRUE
(
æag2
.
g‘
());

882 
Th»adIsCu¼’t
(
Th»ad
* 
th»ad
, 
boŞ
* 
»suÉ
, 
Ev’t
* 
ev’t
) {

883 *
	g»suÉ
 = 
th»ad
->
IsCu¼’t
();

884 
	gev’t
->
S‘
();

887 
Wa™AndS‘Ev’t
(
Ev’t
* 
wa™_ev’t
, Ev’t* 
£t_ev’t
) {

888 
	gwa™_ev’t
->
Wa™
(
Ev’t
::
kFÜev”
);

889 
	g£t_ev’t
->
S‘
();

893 şas 
	cLiãCyşeFunùÜ
 {

894 
	gpublic
:

895 
	sSts
 {

896 
size_t
 
cİy_couÁ
 = 0;

897 
size_t
 
	gmove_couÁ
 = 0;

900 
LiãCyşeFunùÜ
(
Sts
* 
¡©s
, 
Ev’t
* 
ev’t
è: 
¡©s_
(¡©s), 
ev’t_
(event) {}

901 
LiãCyşeFunùÜ
(cÚ¡ LiãCyşeFunùÜ& 
Ùh”
è{ *
	gthis
 = other; }

902 
LiãCyşeFunùÜ
(LiãCyşeFunùÜ&& 
Ùh”
è{ *
	gthis
 = 
¡d
::
move
(other); }

904 
	gLiãCyşeFunùÜ
& 
	gİ”©Ü
=(cÚ¡ 
LiãCyşeFunùÜ
& 
Ùh”
) {

905 
¡©s_
 = 
Ùh”
.stats_;

906 
	gev’t_
 = 
Ùh”
.
ev’t_
;

907 ++
	g¡©s_
->
	gcİy_couÁ
;

908  *
	gthis
;

911 
	gLiãCyşeFunùÜ
& 
	gİ”©Ü
=(
LiãCyşeFunùÜ
&& 
Ùh”
) {

912 
¡©s_
 = 
Ùh”
.stats_;

913 
	gev’t_
 = 
Ùh”
.
ev’t_
;

914 ++
	g¡©s_
->
	gmove_couÁ
;

915  *
	gthis
;

918 
İ”©Ü
()(è{ 
	gev’t_
->
S‘
(); }

920 
	g´iv©e
:

921 
Sts
* 
¡©s_
;

922 
Ev’t
* 
	gev’t_
;

926 şas 
	cDe¡ruùiÚFunùÜ
 {

927 
	gpublic
:

928 
De¡ruùiÚFunùÜ
(
Th»ad
* 
th»ad
, 
boŞ
* 
th»ad_was_cu¼’t
, 
Ev’t
* 
ev’t
)

929 : 
th»ad_
(
th»ad
),

930 
th»ad_was_cu¼’t_
(
th»ad_was_cu¼’t
),

931 
ev’t_
(
ev’t
) {}

932 ~
De¡ruùiÚFunùÜ
() {

936 ià(
	gwas_švoked_
) {

937 *
	gth»ad_was_cu¼’t_
 = 
th»ad_
->
IsCu¼’t
();

938 
	gev’t_
->
S‘
();

942 
İ”©Ü
()(è{ 
	gwas_švoked_
 = 
Œue
; }

944 
	g´iv©e
:

945 
Th»ad
* 
th»ad_
;

946 
boŞ
* 
	gth»ad_was_cu¼’t_
;

947 
Ev’t
* 
	gev’t_
;

948 
boŞ
 
	gwas_švoked_
 = 
çl£
;

951 
TEST
(
Th»adPo¡TaskTe¡
, 
InvokesW™hBšd
) {

952 
	g¡d
::
unique_±r
<
¹c
::
Th»ad
> 
background_th»ad
Ôtc::Th»ad::
C»©e
());

953 
	gbackground_th»ad
->
S¹
();

955 
Ev’t
 
	gev’t
;

956 
	gbackground_th»ad
->
Po¡Task
(
RTC_FROM_HERE
, 
Bšd
(&
Ev’t
::
S‘
, &
ev’t
));

957 
	gev’t
.
Wa™
(
Ev’t
::
kFÜev”
);

960 
TEST
(
Th»adPo¡TaskTe¡
, 
InvokesW™hLambda
) {

961 
	g¡d
::
unique_±r
<
¹c
::
Th»ad
> 
background_th»ad
Ôtc::Th»ad::
C»©e
());

962 
	gbackground_th»ad
->
S¹
();

964 
Ev’t
 
	gev’t
;

965 
	gbackground_th»ad
->
Po¡Task
(
RTC_FROM_HERE
, [&
ev’t
] {ƒv’t.
S‘
(); });

966 
	gev’t
.
Wa™
(
Ev’t
::
kFÜev”
);

969 
TEST
(
Th»adPo¡TaskTe¡
, 
InvokesW™hCİ›dFunùÜ
) {

970 
	g¡d
::
unique_±r
<
¹c
::
Th»ad
> 
background_th»ad
Ôtc::Th»ad::
C»©e
());

971 
	gbackground_th»ad
->
S¹
();

973 
	gLiãCyşeFunùÜ
::
Sts
 
¡©s
;

974 
Ev’t
 
	gev’t
;

975 
LiãCyşeFunùÜ
 
funùÜ
(&
¡©s
, &
ev’t
);

976 
	gbackground_th»ad
->
Po¡Task
(
RTC_FROM_HERE
, 
funùÜ
);

977 
	gev’t
.
Wa™
(
Ev’t
::
kFÜev”
);

979 
EXPECT_EQ
(1u, 
¡©s
.
cİy_couÁ
);

980 
EXPECT_EQ
(0u, 
¡©s
.
move_couÁ
);

983 
TEST
(
Th»adPo¡TaskTe¡
, 
InvokesW™hMovedFunùÜ
) {

984 
	g¡d
::
unique_±r
<
¹c
::
Th»ad
> 
background_th»ad
Ôtc::Th»ad::
C»©e
());

985 
	gbackground_th»ad
->
S¹
();

987 
	gLiãCyşeFunùÜ
::
Sts
 
¡©s
;

988 
Ev’t
 
	gev’t
;

989 
LiãCyşeFunùÜ
 
funùÜ
(&
¡©s
, &
ev’t
);

990 
	gbackground_th»ad
->
Po¡Task
(
RTC_FROM_HERE
, 
¡d
::
move
(
funùÜ
));

991 
	gev’t
.
Wa™
(
Ev’t
::
kFÜev”
);

993 
EXPECT_EQ
(0u, 
¡©s
.
cİy_couÁ
);

994 
EXPECT_EQ
(1u, 
¡©s
.
move_couÁ
);

997 
TEST
(
Th»adPo¡TaskTe¡
, 
InvokesW™hReã»nûdFunùÜShouldCİy
) {

998 
	g¡d
::
unique_±r
<
¹c
::
Th»ad
> 
background_th»ad
Ôtc::Th»ad::
C»©e
());

999 
	gbackground_th»ad
->
S¹
();

1001 
	gLiãCyşeFunùÜ
::
Sts
 
¡©s
;

1002 
Ev’t
 
	gev’t
;

1003 
LiãCyşeFunùÜ
 
funùÜ
(&
¡©s
, &
ev’t
);

1004 
	gLiãCyşeFunùÜ
& 
	gfunùÜ_»f
 = 
funùÜ
;

1005 
	gbackground_th»ad
->
Po¡Task
(
RTC_FROM_HERE
, 
funùÜ_»f
);

1006 
	gev’t
.
Wa™
(
Ev’t
::
kFÜev”
);

1008 
EXPECT_EQ
(1u, 
¡©s
.
cİy_couÁ
);

1009 
EXPECT_EQ
(0u, 
¡©s
.
move_couÁ
);

1012 
TEST
(
Th»adPo¡TaskTe¡
, 
InvokesW™hCİ›dFunùÜDe¡royedOnT¬g‘Th»ad
) {

1013 
	g¡d
::
unique_±r
<
¹c
::
Th»ad
> 
background_th»ad
Ôtc::Th»ad::
C»©e
());

1014 
	gbackground_th»ad
->
S¹
();

1016 
Ev’t
 
	gev’t
;

1017 
boŞ
 
	gwas_švoked_Ú_background_th»ad
 = 
çl£
;

1018 
De¡ruùiÚFunùÜ
 
funùÜ
(
background_th»ad
.
g‘
(),

1019 &
was_švoked_Ú_background_th»ad
, &
ev’t
);

1020 
	gbackground_th»ad
->
Po¡Task
(
RTC_FROM_HERE
, 
funùÜ
);

1021 
	gev’t
.
Wa™
(
Ev’t
::
kFÜev”
);

1023 
EXPECT_TRUE
(
was_švoked_Ú_background_th»ad
);

1026 
TEST
(
Th»adPo¡TaskTe¡
, 
InvokesW™hMovedFunùÜDe¡royedOnT¬g‘Th»ad
) {

1027 
	g¡d
::
unique_±r
<
¹c
::
Th»ad
> 
background_th»ad
Ôtc::Th»ad::
C»©e
());

1028 
	gbackground_th»ad
->
S¹
();

1030 
Ev’t
 
	gev’t
;

1031 
boŞ
 
	gwas_švoked_Ú_background_th»ad
 = 
çl£
;

1032 
De¡ruùiÚFunùÜ
 
funùÜ
(
background_th»ad
.
g‘
(),

1033 &
was_švoked_Ú_background_th»ad
, &
ev’t
);

1034 
	gbackground_th»ad
->
Po¡Task
(
RTC_FROM_HERE
, 
¡d
::
move
(
funùÜ
));

1035 
	gev’t
.
Wa™
(
Ev’t
::
kFÜev”
);

1037 
EXPECT_TRUE
(
was_švoked_Ú_background_th»ad
);

1040 
TEST
(
Th»adPo¡TaskTe¡
,

1041 
InvokesW™hReã»nûdFunùÜShouldCİyAndDe¡royedOnT¬g‘Th»ad
) {

1042 
	g¡d
::
unique_±r
<
¹c
::
Th»ad
> 
background_th»ad
Ôtc::Th»ad::
C»©e
());

1043 
	gbackground_th»ad
->
S¹
();

1045 
Ev’t
 
	gev’t
;

1046 
boŞ
 
	gwas_švoked_Ú_background_th»ad
 = 
çl£
;

1047 
De¡ruùiÚFunùÜ
 
funùÜ
(
background_th»ad
.
g‘
(),

1048 &
was_švoked_Ú_background_th»ad
, &
ev’t
);

1049 
	gDe¡ruùiÚFunùÜ
& 
	gfunùÜ_»f
 = 
funùÜ
;

1050 
	gbackground_th»ad
->
Po¡Task
(
RTC_FROM_HERE
, 
funùÜ_»f
);

1051 
	gev’t
.
Wa™
(
Ev’t
::
kFÜev”
);

1053 
EXPECT_TRUE
(
was_švoked_Ú_background_th»ad
);

1056 
TEST
(
Th»adPo¡TaskTe¡
, 
InvokesOnBackgroundTh»ad
) {

1057 
	g¡d
::
unique_±r
<
¹c
::
Th»ad
> 
background_th»ad
Ôtc::Th»ad::
C»©e
());

1058 
	gbackground_th»ad
->
S¹
();

1060 
Ev’t
 
	gev’t
;

1061 
boŞ
 
	gwas_švoked_Ú_background_th»ad
 = 
çl£
;

1062 
	gbackground_th»ad
->
Po¡Task
(
RTC_FROM_HERE
,

1063 
Bšd
(&
Th»adIsCu¼’t
, 
background_th»ad
.
g‘
(),

1064 &
was_švoked_Ú_background_th»ad
, &
ev’t
));

1065 
	gev’t
.
Wa™
(
Ev’t
::
kFÜev”
);

1067 
EXPECT_TRUE
(
was_švoked_Ú_background_th»ad
);

1070 
TEST
(
Th»adPo¡TaskTe¡
, 
InvokesAsynchrÚou¦y
) {

1071 
	g¡d
::
unique_±r
<
¹c
::
Th»ad
> 
background_th»ad
Ôtc::Th»ad::
C»©e
());

1072 
	gbackground_th»ad
->
S¹
();

1076 
Ev’t
 
	gev’t_£t_by_‹¡_th»ad
;

1077 
Ev’t
 
	gev’t_£t_by_background_th»ad
;

1078 
	gbackground_th»ad
->
Po¡Task
(
RTC_FROM_HERE
,

1079 
Bšd
(&
Wa™AndS‘Ev’t
, &
ev’t_£t_by_‹¡_th»ad
,

1080 &
ev’t_£t_by_background_th»ad
));

1081 
	gev’t_£t_by_‹¡_th»ad
.
S‘
();

1082 
	gev’t_£t_by_background_th»ad
.
Wa™
(
Ev’t
::
kFÜev”
);

1085 
TEST
(
Th»adPo¡TaskTe¡
, 
InvokesInPo¡edOrd”
) {

1086 
	g¡d
::
unique_±r
<
¹c
::
Th»ad
> 
background_th»ad
Ôtc::Th»ad::
C»©e
());

1087 
	gbackground_th»ad
->
S¹
();

1089 
Ev’t
 
	gfœ¡
;

1090 
Ev’t
 
	g£cÚd
;

1091 
Ev’t
 
	gthœd
;

1092 
Ev’t
 
	gfou¹h
;

1094 
	gbackground_th»ad
->
Po¡Task
(
RTC_FROM_HERE
,

1095 
Bšd
(&
Wa™AndS‘Ev’t
, &
fœ¡
, &
£cÚd
));

1096 
	gbackground_th»ad
->
Po¡Task
(
RTC_FROM_HERE
,

1097 
Bšd
(&
Wa™AndS‘Ev’t
, &
£cÚd
, &
thœd
));

1098 
	gbackground_th»ad
->
Po¡Task
(
RTC_FROM_HERE
,

1099 
Bšd
(&
Wa™AndS‘Ev’t
, &
thœd
, &
fou¹h
));

1102 
	gfœ¡
.
S‘
();

1104 
	gfou¹h
.
Wa™
(
Ev’t
::
kFÜev”
);

1107 
TEST
(
Th»adPo¡D–ayedTaskTe¡
, 
InvokesAsynchrÚou¦y
) {

1108 
	g¡d
::
unique_±r
<
¹c
::
Th»ad
> 
background_th»ad
Ôtc::Th»ad::
C»©e
());

1109 
	gbackground_th»ad
->
S¹
();

1113 
Ev’t
 
	gev’t_£t_by_‹¡_th»ad
;

1114 
Ev’t
 
	gev’t_£t_by_background_th»ad
;

1115 
	gbackground_th»ad
->
Po¡D–ayedTask
(

1116 
RTC_FROM_HERE
,

1117 
Bšd
(&
Wa™AndS‘Ev’t
, &
ev’t_£t_by_‹¡_th»ad
,

1118 &
ev’t_£t_by_background_th»ad
),

1120 
	gev’t_£t_by_‹¡_th»ad
.
S‘
();

1121 
	gev’t_£t_by_background_th»ad
.
Wa™
(
Ev’t
::
kFÜev”
);

1124 
TEST
(
Th»adPo¡D–ayedTaskTe¡
, 
InvokesInD–ayOrd”
) {

1125 
ScİedFakeClock
 
	gşock
;

1126 
	g¡d
::
unique_±r
<
¹c
::
Th»ad
> 
background_th»ad
Ôtc::Th»ad::
C»©e
());

1127 
	gbackground_th»ad
->
S¹
();

1129 
Ev’t
 
	gfœ¡
;

1130 
Ev’t
 
	g£cÚd
;

1131 
Ev’t
 
	gthœd
;

1132 
Ev’t
 
	gfou¹h
;

1134 
	gbackground_th»ad
->
Po¡D–ayedTask
(
RTC_FROM_HERE
,

1135 
Bšd
(&
Wa™AndS‘Ev’t
, &
thœd
, &
fou¹h
),

1137 
	gbackground_th»ad
->
Po¡D–ayedTask
(
RTC_FROM_HERE
,

1138 
Bšd
(&
Wa™AndS‘Ev’t
, &
fœ¡
, &
£cÚd
),

1140 
	gbackground_th»ad
->
Po¡D–ayedTask
(
RTC_FROM_HERE
,

1141 
Bšd
(&
Wa™AndS‘Ev’t
, &
£cÚd
, &
thœd
),

1145 
	gfœ¡
.
S‘
();

1147 
	gşock
.
AdvªûTime
(
web¹c
::
TimeD–
::
Mlis
(11));

1148 
EXPECT_TRUE
(
fou¹h
.
Wa™
(0));

1151 şas 
	cTh»adFaùÜy
 : 
public
 
web¹c
::
TaskQueueFaùÜy
 {

1152 
public
:

1153 
¡d
::
unique_±r
<
web¹c
::
TaskQueueBa£
, 
	gweb¹c
::
TaskQueueD–‘”
>

1154 
C»©eTaskQueue
(
ab¦
::
¡ršg_v›w
 ,

1155 
PriÜ™y
 ) cÚ¡ 
	gov”ride
 {

1156 
	g¡d
::
unique_±r
<
Th»ad
> 
th»ad
 = Th»ad::
C»©e
();

1157 
	gth»ad
->
S¹
();

1158  
	g¡d
::
unique_±r
<
web¹c
::
TaskQueueBa£
, 
	gweb¹c
::
TaskQueueD–‘”
>(

1159 
th»ad
.
»Ëa£
());

1163 
	gusšg
 ::
web¹c
::
TaskQueueTe¡
;

1165 
INSTANTIATE_TEST_SUITE_P
(
RtcTh»ad
,

1166 
TaskQueueTe¡
,

1167 ::
‹¡šg
::
V®ues
(
¡d
::
make_unique
<
Th»adFaùÜy
>));

	@time/timestamp_extrapolator.cc

11 
	~"¹c_ba£/time/time¡amp_exŒ­Ş©Ü.h
"

13 
	~<®gÜ™hm
>

15 
Çme¥aû
 
	gweb¹c
 {

17 
	gTime¡ampExŒ­Ş©Ü
::
Time¡ampExŒ­Ş©Ü
(
št64_t
 
¡¬t_ms
)

18 : 
_rwLock
(
RWLockW¿µ”
::
C»©eRWLock
()),

19 
_¡¬tMs
(0),

20 
_fœ¡Time¡amp
(0),

21 
_w¿pArounds
(0),

22 
_´evUnw¿µedTime¡amp
(-1),

23 
_´evW¿pTime¡amp
(-1),

24 
_Ïmbda
(1),

25 
_fœ¡Aá”Re£t
(
Œue
),

26 
_·ck‘CouÁ
(0),

27 
_¡¬tUpF‹rD–ayInPack‘s
(2),

28 
_d‘eùÜAccumuÏtÜPos
(0),

29 
_d‘eùÜAccumuÏtÜNeg
(0),

30 
_®¬mTh»shŞd
(60e3),

31 
_accDriá
(6600),

32 
_accMaxE¼Ü
(7000),

33 
_pP11
(1e10) {

34 
Re£t
(
¡¬t_ms
);

37 
	gTime¡ampExŒ­Ş©Ü
::~
Time¡ampExŒ­Ş©Ü
() {

38 
d–‘e
 
_rwLock
;

41 
	gTime¡ampExŒ­Ş©Ü
::
Re£t
(
št64_t
 
¡¬t_ms
) {

42 
Wr™eLockScİed
 
wl
(*
_rwLock
);

43 
	g_¡¬tMs
 = 
¡¬t_ms
;

44 
	g_´evMs
 = 
_¡¬tMs
;

45 
	g_fœ¡Time¡amp
 = 0;

46 
	g_w
[0] = 90.0;

47 
	g_w
[1] = 0;

48 
	g_pP
[0][0] = 1;

49 
	g_pP
[1][1] = 
_pP11
;

50 
	g_pP
[0][1] = 
_pP
[1][0] = 0;

51 
	g_fœ¡Aá”Re£t
 = 
Œue
;

52 
	g_´evUnw¿µedTime¡amp
 = -1;

53 
	g_´evW¿pTime¡amp
 = -1;

54 
	g_w¿pArounds
 = 0;

55 
	g_·ck‘CouÁ
 = 0;

56 
	g_d‘eùÜAccumuÏtÜPos
 = 0;

57 
	g_d‘eùÜAccumuÏtÜNeg
 = 0;

60 
	gTime¡ampExŒ­Ş©Ü
::
Upd©e
(
št64_t
 
tMs
, 
ušt32_t
 
ts90khz
) {

61 
	g_rwLock
->
AcquœeLockExşusive
();

62 ià(
	gtMs
 - 
	g_´evMs
 > 10e3) {

65 
	g_rwLock
->
R–—£LockExşusive
();

66 
Re£t
(
tMs
);

67 
	g_rwLock
->
AcquœeLockExşusive
();

69 
	g_´evMs
 = 
tMs
;

73 
	gtMs
 -ğ
_¡¬tMs
;

75 
CheckFÜW¿pArounds
(
ts90khz
);

77 
št64_t
 
	gunw¿µed_ts90khz
 =

78 
¡©ic_ÿ¡
<
št64_t
>(
ts90khz
) +

79 
_w¿pArounds
 * ((
¡©ic_ÿ¡
<
št64_t
>(1) << 32) - 1);

81 ià(
	g_fœ¡Aá”Re£t
) {

85 
	g_w
[1] = -
_w
[0] * 
tMs
;

86 
	g_fœ¡Time¡amp
 = 
unw¿µed_ts90khz
;

87 
	g_fœ¡Aá”Re£t
 = 
çl£
;

90 
	g»sidu®
 = (
¡©ic_ÿ¡
<>(
unw¿µed_ts90khz
è- 
_fœ¡Time¡amp
) -

91 
¡©ic_ÿ¡
<>(
tMs
è* 
_w
[0] - _w[1];

92 ià(
D–ayChªgeD‘eùiÚ
(
»sidu®
) &&

93 
	g_·ck‘CouÁ
 >ğ
_¡¬tUpF‹rD–ayInPack‘s
) {

97 
_pP
[1][1] = 
_pP11
;

100 ià(
	g_´evUnw¿µedTime¡amp
 >= 0 &&

101 
unw¿µed_ts90khz
 < 
_´evUnw¿µedTime¡amp
) {

103 
_rwLock
->
R–—£LockExşusive
();

110 
	gK
[2];

111 
	gK
[0] = 
_pP
[0][0] * 
tMs
 + _pP[0][1];

112 
	gK
[1] = 
_pP
[1][0] * 
tMs
 + _pP[1][1];

113 
	gTPT
 = 
_Ïmbda
 + 
tMs
 * 
K
[0] + K[1];

114 
	gK
[0] /ğ
TPT
;

115 
	gK
[1] /ğ
TPT
;

117 
	g_w
[0] = 
_w
[0] + 
K
[0] * 
»sidu®
;

118 
	g_w
[1] = 
_w
[1] + 
K
[1] * 
»sidu®
;

120 
	gp00
 =

121 1 / 
_Ïmbda
 * (
_pP
[0][0] - (
K
[0] * 
tMs
 * _pP[0][0] + K[0] * _pP[1][0]));

122 
	gp01
 =

123 1 / 
_Ïmbda
 * (
_pP
[0][1] - (
K
[0] * 
tMs
 * _pP[0][1] + K[0] * _pP[1][1]));

124 
	g_pP
[1][0] =

125 1 / 
_Ïmbda
 * (
_pP
[1][0] - (
K
[1] * 
tMs
 * _pP[0][0] + K[1] * _pP[1][0]));

126 
	g_pP
[1][1] =

127 1 / 
_Ïmbda
 * (
_pP
[1][1] - (
K
[1] * 
tMs
 * _pP[0][1] + K[1] * _pP[1][1]));

128 
	g_pP
[0][0] = 
p00
;

129 
	g_pP
[0][1] = 
p01
;

130 
	g_´evUnw¿µedTime¡amp
 = 
unw¿µed_ts90khz
;

131 ià(
	g_·ck‘CouÁ
 < 
	g_¡¬tUpF‹rD–ayInPack‘s
) {

132 
	g_·ck‘CouÁ
++;

134 
	g_rwLock
->
R–—£LockExşusive
();

137 
št64_t
 
	gTime¡ampExŒ­Ş©Ü
::
ExŒ­Ş©eLoÿlTime
(
ušt32_t
 
time¡amp90khz
) {

138 
R—dLockScİed
 
¾
(*
_rwLock
);

139 
št64_t
 
	gloÿlTimeMs
 = 0;

140 
CheckFÜW¿pArounds
(
time¡amp90khz
);

141 
	gunw¿µed_ts90khz
 =

142 
¡©ic_ÿ¡
<>(
time¡amp90khz
) +

143 
_w¿pArounds
 * ((
¡©ic_ÿ¡
<
št64_t
>(1) << 32) - 1);

144 ià(
	g_·ck‘CouÁ
 == 0) {

145 
loÿlTimeMs
 = -1;

146 } ià(
	g_·ck‘CouÁ
 < 
	g_¡¬tUpF‹rD–ayInPack‘s
) {

147 
	gloÿlTimeMs
 =

148 
_´evMs
 +

149 
¡©ic_ÿ¡
<
št64_t
>(

150 
¡©ic_ÿ¡
<>(
unw¿µed_ts90khz
 - 
_´evUnw¿µedTime¡amp
) /

154 ià(
	g_w
[0] < 1e-3) {

155 
	gloÿlTimeMs
 = 
_¡¬tMs
;

157 
	gtime¡ampDiff
 =

158 
unw¿µed_ts90khz
 - 
¡©ic_ÿ¡
<>(
_fœ¡Time¡amp
);

159 
	gloÿlTimeMs
 = 
¡©ic_ÿ¡
<
št64_t
>(¡©ic_ÿ¡<>(
_¡¬tMs
) +

160 (
time¡ampDiff
 - 
_w
[1]) / _w[0] + 0.5);

163  
	gloÿlTimeMs
;

168 
	gTime¡ampExŒ­Ş©Ü
::
CheckFÜW¿pArounds
(
ušt32_t
 
ts90khz
) {

169 ià(
_´evW¿pTime¡amp
 == -1) {

170 
_´evW¿pTime¡amp
 = 
ts90khz
;

173 ià(
	gts90khz
 < 
	g_´evW¿pTime¡amp
) {

177 ià(
	g¡©ic_ÿ¡
<
	gšt32_t
>(
	gts90khz
 - 
	g_´evW¿pTime¡amp
) > 0) {

179 
	g_w¿pArounds
++;

185 ià(
	g¡©ic_ÿ¡
<
	gšt32_t
>(
	g_´evW¿pTime¡amp
 - 
	gts90khz
) > 0) {

187 
	g_w¿pArounds
--;

190 
	g_´evW¿pTime¡amp
 = 
ts90khz
;

193 
boŞ
 
	gTime¡ampExŒ­Ş©Ü
::
D–ayChªgeD‘eùiÚ
(
”rÜ
) {

195 
”rÜ
 = (”rÜ > 0è? 
¡d
::
mš
Ó¼Ü, 
_accMaxE¼Ü
)

196 : 
¡d
::
max
(
”rÜ
, -
_accMaxE¼Ü
);

197 
	g_d‘eùÜAccumuÏtÜPos
 =

198 
¡d
::
max
(
_d‘eùÜAccumuÏtÜPos
 + 
”rÜ
 - 
_accDriá
, {0});

199 
	g_d‘eùÜAccumuÏtÜNeg
 =

200 
¡d
::
mš
(
_d‘eùÜAccumuÏtÜNeg
 + 
”rÜ
 + 
_accDriá
, {0});

201 ià(
	g_d‘eùÜAccumuÏtÜPos
 > 
	g_®¬mTh»shŞd
 ||

202 
	g_d‘eùÜAccumuÏtÜNeg
 < -
	g_®¬mTh»shŞd
) {

204 
	g_d‘eùÜAccumuÏtÜPos
 = 
_d‘eùÜAccumuÏtÜNeg
 = 0;

205  
	gŒue
;

207  
	gçl£
;

	@time/timestamp_extrapolator.h

11 #iâdeà
RTC_BASE_TIME_TIMESTAMP_EXTRAPOLATOR_H_


12 
	#RTC_BASE_TIME_TIMESTAMP_EXTRAPOLATOR_H_


	)

14 
	~<¡dšt.h
>

16 
	~"¹c_ba£/synchrÚiz©iÚ/rw_lock_w¿µ”.h
"

18 
Çme¥aû
 
	gweb¹c
 {

20 şas 
	cTime¡ampExŒ­Ş©Ü
 {

21 
	gpublic
:

22 
ex¶ic™
 
Time¡ampExŒ­Ş©Ü
(
št64_t
 
¡¬t_ms
);

23 ~
Time¡ampExŒ­Ş©Ü
();

24 
Upd©e
(
št64_t
 
tMs
, 
ušt32_t
 
ts90khz
);

25 
št64_t
 
ExŒ­Ş©eLoÿlTime
(
ušt32_t
 
time¡amp90khz
);

26 
Re£t
(
št64_t
 
¡¬t_ms
);

28 
	g´iv©e
:

29 
CheckFÜW¿pArounds
(
ušt32_t
 
ts90khz
);

30 
boŞ
 
D–ayChªgeD‘eùiÚ
(
”rÜ
);

31 
RWLockW¿µ”
* 
	g_rwLock
;

32 
	g_w
[2];

33 
	g_pP
[2][2];

34 
št64_t
 
	g_¡¬tMs
;

35 
št64_t
 
	g_´evMs
;

36 
ušt32_t
 
	g_fœ¡Time¡amp
;

37 
št32_t
 
	g_w¿pArounds
;

38 
št64_t
 
	g_´evUnw¿µedTime¡amp
;

39 
št64_t
 
	g_´evW¿pTime¡amp
;

40 cÚ¡ 
	g_Ïmbda
;

41 
boŞ
 
	g_fœ¡Aá”Re£t
;

42 
ušt32_t
 
	g_·ck‘CouÁ
;

43 cÚ¡ 
ušt32_t
 
	g_¡¬tUpF‹rD–ayInPack‘s
;

45 
	g_d‘eùÜAccumuÏtÜPos
;

46 
	g_d‘eùÜAccumuÏtÜNeg
;

47 cÚ¡ 
	g_®¬mTh»shŞd
;

48 cÚ¡ 
	g_accDriá
;

49 cÚ¡ 
	g_accMaxE¼Ü
;

50 cÚ¡ 
	g_pP11
;

	@time_utils.cc

11 
	~<¡dšt.h
>

13 #ià
defšed
(
WEBRTC_POSIX
)

14 
	~<sys/time.h
>

15 #ià
defšed
(
WEBRTC_MAC
)

16 
	~<mach/mach_time.h
>

20 #ià
defšed
(
WEBRTC_WIN
)

24 
	~<wšdows.h
>

25 
	~<mmsy¡em.h
>

26 
	~<sys/timeb.h
>

30 
	~"¹c_ba£/checks.h
"

31 
	~"¹c_ba£/num”ics/§ã_cÚv”siÚs.h
"

32 
	~"¹c_ba£/time_uts.h
"

34 
Çme¥aû
 
	g¹c
 {

36 
ClockIÁ”çû
* 
	gg_şock
 = 
nuÎ±r
;

38 
ClockIÁ”çû
* 
S‘ClockFÜTe¡šg
(ClockIÁ”çû* 
şock
) {

39 
ClockIÁ”çû
* 
	g´ev
 = 
g_şock
;

40 
	gg_şock
 = 
şock
;

41  
	g´ev
;

44 
ClockIÁ”çû
* 
G‘ClockFÜTe¡šg
() {

45  
	gg_şock
;

48 #ià
defšed
(
WINUWP
)

50 
	gÇme¥aû
 {

52 şas 
	cTimeH–³r
 
	gfš®
 {

53 
	gpublic
:

54 
TimeH–³r
(cÚ¡ TimeH–³r&èğ
d–‘e
;

61 
SyncW™hN
(
št64_t
 
Áp_£rv”_time_ms
) {

62 auto& 
	gsšgËtÚ
 = 
SšgËtÚ
();

63 
TIME_ZONE_INFORMATION
 
	gtime_zÚe
;

64 
G‘TimeZÚeInfÜm©iÚ
(&
time_zÚe
);

65 
št64_t
 
	gtime_zÚe_bŸs_ns
 =

66 
¹c
::
dchecked_ÿ¡
<
št64_t
>(
time_zÚe
.
BŸs
) * 60 * 1000 * 1000 * 1000;

67 
	gsšgËtÚ
.
	g­p_¡¬t_time_ns_
 =

68 (
Áp_£rv”_time_ms
 - 
kNTPTimeToUnixTimeEpochOff£t
) * 1000000 -

69 
time_zÚe_bŸs_ns
;

70 
	gsšgËtÚ
.
Upd©eReã»nûTime
();

74 
št64_t
 
TicksNs
() {

75 auto& 
	gsšgËtÚ
 = 
SšgËtÚ
();

76 
št64_t
 
	g»suÉ
 = 0;

77 
LARGE_INTEGER
 
	gqpút
;

78 
Qu”yP”fÜmªûCouÁ”
(&
qpút
);

79 
	g»suÉ
 = 
¹c
::
dchecked_ÿ¡
<
št64_t
>(

80 (
¹c
::
dchecked_ÿ¡
<
ušt64_t
>(
qpút
.
QuadP¬t
) * 100000 /

81 
¹c
::
dchecked_ÿ¡
<
ušt64_t
>(
sšgËtÚ
.
os_ticks_³r_£cÚd_
)) *

83 
	g»suÉ
 = 
sšgËtÚ
.
­p_¡¬t_time_ns_
 + 
»suÉ
 -

84 
sšgËtÚ
.
time_sšû_os_¡¬t_ns_
;

85  
	g»suÉ
;

88 
	g´iv©e
:

89 
TimeH–³r
() {

90 
TIME_ZONE_INFORMATION
 
time_zÚe
;

91 
G‘TimeZÚeInfÜm©iÚ
(&
time_zÚe
);

92 
št64_t
 
	gtime_zÚe_bŸs_ns
 =

93 
¹c
::
dchecked_ÿ¡
<
št64_t
>(
time_zÚe
.
BŸs
) * 60 * 1000 * 1000 * 1000;

94 
FILETIME
 
	gá
;

96 
G‘Sy¡emTimeAsFeTime
(&
á
);

97 
LARGE_INTEGER
 
	gli
;

98 
	gli
.
	gHighP¬t
 = 
á
.
dwHighD©eTime
;

99 
	gli
.
	gLowP¬t
 = 
á
.
dwLowD©eTime
;

101 
	g­p_¡¬t_time_ns_
 = (
li
.
QuadP¬t
 - 
kFeTimeToUnixTimeEpochOff£t
) * 100 -

102 
time_zÚe_bŸs_ns
;

104 
Upd©eReã»nûTime
();

107 
	gTimeH–³r
& 
SšgËtÚ
() {

108 
TimeH–³r
 
	gsšgËtÚ
;

109  
	gsšgËtÚ
;

112 
Upd©eReã»nûTime
() {

113 
LARGE_INTEGER
 
	gqpäeq
;

114 
Qu”yP”fÜmªûF»qu’cy
(&
qpäeq
);

115 
	gos_ticks_³r_£cÚd_
 = 
¹c
::
dchecked_ÿ¡
<
št64_t
>(
qpäeq
.
QuadP¬t
);

117 
LARGE_INTEGER
 
	gqpút
;

118 
Qu”yP”fÜmªûCouÁ”
(&
qpút
);

119 
	gtime_sšû_os_¡¬t_ns_
 = 
¹c
::
dchecked_ÿ¡
<
št64_t
>(

120 (
¹c
::
dchecked_ÿ¡
<
ušt64_t
>(
qpút
.
QuadP¬t
) * 100000 /

121 
¹c
::
dchecked_ÿ¡
<
ušt64_t
>(
os_ticks_³r_£cÚd_
)) *

125 
	g´iv©e
:

126 
cÚ¡ex´
 
ušt64_t
 
kFeTimeToUnixTimeEpochOff£t
 =

128 
cÚ¡ex´
 
ušt64_t
 
	gkNTPTimeToUnixTimeEpochOff£t
 = 2208988800000L;

131 
št64_t
 
	g­p_¡¬t_time_ns_
;

133 
št64_t
 
	gtime_sšû_os_¡¬t_ns_
;

135 
št64_t
 
	gos_ticks_³r_£cÚd_
;

140 
	$SyncW™hN
(
št64_t
 
time_äom_Áp_£rv”_ms
) {

141 
TimeH–³r
::
	`SyncW™hN
(
time_äom_Áp_£rv”_ms
);

142 
	}
}

146 
št64_t
 
	$Sy¡emTimeNªos
() {

147 
št64_t
 
ticks
;

148 #ià
	`defšed
(
WEBRTC_MAC
)

149 
mach_timeba£_šfo_d©a_t
 
timeba£
;

150 ià(
timeba£
.
d’om
 == 0) {

153 ià(
	`mach_timeba£_šfo
(&
timeba£
è!ğ
KERN_SUCCESS
) {

154 
	`RTC_NOTREACHED
();

158 cÚ¡‡utØ
mul
 = [](
ušt64_t
 
a
, 
ušt32_t
 
b
è-> 
št64_t
 {

159 
	`RTC_DCHECK_NE
(
b
, 0);

160 
	`RTC_DCHECK_LE
(
a
, 
¡d
::
num”ic_lim™s
<
št64_t
>::
	`max
(è/ 
b
)

161 << "ThmuÉliÿtiÚ " << 
a
 << " * " << 
b
 << " overflows";

162  
¹c
::
dchecked_ÿ¡
<
št64_t
>(
a
 * 
b
);

164 
ticks
 = 
	`mul
(
	`mach_absŞu‹_time
(), 
timeba£
.
num”
è/imeba£.
d’om
;

165 #–ià
	`defšed
(
WEBRTC_POSIX
)

166 
time¥ec
 
ts
;

169 
	`şock_g‘time
(
CLOCK_MONOTONIC
, &
ts
);

170 
ticks
 = 
kNumNªo£csP”Sec
 * 
¡©ic_ÿ¡
<
št64_t
>(
ts
.
tv_£c
) +

171 
¡©ic_ÿ¡
<
št64_t
>(
ts
.
tv_n£c
);

172 #–ià
	`defšed
(
WINUWP
)

173 
ticks
 = 
TimeH–³r
::
	`TicksNs
();

174 #–ià
	`defšed
(
WEBRTC_WIN
)

175 vŞ©
LONG
 
Ï¡_timeg‘time
 = 0;

176 vŞ©
št64_t
 
num_w¿p_timeg‘time
 = 0;

177 vŞ©
LONG
* 
Ï¡_timeg‘time_±r
 = &
Ï¡_timeg‘time
;

178 
DWORD
 
now
 = 
	`timeG‘Time
();

180 
DWORD
 
Şd
 = 
	`IÁ”lockedExchªge
(
Ï¡_timeg‘time_±r
, 
now
);

181 ià(
now
 < 
Şd
) {

185 ià(
Şd
 > 0xf0000000 && 
now
 < 0x0fffffff) {

186 
num_w¿p_timeg‘time
++;

189 
ticks
 = 
now
 + (
num_w¿p_timeg‘time
 << 32);

192 
ticks
 =ick * 
kNumNªo£csP”Mli£c
;

194 #”rÜ 
UnsuµÜ‹d
 
¶©fÜm
.

196  
ticks
;

197 
	}
}

199 
št64_t
 
	$Sy¡emTimeMlis
() {

200  
¡©ic_ÿ¡
<
št64_t
>(
	`Sy¡emTimeNªos
(è/ 
kNumNªo£csP”Mli£c
);

201 
	}
}

203 
št64_t
 
	$TimeNªos
() {

204 ià(
g_şock
) {

205  
g_şock
->
	`TimeNªos
();

207  
	`Sy¡emTimeNªos
();

208 
	}
}

210 
ušt32_t
 
	$Time32
() {

211  
¡©ic_ÿ¡
<
ušt32_t
>(
	`TimeNªos
(è/ 
kNumNªo£csP”Mli£c
);

212 
	}
}

214 
št64_t
 
	$TimeMlis
() {

215  
	`TimeNªos
(è/ 
kNumNªo£csP”Mli£c
;

216 
	}
}

218 
št64_t
 
	$TimeMiüos
() {

219  
	`TimeNªos
(è/ 
kNumNªo£csP”Miüo£c
;

220 
	}
}

222 
št64_t
 
	$TimeAá”
(
št64_t
 
–­£d
) {

223 
	`RTC_DCHECK_GE
(
–­£d
, 0);

224  
	`TimeMlis
(è+ 
–­£d
;

225 
	}
}

227 
št32_t
 
	$TimeDiff32
(
ušt32_t
 
Ï‹r
, ušt32_ˆ
—¾›r
) {

228  
Ï‹r
 - 
—¾›r
;

229 
	}
}

231 
št64_t
 
	$TimeDiff
(
št64_t
 
Ï‹r
, iÁ64_ˆ
—¾›r
) {

232  
Ï‹r
 - 
—¾›r
;

233 
	}
}

235 
	gTime¡ampW¿pAroundHªdËr
::
	$Time¡ampW¿pAroundHªdËr
()

236 : 
	`Ï¡_ts_
(0), 
	`num_w¿p_
(-1è{
	}
}

238 
št64_t
 
	gTime¡ampW¿pAroundHªdËr
::
	$Unw¿p
(
ušt32_t
 
ts
) {

239 ià(
num_w¿p_
 == -1) {

240 
Ï¡_ts_
 = 
ts
;

241 
num_w¿p_
 = 0;

242  
ts
;

245 ià(
ts
 < 
Ï¡_ts_
) {

246 ià(
Ï¡_ts_
 >ğ0xf0000000 && 
ts
 < 0x0fffffff)

247 ++
num_w¿p_
;

248 } ià((
ts
 - 
Ï¡_ts_
) > 0xf0000000) {

250  
ts
 + ((
num_w¿p_
 - 1) << 32);

253 
Ï¡_ts_
 = 
ts
;

254  
ts
 + (
num_w¿p_
 << 32);

255 
	}
}

257 
št64_t
 
	$TmToSecÚds
(cÚ¡ 
tm
&m) {

258 
mdays
[12] = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};

259 
cumul_mdays
[12] = {0, 31, 59, 90, 120, 151,

261 
y—r
 = 
tm
.
tm_y—r
 + 1900;

262 
mÚth
 = 
tm
.
tm_mÚ
;

263 
day
 = 
tm
.
tm_mday
 - 1;

264 
hour
 = 
tm
.
tm_hour
;

265 
mš
 = 
tm
.
tm_mš
;

266 
£c
 = 
tm
.
tm_£c
;

268 
boŞ
 
expœy_š_Ë­_y—r
 =

269 (
y—r
 % 4 == 0 && (year % 100 != 0 || year % 400 == 0));

271 ià(
y—r
 < 1970)

273 ià(
mÚth
 < 0 || month > 11)

275 ià(
day
 < 0 || day >ğ
mdays
[
mÚth
] + (
expœy_š_Ë­_y—r
 && month == 2 - 1))

277 ià(
hour
 < 0 || hour > 23)

279 ià(
mš
 < 0 || min > 59)

281 ià(
£c
 < 0 || sec > 59)

284 
day
 +ğ
cumul_mdays
[
mÚth
];

287 
day
 +ğ((
y—r
 / 4 - 1970 / 4) - (year / 100 - 1970 / 100) +

288 (
y—r
 / 400 - 1970 / 400));

292 ià(
expœy_š_Ë­_y—r
 && 
mÚth
 <= 2 - 1)

293 
day
 -= 1;

297  (((
¡©ic_ÿ¡
<
št64_t
>(
y—r
 - 1970è* 365 + 
day
è* 24 + 
hour
) * 60 +

298 
mš
) *

300 
£c
;

301 
	}
}

303 
št64_t
 
	$TimeUTCMiüos
() {

304 ià(
g_şock
) {

305  
g_şock
->
	`TimeNªos
(è/ 
kNumNªo£csP”Miüo£c
;

307 #ià
	`defšed
(
WEBRTC_POSIX
)

308 
timev®
 
time
;

309 
	`g‘timeofday
(&
time
, 
nuÎ±r
);

311  (
¡©ic_ÿ¡
<
št64_t
>(
time
.
tv_£c
è* 
¹c
::
kNumMiüo£csP”Sec
 +

312 
time
.
tv_u£c
);

314 #–ià
	`defšed
(
WEBRTC_WIN
)

315 
_timeb
 
time
;

316 
	`_áime
(&
time
);

318  (
¡©ic_ÿ¡
<
št64_t
>(
time
.timeè* 
¹c
::
kNumMiüo£csP”Sec
 +

319 
¡©ic_ÿ¡
<
št64_t
>(
time
.
ml™m
è* 
¹c
::
kNumMiüo£csP”Mli£c
);

321 
	}
}

323 
št64_t
 
	$TimeUTCMlis
() {

324  
	`TimeUTCMiüos
(è/ 
kNumMiüo£csP”Mli£c
;

325 
	}
}

	@time_utils.h

11 #iâdeà
RTC_BASE_TIME_UTILS_H_


12 
	#RTC_BASE_TIME_UTILS_H_


	)

14 
	~<¡dšt.h
>

15 
	~<time.h
>

17 
	~"¹c_ba£/checks.h
"

18 
	~"¹c_ba£/sy¡em/¹c_expÜt.h
"

20 
Çme¥aû
 
	g¹c
 {

22 cÚ¡ 
št64_t
 
	gkNumMli£csP”Sec
 = 
INT64_C
(1000);

23 cÚ¡ 
št64_t
 
	gkNumMiüo£csP”Sec
 = 
INT64_C
(1000000);

24 cÚ¡ 
št64_t
 
	gkNumNªo£csP”Sec
 = 
INT64_C
(1000000000);

26 cÚ¡ 
št64_t
 
	gkNumMiüo£csP”Mli£c
 =

27 
kNumMiüo£csP”Sec
 / 
kNumMli£csP”Sec
;

28 cÚ¡ 
št64_t
 
	gkNumNªo£csP”Mli£c
 =

29 
kNumNªo£csP”Sec
 / 
kNumMli£csP”Sec
;

30 cÚ¡ 
št64_t
 
	gkNumNªo£csP”Miüo£c
 =

31 
kNumNªo£csP”Sec
 / 
kNumMiüo£csP”Sec
;

35 şas 
	cClockIÁ”çû
 {

36 
	gpublic
:

37 
vœtu®
 ~
ClockIÁ”çû
() {}

38 
vœtu®
 
št64_t
 
TimeNªos
() const = 0;

55 
RTC_EXPORT
 
ClockIÁ”çû
* 
S‘ClockFÜTe¡šg
(ClockIÁ”çû* 
şock
);

58 
RTC_EXPORT
 
ClockIÁ”çû
* 
G‘ClockFÜTe¡šg
();

60 #ià
	$defšed
(
WINUWP
)

63 
	`SyncW™hN
(
št64_t
 
time_äom_Áp_£rv”_ms
);

68 
št64_t
 
	`Sy¡emTimeNªos
();

69 
št64_t
 
	`Sy¡emTimeMlis
();

72 
ušt32_t
 
	`Time32
();

75 
RTC_EXPORT
 
št64_t
 
	`TimeMlis
();

77 
šlše
 
št64_t
 
	$Time
() {

78  
	`TimeMlis
();

79 
	}
}

82 
RTC_EXPORT
 
št64_t
 
TimeMiüos
();

85 
RTC_EXPORT
 
št64_t
 
TimeNªos
();

88 
št64_t
 
TimeAá”
(št64_ˆ
–­£d
);

92 
št64_t
 
TimeDiff
(št64_ˆ
Ï‹r
, iÁ64_ˆ
—¾›r
);

93 
št32_t
 
TimeDiff32
(
ušt32_t
 
Ï‹r
, ušt32_ˆ
—¾›r
);

96 
šlše
 
št64_t
 
	$TimeSšû
(
št64_t
 
—¾›r
) {

97  
	`TimeMlis
(è- 
—¾›r
;

98 
	}
}

101 
šlše
 
št64_t
 
	$TimeUÁ
(
št64_t
 
Ï‹r
) {

102  
Ï‹r
 - 
	`TimeMlis
();

103 
	}
}

105 şas 
	cTime¡ampW¿pAroundHªdËr
 {

106 
	gpublic
:

107 
Time¡ampW¿pAroundHªdËr
();

109 
št64_t
 
Unw¿p
(
ušt32_t
 
ts
);

111 
	g´iv©e
:

112 
ušt32_t
 
Ï¡_ts_
;

113 
št64_t
 
	gnum_w¿p_
;

119 
št64_t
 
TmToSecÚds
(cÚ¡ 
tm
&m);

131 
št64_t
 
TimeUTCMiüos
();

135 
št64_t
 
TimeUTCMlis
();

	@time_utils_unittest.cc

11 
	~"¹c_ba£/time_uts.h
"

13 
	~<memÜy
>

15 
	~"­i/un™s/time_d–.h
"

16 
	~"¹c_ba£/ev’t.h
"

17 
	~"¹c_ba£/çke_şock.h
"

18 
	~"¹c_ba£/h–³rs.h
"

19 
	~"¹c_ba£/loÿtiÚ.h
"

20 
	~"¹c_ba£/mes§ge_hªdËr.h
"

21 
	~"¹c_ba£/sk_uts/to_queued_sk.h
"

22 
	~"¹c_ba£/th»ad.h
"

23 
	~"‹¡/g‹¡.h
"

25 
Çme¥aû
 
	g¹c
 {

27 
TEST
(
TimeTe¡
, 
TimeInMs
) {

28 
št64_t
 
	gts_—¾›r
 = 
TimeMlis
();

29 
	gTh»ad
::
SË•Ms
(100);

30 
št64_t
 
	gts_now
 = 
TimeMlis
();

32 
EXPECT_GE
(
ts_now
, 
ts_—¾›r
 + 80);

34 
EXPECT_LT
(
ts_now
, 
ts_—¾›r
 + 1000);

37 
TEST
(
TimeTe¡
, 
IÁ”v®s
) {

38 
št64_t
 
	gts_—¾›r
 = 
TimeMlis
();

39 
št64_t
 
	gts_Ï‹r
 = 
TimeAá”
(500);

43 
EXPECT_LE
(500, 
TimeDiff
(
ts_Ï‹r
, 
ts_—¾›r
));

44 
EXPECT_GE
(-500, 
TimeDiff
(
ts_—¾›r
, 
ts_Ï‹r
));

47 
EXPECT_GE
(
TimeSšû
(
ts_—¾›r
), 0);

50 
EXPECT_LE
(
TimeUÁ
(
ts_—¾›r
), 0);

54 
EXPECT_GE
(
TimeSšû
(
ts_Ï‹r
), -500);

57 
EXPECT_LE
(
TimeUÁ
(
ts_Ï‹r
), 500);

60 
TEST
(
TimeTe¡
, 
Te¡TimeDiff64
) {

61 
št64_t
 
	gts_diff
 = 100;

62 
št64_t
 
	gts_—¾›r
 = 
¹c
::
TimeMlis
();

63 
št64_t
 
	gts_Ï‹r
 = 
ts_—¾›r
 + 
ts_diff
;

64 
EXPECT_EQ
(
ts_diff
, 
¹c
::
TimeDiff
(
ts_Ï‹r
, 
ts_—¾›r
));

65 
EXPECT_EQ
(-
ts_diff
, 
¹c
::
TimeDiff
(
ts_—¾›r
, 
ts_Ï‹r
));

68 şas 
	cTime¡ampW¿pAroundHªdËrTe¡
 : 
public
 ::
‹¡šg
::
Te¡
 {

69 
public
:

70 
Time¡ampW¿pAroundHªdËrTe¡
() {}

72 
´Ùeùed
:

73 
Time¡ampW¿pAroundHªdËr
 
w¿·round_hªdËr_
;

76 
	$TEST_F
(
Time¡ampW¿pAroundHªdËrTe¡
, 
Unw¿p
) {

78 
št64_t
 
ts
 = 2;

79 
	`EXPECT_EQ
(
ts
,

80 
w¿·round_hªdËr_
.
	`Unw¿p
(
¡©ic_ÿ¡
<
ušt32_t
>(
ts
 & 0xffffffff)));

83 
ts
 = -2;

84 
	`EXPECT_EQ
(
ts
,

85 
w¿·round_hªdËr_
.
	`Unw¿p
(
¡©ic_ÿ¡
<
ušt32_t
>(
ts
 & 0xffffffff)));

88 
ts
 = 2;

89 
	`EXPECT_EQ
(
ts
,

90 
w¿·round_hªdËr_
.
	`Unw¿p
(
¡©ic_ÿ¡
<
ušt32_t
>(
ts
 & 0xffffffff)));

93 
ušt32_t
 
i
 = 0; i <= 0xf; ++i) {

94 
ts
 = (
i
 << 28) + 0x0fffffff;

95 
	`EXPECT_EQ
(

96 
ts
, 
w¿·round_hªdËr_
.
	`Unw¿p
(
¡©ic_ÿ¡
<
ušt32_t
>(ts & 0xffffffff)));

100 
ts
 += 2;

101 
	`EXPECT_EQ
(
ts
,

102 
w¿·round_hªdËr_
.
	`Unw¿p
(
¡©ic_ÿ¡
<
ušt32_t
>(
ts
 & 0xffffffff)));

105 
ts
 -= 0x0fffffff;

106 
	`EXPECT_EQ
(
ts
,

107 
w¿·round_hªdËr_
.
	`Unw¿p
(
¡©ic_ÿ¡
<
ušt32_t
>(
ts
 & 0xffffffff)));

110 
ts
 += 0x0fffffff;

111 
	`EXPECT_EQ
(
ts
,

112 
w¿·round_hªdËr_
.
	`Unw¿p
(
¡©ic_ÿ¡
<
ušt32_t
>(
ts
 & 0xffffffff)));

113 
	}
}

115 
	$TEST_F
(
Time¡ampW¿pAroundHªdËrTe¡
, 
NoNeg©iveS¹
) {

116 
št64_t
 
ts
 = 0xfffffff0;

117 
	`EXPECT_EQ
(
ts
,

118 
w¿·round_hªdËr_
.
	`Unw¿p
(
¡©ic_ÿ¡
<
ušt32_t
>(
ts
 & 0xffffffff)));

119 
	}
}

121 şas 
	cTmToSecÚds
 : 
public
 ::
‹¡šg
::
Te¡
 {

122 
public
:

123 
TmToSecÚds
() {

125 
¹c
::
S‘RªdomTe¡Mode
(
Œue
);

127 ~
TmToSecÚds
(è
	gov”ride
 {

129 
	g¹c
::
S‘RªdomTe¡Mode
(
çl£
);

132 
Te¡TmToSecÚds
(
times
) {

133 
	gmdays
[12] = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};

134 
	gi
 = 0; i < 
	gtimes
; i++) {

136 
	gy—r
 = 
¹c
::
C»©eRªdomId
() % 400 + 1970;

138 
boŞ
 
	gË­_y—r
 = 
çl£
;

139 ià(
	gy—r
 % 4 == 0)

140 
Ë­_y—r
 = 
Œue
;

141 ià(
	gy—r
 % 100 == 0)

142 
Ë­_y—r
 = 
çl£
;

143 ià(
	gy—r
 % 400 == 0)

144 
Ë­_y—r
 = 
Œue
;

146 
	g¡d
::
tm
m;

147 
	gtm
.
	gtm_y—r
 = 
y—r
 - 1900;

148 
	gtm
.
	gtm_mÚ
 = 
¹c
::
C»©eRªdomId
() % 12;

149 
	gtm
.
	gtm_mday
 = 
¹c
::
C»©eRªdomId
(è% 
mdays
[
tm
.
tm_mÚ
] + 1;

150 
	gtm
.
	gtm_hour
 = 
¹c
::
C»©eRªdomId
() % 24;

151 
	gtm
.
	gtm_mš
 = 
¹c
::
C»©eRªdomId
() % 60;

152 
	gtm
.
	gtm_£c
 = 
¹c
::
C»©eRªdomId
() % 60;

153 
št64_t
 
	gt
 = 
¹c
::
TmToSecÚds
(
tm
);

154 
EXPECT_TRUE
(
t
 >= 0);

157 
	g¹c
::
C»©eRªdomId
() % 11) {

159 
tm
.
tm_y—r
 = 1969 - 1900;

162 
tm
.
tm_mÚ
 = -1;

165 
tm
.
tm_mÚ
 = 12;

168 
tm
.
tm_mday
 = 0;

171 
tm
.
tm_mday
 = 
mdays
[tm.
tm_mÚ
] + (
Ë­_y—r
 &&m.tm_mon == 1) + 1;

174 
tm
.
tm_hour
 = -1;

177 
tm
.
tm_hour
 = 24;

180 
tm
.
tm_mš
 = -1;

183 
tm
.
tm_mš
 = 60;

186 
tm
.
tm_£c
 = -1;

189 
tm
.
tm_£c
 = 60;

192 
EXPECT_EQ
(
¹c
::
TmToSecÚds
(
tm
), -1);

196 
	gi
 = 0; i < 
	gtimes
; i++) {

197 
time_t
 
	gt
 = 
¹c
::
C»©eRªdomId
() % 0x80000000;

198 #ià
defšed
(
WEBRTC_WIN
)

199 
	g¡d
::
tm
*m = 
¡d
::
gmtime
(&
t
);

200 
EXPECT_TRUE
(
tm
);

201 
EXPECT_TRUE
(
¹c
::
TmToSecÚds
(*
tm
è=ğ
t
);

203 
	g¡d
::
tm
m;

204 
EXPECT_TRUE
(
gmtime_r
(&
t
, &
tm
));

205 
EXPECT_TRUE
(
¹c
::
TmToSecÚds
(
tm
è=ğ
t
);

211 
	$TEST_F
(
TmToSecÚds
, 
Te¡TmToSecÚds
) {

212 
	`Te¡TmToSecÚds
(100000);

213 
	}
}

217 
	$TEST
(
FakeClock
, 
TimeFunùiÚsU£FakeClock
) {

218 
FakeClock
 
şock
;

219 
	`S‘ClockFÜTe¡šg
(&
şock
);

221 
şock
.
	`S‘Time
(
web¹c
::
Time¡amp
::
	`Miüos
(987654));

222 
	`EXPECT_EQ
(987u, 
	`Time32
());

223 
	`EXPECT_EQ
(987, 
	`TimeMlis
());

224 
	`EXPECT_EQ
(987654, 
	`TimeMiüos
());

225 
	`EXPECT_EQ
(987654000, 
	`TimeNªos
());

226 
	`EXPECT_EQ
(1000u, 
	`TimeAá”
(13));

228 
	`S‘ClockFÜTe¡šg
(
nuÎ±r
);

230 
	`EXPECT_NE
(987, 
	`TimeMlis
());

231 
	}
}

233 
	$TEST
(
FakeClock
, 
In™ŸlTime
) {

234 
FakeClock
 
şock
;

235 
	`EXPECT_EQ
(0, 
şock
.
	`TimeNªos
());

236 
	}
}

238 
	$TEST
(
FakeClock
, 
S‘Time
) {

239 
FakeClock
 
şock
;

240 
şock
.
	`S‘Time
(
web¹c
::
Time¡amp
::
	`Miüos
(123));

241 
	`EXPECT_EQ
(123000, 
şock
.
	`TimeNªos
());

242 
şock
.
	`S‘Time
(
web¹c
::
Time¡amp
::
	`Miüos
(456));

243 
	`EXPECT_EQ
(456000, 
şock
.
	`TimeNªos
());

244 
	}
}

246 
	$TEST
(
FakeClock
, 
AdvªûTime
) {

247 
FakeClock
 
şock
;

248 
şock
.
	`AdvªûTime
(
web¹c
::
TimeD–
::
	`Miüos
(1u));

249 
	`EXPECT_EQ
(1000, 
şock
.
	`TimeNªos
());

250 
şock
.
	`AdvªûTime
(
web¹c
::
TimeD–
::
	`Miüos
(2222u));

251 
	`EXPECT_EQ
(2223000, 
şock
.
	`TimeNªos
());

252 
şock
.
	`AdvªûTime
(
web¹c
::
TimeD–
::
	`Mlis
(3333u));

253 
	`EXPECT_EQ
(3335223000, 
şock
.
	`TimeNªos
());

254 
şock
.
	`AdvªûTime
(
web¹c
::
TimeD–
::
	`SecÚds
(4444u));

255 
	`EXPECT_EQ
(4447335223000, 
şock
.
	`TimeNªos
());

256 
	}
}

262 
	$TEST
(
FakeClock
, 
S‘tšgTimeWakesTh»ads
) {

263 
št64_t
 
»®_¡¬t_time_ms
 = 
	`TimeMlis
();

265 
Th»adProûssšgFakeClock
 
şock
;

266 
	`S‘ClockFÜTe¡šg
(&
şock
);

268 
¡d
::
unique_±r
<
Th»ad
> 
	`wÜk”
(Th»ad::
	`C»©eW™hSock‘S”v”
());

269 
wÜk”
->
	`S¹
();

272 
Ev’t
 
mes§ge_hªdËr_di¥©ched
;

273 
wÜk”
->
	`Po¡D–ayedTask
(
web¹c
::
	`ToQueuedTask
([&
mes§ge_hªdËr_di¥©ched
] {

274 
mes§ge_hªdËr_di¥©ched
.
	`S‘
();

281 
Th»ad
::
	`Cu¼’t
()->
	`SË•Ms
(1000);

285 
şock
.
	`AdvªûTime
(
web¹c
::
TimeD–
::
	`SecÚds
(60u));

286 
	`EXPECT_TRUE
(
mes§ge_hªdËr_di¥©ched
.
	`Wa™
(0));

287 
wÜk”
->
	`Stİ
();

289 
	`S‘ClockFÜTe¡šg
(
nuÎ±r
);

293 
št64_t
 
»®_’d_time_ms
 = 
	`TimeMlis
();

294 
	`EXPECT_LT
(
»®_’d_time_ms
 - 
»®_¡¬t_time_ms
, 10000);

295 
	}
}

	@timestamp_aligner.cc

11 
	~"¹c_ba£/time¡amp_®igÃr.h
"

13 
	~<c¡dlib
>

14 
	~<lim™s
>

16 
	~"¹c_ba£/checks.h
"

17 
	~"¹c_ba£/loggšg.h
"

18 
	~"¹c_ba£/time_uts.h
"

20 
Çme¥aû
 
	g¹c
 {

22 
	gTime¡ampAligÃr
::
Time¡ampAligÃr
()

23 : 
äames_£’_
(0),

24 
off£t_us_
(0),

25 
ş_bŸs_us_
(0),

26 
´ev_Œª¦©ed_time_us_
(
¡d
::
num”ic_lim™s
<
št64_t
>::
mš
()),

27 
´ev_time_off£t_us_
(0) {}

29 
	gTime¡ampAligÃr
::~
Time¡ampAligÃr
() {}

31 
št64_t
 
Time¡ampAligÃr
::
T¿n¦©eTime¡amp
(št64_ˆ
ÿ±u»r_time_us
,

32 
št64_t
 
sy¡em_time_us
) {

33 cÚ¡ 
št64_t
 
	gŒª¦©ed_time¡amp
 = 
ClTime¡amp
(

34 
ÿ±u»r_time_us
 + 
Upd©eOff£t
(ÿ±u»r_time_us, 
sy¡em_time_us
),

35 
sy¡em_time_us
);

36 
	g´ev_time_off£t_us_
 = 
Œª¦©ed_time¡amp
 - 
ÿ±u»r_time_us
;

37  
	gŒª¦©ed_time¡amp
;

40 
št64_t
 
	gTime¡ampAligÃr
::
T¿n¦©eTime¡amp
(št64_ˆ
ÿ±u»r_time_us
) const {

41  
ÿ±u»r_time_us
 + 
´ev_time_off£t_us_
;

44 
št64_t
 
	gTime¡ampAligÃr
::
Upd©eOff£t
(št64_ˆ
ÿ±u»r_time_us
,

45 
št64_t
 
sy¡em_time_us
) {

83 
št64_t
 
	gdiff_us
 = 
sy¡em_time_us
 - 
ÿ±u»r_time_us
;

85 
št64_t
 
	g”rÜ_us
 = 
diff_us
 - 
off£t_us_
;

96 cÚ¡ 
št64_t
 
	gkRe£tTh»shŞdUs
 = 300000;

97 ià(
	g¡d
::
abs
(
”rÜ_us
è> 
kRe£tTh»shŞdUs
) {

98 
RTC_LOG
(
LS_INFO
) << "Resettingimestampranslation‡fter‡veraging "

99 << 
äames_£’_
 << " f¿mes. Old off£t: " << 
off£t_us_


100 << ",‚ew off£t: " << 
diff_us
;

101 
	gäames_£’_
 = 0;

102 
	gş_bŸs_us_
 = 0;

105 cÚ¡ 
	gkWšdowSize
 = 100;

106 ià(
	gäames_£’_
 < 
	gkWšdowSize
) {

107 ++
	gäames_£’_
;

109 
	goff£t_us_
 +ğ
”rÜ_us
 / 
äames_£’_
;

110  
	goff£t_us_
;

113 
št64_t
 
	gTime¡ampAligÃr
::
ClTime¡amp
(št64_ˆ
f‹»d_time_us
,

114 
št64_t
 
sy¡em_time_us
) {

115 cÚ¡ 
št64_t
 
	gkMšF¿meIÁ”v®Us
 = 
¹c
::
kNumMiüo£csP”Mli£c
;

117 
št64_t
 
	gtime_us
 = 
f‹»d_time_us
 - 
ş_bŸs_us_
;

118 ià(
	gtime_us
 > 
	gsy¡em_time_us
) {

119 
	gş_bŸs_us_
 +ğ
time_us
 - 
sy¡em_time_us
;

120 
	gtime_us
 = 
sy¡em_time_us
;

123 ià(
	gtime_us
 < 
	g´ev_Œª¦©ed_time_us_
 + 
	gkMšF¿meIÁ”v®Us
) {

124 
	gtime_us
 = 
´ev_Œª¦©ed_time_us_
 + 
kMšF¿meIÁ”v®Us
;

125 ià(
	gtime_us
 > 
	gsy¡em_time_us
) {

131 
RTC_LOG
(
LS_WARNING
) << "too shortranslatedimestamp interval: "

133 << 
	gsy¡em_time_us
 << ", interval (us) = "

134 << 
	gsy¡em_time_us
 - 
	g´ev_Œª¦©ed_time_us_
;

135 
	gtime_us
 = 
sy¡em_time_us
;

138 
RTC_DCHECK_GE
(
time_us
, 
´ev_Œª¦©ed_time_us_
);

139 
RTC_DCHECK_LE
(
time_us
, 
sy¡em_time_us
);

140 
	g´ev_Œª¦©ed_time_us_
 = 
time_us
;

141  
	gtime_us
;

	@timestamp_aligner.h

11 #iâdeà
RTC_BASE_TIMESTAMP_ALIGNER_H_


12 
	#RTC_BASE_TIMESTAMP_ALIGNER_H_


	)

14 
	~<¡dšt.h
>

16 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

17 
	~"¹c_ba£/sy¡em/¹c_expÜt.h
"

19 
Çme¥aû
 
	g¹c
 {

33 şas 
	cRTC_EXPORT
 
	gTime¡ampAligÃr
 {

34 
	gpublic
:

35 
Time¡ampAligÃr
();

36 ~
Time¡ampAligÃr
();

38 
	gpublic
:

46 
št64_t
 
T¿n¦©eTime¡amp
(št64_ˆ
ÿ±u»r_time_us
, iÁ64_ˆ
sy¡em_time_us
);

51 
št64_t
 
T¿n¦©eTime¡amp
(št64_ˆ
ÿ±u»r_time_us
) const;

53 
	g´Ùeùed
:

56 
št64_t
 
Upd©eOff£t
(št64_ˆ
ÿ±u»r_time_us
, iÁ64_ˆ
sy¡em_time_us
);

62 
št64_t
 
ClTime¡amp
(št64_ˆ
f‹»d_time_us
, iÁ64_ˆ
sy¡em_time_us
);

64 
	g´iv©e
:

66 
äames_£’_
;

68 
št64_t
 
	goff£t_us_
;

74 
št64_t
 
	gş_bŸs_us_
;

76 
št64_t
 
	g´ev_Œª¦©ed_time_us_
;

79 
št64_t
 
	g´ev_time_off£t_us_
;

80 
RTC_DISALLOW_COPY_AND_ASSIGN
(
Time¡ampAligÃr
);

	@timestamp_aligner_unittest.cc

11 
	~"¹c_ba£/time¡amp_®igÃr.h
"

13 
	~<m©h.h
>

15 
	~<®gÜ™hm
>

16 
	~<lim™s
>

18 
	~"¹c_ba£/¿ndom.h
"

19 
	~"¹c_ba£/time_uts.h
"

20 
	~"‹¡/g‹¡.h
"

22 
Çme¥aû
 
	g¹c
 {

24 
	gÇme¥aû
 {

31 
M—nTimeDifã»nû
(
n§m¶es
, 
wšdow_size
) {

32 ià(
	gn§m¶es
 <ğ
wšdow_size
) {

34  
n§m¶es
 / 2.0;

38 
	g®pha
 = 1.0 - 1.0 / 
wšdow_size
;

40  ((
	gwšdow_size
 - 1) -

41 (
	gwšdow_size
 / 2.0 - 1è* 
pow
(
®pha
, 
n§m¶es
 - 
wšdow_size
));

45 şas 
	cTime¡ampAligÃrFÜTe¡
 : 
public
 
Time¡ampAligÃr
 {

47 
public
:

48 
usšg
 
Time¡ampAligÃr
::
ClTime¡amp
;

49 
usšg
 
	gTime¡ampAligÃr
::
Upd©eOff£t
;

52 
Te¡Time¡ampF‹r
(
»l_äeq_”rÜ
) {

53 
Time¡ampAligÃrFÜTe¡
 
	gtime¡amp_®igÃr_fÜ_‹¡
;

54 
Time¡ampAligÃr
 
	gtime¡amp_®igÃr
;

55 cÚ¡ 
št64_t
 
	gkEpoch
 = 10000;

56 cÚ¡ 
št64_t
 
	gkJ™‹rUs
 = 5000;

57 cÚ¡ 
št64_t
 
	gkIÁ”v®Us
 = 33333;

58 cÚ¡ 
	gkWšdowSize
 = 100;

59 cÚ¡ 
	gkNumF¿mes
 = 3 * 
kWšdowSize
;

61 
št64_t
 
	gš‹rv®_”rÜ_us
 = 
kIÁ”v®Us
 * 
»l_äeq_”rÜ
;

62 
št64_t
 
	gsy¡em_¡¬t_us
 = 
¹c
::
TimeMiüos
();

63 
	gweb¹c
::
Rªdom
 
¿ndom
(17);

65 
št64_t
 
	g´ev_Œª¦©ed_time_us
 = 
sy¡em_¡¬t_us
;

67 
	gi
 = 0; i < 
	gkNumF¿mes
; i++) {

69 
št64_t
 
	gÿm”a_time_us
 = 
kEpoch
 + 
i
 * (
kIÁ”v®Us
 + 
š‹rv®_”rÜ_us
);

70 
št64_t
 
	gsy¡em_time_us
 = 
sy¡em_¡¬t_us
 + 
i
 * 
kIÁ”v®Us
;

72 
št64_t
 
	gsy¡em_m—su»d_us
 = 
sy¡em_time_us
 + 
¿ndom
.
Rªd
(
kJ™‹rUs
);

74 
št64_t
 
	goff£t_us
 = 
time¡amp_®igÃr_fÜ_‹¡
.
Upd©eOff£t
(

75 
ÿm”a_time_us
, 
sy¡em_m—su»d_us
);

77 
št64_t
 
	gf‹»d_time_us
 = 
ÿm”a_time_us
 + 
off£t_us
;

78 
št64_t
 
	gŒª¦©ed_time_us
 = 
time¡amp_®igÃr_fÜ_‹¡
.
ClTime¡amp
(

79 
f‹»d_time_us
, 
sy¡em_m—su»d_us
);

82 
ASSERT_EQ
(
Œª¦©ed_time_us
, 
time¡amp_®igÃr
.
T¿n¦©eTime¡amp
(

83 
ÿm”a_time_us
, 
sy¡em_m—su»d_us
));

85 
EXPECT_LE
(
Œª¦©ed_time_us
, 
sy¡em_m—su»d_us
);

86 
EXPECT_GE
(
Œª¦©ed_time_us
,

87 
´ev_Œª¦©ed_time_us
 + 
¹c
::
kNumMiüo£csP”Mli£c
);

92 
št64_t
 
	gex³ùed_”rÜ_us
 =

93 
kJ™‹rUs
 / 2 +

94 
»l_äeq_”rÜ
 * 
kIÁ”v®Us
 * 
M—nTimeDifã»nû
(
i
, 
kWšdowSize
);

96 
št64_t
 
	gbŸs_us
 = 
f‹»d_time_us
 - 
Œª¦©ed_time_us
;

97 
EXPECT_GE
(
bŸs_us
, 0);

99 ià(
	gi
 == 0) {

100 
EXPECT_EQ
(
Œª¦©ed_time_us
, 
sy¡em_m—su»d_us
);

102 
EXPECT_NEAR
(
f‹»d_time_us
, 
sy¡em_time_us
 + 
ex³ùed_”rÜ_us
,

103 2.0 * 
kJ™‹rUs
 / 
sq¹
(
¡d
::
max
(
i
, 
kWšdowSize
)));

110 ià(
	gi
 < 10 || 
	g»l_äeq_”rÜ
 <= 0.0) {

111 
EXPECT_LE
(
bŸs_us
, 3000);

113 
EXPECT_NEAR
(
bŸs_us
, 
ex³ùed_”rÜ_us
, 1500);

115 
	g´ev_Œª¦©ed_time_us
 = 
Œª¦©ed_time_us
;

121 
	$TEST
(
Time¡ampAligÃrTe¡
, 
A‰’u©eTime¡ampJ™‹rNoDriá
) {

122 
	`Te¡Time¡ampF‹r
(0.0);

123 
	}
}

126 
	$TEST
(
Time¡ampAligÃrTe¡
, 
A‰’u©eTime¡ampJ™‹rSm®lPosDriá
) {

127 
	`Te¡Time¡ampF‹r
(0.0001);

128 
	}
}

130 
	$TEST
(
Time¡ampAligÃrTe¡
, 
A‰’u©eTime¡ampJ™‹rSm®lNegDriá
) {

131 
	`Te¡Time¡ampF‹r
(-0.0001);

132 
	}
}

136 
	$TEST
(
Time¡ampAligÃrTe¡
, 
A‰’u©eTime¡ampJ™‹rL¬gePosDriá
) {

137 
	`Te¡Time¡ampF‹r
(0.003);

138 
	}
}

140 
	$TEST
(
Time¡ampAligÃrTe¡
, 
A‰’u©eTime¡ampJ™‹rL¬geNegDriá
) {

141 
	`Te¡Time¡ampF‹r
(-0.003);

142 
	}
}

148 
	$TEST
(
Time¡ampAligÃrTe¡
, 
ClToMÚÙÚous
) {

149 
Time¡ampAligÃrFÜTe¡
 
time¡amp_®igÃr
;

154 cÚ¡ 
kNumSam¶es
 = 3;

155 cÚ¡ 
št64_t
 
kC­tu»TimeUs
[
kNumSam¶es
] = {0, 80000, 90001};

156 cÚ¡ 
št64_t
 
kSy¡emTimeUs
[
kNumSam¶es
] = {0, 10000, 20000};

157 cÚ¡ 
št64_t
 
ex³ùed_off£t_us
[
kNumSam¶es
] = {0, -35000, -46667};

164 cÚ¡ 
št64_t
 
kClBŸsUs
 = 100000;

166 
boŞ
 
did_ş
 = 
çl£
;

167 
št64_t
 
´ev_time¡amp_us
 = 
¡d
::
num”ic_lim™s
<št64_t>::
	`mš
();

168 
i
 = 0; i < 
kNumSam¶es
; i++) {

169 
št64_t
 
off£t_us
 =

170 
time¡amp_®igÃr
.
	`Upd©eOff£t
(
kC­tu»TimeUs
[
i
], 
kSy¡emTimeUs
[i]);

171 
	`EXPECT_EQ
(
off£t_us
, 
ex³ùed_off£t_us
[
i
]);

173 
št64_t
 
Œª¦©ed_time¡amp_us
 = 
kC­tu»TimeUs
[
i
] + 
off£t_us
;

174 
št64_t
 
ş_time¡amp_us
 = 
time¡amp_®igÃr
.
	`ClTime¡amp
(

175 
Œª¦©ed_time¡amp_us
, 
kSy¡emTimeUs
[
i
] + 
kClBŸsUs
);

176 ià(
Œª¦©ed_time¡amp_us
 <ğ
´ev_time¡amp_us
) {

177 
did_ş
 = 
Œue
;

178 
	`EXPECT_EQ
(
ş_time¡amp_us
,

179 
´ev_time¡amp_us
 + 
¹c
::
kNumMiüo£csP”Mli£c
);

182 
	`EXPECT_EQ
(
ş_time¡amp_us
, 
Œª¦©ed_time¡amp_us
);

184 
´ev_time¡amp_us
 = 
ş_time¡amp_us
;

186 
	`EXPECT_TRUE
(
did_ş
);

187 
	}
}

189 
	$TEST
(
Time¡ampAligÃrTe¡
, 
T¿n¦©eTime¡ampW™houtS‹Upd©e
) {

190 
Time¡ampAligÃr
 
time¡amp_®igÃr
;

192 
cÚ¡ex´
 
kNumSam¶es
 = 4;

193 
cÚ¡ex´
 
št64_t
 
kC­tu»TimeUs
[
kNumSam¶es
] = {0, 80000, 90001, 100000};

194 
cÚ¡ex´
 
št64_t
 
kSy¡emTimeUs
[
kNumSam¶es
] = {0, 10000, 20000, 30000};

195 
cÚ¡ex´
 
št64_t
 
kQu”yC­tu»TimeOff£tUs
[
kNumSam¶es
] = {0, 123, -321,

198 
i
 = 0; i < 
kNumSam¶es
; i++) {

199 
št64_t
 
»ã»nû_time¡amp
 = 
time¡amp_®igÃr
.
	`T¿n¦©eTime¡amp
(

200 
kC­tu»TimeUs
[
i
], 
kSy¡emTimeUs
[i]);

201 
	`EXPECT_EQ
(
»ã»nû_time¡amp
 - 
kQu”yC­tu»TimeOff£tUs
[
i
],

202 
time¡amp_®igÃr
.
	`T¿n¦©eTime¡amp
(

203 
kC­tu»TimeUs
[
i
] - 
kQu”yC­tu»TimeOff£tUs
[i]));

205 
	}
}

	@trace_event.h

6 #iâdeà
RTC_BASE_TRACE_EVENT_H_


7 
	#RTC_BASE_TRACE_EVENT_H_


	)

9 
	~<¡ršg
>

11 
	~"¹c_ba£/ev’t_Œaûr.h
"

13 #ià
defšed
(
TRACE_EVENT0
)

17 #ià
defšed
(
RTC_DISABLE_TRACE_EVENTS
)

18 
	#RTC_TRACE_EVENTS_ENABLED
 0

	)

20 
	#RTC_TRACE_EVENTS_ENABLED
 1

	)

24 
	#TRACE_VALUE_TYPE_BOOL
 (
¡©ic_ÿ¡
<>(1))

	)

25 
	#TRACE_VALUE_TYPE_UINT
 (
¡©ic_ÿ¡
<>(2))

	)

26 
	#TRACE_VALUE_TYPE_INT
 (
¡©ic_ÿ¡
<>(3))

	)

27 
	#TRACE_VALUE_TYPE_DOUBLE
 (
¡©ic_ÿ¡
<>(4))

	)

28 
	#TRACE_VALUE_TYPE_POINTER
 (
¡©ic_ÿ¡
<>(5))

	)

29 
	#TRACE_VALUE_TYPE_STRING
 (
¡©ic_ÿ¡
<>(6))

	)

30 
	#TRACE_VALUE_TYPE_COPY_STRING
 (
¡©ic_ÿ¡
<>(7))

	)

32 #ià
RTC_TRACE_EVENTS_ENABLED


163 
	#TRACE_STR_COPY
(
¡r
) \

164 
web¹c
::
Œaû_ev’t_š‹º®
::
	`T¿ûSŒšgW™hCİy
(
¡r
)

	)

168 
	#TRACE_DISABLED_BY_DEFAULT
(
Çme
è"di§bËd-by-deçuÉ-" 
	)
name

172 
	#TRACE_ID_MANGLE
(
id
) \

173 
web¹c
::
Œaû_ev’t_š‹º®
::
T¿ûID
::
	`FÜûMªgË
(
id
)

	)

180 
	#TRACE_EVENT0
(
ÿ‹gÜy
, 
Çme
) \

181 
	`INTERNAL_TRACE_EVENT_ADD_SCOPED
(
ÿ‹gÜy
, 
Çme
)

	)

182 
	#TRACE_EVENT1
(
ÿ‹gÜy
, 
Çme
, 
¬g1_Çme
, 
¬g1_v®
) \

183 
	`INTERNAL_TRACE_EVENT_ADD_SCOPED
(
ÿ‹gÜy
, 
Çme
, 
¬g1_Çme
, 
¬g1_v®
)

	)

184 
	#TRACE_EVENT2
(
ÿ‹gÜy
, 
Çme
, 
¬g1_Çme
, 
¬g1_v®
, 
¬g2_Çme
, 
¬g2_v®
) \

185 
	`INTERNAL_TRACE_EVENT_ADD_SCOPED
(
ÿ‹gÜy
, 
Çme
, 
¬g1_Çme
, 
¬g1_v®
, \

186 
¬g2_Çme
, 
¬g2_v®
)

	)

193 
	#TRACE_EVENT_INSTANT0
(
ÿ‹gÜy
, 
Çme
) \

194 
	`INTERNAL_TRACE_EVENT_ADD
(
TRACE_EVENT_PHASE_INSTANT
, \

195 
ÿ‹gÜy
, 
Çme
, 
TRACE_EVENT_FLAG_NONE
)

	)

196 
	#TRACE_EVENT_INSTANT1
(
ÿ‹gÜy
, 
Çme
, 
¬g1_Çme
, 
¬g1_v®
) \

197 
	`INTERNAL_TRACE_EVENT_ADD
(
TRACE_EVENT_PHASE_INSTANT
, \

198 
ÿ‹gÜy
, 
Çme
, 
TRACE_EVENT_FLAG_NONE
, 
¬g1_Çme
, 
¬g1_v®
)

	)

199 
	#TRACE_EVENT_INSTANT2
(
ÿ‹gÜy
, 
Çme
, 
¬g1_Çme
, 
¬g1_v®
, \

200 
¬g2_Çme
, 
¬g2_v®
) \

201 
	`INTERNAL_TRACE_EVENT_ADD
(
TRACE_EVENT_PHASE_INSTANT
, \

202 
ÿ‹gÜy
, 
Çme
, 
TRACE_EVENT_FLAG_NONE
, 
¬g1_Çme
, 
¬g1_v®
, \

203 
¬g2_Çme
, 
¬g2_v®
)

	)

204 
	#TRACE_EVENT_COPY_INSTANT0
(
ÿ‹gÜy
, 
Çme
) \

205 
	`INTERNAL_TRACE_EVENT_ADD
(
TRACE_EVENT_PHASE_INSTANT
, \

206 
ÿ‹gÜy
, 
Çme
, 
TRACE_EVENT_FLAG_COPY
)

	)

207 
	#TRACE_EVENT_COPY_INSTANT1
(
ÿ‹gÜy
, 
Çme
, 
¬g1_Çme
, 
¬g1_v®
) \

208 
	`INTERNAL_TRACE_EVENT_ADD
(
TRACE_EVENT_PHASE_INSTANT
, \

209 
ÿ‹gÜy
, 
Çme
, 
TRACE_EVENT_FLAG_COPY
, 
¬g1_Çme
, 
¬g1_v®
)

	)

210 
	#TRACE_EVENT_COPY_INSTANT2
(
ÿ‹gÜy
, 
Çme
, 
¬g1_Çme
, 
¬g1_v®
, \

211 
¬g2_Çme
, 
¬g2_v®
) \

212 
	`INTERNAL_TRACE_EVENT_ADD
(
TRACE_EVENT_PHASE_INSTANT
, \

213 
ÿ‹gÜy
, 
Çme
, 
TRACE_EVENT_FLAG_COPY
, 
¬g1_Çme
, 
¬g1_v®
, \

214 
¬g2_Çme
, 
¬g2_v®
)

	)

221 
	#TRACE_EVENT_BEGIN0
(
ÿ‹gÜy
, 
Çme
) \

222 
	`INTERNAL_TRACE_EVENT_ADD
(
TRACE_EVENT_PHASE_BEGIN
, \

223 
ÿ‹gÜy
, 
Çme
, 
TRACE_EVENT_FLAG_NONE
)

	)

224 
	#TRACE_EVENT_BEGIN1
(
ÿ‹gÜy
, 
Çme
, 
¬g1_Çme
, 
¬g1_v®
) \

225 
	`INTERNAL_TRACE_EVENT_ADD
(
TRACE_EVENT_PHASE_BEGIN
, \

226 
ÿ‹gÜy
, 
Çme
, 
TRACE_EVENT_FLAG_NONE
, 
¬g1_Çme
, 
¬g1_v®
)

	)

227 
	#TRACE_EVENT_BEGIN2
(
ÿ‹gÜy
, 
Çme
, 
¬g1_Çme
, 
¬g1_v®
, \

228 
¬g2_Çme
, 
¬g2_v®
) \

229 
	`INTERNAL_TRACE_EVENT_ADD
(
TRACE_EVENT_PHASE_BEGIN
, \

230 
ÿ‹gÜy
, 
Çme
, 
TRACE_EVENT_FLAG_NONE
, 
¬g1_Çme
, 
¬g1_v®
, \

231 
¬g2_Çme
, 
¬g2_v®
)

	)

232 
	#TRACE_EVENT_COPY_BEGIN0
(
ÿ‹gÜy
, 
Çme
) \

233 
	`INTERNAL_TRACE_EVENT_ADD
(
TRACE_EVENT_PHASE_BEGIN
, \

234 
ÿ‹gÜy
, 
Çme
, 
TRACE_EVENT_FLAG_COPY
)

	)

235 
	#TRACE_EVENT_COPY_BEGIN1
(
ÿ‹gÜy
, 
Çme
, 
¬g1_Çme
, 
¬g1_v®
) \

236 
	`INTERNAL_TRACE_EVENT_ADD
(
TRACE_EVENT_PHASE_BEGIN
, \

237 
ÿ‹gÜy
, 
Çme
, 
TRACE_EVENT_FLAG_COPY
, 
¬g1_Çme
, 
¬g1_v®
)

	)

238 
	#TRACE_EVENT_COPY_BEGIN2
(
ÿ‹gÜy
, 
Çme
, 
¬g1_Çme
, 
¬g1_v®
, \

239 
¬g2_Çme
, 
¬g2_v®
) \

240 
	`INTERNAL_TRACE_EVENT_ADD
(
TRACE_EVENT_PHASE_BEGIN
, \

241 
ÿ‹gÜy
, 
Çme
, 
TRACE_EVENT_FLAG_COPY
, 
¬g1_Çme
, 
¬g1_v®
, \

242 
¬g2_Çme
, 
¬g2_v®
)

	)

248 
	#TRACE_EVENT_END0
(
ÿ‹gÜy
, 
Çme
) \

249 
	`INTERNAL_TRACE_EVENT_ADD
(
TRACE_EVENT_PHASE_END
, \

250 
ÿ‹gÜy
, 
Çme
, 
TRACE_EVENT_FLAG_NONE
)

	)

251 
	#TRACE_EVENT_END1
(
ÿ‹gÜy
, 
Çme
, 
¬g1_Çme
, 
¬g1_v®
) \

252 
	`INTERNAL_TRACE_EVENT_ADD
(
TRACE_EVENT_PHASE_END
, \

253 
ÿ‹gÜy
, 
Çme
, 
TRACE_EVENT_FLAG_NONE
, 
¬g1_Çme
, 
¬g1_v®
)

	)

254 
	#TRACE_EVENT_END2
(
ÿ‹gÜy
, 
Çme
, 
¬g1_Çme
, 
¬g1_v®
, \

255 
¬g2_Çme
, 
¬g2_v®
) \

256 
	`INTERNAL_TRACE_EVENT_ADD
(
TRACE_EVENT_PHASE_END
, \

257 
ÿ‹gÜy
, 
Çme
, 
TRACE_EVENT_FLAG_NONE
, 
¬g1_Çme
, 
¬g1_v®
, \

258 
¬g2_Çme
, 
¬g2_v®
)

	)

259 
	#TRACE_EVENT_COPY_END0
(
ÿ‹gÜy
, 
Çme
) \

260 
	`INTERNAL_TRACE_EVENT_ADD
(
TRACE_EVENT_PHASE_END
, \

261 
ÿ‹gÜy
, 
Çme
, 
TRACE_EVENT_FLAG_COPY
)

	)

262 
	#TRACE_EVENT_COPY_END1
(
ÿ‹gÜy
, 
Çme
, 
¬g1_Çme
, 
¬g1_v®
) \

263 
	`INTERNAL_TRACE_EVENT_ADD
(
TRACE_EVENT_PHASE_END
, \

264 
ÿ‹gÜy
, 
Çme
, 
TRACE_EVENT_FLAG_COPY
, 
¬g1_Çme
, 
¬g1_v®
)

	)

265 
	#TRACE_EVENT_COPY_END2
(
ÿ‹gÜy
, 
Çme
, 
¬g1_Çme
, 
¬g1_v®
, \

266 
¬g2_Çme
, 
¬g2_v®
) \

267 
	`INTERNAL_TRACE_EVENT_ADD
(
TRACE_EVENT_PHASE_END
, \

268 
ÿ‹gÜy
, 
Çme
, 
TRACE_EVENT_FLAG_COPY
, 
¬g1_Çme
, 
¬g1_v®
, \

269 
¬g2_Çme
, 
¬g2_v®
)

	)

275 
	#TRACE_COUNTER1
(
ÿ‹gÜy
, 
Çme
, 
v®ue
) \

276 
	`INTERNAL_TRACE_EVENT_ADD
(
TRACE_EVENT_PHASE_COUNTER
, \

277 
ÿ‹gÜy
, 
Çme
, 
TRACE_EVENT_FLAG_NONE
, \

278 "v®ue", 
¡©ic_ÿ¡
<>(
v®ue
))

	)

279 
	#TRACE_COPY_COUNTER1
(
ÿ‹gÜy
, 
Çme
, 
v®ue
) \

280 
	`INTERNAL_TRACE_EVENT_ADD
(
TRACE_EVENT_PHASE_COUNTER
, \

281 
ÿ‹gÜy
, 
Çme
, 
TRACE_EVENT_FLAG_COPY
, \

282 "v®ue", 
¡©ic_ÿ¡
<>(
v®ue
))

	)

289 
	#TRACE_COUNTER2
(
ÿ‹gÜy
, 
Çme
, 
v®ue1_Çme
, 
v®ue1_v®
, \

290 
v®ue2_Çme
, 
v®ue2_v®
) \

291 
	`INTERNAL_TRACE_EVENT_ADD
(
TRACE_EVENT_PHASE_COUNTER
, \

292 
ÿ‹gÜy
, 
Çme
, 
TRACE_EVENT_FLAG_NONE
, \

293 
v®ue1_Çme
, 
¡©ic_ÿ¡
<>(
v®ue1_v®
), \

294 
v®ue2_Çme
, 
¡©ic_ÿ¡
<>(
v®ue2_v®
))

	)

295 
	#TRACE_COPY_COUNTER2
(
ÿ‹gÜy
, 
Çme
, 
v®ue1_Çme
, 
v®ue1_v®
, \

296 
v®ue2_Çme
, 
v®ue2_v®
) \

297 
	`INTERNAL_TRACE_EVENT_ADD
(
TRACE_EVENT_PHASE_COUNTER
, \

298 
ÿ‹gÜy
, 
Çme
, 
TRACE_EVENT_FLAG_COPY
, \

299 
v®ue1_Çme
, 
¡©ic_ÿ¡
<>(
v®ue1_v®
), \

300 
v®ue2_Çme
, 
¡©ic_ÿ¡
<>(
v®ue2_v®
))

	)

310 
	#TRACE_COUNTER_ID1
(
ÿ‹gÜy
, 
Çme
, 
id
, 
v®ue
) \

311 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_COUNTER
, \

312 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_NONE
, \

313 "v®ue", 
¡©ic_ÿ¡
<>(
v®ue
))

	)

314 
	#TRACE_COPY_COUNTER_ID1
(
ÿ‹gÜy
, 
Çme
, 
id
, 
v®ue
) \

315 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_COUNTER
, \

316 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_COPY
, \

317 "v®ue", 
¡©ic_ÿ¡
<>(
v®ue
))

	)

328 
	#TRACE_COUNTER_ID2
(
ÿ‹gÜy
, 
Çme
, 
id
, 
v®ue1_Çme
, 
v®ue1_v®
, \

329 
v®ue2_Çme
, 
v®ue2_v®
) \

330 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_COUNTER
, \

331 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_NONE
, \

332 
v®ue1_Çme
, 
¡©ic_ÿ¡
<>(
v®ue1_v®
), \

333 
v®ue2_Çme
, 
¡©ic_ÿ¡
<>(
v®ue2_v®
))

	)

334 
	#TRACE_COPY_COUNTER_ID2
(
ÿ‹gÜy
, 
Çme
, 
id
, 
v®ue1_Çme
, 
v®ue1_v®
, \

335 
v®ue2_Çme
, 
v®ue2_v®
) \

336 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_COUNTER
, \

337 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_COPY
, \

338 
v®ue1_Çme
, 
¡©ic_ÿ¡
<>(
v®ue1_v®
), \

339 
v®ue2_Çme
, 
¡©ic_ÿ¡
<>(
v®ue2_v®
))

	)

359 
	#TRACE_EVENT_ASYNC_BEGIN0
(
ÿ‹gÜy
, 
Çme
, 
id
) \

360 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_ASYNC_BEGIN
, \

361 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_NONE
)

	)

362 
	#TRACE_EVENT_ASYNC_BEGIN1
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
) \

363 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_ASYNC_BEGIN
, \

364 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_NONE
, 
¬g1_Çme
, 
¬g1_v®
)

	)

365 
	#TRACE_EVENT_ASYNC_BEGIN2
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
, \

366 
¬g2_Çme
, 
¬g2_v®
) \

367 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_ASYNC_BEGIN
, \

368 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_NONE
, \

369 
¬g1_Çme
, 
¬g1_v®
, 
¬g2_Çme
, 
¬g2_v®
)

	)

370 
	#TRACE_EVENT_COPY_ASYNC_BEGIN0
(
ÿ‹gÜy
, 
Çme
, 
id
) \

371 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_ASYNC_BEGIN
, \

372 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_COPY
)

	)

373 
	#TRACE_EVENT_COPY_ASYNC_BEGIN1
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
) \

374 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_ASYNC_BEGIN
, \

375 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_COPY
, \

376 
¬g1_Çme
, 
¬g1_v®
)

	)

377 
	#TRACE_EVENT_COPY_ASYNC_BEGIN2
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
, \

378 
¬g2_Çme
, 
¬g2_v®
) \

379 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_ASYNC_BEGIN
, \

380 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_COPY
, \

381 
¬g1_Çme
, 
¬g1_v®
, 
¬g2_Çme
, 
¬g2_v®
)

	)

388 
	#TRACE_EVENT_ASYNC_STEP0
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¡•
) \

389 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_ASYNC_STEP
, \

390 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_NONE
, "¡•", 
¡•
)

	)

391 
	#TRACE_EVENT_ASYNC_STEP1
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¡•
, \

392 
¬g1_Çme
, 
¬g1_v®
) \

393 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_ASYNC_STEP
, \

394 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_NONE
, "¡•", 
¡•
, \

395 
¬g1_Çme
, 
¬g1_v®
)

	)

396 
	#TRACE_EVENT_COPY_ASYNC_STEP0
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¡•
) \

397 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_ASYNC_STEP
, \

398 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_COPY
, "¡•", 
¡•
)

	)

399 
	#TRACE_EVENT_COPY_ASYNC_STEP1
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¡•
, \

400 
¬g1_Çme
, 
¬g1_v®
) \

401 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_ASYNC_STEP
, \

402 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_COPY
, "¡•", 
¡•
, \

403 
¬g1_Çme
, 
¬g1_v®
)

	)

407 
	#TRACE_EVENT_ASYNC_END0
(
ÿ‹gÜy
, 
Çme
, 
id
) \

408 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_ASYNC_END
, \

409 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_NONE
)

	)

410 
	#TRACE_EVENT_ASYNC_END1
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
) \

411 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_ASYNC_END
, \

412 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_NONE
, 
¬g1_Çme
, 
¬g1_v®
)

	)

413 
	#TRACE_EVENT_ASYNC_END2
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
, \

414 
¬g2_Çme
, 
¬g2_v®
) \

415 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_ASYNC_END
, \

416 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_NONE
, \

417 
¬g1_Çme
, 
¬g1_v®
, 
¬g2_Çme
, 
¬g2_v®
)

	)

418 
	#TRACE_EVENT_COPY_ASYNC_END0
(
ÿ‹gÜy
, 
Çme
, 
id
) \

419 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_ASYNC_END
, \

420 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_COPY
)

	)

421 
	#TRACE_EVENT_COPY_ASYNC_END1
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
) \

422 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_ASYNC_END
, \

423 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_COPY
, \

424 
¬g1_Çme
, 
¬g1_v®
)

	)

425 
	#TRACE_EVENT_COPY_ASYNC_END2
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
, \

426 
¬g2_Çme
, 
¬g2_v®
) \

427 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_ASYNC_END
, \

428 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_COPY
, \

429 
¬g1_Çme
, 
¬g1_v®
, 
¬g2_Çme
, 
¬g2_v®
)

	)

451 
	#TRACE_EVENT_FLOW_BEGIN0
(
ÿ‹gÜy
, 
Çme
, 
id
) \

452 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_FLOW_BEGIN
, \

453 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_NONE
)

	)

454 
	#TRACE_EVENT_FLOW_BEGIN1
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
) \

455 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_FLOW_BEGIN
, \

456 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_NONE
, 
¬g1_Çme
, 
¬g1_v®
)

	)

457 
	#TRACE_EVENT_FLOW_BEGIN2
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
, \

458 
¬g2_Çme
, 
¬g2_v®
) \

459 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_FLOW_BEGIN
, \

460 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_NONE
, \

461 
¬g1_Çme
, 
¬g1_v®
, 
¬g2_Çme
, 
¬g2_v®
)

	)

462 
	#TRACE_EVENT_COPY_FLOW_BEGIN0
(
ÿ‹gÜy
, 
Çme
, 
id
) \

463 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_FLOW_BEGIN
, \

464 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_COPY
)

	)

465 
	#TRACE_EVENT_COPY_FLOW_BEGIN1
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
) \

466 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_FLOW_BEGIN
, \

467 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_COPY
, \

468 
¬g1_Çme
, 
¬g1_v®
)

	)

469 
	#TRACE_EVENT_COPY_FLOW_BEGIN2
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
, \

470 
¬g2_Çme
, 
¬g2_v®
) \

471 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_FLOW_BEGIN
, \

472 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_COPY
, \

473 
¬g1_Çme
, 
¬g1_v®
, 
¬g2_Çme
, 
¬g2_v®
)

	)

480 
	#TRACE_EVENT_FLOW_STEP0
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¡•
) \

481 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_FLOW_STEP
, \

482 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_NONE
, "¡•", 
¡•
)

	)

483 
	#TRACE_EVENT_FLOW_STEP1
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¡•
, \

484 
¬g1_Çme
, 
¬g1_v®
) \

485 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_FLOW_STEP
, \

486 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_NONE
, "¡•", 
¡•
, \

487 
¬g1_Çme
, 
¬g1_v®
)

	)

488 
	#TRACE_EVENT_COPY_FLOW_STEP0
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¡•
) \

489 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_FLOW_STEP
, \

490 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_COPY
, "¡•", 
¡•
)

	)

491 
	#TRACE_EVENT_COPY_FLOW_STEP1
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¡•
, \

492 
¬g1_Çme
, 
¬g1_v®
) \

493 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_FLOW_STEP
, \

494 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_COPY
, "¡•", 
¡•
, \

495 
¬g1_Çme
, 
¬g1_v®
)

	)

499 
	#TRACE_EVENT_FLOW_END0
(
ÿ‹gÜy
, 
Çme
, 
id
) \

500 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_FLOW_END
, \

501 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_NONE
)

	)

502 
	#TRACE_EVENT_FLOW_END1
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
) \

503 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_FLOW_END
, \

504 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_NONE
, 
¬g1_Çme
, 
¬g1_v®
)

	)

505 
	#TRACE_EVENT_FLOW_END2
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
, \

506 
¬g2_Çme
, 
¬g2_v®
) \

507 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_FLOW_END
, \

508 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_NONE
, \

509 
¬g1_Çme
, 
¬g1_v®
, 
¬g2_Çme
, 
¬g2_v®
)

	)

510 
	#TRACE_EVENT_COPY_FLOW_END0
(
ÿ‹gÜy
, 
Çme
, 
id
) \

511 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_FLOW_END
, \

512 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_COPY
)

	)

513 
	#TRACE_EVENT_COPY_FLOW_END1
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
) \

514 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_FLOW_END
, \

515 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_COPY
, \

516 
¬g1_Çme
, 
¬g1_v®
)

	)

517 
	#TRACE_EVENT_COPY_FLOW_END2
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
, \

518 
¬g2_Çme
, 
¬g2_v®
) \

519 
	`INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
TRACE_EVENT_PHASE_FLOW_END
, \

520 
ÿ‹gÜy
, 
Çme
, 
id
, 
TRACE_EVENT_FLAG_COPY
, \

521 
¬g1_Çme
, 
¬g1_v®
, 
¬g2_Çme
, 
¬g2_v®
)

	)

537 
	#TRACE_EVENT_API_GET_CATEGORY_ENABLED
 \

538 
web¹c
::
Ev’tT¿ûr
::
G‘C©egÜyEÇbËd


	)

551 
	#TRACE_EVENT_API_ADD_TRACE_EVENT
 
web¹c
::
Ev’tT¿ûr
::
AddT¿ûEv’t


	)

558 
	#INTERNAL_TRACE_EVENT_UID3
(
a
,
b
) \

559 
Œaû_ev’t_unique_
##
a
##
b


	)

560 
	#INTERNAL_TRACE_EVENT_UID2
(
a
,
b
) \

561 
	`INTERNAL_TRACE_EVENT_UID3
(
a
,
b
)

	)

562 
	#INTERNAL_TRACE_EVENT_UID
(
Çme_´efix
) \

563 
	`INTERNAL_TRACE_EVENT_UID2
(
Çme_´efix
, 
__LINE__
)

	)

565 #ià
WEBRTC_NON_STATIC_TRACE_EVENT_HANDLERS


566 
	#INTERNAL_TRACE_EVENT_INFO_TYPE
 cÚ¡ *

	)

568 
	#INTERNAL_TRACE_EVENT_INFO_TYPE
 cÚ¡ *

	)

572 
	#INTERNAL_TRACE_EVENT_GET_CATEGORY_INFO
(
ÿ‹gÜy
) \

573 
INTERNAL_TRACE_EVENT_INFO_TYPE
 
	`INTERNAL_TRACE_EVENT_UID
(
ÿt¡©ic
) = \

574 
	`TRACE_EVENT_API_GET_CATEGORY_ENABLED
(
ÿ‹gÜy
);

	)

578 
	#INTERNAL_TRACE_EVENT_ADD
(
pha£
, 
ÿ‹gÜy
, 
Çme
, 
æags
, ...) \

580 
	`INTERNAL_TRACE_EVENT_GET_CATEGORY_INFO
(
ÿ‹gÜy
); \

581 ià(*
	`INTERNAL_TRACE_EVENT_UID
(
ÿt¡©ic
)) { \

582 
web¹c
::
Œaû_ev’t_š‹º®
::
	`AddT¿ûEv’t
( \

583 
pha£
, 
	`INTERNAL_TRACE_EVENT_UID
(
ÿt¡©ic
), 
Çme
, \

584 
web¹c
::
Œaû_ev’t_š‹º®
::
kNoEv’tId
, 
æags
, ##
__VA_ARGS__
); \

586 } 0)

	)

591 
	#INTERNAL_TRACE_EVENT_ADD_SCOPED
(
ÿ‹gÜy
, 
Çme
, ...) \

592 
	`INTERNAL_TRACE_EVENT_GET_CATEGORY_INFO
(
ÿ‹gÜy
); \

593 
web¹c
::
Œaû_ev’t_š‹º®
::
T¿ûEndOnScİeClo£
 \

594 
	`INTERNAL_TRACE_EVENT_UID
(
´ofeScİe
); \

595 ià(*
	`INTERNAL_TRACE_EVENT_UID
(
ÿt¡©ic
)) { \

596 
web¹c
::
Œaû_ev’t_š‹º®
::
	`AddT¿ûEv’t
( \

597 
TRACE_EVENT_PHASE_BEGIN
, \

598 
	`INTERNAL_TRACE_EVENT_UID
(
ÿt¡©ic
), \

599 
Çme
, 
web¹c
::
Œaû_ev’t_š‹º®
::
kNoEv’tId
, \

600 
TRACE_EVENT_FLAG_NONE
, ##
__VA_ARGS__
); \

601 
	`INTERNAL_TRACE_EVENT_UID
(
´ofeScİe
).
	`In™Ÿlize
( \

602 
	`INTERNAL_TRACE_EVENT_UID
(
ÿt¡©ic
), 
Çme
); \

603 }

	)

607 
	#INTERNAL_TRACE_EVENT_ADD_WITH_ID
(
pha£
, 
ÿ‹gÜy
, 
Çme
, 
id
, 
æags
, \

610 
	`INTERNAL_TRACE_EVENT_GET_CATEGORY_INFO
(
ÿ‹gÜy
); \

611 ià(*
	`INTERNAL_TRACE_EVENT_UID
(
ÿt¡©ic
)) { \

612 
Œaû_ev’t_æags
 = 
æags
 | 
TRACE_EVENT_FLAG_HAS_ID
; \

613 
web¹c
::
Œaû_ev’t_š‹º®
::
T¿ûID
 
	`Œaû_ev’t_Œaû_id
( \

614 
id
, &
Œaû_ev’t_æags
); \

615 
web¹c
::
Œaû_ev’t_š‹º®
::
	`AddT¿ûEv’t
( \

616 
pha£
, 
	`INTERNAL_TRACE_EVENT_UID
(
ÿt¡©ic
), \

617 
Çme
, 
Œaû_ev’t_Œaû_id
.
	`d©a
(), 
Œaû_ev’t_æags
, \

618 ##
__VA_ARGS__
); \

620 } 0)

	)

628 
	#TRACE_EVENT_PHASE_BEGIN
 ('B')

	)

629 
	#TRACE_EVENT_PHASE_END
 ('E')

	)

630 
	#TRACE_EVENT_PHASE_INSTANT
 ('I')

	)

631 
	#TRACE_EVENT_PHASE_ASYNC_BEGIN
 ('S')

	)

632 
	#TRACE_EVENT_PHASE_ASYNC_STEP
 ('T')

	)

633 
	#TRACE_EVENT_PHASE_ASYNC_END
 ('F')

	)

634 
	#TRACE_EVENT_PHASE_FLOW_BEGIN
 ('s')

	)

635 
	#TRACE_EVENT_PHASE_FLOW_STEP
 ('t')

	)

636 
	#TRACE_EVENT_PHASE_FLOW_END
 ('f')

	)

637 
	#TRACE_EVENT_PHASE_METADATA
 ('M')

	)

638 
	#TRACE_EVENT_PHASE_COUNTER
 ('C')

	)

641 
	#TRACE_EVENT_FLAG_NONE
 (
¡©ic_ÿ¡
<>(0))

	)

642 
	#TRACE_EVENT_FLAG_COPY
 (
¡©ic_ÿ¡
<>(1 << 0))

	)

643 
	#TRACE_EVENT_FLAG_HAS_ID
 (
¡©ic_ÿ¡
<>(1 << 1))

	)

644 
	#TRACE_EVENT_FLAG_MANGLE_ID
 (
¡©ic_ÿ¡
<>(1 << 2))

	)

646 
Çme¥aû
 
	gweb¹c
 {

647 
Çme¥aû
 
	gŒaû_ev’t_š‹º®
 {

651 cÚ¡ 
	gkZ”oNumArgs
 = 0;

652 cÚ¡ 
	gkNoEv’tId
 = 0;

657 şas 
	cT¿ûID
 {

658 
	gpublic
:

659 şas 
	cFÜûMªgË
 {

660 
public
:

661 
ex¶ic™
 
FÜûMªgË
(
id
è: 
d©a_
(id) {}

662 
ex¶ic™
 
FÜûMªgË
(
id
è: 
d©a_
(id) {}

663 
ex¶ic™
 
FÜûMªgË
(
id
è: 
d©a_
(id) {}

664 
ex¶ic™
 
FÜûMªgË
(
id
è: 
d©a_
(id) {}

665 
ex¶ic™
 
FÜûMªgË
(
id
è: 
d©a_
(id) {}

666 
ex¶ic™
 
FÜûMªgË
(
id
)

667 : 
d©a_
(
¡©ic_ÿ¡
<>(
id
)) {}

668 
ex¶ic™
 
FÜûMªgË
(
id
)

669 : 
d©a_
(
¡©ic_ÿ¡
<>(
id
)) {}

670 
ex¶ic™
 
FÜûMªgË
(
id
)

671 : 
d©a_
(
¡©ic_ÿ¡
<>(
id
)) {}

672 
ex¶ic™
 
FÜûMªgË
(
id
)

673 : 
d©a_
(
¡©ic_ÿ¡
<>(
id
)) {}

674 
ex¶ic™
 
FÜûMªgË
(sigÃd 
id
)

675 : 
d©a_
(
¡©ic_ÿ¡
<>(
id
)) {}

677 
d©a
(ècÚ¡ {  
d©a_
; }

679 
	g´iv©e
:

680 
d©a_
;

683 
ex¶ic™
 
T¿ûID
(cÚ¡ * 
id
, * 
æags
)

684 : 
d©a_
(
¡©ic_ÿ¡
<>(

685 
»š‹½»t_ÿ¡
<
ušŒ_t
>(
id
))) {

686 *
æags
 |ğ
TRACE_EVENT_FLAG_MANGLE_ID
;

688 
ex¶ic™
 
T¿ûID
(
FÜûMªgË
 
id
, * 
æags
è: 
d©a_
(id.
d©a
()) {

689 *
æags
 |ğ
TRACE_EVENT_FLAG_MANGLE_ID
;

691 
ex¶ic™
 
T¿ûID
(
id
, * 
æags
)

692 : 
d©a_
(
id
è{ ()
æags
; }

693 
ex¶ic™
 
T¿ûID
(
id
, * 
æags
)

694 : 
d©a_
(
id
è{ ()
æags
; }

695 
ex¶ic™
 
T¿ûID
(
id
, * 
æags
)

696 : 
d©a_
(
id
è{ ()
æags
; }

697 
ex¶ic™
 
T¿ûID
(
id
, * 
æags
)

698 : 
d©a_
(
id
è{ ()
æags
; }

699 
ex¶ic™
 
T¿ûID
(
id
, * 
æags
)

700 : 
d©a_
(
id
è{ ()
æags
; }

701 
ex¶ic™
 
T¿ûID
(
id
, * 
æags
)

702 : 
d©a_
(
¡©ic_ÿ¡
<>(
id
)è{ ()
æags
; }

703 
ex¶ic™
 
T¿ûID
(
id
, * 
æags
)

704 : 
d©a_
(
¡©ic_ÿ¡
<>(
id
)è{ ()
æags
; }

705 
ex¶ic™
 
T¿ûID
(
id
, * 
æags
)

706 : 
d©a_
(
¡©ic_ÿ¡
<>(
id
)è{ ()
æags
; }

707 
ex¶ic™
 
T¿ûID
(
id
, * 
æags
)

708 : 
d©a_
(
¡©ic_ÿ¡
<>(
id
)è{ ()
æags
; }

709 
ex¶ic™
 
T¿ûID
(sigÃd 
id
, * 
æags
)

710 : 
d©a_
(
¡©ic_ÿ¡
<>(
id
)è{ ()
æags
; }

712 
d©a
(ècÚ¡ {  
	gd©a_
; }

714 
	g´iv©e
:

715 
d©a_
;

719 
	uT¿ûV®ueUniÚ
 {

720 
boŞ
 
	gas_boŞ
;

721 
	gas_ušt
;

722 
	gas_št
;

723 
	gas_doubË
;

724 cÚ¡ * 
	gas_poš‹r
;

725 cÚ¡ * 
	gas_¡ršg
;

729 şas 
	cT¿ûSŒšgW™hCİy
 {

730 
	gpublic
:

731 
ex¶ic™
 
T¿ûSŒšgW™hCİy
(cÚ¡ * 
¡r
è: 
¡r_
(str) {}

732 
İ”©Ü
 cÚ¡ * (ècÚ¡ {  
¡r_
; }

733 
	g´iv©e
:

734 cÚ¡ * 
¡r_
;

740 
	#INTERNAL_DECLARE_SET_TRACE_VALUE
(
aùu®_ty³
, \

741 
uniÚ_memb”
, \

742 
v®ue_ty³_id
) \

743 
šlše
 
	`S‘T¿ûV®ue
(
aùu®_ty³
 
¬g
, \

744 * 
ty³
, \

745 * 
v®ue
) { \

746 
T¿ûV®ueUniÚ
 
ty³_v®ue
; \

747 
ty³_v®ue
.
uniÚ_memb”
 = 
¬g
; \

748 *
ty³
 = 
v®ue_ty³_id
; \

749 *
v®ue
 = 
ty³_v®ue
.
as_ušt
; \

750 }

	)

752 
	#INTERNAL_DECLARE_SET_TRACE_VALUE_INT
(
aùu®_ty³
, \

753 
v®ue_ty³_id
) \

754 
šlše
 
	`S‘T¿ûV®ue
(
aùu®_ty³
 
¬g
, \

755 * 
ty³
, \

756 * 
v®ue
) { \

757 *
ty³
 = 
v®ue_ty³_id
; \

758 *
v®ue
 = 
¡©ic_ÿ¡
<>(
¬g
); \

759 }

	)

761 
INTERNAL_DECLARE_SET_TRACE_VALUE_INT
(, 
TRACE_VALUE_TYPE_UINT
)

762 
INTERNAL_DECLARE_SET_TRACE_VALUE_INT
(, 
TRACE_VALUE_TYPE_UINT
)

763 
INTERNAL_DECLARE_SET_TRACE_VALUE_INT
(, 
TRACE_VALUE_TYPE_UINT
)

764 
INTERNAL_DECLARE_SET_TRACE_VALUE_INT
(, 
TRACE_VALUE_TYPE_UINT
)

765 
INTERNAL_DECLARE_SET_TRACE_VALUE_INT
(, 
TRACE_VALUE_TYPE_UINT
)

766 
INTERNAL_DECLARE_SET_TRACE_VALUE_INT
(, 
TRACE_VALUE_TYPE_INT
)

767 
INTERNAL_DECLARE_SET_TRACE_VALUE_INT
(, 
TRACE_VALUE_TYPE_INT
)

768 
INTERNAL_DECLARE_SET_TRACE_VALUE_INT
(, 
TRACE_VALUE_TYPE_INT
)

769 
INTERNAL_DECLARE_SET_TRACE_VALUE_INT
(, 
TRACE_VALUE_TYPE_INT
)

770 
INTERNAL_DECLARE_SET_TRACE_VALUE_INT
(sigÃd , 
TRACE_VALUE_TYPE_INT
)

771 
INTERNAL_DECLARE_SET_TRACE_VALUE
(
boŞ
, 
as_boŞ
, 
TRACE_VALUE_TYPE_BOOL
)

772 
INTERNAL_DECLARE_SET_TRACE_VALUE
(, 
as_doubË
, 
TRACE_VALUE_TYPE_DOUBLE
)

773 
INTERNAL_DECLARE_SET_TRACE_VALUE
(cÚ¡ *, 
as_poš‹r
,

774 
TRACE_VALUE_TYPE_POINTER
)

775 
INTERNAL_DECLARE_SET_TRACE_VALUE
(cÚ¡ *, 
as_¡ršg
,

776 
TRACE_VALUE_TYPE_STRING
)

777 
INTERNAL_DECLARE_SET_TRACE_VALUE
(cÚ¡ 
T¿ûSŒšgW™hCİy
&, 
as_¡ršg
,

778 
TRACE_VALUE_TYPE_COPY_STRING
)

780 #undeà
INTERNAL_DECLARE_SET_TRACE_VALUE


781 #undeà
INTERNAL_DECLARE_SET_TRACE_VALUE_INT


784 
šlše
 
S‘T¿ûV®ue
(cÚ¡ 
¡d
::
¡ršg
& 
¬g
,

785 * 
ty³
,

786 * 
v®ue
) {

787 
T¿ûV®ueUniÚ
 
	gty³_v®ue
;

788 
	gty³_v®ue
.
	gas_¡ršg
 = 
¬g
.
c_¡r
();

789 *
	gty³
 = 
TRACE_VALUE_TYPE_COPY_STRING
;

790 *
	gv®ue
 = 
ty³_v®ue
.
as_ušt
;

799 
šlše
 
AddT¿ûEv’t
(
pha£
,

800 cÚ¡ * 
ÿ‹gÜy_’abËd
,

801 cÚ¡ * 
Çme
,

802 
id
,

803 
æags
) {

804 
TRACE_EVENT_API_ADD_TRACE_EVENT
(
pha£
, 
ÿ‹gÜy_’abËd
, 
Çme
, 
id
,

805 
kZ”oNumArgs
, 
nuÎ±r
,‚ullptr,‚ullptr,

806 
æags
);

809 
	g‹m¶©e
<
şass
 
	gARG1_TYPE
>

810 
šlše
 
AddT¿ûEv’t
(
pha£
,

811 cÚ¡ * 
ÿ‹gÜy_’abËd
,

812 cÚ¡ * 
Çme
,

813 
id
,

814 
æags
,

815 cÚ¡ * 
¬g1_Çme
,

816 cÚ¡ 
ARG1_TYPE
& 
¬g1_v®
) {

817 cÚ¡ 
	gnum_¬gs
 = 1;

818 
	g¬g_ty³s
[1];

819 
	g¬g_v®ues
[1];

820 
S‘T¿ûV®ue
(
¬g1_v®
, &
¬g_ty³s
[0], &
¬g_v®ues
[0]);

821 
TRACE_EVENT_API_ADD_TRACE_EVENT
(

822 
pha£
, 
ÿ‹gÜy_’abËd
, 
Çme
, 
id
,

823 
num_¬gs
, &
¬g1_Çme
, 
¬g_ty³s
, 
¬g_v®ues
,

824 
æags
);

827 
	g‹m¶©e
<
şass
 
	gARG1_TYPE
, cÏs 
	gARG2_TYPE
>

828 
šlše
 
AddT¿ûEv’t
(
pha£
,

829 cÚ¡ * 
ÿ‹gÜy_’abËd
,

830 cÚ¡ * 
Çme
,

831 
id
,

832 
æags
,

833 cÚ¡ * 
¬g1_Çme
,

834 cÚ¡ 
ARG1_TYPE
& 
¬g1_v®
,

835 cÚ¡ * 
¬g2_Çme
,

836 cÚ¡ 
ARG2_TYPE
& 
¬g2_v®
) {

837 cÚ¡ 
	gnum_¬gs
 = 2;

838 cÚ¡ * 
	g¬g_Çmes
[2] = { 
¬g1_Çme
, 
¬g2_Çme
 };

839 
	g¬g_ty³s
[2];

840 
	g¬g_v®ues
[2];

841 
S‘T¿ûV®ue
(
¬g1_v®
, &
¬g_ty³s
[0], &
¬g_v®ues
[0]);

842 
S‘T¿ûV®ue
(
¬g2_v®
, &
¬g_ty³s
[1], &
¬g_v®ues
[1]);

843 
TRACE_EVENT_API_ADD_TRACE_EVENT
(

844 
pha£
, 
ÿ‹gÜy_’abËd
, 
Çme
, 
id
,

845 
num_¬gs
, 
¬g_Çmes
, 
¬g_ty³s
, 
¬g_v®ues
,

846 
æags
);

850 şas 
	cT¿ûEndOnScİeClo£
 {

851 
	gpublic
:

853 
T¿ûEndOnScİeClo£
(è: 
p_d©a_
(
nuÎ±r
) {}

854 ~
T¿ûEndOnScİeClo£
() {

855 ià(
p_d©a_
)

856 
AddEv’tIfEÇbËd
();

859 
In™Ÿlize
(cÚ¡ * 
ÿ‹gÜy_’abËd
,

860 cÚ¡ * 
Çme
) {

861 
	gd©a_
.
	gÿ‹gÜy_’abËd
 = 
ÿ‹gÜy_’abËd
;

862 
	gd©a_
.
	gÇme
 = 
Çme
;

863 
	gp_d©a_
 = &
d©a_
;

866 
	g´iv©e
:

868 
AddEv’tIfEÇbËd
() {

870 ià(*
p_d©a_
->
ÿ‹gÜy_’abËd
) {

871 
TRACE_EVENT_API_ADD_TRACE_EVENT
(
TRACE_EVENT_PHASE_END
,

872 
p_d©a_
->
ÿ‹gÜy_’abËd
,…_d©a_->
Çme
,

873 
kNoEv’tId
, 
kZ”oNumArgs
, 
nuÎ±r
,

874 
nuÎ±r
,‚uÎ±r, 
TRACE_EVENT_FLAG_NONE
);

883 
	sD©a
 {

884 cÚ¡ * 
	gÿ‹gÜy_’abËd
;

885 cÚ¡ * 
	gÇme
;

887 
D©a
* 
	gp_d©a_
;

888 
D©a
 
	gd©a_
;

899 
	#RTC_NOOP
(èdØ{} 0)

	)

901 
	#TRACE_STR_COPY
(
¡r
è
	`RTC_NOOP
()

	)

903 
	#TRACE_DISABLED_BY_DEFAULT
(
Çme
è"di§bËd-by-deçuÉ-" 
	)
name

905 
	#TRACE_ID_MANGLE
(
id
è0

	)

907 
	#TRACE_EVENT0
(
ÿ‹gÜy
, 
Çme
è
	`RTC_NOOP
()

	)

908 
	#TRACE_EVENT1
(
ÿ‹gÜy
, 
Çme
, 
¬g1_Çme
, 
¬g1_v®
è
	`RTC_NOOP
()

	)

909 
	#TRACE_EVENT2
(
ÿ‹gÜy
, 
Çme
, 
¬g1_Çme
, 
¬g1_v®
, 
¬g2_Çme
, 
¬g2_v®
) \

910 
	`RTC_NOOP
()

	)

912 
	#TRACE_EVENT_INSTANT0
(
ÿ‹gÜy
, 
Çme
è
	`RTC_NOOP
()

	)

913 
	#TRACE_EVENT_INSTANT1
(
ÿ‹gÜy
, 
Çme
, 
¬g1_Çme
, 
¬g1_v®
è
	`RTC_NOOP
()

	)

915 
	#TRACE_EVENT_INSTANT2
(
ÿ‹gÜy
, 
Çme
, 
¬g1_Çme
, 
¬g1_v®
, \

916 
¬g2_Çme
, 
¬g2_v®
è
	`RTC_NOOP
()

	)

918 
	#TRACE_EVENT_COPY_INSTANT0
(
ÿ‹gÜy
, 
Çme
è
	`RTC_NOOP
()

	)

919 
	#TRACE_EVENT_COPY_INSTANT1
(
ÿ‹gÜy
, 
Çme
, 
¬g1_Çme
, 
¬g1_v®
) \

920 
	`RTC_NOOP
()

	)

921 
	#TRACE_EVENT_COPY_INSTANT2
(
ÿ‹gÜy
, 
Çme
, 
¬g1_Çme
, 
¬g1_v®
, \

922 
¬g2_Çme
, 
¬g2_v®
è
	`RTC_NOOP
()

	)

924 
	#TRACE_EVENT_BEGIN0
(
ÿ‹gÜy
, 
Çme
è
	`RTC_NOOP
()

	)

925 
	#TRACE_EVENT_BEGIN1
(
ÿ‹gÜy
, 
Çme
, 
¬g1_Çme
, 
¬g1_v®
è
	`RTC_NOOP
()

	)

926 
	#TRACE_EVENT_BEGIN2
(
ÿ‹gÜy
, 
Çme
, 
¬g1_Çme
, 
¬g1_v®
, \

927 
¬g2_Çme
, 
¬g2_v®
è
	`RTC_NOOP
()

	)

928 
	#TRACE_EVENT_COPY_BEGIN0
(
ÿ‹gÜy
, 
Çme
è
	`RTC_NOOP
()

	)

929 
	#TRACE_EVENT_COPY_BEGIN1
(
ÿ‹gÜy
, 
Çme
, 
¬g1_Çme
, 
¬g1_v®
è
	`RTC_NOOP
()

	)

930 
	#TRACE_EVENT_COPY_BEGIN2
(
ÿ‹gÜy
, 
Çme
, 
¬g1_Çme
, 
¬g1_v®
, \

931 
¬g2_Çme
, 
¬g2_v®
è
	`RTC_NOOP
()

	)

933 
	#TRACE_EVENT_END0
(
ÿ‹gÜy
, 
Çme
è
	`RTC_NOOP
()

	)

934 
	#TRACE_EVENT_END1
(
ÿ‹gÜy
, 
Çme
, 
¬g1_Çme
, 
¬g1_v®
è
	`RTC_NOOP
()

	)

935 
	#TRACE_EVENT_END2
(
ÿ‹gÜy
, 
Çme
, 
¬g1_Çme
, 
¬g1_v®
, \

936 
¬g2_Çme
, 
¬g2_v®
è
	`RTC_NOOP
()

	)

937 
	#TRACE_EVENT_COPY_END0
(
ÿ‹gÜy
, 
Çme
è
	`RTC_NOOP
()

	)

938 
	#TRACE_EVENT_COPY_END1
(
ÿ‹gÜy
, 
Çme
, 
¬g1_Çme
, 
¬g1_v®
è
	`RTC_NOOP
()

	)

939 
	#TRACE_EVENT_COPY_END2
(
ÿ‹gÜy
, 
Çme
, 
¬g1_Çme
, 
¬g1_v®
, \

940 
¬g2_Çme
, 
¬g2_v®
è
	`RTC_NOOP
()

	)

942 
	#TRACE_COUNTER1
(
ÿ‹gÜy
, 
Çme
, 
v®ue
è
	`RTC_NOOP
()

	)

943 
	#TRACE_COPY_COUNTER1
(
ÿ‹gÜy
, 
Çme
, 
v®ue
è
	`RTC_NOOP
()

	)

945 
	#TRACE_COUNTER2
(
ÿ‹gÜy
, 
Çme
, 
v®ue1_Çme
, 
v®ue1_v®
, \

946 
v®ue2_Çme
, 
v®ue2_v®
è
	`RTC_NOOP
()

	)

947 
	#TRACE_COPY_COUNTER2
(
ÿ‹gÜy
, 
Çme
, 
v®ue1_Çme
, 
v®ue1_v®
, \

948 
v®ue2_Çme
, 
v®ue2_v®
è
	`RTC_NOOP
()

	)

950 
	#TRACE_COUNTER_ID1
(
ÿ‹gÜy
, 
Çme
, 
id
, 
v®ue
è
	`RTC_NOOP
()

	)

951 
	#TRACE_COPY_COUNTER_ID1
(
ÿ‹gÜy
, 
Çme
, 
id
, 
v®ue
è
	`RTC_NOOP
()

	)

953 
	#TRACE_COUNTER_ID2
(
ÿ‹gÜy
, 
Çme
, 
id
, 
v®ue1_Çme
, 
v®ue1_v®
, \

954 
v®ue2_Çme
, 
v®ue2_v®
è
	`RTC_NOOP
()

	)

955 
	#TRACE_COPY_COUNTER_ID2
(
ÿ‹gÜy
, 
Çme
, 
id
, 
v®ue1_Çme
, 
v®ue1_v®
, \

956 
v®ue2_Çme
, 
v®ue2_v®
è
	`RTC_NOOP
()

	)

958 
	#TRACE_EVENT_ASYNC_BEGIN0
(
ÿ‹gÜy
, 
Çme
, 
id
è
	`RTC_NOOP
()

	)

959 
	#TRACE_EVENT_ASYNC_BEGIN1
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
) \

960 
	`RTC_NOOP
()

	)

961 
	#TRACE_EVENT_ASYNC_BEGIN2
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
, \

962 
¬g2_Çme
, 
¬g2_v®
è
	`RTC_NOOP
()

	)

963 
	#TRACE_EVENT_COPY_ASYNC_BEGIN0
(
ÿ‹gÜy
, 
Çme
, 
id
è
	`RTC_NOOP
()

	)

964 
	#TRACE_EVENT_COPY_ASYNC_BEGIN1
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
) \

965 
	`RTC_NOOP
()

	)

966 
	#TRACE_EVENT_COPY_ASYNC_BEGIN2
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
, \

967 
¬g2_Çme
, 
¬g2_v®
è
	`RTC_NOOP
()

	)

969 
	#TRACE_EVENT_ASYNC_STEP0
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¡•
è
	`RTC_NOOP
()

	)

970 
	#TRACE_EVENT_ASYNC_STEP1
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¡•
, \

971 
¬g1_Çme
, 
¬g1_v®
è
	`RTC_NOOP
()

	)

972 
	#TRACE_EVENT_COPY_ASYNC_STEP0
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¡•
è
	`RTC_NOOP
()

	)

973 
	#TRACE_EVENT_COPY_ASYNC_STEP1
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¡•
, \

974 
¬g1_Çme
, 
¬g1_v®
è
	`RTC_NOOP
()

	)

976 
	#TRACE_EVENT_ASYNC_END0
(
ÿ‹gÜy
, 
Çme
, 
id
è
	`RTC_NOOP
()

	)

977 
	#TRACE_EVENT_ASYNC_END1
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
) \

978 
	`RTC_NOOP
()

	)

979 
	#TRACE_EVENT_ASYNC_END2
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
, \

980 
¬g2_Çme
, 
¬g2_v®
è
	`RTC_NOOP
()

	)

981 
	#TRACE_EVENT_COPY_ASYNC_END0
(
ÿ‹gÜy
, 
Çme
, 
id
è
	`RTC_NOOP
()

	)

982 
	#TRACE_EVENT_COPY_ASYNC_END1
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
) \

983 
	`RTC_NOOP
()

	)

984 
	#TRACE_EVENT_COPY_ASYNC_END2
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
, \

985 
¬g2_Çme
, 
¬g2_v®
è
	`RTC_NOOP
()

	)

987 
	#TRACE_EVENT_FLOW_BEGIN0
(
ÿ‹gÜy
, 
Çme
, 
id
è
	`RTC_NOOP
()

	)

988 
	#TRACE_EVENT_FLOW_BEGIN1
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
) \

989 
	`RTC_NOOP
()

	)

990 
	#TRACE_EVENT_FLOW_BEGIN2
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
, \

991 
¬g2_Çme
, 
¬g2_v®
è
	`RTC_NOOP
()

	)

992 
	#TRACE_EVENT_COPY_FLOW_BEGIN0
(
ÿ‹gÜy
, 
Çme
, 
id
è
	`RTC_NOOP
()

	)

993 
	#TRACE_EVENT_COPY_FLOW_BEGIN1
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
) \

994 
	`RTC_NOOP
()

	)

995 
	#TRACE_EVENT_COPY_FLOW_BEGIN2
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
, \

996 
¬g2_Çme
, 
¬g2_v®
è
	`RTC_NOOP
()

	)

998 
	#TRACE_EVENT_FLOW_STEP0
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¡•
è
	`RTC_NOOP
()

	)

999 
	#TRACE_EVENT_FLOW_STEP1
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¡•
, \

1000 
¬g1_Çme
, 
¬g1_v®
è
	`RTC_NOOP
()

	)

1001 
	#TRACE_EVENT_COPY_FLOW_STEP0
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¡•
è
	`RTC_NOOP
()

	)

1002 
	#TRACE_EVENT_COPY_FLOW_STEP1
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¡•
, \

1003 
¬g1_Çme
, 
¬g1_v®
è
	`RTC_NOOP
()

	)

1005 
	#TRACE_EVENT_FLOW_END0
(
ÿ‹gÜy
, 
Çme
, 
id
è
	`RTC_NOOP
()

	)

1006 
	#TRACE_EVENT_FLOW_END1
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
) \

1007 
	`RTC_NOOP
()

	)

1008 
	#TRACE_EVENT_FLOW_END2
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
, \

1009 
¬g2_Çme
, 
¬g2_v®
è
	`RTC_NOOP
()

	)

1010 
	#TRACE_EVENT_COPY_FLOW_END0
(
ÿ‹gÜy
, 
Çme
, 
id
è
	`RTC_NOOP
()

	)

1011 
	#TRACE_EVENT_COPY_FLOW_END1
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
) \

1012 
	`RTC_NOOP
()

	)

1013 
	#TRACE_EVENT_COPY_FLOW_END2
(
ÿ‹gÜy
, 
Çme
, 
id
, 
¬g1_Çme
, 
¬g1_v®
, \

1014 
¬g2_Çme
, 
¬g2_v®
è
	`RTC_NOOP
()

	)

1016 
	#TRACE_EVENT_API_GET_CATEGORY_ENABLED
 ""

	)

1018 
	#TRACE_EVENT_API_ADD_TRACE_EVENT
 
	`RTC_NOOP
()

	)

	@type_traits.h

11 #iâdeà
RTC_BASE_TYPE_TRAITS_H_


12 
	#RTC_BASE_TYPE_TRAITS_H_


	)

14 
	~<c¡ddef
>

15 
	~<ty³_Œa™s
>

17 
Çme¥aû
 
	g¹c
 {

21 
	g‹m¶©e
 <
ty³Çme
 
	gDS
,y³Çm
	gT
>

22 şas 
	cHasD©aAndSize
 {

23 
	g´iv©e
:

24 
‹m¶©e
 <

25 
ty³Çme
 
C
,

26 
ty³Çme
 
	g¡d
::
’abË_if
<

27 
¡d
::
is_cÚv”tibË
<
deşty³
(¡d::
deşv®
<
C
>().
d©a
()), 
	gT
*>::
v®ue
 &&

28 
¡d
::
is_cÚv”tibË
<
deşty³
(¡d::
deşv®
<
C
>().
size
()),

29 
	g¡d
::
size_t
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

30 
Te¡
();

32 
	g‹m¶©e
 <
	gty³Çme
>

33 
Te¡
(...);

35 
	gpublic
:

36 
cÚ¡ex´
 
boŞ
 
v®ue
 = 
¡d
::
is_§me
<
deşty³
(
Te¡
<
DS
>(0)), >::value;

39 
Çme¥aû
 
	g‹¡_has_d©a_ªd_size
 {

41 
	g‹m¶©e
 <
ty³Çme
 
	gDR
,y³Çm
	gSR
>

42 
	sTe¡1
 {

43 
DR
 
d©a
();

44 
SR
 
size
();

46 
¡©ic_as£¹
(
HasD©aAndSize
<
Te¡1
<*, >, >::
v®ue
, "");

47 
¡©ic_as£¹
(
HasD©aAndSize
<
Te¡1
<*, >, cÚ¡ >::
v®ue
, "");

48 
¡©ic_as£¹
(
HasD©aAndSize
<
Te¡1
<cÚ¡ *, >, cÚ¡ >::
v®ue
, "");

49 
¡©ic_as£¹
(!
HasD©aAndSize
<
Te¡1
<cÚ¡ *, >, >::
v®ue
,

51 
¡©ic_as£¹
(!
HasD©aAndSize
<
Te¡1
<*, 
size_t
>, >::
v®ue
,

54 
	sTe¡2
 {

55 * 
	gd©a
;

56 
size_t
 
	gsize
;

58 
¡©ic_as£¹
(!
HasD©aAndSize
<
Te¡2
, >::
v®ue
,

61 
	sTe¡3
 {

62 * 
d©a
();

64 
¡©ic_as£¹
(!
HasD©aAndSize
<
Te¡3
, >::
v®ue
, ".size() is missing");

66 şas 
	cTe¡4
 {

67 * 
d©a
();

68 
size_t
 
size
();

70 
¡©ic_as£¹
(!
HasD©aAndSize
<
Te¡4
, >::
v®ue
,

75 
Çme¥aû
 
	gty³_Œa™s_im¶
 {

79 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

80 
	sIsIÁEnum
 {

81 
	g´iv©e
:

84 
‹m¶©e
 <
ty³Çme
 
X
,

85 
ty³Çme
 
	g¡d
::
’abË_if
<

86 
¡d
::
is_’um
<
X
>::
v®ue
 &&

87 
¡d
::
is_š‹g¿l
<
deşty³
(+¡d::
deşv®
<
X
>())>::
v®ue
>::
ty³
* =

88 
nuÎ±r
>

89 
Te¡
();

92 
	g‹m¶©e
 <
	gty³Çme
>

93 
Te¡
(...);

95 
	gpublic
:

96 
cÚ¡ex´
 
boŞ
 
v®ue
 =

97 
¡d
::
is_§me
<
deşty³
(
Te¡
<
ty³Çme
 std::
»move_»ã»nû
<
T
>::
ty³
>(0)),

98 >::
v®ue
;

105 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

106 
	sIsIÁlike
 {

107 
	g´iv©e
:

108 
usšg
 
X
 = 
ty³Çme
 
¡d
::
»move_»ã»nû
<
T
>::
ty³
;

110 
	gpublic
:

111 
cÚ¡ex´
 
boŞ
 
v®ue
 =

112 
¡d
::
is_š‹g¿l
<
X
>::
v®ue
 || 
ty³_Œa™s_im¶
::
IsIÁEnum
<X>::value;

115 
Çme¥aû
 
	g‹¡_’um_šike
 {

117 
	eE1
 { 
	ge1
 };

118 ’um { 
	ge2
 };

119 şas 
	cE3
 { 
	ge3
 };

120 
	sS
 {};

122 
¡©ic_as£¹
(
ty³_Œa™s_im¶
::
IsIÁEnum
<
E1
>::
v®ue
, "");

123 
¡©ic_as£¹
(
ty³_Œa™s_im¶
::
IsIÁEnum
<
deşty³
(
e2
)>::
v®ue
, "");

124 
¡©ic_as£¹
(!
ty³_Œa™s_im¶
::
IsIÁEnum
<
E3
>::
v®ue
, "");

125 
¡©ic_as£¹
(!
ty³_Œa™s_im¶
::
IsIÁEnum
<>::
v®ue
, "");

126 
¡©ic_as£¹
(!
ty³_Œa™s_im¶
::
IsIÁEnum
<>::
v®ue
, "");

127 
¡©ic_as£¹
(!
ty³_Œa™s_im¶
::
IsIÁEnum
<
S
>::
v®ue
, "");

129 
¡©ic_as£¹
(
IsIÁlike
<
E1
>::
v®ue
, "");

130 
¡©ic_as£¹
(
IsIÁlike
<
deşty³
(
e2
)>::
v®ue
, "");

131 
¡©ic_as£¹
(!
IsIÁlike
<
E3
>::
v®ue
, "");

132 
¡©ic_as£¹
(
IsIÁlike
<>::
v®ue
, "");

133 
¡©ic_as£¹
(!
IsIÁlike
<>::
v®ue
, "");

134 
¡©ic_as£¹
(!
IsIÁlike
<
S
>::
v®ue
, "");

	@unique_id_generator.cc

11 
	~"¹c_ba£/unique_id_g’”©Ü.h
"

13 
	~<lim™s
>

14 
	~<veùÜ
>

16 
	~"¹c_ba£/h–³rs.h
"

17 
	~"¹c_ba£/¡ršg_’code.h
"

18 
	~"¹c_ba£/¡ršg_to_numb”.h
"

20 
Çme¥aû
 
	g¹c
 {

22 
	gUniqueRªdomIdG’”©Ü
::
UniqueRªdomIdG’”©Ü
(è: 
known_ids_
() {}

23 
UniqueRªdomIdG’”©Ü
::UniqueRªdomIdG’”©Ü(
A¼ayV›w
<
ušt32_t
> 
known_ids
)

24 : 
known_ids_
(
known_ids
.
begš
(), known_ids.
’d
()) {}

26 
	gUniqueRªdomIdG’”©Ü
::~
UniqueRªdomIdG’”©Ü
() = ;

28 
ušt32_t
 
	gUniqueRªdomIdG’”©Ü
::
G’”©eId
() {

29 
RTC_CHECK_LT
(
known_ids_
.
size
(), 
¡d
::
num”ic_lim™s
<
ušt32_t
>::
max
() - 1);

30 
	gŒue
) {

31 autØ
	g·œ
 = 
known_ids_
.
š£¹
(
C»©eRªdomNÚZ”oId
());

32 ià(
	g·œ
.
	g£cÚd
) {

33  *
	g·œ
.
	gfœ¡
;

38 
boŞ
 
	gUniqueRªdomIdG’”©Ü
::
AddKnownId
(
ušt32_t
 
v®ue
) {

39  
known_ids_
.
š£¹
(
v®ue
).
£cÚd
;

42 
	gUniqueSŒšgG’”©Ü
::
UniqueSŒšgG’”©Ü
(è: 
unique_numb”_g’”©Ü_
() {}

43 
UniqueSŒšgG’”©Ü
::UniqueSŒšgG’”©Ü(
A¼ayV›w
<
¡d
::
¡ršg
> 
known_ids
) {

44 cÚ¡ 
¡d
::
¡ršg
& 
¡r
 : 
known_ids
) {

45 
AddKnownId
(
¡r
);

49 
	gUniqueSŒšgG’”©Ü
::~
UniqueSŒšgG’”©Ü
() = ;

51 
	g¡d
::
¡ršg
 
UniqueSŒšgG’”©Ü
::
G’”©eSŒšg
() {

52  
ToSŒšg
(
unique_numb”_g’”©Ü_
.
G’”©eNumb”
());

55 
boŞ
 
	gUniqueSŒšgG’”©Ü
::
AddKnownId
(cÚ¡ 
¡d
::
¡ršg
& 
v®ue
) {

56 
ab¦
::
İtiÚ®
<
ušt32_t
> 
št_v®ue
 = 
SŒšgToNumb”
<ušt32_t>(
v®ue
);

59 ià(
	gšt_v®ue
.
has_v®ue
()) {

60  
	gunique_numb”_g’”©Ü_
.
AddKnownId
(
št_v®ue
.
v®ue
());

62  
	gçl£
;

	@unique_id_generator.h

11 #iâdeà
RTC_BASE_UNIQUE_ID_GENERATOR_H_


12 
	#RTC_BASE_UNIQUE_ID_GENERATOR_H_


	)

14 
	~<lim™s
>

15 
	~<£t
>

16 
	~<¡ršg
>

18 
	~"­i/¬¿y_v›w.h
"

20 
Çme¥aû
 
	g¹c
 {

30 
	g‹m¶©e
 <
ty³Çme
 
	gTIÁeg¿l
>

31 şas 
	cUniqueNumb”G’”©Ü
 {

32 
	gpublic
:

33 
TIÁeg¿l
 
	tv®ue_ty³
;

34 
UniqueNumb”G’”©Ü
();

36 
ex¶ic™
 
UniqueNumb”G’”©Ü
(
A¼ayV›w
<
TIÁeg¿l
> 
known_ids
);

37 ~
UniqueNumb”G’”©Ü
();

42 
TIÁeg¿l
 
G’”©eNumb”
();

43 
TIÁeg¿l
 
İ”©Ü
()(è{  
G’”©eNumb”
(); }

47 
boŞ
 
AddKnownId
(
TIÁeg¿l
 
v®ue
);

49 
	g´iv©e
:

50 
¡©ic_as£¹
(
¡d
::
is_š‹g¿l
<
TIÁeg¿l
>::
v®ue
, "Must be integralype.");

51 
TIÁeg¿l
 
	gcouÁ”_
;

52 
	g¡d
::
£t
<
TIÁeg¿l
> 
known_ids_
;

60 şas 
	cUniqueRªdomIdG’”©Ü
 {

61 
	gpublic
:

62 
ušt32_t
 
	tv®ue_ty³
;

63 
UniqueRªdomIdG’”©Ü
();

65 
ex¶ic™
 
UniqueRªdomIdG’”©Ü
(
A¼ayV›w
<
ušt32_t
> 
known_ids
);

66 ~
UniqueRªdomIdG’”©Ü
();

71 
ušt32_t
 
G’”©eId
();

72 
ušt32_t
 
İ”©Ü
()(è{  
G’”©eId
(); }

76 
boŞ
 
AddKnownId
(
ušt32_t
 
v®ue
);

78 
	g´iv©e
:

79 
¡d
::
£t
<
ušt32_t
> 
known_ids_
;

87 şas 
	cUniqueSŒšgG’”©Ü
 {

88 
	gpublic
:

89 
¡d
::
	t¡ršg
 
	tv®ue_ty³
;

90 
UniqueSŒšgG’”©Ü
();

91 
ex¶ic™
 
UniqueSŒšgG’”©Ü
(
A¼ayV›w
<
¡d
::
¡ršg
> 
known_ids
);

92 ~
UniqueSŒšgG’”©Ü
();

94 
	g¡d
::
¡ršg
 
G’”©eSŒšg
();

95 
	g¡d
::
¡ršg
 
İ”©Ü
()(è{  
G’”©eSŒšg
(); }

99 
boŞ
 
AddKnownId
(cÚ¡ 
¡d
::
¡ršg
& 
v®ue
);

101 
	g´iv©e
:

103 
UniqueNumb”G’”©Ü
<
ušt32_t
> 
unique_numb”_g’”©Ü_
;

106 
	g‹m¶©e
 <
ty³Çme
 
	gTIÁeg¿l
>

107 
	gUniqueNumb”G’”©Ü
<
	gTIÁeg¿l
>::
	$UniqueNumb”G’”©Ü
(è: 
	$couÁ”_
(0è{
	}
}

109 
‹m¶©e
 <
ty³Çme
 
TIÁeg¿l
>

110 
UniqueNumb”G’”©Ü
<
TIÁeg¿l
>::UniqueNumberGenerator(

111 
A¼ayV›w
<
TIÁeg¿l
> 
known_ids
)

112 : 
couÁ”_
(0), 
known_ids_
(
known_ids
.
begš
(), known_ids.
	$’d
()è{
	}
}

114 
	g‹m¶©e
 <
ty³Çme
 
	gTIÁeg¿l
>

115 
	gUniqueNumb”G’”©Ü
<
	gTIÁeg¿l
>::~
	$UniqueNumb”G’”©Ü
(è{
	}
}

117 
‹m¶©e
 <
ty³Çme
 
TIÁeg¿l
>

118 
TIÁeg¿l
 
UniqueNumb”G’”©Ü
<TIÁeg¿l>::
	$G’”©eNumb”
() {

119 
Œue
) {

120 
	`RTC_CHECK_LT
(
couÁ”_
, 
¡d
::
num”ic_lim™s
<
TIÁeg¿l
>::
	`max
());

121 autØ
·œ
 = 
known_ids_
.
	`š£¹
(
couÁ”_
++);

122 ià(
·œ
.
£cÚd
) {

123  *
·œ
.
fœ¡
;

126 
	}
}

128 
	g‹m¶©e
 <
ty³Çme
 
	gTIÁeg¿l
>

129 
boŞ
 
	gUniqueNumb”G’”©Ü
<
	gTIÁeg¿l
>::
	$AddKnownId
(
TIÁeg¿l
 
v®ue
) {

130  
known_ids_
.
	`š£¹
(
v®ue
).
£cÚd
;

131 
	}
}

	@unique_id_generator_unittest.cc

11 
	~"¹c_ba£/unique_id_g’”©Ü.h
"

13 
	~<¡ršg
>

14 
	~<veùÜ
>

16 
	~"ab¦/®gÜ™hm/cÚš”.h
"

17 
	~"­i/¬¿y_v›w.h
"

18 
	~"¹c_ba£/gun™.h
"

19 
	~"¹c_ba£/h–³rs.h
"

20 
	~"‹¡/gmock.h
"

22 
	gusšg
 ::
‹¡šg
::
IsEm±y
;

23 
	gusšg
 ::
‹¡šg
::
Te¡
;

25 
Çme¥aû
 
	g¹c
 {

27 
	g‹m¶©e
 <
ty³Çme
 
	gG’”©Ü
>

28 şas 
	cUniqueIdG’”©ÜTe¡
 : 
public
 
Te¡
 {};

30 
usšg
 
	g‹¡_ty³s
 = ::
‹¡šg
::
Ty³s
<
UniqueNumb”G’”©Ü
<
ušt8_t
>,

31 
	gUniqueNumb”G’”©Ü
<
	gušt16_t
>,

32 
	gUniqueNumb”G’”©Ü
<
	gušt32_t
>,

33 
	gUniqueNumb”G’”©Ü
<>,

34 
	gUniqueRªdomIdG’”©Ü
,

35 
	gUniqueSŒšgG’”©Ü
>;

37 
TYPED_TEST_SUITE
(
UniqueIdG’”©ÜTe¡
, 
‹¡_ty³s
);

39 
	$TYPED_TEST
(
UniqueIdG’”©ÜTe¡
, 
EËm’tsDoNÙR•—t
) {

40 
Ty³P¬am
 
	tG’”©Ü
;

41 cÚ¡ 
size_t
 
num_–em’ts
 = 255;

42 
G’”©Ü
 
g’”©Ü
;

43 
¡d
::
veùÜ
<
ty³Çme
 
G’”©Ü
::
v®ue_ty³
> 
v®ues
;

44 
size_t
 
i
 = 0; i < 
num_–em’ts
; i++) {

45 
v®ues
.
	`push_back
(
	`g’”©Ü
());

48 
	`EXPECT_EQ
(
num_–em’ts
, 
v®ues
.
	`size
());

50 
¡d
::
£t
<
ty³Çme
 
G’”©Ü
::
v®ue_ty³
> 
	`£t
(
v®ues
.
	`begš
(), v®ues.
	`’d
());

51 
	`EXPECT_EQ
(
v®ues
.
	`size
(), 
£t
.size()) << "Returned values were‚ot unique.";

52 
	}
}

54 
	$TYPED_TEST
(
UniqueIdG’”©ÜTe¡
, 
KnownEËm’tsA»NÙG’”©ed
) {

55 
Ty³P¬am
 
	tG’”©Ü
;

56 cÚ¡ 
size_t
 
num_–em’ts
 = 100;

57 
¹c
::
	`In™Rªdom
(0);

58 
G’”©Ü
 
g’”©Ü1
;

59 
¡d
::
veùÜ
<
ty³Çme
 
G’”©Ü
::
v®ue_ty³
> 
known_v®ues
;

60 
size_t
 
i
 = 0; i < 
num_–em’ts
; i++) {

61 
known_v®ues
.
	`push_back
(
	`g’”©Ü1
());

63 
	`EXPECT_EQ
(
num_–em’ts
, 
known_v®ues
.
	`size
());

65 
¹c
::
	`In™Rªdom
(0);

66 
G’”©Ü
 
	`g’”©Ü2
(
known_v®ues
);

68 
¡d
::
veùÜ
<
ty³Çme
 
G’”©Ü
::
v®ue_ty³
> 
v®ues
;

69 
size_t
 
i
 = 0; i < 
num_–em’ts
; i++) {

70 
v®ues
.
	`push_back
(
	`g’”©Ü2
());

72 
	`EXPECT_THAT
(
v®ues
, ::
‹¡šg
::
	`SizeIs
(
num_–em’ts
));

73 
ab¦
::
	`c_sÜt
(
v®ues
);

74 
ab¦
::
	`c_sÜt
(
known_v®ues
);

75 
¡d
::
veùÜ
<
ty³Çme
 
G’”©Ü
::
v®ue_ty³
> 
š‹r£ùiÚ
;

76 
ab¦
::
	`c_£t_š‹r£ùiÚ
(
v®ues
, 
known_v®ues
,

77 
¡d
::
	`back_š£¹”
(
š‹r£ùiÚ
));

78 
	`EXPECT_THAT
(
š‹r£ùiÚ
, 
	`IsEm±y
());

79 
	}
}

81 
	$TYPED_TEST
(
UniqueIdG’”©ÜTe¡
, 
AddedEËm’tsA»NÙG’”©ed
) {

82 
Ty³P¬am
 
	tG’”©Ü
;

83 cÚ¡ 
size_t
 
num_–em’ts
 = 100;

84 
¹c
::
	`In™Rªdom
(0);

85 
G’”©Ü
 
g’”©Ü1
;

86 
¡d
::
veùÜ
<
ty³Çme
 
G’”©Ü
::
v®ue_ty³
> 
known_v®ues
;

87 
size_t
 
i
 = 0; i < 
num_–em’ts
; i++) {

88 
known_v®ues
.
	`push_back
(
	`g’”©Ü1
());

90 
	`EXPECT_EQ
(
num_–em’ts
, 
known_v®ues
.
	`size
());

92 
¹c
::
	`In™Rªdom
(0);

93 
G’”©Ü
 
g’”©Ü2
;

95 cÚ¡ 
ty³Çme
 
G’”©Ü
::
v®ue_ty³
& 
v®ue
 : 
known_v®ues
) {

96 
g’”©Ü2
.
	`AddKnownId
(
v®ue
);

99 
¡d
::
veùÜ
<
ty³Çme
 
G’”©Ü
::
v®ue_ty³
> 
v®ues
;

100 
size_t
 
i
 = 0; i < 
num_–em’ts
; i++) {

101 
v®ues
.
	`push_back
(
	`g’”©Ü2
());

103 
	`EXPECT_THAT
(
v®ues
, ::
‹¡šg
::
	`SizeIs
(
num_–em’ts
));

104 
ab¦
::
	`c_sÜt
(
v®ues
);

105 
ab¦
::
	`c_sÜt
(
known_v®ues
);

106 
¡d
::
veùÜ
<
ty³Çme
 
G’”©Ü
::
v®ue_ty³
> 
š‹r£ùiÚ
;

107 
ab¦
::
	`c_£t_š‹r£ùiÚ
(
v®ues
, 
known_v®ues
,

108 
¡d
::
	`back_š£¹”
(
š‹r£ùiÚ
));

109 
	`EXPECT_THAT
(
š‹r£ùiÚ
, 
	`IsEm±y
());

110 
	}
}

112 
	$TYPED_TEST
(
UniqueIdG’”©ÜTe¡
, 
AddKnownIdOnNewIdR‘uºsTrue
) {

113 
Ty³P¬am
 
	tG’”©Ü
;

115 
¹c
::
	`In™Rªdom
(0);

116 
G’”©Ü
 
g’”©Ü1
;

117 cÚ¡ 
ty³Çme
 
G’”©Ü
::
v®ue_ty³
 
id
 = 
	`g’”©Ü1
();

119 
¹c
::
	`In™Rªdom
(0);

120 
G’”©Ü
 
g’”©Ü2
;

121 
	`EXPECT_TRUE
(
g’”©Ü2
.
	`AddKnownId
(
id
));

122 
	}
}

124 
	$TYPED_TEST
(
UniqueIdG’”©ÜTe¡
, 
AddKnownIdC®ËdAgašFÜSameIdR‘uºsF®£
) {

125 
Ty³P¬am
 
	tG’”©Ü
;

127 
¹c
::
	`In™Rªdom
(0);

128 
G’”©Ü
 
g’”©Ü1
;

129 cÚ¡ 
ty³Çme
 
G’”©Ü
::
v®ue_ty³
 
id
 = 
	`g’”©Ü1
();

131 
¹c
::
	`In™Rªdom
(0);

132 
G’”©Ü
 
g’”©Ü2
;

133 
	`ASSERT_TRUE
(
g’”©Ü2
.
	`AddKnownId
(
id
));

134 
	`EXPECT_FALSE
(
g’”©Ü2
.
	`AddKnownId
(
id
));

135 
	}
}

137 
	$TYPED_TEST
(
UniqueIdG’”©ÜTe¡
,

138 
AddKnownIdOnIdProvidedAsKnownToCtÜR‘uºsF®£
) {

139 
Ty³P¬am
 
	tG’”©Ü
;

141 
¹c
::
	`In™Rªdom
(0);

142 
G’”©Ü
 
g’”©Ü1
;

143 cÚ¡ 
ty³Çme
 
G’”©Ü
::
v®ue_ty³
 
id
 = 
	`g’”©Ü1
();

144 
¡d
::
veùÜ
<
ty³Çme
 
G’”©Ü
::
v®ue_ty³
> 
known_v®ues
 = {
id
};

146 
¹c
::
	`In™Rªdom
(0);

147 
G’”©Ü
 
	`g’”©Ü2
(
known_v®ues
);

148 
	`EXPECT_FALSE
(
g’”©Ü2
.
	`AddKnownId
(
id
));

149 
	}
}

	@units/unit_base.h

10 #iâdeà
RTC_BASE_UNITS_UNIT_BASE_H_


11 
	#RTC_BASE_UNITS_UNIT_BASE_H_


	)

13 
	~<¡dšt.h
>

15 
	~<®gÜ™hm
>

16 
	~<cm©h
>

17 
	~<lim™s
>

18 
	~<ty³_Œa™s
>

20 
	~"¹c_ba£/checks.h
"

21 
	~"¹c_ba£/num”ics/§ã_cÚv”siÚs.h
"

23 
Çme¥aû
 
	gweb¹c
 {

24 
Çme¥aû
 
	g¹c_un™s_im¶
 {

35 
	g‹m¶©e
 <
şass
 
	gUn™_T
>

36 şas 
	cUn™Ba£
 {

37 
	gpublic
:

38 
Un™Ba£
(èğ
d–‘e
;

39 
cÚ¡ex´
 
Un™_T
 
Z”o
() {  Unit_T(0); }

40 
cÚ¡ex´
 
Un™_T
 
PlusInfš™y
(è{  Un™_T(
PlusInfš™yV®
()); }

41 
cÚ¡ex´
 
Un™_T
 
MšusInfš™y
(è{  Un™_T(
MšusInfš™yV®
()); }

43 
cÚ¡ex´
 
boŞ
 
IsZ”o
(ècÚ¡ {  
	gv®ue_
 == 0; }

44 
cÚ¡ex´
 
boŞ
 
IsFš™e
(ècÚ¡ {  !
IsInfš™e
(); }

45 
cÚ¡ex´
 
boŞ
 
IsInfš™e
() const {

46  
	gv®ue_
 =ğ
PlusInfš™yV®
(è|| 
v®ue_
 =ğ
MšusInfš™yV®
();

48 
cÚ¡ex´
 
boŞ
 
IsPlusInfš™y
(ècÚ¡ {  
	gv®ue_
 =ğ
PlusInfš™yV®
(); }

49 
cÚ¡ex´
 
boŞ
 
IsMšusInfš™y
() const {

50  
	gv®ue_
 =ğ
MšusInfš™yV®
();

53 
cÚ¡ex´
 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
Un™_T
& 
Ùh”
) const {

54  
v®ue_
 =ğ
Ùh”
.value_;

56 
cÚ¡ex´
 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
Un™_T
& 
Ùh”
) const {

57  
v®ue_
 !ğ
Ùh”
.value_;

59 
cÚ¡ex´
 
boŞ
 
	gİ”©Ü
<=(cÚ¡ 
Un™_T
& 
Ùh”
) const {

60  
v®ue_
 <ğ
Ùh”
.value_;

62 
cÚ¡ex´
 
boŞ
 
	gİ”©Ü
>=(cÚ¡ 
Un™_T
& 
Ùh”
) const {

63  
v®ue_
 >ğ
Ùh”
.value_;

65 
cÚ¡ex´
 
boŞ
 
	gİ”©Ü
>(cÚ¡ 
	gUn™_T
& 
	gÙh”
) const {

66  
	gv®ue_
 > 
	gÙh”
.value_;

68 
cÚ¡ex´
 
boŞ
 
	gİ”©Ü
<(cÚ¡ 
	gUn™_T
& 
	gÙh”
) const {

69  
	gv®ue_
 < 
	gÙh”
.value_;

71 
cÚ¡ex´
 
Un™_T
 
RoundTo
(cÚ¡ Un™_T& 
»sŞutiÚ
) const {

72 
RTC_DCHECK
(
IsFš™e
());

73 
RTC_DCHECK
(
»sŞutiÚ
.
IsFš™e
());

74 
RTC_DCHECK_GT
(
»sŞutiÚ
.
v®ue_
, 0);

75  
Un™_T
((
v®ue_
 + 
»sŞutiÚ
.value_ / 2) /„esolution.value_) *

76 
	g»sŞutiÚ
.
	gv®ue_
;

78 
cÚ¡ex´
 
Un™_T
 
RoundUpTo
(cÚ¡ Un™_T& 
»sŞutiÚ
) const {

79 
RTC_DCHECK
(
IsFš™e
());

80 
RTC_DCHECK
(
»sŞutiÚ
.
IsFš™e
());

81 
RTC_DCHECK_GT
(
»sŞutiÚ
.
v®ue_
, 0);

82  
Un™_T
((
v®ue_
 + 
»sŞutiÚ
.value_ - 1) /„esolution.value_) *

83 
	g»sŞutiÚ
.
	gv®ue_
;

85 
cÚ¡ex´
 
Un™_T
 
RoundDownTo
(cÚ¡ Un™_T& 
»sŞutiÚ
) const {

86 
RTC_DCHECK
(
IsFš™e
());

87 
RTC_DCHECK
(
»sŞutiÚ
.
IsFš™e
());

88 
RTC_DCHECK_GT
(
»sŞutiÚ
.
v®ue_
, 0);

89  
Un™_T
(
v®ue_
 / 
»sŞutiÚ
.v®ue_è* 
	g»sŞutiÚ
.
	gv®ue_
;

92 
	g´Ùeùed
:

93 
‹m¶©e
 <

94 
ty³Çme
 
T
,

95 
ty³Çme
 
	g¡d
::
’abË_if
<
¡d
::
is_š‹g¿l
<
T
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

96 
cÚ¡ex´
 
Un™_T
 
FromV®ue
(
T
 
v®ue
) {

97 ià(
Un™_T
::
Úe_sided
)

98 
RTC_DCHECK_GE
(
v®ue
, 0);

99 
RTC_DCHECK_GT
(
v®ue
, 
MšusInfš™yV®
());

100 
RTC_DCHECK_LT
(
v®ue
, 
PlusInfš™yV®
());

101  
Un™_T
(
¹c
::
dchecked_ÿ¡
<
št64_t
>(
v®ue
));

103 
	g‹m¶©e
 <
ty³Çme
 
	gT
,

104 
ty³Çme
 
	g¡d
::
’abË_if
<
¡d
::
is_æßtšg_pošt
<
T
>::
v®ue
>::
ty³
* =

105 
nuÎ±r
>

106 
cÚ¡ex´
 
Un™_T
 
FromV®ue
(
T
 
v®ue
) {

107 ià(
v®ue
 =ğ
¡d
::
num”ic_lim™s
<
T
>::
šfš™y
()) {

108  
PlusInfš™y
();

109 } ià(
	gv®ue
 =ğ-
¡d
::
num”ic_lim™s
<
T
>::
šfš™y
()) {

110  
MšusInfš™y
();

112 
RTC_DCHECK
(!
¡d
::
i¢ª
(
v®ue
));

113  
FromV®ue
(
¹c
::
dchecked_ÿ¡
<
št64_t
>(
v®ue
));

117 
	g‹m¶©e
 <

118 
ty³Çme
 
	gT
,

119 
ty³Çme
 
	g¡d
::
’abË_if
<
¡d
::
is_š‹g¿l
<
T
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

120 
cÚ¡ex´
 
Un™_T
 
FromF¿ùiÚ
(
št64_t
 
d’omš©Ü
, 
T
 
v®ue
) {

121 ià(
	gUn™_T
::
Úe_sided
)

122 
RTC_DCHECK_GE
(
v®ue
, 0);

123 
RTC_DCHECK_GT
(
v®ue
, 
MšusInfš™yV®
(è/ 
d’omš©Ü
);

124 
RTC_DCHECK_LT
(
v®ue
, 
PlusInfš™yV®
(è/ 
d’omš©Ü
);

125  
Un™_T
(
¹c
::
dchecked_ÿ¡
<
št64_t
>(
v®ue
 * 
d’omš©Ü
));

127 
	g‹m¶©e
 <
ty³Çme
 
	gT
,

128 
ty³Çme
 
	g¡d
::
’abË_if
<
¡d
::
is_æßtšg_pošt
<
T
>::
v®ue
>::
ty³
* =

129 
nuÎ±r
>

130 
cÚ¡ex´
 
Un™_T
 
FromF¿ùiÚ
(
št64_t
 
d’omš©Ü
, 
T
 
v®ue
) {

131  
FromV®ue
(
v®ue
 * 
d’omš©Ü
);

134 
	g‹m¶©e
 <
ty³Çme
 
	gT
 = 
št64_t
>

135 
cÚ¡ex´
 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_š‹g¿l
<
T
>::
v®ue
, 
	gT
>::
ty³


136 
ToV®ue
() const {

137 
RTC_DCHECK
(
IsFš™e
());

138  
	g¹c
::
dchecked_ÿ¡
<
T
>(
v®ue_
);

140 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

141 
cÚ¡ex´
 
ty³Çme
 
	g¡d
::
’abË_if
<
¡d
::
is_æßtšg_pošt
<
T
>::
v®ue
, 
	gT
>::
ty³


142 
ToV®ue
() const {

143  
IsPlusInfš™y
()

144 ? 
¡d
::
num”ic_lim™s
<
T
>::
šfš™y
()

145 : 
IsMšusInfš™y
(è? -
¡d
::
num”ic_lim™s
<
T
>::
šfš™y
()

146 : 
v®ue_
;

148 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

149 
cÚ¡ex´
 
T
 
ToV®ueOr
(T 
çÎback_v®ue
) const {

150  
IsFš™e
(è? 
	gv®ue_
 : 
çÎback_v®ue
;

153 
	g‹m¶©e
 <
št64_t
 
	gD’omš©Ü
, 
ty³Çme
 
	gT
 = int64_t>

154 
cÚ¡ex´
 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_š‹g¿l
<
T
>::
v®ue
, 
	gT
>::
ty³


155 
ToF¿ùiÚ
() const {

156 
RTC_DCHECK
(
IsFš™e
());

157 ià(
	gUn™_T
::
Úe_sided
) {

158  
¹c
::
dchecked_ÿ¡
<
T
>(

159 
DivRoundPos™iveToN—»¡
(
v®ue_
, 
D’omš©Ü
));

161  
	g¹c
::
dchecked_ÿ¡
<
T
>(
DivRoundToN—»¡
(
v®ue_
, 
D’omš©Ü
));

164 
	g‹m¶©e
 <
št64_t
 
	gD’omš©Ü
, 
ty³Çme
 
	gT
>

165 
cÚ¡ex´
 
ty³Çme
 
	g¡d
::
’abË_if
<
¡d
::
is_æßtšg_pošt
<
T
>::
v®ue
, 
	gT
>::
ty³


166 
ToF¿ùiÚ
() const {

167  
ToV®ue
<
T
>(è* (1 / 
¡©ic_ÿ¡
<T>(
D’omš©Ü
));

170 
	g‹m¶©e
 <
št64_t
 
	gD’omš©Ü
>

171 
cÚ¡ex´
 
št64_t
 
ToF¿ùiÚOr
(št64_ˆ
çÎback_v®ue
) const {

172  
IsFš™e
(è? 
	gUn™_T
::
Úe_sided


173 ? 
DivRoundPos™iveToN—»¡
(
v®ue_
, 
D’omš©Ü
)

174 : 
DivRoundToN—»¡
(
v®ue_
, 
D’omš©Ü
)

175 : 
çÎback_v®ue
;

178 
	g‹m¶©e
 <
št64_t
 
	gFaùÜ
, 
ty³Çme
 
	gT
 = int64_t>

179 
cÚ¡ex´
 
ty³Çme
 
¡d
::
’abË_if
<¡d::
is_š‹g¿l
<
T
>::
v®ue
, 
	gT
>::
ty³


180 
ToMuÉË
() const {

181 
RTC_DCHECK_GE
(
ToV®ue
(), 
¡d
::
num”ic_lim™s
<
T
>::
mš
(è/ 
FaùÜ
);

182 
RTC_DCHECK_LE
(
ToV®ue
(), 
¡d
::
num”ic_lim™s
<
T
>::
max
(è/ 
FaùÜ
);

183  
	g¹c
::
dchecked_ÿ¡
<
T
>(
ToV®ue
(è* 
FaùÜ
);

185 
	g‹m¶©e
 <
št64_t
 
	gFaùÜ
, 
ty³Çme
 
	gT
>

186 
cÚ¡ex´
 
ty³Çme
 
	g¡d
::
’abË_if
<
¡d
::
is_æßtšg_pošt
<
T
>::
v®ue
, 
	gT
>::
ty³


187 
ToMuÉË
() const {

188  
ToV®ue
<
T
>(è* 
FaùÜ
;

191 
ex¶ic™
 
cÚ¡ex´
 
Un™Ba£
(
št64_t
 
v®ue
è: 
v®ue_
(value) {}

193 
´iv©e
:

194 
‹m¶©e
 <
şass
 
R–©iveUn™_T
>

195 
ä›nd
 
şass
 
R–©iveUn™
;

197 
šlše
 
cÚ¡ex´
 
št64_t
 
PlusInfš™yV®
() {

198  
	g¡d
::
num”ic_lim™s
<
št64_t
>::
max
();

200 
šlše
 
cÚ¡ex´
 
št64_t
 
MšusInfš™yV®
() {

201  
	g¡d
::
num”ic_lim™s
<
št64_t
>::
mš
();

204 
cÚ¡ex´
 
	gUn™_T
& 
AsSubCÏssRef
(è{  
	g¡©ic_ÿ¡
<Un™_T&>(*
	gthis
); }

205 
cÚ¡ex´
 cÚ¡ 
	gUn™_T
& 
AsSubCÏssRef
() const {

206  
	g¡©ic_ÿ¡
<cÚ¡ 
	gUn™_T
&>(*
	gthis
);

209 
cÚ¡ex´
 
št64_t
 
DivRoundPos™iveToN—»¡
(št64_ˆ
n
, iÁ64_ˆ
d
) {

210  (
	gn
 + 
	gd
 / 2) / d;

213 
cÚ¡ex´
 
št64_t
 
DivRoundToN—»¡
(št64_ˆ
n
, iÁ64_ˆ
d
) {

214  (
	gn
 + (À>ğ0 ? 
d
 / 2 : -d / 2)) / d;

217 
št64_t
 
	gv®ue_
;

223 
	g‹m¶©e
 <
şass
 
	gUn™_T
>

224 
şass
 
	gR–©iveUn™
 : 
public
 
Un™Ba£
<
Un™_T
> {

225 
public
:

226 
cÚ¡ex´
 
Un™_T
 
CÏm³d
(Un™_T 
mš_v®ue
, Un™_T 
max_v®ue
) const {

227  
	g¡d
::
max
(
mš_v®ue
,

228 
¡d
::
mš
(
Un™Ba£
<
Un™_T
>::
AsSubCÏssRef
(), 
max_v®ue
));

230 
cÚ¡ex´
 
CÏmp
(
Un™_T
 
mš_v®ue
, Un™_T 
max_v®ue
) {

231 *
	gthis
 = 
CÏm³d
(
mš_v®ue
, 
max_v®ue
);

233 
cÚ¡ex´
 
Un™_T
 
	gİ”©Ü
+(cÚ¡ Un™_T 
	gÙh”
) const {

234 ià(
	gthis
->
IsPlusInfš™y
(è|| 
	gÙh”
.IsPlusInfinity()) {

235 
RTC_DCHECK
(!
this
->
IsMšusInfš™y
());

236 
RTC_DCHECK
(!
Ùh”
.
IsMšusInfš™y
());

237  
	gthis
->
PlusInfš™y
();

238 } ià(
	gthis
->
IsMšusInfš™y
(è|| 
	gÙh”
.IsMinusInfinity()) {

239 
RTC_DCHECK
(!
this
->
IsPlusInfš™y
());

240 
RTC_DCHECK
(!
Ùh”
.
IsPlusInfš™y
());

241  
	gthis
->
MšusInfš™y
();

243  
	gUn™Ba£
<
	gUn™_T
>::
FromV®ue
(
this
->
ToV®ue
(è+ 
Ùh”
.ToValue());

245 
cÚ¡ex´
 
Un™_T
 
	gİ”©Ü
-(cÚ¡ Un™_T 
	gÙh”
) const {

246 ià(
	gthis
->
IsPlusInfš™y
(è|| 
	gÙh”
.
IsMšusInfš™y
()) {

247 
RTC_DCHECK
(!
this
->
IsMšusInfš™y
());

248 
RTC_DCHECK
(!
Ùh”
.
IsPlusInfš™y
());

249  
	gthis
->
PlusInfš™y
();

250 } ià(
	gthis
->
IsMšusInfš™y
(è|| 
	gÙh”
.
IsPlusInfš™y
()) {

251 
RTC_DCHECK
(!
this
->
IsPlusInfš™y
());

252 
RTC_DCHECK
(!
Ùh”
.
IsMšusInfš™y
());

253  
	gthis
->
MšusInfš™y
();

255  
	gUn™Ba£
<
	gUn™_T
>::
FromV®ue
(
this
->
ToV®ue
(è- 
Ùh”
.ToValue());

257 
cÚ¡ex´
 
	gUn™_T
& 
	gİ”©Ü
+=(cÚ¡ 
Un™_T
 
Ùh”
) {

258 *
this
 = *thi + 
Ùh”
;

259  
	gthis
->
AsSubCÏssRef
();

261 
cÚ¡ex´
 
	gUn™_T
& 
	gİ”©Ü
-=(cÚ¡ 
Un™_T
 
Ùh”
) {

262 *
this
 = *thi - 
Ùh”
;

263  
	gthis
->
AsSubCÏssRef
();

265 
cÚ¡ex´
 
	gİ”©Ü
/(cÚ¡ 
Un™_T
 
	gÙh”
) const {

266  
	gUn™Ba£
<
	gUn™_T
>::
‹m¶©e
 
ToV®ue
<>() /

267 
Ùh”
.
‹m¶©e
 
ToV®ue
<>();

269 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

270 
cÚ¡ex´
 
ty³Çme
 
	g¡d
::
’abË_if
<
¡d
::
is_¬™hm‘ic
<
T
>::
v®ue
, 
	gUn™_T
>::
ty³


271 
İ”©Ü
/(cÚ¡ 
T
& 
sÿÏr
) const {

272  
Un™Ba£
<
Un™_T
>::
FromV®ue
(

273 
¡d
::
round
(
Un™Ba£
<
Un™_T
>::
‹m¶©e
 
ToV®ue
<
št64_t
>(è/ 
sÿÏr
));

275 
cÚ¡ex´
 
Un™_T
 
	gİ”©Ü
*(
	gsÿÏr
) const {

276  
	gUn™Ba£
<
	gUn™_T
>::
FromV®ue
(
¡d
::
round
(
this
->
ToV®ue
(è* 
sÿÏr
));

278 
cÚ¡ex´
 
Un™_T
 
	gİ”©Ü
*(
št64_t
 
	gsÿÏr
) const {

279  
	gUn™Ba£
<
	gUn™_T
>::
FromV®ue
(
this
->
ToV®ue
(è* 
sÿÏr
);

281 
cÚ¡ex´
 
Un™_T
 
	gİ”©Ü
*(
št32_t
 
	gsÿÏr
) const {

282  
	gUn™Ba£
<
	gUn™_T
>::
FromV®ue
(
this
->
ToV®ue
(è* 
sÿÏr
);

285 
	g´Ùeùed
:

286 
usšg
 
Un™Ba£
<
Un™_T
>::UnitBase;

289 
	g‹m¶©e
 <
şass
 
	gUn™_T
>

290 
šlše
 
cÚ¡ex´
 
Un™_T
 
	gİ”©Ü
*(
	gsÿÏr
, 
	gR–©iveUn™
<
	gUn™_T
> 
	gÙh”
) {

291  
Ùh”
 * 
	gsÿÏr
;

293 
	g‹m¶©e
 <
şass
 
	gUn™_T
>

294 
šlše
 
cÚ¡ex´
 
Un™_T
 
	gİ”©Ü
*(
št64_t
 
	gsÿÏr
, 
	gR–©iveUn™
<
	gUn™_T
> 
	gÙh”
) {

295  
Ùh”
 * 
	gsÿÏr
;

297 
	g‹m¶©e
 <
şass
 
	gUn™_T
>

298 
šlše
 
cÚ¡ex´
 
Un™_T
 
	gİ”©Ü
*(
št32_t
 
	gsÿÏr
, 
	gR–©iveUn™
<
	gUn™_T
> 
	gÙh”
) {

299  
Ùh”
 * 
	gsÿÏr
;

	@units/unit_base_unittest.cc

11 
	~"¹c_ba£/un™s/un™_ba£.h
"

13 
	~"‹¡/g‹¡.h
"

15 
Çme¥aû
 
	gweb¹c
 {

16 
	gÇme¥aû
 {

17 
şass
 
Te¡Un™
 
	gfš®
 : 
public
 
¹c_un™s_im¶
::
R–©iveUn™
<TestUnit> {

18 
public
:

19 
Te¡Un™
(èğ
d–‘e
;

21 
usšg
 
	gUn™Ba£
::
FromV®ue
;

22 
usšg
 
	gUn™Ba£
::
ToV®ue
;

23 
usšg
 
	gUn™Ba£
::
ToV®ueOr
;

25 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

26 
cÚ¡ex´
 
Te¡Un™
 
FromKo
(
T
 
ko
) {

27  
FromF¿ùiÚ
(1000, 
ko
);

29 
	g‹m¶©e
 <
ty³Çme
 
	gT
 = 
št64_t
>

30 
T
 
ToKo
() const {

31  
Un™Ba£
::
ToF¿ùiÚ
<1000, 
T
>();

33 
cÚ¡ex´
 
št64_t
 
ToKoOr
(št64_ˆ
çÎback
) const {

34  
	gUn™Ba£
::
ToF¿ùiÚOr
<1000>(
çÎback
);

36 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

37 
cÚ¡ex´
 
T
 
ToMli
() const {

38  
	gUn™Ba£
::
ToMuÉË
<1000, 
	gT
>();

41 
	g´iv©e
:

42 
ä›nd
 
şass
 
¹c_un™s_im¶
::
Un™Ba£
<
Te¡Un™
>;

43 
cÚ¡ex´
 
boŞ
 
	gÚe_sided
 = 
çl£
;

44 
usšg
 
	gR–©iveUn™
<
	gTe¡Un™
>::
R–©iveUn™
;

46 
cÚ¡ex´
 
Te¡Un™
 
Te¡Un™AddKo
(Te¡Un™ 
v®ue
, 
add_ko
) {

47 
	gv®ue
 +ğ
Te¡Un™
::
FromKo
(
add_ko
);

48  
	gv®ue
;

51 
Çme¥aû
 
	g‹¡
 {

52 
TEST
(
Un™Ba£Te¡
, 
CÚ¡Ex´
) {

53 
cÚ¡ex´
 
št64_t
 
	gkV®ue
 = -12345;

54 
cÚ¡ex´
 
Te¡Un™
 
	gkTe¡Un™Z”o
 = Te¡Un™::
Z”o
();

55 
cÚ¡ex´
 
Te¡Un™
 
	gkTe¡Un™PlusInf
 = Te¡Un™::
PlusInfš™y
();

56 
cÚ¡ex´
 
Te¡Un™
 
	gkTe¡Un™MšusInf
 = Te¡Un™::
MšusInfš™y
();

57 
¡©ic_as£¹
(
kTe¡Un™Z”o
.
IsZ”o
(), "");

58 
¡©ic_as£¹
(
kTe¡Un™PlusInf
.
IsPlusInfš™y
(), "");

59 
¡©ic_as£¹
(
kTe¡Un™MšusInf
.
IsMšusInfš™y
(), "");

60 
¡©ic_as£¹
(
kTe¡Un™PlusInf
.
ToKoOr
(-1) == -1, "");

62 
¡©ic_as£¹
(
kTe¡Un™PlusInf
 > 
kTe¡Un™Z”o
, "");

64 
cÚ¡ex´
 
Te¡Un™
 
	gkTe¡Un™Ko
 = Te¡Un™::
FromKo
(
kV®ue
);

65 
cÚ¡ex´
 
Te¡Un™
 
	gkTe¡Un™V®ue
 = Te¡Un™::
FromV®ue
(
kV®ue
);

67 
¡©ic_as£¹
(
kTe¡Un™Ko
.
ToKoOr
(0è=ğ
kV®ue
, "");

68 
¡©ic_as£¹
(
kTe¡Un™V®ue
.
ToV®ueOr
(0è=ğ
kV®ue
, "");

69 
¡©ic_as£¹
(
Te¡Un™AddKo
(
kTe¡Un™V®ue
, 2).
ToV®ue
(è=ğ
kV®ue
 + 2000,

73 
TEST
(
Un™Ba£Te¡
, 
G‘BackSameV®ues
) {

74 cÚ¡ 
št64_t
 
	gkV®ue
 = 499;

75 
	gsign
 = -1; sign <= 1; ++sign) {

76 
št64_t
 
	gv®ue
 = 
kV®ue
 * 
sign
;

77 
EXPECT_EQ
(
Te¡Un™
::
FromKo
(
v®ue
).
ToKo
(), value);

78 
EXPECT_EQ
(
Te¡Un™
::
FromV®ue
(
v®ue
).
ToV®ue
<
št64_t
>(), value);

80 
EXPECT_EQ
(
Te¡Un™
::
Z”o
().
ToV®ue
<
št64_t
>(), 0);

83 
TEST
(
Un™Ba£Te¡
, 
G‘Difã»ÁP»fix
) {

84 cÚ¡ 
št64_t
 
	gkV®ue
 = 3000000;

85 
EXPECT_EQ
(
Te¡Un™
::
FromV®ue
(
kV®ue
).
ToKo
(), kValue / 1000);

86 
EXPECT_EQ
(
Te¡Un™
::
FromKo
(
kV®ue
).
ToV®ue
<
št64_t
>(), kValue * 1000);

89 
TEST
(
Un™Ba£Te¡
, 
Id’t™yChecks
) {

90 cÚ¡ 
št64_t
 
	gkV®ue
 = 3000;

91 
EXPECT_TRUE
(
Te¡Un™
::
Z”o
().
IsZ”o
());

92 
EXPECT_FALSE
(
Te¡Un™
::
FromKo
(
kV®ue
).
IsZ”o
());

94 
EXPECT_TRUE
(
Te¡Un™
::
PlusInfš™y
().
IsInfš™e
());

95 
EXPECT_TRUE
(
Te¡Un™
::
MšusInfš™y
().
IsInfš™e
());

96 
EXPECT_FALSE
(
Te¡Un™
::
Z”o
().
IsInfš™e
());

97 
EXPECT_FALSE
(
Te¡Un™
::
FromKo
(-
kV®ue
).
IsInfš™e
());

98 
EXPECT_FALSE
(
Te¡Un™
::
FromKo
(
kV®ue
).
IsInfš™e
());

100 
EXPECT_FALSE
(
Te¡Un™
::
PlusInfš™y
().
IsFš™e
());

101 
EXPECT_FALSE
(
Te¡Un™
::
MšusInfš™y
().
IsFš™e
());

102 
EXPECT_TRUE
(
Te¡Un™
::
FromKo
(-
kV®ue
).
IsFš™e
());

103 
EXPECT_TRUE
(
Te¡Un™
::
FromKo
(
kV®ue
).
IsFš™e
());

104 
EXPECT_TRUE
(
Te¡Un™
::
Z”o
().
IsFš™e
());

106 
EXPECT_TRUE
(
Te¡Un™
::
PlusInfš™y
().
IsPlusInfš™y
());

107 
EXPECT_FALSE
(
Te¡Un™
::
MšusInfš™y
().
IsPlusInfš™y
());

109 
EXPECT_TRUE
(
Te¡Un™
::
MšusInfš™y
().
IsMšusInfš™y
());

110 
EXPECT_FALSE
(
Te¡Un™
::
PlusInfš™y
().
IsMšusInfš™y
());

113 
TEST
(
Un™Ba£Te¡
, 
Com·risÚO³¿tÜs
) {

114 cÚ¡ 
št64_t
 
	gkSm®l
 = 450;

115 cÚ¡ 
št64_t
 
	gkL¬ge
 = 451;

116 cÚ¡ 
Te¡Un™
 
	gsm®l
 = Te¡Un™::
FromKo
(
kSm®l
);

117 cÚ¡ 
Te¡Un™
 
	gÏrge
 = Te¡Un™::
FromKo
(
kL¬ge
);

119 
EXPECT_EQ
(
Te¡Un™
::
Z”o
(), Te¡Un™::
FromKo
(0));

120 
EXPECT_EQ
(
Te¡Un™
::
PlusInfš™y
(), TestUnit::PlusInfinity());

121 
EXPECT_EQ
(
sm®l
, 
Te¡Un™
::
FromKo
(
kSm®l
));

122 
EXPECT_LE
(
sm®l
, 
Te¡Un™
::
FromKo
(
kSm®l
));

123 
EXPECT_GE
(
sm®l
, 
Te¡Un™
::
FromKo
(
kSm®l
));

124 
EXPECT_NE
(
sm®l
, 
Te¡Un™
::
FromKo
(
kL¬ge
));

125 
EXPECT_LE
(
sm®l
, 
Te¡Un™
::
FromKo
(
kL¬ge
));

126 
EXPECT_LT
(
sm®l
, 
Te¡Un™
::
FromKo
(
kL¬ge
));

127 
EXPECT_GE
(
Ïrge
, 
Te¡Un™
::
FromKo
(
kSm®l
));

128 
EXPECT_GT
(
Ïrge
, 
Te¡Un™
::
FromKo
(
kSm®l
));

129 
EXPECT_LT
(
Te¡Un™
::
Z”o
(), 
sm®l
);

130 
EXPECT_GT
(
Te¡Un™
::
Z”o
(), Te¡Un™::
FromKo
(-
kSm®l
));

131 
EXPECT_GT
(
Te¡Un™
::
Z”o
(), Te¡Un™::
FromKo
(-
kSm®l
));

133 
EXPECT_GT
(
Te¡Un™
::
PlusInfš™y
(), 
Ïrge
);

134 
EXPECT_LT
(
Te¡Un™
::
MšusInfš™y
(), Te¡Un™::
Z”o
());

137 
TEST
(
Un™Ba£Te¡
, 
CÏmpšg
) {

138 cÚ¡ 
Te¡Un™
 
	guµ”
 = Te¡Un™::
FromKo
(800);

139 cÚ¡ 
Te¡Un™
 
	glow”
 = Te¡Un™::
FromKo
(100);

140 cÚ¡ 
Te¡Un™
 
	gund”
 = Te¡Un™::
FromKo
(100);

141 cÚ¡ 
Te¡Un™
 
	gšside
 = Te¡Un™::
FromKo
(500);

142 cÚ¡ 
Te¡Un™
 
	gov”
 = Te¡Un™::
FromKo
(1000);

143 
EXPECT_EQ
(
und”
.
CÏm³d
(
low”
, 
uµ”
),†ower);

144 
EXPECT_EQ
(
šside
.
CÏm³d
(
low”
, 
uµ”
), inside);

145 
EXPECT_EQ
(
ov”
.
CÏm³d
(
low”
, 
uµ”
), upper);

147 
Te¡Un™
 
	gmubË_d–
 = 
low”
;

148 
	gmubË_d–
.
CÏmp
(
low”
, 
uµ”
);

149 
EXPECT_EQ
(
mubË_d–
, 
low”
);

150 
	gmubË_d–
 = 
šside
;

151 
	gmubË_d–
.
CÏmp
(
low”
, 
uµ”
);

152 
EXPECT_EQ
(
mubË_d–
, 
šside
);

153 
	gmubË_d–
 = 
ov”
;

154 
	gmubË_d–
.
CÏmp
(
low”
, 
uµ”
);

155 
EXPECT_EQ
(
mubË_d–
, 
uµ”
);

158 
TEST
(
Un™Ba£Te¡
, 
CªBeIn™™ŸlizedFromL¬geIÁ
) {

159 cÚ¡ 
	gkMaxIÁ
 = 
¡d
::
num”ic_lim™s
<>::
max
();

160 
EXPECT_EQ
(
Te¡Un™
::
FromKo
(
kMaxIÁ
).
ToV®ue
<
št64_t
>(),

161 
¡©ic_ÿ¡
<
št64_t
>(
kMaxIÁ
) * 1000);

164 
TEST
(
Un™Ba£Te¡
, 
CÚv”tsToAndFromDoubË
) {

165 cÚ¡ 
št64_t
 
	gkV®ue
 = 17017;

166 cÚ¡ 
	gkMliDoubË
 = 
kV®ue
 * 1e3;

167 cÚ¡ 
	gkV®ueDoubË
 = 
kV®ue
;

168 cÚ¡ 
	gkKoDoubË
 = 
kV®ue
 * 1e-3;

170 
EXPECT_EQ
(
Te¡Un™
::
FromV®ue
(
kV®ue
).
ToKo
<>(), 
kKoDoubË
);

171 
EXPECT_EQ
(
Te¡Un™
::
FromKo
(
kKoDoubË
).
ToV®ue
<
št64_t
>(), 
kV®ue
);

173 
EXPECT_EQ
(
Te¡Un™
::
FromV®ue
(
kV®ue
).
ToV®ue
<>(), 
kV®ueDoubË
);

174 
EXPECT_EQ
(
Te¡Un™
::
FromV®ue
(
kV®ueDoubË
).
ToV®ue
<
št64_t
>(), 
kV®ue
);

176 
EXPECT_NEAR
(
Te¡Un™
::
FromV®ue
(
kV®ue
).
ToMli
<>(), 
kMliDoubË
, 1);

178 cÚ¡ 
	gkPlusInfš™y
 = 
¡d
::
num”ic_lim™s
<>::
šfš™y
();

179 cÚ¡ 
	gkMšusInfš™y
 = -
kPlusInfš™y
;

181 
EXPECT_EQ
(
Te¡Un™
::
PlusInfš™y
().
ToKo
<>(), 
kPlusInfš™y
);

182 
EXPECT_EQ
(
Te¡Un™
::
MšusInfš™y
().
ToKo
<>(), 
kMšusInfš™y
);

183 
EXPECT_EQ
(
Te¡Un™
::
PlusInfš™y
().
ToV®ue
<>(), 
kPlusInfš™y
);

184 
EXPECT_EQ
(
Te¡Un™
::
MšusInfš™y
().
ToV®ue
<>(), 
kMšusInfš™y
);

185 
EXPECT_EQ
(
Te¡Un™
::
PlusInfš™y
().
ToMli
<>(), 
kPlusInfš™y
);

186 
EXPECT_EQ
(
Te¡Un™
::
MšusInfš™y
().
ToMli
<>(), 
kMšusInfš™y
);

188 
EXPECT_TRUE
(
Te¡Un™
::
FromKo
(
kPlusInfš™y
).
IsPlusInfš™y
());

189 
EXPECT_TRUE
(
Te¡Un™
::
FromKo
(
kMšusInfš™y
).
IsMšusInfš™y
());

190 
EXPECT_TRUE
(
Te¡Un™
::
FromV®ue
(
kPlusInfš™y
).
IsPlusInfš™y
());

191 
EXPECT_TRUE
(
Te¡Un™
::
FromV®ue
(
kMšusInfš™y
).
IsMšusInfš™y
());

194 
TEST
(
Un™Ba£Te¡
, 
M©hO³¿tiÚs
) {

195 cÚ¡ 
št64_t
 
	gkV®ueA
 = 267;

196 cÚ¡ 
št64_t
 
	gkV®ueB
 = 450;

197 cÚ¡ 
Te¡Un™
 
	gd–_a
 = Te¡Un™::
FromKo
(
kV®ueA
);

198 cÚ¡ 
Te¡Un™
 
	gd–_b
 = Te¡Un™::
FromKo
(
kV®ueB
);

199 
EXPECT_EQ
((
d–_a
 + 
d–_b
).
ToKo
(), 
kV®ueA
 + 
kV®ueB
);

200 
EXPECT_EQ
((
d–_a
 - 
d–_b
).
ToKo
(), 
kV®ueA
 - 
kV®ueB
);

202 cÚ¡ 
št32_t
 
	gkIÁ32V®ue
 = 123;

203 cÚ¡ 
	gkFlßtV®ue
 = 123.0;

204 
EXPECT_EQ
((
Te¡Un™
::
FromV®ue
(
kV®ueA
è* 
kV®ueB
).
ToV®ue
<
št64_t
>(),

205 
kV®ueA
 * 
kV®ueB
);

206 
EXPECT_EQ
((
Te¡Un™
::
FromV®ue
(
kV®ueA
è* 
kIÁ32V®ue
).
ToV®ue
<
št64_t
>(),

207 
kV®ueA
 * 
kIÁ32V®ue
);

208 
EXPECT_EQ
((
Te¡Un™
::
FromV®ue
(
kV®ueA
è* 
kFlßtV®ue
).
ToV®ue
<
št64_t
>(),

209 
kV®ueA
 * 
kFlßtV®ue
);

211 
EXPECT_EQ
((
d–_b
 / 10).
ToKo
(), 
kV®ueB
 / 10);

212 
EXPECT_EQ
(
d–_b
 / 
d–_a
, 
¡©ic_ÿ¡
<>(
kV®ueB
è/ 
kV®ueA
);

214 
Te¡Un™
 
	gmubË_d–
 = Te¡Un™::
FromKo
(
kV®ueA
);

215 
	gmubË_d–
 +ğ
Te¡Un™
::
FromKo
(
kV®ueB
);

216 
EXPECT_EQ
(
mubË_d–
, 
Te¡Un™
::
FromKo
(
kV®ueA
 + 
kV®ueB
));

217 
	gmubË_d–
 -ğ
Te¡Un™
::
FromKo
(
kV®ueB
);

218 
EXPECT_EQ
(
mubË_d–
, 
Te¡Un™
::
FromKo
(
kV®ueA
));

221 
TEST
(
Un™Ba£Te¡
, 
Infš™yO³¿tiÚs
) {

222 cÚ¡ 
št64_t
 
	gkV®ue
 = 267;

223 cÚ¡ 
Te¡Un™
 
	gfš™e
 = Te¡Un™::
FromKo
(
kV®ue
);

224 
EXPECT_TRUE
((
Te¡Un™
::
PlusInfš™y
(è+ 
fš™e
).
IsPlusInfš™y
());

225 
EXPECT_TRUE
((
Te¡Un™
::
PlusInfš™y
(è- 
fš™e
).
IsPlusInfš™y
());

226 
EXPECT_TRUE
((
fš™e
 + 
Te¡Un™
::
PlusInfš™y
()).
IsPlusInfš™y
());

227 
EXPECT_TRUE
((
fš™e
 - 
Te¡Un™
::
MšusInfš™y
()).
IsPlusInfš™y
());

229 
EXPECT_TRUE
((
Te¡Un™
::
MšusInfš™y
(è+ 
fš™e
).
IsMšusInfš™y
());

230 
EXPECT_TRUE
((
Te¡Un™
::
MšusInfš™y
(è- 
fš™e
).
IsMšusInfš™y
());

231 
EXPECT_TRUE
((
fš™e
 + 
Te¡Un™
::
MšusInfš™y
()).
IsMšusInfš™y
());

232 
EXPECT_TRUE
((
fš™e
 - 
Te¡Un™
::
PlusInfš™y
()).
IsMšusInfš™y
());

	@virtual_socket_server.cc

11 
	~"¹c_ba£/vœtu®_sock‘_£rv”.h
"

13 
	~<”ºo.h
>

14 
	~<m©h.h
>

16 
	~<m­
>

17 
	~<memÜy
>

18 
	~<veùÜ
>

20 
	~"ab¦/®gÜ™hm/cÚš”.h
"

21 
	~"¹c_ba£/checks.h
"

22 
	~"¹c_ba£/çke_şock.h
"

23 
	~"¹c_ba£/loggšg.h
"

24 
	~"¹c_ba£/physiÿl_sock‘_£rv”.h
"

25 
	~"¹c_ba£/sock‘_add»ss_·œ.h
"

26 
	~"¹c_ba£/th»ad.h
"

27 
	~"¹c_ba£/time_uts.h
"

29 
Çme¥aû
 
	g¹c
 {

30 #ià
defšed
(
WEBRTC_WIN
)

31 cÚ¡ 
š_addr
 
	gkIn™ŸlNextIPv4
 = {{{0x01, 0, 0, 0}}};

34 cÚ¡ 
š_addr
 
	gkIn™ŸlNextIPv4
 = {0x01000000};

37 cÚ¡ 
š6_addr
 
	gkIn™ŸlNextIPv6
 = {

40 cÚ¡ 
ušt16_t
 
	gkFœ¡Ephem”®PÜt
 = 49152;

41 cÚ¡ 
ušt16_t
 
	gkLa¡Ephem”®PÜt
 = 65535;

42 cÚ¡ 
ušt16_t
 
	gkEphem”®PÜtCouÁ
 =

43 
kLa¡Ephem”®PÜt
 - 
kFœ¡Ephem”®PÜt
 + 1;

44 cÚ¡ 
ušt32_t
 
	gkDeçuÉN‘wÜkC­ac™y
 = 64 * 1024;

45 cÚ¡ 
ušt32_t
 
	gkDeçuÉTıBufãrSize
 = 32 * 1024;

47 cÚ¡ 
ušt32_t
 
	gUDP_HEADER_SIZE
 = 28;

48 cÚ¡ 
ušt32_t
 
	gTCP_HEADER_SIZE
 = 40;

49 cÚ¡ 
ušt32_t
 
	gTCP_MSS
 = 1400;

52 cÚ¡ 
	gNUM_SAMPLES
 = 1000;

55 
	gMSG_ID_PACKET
,

56 
	gMSG_ID_ADDRESS_BOUND
,

57 
	gMSG_ID_CONNECT
,

58 
	gMSG_ID_DISCONNECT
,

59 
	gMSG_ID_SIGNALREADEVENT
,

64 şas 
	cPack‘
 : 
public
 
Mes§geD©a
 {

65 
public
:

66 
Pack‘
(cÚ¡ * 
d©a
, 
size_t
 
size
, cÚ¡ 
Sock‘Add»ss
& 
äom
)

67 : 
size_
(
size
), 
cÚsumed_
(0), 
äom_
(
äom
) {

68 
RTC_DCHECK
(
nuÎ±r
 !ğ
d©a
);

69 
	gd©a_
 = 
Ãw
 [
size_
];

70 
memıy
(
d©a_
, 
d©a
, 
size_
);

73 ~
Pack‘
(è
	gov”ride
 { 
	gd–‘e
[] 
	gd©a_
; }

75 cÚ¡ * 
d©a
(ècÚ¡ {  
	gd©a_
 + 
	gcÚsumed_
; }

76 
size_t
 
size
(ècÚ¡ {  
	gsize_
 - 
	gcÚsumed_
; }

77 cÚ¡ 
	gSock‘Add»ss
& 
äom
(ècÚ¡ {  
	gäom_
; }

80 
CÚsume
(
size_t
 
size
) {

81 
RTC_DCHECK
(
size
 + 
cÚsumed_
 < 
size_
);

82 
	gcÚsumed_
 +ğ
size
;

85 
	g´iv©e
:

86 * 
d©a_
;

87 
size_t
 
	gsize_
, 
	gcÚsumed_
;

88 
Sock‘Add»ss
 
	gäom_
;

91 
	gMes§geAdd»ss
 : 
public
 
Mes§geD©a
 {

92 
ex¶ic™
 
Mes§geAdd»ss
(cÚ¡ 
Sock‘Add»ss
& 
a
è: 
addr
(a) {}

93 
Sock‘Add»ss
 
addr
;

96 
	gVœtu®Sock‘
::
	$Vœtu®Sock‘
(
Vœtu®Sock‘S”v”
* 
£rv”
,

97 
çmy
,

98 
ty³
,

99 
boŞ
 
async
)

100 : 
	`£rv”_
(
£rv”
),

101 
	`ty³_
(
ty³
),

102 
	`async_
(
async
),

103 
	`¡©e_
(
CS_CLOSED
),

104 
	`”rÜ_
(0),

105 
	`li¡’_queue_
(
nuÎ±r
),

106 
	`ÃtwÜk_size_
(0),

107 
	`»cv_bufãr_size_
(0),

108 
	`bound_
(
çl£
),

109 
	$was_ªy_
(
çl£
) {

110 
	`RTC_DCHECK
((
ty³_
 =ğ
SOCK_DGRAM
è|| (ty³_ =ğ
SOCK_STREAM
));

111 
	`RTC_DCHECK
(
async_
 ||

112 (
ty³_
 !ğ
SOCK_STREAM
));

113 
£rv”
->
SigÇlR—dyToS’d
.
	`cÚÃù
(
this
,

114 &
Vœtu®Sock‘
::
OnSock‘S”v”R—dyToS’d
);

115 
	}
}

117 
	gVœtu®Sock‘
::~
	$Vœtu®Sock‘
() {

118 
	`Clo£
();

120 
RecvBufãr
::
™”©Ü
 
™
 = 
»cv_bufãr_
.
	`begš
(); iˆ!ğ»cv_bufãr_.
	`’d
();

121 ++
™
) {

122 
d–‘e
 *
™
;

124 
	}
}

126 
Sock‘Add»ss
 
	gVœtu®Sock‘
::
	$G‘LoÿlAdd»ss
() const {

127  
loÿl_addr_
;

128 
	}
}

130 
Sock‘Add»ss
 
	gVœtu®Sock‘
::
	$G‘RemÙeAdd»ss
() const {

131  
»mÙe_addr_
;

132 
	}
}

134 
	gVœtu®Sock‘
::
	$S‘LoÿlAdd»ss
(cÚ¡ 
Sock‘Add»ss
& 
addr
) {

135 
loÿl_addr_
 = 
addr
;

136 
	}
}

138 
	gVœtu®Sock‘
::
	$Bšd
(cÚ¡ 
Sock‘Add»ss
& 
addr
) {

139 ià(!
loÿl_addr_
.
	`IsN
()) {

140 
”rÜ_
 = 
EINVAL
;

143 
loÿl_addr_
 = 
addr
;

144 
»suÉ
 = 
£rv”_
->
	`Bšd
(
this
, &
loÿl_addr_
);

145 ià(
»suÉ
 != 0) {

146 
loÿl_addr_
.
	`CË¬
();

147 
”rÜ_
 = 
EADDRINUSE
;

149 
bound_
 = 
Œue
;

150 
was_ªy_
 = 
addr
.
	`IsAnyIP
();

153 
£rv”_
->
msg_queue_
->
	`Po¡
(
RTC_FROM_HERE
, 
this
, 
MSG_ID_ADDRESS_BOUND
);

155  
»suÉ
;

156 
	}
}

158 
	gVœtu®Sock‘
::
	$CÚÃù
(cÚ¡ 
Sock‘Add»ss
& 
addr
) {

159  
	`In™Ÿ‹CÚÃù
(
addr
, 
Œue
);

160 
	}
}

162 
	gVœtu®Sock‘
::
	$Clo£
() {

163 ià(!
loÿl_addr_
.
	`IsN
(è&& 
bound_
) {

165 
£rv”_
->
	`Unbšd
(
loÿl_addr_
, 
this
);

166 
bound_
 = 
çl£
;

169 ià(
SOCK_STREAM
 =ğ
ty³_
) {

171 ià(
li¡’_queue_
) {

172 !
li¡’_queue_
->
	`em±y
()) {

173 
Sock‘Add»ss
 
addr
 = 
li¡’_queue_
->
	`äÚt
();

176 
£rv”_
->
	`DiscÚÃù
(£rv”_->
	`LookupBšdšg
(
addr
));

177 
li¡’_queue_
->
	`pİ_äÚt
();

179 
d–‘e
 
li¡’_queue_
;

180 
li¡’_queue_
 = 
nuÎ±r
;

183 ià(
CS_CONNECTED
 =ğ
¡©e_
) {

185 
Vœtu®Sock‘
* 
sock‘
 =

186 
£rv”_
->
	`LookupCÚÃùiÚ
(
loÿl_addr_
, 
»mÙe_addr_
);

187 ià(!
sock‘
) {

192 
sock‘
 = 
£rv”_
->
	`LookupBšdšg
(
»mÙe_addr_
);

194 
£rv”_
->
	`DiscÚÃù
(
sock‘
);

197 
£rv”_
->
	`RemoveCÚÃùiÚ
(
»mÙe_addr_
, 
loÿl_addr_
);

198 
£rv”_
->
	`RemoveCÚÃùiÚ
(
loÿl_addr_
, 
»mÙe_addr_
);

201 
Mes§geLi¡
 
msgs
;

202 ià(
£rv”_
->
msg_queue_
) {

203 
£rv”_
->
msg_queue_
->
	`CË¬
(
this
, 
MSG_ID_CONNECT
, &
msgs
);

205 
Mes§geLi¡
::
™”©Ü
 
™
 = 
msgs
.
	`begš
(); iˆ!ğmsgs.
	`’d
(); ++it) {

206 
	`RTC_DCHECK
(
nuÎ±r
 !ğ
™
->
pd©a
);

207 
Mes§geAdd»ss
* 
d©a
 = 
¡©ic_ÿ¡
<Mes§geAdd»ss*>(
™
->
pd©a
);

210 
Vœtu®Sock‘
* 
sock‘
 =

211 
£rv”_
->
	`LookupCÚÃùiÚ
(
loÿl_addr_
, 
d©a
->
addr
);

212 ià(
sock‘
) {

216 
£rv”_
->
	`DiscÚÃù
(
sock‘
);

217 
£rv”_
->
	`RemoveCÚÃùiÚ
(
loÿl_addr_
, 
d©a
->
addr
);

219 
£rv”_
->
	`DiscÚÃù
(£rv”_->
	`LookupBšdšg
(
d©a
->
addr
));

221 
d–‘e
 
d©a
;

224 ià(
£rv”_
->
msg_queue_
) {

225 
£rv”_
->
msg_queue_
->
	`CË¬
(
this
);

229 
¡©e_
 = 
CS_CLOSED
;

230 
loÿl_addr_
.
	`CË¬
();

231 
»mÙe_addr_
.
	`CË¬
();

233 
	}
}

235 
	gVœtu®Sock‘
::
	$S’d
(cÚ¡ * 
pv
, 
size_t
 
cb
) {

236 ià(
CS_CONNECTED
 !ğ
¡©e_
) {

237 
”rÜ_
 = 
ENOTCONN
;

240 ià(
SOCK_DGRAM
 =ğ
ty³_
) {

241  
	`S’dUdp
(
pv
, 
cb
, 
»mÙe_addr_
);

243  
	`S’dTı
(
pv
, 
cb
);

245 
	}
}

247 
	gVœtu®Sock‘
::
	$S’dTo
(cÚ¡ * 
pv
,

248 
size_t
 
cb
,

249 cÚ¡ 
Sock‘Add»ss
& 
addr
) {

250 ià(
SOCK_DGRAM
 =ğ
ty³_
) {

251  
	`S’dUdp
(
pv
, 
cb
, 
addr
);

253 ià(
CS_CONNECTED
 !ğ
¡©e_
) {

254 
”rÜ_
 = 
ENOTCONN
;

257  
	`S’dTı
(
pv
, 
cb
);

259 
	}
}

261 
	gVœtu®Sock‘
::
	$Recv
(* 
pv
, 
size_t
 
cb
, 
št64_t
* 
time¡amp
) {

262 
Sock‘Add»ss
 
addr
;

263  
	`RecvFrom
(
pv
, 
cb
, &
addr
, 
time¡amp
);

264 
	}
}

266 
	gVœtu®Sock‘
::
	$RecvFrom
(* 
pv
,

267 
size_t
 
cb
,

268 
Sock‘Add»ss
* 
·ddr
,

269 
št64_t
* 
time¡amp
) {

270 ià(
time¡amp
) {

271 *
time¡amp
 = -1;

274 ià(
»cv_bufãr_
.
	`em±y
()) {

275 ià(
async_
) {

276 
”rÜ_
 = 
EAGAIN
;

279 
»cv_bufãr_
.
	`em±y
()) {

280 
Mes§ge
 
msg
;

281 
£rv”_
->
msg_queue_
->
	`G‘
(&
msg
);

282 
£rv”_
->
msg_queue_
->
	`Di¥©ch
(&
msg
);

287 
Pack‘
* 
·ck‘
 = 
»cv_bufãr_
.
	`äÚt
();

288 
size_t
 
d©a_»ad
 = 
¡d
::
	`mš
(
cb
, 
·ck‘
->
	`size
());

289 
	`memıy
(
pv
, 
·ck‘
->
	`d©a
(), 
d©a_»ad
);

290 *
·ddr
 = 
·ck‘
->
	`äom
();

292 ià(
d©a_»ad
 < 
·ck‘
->
	`size
()) {

293 
·ck‘
->
	`CÚsume
(
d©a_»ad
);

295 
»cv_bufãr_
.
	`pİ_äÚt
();

296 
d–‘e
 
·ck‘
;

301 ià(!
»cv_bufãr_
.
	`em±y
()) {

303 
£rv”_
->
msg_queue_
->
	`CË¬
(
this
, 
MSG_ID_SIGNALREADEVENT
);

304 
£rv”_
->
msg_queue_
->
	`Po¡
(
RTC_FROM_HERE
, 
this
, 
MSG_ID_SIGNALREADEVENT
);

307 ià(
SOCK_STREAM
 =ğ
ty³_
) {

308 
boŞ
 
was_fuÎ
 = (
»cv_bufãr_size_
 =ğ
£rv”_
->
»cv_bufãr_ÿ·c™y_
);

309 
»cv_bufãr_size_
 -ğ
d©a_»ad
;

310 ià(
was_fuÎ
) {

311 
Vœtu®Sock‘
* 
£nd”
 = 
£rv”_
->
	`LookupBšdšg
(
»mÙe_addr_
);

312 
	`RTC_DCHECK
(
nuÎ±r
 !ğ
£nd”
);

313 
£rv”_
->
	`S’dTı
(
£nd”
);

317  
¡©ic_ÿ¡
<>(
d©a_»ad
);

318 
	}
}

320 
	gVœtu®Sock‘
::
	$Li¡’
(
backlog
) {

321 
	`RTC_DCHECK
(
SOCK_STREAM
 =ğ
ty³_
);

322 
	`RTC_DCHECK
(
CS_CLOSED
 =ğ
¡©e_
);

323 ià(
loÿl_addr_
.
	`IsN
()) {

324 
”rÜ_
 = 
EINVAL
;

327 
	`RTC_DCHECK
(
nuÎ±r
 =ğ
li¡’_queue_
);

328 
li¡’_queue_
 = 
Ãw
 
Li¡’Queue
;

329 
¡©e_
 = 
CS_CONNECTING
;

331 
	}
}

333 
Vœtu®Sock‘
* 
	gVœtu®Sock‘
::
	$Acû±
(
Sock‘Add»ss
* 
·ddr
) {

334 ià(
nuÎ±r
 =ğ
li¡’_queue_
) {

335 
”rÜ_
 = 
EINVAL
;

336  
nuÎ±r
;

338 !
li¡’_queue_
->
	`em±y
()) {

339 
Vœtu®Sock‘
* 
sock‘
 = 
Ãw
 
	`Vœtu®Sock‘
(
£rv”_
, 
AF_INET
, 
ty³_
, 
async_
);

342 
sock‘
->
	`S‘LoÿlAdd»ss
(
loÿl_addr_
);

344 
sock‘
->
	`£t_was_ªy
(
was_ªy_
);

345 
Sock‘Add»ss
 
	`»mÙe_addr
(
li¡’_queue_
->
	`äÚt
());

346 
»suÉ
 = 
sock‘
->
	`In™Ÿ‹CÚÃù
(
»mÙe_addr
, 
çl£
);

347 
li¡’_queue_
->
	`pİ_äÚt
();

348 ià(
»suÉ
 != 0) {

349 
d–‘e
 
sock‘
;

352 
sock‘
->
	`Com¶‘eCÚÃù
(
»mÙe_addr
, 
çl£
);

353 ià(
·ddr
) {

354 *
·ddr
 = 
»mÙe_addr
;

356  
sock‘
;

358 
”rÜ_
 = 
EWOULDBLOCK
;

359  
nuÎ±r
;

360 
	}
}

362 
	gVœtu®Sock‘
::
	$G‘E¼Ü
() const {

363  
”rÜ_
;

364 
	}
}

366 
	gVœtu®Sock‘
::
	$S‘E¼Ü
(
”rÜ
) {

367 
”rÜ_
 = 
”rÜ
;

368 
	}
}

370 
	gSock‘
::
CÚnS‹
 
Vœtu®Sock‘
::
	$G‘S‹
() const {

371  
¡©e_
;

372 
	}
}

374 
	gVœtu®Sock‘
::
	$G‘O±iÚ
(
O±iÚ
 
İt
, * 
v®ue
) {

375 
O±iÚsM­
::
cÚ¡_™”©Ü
 
™
 = 
İtiÚs_m­_
.
	`fšd
(
İt
);

376 ià(
™
 =ğ
İtiÚs_m­_
.
	`’d
()) {

379 *
v®ue
 = 
™
->
£cÚd
;

381 
	}
}

383 
	gVœtu®Sock‘
::
	$S‘O±iÚ
(
O±iÚ
 
İt
, 
v®ue
) {

384 
İtiÚs_m­_
[
İt
] = 
v®ue
;

386 
	}
}

388 
	gVœtu®Sock‘
::
	$OnMes§ge
(
Mes§ge
* 
pmsg
) {

389 ià(
pmsg
->
mes§ge_id
 =ğ
MSG_ID_PACKET
) {

390 
	`RTC_DCHECK
(
nuÎ±r
 !ğ
pmsg
->
pd©a
);

391 
Pack‘
* 
·ck‘
 = 
¡©ic_ÿ¡
<Pack‘*>(
pmsg
->
pd©a
);

393 
»cv_bufãr_
.
	`push_back
(
·ck‘
);

395 ià(
async_
) {

396 
	`SigÇlR—dEv’t
(
this
);

398 } ià(
pmsg
->
mes§ge_id
 =ğ
MSG_ID_CONNECT
) {

399 
	`RTC_DCHECK
(
nuÎ±r
 !ğ
pmsg
->
pd©a
);

400 
Mes§geAdd»ss
* 
d©a
 = 
¡©ic_ÿ¡
<Mes§geAdd»ss*>(
pmsg
->
pd©a
);

401 ià(
li¡’_queue_
 !ğ
nuÎ±r
) {

402 
li¡’_queue_
->
	`push_back
(
d©a
->
addr
);

403 ià(
async_
) {

404 
	`SigÇlR—dEv’t
(
this
);

406 } ià((
SOCK_STREAM
 =ğ
ty³_
è&& (
CS_CONNECTING
 =ğ
¡©e_
)) {

407 
	`Com¶‘eCÚÃù
(
d©a
->
addr
, 
Œue
);

409 
	`RTC_LOG
(
LS_VERBOSE
è<< "Sock‘‡ˆ" << 
loÿl_addr_
.
	`ToSŒšg
()

411 
£rv”_
->
	`DiscÚÃù
(£rv”_->
	`LookupBšdšg
(
d©a
->
addr
));

413 
d–‘e
 
d©a
;

414 } ià(
pmsg
->
mes§ge_id
 =ğ
MSG_ID_DISCONNECT
) {

415 
	`RTC_DCHECK
(
SOCK_STREAM
 =ğ
ty³_
);

416 ià(
CS_CLOSED
 !ğ
¡©e_
) {

417 
”rÜ
 = (
CS_CONNECTING
 =ğ
¡©e_
è? 
ECONNREFUSED
 : 0;

418 
¡©e_
 = 
CS_CLOSED
;

419 
»mÙe_addr_
.
	`CË¬
();

420 ià(
async_
) {

421 
	`SigÇlClo£Ev’t
(
this
, 
”rÜ
);

424 } ià(
pmsg
->
mes§ge_id
 =ğ
MSG_ID_ADDRESS_BOUND
) {

425 
	`SigÇlAdd»ssR—dy
(
this
, 
	`G‘LoÿlAdd»ss
());

426 } ià(
pmsg
->
mes§ge_id
 =ğ
MSG_ID_SIGNALREADEVENT
) {

427 ià(!
»cv_bufãr_
.
	`em±y
()) {

428 
	`SigÇlR—dEv’t
(
this
);

431 
	`RTC_NOTREACHED
();

433 
	}
}

435 
	gVœtu®Sock‘
::
	$In™Ÿ‹CÚÃù
(cÚ¡ 
Sock‘Add»ss
& 
addr
, 
boŞ
 
u£_d–ay
) {

436 ià(!
»mÙe_addr_
.
	`IsN
()) {

437 
”rÜ_
 = (
CS_CONNECTED
 =ğ
¡©e_
è? 
EISCONN
 : 
EINPROGRESS
;

440 ià(
loÿl_addr_
.
	`IsN
()) {

442 
»suÉ
 = 0;

443 ià(
addr
.
	`addr
().
	`çmy
(è=ğ
AF_INET
) {

444 
»suÉ
 = 
	`Bšd
(
	`Sock‘Add»ss
("0.0.0.0", 0));

445 } ià(
addr
.
	`addr
().
	`çmy
(è=ğ
AF_INET6
) {

446 
»suÉ
 = 
	`Bšd
(
	`Sock‘Add»ss
("::", 0));

448 ià(
»suÉ
 != 0) {

449  
»suÉ
;

452 ià(
ty³_
 =ğ
SOCK_DGRAM
) {

453 
»mÙe_addr_
 = 
addr
;

454 
¡©e_
 = 
CS_CONNECTED
;

456 
»suÉ
 = 
£rv”_
->
	`CÚÃù
(
this
, 
addr
, 
u£_d–ay
);

457 ià(
»suÉ
 != 0) {

458 
”rÜ_
 = 
EHOSTUNREACH
;

461 
¡©e_
 = 
CS_CONNECTING
;

464 
	}
}

466 
	gVœtu®Sock‘
::
	$Com¶‘eCÚÃù
(cÚ¡ 
Sock‘Add»ss
& 
addr
, 
boŞ
 
nÙify
) {

467 
	`RTC_DCHECK
(
CS_CONNECTING
 =ğ
¡©e_
);

468 
»mÙe_addr_
 = 
addr
;

469 
¡©e_
 = 
CS_CONNECTED
;

470 
£rv”_
->
	`AddCÚÃùiÚ
(
»mÙe_addr_
, 
loÿl_addr_
, 
this
);

471 ià(
async_
 && 
nÙify
) {

472 
	`SigÇlCÚÃùEv’t
(
this
);

474 
	}
}

476 
	gVœtu®Sock‘
::
	$S’dUdp
(cÚ¡ * 
pv
,

477 
size_t
 
cb
,

478 cÚ¡ 
Sock‘Add»ss
& 
addr
) {

480 ià(
loÿl_addr_
.
	`IsN
()) {

481 
loÿl_addr_
 = 
	`Em±ySock‘Add»ssW™hFamy
(
addr
.
	`addr
().
	`çmy
());

482 
»suÉ
 = 
£rv”_
->
	`Bšd
(
this
, &
loÿl_addr_
);

483 ià(
»suÉ
 != 0) {

484 
loÿl_addr_
.
	`CË¬
();

485 
”rÜ_
 = 
EADDRINUSE
;

486  
»suÉ
;

491  
£rv”_
->
	`S’dUdp
(
this
, 
¡©ic_ÿ¡
<cÚ¡ *>(
pv
), 
cb
, 
addr
);

492 
	}
}

494 
	gVœtu®Sock‘
::
	$S’dTı
(cÚ¡ * 
pv
, 
size_t
 
cb
) {

495 
size_t
 
ÿ·c™y
 = 
£rv”_
->
£nd_bufãr_ÿ·c™y_
 - 
£nd_bufãr_
.
	`size
();

496 ià(0 =ğ
ÿ·c™y
) {

497 
»ady_to_£nd_
 = 
çl£
;

498 
”rÜ_
 = 
EWOULDBLOCK
;

501 
size_t
 
cÚsumed
 = 
¡d
::
	`mš
(
cb
, 
ÿ·c™y
);

502 cÚ¡ * 
ıv
 = 
¡©ic_ÿ¡
<cÚ¡ *>(
pv
);

503 
£nd_bufãr_
.
	`š£¹
(£nd_bufãr_.
	`’d
(), 
ıv
, cpv + 
cÚsumed
);

504 
£rv”_
->
	`S’dTı
(
this
);

505  
¡©ic_ÿ¡
<>(
cÚsumed
);

506 
	}
}

508 
	gVœtu®Sock‘
::
	$OnSock‘S”v”R—dyToS’d
() {

509 ià(
»ady_to_£nd_
) {

513 ià(
ty³_
 =ğ
SOCK_DGRAM
) {

514 
»ady_to_£nd_
 = 
Œue
;

515 
	`SigÇlWr™eEv’t
(
this
);

517 
	`RTC_DCHECK
(
ty³_
 =ğ
SOCK_STREAM
);

520 
£rv”_
->
	`S’dTı
(
this
);

522 
	}
}

524 
	gVœtu®Sock‘S”v”
::
	$Vœtu®Sock‘S”v”
(è: 
	$Vœtu®Sock‘S”v”
(
nuÎ±r
è{
	}
}

526 
Vœtu®Sock‘S”v”
::
	$Vœtu®Sock‘S”v”
(
Th»adProûssšgFakeClock
* 
çke_şock
)

527 : 
	`çke_şock_
(
çke_şock
),

528 
	`msg_queue_
(
nuÎ±r
),

529 
	`¡İ_Ú_idË_
(
çl£
),

530 
	`Ãxt_v4_
(
kIn™ŸlNextIPv4
),

531 
	`Ãxt_v6_
(
kIn™ŸlNextIPv6
),

532 
	`Ãxt_pÜt_
(
kFœ¡Ephem”®PÜt
),

533 
	`bšdšgs_
(
Ãw
 
	`Add»ssM­
()),

534 
	`cÚÃùiÚs_
(
Ãw
 
	`CÚÃùiÚM­
()),

535 
	`bªdwidth_
(0),

536 
	`ÃtwÜk_ÿ·c™y_
(
kDeçuÉN‘wÜkC­ac™y
),

537 
	`£nd_bufãr_ÿ·c™y_
(
kDeçuÉTıBufãrSize
),

538 
	`»cv_bufãr_ÿ·c™y_
(
kDeçuÉTıBufãrSize
),

539 
	`d–ay_m—n_
(0),

540 
	`d–ay_¡ddev_
(0),

541 
	`d–ay_§m¶es_
(
NUM_SAMPLES
),

542 
	$drİ_´ob_
(0.0) {

543 
	`Upd©eD–ayDi¡ributiÚ
();

544 
	}
}

546 
	gVœtu®Sock‘S”v”
::~
	$Vœtu®Sock‘S”v”
() {

547 
d–‘e
 
bšdšgs_
;

548 
d–‘e
 
cÚÃùiÚs_
;

549 
	}
}

551 
IPAdd»ss
 
	gVœtu®Sock‘S”v”
::
	$G‘NextIP
(
çmy
) {

552 ià(
çmy
 =ğ
AF_INET
) {

553 
IPAdd»ss
 
	`Ãxt_
(
Ãxt_v4_
);

554 
Ãxt_v4_
.
s_addr
 = 
	`Ho¡ToN‘wÜk32
(
	`N‘wÜkToHo¡32
(next_ipv4_.s_addr) + 1);

555  
Ãxt_
;

556 } ià(
çmy
 =ğ
AF_INET6
) {

557 
IPAdd»ss
 
	`Ãxt_
(
Ãxt_v6_
);

558 
ušt32_t
* 
as_šts
 = 
»š‹½»t_ÿ¡
<ušt32_t*>(&
Ãxt_v6_
.
s6_addr
);

559 
as_šts
[3] += 1;

560  
Ãxt_
;

562  
	`IPAdd»ss
();

563 
	}
}

565 
ušt16_t
 
	gVœtu®Sock‘S”v”
::
	$G‘NextPÜt
() {

566 
ušt16_t
 
pÜt
 = 
Ãxt_pÜt_
;

567 ià(
Ãxt_pÜt_
 < 
kLa¡Ephem”®PÜt
) {

568 ++
Ãxt_pÜt_
;

570 
Ãxt_pÜt_
 = 
kFœ¡Ephem”®PÜt
;

572  
pÜt
;

573 
	}
}

575 
	gVœtu®Sock‘S”v”
::
	$S‘S’dšgBlocked
(
boŞ
 
blocked
) {

576 ià(
blocked
 =ğ
£ndšg_blocked_
) {

580 
£ndšg_blocked_
 = 
blocked
;

581 ià(!
£ndšg_blocked_
) {

584 
	`SigÇlR—dyToS’d
();

586 
	}
}

588 
Sock‘
* 
	gVœtu®Sock‘S”v”
::
	$C»©eSock‘
(
çmy
, 
ty³
) {

589  
	`C»©eSock‘IÁ”Çl
(
çmy
, 
ty³
);

590 
	}
}

592 
AsyncSock‘
* 
	gVœtu®Sock‘S”v”
::
	$C»©eAsyncSock‘
(
çmy
, 
ty³
) {

593  
	`C»©eSock‘IÁ”Çl
(
çmy
, 
ty³
);

594 
	}
}

596 
Vœtu®Sock‘
* 
	gVœtu®Sock‘S”v”
::
	$C»©eSock‘IÁ”Çl
(
çmy
, 
ty³
) {

597 
Vœtu®Sock‘
* 
sock‘
 = 
Ãw
 
	`Vœtu®Sock‘
(
this
, 
çmy
, 
ty³
, 
Œue
);

598 
	`SigÇlSock‘C»©ed
(
sock‘
);

599  
sock‘
;

600 
	}
}

602 
	gVœtu®Sock‘S”v”
::
	$S‘Mes§geQueue
(
Th»ad
* 
msg_queue
) {

603 
msg_queue_
 = 
msg_queue
;

604 ià(
msg_queue_
) {

605 
msg_queue_
->
SigÇlQueueDe¡royed
.
	`cÚÃù
(

606 
this
, &
Vœtu®Sock‘S”v”
::
OnMes§geQueueDe¡royed
);

608 
	}
}

610 
boŞ
 
	gVœtu®Sock‘S”v”
::
	$Wa™
(
cmsWa™
, 
boŞ
 
´oûss_io
) {

611 
	`RTC_DCHECK
(
msg_queue_
 =ğ
Th»ad
::
	`Cu¼’t
());

612 ià(
¡İ_Ú_idË_
 && 
Th»ad
::
	`Cu¼’t
()->
	`em±y
()) {

613  
çl£
;

619 
wakeup_
.
	`Wa™
(
cmsWa™
);

620  
Œue
;

621 
	}
}

623 
	gVœtu®Sock‘S”v”
::
	$WakeUp
() {

624 
wakeup_
.
	`S‘
();

625 
	}
}

627 
	gVœtu®Sock‘S”v”
::
	$S‘AÉ”ÇtiveLoÿlAdd»ss
(

628 cÚ¡ 
¹c
::
IPAdd»ss
& 
add»ss
,

629 cÚ¡ 
¹c
::
IPAdd»ss
& 
®‹º©ive
) {

630 
®‹º©ive_add»ss_m­pšg_
[
add»ss
] = 
®‹º©ive
;

631 
	}
}

633 
boŞ
 
	gVœtu®Sock‘S”v”
::
	$ProûssMes§gesUÁIdË
() {

634 
	`RTC_DCHECK
(
msg_queue_
 =ğ
Th»ad
::
	`Cu¼’t
());

635 
¡İ_Ú_idË_
 = 
Œue
;

636 !
msg_queue_
->
	`em±y
()) {

637 ià(
çke_şock_
) {

640 
çke_şock_
->
	`AdvªûTime
(
web¹c
::
TimeD–
::
	`Mlis
(1));

643 
Mes§ge
 
msg
;

644 ià(
msg_queue_
->
	`G‘
(&
msg
, 
Th»ad
::
kFÜev”
)) {

645 
msg_queue_
->
	`Di¥©ch
(&
msg
);

649 
¡İ_Ú_idË_
 = 
çl£
;

650  !
msg_queue_
->
	`IsQu™tšg
();

651 
	}
}

653 
	gVœtu®Sock‘S”v”
::
	$S‘NextPÜtFÜTe¡šg
(
ušt16_t
 
pÜt
) {

654 
Ãxt_pÜt_
 = 
pÜt
;

655 
	}
}

657 
boŞ
 
	gVœtu®Sock‘S”v”
::
	$Clo£TıCÚÃùiÚs
(

658 cÚ¡ 
Sock‘Add»ss
& 
addr_loÿl
,

659 cÚ¡ 
Sock‘Add»ss
& 
addr_»mÙe
) {

660 
Vœtu®Sock‘
* 
sock‘
 = 
	`LookupCÚÃùiÚ
(
addr_loÿl
, 
addr_»mÙe
);

661 ià(!
sock‘
) {

662  
çl£
;

665 
sock‘
->
	`SigÇlClo£Ev’t
(socket, 0);

668 
sock‘
->
	`Clo£
();

670  
Œue
;

671 
	}
}

673 
	gVœtu®Sock‘S”v”
::
	$Bšd
(
Vœtu®Sock‘
* 
sock‘
,

674 cÚ¡ 
Sock‘Add»ss
& 
addr
) {

675 
	`RTC_DCHECK
(
nuÎ±r
 !ğ
sock‘
);

677 
	`RTC_DCHECK
(!
	`IPIsUn¥ec
(
addr
.
	`addr
()));

678 
	`RTC_DCHECK
(
addr
.
	`pÜt
() != 0);

681 
Sock‘Add»ss
 
	`nÜm®ized
(
addr
.
	`addr
().
	`NÜm®ized
(),‡ddr.
	`pÜt
());

683 
Add»ssM­
::
v®ue_ty³
 
	`’Œy
(
nÜm®ized
, 
sock‘
);

684  
bšdšgs_
->
	`š£¹
(
’Œy
).
£cÚd
 ? 0 : -1;

685 
	}
}

687 
	gVœtu®Sock‘S”v”
::
	$Bšd
(
Vœtu®Sock‘
* 
sock‘
, 
Sock‘Add»ss
* 
addr
) {

688 
	`RTC_DCHECK
(
nuÎ±r
 !ğ
sock‘
);

691 ià(!
	`IPIsUn¥ec
(
addr
->
	`addr
())) {

692 
addr
->
	`S‘IP
×ddr->
	`addr
().
	`NÜm®ized
());

694 
	`RTC_NOTREACHED
();

700 autØ
®‹º©ive
 = 
®‹º©ive_add»ss_m­pšg_
.
	`fšd
(
addr
->
	`addr
());

701 ià(
®‹º©ive
 !ğ
®‹º©ive_add»ss_m­pšg_
.
	`’d
()) {

702 
addr
->
	`S‘IP
(
®‹º©ive
->
£cÚd
);

706 ià(
addr
->
	`pÜt
() == 0) {

707 
i
 = 0; i < 
kEphem”®PÜtCouÁ
; ++i) {

708 
addr
->
	`S‘PÜt
(
	`G‘NextPÜt
());

709 ià(
bšdšgs_
->
	`fšd
(*
addr
è=ğbšdšgs_->
	`’d
()) {

715  
	`Bšd
(
sock‘
, *
addr
);

716 
	}
}

718 
Vœtu®Sock‘
* 
	gVœtu®Sock‘S”v”
::
	$LookupBšdšg
(cÚ¡ 
Sock‘Add»ss
& 
addr
) {

719 
Sock‘Add»ss
 
	`nÜm®ized
(
addr
.
	`addr
().
	`NÜm®ized
(),‡ddr.
	`pÜt
());

720 
Add»ssM­
::
™”©Ü
 
™
 = 
bšdšgs_
->
	`fšd
(
nÜm®ized
);

721 ià(
™
 !ğ
bšdšgs_
->
	`’d
()) {

722  
™
->
£cÚd
;

725 
IPAdd»ss
 
deçuÉ_
 = 
	`G‘DeçuÉRou‹
(
addr
.
	`addr
().
	`çmy
());

726 ià(!
	`IPIsUn¥ec
(
deçuÉ_
è&& 
addr
.
	`addr
() == default_ip) {

730 
Sock‘Add»ss
 
sock_addr
 =

731 
	`Em±ySock‘Add»ssW™hFamy
(
addr
.
	`addr
().
	`çmy
());

732 
sock_addr
.
	`S‘PÜt
(
addr
.
	`pÜt
());

733  
	`LookupBšdšg
(
sock_addr
);

736  
nuÎ±r
;

737 
	}
}

739 
	gVœtu®Sock‘S”v”
::
	$Unbšd
(cÚ¡ 
Sock‘Add»ss
& 
addr
,

740 
Vœtu®Sock‘
* 
sock‘
) {

741 
Sock‘Add»ss
 
	`nÜm®ized
(
addr
.
	`addr
().
	`NÜm®ized
(),‡ddr.
	`pÜt
());

742 
	`RTC_DCHECK
((*
bšdšgs_
)[
nÜm®ized
] =ğ
sock‘
);

743 
bšdšgs_
->
	`”a£
(bšdšgs_->
	`fšd
(
nÜm®ized
));

745 
	}
}

747 
	gVœtu®Sock‘S”v”
::
	$AddCÚÃùiÚ
(cÚ¡ 
Sock‘Add»ss
& 
loÿl
,

748 cÚ¡ 
Sock‘Add»ss
& 
»mÙe
,

749 
Vœtu®Sock‘
* 
»mÙe_sock‘
) {

752 
Sock‘Add»ss
 
	`loÿl_nÜm®ized
(
loÿl
.
	`addr
().
	`NÜm®ized
(),†oÿl.
	`pÜt
());

753 
Sock‘Add»ss
 
	`»mÙe_nÜm®ized
(
»mÙe
.
	`addr
().
	`NÜm®ized
(),„emÙe.
	`pÜt
());

754 
Sock‘Add»ssPaœ
 
	`add»ss_·œ
(
loÿl_nÜm®ized
, 
»mÙe_nÜm®ized
);

755 
cÚÃùiÚs_
->
	`š£¹
(
¡d
::
·œ
<
Sock‘Add»ssPaœ
, 
Vœtu®Sock‘
*>(

756 
add»ss_·œ
, 
»mÙe_sock‘
));

757 
	}
}

759 
Vœtu®Sock‘
* 
	gVœtu®Sock‘S”v”
::
	$LookupCÚÃùiÚ
(

760 cÚ¡ 
Sock‘Add»ss
& 
loÿl
,

761 cÚ¡ 
Sock‘Add»ss
& 
»mÙe
) {

762 
Sock‘Add»ss
 
	`loÿl_nÜm®ized
(
loÿl
.
	`addr
().
	`NÜm®ized
(),†oÿl.
	`pÜt
());

763 
Sock‘Add»ss
 
	`»mÙe_nÜm®ized
(
»mÙe
.
	`addr
().
	`NÜm®ized
(),„emÙe.
	`pÜt
());

764 
Sock‘Add»ssPaœ
 
	`add»ss_·œ
(
loÿl_nÜm®ized
, 
»mÙe_nÜm®ized
);

765 
CÚÃùiÚM­
::
™”©Ü
 
™
 = 
cÚÃùiÚs_
->
	`fšd
(
add»ss_·œ
);

766  (
cÚÃùiÚs_
->
	`’d
(è!ğ
™
è? it->
£cÚd
 : 
nuÎ±r
;

767 
	}
}

769 
	gVœtu®Sock‘S”v”
::
	$RemoveCÚÃùiÚ
(cÚ¡ 
Sock‘Add»ss
& 
loÿl
,

770 cÚ¡ 
Sock‘Add»ss
& 
»mÙe
) {

771 
Sock‘Add»ss
 
	`loÿl_nÜm®ized
(
loÿl
.
	`addr
().
	`NÜm®ized
(),†oÿl.
	`pÜt
());

772 
Sock‘Add»ss
 
	`»mÙe_nÜm®ized
(
»mÙe
.
	`addr
().
	`NÜm®ized
(),„emÙe.
	`pÜt
());

773 
Sock‘Add»ssPaœ
 
	`add»ss_·œ
(
loÿl_nÜm®ized
, 
»mÙe_nÜm®ized
);

774 
cÚÃùiÚs_
->
	`”a£
(
add»ss_·œ
);

775 
	}
}

777 
	$Rªdom
() {

778  
¡©ic_ÿ¡
<>(
	`¿nd
()è/ 
RAND_MAX
;

779 
	}
}

781 
	gVœtu®Sock‘S”v”
::
	$CÚÃù
(
Vœtu®Sock‘
* 
sock‘
,

782 cÚ¡ 
Sock‘Add»ss
& 
»mÙe_addr
,

783 
boŞ
 
u£_d–ay
) {

784 
ušt32_t
 
d–ay
 = 
u£_d–ay
 ? 
	`G‘T¿ns™D–ay
(
sock‘
) : 0;

785 
Vœtu®Sock‘
* 
»mÙe
 = 
	`LookupBšdšg
(
»mÙe_addr
);

786 ià(!
	`CªIÁ”aùW™h
(
sock‘
, 
»mÙe
)) {

787 
	`RTC_LOG
(
LS_INFO
) << "Address family mismatch between "

788 << 
sock‘
->
	`G‘LoÿlAdd»ss
().
	`ToSŒšg
() << "‡nd "

789 << 
»mÙe_addr
.
	`ToSŒšg
();

792 ià(
»mÙe
 !ğ
nuÎ±r
) {

793 
Sock‘Add»ss
 
addr
 = 
sock‘
->
	`G‘LoÿlAdd»ss
();

794 
msg_queue_
->
	`Po¡D–ayed
(
RTC_FROM_HERE
, 
d–ay
, 
»mÙe
, 
MSG_ID_CONNECT
,

795 
Ãw
 
	`Mes§geAdd»ss
(
addr
));

797 
	`RTC_LOG
(
LS_INFO
è<< "NØÚli¡’šg‡ˆ" << 
»mÙe_addr
.
	`ToSŒšg
();

798 
msg_queue_
->
	`Po¡D–ayed
(
RTC_FROM_HERE
, 
d–ay
, 
sock‘
, 
MSG_ID_DISCONNECT
);

801 
	}
}

803 
boŞ
 
	gVœtu®Sock‘S”v”
::
	$DiscÚÃù
(
Vœtu®Sock‘
* 
sock‘
) {

804 ià(
sock‘
) {

807 
ušt32_t
 
d–ay
 = 
	`G‘T¿ns™D–ay
(
sock‘
);

809 
msg_queue_
->
	`Po¡D–ayed
(
RTC_FROM_HERE
, 
d–ay
, 
sock‘
, 
MSG_ID_DISCONNECT
);

810  
Œue
;

812  
çl£
;

813 
	}
}

815 
	gVœtu®Sock‘S”v”
::
	$S’dUdp
(
Vœtu®Sock‘
* 
sock‘
,

816 cÚ¡ * 
d©a
,

817 
size_t
 
d©a_size
,

818 cÚ¡ 
Sock‘Add»ss
& 
»mÙe_addr
) {

819 ++
£Á_·ck‘s_
;

820 ià(
£ndšg_blocked_
) {

821 
Cr™Scİe
 
	`cs
(&
sock‘
->
ü™_
);

822 
sock‘
->
»ady_to_£nd_
 = 
çl£
;

823 
sock‘
->
”rÜ_
 = 
EWOULDBLOCK
;

828 ià(
	`Rªdom
(è< 
drİ_´ob_
) {

829 
	`RTC_LOG
(
LS_VERBOSE
) << "Dropping…acket: bad†uck";

830  
¡©ic_ÿ¡
<>(
d©a_size
);

833 
Vœtu®Sock‘
* 
»c›Á
 = 
	`LookupBšdšg
(
»mÙe_addr
);

834 ià(!
»c›Á
) {

836 
¡d
::
unique_±r
<
Vœtu®Sock‘
> 
	`dummy_sock‘
(

837 
	`C»©eSock‘IÁ”Çl
(
AF_INET
, 
SOCK_DGRAM
));

838 
dummy_sock‘
->
	`S‘LoÿlAdd»ss
(
»mÙe_addr
);

839 ià(!
	`CªIÁ”aùW™h
(
sock‘
, 
dummy_sock‘
.
	`g‘
())) {

840 
	`RTC_LOG
(
LS_VERBOSE
) << "Incompatible‡ddress families: "

841 << 
sock‘
->
	`G‘LoÿlAdd»ss
().
	`ToSŒšg
() << "‡nd "

842 << 
»mÙe_addr
.
	`ToSŒšg
();

845 
	`RTC_LOG
(
LS_VERBOSE
è<< "NØÚli¡’šg‡ˆ" << 
»mÙe_addr
.
	`ToSŒšg
();

846  
¡©ic_ÿ¡
<>(
d©a_size
);

849 ià(!
	`CªIÁ”aùW™h
(
sock‘
, 
»c›Á
)) {

850 
	`RTC_LOG
(
LS_VERBOSE
) << "Incompatible‡ddress families: "

851 << 
sock‘
->
	`G‘LoÿlAdd»ss
().
	`ToSŒšg
() << "‡nd "

852 << 
»mÙe_addr
.
	`ToSŒšg
();

857 
Cr™Scİe
 
	`cs
(&
sock‘
->
ü™_
);

859 
št64_t
 
cur_time
 = 
	`TimeMlis
();

860 
	`PurgeN‘wÜkPack‘s
(
sock‘
, 
cur_time
);

870 
size_t
 
·ck‘_size
 = 
d©a_size
 + 
UDP_HEADER_SIZE
;

871 ià(
sock‘
->
ÃtwÜk_size_
 + 
·ck‘_size
 > 
ÃtwÜk_ÿ·c™y_
) {

872 
	`RTC_LOG
(
LS_VERBOSE
) << "Dropping…acket:‚etwork capacityƒxceeded";

873  
¡©ic_ÿ¡
<>(
d©a_size
);

876 
	`AddPack‘ToN‘wÜk
(
sock‘
, 
»c›Á
, 
cur_time
, 
d©a
, 
d©a_size
,

877 
UDP_HEADER_SIZE
, 
çl£
);

879  
¡©ic_ÿ¡
<>(
d©a_size
);

881 
	}
}

883 
	gVœtu®Sock‘S”v”
::
	$S’dTı
(
Vœtu®Sock‘
* 
sock‘
) {

884 ++
£Á_·ck‘s_
;

885 ià(
£ndšg_blocked_
) {

898 
Vœtu®Sock‘
* 
»c›Á
 =

899 
	`LookupCÚÃùiÚ
(
sock‘
->
loÿl_addr_
, sock‘->
»mÙe_addr_
);

900 ià(!
»c›Á
) {

901 
	`RTC_LOG
(
LS_VERBOSE
) << "Sending datao‚o one.";

905 
Cr™Scİe
 
	`cs
(&
sock‘
->
ü™_
);

907 
št64_t
 
cur_time
 = 
	`TimeMlis
();

908 
	`PurgeN‘wÜkPack‘s
(
sock‘
, 
cur_time
);

910 
Œue
) {

911 
size_t
 
avaabË
 = 
»cv_bufãr_ÿ·c™y_
 - 
»c›Á
->
»cv_bufãr_size_
;

912 
size_t
 
max_d©a_size
 =

913 
¡d
::
mš
<
size_t
>(
avaabË
, 
TCP_MSS
 - 
TCP_HEADER_SIZE
);

914 
size_t
 
d©a_size
 = 
¡d
::
	`mš
(
sock‘
->
£nd_bufãr_
.
	`size
(), 
max_d©a_size
);

915 ià(0 =ğ
d©a_size
)

918 
	`AddPack‘ToN‘wÜk
(
sock‘
, 
»c›Á
, 
cur_time
, &sock‘->
£nd_bufãr_
[0],

919 
d©a_size
, 
TCP_HEADER_SIZE
, 
Œue
);

920 
»c›Á
->
»cv_bufãr_size_
 +ğ
d©a_size
;

922 
size_t
 
Ãw_bufãr_size
 = 
sock‘
->
£nd_bufãr_
.
	`size
(è- 
d©a_size
;

925 ià(
d©a_size
 < 
sock‘
->
£nd_bufãr_
.
	`size
()) {

927 
	`memmove
(&
sock‘
->
£nd_bufãr_
[0], &sock‘->£nd_bufãr_[
d©a_size
],

928 
Ãw_bufãr_size
);

930 
sock‘
->
£nd_bufãr_
.
	`»size
(
Ãw_bufãr_size
);

933 ià(!
sock‘
->
»ady_to_£nd_
 &&

934 (
sock‘
->
£nd_bufãr_
.
	`size
(è< 
£nd_bufãr_ÿ·c™y_
)) {

935 
sock‘
->
»ady_to_£nd_
 = 
Œue
;

936 
sock‘
->
	`SigÇlWr™eEv’t
(socket);

938 
	}
}

940 
	gVœtu®Sock‘S”v”
::
	$AddPack‘ToN‘wÜk
(
Vœtu®Sock‘
* 
£nd”
,

941 
Vœtu®Sock‘
* 
»c›Á
,

942 
št64_t
 
cur_time
,

943 cÚ¡ * 
d©a
,

944 
size_t
 
d©a_size
,

945 
size_t
 
h—d”_size
,

946 
boŞ
 
Üd”ed
) {

947 
Vœtu®Sock‘
::
N‘wÜkEÁry
 
’Œy
;

948 
’Œy
.
size
 = 
d©a_size
 + 
h—d”_size
;

950 
£nd”
->
ÃtwÜk_size_
 +ğ
’Œy
.
size
;

951 
ušt32_t
 
£nd_d–ay
 = 
	`S’dD–ay
(
¡©ic_ÿ¡
<ušt32_t>(
£nd”
->
ÃtwÜk_size_
));

952 
’Œy
.
dÚe_time
 = 
cur_time
 + 
£nd_d–ay
;

953 
£nd”
->
ÃtwÜk_
.
	`push_back
(
’Œy
);

956 
ušt32_t
 
Œªs™_d–ay
 = 
	`G‘T¿ns™D–ay
(
£nd”
);

961 
Sock‘Add»ss
 
£nd”_addr
 = 
£nd”
->
loÿl_addr_
;

962 
IPAdd»ss
 
deçuÉ_
 = 
	`G‘DeçuÉRou‹
(
£nd”_addr
.
	`addr
().
	`çmy
());

963 ià(
£nd”_addr
.
	`IsAnyIP
(è&& !
	`IPIsUn¥ec
(
deçuÉ_
)) {

964 
£nd”_addr
.
	`S‘IP
(
deçuÉ_
);

968 
Pack‘
* 
p
 = 
Ãw
 
	`Pack‘
(
d©a
, 
d©a_size
, 
£nd”_addr
);

970 
št64_t
 
ts
 = 
	`TimeAá”
(
£nd_d–ay
 + 
Œªs™_d–ay
);

971 ià(
Üd”ed
) {

973 
ts
 = 
¡d
::
	`max
Ñs, 
£nd”
->
Ï¡_d–iv”y_time_
);

976 
£nd”
->
Ï¡_d–iv”y_time_
 = 
ts
;

978 
msg_queue_
->
	`Po¡At
(
RTC_FROM_HERE
, 
ts
, 
»c›Á
, 
MSG_ID_PACKET
, 
p
);

979 
	}
}

981 
	gVœtu®Sock‘S”v”
::
	$PurgeN‘wÜkPack‘s
(
Vœtu®Sock‘
* 
sock‘
,

982 
št64_t
 
cur_time
) {

983 !
sock‘
->
ÃtwÜk_
.
	`em±y
() &&

984 (
sock‘
->
ÃtwÜk_
.
	`äÚt
().
dÚe_time
 <ğ
cur_time
)) {

985 
	`RTC_DCHECK
(
sock‘
->
ÃtwÜk_size_
 >ğsock‘->
ÃtwÜk_
.
	`äÚt
().
size
);

986 
sock‘
->
ÃtwÜk_size_
 -ğsock‘->
ÃtwÜk_
.
	`äÚt
().
size
;

987 
sock‘
->
ÃtwÜk_
.
	`pİ_äÚt
();

989 
	}
}

991 
ušt32_t
 
	gVœtu®Sock‘S”v”
::
	$S’dD–ay
(
ušt32_t
 
size
) {

992 ià(
bªdwidth_
 == 0)

995  1000 * 
size
 / 
bªdwidth_
;

996 
	}
}

999 
PrštFunùiÚ
(
¡d
::
veùÜ
<¡d::
·œ
<, > >* 
f
) {

1001 
	gsum
 = 0;

1002 
ušt32_t
 
	gi
 = 0; i < 
	gf
->
size
(); ++i) {

1003 
	g¡d
::
cout
 << (*
f
)[
i
].
fœ¡
 << '\t' << (*f)[i].
£cÚd
 << 
¡d
::
’dl
;

1004 
	gsum
 +ğ(*
f
)[
i
].
£cÚd
;

1006 ià(!
	gf
->
em±y
()) {

1007 cÚ¡ 
	gm—n
 = 
sum
 / 
f
->
size
();

1008 
	gsum_sq_dev
 = 0;

1009 
ušt32_t
 
	gi
 = 0; i < 
	gf
->
size
(); ++i) {

1010 
	gdev
 = (*
f
)[
i
].
£cÚd
 - 
m—n
;

1011 
	gsum_sq_dev
 +ğ
dev
 * dev;

1013 
	g¡d
::
cout
 << "M—Àğ" << 
m—n
 << " StdDev = "

1014 << 
sq¹
(
sum_sq_dev
 / 
f
->
size
()è<< 
¡d
::
’dl
;

1019 
	gVœtu®Sock‘S”v”
::
	$Upd©eD–ayDi¡ributiÚ
() {

1020 
FunùiÚ
* 
di¡
 =

1021 
	`C»©eDi¡ributiÚ
(
d–ay_m—n_
, 
d–ay_¡ddev_
, 
d–ay_§m¶es_
);

1024 
Cr™Scİe
 
	`cs
(&
d–ay_ü™_
);

1025 
d–ay_di¡_
.
	`»£t
(
di¡
);

1027 
	}
}

1029 
	gPI
 = 4 * 
©ª
(1.0);

1031 
	$NÜm®
(
x
, 
m—n
, 
¡ddev
) {

1032 
a
 = (
x
 - 
m—n
è* (x - m—nè/ (2 * 
¡ddev
 * stddev);

1033  
	`exp
(-
a
è/ (
¡ddev
 * 
	`sq¹
(2 * 
PI
));

1034 
	}
}

1037 
	$P¬‘o
(
x
, 
mš
, 
k
) {

1038 ià(
x
 < 
mš
)

1041  
k
 * 
¡d
::
	`pow
(
mš
, kè/ std::pow(
x
, k+1);

1042 
	}
}

1045 
	gVœtu®Sock‘S”v”
::
FunùiÚ
* 
Vœtu®Sock‘S”v”
::
	$C»©eDi¡ributiÚ
(

1046 
ušt32_t
 
m—n
,

1047 
ušt32_t
 
¡ddev
,

1048 
ušt32_t
 
§m¶es
) {

1049 
FunùiÚ
* 
f
 = 
Ãw
 
	`FunùiÚ
();

1051 ià(0 =ğ
¡ddev
) {

1052 
f
->
	`push_back
(
	`Pošt
(
m—n
, 1.0));

1054 
¡¬t
 = 0;

1055 ià(
m—n
 >ğ4 * 
¡©ic_ÿ¡
<>(
¡ddev
))

1056 
¡¬t
 = 
m—n
 - 4 * 
¡©ic_ÿ¡
<>(
¡ddev
);

1057 
’d
 = 
m—n
 + 4 * 
¡©ic_ÿ¡
<>(
¡ddev
);

1059 
ušt32_t
 
i
 = 0; i < 
§m¶es
; i++) {

1060 
x
 = 
¡¬t
 + (
’d
 - s¹è* 
i
 / (
§m¶es
 - 1);

1061 
y
 = 
	`NÜm®
(
x
, 
m—n
, 
¡ddev
);

1062 
f
->
	`push_back
(
	`Pošt
(
x
, 
y
));

1065  
	`Re§m¶e
(
	`Inv”t
(
	`AccumuÏ‹
(
f
)), 0, 1, 
§m¶es
);

1066 
	}
}

1068 
ušt32_t
 
	gVœtu®Sock‘S”v”
::
	$G‘T¿ns™D–ay
(
Sock‘
* 
sock‘
) {

1070 autØ
™”
 = 
d–ay_by__
.
	`fšd
(
sock‘
->
	`G‘LoÿlAdd»ss
().
	`addr
());

1071 ià(
™”
 !ğ
d–ay_by__
.
	`’d
()) {

1072  
¡©ic_ÿ¡
<
ušt32_t
>(
™”
->
£cÚd
);

1075 
size_t
 
šdex
 = 
	`¿nd
(è% 
d–ay_di¡_
->
	`size
();

1076 
d–ay
 = (*
d–ay_di¡_
)[
šdex
].
£cÚd
;

1078  
¡©ic_ÿ¡
<
ušt32_t
>(
d–ay
);

1079 
	}
}

1081 
	sFunùiÚDomašCmp
 {

1082 
boŞ
 
İ”©Ü
()(cÚ¡ 
	gVœtu®Sock‘S”v”
::
Pošt
& 
p1
,

1083 cÚ¡ 
	gVœtu®Sock‘S”v”
::
Pošt
& 
p2
) {

1084  
p1
.
fœ¡
 < 
p2
.first;

1086 
boŞ
 
İ”©Ü
()(
	gv1
, cÚ¡ 
	gVœtu®Sock‘S”v”
::
Pošt
& 
p2
) {

1087  
v1
 < 
p2
.
fœ¡
;

1089 
boŞ
 
İ”©Ü
()(cÚ¡ 
	gVœtu®Sock‘S”v”
::
Pošt
& 
p1
, 
	gv2
) {

1090  
	gp1
.
	gfœ¡
 < 
	gv2
;

1094 
	gVœtu®Sock‘S”v”
::
FunùiÚ
* 
Vœtu®Sock‘S”v”
::
	$AccumuÏ‹
(
FunùiÚ
* 
f
) {

1095 
	`RTC_DCHECK
(
f
->
	`size
() >= 1);

1096 
v
 = 0;

1097 
FunùiÚ
::
size_ty³
 
i
 = 0; i < 
f
->
	`size
() - 1; ++i) {

1098 
dx
 = (*
f
)[
i
 + 1].
fœ¡
 - (*f)[i].first;

1099 
avgy
 = ((*
f
)[
i
 + 1].
£cÚd
 + (*f)[i].second) / 2;

1100 (*
f
)[
i
].
£cÚd
 = 
v
;

1101 
v
 = v + 
dx
 * 
avgy
;

1103 (*
f
)[f->
	`size
(è- 1].
£cÚd
 = 
v
;

1104  
f
;

1105 
	}
}

1107 
	gVœtu®Sock‘S”v”
::
FunùiÚ
* 
Vœtu®Sock‘S”v”
::
	$Inv”t
(
FunùiÚ
* 
f
) {

1108 
FunùiÚ
::
size_ty³
 
i
 = 0; i < 
f
->
	`size
(); ++i)

1109 
¡d
::
	`sw­
((*
f
)[
i
].
fœ¡
, (*f)[i].
£cÚd
);

1111 
ab¦
::
	`c_sÜt
(*
f
, 
	`FunùiÚDomašCmp
());

1112  
f
;

1113 
	}
}

1115 
	gVœtu®Sock‘S”v”
::
FunùiÚ
* 
Vœtu®Sock‘S”v”
::
	$Re§m¶e
(
FunùiÚ
* 
f
,

1116 
x1
,

1117 
x2
,

1118 
ušt32_t
 
§m¶es
) {

1119 
FunùiÚ
* 
g
 = 
Ãw
 
	`FunùiÚ
();

1121 
size_t
 
i
 = 0; i < 
§m¶es
; i++) {

1122 
x
 = 
x1
 + (
x2
 - x1è* 
i
 / (
§m¶es
 - 1);

1123 
y
 = 
	`Ev®u©e
(
f
, 
x
);

1124 
g
->
	`push_back
(
	`Pošt
(
x
, 
y
));

1127 
d–‘e
 
f
;

1128  
g
;

1129 
	}
}

1131 
	gVœtu®Sock‘S”v”
::
	$Ev®u©e
(
FunùiÚ
* 
f
, 
x
) {

1132 
FunùiÚ
::
™”©Ü
 
™”
 = 
ab¦
::
	`c_low”_bound
(*
f
, 
x
, 
	`FunùiÚDomašCmp
());

1133 ià(
™”
 =ğ
f
->
	`begš
()) {

1134  (*
f
)[0].
£cÚd
;

1135 } ià(
™”
 =ğ
f
->
	`’d
()) {

1136 
	`RTC_DCHECK
(
f
->
	`size
() >= 1);

1137  (*
f
)[f->
	`size
(è- 1].
£cÚd
;

1138 } ià(
™”
->
fœ¡
 =ğ
x
) {

1139  
™”
->
£cÚd
;

1141 
x1
 = (
™”
 - 1)->
fœ¡
;

1142 
y1
 = (
™”
 - 1)->
£cÚd
;

1143 
x2
 = 
™”
->
fœ¡
;

1144 
y2
 = 
™”
->
£cÚd
;

1145  
y1
 + (
y2
 - y1è* (
x
 - 
x1
è/ (
x2
 - x1);

1147 
	}
}

1149 
boŞ
 
	gVœtu®Sock‘S”v”
::
	$CªIÁ”aùW™h
(
Vœtu®Sock‘
* 
loÿl
,

1150 
Vœtu®Sock‘
* 
»mÙe
) {

1151 ià(!
loÿl
 || !
»mÙe
) {

1152  
çl£
;

1154 
IPAdd»ss
 
loÿl_
 = 
loÿl
->
	`G‘LoÿlAdd»ss
().
	`addr
();

1155 
IPAdd»ss
 
»mÙe_
 = 
»mÙe
->
	`G‘LoÿlAdd»ss
().
	`addr
();

1156 
IPAdd»ss
 
loÿl_nÜm®ized
 = 
loÿl_
.
	`NÜm®ized
();

1157 
IPAdd»ss
 
»mÙe_nÜm®ized
 = 
»mÙe_
.
	`NÜm®ized
();

1161 ià(
loÿl_nÜm®ized
.
	`çmy
(è=ğ
»mÙe_nÜm®ized
.family()) {

1162  
Œue
;

1166 
»mÙe_v6_Úly
 = 0;

1167 
»mÙe
->
	`G‘O±iÚ
(
Sock‘
::
OPT_IPV6_V6ONLY
, &
»mÙe_v6_Úly
);

1168 ià(
loÿl_
.
	`çmy
(è=ğ
AF_INET
 && !
»mÙe_v6_Úly
 && 
	`IPIsAny
(
»mÙe_
)) {

1169  
Œue
;

1172 
loÿl_v6_Úly
 = 0;

1173 
loÿl
->
	`G‘O±iÚ
(
Sock‘
::
OPT_IPV6_V6ONLY
, &
loÿl_v6_Úly
);

1174 ià(
»mÙe_
.
	`çmy
(è=ğ
AF_INET
 && !
loÿl_v6_Úly
 && 
	`IPIsAny
(
loÿl_
)) {

1175  
Œue
;

1180 ià(
loÿl_
.
	`çmy
(è=ğ
AF_INET6
 && 
loÿl
->
	`was_ªy
()) {

1181  
Œue
;

1183 ià(
»mÙe_
.
	`çmy
(è=ğ
AF_INET6
 && 
»mÙe
->
	`was_ªy
()) {

1184  
Œue
;

1187  
çl£
;

1188 
	}
}

1190 
IPAdd»ss
 
	gVœtu®Sock‘S”v”
::
	$G‘DeçuÉRou‹
(
çmy
) {

1191 ià(
çmy
 =ğ
AF_INET
) {

1192  
deçuÉ_rou‹_v4_
;

1194 ià(
çmy
 =ğ
AF_INET6
) {

1195  
deçuÉ_rou‹_v6_
;

1197  
	`IPAdd»ss
();

1198 
	}
}

1199 
	gVœtu®Sock‘S”v”
::
	$S‘DeçuÉRou‹
(cÚ¡ 
IPAdd»ss
& 
äom_addr
) {

1200 
	`RTC_DCHECK
(!
	`IPIsAny
(
äom_addr
));

1201 ià(
äom_addr
.
	`çmy
(è=ğ
AF_INET
) {

1202 
deçuÉ_rou‹_v4_
 = 
äom_addr
;

1203 } ià(
äom_addr
.
	`çmy
(è=ğ
AF_INET6
) {

1204 
deçuÉ_rou‹_v6_
 = 
äom_addr
;

1206 
	}
}

	@virtual_socket_server.h

11 #iâdeà
RTC_BASE_VIRTUAL_SOCKET_SERVER_H_


12 
	#RTC_BASE_VIRTUAL_SOCKET_SERVER_H_


	)

14 
	~<deque
>

15 
	~<m­
>

16 
	~<veùÜ
>

18 
	~"¹c_ba£/checks.h
"

19 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

20 
	~"¹c_ba£/ev’t.h
"

21 
	~"¹c_ba£/çke_şock.h
"

22 
	~"¹c_ba£/mes§ge_hªdËr.h
"

23 
	~"¹c_ba£/sock‘_£rv”.h
"

25 
Çme¥aû
 
	g¹c
 {

27 
şass
 
	gPack‘
;

28 
şass
 
	gVœtu®Sock‘
;

29 
şass
 
	gSock‘Add»ssPaœ
;

35 
şass
 
	gVœtu®Sock‘S”v”
 : 
public
 
Sock‘S”v”
,…ubliø
	gsig¦Ù
::
has_¦Ùs
<> {

36 
public
:

37 
Vœtu®Sock‘S”v”
();

41 
ex¶ic™
 
Vœtu®Sock‘S”v”
(
Th»adProûssšgFakeClock
* 
çke_şock
);

42 ~
Vœtu®Sock‘S”v”
(è
	gov”ride
;

46 
IPAdd»ss
 
G‘DeçuÉRou‹
(
çmy
);

47 
S‘DeçuÉRou‹
(cÚ¡ 
IPAdd»ss
& 
äom_addr
);

51 
ušt32_t
 
bªdwidth
(ècÚ¡ {  
	gbªdwidth_
; }

52 
£t_bªdwidth
(
ušt32_t
 
bªdwidth
è{ 
	gbªdwidth_
 = bandwidth; }

56 
ušt32_t
 
ÃtwÜk_ÿ·c™y
(ècÚ¡ {  
	gÃtwÜk_ÿ·c™y_
; }

57 
£t_ÃtwÜk_ÿ·c™y
(
ušt32_t
 
ÿ·c™y
è{ 
	gÃtwÜk_ÿ·c™y_
 = capacity; }

60 
ušt32_t
 
£nd_bufãr_ÿ·c™y
(ècÚ¡ {  
	g£nd_bufãr_ÿ·c™y_
; }

61 
£t_£nd_bufãr_ÿ·c™y
(
ušt32_t
 
ÿ·c™y
) {

62 
	g£nd_bufãr_ÿ·c™y_
 = 
ÿ·c™y
;

66 
ušt32_t
 
»cv_bufãr_ÿ·c™y
(ècÚ¡ {  
	g»cv_bufãr_ÿ·c™y_
; }

67 
£t_»cv_bufãr_ÿ·c™y
(
ušt32_t
 
ÿ·c™y
) {

68 
	g»cv_bufãr_ÿ·c™y_
 = 
ÿ·c™y
;

74 
ušt32_t
 
d–ay_m—n
(ècÚ¡ {  
	gd–ay_m—n_
; }

75 
ušt32_t
 
d–ay_¡ddev
(ècÚ¡ {  
	gd–ay_¡ddev_
; }

76 
ušt32_t
 
d–ay_§m¶es
(ècÚ¡ {  
	gd–ay_§m¶es_
; }

77 
£t_d–ay_m—n
(
ušt32_t
 
d–ay_m—n
è{ 
	gd–ay_m—n_
 = delay_mean; }

78 
£t_d–ay_¡ddev
(
ušt32_t
 
d–ay_¡ddev
è{ 
	gd–ay_¡ddev_
 = delay_stddev; }

79 
£t_d–ay_§m¶es
(
ušt32_t
 
d–ay_§m¶es
) {

80 
	gd–ay_§m¶es_
 = 
d–ay_§m¶es
;

85 
Upd©eD–ayDi¡ributiÚ
();

89 
drİ_´obab™y
(è{  
	gdrİ_´ob_
; }

90 
£t_drİ_´obab™y
(
drİ_´ob
) {

91 
RTC_DCHECK_GE
(
drİ_´ob
, 0.0);

92 
RTC_DCHECK_LE
(
drİ_´ob
, 1.0);

93 
	gdrİ_´ob_
 = 
drİ_´ob
;

104 
S‘S’dšgBlocked
(
boŞ
 
blocked
);

107 
Sock‘
* 
C»©eSock‘
(
çmy
, 
ty³
è
	gov”ride
;

108 
AsyncSock‘
* 
C»©eAsyncSock‘
(
çmy
, 
ty³
è
	gov”ride
;

111 
S‘Mes§geQueue
(
Th»ad
* 
queue
è
	gov”ride
;

112 
boŞ
 
Wa™
(
cms
, boŞ 
´oûss_io
è
	gov”ride
;

113 
WakeUp
(è
	gov”ride
;

115 
S‘D–ayOnAdd»ss
(cÚ¡ 
¹c
::
Sock‘Add»ss
& 
add»ss
, 
d–ay_ms
) {

116 
	gd–ay_by__
[
add»ss
.
addr
()] = 
d–ay_ms
;

126 
S‘AÉ”ÇtiveLoÿlAdd»ss
(cÚ¡ 
¹c
::
IPAdd»ss
& 
add»ss
,

127 cÚ¡ 
¹c
::
IPAdd»ss
& 
®‹º©ive
);

129 
	g¡d
::
	t·œ
<, > 
	tPošt
;

130 
	g¡d
::
	tveùÜ
<
	tPošt
> 
	tFunùiÚ
;

132 
FunùiÚ
* 
C»©eDi¡ributiÚ
(
ušt32_t
 
m—n
,

133 
ušt32_t
 
¡ddev
,

134 
ušt32_t
 
§m¶es
);

139 
boŞ
 
ProûssMes§gesUÁIdË
();

142 
S‘NextPÜtFÜTe¡šg
(
ušt16_t
 
pÜt
);

146 
boŞ
 
Clo£TıCÚÃùiÚs
(cÚ¡ 
Sock‘Add»ss
& 
addr_loÿl
,

147 cÚ¡ 
Sock‘Add»ss
& 
addr_»mÙe
);

151 
ušt32_t
 
£Á_·ck‘s
(ècÚ¡ {  
	g£Á_·ck‘s_
; }

154 
	gsig¦Ù
::
sigÇl1
<
Vœtu®Sock‘
*> 
SigÇlSock‘C»©ed
;

156 
	g´Ùeùed
:

158 
IPAdd»ss
 
G‘NextIP
(
çmy
);

159 
ušt16_t
 
G‘NextPÜt
();

161 
Vœtu®Sock‘
* 
C»©eSock‘IÁ”Çl
(
çmy
, 
ty³
);

164 
Bšd
(
Vœtu®Sock‘
* 
sock‘
, 
Sock‘Add»ss
* 
addr
);

167 
Bšd
(
Vœtu®Sock‘
* 
sock‘
, cÚ¡ 
Sock‘Add»ss
& 
addr
);

170 
Vœtu®Sock‘
* 
LookupBšdšg
(cÚ¡ 
Sock‘Add»ss
& 
addr
);

172 
Unbšd
(cÚ¡ 
Sock‘Add»ss
& 
addr
, 
Vœtu®Sock‘
* 
sock‘
);

175 
AddCÚÃùiÚ
(cÚ¡ 
Sock‘Add»ss
& 
ş›Á
,

176 cÚ¡ 
Sock‘Add»ss
& 
£rv”
,

177 
Vœtu®Sock‘
* 
sock‘
);

180 
Vœtu®Sock‘
* 
LookupCÚÃùiÚ
(cÚ¡ 
Sock‘Add»ss
& 
ş›Á
,

181 cÚ¡ 
Sock‘Add»ss
& 
£rv”
);

183 
RemoveCÚÃùiÚ
(cÚ¡ 
Sock‘Add»ss
& 
ş›Á
,

184 cÚ¡ 
Sock‘Add»ss
& 
£rv”
);

187 
CÚÃù
(
Vœtu®Sock‘
* 
sock‘
,

188 cÚ¡ 
Sock‘Add»ss
& 
»mÙe_addr
,

189 
boŞ
 
u£_d–ay
);

192 
boŞ
 
DiscÚÃù
(
Vœtu®Sock‘
* 
sock‘
);

195 
S’dUdp
(
Vœtu®Sock‘
* 
sock‘
,

196 cÚ¡ * 
d©a
,

197 
size_t
 
d©a_size
,

198 cÚ¡ 
Sock‘Add»ss
& 
»mÙe_addr
);

201 
S’dTı
(
Vœtu®Sock‘
* 
sock‘
);

204 
AddPack‘ToN‘wÜk
(
Vœtu®Sock‘
* 
sock‘
,

205 
Vœtu®Sock‘
* 
»c›Á
,

206 
št64_t
 
cur_time
,

207 cÚ¡ * 
d©a
,

208 
size_t
 
d©a_size
,

209 
size_t
 
h—d”_size
,

210 
boŞ
 
Üd”ed
);

213 
PurgeN‘wÜkPack‘s
(
Vœtu®Sock‘
* 
sock‘
, 
št64_t
 
cur_time
);

216 
ušt32_t
 
S’dD–ay
(ušt32_ˆ
size
);

221 
ušt32_t
 
G‘T¿ns™D–ay
(
Sock‘
* 
sock‘
);

225 
FunùiÚ
* 
AccumuÏ‹
(FunùiÚ* 
f
);

226 
FunùiÚ
* 
Inv”t
(FunùiÚ* 
f
);

227 
FunùiÚ
* 
Re§m¶e
(FunùiÚ* 
f
,

228 
x1
,

229 
x2
,

230 
ušt32_t
 
§m¶es
);

231 
Ev®u©e
(
FunùiÚ
* 
f
, 
x
);

236 
OnMes§geQueueDe¡royed
(è{ 
	gmsg_queue_
 = 
nuÎ±r
; }

254 
boŞ
 
CªIÁ”aùW™h
(
Vœtu®Sock‘
* 
loÿl
, Vœtu®Sock‘* 
»mÙe
);

256 
	g´iv©e
:

257 
ä›nd
 
şass
 
Vœtu®Sock‘
;

260 
	gsig¦Ù
::
sigÇl0
<> 
SigÇlR—dyToS’d
;

262 
	g¡d
::
	tm­
<
	tSock‘Add»ss
, 
	tVœtu®Sock‘
*> 
	tAdd»ssM­
;

263 
	g¡d
::
	tm­
<
	tSock‘Add»ssPaœ
, 
	tVœtu®Sock‘
*> 
	tCÚÃùiÚM­
;

267 
Th»adProûssšgFakeClock
* 
	gçke_şock_
 = 
nuÎ±r
;

270 
Ev’t
 
	gwakeup_
;

271 
Th»ad
* 
	gmsg_queue_
;

272 
boŞ
 
	g¡İ_Ú_idË_
;

273 
š_addr
 
	gÃxt_v4_
;

274 
š6_addr
 
	gÃxt_v6_
;

275 
ušt16_t
 
	gÃxt_pÜt_
;

276 
Add»ssM­
* 
	gbšdšgs_
;

277 
CÚÃùiÚM­
* 
	gcÚÃùiÚs_
;

279 
IPAdd»ss
 
	gdeçuÉ_rou‹_v4_
;

280 
IPAdd»ss
 
	gdeçuÉ_rou‹_v6_
;

282 
ušt32_t
 
	gbªdwidth_
;

283 
ušt32_t
 
	gÃtwÜk_ÿ·c™y_
;

284 
ušt32_t
 
	g£nd_bufãr_ÿ·c™y_
;

285 
ušt32_t
 
	g»cv_bufãr_ÿ·c™y_
;

286 
ušt32_t
 
	gd–ay_m—n_
;

287 
ušt32_t
 
	gd–ay_¡ddev_
;

288 
ušt32_t
 
	gd–ay_§m¶es_
;

291 
ušt32_t
 
	g£Á_·ck‘s_
 = 0;

293 
	g¡d
::
m­
<
¹c
::
IPAdd»ss
, > 
	gd–ay_by__
;

294 
	g¡d
::
m­
<
¹c
::
IPAdd»ss
, 
	g¹c
::IPAdd»ss> 
®‹º©ive_add»ss_m­pšg_
;

295 
	g¡d
::
unique_±r
<
FunùiÚ
> 
d–ay_di¡_
;

297 
Cr™iÿlSeùiÚ
 
	gd–ay_ü™_
;

299 
	gdrİ_´ob_
;

300 
boŞ
 
	g£ndšg_blocked_
 = 
çl£
;

301 
RTC_DISALLOW_COPY_AND_ASSIGN
(
Vœtu®Sock‘S”v”
);

306 
şass
 
	gVœtu®Sock‘
 : 
public
 
AsyncSock‘
,

307 
public
 
	gMes§geHªdËr
,

308 
public
 
	gsig¦Ù
::
has_¦Ùs
<> {

309 
public
:

310 
Vœtu®Sock‘
(
Vœtu®Sock‘S”v”
* 
£rv”
, 
çmy
, 
ty³
, 
boŞ
 
async
);

311 ~
Vœtu®Sock‘
(è
	gov”ride
;

313 
Sock‘Add»ss
 
G‘LoÿlAdd»ss
(ècÚ¡ 
	gov”ride
;

314 
Sock‘Add»ss
 
G‘RemÙeAdd»ss
(ècÚ¡ 
	gov”ride
;

316 
Bšd
(cÚ¡ 
Sock‘Add»ss
& 
addr
è
	gov”ride
;

317 
CÚÃù
(cÚ¡ 
Sock‘Add»ss
& 
addr
è
	gov”ride
;

318 
Clo£
(è
	gov”ride
;

319 
S’d
(cÚ¡ * 
pv
, 
size_t
 
cb
è
	gov”ride
;

320 
S’dTo
(cÚ¡ * 
pv
, 
size_t
 
cb
, cÚ¡ 
Sock‘Add»ss
& 
addr
è
	gov”ride
;

321 
Recv
(* 
pv
, 
size_t
 
cb
, 
št64_t
* 
time¡amp
è
	gov”ride
;

322 
RecvFrom
(* 
pv
,

323 
size_t
 
cb
,

324 
Sock‘Add»ss
* 
·ddr
,

325 
št64_t
* 
time¡amp
è
	gov”ride
;

326 
Li¡’
(
backlog
è
	gov”ride
;

327 
Vœtu®Sock‘
* 
Acû±
(
Sock‘Add»ss
* 
·ddr
è
	gov”ride
;

329 
G‘E¼Ü
(ècÚ¡ 
	gov”ride
;

330 
S‘E¼Ü
(
”rÜ
è
	gov”ride
;

331 
CÚnS‹
 
G‘S‹
(ècÚ¡ 
	gov”ride
;

332 
G‘O±iÚ
(
O±iÚ
 
İt
, * 
v®ue
è
	gov”ride
;

333 
S‘O±iÚ
(
O±iÚ
 
İt
, 
v®ue
è
	gov”ride
;

334 
OnMes§ge
(
Mes§ge
* 
pmsg
è
	gov”ride
;

336 
boŞ
 
was_ªy
(è{  
	gwas_ªy_
; }

337 
£t_was_ªy
(
boŞ
 
was_ªy
è{ 
	gwas_ªy_
 = was_any; }

340 
	gsig¦Ù
::
sigÇl2
<
Vœtu®Sock‘
*, cÚ¡ 
	gSock‘Add»ss
&> 
	gSigÇlAdd»ssR—dy
;

342 
	g´iv©e
:

343 
	sN‘wÜkEÁry
 {

344 
size_t
 
size
;

345 
št64_t
 
	gdÚe_time
;

348 
	g¡d
::
	tdeque
<
	tSock‘Add»ss
> 
	tLi¡’Queue
;

349 
	g¡d
::
	tdeque
<
	tN‘wÜkEÁry
> 
	tN‘wÜkQueue
;

350 
	g¡d
::
	tveùÜ
<> 
	tS’dBufãr
;

351 
	g¡d
::
	tli¡
<
	tPack‘
*> 
	tRecvBufãr
;

352 
	g¡d
::
	tm­
<
	tO±iÚ
, > 
	tO±iÚsM­
;

354 
In™Ÿ‹CÚÃù
(cÚ¡ 
Sock‘Add»ss
& 
addr
, 
boŞ
 
u£_d–ay
);

355 
Com¶‘eCÚÃù
(cÚ¡ 
Sock‘Add»ss
& 
addr
, 
boŞ
 
nÙify
);

356 
S’dUdp
(cÚ¡ * 
pv
, 
size_t
 
cb
, cÚ¡ 
Sock‘Add»ss
& 
addr
);

357 
S’dTı
(cÚ¡ * 
pv
, 
size_t
 
cb
);

360 
S‘LoÿlAdd»ss
(cÚ¡ 
Sock‘Add»ss
& 
addr
);

362 
OnSock‘S”v”R—dyToS’d
();

364 
Vœtu®Sock‘S”v”
* 
	g£rv”_
;

365 
	gty³_
;

366 
boŞ
 
	gasync_
;

367 
CÚnS‹
 
	g¡©e_
;

368 
	g”rÜ_
;

369 
Sock‘Add»ss
 
	gloÿl_addr_
;

370 
Sock‘Add»ss
 
	g»mÙe_addr_
;

373 
Li¡’Queue
* 
	gli¡’_queue_
;

376 
S’dBufãr
 
	g£nd_bufãr_
;

379 
boŞ
 
	g»ady_to_£nd_
 = 
Œue
;

382 
Cr™iÿlSeùiÚ
 
	gü™_
;

385 
N‘wÜkQueue
 
	gÃtwÜk_
;

386 
size_t
 
	gÃtwÜk_size_
;

389 
št64_t
 
	gÏ¡_d–iv”y_time_
 = 0;

392 
RecvBufãr
 
	g»cv_bufãr_
;

394 
size_t
 
	g»cv_bufãr_size_
;

397 
boŞ
 
	gbound_
;

403 
boŞ
 
	gwas_ªy_
;

406 
O±iÚsM­
 
	gİtiÚs_m­_
;

408 
ä›nd
 
şass
 
	gVœtu®Sock‘S”v”
;

	@virtual_socket_unittest.cc

11 
	~<m©h.h
>

12 
	~<¡dšt.h
>

13 
	~<¡dlib.h
>

14 
	~<¡ršg.h
>

15 
	~<time.h
>

16 #ià
defšed
(
WEBRTC_POSIX
)

17 
	~<Ãtš‘/š.h
>

20 
	~<®gÜ™hm
>

21 
	~<memÜy
>

22 
	~<ut™y
>

24 
	~"ab¦/memÜy/memÜy.h
"

25 
	~"¹c_ba£/¬¿ysize.h
"

26 
	~"¹c_ba£/async_·ck‘_sock‘.h
"

27 
	~"¹c_ba£/async_sock‘.h
"

28 
	~"¹c_ba£/async_udp_sock‘.h
"

29 
	~"¹c_ba£/çke_şock.h
"

30 
	~"¹c_ba£/gun™.h
"

31 
	~"¹c_ba£/_add»ss.h
"

32 
	~"¹c_ba£/loÿtiÚ.h
"

33 
	~"¹c_ba£/loggšg.h
"

34 
	~"¹c_ba£/mes§ge_hªdËr.h
"

35 
	~"¹c_ba£/sock‘.h
"

36 
	~"¹c_ba£/sock‘_add»ss.h
"

37 
	~"¹c_ba£/‹¡_ş›Á.h
"

38 
	~"¹c_ba£/‹¡_uts.h
"

39 
	~"¹c_ba£/thœd_·¹y/sig¦Ù/sig¦Ù.h
"

40 
	~"¹c_ba£/th»ad.h
"

41 
	~"¹c_ba£/time_uts.h
"

42 
	~"¹c_ba£/vœtu®_sock‘_£rv”.h
"

43 
	~"‹¡/g‹¡.h
"

45 
Çme¥aû
 
	g¹c
 {

46 
	gÇme¥aû
 {

48 
usšg
 
	gweb¹c
::
‹¡šg
::
SSE_CLOSE
;

49 
usšg
 
	gweb¹c
::
‹¡šg
::
SSE_ERROR
;

50 
usšg
 
	gweb¹c
::
‹¡šg
::
SSE_OPEN
;

51 
usšg
 
	gweb¹c
::
‹¡šg
::
SSE_READ
;

52 
usšg
 
	gweb¹c
::
‹¡šg
::
SSE_WRITE
;

53 
usšg
 
	gweb¹c
::
‹¡šg
::
SŒ—mSšk
;

56 
	gS’d”
 : 
public
 
Mes§geHªdËr
 {

57 
S’d”
(
Th»ad
* 
th
, 
AsyncSock‘
* 
s
, 
ušt32_t
 
¹
)

58 : 
th»ad
(
th
),

59 
sock‘
(
¡d
::
make_unique
<
AsyncUDPSock‘
>(
s
)),

60 
dÚe
(
çl£
),

61 
¿‹
(
¹
),

62 
couÁ
(0) {

63 
	gÏ¡_£nd
 = 
¹c
::
TimeMlis
();

64 
	gth»ad
->
Po¡D–ayed
(
RTC_FROM_HERE
, 
NextD–ay
(), 
this
, 1);

67 
ušt32_t
 
NextD–ay
() {

68 
ušt32_t
 
	gsize
 = (
¿nd
() % 4096) + 1;

69  1000 * 
	gsize
 / 
	g¿‹
;

72 
OnMes§ge
(
Mes§ge
* 
pmsg
è
	gov”ride
 {

73 
ASSERT_EQ
(1u, 
pmsg
->
mes§ge_id
);

75 ià(
	gdÚe
)

78 
št64_t
 
	gcur_time
 = 
¹c
::
TimeMlis
();

79 
št64_t
 
	gd–ay
 = 
cur_time
 - 
Ï¡_£nd
;

80 
ušt32_t
 
	gsize
 = 
¡©ic_ÿ¡
<ušt32_t>(
¿‹
 * 
d–ay
 / 1000);

81 
	gsize
 = 
¡d
::
mš
<
ušt32_t
>(
size
, 4096);

82 
	gsize
 = 
¡d
::
max
<
ušt32_t
>(
size
, (
	gušt32_t
));

84 
	gcouÁ
 +ğ
size
;

85 
memıy
(
dummy
, &
cur_time
, (cur_time));

86 
	gsock‘
->
S’d
(
dummy
, 
size
, 
İtiÚs
);

88 
	gÏ¡_£nd
 = 
cur_time
;

89 
	gth»ad
->
Po¡D–ayed
(
RTC_FROM_HERE
, 
NextD–ay
(), 
this
, 1);

92 
Th»ad
* 
	gth»ad
;

93 
	g¡d
::
unique_±r
<
AsyncUDPSock‘
> 
sock‘
;

94 
	g¹c
::
Pack‘O±iÚs
 
İtiÚs
;

95 
boŞ
 
	gdÚe
;

96 
ušt32_t
 
	g¿‹
;

97 
ušt32_t
 
	gcouÁ
;

98 
št64_t
 
	gÏ¡_£nd
;

99 
	gdummy
[4096];

102 
	gReûiv”
 : 
public
 
Mes§geHªdËr
,…ubliø
	gsig¦Ù
::
has_¦Ùs
<> {

103 
Reûiv”
(
Th»ad
* 
th
, 
AsyncSock‘
* 
s
, 
ušt32_t
 
bw
)

104 : 
th»ad
(
th
),

105 
sock‘
(
¡d
::
make_unique
<
AsyncUDPSock‘
>(
s
)),

106 
bªdwidth
(
bw
),

107 
dÚe
(
çl£
),

108 
couÁ
(0),

109 
£c_couÁ
(0),

110 
sum
(0),

111 
sum_sq
(0),

112 
§m¶es
(0) {

113 
	gsock‘
->
	gSigÇlR—dPack‘
.
cÚÃù
(
this
, &
Reûiv”
::
OnR—dPack‘
);

114 
	gth»ad
->
Po¡D–ayed
(
RTC_FROM_HERE
, 1000, 
this
, 1);

117 ~
Reûiv”
(è
	gov”ride
 { 
	gth»ad
->
CË¬
(
this
); }

119 
OnR—dPack‘
(
AsyncPack‘Sock‘
* 
s
,

120 cÚ¡ * 
d©a
,

121 
size_t
 
size
,

122 cÚ¡ 
Sock‘Add»ss
& 
»mÙe_addr
,

123 cÚ¡ 
št64_t
& ) {

124 
ASSERT_EQ
(
sock‘
.
g‘
(), 
s
);

125 
ASSERT_GE
(
size
, 4U);

127 
	gcouÁ
 +ğ
size
;

128 
	g£c_couÁ
 +ğ
size
;

130 
ušt32_t
 
	g£nd_time
 = *
»š‹½»t_ÿ¡
<cÚ¡ ušt32_t*>(
d©a
);

131 
ušt32_t
 
	g»cv_time
 = 
¹c
::
TimeMlis
();

132 
ušt32_t
 
	gd–ay
 = 
»cv_time
 - 
£nd_time
;

133 
	gsum
 +ğ
d–ay
;

134 
	gsum_sq
 +ğ
d–ay
 * delay;

135 
	g§m¶es
 += 1;

138 
OnMes§ge
(
Mes§ge
* 
pmsg
è
	gov”ride
 {

139 
ASSERT_EQ
(1u, 
pmsg
->
mes§ge_id
);

141 ià(
	gdÚe
)

146 ià(
	gbªdwidth
 > 0)

147 
ASSERT_TRUE
(
£c_couÁ
 <ğ5 * 
bªdwidth
 / 4);

148 
	g£c_couÁ
 = 0;

149 
	gth»ad
->
Po¡D–ayed
(
RTC_FROM_HERE
, 1000, 
this
, 1);

152 
Th»ad
* 
	gth»ad
;

153 
	g¡d
::
unique_±r
<
AsyncUDPSock‘
> 
sock‘
;

154 
ušt32_t
 
	gbªdwidth
;

155 
boŞ
 
	gdÚe
;

156 
size_t
 
	gcouÁ
;

157 
size_t
 
	g£c_couÁ
;

158 
	gsum
;

159 
	gsum_sq
;

160 
ušt32_t
 
	g§m¶es
;

164 şas 
	cVœtu®Sock‘S”v”Te¡
 : 
public
 ::
‹¡šg
::
Te¡
 {

165 
public
:

166 
Vœtu®Sock‘S”v”Te¡
()

167 : 
ss_
(&
çke_şock_
),

168 
th»ad_
(&
ss_
),

169 
kIPv4AnyAdd»ss
(
IPAdd»ss
(
INADDR_ANY
), 0),

170 
kIPv6AnyAdd»ss
(
IPAdd»ss
(
š6addr_ªy
), 0) {}

172 
CheckPÜtInüem’liz©iÚ
(cÚ¡ 
Sock‘Add»ss
& 
po¡
,

173 cÚ¡ 
Sock‘Add»ss
& 
´e
) {

174 
EXPECT_EQ
(
po¡
.
pÜt
(), 
´e
.port() + 1);

175 
IPAdd»ss
 
	gpo¡_
 = 
po¡
.
addr
();

176 
IPAdd»ss
 
	g´e_
 = 
´e
.
addr
();

177 
EXPECT_EQ
(
´e_
.
çmy
(), 
po¡_
.family());

178 ià(
	gpo¡_
.
çmy
(è=ğ
AF_INET
) {

179 
š_addr
 
´e_v4
 = 
´e_
.
v4_add»ss
();

180 
š_addr
 
	gpo¡_v4
 = 
po¡_
.
v4_add»ss
();

181 
EXPECT_EQ
(
po¡_v4
.
s_addr
, 
´e_v4
.s_addr);

182 } ià(
	gpo¡_
.
çmy
(è=ğ
AF_INET6
) {

183 
š6_addr
 
po¡_6
 = 
po¡_
.
v6_add»ss
();

184 
š6_addr
 
	g´e_6
 = 
´e_
.
v6_add»ss
();

185 
ušt32_t
* 
	gpo¡_as_šts
 = 
»š‹½»t_ÿ¡
<ušt32_t*>(&
po¡_6
.
s6_addr
);

186 
ušt32_t
* 
	g´e_as_šts
 = 
»š‹½»t_ÿ¡
<ušt32_t*>(&
´e_6
.
s6_addr
);

187 
EXPECT_EQ
(
po¡_as_šts
[3], 
´e_as_šts
[3]);

194 
Te¡DeçuÉRou‹
(cÚ¡ 
IPAdd»ss
& 
deçuÉ_rou‹
) {

195 
	gss_
.
S‘DeçuÉRou‹
(
deçuÉ_rou‹
);

198 
AsyncSock‘
* 
	gsock‘
 =

199 
ss_
.
C»©eAsyncSock‘
(
deçuÉ_rou‹
.
çmy
(), 
SOCK_DGRAM
);

200 
	gsock‘
->
Bšd
(
Em±ySock‘Add»ssW™hFamy
(
deçuÉ_rou‹
.
çmy
()));

201 
Sock‘Add»ss
 
	gş›Á1_ªy_addr
 = 
sock‘
->
G‘LoÿlAdd»ss
();

202 
EXPECT_TRUE
(
ş›Á1_ªy_addr
.
IsAnyIP
());

203 autØ
	gş›Á1
 = 
¡d
::
make_unique
<
Te¡Cl›Á
>(

204 
¡d
::
make_unique
<
AsyncUDPSock‘
>(
sock‘
), &
	gçke_şock_
);

207 
AsyncSock‘
* 
	gsock‘2
 =

208 
ss_
.
C»©eAsyncSock‘
(
deçuÉ_rou‹
.
çmy
(), 
SOCK_DGRAM
);

209 
	gsock‘2
->
Bšd
(
Sock‘Add»ss
(
deçuÉ_rou‹
, 0));

210 
Sock‘Add»ss
 
	gş›Á2_addr
 = 
sock‘2
->
G‘LoÿlAdd»ss
();

211 
EXPECT_FALSE
(
ş›Á2_addr
.
IsAnyIP
());

212 autØ
	gş›Á2
 = 
¡d
::
make_unique
<
Te¡Cl›Á
>(

213 
¡d
::
make_unique
<
AsyncUDPSock‘
>(
sock‘2
), &
	gçke_şock_
);

217 
Sock‘Add»ss
 
	gş›Á1_addr
;

218 
EXPECT_EQ
(6, 
ş›Á1
->
S’dTo
("bizbaz", 6, 
ş›Á2_addr
));

219 
EXPECT_TRUE
(
ş›Á2
->
CheckNextPack‘
("bizbaz", 6, &
ş›Á1_addr
));

220 
EXPECT_EQ
(
ş›Á1_addr
,

221 
Sock‘Add»ss
(
deçuÉ_rou‹
, 
ş›Á1_ªy_addr
.
pÜt
()));

224 
EXPECT_EQ
(3, 
ş›Á2
->
S’dTo
("foo", 3, 
ş›Á1_addr
));

225 
EXPECT_TRUE
(
ş›Á1
->
CheckNextPack‘
("foo", 3, &
ş›Á2_addr
));

228 
BasicTe¡
(cÚ¡ 
Sock‘Add»ss
& 
š™Ÿl_addr
) {

229 
AsyncSock‘
* 
	gsock‘
 =

230 
ss_
.
C»©eAsyncSock‘
(
š™Ÿl_addr
.
çmy
(), 
SOCK_DGRAM
);

231 
	gsock‘
->
Bšd
(
š™Ÿl_addr
);

232 
Sock‘Add»ss
 
	g£rv”_addr
 = 
sock‘
->
G‘LoÿlAdd»ss
();

234 
EXPECT_EQ
(
£rv”_addr
.
çmy
(), 
š™Ÿl_addr
.family());

236 autØ
	gş›Á1
 = 
¡d
::
make_unique
<
Te¡Cl›Á
>(

237 
¡d
::
make_unique
<
AsyncUDPSock‘
>(
sock‘
), &
	gçke_şock_
);

238 
AsyncSock‘
* 
	gsock‘2
 =

239 
ss_
.
C»©eAsyncSock‘
(
š™Ÿl_addr
.
çmy
(), 
SOCK_DGRAM
);

240 autØ
	gş›Á2
 = 
¡d
::
make_unique
<
Te¡Cl›Á
>(

241 
¡d
::
make_unique
<
AsyncUDPSock‘
>(
sock‘2
), &
	gçke_şock_
);

243 
Sock‘Add»ss
 
	gş›Á2_addr
;

244 
EXPECT_EQ
(3, 
ş›Á2
->
S’dTo
("foo", 3, 
£rv”_addr
));

245 
EXPECT_TRUE
(
ş›Á1
->
CheckNextPack‘
("foo", 3, &
ş›Á2_addr
));

247 
Sock‘Add»ss
 
	gş›Á1_addr
;

248 
EXPECT_EQ
(6, 
ş›Á1
->
S’dTo
("bizbaz", 6, 
ş›Á2_addr
));

249 
EXPECT_TRUE
(
ş›Á2
->
CheckNextPack‘
("bizbaz", 6, &
ş›Á1_addr
));

250 
EXPECT_EQ
(
ş›Á1_addr
, 
£rv”_addr
);

252 
Sock‘Add»ss
 
	gem±y
 = 
Em±ySock‘Add»ssW™hFamy
(
š™Ÿl_addr
.
çmy
());

253 
	gi
 = 0; i < 10; i++) {

254 
	gş›Á2
 = 
¡d
::
make_unique
<
Te¡Cl›Á
>(

255 
ab¦
::
W¿pUnique
(
AsyncUDPSock‘
::
C»©e
(&
ss_
, 
em±y
)), &
	gçke_şock_
);

257 
Sock‘Add»ss
 
	gÃxt_ş›Á2_addr
;

258 
EXPECT_EQ
(3, 
ş›Á2
->
S’dTo
("foo", 3, 
£rv”_addr
));

259 
EXPECT_TRUE
(
ş›Á1
->
CheckNextPack‘
("foo", 3, &
Ãxt_ş›Á2_addr
));

260 
CheckPÜtInüem’liz©iÚ
(
Ãxt_ş›Á2_addr
, 
ş›Á2_addr
);

263 
Sock‘Add»ss
 
	g£rv”_addr2
;

264 
EXPECT_EQ
(6, 
ş›Á1
->
S’dTo
("bizbaz", 6, 
Ãxt_ş›Á2_addr
));

265 
EXPECT_TRUE
(
ş›Á2
->
CheckNextPack‘
("bizbaz", 6, &
£rv”_addr2
));

266 
EXPECT_EQ
(
£rv”_addr2
, 
£rv”_addr
);

268 
	gş›Á2_addr
 = 
Ãxt_ş›Á2_addr
;

273 
CÚÃùTe¡
(cÚ¡ 
Sock‘Add»ss
& 
š™Ÿl_addr
) {

274 
SŒ—mSšk
 
	gsšk
;

275 
Sock‘Add»ss
 
	gacû±_addr
;

276 cÚ¡ 
Sock‘Add»ss
 
	gkEm±yAddr
 =

277 
Em±ySock‘Add»ssW™hFamy
(
š™Ÿl_addr
.
çmy
());

280 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
ş›Á
 = 
ab¦
::
W¿pUnique
(

281 
ss_
.
C»©eAsyncSock‘
(
š™Ÿl_addr
.
çmy
(), 
SOCK_STREAM
));

282 
	gsšk
.
MÚ™Ü
(
ş›Á
.
g‘
());

283 
EXPECT_EQ
(
ş›Á
->
G‘S‹
(), 
AsyncSock‘
::
CS_CLOSED
);

284 
EXPECT_TRUE
(
ş›Á
->
G‘LoÿlAdd»ss
().
IsN
());

287 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
£rv”
 = 
ab¦
::
W¿pUnique
(

288 
ss_
.
C»©eAsyncSock‘
(
š™Ÿl_addr
.
çmy
(), 
SOCK_STREAM
));

289 
	gsšk
.
MÚ™Ü
(
£rv”
.
g‘
());

290 
EXPECT_NE
(0, 
£rv”
->
Li¡’
(5));

291 
EXPECT_EQ
(0, 
£rv”
->
Bšd
(
š™Ÿl_addr
));

292 
EXPECT_EQ
(
£rv”
->
G‘LoÿlAdd»ss
().
çmy
(), 
š™Ÿl_addr
.family());

293 
EXPECT_EQ
(0, 
£rv”
->
Li¡’
(5));

294 
EXPECT_EQ
(
£rv”
->
G‘S‹
(), 
AsyncSock‘
::
CS_CONNECTING
);

297 
EXPECT_FALSE
(
sšk
.
Check
(
£rv”
.
g‘
(), 
SSE_READ
));

298 
EXPECT_TRUE
(
nuÎ±r
 =ğ
£rv”
->
Acû±
(&
acû±_addr
));

299 
EXPECT_EQ
(
AF_UNSPEC
, 
acû±_addr
.
çmy
());

302 
EXPECT_EQ
(0, 
ş›Á
->
CÚÃù
(
£rv”
->
G‘LoÿlAdd»ss
()));

303 
EXPECT_NE
(
ş›Á
->
G‘LoÿlAdd»ss
(), 
kEm±yAddr
);

304 
EXPECT_NE
(
AF_UNSPEC
, 
ş›Á
->
G‘LoÿlAdd»ss
().
çmy
());

305 
EXPECT_NE
(
ş›Á
->
G‘LoÿlAdd»ss
(), 
£rv”
->GetLocalAddress());

308 
EXPECT_EQ
(
ş›Á
->
G‘S‹
(), 
AsyncSock‘
::
CS_CONNECTING
);

309 
EXPECT_FALSE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_OPEN
));

310 
EXPECT_FALSE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_CLOSE
));

312 
	gss_
.
ProûssMes§gesUÁIdË
();

315 
EXPECT_EQ
(
ş›Á
->
G‘S‹
(), 
AsyncSock‘
::
CS_CONNECTING
);

316 
EXPECT_FALSE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_OPEN
));

317 
EXPECT_FALSE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_CLOSE
));

320 
EXPECT_TRUE
(
sšk
.
Check
(
£rv”
.
g‘
(), 
SSE_READ
));

321 
	g¡d
::
unique_±r
<
Sock‘
> 
acû±ed
 =

322 
ab¦
::
W¿pUnique
(
£rv”
->
Acû±
(&
acû±_addr
));

323 
EXPECT_TRUE
(
nuÎ±r
 !ğ
acû±ed
);

324 
EXPECT_NE
(
acû±_addr
, 
kEm±yAddr
);

325 
EXPECT_EQ
(
acû±ed
->
G‘RemÙeAdd»ss
(), 
acû±_addr
);

327 
EXPECT_EQ
(
acû±ed
->
G‘S‹
(), 
AsyncSock‘
::
CS_CONNECTED
);

328 
EXPECT_EQ
(
acû±ed
->
G‘LoÿlAdd»ss
(), 
£rv”
->GetLocalAddress());

329 
EXPECT_EQ
(
acû±ed
->
G‘RemÙeAdd»ss
(), 
ş›Á
->
G‘LoÿlAdd»ss
());

331 
	gss_
.
ProûssMes§gesUÁIdË
();

334 
EXPECT_EQ
(
ş›Á
->
G‘S‹
(), 
AsyncSock‘
::
CS_CONNECTED
);

335 
EXPECT_TRUE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_OPEN
));

336 
EXPECT_FALSE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_CLOSE
));

337 
EXPECT_EQ
(
ş›Á
->
G‘RemÙeAdd»ss
(), 
£rv”
->
G‘LoÿlAdd»ss
());

338 
EXPECT_EQ
(
ş›Á
->
G‘RemÙeAdd»ss
(), 
acû±ed
->
G‘LoÿlAdd»ss
());

341 
CÚÃùToNÚLi¡’”Te¡
(cÚ¡ 
Sock‘Add»ss
& 
š™Ÿl_addr
) {

342 
SŒ—mSšk
 
	gsšk
;

343 
Sock‘Add»ss
 
	gacû±_addr
;

344 cÚ¡ 
Sock‘Add»ss
 
	gn_addr
;

345 cÚ¡ 
Sock‘Add»ss
 
	gem±y_addr
 =

346 
Em±ySock‘Add»ssW™hFamy
(
š™Ÿl_addr
.
çmy
());

349 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
ş›Á
 = 
ab¦
::
W¿pUnique
(

350 
ss_
.
C»©eAsyncSock‘
(
š™Ÿl_addr
.
çmy
(), 
SOCK_STREAM
));

351 
	gsšk
.
MÚ™Ü
(
ş›Á
.
g‘
());

354 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
£rv”
 = 
ab¦
::
W¿pUnique
(

355 
ss_
.
C»©eAsyncSock‘
(
š™Ÿl_addr
.
çmy
(), 
SOCK_STREAM
));

356 
	gsšk
.
MÚ™Ü
(
£rv”
.
g‘
());

357 
EXPECT_EQ
(0, 
£rv”
->
Bšd
(
š™Ÿl_addr
));

358 
EXPECT_EQ
(
£rv”
->
G‘LoÿlAdd»ss
().
çmy
(), 
š™Ÿl_addr
.family());

360 
EXPECT_EQ
(0, 
ş›Á
->
CÚÃù
(
£rv”
->
G‘LoÿlAdd»ss
()));

362 
	gss_
.
ProûssMes§gesUÁIdË
();

365 
EXPECT_FALSE
(
sšk
.
Check
(
£rv”
.
g‘
(), 
SSE_READ
));

366 
EXPECT_TRUE
(
nuÎ±r
 =ğ
£rv”
->
Acû±
(&
acû±_addr
));

367 
EXPECT_EQ
(
acû±_addr
, 
n_addr
);

370 
EXPECT_EQ
(
ş›Á
->
G‘S‹
(), 
AsyncSock‘
::
CS_CLOSED
);

371 
EXPECT_FALSE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_OPEN
));

372 
EXPECT_TRUE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_ERROR
));

373 
EXPECT_EQ
(
ş›Á
->
G‘RemÙeAdd»ss
(), 
n_addr
);

376 
Clo£DuršgCÚÃùTe¡
(cÚ¡ 
Sock‘Add»ss
& 
š™Ÿl_addr
) {

377 
SŒ—mSšk
 
	gsšk
;

378 
Sock‘Add»ss
 
	gacû±_addr
;

379 cÚ¡ 
Sock‘Add»ss
 
	gem±y_addr
 =

380 
Em±ySock‘Add»ssW™hFamy
(
š™Ÿl_addr
.
çmy
());

383 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
ş›Á
(

384 
ss_
.
C»©eAsyncSock‘
(
š™Ÿl_addr
.
çmy
(), 
SOCK_STREAM
));

385 
	gsšk
.
MÚ™Ü
(
ş›Á
.
g‘
());

386 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
£rv”
(

387 
ss_
.
C»©eAsyncSock‘
(
š™Ÿl_addr
.
çmy
(), 
SOCK_STREAM
));

388 
	gsšk
.
MÚ™Ü
(
£rv”
.
g‘
());

391 
EXPECT_EQ
(0, 
£rv”
->
Bšd
(
š™Ÿl_addr
));

392 
EXPECT_EQ
(
£rv”
->
G‘LoÿlAdd»ss
().
çmy
(), 
š™Ÿl_addr
.family());

394 
EXPECT_EQ
(0, 
£rv”
->
Li¡’
(5));

395 
EXPECT_EQ
(0, 
ş›Á
->
CÚÃù
(
£rv”
->
G‘LoÿlAdd»ss
()));

398 
EXPECT_FALSE
(
sšk
.
Check
(
£rv”
.
g‘
(), 
SSE_READ
));

399 
	g£rv”
->
Clo£
();

401 
	gss_
.
ProûssMes§gesUÁIdË
();

404 
EXPECT_EQ
(
ş›Á
->
G‘S‹
(), 
AsyncSock‘
::
CS_CLOSED
);

405 
EXPECT_TRUE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_ERROR
));

407 
	g£rv”
.
»£t
(
ss_
.
C»©eAsyncSock‘
(
š™Ÿl_addr
.
çmy
(), 
SOCK_STREAM
));

408 
	gsšk
.
MÚ™Ü
(
£rv”
.
g‘
());

411 
EXPECT_EQ
(0, 
£rv”
->
Bšd
(
š™Ÿl_addr
));

412 
EXPECT_EQ
(
£rv”
->
G‘LoÿlAdd»ss
().
çmy
(), 
š™Ÿl_addr
.family());

414 
EXPECT_EQ
(0, 
£rv”
->
Li¡’
(5));

415 
EXPECT_EQ
(0, 
ş›Á
->
CÚÃù
(
£rv”
->
G‘LoÿlAdd»ss
()));

417 
	gss_
.
ProûssMes§gesUÁIdË
();

420 
EXPECT_TRUE
(
sšk
.
Check
(
£rv”
.
g‘
(), 
SSE_READ
));

421 
	g£rv”
->
Clo£
();

423 
	gss_
.
ProûssMes§gesUÁIdË
();

426 
EXPECT_EQ
(
ş›Á
->
G‘S‹
(), 
AsyncSock‘
::
CS_CLOSED
);

427 
EXPECT_TRUE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_ERROR
));

430 
	g£rv”
.
»£t
(
ss_
.
C»©eAsyncSock‘
(
š™Ÿl_addr
.
çmy
(), 
SOCK_STREAM
));

431 
	gsšk
.
MÚ™Ü
(
£rv”
.
g‘
());

434 
EXPECT_EQ
(0, 
£rv”
->
Bšd
(
š™Ÿl_addr
));

435 
EXPECT_EQ
(
£rv”
->
G‘LoÿlAdd»ss
().
çmy
(), 
š™Ÿl_addr
.family());

437 
EXPECT_EQ
(0, 
£rv”
->
Li¡’
(5));

438 
EXPECT_EQ
(0, 
ş›Á
->
CÚÃù
(
£rv”
->
G‘LoÿlAdd»ss
()));

440 
	gss_
.
ProûssMes§gesUÁIdË
();

443 
EXPECT_TRUE
(
sšk
.
Check
(
£rv”
.
g‘
(), 
SSE_READ
));

444 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
acû±ed
(
£rv”
->
Acû±
(&
acû±_addr
));

445 
ASSERT_TRUE
(
nuÎ±r
 !ğ
acû±ed
.
g‘
());

446 
	gsšk
.
MÚ™Ü
(
acû±ed
.
g‘
());

449 
EXPECT_EQ
(
acû±ed
->
G‘S‹
(), 
AsyncSock‘
::
CS_CONNECTED
);

452 
EXPECT_EQ
(
ş›Á
->
G‘S‹
(), 
AsyncSock‘
::
CS_CONNECTING
);

453 
	gş›Á
->
Clo£
();

455 
	gss_
.
ProûssMes§gesUÁIdË
();

458 
EXPECT_EQ
(
acû±ed
->
G‘S‹
(), 
AsyncSock‘
::
CS_CLOSED
);

459 
EXPECT_TRUE
(
sšk
.
Check
(
acû±ed
.
g‘
(), 
SSE_CLOSE
));

460 
EXPECT_FALSE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_CLOSE
));

463 
Clo£Te¡
(cÚ¡ 
Sock‘Add»ss
& 
š™Ÿl_addr
) {

464 
SŒ—mSšk
 
	gsšk
;

465 cÚ¡ 
Sock‘Add»ss
 
	gkEm±yAddr
;

468 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
a
 = 
ab¦
::
W¿pUnique
(

469 
ss_
.
C»©eAsyncSock‘
(
š™Ÿl_addr
.
çmy
(), 
SOCK_STREAM
));

470 
	gsšk
.
MÚ™Ü
(
a
.
g‘
());

471 
	ga
->
Bšd
(
š™Ÿl_addr
);

472 
EXPECT_EQ
(
a
->
G‘LoÿlAdd»ss
().
çmy
(), 
š™Ÿl_addr
.family());

474 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
b
 = 
ab¦
::
W¿pUnique
(

475 
ss_
.
C»©eAsyncSock‘
(
š™Ÿl_addr
.
çmy
(), 
SOCK_STREAM
));

476 
	gsšk
.
MÚ™Ü
(
b
.
g‘
());

477 
	gb
->
Bšd
(
š™Ÿl_addr
);

478 
EXPECT_EQ
(
b
->
G‘LoÿlAdd»ss
().
çmy
(), 
š™Ÿl_addr
.family());

480 
EXPECT_EQ
(0, 
a
->
CÚÃù
(
b
->
G‘LoÿlAdd»ss
()));

481 
EXPECT_EQ
(0, 
b
->
CÚÃù
(
a
->
G‘LoÿlAdd»ss
()));

483 
	gss_
.
ProûssMes§gesUÁIdË
();

485 
EXPECT_TRUE
(
sšk
.
Check
(
a
.
g‘
(), 
SSE_OPEN
));

486 
EXPECT_EQ
(
a
->
G‘S‹
(), 
AsyncSock‘
::
CS_CONNECTED
);

487 
EXPECT_EQ
(
a
->
G‘RemÙeAdd»ss
(), 
b
->
G‘LoÿlAdd»ss
());

489 
EXPECT_TRUE
(
sšk
.
Check
(
b
.
g‘
(), 
SSE_OPEN
));

490 
EXPECT_EQ
(
b
->
G‘S‹
(), 
AsyncSock‘
::
CS_CONNECTED
);

491 
EXPECT_EQ
(
b
->
G‘RemÙeAdd»ss
(), 
a
->
G‘LoÿlAdd»ss
());

493 
EXPECT_EQ
(1, 
a
->
S’d
("a", 1));

494 
	gb
->
Clo£
();

495 
EXPECT_EQ
(1, 
a
->
S’d
("b", 1));

497 
	gss_
.
ProûssMes§gesUÁIdË
();

499 
	gbufãr
[10];

500 
EXPECT_FALSE
(
sšk
.
Check
(
b
.
g‘
(), 
SSE_READ
));

501 
EXPECT_EQ
(-1, 
b
->
Recv
(
bufãr
, 10, 
nuÎ±r
));

503 
EXPECT_TRUE
(
sšk
.
Check
(
a
.
g‘
(), 
SSE_CLOSE
));

504 
EXPECT_EQ
(
a
->
G‘S‹
(), 
AsyncSock‘
::
CS_CLOSED
);

505 
EXPECT_EQ
(
a
->
G‘RemÙeAdd»ss
(), 
kEm±yAddr
);

508 
EXPECT_FALSE
(
sšk
.
Check
(
b
.
g‘
(), 
SSE_CLOSE
));

509 
EXPECT_EQ
(
b
->
G‘S‹
(), 
AsyncSock‘
::
CS_CLOSED
);

510 
EXPECT_EQ
(
b
->
G‘RemÙeAdd»ss
(), 
kEm±yAddr
);

513 
TıS’dTe¡
(cÚ¡ 
Sock‘Add»ss
& 
š™Ÿl_addr
) {

514 
SŒ—mSšk
 
	gsšk
;

515 cÚ¡ 
Sock‘Add»ss
 
	gkEm±yAddr
;

518 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
a
 = 
ab¦
::
W¿pUnique
(

519 
ss_
.
C»©eAsyncSock‘
(
š™Ÿl_addr
.
çmy
(), 
SOCK_STREAM
));

520 
	gsšk
.
MÚ™Ü
(
a
.
g‘
());

521 
	ga
->
Bšd
(
š™Ÿl_addr
);

522 
EXPECT_EQ
(
a
->
G‘LoÿlAdd»ss
().
çmy
(), 
š™Ÿl_addr
.family());

524 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
b
 = 
ab¦
::
W¿pUnique
(

525 
ss_
.
C»©eAsyncSock‘
(
š™Ÿl_addr
.
çmy
(), 
SOCK_STREAM
));

526 
	gsšk
.
MÚ™Ü
(
b
.
g‘
());

527 
	gb
->
Bšd
(
š™Ÿl_addr
);

528 
EXPECT_EQ
(
b
->
G‘LoÿlAdd»ss
().
çmy
(), 
š™Ÿl_addr
.family());

530 
EXPECT_EQ
(0, 
a
->
CÚÃù
(
b
->
G‘LoÿlAdd»ss
()));

531 
EXPECT_EQ
(0, 
b
->
CÚÃù
(
a
->
G‘LoÿlAdd»ss
()));

533 
	gss_
.
ProûssMes§gesUÁIdË
();

535 cÚ¡ 
size_t
 
	gkBufãrSize
 = 2000;

536 
	gss_
.
£t_£nd_bufãr_ÿ·c™y
(
kBufãrSize
);

537 
	gss_
.
£t_»cv_bufãr_ÿ·c™y
(
kBufãrSize
);

539 cÚ¡ 
size_t
 
	gkD©aSize
 = 5000;

540 
	g£nd_bufãr
[
kD©aSize
], 
	g»cv_bufãr
[kDataSize];

541 
size_t
 
	gi
 = 0; i < 
	gkD©aSize
; ++i)

542 
	g£nd_bufãr
[
i
] = 
¡©ic_ÿ¡
<>(i % 256);

543 
mem£t
(
»cv_bufãr
, 0, (recv_buffer));

544 
size_t
 
	g£nd_pos
 = 0, 
	g»cv_pos
 = 0;

547 
	g»suÉ
 = 
a
->
S’d
(
£nd_bufãr
 + 
£nd_pos
, 
kD©aSize
 - send_pos);

548 
EXPECT_EQ
(
¡©ic_ÿ¡
<>(
kBufãrSize
), 
»suÉ
);

549 
	g£nd_pos
 +ğ
»suÉ
;

551 
	gss_
.
ProûssMes§gesUÁIdË
();

552 
EXPECT_FALSE
(
sšk
.
Check
(
a
.
g‘
(), 
SSE_WRITE
));

553 
EXPECT_TRUE
(
sšk
.
Check
(
b
.
g‘
(), 
SSE_READ
));

556 
	g»suÉ
 = 
a
->
S’d
(
£nd_bufãr
 + 
£nd_pos
, 
kD©aSize
 - send_pos);

557 
EXPECT_EQ
(
¡©ic_ÿ¡
<>(
kBufãrSize
), 
»suÉ
);

558 
	g£nd_pos
 +ğ
»suÉ
;

560 
	gss_
.
ProûssMes§gesUÁIdË
();

561 
EXPECT_FALSE
(
sšk
.
Check
(
a
.
g‘
(), 
SSE_WRITE
));

562 
EXPECT_FALSE
(
sšk
.
Check
(
b
.
g‘
(), 
SSE_READ
));

565 
	g»suÉ
 = 
a
->
S’d
(
£nd_bufãr
 + 
£nd_pos
, 
kD©aSize
 - send_pos);

566 
EXPECT_EQ
(-1, 
»suÉ
);

567 
EXPECT_TRUE
(
a
->
IsBlockšg
());

570 
	g»suÉ
 = 
b
->
Recv
(
»cv_bufãr
 + 
»cv_pos
, 500, 
nuÎ±r
);

571 
EXPECT_EQ
(500, 
»suÉ
);

572 
	g»cv_pos
 +ğ
»suÉ
;

574 
	gss_
.
ProûssMes§gesUÁIdË
();

575 
EXPECT_TRUE
(
sšk
.
Check
(
a
.
g‘
(), 
SSE_WRITE
));

576 
EXPECT_TRUE
(
sšk
.
Check
(
b
.
g‘
(), 
SSE_READ
));

579 
	g»suÉ
 = 
a
->
S’d
(
£nd_bufãr
 + 
£nd_pos
, 
kD©aSize
 - send_pos);

580 
EXPECT_EQ
(500, 
»suÉ
);

581 
	g£nd_pos
 +ğ
»suÉ
;

584 
	gŒue
) {

585 
	g»suÉ
 = 
b
->
Recv
(
»cv_bufãr
 + 
»cv_pos
, 
kD©aSize
 -„ecv_pos, 
nuÎ±r
);

586 ià(
	g»suÉ
 < 0) {

587 
EXPECT_EQ
(-1, 
»suÉ
);

588 
EXPECT_TRUE
(
b
->
IsBlockšg
());

591 
	g»cv_pos
 +ğ
»suÉ
;

594 
	gss_
.
ProûssMes§gesUÁIdË
();

595 
EXPECT_TRUE
(
sšk
.
Check
(
b
.
g‘
(), 
SSE_READ
));

598 
	gŒue
) {

599 
	g»suÉ
 = 
b
->
Recv
(
»cv_bufãr
 + 
»cv_pos
, 
kD©aSize
 -„ecv_pos, 
nuÎ±r
);

600 ià(
	g»suÉ
 < 0) {

601 
EXPECT_EQ
(-1, 
»suÉ
);

602 
EXPECT_TRUE
(
b
->
IsBlockšg
());

605 
	g»cv_pos
 +ğ
»suÉ
;

609 
	g»suÉ
 = 
a
->
S’d
(
£nd_bufãr
 + 
£nd_pos
, 
kD©aSize
 - send_pos);

610 
EXPECT_EQ
(500, 
»suÉ
);

611 
	g£nd_pos
 +ğ
»suÉ
;

613 
	gss_
.
ProûssMes§gesUÁIdË
();

614 
EXPECT_TRUE
(
sšk
.
Check
(
b
.
g‘
(), 
SSE_READ
));

617 
	gŒue
) {

618 
	g»suÉ
 = 
b
->
Recv
(
»cv_bufãr
 + 
»cv_pos
, 
kD©aSize
 -„ecv_pos, 
nuÎ±r
);

619 ià(
	g»suÉ
 < 0) {

620 
EXPECT_EQ
(-1, 
»suÉ
);

621 
EXPECT_TRUE
(
b
->
IsBlockšg
());

624 
	g»cv_pos
 +ğ
»suÉ
;

627 
	gss_
.
ProûssMes§gesUÁIdË
();

628 
EXPECT_FALSE
(
sšk
.
Check
(
b
.
g‘
(), 
SSE_READ
));

631 
EXPECT_EQ
(
kD©aSize
, 
£nd_pos
);

632 
EXPECT_EQ
(
kD©aSize
, 
»cv_pos
);

633 
EXPECT_EQ
(0, 
memcmp
(
»cv_bufãr
, 
£nd_bufãr
, 
kD©aSize
));

636 
TıS’dsPack‘sInOrd”Te¡
(cÚ¡ 
Sock‘Add»ss
& 
š™Ÿl_addr
) {

637 cÚ¡ 
Sock‘Add»ss
 
	gkEm±yAddr
;

640 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
a
 = 
ab¦
::
W¿pUnique
(

641 
ss_
.
C»©eAsyncSock‘
(
š™Ÿl_addr
.
çmy
(), 
SOCK_STREAM
));

642 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
b
 = 
ab¦
::
W¿pUnique
(

643 
ss_
.
C»©eAsyncSock‘
(
š™Ÿl_addr
.
çmy
(), 
SOCK_STREAM
));

644 
	ga
->
Bšd
(
š™Ÿl_addr
);

645 
EXPECT_EQ
(
a
->
G‘LoÿlAdd»ss
().
çmy
(), 
š™Ÿl_addr
.family());

647 
	gb
->
Bšd
(
š™Ÿl_addr
);

648 
EXPECT_EQ
(
b
->
G‘LoÿlAdd»ss
().
çmy
(), 
š™Ÿl_addr
.family());

650 
EXPECT_EQ
(0, 
a
->
CÚÃù
(
b
->
G‘LoÿlAdd»ss
()));

651 
EXPECT_EQ
(0, 
b
->
CÚÃù
(
a
->
G‘LoÿlAdd»ss
()));

652 
	gss_
.
ProûssMes§gesUÁIdË
();

655 
	gbufãr
[2] = {0, 0};

656 cÚ¡ 
	gcNumPack‘s
 = 10;

657 
	gi
 = 0; i < 
	gcNumPack‘s
; ++i) {

658 
	gbufãr
[0] = '0' + 
i
;

659 
EXPECT_EQ
(1, 
a
->
S’d
(
bufãr
, 1));

662 
	gss_
.
ProûssMes§gesUÁIdË
();

664 
	gi
 = 0; i < 
	gcNumPack‘s
; ++i) {

665 
EXPECT_EQ
(1, 
b
->
Recv
(
bufãr
, (bufãr), 
nuÎ±r
));

666 
EXPECT_EQ
(
¡©ic_ÿ¡
<>('0' + 
i
), 
bufãr
[0]);

670 cÚ¡ 
ušt32_t
 
	gm—n
 = 50;

671 cÚ¡ 
ušt32_t
 
	g¡ddev
 = 50;

673 
	gss_
.
£t_d–ay_m—n
(
m—n
);

674 
	gss_
.
£t_d–ay_¡ddev
(
¡ddev
);

675 
	gss_
.
Upd©eD–ayDi¡ributiÚ
();

677 
	gi
 = 0; i < 
	gcNumPack‘s
; ++i) {

678 
	gbufãr
[0] = 'A' + 
i
;

679 
EXPECT_EQ
(1, 
a
->
S’d
(
bufãr
, 1));

682 
	gss_
.
ProûssMes§gesUÁIdË
();

684 
	gi
 = 0; i < 
	gcNumPack‘s
; ++i) {

685 
EXPECT_EQ
(1, 
b
->
Recv
(
bufãr
, (bufãr), 
nuÎ±r
));

686 
EXPECT_EQ
(
¡©ic_ÿ¡
<>('A' + 
i
), 
bufãr
[0]);

693 
BªdwidthTe¡
(cÚ¡ 
Sock‘Add»ss
& 
š™Ÿl_addr
) {

694 
AsyncSock‘
* 
	g£nd_sock‘
 =

695 
ss_
.
C»©eAsyncSock‘
(
š™Ÿl_addr
.
çmy
(), 
SOCK_DGRAM
);

696 
AsyncSock‘
* 
	g»cv_sock‘
 =

697 
ss_
.
C»©eAsyncSock‘
(
š™Ÿl_addr
.
çmy
(), 
SOCK_DGRAM
);

698 
ASSERT_EQ
(0, 
£nd_sock‘
->
Bšd
(
š™Ÿl_addr
));

699 
ASSERT_EQ
(0, 
»cv_sock‘
->
Bšd
(
š™Ÿl_addr
));

700 
EXPECT_EQ
(
£nd_sock‘
->
G‘LoÿlAdd»ss
().
çmy
(), 
š™Ÿl_addr
.family());

701 
EXPECT_EQ
(
»cv_sock‘
->
G‘LoÿlAdd»ss
().
çmy
(), 
š™Ÿl_addr
.family());

702 
ASSERT_EQ
(0, 
£nd_sock‘
->
CÚÃù
(
»cv_sock‘
->
G‘LoÿlAdd»ss
()));

704 
ušt32_t
 
	gbªdwidth
 = 64 * 1024;

705 
	gss_
.
£t_bªdwidth
(
bªdwidth
);

707 
Th»ad
* 
	g±hMaš
 = Th»ad::
Cu¼’t
();

708 
S’d”
 
£nd”
(
±hMaš
, 
£nd_sock‘
, 80 * 1024);

709 
Reûiv”
 
»ûiv”
(
±hMaš
, 
»cv_sock‘
, 
bªdwidth
);

713 
SIMULATED_WAIT
(
çl£
, 5000, 
çke_şock_
);

714 
	g£nd”
.
	gdÚe
 = 
Œue
;

715 
SIMULATED_WAIT
(
çl£
, 5000, 
çke_şock_
);

718 
EXPECT_TRUE
(
»ûiv”
.
couÁ
 >ğ5 * 3 * 
bªdwidth
 / 4);

719 
EXPECT_TRUE
(
»ûiv”
.
couÁ
 <ğ6 * 
bªdwidth
);

721 
	gss_
.
£t_bªdwidth
(0);

727 
D–ayTe¡
(cÚ¡ 
Sock‘Add»ss
& 
š™Ÿl_addr
) {

728 
time_t
 
	g£ed
 = ::
time
(
nuÎ±r
);

729 
RTC_LOG
(
LS_VERBOSE
è<< "£ed = " << 
	g£ed
;

730 
¤ªd
(
¡©ic_ÿ¡
<>(
£ed
));

732 cÚ¡ 
ušt32_t
 
	gm—n
 = 2000;

733 cÚ¡ 
ušt32_t
 
	g¡ddev
 = 500;

735 
	gss_
.
£t_d–ay_m—n
(
m—n
);

736 
	gss_
.
£t_d–ay_¡ddev
(
¡ddev
);

737 
	gss_
.
Upd©eD–ayDi¡ributiÚ
();

739 
AsyncSock‘
* 
	g£nd_sock‘
 =

740 
ss_
.
C»©eAsyncSock‘
(
š™Ÿl_addr
.
çmy
(), 
SOCK_DGRAM
);

741 
AsyncSock‘
* 
	g»cv_sock‘
 =

742 
ss_
.
C»©eAsyncSock‘
(
š™Ÿl_addr
.
çmy
(), 
SOCK_DGRAM
);

743 
ASSERT_EQ
(0, 
£nd_sock‘
->
Bšd
(
š™Ÿl_addr
));

744 
ASSERT_EQ
(0, 
»cv_sock‘
->
Bšd
(
š™Ÿl_addr
));

745 
EXPECT_EQ
(
£nd_sock‘
->
G‘LoÿlAdd»ss
().
çmy
(), 
š™Ÿl_addr
.family());

746 
EXPECT_EQ
(
»cv_sock‘
->
G‘LoÿlAdd»ss
().
çmy
(), 
š™Ÿl_addr
.family());

747 
ASSERT_EQ
(0, 
£nd_sock‘
->
CÚÃù
(
»cv_sock‘
->
G‘LoÿlAdd»ss
()));

749 
Th»ad
* 
	g±hMaš
 = Th»ad::
Cu¼’t
();

752 
S’d”
 
£nd”
(
±hMaš
, 
£nd_sock‘
, 100 * 2 * 1024);

753 
Reûiv”
 
»ûiv”
(
±hMaš
, 
»cv_sock‘
, 0);

757 
SIMULATED_WAIT
(
çl£
, 10000, 
çke_şock_
);

758 
	g£nd”
.
	gdÚe
 = 
»ûiv”
.
dÚe
 = 
Œue
;

759 
	gss_
.
ProûssMes§gesUÁIdË
();

761 cÚ¡ 
	g§m¶e_m—n
 = 
»ûiv”
.
sum
 /„eûiv”.
§m¶es
;

762 
	gnum
 =

763 
»ûiv”
.
§m¶es
 *„eûiv”.
sum_sq
 -„eûiv”.
sum
 *„eceiver.sum;

764 
	gd’
 = 
»ûiv”
.
§m¶es
 * (receiver.samples - 1);

765 cÚ¡ 
	g§m¶e_¡ddev
 = 
sq¹
(
num
 / 
d’
);

766 
RTC_LOG
(
LS_VERBOSE
è<< "m—n=" << 
	g§m¶e_m—n


767 << " stddev=" << 
	g§m¶e_¡ddev
;

769 
EXPECT_LE
(500u, 
»ûiv”
.
§m¶es
);

772 
EXPECT_NEAR
(
m—n
, 
§m¶e_m—n
, 0.15 * mean);

773 
EXPECT_NEAR
(
¡ddev
, 
§m¶e_¡ddev
, 0.15 * stddev);

775 
	gss_
.
£t_d–ay_m—n
(0);

776 
	gss_
.
£t_d–ay_¡ddev
(0);

777 
	gss_
.
Upd©eD–ayDi¡ributiÚ
();

783 
CrossFamyCÚÃùiÚTe¡
(cÚ¡ 
Sock‘Add»ss
& 
ş›Á_addr
,

784 cÚ¡ 
Sock‘Add»ss
& 
£rv”_addr
,

785 
boŞ
 
shouldSucûed
) {

786 
SŒ—mSšk
 
	gsšk
;

787 
Sock‘Add»ss
 
	gacû±_add»ss
;

788 cÚ¡ 
Sock‘Add»ss
 
	gkEm±yAddr
;

791 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
ş›Á
 = 
ab¦
::
W¿pUnique
(

792 
ss_
.
C»©eAsyncSock‘
(
ş›Á_addr
.
çmy
(), 
SOCK_STREAM
));

793 
	gsšk
.
MÚ™Ü
(
ş›Á
.
g‘
());

794 
EXPECT_EQ
(
ş›Á
->
G‘S‹
(), 
AsyncSock‘
::
CS_CLOSED
);

795 
EXPECT_EQ
(
ş›Á
->
G‘LoÿlAdd»ss
(), 
kEm±yAddr
);

796 
	gş›Á
->
Bšd
(
ş›Á_addr
);

800 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
£rv”
 = 
ab¦
::
W¿pUnique
(

801 
ss_
.
C»©eAsyncSock‘
(
£rv”_addr
.
çmy
(), 
SOCK_STREAM
));

802 
	gsšk
.
MÚ™Ü
(
£rv”
.
g‘
());

803 
	g£rv”
->
Bšd
(
£rv”_addr
);

804 
	g£rv”
->
Li¡’
(5);

806 ià(
	gshouldSucûed
) {

807 
EXPECT_EQ
(0, 
ş›Á
->
CÚÃù
(
£rv”
->
G‘LoÿlAdd»ss
()));

808 
	gss_
.
ProûssMes§gesUÁIdË
();

809 
EXPECT_TRUE
(
sšk
.
Check
(
£rv”
.
g‘
(), 
SSE_READ
));

810 
	g¡d
::
unique_±r
<
Sock‘
> 
acû±ed
 =

811 
ab¦
::
W¿pUnique
(
£rv”
->
Acû±
(&
acû±_add»ss
));

812 
EXPECT_TRUE
(
nuÎ±r
 !ğ
acû±ed
);

813 
EXPECT_NE
(
kEm±yAddr
, 
acû±_add»ss
);

814 
	gss_
.
ProûssMes§gesUÁIdË
();

815 
EXPECT_TRUE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_OPEN
));

816 
EXPECT_EQ
(
ş›Á
->
G‘RemÙeAdd»ss
(), 
£rv”
->
G‘LoÿlAdd»ss
());

819 
EXPECT_EQ
(-1, 
ş›Á
->
CÚÃù
(
£rv”
->
G‘LoÿlAdd»ss
()));

820 
	gss_
.
ProûssMes§gesUÁIdË
();

822 
EXPECT_FALSE
(
sšk
.
Check
(
£rv”
.
g‘
(), 
SSE_READ
));

823 
EXPECT_TRUE
(
nuÎ±r
 =ğ
£rv”
->
Acû±
(&
acû±_add»ss
));

824 
EXPECT_EQ
(
acû±_add»ss
, 
kEm±yAddr
);

825 
EXPECT_EQ
(
ş›Á
->
G‘S‹
(), 
AsyncSock‘
::
CS_CLOSED
);

826 
EXPECT_FALSE
(
sšk
.
Check
(
ş›Á
.
g‘
(), 
SSE_OPEN
));

827 
EXPECT_EQ
(
ş›Á
->
G‘RemÙeAdd»ss
(), 
kEm±yAddr
);

834 
CrossFamyD©ag¿mTe¡
(cÚ¡ 
Sock‘Add»ss
& 
ş›Á_addr
,

835 cÚ¡ 
Sock‘Add»ss
& 
£rv”_addr
,

836 
boŞ
 
shouldSucûed
) {

837 
AsyncSock‘
* 
	gsock‘
 = 
ss_
.
C»©eAsyncSock‘
(
AF_INET
, 
SOCK_DGRAM
);

838 
	gsock‘
->
Bšd
(
£rv”_addr
);

839 
Sock‘Add»ss
 
	gbound_£rv”_addr
 = 
sock‘
->
G‘LoÿlAdd»ss
();

840 autØ
	gş›Á1
 = 
¡d
::
make_unique
<
Te¡Cl›Á
>(

841 
¡d
::
make_unique
<
AsyncUDPSock‘
>(
sock‘
), &
	gçke_şock_
);

843 
AsyncSock‘
* 
	gsock‘2
 = 
ss_
.
C»©eAsyncSock‘
(
AF_INET
, 
SOCK_DGRAM
);

844 
	gsock‘2
->
Bšd
(
ş›Á_addr
);

845 autØ
	gş›Á2
 = 
¡d
::
make_unique
<
Te¡Cl›Á
>(

846 
¡d
::
make_unique
<
AsyncUDPSock‘
>(
sock‘2
), &
	gçke_şock_
);

847 
Sock‘Add»ss
 
	gş›Á2_addr
;

849 ià(
	gshouldSucûed
) {

850 
EXPECT_EQ
(3, 
ş›Á2
->
S’dTo
("foo", 3, 
bound_£rv”_addr
));

851 
EXPECT_TRUE
(
ş›Á1
->
CheckNextPack‘
("foo", 3, &
ş›Á2_addr
));

852 
Sock‘Add»ss
 
	gş›Á1_addr
;

853 
EXPECT_EQ
(6, 
ş›Á1
->
S’dTo
("bizbaz", 6, 
ş›Á2_addr
));

854 
EXPECT_TRUE
(
ş›Á2
->
CheckNextPack‘
("bizbaz", 6, &
ş›Á1_addr
));

855 
EXPECT_EQ
(
ş›Á1_addr
, 
bound_£rv”_addr
);

857 
EXPECT_EQ
(-1, 
ş›Á2
->
S’dTo
("foo", 3, 
bound_£rv”_addr
));

858 
EXPECT_TRUE
(
ş›Á1
->
CheckNoPack‘
());

862 
	g´Ùeùed
:

863 
¹c
::
ScİedFakeClock
 
çke_şock_
;

864 
Vœtu®Sock‘S”v”
 
	gss_
;

865 
AutoSock‘S”v”Th»ad
 
	gth»ad_
;

866 cÚ¡ 
Sock‘Add»ss
 
	gkIPv4AnyAdd»ss
;

867 cÚ¡ 
Sock‘Add»ss
 
	gkIPv6AnyAdd»ss
;

870 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
basic_v4
) {

871 
Sock‘Add»ss
 
v4_‹¡_addr
(
IPAdd»ss
(
INADDR_ANY
), 5000);

872 
BasicTe¡
(
v4_‹¡_addr
);

875 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
basic_v6
) {

876 
Sock‘Add»ss
 
v6_‹¡_addr
(
IPAdd»ss
(
š6addr_ªy
), 5000);

877 
BasicTe¡
(
v6_‹¡_addr
);

880 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
Te¡DeçuÉRou‹_v4
) {

881 
IPAdd»ss
 
v4_deçuÉ_addr
(0x01020304);

882 
Te¡DeçuÉRou‹
(
v4_deçuÉ_addr
);

885 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
Te¡DeçuÉRou‹_v6
) {

886 
IPAdd»ss
 
	gv6_deçuÉ_addr
;

887 
EXPECT_TRUE
(

888 
IPFromSŒšg
("2401:ç00:4:1000:be30:5bff:ãe5:c3", &
v6_deçuÉ_addr
));

889 
Te¡DeçuÉRou‹
(
v6_deçuÉ_addr
);

892 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
cÚÃù_v4
) {

893 
CÚÃùTe¡
(
kIPv4AnyAdd»ss
);

896 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
cÚÃù_v6
) {

897 
CÚÃùTe¡
(
kIPv6AnyAdd»ss
);

900 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
cÚÃù_to_nÚ_li¡’”_v4
) {

901 
CÚÃùToNÚLi¡’”Te¡
(
kIPv4AnyAdd»ss
);

904 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
cÚÃù_to_nÚ_li¡’”_v6
) {

905 
CÚÃùToNÚLi¡’”Te¡
(
kIPv6AnyAdd»ss
);

908 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
şo£_duršg_cÚÃù_v4
) {

909 
Clo£DuršgCÚÃùTe¡
(
kIPv4AnyAdd»ss
);

912 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
şo£_duršg_cÚÃù_v6
) {

913 
Clo£DuršgCÚÃùTe¡
(
kIPv6AnyAdd»ss
);

916 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
şo£_v4
) {

917 
Clo£Te¡
(
kIPv4AnyAdd»ss
);

920 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
şo£_v6
) {

921 
Clo£Te¡
(
kIPv6AnyAdd»ss
);

924 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
tı_£nd_v4
) {

925 
TıS’dTe¡
(
kIPv4AnyAdd»ss
);

928 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
tı_£nd_v6
) {

929 
TıS’dTe¡
(
kIPv6AnyAdd»ss
);

932 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
TıS’dsPack‘sInOrd”_v4
) {

933 
TıS’dsPack‘sInOrd”Te¡
(
kIPv4AnyAdd»ss
);

936 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
TıS’dsPack‘sInOrd”_v6
) {

937 
TıS’dsPack‘sInOrd”Te¡
(
kIPv6AnyAdd»ss
);

940 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
bªdwidth_v4
) {

941 
BªdwidthTe¡
(
kIPv4AnyAdd»ss
);

944 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
bªdwidth_v6
) {

945 
BªdwidthTe¡
(
kIPv6AnyAdd»ss
);

948 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
d–ay_v4
) {

949 
D–ayTe¡
(
kIPv4AnyAdd»ss
);

952 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
d–ay_v6
) {

953 
D–ayTe¡
(
kIPv6AnyAdd»ss
);

957 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
CªCÚÃùFromM­³dIPv6ToIPv4Any
) {

958 
CrossFamyCÚÃùiÚTe¡
(
Sock‘Add»ss
("::ffff:127.0.0.2", 0),

959 
Sock‘Add»ss
("0.0.0.0", 5000), 
Œue
);

963 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
CªtCÚÃùFromUnM­³dIPv6ToIPv4Any
) {

964 
CrossFamyCÚÃùiÚTe¡
(
Sock‘Add»ss
("::2", 0),

965 
Sock‘Add»ss
("0.0.0.0", 5000), 
çl£
);

969 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
CªtCÚÃùFromUnM­³dIPv6ToM­³dIPv6
) {

970 
CrossFamyCÚÃùiÚTe¡
(
Sock‘Add»ss
("::2", 0),

971 
Sock‘Add»ss
("::ffff:127.0.0.1", 5000), 
çl£
);

975 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
CªCÚÃùFromIPv4ToIPv6Any
) {

976 
CrossFamyCÚÃùiÚTe¡
(
Sock‘Add»ss
("127.0.0.2", 0),

977 
Sock‘Add»ss
("::", 5000), 
Œue
);

981 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
CªtCÚÃùFromIPv4ToUnM­³dIPv6
) {

982 
CrossFamyCÚÃùiÚTe¡
(
Sock‘Add»ss
("127.0.0.2", 0),

983 
Sock‘Add»ss
("::1", 5000), 
çl£
);

987 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
CªCÚÃùFromIPv4ToM­³dIPv6
) {

988 
CrossFamyCÚÃùiÚTe¡
(
Sock‘Add»ss
("127.0.0.1", 0),

989 
Sock‘Add»ss
("::ffff:127.0.0.2", 5000), 
Œue
);

993 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
CªCÚÃùFromUnboundIPv6ToIPv4Any
) {

994 
CrossFamyCÚÃùiÚTe¡
(
Sock‘Add»ss
("::", 0),

995 
Sock‘Add»ss
("0.0.0.0", 5000), 
Œue
);

999 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
CªCÚÃùFromUnboundIPv4ToIPv6Any
) {

1000 
CrossFamyCÚÃùiÚTe¡
(
Sock‘Add»ss
("0.0.0.0", 0),

1001 
Sock‘Add»ss
("::", 5000), 
Œue
);

1004 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
CªS’dD©ag¿mFromUnboundIPv4ToIPv6Any
) {

1005 
CrossFamyD©ag¿mTe¡
(
Sock‘Add»ss
("0.0.0.0", 0),

1006 
Sock‘Add»ss
("::", 5000), 
Œue
);

1009 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
CªS’dD©ag¿mFromM­³dIPv6ToIPv4Any
) {

1010 
CrossFamyD©ag¿mTe¡
(
Sock‘Add»ss
("::ffff:127.0.0.1", 0),

1011 
Sock‘Add»ss
("0.0.0.0", 5000), 
Œue
);

1014 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
CªtS’dD©ag¿mFromUnM­³dIPv6ToIPv4Any
) {

1015 
CrossFamyD©ag¿mTe¡
(
Sock‘Add»ss
("::2", 0),

1016 
Sock‘Add»ss
("0.0.0.0", 5000), 
çl£
);

1019 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
CªtS’dD©ag¿mFromUnM­³dIPv6ToM­³dIPv6
) {

1020 
CrossFamyD©ag¿mTe¡
(
Sock‘Add»ss
("::2", 0),

1021 
Sock‘Add»ss
("::ffff:127.0.0.1", 5000), 
çl£
);

1024 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
CªS’dD©ag¿mFromIPv4ToIPv6Any
) {

1025 
CrossFamyD©ag¿mTe¡
(
Sock‘Add»ss
("127.0.0.2", 0),

1026 
Sock‘Add»ss
("::", 5000), 
Œue
);

1029 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
CªtS’dD©ag¿mFromIPv4ToUnM­³dIPv6
) {

1030 
CrossFamyD©ag¿mTe¡
(
Sock‘Add»ss
("127.0.0.2", 0),

1031 
Sock‘Add»ss
("::1", 5000), 
çl£
);

1034 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
CªS’dD©ag¿mFromIPv4ToM­³dIPv6
) {

1035 
CrossFamyD©ag¿mTe¡
(
Sock‘Add»ss
("127.0.0.1", 0),

1036 
Sock‘Add»ss
("::ffff:127.0.0.2", 5000), 
Œue
);

1039 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
CªS’dD©ag¿mFromUnboundIPv6ToIPv4Any
) {

1040 
CrossFamyD©ag¿mTe¡
(
Sock‘Add»ss
("::", 0),

1041 
Sock‘Add»ss
("0.0.0.0", 5000), 
Œue
);

1044 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
S‘S’dšgBlockedW™hUdpSock‘
) {

1045 
AsyncSock‘
* 
	gsock‘1
 =

1046 
ss_
.
C»©eAsyncSock‘
(
kIPv4AnyAdd»ss
.
çmy
(), 
SOCK_DGRAM
);

1047 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
sock‘2
 = 
ab¦
::
W¿pUnique
(

1048 
ss_
.
C»©eAsyncSock‘
(
kIPv4AnyAdd»ss
.
çmy
(), 
SOCK_DGRAM
));

1049 
	gsock‘1
->
Bšd
(
kIPv4AnyAdd»ss
);

1050 
	gsock‘2
->
Bšd
(
kIPv4AnyAdd»ss
);

1051 autØ
	gş›Á1
 = 
¡d
::
make_unique
<
Te¡Cl›Á
>(

1052 
¡d
::
make_unique
<
AsyncUDPSock‘
>(
sock‘1
), &
	gçke_şock_
);

1054 
	gss_
.
S‘S’dšgBlocked
(
Œue
);

1055 
EXPECT_EQ
(-1, 
ş›Á1
->
S’dTo
("foo", 3, 
sock‘2
->
G‘LoÿlAdd»ss
()));

1056 
EXPECT_TRUE
(
sock‘1
->
IsBlockšg
());

1057 
EXPECT_EQ
(0, 
ş›Á1
->
»ady_to_£nd_couÁ
());

1059 
	gss_
.
S‘S’dšgBlocked
(
çl£
);

1060 
EXPECT_EQ
(1, 
ş›Á1
->
»ady_to_£nd_couÁ
());

1061 
EXPECT_EQ
(3, 
ş›Á1
->
S’dTo
("foo", 3, 
sock‘2
->
G‘LoÿlAdd»ss
()));

1064 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
S‘S’dšgBlockedW™hTıSock‘
) {

1065 
cÚ¡ex´
 
size_t
 
	gkBufãrSize
 = 1024;

1066 
	gss_
.
£t_£nd_bufãr_ÿ·c™y
(
kBufãrSize
);

1067 
	gss_
.
£t_»cv_bufãr_ÿ·c™y
(
kBufãrSize
);

1069 
SŒ—mSšk
 
	gsšk
;

1070 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
sock‘1
 = 
ab¦
::
W¿pUnique
(

1071 
ss_
.
C»©eAsyncSock‘
(
kIPv4AnyAdd»ss
.
çmy
(), 
SOCK_STREAM
));

1072 
	g¡d
::
unique_±r
<
AsyncSock‘
> 
sock‘2
 = 
ab¦
::
W¿pUnique
(

1073 
ss_
.
C»©eAsyncSock‘
(
kIPv4AnyAdd»ss
.
çmy
(), 
SOCK_STREAM
));

1074 
	gsšk
.
MÚ™Ü
(
sock‘1
.
g‘
());

1075 
	gsšk
.
MÚ™Ü
(
sock‘2
.
g‘
());

1076 
	gsock‘1
->
Bšd
(
kIPv4AnyAdd»ss
);

1077 
	gsock‘2
->
Bšd
(
kIPv4AnyAdd»ss
);

1080 
EXPECT_EQ
(0, 
sock‘1
->
CÚÃù
(
sock‘2
->
G‘LoÿlAdd»ss
()));

1081 
EXPECT_EQ
(0, 
sock‘2
->
CÚÃù
(
sock‘1
->
G‘LoÿlAdd»ss
()));

1082 
	gss_
.
ProûssMes§gesUÁIdË
();

1084 
	gd©a
[
kBufãrSize
] = {};

1087 
	gss_
.
S‘S’dšgBlocked
(
Œue
);

1088 
EXPECT_EQ
(
¡©ic_ÿ¡
<>(
kBufãrSize
), 
sock‘1
->
S’d
(
d©a
, kBufferSize));

1089 
	gss_
.
ProûssMes§gesUÁIdË
();

1090 
EXPECT_FALSE
(
sšk
.
Check
(
sock‘1
.
g‘
(), 
SSE_WRITE
));

1091 
EXPECT_FALSE
(
sšk
.
Check
(
sock‘2
.
g‘
(), 
SSE_READ
));

1092 
EXPECT_FALSE
(
sock‘1
->
IsBlockšg
());

1095 
EXPECT_EQ
(-1, 
sock‘1
->
S’d
(
d©a
, 
kBufãrSize
));

1096 
EXPECT_FALSE
(
sšk
.
Check
(
sock‘1
.
g‘
(), 
SSE_WRITE
));

1097 
EXPECT_FALSE
(
sšk
.
Check
(
sock‘2
.
g‘
(), 
SSE_READ
));

1098 
EXPECT_TRUE
(
sock‘1
->
IsBlockšg
());

1102 
	gss_
.
S‘S’dšgBlocked
(
çl£
);

1103 
	gss_
.
ProûssMes§gesUÁIdË
();

1104 
EXPECT_TRUE
(
sšk
.
Check
(
sock‘1
.
g‘
(), 
SSE_WRITE
));

1105 
EXPECT_TRUE
(
sšk
.
Check
(
sock‘2
.
g‘
(), 
SSE_READ
));

1108 
TEST_F
(
Vœtu®Sock‘S”v”Te¡
, 
C»©esSnd¬dDi¡ributiÚ
) {

1109 cÚ¡ 
ušt32_t
 
	gkTe¡M—n
[] = {10, 100, 333, 1000};

1110 cÚ¡ 
	gkTe¡Dev
[] = {0.25, 0.1, 0.01};

1112 cÚ¡ 
ušt32_t
 
	gkTe¡Sam¶es
[] = { 1000};

1113 
size_t
 
	gmidx
 = 0; midx < 
¬¿ysize
(
kTe¡M—n
); ++midx) {

1114 
size_t
 
	gdidx
 = 0; didx < 
¬¿ysize
(
kTe¡Dev
); ++didx) {

1115 
size_t
 
	gsidx
 = 0; sidx < 
¬¿ysize
(
kTe¡Sam¶es
); ++sidx) {

1116 
ASSERT_LT
(0u, 
kTe¡Sam¶es
[
sidx
]);

1117 cÚ¡ 
ušt32_t
 
	gkStdDev
 =

1118 
¡©ic_ÿ¡
<
ušt32_t
>(
kTe¡Dev
[
didx
] * 
kTe¡M—n
[
midx
]);

1119 
	gVœtu®Sock‘S”v”
::
FunùiÚ
* 
f
 =

1120 
Vœtu®Sock‘S”v”
::
C»©eDi¡ributiÚ
(
kTe¡M—n
[
midx
], 
kStdDev
,

1121 
kTe¡Sam¶es
[
sidx
]);

1122 
ASSERT_TRUE
(
nuÎ±r
 !ğ
f
);

1123 
ASSERT_EQ
(
kTe¡Sam¶es
[
sidx
], 
f
->
size
());

1124 
	gsum
 = 0;

1125 
ušt32_t
 
	gi
 = 0; i < 
	gf
->
size
(); ++i) {

1126 
	gsum
 +ğ(*
f
)[
i
].
£cÚd
;

1128 cÚ¡ 
	gm—n
 = 
sum
 / 
f
->
size
();

1129 
	gsum_sq_dev
 = 0;

1130 
ušt32_t
 
	gi
 = 0; i < 
	gf
->
size
(); ++i) {

1131 
	gdev
 = (*
f
)[
i
].
£cÚd
 - 
m—n
;

1132 
	gsum_sq_dev
 +ğ
dev
 * dev;

1134 cÚ¡ 
	g¡ddev
 = 
sq¹
(
sum_sq_dev
 / 
f
->
size
());

1135 
EXPECT_NEAR
(
kTe¡M—n
[
midx
], 
m—n
, 0.1 * kTestMean[midx])

1136 << "M=" << 
	gkTe¡M—n
[
midx
] << " SD=" << 
	gkStdDev


1137 << " N=" << 
	gkTe¡Sam¶es
[
sidx
];

1138 
EXPECT_NEAR
(
kStdDev
, 
¡ddev
, 0.1 * kStdDev)

1139 << "M=" << 
	gkTe¡M—n
[
midx
] << " SD=" << 
	gkStdDev


1140 << " N=" << 
	gkTe¡Sam¶es
[
sidx
];

1141 
d–‘e
 
	gf
;

	@weak_ptr.cc

11 
	~"¹c_ba£/w—k_±r.h
"

16 
Çme¥aû
 
	g¹c
 {

17 
Çme¥aû
 
	gš‹º®
 {

19 
	gW—kReã»nû
::
FÏg
::FÏg(è: 
is_v®id_
(
Œue
) {

23 
check”_
.
D‘ach
();

26 
	gW—kReã»nû
::
FÏg
::
Inv®id©e
() {

27 
RTC_DCHECK
(
check”_
.
IsCu¼’t
())

29 
	gis_v®id_
 = 
çl£
;

32 
boŞ
 
	gW—kReã»nû
::
FÏg
::
IsV®id
() const {

33 
RTC_DCHECK
(
check”_
.
IsCu¼’t
())

35  
	gis_v®id_
;

38 
	gW—kReã»nû
::
FÏg
::~Flag() {}

40 
W—kReã»nû
::WeakReference() {}

42 
W—kReã»nû
::W—kReã»nû(cÚ¡ 
FÏg
* 
æag
è: 
æag_
(flag) {}

44 
W—kReã»nû
::~WeakReference() {}

46 
W—kReã»nû
::W—kReã»nû(W—kReã»nû&& 
Ùh”
) = ;

48 
	gW—kReã»nû
::
W—kReã»nû
(cÚ¡ W—kReã»nû& 
Ùh”
) = ;

50 
boŞ
 
	gW—kReã»nû
::
is_v®id
() const {

51  
æag_
.
g‘
(è&& fÏg_->
IsV®id
();

54 
	gW—kReã»nûOwÃr
::
W—kReã»nûOwÃr
() {}

56 
W—kReã»nûOwÃr
::~WeakReferenceOwner() {

57 
Inv®id©e
();

60 
W—kReã»nû
 
	gW—kReã»nûOwÃr
::
G‘Ref
() const {

62 ià(!
HasRefs
())

63 
æag_
 = 
Ãw
 
RefCouÁedObjeù
<
W—kReã»nû
::
FÏg
>();

65  
W—kReã»nû
(
æag_
.
g‘
());

68 
	gW—kReã»nûOwÃr
::
Inv®id©e
() {

69 ià(
æag_
.
g‘
()) {

70 
æag_
->
Inv®id©e
();

71 
	gæag_
 = 
nuÎ±r
;

75 
	gW—kPŒBa£
::
W—kPŒBa£
() {}

77 
W—kPŒBa£
::~WeakPtrBase() {}

79 
W—kPŒBa£
::W—kPŒBa£(cÚ¡ 
W—kReã»nû
& 
»f
è: 
»f_
(ref) {}

	@weak_ptr.h

11 #iâdeà
RTC_BASE_WEAK_PTR_H_


12 
	#RTC_BASE_WEAK_PTR_H_


	)

14 
	~<memÜy
>

15 
	~<ut™y
>

17 
	~"­i/scİed_»åŒ.h
"

18 
	~"¹c_ba£/»f_couÁ.h
"

19 
	~"¹c_ba£/»f_couÁed_objeù.h
"

20 
	~"¹c_ba£/synchrÚiz©iÚ/£qu’û_check”.h
"

86 
Çme¥aû
 
	g¹c
 {

88 
Çme¥aû
 
	gš‹º®
 {

90 şas 
	cW—kReã»nû
 {

91 
	gpublic
:

94 şas 
	cFÏg
 : 
public
 
RefCouÁIÁ”çû
 {

95 
public
:

96 
FÏg
();

98 
Inv®id©e
();

99 
boŞ
 
IsV®id
() const;

101 
	g´iv©e
:

102 
ä›nd
 
şass
 
RefCouÁedObjeù
<
FÏg
>;

104 ~
FÏg
(è
	gov”ride
;

106 ::
web¹c
::
Sequ’ûCheck”
 
check”_
;

107 
boŞ
 
	gis_v®id_
;

110 
W—kReã»nû
();

111 
ex¶ic™
 
W—kReã»nû
(cÚ¡ 
FÏg
* 
æag
);

112 ~
W—kReã»nû
();

114 
W—kReã»nû
(W—kReã»nû&& 
Ùh”
);

115 
W—kReã»nû
(cÚ¡ W—kReã»nû& 
Ùh”
);

116 
	gW—kReã»nû
& 
	gİ”©Ü
=(
W—kReã»nû
&& 
Ùh”
) = ;

117 
	gW—kReã»nû
& 
	gİ”©Ü
=(cÚ¡ 
W—kReã»nû
& 
Ùh”
) = ;

119 
boŞ
 
is_v®id
() const;

121 
	g´iv©e
:

122 
scİed_»åŒ
<cÚ¡ 
FÏg
> 
æag_
;

125 şas 
	cW—kReã»nûOwÃr
 {

126 
	gpublic
:

127 
W—kReã»nûOwÃr
();

128 ~
W—kReã»nûOwÃr
();

130 
W—kReã»nû
 
G‘Ref
() const;

132 
boŞ
 
HasRefs
(ècÚ¡ {  
	gæag_
.
g‘
(è&& !æag_->
HasOÃRef
(); }

134 
Inv®id©e
();

136 
	g´iv©e
:

137 
mubË
 
scİed_»åŒ
<
RefCouÁedObjeù
<
W—kReã»nû
::
FÏg
>> 
æag_
;

144 şas 
	cW—kPŒBa£
 {

145 
	gpublic
:

146 
W—kPŒBa£
();

147 ~
W—kPŒBa£
();

149 
W—kPŒBa£
(cÚ¡ W—kPŒBa£& 
Ùh”
) = ;

150 
W—kPŒBa£
(W—kPŒBa£&& 
Ùh”
) = ;

151 
	gW—kPŒBa£
& 
	gİ”©Ü
=(cÚ¡ 
W—kPŒBa£
& 
Ùh”
) = ;

152 
	gW—kPŒBa£
& 
	gİ”©Ü
=(
W—kPŒBa£
&& 
Ùh”
) = ;

154 
	g´Ùeùed
:

155 
ex¶ic™
 
W—kPŒBa£
(cÚ¡ 
W—kReã»nû
& 
»f
);

157 
W—kReã»nû
 
	g»f_
;

162 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

163 
şass
 
	gW—kPŒFaùÜy
;

165 
	g‹m¶©e
 <
ty³Çme
 
	gT
>

166 şas 
	cW—kPŒ
 : 
public
 
š‹º®
::
W—kPŒBa£
 {

167 
public
:

168 
W—kPŒ
(è: 
±r_
(
nuÎ±r
) {}

172 
‹m¶©e
 <
ty³Çme
 
U
>

173 
W—kPŒ
(cÚ¡ W—kPŒ<
U
>& 
Ùh”
)

174 : 
š‹º®
::
W—kPŒBa£
(
Ùh”
), 
±r_
(other.ptr_) {}

175 
	g‹m¶©e
 <
ty³Çme
 
	gU
>

176 
W—kPŒ
(W—kPŒ<
U
>&& 
Ùh”
)

177 : 
š‹º®
::
W—kPŒBa£
(
¡d
::
move
(
Ùh”
)), 
±r_
(other.ptr_) {}

179 
T
* 
g‘
(ècÚ¡ {  
	g»f_
.
is_v®id
(è? 
	g±r_
 : 
nuÎ±r
; }

181 
	gT
& 
	gİ”©Ü
*() const {

182 
RTC_DCHECK
(
g‘
(è!ğ
nuÎ±r
);

183  *
g‘
();

185 
T
* 
	gİ”©Ü
->() const {

186 
RTC_DCHECK
(
g‘
(è!ğ
nuÎ±r
);

187  
g‘
();

190 
»£t
() {

191 
	g»f_
 = 
š‹º®
::
W—kReã»nû
();

192 
	g±r_
 = 
nuÎ±r
;

196 
ex¶ic™
 
İ”©Ü
 
boŞ
(ècÚ¡ {  
g‘
(è!ğ
nuÎ±r
; }

198 
	g´iv©e
:

199 
‹m¶©e
 <
ty³Çme
 
U
>

200 
ä›nd
 
şass
 
W—kPŒ
;

201 
ä›nd
 
şass
 
	gW—kPŒFaùÜy
<
	gT
>;

203 
W—kPŒ
(cÚ¡ 
š‹º®
::
W—kReã»nû
& 
»f
, 
T
* 
±r
)

204 : 
š‹º®
::
W—kPŒBa£
(
»f
), 
±r_
(
±r
) {}

208 
T
* 
	g±r_
;

212 
	g‹m¶©e
 <
şass
 
	gT
>

213 
boŞ
 
	gİ”©Ü
!=(cÚ¡ 
W—kPŒ
<
T
>& 
w—k_±r
, 
	g¡d
::
nuÎ±r_t
) {

214  !(
w—k_±r
 =ğ
nuÎ±r
);

216 
	g‹m¶©e
 <
şass
 
	gT
>

217 
boŞ
 
	gİ”©Ü
!=(
¡d
::
nuÎ±r_t
, cÚ¡ 
	gW—kPŒ
<
	gT
>& 
	gw—k_±r
) {

218  
	gw—k_±r
 !ğ
nuÎ±r
;

220 
	g‹m¶©e
 <
şass
 
	gT
>

221 
boŞ
 
	gİ”©Ü
==(cÚ¡ 
W—kPŒ
<
T
>& 
w—k_±r
, 
	g¡d
::
nuÎ±r_t
) {

222  
w—k_±r
.
g‘
(è=ğ
nuÎ±r
;

224 
	g‹m¶©e
 <
şass
 
	gT
>

225 
boŞ
 
	gİ”©Ü
==(
¡d
::
nuÎ±r_t
, cÚ¡ 
	gW—kPŒ
<
	gT
>& 
	gw—k_±r
) {

226  
	gw—k_±r
 =ğ
nuÎ±r
;

239 
	g‹m¶©e
 <
şass
 
	gT
>

240 şas 
	cW—kPŒFaùÜy
 {

241 
	gpublic
:

242 
ex¶ic™
 
W—kPŒFaùÜy
(
T
* 
±r
è: 
±r_
(ptr) {}

244 ~
W—kPŒFaùÜy
(è{ 
±r_
 = 
nuÎ±r
; }

246 
	gW—kPŒ
<
	gT
> 
G‘W—kPŒ
() {

247 
RTC_DCHECK
(
±r_
);

248  
	gW—kPŒ
<
	gT
>(
	gw—k_»ã»nû_owÃr_
.
G‘Ref
(), 
	g±r_
);

252 
Inv®id©eW—kPŒs
() {

253 
RTC_DCHECK
(
±r_
);

254 
	gw—k_»ã»nû_owÃr_
.
Inv®id©e
();

258 
boŞ
 
HasW—kPŒs
() const {

259 
RTC_DCHECK
(
±r_
);

260  
	gw—k_»ã»nû_owÃr_
.
HasRefs
();

263 
	g´iv©e
:

264 
š‹º®
::
W—kReã»nûOwÃr
 
w—k_»ã»nû_owÃr_
;

265 
T
* 
	g±r_
;

266 
RTC_DISALLOW_IMPLICIT_CONSTRUCTORS
(
W—kPŒFaùÜy
);

	@weak_ptr_unittest.cc

11 
	~"¹c_ba£/w—k_±r.h
"

13 
	~<memÜy
>

14 
	~<¡ršg
>

16 
	~"¹c_ba£/ev’t.h
"

17 
	~"¹c_ba£/sk_queue_fÜ_‹¡.h
"

18 
	~"‹¡/g‹¡.h
"

20 
Çme¥aû
 
	g¹c
 {

22 
	gÇme¥aû
 {

24 
	sBa£
 {

25 
	g¡d
::
¡ršg
 
memb”
;

27 
	gD”ived
 : 
public
 
Ba£
 {};

29 
	sT¬g‘
 {};

31 
	sA¼ow
 {

32 
	gW—kPŒ
<
	gT¬g‘
> 
	grg‘
;

35 
	gT¬g‘W™hFaùÜy
 : 
public
 
T¬g‘
 {

36 
T¬g‘W™hFaùÜy
(è: 
çùÜy
(
this
) {}

37 
W—kPŒFaùÜy
<
T¬g‘
> 
çùÜy
;

42 
TEST
(
W—kPŒFaùÜyTe¡
, 
Basic
) {

43 
	gd©a
;

44 
	gW—kPŒFaùÜy
<> 
çùÜy
(&
d©a
);

45 
	gW—kPŒ
<> 
	g±r
 = 
çùÜy
.
G‘W—kPŒ
();

46 
EXPECT_EQ
(&
d©a
, 
±r
.
g‘
());

49 
TEST
(
W—kPŒFaùÜyTe¡
, 
Com·risÚ
) {

50 
	gd©a
;

51 
	gW—kPŒFaùÜy
<> 
çùÜy
(&
d©a
);

52 
	gW—kPŒ
<> 
	g±r
 = 
çùÜy
.
G‘W—kPŒ
();

53 
	gW—kPŒ
<> 
	g±r2
 = 
±r
;

54 
EXPECT_EQ
(
±r
.
g‘
(), 
±r2
.get());

57 
TEST
(
W—kPŒFaùÜyTe¡
, 
Move
) {

58 
	gd©a
;

59 
	gW—kPŒFaùÜy
<> 
çùÜy
(&
d©a
);

60 
	gW—kPŒ
<> 
	g±r
 = 
çùÜy
.
G‘W—kPŒ
();

61 
	gW—kPŒ
<> 
	g±r2
 = 
çùÜy
.
G‘W—kPŒ
();

62 
	gW—kPŒ
<> 
	g±r3
 = 
¡d
::
move
(
±r2
);

63 
EXPECT_NE
(
±r
.
g‘
(), 
±r2
.get());

64 
EXPECT_EQ
(
±r
.
g‘
(), 
±r3
.get());

67 
TEST
(
W—kPŒFaùÜyTe¡
, 
OutOfScİe
) {

68 
	gW—kPŒ
<> 
	g±r
;

69 
EXPECT_EQ
(
nuÎ±r
, 
±r
.
g‘
());

71 
	gd©a
;

72 
	gW—kPŒFaùÜy
<> 
çùÜy
(&
d©a
);

73 
	g±r
 = 
çùÜy
.
G‘W—kPŒ
();

74 
EXPECT_EQ
(&
d©a
, 
±r
.
g‘
());

76 
EXPECT_EQ
(
nuÎ±r
, 
±r
.
g‘
());

79 
TEST
(
W—kPŒFaùÜyTe¡
, 
MuÉË
) {

80 
	gW—kPŒ
<> 
	ga
, 
	gb
;

82 
	gd©a
;

83 
	gW—kPŒFaùÜy
<> 
çùÜy
(&
d©a
);

84 
	ga
 = 
çùÜy
.
G‘W—kPŒ
();

85 
	gb
 = 
çùÜy
.
G‘W—kPŒ
();

86 
EXPECT_EQ
(&
d©a
, 
a
.
g‘
());

87 
EXPECT_EQ
(&
d©a
, 
b
.
g‘
());

89 
EXPECT_EQ
(
nuÎ±r
, 
a
.
g‘
());

90 
EXPECT_EQ
(
nuÎ±r
, 
b
.
g‘
());

93 
TEST
(
W—kPŒFaùÜyTe¡
, 
MuÉËSged
) {

94 
	gW—kPŒ
<> 
	ga
;

96 
	gd©a
;

97 
	gW—kPŒFaùÜy
<> 
çùÜy
(&
d©a
);

98 
	ga
 = 
çùÜy
.
G‘W—kPŒ
();

99 { 
	gW—kPŒ
<> 
	gb
 = 
çùÜy
.
G‘W—kPŒ
(); }

100 
EXPECT_NE
(
nuÎ±r
, 
a
.
g‘
());

102 
EXPECT_EQ
(
nuÎ±r
, 
a
.
g‘
());

105 
TEST
(
W—kPŒFaùÜyTe¡
, 
D”eã»nû
) {

106 
Ba£
 
	gd©a
;

107 
	gd©a
.
	gmemb”
 = "123456";

108 
	gW—kPŒFaùÜy
<
	gBa£
> 
çùÜy
(&
d©a
);

109 
	gW—kPŒ
<
	gBa£
> 
	g±r
 = 
çùÜy
.
G‘W—kPŒ
();

110 
EXPECT_EQ
(&
d©a
, 
±r
.
g‘
());

111 
EXPECT_EQ
(
d©a
.
memb”
, (*
±r
).member);

112 
EXPECT_EQ
(
d©a
.
memb”
, 
±r
->member);

115 
TEST
(
W—kPŒFaùÜyTe¡
, 
UpCa¡
) {

116 
D”ived
 
	gd©a
;

117 
	gW—kPŒFaùÜy
<
	gD”ived
> 
çùÜy
(&
d©a
);

118 
	gW—kPŒ
<
	gBa£
> 
	g±r
 = 
çùÜy
.
G‘W—kPŒ
();

119 
	g±r
 = 
çùÜy
.
G‘W—kPŒ
();

120 
EXPECT_EQ
(
±r
.
g‘
(), &
d©a
);

123 
TEST
(
W—kPŒTe¡
, 
DeçuÉCÚ¡ruùÜ
) {

124 
	gW—kPŒ
<> 
	g±r
;

125 
EXPECT_EQ
(
nuÎ±r
, 
±r
.
g‘
());

128 
TEST
(
W—kPŒFaùÜyTe¡
, 
BoŞ—nTe¡šg
) {

129 
	gd©a
;

130 
	gW—kPŒFaùÜy
<> 
çùÜy
(&
d©a
);

132 
	gW—kPŒ
<> 
	g±r_to_ª_š¡ªû
 = 
çùÜy
.
G‘W—kPŒ
();

133 
EXPECT_TRUE
(
±r_to_ª_š¡ªû
);

134 
EXPECT_FALSE
(!
±r_to_ª_š¡ªû
);

136 ià(
	g±r_to_ª_š¡ªû
) {

138 
ADD_FAILURE
() << "Pointero‡n instance should„esult inrue.";

141 ià(!
	g±r_to_ª_š¡ªû
) {

142 
ADD_FAILURE
() << "Pointero‡n instance should„esult in !x being false.";

145 
	gW—kPŒ
<> 
	gnuÎ_±r
;

146 
EXPECT_FALSE
(
nuÎ_±r
);

147 
EXPECT_TRUE
(!
nuÎ_±r
);

149 ià(
	gnuÎ_±r
) {

150 
ADD_FAILURE
() << "Null…ointer should„esult in false.";

153 ià(!
	gnuÎ_±r
) {

155 
ADD_FAILURE
() << "Null…ointer should„esult in !x beingrue.";

159 
TEST
(
W—kPŒFaùÜyTe¡
, 
Com·risÚToNuÎ
) {

160 
	gd©a
;

161 
	gW—kPŒFaùÜy
<> 
çùÜy
(&
d©a
);

163 
	gW—kPŒ
<> 
	g±r_to_ª_š¡ªû
 = 
çùÜy
.
G‘W—kPŒ
();

164 
EXPECT_NE
(
nuÎ±r
, 
±r_to_ª_š¡ªû
);

165 
EXPECT_NE
(
±r_to_ª_š¡ªû
, 
nuÎ±r
);

167 
	gW—kPŒ
<> 
	gnuÎ_±r
;

168 
EXPECT_EQ
(
nuÎ_±r
, 
nuÎ±r
);

169 
EXPECT_EQ
(
nuÎ±r
, 
nuÎ_±r
);

172 
TEST
(
W—kPŒTe¡
, 
Inv®id©eW—kPŒs
) {

173 
	gd©a
;

174 
	gW—kPŒFaùÜy
<> 
çùÜy
(&
d©a
);

175 
	gW—kPŒ
<> 
	g±r
 = 
çùÜy
.
G‘W—kPŒ
();

176 
EXPECT_EQ
(&
d©a
, 
±r
.
g‘
());

177 
EXPECT_TRUE
(
çùÜy
.
HasW—kPŒs
());

178 
	gçùÜy
.
Inv®id©eW—kPŒs
();

179 
EXPECT_EQ
(
nuÎ±r
, 
±r
.
g‘
());

180 
EXPECT_FALSE
(
çùÜy
.
HasW—kPŒs
());

185 
	gW—kPŒ
<> 
	g±r2
 = 
çùÜy
.
G‘W—kPŒ
();

186 
EXPECT_EQ
(&
d©a
, 
±r2
.
g‘
());

187 
EXPECT_TRUE
(
çùÜy
.
HasW—kPŒs
());

188 
	gçùÜy
.
Inv®id©eW—kPŒs
();

189 
EXPECT_EQ
(
nuÎ±r
, 
±r2
.
g‘
());

190 
EXPECT_FALSE
(
çùÜy
.
HasW—kPŒs
());

193 
TEST
(
W—kPŒTe¡
, 
HasW—kPŒs
) {

194 
	gd©a
;

195 
	gW—kPŒFaùÜy
<> 
çùÜy
(&
d©a
);

197 
	gW—kPŒ
<> 
	g±r
 = 
çùÜy
.
G‘W—kPŒ
();

198 
EXPECT_TRUE
(
çùÜy
.
HasW—kPŒs
());

200 
EXPECT_FALSE
(
çùÜy
.
HasW—kPŒs
());

203 
	g‹m¶©e
 <
şass
 
	gT
>

204 
	g¡d
::
unique_±r
<
T
> 
NewObjeùC»©edOnTaskQueue
() {

205 
¡d
::
unique_±r
<
T
> 
obj
;

206 
	gweb¹c
::
TaskQueueFÜTe¡
 
queue
("NewObjectCreatedOnTaskQueue");

207 
	gqueue
.
S’dTask
([&] { 
obj
 = 
¡d
::
make_unique
<
T
>(); }, 
RTC_FROM_HERE
);

208  
	gobj
;

211 
TEST
(
W—kPŒTe¡
, 
ObjeùAndW—kPŒOnDifã»ÁTh»ads
) {

215 
	g¡d
::
unique_±r
<
T¬g‘W™hFaùÜy
> 
rg‘
(

216 
NewObjeùC»©edOnTaskQueue
<
T¬g‘W™hFaùÜy
>());

217 
	gW—kPŒ
<
	gT¬g‘
> 
	gw—k_±r
 = 
rg‘
->
çùÜy
.
G‘W—kPŒ
();

218 
EXPECT_EQ
(
rg‘
.
g‘
(), 
w—k_±r
.get());

221 
TEST
(
W—kPŒTe¡
, 
W—kPŒIn™Ÿ‹AndU£OnDifã»ÁTh»ads
) {

225 autØ
	grg‘
 = 
¡d
::
make_unique
<
T¬g‘W™hFaùÜy
>();

227 
	gW—kPŒ
<
	gT¬g‘
> 
	gw—k_±r
 = 
rg‘
->
çùÜy
.
G‘W—kPŒ
();

228 
	gweb¹c
::
TaskQueueFÜTe¡
 
queue
("queue");

229 
	gqueue
.
S’dTask
(

232 
EXPECT_EQ
(
w—k_±r
.
g‘
(), 
rg‘
.get());

233 
rg‘
.
»£t
();

235 
RTC_FROM_HERE
);

	@win/windows_version.cc

11 
	~"¹c_ba£/wš/wšdows_v”siÚ.h
"

13 
	~<wšdows.h
>

15 
	~<memÜy
>

17 
	~"¹c_ba£/checks.h
"

18 
	~"¹c_ba£/¡ršg_uts.h
"

20 #ià!
defšed
(
__şªg__
è&& 
_MSC_FULL_VER
 < 191125507

21 #”rÜ 
VS
 2017 
Upd©e
 3.2 
Ü
 
high”
 
is
 
»quœed


24 #ià!
defšed
(
WINUWP
)

26 
	gÇme¥aû
 {

28 
BOOL
(
	tWINAPI
* 
	tG‘ProduùInfoPŒ
)(
	tDWORD
, DWORD, DWORD, DWORD, 
	tPDWORD
);

31 cÚ¡ 
REGSAM
 
	gkWow64AcûssMask
 = 
KEY_WOW64_32KEY
 | 
KEY_WOW64_64KEY
;

37 şas 
	cRegKey
 {

38 
	gpublic
:

39 
RegKey
(è: 
key_
(
nuÎ±r
), 
wow64acûss_
(0) {}

41 
RegKey
(
HKEY
 
roÙkey
, cÚ¡ 
wch¬_t
* 
subkey
, 
REGSAM
 
acûss
)

42 : 
key_
(
nuÎ±r
), 
wow64acûss_
(0) {

43 ià(
	groÙkey
) {

44 ià(
	gacûss
 & (
	gKEY_SET_VALUE
 | 
	gKEY_CREATE_SUB_KEY
 | 
	gKEY_CREATE_LINK
))

45 
C»©e
(
roÙkey
, 
subkey
, 
acûss
);

47 
O³n
(
roÙkey
, 
subkey
, 
acûss
);

49 
RTC_DCHECK
(!
subkey
);

50 
	gwow64acûss_
 = 
acûss
 & 
kWow64AcûssMask
;

54 ~
RegKey
(è{ 
Clo£
(); }

56 
LONG
 
C»©e
(
HKEY
 
roÙkey
, cÚ¡ 
wch¬_t
* 
subkey
, 
REGSAM
 
acûss
) {

57 
DWORD
 
	gdi¥os™iÚ_v®ue
;

58  
C»©eW™hDi¥os™iÚ
(
roÙkey
, 
subkey
, &
di¥os™iÚ_v®ue
, 
acûss
);

61 
LONG
 
C»©eW™hDi¥os™iÚ
(
HKEY
 
roÙkey
,

62 cÚ¡ 
wch¬_t
* 
subkey
,

63 
DWORD
* 
di¥os™iÚ
,

64 
REGSAM
 
acûss
) {

65 
RTC_DCHECK
(
roÙkey
 && 
subkey
 && 
acûss
 && 
di¥os™iÚ
);

66 
HKEY
 
	gsubhkey
 = 
NULL
;

67 
LONG
 
	g»suÉ
 =

68 ::
RegC»©eKeyExW
(
roÙkey
, 
subkey
, 0, 
NULL
, 
REG_OPTION_NON_VOLATILE
,

69 
acûss
, 
NULL
, &
subhkey
, 
di¥os™iÚ
);

70 ià(
	g»suÉ
 =ğ
ERROR_SUCCESS
) {

71 
Clo£
();

72 
	gkey_
 = 
subhkey
;

73 
	gwow64acûss_
 = 
acûss
 & 
kWow64AcûssMask
;

76  
	g»suÉ
;

80 
LONG
 
O³n
(
HKEY
 
roÙkey
, cÚ¡ 
wch¬_t
* 
subkey
, 
REGSAM
 
acûss
) {

81 
RTC_DCHECK
(
roÙkey
 && 
subkey
 && 
acûss
);

82 
HKEY
 
	gsubhkey
 = 
NULL
;

84 
LONG
 
	g»suÉ
 = ::
RegO³nKeyExW
(
roÙkey
, 
subkey
, 0, 
acûss
, &
subhkey
);

85 ià(
	g»suÉ
 =ğ
ERROR_SUCCESS
) {

86 
Clo£
();

87 
	gkey_
 = 
subhkey
;

88 
	gwow64acûss_
 = 
acûss
 & 
kWow64AcûssMask
;

91  
	g»suÉ
;

95 
Clo£
() {

96 ià(
	gkey_
) {

97 ::
RegClo£Key
(
key_
);

98 
	gkey_
 = 
nuÎ±r
;

104 
LONG
 
R—dV®ueDW
(cÚ¡ 
wch¬_t
* 
Çme
, 
DWORD
* 
out_v®ue
) const {

105 
RTC_DCHECK
(
out_v®ue
);

106 
DWORD
 
	gty³
 = 
REG_DWORD
;

107 
DWORD
 
	gsize
 = (DWORD);

108 
DWORD
 
	gloÿl_v®ue
 = 0;

109 
LONG
 
	g»suÉ
 = 
R—dV®ue
(
Çme
, &
loÿl_v®ue
, &
size
, &
ty³
);

110 ià(
	g»suÉ
 =ğ
ERROR_SUCCESS
) {

111 ià((
ty³
 =ğ
REG_DWORD
 ||y³ =ğ
REG_BINARY
è&& 
size
 =ğ(
DWORD
))

112 *
out_v®ue
 = 
loÿl_v®ue
;

114 
	g»suÉ
 = 
ERROR_CANTREAD
;

117  
	g»suÉ
;

122 
LONG
 
R—dV®ue
(cÚ¡ 
wch¬_t
* 
Çme
, 
¡d
::
w¡ršg
* 
out_v®ue
) const {

123 
RTC_DCHECK
(
out_v®ue
);

124 cÚ¡ 
size_t
 
	gkMaxSŒšgL’gth
 = 1024;

126 
wch¬_t
 
	g¿w_v®ue
[
kMaxSŒšgL’gth
];

127 
DWORD
 
	gty³
 = 
REG_SZ
, 
	gsize
 = (
¿w_v®ue
);

128 
LONG
 
	g»suÉ
 = 
R—dV®ue
(
Çme
, 
¿w_v®ue
, &
size
, &
ty³
);

129 ià(
	g»suÉ
 =ğ
ERROR_SUCCESS
) {

130 ià(
ty³
 =ğ
REG_SZ
) {

131 *
out_v®ue
 = 
¿w_v®ue
;

132 } ià(
	gty³
 =ğ
REG_EXPAND_SZ
) {

133 
wch¬_t
 
ex·nded
[
kMaxSŒšgL’gth
];

134 
	gsize
 =

135 ::
Ex·ndEnvœÚm’tSŒšgsW
(
¿w_v®ue
, 
ex·nded
, 
kMaxSŒšgL’gth
);

139 ià(
	gsize
 =ğ0 || 
size
 > 
kMaxSŒšgL’gth
) {

140 
»suÉ
 = 
ERROR_MORE_DATA
;

142 *
	gout_v®ue
 = 
ex·nded
;

146 
	g»suÉ
 = 
ERROR_CANTREAD
;

150  
	g»suÉ
;

153 
LONG
 
R—dV®ue
(cÚ¡ 
wch¬_t
* 
Çme
,

154 * 
d©a
,

155 
DWORD
* 
dsize
,

156 
DWORD
* 
dty³
) const {

157 
LONG
 
	g»suÉ
 = 
RegQu”yV®ueExW
(
key_
, 
Çme
, 0, 
dty³
,

158 
»š‹½»t_ÿ¡
<
LPBYTE
>(
d©a
), 
dsize
);

159  
	g»suÉ
;

162 
	g´iv©e
:

163 
HKEY
 
key_
;

164 
REGSAM
 
	gwow64acûss_
;

171 
Çme¥aû
 
	g¹c
 {

172 
Çme¥aû
 
	g¹c_wš
 {

173 
	gÇme¥aû
 {

176 
V”siÚ
 
MajÜMšÜBudToV”siÚ
(
majÜ
, 
mšÜ
, 
bud
) {

177 ià((
	gmajÜ
 =ğ5è&& (
mšÜ
 > 0)) {

179  (
mšÜ
 =ğ1è? 
VERSION_XP
 : 
VERSION_SERVER_2003
;

180 } ià(
	gmajÜ
 == 6) {

181 
mšÜ
) {

184  
VERSION_VISTA
;

187  
VERSION_WIN7
;

190  
VERSION_WIN8
;

192 
RTC_DCHECK_EQ
(
mšÜ
, 3);

193  
	gVERSION_WIN8_1
;

195 } ià(
	gmajÜ
 == 10) {

196 ià(
bud
 < 10586) {

197  
VERSION_WIN10
;

198 } ià(
	gbud
 < 14393) {

199  
	gVERSION_WIN10_TH2
;

200 } ià(
	gbud
 < 15063) {

201  
	gVERSION_WIN10_RS1
;

202 } ià(
	gbud
 < 16299) {

203  
	gVERSION_WIN10_RS2
;

204 } ià(
	gbud
 < 17134) {

205  
	gVERSION_WIN10_RS3
;

207  
	gVERSION_WIN10_RS4
;

209 } ià(
	gmajÜ
 > 6) {

210 
RTC_NOTREACHED
();

211  
	gVERSION_WIN_LAST
;

214  
	gVERSION_PRE_XP
;

220 
G‘UBR
() {

221 #ià
defšed
(
WINUWP
)

227 
cÚ¡ex´
 
wch¬_t
 
	gkRegKeyWšdowsNTCu¼’tV”siÚ
[] =

228 
L
"SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion";

230 
RegKey
 
	gkey
;

231 ià(
	gkey
.
O³n
(
HKEY_LOCAL_MACHINE
, 
kRegKeyWšdowsNTCu¼’tV”siÚ
,

232 
KEY_QUERY_VALUE
è!ğ
ERROR_SUCCESS
) {

236 
DWORD
 
	gubr
 = 0;

237 
	gkey
.
R—dV®ueDW
(
L
"UBR", &
ubr
);

239  
	g¡©ic_ÿ¡
<>(
	gubr
);

246 
OSInfo
* 
	gOSInfo
::
G‘In¡ªû
() {

250 
OSInfo
* 
šfo
;

251 ià(!
	gšfo
) {

252 
OSInfo
* 
	gÃw_šfo
 = 
Ãw
 OSInfo();

253 ià(
IÁ”lockedCom·»ExchªgePoš‹r
(
»š‹½»t_ÿ¡
<
PVOID
*>(&
šfo
),

254 
Ãw_šfo
, 
NULL
)) {

255 
d–‘e
 
	gÃw_šfo
;

258  
	gšfo
;

261 
	gOSInfo
::
OSInfo
()

262 : 
v”siÚ_
(
VERSION_PRE_XP
),

263 
¬ch™eùu»_
(
OTHER_ARCHITECTURE
),

264 
wow64_¡©us_
(
G‘WOW64StusFÜProûss
(
G‘Cu¼’tProûss
())) {

265 
OSVERSIONINFOEXW
 
	gv”siÚ_šfo
 = { 
v”siÚ_šfo
};

272 ::
G‘V”siÚExW
(
»š‹½»t_ÿ¡
<
OSVERSIONINFOW
*>(&
v”siÚ_šfo
));

273 
	gv”siÚ_numb”_
.
	gmajÜ
 = 
v”siÚ_šfo
.
dwMajÜV”siÚ
;

274 
	gv”siÚ_numb”_
.
	gmšÜ
 = 
v”siÚ_šfo
.
dwMšÜV”siÚ
;

275 
	gv”siÚ_numb”_
.
	gbud
 = 
v”siÚ_šfo
.
dwBudNumb”
;

276 
	gv”siÚ_numb”_
.
	g·tch
 = 
G‘UBR
();

277 
	gv”siÚ_
 = 
MajÜMšÜBudToV”siÚ
(

278 
v”siÚ_numb”_
.
majÜ
, v”siÚ_numb”_.
mšÜ
, v”siÚ_numb”_.
bud
);

279 
	g£rviû_·ck_
.
	gmajÜ
 = 
v”siÚ_šfo
.
wS”viûPackMajÜ
;

280 
	g£rviû_·ck_
.
	gmšÜ
 = 
v”siÚ_šfo
.
wS”viûPackMšÜ
;

281 
	g£rviû_·ck_¡r_
 = 
¹c
::
ToUtf8
(
v”siÚ_šfo
.
szCSDV”siÚ
);

283 
SYSTEM_INFO
 
	gsy¡em_šfo
 = {};

284 ::
G‘N©iveSy¡emInfo
(&
sy¡em_šfo
);

285 
	gsy¡em_šfo
.
	gwProûssÜArch™eùu»
) {

286 
	gPROCESSOR_ARCHITECTURE_INTEL
:

287 
¬ch™eùu»_
 = 
X86_ARCHITECTURE
;

289 
	gPROCESSOR_ARCHITECTURE_AMD64
:

290 
¬ch™eùu»_
 = 
X64_ARCHITECTURE
;

292 
	gPROCESSOR_ARCHITECTURE_IA64
:

293 
¬ch™eùu»_
 = 
IA64_ARCHITECTURE
;

296 
	g´oûssÜs_
 = 
sy¡em_šfo
.
dwNumb”OfProûssÜs
;

297 
	g®loÿtiÚ_g¿nuÏr™y_
 = 
sy¡em_šfo
.
dwAÎoÿtiÚG¿nuÏr™y
;

299 #ià!
defšed
(
WINUWP
)

300 
G‘ProduùInfoPŒ
 
	gg‘_´oduù_šfo
;

301 
DWORD
 
	gos_ty³
;

303 ià(
	gv”siÚ_šfo
.
	gdwMajÜV”siÚ
 =ğ6 || 
v”siÚ_šfo
.
dwMajÜV”siÚ
 == 10) {

305 
g‘_´oduù_šfo
 = 
»š‹½»t_ÿ¡
<
G‘ProduùInfoPŒ
>(::
G‘ProcAdd»ss
(

306 ::
G‘ModuËHªdËW
(
L
"kernel32.dll"), "GetProductInfo"));

308 
g‘_´oduù_šfo
(
v”siÚ_šfo
.
dwMajÜV”siÚ
, v”siÚ_šfo.
dwMšÜV”siÚ
,

309 0, 0, &
os_ty³
);

310 
	gos_ty³
) {

311 
	gPRODUCT_CLUSTER_SERVER
:

312 
PRODUCT_DATACENTER_SERVER
:

313 
PRODUCT_DATACENTER_SERVER_CORE
:

314 
PRODUCT_ENTERPRISE_SERVER
:

315 
PRODUCT_ENTERPRISE_SERVER_CORE
:

316 
PRODUCT_ENTERPRISE_SERVER_IA64
:

317 
PRODUCT_SMALLBUSINESS_SERVER
:

318 
PRODUCT_SMALLBUSINESS_SERVER_PREMIUM
:

319 
PRODUCT_STANDARD_SERVER
:

320 
PRODUCT_STANDARD_SERVER_CORE
:

321 
PRODUCT_WEB_SERVER
:

322 
v”siÚ_ty³_
 = 
SUITE_SERVER
;

324 
	gPRODUCT_PROFESSIONAL
:

325 
PRODUCT_ULTIMATE
:

326 
v”siÚ_ty³_
 = 
SUITE_PROFESSIONAL
;

328 
	gPRODUCT_ENTERPRISE
:

329 
PRODUCT_ENTERPRISE_E
:

330 
PRODUCT_ENTERPRISE_EVALUATION
:

331 
PRODUCT_ENTERPRISE_N
:

332 
PRODUCT_ENTERPRISE_N_EVALUATION
:

333 
PRODUCT_ENTERPRISE_S
:

334 
PRODUCT_ENTERPRISE_S_EVALUATION
:

335 
PRODUCT_ENTERPRISE_S_N
:

336 
PRODUCT_ENTERPRISE_S_N_EVALUATION
:

337 
PRODUCT_BUSINESS
:

338 
PRODUCT_BUSINESS_N
:

339 
v”siÚ_ty³_
 = 
SUITE_ENTERPRISE
;

341 
	gPRODUCT_EDUCATION
:

342 
PRODUCT_EDUCATION_N
:

343 
v”siÚ_ty³_
 = 
SUITE_EDUCATION
;

345 
	gPRODUCT_HOME_BASIC
:

346 
PRODUCT_HOME_PREMIUM
:

347 
PRODUCT_STARTER
:

349 
v”siÚ_ty³_
 = 
SUITE_HOME
;

352 } ià(
	gv”siÚ_šfo
.
	gdwMajÜV”siÚ
 == 5 &&

353 
v”siÚ_šfo
.
dwMšÜV”siÚ
 == 2) {

354 ià(
v”siÚ_šfo
.
wProduùTy³
 =ğ
VER_NT_WORKSTATION
 &&

355 
sy¡em_šfo
.
wProûssÜArch™eùu»
 =ğ
PROCESSOR_ARCHITECTURE_AMD64
) {

356 
v”siÚ_ty³_
 = 
SUITE_PROFESSIONAL
;

357 } ià(
	gv”siÚ_šfo
.
	gwSu™eMask
 & 
	gVER_SUITE_WH_SERVER
) {

358 
	gv”siÚ_ty³_
 = 
SUITE_HOME
;

360 
	gv”siÚ_ty³_
 = 
SUITE_SERVER
;

362 } ià(
	gv”siÚ_šfo
.
	gdwMajÜV”siÚ
 == 5 &&

363 
v”siÚ_šfo
.
dwMšÜV”siÚ
 == 1) {

364 ià(
v”siÚ_šfo
.
wSu™eMask
 & 
VER_SUITE_PERSONAL
)

365 
v”siÚ_ty³_
 = 
SUITE_HOME
;

367 
	gv”siÚ_ty³_
 = 
SUITE_PROFESSIONAL
;

370 
	gv”siÚ_ty³_
 = 
SUITE_HOME
;

375 
	gv”siÚ_ty³_
 = 
SUITE_HOME
;

379 
	gOSInfo
::~
OSInfo
() {}

381 
¡d
::
¡ršg
 
OSInfo
::
´oûssÜ_mod–_Çme
() {

382 #ià
defšed
(
WINUWP
)

387 ià(
	g´oûssÜ_mod–_Çme_
.
em±y
()) {

388 cÚ¡ 
wch¬_t
 
	gkProûssÜNameSŒšg
[] =

389 
L
"HARDWARE\\DESCRIPTION\\System\\CentralProcessor\\0";

390 
RegKey
 
key
(
HKEY_LOCAL_MACHINE
, 
kProûssÜNameSŒšg
, 
KEY_READ
);

391 
	g¡d
::
w¡ršg
 
v®ue
;

392 
	gkey
.
R—dV®ue
(
L
"ProûssÜNameSŒšg", &
v®ue
);

393 
	g´oûssÜ_mod–_Çme_
 = 
¹c
::
ToUtf8
(
v®ue
);

395  
	g´oûssÜ_mod–_Çme_
;

400 
	gOSInfo
::
WOW64Stus
 
OSInfo
::
G‘WOW64StusFÜProûss
(
HANDLE
 
´oûss_hªdË
) {

401 
BOOL
 
is_wow64
;

402 #ià
defšed
(
WINUWP
)

403 ià(!
IsWow64Proûss
(
´oûss_hªdË
, &
is_wow64
))

404  
	gWOW64_UNKNOWN
;

406 
BOOL
(
	tWINAPI
 * 
	tIsWow64ProûssFunc
)(
	tHANDLE
, 
	tPBOOL
);

407 
IsWow64ProûssFunc
 
	gis_wow64_´oûss
 = 
»š‹½»t_ÿ¡
<IsWow64ProcessFunc>(

408 
G‘ProcAdd»ss
(
G‘ModuËHªdËW
(
L
"kernel32.dll"), "IsWow64Process"));

409 ià(!
	gis_wow64_´oûss
)

410  
	gWOW64_DISABLED
;

411 ià(!(*
	gis_wow64_´oûss
)(
	g´oûss_hªdË
, &
	gis_wow64
))

412  
	gWOW64_UNKNOWN
;

414  
	gis_wow64
 ? 
	gWOW64_ENABLED
 : 
WOW64_DISABLED
;

417 
V”siÚ
 
G‘V”siÚ
() {

418  
	gOSInfo
::
G‘In¡ªû
()->
v”siÚ
();

	@win/windows_version.h

11 #iâdeà
RTC_BASE_WIN_WINDOWS_VERSION_H_


12 
	#RTC_BASE_WIN_WINDOWS_VERSION_H_


	)

14 
	~<¡ddef.h
>

16 
	~<¡ršg
>

18 
	~"¹c_ba£/cÚ¡ruùÜ_magic.h
"

20 * 
	tHANDLE
;

22 
Çme¥aû
 
	g¹c
 {

23 
Çme¥aû
 
	g¹c_wš
 {

32 
	eV”siÚ
 {

33 
	gVERSION_PRE_XP
 = 0,

34 
	gVERSION_XP
 = 1,

35 
	gVERSION_SERVER_2003
 = 2,

36 
	gVERSION_VISTA
 = 3,

37 
	gVERSION_WIN7
 = 4,

38 
	gVERSION_WIN8
 = 5,

39 
	gVERSION_WIN8_1
 = 6,

40 
	gVERSION_WIN10
 = 7,

41 
	gVERSION_WIN10_TH2
 = 8,

42 
	gVERSION_WIN10_RS1
 = 9,

43 
	gVERSION_WIN10_RS2
 = 10,

44 
	gVERSION_WIN10_RS3
 = 11,

45 
	gVERSION_WIN10_RS4
 = 12,

48 
	gVERSION_WIN_LAST
,

55 
	eV”siÚTy³
 {

56 
	gSUITE_HOME
 = 0,

57 
	gSUITE_PROFESSIONAL
,

58 
	gSUITE_SERVER
,

59 
	gSUITE_ENTERPRISE
,

60 
	gSUITE_EDUCATION
,

61 
	gSUITE_LAST
,

67 şas 
	cOSInfo
 {

68 
	gpublic
:

69 
	sV”siÚNumb”
 {

70 
majÜ
;

71 
	gmšÜ
;

72 
	gbud
;

73 
	g·tch
;

76 
	sS”viûPack
 {

77 
	gmajÜ
;

78 
	gmšÜ
;

86 
	eWšdowsArch™eùu»
 {

87 
	gX86_ARCHITECTURE
,

88 
	gX64_ARCHITECTURE
,

89 
	gIA64_ARCHITECTURE
,

90 
	gOTHER_ARCHITECTURE
,

98 
	eWOW64Stus
 {

99 
	gWOW64_DISABLED
,

100 
	gWOW64_ENABLED
,

101 
	gWOW64_UNKNOWN
,

104 
OSInfo
* 
G‘In¡ªû
();

106 
V”siÚ
 
v”siÚ
(ècÚ¡ {  
	gv”siÚ_
; }

107 
V”siÚNumb”
 
v”siÚ_numb”
(ècÚ¡ {  
	gv”siÚ_numb”_
; }

108 
V”siÚTy³
 
v”siÚ_ty³
(ècÚ¡ {  
	gv”siÚ_ty³_
; }

109 
S”viûPack
 
£rviû_·ck
(ècÚ¡ {  
	g£rviû_·ck_
; }

110 
	g¡d
::
¡ršg
 
£rviû_·ck_¡r
(ècÚ¡ {  
£rviû_·ck_¡r_
; }

111 
WšdowsArch™eùu»
 
¬ch™eùu»
(ècÚ¡ {  
	g¬ch™eùu»_
; }

112 
´oûssÜs
(ècÚ¡ {  
	g´oûssÜs_
; }

113 
size_t
 
®loÿtiÚ_g¿nuÏr™y
(ècÚ¡ {  
	g®loÿtiÚ_g¿nuÏr™y_
; }

114 
WOW64Stus
 
wow64_¡©us
(ècÚ¡ {  
	gwow64_¡©us_
; }

115 
	g¡d
::
¡ršg
 
´oûssÜ_mod–_Çme
();

119 
WOW64Stus
 
G‘WOW64StusFÜProûss
(
HANDLE
 
´oûss_hªdË
);

121 
	g´iv©e
:

122 
OSInfo
();

123 ~
OSInfo
();

125 
V”siÚ
 
	gv”siÚ_
;

126 
V”siÚNumb”
 
	gv”siÚ_numb”_
;

127 
V”siÚTy³
 
	gv”siÚ_ty³_
;

128 
S”viûPack
 
	g£rviû_·ck_
;

133 
	g¡d
::
¡ršg
 
£rviû_·ck_¡r_
;

134 
WšdowsArch™eùu»
 
	g¬ch™eùu»_
;

135 
	g´oûssÜs_
;

136 
size_t
 
	g®loÿtiÚ_g¿nuÏr™y_
;

137 
WOW64Stus
 
	gwow64_¡©us_
;

138 
	g¡d
::
¡ršg
 
´oûssÜ_mod–_Çme_
;

140 
RTC_DISALLOW_COPY_AND_ASSIGN
(
OSInfo
);

145 
V”siÚ
 
G‘V”siÚ
();

	@win/windows_version_unittest.cc

11 
	~"¹c_ba£/wš/wšdows_v”siÚ.h
"

13 
	~"¹c_ba£/gun™.h
"

14 
	~"¹c_ba£/loggšg.h
"

16 
Çme¥aû
 
	g¹c
 {

17 
Çme¥aû
 
	g¹c_wš
 {

18 
	gÇme¥aû
 {

20 
M‘hodSuµÜ‹dOnWš10AndL©”
() {

21 
RTC_DLOG
(
INFO
) << "MethodSupportedOnWin10AndLater";

24 
M‘hodNÙSuµÜ‹dOnWš10AndL©”
() {

25 
RTC_DLOG
(
INFO
) << "MethodNotSupportedOnWin10AndLater";

31 
TEST
(
WšdowsV”siÚ
, 
G‘V”siÚGlob®ScİeAcûssÜ
) {

32 ià(
G‘V”siÚ
(è< 
	gVERSION_WIN10
) {

33 
M‘hodNÙSuµÜ‹dOnWš10AndL©”
();

35 
M‘hodSuµÜ‹dOnWš10AndL©”
();

39 
TEST
(
WšdowsV”siÚ
, 
ProûssÜMod–Name
) {

40 
	g¡d
::
¡ršg
 
Çme
 = 
OSInfo
::
G‘In¡ªû
()->
´oûssÜ_mod–_Çme
();

41 
EXPECT_FALSE
(
Çme
.
em±y
());

42 
RTC_DLOG
(
INFO
è<< "´oûssÜ_mod–_Çme: " << 
	gÇme
;

	@win32.cc

11 
	~"¹c_ba£/wš32.h
"

13 
	~<wšsock2.h
>

14 
	~<ws2tı.h
>

16 
	~<®gÜ™hm
>

18 
	~"¹c_ba£/¬¿ysize.h
"

19 
	~"¹c_ba£/by‹_Üd”.h
"

20 
	~"¹c_ba£/checks.h
"

21 
	~"¹c_ba£/loggšg.h
"

22 
	~"¹c_ba£/¡ršg_uts.h
"

24 
Çme¥aû
 
	g¹c
 {

27 cÚ¡ * 
š‘_Áİ_v4
(cÚ¡ * 
¤c
, * 
d¡
, 
sockËn_t
 
size
);

28 cÚ¡ * 
š‘_Áİ_v6
(cÚ¡ * 
¤c
, * 
d¡
, 
sockËn_t
 
size
);

29 
š‘_±Ú_v4
(cÚ¡ * 
¤c
, * 
d¡
);

30 
š‘_±Ú_v6
(cÚ¡ * 
¤c
, * 
d¡
);

36 cÚ¡ * 
wš32_š‘_Áİ
(
af
,

37 cÚ¡ * 
¤c
,

38 * 
d¡
,

39 
sockËn_t
 
size
) {

40 ià(!
	g¤c
 || !
	gd¡
) {

41  
	gnuÎ±r
;

43 
	gaf
) {

44 
	gAF_INET
: {

45  
š‘_Áİ_v4
(
¤c
, 
d¡
, 
size
);

47 
	gAF_INET6
: {

48  
š‘_Áİ_v6
(
¤c
, 
d¡
, 
size
);

51  
	gnuÎ±r
;

56 
wš32_š‘_±Ú
(
af
, cÚ¡ * 
¤c
, * 
d¡
) {

57 ià(!
	g¤c
 || !
	gd¡
) {

60 ià(
	gaf
 =ğ
AF_INET
) {

61  
š‘_±Ú_v4
(
¤c
, 
d¡
);

62 } ià(
	gaf
 =ğ
AF_INET6
) {

63  
š‘_±Ú_v6
(
¤c
, 
d¡
);

70 cÚ¡ * 
š‘_Áİ_v4
(cÚ¡ * 
¤c
, * 
d¡
, 
sockËn_t
 
size
) {

71 ià(
	gsize
 < 
	gINET_ADDRSTRLEN
) {

72  
	gnuÎ±r
;

74 cÚ¡ 
š_addr
* 
	gas_š_addr
 =

75 
»š‹½»t_ÿ¡
<cÚ¡ 
š_addr
*>(
¤c
);

76 
¢´štf
(
d¡
, 
size
, "%d.%d.%d.%d", 
as_š_addr
->
S_un
.
S_un_b
.
s_b1
,

77 
as_š_addr
->
S_un
.
S_un_b
.
s_b2
,‡s_š_addr->S_un.S_un_b.
s_b3
,

78 
as_š_addr
->
S_un
.
S_un_b
.
s_b4
);

79  
	gd¡
;

83 cÚ¡ * 
š‘_Áİ_v6
(cÚ¡ * 
¤c
, * 
d¡
, 
sockËn_t
 
size
) {

84 ià(
	gsize
 < 
	gINET6_ADDRSTRLEN
) {

85  
	gnuÎ±r
;

87 cÚ¡ 
ušt16_t
* 
	gas_shÜts
 = 
»š‹½»t_ÿ¡
<cÚ¡ ušt16_t*>(
¤c
);

88 
	gruÅos
[8];

89 
	gcu¼’t
 = 1;

90 
	gmax
 = 0;

91 
	gmaxpos
 = -1;

92 
	grun_¬¿y_size
 = 
¬¿ysize
(
ruÅos
);

94 
	gi
 = 0; i < 
	grun_¬¿y_size
; ++i) {

95 ià(
	gas_shÜts
[
i
] == 0) {

96 
ruÅos
[
i
] = 
cu¼’t
;

97 ià(
	gcu¼’t
 > 
	gmax
) {

98 
	gmaxpos
 = 
i
;

99 
	gmax
 = 
cu¼’t
;

101 ++
	gcu¼’t
;

103 
	gruÅos
[
i
] = -1;

104 
	gcu¼’t
 = 1;

108 ià(
	gmax
 > 0) {

109 
	gtmpmax
 = 
maxpos
;

111 
	gi
 = 
run_¬¿y_size
 - 1; i >= 0; i--) {

112 ià(
	gi
 > 
	gtmpmax
) {

113 
	gruÅos
[
i
] = -1;

114 } ià(
	gruÅos
[
i
] == -1) {

117 
tmpmax
 = -1;

122 * 
	gcursÜ
 = 
d¡
;

126 ià(
	gruÅos
[0] == 1 &&

127 (
maxpos
 =ğ5 || (maxpo =ğ4 && 
as_shÜts
[5] == 0xFFFF))) {

128 *
cursÜ
++ = ':';

129 *
	gcursÜ
++ = ':';

130 ià(
	gmaxpos
 == 4) {

131 
cursÜ
 +ğ
¢´štf
(cursÜ, 
INET6_ADDRSTRLEN
 - 2, "ffff:");

133 cÚ¡ 
š_addr
* 
	gas_v4
 =

134 
»š‹½»t_ÿ¡
<cÚ¡ 
š_addr
*>(&(
as_shÜts
[6]));

135 
š‘_Áİ_v4
(
as_v4
, 
cursÜ
,

136 
¡©ic_ÿ¡
<
sockËn_t
>(
INET6_ADDRSTRLEN
 - (
cursÜ
 - 
d¡
)));

138 
	gi
 = 0; i < 
	grun_¬¿y_size
; ++i) {

139 ià(
	gruÅos
[
i
] == -1) {

140 
cursÜ
 +ğ
¢´štf
(cursÜ, 
INET6_ADDRSTRLEN
 - (cursÜ - 
d¡
), "%x",

141 
N‘wÜkToHo¡16
(
as_shÜts
[
i
]));

142 ià(
	gi
 !ğ7 && 
ruÅos
[
i
 + 1] != 1) {

143 *
cursÜ
++ = ':';

145 } ià(
	gruÅos
[
i
] == 1) {

147 *
cursÜ
++ = ':';

148 *
	gcursÜ
++ = ':';

149 
	gi
 +ğ(
max
 - 1);

153  
	gd¡
;

162 
š‘_±Ú_v4
(cÚ¡ * 
¤c
, * 
d¡
) {

163 cÚ¡ 
	gkIpv4Add»ssSize
 = 4;

164 
	gfound
 = 0;

165 cÚ¡ * 
	g¤c_pos
 = 
¤c
;

166 
	g»suÉ
[
kIpv4Add»ssSize
] = {0};

168 *
	g¤c_pos
 != '\0') {

171 ià(!
isdig™
(*
¤c_pos
)) {

174 * 
	g’d_pos
;

175 
	gv®ue
 = 
¡¹Ş
(
¤c_pos
, &
’d_pos
, 10);

176 ià(
	gv®ue
 < 0 || v®u> 255 || 
	g¤c_pos
 =ğ
’d_pos
) {

179 ++
	gfound
;

180 ià(
	gfound
 > 
	gkIpv4Add»ssSize
) {

183 
	g»suÉ
[
found
 - 1] = 
¡©ic_ÿ¡
<>(
v®ue
);

184 
	g¤c_pos
 = 
’d_pos
;

185 ià(*
	g¤c_pos
 == '.') {

187 ++
¤c_pos
;

188 } ià(*
	g¤c_pos
 != '\0') {

193 ià(
	gfound
 !ğ
kIpv4Add»ssSize
) {

196 
memıy
(
d¡
, 
»suÉ
, (result));

201 
š‘_±Ú_v6
(cÚ¡ * 
¤c
, * 
d¡
) {

204 cÚ¡ * 
	g»adcursÜ
 = 
¤c
;

205 
	gc
 = *
»adcursÜ
++;

206 
	gc
) {

207 ià(
	gc
 == 'x') {

210 
	gc
 = *
»adcursÜ
++;

212 
	g»adcursÜ
 = 
¤c
;

214 
š6_addr
 
	gª_addr
;

215 
mem£t
(&
ª_addr
, 0, (an_addr));

217 
ušt16_t
* 
	gaddr_cursÜ
 = 
»š‹½»t_ÿ¡
<ušt16_t*>(&
ª_addr
.
s6_addr
[0]);

218 
ušt16_t
* 
	gaddr_’d
 = 
»š‹½»t_ÿ¡
<ušt16_t*>(&
ª_addr
.
s6_addr
[16]);

219 
boŞ
 
	g£’com´es£d
 = 
çl£
;

224 ià(*
	g»adcursÜ
 =ğ':' && *(
»adcursÜ
 + 1) == ':' &&

225 *(
»adcursÜ
 + 2) != 0) {

227 cÚ¡ * 
addr¡¬t
 = 
»adcursÜ
 + 2;

228 ià(
¡rchr
(
addr¡¬t
, '.')) {

229 cÚ¡ * 
	gcŞÚ
 = 
¡rchr
(
addr¡¬t
, ':');

230 ià(
	gcŞÚ
) {

231 
ušt16_t
 
	ga_shÜt
;

232 
	gby‹¤—d
 = 0;

233 ià(
ssÿnf
(
addr¡¬t
, "%hx%n", &
a_shÜt
, &
by‹¤—d
) != 1 ||

234 
a_shÜt
 !ğ0xFFFF || 
by‹¤—d
 != 4) {

238 
	gª_addr
.
	gs6_addr
[10] = 0xFF;

239 
	gª_addr
.
	gs6_addr
[11] = 0xFF;

240 
	gaddr¡¬t
 = 
cŞÚ
 + 1;

243 
š_addr
 
	gv4
;

244 ià(
š‘_±Ú_v4
(
addr¡¬t
, &
v4
.
s_addr
)) {

245 
memıy
(&
ª_addr
.
s6_addr
[12], &
v4
, (v4));

246 
memıy
(
d¡
, &
ª_addr
, (an_addr));

256 *
	g»adcursÜ
 !ğ0 && 
addr_cursÜ
 < 
addr_’d
) {

257 ià(*
»adcursÜ
 == ':') {

258 ià(*(
»adcursÜ
 + 1) == ':') {

259 ià(
£’com´es£d
) {

265 
	g»adcursÜ
 += 2;

266 cÚ¡ * 
	gcŞÚcouÁ”
 = 
»adcursÜ
;

267 
	gcŞÚcouÁ
 = 0;

268 ià(*
	gcŞÚcouÁ”
 == 0) {

270 
addr_cursÜ
 = 
addr_’d
;

272 *
	gcŞÚcouÁ”
) {

273 ià(*
	gcŞÚcouÁ”
 == ':') {

274 ++
cŞÚcouÁ
;

276 ++
	gcŞÚcouÁ”
;

281 ià(
	gcŞÚcouÁ
 + 1 > 
	gaddr_’d
 - 
	gaddr_cursÜ
) {

284 
	gaddr_cursÜ
 = 
addr_’d
 - (
cŞÚcouÁ
 + 1);

285 
	g£’com´es£d
 = 
Œue
;

288 ++
	g»adcursÜ
;

291 
ušt16_t
 
	gwÜd
;

292 
	gby‹¤—d
 = 0;

293 ià(
ssÿnf
(
»adcursÜ
, "%4hx%n", &
wÜd
, &
by‹¤—d
) != 1) {

296 *
	gaddr_cursÜ
 = 
Ho¡ToN‘wÜk16
(
wÜd
);

297 ++
	gaddr_cursÜ
;

298 
	g»adcursÜ
 +ğ
by‹¤—d
;

299 ià(*
	g»adcursÜ
 !ğ':' && *
»adcursÜ
 != '\0') {

306 ià(*
	g»adcursÜ
 !ğ'\0' || 
addr_cursÜ
 < 
addr_’d
) {

310 
memıy
(
d¡
, &
ª_addr
, (an_addr));

319 #ià!
defšed
(
WINUWP
)

321 
boŞ
 
G‘OsV”siÚ
(* 
majÜ
, * 
mšÜ
, * 
bud
) {

322 
OSVERSIONINFO
 
	gšfo
 = {0};

323 
	gšfo
.
	gdwOSV”siÚInfoSize
 = (
šfo
);

324 ià(
G‘V”siÚEx
(&
šfo
)) {

325 ià(
	gmajÜ
)

326 *
	gmajÜ
 = 
šfo
.
dwMajÜV”siÚ
;

327 ià(
	gmšÜ
)

328 *
	gmšÜ
 = 
šfo
.
dwMšÜV”siÚ
;

329 ià(
	gbud
)

330 *
	gbud
 = 
šfo
.
dwBudNumb”
;

331  
	gŒue
;

333  
	gçl£
;

	@win32.h

11 #iâdeà
RTC_BASE_WIN32_H_


12 
	#RTC_BASE_WIN32_H_


	)

14 #iâdeà
WEBRTC_WIN


19 #iâdeà
NOMINMAX


20 
	#NOMINMAX


	)

25 
	~<wšsock2.h
>

26 
	~<wšdows.h
>

29 
	tsockËn_t
;

31 #iâdeà
SECURITY_MANDATORY_LABEL_AUTHORITY


33 
	#SECURITY_MANDATORY_MEDIUM_RID
 (0x00002000L)

	)

34 
	#Tok’IÁegr™yLev–
 
¡©ic_ÿ¡
<
TOKEN_INFORMATION_CLASS
>(0x19)

	)

35 
	s_TOKEN_MANDATORY_LABEL
 {

36 
SID_AND_ATTRIBUTES
 
	mLab–
;

37 } 
	tTOKEN_MANDATORY_LABEL
, *
	tPTOKEN_MANDATORY_LABEL
;

40 #undeà
S‘PÜt


42 
	~<¡ršg
>

44 
Çme¥aû
 
	g¹c
 {

46 cÚ¡ * 
wš32_š‘_Áİ
(
af
, cÚ¡ * 
¤c
, * 
d¡
, 
sockËn_t
 
size
);

47 
wš32_š‘_±Ú
(
af
, cÚ¡ * 
¤c
, * 
d¡
);

49 
	eWšdowsMajÜV”siÚs
 {

50 
	gkWšdows2000
 = 5,

51 
	gkWšdowsVi¡a
 = 6,

52 
	gkWšdows10
 = 10,

55 #ià!
defšed
(
WINUWP
)

56 
boŞ
 
G‘OsV”siÚ
(* 
majÜ
, * 
mšÜ
, * 
bud
);

58 
šlše
 
boŞ
 
IsWšdowsVi¡aOrL©”
() {

59 
	gmajÜ
;

60  (
G‘OsV”siÚ
(&
majÜ
, 
nuÎ±r
,‚uÎ±rè&& 
	gmajÜ
 >ğ
kWšdowsVi¡a
);

63 
šlše
 
boŞ
 
IsWšdowsXpOrL©”
() {

64 
	gmajÜ
, 
	gmšÜ
;

65  (
G‘OsV”siÚ
(&
majÜ
, &
mšÜ
, 
nuÎ±r
) &&

66 (
	gmajÜ
 >ğ
kWšdowsVi¡a
 || (
majÜ
 =ğ
kWšdows2000
 && 
mšÜ
 >= 1)));

69 
šlše
 
boŞ
 
IsWšdows8OrL©”
() {

70 
	gmajÜ
, 
	gmšÜ
;

71  (
G‘OsV”siÚ
(&
majÜ
, &
mšÜ
, 
nuÎ±r
) &&

72 (
	gmajÜ
 > 
	gkWšdowsVi¡a
 || (majÜ =ğ
kWšdowsVi¡a
 && 
mšÜ
 >= 2)));

75 
šlše
 
boŞ
 
IsWšdows10OrL©”
() {

76 
	gmajÜ
;

77  (
G‘OsV”siÚ
(&
majÜ
, 
nuÎ±r
,‚uÎ±rè&& (
	gmajÜ
 >ğ
kWšdows10
));

84 
šlše
 
boŞ
 
IsWšdowsVi¡aOrL©”
() {

85  
	gŒue
;

88 
šlše
 
boŞ
 
IsWšdowsXpOrL©”
() {

89  
	gŒue
;

92 
šlše
 
boŞ
 
IsWšdows8OrL©”
() {

93  
	gŒue
;

96 
šlše
 
boŞ
 
IsWšdows10OrL©”
() {

97  
	gŒue
;

	@win32_socket_init.h

11 #iâdeà
RTC_BASE_WIN32_SOCKET_INIT_H_


12 
	#RTC_BASE_WIN32_SOCKET_INIT_H_


	)

14 #iâdeà
WEBRTC_WIN


18 
	~"¹c_ba£/wš32.h
"

20 
Çme¥aû
 
	g¹c
 {

22 şas 
	cWšsockIn™Ÿliz”
 {

23 
	gpublic
:

24 
WšsockIn™Ÿliz”
() {

25 
WSADATA
 
w§D©a
;

26 
WORD
 
	gwV”siÚReque¡ed
 = 
MAKEWORD
(1, 0);

27 
	g”r_
 = 
WSAS¹up
(
wV”siÚReque¡ed
, &
w§D©a
);

29 ~
WšsockIn™Ÿliz”
() {

30 ià(!
	g”r_
)

31 
WSACËªup
();

33 
”rÜ
(è{  
	g”r_
; }

35 
	g´iv©e
:

36 
”r_
;

	@win32_socket_server.cc

11 
	~"¹c_ba£/wš32_sock‘_£rv”.h
"

13 
	~<ws2tı.h
>

15 
	~<®gÜ™hm
>

17 
	~"¹c_ba£/by‹_Üd”.h
"

18 
	~"¹c_ba£/checks.h
"

19 
	~"¹c_ba£/loggšg.h
"

20 
	~"¹c_ba£/time_uts.h
"

21 
	~"¹c_ba£/wš32_wšdow.h
"

23 
Çme¥aû
 
	g¹c
 {

30 #ià!
defšed
(
NDEBUG
)

31 
LPCSTR
 
WSAE¼ÜToSŒšg
(
”rÜ
, LPCSTR* 
desütiÚ_»suÉ
) {

32 
LPCSTR
 
	g¡ršg
 = "Unspecified";

33 
LPCSTR
 
	gdesütiÚ
 = "Unspecified description";

34 
	g”rÜ
) {

35 
	gERROR_SUCCESS
:

36 
¡ršg
 = "SUCCESS";

37 
	gdesütiÚ
 = "Operation succeeded";

39 
	gWSAEWOULDBLOCK
:

40 
¡ršg
 = "WSAEWOULDBLOCK";

41 
	gdesütiÚ
 = "Using‡‚on-blocking socket, will‚otify†ater";

43 
	gWSAEACCES
:

44 
¡ršg
 = "WSAEACCES";

45 
	gdesütiÚ
 = "Access denied, or sharing violation";

47 
	gWSAEADDRNOTAVAIL
:

48 
¡ršg
 = "WSAEADDRNOTAVAIL";

49 
	gdesütiÚ
 = "Address is‚ot valid inhis context";

51 
	gWSAENETDOWN
:

52 
¡ršg
 = "WSAENETDOWN";

53 
	gdesütiÚ
 = "Network is down";

55 
	gWSAENETUNREACH
:

56 
¡ršg
 = "WSAENETUNREACH";

57 
	gdesütiÚ
 = "Network is up, but unreachable";

59 
	gWSAENETRESET
:

60 
¡ršg
 = "WSANETRESET";

61 
	gdesütiÚ
 = "Connection has been„eset dueo keep-alive‡ctivity";

63 
	gWSAECONNABORTED
:

64 
¡ršg
 = "WSAECONNABORTED";

65 
	gdesütiÚ
 = "Aborted by host";

67 
	gWSAECONNRESET
:

68 
¡ršg
 = "WSAECONNRESET";

69 
	gdesütiÚ
 = "Connection„eset by host";

71 
	gWSAETIMEDOUT
:

72 
¡ršg
 = "WSAETIMEDOUT";

73 
	gdesütiÚ
 = "Timed out, host failedo„espond";

75 
	gWSAECONNREFUSED
:

76 
¡ršg
 = "WSAECONNREFUSED";

77 
	gdesütiÚ
 = "Host‡ctively„efused connection";

79 
	gWSAEHOSTDOWN
:

80 
¡ršg
 = "WSAEHOSTDOWN";

81 
	gdesütiÚ
 = "Host is down";

83 
	gWSAEHOSTUNREACH
:

84 
¡ršg
 = "WSAEHOSTUNREACH";

85 
	gdesütiÚ
 = "Host is unreachable";

87 
	gWSAHOST_NOT_FOUND
:

88 
¡ršg
 = "WSAHOST_NOT_FOUND";

89 
	gdesütiÚ
 = "No such host is known";

92 ià(
	gdesütiÚ_»suÉ
) {

93 *
	gdesütiÚ_»suÉ
 = 
desütiÚ
;

95  
	g¡ršg
;

98 
R•ÜtWSAE¼Ü
(
LPCSTR
 
cÚ‹xt
, 
”rÜ
, cÚ¡ 
Sock‘Add»ss
& 
add»ss
) {

99 
LPCSTR
 
	gdesütiÚ_¡ršg
;

100 
LPCSTR
 
	g”rÜ_¡ršg
 = 
WSAE¼ÜToSŒšg
(
”rÜ
, &
desütiÚ_¡ršg
);

101 
RTC_LOG
(
LS_INFO
è<< 
	gcÚ‹xt
 << " = " << 
	g”rÜ
 << " (" << 
	g”rÜ_¡ršg
 << ":"

102 << 
	gdesütiÚ_¡ršg
 << "è[" << 
	gadd»ss
.
ToSŒšg
() << "]";

105 
R•ÜtWSAE¼Ü
(
LPCSTR
 
cÚ‹xt
, 
”rÜ
, cÚ¡ 
Sock‘Add»ss
& 
add»ss
) {}

112 
	#WM_SOCKETNOTIFY
 (
WM_USER
 + 50)

	)

113 
	#WM_DNSNOTIFY
 (
WM_USER
 + 51)

	)

115 
	gWš32Sock‘
::
DnsLookup
 {

116 
HANDLE
 
hªdË
;

117 
ušt16_t
 
	gpÜt
;

118 
	gbufãr
[
MAXGETHOSTSTRUCT
];

121 şas 
	cWš32Sock‘
::
Ev’tSšk
 : 
public
 
Wš32Wšdow
 {

122 
public
:

123 
ex¶ic™
 
Ev’tSšk
(
Wš32Sock‘
* 
·»Á
è: 
·»Á_
(parent) {}

125 
Di¥o£
();

127 
boŞ
 
OnMes§ge
(
UINT
 
uMsg
,

128 
WPARAM
 
wP¬am
,

129 
LPARAM
 
lP¬am
,

130 
LRESULT
& 
»suÉ
è
	gov”ride
;

131 
OnNcDe¡roy
(è
	gov”ride
;

133 
	g´iv©e
:

134 
boŞ
 
OnSock‘NÙify
(
UINT
 
uMsg
, 
WPARAM
 
wP¬am
, 
LPARAM
 
lP¬am
, 
LRESULT
& 
»suÉ
);

135 
boŞ
 
OnDnsNÙify
(
WPARAM
 
wP¬am
, 
LPARAM
 
lP¬am
, 
LRESULT
& 
»suÉ
);

137 
Wš32Sock‘
* 
	g·»Á_
;

140 
	gWš32Sock‘
::
Ev’tSšk
::
	$Di¥o£
() {

141 
·»Á_
 = 
nuÎ±r
;

142 ià(::
	`IsWšdow
(
	`hªdË
())) {

143 ::
	`De¡royWšdow
(
	`hªdË
());

145 
d–‘e
 
this
;

147 
	}
}

149 
boŞ
 
	gWš32Sock‘
::
Ev’tSšk
::
	$OnMes§ge
(
UINT
 
uMsg
,

150 
WPARAM
 
wP¬am
,

151 
LPARAM
 
lP¬am
,

152 
LRESULT
& 
»suÉ
) {

153 
uMsg
) {

154 
WM_SOCKETNOTIFY
:

155 
WM_TIMER
:

156  
	`OnSock‘NÙify
(
uMsg
, 
wP¬am
, 
lP¬am
, 
»suÉ
);

157 
WM_DNSNOTIFY
:

158  
	`OnDnsNÙify
(
wP¬am
, 
lP¬am
, 
»suÉ
);

160  
çl£
;

161 
	}
}

163 
boŞ
 
	gWš32Sock‘
::
Ev’tSšk
::
	$OnSock‘NÙify
(
UINT
 
uMsg
,

164 
WPARAM
 
wP¬am
,

165 
LPARAM
 
lP¬am
,

166 
LRESULT
& 
»suÉ
) {

167 
»suÉ
 = 0;

169 
w§_ev’t
 = 
	`WSAGETSELECTEVENT
(
lP¬am
);

170 
w§_”rÜ
 = 
	`WSAGETSELECTERROR
(
lP¬am
);

173 ià(
uMsg
 =ğ
WM_TIMER
) {

174 
w§_ev’t
 = 
FD_CLOSE
;

175 
w§_”rÜ
 = 
WSAETIMEDOUT
;

178 ià(
·»Á_
)

179 
·»Á_
->
	`OnSock‘NÙify
(
¡©ic_ÿ¡
<
SOCKET
>(
wP¬am
), 
w§_ev’t
, 
w§_”rÜ
);

180  
Œue
;

181 
	}
}

183 
boŞ
 
	gWš32Sock‘
::
Ev’tSšk
::
	$OnDnsNÙify
(
WPARAM
 
wP¬am
,

184 
LPARAM
 
lP¬am
,

185 
LRESULT
& 
»suÉ
) {

186 
»suÉ
 = 0;

188 
”rÜ
 = 
	`WSAGETASYNCERROR
(
lP¬am
);

189 ià(
·»Á_
)

190 
·»Á_
->
	`OnDnsNÙify
(
»š‹½»t_ÿ¡
<
HANDLE
>(
wP¬am
), 
”rÜ
);

191  
Œue
;

192 
	}
}

194 
	gWš32Sock‘
::
Ev’tSšk
::
	$OnNcDe¡roy
() {

195 ià(
·»Á_
) {

196 
	`RTC_LOG
(
LS_ERROR
) << "EventSink hwnd is being destroyed, butheƒvent sink"

199 
d–‘e
 
this
;

201 
	}
}

207 
	gWš32Sock‘
::
	$Wš32Sock‘
()

208 : 
	`sock‘_
(
INVALID_SOCKET
),

209 
	`”rÜ_
(0),

210 
	`¡©e_
(
CS_CLOSED
),

211 
	`cÚÃù_time_
(0),

212 
	`şosšg_
(
çl£
),

213 
	`şo£_”rÜ_
(0),

214 
	`sšk_
(
nuÎ±r
),

215 
	$dns_
(
nuÎ±r
è{
	}
}

217 
	gWš32Sock‘
::~
	$Wš32Sock‘
() {

218 
	`Clo£
();

219 
	}
}

221 
boŞ
 
	gWš32Sock‘
::
	$C»©eT
(
çmy
, 
ty³
) {

222 
	`Clo£
();

223 
´Ùo
 = (
SOCK_DGRAM
 =ğ
ty³
è? 
IPPROTO_UDP
 : 
IPPROTO_TCP
;

224 
sock‘_
 = ::
	`WSASock‘
(
çmy
, 
ty³
, 
´Ùo
, 
nuÎ±r
, 0, 0);

225 ià(
sock‘_
 =ğ
INVALID_SOCKET
) {

226 
	`Upd©eLa¡E¼Ü
();

227  
çl£
;

229 ià((
SOCK_DGRAM
 =ğ
ty³
è&& !
	`S‘Async
(
FD_READ
 | 
FD_WRITE
)) {

230  
çl£
;

232  
Œue
;

233 
	}
}

235 
	gWš32Sock‘
::
	$A‰ach
(
SOCKET
 
s
) {

236 
	`RTC_DCHECK
(
sock‘_
 =ğ
INVALID_SOCKET
);

237 ià(
sock‘_
 !ğ
INVALID_SOCKET
)

238  
SOCKET_ERROR
;

240 
	`RTC_DCHECK
(
s
 !ğ
INVALID_SOCKET
);

241 ià(
s
 =ğ
INVALID_SOCKET
)

242  
SOCKET_ERROR
;

244 
sock‘_
 = 
s
;

245 
¡©e_
 = 
CS_CONNECTED
;

247 ià(!
	`S‘Async
(
FD_READ
 | 
FD_WRITE
 | 
FD_CLOSE
))

248  
SOCKET_ERROR
;

251 
	}
}

253 
	gWš32Sock‘
::
	$S‘Timeout
(
ms
) {

254 ià(
sšk_
)

255 ::
	`S‘Tim”
(
sšk_
->
	`hªdË
(), 1, 
ms
, 0);

256 
	}
}

258 
Sock‘Add»ss
 
	gWš32Sock‘
::
	$G‘LoÿlAdd»ss
() const {

259 
sockaddr_¡Üage
 
addr
 = {0};

260 
sockËn_t
 
add¾’
 = (
addr
);

261 
»suÉ
 =

262 ::
	`g‘sockÇme
(
sock‘_
, 
»š‹½»t_ÿ¡
<
sockaddr
*>(&
addr
), &
add¾’
);

263 
Sock‘Add»ss
 
add»ss
;

264 ià(
»suÉ
 >= 0) {

265 
	`Sock‘Add»ssFromSockAddrStÜage
(
addr
, &
add»ss
);

267 
	`RTC_LOG
(
LS_WARNING
) << "GetLocalAddress: unableo get†ocal‡ddr, socket="

268 << 
sock‘_
;

270  
add»ss
;

271 
	}
}

273 
Sock‘Add»ss
 
	gWš32Sock‘
::
	$G‘RemÙeAdd»ss
() const {

274 
sockaddr_¡Üage
 
addr
 = {0};

275 
sockËn_t
 
add¾’
 = (
addr
);

276 
»suÉ
 =

277 ::
	`g‘³”Çme
(
sock‘_
, 
»š‹½»t_ÿ¡
<
sockaddr
*>(&
addr
), &
add¾’
);

278 
Sock‘Add»ss
 
add»ss
;

279 ià(
»suÉ
 >= 0) {

280 
	`Sock‘Add»ssFromSockAddrStÜage
(
addr
, &
add»ss
);

282 
	`RTC_LOG
(
LS_WARNING
)

283 << "G‘RemÙeAdd»ss: uÇbËØg‘„emÙaddr, sock‘=" << 
sock‘_
;

285  
add»ss
;

286 
	}
}

288 
	gWš32Sock‘
::
	$Bšd
(cÚ¡ 
Sock‘Add»ss
& 
addr
) {

289 
	`RTC_DCHECK
(
sock‘_
 !ğ
INVALID_SOCKET
);

290 ià(
sock‘_
 =ğ
INVALID_SOCKET
)

291  
SOCKET_ERROR
;

293 
sockaddr_¡Üage
 
§ddr
;

294 
size_t
 
Ën
 = 
addr
.
	`ToSockAddrStÜage
(&
§ddr
);

295 
”r
 = ::
	`bšd
(
sock‘_
, 
»š‹½»t_ÿ¡
<
sockaddr
*>(&
§ddr
),

296 
¡©ic_ÿ¡
<>(
Ën
));

297 
	`Upd©eLa¡E¼Ü
();

298  
”r
;

299 
	}
}

301 
	gWš32Sock‘
::
	$CÚÃù
(cÚ¡ 
Sock‘Add»ss
& 
addr
) {

302 ià(
¡©e_
 !ğ
CS_CLOSED
) {

303 
	`S‘E¼Ü
(
EALREADY
);

304  
SOCKET_ERROR
;

307 ià(!
addr
.
	`IsUÄesŞvedIP
()) {

308  
	`DoCÚÃù
(
addr
);

311 
	`RTC_LOG_F
(
LS_INFO
è<< "asynødn looku°(" << 
addr
.
	`ho¡Çme
() << ")";

312 
DnsLookup
* 
dns
 = 
Ãw
 DnsLookup;

313 ià(!
sšk_
) {

316 
	`C»©eSšk
();

319 
dns
->
hªdË
 = 
	`WSAAsyncG‘Ho¡ByName
(
sšk_
->
	`hªdË
(), 
WM_DNSNOTIFY
,

320 
addr
.
	`ho¡Çme
().
	`c_¡r
(), 
dns
->
bufãr
,

321 (
dns
->
bufãr
));

323 ià(!
dns
->
hªdË
) {

324 
	`RTC_LOG_F
(
LS_ERROR
è<< "WSAAsyncG‘Ho¡ByNam”rÜ: " << 
	`WSAG‘La¡E¼Ü
();

325 
d–‘e
 
dns
;

326 
	`Upd©eLa¡E¼Ü
();

327 
	`Clo£
();

328  
SOCKET_ERROR
;

331 
dns
->
pÜt
 = 
addr
.
	`pÜt
();

332 
dns_
 = 
dns
;

333 
¡©e_
 = 
CS_CONNECTING
;

335 
	}
}

337 
	gWš32Sock‘
::
	$DoCÚÃù
(cÚ¡ 
Sock‘Add»ss
& 
addr
) {

338 ià((
sock‘_
 =ğ
INVALID_SOCKET
è&& !
	`C»©eT
(
addr
.
	`çmy
(), 
SOCK_STREAM
)) {

339  
SOCKET_ERROR
;

341 ià(!
	`S‘Async
(
FD_READ
 | 
FD_WRITE
 | 
FD_CONNECT
 | 
FD_CLOSE
)) {

342  
SOCKET_ERROR
;

345 
sockaddr_¡Üage
 
§ddr
 = {0};

346 
size_t
 
Ën
 = 
addr
.
	`ToSockAddrStÜage
(&
§ddr
);

347 
cÚÃù_time_
 = 
	`Time
();

348 
»suÉ
 = 
	`cÚÃù
(
sock‘_
, 
»š‹½»t_ÿ¡
<
SOCKADDR
*>(&
§ddr
),

349 
¡©ic_ÿ¡
<>(
Ën
));

350 ià(
»suÉ
 !ğ
SOCKET_ERROR
) {

351 
¡©e_
 = 
CS_CONNECTED
;

353 
code
 = 
	`WSAG‘La¡E¼Ü
();

354 ià(
code
 =ğ
WSAEWOULDBLOCK
) {

355 
¡©e_
 = 
CS_CONNECTING
;

357 
	`R•ÜtWSAE¼Ü
("WSAAsync:cÚÃù", 
code
, 
addr
);

358 
”rÜ_
 = 
code
;

359 
	`Clo£
();

360  
SOCKET_ERROR
;

363 
addr_
 = 
addr
;

366 
	}
}

368 
	gWš32Sock‘
::
	$G‘E¼Ü
() const {

369  
”rÜ_
;

370 
	}
}

372 
	gWš32Sock‘
::
	$S‘E¼Ü
(
”rÜ
) {

373 
”rÜ_
 = 
”rÜ
;

374 
	}
}

376 
	gSock‘
::
CÚnS‹
 
Wš32Sock‘
::
	$G‘S‹
() const {

377  
¡©e_
;

378 
	}
}

380 
	gWš32Sock‘
::
	$G‘O±iÚ
(
O±iÚ
 
İt
, * 
v®ue
) {

381 
¦ev–
;

382 
sİt
;

383 ià(
	`T¿n¦©eO±iÚ
(
İt
, &
¦ev–
, &
sİt
) == -1)

386 * 
p
 = 
»š‹½»t_ÿ¡
<*>(
v®ue
);

387 
İ’
 = (
v®ue
);

388  ::
	`g‘sockİt
(
sock‘_
, 
¦ev–
, 
sİt
, 
p
, &
İ’
);

389 
	}
}

391 
	gWš32Sock‘
::
	$S‘O±iÚ
(
O±iÚ
 
İt
, 
v®ue
) {

392 
¦ev–
;

393 
sİt
;

394 ià(
	`T¿n¦©eO±iÚ
(
İt
, &
¦ev–
, &
sİt
) == -1)

397 cÚ¡ * 
p
 = 
»š‹½»t_ÿ¡
<cÚ¡ *>(&
v®ue
);

398  ::
	`£tsockİt
(
sock‘_
, 
¦ev–
, 
sİt
, 
p
, (
v®ue
));

399 
	}
}

401 
	gWš32Sock‘
::
	$S’d
(cÚ¡ * 
bufãr
, 
size_t
 
Ëngth
) {

402 
£Á
 = ::
	`£nd
(
sock‘_
, 
»š‹½»t_ÿ¡
<cÚ¡ *>(
bufãr
),

403 
¡©ic_ÿ¡
<>(
Ëngth
), 0);

404 
	`Upd©eLa¡E¼Ü
();

405  
£Á
;

406 
	}
}

408 
	gWš32Sock‘
::
	$S’dTo
(cÚ¡ * 
bufãr
,

409 
size_t
 
Ëngth
,

410 cÚ¡ 
Sock‘Add»ss
& 
addr
) {

411 
sockaddr_¡Üage
 
§ddr
;

412 
size_t
 
addr_Ën
 = 
addr
.
	`ToSockAddrStÜage
(&
§ddr
);

413 
£Á
 = ::
	`£ndto
(

414 
sock‘_
, 
»š‹½»t_ÿ¡
<cÚ¡ *>(
bufãr
), 
¡©ic_ÿ¡
<>(
Ëngth
),

415 0, 
»š‹½»t_ÿ¡
<
sockaddr
*>(&
§ddr
), 
¡©ic_ÿ¡
<>(
addr_Ën
));

416 
	`Upd©eLa¡E¼Ü
();

417  
£Á
;

418 
	}
}

420 
	gWš32Sock‘
::
	$Recv
(* 
bufãr
, 
size_t
 
Ëngth
, 
št64_t
* 
time¡amp
) {

421 ià(
time¡amp
) {

422 *
time¡amp
 = -1;

424 
»ûived
 =

425 ::
	`»cv
(
sock‘_
, 
¡©ic_ÿ¡
<*>(
bufãr
), stic_ÿ¡<>(
Ëngth
), 0);

426 
	`Upd©eLa¡E¼Ü
();

427 ià(
şosšg_
 && 
»ûived
 <ğ
¡©ic_ÿ¡
<>(
Ëngth
))

428 
	`Po¡Clo£d
();

429  
»ûived
;

430 
	}
}

432 
	gWš32Sock‘
::
	$RecvFrom
(* 
bufãr
,

433 
size_t
 
Ëngth
,

434 
Sock‘Add»ss
* 
out_addr
,

435 
št64_t
* 
time¡amp
) {

436 ià(
time¡amp
) {

437 *
time¡amp
 = -1;

439 
sockaddr_¡Üage
 
§ddr
;

440 
sockËn_t
 
addr_Ën
 = (
§ddr
);

441 
»ûived
 =

442 ::
	`»cväom
(
sock‘_
, 
¡©ic_ÿ¡
<*>(
bufãr
), stic_ÿ¡<>(
Ëngth
),

443 0, 
»š‹½»t_ÿ¡
<
sockaddr
*>(&
§ddr
), &
addr_Ën
);

444 
	`Upd©eLa¡E¼Ü
();

445 ià(
»ûived
 !ğ
SOCKET_ERROR
)

446 
	`Sock‘Add»ssFromSockAddrStÜage
(
§ddr
, 
out_addr
);

447 ià(
şosšg_
 && 
»ûived
 <ğ
¡©ic_ÿ¡
<>(
Ëngth
))

448 
	`Po¡Clo£d
();

449  
»ûived
;

450 
	}
}

452 
	gWš32Sock‘
::
	$Li¡’
(
backlog
) {

453 
”r
 = ::
	`li¡’
(
sock‘_
, 
backlog
);

454 ià(!
	`S‘Async
(
FD_ACCEPT
))

455  
SOCKET_ERROR
;

457 
	`Upd©eLa¡E¼Ü
();

458 ià(
”r
 == 0)

459 
¡©e_
 = 
CS_CONNECTING
;

460  
”r
;

461 
	}
}

463 
Wš32Sock‘
* 
	gWš32Sock‘
::
	$Acû±
(
Sock‘Add»ss
* 
out_addr
) {

464 
sockaddr_¡Üage
 
§ddr
;

465 
sockËn_t
 
addr_Ën
 = (
§ddr
);

466 
SOCKET
 
s
 = ::
	`acû±
(
sock‘_
, 
»š‹½»t_ÿ¡
<
sockaddr
*>(&
§ddr
), &
addr_Ën
);

467 
	`Upd©eLa¡E¼Ü
();

468 ià(
s
 =ğ
INVALID_SOCKET
)

469  
nuÎ±r
;

470 ià(
out_addr
)

471 
	`Sock‘Add»ssFromSockAddrStÜage
(
§ddr
, 
out_addr
);

472 
Wš32Sock‘
* 
sock‘
 = 
Ãw
 Win32Socket;

473 ià(0 =ğ
sock‘
->
	`A‰ach
(
s
))

474  
sock‘
;

475 
d–‘e
 
sock‘
;

476  
nuÎ±r
;

477 
	}
}

479 
	gWš32Sock‘
::
	$Clo£
() {

480 
”r
 = 0;

481 ià(
sock‘_
 !ğ
INVALID_SOCKET
) {

482 
”r
 = ::
	`şo£sock‘
(
sock‘_
);

483 
sock‘_
 = 
INVALID_SOCKET
;

484 
şosšg_
 = 
çl£
;

485 
şo£_”rÜ_
 = 0;

486 
	`Upd©eLa¡E¼Ü
();

488 ià(
dns_
) {

489 
	`WSACªûlAsyncReque¡
(
dns_
->
hªdË
);

490 
d–‘e
 
dns_
;

491 
dns_
 = 
nuÎ±r
;

493 ià(
sšk_
) {

494 
sšk_
->
	`Di¥o£
();

495 
sšk_
 = 
nuÎ±r
;

497 
addr_
.
	`CË¬
();

498 
¡©e_
 = 
CS_CLOSED
;

499  
”r
;

500 
	}
}

502 
	gWš32Sock‘
::
	$C»©eSšk
() {

503 
	`RTC_DCHECK
(
nuÎ±r
 =ğ
sšk_
);

506 
sšk_
 = 
Ãw
 
	`Ev’tSšk
(
this
);

507 
sšk_
->
	`C»©e
(
nuÎ±r
, 
L
"EventSink", 0, 0, 0, 0, 10, 10);

508 
	}
}

510 
boŞ
 
	gWš32Sock‘
::
	$S‘Async
(
ev’ts
) {

511 ià(
nuÎ±r
 =ğ
sšk_
) {

512 
	`C»©eSšk
();

513 
	`RTC_DCHECK
(
nuÎ±r
 !ğ
sšk_
);

517 ià(
	`WSAAsyncS–eù
(
sock‘_
, 
sšk_
->
	`hªdË
(), 
WM_SOCKETNOTIFY
, 
ev’ts
) ==

518 
SOCKET_ERROR
) {

519 
	`Upd©eLa¡E¼Ü
();

520 
	`Clo£
();

521  
çl£
;

524  
Œue
;

525 
	}
}

527 
boŞ
 
	gWš32Sock‘
::
	$HªdËClo£d
(
şo£_”rÜ
) {

530 
ch
;

531 
şosšg_
 = 
Œue
;

532 
şo£_”rÜ_
 = 
şo£_”rÜ
;

533  (::
	`»cv
(
sock‘_
, &
ch
, 1, 
MSG_PEEK
) <= 0);

534 
	}
}

536 
	gWš32Sock‘
::
	$Po¡Clo£d
() {

538 
şosšg_
 = 
çl£
;

539 ::
	`Po¡Mes§ge
(
sšk_
->
	`hªdË
(), 
WM_SOCKETNOTIFY
, 
sock‘_
,

540 
	`WSAMAKESELECTREPLY
(
FD_CLOSE
, 
şo£_”rÜ_
));

541 
	}
}

543 
	gWš32Sock‘
::
	$Upd©eLa¡E¼Ü
() {

544 
”rÜ_
 = 
	`WSAG‘La¡E¼Ü
();

545 
	}
}

547 
	gWš32Sock‘
::
	$T¿n¦©eO±iÚ
(
O±iÚ
 
İt
, * 
¦ev–
, * 
sİt
) {

548 
İt
) {

549 
OPT_DONTFRAGMENT
:

550 *
¦ev–
 = 
IPPROTO_IP
;

551 *
sİt
 = 
IP_DONTFRAGMENT
;

553 
OPT_RCVBUF
:

554 *
¦ev–
 = 
SOL_SOCKET
;

555 *
sİt
 = 
SO_RCVBUF
;

557 
OPT_SNDBUF
:

558 *
¦ev–
 = 
SOL_SOCKET
;

559 *
sİt
 = 
SO_SNDBUF
;

561 
OPT_NODELAY
:

562 *
¦ev–
 = 
IPPROTO_TCP
;

563 *
sİt
 = 
TCP_NODELAY
;

565 
OPT_DSCP
:

566 
	`RTC_LOG
(
LS_WARNING
) << "Socket::OPT_DSCP‚ot supported.";

569 
	`RTC_NOTREACHED
();

573 
	}
}

575 
	gWš32Sock‘
::
	$OnSock‘NÙify
(
SOCKET
 
sock‘
, 
ev’t
, 
”rÜ
) {

577 ià(
sock‘
 !ğ
sock‘_
)

580 
”rÜ_
 = 
”rÜ
;

581 
ev’t
) {

582 
FD_CONNECT
:

583 ià(
”rÜ
 !ğ
ERROR_SUCCESS
) {

584 
	`R•ÜtWSAE¼Ü
("WSAAsync:cÚÃù‚Ùify", 
”rÜ
, 
addr_
);

585 #ià!
	`defšed
(
NDEBUG
)

586 
št64_t
 
du¿tiÚ
 = 
	`TimeSšû
(
cÚÃù_time_
);

587 
	`RTC_LOG
(
LS_INFO
è<< "WSAAsync:cÚÃùƒ¼Ü (" << 
du¿tiÚ


590 
¡©e_
 = 
CS_CLOSED
;

596 
	`SigÇlClo£Ev’t
(
this
, 
”rÜ
);

598 #ià!
	`defšed
(
NDEBUG
)

599 
št64_t
 
du¿tiÚ
 = 
	`TimeSšû
(
cÚÃù_time_
);

600 
	`RTC_LOG
(
LS_INFO
è<< "WSAAsync:cÚÃù (" << 
du¿tiÚ
 << " ms)";

602 
¡©e_
 = 
CS_CONNECTED
;

603 
	`SigÇlCÚÃùEv’t
(
this
);

607 
FD_ACCEPT
:

608 
FD_READ
:

609 ià(
”rÜ
 !ğ
ERROR_SUCCESS
) {

610 
	`R•ÜtWSAE¼Ü
("WSAAsync:»ad‚Ùify", 
”rÜ
, 
addr_
);

612 
	`SigÇlR—dEv’t
(
this
);

616 
FD_WRITE
:

617 ià(
”rÜ
 !ğ
ERROR_SUCCESS
) {

618 
	`R•ÜtWSAE¼Ü
("WSAAsync:wr™nÙify", 
”rÜ
, 
addr_
);

620 
	`SigÇlWr™eEv’t
(
this
);

624 
FD_CLOSE
:

625 ià(
	`HªdËClo£d
(
”rÜ
)) {

626 
	`R•ÜtWSAE¼Ü
("WSAAsync:şo£‚Ùify", 
”rÜ
, 
addr_
);

627 
¡©e_
 = 
CS_CLOSED
;

628 
	`SigÇlClo£Ev’t
(
this
, 
”rÜ
);

632 
	}
}

634 
	gWš32Sock‘
::
	$OnDnsNÙify
(
HANDLE
 
sk
, 
”rÜ
) {

635 ià(!
dns_
 || dns_->
hªdË
 !ğ
sk
)

638 
ušt32_t
 

 = 0;

639 ià(
”rÜ
 == 0) {

640 
ho¡’t
* 
pHo¡
 = 
»š‹½»t_ÿ¡
<ho¡’t*>(
dns_
->
bufãr
);

641 
ušt32_t
 
Ãt_
 = *
»š‹½»t_ÿ¡
<ušt32_t*>(
pHo¡
->
h_addr_li¡
[0]);

642 

 = 
	`N‘wÜkToHo¡32
(
Ãt_
);

645 
	`RTC_LOG_F
(
LS_INFO
è<< "(" << 
	`IPAdd»ss
(

).
	`ToS’s™iveSŒšg
() << ", "

646 << 
”rÜ
 << ")";

648 ià(
”rÜ
 == 0) {

649 
Sock‘Add»ss
 
	`add»ss
(

, 
dns_
->
pÜt
);

650 
”rÜ
 = 
	`DoCÚÃù
(
add»ss
);

652 
	`Clo£
();

655 ià(
”rÜ
) {

656 
”rÜ_
 = 
”rÜ
;

657 
	`SigÇlClo£Ev’t
(
this
, 
”rÜ_
);

659 
d–‘e
 
dns_
;

660 
dns_
 = 
nuÎ±r
;

662 
	}
}

669 
UINT
 
	gs_wm_wakeup_id
 = 0;

670 cÚ¡ 
wch¬_t
 
	gWš32Sock‘S”v”
::
kWšdowName
[] = 
L
"libjingle Message Window";

672 
	gWš32Sock‘S”v”
::
	$Wš32Sock‘S”v”
()

673 : 
	`wnd_
(
this
), 
	`po¡ed_
(
çl£
), 
	$hdlg_
(
nuÎ±r
) {

674 ià(
s_wm_wakeup_id
 == 0)

675 
s_wm_wakeup_id
 = 
	`Regi¡”WšdowMes§geW
(
L
"WM_WAKEUP");

676 ià(!
wnd_
.
	`C»©e
(
nuÎ±r
, 
kWšdowName
, 0, 0, 0, 0, 0, 0)) {

677 
	`RTC_LOG_GLE
(
LS_ERROR
) << "Failedo create message window.";

679 
	}
}

681 
	gWš32Sock‘S”v”
::~
	$Wš32Sock‘S”v”
() {

682 ià(
wnd_
.
	`hªdË
(è!ğ
nuÎ±r
) {

683 
	`KlTim”
(
wnd_
.
	`hªdË
(), 1);

684 
wnd_
.
	`De¡roy
();

686 
	}
}

688 
Sock‘
* 
	gWš32Sock‘S”v”
::
	$C»©eSock‘
(
çmy
, 
ty³
) {

689  
	`C»©eAsyncSock‘
(
çmy
, 
ty³
);

690 
	}
}

692 
AsyncSock‘
* 
	gWš32Sock‘S”v”
::
	$C»©eAsyncSock‘
(
çmy
, 
ty³
) {

693 
Wš32Sock‘
* 
sock‘
 = 
Ãw
 Win32Socket;

694 ià(
sock‘
->
	`C»©eT
(
çmy
, 
ty³
)) {

695  
sock‘
;

697 
d–‘e
 
sock‘
;

698  
nuÎ±r
;

699 
	}
}

701 
	gWš32Sock‘S”v”
::
	$S‘Mes§geQueue
(
Th»ad
* 
queue
) {

702 
mes§ge_queue_
 = 
queue
;

703 
	}
}

705 
boŞ
 
	gWš32Sock‘S”v”
::
	$Wa™
(
cms
, 
boŞ
 
´oûss_io
) {

706 
BOOL
 
b
;

707 ià(
´oûss_io
) {

710 
ušt32_t
 
¡¬t
 = 
	`Time
();

712 
MSG
 
msg
;

713 
	`S‘Tim”
(
wnd_
.
	`hªdË
(), 0, 
cms
, 
nuÎ±r
);

718 
b
 = 
	`G‘Mes§ge
(&
msg
, 
nuÎ±r
, 0, 0);

719 ià(
b
 == -1) {

720 
	`RTC_LOG_GLE
(
LS_ERROR
) << "GetMessage failed.";

721  
çl£
;

722 } ià(
b
) {

723 ià(!
hdlg_
 || !
	`IsDŸlogMes§ge
(hdlg_, &
msg
)) {

724 
	`T¿n¦©eMes§ge
(&
msg
);

725 
	`Di¥©chMes§ge
(&
msg
);

728 
	`KlTim”
(
wnd_
.
	`hªdË
(), 0);

729 } 
b
 && 
	`TimeSšû
(
¡¬t
è< 
cms
);

730 } ià(
cms
 != 0) {

732 
	`RTC_DCHECK
(
cms
 == -1);

733 
MSG
 
msg
;

734 
b
 = 
	`G‘Mes§ge
(&
msg
, 
nuÎ±r
, 
s_wm_wakeup_id
, s_wm_wakeup_id);

736 
Cr™Scİe
 
	`scİe
(&
cs_
);

737 
po¡ed_
 = 
çl£
;

741 
b
 = 
TRUE
;

743  (
b
 !ğ
FALSE
);

744 
	}
}

746 
	gWš32Sock‘S”v”
::
	$WakeUp
() {

747 ià(
wnd_
.
	`hªdË
()) {

750 
Cr™Scİe
 
	`scİe
(&
cs_
);

751 ià(
po¡ed_
)

753 
po¡ed_
 = 
Œue
;

756 
	`Po¡Mes§ge
(
wnd_
.
	`hªdË
(), 
s_wm_wakeup_id
, 0, 0);

758 
	}
}

760 
	gWš32Sock‘S”v”
::
	$Pump
() {

763 
Cr™Scİe
 
	`scİe
(&
cs_
);

764 
po¡ed_
 = 
çl£
;

771 
Mes§ge
 
msg
;

772 
size_t
 
max_mes§ges_to_´oûss
 =

773 
¡d
::
max
<
size_t
>(1, 
mes§ge_queue_
->
	`size
());

774 
max_mes§ges_to_´oûss
 > 0 && 
mes§ge_queue_
->
	`G‘
(&
msg
, 0, 
çl£
);

775 --
max_mes§ges_to_´oûss
) {

776 
mes§ge_queue_
->
	`Di¥©ch
(&
msg
);

780 
d–ay
 = 
mes§ge_queue_
->
	`G‘D–ay
();

781 ià(
d–ay
 == -1) {

782 
	`KlTim”
(
wnd_
.
	`hªdË
(), 1);

784 
	`S‘Tim”
(
wnd_
.
	`hªdË
(), 1, 
d–ay
, 
nuÎ±r
);

786 
	}
}

788 
boŞ
 
	gWš32Sock‘S”v”
::
Mes§geWšdow
::
	$OnMes§ge
(
UINT
 
wm
,

789 
WPARAM
 
wp
,

790 
LPARAM
 
Í
,

791 
LRESULT
& 
Ì
) {

792 
boŞ
 
hªdËd
 = 
çl£
;

793 ià(
wm
 =ğ
s_wm_wakeup_id
 || (wm =ğ
WM_TIMER
 && 
wp
 == 1)) {

794 
ss_
->
	`Pump
();

795 
Ì
 = 0;

796 
hªdËd
 = 
Œue
;

798  
hªdËd
;

799 
	}
}

801 
	gWš32Th»ad
::
	$Wš32Th»ad
(
Sock‘S”v”
* 
ss
è: 
	`Th»ad
(ss), 
	$id_
(0è{
	}
}

803 
	gWš32Th»ad
::~
	$Wš32Th»ad
() {

804 
	`Stİ
();

805 
	}
}

807 
	gWš32Th»ad
::
	$Run
() {

808 
id_
 = 
	`G‘Cu¼’tTh»adId
();

809 
Th»ad
::
	`Run
();

810 
id_
 = 0;

811 
	}
}

813 
	gWš32Th»ad
::
	$Qu™
() {

814 
	`Po¡Th»adMes§ge
(
id_
, 
WM_QUIT
, 0, 0);

815 
	}
}

	@win32_socket_server.h

11 #iâdeà
RTC_BASE_WIN32_SOCKET_SERVER_H_


12 
	#RTC_BASE_WIN32_SOCKET_SERVER_H_


	)

14 #ià
defšed
(
WEBRTC_WIN
)

15 
	~"¹c_ba£/async_sock‘.h
"

16 
	~"¹c_ba£/ü™iÿl_£ùiÚ.h
"

17 
	~"¹c_ba£/sock‘.h
"

18 
	~"¹c_ba£/sock‘_çùÜy.h
"

19 
	~"¹c_ba£/sock‘_£rv”.h
"

20 
	~"¹c_ba£/th»ad.h
"

21 
	~"¹c_ba£/wš32_wšdow.h
"

23 
Çme¥aû
 
	g¹c
 {

29 şas 
	cWš32Sock‘
 : 
public
 
AsyncSock‘
 {

30 
public
:

31 
Wš32Sock‘
();

32 ~
Wš32Sock‘
(è
	gov”ride
;

34 
boŞ
 
C»©eT
(
çmy
, 
ty³
);

36 
A‰ach
(
SOCKET
 
s
);

37 
S‘Timeout
(
ms
);

40 
Sock‘Add»ss
 
G‘LoÿlAdd»ss
(ècÚ¡ 
	gov”ride
;

41 
Sock‘Add»ss
 
G‘RemÙeAdd»ss
(ècÚ¡ 
	gov”ride
;

42 
Bšd
(cÚ¡ 
Sock‘Add»ss
& 
addr
è
	gov”ride
;

43 
CÚÃù
(cÚ¡ 
Sock‘Add»ss
& 
addr
è
	gov”ride
;

44 
S’d
(cÚ¡ * 
bufãr
, 
size_t
 
Ëngth
è
	gov”ride
;

45 
S’dTo
(cÚ¡ * 
bufãr
,

46 
size_t
 
Ëngth
,

47 cÚ¡ 
Sock‘Add»ss
& 
addr
è
	gov”ride
;

48 
Recv
(* 
bufãr
, 
size_t
 
Ëngth
, 
št64_t
* 
time¡amp
è
	gov”ride
;

49 
RecvFrom
(* 
bufãr
,

50 
size_t
 
Ëngth
,

51 
Sock‘Add»ss
* 
out_addr
,

52 
št64_t
* 
time¡amp
è
	gov”ride
;

53 
Li¡’
(
backlog
è
	gov”ride
;

54 
Wš32Sock‘
* 
Acû±
(
Sock‘Add»ss
* 
out_addr
è
	gov”ride
;

55 
Clo£
(è
	gov”ride
;

56 
G‘E¼Ü
(ècÚ¡ 
	gov”ride
;

57 
S‘E¼Ü
(
”rÜ
è
	gov”ride
;

58 
CÚnS‹
 
G‘S‹
(ècÚ¡ 
	gov”ride
;

59 
G‘O±iÚ
(
O±iÚ
 
İt
, * 
v®ue
è
	gov”ride
;

60 
S‘O±iÚ
(
O±iÚ
 
İt
, 
v®ue
è
	gov”ride
;

62 
	g´iv©e
:

63 
C»©eSšk
();

64 
boŞ
 
S‘Async
(
ev’ts
);

65 
DoCÚÃù
(cÚ¡ 
Sock‘Add»ss
& 
addr
);

66 
boŞ
 
HªdËClo£d
(
şo£_”rÜ
);

67 
Po¡Clo£d
();

68 
Upd©eLa¡E¼Ü
();

69 
T¿n¦©eO±iÚ
(
O±iÚ
 
İt
, * 
¦ev–
, * 
sİt
);

71 
OnSock‘NÙify
(
SOCKET
 
sock‘
, 
ev’t
, 
”rÜ
);

72 
OnDnsNÙify
(
HANDLE
 
sk
, 
”rÜ
);

74 
SOCKET
 
	gsock‘_
;

75 
	g”rÜ_
;

76 
CÚnS‹
 
	g¡©e_
;

77 
Sock‘Add»ss
 
	gaddr_
;

78 
ušt32_t
 
	gcÚÃù_time_
;

79 
boŞ
 
	gşosšg_
;

80 
	gşo£_”rÜ_
;

82 
şass
 
	gEv’tSšk
;

83 
ä›nd
 
şass
 
	gEv’tSšk
;

84 
Ev’tSšk
* 
	gsšk_
;

86 
	gDnsLookup
;

87 
DnsLookup
* 
	gdns_
;

94 şas 
	cWš32Sock‘S”v”
 : 
public
 
Sock‘S”v”
 {

95 
public
:

96 
Wš32Sock‘S”v”
();

97 ~
Wš32Sock‘S”v”
(è
	gov”ride
;

99 
£t_mod–ess_dŸlog
(
HWND
 
hdlg
è{ 
	ghdlg_
 = hdlg; }

102 
Sock‘
* 
C»©eSock‘
(
çmy
, 
ty³
è
	gov”ride
;

103 
AsyncSock‘
* 
C»©eAsyncSock‘
(
çmy
, 
ty³
è
	gov”ride
;

105 
S‘Mes§geQueue
(
Th»ad
* 
queue
è
	gov”ride
;

106 
boŞ
 
Wa™
(
cms
, boŞ 
´oûss_io
è
	gov”ride
;

107 
WakeUp
(è
	gov”ride
;

109 
Pump
();

111 
HWND
 
hªdË
(è{  
	gwnd_
.handle(); }

113 
	g´iv©e
:

114 şas 
	cMes§geWšdow
 : 
public
 
Wš32Wšdow
 {

115 
public
:

116 
ex¶ic™
 
Mes§geWšdow
(
Wš32Sock‘S”v”
* 
ss
è: 
ss_
(ss) {}

118 
´iv©e
:

119 
boŞ
 
OnMes§ge
(
UINT
 
msg
, 
WPARAM
 
wp
, 
LPARAM
 
Í
, 
LRESULT
& 
»suÉ
è
	gov”ride
;

120 
Wš32Sock‘S”v”
* 
	gss_
;

123 cÚ¡ 
wch¬_t
 
	gkWšdowName
[];

124 
Th»ad
* 
	gmes§ge_queue_
;

125 
Mes§geWšdow
 
	gwnd_
;

126 
Cr™iÿlSeùiÚ
 
	gcs_
;

127 
boŞ
 
	gpo¡ed_
;

128 
HWND
 
	ghdlg_
;

135 şas 
	cWš32Th»ad
 : 
public
 
Th»ad
 {

136 
public
:

137 
ex¶ic™
 
Wš32Th»ad
(
Sock‘S”v”
* 
ss
);

138 ~
Wš32Th»ad
(è
	gov”ride
;

140 
Run
(è
	gov”ride
;

141 
Qu™
(è
	gov”ride
;

143 
	g´iv©e
:

144 
DWORD
 
id_
;

	@win32_socket_server_unittest.cc

10 
	~"¹c_ba£/wš32_sock‘_£rv”.h
"

12 
	~"¹c_ba£/gun™.h
"

13 
	~"¹c_ba£/sock‘_un™‹¡.h
"

14 
	~"¹c_ba£/th»ad.h
"

16 
Çme¥aû
 
	g¹c
 {

19 
TEST
(
Wš32Sock‘S”v”Te¡
, 
Te¡Wa™
) {

20 
Wš32Sock‘S”v”
 
	g£rv”
;

21 
ušt32_t
 
	g¡¬t
 = 
Time
();

22 
	g£rv”
.
Wa™
(1000, 
Œue
);

23 
EXPECT_GE
(
TimeSšû
(
¡¬t
), 1000);

27 
TEST
(
Wš32Sock‘S”v”Te¡
, 
Te¡Pump
) {

28 
Wš32Sock‘S”v”
 
	g£rv”
;

29 
	g¹c
::
AutoSock‘S”v”Th»ad
 
th»ad
(&
£rv”
);

30 
EXPECT_EQ
(
TRUE
, 
Po¡Mes§ge
(
nuÎ±r
, 
WM_USER
, 999, 0));

31 
	g£rv”
.
Pump
();

32 
MSG
 
	gmsg
;

33 
EXPECT_EQ
(
TRUE
, 
P“kMes§ge
(&
msg
, 
nuÎ±r
, 
WM_USER
, 0, 
PM_REMOVE
));

34 
EXPECT_EQ
(
¡©ic_ÿ¡
<
UINT
>(
WM_USER
), 
msg
.
mes§ge
);

35 
EXPECT_EQ
(999u, 
msg
.
wP¬am
);

39 şas 
	cWš32Sock‘Te¡
 : 
public
 
Sock‘Te¡
 {

40 
´Ùeùed
:

41 
Wš32Sock‘Te¡
(è: 
th»ad_
(&
£rv”_
) {}

42 
Wš32Sock‘S”v”
 
£rv”_
;

43 
	g¹c
::
AutoSock‘S”v”Th»ad
 
th»ad_
;

46 
	$TEST_F
(
Wš32Sock‘Te¡
, 
Te¡CÚÃùIPv4
) {

47 
Sock‘Te¡
::
	`Te¡CÚÃùIPv4
();

48 
	}
}

50 
	$TEST_F
(
Wš32Sock‘Te¡
, 
Te¡CÚÃùIPv6
) {

51 
Sock‘Te¡
::
	`Te¡CÚÃùIPv6
();

52 
	}
}

54 
	$TEST_F
(
Wš32Sock‘Te¡
, 
Te¡CÚÃùW™hDnsLookupIPv4
) {

55 
Sock‘Te¡
::
	`Te¡CÚÃùW™hDnsLookupIPv4
();

56 
	}
}

58 
	$TEST_F
(
Wš32Sock‘Te¡
, 
Te¡CÚÃùW™hDnsLookupIPv6
) {

59 
Sock‘Te¡
::
	`Te¡CÚÃùW™hDnsLookupIPv6
();

60 
	}
}

62 
	$TEST_F
(
Wš32Sock‘Te¡
, 
Te¡CÚÃùFaIPv4
) {

63 
Sock‘Te¡
::
	`Te¡CÚÃùFaIPv4
();

64 
	}
}

66 
	$TEST_F
(
Wš32Sock‘Te¡
, 
Te¡CÚÃùFaIPv6
) {

67 
Sock‘Te¡
::
	`Te¡CÚÃùFaIPv6
();

68 
	}
}

70 
	$TEST_F
(
Wš32Sock‘Te¡
, 
Te¡CÚÃùW™hDnsLookupFaIPv4
) {

71 
Sock‘Te¡
::
	`Te¡CÚÃùW™hDnsLookupFaIPv4
();

72 
	}
}

74 
	$TEST_F
(
Wš32Sock‘Te¡
, 
Te¡CÚÃùW™hDnsLookupFaIPv6
) {

75 
Sock‘Te¡
::
	`Te¡CÚÃùW™hDnsLookupFaIPv6
();

76 
	}
}

78 
	$TEST_F
(
Wš32Sock‘Te¡
, 
Te¡CÚÃùW™hClo£dSock‘IPv4
) {

79 
Sock‘Te¡
::
	`Te¡CÚÃùW™hClo£dSock‘IPv4
();

80 
	}
}

82 
	$TEST_F
(
Wš32Sock‘Te¡
, 
Te¡CÚÃùW™hClo£dSock‘IPv6
) {

83 
Sock‘Te¡
::
	`Te¡CÚÃùW™hClo£dSock‘IPv6
();

84 
	}
}

86 
	$TEST_F
(
Wš32Sock‘Te¡
, 
Te¡CÚÃùWheNÙClo£dIPv4
) {

87 
Sock‘Te¡
::
	`Te¡CÚÃùWheNÙClo£dIPv4
();

88 
	}
}

90 
	$TEST_F
(
Wš32Sock‘Te¡
, 
Te¡CÚÃùWheNÙClo£dIPv6
) {

91 
Sock‘Te¡
::
	`Te¡CÚÃùWheNÙClo£dIPv6
();

92 
	}
}

94 
	$TEST_F
(
Wš32Sock‘Te¡
, 
Te¡S”v”Clo£DuršgCÚÃùIPv4
) {

95 
Sock‘Te¡
::
	`Te¡S”v”Clo£DuršgCÚÃùIPv4
();

96 
	}
}

98 
	$TEST_F
(
Wš32Sock‘Te¡
, 
Te¡S”v”Clo£DuršgCÚÃùIPv6
) {

99 
Sock‘Te¡
::
	`Te¡S”v”Clo£DuršgCÚÃùIPv6
();

100 
	}
}

102 
	$TEST_F
(
Wš32Sock‘Te¡
, 
Te¡Cl›ÁClo£DuršgCÚÃùIPv4
) {

103 
Sock‘Te¡
::
	`Te¡Cl›ÁClo£DuršgCÚÃùIPv4
();

104 
	}
}

106 
	$TEST_F
(
Wš32Sock‘Te¡
, 
Te¡Cl›ÁClo£DuršgCÚÃùIPv6
) {

107 
Sock‘Te¡
::
	`Te¡Cl›ÁClo£DuršgCÚÃùIPv6
();

108 
	}
}

110 
	$TEST_F
(
Wš32Sock‘Te¡
, 
Te¡S”v”Clo£IPv4
) {

111 
Sock‘Te¡
::
	`Te¡S”v”Clo£IPv4
();

112 
	}
}

114 
	$TEST_F
(
Wš32Sock‘Te¡
, 
Te¡S”v”Clo£IPv6
) {

115 
Sock‘Te¡
::
	`Te¡S”v”Clo£IPv6
();

116 
	}
}

118 
	$TEST_F
(
Wš32Sock‘Te¡
, 
Te¡Clo£InClo£dC®lbackIPv4
) {

119 
Sock‘Te¡
::
	`Te¡Clo£InClo£dC®lbackIPv4
();

120 
	}
}

122 
	$TEST_F
(
Wš32Sock‘Te¡
, 
Te¡Clo£InClo£dC®lbackIPv6
) {

123 
Sock‘Te¡
::
	`Te¡Clo£InClo£dC®lbackIPv6
();

124 
	}
}

126 
	$TEST_F
(
Wš32Sock‘Te¡
, 
Te¡Sock‘S”v”Wa™IPv4
) {

127 
Sock‘Te¡
::
	`Te¡Sock‘S”v”Wa™IPv4
();

128 
	}
}

130 
	$TEST_F
(
Wš32Sock‘Te¡
, 
Te¡Sock‘S”v”Wa™IPv6
) {

131 
Sock‘Te¡
::
	`Te¡Sock‘S”v”Wa™IPv6
();

132 
	}
}

134 
	$TEST_F
(
Wš32Sock‘Te¡
, 
Te¡TıIPv4
) {

135 
Sock‘Te¡
::
	`Te¡TıIPv4
();

136 
	}
}

138 
	$TEST_F
(
Wš32Sock‘Te¡
, 
Te¡TıIPv6
) {

139 
Sock‘Te¡
::
	`Te¡TıIPv6
();

140 
	}
}

142 
	$TEST_F
(
Wš32Sock‘Te¡
, 
Te¡UdpIPv4
) {

143 
Sock‘Te¡
::
	`Te¡UdpIPv4
();

144 
	}
}

146 
	$TEST_F
(
Wš32Sock‘Te¡
, 
Te¡UdpIPv6
) {

147 
Sock‘Te¡
::
	`Te¡UdpIPv6
();

148 
	}
}

152 
	$TEST_F
(
Wš32Sock‘Te¡
, 
DISABLED_Te¡G‘S‘O±iÚsIPv4
) {

153 
Sock‘Te¡
::
	`Te¡G‘S‘O±iÚsIPv4
();

154 
	}
}

158 
	$TEST_F
(
Wš32Sock‘Te¡
, 
DISABLED_Te¡G‘S‘O±iÚsIPv6
) {

159 
Sock‘Te¡
::
	`Te¡G‘S‘O±iÚsIPv6
();

160 
	}
}

	@win32_unittest.cc

11 
	~"¹c_ba£/wš32.h
"

13 
	~<¡ršg
>

15 
	~"¹c_ba£/gun™.h
"

16 
	~"¹c_ba£/Ãt_h–³rs.h
"

18 #ià!
defšed
(
WEBRTC_WIN
)

19 #”rÜ 
OÆy
 
Wšdows


22 
Çme¥aû
 
	g¹c
 {

24 şas 
	cWš32Te¡
 : 
public
 ::
‹¡šg
::
Te¡
 {

25 
public
:

26 
Wš32Te¡
() {}

29 
	$TEST_F
(
Wš32Te¡
, 
IPv6Add»ssCom´essiÚ
) {

30 
IPAdd»ss
 
v6
;

34 
	`ASSERT_TRUE
(
	`IPFromSŒšg
("2a00:8a00:a000:1190:0000:0001:000:252", &
v6
));

35 
	`EXPECT_EQ
("2a00:8a00:a000:1190::1:0:252", 
v6
.
	`ToSŒšg
());

38 
	`ASSERT_TRUE
(
	`IPFromSŒšg
("0:0:0:0:0:0:0:1", &
v6
));

39 
	`EXPECT_EQ
("::1", 
v6
.
	`ToSŒšg
());

42 
	`ASSERT_TRUE
(
	`IPFromSŒšg
("ã80:0:0:0:2¯:ff:ã9a:4ÿ2", &
v6
));

43 
	`EXPECT_EQ
("ã80::2¯:ff:ã9a:4ÿ2", 
v6
.
	`ToSŒšg
());

46 
	`ASSERT_TRUE
(
	`IPFromSŒšg
("2a00:8a00:a000:1190:0000:0001:000:00", &
v6
));

47 
	`EXPECT_EQ
("2a00:8a00:a000:1190:0:1::", 
v6
.
	`ToSŒšg
());

50 
	`ASSERT_TRUE
(
	`IPFromSŒšg
("0:0:000:1190:0000:0001:000:00", &
v6
));

51 
	`EXPECT_EQ
("::1190:0:1:0:0", 
v6
.
	`ToSŒšg
());

54 
	`ASSERT_TRUE
(
	`IPFromSŒšg
("0:1:000:1190:0000:0001:000:01", &
v6
));

55 
	`EXPECT_EQ
("::1:0:1190:0:1:0:1", 
v6
.
	`ToSŒšg
());

58 
	`ASSERT_TRUE
(
	`IPFromSŒšg
("1234:5678:abcd:1234:5678:abcd:1234:5678", &
v6
));

59 
	`EXPECT_EQ
("1234:5678:abcd:1234:5678:abcd:1234:5678", 
v6
.
	`ToSŒšg
());

60 
	}
}

63 
	$TEST_F
(
Wš32Te¡
, 
Inv®idIPv6Add»ssP¬sšg
) {

64 
IPAdd»ss
 
v6
;

67 
	`EXPECT_FALSE
(
	`IPFromSŒšg
("1::2::3", &
v6
));

71 
	`EXPECT_FALSE
(
	`IPFromSŒšg
("1::2::3::4::5::6::7::8", &
v6
));

74 
	`EXPECT_FALSE
(
	`IPFromSŒšg
("1:::2", &
v6
));

77 
	`EXPECT_FALSE
(
	`IPFromSŒšg
("‹¡::1", &
v6
));

80 
	`EXPECT_FALSE
(
	`IPFromSŒšg
("abcde::1", &
v6
));

83 
	`EXPECT_FALSE
(
	`IPFromSŒšg
("1:2:3:4:5:6:7:8:9", &
v6
));

86 
	`EXPECT_FALSE
(
	`IPFromSŒšg
("1:2:3:4:5:6:7", &
v6
));

87 
	}
}

	@win32_window.cc

11 
	~"¹c_ba£/wš32_wšdow.h
"

13 
	~"¹c_ba£/checks.h
"

14 
	~"¹c_ba£/loggšg.h
"

16 
Çme¥aû
 
	g¹c
 {

22 cÚ¡ 
wch¬_t
 
	gkWšdowBa£CÏssName
[] = 
L
"RtcWindowBaseClass";

23 
HINSTANCE
 
	gWš32Wšdow
::
š¡ªû_
 = 
nuÎ±r
;

24 
ATOM
 
	gWš32Wšdow
::
wšdow_şass_
 = 0;

26 
	gWš32Wšdow
::
Wš32Wšdow
(è: 
wnd_
(
nuÎ±r
) {}

28 
Wš32Wšdow
::~Wš32Wšdow(è{ 
RTC_DCHECK
(
nuÎ±r
 =ğ
wnd_
); }

30 
boŞ
 
	gWš32Wšdow
::
C»©e
(
HWND
 
·»Á
, cÚ¡ 
wch¬_t
* 
t™Ë
, 
DWORD
 
¡yË
,

31 
DWORD
 
ex¡yË
, 
x
, 
y
, 
cx
, 
cy
) {

32 ià(
	gwnd_
) {

34  
	gçl£
;

37 ià(!
	gwšdow_şass_
) {

38 ià(!
G‘ModuËHªdËExW
(
GET_MODULE_HANDLE_EX_FLAG_FROM_ADDRESS
 |

39 
GET_MODULE_HANDLE_EX_FLAG_UNCHANGED_REFCOUNT
,

40 
»š‹½»t_ÿ¡
<
LPCWSTR
>(&
Wš32Wšdow
::
WndProc
),

41 &
š¡ªû_
)) {

42 
RTC_LOG_GLE
(
LS_ERROR
) << "GetModuleHandleEx failed";

43  
	gçl£
;

48 
WNDCLASSEXW
 
	gwûx
;

49 
mem£t
(&
wûx
, 0, (wcex));

50 
	gwûx
.
	gcbSize
 = (
wûx
);

51 ià(::
G‘CÏssInfoExW
(
š¡ªû_
, 
kWšdowBa£CÏssName
, &
wûx
) &&

52 !::
UÄegi¡”CÏssW
(
kWšdowBa£CÏssName
, 
š¡ªû_
)) {

53 
RTC_LOG_GLE
(
LS_ERROR
) << "UnregisterClass failed.";

56 
mem£t
(&
wûx
, 0, (wcex));

57 
	gwûx
.
	gcbSize
 = (
wûx
);

58 
	gwûx
.
	ghIn¡ªû
 = 
š¡ªû_
;

59 
	gwûx
.
	gÍâWndProc
 = &
Wš32Wšdow
::
WndProc
;

60 
	gwûx
.
	gÍszCÏssName
 = 
kWšdowBa£CÏssName
;

61 
	gwšdow_şass_
 = ::
Regi¡”CÏssExW
(&
wûx
);

62 ià(!
	gwšdow_şass_
) {

63 
RTC_LOG_GLE
(
LS_ERROR
) << "RegisterClassEx failed";

64  
	gçl£
;

67 
	gwnd_
 = ::
C»©eWšdowExW
(
ex¡yË
, 
kWšdowBa£CÏssName
, 
t™Ë
, 
¡yË
, 
x
, 
y
,

68 
cx
, 
cy
, 
·»Á
, 
nuÎ±r
, 
š¡ªû_
, 
this
);

69  (
	gnuÎ±r
 !ğ
wnd_
);

72 
	gWš32Wšdow
::
De¡roy
() {

73 cÚ¡ 
boŞ
 
sucûss
 = ::
De¡royWšdow
(
wnd_
);

74 
RTC_DCHECK
(
sucûss
);

77 
	gWš32Wšdow
::
Shutdown
() {

78 ià(
wšdow_şass_
) {

79 ià(!::
UÄegi¡”CÏss
(
MAKEINTATOM
(
wšdow_şass_
), 
š¡ªû_
)) {

80 
RTC_LOG_GLE
(
LS_ERROR
) << "UnregisterClass failed.";

82 
	gwšdow_şass_
 = 0;

86 
boŞ
 
	gWš32Wšdow
::
OnMes§ge
(
UINT
 
uMsg
, 
WPARAM
 
wP¬am
, 
LPARAM
 
lP¬am
,

87 
LRESULT
& 
»suÉ
) {

88 
	guMsg
) {

89 
	gWM_CLOSE
:

90 ià(!
OnClo£
()) {

91 
»suÉ
 = 0;

92  
	gŒue
;

96  
	gçl£
;

99 
boŞ
 
	gWš32Wšdow
::
OnClo£
(è{  
Œue
; }

101 
	gWš32Wšdow
::
OnNcDe¡roy
() {

105 
LRESULT
 
Wš32Wšdow
::
WndProc
(
HWND
 
hwnd
, 
UINT
 
uMsg
, 
WPARAM
 
wP¬am
,

106 
LPARAM
 
lP¬am
) {

107 
Wš32Wšdow
* 
	gth©
 =

108 
»š‹½»t_ÿ¡
<
Wš32Wšdow
*>(::
G‘WšdowLÚgPŒ
(
hwnd
, 
GWLP_USERDATA
));

109 ià(!
	gth©
 && (
	gWM_CREATE
 =ğ
uMsg
)) {

110 
CREATESTRUCT
* 
cs
 = 
»š‹½»t_ÿ¡
<CREATESTRUCT*>(
lP¬am
);

111 
	gth©
 = 
¡©ic_ÿ¡
<
Wš32Wšdow
*>(
cs
->
ÍC»©eP¬ams
);

112 
	gth©
->
	gwnd_
 = 
hwnd
;

113 ::
S‘WšdowLÚgPŒ
(
hwnd
, 
GWLP_USERDATA
, 
»š‹½»t_ÿ¡
<
LONG_PTR
>(
th©
));

115 ià(
	gth©
) {

116 
LRESULT
 
	g»suÉ
;

117 
boŞ
 
	ghªdËd
 = 
th©
->
OnMes§ge
(
uMsg
, 
wP¬am
, 
lP¬am
, 
»suÉ
);

118 ià(
	gWM_DESTROY
 =ğ
uMsg
) {

119 
HWND
 
chd
 = ::
G‘Wšdow
(
hwnd
, 
GW_CHILD
); 
	gchd
;

120 
	gchd
 = ::
G‘Wšdow
(
chd
, 
GW_HWNDNEXT
)) {

121 
RTC_LOG
(
LS_INFO
è<< "Chd wšdow: " << 
	g¡©ic_ÿ¡
<*>(
	gchd
);

124 ià(
	gWM_NCDESTROY
 =ğ
uMsg
) {

125 ::
S‘WšdowLÚgPŒ
(
hwnd
, 
GWLP_USERDATA
, 
NULL
);

126 
	gth©
->
	gwnd_
 = 
nuÎ±r
;

127 
	gth©
->
OnNcDe¡roy
();

129 ià(
	ghªdËd
) {

130  
	g»suÉ
;

133  ::
DefWšdowProc
(
hwnd
, 
uMsg
, 
wP¬am
, 
lP¬am
);

	@win32_window.h

11 #iâdeà
RTC_BASE_WIN32_WINDOW_H_


12 
	#RTC_BASE_WIN32_WINDOW_H_


	)

14 #ià
defšed
(
WEBRTC_WIN
)

16 
	~"¹c_ba£/wš32.h
"

18 
Çme¥aû
 
	g¹c
 {

24 şas 
	cWš32Wšdow
 {

25 
	gpublic
:

26 
Wš32Wšdow
();

27 
	gvœtu®
 ~
Wš32Wšdow
();

29 
HWND
 
hªdË
(ècÚ¡ {  
	gwnd_
; }

31 
boŞ
 
C»©e
(
HWND
 
·»Á
,

32 cÚ¡ 
wch¬_t
* 
t™Ë
,

33 
DWORD
 
¡yË
,

34 
DWORD
 
ex¡yË
,

35 
x
,

36 
y
,

37 
cx
,

38 
cy
);

39 
De¡roy
();

42 
Shutdown
();

44 
	g´Ùeùed
:

45 
vœtu®
 
boŞ
 
OnMes§ge
(
UINT
 
uMsg
,

46 
WPARAM
 
wP¬am
,

47 
LPARAM
 
lP¬am
,

48 
LRESULT
& 
»suÉ
);

50 
vœtu®
 
boŞ
 
OnClo£
();

51 
vœtu®
 
OnNcDe¡roy
();

53 
	g´iv©e
:

54 
LRESULT
 
CALLBACK
 
WndProc
(
HWND
 
hwnd
,

55 
UINT
 
uMsg
,

56 
WPARAM
 
wP¬am
,

57 
LPARAM
 
lP¬am
);

59 
HWND
 
	gwnd_
;

60 
HINSTANCE
 
	gš¡ªû_
;

61 
ATOM
 
	gwšdow_şass_
;

	@win32_window_unittest.cc

11 
	~"¹c_ba£/wš32_wšdow.h
"

13 
	~"¹c_ba£/gun™.h
"

14 
	~"¹c_ba£/loggšg.h
"

16 
LRESULT
 
	gkDummyResuÉ
 = 0x1234ABCD;

18 şas 
	cTe¡Wšdow
 : 
public
 
¹c
::
Wš32Wšdow
 {

19 
public
:

20 
	$Te¡Wšdow
(è: 
	$de¡royed_
(
çl£
è{ 
	`mem£t
(&
msg_
, 0, (msg_)); }

21 cÚ¡ 
MSG
& 
	$msg
(ècÚ¡ {  
msg_
; 
	}
}

22 
boŞ
 
	$de¡royed
(ècÚ¡ {  
de¡royed_
; 
	}
}

24 
boŞ
 
	$OnMes§ge
(
UINT
 
uMsg
,

25 
WPARAM
 
wP¬am
,

26 
LPARAM
 
lP¬am
,

27 
LRESULT
& 
»suÉ
è
ov”ride
 {

28 
msg_
.
mes§ge
 = 
uMsg
;

29 
msg_
.
wP¬am
 = wParam;

30 
msg_
.
lP¬am
 =†Param;

31 
»suÉ
 = 
kDummyResuÉ
;

32  
Œue
;

33 
	}
}

34 
	$OnNcDe¡roy
(è
ov”ride
 { 
de¡royed_
 = 
Œue
; 
	}
}

36 
	g´iv©e
:

37 
MSG
 
msg_
;

38 
boŞ
 
	gde¡royed_
;

41 
	$TEST
(
Wš32WšdowTe¡
, 
Basics
) {

42 
Te¡Wšdow
 
wnd
;

43 
	`EXPECT_TRUE
(
wnd
.
	`hªdË
(è=ğ
nuÎ±r
);

44 
	`EXPECT_FALSE
(
wnd
.
	`de¡royed
());

45 
	`EXPECT_TRUE
(
wnd
.
	`C»©e
(0, 
L
"Test", 0, 0, 0, 0, 100, 100));

46 
	`EXPECT_TRUE
(
wnd
.
	`hªdË
(è!ğ
nuÎ±r
);

47 
	`EXPECT_EQ
(
kDummyResuÉ
, ::
	`S’dMes§ge
(
wnd
.
	`hªdË
(), 
WM_USER
, 1, 2));

48 
	`EXPECT_EQ
(
¡©ic_ÿ¡
<
UINT
>(
WM_USER
), 
wnd
.
	`msg
().
mes§ge
);

49 
	`EXPECT_EQ
(1u, 
wnd
.
	`msg
().
wP¬am
);

50 
	`EXPECT_EQ
(2l, 
wnd
.
	`msg
().
lP¬am
);

51 
wnd
.
	`De¡roy
();

52 
	`EXPECT_TRUE
(
wnd
.
	`hªdË
(è=ğ
nuÎ±r
);

53 
	`EXPECT_TRUE
(
wnd
.
	`de¡royed
());

54 
	}
}

56 
	$TEST
(
Wš32WšdowTe¡
, 
MuÉËWšdows
) {

57 
Te¡Wšdow
 
wnd1
, 
wnd2
;

58 
	`EXPECT_TRUE
(
wnd1
.
	`C»©e
(0, 
L
"Test", 0, 0, 0, 0, 100, 100));

59 
	`EXPECT_TRUE
(
wnd2
.
	`C»©e
(0, 
L
"Test", 0, 0, 0, 0, 100, 100));

60 
	`EXPECT_TRUE
(
wnd1
.
	`hªdË
(è!ğ
nuÎ±r
);

61 
	`EXPECT_TRUE
(
wnd2
.
	`hªdË
(è!ğ
nuÎ±r
);

62 
wnd1
.
	`De¡roy
();

63 
wnd2
.
	`De¡roy
();

64 
	`EXPECT_TRUE
(
wnd2
.
	`hªdË
(è=ğ
nuÎ±r
);

65 
	`EXPECT_TRUE
(
wnd1
.
	`hªdË
(è=ğ
nuÎ±r
);

66 
	}
}

	@zero_memory.cc

11 #ià
defšed
(
WEBRTC_WIN
)

12 
	~<wšdows.h
>

14 
	~<¡ršg.h
>

17 
	~"¹c_ba£/checks.h
"

18 
	~"¹c_ba£/z”o_memÜy.h
"

20 
Çme¥aû
 
	g¹c
 {

23 
Ex¶ic™Z”oMemÜy
(* 
±r
, 
size_t
 
Ën
) {

24 
RTC_DCHECK
(
±r
 || !
Ën
);

25 #ià
defšed
(
WEBRTC_WIN
)

26 
Secu»Z”oMemÜy
(
±r
, 
Ën
);

28 
mem£t
(
±r
, 0, 
Ën
);

29 #ià!
defšed
(
__²aş__
)

33 
__asm__
 
__vŞ©e__
("" : : "r"(
±r
) : "memory");

	@zero_memory.h

11 #iâdeà
RTC_BASE_ZERO_MEMORY_H_


12 
	#RTC_BASE_ZERO_MEMORY_H_


	)

14 
	~<¡ddef.h
>

16 
	~<ty³_Œa™s
>

18 
	~"­i/¬¿y_v›w.h
"

20 
Çme¥aû
 
	g¹c
 {

24 
Ex¶ic™Z”oMemÜy
(* 
±r
, 
size_t
 
Ën
);

26 
	g‹m¶©e
 <
ty³Çme
 
	gT
,

27 
ty³Çme
 
	g¡d
::
’abË_if
<!
¡d
::
is_cÚ¡
<
T
>::
v®ue
 &&

28 
¡d
::
is_ŒivŸl
<
T
>::
v®ue
>::
ty³
* = 
nuÎ±r
>

29 
Ex¶ic™Z”oMemÜy
(
¹c
::
A¼ayV›w
<
T
> 
a
) {

30 
Ex¶ic™Z”oMemÜy
(
a
.
d©a
(),‡.
size
());

	@zero_memory_unittest.cc

11 
	~"¹c_ba£/z”o_memÜy.h
"

13 
	~<¡dšt.h
>

15 
	~"­i/¬¿y_v›w.h
"

16 
	~"‹¡/g‹¡.h
"

18 
Çme¥aû
 
	g¹c
 {

20 
TEST
(
Z”oMemÜyTe¡
, 
Te¡Z”oMemÜy
) {

21 cÚ¡ 
size_t
 
	gkBufãrSize
 = 32;

22 
ušt8_t
 
	gbufãr
[
kBufãrSize
];

23 
size_t
 
	gi
 = 0; i < 
	gkBufãrSize
; i++) {

24 
	gbufãr
[
i
] = 
¡©ic_ÿ¡
<
ušt8_t
>(i + 1);

26 
Ex¶ic™Z”oMemÜy
(
bufãr
, (buffer));

27 
size_t
 
	gi
 = 0; i < 
	gkBufãrSize
; i++) {

28 
EXPECT_EQ
(
bufãr
[
i
], 0);

32 
TEST
(
Z”oMemÜyTe¡
, 
Te¡Z”oA¼ayV›w
) {

33 cÚ¡ 
size_t
 
	gkBufãrSize
 = 32;

34 
ušt8_t
 
	gbufãr
[
kBufãrSize
];

35 
size_t
 
	gi
 = 0; i < 
	gkBufãrSize
; i++) {

36 
	gbufãr
[
i
] = 
¡©ic_ÿ¡
<
ušt8_t
>(i + 1);

38 
Ex¶ic™Z”oMemÜy
(
¹c
::
A¼ayV›w
<
ušt8_t
>(
bufãr
, (buffer)));

39 
size_t
 
	gi
 = 0; i < 
	gkBufãrSize
; i++) {

40 
EXPECT_EQ
(
bufãr
[
i
], 0);

47 
TEST
(
Z”oMemÜyTe¡
, 
Te¡Z”oMemÜyUnu£d
) {

48 cÚ¡ 
size_t
 
	gkBufãrSize
 = 32;

49 
ušt8_t
 
	gbufãr
[
kBufãrSize
];

50 
Ex¶ic™Z”oMemÜy
(
bufãr
, (buffer));

	@/usr/include/arpa/inet.h

18 #iâdeà
_ARPA_INET_H


19 
	#_ARPA_INET_H
 1

	)

21 
	~<ã©u»s.h
>

22 
	~<Ãtš‘/š.h
>

25 #iâdeà
__sockËn_t_defšed


26 
__sockËn_t
 
	tsockËn_t
;

27 
	#__sockËn_t_defšed


	)

30 
__BEGIN_DECLS


34 
š_addr_t
 
	$š‘_addr
 (cÚ¡ *
__ı
è
__THROW
;

37 
š_addr_t
 
	$š‘_Êaof
 (
š_addr
 
__š
è
__THROW
;

41 
š_addr
 
	$š‘_mak—ddr
 (
š_addr_t
 
__Ãt
, in_addr_ˆ
__ho¡
)

42 
__THROW
;

45 
š_addr_t
 
	$š‘_Ãtof
 (
š_addr
 
__š
è
__THROW
;

49 
š_addr_t
 
	$š‘_ÃtwÜk
 (cÚ¡ *
__ı
è
__THROW
;

53 *
	$š‘_Áß
 (
š_addr
 
__š
è
__THROW
;

58 
	$š‘_±Ú
 (
__af
, cÚ¡ *
__»¡riù
 
__ı
,

59 *
__»¡riù
 
__buf
è
__THROW
;

64 cÚ¡ *
	$š‘_Áİ
 (
__af
, cÚ¡ *
__»¡riù
 
__ı
,

65 *
__»¡riù
 
__buf
, 
sockËn_t
 
__Ën
)

66 
__THROW
;

70 #ifdeà
__USE_MISC


73 
	$š‘_©Ú
 (cÚ¡ *
__ı
, 
š_addr
 *
__šp
è
__THROW
;

77 *
	$š‘_Ã
 (
š_addr_t
 
__Ãt
, *
__buf
, 
size_t
 
__Ën
è
__THROW
;

82 *
	$š‘_Ãt_Áİ
 (
__af
, cÚ¡ *
__ı
, 
__b™s
,

83 *
__buf
, 
size_t
 
__Ën
è
__THROW
;

88 
	$š‘_Ãt_±Ú
 (
__af
, cÚ¡ *
__ı
,

89 *
__buf
, 
size_t
 
__Ën
è
__THROW
;

94 
	$š‘_n§p_addr
 (cÚ¡ *
__ı
,

95 *
__buf
, 
__Ën
è
__THROW
;

99 *
	$š‘_n§p_Áß
 (
__Ën
, cÚ¡ *
__ı
,

100 *
__buf
è
__THROW
;

103 
__END_DECLS


	@/usr/include/assert.h

22 #ifdef 
_ASSERT_H


24 #undeà
_ASSERT_H


25 #undeà
as£¹


26 #undeà
__ASSERT_VOID_CAST


28 #ifdef 
__USE_GNU


29 #undeà
as£¹_³¼Ü


34 
	#_ASSERT_H
 1

	)

35 
	~<ã©u»s.h
>

37 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (2,95)

38 
	#__ASSERT_VOID_CAST
 
¡©ic_ÿ¡
<>

	)

40 
	#__ASSERT_VOID_CAST
 ()

	)

48 #ifdef 
NDEBUG


50 
	#as£¹
(
ex´
è(
	`__ASSERT_VOID_CAST
 (0))

	)

58 #ifdef 
__USE_GNU


59 
	#as£¹_³¼Ü
(
”ºum
è(
	`__ASSERT_VOID_CAST
 (0))

	)

64 #iâdeà
_ASSERT_H_DECLS


65 
	#_ASSERT_H_DECLS


	)

66 
__BEGIN_DECLS


69 
	$__as£¹_ç
 (cÚ¡ *
__as£¹iÚ
, cÚ¡ *
__fe
,

70 
__lše
, cÚ¡ *
__funùiÚ
)

71 
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

74 
	$__as£¹_³¼Ü_ç
 (
__”ºum
, cÚ¡ *
__fe
,

75 
__lše
, cÚ¡ *
__funùiÚ
)

76 
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

81 
	$__as£¹
 (cÚ¡ *
__as£¹iÚ
, cÚ¡ *
__fe
, 
__lše
)

82 
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

85 
__END_DECLS


91 #ià
defšed
 
__ılu¥lus


92 
	#as£¹
(
ex´
) \

93 (
¡©ic_ÿ¡
 <
boŞ
> (
ex´
) \

95 : 
	`__as£¹_ç
 (#ex´, 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

96 #–ià!
defšed
 
__GNUC__
 || defšed 
__STRICT_ANSI__


97 
	#as£¹
(
ex´
) \

98 ((
ex´
) \

99 ? 
	`__ASSERT_VOID_CAST
 (0) \

100 : 
	`__as£¹_ç
 (#ex´, 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

107 
	#as£¹
(
ex´
) \

108 ((è ((
ex´
è? 1 : 0), 
	`__ex‹nsiÚ__
 ({ \

109 ià(
ex´
) \

112 
	`__as£¹_ç
 (#ex´, 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
); \

113 
	}
}))

	)

116 #ifdef 
__USE_GNU


117 
	#as£¹_³¼Ü
(
”ºum
) \

118 (!(
”ºum
) \

119 ? 
	`__ASSERT_VOID_CAST
 (0) \

120 : 
	`__as£¹_³¼Ü_ç
 ((
”ºum
), 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

128 #ià
defšed
 
__ılu¥lus
 ? 
__GNUC_PREREQ
 (2, 6) : __GNUC_PREREQ (2, 4)

129 
	#__ASSERT_FUNCTION
 
__ex‹nsiÚ__
 
__PRETTY_FUNCTION__


	)

131 #ià
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

132 
	#__ASSERT_FUNCTION
 
__func__


	)

134 
	#__ASSERT_FUNCTION
 ((cÚ¡ *è0)

	)

141 #ià
defšed
 
__USE_ISOC11
 && !defšed 
__ılu¥lus


142 #undeà
¡©ic_as£¹


143 
	#¡©ic_as£¹
 
_Stic_as£¹


	)

	@/usr/include/ctype.h

22 #iâdef 
_CTYPE_H


23 
	#_CTYPE_H
 1

	)

25 
	~<ã©u»s.h
>

26 
	~<b™s/ty³s.h
>

28 
	g__BEGIN_DECLS


30 #iâdeà
_ISb™


39 
	~<’dŸn.h
>

40 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


41 
	#_ISb™
(
b™
è(1 << (b™))

	)

43 
	#_ISb™
(
b™
è((b™è< 8 ? ((1 << (b™)è<< 8è: ((1 << (b™)è>> 8))

	)

48 
	m_ISuµ”
 = 
_ISb™
 (0),

49 
	m_ISlow”
 = 
_ISb™
 (1),

50 
	m_IS®pha
 = 
_ISb™
 (2),

51 
	m_ISdig™
 = 
_ISb™
 (3),

52 
	m_ISxdig™
 = 
_ISb™
 (4),

53 
	m_IS¥aû
 = 
_ISb™
 (5),

54 
	m_IS´št
 = 
_ISb™
 (6),

55 
	m_ISg¿ph
 = 
_ISb™
 (7),

56 
	m_ISbÏnk
 = 
_ISb™
 (8),

57 
	m_ISúŒl
 = 
_ISb™
 (9),

58 
	m_ISpunù
 = 
_ISb™
 (10),

59 
	m_IS®num
 = 
_ISb™
 (11)

79 cÚ¡ **
	$__ùy³_b_loc
 ()

80 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

81 cÚ¡ 
__št32_t
 **
	$__ùy³_tŞow”_loc
 ()

82 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

83 cÚ¡ 
__št32_t
 **
	$__ùy³_touµ”_loc
 ()

84 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

87 #iâdeà
__ılu¥lus


88 
	#__isùy³
(
c
, 
ty³
) \

89 ((*
	`__ùy³_b_loc
 ())[(è(
c
)] & (è
ty³
)

	)

90 #–ià
defšed
 
__USE_EXTERN_INLINES


91 
	#__isùy³_f
(
ty³
) \

92 
__ex‹º_šlše
 \

93 
is
##
	`ty³
 (
__c
è
__THROW
 \

95  (*
	`__ùy³_b_loc
 ())[(è(
__c
)] & (è
_IS
##
ty³
; \

96 
	}

	)
}

99 
	#__i§scii
(
c
è(((cè& ~0x7fè=ğ0è

	)

100 
	#__tßscii
(
c
è((cè& 0x7fè

	)

102 
	#__exùy³
(
Çme
è
	`Çme
 (è
__THROW


	)

108 
__exùy³
 (
i§Êum
);

109 
__exùy³
 (
i§Íha
);

110 
__exùy³
 (
isúŒl
);

111 
__exùy³
 (
isdig™
);

112 
__exùy³
 (
i¦ow”
);

113 
__exùy³
 (
isg¿ph
);

114 
__exùy³
 (
i¥ršt
);

115 
__exùy³
 (
i¥unù
);

116 
__exùy³
 (
is¥aû
);

117 
__exùy³
 (
isuµ”
);

118 
__exùy³
 (
isxdig™
);

122 
	$tŞow”
 (
__c
è
__THROW
;

125 
	$touµ”
 (
__c
è
__THROW
;

129 #ifdef 
__USE_ISOC99


130 
	`__exùy³
 (
isbÏnk
);

133 #ifdeà
__USE_GNU


135 
	$isùy³
 (
__c
, 
__mask
è
__THROW
;

138 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


142 
	$i§scii
 (
__c
è
__THROW
;

146 
	$tßscii
 (
__c
è
__THROW
;

150 
	`__exùy³
 (
_touµ”
);

151 
	`__exùy³
 (
_tŞow”
);

155 
	#__tobody
(
c
, 
f
, 
a
, 
¬gs
) \

156 (
__ex‹nsiÚ__
 \

157 ({ 
__»s
; \

158 ià( (
c
) > 1) \

160 ià(
	`__butš_cÚ¡ªt_p
 (
c
)) \

162 
__c
 = (
c
); \

163 
__»s
 = 
__c
 < -128 || __ø> 255 ? __ø: (
a
)[__c]; \

166 
__»s
 = 
f
 
¬gs
; \

169 
__»s
 = (
a
)[(è(
c
)]; \

170 
__»s
; 
	}
}))

	)

172 #ià!
defšed
 
__NO_CTYPE


173 #ifdeà
__isùy³_f


174 
	$__isùy³_f
 (
®num
)

175 
	$__isùy³_f
 (
®pha
)

176 
	$__isùy³_f
 (
úŒl
)

177 
	$__isùy³_f
 (
dig™
)

178 
	$__isùy³_f
 (
low”
)

179 
	$__isùy³_f
 (
g¿ph
)

180 
	$__isùy³_f
 (
´št
)

181 
	$__isùy³_f
 (
punù
)

182 
	$__isùy³_f
 (
¥aû
)

183 
	$__isùy³_f
 (
uµ”
)

184 
	$__isùy³_f
 (
xdig™
)

185 #ifdeà
__USE_ISOC99


186 
	$__isùy³_f
 (
bÏnk
)

188 #–ià
defšed
 
__isùy³


189 
	#i§Êum
(
c
è
	`__isùy³
((c), 
_IS®num
)

	)

190 
	#i§Íha
(
c
è
	`__isùy³
((c), 
_IS®pha
)

	)

191 
	#isúŒl
(
c
è
	`__isùy³
((c), 
_ISúŒl
)

	)

192 
	#isdig™
(
c
è
	`__isùy³
((c), 
_ISdig™
)

	)

193 
	#i¦ow”
(
c
è
	`__isùy³
((c), 
_ISlow”
)

	)

194 
	#isg¿ph
(
c
è
	`__isùy³
((c), 
_ISg¿ph
)

	)

195 
	#i¥ršt
(
c
è
	`__isùy³
((c), 
_IS´št
)

	)

196 
	#i¥unù
(
c
è
	`__isùy³
((c), 
_ISpunù
)

	)

197 
	#is¥aû
(
c
è
	`__isùy³
((c), 
_IS¥aû
)

	)

198 
	#isuµ”
(
c
è
	`__isùy³
((c), 
_ISuµ”
)

	)

199 
	#isxdig™
(
c
è
	`__isùy³
((c), 
_ISxdig™
)

	)

200 #ifdeà
__USE_ISOC99


201 
	#isbÏnk
(
c
è
	`__isùy³
((c), 
_ISbÏnk
)

	)

205 #ifdeà
__USE_EXTERN_INLINES


206 
__ex‹º_šlše
 

207 
	`__NTH
 (
	$tŞow”
 (
__c
))

209  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_tŞow”_loc
 ())[__c] : __c;

210 
	}
}

212 
__ex‹º_šlše
 

213 
__NTH
 (
	$touµ”
 (
__c
))

215  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_touµ”_loc
 ())[__c] : __c;

216 
	}
}

219 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


220 
	#tŞow”
(
c
è
	`__tobody
 (c, 
tŞow”
, *
	`__ùy³_tŞow”_loc
 (), (c))

	)

221 
	#touµ”
(
c
è
	`__tobody
 (c, 
touµ”
, *
	`__ùy³_touµ”_loc
 (), (c))

	)

224 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


225 
	#i§scii
(
c
è
	`__i§scii
 (c)

	)

226 
	#tßscii
(
c
è
	`__tßscii
 (c)

	)

228 
	#_tŞow”
(
c
è((è(*
	`__ùy³_tŞow”_loc
 ())[(è(c)])

	)

229 
	#_touµ”
(
c
è((è(*
	`__ùy³_touµ”_loc
 ())[(è(c)])

	)

235 #ifdeà
__USE_XOPEN2K8


237 
	~<b™s/ty³s/loÿË_t.h
>

241 
	#__isùy³_l
(
c
, 
ty³
, 
loÿË
) \

242 ((
loÿË
)->
__ùy³_b
[(è(
c
)] & (è
ty³
)

	)

244 
	#__exùy³_l
(
Çme
) \

245 
	`Çme
 (, 
loÿË_t
è
__THROW


	)

251 
__exùy³_l
 (
i§Êum_l
);

252 
__exùy³_l
 (
i§Íha_l
);

253 
__exùy³_l
 (
isúŒl_l
);

254 
__exùy³_l
 (
isdig™_l
);

255 
__exùy³_l
 (
i¦ow”_l
);

256 
__exùy³_l
 (
isg¿ph_l
);

257 
__exùy³_l
 (
i¥ršt_l
);

258 
__exùy³_l
 (
i¥unù_l
);

259 
__exùy³_l
 (
is¥aû_l
);

260 
__exùy³_l
 (
isuµ”_l
);

261 
__exùy³_l
 (
isxdig™_l
);

263 
__exùy³_l
 (
isbÏnk_l
);

267 
	$__tŞow”_l
 (
__c
, 
loÿË_t
 
__l
è
__THROW
;

268 
	$tŞow”_l
 (
__c
, 
loÿË_t
 
__l
è
__THROW
;

271 
	$__touµ”_l
 (
__c
, 
loÿË_t
 
__l
è
__THROW
;

272 
	$touµ”_l
 (
__c
, 
loÿË_t
 
__l
è
__THROW
;

274 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


275 
	#__tŞow”_l
(
c
, 
loÿË
) \

276 
	`__tobody
 (
c
, 
__tŞow”_l
, (
loÿË
)->
__ùy³_tŞow”
, (c,†oÿË))

	)

277 
	#__touµ”_l
(
c
, 
loÿË
) \

278 
	`__tobody
 (
c
, 
__touµ”_l
, (
loÿË
)->
__ùy³_touµ”
, (c,†oÿË))

	)

279 
	#tŞow”_l
(
c
, 
loÿË
è
	`__tŞow”_l
 ((c), (loÿË))

	)

280 
	#touµ”_l
(
c
, 
loÿË
è
	`__touµ”_l
 ((c), (loÿË))

	)

284 #iâdeà
__NO_CTYPE


285 
	#__i§Êum_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®num
, (l))

	)

286 
	#__i§Íha_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®pha
, (l))

	)

287 
	#__isúŒl_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISúŒl
, (l))

	)

288 
	#__isdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISdig™
, (l))

	)

289 
	#__i¦ow”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISlow”
, (l))

	)

290 
	#__isg¿ph_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISg¿ph
, (l))

	)

291 
	#__i¥ršt_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS´št
, (l))

	)

292 
	#__i¥unù_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISpunù
, (l))

	)

293 
	#__is¥aû_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS¥aû
, (l))

	)

294 
	#__isuµ”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISuµ”
, (l))

	)

295 
	#__isxdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISxdig™
, (l))

	)

297 
	#__isbÏnk_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISbÏnk
, (l))

	)

299 #ifdeà
__USE_MISC


300 
	#__i§scii_l
(
c
,
l
è(Ö), 
	`__i§scii
 (c))

	)

301 
	#__tßscii_l
(
c
,
l
è(Ö), 
	`__tßscii
 (c))

	)

304 
	#i§Êum_l
(
c
,
l
è
	`__i§Êum_l
 ((c), (l))

	)

305 
	#i§Íha_l
(
c
,
l
è
	`__i§Íha_l
 ((c), (l))

	)

306 
	#isúŒl_l
(
c
,
l
è
	`__isúŒl_l
 ((c), (l))

	)

307 
	#isdig™_l
(
c
,
l
è
	`__isdig™_l
 ((c), (l))

	)

308 
	#i¦ow”_l
(
c
,
l
è
	`__i¦ow”_l
 ((c), (l))

	)

309 
	#isg¿ph_l
(
c
,
l
è
	`__isg¿ph_l
 ((c), (l))

	)

310 
	#i¥ršt_l
(
c
,
l
è
	`__i¥ršt_l
 ((c), (l))

	)

311 
	#i¥unù_l
(
c
,
l
è
	`__i¥unù_l
 ((c), (l))

	)

312 
	#is¥aû_l
(
c
,
l
è
	`__is¥aû_l
 ((c), (l))

	)

313 
	#isuµ”_l
(
c
,
l
è
	`__isuµ”_l
 ((c), (l))

	)

314 
	#isxdig™_l
(
c
,
l
è
	`__isxdig™_l
 ((c), (l))

	)

316 
	#isbÏnk_l
(
c
,
l
è
	`__isbÏnk_l
 ((c), (l))

	)

318 #ifdeà
__USE_MISC


319 
	#i§scii_l
(
c
,
l
è
	`__i§scii_l
 ((c), (l))

	)

320 
	#tßscii_l
(
c
,
l
è
	`__tßscii_l
 ((c), (l))

	)

327 
__END_DECLS


	@/usr/include/dirent.h

22 #iâdef 
_DIRENT_H


23 
	#_DIRENT_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


29 
	~<b™s/ty³s.h
>

31 #ifdeà
__USE_XOPEN


32 #iâdeà
__šo_t_defšed


33 #iâdeà
__USE_FILE_OFFSET64


34 
__šo_t
 
	tšo_t
;

36 
__šo64_t
 
	tšo_t
;

38 
	#__šo_t_defšed


	)

40 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__šo64_t_defšed


41 
__šo64_t
 
	tšo64_t
;

42 
	#__šo64_t_defšed


	)

61 
	~<b™s/dœ’t.h
>

63 #ià
defšed
 
__USE_MISC
 && !defšed 
d_f’o


64 
	#d_šo
 
d_f’o


	)

81 #ifdeà
_DIRENT_HAVE_D_NAMLEN


82 
	#_D_EXACT_NAMLEN
(
d
è((d)->
d_ÇmËn
)

	)

83 
	#_D_ALLOC_NAMLEN
(
d
è(
	`_D_EXACT_NAMLEN
 (dè+ 1)

	)

85 
	#_D_EXACT_NAMLEN
(
d
è(
	`¡¾’
 ((d)->
d_Çme
))

	)

86 #ifdeà
_DIRENT_HAVE_D_RECLEN


87 
	#_D_ALLOC_NAMLEN
(
d
è(((*è(dè+ (d)->
d_»ş’
è- &(d)->
d_Çme
[0])

	)

89 
	#_D_ALLOC_NAMLEN
(
d
è( (d)->
d_Çme
 > 1 ?  (d)->d_name : \

90 
	`_D_EXACT_NAMLEN
 (
d
è+ 1)

	)

95 #ifdeà
__USE_MISC


99 
	mDT_UNKNOWN
 = 0,

100 
	#DT_UNKNOWN
 
DT_UNKNOWN


	)

101 
	mDT_FIFO
 = 1,

102 
	#DT_FIFO
 
DT_FIFO


	)

103 
	mDT_CHR
 = 2,

104 
	#DT_CHR
 
DT_CHR


	)

105 
	mDT_DIR
 = 4,

106 
	#DT_DIR
 
DT_DIR


	)

107 
	mDT_BLK
 = 6,

108 
	#DT_BLK
 
DT_BLK


	)

109 
	mDT_REG
 = 8,

110 
	#DT_REG
 
DT_REG


	)

111 
	mDT_LNK
 = 10,

112 
	#DT_LNK
 
DT_LNK


	)

113 
	mDT_SOCK
 = 12,

114 
	#DT_SOCK
 
DT_SOCK


	)

115 
	mDT_WHT
 = 14

116 
	#DT_WHT
 
DT_WHT


	)

120 
	#IFTODT
(
mode
è(((modeè& 0170000è>> 12)

	)

121 
	#DTTOIF
(
dœty³
è((dœty³è<< 12)

	)

127 
__dœ¡»am
 
	tDIR
;

134 
DIR
 *
	$İ’dœ
 (cÚ¡ *
__Çme
è
	`__nÚnuÎ
 ((1));

136 #ifdeà
__USE_XOPEN2K8


141 
DIR
 *
	`fdİ’dœ
 (
__fd
);

149 
	$şo£dœ
 (
DIR
 *
__dœp
è
	`__nÚnuÎ
 ((1));

161 #iâdeà
__USE_FILE_OFFSET64


162 
dœ’t
 *
	$»addœ
 (
DIR
 *
__dœp
è
	`__nÚnuÎ
 ((1));

164 #ifdeà
__REDIRECT


165 
dœ’t
 *
	`__REDIRECT
 (
»addœ
, (
DIR
 *
__dœp
), 
»addœ64
)

166 
	`__nÚnuÎ
 ((1));

168 
	#»addœ
 
»addœ64


	)

172 #ifdeà
__USE_LARGEFILE64


173 
dœ’t64
 *
	$»addœ64
 (
DIR
 *
__dœp
è
	`__nÚnuÎ
 ((1));

176 #ifdeà
__USE_POSIX


182 #iâdeà
__USE_FILE_OFFSET64


183 
	$»addœ_r
 (
DIR
 *
__»¡riù
 
__dœp
,

184 
dœ’t
 *
__»¡riù
 
__’Œy
,

185 
dœ’t
 **
__»¡riù
 
__»suÉ
)

186 
	`__nÚnuÎ
 ((1, 2, 3)è
__©Œibu‹_d•»ÿ‹d__
;

188 #ifdeà
__REDIRECT


189 
	`__REDIRECT
 (
»addœ_r
,

190 (
DIR
 *
__»¡riù
 
__dœp
,

191 
dœ’t
 *
__»¡riù
 
__’Œy
,

192 
dœ’t
 **
__»¡riù
 
__»suÉ
),

193 
»addœ64_r
)

194 
	`__nÚnuÎ
 ((1, 2, 3)è
__©Œibu‹_d•»ÿ‹d__
;

196 
	#»addœ_r
 
»addœ64_r


	)

200 #ifdeà
__USE_LARGEFILE64


201 
	$»addœ64_r
 (
DIR
 *
__»¡riù
 
__dœp
,

202 
dœ’t64
 *
__»¡riù
 
__’Œy
,

203 
dœ’t64
 **
__»¡riù
 
__»suÉ
)

204 
	`__nÚnuÎ
 ((1, 2, 3)è
__©Œibu‹_d•»ÿ‹d__
;

209 
	$»wšddœ
 (
DIR
 *
__dœp
è
__THROW
 
	`__nÚnuÎ
 ((1));

211 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


212 
	~<b™s/ty³s.h
>

215 
	$£ekdœ
 (
DIR
 *
__dœp
, 
__pos
è
__THROW
 
	`__nÚnuÎ
 ((1));

218 
	$‹Îdœ
 (
DIR
 *
__dœp
è
__THROW
 
	`__nÚnuÎ
 ((1));

221 #ifdeà
__USE_XOPEN2K8


224 
	$dœfd
 (
DIR
 *
__dœp
è
__THROW
 
	`__nÚnuÎ
 ((1));

226 #ià
defšed
 
__OPTIMIZE__
 && defšed 
_DIR_dœfd


227 
	#dœfd
(
dœp
è
	`_DIR_dœfd
 (dœp)

	)

230 #ifdeà
__USE_MISC


231 #iâdeà
MAXNAMLEN


233 
	~<b™s/posix1_lim.h
>

236 #ifdeà
NAME_MAX


237 
	#MAXNAMLEN
 
NAME_MAX


	)

239 
	#MAXNAMLEN
 255

	)

244 
	#__Ãed_size_t


	)

245 
	~<¡ddef.h
>

254 #iâdeà
__USE_FILE_OFFSET64


255 
	$sÿndœ
 (cÚ¡ *
__»¡riù
 
__dœ
,

256 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

257 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

258 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

259 cÚ¡ 
dœ’t
 **))

260 
	`__nÚnuÎ
 ((1, 2));

262 #ifdeà
__REDIRECT


263 
	`__REDIRECT
 (
sÿndœ
,

264 (cÚ¡ *
__»¡riù
 
__dœ
,

265 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

266 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

267 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

268 cÚ¡ 
dœ’t
 **)),

269 
sÿndœ64
è
	`__nÚnuÎ
 ((1, 2));

271 
	#sÿndœ
 
sÿndœ64


	)

275 #ià
defšed
 
__USE_GNU
 && defšed 
__USE_LARGEFILE64


278 
	$sÿndœ64
 (cÚ¡ *
__»¡riù
 
__dœ
,

279 
dœ’t64
 ***
__»¡riù
 
__Çm–i¡
,

280 (*
__£ËùÜ
è(cÚ¡ 
dœ’t64
 *),

281 (*
__cmp
è(cÚ¡ 
dœ’t64
 **,

282 cÚ¡ 
dœ’t64
 **))

283 
	`__nÚnuÎ
 ((1, 2));

286 #ifdeà
__USE_GNU


292 #iâdeà
__USE_FILE_OFFSET64


293 
	$sÿndœ©
 (
__dfd
, cÚ¡ *
__»¡riù
 
__dœ
,

294 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

295 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

296 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

297 cÚ¡ 
dœ’t
 **))

298 
	`__nÚnuÎ
 ((2, 3));

300 #ifdeà
__REDIRECT


301 
	`__REDIRECT
 (
sÿndœ©
,

302 (
__dfd
, cÚ¡ *
__»¡riù
 
__dœ
,

303 
dœ’t
 ***
__»¡riù
 
__Çm–i¡
,

304 (*
__£ËùÜ
è(cÚ¡ 
dœ’t
 *),

305 (*
__cmp
è(cÚ¡ 
dœ’t
 **,

306 cÚ¡ 
dœ’t
 **)),

307 
sÿndœ©64
è
	`__nÚnuÎ
 ((2, 3));

309 
	#sÿndœ©
 
sÿndœ©64


	)

315 
	$sÿndœ©64
 (
__dfd
, cÚ¡ *
__»¡riù
 
__dœ
,

316 
dœ’t64
 ***
__»¡riù
 
__Çm–i¡
,

317 (*
__£ËùÜ
è(cÚ¡ 
dœ’t64
 *),

318 (*
__cmp
è(cÚ¡ 
dœ’t64
 **,

319 cÚ¡ 
dœ’t64
 **))

320 
	`__nÚnuÎ
 ((2, 3));

324 #iâdeà
__USE_FILE_OFFSET64


325 
	$®phasÜt
 (cÚ¡ 
dœ’t
 **
__e1
,

326 cÚ¡ 
dœ’t
 **
__e2
)

327 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

329 #ifdeà
__REDIRECT


330 
	`__REDIRECT_NTH
 (
®phasÜt
,

331 (cÚ¡ 
dœ’t
 **
__e1
,

332 cÚ¡ 
dœ’t
 **
__e2
),

333 
®phasÜt64
è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

335 
	#®phasÜt
 
®phasÜt64


	)

339 #ià
defšed
 
__USE_GNU
 && defšed 
__USE_LARGEFILE64


340 
	$®phasÜt64
 (cÚ¡ 
dœ’t64
 **
__e1
,

341 cÚ¡ 
dœ’t64
 **
__e2
)

342 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

347 #ifdeà
__USE_MISC


352 #iâdeà
__USE_FILE_OFFSET64


353 
__ssize_t
 
	$g‘dœ’Œ›s
 (
__fd
, *
__»¡riù
 
__buf
,

354 
size_t
 
__nby‹s
,

355 
__off_t
 *
__»¡riù
 
__ba£p
)

356 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

358 #ifdeà
__REDIRECT


359 
__ssize_t
 
	`__REDIRECT_NTH
 (
g‘dœ’Œ›s
,

360 (
__fd
, *
__»¡riù
 
__buf
,

361 
size_t
 
__nby‹s
,

362 
__off64_t
 *
__»¡riù
 
__ba£p
),

363 
g‘dœ’Œ›s64
è
	`__nÚnuÎ
 ((2, 4));

365 
	#g‘dœ’Œ›s
 
g‘dœ’Œ›s64


	)

369 #ifdeà
__USE_LARGEFILE64


370 
__ssize_t
 
	$g‘dœ’Œ›s64
 (
__fd
, *
__»¡riù
 
__buf
,

371 
size_t
 
__nby‹s
,

372 
__off64_t
 *
__»¡riù
 
__ba£p
)

373 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

377 #ifdeà
__USE_GNU


379 #iâdeà
__USE_FILE_OFFSET64


380 
	$v”siÚsÜt
 (cÚ¡ 
dœ’t
 **
__e1
,

381 cÚ¡ 
dœ’t
 **
__e2
)

382 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

384 #ifdeà
__REDIRECT


385 
	`__REDIRECT_NTH
 (
v”siÚsÜt
,

386 (cÚ¡ 
dœ’t
 **
__e1
,

387 cÚ¡ 
dœ’t
 **
__e2
),

388 
v”siÚsÜt64
)

389 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

391 
	#v”siÚsÜt
 
v”siÚsÜt64


	)

395 #ifdeà
__USE_LARGEFILE64


396 
	$v”siÚsÜt64
 (cÚ¡ 
dœ’t64
 **
__e1
,

397 cÚ¡ 
dœ’t64
 **
__e2
)

398 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

402 
__END_DECLS


	@/usr/include/endian.h

18 #iâdef 
_ENDIAN_H


19 
	#_ENDIAN_H
 1

	)

21 
	~<ã©u»s.h
>

31 
	#__LITTLE_ENDIAN
 1234

	)

32 
	#__BIG_ENDIAN
 4321

	)

33 
	#__PDP_ENDIAN
 3412

	)

36 
	~<b™s/’dŸn.h
>

40 #iâdeà
__FLOAT_WORD_ORDER


41 
	#__FLOAT_WORD_ORDER
 
__BYTE_ORDER


	)

44 #ifdef 
__USE_MISC


45 
	#LITTLE_ENDIAN
 
__LITTLE_ENDIAN


	)

46 
	#BIG_ENDIAN
 
__BIG_ENDIAN


	)

47 
	#PDP_ENDIAN
 
__PDP_ENDIAN


	)

48 
	#BYTE_ORDER
 
__BYTE_ORDER


	)

51 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


52 
	#__LONG_LONG_PAIR
(
HI
, 
LO
èLO, 
	)
HI

53 #–ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


54 
	#__LONG_LONG_PAIR
(
HI
, 
LO
èHI, 
	)
LO

58 #ià
defšed
 
__USE_MISC
 && !defšed 
__ASSEMBLER__


60 
	~<b™s/by‹sw­.h
>

61 
	~<b™s/ušŠ-id’t™y.h
>

63 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


64 
	#htobe16
(
x
è
	`__bsw­_16
 (x)

	)

65 
	#htŞe16
(
x
è
	`__ušt16_id’t™y
 (x)

	)

66 
	#be16toh
(
x
è
	`__bsw­_16
 (x)

	)

67 
	#Ë16toh
(
x
è
	`__ušt16_id’t™y
 (x)

	)

69 
	#htobe32
(
x
è
	`__bsw­_32
 (x)

	)

70 
	#htŞe32
(
x
è
	`__ušt32_id’t™y
 (x)

	)

71 
	#be32toh
(
x
è
	`__bsw­_32
 (x)

	)

72 
	#Ë32toh
(
x
è
	`__ušt32_id’t™y
 (x)

	)

74 
	#htobe64
(
x
è
	`__bsw­_64
 (x)

	)

75 
	#htŞe64
(
x
è
	`__ušt64_id’t™y
 (x)

	)

76 
	#be64toh
(
x
è
	`__bsw­_64
 (x)

	)

77 
	#Ë64toh
(
x
è
	`__ušt64_id’t™y
 (x)

	)

80 
	#htobe16
(
x
è
	`__ušt16_id’t™y
 (x)

	)

81 
	#htŞe16
(
x
è
	`__bsw­_16
 (x)

	)

82 
	#be16toh
(
x
è
	`__ušt16_id’t™y
 (x)

	)

83 
	#Ë16toh
(
x
è
	`__bsw­_16
 (x)

	)

85 
	#htobe32
(
x
è
	`__ušt32_id’t™y
 (x)

	)

86 
	#htŞe32
(
x
è
	`__bsw­_32
 (x)

	)

87 
	#be32toh
(
x
è
	`__ušt32_id’t™y
 (x)

	)

88 
	#Ë32toh
(
x
è
	`__bsw­_32
 (x)

	)

90 
	#htobe64
(
x
è
	`__ušt64_id’t™y
 (x)

	)

91 
	#htŞe64
(
x
è
	`__bsw­_64
 (x)

	)

92 
	#be64toh
(
x
è
	`__ušt64_id’t™y
 (x)

	)

93 
	#Ë64toh
(
x
è
	`__bsw­_64
 (x)

	)

	@/usr/include/errno.h

22 #iâdef 
_ERRNO_H


23 
	#_ERRNO_H
 1

	)

25 
	~<ã©u»s.h
>

28 
	~<b™s/”ºo.h
>

32 #iâdeà
__ASSEMBLER__


34 
__BEGIN_DECLS


37 *
	$__”ºo_loÿtiÚ
 (è
__THROW
 
__©Œibu‹_cÚ¡__
;

38 
	#”ºo
 (*
	`__”ºo_loÿtiÚ
 ())

	)

40 #ifdeà
__USE_GNU


45 *
´og¿m_švoÿtiÚ_Çme
;

46 *
´og¿m_švoÿtiÚ_shÜt_Çme
;

50 #iâdeà
__”rÜ_t_defšed


51 
	#__”rÜ_t_defšed
 1

	)

52 
	t”rÜ_t
;

57 
__END_DECLS


	@/usr/include/fcntl.h

22 #iâdef 
_FCNTL_H


23 
	#_FCNTL_H
 1

	)

25 
	~<ã©u»s.h
>

28 
	g__BEGIN_DECLS


31 
	~<b™s/ty³s.h
>

35 
	~<b™s/fú.h
>

39 #ifdeà
__O_TMPFILE


40 
	#__OPEN_NEEDS_MODE
(
oæag
) \

41 (((
oæag
è& 
O_CREAT
è!ğ0 || ((oæagè& 
__O_TMPFILE
è=ğ__O_TMPFILE)

	)

43 
	#__OPEN_NEEDS_MODE
(
oæag
è(((oæagè& 
O_CREAT
è!ğ0)

	)

49 #iâdeà
__mode_t_defšed


50 
__mode_t
 
	tmode_t
;

51 
	#__mode_t_defšed


	)

54 #iâdeà
__off_t_defšed


55 #iâdeà
__USE_FILE_OFFSET64


56 
__off_t
 
	toff_t
;

58 
__off64_t
 
	toff_t
;

60 
	#__off_t_defšed


	)

63 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


64 
__off64_t
 
	toff64_t
;

65 
	#__off64_t_defšed


	)

68 #iâdeà
__pid_t_defšed


69 
__pid_t
 
	tpid_t
;

70 
	#__pid_t_defšed


	)

74 #ifdeà
__USE_XOPEN2K8


75 
	~<b™s/ty³s/¡ruù_time¥ec.h
>

77 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


78 
	~<b™s/¡©.h
>

80 
	#S_IFMT
 
__S_IFMT


	)

81 
	#S_IFDIR
 
__S_IFDIR


	)

82 
	#S_IFCHR
 
__S_IFCHR


	)

83 
	#S_IFBLK
 
__S_IFBLK


	)

84 
	#S_IFREG
 
__S_IFREG


	)

85 #ifdeà
__S_IFIFO


86 
	#S_IFIFO
 
__S_IFIFO


	)

88 #ifdeà
__S_IFLNK


89 
	#S_IFLNK
 
__S_IFLNK


	)

91 #ià(
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8
è&& defšed 
__S_IFSOCK


92 
	#S_IFSOCK
 
__S_IFSOCK


	)

97 
	#S_ISUID
 
__S_ISUID


	)

98 
	#S_ISGID
 
__S_ISGID


	)

100 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


102 
	#S_ISVTX
 
__S_ISVTX


	)

105 
	#S_IRUSR
 
__S_IREAD


	)

106 
	#S_IWUSR
 
__S_IWRITE


	)

107 
	#S_IXUSR
 
__S_IEXEC


	)

109 
	#S_IRWXU
 (
__S_IREAD
|
__S_IWRITE
|
__S_IEXEC
)

	)

111 
	#S_IRGRP
 (
S_IRUSR
 >> 3è

	)

112 
	#S_IWGRP
 (
S_IWUSR
 >> 3è

	)

113 
	#S_IXGRP
 (
S_IXUSR
 >> 3è

	)

115 
	#S_IRWXG
 (
S_IRWXU
 >> 3)

	)

117 
	#S_IROTH
 (
S_IRGRP
 >> 3è

	)

118 
	#S_IWOTH
 (
S_IWGRP
 >> 3è

	)

119 
	#S_IXOTH
 (
S_IXGRP
 >> 3è

	)

121 
	#S_IRWXO
 (
S_IRWXG
 >> 3)

	)

124 #ifdef 
__USE_MISC


125 #iâdeà
R_OK


128 
	#R_OK
 4

	)

129 
	#W_OK
 2

	)

130 
	#X_OK
 1

	)

131 
	#F_OK
 0

	)

136 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


137 
	#SEEK_SET
 0

	)

138 
	#SEEK_CUR
 1

	)

139 
	#SEEK_END
 2

	)

147 
fú
 (
__fd
, 
__cmd
, ...);

156 #iâdeà
__USE_FILE_OFFSET64


157 
	$İ’
 (cÚ¡ *
__fe
, 
__oæag
, ...è
	`__nÚnuÎ
 ((1));

159 #ifdeà
__REDIRECT


160 
	`__REDIRECT
 (
İ’
, (cÚ¡ *
__fe
, 
__oæag
, ...), 
İ’64
)

161 
	`__nÚnuÎ
 ((1));

163 
	#İ’
 
İ’64


	)

166 #ifdeà
__USE_LARGEFILE64


167 
	$İ’64
 (cÚ¡ *
__fe
, 
__oæag
, ...è
	`__nÚnuÎ
 ((1));

170 #ifdeà
__USE_ATFILE


180 #iâdeà
__USE_FILE_OFFSET64


181 
	$İ’©
 (
__fd
, cÚ¡ *
__fe
, 
__oæag
, ...)

182 
	`__nÚnuÎ
 ((2));

184 #ifdeà
__REDIRECT


185 
	`__REDIRECT
 (
İ’©
, (
__fd
, cÚ¡ *
__fe
, 
__oæag
,

186 ...), 
İ’©64
è
	`__nÚnuÎ
 ((2));

188 
	#İ’©
 
İ’©64


	)

191 #ifdeà
__USE_LARGEFILE64


192 
	$İ’©64
 (
__fd
, cÚ¡ *
__fe
, 
__oæag
, ...)

193 
	`__nÚnuÎ
 ((2));

202 #iâdeà
__USE_FILE_OFFSET64


203 
	$ü—t
 (cÚ¡ *
__fe
, 
mode_t
 
__mode
è
	`__nÚnuÎ
 ((1));

205 #ifdeà
__REDIRECT


206 
	`__REDIRECT
 (
ü—t
, (cÚ¡ *
__fe
, 
mode_t
 
__mode
),

207 
ü—t64
è
	`__nÚnuÎ
 ((1));

209 
	#ü—t
 
ü—t64


	)

212 #ifdeà
__USE_LARGEFILE64


213 
	$ü—t64
 (cÚ¡ *
__fe
, 
mode_t
 
__mode
è
	`__nÚnuÎ
 ((1));

216 #ià!
defšed
 
F_LOCK
 && (defšed 
__USE_MISC
 || (defšed 
__USE_XOPEN_EXTENDED
 \

217 && !
defšed
 
__USE_POSIX
))

226 
	#F_ULOCK
 0

	)

227 
	#F_LOCK
 1

	)

228 
	#F_TLOCK
 2

	)

229 
	#F_TEST
 3

	)

231 #iâdeà
__USE_FILE_OFFSET64


232 
	`lockf
 (
__fd
, 
__cmd
, 
off_t
 
__Ën
);

234 #ifdeà
__REDIRECT


235 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
), 
lockf64
);

237 
	#lockf
 
lockf64


	)

240 #ifdeà
__USE_LARGEFILE64


241 
	`lockf64
 (
__fd
, 
__cmd
, 
off64_t
 
__Ën
);

245 #ifdeà
__USE_XOPEN2K


248 #iâdeà
__USE_FILE_OFFSET64


249 
	$posix_çdvi£
 (
__fd
, 
off_t
 
__off£t
, off_ˆ
__Ën
,

250 
__advi£
è
__THROW
;

252 #ifdeà
__REDIRECT_NTH


253 
	`__REDIRECT_NTH
 (
posix_çdvi£
, (
__fd
, 
__off64_t
 
__off£t
,

254 
__off64_t
 
__Ën
, 
__advi£
),

255 
posix_çdvi£64
);

257 
	#posix_çdvi£
 
posix_çdvi£64


	)

260 #ifdeà
__USE_LARGEFILE64


261 
	$posix_çdvi£64
 (
__fd
, 
off64_t
 
__off£t
, off64_ˆ
__Ën
,

262 
__advi£
è
__THROW
;

270 #iâdeà
__USE_FILE_OFFSET64


271 
	`posix_çÎoÿ‹
 (
__fd
, 
off_t
 
__off£t
, off_ˆ
__Ën
);

273 #ifdeà
__REDIRECT


274 
	`__REDIRECT
 (
posix_çÎoÿ‹
, (
__fd
, 
__off64_t
 
__off£t
,

275 
__off64_t
 
__Ën
),

276 
posix_çÎoÿ‹64
);

278 
	#posix_çÎoÿ‹
 
posix_çÎoÿ‹64


	)

281 #ifdeà
__USE_LARGEFILE64


282 
	`posix_çÎoÿ‹64
 (
__fd
, 
off64_t
 
__off£t
, off64_ˆ
__Ën
);

288 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ
 \

289 && 
defšed
 
__va_¬g_·ck_Ën


290 
	~<b™s/fú2.h
>

293 
__END_DECLS


	@/usr/include/ifaddrs.h

19 #iâdeà
_IFADDRS_H


20 
	#_IFADDRS_H
 1

	)

22 
	~<ã©u»s.h
>

23 
	~<sys/sock‘.h
>

25 
__BEGIN_DECLS


29 
	siçddrs


31 
içddrs
 *
	miç_Ãxt
;

33 *
	miç_Çme
;

34 
	miç_æags
;

36 
sockaddr
 *
	miç_addr
;

37 
sockaddr
 *
	miç_Ãtmask
;

44 
sockaddr
 *
	mifu_brßdaddr
;

45 
sockaddr
 *
	mifu_d¡addr
;

46 } 
	miç_ifu
;

49 #iâdeà
iç_brßdaddr


50 
	#iç_brßdaddr
 
iç_ifu
.
ifu_brßdaddr


	)

52 #iâdeà
iç_d¡addr


53 
	#iç_d¡addr
 
iç_ifu
.
ifu_d¡addr


	)

56 *
	miç_d©a
;

66 
	$g‘içddrs
 (
içddrs
 **
__içp
è
__THROW
;

69 
	$ä“içddrs
 (
içddrs
 *
__iç
è
__THROW
;

71 
__END_DECLS


	@/usr/include/inttypes.h

22 #iâdeà
_INTTYPES_H


23 
	#_INTTYPES_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	~<¡dšt.h
>

30 #iâdeà
____gwch¬_t_defšed


31 #ifdeà
__ılu¥lus


32 
	#__gwch¬_t
 
wch¬_t


	)

33 #–ià
defšed
 
__WCHAR_TYPE__


34 
__WCHAR_TYPE__
 
	t__gwch¬_t
;

36 
	#__Ãed_wch¬_t


	)

37 
	~<¡ddef.h
>

38 
wch¬_t
 
	t__gwch¬_t
;

40 
	#____gwch¬_t_defšed
 1

	)

43 #ià
__WORDSIZE
 == 64

44 
	#__PRI64_PREFIX
 "l"

	)

45 
	#__PRIPTR_PREFIX
 "l"

	)

47 
	#__PRI64_PREFIX
 "Î"

	)

48 
	#__PRIPTR_PREFIX


	)

54 
	#PRId8
 "d"

	)

55 
	#PRId16
 "d"

	)

56 
	#PRId32
 "d"

	)

57 
	#PRId64
 
__PRI64_PREFIX
 "d"

	)

59 
	#PRIdLEAST8
 "d"

	)

60 
	#PRIdLEAST16
 "d"

	)

61 
	#PRIdLEAST32
 "d"

	)

62 
	#PRIdLEAST64
 
__PRI64_PREFIX
 "d"

	)

64 
	#PRIdFAST8
 "d"

	)

65 
	#PRIdFAST16
 
__PRIPTR_PREFIX
 "d"

	)

66 
	#PRIdFAST32
 
__PRIPTR_PREFIX
 "d"

	)

67 
	#PRIdFAST64
 
__PRI64_PREFIX
 "d"

	)

70 
	#PRIi8
 "i"

	)

71 
	#PRIi16
 "i"

	)

72 
	#PRIi32
 "i"

	)

73 
	#PRIi64
 
__PRI64_PREFIX
 "i"

	)

75 
	#PRIiLEAST8
 "i"

	)

76 
	#PRIiLEAST16
 "i"

	)

77 
	#PRIiLEAST32
 "i"

	)

78 
	#PRIiLEAST64
 
__PRI64_PREFIX
 "i"

	)

80 
	#PRIiFAST8
 "i"

	)

81 
	#PRIiFAST16
 
__PRIPTR_PREFIX
 "i"

	)

82 
	#PRIiFAST32
 
__PRIPTR_PREFIX
 "i"

	)

83 
	#PRIiFAST64
 
__PRI64_PREFIX
 "i"

	)

86 
	#PRIo8
 "o"

	)

87 
	#PRIo16
 "o"

	)

88 
	#PRIo32
 "o"

	)

89 
	#PRIo64
 
__PRI64_PREFIX
 "o"

	)

91 
	#PRIoLEAST8
 "o"

	)

92 
	#PRIoLEAST16
 "o"

	)

93 
	#PRIoLEAST32
 "o"

	)

94 
	#PRIoLEAST64
 
__PRI64_PREFIX
 "o"

	)

96 
	#PRIoFAST8
 "o"

	)

97 
	#PRIoFAST16
 
__PRIPTR_PREFIX
 "o"

	)

98 
	#PRIoFAST32
 
__PRIPTR_PREFIX
 "o"

	)

99 
	#PRIoFAST64
 
__PRI64_PREFIX
 "o"

	)

102 
	#PRIu8
 "u"

	)

103 
	#PRIu16
 "u"

	)

104 
	#PRIu32
 "u"

	)

105 
	#PRIu64
 
__PRI64_PREFIX
 "u"

	)

107 
	#PRIuLEAST8
 "u"

	)

108 
	#PRIuLEAST16
 "u"

	)

109 
	#PRIuLEAST32
 "u"

	)

110 
	#PRIuLEAST64
 
__PRI64_PREFIX
 "u"

	)

112 
	#PRIuFAST8
 "u"

	)

113 
	#PRIuFAST16
 
__PRIPTR_PREFIX
 "u"

	)

114 
	#PRIuFAST32
 
__PRIPTR_PREFIX
 "u"

	)

115 
	#PRIuFAST64
 
__PRI64_PREFIX
 "u"

	)

118 
	#PRIx8
 "x"

	)

119 
	#PRIx16
 "x"

	)

120 
	#PRIx32
 "x"

	)

121 
	#PRIx64
 
__PRI64_PREFIX
 "x"

	)

123 
	#PRIxLEAST8
 "x"

	)

124 
	#PRIxLEAST16
 "x"

	)

125 
	#PRIxLEAST32
 "x"

	)

126 
	#PRIxLEAST64
 
__PRI64_PREFIX
 "x"

	)

128 
	#PRIxFAST8
 "x"

	)

129 
	#PRIxFAST16
 
__PRIPTR_PREFIX
 "x"

	)

130 
	#PRIxFAST32
 
__PRIPTR_PREFIX
 "x"

	)

131 
	#PRIxFAST64
 
__PRI64_PREFIX
 "x"

	)

134 
	#PRIX8
 "X"

	)

135 
	#PRIX16
 "X"

	)

136 
	#PRIX32
 "X"

	)

137 
	#PRIX64
 
__PRI64_PREFIX
 "X"

	)

139 
	#PRIXLEAST8
 "X"

	)

140 
	#PRIXLEAST16
 "X"

	)

141 
	#PRIXLEAST32
 "X"

	)

142 
	#PRIXLEAST64
 
__PRI64_PREFIX
 "X"

	)

144 
	#PRIXFAST8
 "X"

	)

145 
	#PRIXFAST16
 
__PRIPTR_PREFIX
 "X"

	)

146 
	#PRIXFAST32
 
__PRIPTR_PREFIX
 "X"

	)

147 
	#PRIXFAST64
 
__PRI64_PREFIX
 "X"

	)

151 
	#PRIdMAX
 
__PRI64_PREFIX
 "d"

	)

152 
	#PRIiMAX
 
__PRI64_PREFIX
 "i"

	)

153 
	#PRIoMAX
 
__PRI64_PREFIX
 "o"

	)

154 
	#PRIuMAX
 
__PRI64_PREFIX
 "u"

	)

155 
	#PRIxMAX
 
__PRI64_PREFIX
 "x"

	)

156 
	#PRIXMAX
 
__PRI64_PREFIX
 "X"

	)

160 
	#PRIdPTR
 
__PRIPTR_PREFIX
 "d"

	)

161 
	#PRIiPTR
 
__PRIPTR_PREFIX
 "i"

	)

162 
	#PRIoPTR
 
__PRIPTR_PREFIX
 "o"

	)

163 
	#PRIuPTR
 
__PRIPTR_PREFIX
 "u"

	)

164 
	#PRIxPTR
 
__PRIPTR_PREFIX
 "x"

	)

165 
	#PRIXPTR
 
__PRIPTR_PREFIX
 "X"

	)

171 
	#SCNd8
 "hhd"

	)

172 
	#SCNd16
 "hd"

	)

173 
	#SCNd32
 "d"

	)

174 
	#SCNd64
 
__PRI64_PREFIX
 "d"

	)

176 
	#SCNdLEAST8
 "hhd"

	)

177 
	#SCNdLEAST16
 "hd"

	)

178 
	#SCNdLEAST32
 "d"

	)

179 
	#SCNdLEAST64
 
__PRI64_PREFIX
 "d"

	)

181 
	#SCNdFAST8
 "hhd"

	)

182 
	#SCNdFAST16
 
__PRIPTR_PREFIX
 "d"

	)

183 
	#SCNdFAST32
 
__PRIPTR_PREFIX
 "d"

	)

184 
	#SCNdFAST64
 
__PRI64_PREFIX
 "d"

	)

187 
	#SCNi8
 "hhi"

	)

188 
	#SCNi16
 "hi"

	)

189 
	#SCNi32
 "i"

	)

190 
	#SCNi64
 
__PRI64_PREFIX
 "i"

	)

192 
	#SCNiLEAST8
 "hhi"

	)

193 
	#SCNiLEAST16
 "hi"

	)

194 
	#SCNiLEAST32
 "i"

	)

195 
	#SCNiLEAST64
 
__PRI64_PREFIX
 "i"

	)

197 
	#SCNiFAST8
 "hhi"

	)

198 
	#SCNiFAST16
 
__PRIPTR_PREFIX
 "i"

	)

199 
	#SCNiFAST32
 
__PRIPTR_PREFIX
 "i"

	)

200 
	#SCNiFAST64
 
__PRI64_PREFIX
 "i"

	)

203 
	#SCNu8
 "hhu"

	)

204 
	#SCNu16
 "hu"

	)

205 
	#SCNu32
 "u"

	)

206 
	#SCNu64
 
__PRI64_PREFIX
 "u"

	)

208 
	#SCNuLEAST8
 "hhu"

	)

209 
	#SCNuLEAST16
 "hu"

	)

210 
	#SCNuLEAST32
 "u"

	)

211 
	#SCNuLEAST64
 
__PRI64_PREFIX
 "u"

	)

213 
	#SCNuFAST8
 "hhu"

	)

214 
	#SCNuFAST16
 
__PRIPTR_PREFIX
 "u"

	)

215 
	#SCNuFAST32
 
__PRIPTR_PREFIX
 "u"

	)

216 
	#SCNuFAST64
 
__PRI64_PREFIX
 "u"

	)

219 
	#SCNo8
 "hho"

	)

220 
	#SCNo16
 "ho"

	)

221 
	#SCNo32
 "o"

	)

222 
	#SCNo64
 
__PRI64_PREFIX
 "o"

	)

224 
	#SCNoLEAST8
 "hho"

	)

225 
	#SCNoLEAST16
 "ho"

	)

226 
	#SCNoLEAST32
 "o"

	)

227 
	#SCNoLEAST64
 
__PRI64_PREFIX
 "o"

	)

229 
	#SCNoFAST8
 "hho"

	)

230 
	#SCNoFAST16
 
__PRIPTR_PREFIX
 "o"

	)

231 
	#SCNoFAST32
 
__PRIPTR_PREFIX
 "o"

	)

232 
	#SCNoFAST64
 
__PRI64_PREFIX
 "o"

	)

235 
	#SCNx8
 "hhx"

	)

236 
	#SCNx16
 "hx"

	)

237 
	#SCNx32
 "x"

	)

238 
	#SCNx64
 
__PRI64_PREFIX
 "x"

	)

240 
	#SCNxLEAST8
 "hhx"

	)

241 
	#SCNxLEAST16
 "hx"

	)

242 
	#SCNxLEAST32
 "x"

	)

243 
	#SCNxLEAST64
 
__PRI64_PREFIX
 "x"

	)

245 
	#SCNxFAST8
 "hhx"

	)

246 
	#SCNxFAST16
 
__PRIPTR_PREFIX
 "x"

	)

247 
	#SCNxFAST32
 
__PRIPTR_PREFIX
 "x"

	)

248 
	#SCNxFAST64
 
__PRI64_PREFIX
 "x"

	)

252 
	#SCNdMAX
 
__PRI64_PREFIX
 "d"

	)

253 
	#SCNiMAX
 
__PRI64_PREFIX
 "i"

	)

254 
	#SCNoMAX
 
__PRI64_PREFIX
 "o"

	)

255 
	#SCNuMAX
 
__PRI64_PREFIX
 "u"

	)

256 
	#SCNxMAX
 
__PRI64_PREFIX
 "x"

	)

259 
	#SCNdPTR
 
__PRIPTR_PREFIX
 "d"

	)

260 
	#SCNiPTR
 
__PRIPTR_PREFIX
 "i"

	)

261 
	#SCNoPTR
 
__PRIPTR_PREFIX
 "o"

	)

262 
	#SCNuPTR
 
__PRIPTR_PREFIX
 "u"

	)

263 
	#SCNxPTR
 
__PRIPTR_PREFIX
 "x"

	)

266 
	g__BEGIN_DECLS


268 #ià
__WORDSIZE
 == 64

273 
	mquÙ
;

274 
	m»m
;

275 } 
	timaxdiv_t
;

282 
__ex‹nsiÚ__
 
	mquÙ
;

283 
__ex‹nsiÚ__
 
	m»m
;

284 } 
	timaxdiv_t
;

290 
štmax_t
 
	$imaxabs
 (
štmax_t
 
__n
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

293 
imaxdiv_t
 
	$imaxdiv
 (
štmax_t
 
__num”
, iÁmax_ˆ
__d’om
)

294 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

297 
štmax_t
 
	$¡¹oimax
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

298 **
__»¡riù
 
__’d±r
, 
__ba£
è
__THROW
;

301 
uštmax_t
 
	$¡¹oumax
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

302 ** 
__»¡riù
 
__’d±r
, 
__ba£
è
__THROW
;

305 
štmax_t
 
	$wc¡oimax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
__ÅŒ
,

306 
__gwch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

307 
__THROW
;

310 
uštmax_t
 
	$wc¡oumax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
__ÅŒ
,

311 
__gwch¬_t
 ** 
__»¡riù
 
__’d±r
, 
__ba£
)

312 
__THROW
;

314 #ifdeà
__USE_EXTERN_INLINES


316 #ià
__WORDSIZE
 == 64

318 
	$__¡¹Ş_š‹º®
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

319 **
__»¡riù
 
__’d±r
,

320 
__ba£
, 
__group
)

321 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

323 
__ex‹º_šlše
 
štmax_t


324 
	`__NTH
 (
	$¡¹oimax
 (cÚ¡ *
__»¡riù
 
ÅŒ
, **__»¡riù 
’d±r
,

325 
ba£
))

327  
	`__¡¹Ş_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

328 
	}
}

330 
	$__¡¹oul_š‹º®
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

331 ** 
__»¡riù
 
__’d±r
,

332 
__ba£
, 
__group
)

333 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

335 
__ex‹º_šlše
 
uštmax_t


336 
	`__NTH
 (
	$¡¹oumax
 (cÚ¡ *
__»¡riù
 
ÅŒ
, **__»¡riù 
’d±r
,

337 
ba£
))

339  
	`__¡¹oul_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

340 
	}
}

342 
	$__wc¡Ş_š‹º®
 (cÚ¡ 
__gwch¬_t
 * 
__»¡riù
 
__ÅŒ
,

343 
__gwch¬_t
 **
__»¡riù
 
__’d±r
,

344 
__ba£
, 
__group
)

345 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

347 
__ex‹º_šlše
 
štmax_t


348 
	`__NTH
 (
	$wc¡oimax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
ÅŒ
,

349 
__gwch¬_t
 **
__»¡riù
 
’d±r
, 
ba£
))

351  
	`__wc¡Ş_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

352 
	}
}

354 
	$__wc¡oul_š‹º®
 (cÚ¡ 
__gwch¬_t
 *

355 
__»¡riù
 
__ÅŒ
,

356 
__gwch¬_t
 **

357 
__»¡riù
 
__’d±r
,

358 
__ba£
, 
__group
)

359 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

361 
__ex‹º_šlše
 
uštmax_t


362 
	`__NTH
 (
	$wc¡oumax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
ÅŒ
,

363 
__gwch¬_t
 **
__»¡riù
 
’d±r
, 
ba£
))

365  
	`__wc¡oul_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

366 
	}
}

370 
__ex‹nsiÚ__


371 
	$__¡¹Şl_š‹º®
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

372 **
__»¡riù
 
__’d±r
,

373 
__ba£
, 
__group
)

374 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

376 
__ex‹º_šlše
 
štmax_t


377 
	`__NTH
 (
	$¡¹oimax
 (cÚ¡ *
__»¡riù
 
ÅŒ
, **__»¡riù 
’d±r
,

378 
ba£
))

380  
	`__¡¹Şl_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

381 
	}
}

383 
__ex‹nsiÚ__


384 
	$__¡¹ouÎ_š‹º®
 (const *

385 
__»¡riù
 
__ÅŒ
,

387 
__»¡riù
 
__’d±r
,

388 
__ba£
,

389 
__group
)

390 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

392 
__ex‹º_šlše
 
uštmax_t


393 
	`__NTH
 (
	$¡¹oumax
 (cÚ¡ *
__»¡riù
 
ÅŒ
, **__»¡riù 
’d±r
,

394 
ba£
))

396  
	`__¡¹ouÎ_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

397 
	}
}

399 
__ex‹nsiÚ__


400 
	$__wc¡Şl_š‹º®
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
__ÅŒ
,

401 
__gwch¬_t
 **
__»¡riù
 
__’d±r
,

402 
__ba£
, 
__group
)

403 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

405 
__ex‹º_šlše
 
štmax_t


406 
	`__NTH
 (
	$wc¡oimax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
ÅŒ
,

407 
__gwch¬_t
 **
__»¡riù
 
’d±r
, 
ba£
))

409  
	`__wc¡Şl_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

410 
	}
}

413 
__ex‹nsiÚ__


414 
	$__wc¡ouÎ_š‹º®
 (cÚ¡ 
__gwch¬_t
 *

415 
__»¡riù
 
__ÅŒ
,

416 
__gwch¬_t
 **

417 
__»¡riù
 
__’d±r
,

418 
__ba£
,

419 
__group
)

420 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

422 
__ex‹º_šlše
 
uštmax_t


423 
	`__NTH
 (
	$wc¡oumax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
ÅŒ
,

424 
__gwch¬_t
 **
__»¡riù
 
’d±r
, 
ba£
))

426  
	`__wc¡ouÎ_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

427 
	}
}

432 
	g__END_DECLS


	@/usr/include/limits.h

22 #iâdeà
_LIBC_LIMITS_H_


23 
	#_LIBC_LIMITS_H_
 1

	)

25 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

26 
	~<b™s/libc-h—d”-¡¬t.h
>

32 
	#MB_LEN_MAX
 16

	)

37 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2

42 #iâdeà
_LIMITS_H


43 
	#_LIMITS_H
 1

	)

45 
	~<b™s/wÜdsize.h
>

54 
	#CHAR_BIT
 8

	)

57 
	#SCHAR_MIN
 (-128)

	)

58 
	#SCHAR_MAX
 127

	)

61 
	#UCHAR_MAX
 255

	)

64 #ifdeà
__CHAR_UNSIGNED__


65 
	#CHAR_MIN
 0

	)

66 
	#CHAR_MAX
 
UCHAR_MAX


	)

68 
	#CHAR_MIN
 
SCHAR_MIN


	)

69 
	#CHAR_MAX
 
SCHAR_MAX


	)

73 
	#SHRT_MIN
 (-32768)

	)

74 
	#SHRT_MAX
 32767

	)

77 
	#USHRT_MAX
 65535

	)

80 
	#INT_MIN
 (-
INT_MAX
 - 1)

	)

81 
	#INT_MAX
 2147483647

	)

84 
	#UINT_MAX
 4294967295U

	)

87 #ià
__WORDSIZE
 == 64

88 
	#LONG_MAX
 9223372036854775807L

	)

90 
	#LONG_MAX
 2147483647L

	)

92 
	#LONG_MIN
 (-
LONG_MAX
 - 1L)

	)

95 #ià
__WORDSIZE
 == 64

96 
	#ULONG_MAX
 18446744073709551615UL

	)

98 
	#ULONG_MAX
 4294967295UL

	)

101 #ifdeà
__USE_ISOC99


104 
	#LLONG_MAX
 9223372036854775807LL

	)

105 
	#LLONG_MIN
 (-
LLONG_MAX
 - 1LL)

	)

108 
	#ULLONG_MAX
 18446744073709551615ULL

	)

122 #ià
defšed
 
__GNUC__
 && !defšed 
_GCC_LIMITS_H_


124 #šşude_Ãxˆ<
lim™s
.
h
>

130 #ià
defšed
 
__USE_ISOC99
 && defšed 
__GNUC__


131 #iâdeà
LLONG_MIN


132 
	#LLONG_MIN
 (-
LLONG_MAX
-1)

	)

134 #iâdeà
LLONG_MAX


135 
	#LLONG_MAX
 
__LONG_LONG_MAX__


	)

137 #iâdeà
ULLONG_MAX


138 
	#ULLONG_MAX
 (
LLONG_MAX
 * 2ULL + 1)

	)

145 #ià
__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

146 #iâdeà
CHAR_WIDTH


147 
	#CHAR_WIDTH
 8

	)

149 #iâdeà
SCHAR_WIDTH


150 
	#SCHAR_WIDTH
 8

	)

152 #iâdeà
UCHAR_WIDTH


153 
	#UCHAR_WIDTH
 8

	)

155 #iâdeà
SHRT_WIDTH


156 
	#SHRT_WIDTH
 16

	)

158 #iâdeà
USHRT_WIDTH


159 
	#USHRT_WIDTH
 16

	)

161 #iâdeà
INT_WIDTH


162 
	#INT_WIDTH
 32

	)

164 #iâdeà
UINT_WIDTH


165 
	#UINT_WIDTH
 32

	)

167 #iâdeà
LONG_WIDTH


168 
	#LONG_WIDTH
 
__WORDSIZE


	)

170 #iâdeà
ULONG_WIDTH


171 
	#ULONG_WIDTH
 
__WORDSIZE


	)

173 #iâdeà
LLONG_WIDTH


174 
	#LLONG_WIDTH
 64

	)

176 #iâdeà
ULLONG_WIDTH


177 
	#ULLONG_WIDTH
 64

	)

181 #ifdef 
__USE_POSIX


183 
	~<b™s/posix1_lim.h
>

186 #ifdef 
__USE_POSIX2


187 
	~<b™s/posix2_lim.h
>

190 #ifdef 
__USE_XOPEN


191 
	~<b™s/xİ’_lim.h
>

	@/usr/include/linux/netlink.h

2 #iâdeà
__LINUX_NETLINK_H


3 
	#__LINUX_NETLINK_H


	)

5 
	~<lšux/k”Ãl.h
>

6 
	~<lšux/sock‘.h
>

7 
	~<lšux/ty³s.h
>

9 
	#NETLINK_ROUTE
 0

	)

10 
	#NETLINK_UNUSED
 1

	)

11 
	#NETLINK_USERSOCK
 2

	)

12 
	#NETLINK_FIREWALL
 3

	)

13 
	#NETLINK_SOCK_DIAG
 4

	)

14 
	#NETLINK_NFLOG
 5

	)

15 
	#NETLINK_XFRM
 6

	)

16 
	#NETLINK_SELINUX
 7

	)

17 
	#NETLINK_ISCSI
 8

	)

18 
	#NETLINK_AUDIT
 9

	)

19 
	#NETLINK_FIB_LOOKUP
 10

	)

20 
	#NETLINK_CONNECTOR
 11

	)

21 
	#NETLINK_NETFILTER
 12

	)

22 
	#NETLINK_IP6_FW
 13

	)

23 
	#NETLINK_DNRTMSG
 14

	)

24 
	#NETLINK_KOBJECT_UEVENT
 15

	)

25 
	#NETLINK_GENERIC
 16

	)

27 
	#NETLINK_SCSITRANSPORT
 18

	)

28 
	#NETLINK_ECRYPTFS
 19

	)

29 
	#NETLINK_RDMA
 20

	)

30 
	#NETLINK_CRYPTO
 21

	)

31 
	#NETLINK_SMC
 22

	)

33 
	#NETLINK_INET_DIAG
 
NETLINK_SOCK_DIAG


	)

35 
	#MAX_LINKS
 32

	)

37 
	ssockaddr_Æ
 {

38 
__k”Ãl_§_çmy_t
 
	mÆ_çmy
;

39 
	mÆ_·d
;

40 
__u32
 
	mÆ_pid
;

41 
__u32
 
	mÆ_groups
;

44 
	sÆmsghdr
 {

45 
__u32
 
	mÆmsg_Ën
;

46 
__u16
 
	mÆmsg_ty³
;

47 
__u16
 
	mÆmsg_æags
;

48 
__u32
 
	mÆmsg_£q
;

49 
__u32
 
	mÆmsg_pid
;

54 
	#NLM_F_REQUEST
 0x01

	)

55 
	#NLM_F_MULTI
 0x02

	)

56 
	#NLM_F_ACK
 0x04

	)

57 
	#NLM_F_ECHO
 0x08

	)

58 
	#NLM_F_DUMP_INTR
 0x10

	)

59 
	#NLM_F_DUMP_FILTERED
 0x20

	)

62 
	#NLM_F_ROOT
 0x100

	)

63 
	#NLM_F_MATCH
 0x200

	)

64 
	#NLM_F_ATOMIC
 0x400

	)

65 
	#NLM_F_DUMP
 (
NLM_F_ROOT
|
NLM_F_MATCH
)

	)

68 
	#NLM_F_REPLACE
 0x100

	)

69 
	#NLM_F_EXCL
 0x200

	)

70 
	#NLM_F_CREATE
 0x400

	)

71 
	#NLM_F_APPEND
 0x800

	)

74 
	#NLM_F_NONREC
 0x100

	)

77 
	#NLM_F_CAPPED
 0x100

	)

78 
	#NLM_F_ACK_TLVS
 0x200

	)

89 
	#NLMSG_ALIGNTO
 4U

	)

90 
	#NLMSG_ALIGN
(
Ën
èĞ(Ö’)+
NLMSG_ALIGNTO
-1è& ~(NLMSG_ALIGNTO-1è)

	)

91 
	#NLMSG_HDRLEN
 ((è
	`NLMSG_ALIGN
((
Æmsghdr
)))

	)

92 
	#NLMSG_LENGTH
(
Ën
è(Ö’è+ 
NLMSG_HDRLEN
)

	)

93 
	#NLMSG_SPACE
(
Ën
è
	`NLMSG_ALIGN
(
	`NLMSG_LENGTH
Ö’))

	)

94 
	#NLMSG_DATA
(
Æh
è((*)(((*êlhè+ 
	`NLMSG_LENGTH
(0)))

	)

95 
	#NLMSG_NEXT
(
Æh
,
Ën
è(Ö’è-ğ
	`NLMSG_ALIGN
(Òlh)->
Æmsg_Ën
), \

96 (
Æmsghdr
*)(((*)(
Æh
)è+ 
	`NLMSG_ALIGN
(Òlh)->
Æmsg_Ën
)))

	)

97 
	#NLMSG_OK
(
Æh
,
Ën
è(Ö’è>ğ()(
Æmsghdr
) && \

98 (
Æh
)->
Æmsg_Ën
 >ğ(
Æmsghdr
) && \

99 (
Æh
)->
Æmsg_Ën
 <ğ(
Ën
))

	)

100 
	#NLMSG_PAYLOAD
(
Æh
,
Ën
è(Òlh)->
Æmsg_Ën
 - 
	`NLMSG_SPACE
(Ö’)))

	)

102 
	#NLMSG_NOOP
 0x1

	)

103 
	#NLMSG_ERROR
 0x2

	)

104 
	#NLMSG_DONE
 0x3

	)

105 
	#NLMSG_OVERRUN
 0x4

	)

107 
	#NLMSG_MIN_TYPE
 0x10

	)

109 
	sÆmsg”r
 {

110 
	m”rÜ
;

111 
Æmsghdr
 
	mmsg
;

135 
	eÆmsg”r_©Œs
 {

136 
	mNLMSGERR_ATTR_UNUSED
,

137 
	mNLMSGERR_ATTR_MSG
,

138 
	mNLMSGERR_ATTR_OFFS
,

139 
	mNLMSGERR_ATTR_COOKIE
,

141 
	m__NLMSGERR_ATTR_MAX
,

142 
	mNLMSGERR_ATTR_MAX
 = 
__NLMSGERR_ATTR_MAX
 - 1

145 
	#NETLINK_ADD_MEMBERSHIP
 1

	)

146 
	#NETLINK_DROP_MEMBERSHIP
 2

	)

147 
	#NETLINK_PKTINFO
 3

	)

148 
	#NETLINK_BROADCAST_ERROR
 4

	)

149 
	#NETLINK_NO_ENOBUFS
 5

	)

150 
	#NETLINK_RX_RING
 6

	)

151 
	#NETLINK_TX_RING
 7

	)

152 
	#NETLINK_LISTEN_ALL_NSID
 8

	)

153 
	#NETLINK_LIST_MEMBERSHIPS
 9

	)

154 
	#NETLINK_CAP_ACK
 10

	)

155 
	#NETLINK_EXT_ACK
 11

	)

157 
	sÆ_pktšfo
 {

158 
__u32
 
	mgroup
;

161 
	sÆ_mm­_»q
 {

162 
	mnm_block_size
;

163 
	mnm_block_Ä
;

164 
	mnm_äame_size
;

165 
	mnm_äame_Ä
;

168 
	sÆ_mm­_hdr
 {

169 
	mnm_¡©us
;

170 
	mnm_Ën
;

171 
__u32
 
	mnm_group
;

173 
__u32
 
	mnm_pid
;

174 
__u32
 
	mnm_uid
;

175 
__u32
 
	mnm_gid
;

178 
	eÆ_mm­_¡©us
 {

179 
	mNL_MMAP_STATUS_UNUSED
,

180 
	mNL_MMAP_STATUS_RESERVED
,

181 
	mNL_MMAP_STATUS_VALID
,

182 
	mNL_MMAP_STATUS_COPY
,

183 
	mNL_MMAP_STATUS_SKIP
,

186 
	#NL_MMAP_MSG_ALIGNMENT
 
NLMSG_ALIGNTO


	)

187 
	#NL_MMAP_MSG_ALIGN
(
sz
è
	`__ALIGN_KERNEL
(sz, 
NL_MMAP_MSG_ALIGNMENT
)

	)

188 
	#NL_MMAP_HDRLEN
 
	`NL_MMAP_MSG_ALIGN
((
Æ_mm­_hdr
))

	)

190 
	#NET_MAJOR
 36

	)

193 
	mNETLINK_UNCONNECTED
 = 0,

194 
	mNETLINK_CONNECTED
,

206 
	sÆ©Œ
 {

207 
__u16
 
	mÆa_Ën
;

208 
__u16
 
	mÆa_ty³
;

221 
	#NLA_F_NESTED
 (1 << 15)

	)

222 
	#NLA_F_NET_BYTEORDER
 (1 << 14)

	)

223 
	#NLA_TYPE_MASK
 ~(
NLA_F_NESTED
 | 
NLA_F_NET_BYTEORDER
)

	)

225 
	#NLA_ALIGNTO
 4

	)

226 
	#NLA_ALIGN
(
Ën
è((Ö’è+ 
NLA_ALIGNTO
 - 1è& ~(NLA_ALIGNTO - 1))

	)

227 
	#NLA_HDRLEN
 ((è
	`NLA_ALIGN
((
Æ©Œ
)))

	)

242 
	sÆa_b™f›ld32
 {

243 
__u32
 
	mv®ue
;

244 
__u32
 
	m£ËùÜ
;

	@/usr/include/linux/rtnetlink.h

2 #iâdeà
__LINUX_RTNETLINK_H


3 
	#__LINUX_RTNETLINK_H


	)

5 
	~<lšux/ty³s.h
>

6 
	~<lšux/Ãšk.h
>

7 
	~<lšux/if_lšk.h
>

8 
	~<lšux/if_addr.h
>

9 
	~<lšux/Ãighbour.h
>

14 
	#RTNL_FAMILY_IPMR
 128

	)

15 
	#RTNL_FAMILY_IP6MR
 129

	)

16 
	#RTNL_FAMILY_MAX
 129

	)

25 
	mRTM_BASE
 = 16,

26 
	#RTM_BASE
 
RTM_BASE


	)

28 
	mRTM_NEWLINK
 = 16,

29 
	#RTM_NEWLINK
 
RTM_NEWLINK


	)

30 
	mRTM_DELLINK
,

31 
	#RTM_DELLINK
 
RTM_DELLINK


	)

32 
	mRTM_GETLINK
,

33 
	#RTM_GETLINK
 
RTM_GETLINK


	)

34 
	mRTM_SETLINK
,

35 
	#RTM_SETLINK
 
RTM_SETLINK


	)

37 
	mRTM_NEWADDR
 = 20,

38 
	#RTM_NEWADDR
 
RTM_NEWADDR


	)

39 
	mRTM_DELADDR
,

40 
	#RTM_DELADDR
 
RTM_DELADDR


	)

41 
	mRTM_GETADDR
,

42 
	#RTM_GETADDR
 
RTM_GETADDR


	)

44 
	mRTM_NEWROUTE
 = 24,

45 
	#RTM_NEWROUTE
 
RTM_NEWROUTE


	)

46 
	mRTM_DELROUTE
,

47 
	#RTM_DELROUTE
 
RTM_DELROUTE


	)

48 
	mRTM_GETROUTE
,

49 
	#RTM_GETROUTE
 
RTM_GETROUTE


	)

51 
	mRTM_NEWNEIGH
 = 28,

52 
	#RTM_NEWNEIGH
 
RTM_NEWNEIGH


	)

53 
	mRTM_DELNEIGH
,

54 
	#RTM_DELNEIGH
 
RTM_DELNEIGH


	)

55 
	mRTM_GETNEIGH
,

56 
	#RTM_GETNEIGH
 
RTM_GETNEIGH


	)

58 
	mRTM_NEWRULE
 = 32,

59 
	#RTM_NEWRULE
 
RTM_NEWRULE


	)

60 
	mRTM_DELRULE
,

61 
	#RTM_DELRULE
 
RTM_DELRULE


	)

62 
	mRTM_GETRULE
,

63 
	#RTM_GETRULE
 
RTM_GETRULE


	)

65 
	mRTM_NEWQDISC
 = 36,

66 
	#RTM_NEWQDISC
 
RTM_NEWQDISC


	)

67 
	mRTM_DELQDISC
,

68 
	#RTM_DELQDISC
 
RTM_DELQDISC


	)

69 
	mRTM_GETQDISC
,

70 
	#RTM_GETQDISC
 
RTM_GETQDISC


	)

72 
	mRTM_NEWTCLASS
 = 40,

73 
	#RTM_NEWTCLASS
 
RTM_NEWTCLASS


	)

74 
	mRTM_DELTCLASS
,

75 
	#RTM_DELTCLASS
 
RTM_DELTCLASS


	)

76 
	mRTM_GETTCLASS
,

77 
	#RTM_GETTCLASS
 
RTM_GETTCLASS


	)

79 
	mRTM_NEWTFILTER
 = 44,

80 
	#RTM_NEWTFILTER
 
RTM_NEWTFILTER


	)

81 
	mRTM_DELTFILTER
,

82 
	#RTM_DELTFILTER
 
RTM_DELTFILTER


	)

83 
	mRTM_GETTFILTER
,

84 
	#RTM_GETTFILTER
 
RTM_GETTFILTER


	)

86 
	mRTM_NEWACTION
 = 48,

87 
	#RTM_NEWACTION
 
RTM_NEWACTION


	)

88 
	mRTM_DELACTION
,

89 
	#RTM_DELACTION
 
RTM_DELACTION


	)

90 
	mRTM_GETACTION
,

91 
	#RTM_GETACTION
 
RTM_GETACTION


	)

93 
	mRTM_NEWPREFIX
 = 52,

94 
	#RTM_NEWPREFIX
 
RTM_NEWPREFIX


	)

96 
	mRTM_GETMULTICAST
 = 58,

97 
	#RTM_GETMULTICAST
 
RTM_GETMULTICAST


	)

99 
	mRTM_GETANYCAST
 = 62,

100 
	#RTM_GETANYCAST
 
RTM_GETANYCAST


	)

102 
	mRTM_NEWNEIGHTBL
 = 64,

103 
	#RTM_NEWNEIGHTBL
 
RTM_NEWNEIGHTBL


	)

104 
	mRTM_GETNEIGHTBL
 = 66,

105 
	#RTM_GETNEIGHTBL
 
RTM_GETNEIGHTBL


	)

106 
	mRTM_SETNEIGHTBL
,

107 
	#RTM_SETNEIGHTBL
 
RTM_SETNEIGHTBL


	)

109 
	mRTM_NEWNDUSEROPT
 = 68,

110 
	#RTM_NEWNDUSEROPT
 
RTM_NEWNDUSEROPT


	)

112 
	mRTM_NEWADDRLABEL
 = 72,

113 
	#RTM_NEWADDRLABEL
 
RTM_NEWADDRLABEL


	)

114 
	mRTM_DELADDRLABEL
,

115 
	#RTM_DELADDRLABEL
 
RTM_DELADDRLABEL


	)

116 
	mRTM_GETADDRLABEL
,

117 
	#RTM_GETADDRLABEL
 
RTM_GETADDRLABEL


	)

119 
	mRTM_GETDCB
 = 78,

120 
	#RTM_GETDCB
 
RTM_GETDCB


	)

121 
	mRTM_SETDCB
,

122 
	#RTM_SETDCB
 
RTM_SETDCB


	)

124 
	mRTM_NEWNETCONF
 = 80,

125 
	#RTM_NEWNETCONF
 
RTM_NEWNETCONF


	)

126 
	mRTM_DELNETCONF
,

127 
	#RTM_DELNETCONF
 
RTM_DELNETCONF


	)

128 
	mRTM_GETNETCONF
 = 82,

129 
	#RTM_GETNETCONF
 
RTM_GETNETCONF


	)

131 
	mRTM_NEWMDB
 = 84,

132 
	#RTM_NEWMDB
 
RTM_NEWMDB


	)

133 
	mRTM_DELMDB
 = 85,

134 
	#RTM_DELMDB
 
RTM_DELMDB


	)

135 
	mRTM_GETMDB
 = 86,

136 
	#RTM_GETMDB
 
RTM_GETMDB


	)

138 
	mRTM_NEWNSID
 = 88,

139 
	#RTM_NEWNSID
 
RTM_NEWNSID


	)

140 
	mRTM_DELNSID
 = 89,

141 
	#RTM_DELNSID
 
RTM_DELNSID


	)

142 
	mRTM_GETNSID
 = 90,

143 
	#RTM_GETNSID
 
RTM_GETNSID


	)

145 
	mRTM_NEWSTATS
 = 92,

146 
	#RTM_NEWSTATS
 
RTM_NEWSTATS


	)

147 
	mRTM_GETSTATS
 = 94,

148 
	#RTM_GETSTATS
 
RTM_GETSTATS


	)

150 
	mRTM_NEWCACHEREPORT
 = 96,

151 
	#RTM_NEWCACHEREPORT
 
RTM_NEWCACHEREPORT


	)

153 
	m__RTM_MAX
,

154 
	#RTM_MAX
 (((
__RTM_MAX
 + 3è& ~3è- 1)

	)

157 
	#RTM_NR_MSGTYPES
 (
RTM_MAX
 + 1 - 
RTM_BASE
)

	)

158 
	#RTM_NR_FAMILIES
 (
RTM_NR_MSGTYPES
 >> 2)

	)

159 
	#RTM_FAM
(
cmd
è(((cmdè- 
RTM_BASE
è>> 2)

	)

167 
	s¹©Œ
 {

168 
	m¹a_Ën
;

169 
	m¹a_ty³
;

174 
	#RTA_ALIGNTO
 4U

	)

175 
	#RTA_ALIGN
(
Ën
èĞ(Ö’)+
RTA_ALIGNTO
-1è& ~(RTA_ALIGNTO-1è)

	)

176 
	#RTA_OK
(
¹a
,
Ën
è(Ö’è>ğ()(
¹©Œ
) && \

177 (
¹a
)->
¹a_Ën
 >ğ(
¹©Œ
) && \

178 (
¹a
)->
¹a_Ën
 <ğ(
Ën
))

	)

179 
	#RTA_NEXT
(
¹a
,
©ŒËn
è(×‰¾’è-ğ
	`RTA_ALIGN
(Ô)->
¹a_Ën
), \

180 (
¹©Œ
*)(((*)(
¹a
)è+ 
	`RTA_ALIGN
(Ô)->
¹a_Ën
)))

	)

181 
	#RTA_LENGTH
(
Ën
è(
	`RTA_ALIGN
((
¹©Œ
)è+ (Ën))

	)

182 
	#RTA_SPACE
(
Ën
è
	`RTA_ALIGN
(
	`RTA_LENGTH
Ö’))

	)

183 
	#RTA_DATA
(
¹a
è((*)(((*)Ô)è+ 
	`RTA_LENGTH
(0)))

	)

184 
	#RTA_PAYLOAD
(
¹a
è(()(Ô)->
¹a_Ën
è- 
	`RTA_LENGTH
(0))

	)

193 
	s¹msg
 {

194 
	m¹m_çmy
;

195 
	m¹m_d¡_Ën
;

196 
	m¹m_¤c_Ën
;

197 
	m¹m_tos
;

199 
	m¹m_bË
;

200 
	m¹m_´ÙocŞ
;

201 
	m¹m_scİe
;

202 
	m¹m_ty³
;

204 
	m¹m_æags
;

210 
	mRTN_UNSPEC
,

211 
	mRTN_UNICAST
,

212 
	mRTN_LOCAL
,

213 
	mRTN_BROADCAST
,

215 
	mRTN_ANYCAST
,

217 
	mRTN_MULTICAST
,

218 
	mRTN_BLACKHOLE
,

219 
	mRTN_UNREACHABLE
,

220 
	mRTN_PROHIBIT
,

221 
	mRTN_THROW
,

222 
	mRTN_NAT
,

223 
	mRTN_XRESOLVE
,

224 
	m__RTN_MAX


227 
	#RTN_MAX
 (
__RTN_MAX
 - 1)

	)

232 
	#RTPROT_UNSPEC
 0

	)

233 
	#RTPROT_REDIRECT
 1

	)

235 
	#RTPROT_KERNEL
 2

	)

236 
	#RTPROT_BOOT
 3

	)

237 
	#RTPROT_STATIC
 4

	)

246 
	#RTPROT_GATED
 8

	)

247 
	#RTPROT_RA
 9

	)

248 
	#RTPROT_MRT
 10

	)

249 
	#RTPROT_ZEBRA
 11

	)

250 
	#RTPROT_BIRD
 12

	)

251 
	#RTPROT_DNROUTED
 13

	)

252 
	#RTPROT_XORP
 14

	)

253 
	#RTPROT_NTK
 15

	)

254 
	#RTPROT_DHCP
 16

	)

255 
	#RTPROT_MROUTED
 17

	)

256 
	#RTPROT_BABEL
 42

	)

269 
	e¹_scİe_t
 {

270 
	mRT_SCOPE_UNIVERSE
=0,

272 
	mRT_SCOPE_SITE
=200,

273 
	mRT_SCOPE_LINK
=253,

274 
	mRT_SCOPE_HOST
=254,

275 
	mRT_SCOPE_NOWHERE
=255

280 
	#RTM_F_NOTIFY
 0x100

	)

281 
	#RTM_F_CLONED
 0x200

	)

282 
	#RTM_F_EQUALIZE
 0x400

	)

283 
	#RTM_F_PREFIX
 0x800

	)

284 
	#RTM_F_LOOKUP_TABLE
 0x1000

	)

285 
	#RTM_F_FIB_MATCH
 0x2000

	)

289 
	e¹_şass_t
 {

290 
	mRT_TABLE_UNSPEC
=0,

292 
	mRT_TABLE_COMPAT
=252,

293 
	mRT_TABLE_DEFAULT
=253,

294 
	mRT_TABLE_MAIN
=254,

295 
	mRT_TABLE_LOCAL
=255,

296 
	mRT_TABLE_MAX
=0xFFFFFFFF

302 
	e¹©Œ_ty³_t
 {

303 
	mRTA_UNSPEC
,

304 
	mRTA_DST
,

305 
	mRTA_SRC
,

306 
	mRTA_IIF
,

307 
	mRTA_OIF
,

308 
	mRTA_GATEWAY
,

309 
	mRTA_PRIORITY
,

310 
	mRTA_PREFSRC
,

311 
	mRTA_METRICS
,

312 
	mRTA_MULTIPATH
,

313 
	mRTA_PROTOINFO
,

314 
	mRTA_FLOW
,

315 
	mRTA_CACHEINFO
,

316 
	mRTA_SESSION
,

317 
	mRTA_MP_ALGO
,

318 
	mRTA_TABLE
,

319 
	mRTA_MARK
,

320 
	mRTA_MFC_STATS
,

321 
	mRTA_VIA
,

322 
	mRTA_NEWDST
,

323 
	mRTA_PREF
,

324 
	mRTA_ENCAP_TYPE
,

325 
	mRTA_ENCAP
,

326 
	mRTA_EXPIRES
,

327 
	mRTA_PAD
,

328 
	mRTA_UID
,

329 
	mRTA_TTL_PROPAGATE
,

330 
	m__RTA_MAX


333 
	#RTA_MAX
 (
__RTA_MAX
 - 1)

	)

335 
	#RTM_RTA
(
r
è((
¹©Œ
*)(((*)Ô)è+ 
	`NLMSG_ALIGN
((
¹msg
))))

	)

336 
	#RTM_PAYLOAD
(
n
è
	`NLMSG_PAYLOAD
Ò,(
¹msg
))

	)

347 
	s¹Ãxthİ
 {

348 
	m¹nh_Ën
;

349 
	m¹nh_æags
;

350 
	m¹nh_hİs
;

351 
	m¹nh_ifšdex
;

356 
	#RTNH_F_DEAD
 1

	)

357 
	#RTNH_F_PERVASIVE
 2

	)

358 
	#RTNH_F_ONLINK
 4

	)

359 
	#RTNH_F_OFFLOAD
 8

	)

360 
	#RTNH_F_LINKDOWN
 16

	)

361 
	#RTNH_F_UNRESOLVED
 32

	)

363 
	#RTNH_COMPARE_MASK
 (
RTNH_F_DEAD
 | 
RTNH_F_LINKDOWN
 | 
RTNH_F_OFFLOAD
)

	)

367 
	#RTNH_ALIGNTO
 4

	)

368 
	#RTNH_ALIGN
(
Ën
èĞ(Ö’)+
RTNH_ALIGNTO
-1è& ~(RTNH_ALIGNTO-1è)

	)

369 
	#RTNH_OK
(
¹nh
,
Ën
è(ÔŠh)->
¹nh_Ën
 >ğ(
¹Ãxthİ
) && \

370 (()(
¹nh
)->
¹nh_Ën
è<ğ(
Ën
))

	)

371 
	#RTNH_NEXT
(
¹nh
è((
¹Ãxthİ
*)(((*)ÔŠh)è+ 
	`RTNH_ALIGN
(ÔŠh)->
¹nh_Ën
)))

	)

372 
	#RTNH_LENGTH
(
Ën
è(
	`RTNH_ALIGN
((
¹Ãxthİ
)è+ (Ën))

	)

373 
	#RTNH_SPACE
(
Ën
è
	`RTNH_ALIGN
(
	`RTNH_LENGTH
Ö’))

	)

374 
	#RTNH_DATA
(
¹nh
è((
¹©Œ
*)(((*)ÔŠh)è+ 
	`RTNH_LENGTH
(0)))

	)

377 
	s¹vŸ
 {

378 
__k”Ãl_§_çmy_t
 
	m¹vŸ_çmy
;

379 
__u8
 
	m¹vŸ_addr
[0];

384 
	s¹a_ÿchešfo
 {

385 
__u32
 
	m¹a_şÁ»f
;

386 
__u32
 
	m¹a_Ï¡u£
;

387 
__s32
 
	m¹a_expœes
;

388 
__u32
 
	m¹a_”rÜ
;

389 
__u32
 
	m¹a_u£d
;

391 
	#RTNETLINK_HAVE_PEERINFO
 1

	)

392 
__u32
 
	m¹a_id
;

393 
__u32
 
	m¹a_ts
;

394 
__u32
 
	m¹a_t§ge
;

400 
	mRTAX_UNSPEC
,

401 
	#RTAX_UNSPEC
 
RTAX_UNSPEC


	)

402 
	mRTAX_LOCK
,

403 
	#RTAX_LOCK
 
RTAX_LOCK


	)

404 
	mRTAX_MTU
,

405 
	#RTAX_MTU
 
RTAX_MTU


	)

406 
	mRTAX_WINDOW
,

407 
	#RTAX_WINDOW
 
RTAX_WINDOW


	)

408 
	mRTAX_RTT
,

409 
	#RTAX_RTT
 
RTAX_RTT


	)

410 
	mRTAX_RTTVAR
,

411 
	#RTAX_RTTVAR
 
RTAX_RTTVAR


	)

412 
	mRTAX_SSTHRESH
,

413 
	#RTAX_SSTHRESH
 
RTAX_SSTHRESH


	)

414 
	mRTAX_CWND
,

415 
	#RTAX_CWND
 
RTAX_CWND


	)

416 
	mRTAX_ADVMSS
,

417 
	#RTAX_ADVMSS
 
RTAX_ADVMSS


	)

418 
	mRTAX_REORDERING
,

419 
	#RTAX_REORDERING
 
RTAX_REORDERING


	)

420 
	mRTAX_HOPLIMIT
,

421 
	#RTAX_HOPLIMIT
 
RTAX_HOPLIMIT


	)

422 
	mRTAX_INITCWND
,

423 
	#RTAX_INITCWND
 
RTAX_INITCWND


	)

424 
	mRTAX_FEATURES
,

425 
	#RTAX_FEATURES
 
RTAX_FEATURES


	)

426 
	mRTAX_RTO_MIN
,

427 
	#RTAX_RTO_MIN
 
RTAX_RTO_MIN


	)

428 
	mRTAX_INITRWND
,

429 
	#RTAX_INITRWND
 
RTAX_INITRWND


	)

430 
	mRTAX_QUICKACK
,

431 
	#RTAX_QUICKACK
 
RTAX_QUICKACK


	)

432 
	mRTAX_CC_ALGO
,

433 
	#RTAX_CC_ALGO
 
RTAX_CC_ALGO


	)

434 
	mRTAX_FASTOPEN_NO_COOKIE
,

435 
	#RTAX_FASTOPEN_NO_COOKIE
 
RTAX_FASTOPEN_NO_COOKIE


	)

436 
	m__RTAX_MAX


439 
	#RTAX_MAX
 (
__RTAX_MAX
 - 1)

	)

441 
	#RTAX_FEATURE_ECN
 (1 << 0)

	)

442 
	#RTAX_FEATURE_SACK
 (1 << 1)

	)

443 
	#RTAX_FEATURE_TIMESTAMP
 (1 << 2)

	)

444 
	#RTAX_FEATURE_ALLFRAG
 (1 << 3)

	)

446 
	#RTAX_FEATURE_MASK
 (
RTAX_FEATURE_ECN
 | 
RTAX_FEATURE_SACK
 | \

447 
RTAX_FEATURE_TIMESTAMP
 | 
RTAX_FEATURE_ALLFRAG
)

	)

449 
	s¹a_£ssiÚ
 {

450 
__u8
 
	m´Ùo
;

451 
__u8
 
	m·d1
;

452 
__u16
 
	m·d2
;

456 
__u16
 
	m¥Üt
;

457 
__u16
 
	mdpÜt
;

458 } 
	mpÜts
;

461 
__u8
 
	mty³
;

462 
__u8
 
	mcode
;

463 
__u16
 
	mid’t
;

464 } 
	micm±
;

466 
__u32
 
	m¥i
;

467 } 
	mu
;

470 
	s¹a_mfc_¡©s
 {

471 
__u64
 
	mmfcs_·ck‘s
;

472 
__u64
 
	mmfcs_by‹s
;

473 
__u64
 
	mmfcs_wrÚg_if
;

480 
	s¹g’msg
 {

481 
	m¹g’_çmy
;

493 
	sifšfomsg
 {

494 
	mifi_çmy
;

495 
	m__ifi_·d
;

496 
	mifi_ty³
;

497 
	mifi_šdex
;

498 
	mifi_æags
;

499 
	mifi_chªge
;

506 
	s´efixmsg
 {

507 
	m´efix_çmy
;

508 
	m´efix_·d1
;

509 
	m´efix_·d2
;

510 
	m´efix_ifšdex
;

511 
	m´efix_ty³
;

512 
	m´efix_Ën
;

513 
	m´efix_æags
;

514 
	m´efix_·d3
;

519 
	mPREFIX_UNSPEC
,

520 
	mPREFIX_ADDRESS
,

521 
	mPREFIX_CACHEINFO
,

522 
	m__PREFIX_MAX


525 
	#PREFIX_MAX
 (
__PREFIX_MAX
 - 1)

	)

527 
	s´efix_ÿchešfo
 {

528 
__u32
 
	m´eã¼ed_time
;

529 
__u32
 
	mv®id_time
;

537 
	stcmsg
 {

538 
	mtcm_çmy
;

539 
	mtcm__·d1
;

540 
	mtcm__·d2
;

541 
	mtcm_ifšdex
;

542 
__u32
 
	mtcm_hªdË
;

543 
__u32
 
	mtcm_·»Á
;

544 
__u32
 
	mtcm_šfo
;

548 
	mTCA_UNSPEC
,

549 
	mTCA_KIND
,

550 
	mTCA_OPTIONS
,

551 
	mTCA_STATS
,

552 
	mTCA_XSTATS
,

553 
	mTCA_RATE
,

554 
	mTCA_FCNT
,

555 
	mTCA_STATS2
,

556 
	mTCA_STAB
,

557 
	mTCA_PAD
,

558 
	mTCA_DUMP_INVISIBLE
,

559 
	mTCA_CHAIN
,

560 
	mTCA_HW_OFFLOAD
,

561 
	m__TCA_MAX


564 
	#TCA_MAX
 (
__TCA_MAX
 - 1)

	)

566 
	#TCA_RTA
(
r
è((
¹©Œ
*)(((*)Ô)è+ 
	`NLMSG_ALIGN
((
tcmsg
))))

	)

567 
	#TCA_PAYLOAD
(
n
è
	`NLMSG_PAYLOAD
Ò,(
tcmsg
))

	)

573 
	sndu£rİtmsg
 {

574 
	mndu£rİt_çmy
;

575 
	mndu£rİt_·d1
;

576 
	mndu£rİt_İts_Ën
;

577 
	mndu£rİt_ifšdex
;

578 
__u8
 
	mndu£rİt_icmp_ty³
;

579 
__u8
 
	mndu£rİt_icmp_code
;

580 
	mndu£rİt_·d2
;

581 
	mndu£rİt_·d3
;

586 
	mNDUSEROPT_UNSPEC
,

587 
	mNDUSEROPT_SRCADDR
,

588 
	m__NDUSEROPT_MAX


591 
	#NDUSEROPT_MAX
 (
__NDUSEROPT_MAX
 - 1)

	)

594 
	#RTMGRP_LINK
 1

	)

595 
	#RTMGRP_NOTIFY
 2

	)

596 
	#RTMGRP_NEIGH
 4

	)

597 
	#RTMGRP_TC
 8

	)

599 
	#RTMGRP_IPV4_IFADDR
 0x10

	)

600 
	#RTMGRP_IPV4_MROUTE
 0x20

	)

601 
	#RTMGRP_IPV4_ROUTE
 0x40

	)

602 
	#RTMGRP_IPV4_RULE
 0x80

	)

604 
	#RTMGRP_IPV6_IFADDR
 0x100

	)

605 
	#RTMGRP_IPV6_MROUTE
 0x200

	)

606 
	#RTMGRP_IPV6_ROUTE
 0x400

	)

607 
	#RTMGRP_IPV6_IFINFO
 0x800

	)

609 
	#RTMGRP_DECÃt_IFADDR
 0x1000

	)

610 
	#RTMGRP_DECÃt_ROUTE
 0x4000

	)

612 
	#RTMGRP_IPV6_PREFIX
 0x20000

	)

615 
	e¹Ãšk_groups
 {

616 
	mRTNLGRP_NONE
,

617 
	#RTNLGRP_NONE
 
RTNLGRP_NONE


	)

618 
	mRTNLGRP_LINK
,

619 
	#RTNLGRP_LINK
 
RTNLGRP_LINK


	)

620 
	mRTNLGRP_NOTIFY
,

621 
	#RTNLGRP_NOTIFY
 
RTNLGRP_NOTIFY


	)

622 
	mRTNLGRP_NEIGH
,

623 
	#RTNLGRP_NEIGH
 
RTNLGRP_NEIGH


	)

624 
	mRTNLGRP_TC
,

625 
	#RTNLGRP_TC
 
RTNLGRP_TC


	)

626 
	mRTNLGRP_IPV4_IFADDR
,

627 
	#RTNLGRP_IPV4_IFADDR
 
RTNLGRP_IPV4_IFADDR


	)

628 
	mRTNLGRP_IPV4_MROUTE
,

629 
	#RTNLGRP_IPV4_MROUTE
 
RTNLGRP_IPV4_MROUTE


	)

630 
	mRTNLGRP_IPV4_ROUTE
,

631 
	#RTNLGRP_IPV4_ROUTE
 
RTNLGRP_IPV4_ROUTE


	)

632 
	mRTNLGRP_IPV4_RULE
,

633 
	#RTNLGRP_IPV4_RULE
 
RTNLGRP_IPV4_RULE


	)

634 
	mRTNLGRP_IPV6_IFADDR
,

635 
	#RTNLGRP_IPV6_IFADDR
 
RTNLGRP_IPV6_IFADDR


	)

636 
	mRTNLGRP_IPV6_MROUTE
,

637 
	#RTNLGRP_IPV6_MROUTE
 
RTNLGRP_IPV6_MROUTE


	)

638 
	mRTNLGRP_IPV6_ROUTE
,

639 
	#RTNLGRP_IPV6_ROUTE
 
RTNLGRP_IPV6_ROUTE


	)

640 
	mRTNLGRP_IPV6_IFINFO
,

641 
	#RTNLGRP_IPV6_IFINFO
 
RTNLGRP_IPV6_IFINFO


	)

642 
	mRTNLGRP_DECÃt_IFADDR
,

643 
	#RTNLGRP_DECÃt_IFADDR
 
RTNLGRP_DECÃt_IFADDR


	)

644 
	mRTNLGRP_NOP2
,

645 
	mRTNLGRP_DECÃt_ROUTE
,

646 
	#RTNLGRP_DECÃt_ROUTE
 
RTNLGRP_DECÃt_ROUTE


	)

647 
	mRTNLGRP_DECÃt_RULE
,

648 
	#RTNLGRP_DECÃt_RULE
 
RTNLGRP_DECÃt_RULE


	)

649 
	mRTNLGRP_NOP4
,

650 
	mRTNLGRP_IPV6_PREFIX
,

651 
	#RTNLGRP_IPV6_PREFIX
 
RTNLGRP_IPV6_PREFIX


	)

652 
	mRTNLGRP_IPV6_RULE
,

653 
	#RTNLGRP_IPV6_RULE
 
RTNLGRP_IPV6_RULE


	)

654 
	mRTNLGRP_ND_USEROPT
,

655 
	#RTNLGRP_ND_USEROPT
 
RTNLGRP_ND_USEROPT


	)

656 
	mRTNLGRP_PHONET_IFADDR
,

657 
	#RTNLGRP_PHONET_IFADDR
 
RTNLGRP_PHONET_IFADDR


	)

658 
	mRTNLGRP_PHONET_ROUTE
,

659 
	#RTNLGRP_PHONET_ROUTE
 
RTNLGRP_PHONET_ROUTE


	)

660 
	mRTNLGRP_DCB
,

661 
	#RTNLGRP_DCB
 
RTNLGRP_DCB


	)

662 
	mRTNLGRP_IPV4_NETCONF
,

663 
	#RTNLGRP_IPV4_NETCONF
 
RTNLGRP_IPV4_NETCONF


	)

664 
	mRTNLGRP_IPV6_NETCONF
,

665 
	#RTNLGRP_IPV6_NETCONF
 
RTNLGRP_IPV6_NETCONF


	)

666 
	mRTNLGRP_MDB
,

667 
	#RTNLGRP_MDB
 
RTNLGRP_MDB


	)

668 
	mRTNLGRP_MPLS_ROUTE
,

669 
	#RTNLGRP_MPLS_ROUTE
 
RTNLGRP_MPLS_ROUTE


	)

670 
	mRTNLGRP_NSID
,

671 
	#RTNLGRP_NSID
 
RTNLGRP_NSID


	)

672 
	mRTNLGRP_MPLS_NETCONF
,

673 
	#RTNLGRP_MPLS_NETCONF
 
RTNLGRP_MPLS_NETCONF


	)

674 
	mRTNLGRP_IPV4_MROUTE_R
,

675 
	#RTNLGRP_IPV4_MROUTE_R
 
RTNLGRP_IPV4_MROUTE_R


	)

676 
	mRTNLGRP_IPV6_MROUTE_R
,

677 
	#RTNLGRP_IPV6_MROUTE_R
 
RTNLGRP_IPV6_MROUTE_R


	)

678 
	m__RTNLGRP_MAX


680 
	#RTNLGRP_MAX
 (
__RTNLGRP_MAX
 - 1)

	)

683 
	stÿmsg
 {

684 
	mtÿ_çmy
;

685 
	mtÿ__·d1
;

686 
	mtÿ__·d2
;

690 
	mTCA_ROOT_UNSPEC
,

691 
	mTCA_ROOT_TAB
,

692 
	#TCA_ACT_TAB
 
TCA_ROOT_TAB


	)

693 
	#TCAA_MAX
 
TCA_ROOT_TAB


	)

694 
	mTCA_ROOT_FLAGS
,

695 
	mTCA_ROOT_COUNT
,

696 
	mTCA_ROOT_TIME_DELTA
,

697 
	m__TCA_ROOT_MAX
,

698 
	#TCA_ROOT_MAX
 (
__TCA_ROOT_MAX
 - 1)

	)

701 
	#TA_RTA
(
r
è((
¹©Œ
*)(((*)Ô)è+ 
	`NLMSG_ALIGN
((
tÿmsg
))))

	)

702 
	#TA_PAYLOAD
(
n
è
	`NLMSG_PAYLOAD
Ò,(
tÿmsg
))

	)

710 
	#TCA_FLAG_LARGE_DUMP_ON
 (1 << 0)

	)

713 
	#RTEXT_FILTER_VF
 (1 << 0)

	)

714 
	#RTEXT_FILTER_BRVLAN
 (1 << 1)

	)

715 
	#RTEXT_FILTER_BRVLAN_COMPRESSED
 (1 << 2)

	)

716 
	#RTEXT_FILTER_SKIP_STATS
 (1 << 3)

	)

	@/usr/include/linux/sockios.h

19 #iâdeà
_LINUX_SOCKIOS_H


20 
	#_LINUX_SOCKIOS_H


	)

22 
	~<asm/sockios.h
>

25 
	#SIOCINQ
 
FIONREAD


	)

26 
	#SIOCOUTQ
 
TIOCOUTQ


	)

28 
	#SOCK_IOC_TYPE
 0x89

	)

31 
	#SIOCADDRT
 0x890B

	)

32 
	#SIOCDELRT
 0x890C

	)

33 
	#SIOCRTMSG
 0x890D

	)

36 
	#SIOCGIFNAME
 0x8910

	)

37 
	#SIOCSIFLINK
 0x8911

	)

38 
	#SIOCGIFCONF
 0x8912

	)

39 
	#SIOCGIFFLAGS
 0x8913

	)

40 
	#SIOCSIFFLAGS
 0x8914

	)

41 
	#SIOCGIFADDR
 0x8915

	)

42 
	#SIOCSIFADDR
 0x8916

	)

43 
	#SIOCGIFDSTADDR
 0x8917

	)

44 
	#SIOCSIFDSTADDR
 0x8918

	)

45 
	#SIOCGIFBRDADDR
 0x8919

	)

46 
	#SIOCSIFBRDADDR
 0x891¨

	)

47 
	#SIOCGIFNETMASK
 0x891b

	)

48 
	#SIOCSIFNETMASK
 0x891ø

	)

49 
	#SIOCGIFMETRIC
 0x891d

	)

50 
	#SIOCSIFMETRIC
 0x891

	)

51 
	#SIOCGIFMEM
 0x891à

	)

52 
	#SIOCSIFMEM
 0x8920

	)

53 
	#SIOCGIFMTU
 0x8921

	)

54 
	#SIOCSIFMTU
 0x8922

	)

55 
	#SIOCSIFNAME
 0x8923

	)

56 
	#SIOCSIFHWADDR
 0x8924

	)

57 
	#SIOCGIFENCAP
 0x8925

	)

58 
	#SIOCSIFENCAP
 0x8926

	)

59 
	#SIOCGIFHWADDR
 0x8927

	)

60 
	#SIOCGIFSLAVE
 0x8929

	)

61 
	#SIOCSIFSLAVE
 0x8930

	)

62 
	#SIOCADDMULTI
 0x8931

	)

63 
	#SIOCDELMULTI
 0x8932

	)

64 
	#SIOCGIFINDEX
 0x8933

	)

65 
	#SIOGIFINDEX
 
SIOCGIFINDEX


	)

66 
	#SIOCSIFPFLAGS
 0x8934

	)

67 
	#SIOCGIFPFLAGS
 0x8935

	)

68 
	#SIOCDIFADDR
 0x8936

	)

69 
	#SIOCSIFHWBROADCAST
 0x8937

	)

70 
	#SIOCGIFCOUNT
 0x8938

	)

72 
	#SIOCGIFBR
 0x8940

	)

73 
	#SIOCSIFBR
 0x8941

	)

75 
	#SIOCGIFTXQLEN
 0x8942

	)

76 
	#SIOCSIFTXQLEN
 0x8943

	)

81 
	#SIOCETHTOOL
 0x8946

	)

83 
	#SIOCGMIIPHY
 0x8947

	)

84 
	#SIOCGMIIREG
 0x8948

	)

85 
	#SIOCSMIIREG
 0x8949

	)

87 
	#SIOCWANDEV
 0x894A

	)

89 
	#SIOCOUTQNSD
 0x894B

	)

90 
	#SIOCGSKNS
 0x894C

	)

94 
	#SIOCDARP
 0x8953

	)

95 
	#SIOCGARP
 0x8954

	)

96 
	#SIOCSARP
 0x8955

	)

99 
	#SIOCDRARP
 0x8960

	)

100 
	#SIOCGRARP
 0x8961

	)

101 
	#SIOCSRARP
 0x8962

	)

105 
	#SIOCGIFMAP
 0x8970

	)

106 
	#SIOCSIFMAP
 0x8971

	)

110 
	#SIOCADDDLCI
 0x8980

	)

111 
	#SIOCDELDLCI
 0x8981

	)

113 
	#SIOCGIFVLAN
 0x8982

	)

114 
	#SIOCSIFVLAN
 0x8983

	)

118 
	#SIOCBONDENSLAVE
 0x8990

	)

119 
	#SIOCBONDRELEASE
 0x8991

	)

120 
	#SIOCBONDSETHWADDR
 0x8992

	)

121 
	#SIOCBONDSLAVEINFOQUERY
 0x8993

	)

122 
	#SIOCBONDINFOQUERY
 0x8994

	)

123 
	#SIOCBONDCHANGEACTIVE
 0x8995

	)

126 
	#SIOCBRADDBR
 0x89a0

	)

127 
	#SIOCBRDELBR
 0x89a1

	)

128 
	#SIOCBRADDIF
 0x89a2

	)

129 
	#SIOCBRDELIF
 0x89a3

	)

132 
	#SIOCSHWTSTAMP
 0x89b0

	)

133 
	#SIOCGHWTSTAMP
 0x89b1

	)

146 
	#SIOCDEVPRIVATE
 0x89F0

	)

152 
	#SIOCPROTOPRIVATE
 0x89E0

	)

	@/usr/include/malloc.h

19 #iâdeà
_MALLOC_H


20 
	#_MALLOC_H
 1

	)

22 
	~<ã©u»s.h
>

23 
	~<¡ddef.h
>

24 
	~<¡dio.h
>

26 #ifdeà
_LIBC


27 
	#__MALLOC_HOOK_VOLATILE


	)

28 
	#__MALLOC_DEPRECATED


	)

30 
	#__MALLOC_HOOK_VOLATILE
 vŞ©e

	)

31 
	#__MALLOC_DEPRECATED
 
__©Œibu‹_d•»ÿ‹d__


	)

35 
__BEGIN_DECLS


38 *
	$m®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

41 *
	$ÿÎoc
 (
size_t
 
__nmemb
, size_ˆ
__size
)

42 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

49 *
	$»®loc
 (*
__±r
, 
size_t
 
__size
)

50 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__
;

57 *
	$»®loÿ¼ay
 (*
__±r
, 
size_t
 
__nmemb
, size_ˆ
__size
)

58 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__
;

61 
	$ä“
 (*
__±r
è
__THROW
;

64 *
	$mem®ign
 (
size_t
 
__®ignm’t
, size_ˆ
__size
)

65 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

68 *
	$v®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

72 *
	$pv®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

76 *(*
__mÜecÜe
è(
±rdiff_t
 
__size
);

79 *
	$__deçuÉ_mÜecÜe
 (
±rdiff_t
 
__size
)

80 
__THROW
 
__©Œibu‹_m®loc__
;

84 
	sm®lšfo


86 
¬’a
;

87 
Üdblks
;

88 
smblks
;

89 
hblks
;

90 
hblkhd
;

91 
usmblks
;

92 
fsmblks
;

93 
uÜdblks
;

94 
fÜdblks
;

95 
k“pco¡
;

99 
m®lšfo
 
	$m®lšfo
 (è
__THROW
;

102 #iâdeà
M_MXFAST


103 
	#M_MXFAST
 1

	)

105 #iâdeà
M_NLBLKS


106 
	#M_NLBLKS
 2

	)

108 #iâdeà
M_GRAIN


109 
	#M_GRAIN
 3

	)

111 #iâdeà
M_KEEP


112 
	#M_KEEP
 4

	)

116 
	#M_TRIM_THRESHOLD
 -1

	)

117 
	#M_TOP_PAD
 -2

	)

118 
	#M_MMAP_THRESHOLD
 -3

	)

119 
	#M_MMAP_MAX
 -4

	)

120 
	#M_CHECK_ACTION
 -5

	)

121 
	#M_PERTURB
 -6

	)

122 
	#M_ARENA_TEST
 -7

	)

123 
	#M_ARENA_MAX
 -8

	)

126 
	$m®lİt
 (
__·¿m
, 
__v®
è
__THROW
;

130 
	$m®loc_Œim
 (
size_t
 
__·d
è
__THROW
;

134 
size_t
 
	$m®loc_u§bË_size
 (*
__±r
è
__THROW
;

137 
	$m®loc_¡©s
 (è
__THROW
;

140 
	$m®loc_šfo
 (
__İtiÚs
, 
FILE
 *
__å
è
__THROW
;

143 (*
__MALLOC_HOOK_VOLATILE
 
__ä“_hook
è(*
__±r
,

145 
__MALLOC_DEPRECATED
;

146 *(*
__MALLOC_HOOK_VOLATILE
 
__m®loc_hook
)(
size_t
 
__size
,

148 
__MALLOC_DEPRECATED
;

149 *(*
__MALLOC_HOOK_VOLATILE
 
__»®loc_hook
)(*
__±r
,

150 
size_t
 
__size
,

152 
__MALLOC_DEPRECATED
;

153 *(*
__MALLOC_HOOK_VOLATILE
 
__mem®ign_hook
)(
size_t
 
__®ignm’t
,

154 
size_t
 
__size
,

156 
__MALLOC_DEPRECATED
;

157 (*
__MALLOC_HOOK_VOLATILE
 
__aá”_mÜecÜe_hook
) ();

160 
	$__m®loc_check_š™
 (è
__THROW
 
__MALLOC_DEPRECATED
;

163 
__END_DECLS


	@/usr/include/math.h

23 #iâdef 
_MATH_H


24 
	#_MATH_H
 1

	)

26 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

27 
	~<b™s/libc-h—d”-¡¬t.h
>

29 #ià
defšed
 
log
 && defšed 
__GNUC__


30 #w¬nšg 
A
 
maüo
 
ÿÎed
 
log
 
was
 
®»ady
 
defšed
 
wh’
 <
m©h
.
h
> wa 
šşuded
.

31 #w¬nšg 
This
 
wl
 
ÿu£
 
comp©iÚ
 
´obËms
.

34 
	g__BEGIN_DECLS


37 
	~<b™s/ty³s.h
>

40 
	~<b™s/m©h-veùÜ.h
>

43 
	~<b™s/æßŠ.h
>

47 #ià
__GNUC_PREREQ
 (3, 3)

48 
	#HUGE_VAL
 (
	`__butš_huge_v®
 ())

	)

55 
	#HUGE_VAL
 1e10000

	)

57 #ifdeà
__USE_ISOC99


58 #ià
__GNUC_PREREQ
 (3, 3)

59 
	#HUGE_VALF
 (
	`__butš_huge_v®f
 ())

	)

60 
	#HUGE_VALL
 (
	`__butš_huge_v®l
 ())

	)

62 
	#HUGE_VALF
 1e10000f

	)

63 
	#HUGE_VALL
 1e10000L

	)

66 #ià
__HAVE_FLOAT16
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

67 
	#HUGE_VAL_F16
 (
	`__butš_huge_v®f16
 ())

	)

69 #ià
__HAVE_FLOAT32
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

70 
	#HUGE_VAL_F32
 (
	`__butš_huge_v®f32
 ())

	)

72 #ià
__HAVE_FLOAT64
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

73 
	#HUGE_VAL_F64
 (
	`__butš_huge_v®f64
 ())

	)

75 #ià
__HAVE_FLOAT128
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

76 
	#HUGE_VAL_F128
 (
	`__butš_huge_v®f128
 ())

	)

78 #ià
__HAVE_FLOAT32X
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

79 
	#HUGE_VAL_F32X
 (
	`__butš_huge_v®f32x
 ())

	)

81 #ià
__HAVE_FLOAT64X
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

82 
	#HUGE_VAL_F64X
 (
	`__butš_huge_v®f64x
 ())

	)

84 #ià
__HAVE_FLOAT128X
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

85 
	#HUGE_VAL_F128X
 (
	`__butš_huge_v®f128x
 ())

	)

88 #ifdeà
__USE_ISOC99


90 #ià
__GNUC_PREREQ
 (3, 3)

91 
	#INFINITY
 (
	`__butš_šff
 ())

	)

93 
	#INFINITY
 
HUGE_VALF


	)

97 #ià
__GNUC_PREREQ
 (3, 3)

98 
	#NAN
 (
	`__butš_Çnf
 (""))

	)

103 
	#NAN
 (0.0à/ 0.0f)

	)

107 #ià
__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

109 #ià
__GNUC_PREREQ
 (3, 3)

110 
	#SNANF
 (
	`__butš_Çnsf
 (""))

	)

111 
	#SNAN
 (
	`__butš_Çns
 (""))

	)

112 
	#SNANL
 (
	`__butš_Çn¦
 (""))

	)

115 #ià
__HAVE_FLOAT16
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

116 
	#SNANF16
 (
	`__butš_Çnsf16
 (""))

	)

118 #ià
__HAVE_FLOAT32
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

119 
	#SNANF32
 (
	`__butš_Çnsf32
 (""))

	)

121 #ià
__HAVE_FLOAT64
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

122 
	#SNANF64
 (
	`__butš_Çnsf64
 (""))

	)

124 #ià
__HAVE_FLOAT128
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

125 
	#SNANF128
 (
	`__butš_Çnsf128
 (""))

	)

127 #ià
__HAVE_FLOAT32X
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

128 
	#SNANF32X
 (
	`__butš_Çnsf32x
 (""))

	)

130 #ià
__HAVE_FLOAT64X
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

131 
	#SNANF64X
 (
	`__butš_Çnsf64x
 (""))

	)

133 #ià
__HAVE_FLOAT128X
 && 
__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

134 
	#SNANF128X
 (
	`__butš_Çnsf128x
 (""))

	)

138 
	~<b™s/æt-ev®-m‘hod.h
>

140 #ifdeà
__USE_ISOC99


148 #ià
__GLIBC_FLT_EVAL_METHOD
 == 0 || __GLIBC_FLT_EVAL_METHOD == 16

149 
	tæßt_t
;

150 
	tdoubË_t
;

151 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 1

152 
	tæßt_t
;

153 
	tdoubË_t
;

154 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 2

155 
	tæßt_t
;

156 
	tdoubË_t
;

157 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 32

158 
_Flßt32
 
	tæßt_t
;

159 
	tdoubË_t
;

160 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 33

161 
_Flßt32x
 
	tæßt_t
;

162 
_Flßt32x
 
	tdoubË_t
;

163 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 64

164 
_Flßt64
 
	tæßt_t
;

165 
_Flßt64
 
	tdoubË_t
;

166 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 65

167 
_Flßt64x
 
	tæßt_t
;

168 
_Flßt64x
 
	tdoubË_t
;

169 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 128

170 
_Flßt128
 
	tæßt_t
;

171 
_Flßt128
 
	tdoubË_t
;

172 #–ià
__GLIBC_FLT_EVAL_METHOD
 == 129

173 
_Flßt128x
 
	tæßt_t
;

174 
_Flßt128x
 
	tdoubË_t
;

190 
	~<b™s/å-logb.h
>

191 #ifdeà
__USE_ISOC99


192 #ià
__FP_LOGB0_IS_MIN


193 
	#FP_ILOGB0
 (-2147483647 - 1)

	)

195 
	#FP_ILOGB0
 (-2147483647)

	)

197 #ià
__FP_LOGBNAN_IS_MIN


198 
	#FP_ILOGBNAN
 (-2147483647 - 1)

	)

200 
	#FP_ILOGBNAN
 2147483647

	)

203 #ià
__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

204 #ià
__WORDSIZE
 == 32

205 
	#__FP_LONG_MAX
 0x7fffffffL

	)

207 
	#__FP_LONG_MAX
 0x7fffffffffffffffL

	)

209 #ià
__FP_LOGB0_IS_MIN


210 
	#FP_LLOGB0
 (-
__FP_LONG_MAX
 - 1)

	)

212 
	#FP_LLOGB0
 (-
__FP_LONG_MAX
)

	)

214 #ià
__FP_LOGBNAN_IS_MIN


215 
	#FP_LLOGBNAN
 (-
__FP_LONG_MAX
 - 1)

	)

217 
	#FP_LLOGBNAN
 
__FP_LONG_MAX


	)

233 
	~<b™s/å-ç¡.h
>

235 #ià
__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

239 
	mFP_INT_UPWARD
 =

240 
	#FP_INT_UPWARD
 0

	)

241 
FP_INT_UPWARD
,

242 
	mFP_INT_DOWNWARD
 =

243 
	#FP_INT_DOWNWARD
 1

	)

244 
FP_INT_DOWNWARD
,

245 
	mFP_INT_TOWARDZERO
 =

246 
	#FP_INT_TOWARDZERO
 2

	)

247 
FP_INT_TOWARDZERO
,

248 
	mFP_INT_TONEARESTFROMZERO
 =

249 
	#FP_INT_TONEARESTFROMZERO
 3

	)

250 
FP_INT_TONEARESTFROMZERO
,

251 
	mFP_INT_TONEAREST
 =

252 
	#FP_INT_TONEAREST
 4

	)

253 
FP_INT_TONEAREST
,

262 
	#__SIMD_DECL
(
funùiÚ
è
	`__CONCAT
 (
__DECL_SIMD_
, funùiÚ)

	)

264 
	#__MATHCALL_VEC
(
funùiÚ
, 
suffix
, 
¬gs
) \

265 
	`__SIMD_DECL
 (
	`__MATH_PRECNAME
 (
funùiÚ
, 
suffix
)) \

266 
	`__MATHCALL
 (
funùiÚ
, 
suffix
, 
¬gs
)

	)

268 
	#__MATHDECL_VEC
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

269 
	`__SIMD_DECL
 (
	`__MATH_PRECNAME
 (
funùiÚ
, 
suffix
)) \

270 
	`__MATHDECL
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
)

	)

272 
	#__MATHCALL
(
funùiÚ
,
suffix
, 
¬gs
) \

273 
	`__MATHDECL
 (
_MdoubË_
,
funùiÚ
,
suffix
, 
¬gs
)

	)

274 
	#__MATHDECL
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

275 
	`__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
); \

276 
	`__MATHDECL_1
(
ty³
, 
	`__CONCAT
(
__
,
funùiÚ
),
suffix
, 
¬gs
)

	)

277 
	#__MATHCALLX
(
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
) \

278 
	`__MATHDECLX
 (
_MdoubË_
,
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
)

	)

279 
	#__MATHDECLX
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
©Œib
) \

280 
	`__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
è
	`__©Œibu‹__
 (
©Œib
); \

281 
	`__MATHDECL_1
(
ty³
, 
	`__CONCAT
(
__
,
funùiÚ
),
suffix
, 
¬gs
è
	`__©Œibu‹__
 (
©Œib
)

	)

282 
	#__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

283 
ty³
 
	`__MATH_PRECNAME
(
funùiÚ
,
suffix
è
¬gs
 
__THROW


	)

285 
	#_MdoubË_
 

	)

286 
	#__MATH_PRECNAME
(
Çme
,
r
è
	`__CONCAT
Òame,r)

	)

287 
	#__MATH_DECLARING_DOUBLE
 1

	)

288 
	#__MATH_DECLARING_FLOATN
 0

	)

289 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

290 
	~<b™s/m©hÿÎs.h
>

291 #undeà
_MdoubË_


292 #undeà
__MATH_PRECNAME


293 #undeà
__MATH_DECLARING_DOUBLE


294 #undeà
__MATH_DECLARING_FLOATN


296 #ifdeà
__USE_ISOC99


302 
	#_MdoubË_
 

	)

303 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f
##
	)
r

304 
	#__MATH_DECLARING_DOUBLE
 0

	)

305 
	#__MATH_DECLARING_FLOATN
 0

	)

306 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

307 
	~<b™s/m©hÿÎs.h
>

308 #undeà
_MdoubË_


309 #undeà
__MATH_PRECNAME


310 #undeà
__MATH_DECLARING_DOUBLE


311 #undeà
__MATH_DECLARING_FLOATN


313 #ià!(
defšed
 
__NO_LONG_DOUBLE_MATH
 && defšed 
_LIBC
) \

314 || 
defšed
 
__LDBL_COMPAT
 \

315 || 
defšed
 
_LIBC_TEST


316 #ifdeà
__LDBL_COMPAT


318 #ifdeà
__USE_ISOC99


319 
	$__Ædbl_Ãx‰ow¬df
 (
__x
, 
__y
)

320 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

321 #ifdeà
__REDIRECT_NTH


322 
	`__REDIRECT_NTH
 (
Ãx‰ow¬df
, (
__x
, 
__y
),

323 
__Ædbl_Ãx‰ow¬df
)

324 
	`__©Œibu‹__
 ((
__cÚ¡__
));

325 
	`__REDIRECT_NTH
 (
Ãx‰ow¬d
, (
__x
, 
__y
),

326 
Ãxá”
è
	`__©Œibu‹__
 ((
__cÚ¡__
));

327 
	`__REDIRECT_NTH
 (
Ãx‰ow¬dl
,

328 (
__x
, 
__y
),

329 
Ãxá”
è
	`__©Œibu‹__
 ((
__cÚ¡__
));

333 #undeà
__MATHDECL_1


334 
	#__MATHDECL_2
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
®Ÿs
) \

335 
ty³
 
	`__REDIRECT_NTH
(
	`__MATH_PRECNAME
(
funùiÚ
,
suffix
), \

336 
¬gs
, 
®Ÿs
)

	)

337 
	#__MATHDECL_1
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
) \

338 
	`__MATHDECL_2
(
ty³
, 
funùiÚ
,
suffix
, 
¬gs
, 
	`__CONCAT
(funùiÚ,suffix))

	)

344 
	#_MdoubË_
 

	)

345 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
l
##
	)
r

346 
	#__MATH_DECLARING_DOUBLE
 0

	)

347 
	#__MATH_DECLARING_FLOATN
 0

	)

348 
	#__MATH_DECLARE_LDOUBLE
 1

	)

349 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

350 
	~<b™s/m©hÿÎs.h
>

351 #undeà
_MdoubË_


352 #undeà
__MATH_PRECNAME


353 #undeà
__MATH_DECLARING_DOUBLE


354 #undeà
__MATH_DECLARING_FLOATN


363 #ià
__HAVE_DISTINCT_FLOAT16
 || (
__HAVE_FLOAT16
 && !
defšed
 
_LIBC
)

364 
	#_MdoubË_
 
_Flßt16


	)

365 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f16
##
	)
r

366 
	#__MATH_DECLARING_DOUBLE
 0

	)

367 
	#__MATH_DECLARING_FLOATN
 1

	)

368 #ià
__HAVE_DISTINCT_FLOAT16


369 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

371 #ià
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

372 
	~<b™s/m©hÿÎs.h
>

374 #undeà
_MdoubË_


375 #undeà
__MATH_PRECNAME


376 #undeà
__MATH_DECLARING_DOUBLE


377 #undeà
__MATH_DECLARING_FLOATN


380 #ià
__HAVE_DISTINCT_FLOAT32
 || (
__HAVE_FLOAT32
 && !
defšed
 
_LIBC
)

381 
	#_MdoubË_
 
_Flßt32


	)

382 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f32
##
	)
r

383 
	#__MATH_DECLARING_DOUBLE
 0

	)

384 
	#__MATH_DECLARING_FLOATN
 1

	)

385 #ià
__HAVE_DISTINCT_FLOAT32


386 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

388 #ià
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

389 
	~<b™s/m©hÿÎs.h
>

391 #undeà
_MdoubË_


392 #undeà
__MATH_PRECNAME


393 #undeà
__MATH_DECLARING_DOUBLE


394 #undeà
__MATH_DECLARING_FLOATN


397 #ià
__HAVE_DISTINCT_FLOAT64
 || (
__HAVE_FLOAT64
 && !
defšed
 
_LIBC
)

398 
	#_MdoubË_
 
_Flßt64


	)

399 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f64
##
	)
r

400 
	#__MATH_DECLARING_DOUBLE
 0

	)

401 
	#__MATH_DECLARING_FLOATN
 1

	)

402 #ià
__HAVE_DISTINCT_FLOAT64


403 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

405 #ià
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

406 
	~<b™s/m©hÿÎs.h
>

408 #undeà
_MdoubË_


409 #undeà
__MATH_PRECNAME


410 #undeà
__MATH_DECLARING_DOUBLE


411 #undeà
__MATH_DECLARING_FLOATN


414 #ià
__HAVE_DISTINCT_FLOAT128
 || (
__HAVE_FLOAT128
 && !
defšed
 
_LIBC
)

415 
	#_MdoubË_
 
_Flßt128


	)

416 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f128
##
	)
r

417 
	#__MATH_DECLARING_DOUBLE
 0

	)

418 
	#__MATH_DECLARING_FLOATN
 1

	)

419 #ià
__HAVE_DISTINCT_FLOAT128


420 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

422 #ià
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

423 
	~<b™s/m©hÿÎs.h
>

425 #undeà
_MdoubË_


426 #undeà
__MATH_PRECNAME


427 #undeà
__MATH_DECLARING_DOUBLE


428 #undeà
__MATH_DECLARING_FLOATN


431 #ià
__HAVE_DISTINCT_FLOAT32X
 || (
__HAVE_FLOAT32X
 && !
defšed
 
_LIBC
)

432 
	#_MdoubË_
 
_Flßt32x


	)

433 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f32x
##
	)
r

434 
	#__MATH_DECLARING_DOUBLE
 0

	)

435 
	#__MATH_DECLARING_FLOATN
 1

	)

436 #ià
__HAVE_DISTINCT_FLOAT32X


437 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

439 #ià
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

440 
	~<b™s/m©hÿÎs.h
>

442 #undeà
_MdoubË_


443 #undeà
__MATH_PRECNAME


444 #undeà
__MATH_DECLARING_DOUBLE


445 #undeà
__MATH_DECLARING_FLOATN


448 #ià
__HAVE_DISTINCT_FLOAT64X
 || (
__HAVE_FLOAT64X
 && !
defšed
 
_LIBC
)

449 
	#_MdoubË_
 
_Flßt64x


	)

450 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f64x
##
	)
r

451 
	#__MATH_DECLARING_DOUBLE
 0

	)

452 
	#__MATH_DECLARING_FLOATN
 1

	)

453 #ià
__HAVE_DISTINCT_FLOAT64X


454 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

456 #ià
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

457 
	~<b™s/m©hÿÎs.h
>

459 #undeà
_MdoubË_


460 #undeà
__MATH_PRECNAME


461 #undeà
__MATH_DECLARING_DOUBLE


462 #undeà
__MATH_DECLARING_FLOATN


465 #ià
__HAVE_DISTINCT_FLOAT128X
 || (
__HAVE_FLOAT128X
 && !
defšed
 
_LIBC
)

466 
	#_MdoubË_
 
_Flßt128x


	)

467 
	#__MATH_PRECNAME
(
Çme
,
r
èÇme##
f128x
##
	)
r

468 
	#__MATH_DECLARING_DOUBLE
 0

	)

469 
	#__MATH_DECLARING_FLOATN
 1

	)

470 #ià
__HAVE_DISTINCT_FLOAT128X


471 
	~<b™s/m©hÿÎs-h–³r-funùiÚs.h
>

473 #ià
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

474 
	~<b™s/m©hÿÎs.h
>

476 #undeà
_MdoubË_


477 #undeà
__MATH_PRECNAME


478 #undeà
__MATH_DECLARING_DOUBLE


479 #undeà
__MATH_DECLARING_FLOATN


482 #undeà
__MATHDECL_1


483 #undeà
__MATHDECL


484 #undeà
__MATHCALL


487 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


489 
signgam
;

492 #ià(
__HAVE_DISTINCT_FLOAT16
 \

493 || 
__HAVE_DISTINCT_FLOAT32
 \

494 || 
__HAVE_DISTINCT_FLOAT64
 \

495 || 
__HAVE_DISTINCT_FLOAT32X
 \

496 || 
__HAVE_DISTINCT_FLOAT64X
 \

497 || 
__HAVE_DISTINCT_FLOAT128X
)

510 #ifdeà
__NO_LONG_DOUBLE_MATH


511 #ià
__HAVE_DISTINCT_FLOAT128


514 
	#__MATH_TG
(
TG_ARG
, 
FUNC
, 
ARGS
) \

515 ( (
TG_ARG
è=ğ (è? 
FUNC
 ## 
f
 
ARGS
 : FUNC ARGS)

	)

516 #–ià
__HAVE_DISTINCT_FLOAT128


517 #ià
__HAVE_GENERIC_SELECTION


518 #ià
__HAVE_FLOATN_NOT_TYPEDEF
 && 
__HAVE_FLOAT32


519 
	#__MATH_TG_F32
(
FUNC
, 
ARGS
è
_Flßt32
: FUNC ## 
f
 ARGS,

	)

521 
	#__MATH_TG_F32
(
FUNC
, 
ARGS
)

	)

523 #ià
__HAVE_FLOATN_NOT_TYPEDEF
 && 
__HAVE_FLOAT64X


524 #ià
__HAVE_FLOAT64X_LONG_DOUBLE


525 
	#__MATH_TG_F64X
(
FUNC
, 
ARGS
è
_Flßt64x
: FUNC ## 
l
 ARGS,

	)

527 
	#__MATH_TG_F64X
(
FUNC
, 
ARGS
è
_Flßt64x
: FUNC ## 
f128
 ARGS,

	)

530 
	#__MATH_TG_F64X
(
FUNC
, 
ARGS
)

	)

532 
	#__MATH_TG
(
TG_ARG
, 
FUNC
, 
ARGS
) \

533 
	`_G’”ic
 ((
TG_ARG
), \

534 : 
FUNC
 ## 
f
 
ARGS
, \

535 
	`__MATH_TG_F32
 (
FUNC
, 
ARGS
) \

536 : 
FUNC
 
ARGS
, \

537 : 
FUNC
 ## 
l
 
ARGS
, \

538 
	`__MATH_TG_F64X
 (
FUNC
, 
ARGS
) \

539 
_Flßt128
: 
FUNC
 ## 
f128
 
ARGS
)

	)

541 #ià
__HAVE_FLOATN_NOT_TYPEDEF


544 
	#__MATH_TG
(
TG_ARG
, 
FUNC
, 
ARGS
) \

545 
__butš_choo£_ex´
 \

546 (
	`__butš_ty³s_com·tibË_p
 (
	`__ty³of
 (
TG_ARG
), ), \

547 
FUNC
 ## 
f
 
ARGS
, \

548 
__butš_choo£_ex´
 \

549 (
	`__butš_ty³s_com·tibË_p
 (
	`__ty³of
 (
TG_ARG
), ), \

550 
FUNC
 
ARGS
, \

551 
__butš_choo£_ex´
 \

552 (
	`__butš_ty³s_com·tibË_p
 (
	`__ty³of
 (
TG_ARG
), ), \

553 
FUNC
 ## 
l
 
ARGS
, \

554 
FUNC
 ## 
f128
 
ARGS
)))

	)

557 
	#__MATH_TG
(
TG_ARG
, 
FUNC
, 
ARGS
) \

558 ( (
TG_ARG
) ==  () \

559 ? 
FUNC
 ## 
f
 
ARGS
 \

560 :  (
TG_ARG
) ==  () \

561 ? 
FUNC
 
ARGS
 \

562 : 
FUNC
 ## 
l
 
ARGS
)

	)

566 #ifdeà
__USE_ISOC99


571 
FP_NAN
 =

572 
	#FP_NAN
 0

	)

573 
FP_NAN
,

574 
FP_INFINITE
 =

575 
	#FP_INFINITE
 1

	)

576 
FP_INFINITE
,

577 
FP_ZERO
 =

578 
	#FP_ZERO
 2

	)

579 
FP_ZERO
,

580 
FP_SUBNORMAL
 =

581 
	#FP_SUBNORMAL
 3

	)

582 
FP_SUBNORMAL
,

583 
FP_NORMAL
 =

584 
	#FP_NORMAL
 4

	)

585 
FP_NORMAL


593 #ià
	`__GNUC_PREREQ
 (4,4è&& !
defšed
 
__SUPPORT_SNAN__
 \

594 && (!
defšed
 
__OPTIMIZE_SIZE__
 || defšed 
__ılu¥lus
)

601 
	#åşassify
(
x
è
	`__butš_åşassify
 (
FP_NAN
, 
FP_INFINITE
, \

602 
FP_NORMAL
, 
FP_SUBNORMAL
, 
FP_ZERO
, 
x
)

	)

604 
	#åşassify
(
x
è
	`__MATH_TG
 ((x), 
__åşassify
, (x))

	)

608 #ià
	`__GNUC_PREREQ
 (6,0)

609 
	#signb™
(
x
è
	`__butš_signb™
 (x)

	)

610 #–ià
defšed
 
__ılu¥lus


618 
	#signb™
(
x
è
	`__butš_signb™l
 (x)

	)

619 #–ià
	`__GNUC_PREREQ
 (4,0)

620 
	#signb™
(
x
è
	`__MATH_TG
 ((x), 
__butš_signb™
, (x))

	)

622 
	#signb™
(
x
è
	`__MATH_TG
 ((x), 
__signb™
, (x))

	)

626 #ià
	`__GNUC_PREREQ
 (4,4è&& !
defšed
 
__SUPPORT_SNAN__


627 
	#isfš™e
(
x
è
	`__butš_isfš™e
 (x)

	)

629 
	#isfš™e
(
x
è
	`__MATH_TG
 ((x), 
__fš™e
, (x))

	)

633 #ià
	`__GNUC_PREREQ
 (4,4è&& !
defšed
 
__SUPPORT_SNAN__


634 
	#i¢Üm®
(
x
è
	`__butš_i¢Üm®
 (x)

	)

636 
	#i¢Üm®
(
x
è(
	`åşassify
 (xè=ğ
FP_NORMAL
)

	)

641 #ià
	`__GNUC_PREREQ
 (4,4è&& !
defšed
 
__SUPPORT_SNAN__


642 
	#i¢ª
(
x
è
	`__butš_i¢ª
 (x)

	)

644 
	#i¢ª
(
x
è
	`__MATH_TG
 ((x), 
__i¢ª
, (x))

	)

648 #ià
__HAVE_DISTINCT_FLOAT128
 && !
	`__GNUC_PREREQ
 (7,0) \

649 && !
defšed
 
__SUPPORT_SNAN__
 && !defšed 
__ılu¥lus


655 
	#isšf
(
x
) \

656 (
	`__butš_ty³s_com·tibË_p
 (
	`__ty³of
 (
x
), 
_Flßt128
) \

657 ? 
	`__isšff128
 (
x
è: 
	`__butš_isšf_sign
 (x))

	)

658 #–ià
	`__GNUC_PREREQ
 (4,4è&& !
defšed
 
__SUPPORT_SNAN__


659 
	#isšf
(
x
è
	`__butš_isšf_sign
 (x)

	)

661 
	#isšf
(
x
è
	`__MATH_TG
 ((x), 
__isšf
, (x))

	)

665 
	#MATH_ERRNO
 1

	)

666 
	#MATH_ERREXCEPT
 2

	)

673 #ifdeà
__FAST_MATH__


674 
	#m©h_”rhªdlšg
 0

	)

675 #–ià
defšed
 
__NO_MATH_ERRNO__


676 
	#m©h_”rhªdlšg
 (
MATH_ERREXCEPT
)

	)

678 
	#m©h_”rhªdlšg
 (
MATH_ERRNO
 | 
MATH_ERREXCEPT
)

	)

683 #ià
	`__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

684 
	~<b™s/isÿnÚiÿl.h
>

687 #iâdeà
__ılu¥lus


688 
	#issigÇlšg
(
x
è
	`__MATH_TG
 ((x), 
__issigÇlšg
, (x))

	)

697 
šlše
 
	`issigÇlšg
 (
__v®
è{  
	`__issigÇlšgf
 (__val); }

698 
šlše
 
	`issigÇlšg
 (
__v®
è{  
	`__issigÇlšg
 (__val); }

699 
šlše
 

700 
	`issigÇlšg
 (
__v®
)

702 #ifdeà
__NO_LONG_DOUBLE_MATH


703  
	`__issigÇlšg
 (
__v®
);

705  
	`__issigÇlšgl
 (
__v®
);

708 #ià
__HAVE_DISTINCT_FLOAT128


709 
šlše
 
	`issigÇlšg
 (
_Flßt128
 
__v®
è{  
	`__issigÇlšgf128
 (__val); }

711 
	}
}

715 
	#issubnÜm®
(
x
è(
	`åşassify
 (xè=ğ
FP_SUBNORMAL
)

	)

718 #iâdeà
__ılu¥lus


719 #ifdeà
__SUPPORT_SNAN__


720 
	#isz”o
(
x
è(
	`åşassify
 (xè=ğ
FP_ZERO
)

	)

722 
	#isz”o
(
x
è(((
	`__ty³of
 (x)è(x)è=ğ0)

	)

726 #ifdeà
__SUPPORT_SNAN__


727 
šlše
 

728 
isz”o
 (
__v®
)

730  
__åşassifyf
 (
__v®
è=ğ
FP_ZERO
;

732 
šlše
 

733 
isz”o
 (
__v®
)

735  
__åşassify
 (
__v®
è=ğ
FP_ZERO
;

737 
šlše
 

738 
isz”o
 (
__v®
)

740 #ifdeà
__NO_LONG_DOUBLE_MATH


741  
__åşassify
 (
__v®
è=ğ
FP_ZERO
;

743  
__åşassifyl
 (
__v®
è=ğ
FP_ZERO
;

746 #ià
__HAVE_DISTINCT_FLOAT128


747 
šlše
 

748 
isz”o
 (
_Flßt128
 
__v®
)

750  
__åşassifyf128
 (
__v®
è=ğ
FP_ZERO
;

754 
‹m¶©e
 <
şass
 
__T
> 
šlše
 
boŞ


755 
isz”o
 (
__T
 
__v®
)

757  
__v®
 == 0;

764 #ifdeà
__USE_XOPEN


766 
	#MAXFLOAT
 3.40282347e+38F

	)

771 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


772 
	#M_E
 2.7182818284590452354

	)

773 
	#M_LOG2E
 1.4426950408889634074

	)

774 
	#M_LOG10E
 0.43429448190325182765

	)

775 
	#M_LN2
 0.69314718055994530942

	)

776 
	#M_LN10
 2.30258509299404568402

	)

777 
	#M_PI
 3.14159265358979323846

	)

778 
	#M_PI_2
 1.57079632679489661923

	)

779 
	#M_PI_4
 0.78539816339744830962

	)

780 
	#M_1_PI
 0.31830988618379067154

	)

781 
	#M_2_PI
 0.63661977236758134308

	)

782 
	#M_2_SQRTPI
 1.12837916709551257390

	)

783 
	#M_SQRT2
 1.41421356237309504880

	)

784 
	#M_SQRT1_2
 0.70710678118654752440

	)

790 #ifdeà
__USE_GNU


791 
	#M_El
 2.718281828459045235360287471352662498L

	)

792 
	#M_LOG2El
 1.442695040888963407359924681001892137L

	)

793 
	#M_LOG10El
 0.434294481903251827651128918916605082L

	)

794 
	#M_LN2l
 0.693147180559945309417232121458176568L

	)

795 
	#M_LN10l
 2.302585092994045684017991454684364208L

	)

796 
	#M_PIl
 3.141592653589793238462643383279502884L

	)

797 
	#M_PI_2l
 1.570796326794896619231321691639751442L

	)

798 
	#M_PI_4l
 0.785398163397448309615660845819875721L

	)

799 
	#M_1_PIl
 0.318309886183790671537767526745028724L

	)

800 
	#M_2_PIl
 0.636619772367581343075535053490057448L

	)

801 
	#M_2_SQRTPIl
 1.128379167095512573896158903121545172L

	)

802 
	#M_SQRT2l
 1.414213562373095048801688724209698079L

	)

803 
	#M_SQRT1_2l
 0.707106781186547524400844362104849039L

	)

806 #ià
__HAVE_FLOAT16
 && 
defšed
 
__USE_GNU


807 
	#M_Ef16
 
	`__f16
 (2.718281828459045235360287471352662498è

	)

808 
	#M_LOG2Ef16
 
	`__f16
 (1.442695040888963407359924681001892137è

	)

809 
	#M_LOG10Ef16
 
	`__f16
 (0.434294481903251827651128918916605082è

	)

810 
	#M_LN2f16
 
	`__f16
 (0.693147180559945309417232121458176568è

	)

811 
	#M_LN10f16
 
	`__f16
 (2.302585092994045684017991454684364208è

	)

812 
	#M_PIf16
 
	`__f16
 (3.141592653589793238462643383279502884è

	)

813 
	#M_PI_2f16
 
	`__f16
 (1.570796326794896619231321691639751442è

	)

814 
	#M_PI_4f16
 
	`__f16
 (0.785398163397448309615660845819875721è

	)

815 
	#M_1_PIf16
 
	`__f16
 (0.318309886183790671537767526745028724è

	)

816 
	#M_2_PIf16
 
	`__f16
 (0.636619772367581343075535053490057448è

	)

817 
	#M_2_SQRTPIf16
 
	`__f16
 (1.128379167095512573896158903121545172è

	)

818 
	#M_SQRT2f16
 
	`__f16
 (1.414213562373095048801688724209698079è

	)

819 
	#M_SQRT1_2f16
 
	`__f16
 (0.707106781186547524400844362104849039è

	)

822 #ià
__HAVE_FLOAT32
 && 
defšed
 
__USE_GNU


823 
	#M_Ef32
 
	`__f32
 (2.718281828459045235360287471352662498è

	)

824 
	#M_LOG2Ef32
 
	`__f32
 (1.442695040888963407359924681001892137è

	)

825 
	#M_LOG10Ef32
 
	`__f32
 (0.434294481903251827651128918916605082è

	)

826 
	#M_LN2f32
 
	`__f32
 (0.693147180559945309417232121458176568è

	)

827 
	#M_LN10f32
 
	`__f32
 (2.302585092994045684017991454684364208è

	)

828 
	#M_PIf32
 
	`__f32
 (3.141592653589793238462643383279502884è

	)

829 
	#M_PI_2f32
 
	`__f32
 (1.570796326794896619231321691639751442è

	)

830 
	#M_PI_4f32
 
	`__f32
 (0.785398163397448309615660845819875721è

	)

831 
	#M_1_PIf32
 
	`__f32
 (0.318309886183790671537767526745028724è

	)

832 
	#M_2_PIf32
 
	`__f32
 (0.636619772367581343075535053490057448è

	)

833 
	#M_2_SQRTPIf32
 
	`__f32
 (1.128379167095512573896158903121545172è

	)

834 
	#M_SQRT2f32
 
	`__f32
 (1.414213562373095048801688724209698079è

	)

835 
	#M_SQRT1_2f32
 
	`__f32
 (0.707106781186547524400844362104849039è

	)

838 #ià
__HAVE_FLOAT64
 && 
defšed
 
__USE_GNU


839 
	#M_Ef64
 
	`__f64
 (2.718281828459045235360287471352662498è

	)

840 
	#M_LOG2Ef64
 
	`__f64
 (1.442695040888963407359924681001892137è

	)

841 
	#M_LOG10Ef64
 
	`__f64
 (0.434294481903251827651128918916605082è

	)

842 
	#M_LN2f64
 
	`__f64
 (0.693147180559945309417232121458176568è

	)

843 
	#M_LN10f64
 
	`__f64
 (2.302585092994045684017991454684364208è

	)

844 
	#M_PIf64
 
	`__f64
 (3.141592653589793238462643383279502884è

	)

845 
	#M_PI_2f64
 
	`__f64
 (1.570796326794896619231321691639751442è

	)

846 
	#M_PI_4f64
 
	`__f64
 (0.785398163397448309615660845819875721è

	)

847 
	#M_1_PIf64
 
	`__f64
 (0.318309886183790671537767526745028724è

	)

848 
	#M_2_PIf64
 
	`__f64
 (0.636619772367581343075535053490057448è

	)

849 
	#M_2_SQRTPIf64
 
	`__f64
 (1.128379167095512573896158903121545172è

	)

850 
	#M_SQRT2f64
 
	`__f64
 (1.414213562373095048801688724209698079è

	)

851 
	#M_SQRT1_2f64
 
	`__f64
 (0.707106781186547524400844362104849039è

	)

854 #ià
__HAVE_FLOAT128
 && 
defšed
 
__USE_GNU


855 
	#M_Ef128
 
	`__f128
 (2.718281828459045235360287471352662498è

	)

856 
	#M_LOG2Ef128
 
	`__f128
 (1.442695040888963407359924681001892137è

	)

857 
	#M_LOG10Ef128
 
	`__f128
 (0.434294481903251827651128918916605082è

	)

858 
	#M_LN2f128
 
	`__f128
 (0.693147180559945309417232121458176568è

	)

859 
	#M_LN10f128
 
	`__f128
 (2.302585092994045684017991454684364208è

	)

860 
	#M_PIf128
 
	`__f128
 (3.141592653589793238462643383279502884è

	)

861 
	#M_PI_2f128
 
	`__f128
 (1.570796326794896619231321691639751442è

	)

862 
	#M_PI_4f128
 
	`__f128
 (0.785398163397448309615660845819875721è

	)

863 
	#M_1_PIf128
 
	`__f128
 (0.318309886183790671537767526745028724è

	)

864 
	#M_2_PIf128
 
	`__f128
 (0.636619772367581343075535053490057448è

	)

865 
	#M_2_SQRTPIf128
 
	`__f128
 (1.128379167095512573896158903121545172è

	)

866 
	#M_SQRT2f128
 
	`__f128
 (1.414213562373095048801688724209698079è

	)

867 
	#M_SQRT1_2f128
 
	`__f128
 (0.707106781186547524400844362104849039è

	)

870 #ià
__HAVE_FLOAT32X
 && 
defšed
 
__USE_GNU


871 
	#M_Ef32x
 
	`__f32x
 (2.718281828459045235360287471352662498è

	)

872 
	#M_LOG2Ef32x
 
	`__f32x
 (1.442695040888963407359924681001892137è

	)

873 
	#M_LOG10Ef32x
 
	`__f32x
 (0.434294481903251827651128918916605082è

	)

874 
	#M_LN2f32x
 
	`__f32x
 (0.693147180559945309417232121458176568è

	)

875 
	#M_LN10f32x
 
	`__f32x
 (2.302585092994045684017991454684364208è

	)

876 
	#M_PIf32x
 
	`__f32x
 (3.141592653589793238462643383279502884è

	)

877 
	#M_PI_2f32x
 
	`__f32x
 (1.570796326794896619231321691639751442è

	)

878 
	#M_PI_4f32x
 
	`__f32x
 (0.785398163397448309615660845819875721è

	)

879 
	#M_1_PIf32x
 
	`__f32x
 (0.318309886183790671537767526745028724è

	)

880 
	#M_2_PIf32x
 
	`__f32x
 (0.636619772367581343075535053490057448è

	)

881 
	#M_2_SQRTPIf32x
 
	`__f32x
 (1.128379167095512573896158903121545172è

	)

882 
	#M_SQRT2f32x
 
	`__f32x
 (1.414213562373095048801688724209698079è

	)

883 
	#M_SQRT1_2f32x
 
	`__f32x
 (0.707106781186547524400844362104849039è

	)

886 #ià
__HAVE_FLOAT64X
 && 
defšed
 
__USE_GNU


887 
	#M_Ef64x
 
	`__f64x
 (2.718281828459045235360287471352662498è

	)

888 
	#M_LOG2Ef64x
 
	`__f64x
 (1.442695040888963407359924681001892137è

	)

889 
	#M_LOG10Ef64x
 
	`__f64x
 (0.434294481903251827651128918916605082è

	)

890 
	#M_LN2f64x
 
	`__f64x
 (0.693147180559945309417232121458176568è

	)

891 
	#M_LN10f64x
 
	`__f64x
 (2.302585092994045684017991454684364208è

	)

892 
	#M_PIf64x
 
	`__f64x
 (3.141592653589793238462643383279502884è

	)

893 
	#M_PI_2f64x
 
	`__f64x
 (1.570796326794896619231321691639751442è

	)

894 
	#M_PI_4f64x
 
	`__f64x
 (0.785398163397448309615660845819875721è

	)

895 
	#M_1_PIf64x
 
	`__f64x
 (0.318309886183790671537767526745028724è

	)

896 
	#M_2_PIf64x
 
	`__f64x
 (0.636619772367581343075535053490057448è

	)

897 
	#M_2_SQRTPIf64x
 
	`__f64x
 (1.128379167095512573896158903121545172è

	)

898 
	#M_SQRT2f64x
 
	`__f64x
 (1.414213562373095048801688724209698079è

	)

899 
	#M_SQRT1_2f64x
 
	`__f64x
 (0.707106781186547524400844362104849039è

	)

902 #ià
__HAVE_FLOAT128X
 && 
defšed
 
__USE_GNU


909 #ià
defšed
 
__STRICT_ANSI__
 && !defšed 
__NO_MATH_INLINES


910 
	#__NO_MATH_INLINES
 1

	)

913 #ifdeà
__USE_ISOC99


914 #ià
__GNUC_PREREQ
 (3, 1)

921 
	#isg»©”
(
x
, 
y
è
	`__butš_isg»©”
(x, y)

	)

922 
	#isg»©”equ®
(
x
, 
y
è
	`__butš_isg»©”equ®
(x, y)

	)

923 
	#i¦ess
(
x
, 
y
è
	`__butš_i¦ess
(x, y)

	)

924 
	#i¦es£qu®
(
x
, 
y
è
	`__butš_i¦es£qu®
(x, y)

	)

925 
	#i¦essg»©”
(
x
, 
y
è
	`__butš_i¦essg»©”
(x, y)

	)

926 
	#isunÜd”ed
(
x
, 
y
è
	`__butš_isunÜd”ed
(x, y)

	)

928 
	#isg»©”
(
x
, 
y
) \

929 (
	`__ex‹nsiÚ__
 ({ 
	`__ty³of__
 (
x
è
__x
 = (x); __ty³of__ (
y
è
__y
 = (y); \

930 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x > __y; }))

	)

931 
	#isg»©”equ®
(
x
, 
y
) \

932 (
	`__ex‹nsiÚ__
 ({ 
	`__ty³of__
 (
x
è
__x
 = (x); __ty³of__ (
y
è
__y
 = (y); \

933 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x >ğ__y; }))

	)

934 
	#i¦ess
(
x
, 
y
) \

935 (
	`__ex‹nsiÚ__
 ({ 
	`__ty³of__
 (
x
è
__x
 = (x); __ty³of__ (
y
è
__y
 = (y); \

936 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x < __y; }))

	)

937 
	#i¦es£qu®
(
x
, 
y
) \

938 (
	`__ex‹nsiÚ__
 ({ 
	`__ty³of__
 (
x
è
__x
 = (x); __ty³of__ (
y
è
__y
 = (y); \

939 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x <ğ__y; }))

	)

940 
	#i¦essg»©”
(
x
, 
y
) \

941 (
	`__ex‹nsiÚ__
 ({ 
	`__ty³of__
 (
x
è
__x
 = (x); __ty³of__ (
y
è
__y
 = (y); \

942 !
	`isunÜd”ed
 (
__x
, 
__y
è&& __x !ğ__y; }))

	)

944 
	#isunÜd”ed
(
x
, 
y
) \

945 (
	`__ex‹nsiÚ__
 ({ 
	`__ty³of__
 (
x
è
__u
 = (x); __ty³of__ (
y
è
__v
 = (y); \

946 
__u
 !ğ
__v
 && (__u !ğ__u || __v !ğ__v); }))

	)

951 #ifdeà
__USE_EXTERN_INLINES


952 
	~<b™s/m©hšlše.h
>

957 #ià
defšed
 
__FINITE_MATH_ONLY__
 && __FINITE_MATH_ONLY__ > 0

960 
	#_MdoubË_
 

	)

961 
	#__MATH_DECLARING_DOUBLE
 1

	)

962 
	#__MATH_DECLARING_FLOATN
 0

	)

963 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

964 
funùiÚ
 ## 
»’Œªt


	)

965 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

966 
__
 ## 
funùiÚ
 ## 
»’Œªt
 ## 
_fš™e


	)

967 
	~<b™s/m©h-fš™e.h
>

968 #undeà
_MdoubË_


969 #undeà
__MATH_DECLARING_DOUBLE


970 #undeà
__MATH_DECLARING_FLOATN


971 #undeà
__REDIRFROM_X


972 #undeà
__REDIRTO_X


976 #ifdeà
__USE_ISOC99


979 
	#_MdoubË_
 

	)

980 
	#__MATH_DECLARING_DOUBLE
 0

	)

981 
	#__MATH_DECLARING_FLOATN
 0

	)

982 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

983 
funùiÚ
 ## 
f
 ## 
»’Œªt


	)

984 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

985 
__
 ## 
funùiÚ
 ## 
f
 ## 
»’Œªt
 ## 
_fš™e


	)

986 
	~<b™s/m©h-fš™e.h
>

987 #undeà
_MdoubË_


988 #undeà
__MATH_DECLARING_DOUBLE


989 #undeà
__MATH_DECLARING_FLOATN


990 #undeà
__REDIRFROM_X


991 #undeà
__REDIRTO_X


994 #ifdeà
__MATH_DECLARE_LDOUBLE


995 
	#_MdoubË_
 

	)

996 
	#__MATH_DECLARING_DOUBLE
 0

	)

997 
	#__MATH_DECLARING_FLOATN
 0

	)

998 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

999 
funùiÚ
 ## 
l
 ## 
»’Œªt


	)

1000 #ifdeà
__NO_LONG_DOUBLE_MATH


1001 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1002 
__
 ## 
funùiÚ
 ## 
»’Œªt
 ## 
_fš™e


	)

1004 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1005 
__
 ## 
funùiÚ
 ## 
l
 ## 
»’Œªt
 ## 
_fš™e


	)

1007 
	~<b™s/m©h-fš™e.h
>

1008 #undeà
_MdoubË_


1009 #undeà
__MATH_DECLARING_DOUBLE


1010 #undeà
__MATH_DECLARING_FLOATN


1011 #undeà
__REDIRFROM_X


1012 #undeà
__REDIRTO_X


1019 #ià(
__HAVE_DISTINCT_FLOAT16
 || (
__HAVE_FLOAT16
 && !
defšed
 
_LIBC
)) \

1020 && 
	$__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

1021 
	#_MdoubË_
 
_Flßt16


	)

1022 
	#__MATH_DECLARING_DOUBLE
 0

	)

1023 
	#__MATH_DECLARING_FLOATN
 1

	)

1024 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

1025 
funùiÚ
 ## 
f16
 ## 
»’Œªt


	)

1026 #ià
__HAVE_DISTINCT_FLOAT16


1027 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1028 
__
 ## 
funùiÚ
 ## 
f16
 ## 
»’Œªt
 ## 
_fš™e


	)

1032 
	~<b™s/m©h-fš™e.h
>

1033 #undeà
_MdoubË_


1034 #undeà
__MATH_DECLARING_DOUBLE


1035 #undeà
__MATH_DECLARING_FLOATN


1036 #undeà
__REDIRFROM_X


1037 #undeà
__REDIRTO_X


1040 #ià(
__HAVE_DISTINCT_FLOAT32
 || (
__HAVE_FLOAT32
 && !
defšed
 
_LIBC
)) \

1041 && 
	$__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

1042 
	#_MdoubË_
 
_Flßt32


	)

1043 
	#__MATH_DECLARING_DOUBLE
 0

	)

1044 
	#__MATH_DECLARING_FLOATN
 1

	)

1045 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

1046 
funùiÚ
 ## 
f32
 ## 
»’Œªt


	)

1047 #ià
__HAVE_DISTINCT_FLOAT32


1048 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1049 
__
 ## 
funùiÚ
 ## 
f32
 ## 
»’Œªt
 ## 
_fš™e


	)

1051 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1052 
__
 ## 
funùiÚ
 ## 
f
 ## 
»’Œªt
 ## 
_fš™e


	)

1054 
	~<b™s/m©h-fš™e.h
>

1055 #undeà
_MdoubË_


1056 #undeà
__MATH_DECLARING_DOUBLE


1057 #undeà
__MATH_DECLARING_FLOATN


1058 #undeà
__REDIRFROM_X


1059 #undeà
__REDIRTO_X


1062 #ià(
__HAVE_DISTINCT_FLOAT64
 || (
__HAVE_FLOAT64
 && !
defšed
 
_LIBC
)) \

1063 && 
	$__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

1064 
	#_MdoubË_
 
_Flßt64


	)

1065 
	#__MATH_DECLARING_DOUBLE
 0

	)

1066 
	#__MATH_DECLARING_FLOATN
 1

	)

1067 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

1068 
funùiÚ
 ## 
f64
 ## 
»’Œªt


	)

1069 #ià
__HAVE_DISTINCT_FLOAT64


1070 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1071 
__
 ## 
funùiÚ
 ## 
f64
 ## 
»’Œªt
 ## 
_fš™e


	)

1073 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1074 
__
 ## 
funùiÚ
 ## 
»’Œªt
 ## 
_fš™e


	)

1076 
	~<b™s/m©h-fš™e.h
>

1077 #undeà
_MdoubË_


1078 #undeà
__MATH_DECLARING_DOUBLE


1079 #undeà
__MATH_DECLARING_FLOATN


1080 #undeà
__REDIRFROM_X


1081 #undeà
__REDIRTO_X


1084 #ià(
__HAVE_DISTINCT_FLOAT128
 || (
__HAVE_FLOAT128
 && !
defšed
 
_LIBC
)) \

1085 && 
	$__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

1086 
	#_MdoubË_
 
_Flßt128


	)

1087 
	#__MATH_DECLARING_DOUBLE
 0

	)

1088 
	#__MATH_DECLARING_FLOATN
 1

	)

1089 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

1090 
funùiÚ
 ## 
f128
 ## 
»’Œªt


	)

1091 #ià
__HAVE_DISTINCT_FLOAT128


1092 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1093 
__
 ## 
funùiÚ
 ## 
f128
 ## 
»’Œªt
 ## 
_fš™e


	)

1095 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1096 
__
 ## 
funùiÚ
 ## 
l
 ## 
»’Œªt
 ## 
_fš™e


	)

1098 
	~<b™s/m©h-fš™e.h
>

1099 #undeà
_MdoubË_


1100 #undeà
__MATH_DECLARING_DOUBLE


1101 #undeà
__MATH_DECLARING_FLOATN


1102 #undeà
__REDIRFROM_X


1103 #undeà
__REDIRTO_X


1106 #ià(
__HAVE_DISTINCT_FLOAT32X
 || (
__HAVE_FLOAT32X
 && !
defšed
 
_LIBC
)) \

1107 && 
	$__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

1108 
	#_MdoubË_
 
_Flßt32x


	)

1109 
	#__MATH_DECLARING_DOUBLE
 0

	)

1110 
	#__MATH_DECLARING_FLOATN
 1

	)

1111 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

1112 
funùiÚ
 ## 
f32x
 ## 
»’Œªt


	)

1113 #ià
__HAVE_DISTINCT_FLOAT32X


1114 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1115 
__
 ## 
funùiÚ
 ## 
f32x
 ## 
»’Œªt
 ## 
_fš™e


	)

1117 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1118 
__
 ## 
funùiÚ
 ## 
»’Œªt
 ## 
_fš™e


	)

1120 
	~<b™s/m©h-fš™e.h
>

1121 #undeà
_MdoubË_


1122 #undeà
__MATH_DECLARING_DOUBLE


1123 #undeà
__MATH_DECLARING_FLOATN


1124 #undeà
__REDIRFROM_X


1125 #undeà
__REDIRTO_X


1128 #ià(
__HAVE_DISTINCT_FLOAT64X
 || (
__HAVE_FLOAT64X
 && !
defšed
 
_LIBC
)) \

1129 && 
	$__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

1130 
	#_MdoubË_
 
_Flßt64x


	)

1131 
	#__MATH_DECLARING_DOUBLE
 0

	)

1132 
	#__MATH_DECLARING_FLOATN
 1

	)

1133 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

1134 
funùiÚ
 ## 
f64x
 ## 
»’Œªt


	)

1135 #ià
__HAVE_DISTINCT_FLOAT64X


1136 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1137 
__
 ## 
funùiÚ
 ## 
f64x
 ## 
»’Œªt
 ## 
_fš™e


	)

1138 #–ià
__HAVE_FLOAT64X_LONG_DOUBLE


1139 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1140 
__
 ## 
funùiÚ
 ## 
l
 ## 
»’Œªt
 ## 
_fš™e


	)

1142 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1143 
__
 ## 
funùiÚ
 ## 
f128
 ## 
»’Œªt
 ## 
_fš™e


	)

1145 
	~<b™s/m©h-fš™e.h
>

1146 #undeà
_MdoubË_


1147 #undeà
__MATH_DECLARING_DOUBLE


1148 #undeà
__MATH_DECLARING_FLOATN


1149 #undeà
__REDIRFROM_X


1150 #undeà
__REDIRTO_X


1153 #ià(
__HAVE_DISTINCT_FLOAT128X
 || (
__HAVE_FLOAT128X
 && !
defšed
 
_LIBC
)) \

1154 && 
	$__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

1155 
	#_MdoubË_
 
_Flßt128x


	)

1156 
	#__MATH_DECLARING_DOUBLE
 0

	)

1157 
	#__MATH_DECLARING_FLOATN
 1

	)

1158 
	#__REDIRFROM_X
(
funùiÚ
, 
»’Œªt
) \

1159 
funùiÚ
 ## 
f128x
 ## 
»’Œªt


	)

1160 #ià
__HAVE_DISTINCT_FLOAT128X


1161 
	#__REDIRTO_X
(
funùiÚ
, 
»’Œªt
) \

1162 
__
 ## 
funùiÚ
 ## 
f128x
 ## 
»’Œªt
 ## 
_fš™e


	)

1166 
	~<b™s/m©h-fš™e.h
>

1167 #undeà
_MdoubË_


1168 #undeà
__MATH_DECLARING_DOUBLE


1169 #undeà
__MATH_DECLARING_FLOATN


1170 #undeà
__REDIRFROM_X


1171 #undeà
__REDIRTO_X


1176 #ià
	`__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

1179 #ià
__FLT_EVAL_METHOD__
 == 2 || __FLT_EVAL_METHOD__ > 64

1180 
	#__MATH_EVAL_FMT2
(
x
, 
y
è((xè+ (yè+ 0.0L)

	)

1181 #–ià
__FLT_EVAL_METHOD__
 == 1 || __FLT_EVAL_METHOD__ > 32

1182 
	#__MATH_EVAL_FMT2
(
x
, 
y
è((xè+ (yè+ 0.0)

	)

1183 #–ià
__FLT_EVAL_METHOD__
 == 0 || __FLT_EVAL_METHOD__ == 32

1184 
	#__MATH_EVAL_FMT2
(
x
, 
y
è((xè+ (yè+ 0.0f)

	)

1186 
	#__MATH_EVAL_FMT2
(
x
, 
y
è((xè+ (y))

	)

1191 #ià!
defšed
 
__ılu¥lus
 || (__ılu¥lu < 201103L && !defšed 
__GNUC__
)

1192 
	#i£qsig
(
x
, 
y
) \

1193 
	`__MATH_TG
 (
	`__MATH_EVAL_FMT2
 (
x
, 
y
), 
__i£qsig
, ((x), (y)))

	)

1206 
‹m¶©e
<
ty³Çme
> 
__i£qsig_ty³
;

1208 
‹m¶©e
<> 
__i£qsig_ty³
<>

1210 
	`__ÿÎ
 (
__x
, 
__y
è
	`throw
 ()

1212  
	`__i£qsigf
 (
__x
, 
__y
);

1216 
‹m¶©e
<> 
__i£qsig_ty³
<>

1218 
	`__ÿÎ
 (
__x
, 
__y
è
	`throw
 ()

1220  
	`__i£qsig
 (
__x
, 
__y
);

1224 
‹m¶©e
<> 
__i£qsig_ty³
<>

1226 
	`__ÿÎ
 (
__x
, 
__y
è
	`throw
 ()

1228 #iâdeà
__NO_LONG_DOUBLE_MATH


1229  
	`__i£qsigl
 (
__x
, 
__y
);

1231  
	`__i£qsig
 (
__x
, 
__y
);

1236 #ià
__HAVE_DISTINCT_FLOAT128


1237 
‹m¶©e
<> 
__i£qsig_ty³
<
_Flßt128
>

1239 
	`__ÿÎ
 (
_Flßt128
 
__x
, _Flßt128 
__y
è
	`throw
 ()

1241  
	`__i£qsigf128
 (
__x
, 
__y
);

1246 
‹m¶©e
<
ty³Çme
 
_T1
,y³Çm
_T2
>

1247 
šlše
 

1248 
	`i£qsig
 (
_T1
 
__x
, 
_T2
 
__y
è
	`throw
 ()

1250 #ià
__ılu¥lus
 >= 201103L

1251 
	`deşty³
 (
	t__MATH_EVAL_FMT2
 (
	t__x
, 
	t__y
)è
	t_T3
;

1253 
	`__ty³of
 (
	t__MATH_EVAL_FMT2
 (
	t__x
, 
	t__y
)è
	t_T3
;

1255  
__i£qsig_ty³
<
_T3
>::
	`__ÿÎ
 (
__x
, 
__y
);

1258 
	}
}

1263 
__END_DECLS


	@/usr/include/net/if.h

19 #iâdeà
_NET_IF_H


20 
	#_NET_IF_H
 1

	)

22 
	~<ã©u»s.h
>

24 #ifdeà
__USE_MISC


25 
	~<sys/ty³s.h
>

26 
	~<sys/sock‘.h
>

31 
	#IF_NAMESIZE
 16

	)

33 
	sif_Çmešdex


35 
	mif_šdex
;

36 *
	mif_Çme
;

40 #ifdeà
__USE_MISC


44 
	mIFF_UP
 = 0x1,

45 
	#IFF_UP
 
IFF_UP


	)

46 
	mIFF_BROADCAST
 = 0x2,

47 
	#IFF_BROADCAST
 
IFF_BROADCAST


	)

48 
	mIFF_DEBUG
 = 0x4,

49 
	#IFF_DEBUG
 
IFF_DEBUG


	)

50 
	mIFF_LOOPBACK
 = 0x8,

51 
	#IFF_LOOPBACK
 
IFF_LOOPBACK


	)

52 
	mIFF_POINTOPOINT
 = 0x10,

53 
	#IFF_POINTOPOINT
 
IFF_POINTOPOINT


	)

54 
	mIFF_NOTRAILERS
 = 0x20,

55 
	#IFF_NOTRAILERS
 
IFF_NOTRAILERS


	)

56 
	mIFF_RUNNING
 = 0x40,

57 
	#IFF_RUNNING
 
IFF_RUNNING


	)

58 
	mIFF_NOARP
 = 0x80,

59 
	#IFF_NOARP
 
IFF_NOARP


	)

60 
	mIFF_PROMISC
 = 0x100,

61 
	#IFF_PROMISC
 
IFF_PROMISC


	)

64 
	mIFF_ALLMULTI
 = 0x200,

65 
	#IFF_ALLMULTI
 
IFF_ALLMULTI


	)

67 
	mIFF_MASTER
 = 0x400,

68 
	#IFF_MASTER
 
IFF_MASTER


	)

69 
	mIFF_SLAVE
 = 0x800,

70 
	#IFF_SLAVE
 
IFF_SLAVE


	)

72 
	mIFF_MULTICAST
 = 0x1000,

73 
	#IFF_MULTICAST
 
IFF_MULTICAST


	)

75 
	mIFF_PORTSEL
 = 0x2000,

76 
	#IFF_PORTSEL
 
IFF_PORTSEL


	)

77 
	mIFF_AUTOMEDIA
 = 0x4000,

78 
	#IFF_AUTOMEDIA
 
IFF_AUTOMEDIA


	)

79 
	mIFF_DYNAMIC
 = 0x8000

80 
	#IFF_DYNAMIC
 
IFF_DYNAMIC


	)

88 
	siçddr


90 
sockaddr
 
	miç_addr
;

93 
sockaddr
 
	mifu_brßdaddr
;

94 
sockaddr
 
	mifu_d¡addr
;

95 } 
	miç_ifu
;

96 
içû
 *
	miç_iå
;

97 
içddr
 *
	miç_Ãxt
;

100 
	#iç_brßdaddr
 
iç_ifu
.
ifu_brßdaddr


	)

101 
	#iç_d¡addr
 
iç_ifu
.
ifu_d¡addr


	)

111 
	sifm­


113 
	mmem_¡¬t
;

114 
	mmem_’d
;

115 
	mba£_addr
;

116 
	mœq
;

117 
	mdma
;

118 
	mpÜt
;

126 
	siäeq


128 
	#IFHWADDRLEN
 6

	)

129 
	#IFNAMSIZ
 
IF_NAMESIZE


	)

132 
	miän_Çme
[
IFNAMSIZ
];

133 } 
	miä_iän
;

137 
sockaddr
 
	miäu_addr
;

138 
sockaddr
 
	miäu_d¡addr
;

139 
sockaddr
 
	miäu_brßdaddr
;

140 
sockaddr
 
	miäu_Ãtmask
;

141 
sockaddr
 
	miäu_hwaddr
;

142 
	miäu_æags
;

143 
	miäu_iv®ue
;

144 
	miäu_mtu
;

145 
ifm­
 
	miäu_m­
;

146 
	miäu_¦ave
[
IFNAMSIZ
];

147 
	miäu_ÃwÇme
[
IFNAMSIZ
];

148 
__ÿddr_t
 
	miäu_d©a
;

149 } 
	miä_iäu
;

151 
	#iä_Çme
 
iä_iän
.
iän_Çme


	)

152 
	#iä_hwaddr
 
iä_iäu
.
iäu_hwaddr


	)

153 
	#iä_addr
 
iä_iäu
.
iäu_addr


	)

154 
	#iä_d¡addr
 
iä_iäu
.
iäu_d¡addr


	)

155 
	#iä_brßdaddr
 
iä_iäu
.
iäu_brßdaddr


	)

156 
	#iä_Ãtmask
 
iä_iäu
.
iäu_Ãtmask


	)

157 
	#iä_æags
 
iä_iäu
.
iäu_æags


	)

158 
	#iä_m‘ric
 
iä_iäu
.
iäu_iv®ue


	)

159 
	#iä_mtu
 
iä_iäu
.
iäu_mtu


	)

160 
	#iä_m­
 
iä_iäu
.
iäu_m­


	)

161 
	#iä_¦ave
 
iä_iäu
.
iäu_¦ave


	)

162 
	#iä_d©a
 
iä_iäu
.
iäu_d©a


	)

163 
	#iä_ifšdex
 
iä_iäu
.
iäu_iv®ue


	)

164 
	#iä_bªdwidth
 
iä_iäu
.
iäu_iv®ue


	)

165 
	#iä_qËn
 
iä_iäu
.
iäu_iv®ue


	)

166 
	#iä_ÃwÇme
 
iä_iäu
.
iäu_ÃwÇme


	)

167 
	#_IOT_iäeq
 
	`_IOT
(
	`_IOTS
(),
IFNAMSIZ
,_IOTS(),16,0,0)

	)

168 
	#_IOT_iäeq_shÜt
 
	`_IOT
(
	`_IOTS
(),
IFNAMSIZ
,_IOTS(),1,0,0)

	)

169 
	#_IOT_iäeq_št
 
	`_IOT
(
	`_IOTS
(),
IFNAMSIZ
,_IOTS(),1,0,0)

	)

176 
	sifcÚf


178 
	mifc_Ën
;

181 
__ÿddr_t
 
	mifcu_buf
;

182 
iäeq
 *
	mifcu_»q
;

183 } 
	mifc_ifcu
;

185 
	#ifc_buf
 
ifc_ifcu
.
ifcu_buf


	)

186 
	#ifc_»q
 
ifc_ifcu
.
ifcu_»q


	)

187 
	#_IOT_ifcÚf
 
	`_IOT
(
	`_IOTS
(
ifcÚf
),1,0,0,0,0è

	)

190 
__BEGIN_DECLS


193 
	$if_Çm‘ošdex
 (cÚ¡ *
__iâame
è
__THROW
;

194 *
	$if_šdextÚame
 (
__ifšdex
, *
__iâame
è
__THROW
;

197 
if_Çmešdex
 *
	$if_Çmešdex
 (è
__THROW
;

200 
	$if_ä“Çmešdex
 (
if_Çmešdex
 *
__±r
è
__THROW
;

202 
__END_DECLS


	@/usr/include/netdb.h

22 #iâdef 
_NETDB_H


23 
	#_NETDB_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	~<Ãtš‘/š.h
>

28 
	~<b™s/¡dšt-ušŠ.h
>

29 #ifdeà
__USE_MISC


32 
	~<½c/Ãtdb.h
>

35 #ifdeà
__USE_GNU


36 
	~<b™s/ty³s/sigev’t_t.h
>

37 
	~<b™s/ty³s/¡ruù_time¥ec.h
>

40 
	~<b™s/Ãtdb.h
>

43 
	#_PATH_HEQUIV
 "/‘c/ho¡s.equiv"

	)

44 
	#_PATH_HOSTS
 "/‘c/ho¡s"

	)

45 
	#_PATH_NETWORKS
 "/‘c/ÃtwÜks"

	)

46 
	#_PATH_NSSWITCH_CONF
 "/‘c/nssw™ch.cÚf"

	)

47 
	#_PATH_PROTOCOLS
 "/‘c/´ÙocŞs"

	)

48 
	#_PATH_SERVICES
 "/‘c/£rviûs"

	)

51 
	g__BEGIN_DECLS


53 #ià
defšed
 
__USE_MISC
 || !defšed 
__USE_XOPEN2K8


56 
	#h_”ºo
 (*
	`__h_”ºo_loÿtiÚ
 ())

	)

59 *
	$__h_”ºo_loÿtiÚ
 (è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

63 
	#HOST_NOT_FOUND
 1

	)

64 
	#TRY_AGAIN
 2

	)

66 
	#NO_RECOVERY
 3

	)

68 
	#NO_DATA
 4

	)

71 #ifdeà
__USE_MISC


72 
	#NETDB_INTERNAL
 -1

	)

73 
	#NETDB_SUCCESS
 0

	)

74 
	#NO_ADDRESS
 
NO_DATA


	)

77 #ià
defšed
 
__USE_XOPEN2K
 || defšed 
__USE_XOPEN_EXTENDED


79 
	#IPPORT_RESERVED
 1024

	)

82 #ifdeà
__USE_GNU


84 
	#SCOPE_DELIMITER
 '%'

	)

87 #ifdeà
__USE_MISC


90 
	$h”rÜ
 (cÚ¡ *
__¡r
è
__THROW
;

93 cÚ¡ *
	$h¡»¼Ü
 (
__”r_num
è
__THROW
;

98 
	sho¡’t


100 *
h_Çme
;

101 **
h_®Ÿ£s
;

102 
h_add¹y³
;

103 
h_Ëngth
;

104 **
h_addr_li¡
;

105 #ifdeà
__USE_MISC


106 
	#h_addr
 
h_addr_li¡
[0]

	)

115 
	`£tho¡’t
 (
__¡ay_İ’
);

121 
	`’dho¡’t
 ();

128 
ho¡’t
 *
	`g‘ho¡’t
 ();

135 
ho¡’t
 *
	`g‘ho¡byaddr
 (cÚ¡ *
__addr
, 
__sockËn_t
 
__Ën
,

136 
__ty³
);

142 
ho¡’t
 *
	`g‘ho¡byÇme
 (cÚ¡ *
__Çme
);

144 #ifdeà
__USE_MISC


153 
ho¡’t
 *
	`g‘ho¡byÇme2
 (cÚ¡ *
__Çme
, 
__af
);

165 
	`g‘ho¡’t_r
 (
ho¡’t
 *
__»¡riù
 
__»suÉ_buf
,

166 *
__»¡riù
 
__buf
, 
size_t
 
__buæ’
,

167 
ho¡’t
 **
__»¡riù
 
__»suÉ
,

168 *
__»¡riù
 
__h_”ºİ
);

170 
	`g‘ho¡byaddr_r
 (cÚ¡ *
__»¡riù
 
__addr
, 
__sockËn_t
 
__Ën
,

171 
__ty³
,

172 
ho¡’t
 *
__»¡riù
 
__»suÉ_buf
,

173 *
__»¡riù
 
__buf
, 
size_t
 
__buæ’
,

174 
ho¡’t
 **
__»¡riù
 
__»suÉ
,

175 *
__»¡riù
 
__h_”ºİ
);

177 
	`g‘ho¡byÇme_r
 (cÚ¡ *
__»¡riù
 
__Çme
,

178 
ho¡’t
 *
__»¡riù
 
__»suÉ_buf
,

179 *
__»¡riù
 
__buf
, 
size_t
 
__buæ’
,

180 
ho¡’t
 **
__»¡riù
 
__»suÉ
,

181 *
__»¡riù
 
__h_”ºİ
);

183 
	`g‘ho¡byÇme2_r
 (cÚ¡ *
__»¡riù
 
__Çme
, 
__af
,

184 
ho¡’t
 *
__»¡riù
 
__»suÉ_buf
,

185 *
__»¡riù
 
__buf
, 
size_t
 
__buæ’
,

186 
ho¡’t
 **
__»¡riù
 
__»suÉ
,

187 *
__»¡riù
 
__h_”ºİ
);

196 
	`£Š‘’t
 (
__¡ay_İ’
);

202 
	`’dÃ‹Á
 ();

209 
Ã‹Á
 *
	`g‘Ã‹Á
 ();

216 
Ã‹Á
 *
	`g‘Ãtbyaddr
 (
ušt32_t
 
__Ãt
, 
__ty³
);

222 
Ã‹Á
 *
	`g‘ÃtbyÇme
 (cÚ¡ *
__Çme
);

224 #ifdef 
__USE_MISC


235 
	`g‘Ã‹Á_r
 (
Ã‹Á
 *
__»¡riù
 
__»suÉ_buf
,

236 *
__»¡riù
 
__buf
, 
size_t
 
__buæ’
,

237 
Ã‹Á
 **
__»¡riù
 
__»suÉ
,

238 *
__»¡riù
 
__h_”ºİ
);

240 
	`g‘Ãtbyaddr_r
 (
ušt32_t
 
__Ãt
, 
__ty³
,

241 
Ã‹Á
 *
__»¡riù
 
__»suÉ_buf
,

242 *
__»¡riù
 
__buf
, 
size_t
 
__buæ’
,

243 
Ã‹Á
 **
__»¡riù
 
__»suÉ
,

244 *
__»¡riù
 
__h_”ºİ
);

246 
	`g‘ÃtbyÇme_r
 (cÚ¡ *
__»¡riù
 
__Çme
,

247 
Ã‹Á
 *
__»¡riù
 
__»suÉ_buf
,

248 *
__»¡riù
 
__buf
, 
size_t
 
__buæ’
,

249 
Ã‹Á
 **
__»¡riù
 
__»suÉ
,

250 *
__»¡riù
 
__h_”ºİ
);

255 
	s£rv’t


257 *
s_Çme
;

258 **
s_®Ÿ£s
;

259 
s_pÜt
;

260 *
s_´Ùo
;

268 
	`£t£rv’t
 (
__¡ay_İ’
);

274 
	`’d£rv’t
 ();

281 
£rv’t
 *
	`g‘£rv’t
 ();

288 
£rv’t
 *
	`g‘£rvbyÇme
 (cÚ¡ *
__Çme
, cÚ¡ *
__´Ùo
);

295 
£rv’t
 *
	`g‘£rvbypÜt
 (
__pÜt
, cÚ¡ *
__´Ùo
);

298 #ifdef 
__USE_MISC


306 
	`g‘£rv’t_r
 (
£rv’t
 *
__»¡riù
 
__»suÉ_buf
,

307 *
__»¡riù
 
__buf
, 
size_t
 
__buæ’
,

308 
£rv’t
 **
__»¡riù
 
__»suÉ
);

310 
	`g‘£rvbyÇme_r
 (cÚ¡ *
__»¡riù
 
__Çme
,

311 cÚ¡ *
__»¡riù
 
__´Ùo
,

312 
£rv’t
 *
__»¡riù
 
__»suÉ_buf
,

313 *
__»¡riù
 
__buf
, 
size_t
 
__buæ’
,

314 
£rv’t
 **
__»¡riù
 
__»suÉ
);

316 
	`g‘£rvbypÜt_r
 (
__pÜt
, cÚ¡ *
__»¡riù
 
__´Ùo
,

317 
£rv’t
 *
__»¡riù
 
__»suÉ_buf
,

318 *
__»¡riù
 
__buf
, 
size_t
 
__buæ’
,

319 
£rv’t
 **
__»¡riù
 
__»suÉ
);

324 
	s´ÙÛÁ


326 *
p_Çme
;

327 **
p_®Ÿ£s
;

328 
p_´Ùo
;

336 
	`£rÙÛÁ
 (
__¡ay_İ’
);

342 
	`’d´ÙÛÁ
 ();

349 
´ÙÛÁ
 *
	`g‘´ÙÛÁ
 ();

355 
´ÙÛÁ
 *
	`g‘´ÙobyÇme
 (cÚ¡ *
__Çme
);

361 
´ÙÛÁ
 *
	`g‘´Ùobynumb”
 (
__´Ùo
);

364 #ifdef 
__USE_MISC


372 
	`g‘´ÙÛÁ_r
 (
´ÙÛÁ
 *
__»¡riù
 
__»suÉ_buf
,

373 *
__»¡riù
 
__buf
, 
size_t
 
__buæ’
,

374 
´ÙÛÁ
 **
__»¡riù
 
__»suÉ
);

376 
	`g‘´ÙobyÇme_r
 (cÚ¡ *
__»¡riù
 
__Çme
,

377 
´ÙÛÁ
 *
__»¡riù
 
__»suÉ_buf
,

378 *
__»¡riù
 
__buf
, 
size_t
 
__buæ’
,

379 
´ÙÛÁ
 **
__»¡riù
 
__»suÉ
);

381 
	`g‘´Ùobynumb”_r
 (
__´Ùo
,

382 
´ÙÛÁ
 *
__»¡riù
 
__»suÉ_buf
,

383 *
__»¡riù
 
__buf
, 
size_t
 
__buæ’
,

384 
´ÙÛÁ
 **
__»¡riù
 
__»suÉ
);

393 
	`£Š‘g»Á
 (cÚ¡ *
__Ãtgroup
);

401 
	`’dÃtg»Á
 ();

410 
	`g‘Ãtg»Á
 (**
__»¡riù
 
__ho¡p
,

411 **
__»¡riù
 
__u£½
,

412 **
__»¡riù
 
__domašp
);

421 
	`šÃtgr
 (cÚ¡ *
__Ãtgroup
, cÚ¡ *
__ho¡
,

422 cÚ¡ *
__u£r
, cÚ¡ *
__domaš
);

430 
	`g‘Ãtg»Á_r
 (**
__»¡riù
 
__ho¡p
,

431 **
__»¡riù
 
__u£½
,

432 **
__»¡riù
 
__domašp
,

433 *
__»¡riù
 
__bufãr
, 
size_t
 
__buæ’
);

437 #ifdeà
__USE_MISC


449 
	`rcmd
 (**
__»¡riù
 
__aho¡
, 
__½Üt
,

450 cÚ¡ *
__»¡riù
 
__locu£r
,

451 cÚ¡ *
__»¡riù
 
__»mu£r
,

452 cÚ¡ *
__»¡riù
 
__cmd
, *__»¡riù 
__fd2p
);

461 
	`rcmd_af
 (**
__»¡riù
 
__aho¡
, 
__½Üt
,

462 cÚ¡ *
__»¡riù
 
__locu£r
,

463 cÚ¡ *
__»¡riù
 
__»mu£r
,

464 cÚ¡ *
__»¡riù
 
__cmd
, *__»¡riù 
__fd2p
,

465 
§_çmy_t
 
__af
);

477 
	`»xec
 (**
__»¡riù
 
__aho¡
, 
__½Üt
,

478 cÚ¡ *
__»¡riù
 
__Çme
,

479 cÚ¡ *
__»¡riù
 
__·ss
,

480 cÚ¡ *
__»¡riù
 
__cmd
, *__»¡riù 
__fd2p
);

489 
	`»xec_af
 (**
__»¡riù
 
__aho¡
, 
__½Üt
,

490 cÚ¡ *
__»¡riù
 
__Çme
,

491 cÚ¡ *
__»¡riù
 
__·ss
,

492 cÚ¡ *
__»¡riù
 
__cmd
, *__»¡riù 
__fd2p
,

493 
§_çmy_t
 
__af
);

503 
	`ru£rok
 (cÚ¡ *
__rho¡
, 
__su£r
,

504 cÚ¡ *
__»mu£r
, cÚ¡ *
__locu£r
);

513 
	`ru£rok_af
 (cÚ¡ *
__rho¡
, 
__su£r
,

514 cÚ¡ *
__»mu£r
, cÚ¡ *
__locu£r
,

515 
§_çmy_t
 
__af
);

526 
	`œu£rok
 (
ušt32_t
 
__¿ddr
, 
__su£r
,

527 cÚ¡ *
__»mu£r
, cÚ¡ *
__locu£r
);

537 
	`œu£rok_af
 (cÚ¡ *
__¿ddr
, 
__su£r
,

538 cÚ¡ *
__»mu£r
, cÚ¡ *
__locu£r
,

539 
§_çmy_t
 
__af
);

549 
	`¼esvpÜt
 (*
__®pÜt
);

558 
	`¼esvpÜt_af
 (*
__®pÜt
, 
§_çmy_t
 
__af
);

563 #ifdeà
__USE_XOPEN2K


565 
	saddršfo


567 
ai_æags
;

568 
ai_çmy
;

569 
ai_sockty³
;

570 
ai_´ÙocŞ
;

571 
sockËn_t
 
ai_add¾’
;

572 
sockaddr
 *
ai_addr
;

573 *
ai_ÿnÚÇme
;

574 
addršfo
 *
ai_Ãxt
;

577 #ifdeà
__USE_GNU


579 
	sgaicb


581 cÚ¡ *
¬_Çme
;

582 cÚ¡ *
¬_£rviû
;

583 cÚ¡ 
addršfo
 *
¬_»que¡
;

584 
addršfo
 *
¬_»suÉ
;

586 
__»tuº
;

587 
__glibc_»£rved
[5];

591 
	#GAI_WAIT
 0

	)

592 
	#GAI_NOWAIT
 1

	)

596 
	#AI_PASSIVE
 0x0001

	)

597 
	#AI_CANONNAME
 0x0002

	)

598 
	#AI_NUMERICHOST
 0x0004

	)

599 
	#AI_V4MAPPED
 0x0008

	)

600 
	#AI_ALL
 0x0010

	)

601 
	#AI_ADDRCONFIG
 0x0020

	)

603 #ifdeà
__USE_GNU


604 
	#AI_IDN
 0x0040

	)

607 
	#AI_CANONIDN
 0x0080

	)

608 
	#AI_IDN_ALLOW_UNASSIGNED
 0x0100

	)

610 
	#AI_IDN_USE_STD3_ASCII_RULES
 0x0200

	)

613 
	#AI_NUMERICSERV
 0x0400

	)

616 
	#EAI_BADFLAGS
 -1

	)

617 
	#EAI_NONAME
 -2

	)

618 
	#EAI_AGAIN
 -3

	)

619 
	#EAI_FAIL
 -4

	)

620 
	#EAI_FAMILY
 -6

	)

621 
	#EAI_SOCKTYPE
 -7

	)

622 
	#EAI_SERVICE
 -8

	)

623 
	#EAI_MEMORY
 -10

	)

624 
	#EAI_SYSTEM
 -11

	)

625 
	#EAI_OVERFLOW
 -12

	)

626 #ifdeà
__USE_GNU


627 
	#EAI_NODATA
 -5

	)

628 
	#EAI_ADDRFAMILY
 -9

	)

629 
	#EAI_INPROGRESS
 -100

	)

630 
	#EAI_CANCELED
 -101

	)

631 
	#EAI_NOTCANCELED
 -102

	)

632 
	#EAI_ALLDONE
 -103

	)

633 
	#EAI_INTR
 -104

	)

634 
	#EAI_IDN_ENCODE
 -105

	)

637 #ifdeà
__USE_MISC


638 
	#NI_MAXHOST
 1025

	)

639 
	#NI_MAXSERV
 32

	)

642 
	#NI_NUMERICHOST
 1

	)

643 
	#NI_NUMERICSERV
 2

	)

644 
	#NI_NOFQDN
 4

	)

645 
	#NI_NAMEREQD
 8

	)

646 
	#NI_DGRAM
 16

	)

647 #ifdeà
__USE_GNU


648 
	#NI_IDN
 32

	)

649 
	#NI_IDN_ALLOW_UNASSIGNED
 64

	)

651 
	#NI_IDN_USE_STD3_ASCII_RULES
 128

	)

660 
	`g‘addršfo
 (cÚ¡ *
__»¡riù
 
__Çme
,

661 cÚ¡ *
__»¡riù
 
__£rviû
,

662 cÚ¡ 
addršfo
 *
__»¡riù
 
__»q
,

663 
addršfo
 **
__»¡riù
 
__·i
);

666 
	$ä“addršfo
 (
addršfo
 *
__ai
è
__THROW
;

669 cÚ¡ *
	$gai_¡»¼Ü
 (
__ecode
è
__THROW
;

675 
	`g‘Çmešfo
 (cÚ¡ 
sockaddr
 *
__»¡riù
 
__§
,

676 
sockËn_t
 
__§Ën
, *
__»¡riù
 
__ho¡
,

677 
sockËn_t
 
__ho¡Ën
, *
__»¡riù
 
__£rv
,

678 
sockËn_t
 
__£rvËn
, 
__æags
);

681 #ifdeà
__USE_GNU


690 
	`g‘addršfo_a
 (
__mode
, 
gaicb
 *
__li¡
[
__»¡riù_¬r
],

691 
__’t
, 
sigev’t
 *
__»¡riù
 
__sig
);

701 
	`gai_su¥’d
 (cÚ¡ 
gaicb
 *cÚ¡ 
__li¡
[], 
__’t
,

702 cÚ¡ 
time¥ec
 *
__timeout
);

705 
	$gai_”rÜ
 (
gaicb
 *
__»q
è
__THROW
;

708 
	$gai_ÿnûl
 (
gaicb
 *
__gaicbp
è
__THROW
;

711 
__END_DECLS


	@/usr/include/netinet/in.h

18 #iâdef 
_NETINET_IN_H


19 
	#_NETINET_IN_H
 1

	)

21 
	~<ã©u»s.h
>

22 
	~<b™s/¡dšt-ušŠ.h
>

23 
	~<sys/sock‘.h
>

24 
	~<b™s/ty³s.h
>

27 
__BEGIN_DECLS


30 
ušt32_t
 
	tš_addr_t
;

31 
	sš_addr


33 
š_addr_t
 
	ms_addr
;

37 
	~<b™s/š.h
>

42 
	mIPPROTO_IP
 = 0,

43 
	#IPPROTO_IP
 
IPPROTO_IP


	)

44 
	mIPPROTO_ICMP
 = 1,

45 
	#IPPROTO_ICMP
 
IPPROTO_ICMP


	)

46 
	mIPPROTO_IGMP
 = 2,

47 
	#IPPROTO_IGMP
 
IPPROTO_IGMP


	)

48 
	mIPPROTO_IPIP
 = 4,

49 
	#IPPROTO_IPIP
 
IPPROTO_IPIP


	)

50 
	mIPPROTO_TCP
 = 6,

51 
	#IPPROTO_TCP
 
IPPROTO_TCP


	)

52 
	mIPPROTO_EGP
 = 8,

53 
	#IPPROTO_EGP
 
IPPROTO_EGP


	)

54 
	mIPPROTO_PUP
 = 12,

55 
	#IPPROTO_PUP
 
IPPROTO_PUP


	)

56 
	mIPPROTO_UDP
 = 17,

57 
	#IPPROTO_UDP
 
IPPROTO_UDP


	)

58 
	mIPPROTO_IDP
 = 22,

59 
	#IPPROTO_IDP
 
IPPROTO_IDP


	)

60 
	mIPPROTO_TP
 = 29,

61 
	#IPPROTO_TP
 
IPPROTO_TP


	)

62 
	mIPPROTO_DCCP
 = 33,

63 
	#IPPROTO_DCCP
 
IPPROTO_DCCP


	)

64 
	mIPPROTO_IPV6
 = 41,

65 
	#IPPROTO_IPV6
 
IPPROTO_IPV6


	)

66 
	mIPPROTO_RSVP
 = 46,

67 
	#IPPROTO_RSVP
 
IPPROTO_RSVP


	)

68 
	mIPPROTO_GRE
 = 47,

69 
	#IPPROTO_GRE
 
IPPROTO_GRE


	)

70 
	mIPPROTO_ESP
 = 50,

71 
	#IPPROTO_ESP
 
IPPROTO_ESP


	)

72 
	mIPPROTO_AH
 = 51,

73 
	#IPPROTO_AH
 
IPPROTO_AH


	)

74 
	mIPPROTO_MTP
 = 92,

75 
	#IPPROTO_MTP
 
IPPROTO_MTP


	)

76 
	mIPPROTO_BEETPH
 = 94,

77 
	#IPPROTO_BEETPH
 
IPPROTO_BEETPH


	)

78 
	mIPPROTO_ENCAP
 = 98,

79 
	#IPPROTO_ENCAP
 
IPPROTO_ENCAP


	)

80 
	mIPPROTO_PIM
 = 103,

81 
	#IPPROTO_PIM
 
IPPROTO_PIM


	)

82 
	mIPPROTO_COMP
 = 108,

83 
	#IPPROTO_COMP
 
IPPROTO_COMP


	)

84 
	mIPPROTO_SCTP
 = 132,

85 
	#IPPROTO_SCTP
 
IPPROTO_SCTP


	)

86 
	mIPPROTO_UDPLITE
 = 136,

87 
	#IPPROTO_UDPLITE
 
IPPROTO_UDPLITE


	)

88 
	mIPPROTO_MPLS
 = 137,

89 
	#IPPROTO_MPLS
 
IPPROTO_MPLS


	)

90 
	mIPPROTO_RAW
 = 255,

91 
	#IPPROTO_RAW
 
IPPROTO_RAW


	)

92 
	mIPPROTO_MAX


98 #ià!
__USE_KERNEL_IPV6_DEFS


101 
	mIPPROTO_HOPOPTS
 = 0,

102 
	#IPPROTO_HOPOPTS
 
IPPROTO_HOPOPTS


	)

103 
	mIPPROTO_ROUTING
 = 43,

104 
	#IPPROTO_ROUTING
 
IPPROTO_ROUTING


	)

105 
	mIPPROTO_FRAGMENT
 = 44,

106 
	#IPPROTO_FRAGMENT
 
IPPROTO_FRAGMENT


	)

107 
	mIPPROTO_ICMPV6
 = 58,

108 
	#IPPROTO_ICMPV6
 
IPPROTO_ICMPV6


	)

109 
	mIPPROTO_NONE
 = 59,

110 
	#IPPROTO_NONE
 
IPPROTO_NONE


	)

111 
	mIPPROTO_DSTOPTS
 = 60,

112 
	#IPPROTO_DSTOPTS
 
IPPROTO_DSTOPTS


	)

113 
	mIPPROTO_MH
 = 135

114 
	#IPPROTO_MH
 
IPPROTO_MH


	)

119 
ušt16_t
 
	tš_pÜt_t
;

124 
	mIPPORT_ECHO
 = 7,

125 
	mIPPORT_DISCARD
 = 9,

126 
	mIPPORT_SYSTAT
 = 11,

127 
	mIPPORT_DAYTIME
 = 13,

128 
	mIPPORT_NETSTAT
 = 15,

129 
	mIPPORT_FTP
 = 21,

130 
	mIPPORT_TELNET
 = 23,

131 
	mIPPORT_SMTP
 = 25,

132 
	mIPPORT_TIMESERVER
 = 37,

133 
	mIPPORT_NAMESERVER
 = 42,

134 
	mIPPORT_WHOIS
 = 43,

135 
	mIPPORT_MTP
 = 57,

137 
	mIPPORT_TFTP
 = 69,

138 
	mIPPORT_RJE
 = 77,

139 
	mIPPORT_FINGER
 = 79,

140 
	mIPPORT_TTYLINK
 = 87,

141 
	mIPPORT_SUPDUP
 = 95,

144 
	mIPPORT_EXECSERVER
 = 512,

145 
	mIPPORT_LOGINSERVER
 = 513,

146 
	mIPPORT_CMDSERVER
 = 514,

147 
	mIPPORT_EFSSERVER
 = 520,

150 
	mIPPORT_BIFFUDP
 = 512,

151 
	mIPPORT_WHOSERVER
 = 513,

152 
	mIPPORT_ROUTESERVER
 = 520,

155 
	mIPPORT_RESERVED
 = 1024,

158 
	mIPPORT_USERRESERVED
 = 5000

166 
	#IN_CLASSA
(
a
è((((
š_addr_t
)×)è& 0x80000000è=ğ0)

	)

167 
	#IN_CLASSA_NET
 0xff000000

	)

168 
	#IN_CLASSA_NSHIFT
 24

	)

169 
	#IN_CLASSA_HOST
 (0xfffffffà& ~
IN_CLASSA_NET
)

	)

170 
	#IN_CLASSA_MAX
 128

	)

172 
	#IN_CLASSB
(
a
è((((
š_addr_t
)×)è& 0xc0000000è=ğ0x80000000)

	)

173 
	#IN_CLASSB_NET
 0xffff0000

	)

174 
	#IN_CLASSB_NSHIFT
 16

	)

175 
	#IN_CLASSB_HOST
 (0xfffffffà& ~
IN_CLASSB_NET
)

	)

176 
	#IN_CLASSB_MAX
 65536

	)

178 
	#IN_CLASSC
(
a
è((((
š_addr_t
)×)è& 0xe0000000è=ğ0xc0000000)

	)

179 
	#IN_CLASSC_NET
 0xffffff00

	)

180 
	#IN_CLASSC_NSHIFT
 8

	)

181 
	#IN_CLASSC_HOST
 (0xfffffffà& ~
IN_CLASSC_NET
)

	)

183 
	#IN_CLASSD
(
a
è((((
š_addr_t
)×)è& 0xf0000000è=ğ0xe0000000)

	)

184 
	#IN_MULTICAST
(
a
è
	`IN_CLASSD
×)

	)

186 
	#IN_EXPERIMENTAL
(
a
è((((
š_addr_t
)×)è& 0xe0000000è=ğ0xe0000000)

	)

187 
	#IN_BADCLASS
(
a
è((((
š_addr_t
)×)è& 0xf0000000è=ğ0xf0000000)

	)

190 
	#INADDR_ANY
 ((
š_addr_t
è0x00000000)

	)

192 
	#INADDR_BROADCAST
 ((
š_addr_t
è0xffffffff)

	)

194 
	#INADDR_NONE
 ((
š_addr_t
è0xffffffff)

	)

197 
	#IN_LOOPBACKNET
 127

	)

199 #iâdeà
INADDR_LOOPBACK


200 
	#INADDR_LOOPBACK
 ((
š_addr_t
è0x7f000001è

	)

204 
	#INADDR_UNSPEC_GROUP
 ((
š_addr_t
è0xe0000000è

	)

205 
	#INADDR_ALLHOSTS_GROUP
 ((
š_addr_t
è0xe0000001è

	)

206 
	#INADDR_ALLRTRS_GROUP
 ((
š_addr_t
è0xe0000002è

	)

207 
	#INADDR_MAX_LOCAL_GROUP
 ((
š_addr_t
è0xe00000ffè

	)

209 #ià!
__USE_KERNEL_IPV6_DEFS


211 
	sš6_addr


215 
ušt8_t
 
	m__u6_addr8
[16];

216 
ušt16_t
 
	m__u6_addr16
[8];

217 
ušt32_t
 
	m__u6_addr32
[4];

218 } 
	m__š6_u
;

219 
	#s6_addr
 
__š6_u
.
__u6_addr8


	)

220 #ifdeà
__USE_MISC


221 
	#s6_addr16
 
__š6_u
.
__u6_addr16


	)

222 
	#s6_addr32
 
__š6_u
.
__u6_addr32


	)

227 cÚ¡ 
š6_addr
 
š6addr_ªy
;

228 cÚ¡ 
š6_addr
 
š6addr_loİback
;

229 
	#IN6ADDR_ANY_INIT
 { { { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0 } } }

	)

230 
	#IN6ADDR_LOOPBACK_INIT
 { { { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1 } } }

	)

232 
	#INET_ADDRSTRLEN
 16

	)

233 
	#INET6_ADDRSTRLEN
 46

	)

237 
	ssockaddr_š


239 
__SOCKADDR_COMMON
 (
sš_
);

240 
š_pÜt_t
 
	msš_pÜt
;

241 
š_addr
 
	msš_addr
;

244 
	msš_z”o
[ (
sockaddr
) -

245 
__SOCKADDR_COMMON_SIZE
 -

246  (
š_pÜt_t
) -

247  (
š_addr
)];

250 #ià!
__USE_KERNEL_IPV6_DEFS


252 
	ssockaddr_š6


254 
__SOCKADDR_COMMON
 (
sš6_
);

255 
š_pÜt_t
 
	msš6_pÜt
;

256 
ušt32_t
 
	msš6_æowšfo
;

257 
š6_addr
 
	msš6_addr
;

258 
ušt32_t
 
	msš6_scİe_id
;

262 #ifdeà
__USE_MISC


264 
	s_m»q


267 
š_addr
 
	mimr_muÉŸddr
;

270 
š_addr
 
	mimr_š‹rçû
;

273 
	s_m»q_sourû


276 
š_addr
 
	mimr_muÉŸddr
;

279 
š_addr
 
	mimr_š‹rçû
;

282 
š_addr
 
	mimr_sourûaddr
;

286 #ià!
__USE_KERNEL_IPV6_DEFS


288 
	sv6_m»q


291 
š6_addr
 
	mv6mr_muÉŸddr
;

294 
	mv6mr_š‹rçû
;

298 #ifdeà
__USE_MISC


300 
	sgroup_»q


303 
ušt32_t
 
	mgr_š‹rçû
;

306 
sockaddr_¡Üage
 
	mgr_group
;

309 
	sgroup_sourû_»q


312 
ušt32_t
 
	mg¤_š‹rçû
;

315 
sockaddr_¡Üage
 
	mg¤_group
;

318 
sockaddr_¡Üage
 
	mg¤_sourû
;

323 
	s_msf‹r


326 
š_addr
 
	mimsf_muÉŸddr
;

329 
š_addr
 
	mimsf_š‹rçû
;

332 
ušt32_t
 
	mimsf_fmode
;

335 
ušt32_t
 
	mimsf_num¤c
;

337 
š_addr
 
	mimsf_¦i¡
[1];

340 
	#IP_MSFILTER_SIZE
(
num¤c
è( (
_msf‹r
) \

341 -  (
š_addr
) \

342 + (
num¤c
è*  (
š_addr
))

	)

344 
	sgroup_f‹r


347 
ušt32_t
 
	mgf_š‹rçû
;

350 
sockaddr_¡Üage
 
	mgf_group
;

353 
ušt32_t
 
	mgf_fmode
;

356 
ušt32_t
 
	mgf_num¤c
;

358 
sockaddr_¡Üage
 
	mgf_¦i¡
[1];

361 
	#GROUP_FILTER_SIZE
(
num¤c
è( (
group_f‹r
) \

362 -  (
sockaddr_¡Üage
) \

363 + ((
num¤c
) \

364 *  (
sockaddr_¡Üage
)))

	)

374 
ušt32_t
 
	$Áohl
 (
ušt32_t
 
__ÃÚg
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

375 
ušt16_t
 
	$Áohs
 (
ušt16_t
 
__ÃtshÜt
)

376 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

377 
ušt32_t
 
	$htÚl
 (
ušt32_t
 
__ho¡lÚg
)

378 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

379 
ušt16_t
 
	$htÚs
 (
ušt16_t
 
__ho¡shÜt
)

380 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

382 
	~<’dŸn.h
>

385 
	~<b™s/by‹sw­.h
>

386 
	~<b™s/ušŠ-id’t™y.h
>

388 #ifdeà
__OPTIMIZE__


392 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


395 
	#Áohl
(
x
è
	`__ušt32_id’t™y
 (x)

	)

396 
	#Áohs
(
x
è
	`__ušt16_id’t™y
 (x)

	)

397 
	#htÚl
(
x
è
	`__ušt32_id’t™y
 (x)

	)

398 
	#htÚs
(
x
è
	`__ušt16_id’t™y
 (x)

	)

400 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


401 
	#Áohl
(
x
è
	`__bsw­_32
 (x)

	)

402 
	#Áohs
(
x
è
	`__bsw­_16
 (x)

	)

403 
	#htÚl
(
x
è
	`__bsw­_32
 (x)

	)

404 
	#htÚs
(
x
è
	`__bsw­_16
 (x)

	)

409 #ifdeà
__GNUC__


410 
	#IN6_IS_ADDR_UNSPECIFIED
(
a
) \

411 (
__ex‹nsiÚ__
 \

412 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

413 
__a
->
__š6_u
.
__u6_addr32
[0] == 0 \

414 && 
__a
->
__š6_u
.
__u6_addr32
[1] == 0 \

415 && 
__a
->
__š6_u
.
__u6_addr32
[2] == 0 \

416 && 
__a
->
__š6_u
.
__u6_addr32
[3] =ğ0; 
	}
}))

	)

418 
	#IN6_IS_ADDR_LOOPBACK
(
a
) \

419 (
__ex‹nsiÚ__
 \

420 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

421 
__a
->
__š6_u
.
__u6_addr32
[0] == 0 \

422 && 
__a
->
__š6_u
.
__u6_addr32
[1] == 0 \

423 && 
__a
->
__š6_u
.
__u6_addr32
[2] == 0 \

424 && 
__a
->
__š6_u
.
__u6_addr32
[3] =ğ
	`htÚl
 (1); }))

	)

426 
	#IN6_IS_ADDR_LINKLOCAL
(
a
) \

427 (
__ex‹nsiÚ__
 \

428 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

429 (
__a
->
__š6_u
.
__u6_addr32
[0] & 
	`htÚl
 (0xffc00000)è=ğhtÚÈ(0xã800000); }))

	)

431 
	#IN6_IS_ADDR_SITELOCAL
(
a
) \

432 (
__ex‹nsiÚ__
 \

433 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

434 (
__a
->
__š6_u
.
__u6_addr32
[0] & 
	`htÚl
 (0xffc00000)è=ğhtÚÈ(0xãc00000); }))

	)

436 
	#IN6_IS_ADDR_V4MAPPED
(
a
) \

437 (
__ex‹nsiÚ__
 \

438 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

439 
__a
->
__š6_u
.
__u6_addr32
[0] == 0 \

440 && 
__a
->
__š6_u
.
__u6_addr32
[1] == 0 \

441 && 
__a
->
__š6_u
.
__u6_addr32
[2] =ğ
	`htÚl
 (0xffff); }))

	)

443 
	#IN6_IS_ADDR_V4COMPAT
(
a
) \

444 (
__ex‹nsiÚ__
 \

445 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

446 
__a
->
__š6_u
.
__u6_addr32
[0] == 0 \

447 && 
__a
->
__š6_u
.
__u6_addr32
[1] == 0 \

448 && 
__a
->
__š6_u
.
__u6_addr32
[2] == 0 \

449 && 
	`Áohl
 (
__a
->
__š6_u
.
__u6_addr32
[3]è> 1; }))

	)

451 
	#IN6_ARE_ADDR_EQUAL
(
a
,
b
) \

452 (
__ex‹nsiÚ__
 \

453 ({ cÚ¡ 
š6_addr
 *
__a
 = (cÚ¡ š6_add¸*è(
a
); \

454 cÚ¡ 
š6_addr
 *
__b
 = (cÚ¡ š6_add¸*è(
b
); \

455 
__a
->
__š6_u
.
__u6_addr32
[0] =ğ
__b
->__in6_u.__u6_addr32[0] \

456 && 
__a
->
__š6_u
.
__u6_addr32
[1] =ğ
__b
->__in6_u.__u6_addr32[1] \

457 && 
__a
->
__š6_u
.
__u6_addr32
[2] =ğ
__b
->__in6_u.__u6_addr32[2] \

458 && 
__a
->
__š6_u
.
__u6_addr32
[3] =ğ
__b
->__š6_u.__u6_addr32[3]; }))

	)

460 
	#IN6_IS_ADDR_UNSPECIFIED
(
a
) \

461 (((cÚ¡ 
ušt32_t
 *è(
a
))[0] == 0 \

462 && ((cÚ¡ 
ušt32_t
 *è(
a
))[1] == 0 \

463 && ((cÚ¡ 
ušt32_t
 *è(
a
))[2] == 0 \

464 && ((cÚ¡ 
ušt32_t
 *è(
a
))[3] =ğ0)

	)

466 
	#IN6_IS_ADDR_LOOPBACK
(
a
) \

467 (((cÚ¡ 
ušt32_t
 *è(
a
))[0] == 0 \

468 && ((cÚ¡ 
ušt32_t
 *è(
a
))[1] == 0 \

469 && ((cÚ¡ 
ušt32_t
 *è(
a
))[2] == 0 \

470 && ((cÚ¡ 
ušt32_t
 *è(
a
))[3] =ğ
	`htÚl
 (1))

	)

472 
	#IN6_IS_ADDR_LINKLOCAL
(
a
) \

473 ((((cÚ¡ 
ušt32_t
 *è(
a
))[0] & 
	`htÚl
 (0xffc00000)) \

474 =ğ
	`htÚl
 (0xã800000))

	)

476 
	#IN6_IS_ADDR_SITELOCAL
(
a
) \

477 ((((cÚ¡ 
ušt32_t
 *è(
a
))[0] & 
	`htÚl
 (0xffc00000)) \

478 =ğ
	`htÚl
 (0xãc00000))

	)

480 
	#IN6_IS_ADDR_V4MAPPED
(
a
) \

481 ((((cÚ¡ 
ušt32_t
 *è(
a
))[0] == 0) \

482 && (((cÚ¡ 
ušt32_t
 *è(
a
))[1] == 0) \

483 && (((cÚ¡ 
ušt32_t
 *è(
a
))[2] =ğ
	`htÚl
 (0xffff)))

	)

485 
	#IN6_IS_ADDR_V4COMPAT
(
a
) \

486 ((((cÚ¡ 
ušt32_t
 *è(
a
))[0] == 0) \

487 && (((cÚ¡ 
ušt32_t
 *è(
a
))[1] == 0) \

488 && (((cÚ¡ 
ušt32_t
 *è(
a
))[2] == 0) \

489 && (
	`Áohl
 (((cÚ¡ 
ušt32_t
 *è(
a
))[3]è> 1))

	)

491 
	#IN6_ARE_ADDR_EQUAL
(
a
,
b
) \

492 ((((cÚ¡ 
ušt32_t
 *è(
a
))[0] =ğ((cÚ¡ ušt32_ˆ*è(
b
))[0]) \

493 && (((cÚ¡ 
ušt32_t
 *è(
a
))[1] =ğ((cÚ¡ ušt32_ˆ*è(
b
))[1]) \

494 && (((cÚ¡ 
ušt32_t
 *è(
a
))[2] =ğ((cÚ¡ ušt32_ˆ*è(
b
))[2]) \

495 && (((cÚ¡ 
ušt32_t
 *è(
a
))[3] =ğ((cÚ¡ ušt32_ˆ*è(
b
))[3]))

	)

498 
	#IN6_IS_ADDR_MULTICAST
(
a
è(((cÚ¡ 
ušt8_t
 *è×))[0] =ğ0xff)

	)

500 #ifdeà
__USE_MISC


502 
	$bšd»svpÜt
 (
__sockfd
, 
sockaddr_š
 *
__sock_š
è
__THROW
;

505 
	$bšd»svpÜt6
 (
__sockfd
, 
sockaddr_š6
 *
__sock_š
)

506 
__THROW
;

510 
	#IN6_IS_ADDR_MC_NODELOCAL
(
a
) \

511 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

512 && ((((cÚ¡ 
ušt8_t
 *è(
a
))[1] & 0xfè=ğ0x1))

	)

514 
	#IN6_IS_ADDR_MC_LINKLOCAL
(
a
) \

515 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

516 && ((((cÚ¡ 
ušt8_t
 *è(
a
))[1] & 0xfè=ğ0x2))

	)

518 
	#IN6_IS_ADDR_MC_SITELOCAL
(
a
) \

519 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

520 && ((((cÚ¡ 
ušt8_t
 *è(
a
))[1] & 0xfè=ğ0x5))

	)

522 
	#IN6_IS_ADDR_MC_ORGLOCAL
(
a
) \

523 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

524 && ((((cÚ¡ 
ušt8_t
 *è(
a
))[1] & 0xfè=ğ0x8))

	)

526 
	#IN6_IS_ADDR_MC_GLOBAL
(
a
) \

527 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

528 && ((((cÚ¡ 
ušt8_t
 *è(
a
))[1] & 0xfè=ğ0xe))

	)

531 #ifdeà
__USE_GNU


532 
cmsghdr
;

534 #ià!
__USE_KERNEL_IPV6_DEFS


536 
	sš6_pktšfo


538 
š6_addr
 
i6_addr
;

539 
i6_ifšdex
;

543 
	s6_mtušfo


545 
sockaddr_š6
 
6m_addr
;

546 
ušt32_t
 
6m_mtu
;

551 
	$š‘6_İtiÚ_¥aû
 (
__nby‹s
)

552 
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

553 
	$š‘6_İtiÚ_š™
 (*
__bp
, 
cmsghdr
 **
__cmsgp
,

554 
__ty³
è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

555 
	$š‘6_İtiÚ_­³nd
 (
cmsghdr
 *
__cmsg
,

556 cÚ¡ 
ušt8_t
 *
__ty³p
, 
__muÉx
,

557 
__¶usy
è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

558 
ušt8_t
 *
	$š‘6_İtiÚ_®loc
 (
cmsghdr
 *
__cmsg
, 
__d©®’
,

559 
__muÉx
, 
__¶usy
)

560 
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

561 
	$š‘6_İtiÚ_Ãxt
 (cÚ¡ 
cmsghdr
 *
__cmsg
,

562 
ušt8_t
 **
__Œp
)

563 
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

564 
	$š‘6_İtiÚ_fšd
 (cÚ¡ 
cmsghdr
 *
__cmsg
,

565 
ušt8_t
 **
__Œp
, 
__ty³
)

566 
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

570 
	$š‘6_İt_š™
 (*
__extbuf
, 
sockËn_t
 
__ex’
è
__THROW
;

571 
	$š‘6_İt_­³nd
 (*
__extbuf
, 
sockËn_t
 
__ex’
, 
__off£t
,

572 
ušt8_t
 
__ty³
, 
sockËn_t
 
__Ën
, ušt8_ˆ
__®ign
,

573 **
__d©abuå
è
__THROW
;

574 
	$š‘6_İt_fšish
 (*
__extbuf
, 
sockËn_t
 
__ex’
, 
__off£t
)

575 
__THROW
;

576 
	$š‘6_İt_£t_v®
 (*
__d©abuf
, 
__off£t
, *
__v®
,

577 
sockËn_t
 
__v®Ën
è
__THROW
;

578 
	$š‘6_İt_Ãxt
 (*
__extbuf
, 
sockËn_t
 
__ex’
, 
__off£t
,

579 
ušt8_t
 *
__ty³p
, 
sockËn_t
 *
__ËÅ
,

580 **
__d©abuå
è
__THROW
;

581 
	$š‘6_İt_fšd
 (*
__extbuf
, 
sockËn_t
 
__ex’
, 
__off£t
,

582 
ušt8_t
 
__ty³
, 
sockËn_t
 *
__ËÅ
,

583 **
__d©abuå
è
__THROW
;

584 
	$š‘6_İt_g‘_v®
 (*
__d©abuf
, 
__off£t
, *
__v®
,

585 
sockËn_t
 
__v®Ën
è
__THROW
;

589 
sockËn_t
 
	$š‘6_¹h_¥aû
 (
__ty³
, 
__£gm’ts
è
__THROW
;

590 *
	$š‘6_¹h_š™
 (*
__bp
, 
sockËn_t
 
__bp_Ën
, 
__ty³
,

591 
__£gm’ts
è
__THROW
;

592 
	$š‘6_¹h_add
 (*
__bp
, cÚ¡ 
š6_addr
 *
__addr
è
__THROW
;

593 
	$š‘6_¹h_»v”£
 (cÚ¡ *
__š
, *
__out
è
__THROW
;

594 
	$š‘6_¹h_£gm’ts
 (cÚ¡ *
__bp
è
__THROW
;

595 
š6_addr
 *
	$š‘6_¹h_g‘addr
 (cÚ¡ *
__bp
, 
__šdex
)

596 
__THROW
;

602 
	$g‘v4sourûf‹r
 (
__s
, 
š_addr
 
__š‹rçû_addr
,

603 
š_addr
 
__group
, 
ušt32_t
 *
__fmode
,

604 
ušt32_t
 *
__num¤c
, 
š_addr
 *
__¦i¡
)

605 
__THROW
;

608 
	$£tv4sourûf‹r
 (
__s
, 
š_addr
 
__š‹rçû_addr
,

609 
š_addr
 
__group
, 
ušt32_t
 
__fmode
,

610 
ušt32_t
 
__num¤c
,

611 cÚ¡ 
š_addr
 *
__¦i¡
)

612 
__THROW
;

616 
	$g‘sourûf‹r
 (
__s
, 
ušt32_t
 
__š‹rçû_addr
,

617 cÚ¡ 
sockaddr
 *
__group
,

618 
sockËn_t
 
__grou¶’
, 
ušt32_t
 *
__fmode
,

619 
ušt32_t
 *
__num¤c
,

620 
sockaddr_¡Üage
 *
__¦i¡
è
__THROW
;

623 
	$£tsourûf‹r
 (
__s
, 
ušt32_t
 
__š‹rçû_addr
,

624 cÚ¡ 
sockaddr
 *
__group
,

625 
sockËn_t
 
__grou¶’
, 
ušt32_t
 
__fmode
,

626 
ušt32_t
 
__num¤c
,

627 cÚ¡ 
sockaddr_¡Üage
 *
__¦i¡
è
__THROW
;

630 
__END_DECLS


	@/usr/include/netinet/in_systm.h

19 #iâdeà
_NETINET_IN_SYSTM_H


20 
	#_NETINET_IN_SYSTM_H
 1

	)

22 
	~<sys/ty³s.h
>

23 
	~<¡dšt.h
>

25 
__BEGIN_DECLS


34 
ušt16_t
 
	tn_shÜt
;

35 
ušt32_t
 
	tn_lÚg
;

36 
ušt32_t
 
	tn_time
;

38 
	g__END_DECLS


	@/usr/include/netinet/ip.h

18 #iâdeà
__NETINET_IP_H


19 
	#__NETINET_IP_H
 1

	)

21 
	~<ã©u»s.h
>

22 
	~<sys/ty³s.h
>

24 
	~<Ãtš‘/š.h
>

26 
__BEGIN_DECLS


28 
	stime¡amp


30 
ušt8_t
 
	mËn
;

31 
ušt8_t
 
	m±r
;

32 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


33 
	mæags
:4;

34 
	mov”æow
:4;

35 #–ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


36 
	mov”æow
:4;

37 
	mæags
:4;

41 
ušt32_t
 
	md©a
[9];

44 
	shdr


46 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


47 
	mihl
:4;

48 
	mv”siÚ
:4;

49 #–ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


50 
	mv”siÚ
:4;

51 
	mihl
:4;

55 
ušt8_t
 
	mtos
;

56 
ušt16_t
 
	mtÙ_Ën
;

57 
ušt16_t
 
	mid
;

58 
ušt16_t
 
	mäag_off
;

59 
ušt8_t
 
	m‰l
;

60 
ušt8_t
 
	m´ÙocŞ
;

61 
ušt16_t
 
	mcheck
;

62 
ušt32_t
 
	m§ddr
;

63 
ušt32_t
 
	mdaddr
;

67 #ifdeà
__USE_MISC


107 
	s


109 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


110 
	m_hl
:4;

111 
	m_v
:4;

113 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


114 
	m_v
:4;

115 
	m_hl
:4;

117 
ušt8_t
 
	m_tos
;

118 
	m_Ën
;

119 
	m_id
;

120 
	m_off
;

121 
	#IP_RF
 0x8000

	)

122 
	#IP_DF
 0x4000

	)

123 
	#IP_MF
 0x2000

	)

124 
	#IP_OFFMASK
 0x1ffà

	)

125 
ušt8_t
 
	m_‰l
;

126 
ušt8_t
 
	m_p
;

127 
	m_sum
;

128 
š_addr
 
	m_¤c
, 
	m_d¡
;

134 
	s_time¡amp


136 
ušt8_t
 
	mt_code
;

137 
ušt8_t
 
	mt_Ën
;

138 
ušt8_t
 
	mt_±r
;

139 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


140 
	mt_æg
:4;

141 
	mt_oæw
:4;

143 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


144 
	mt_oæw
:4;

145 
	mt_æg
:4;

147 
ušt32_t
 
	md©a
[9];

151 
	#IPVERSION
 4

	)

152 
	#IP_MAXPACKET
 65535

	)

160 
	#IPTOS_ECN_MASK
 0x03

	)

161 
	#IPTOS_ECN
(
x
è((xè& 
IPTOS_ECN_MASK
)

	)

162 
	#IPTOS_ECN_NOT_ECT
 0x00

	)

163 
	#IPTOS_ECN_ECT1
 0x01

	)

164 
	#IPTOS_ECN_ECT0
 0x02

	)

165 
	#IPTOS_ECN_CE
 0x03

	)

173 
	#IPTOS_DSCP_MASK
 0xfc

	)

174 
	#IPTOS_DSCP
(
x
è((xè& 
IPTOS_DSCP_MASK
)

	)

175 
	#IPTOS_DSCP_AF11
 0x28

	)

176 
	#IPTOS_DSCP_AF12
 0x30

	)

177 
	#IPTOS_DSCP_AF13
 0x38

	)

178 
	#IPTOS_DSCP_AF21
 0x48

	)

179 
	#IPTOS_DSCP_AF22
 0x50

	)

180 
	#IPTOS_DSCP_AF23
 0x58

	)

181 
	#IPTOS_DSCP_AF31
 0x68

	)

182 
	#IPTOS_DSCP_AF32
 0x70

	)

183 
	#IPTOS_DSCP_AF33
 0x78

	)

184 
	#IPTOS_DSCP_AF41
 0x88

	)

185 
	#IPTOS_DSCP_AF42
 0x90

	)

186 
	#IPTOS_DSCP_AF43
 0x98

	)

187 
	#IPTOS_DSCP_EF
 0xb8

	)

194 
	#IPTOS_CLASS_MASK
 0xe0

	)

195 
	#IPTOS_CLASS
(
şass
è((şassè& 
IPTOS_CLASS_MASK
)

	)

196 
	#IPTOS_CLASS_CS0
 0x00

	)

197 
	#IPTOS_CLASS_CS1
 0x20

	)

198 
	#IPTOS_CLASS_CS2
 0x40

	)

199 
	#IPTOS_CLASS_CS3
 0x60

	)

200 
	#IPTOS_CLASS_CS4
 0x80

	)

201 
	#IPTOS_CLASS_CS5
 0xa0

	)

202 
	#IPTOS_CLASS_CS6
 0xc0

	)

203 
	#IPTOS_CLASS_CS7
 0xe0

	)

205 
	#IPTOS_CLASS_DEFAULT
 
IPTOS_CLASS_CS0


	)

211 
	#IPTOS_TOS_MASK
 0x1E

	)

212 
	#IPTOS_TOS
(
tos
è(Ñosè& 
IPTOS_TOS_MASK
)

	)

213 
	#IPTOS_LOWDELAY
 0x10

	)

214 
	#IPTOS_THROUGHPUT
 0x08

	)

215 
	#IPTOS_RELIABILITY
 0x04

	)

216 
	#IPTOS_LOWCOST
 0x02

	)

217 
	#IPTOS_MINCOST
 
IPTOS_LOWCOST


	)

222 
	#IPTOS_PREC_MASK
 
IPTOS_CLASS_MASK


	)

223 
	#IPTOS_PREC
(
tos
è
	`IPTOS_CLASS
Ños)

	)

224 
	#IPTOS_PREC_NETCONTROL
 
IPTOS_CLASS_CS7


	)

225 
	#IPTOS_PREC_INTERNETCONTROL
 
IPTOS_CLASS_CS6


	)

226 
	#IPTOS_PREC_CRITIC_ECP
 
IPTOS_CLASS_CS5


	)

227 
	#IPTOS_PREC_FLASHOVERRIDE
 
IPTOS_CLASS_CS4


	)

228 
	#IPTOS_PREC_FLASH
 
IPTOS_CLASS_CS3


	)

229 
	#IPTOS_PREC_IMMEDIATE
 
IPTOS_CLASS_CS2


	)

230 
	#IPTOS_PREC_PRIORITY
 
IPTOS_CLASS_CS1


	)

231 
	#IPTOS_PREC_ROUTINE
 
IPTOS_CLASS_CS0


	)

236 
	#IPOPT_COPY
 0x80

	)

237 
	#IPOPT_CLASS_MASK
 0x60

	)

238 
	#IPOPT_NUMBER_MASK
 0x1f

	)

240 
	#IPOPT_COPIED
(
o
è((oè& 
IPOPT_COPY
)

	)

241 
	#IPOPT_CLASS
(
o
è((oè& 
IPOPT_CLASS_MASK
)

	)

242 
	#IPOPT_NUMBER
(
o
è((oè& 
IPOPT_NUMBER_MASK
)

	)

244 
	#IPOPT_CONTROL
 0x00

	)

245 
	#IPOPT_RESERVED1
 0x20

	)

246 
	#IPOPT_DEBMEAS
 0x40

	)

247 
	#IPOPT_MEASUREMENT
 
IPOPT_DEBMEAS


	)

248 
	#IPOPT_RESERVED2
 0x60

	)

250 
	#IPOPT_EOL
 0

	)

251 
	#IPOPT_END
 
IPOPT_EOL


	)

252 
	#IPOPT_NOP
 1

	)

253 
	#IPOPT_NOOP
 
IPOPT_NOP


	)

255 
	#IPOPT_RR
 7

	)

256 
	#IPOPT_TS
 68

	)

257 
	#IPOPT_TIMESTAMP
 
IPOPT_TS


	)

258 
	#IPOPT_SECURITY
 130

	)

259 
	#IPOPT_SEC
 
IPOPT_SECURITY


	)

260 
	#IPOPT_LSRR
 131

	)

261 
	#IPOPT_SATID
 136

	)

262 
	#IPOPT_SID
 
IPOPT_SATID


	)

263 
	#IPOPT_SSRR
 137

	)

264 
	#IPOPT_RA
 148

	)

269 
	#IPOPT_OPTVAL
 0

	)

270 
	#IPOPT_OLEN
 1

	)

271 
	#IPOPT_OFFSET
 2

	)

272 
	#IPOPT_MINOFF
 4

	)

274 
	#MAX_IPOPTLEN
 40

	)

277 
	#IPOPT_TS_TSONLY
 0

	)

278 
	#IPOPT_TS_TSANDADDR
 1

	)

279 
	#IPOPT_TS_PRESPEC
 3

	)

282 
	#IPOPT_SECUR_UNCLASS
 0x0000

	)

283 
	#IPOPT_SECUR_CONFID
 0xf135

	)

284 
	#IPOPT_SECUR_EFTO
 0x789a

	)

285 
	#IPOPT_SECUR_MMMM
 0xbc4d

	)

286 
	#IPOPT_SECUR_RESTR
 0xaf13

	)

287 
	#IPOPT_SECUR_SECRET
 0xd788

	)

288 
	#IPOPT_SECUR_TOPSECRET
 0x6bc5

	)

293 
	#MAXTTL
 255

	)

294 
	#IPDEFTTL
 64

	)

295 
	#IPFRAGTTL
 60

	)

296 
	#IPTTLDEC
 1

	)

298 
	#IP_MSS
 576

	)

300 
	g__END_DECLS


	@/usr/include/netinet/tcp.h

32 #iâdeà
_NETINET_TCP_H


33 
	#_NETINET_TCP_H
 1

	)

35 
	~<ã©u»s.h
>

40 
	#TCP_NODELAY
 1

	)

41 
	#TCP_MAXSEG
 2

	)

42 
	#TCP_CORK
 3

	)

43 
	#TCP_KEEPIDLE
 4

	)

44 
	#TCP_KEEPINTVL
 5

	)

45 
	#TCP_KEEPCNT
 6

	)

46 
	#TCP_SYNCNT
 7

	)

47 
	#TCP_LINGER2
 8

	)

48 
	#TCP_DEFER_ACCEPT
 9

	)

49 
	#TCP_WINDOW_CLAMP
 10

	)

50 
	#TCP_INFO
 11

	)

51 
	#TCP_QUICKACK
 12

	)

52 
	#TCP_CONGESTION
 13

	)

53 
	#TCP_MD5SIG
 14

	)

54 
	#TCP_COOKIE_TRANSACTIONS
 15

	)

55 
	#TCP_THIN_LINEAR_TIMEOUTS
 16

	)

56 
	#TCP_THIN_DUPACK
 17

	)

57 
	#TCP_USER_TIMEOUT
 18

	)

58 
	#TCP_REPAIR
 19

	)

59 
	#TCP_REPAIR_QUEUE
 20

	)

60 
	#TCP_QUEUE_SEQ
 21

	)

61 
	#TCP_REPAIR_OPTIONS
 22

	)

62 
	#TCP_FASTOPEN
 23

	)

63 
	#TCP_TIMESTAMP
 24

	)

64 
	#TCP_NOTSENT_LOWAT
 25

	)

66 
	#TCP_CC_INFO
 26

	)

68 
	#TCP_SAVE_SYN
 27

	)

70 
	#TCP_SAVED_SYN
 28

	)

72 
	#TCP_REPAIR_WINDOW
 29

	)

73 
	#TCP_FASTOPEN_CONNECT
 30

	)

74 
	#TCP_ULP
 31

	)

75 
	#TCP_MD5SIG_EXT
 32

	)

77 #ifdeà
__USE_MISC


78 
	~<sys/ty³s.h
>

79 
	~<sys/sock‘.h
>

80 
	~<¡dšt.h
>

82 
ušt32_t
 
	ttı_£q
;

87 
	stıhdr


89 
__ex‹nsiÚ__
 union

93 
ušt16_t
 
	mth_¥Üt
;

94 
ušt16_t
 
	mth_dpÜt
;

95 
tı_£q
 
	mth_£q
;

96 
tı_£q
 
	mth_ack
;

97 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


98 
ušt8_t
 
	mth_x2
:4;

99 
ušt8_t
 
	mth_off
:4;

101 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


102 
ušt8_t
 
	mth_off
:4;

103 
ušt8_t
 
	mth_x2
:4;

105 
ušt8_t
 
	mth_æags
;

106 
	#TH_FIN
 0x01

	)

107 
	#TH_SYN
 0x02

	)

108 
	#TH_RST
 0x04

	)

109 
	#TH_PUSH
 0x08

	)

110 
	#TH_ACK
 0x10

	)

111 
	#TH_URG
 0x20

	)

112 
ušt16_t
 
	mth_wš
;

113 
ušt16_t
 
	mth_sum
;

114 
ušt16_t
 
	mth_u½
;

118 
ušt16_t
 
	msourû
;

119 
ušt16_t
 
	mde¡
;

120 
ušt32_t
 
	m£q
;

121 
ušt32_t
 
	mack_£q
;

122 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


123 
ušt16_t
 
	m»s1
:4;

124 
ušt16_t
 
	mdoff
:4;

125 
ušt16_t
 
	mfš
:1;

126 
ušt16_t
 
	msyn
:1;

127 
ušt16_t
 
	mr¡
:1;

128 
ušt16_t
 
	mpsh
:1;

129 
ušt16_t
 
	mack
:1;

130 
ušt16_t
 
	murg
:1;

131 
ušt16_t
 
	m»s2
:2;

132 #–ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


133 
ušt16_t
 
	mdoff
:4;

134 
ušt16_t
 
	m»s1
:4;

135 
ušt16_t
 
	m»s2
:2;

136 
ušt16_t
 
	murg
:1;

137 
ušt16_t
 
	mack
:1;

138 
ušt16_t
 
	mpsh
:1;

139 
ušt16_t
 
	mr¡
:1;

140 
ušt16_t
 
	msyn
:1;

141 
ušt16_t
 
	mfš
:1;

145 
ušt16_t
 
	mwšdow
;

146 
ušt16_t
 
	mcheck
;

147 
ušt16_t
 
	murg_±r
;

154 
	mTCP_ESTABLISHED
 = 1,

155 
	mTCP_SYN_SENT
,

156 
	mTCP_SYN_RECV
,

157 
	mTCP_FIN_WAIT1
,

158 
	mTCP_FIN_WAIT2
,

159 
	mTCP_TIME_WAIT
,

160 
	mTCP_CLOSE
,

161 
	mTCP_CLOSE_WAIT
,

162 
	mTCP_LAST_ACK
,

163 
	mTCP_LISTEN
,

164 
	mTCP_CLOSING


167 
	#TCPOPT_EOL
 0

	)

168 
	#TCPOPT_NOP
 1

	)

169 
	#TCPOPT_MAXSEG
 2

	)

170 
	#TCPOLEN_MAXSEG
 4

	)

171 
	#TCPOPT_WINDOW
 3

	)

172 
	#TCPOLEN_WINDOW
 3

	)

173 
	#TCPOPT_SACK_PERMITTED
 4

	)

174 
	#TCPOLEN_SACK_PERMITTED
 2

	)

175 
	#TCPOPT_SACK
 5

	)

176 
	#TCPOPT_TIMESTAMP
 8

	)

177 
	#TCPOLEN_TIMESTAMP
 10

	)

178 
	#TCPOLEN_TSTAMP_APPA
 (
TCPOLEN_TIMESTAMP
+2è

	)

180 
	#TCPOPT_TSTAMP_HDR
 \

181 (
TCPOPT_NOP
<<24|TCPOPT_NOP<<16|
TCPOPT_TIMESTAMP
<<8|
TCPOLEN_TIMESTAMP
)

	)

189 
	#TCP_MSS
 512

	)

191 
	#TCP_MAXWIN
 65535

	)

193 
	#TCP_MAX_WINSHIFT
 14

	)

195 
	#SOL_TCP
 6

	)

198 
	#TCPI_OPT_TIMESTAMPS
 1

	)

199 
	#TCPI_OPT_SACK
 2

	)

200 
	#TCPI_OPT_WSCALE
 4

	)

201 
	#TCPI_OPT_ECN
 8

	)

202 
	#TCPI_OPT_ECN_SEEN
 16

	)

203 
	#TCPI_OPT_SYN_DATA
 32

	)

206 
	etı_ÿ_¡©e


208 
	mTCP_CA_O³n
 = 0,

209 
	mTCP_CA_DisÜd”
 = 1,

210 
	mTCP_CA_CWR
 = 2,

211 
	mTCP_CA_Recov”y
 = 3,

212 
	mTCP_CA_Loss
 = 4

215 
	stı_šfo


217 
ušt8_t
 
	mtıi_¡©e
;

218 
ušt8_t
 
	mtıi_ÿ_¡©e
;

219 
ušt8_t
 
	mtıi_»Œªsm™s
;

220 
ušt8_t
 
	mtıi_´obes
;

221 
ušt8_t
 
	mtıi_backoff
;

222 
ušt8_t
 
	mtıi_İtiÚs
;

223 
ušt8_t
 
	mtıi_¢d_wsÿË
 : 4, 
	mtıi_rcv_wsÿË
 : 4;

225 
ušt32_t
 
	mtıi_¹o
;

226 
ušt32_t
 
	mtıi_©o
;

227 
ušt32_t
 
	mtıi_¢d_mss
;

228 
ušt32_t
 
	mtıi_rcv_mss
;

230 
ušt32_t
 
	mtıi_uÇcked
;

231 
ušt32_t
 
	mtıi_§cked
;

232 
ušt32_t
 
	mtıi_lo¡
;

233 
ušt32_t
 
	mtıi_»Œªs
;

234 
ušt32_t
 
	mtıi_çck‘s
;

237 
ušt32_t
 
	mtıi_Ï¡_d©a_£Á
;

238 
ušt32_t
 
	mtıi_Ï¡_ack_£Á
;

239 
ušt32_t
 
	mtıi_Ï¡_d©a_»cv
;

240 
ušt32_t
 
	mtıi_Ï¡_ack_»cv
;

243 
ušt32_t
 
	mtıi_pmtu
;

244 
ušt32_t
 
	mtıi_rcv_s¡h»sh
;

245 
ušt32_t
 
	mtıi_¹t
;

246 
ušt32_t
 
	mtıi_¹tv¬
;

247 
ušt32_t
 
	mtıi_¢d_s¡h»sh
;

248 
ušt32_t
 
	mtıi_¢d_cwnd
;

249 
ušt32_t
 
	mtıi_advmss
;

250 
ušt32_t
 
	mtıi_»Üd”šg
;

252 
ušt32_t
 
	mtıi_rcv_¹t
;

253 
ušt32_t
 
	mtıi_rcv_¥aû
;

255 
ušt32_t
 
	mtıi_tÙ®_»Œªs
;

260 
	#TCP_MD5SIG_MAXKEYLEN
 80

	)

263 
	#TCP_MD5SIG_FLAG_PREFIX
 1

	)

265 
	stı_md5sig


267 
sockaddr_¡Üage
 
	mtım_addr
;

268 
ušt8_t
 
	mtım_æags
;

269 
ušt8_t
 
	mtım_´efixËn
;

270 
ušt16_t
 
	mtım_keyËn
;

271 
ušt32_t
 
	m__tım_·d
;

272 
ušt8_t
 
	mtım_key
[
TCP_MD5SIG_MAXKEYLEN
];

276 
	stı_»·œ_İt


278 
ušt32_t
 
	mİt_code
;

279 
ušt32_t
 
	mİt_v®
;

285 
	mTCP_NO_QUEUE
,

286 
	mTCP_RECV_QUEUE
,

287 
	mTCP_SEND_QUEUE
,

288 
	mTCP_QUEUES_NR
,

292 
	#TCP_COOKIE_MIN
 8

	)

293 
	#TCP_COOKIE_MAX
 16

	)

294 
	#TCP_COOKIE_PAIR_SIZE
 (2*
TCP_COOKIE_MAX
)

	)

297 
	#TCP_COOKIE_IN_ALWAYS
 (1 << 0è

	)

298 
	#TCP_COOKIE_OUT_NEVER
 (1 << 1è

	)

302 
	#TCP_S_DATA_IN
 (1 << 2è

	)

303 
	#TCP_S_DATA_OUT
 (1 << 3è

	)

305 
	#TCP_MSS_DEFAULT
 536U

	)

306 
	#TCP_MSS_DESIRED
 1220U

	)

308 
	stı_cook›_Œª§ùiÚs


310 
ušt16_t
 
	mtıù_æags
;

311 
ušt8_t
 
	m__tıù_·d1
;

312 
ušt8_t
 
	mtıù_cook›_desœed
;

313 
ušt16_t
 
	mtıù_s_d©a_desœed
;

314 
ušt16_t
 
	mtıù_u£d
;

315 
ušt8_t
 
	mtıù_v®ue
[
TCP_MSS_DEFAULT
];

319 
	stı_»·œ_wšdow


321 
ušt32_t
 
	m¢d_wl1
;

322 
ušt32_t
 
	m¢d_wnd
;

323 
ušt32_t
 
	mmax_wšdow
;

324 
ušt32_t
 
	mrcv_wnd
;

325 
ušt32_t
 
	mrcv_wup
;

	@/usr/include/openssl/bio.h

10 #iâdeà
HEADER_BIO_H


11 
	#HEADER_BIO_H


	)

13 
	~<İ’s¦/e_os2.h
>

15 #iâdeà
OPENSSL_NO_STDIO


16 
	~<¡dio.h
>

18 
	~<¡d¬g.h
>

20 
	~<İ’s¦/üy±o.h
>

21 
	~<İ’s¦/biÛ¼.h
>

23 #iâdeà
OPENSSL_NO_SCTP


24 
	~<İ’s¦/e_os2.h
>

27 #ifdeà 
__ılu¥lus


32 
	#BIO_TYPE_DESCRIPTOR
 0x0100

	)

33 
	#BIO_TYPE_FILTER
 0x0200

	)

34 
	#BIO_TYPE_SOURCE_SINK
 0x0400

	)

37 
	#BIO_TYPE_NONE
 0

	)

38 
	#BIO_TYPE_MEM
 ( 1|
BIO_TYPE_SOURCE_SINK
)

	)

39 
	#BIO_TYPE_FILE
 ( 2|
BIO_TYPE_SOURCE_SINK
)

	)

41 
	#BIO_TYPE_FD
 ( 4|
BIO_TYPE_SOURCE_SINK
|
BIO_TYPE_DESCRIPTOR
)

	)

42 
	#BIO_TYPE_SOCKET
 ( 5|
BIO_TYPE_SOURCE_SINK
|
BIO_TYPE_DESCRIPTOR
)

	)

43 
	#BIO_TYPE_NULL
 ( 6|
BIO_TYPE_SOURCE_SINK
)

	)

44 
	#BIO_TYPE_SSL
 ( 7|
BIO_TYPE_FILTER
)

	)

45 
	#BIO_TYPE_MD
 ( 8|
BIO_TYPE_FILTER
)

	)

46 
	#BIO_TYPE_BUFFER
 ( 9|
BIO_TYPE_FILTER
)

	)

47 
	#BIO_TYPE_CIPHER
 (10|
BIO_TYPE_FILTER
)

	)

48 
	#BIO_TYPE_BASE64
 (11|
BIO_TYPE_FILTER
)

	)

49 
	#BIO_TYPE_CONNECT
 (12|
BIO_TYPE_SOURCE_SINK
|
BIO_TYPE_DESCRIPTOR
)

	)

50 
	#BIO_TYPE_ACCEPT
 (13|
BIO_TYPE_SOURCE_SINK
|
BIO_TYPE_DESCRIPTOR
)

	)

52 
	#BIO_TYPE_NBIO_TEST
 (16|
BIO_TYPE_FILTER
)

	)

53 
	#BIO_TYPE_NULL_FILTER
 (17|
BIO_TYPE_FILTER
)

	)

54 
	#BIO_TYPE_BIO
 (19|
BIO_TYPE_SOURCE_SINK
)

	)

55 
	#BIO_TYPE_LINEBUFFER
 (20|
BIO_TYPE_FILTER
)

	)

56 
	#BIO_TYPE_DGRAM
 (21|
BIO_TYPE_SOURCE_SINK
|
BIO_TYPE_DESCRIPTOR
)

	)

57 
	#BIO_TYPE_ASN1
 (22|
BIO_TYPE_FILTER
)

	)

58 
	#BIO_TYPE_COMP
 (23|
BIO_TYPE_FILTER
)

	)

59 #iâdeà
OPENSSL_NO_SCTP


60 
	#BIO_TYPE_DGRAM_SCTP
 (24|
BIO_TYPE_SOURCE_SINK
|
BIO_TYPE_DESCRIPTOR
)

	)

63 
	#BIO_TYPE_START
 128

	)

69 
	#BIO_NOCLOSE
 0x00

	)

70 
	#BIO_CLOSE
 0x01

	)

75 
	#BIO_CTRL_RESET
 1

	)

76 
	#BIO_CTRL_EOF
 2

	)

77 
	#BIO_CTRL_INFO
 3

	)

78 
	#BIO_CTRL_SET
 4

	)

79 
	#BIO_CTRL_GET
 5

	)

80 
	#BIO_CTRL_PUSH
 6

	)

81 
	#BIO_CTRL_POP
 7

	)

82 
	#BIO_CTRL_GET_CLOSE
 8

	)

83 
	#BIO_CTRL_SET_CLOSE
 9

	)

84 
	#BIO_CTRL_PENDING
 10

	)

85 
	#BIO_CTRL_FLUSH
 11

	)

86 
	#BIO_CTRL_DUP
 12

	)

87 
	#BIO_CTRL_WPENDING
 13

	)

88 
	#BIO_CTRL_SET_CALLBACK
 14

	)

89 
	#BIO_CTRL_GET_CALLBACK
 15

	)

91 
	#BIO_CTRL_PEEK
 29

	)

92 
	#BIO_CTRL_SET_FILENAME
 30

	)

95 
	#BIO_CTRL_DGRAM_CONNECT
 31

	)

96 
	#BIO_CTRL_DGRAM_SET_CONNECTED
 32

	)

98 
	#BIO_CTRL_DGRAM_SET_RECV_TIMEOUT
 33

	)

99 
	#BIO_CTRL_DGRAM_GET_RECV_TIMEOUT
 34

	)

100 
	#BIO_CTRL_DGRAM_SET_SEND_TIMEOUT
 35

	)

101 
	#BIO_CTRL_DGRAM_GET_SEND_TIMEOUT
 36

	)

103 
	#BIO_CTRL_DGRAM_GET_RECV_TIMER_EXP
 37

	)

104 
	#BIO_CTRL_DGRAM_GET_SEND_TIMER_EXP
 38

	)

107 
	#BIO_CTRL_DGRAM_MTU_DISCOVER
 39

	)

110 
	#BIO_CTRL_DGRAM_QUERY_MTU
 40

	)

111 
	#BIO_CTRL_DGRAM_GET_FALLBACK_MTU
 47

	)

112 
	#BIO_CTRL_DGRAM_GET_MTU
 41

	)

113 
	#BIO_CTRL_DGRAM_SET_MTU
 42

	)

117 
	#BIO_CTRL_DGRAM_MTU_EXCEEDED
 43

	)

121 
	#BIO_CTRL_DGRAM_GET_PEER
 46

	)

122 
	#BIO_CTRL_DGRAM_SET_PEER
 44

	)

124 
	#BIO_CTRL_DGRAM_SET_NEXT_TIMEOUT
 45

	)

126 
	#BIO_CTRL_DGRAM_SET_DONT_FRAG
 48

	)

128 
	#BIO_CTRL_DGRAM_GET_MTU_OVERHEAD
 49

	)

131 
	#BIO_CTRL_DGRAM_SCTP_SET_IN_HANDSHAKE
 50

	)

132 #iâdeà
OPENSSL_NO_SCTP


134 
	#BIO_CTRL_DGRAM_SCTP_ADD_AUTH_KEY
 51

	)

135 
	#BIO_CTRL_DGRAM_SCTP_NEXT_AUTH_KEY
 52

	)

136 
	#BIO_CTRL_DGRAM_SCTP_AUTH_CCS_RCVD
 53

	)

137 
	#BIO_CTRL_DGRAM_SCTP_GET_SNDINFO
 60

	)

138 
	#BIO_CTRL_DGRAM_SCTP_SET_SNDINFO
 61

	)

139 
	#BIO_CTRL_DGRAM_SCTP_GET_RCVINFO
 62

	)

140 
	#BIO_CTRL_DGRAM_SCTP_SET_RCVINFO
 63

	)

141 
	#BIO_CTRL_DGRAM_SCTP_GET_PRINFO
 64

	)

142 
	#BIO_CTRL_DGRAM_SCTP_SET_PRINFO
 65

	)

143 
	#BIO_CTRL_DGRAM_SCTP_SAVE_SHUTDOWN
 70

	)

146 
	#BIO_CTRL_DGRAM_SET_PEEK_MODE
 71

	)

149 
	#BIO_FP_READ
 0x02

	)

150 
	#BIO_FP_WRITE
 0x04

	)

151 
	#BIO_FP_APPEND
 0x08

	)

152 
	#BIO_FP_TEXT
 0x10

	)

154 
	#BIO_FLAGS_READ
 0x01

	)

155 
	#BIO_FLAGS_WRITE
 0x02

	)

156 
	#BIO_FLAGS_IO_SPECIAL
 0x04

	)

157 
	#BIO_FLAGS_RWS
 (
BIO_FLAGS_READ
|
BIO_FLAGS_WRITE
|
BIO_FLAGS_IO_SPECIAL
)

	)

158 
	#BIO_FLAGS_SHOULD_RETRY
 0x08

	)

159 #iâdeà
BIO_FLAGS_UPLINK


164 
	#BIO_FLAGS_UPLINK
 0

	)

167 
	#BIO_FLAGS_BASE64_NO_NL
 0x100

	)

174 
	#BIO_FLAGS_MEM_RDONLY
 0x200

	)

175 
	#BIO_FLAGS_NONCLEAR_RST
 0x400

	)

177 
bio_addr_¡
 
	tBIO_ADDR
;

178 
bio_addršfo_¡
 
	tBIO_ADDRINFO
;

180 
BIO_g‘_Ãw_šdex
();

181 
BIO_£t_æags
(
BIO
 *
b
, 
æags
);

182 
BIO_‹¡_æags
(cÚ¡ 
BIO
 *
b
, 
æags
);

183 
BIO_ş—r_æags
(
BIO
 *
b
, 
æags
);

185 
	#BIO_g‘_æags
(
b
è
	`BIO_‹¡_æags
(b, ~(0x0))

	)

186 
	#BIO_£t_»Œy_¥ecŸl
(
b
) \

187 
	`BIO_£t_æags
(
b
, (
BIO_FLAGS_IO_SPECIAL
|
BIO_FLAGS_SHOULD_RETRY
))

	)

188 
	#BIO_£t_»Œy_»ad
(
b
) \

189 
	`BIO_£t_æags
(
b
, (
BIO_FLAGS_READ
|
BIO_FLAGS_SHOULD_RETRY
))

	)

190 
	#BIO_£t_»Œy_wr™e
(
b
) \

191 
	`BIO_£t_æags
(
b
, (
BIO_FLAGS_WRITE
|
BIO_FLAGS_SHOULD_RETRY
))

	)

194 
	#BIO_ş—r_»Œy_æags
(
b
) \

195 
	`BIO_ş—r_æags
(
b
, (
BIO_FLAGS_RWS
|
BIO_FLAGS_SHOULD_RETRY
))

	)

196 
	#BIO_g‘_»Œy_æags
(
b
) \

197 
	`BIO_‹¡_æags
(
b
, (
BIO_FLAGS_RWS
|
BIO_FLAGS_SHOULD_RETRY
))

	)

200 
	#BIO_should_»ad
(
a
è
	`BIO_‹¡_æags
×, 
BIO_FLAGS_READ
)

	)

201 
	#BIO_should_wr™e
(
a
è
	`BIO_‹¡_æags
×, 
BIO_FLAGS_WRITE
)

	)

202 
	#BIO_should_io_¥ecŸl
(
a
è
	`BIO_‹¡_æags
×, 
BIO_FLAGS_IO_SPECIAL
)

	)

203 
	#BIO_»Œy_ty³
(
a
è
	`BIO_‹¡_æags
×, 
BIO_FLAGS_RWS
)

	)

204 
	#BIO_should_»Œy
(
a
è
	`BIO_‹¡_æags
×, 
BIO_FLAGS_SHOULD_RETRY
)

	)

216 
	#BIO_RR_SSL_X509_LOOKUP
 0x01

	)

218 
	#BIO_RR_CONNECT
 0x02

	)

220 
	#BIO_RR_ACCEPT
 0x03

	)

223 
	#BIO_CB_FREE
 0x01

	)

224 
	#BIO_CB_READ
 0x02

	)

225 
	#BIO_CB_WRITE
 0x03

	)

226 
	#BIO_CB_PUTS
 0x04

	)

227 
	#BIO_CB_GETS
 0x05

	)

228 
	#BIO_CB_CTRL
 0x06

	)

234 
	#BIO_CB_RETURN
 0x80

	)

235 
	#BIO_CB_»tuº
(
a
è(×)|
BIO_CB_RETURN
)

	)

236 
	#BIO_cb_´e
(
a
è(!(×)&
BIO_CB_RETURN
))

	)

237 
	#BIO_cb_po¡
(
a
è(×)&
BIO_CB_RETURN
)

	)

239 (*
BIO_ÿÎback_â
)(
	tBIO
 *
	tb
, 
	tİ”
, cÚ¡ *
	t¬gp
, 
	t¬gi
,

240 
	t¬gl
, 
	t»t
);

241 (*
BIO_ÿÎback_â_ex
)(
	tBIO
 *
	tb
, 
	tİ”
, cÚ¡ *
	t¬gp
,

242 
	tsize_t
 
	tËn
, 
	t¬gi
,

243 
	t¬gl
, 
	t»t
, 
	tsize_t
 *
	t´oûs£d
);

244 
BIO_ÿÎback_â
 
BIO_g‘_ÿÎback
(cÚ¡ 
BIO
 *
b
);

245 
BIO_£t_ÿÎback
(
BIO
 *
b
, 
BIO_ÿÎback_â
 
ÿÎback
);

247 
BIO_ÿÎback_â_ex
 
BIO_g‘_ÿÎback_ex
(cÚ¡ 
BIO
 *
b
);

248 
BIO_£t_ÿÎback_ex
(
BIO
 *
b
, 
BIO_ÿÎback_â_ex
 
ÿÎback
);

250 *
BIO_g‘_ÿÎback_¬g
(cÚ¡ 
BIO
 *
b
);

251 
BIO_£t_ÿÎback_¬g
(
BIO
 *
b
, *
¬g
);

253 
bio_m‘hod_¡
 
	tBIO_METHOD
;

255 cÚ¡ *
BIO_m‘hod_Çme
(cÚ¡ 
BIO
 *
b
);

256 
BIO_m‘hod_ty³
(cÚ¡ 
BIO
 *
b
);

258 
	tBIO_šfo_cb
(
	tBIO
 *, , );

259 
BIO_šfo_cb
 
	tbio_šfo_cb
;

261 
DEFINE_STACK_OF
(
BIO
)

264 
	ta¢1_ps_func
 (
	tBIO
 *
	tb
, **
	tpbuf
, *
	t¶’
,

265 *
	t·rg
);

267 #iâdeà
OPENSSL_NO_SCTP


269 
	sbio_dg¿m_sùp_¢dšfo
 {

270 
ušt16_t
 
¢d_sid
;

271 
ušt16_t
 
¢d_æags
;

272 
ušt32_t
 
¢d_µid
;

273 
ušt32_t
 
¢d_cÚ‹xt
;

276 
	sbio_dg¿m_sùp_rcvšfo
 {

277 
ušt16_t
 
rcv_sid
;

278 
ušt16_t
 
rcv_s¢
;

279 
ušt16_t
 
rcv_æags
;

280 
ušt32_t
 
rcv_µid
;

281 
ušt32_t
 
rcv_t¢
;

282 
ušt32_t
 
rcv_cumt¢
;

283 
ušt32_t
 
rcv_cÚ‹xt
;

286 
	sbio_dg¿m_sùp_´šfo
 {

287 
ušt16_t
 
´_pŞicy
;

288 
ušt32_t
 
´_v®ue
;

296 
	#BIO_C_SET_CONNECT
 100

	)

297 
	#BIO_C_DO_STATE_MACHINE
 101

	)

298 
	#BIO_C_SET_NBIO
 102

	)

300 
	#BIO_C_SET_FD
 104

	)

301 
	#BIO_C_GET_FD
 105

	)

302 
	#BIO_C_SET_FILE_PTR
 106

	)

303 
	#BIO_C_GET_FILE_PTR
 107

	)

304 
	#BIO_C_SET_FILENAME
 108

	)

305 
	#BIO_C_SET_SSL
 109

	)

306 
	#BIO_C_GET_SSL
 110

	)

307 
	#BIO_C_SET_MD
 111

	)

308 
	#BIO_C_GET_MD
 112

	)

309 
	#BIO_C_GET_CIPHER_STATUS
 113

	)

310 
	#BIO_C_SET_BUF_MEM
 114

	)

311 
	#BIO_C_GET_BUF_MEM_PTR
 115

	)

312 
	#BIO_C_GET_BUFF_NUM_LINES
 116

	)

313 
	#BIO_C_SET_BUFF_SIZE
 117

	)

314 
	#BIO_C_SET_ACCEPT
 118

	)

315 
	#BIO_C_SSL_MODE
 119

	)

316 
	#BIO_C_GET_MD_CTX
 120

	)

318 
	#BIO_C_SET_BUFF_READ_DATA
 122

	)

319 
	#BIO_C_GET_CONNECT
 123

	)

320 
	#BIO_C_GET_ACCEPT
 124

	)

321 
	#BIO_C_SET_SSL_RENEGOTIATE_BYTES
 125

	)

322 
	#BIO_C_GET_SSL_NUM_RENEGOTIATES
 126

	)

323 
	#BIO_C_SET_SSL_RENEGOTIATE_TIMEOUT
 127

	)

324 
	#BIO_C_FILE_SEEK
 128

	)

325 
	#BIO_C_GET_CIPHER_CTX
 129

	)

326 
	#BIO_C_SET_BUF_MEM_EOF_RETURN
 130

	)

328 
	#BIO_C_SET_BIND_MODE
 131

	)

329 
	#BIO_C_GET_BIND_MODE
 132

	)

330 
	#BIO_C_FILE_TELL
 133

	)

331 
	#BIO_C_GET_SOCKS
 134

	)

332 
	#BIO_C_SET_SOCKS
 135

	)

334 
	#BIO_C_SET_WRITE_BUF_SIZE
 136

	)

335 
	#BIO_C_GET_WRITE_BUF_SIZE
 137

	)

336 
	#BIO_C_MAKE_BIO_PAIR
 138

	)

337 
	#BIO_C_DESTROY_BIO_PAIR
 139

	)

338 
	#BIO_C_GET_WRITE_GUARANTEE
 140

	)

339 
	#BIO_C_GET_READ_REQUEST
 141

	)

340 
	#BIO_C_SHUTDOWN_WR
 142

	)

341 
	#BIO_C_NREAD0
 143

	)

342 
	#BIO_C_NREAD
 144

	)

343 
	#BIO_C_NWRITE0
 145

	)

344 
	#BIO_C_NWRITE
 146

	)

345 
	#BIO_C_RESET_READ_REQUEST
 147

	)

346 
	#BIO_C_SET_MD_CTX
 148

	)

348 
	#BIO_C_SET_PREFIX
 149

	)

349 
	#BIO_C_GET_PREFIX
 150

	)

350 
	#BIO_C_SET_SUFFIX
 151

	)

351 
	#BIO_C_GET_SUFFIX
 152

	)

353 
	#BIO_C_SET_EX_ARG
 153

	)

354 
	#BIO_C_GET_EX_ARG
 154

	)

356 
	#BIO_C_SET_CONNECT_MODE
 155

	)

358 
	#BIO_£t_­p_d©a
(
s
,
¬g
è
	`BIO_£t_ex_d©a
(s,0,¬g)

	)

359 
	#BIO_g‘_­p_d©a
(
s
è
	`BIO_g‘_ex_d©a
(s,0)

	)

361 
	#BIO_£t_nbio
(
b
,
n
è
	`BIO_ù¾
(b,
BIO_C_SET_NBIO
,Ò),
NULL
)

	)

363 #iâdeà
OPENSSL_NO_SOCK


366 
	#BIO_FAMILY_IPV4
 4

	)

367 
	#BIO_FAMILY_IPV6
 6

	)

368 
	#BIO_FAMILY_IPANY
 256

	)

371 
	#BIO_£t_cÚn_ho¡Çme
(
b
,
Çme
è
	`BIO_ù¾
(b,
BIO_C_SET_CONNECT
,0, \

372 (*)(
Çme
))

	)

373 
	#BIO_£t_cÚn_pÜt
(
b
,
pÜt
è
	`BIO_ù¾
(b,
BIO_C_SET_CONNECT
,1, \

374 (*)(
pÜt
))

	)

375 
	#BIO_£t_cÚn_add»ss
(
b
,
addr
è
	`BIO_ù¾
(b,
BIO_C_SET_CONNECT
,2, \

376 (*)(
addr
))

	)

377 
	#BIO_£t_cÚn__çmy
(
b
,
f
è
	`BIO_št_ù¾
(b,
BIO_C_SET_CONNECT
,3,f)

	)

378 
	#BIO_g‘_cÚn_ho¡Çme
(
b
è((cÚ¡ *)
	`BIO_±r_ù¾
(b,
BIO_C_GET_CONNECT
,0))

	)

379 
	#BIO_g‘_cÚn_pÜt
(
b
è((cÚ¡ *)
	`BIO_±r_ù¾
(b,
BIO_C_GET_CONNECT
,1))

	)

380 
	#BIO_g‘_cÚn_add»ss
(
b
è((cÚ¡ 
BIO_ADDR
 *)
	`BIO_±r_ù¾
(b,
BIO_C_GET_CONNECT
,2))

	)

381 
	#BIO_g‘_cÚn__çmy
(
b
è
	`BIO_ù¾
(b,
BIO_C_GET_CONNECT
,3,
NULL
)

	)

382 
	#BIO_£t_cÚn_mode
(
b
,
n
è
	`BIO_ù¾
(b,
BIO_C_SET_CONNECT_MODE
,Ò),
NULL
)

	)

385 
	#BIO_£t_acû±_Çme
(
b
,
Çme
è
	`BIO_ù¾
(b,
BIO_C_SET_ACCEPT
,0, \

386 (*)(
Çme
))

	)

387 
	#BIO_£t_acû±_pÜt
(
b
,
pÜt
è
	`BIO_ù¾
(b,
BIO_C_SET_ACCEPT
,1, \

388 (*)(
pÜt
))

	)

389 
	#BIO_g‘_acû±_Çme
(
b
è((cÚ¡ *)
	`BIO_±r_ù¾
(b,
BIO_C_GET_ACCEPT
,0))

	)

390 
	#BIO_g‘_acû±_pÜt
(
b
è((cÚ¡ *)
	`BIO_±r_ù¾
(b,
BIO_C_GET_ACCEPT
,1))

	)

391 
	#BIO_g‘_³”_Çme
(
b
è((cÚ¡ *)
	`BIO_±r_ù¾
(b,
BIO_C_GET_ACCEPT
,2))

	)

392 
	#BIO_g‘_³”_pÜt
(
b
è((cÚ¡ *)
	`BIO_±r_ù¾
(b,
BIO_C_GET_ACCEPT
,3))

	)

394 
	#BIO_£t_nbio_acû±
(
b
,
n
è
	`BIO_ù¾
(b,
BIO_C_SET_ACCEPT
,2,Ò)?(*)"a":
NULL
)

	)

395 
	#BIO_£t_acû±_bios
(
b
,
bio
è
	`BIO_ù¾
(b,
BIO_C_SET_ACCEPT
,3, \

396 (*)(
bio
))

	)

397 
	#BIO_£t_acû±__çmy
(
b
,
f
è
	`BIO_št_ù¾
(b,
BIO_C_SET_ACCEPT
,4,f)

	)

398 
	#BIO_g‘_acû±__çmy
(
b
è
	`BIO_ù¾
(b,
BIO_C_GET_ACCEPT
,4,
NULL
)

	)

401 
	#BIO_BIND_NORMAL
 0

	)

402 
	#BIO_BIND_REUSEADDR
 
BIO_SOCK_REUSEADDR


	)

403 
	#BIO_BIND_REUSEADDR_IF_UNUSED
 
BIO_SOCK_REUSEADDR


	)

404 
	#BIO_£t_bšd_mode
(
b
,
mode
è
	`BIO_ù¾
(b,
BIO_C_SET_BIND_MODE
,mode,
NULL
)

	)

405 
	#BIO_g‘_bšd_mode
(
b
è
	`BIO_ù¾
(b,
BIO_C_GET_BIND_MODE
,0,
NULL
)

	)

408 
	#BIO_do_cÚÃù
(
b
è
	`BIO_do_hªdshake
(b)

	)

409 
	#BIO_do_acû±
(
b
è
	`BIO_do_hªdshake
(b)

	)

412 
	#BIO_do_hªdshake
(
b
è
	`BIO_ù¾
(b,
BIO_C_DO_STATE_MACHINE
,0,
NULL
)

	)

415 
	#BIO_£t_fd
(
b
,
fd
,
c
è
	`BIO_št_ù¾
(b,
BIO_C_SET_FD
,c,fd)

	)

416 
	#BIO_g‘_fd
(
b
,
c
è
	`BIO_ù¾
(b,
BIO_C_GET_FD
,0,(*)(c))

	)

419 
	#BIO_£t_å
(
b
,
å
,
c
è
	`BIO_ù¾
(b,
BIO_C_SET_FILE_PTR
,c,(*)(å))

	)

420 
	#BIO_g‘_å
(
b
,
åp
è
	`BIO_ù¾
(b,
BIO_C_GET_FILE_PTR
,0,(*)(åp))

	)

423 
	#BIO_£ek
(
b
,
ofs
è()
	`BIO_ù¾
(b,
BIO_C_FILE_SEEK
,ofs,
NULL
)

	)

424 
	#BIO_‹Î
(
b
è()
	`BIO_ù¾
(b,
BIO_C_FILE_TELL
,0,
NULL
)

	)

430 #ifdeà
CONST_STRICT


435 
BIO_»ad_f’ame
(
BIO
 *
b
, cÚ¡ *
Çme
);

437 
	#BIO_»ad_f’ame
(
b
,
Çme
è()
	`BIO_ù¾
(b,
BIO_C_SET_FILENAME
, \

438 
BIO_CLOSE
|
BIO_FP_READ
,(*)(
Çme
))

	)

440 
	#BIO_wr™e_f’ame
(
b
,
Çme
è()
	`BIO_ù¾
(b,
BIO_C_SET_FILENAME
, \

441 
BIO_CLOSE
|
BIO_FP_WRITE
,
Çme
)

	)

442 
	#BIO_­³nd_f’ame
(
b
,
Çme
è()
	`BIO_ù¾
(b,
BIO_C_SET_FILENAME
, \

443 
BIO_CLOSE
|
BIO_FP_APPEND
,
Çme
)

	)

444 
	#BIO_rw_f’ame
(
b
,
Çme
è()
	`BIO_ù¾
(b,
BIO_C_SET_FILENAME
, \

445 
BIO_CLOSE
|
BIO_FP_READ
|
BIO_FP_WRITE
,
Çme
)

	)

453 
	#BIO_£t_s¦
(
b
,
s¦
,
c
è
	`BIO_ù¾
(b,
BIO_C_SET_SSL
,c,(*)(s¦))

	)

454 
	#BIO_g‘_s¦
(
b
,
s¦p
è
	`BIO_ù¾
(b,
BIO_C_GET_SSL
,0,(*)(s¦p))

	)

455 
	#BIO_£t_s¦_mode
(
b
,
ş›Á
è
	`BIO_ù¾
(b,
BIO_C_SSL_MODE
,ş›Á,
NULL
)

	)

456 
	#BIO_£t_s¦_»ÃgÙŸ‹_by‹s
(
b
,
num
) \

457 
	`BIO_ù¾
(
b
,
BIO_C_SET_SSL_RENEGOTIATE_BYTES
,
num
,
NULL
)

	)

458 
	#BIO_g‘_num_»ÃgÙŸ‹s
(
b
) \

459 
	`BIO_ù¾
(
b
,
BIO_C_GET_SSL_NUM_RENEGOTIATES
,0,
NULL
)

	)

460 
	#BIO_£t_s¦_»ÃgÙŸ‹_timeout
(
b
,
£cÚds
) \

461 
	`BIO_ù¾
(
b
,
BIO_C_SET_SSL_RENEGOTIATE_TIMEOUT
,
£cÚds
,
NULL
)

	)

466 
	#BIO_g‘_mem_d©a
(
b
,
µ
è
	`BIO_ù¾
(b,
BIO_CTRL_INFO
,0,(*)Õp))

	)

467 
	#BIO_£t_mem_buf
(
b
,
bm
,
c
è
	`BIO_ù¾
(b,
BIO_C_SET_BUF_MEM
,c,(*)(bm))

	)

468 
	#BIO_g‘_mem_±r
(
b
,
µ
è
	`BIO_ù¾
(b,
BIO_C_GET_BUF_MEM_PTR
,0, \

469 (*)(
µ
))

	)

470 
	#BIO_£t_mem_eof_»tuº
(
b
,
v
) \

471 
	`BIO_ù¾
(
b
,
BIO_C_SET_BUF_MEM_EOF_RETURN
,
v
,
NULL
)

	)

474 
	#BIO_g‘_bufãr_num_lšes
(
b
è
	`BIO_ù¾
(b,
BIO_C_GET_BUFF_NUM_LINES
,0,
NULL
)

	)

475 
	#BIO_£t_bufãr_size
(
b
,
size
è
	`BIO_ù¾
(b,
BIO_C_SET_BUFF_SIZE
,size,
NULL
)

	)

476 
	#BIO_£t_»ad_bufãr_size
(
b
,
size
è
	`BIO_št_ù¾
(b,
BIO_C_SET_BUFF_SIZE
,size,0)

	)

477 
	#BIO_£t_wr™e_bufãr_size
(
b
,
size
è
	`BIO_št_ù¾
(b,
BIO_C_SET_BUFF_SIZE
,size,1)

	)

478 
	#BIO_£t_bufãr_»ad_d©a
(
b
,
buf
,
num
è
	`BIO_ù¾
(b,
BIO_C_SET_BUFF_READ_DATA
,num,buf)

	)

481 
	#BIO_dup_¡©e
(
b
,
»t
è
	`BIO_ù¾
(b,
BIO_CTRL_DUP
,0,(*)Ô‘))

	)

483 
	#BIO_»£t
(
b
è()
	`BIO_ù¾
(b,
BIO_CTRL_RESET
,0,
NULL
)

	)

484 
	#BIO_eof
(
b
è()
	`BIO_ù¾
(b,
BIO_CTRL_EOF
,0,
NULL
)

	)

485 
	#BIO_£t_şo£
(
b
,
c
è()
	`BIO_ù¾
(b,
BIO_CTRL_SET_CLOSE
,(c),
NULL
)

	)

486 
	#BIO_g‘_şo£
(
b
è()
	`BIO_ù¾
(b,
BIO_CTRL_GET_CLOSE
,0,
NULL
)

	)

487 
	#BIO_³ndšg
(
b
è()
	`BIO_ù¾
(b,
BIO_CTRL_PENDING
,0,
NULL
)

	)

488 
	#BIO_w³ndšg
(
b
è()
	`BIO_ù¾
(b,
BIO_CTRL_WPENDING
,0,
NULL
)

	)

490 
size_t
 
BIO_ù¾_³ndšg
(
BIO
 *
b
);

491 
size_t
 
BIO_ù¾_w³ndšg
(
BIO
 *
b
);

492 
	#BIO_æush
(
b
è()
	`BIO_ù¾
(b,
BIO_CTRL_FLUSH
,0,
NULL
)

	)

493 
	#BIO_g‘_šfo_ÿÎback
(
b
,
cbp
è()
	`BIO_ù¾
(b,
BIO_CTRL_GET_CALLBACK
,0, \

494 
cbp
)

	)

495 
	#BIO_£t_šfo_ÿÎback
(
b
,
cb
è()
	`BIO_ÿÎback_ù¾
(b,
BIO_CTRL_SET_CALLBACK
,cb)

	)

498 
	#BIO_bufãr_g‘_num_lšes
(
b
è
	`BIO_ù¾
(b,
BIO_CTRL_GET
,0,
NULL
)

	)

499 
	#BIO_bufãr_³ek
(
b
,
s
,
l
è
	`BIO_ù¾
(b,
BIO_CTRL_PEEK
,Ö),(s))

	)

502 
	#BIO_£t_wr™e_buf_size
(
b
,
size
è()
	`BIO_ù¾
(b,
BIO_C_SET_WRITE_BUF_SIZE
,size,
NULL
)

	)

503 
	#BIO_g‘_wr™e_buf_size
(
b
,
size
è(
size_t
)
	`BIO_ù¾
(b,
BIO_C_GET_WRITE_BUF_SIZE
,size,
NULL
)

	)

504 
	#BIO_make_bio_·œ
(
b1
,
b2
è()
	`BIO_ù¾
(b1,
BIO_C_MAKE_BIO_PAIR
,0,b2)

	)

505 
	#BIO_de¡roy_bio_·œ
(
b
è()
	`BIO_ù¾
(b,
BIO_C_DESTROY_BIO_PAIR
,0,
NULL
)

	)

506 
	#BIO_shutdown_wr
(
b
è()
	`BIO_ù¾
(b, 
BIO_C_SHUTDOWN_WR
, 0, 
NULL
)

	)

508 
	#BIO_g‘_wr™e_gu¬ª‹e
(
b
è()
	`BIO_ù¾
(b,
BIO_C_GET_WRITE_GUARANTEE
,0,
NULL
)

	)

509 
	#BIO_g‘_»ad_»que¡
(
b
è()
	`BIO_ù¾
(b,
BIO_C_GET_READ_REQUEST
,0,
NULL
)

	)

510 
size_t
 
BIO_ù¾_g‘_wr™e_gu¬ª‹e
(
BIO
 *
b
);

511 
size_t
 
BIO_ù¾_g‘_»ad_»que¡
(
BIO
 *
b
);

512 
BIO_ù¾_»£t_»ad_»que¡
(
BIO
 *
b
);

515 
	#BIO_ù¾_dg¿m_cÚÃù
(
b
,
³”
) \

516 ()
	`BIO_ù¾
(
b
,
BIO_CTRL_DGRAM_CONNECT
,0, (*)(
³”
))

	)

517 
	#BIO_ù¾_£t_cÚÃùed
(
b
,
³”
) \

518 ()
	`BIO_ù¾
(
b
, 
BIO_CTRL_DGRAM_SET_CONNECTED
, 0, (*)(
³”
))

	)

519 
	#BIO_dg¿m_»cv_timedout
(
b
) \

520 ()
	`BIO_ù¾
(
b
, 
BIO_CTRL_DGRAM_GET_RECV_TIMER_EXP
, 0, 
NULL
)

	)

521 
	#BIO_dg¿m_£nd_timedout
(
b
) \

522 ()
	`BIO_ù¾
(
b
, 
BIO_CTRL_DGRAM_GET_SEND_TIMER_EXP
, 0, 
NULL
)

	)

523 
	#BIO_dg¿m_g‘_³”
(
b
,
³”
) \

524 ()
	`BIO_ù¾
(
b
, 
BIO_CTRL_DGRAM_GET_PEER
, 0, (*)(
³”
))

	)

525 
	#BIO_dg¿m_£t_³”
(
b
,
³”
) \

526 ()
	`BIO_ù¾
(
b
, 
BIO_CTRL_DGRAM_SET_PEER
, 0, (*)(
³”
))

	)

527 
	#BIO_dg¿m_g‘_mtu_ov”h—d
(
b
) \

528 ()
	`BIO_ù¾
((
b
), 
BIO_CTRL_DGRAM_GET_MTU_OVERHEAD
, 0, 
NULL
)

	)

530 
	#BIO_g‘_ex_Ãw_šdex
(
l
, 
p
, 
Ãwf
, 
dupf
, 
ä“f
) \

531 
	`CRYPTO_g‘_ex_Ãw_šdex
(
CRYPTO_EX_INDEX_BIO
, 
l
, 
p
, 
Ãwf
, 
dupf
, 
ä“f
)

	)

532 
BIO_£t_ex_d©a
(
BIO
 *
bio
, 
idx
, *
d©a
);

533 *
BIO_g‘_ex_d©a
(
BIO
 *
bio
, 
idx
);

534 
ušt64_t
 
BIO_numb”_»ad
(
BIO
 *
bio
);

535 
ušt64_t
 
BIO_numb”_wr™‹n
(
BIO
 *
bio
);

538 
BIO_a¢1_£t_´efix
(
BIO
 *
b
, 
a¢1_ps_func
 *
´efix
,

539 
a¢1_ps_func
 *
´efix_ä“
);

540 
BIO_a¢1_g‘_´efix
(
BIO
 *
b
, 
a¢1_ps_func
 **
µ»fix
,

541 
a¢1_ps_func
 **
µ»fix_ä“
);

542 
BIO_a¢1_£t_suffix
(
BIO
 *
b
, 
a¢1_ps_func
 *
suffix
,

543 
a¢1_ps_func
 *
suffix_ä“
);

544 
BIO_a¢1_g‘_suffix
(
BIO
 *
b
, 
a¢1_ps_func
 **
psuffix
,

545 
a¢1_ps_func
 **
psuffix_ä“
);

547 cÚ¡ 
BIO_METHOD
 *
BIO_s_fe
();

548 
BIO
 *
BIO_Ãw_fe
(cÚ¡ *
f’ame
, cÚ¡ *
mode
);

549 #iâdeà
OPENSSL_NO_STDIO


550 
BIO
 *
BIO_Ãw_å
(
FILE
 *
¡»am
, 
şo£_æag
);

552 
BIO
 *
BIO_Ãw
(cÚ¡ 
BIO_METHOD
 *
ty³
);

553 
BIO_ä“
(
BIO
 *
a
);

554 
BIO_£t_d©a
(
BIO
 *
a
, *
±r
);

555 *
BIO_g‘_d©a
(
BIO
 *
a
);

556 
BIO_£t_š™
(
BIO
 *
a
, 
š™
);

557 
BIO_g‘_š™
(
BIO
 *
a
);

558 
BIO_£t_shutdown
(
BIO
 *
a
, 
shut
);

559 
BIO_g‘_shutdown
(
BIO
 *
a
);

560 
BIO_vä“
(
BIO
 *
a
);

561 
BIO_up_»f
(
BIO
 *
a
);

562 
BIO_»ad
(
BIO
 *
b
, *
d©a
, 
dËn
);

563 
BIO_»ad_ex
(
BIO
 *
b
, *
d©a
, 
size_t
 
dËn
, size_ˆ*
»adby‹s
);

564 
BIO_g‘s
(
BIO
 *
bp
, *
buf
, 
size
);

565 
BIO_wr™e
(
BIO
 *
b
, cÚ¡ *
d©a
, 
dËn
);

566 
BIO_wr™e_ex
(
BIO
 *
b
, cÚ¡ *
d©a
, 
size_t
 
dËn
, size_ˆ*
wr™‹n
);

567 
BIO_puts
(
BIO
 *
bp
, cÚ¡ *
buf
);

568 
BIO_šd’t
(
BIO
 *
b
, 
šd’t
, 
max
);

569 
BIO_ù¾
(
BIO
 *
bp
, 
cmd
, 
Ïrg
, *
·rg
);

570 
BIO_ÿÎback_ù¾
(
BIO
 *
b
, 
cmd
, 
BIO_šfo_cb
 *
å
);

571 *
BIO_±r_ù¾
(
BIO
 *
bp
, 
cmd
, 
Ïrg
);

572 
BIO_št_ù¾
(
BIO
 *
bp
, 
cmd
, 
Ïrg
, 
Ÿrg
);

573 
BIO
 *
BIO_push
(BIO *
b
, BIO *
­³nd
);

574 
BIO
 *
BIO_pİ
(BIO *
b
);

575 
BIO_ä“_®l
(
BIO
 *
a
);

576 
BIO
 *
BIO_fšd_ty³
(BIO *
b
, 
bio_ty³
);

577 
BIO
 *
BIO_Ãxt
(BIO *
b
);

578 
BIO_£t_Ãxt
(
BIO
 *
b
, BIO *
Ãxt
);

579 
BIO
 *
BIO_g‘_»Œy_BIO
(BIO *
bio
, *
»asÚ
);

580 
BIO_g‘_»Œy_»asÚ
(
BIO
 *
bio
);

581 
BIO_£t_»Œy_»asÚ
(
BIO
 *
bio
, 
»asÚ
);

582 
BIO
 *
BIO_dup_chaš
(BIO *
š
);

584 
BIO_Ä—d0
(
BIO
 *
bio
, **
buf
);

585 
BIO_Ä—d
(
BIO
 *
bio
, **
buf
, 
num
);

586 
BIO_nwr™e0
(
BIO
 *
bio
, **
buf
);

587 
BIO_nwr™e
(
BIO
 *
bio
, **
buf
, 
num
);

589 
BIO_debug_ÿÎback
(
BIO
 *
bio
, 
cmd
, cÚ¡ *
¬gp
, 
¬gi
,

590 
¬gl
, 
»t
);

592 cÚ¡ 
BIO_METHOD
 *
BIO_s_mem
();

593 cÚ¡ 
BIO_METHOD
 *
BIO_s_£cmem
();

594 
BIO
 *
BIO_Ãw_mem_buf
(cÚ¡ *
buf
, 
Ën
);

595 #iâdeà
OPENSSL_NO_SOCK


596 cÚ¡ 
BIO_METHOD
 *
BIO_s_sock‘
();

597 cÚ¡ 
BIO_METHOD
 *
BIO_s_cÚÃù
();

598 cÚ¡ 
BIO_METHOD
 *
BIO_s_acû±
();

600 cÚ¡ 
BIO_METHOD
 *
BIO_s_fd
();

601 cÚ¡ 
BIO_METHOD
 *
BIO_s_log
();

602 cÚ¡ 
BIO_METHOD
 *
BIO_s_bio
();

603 cÚ¡ 
BIO_METHOD
 *
BIO_s_nuÎ
();

604 cÚ¡ 
BIO_METHOD
 *
BIO_f_nuÎ
();

605 cÚ¡ 
BIO_METHOD
 *
BIO_f_bufãr
();

606 cÚ¡ 
BIO_METHOD
 *
BIO_f_lšebufãr
();

607 cÚ¡ 
BIO_METHOD
 *
BIO_f_nbio_‹¡
();

608 #iâdeà
OPENSSL_NO_DGRAM


609 cÚ¡ 
BIO_METHOD
 *
BIO_s_d©ag¿m
();

610 
BIO_dg¿m_nÚ_çl_”rÜ
(
”rÜ
);

611 
BIO
 *
BIO_Ãw_dg¿m
(
fd
, 
şo£_æag
);

612 #iâdeà
OPENSSL_NO_SCTP


613 cÚ¡ 
BIO_METHOD
 *
BIO_s_d©ag¿m_sùp
();

614 
BIO
 *
BIO_Ãw_dg¿m_sùp
(
fd
, 
şo£_æag
);

615 
BIO_dg¿m_is_sùp
(
BIO
 *
bio
);

616 
BIO_dg¿m_sùp_nÙifiÿtiÚ_cb
(
BIO
 *
b
,

617 (*
hªdË_nÙifiÿtiÚs
è(
BIO
 *
bio
,

618 *
cÚ‹xt
,

619 *
buf
),

620 *
cÚ‹xt
);

621 
BIO_dg¿m_sùp_wa™_fÜ_dry
(
BIO
 *
b
);

622 
BIO_dg¿m_sùp_msg_wa™šg
(
BIO
 *
b
);

626 #iâdeà
OPENSSL_NO_SOCK


627 
BIO_sock_should_»Œy
(
i
);

628 
BIO_sock_nÚ_çl_”rÜ
(
”rÜ
);

631 
BIO_fd_should_»Œy
(
i
);

632 
BIO_fd_nÚ_çl_”rÜ
(
”rÜ
);

633 
BIO_dump_cb
((*
cb
è(cÚ¡ *
d©a
, 
size_t
 
Ën
, *
u
),

634 *
u
, cÚ¡ *
s
, 
Ën
);

635 
BIO_dump_šd’t_cb
((*
cb
è(cÚ¡ *
d©a
, 
size_t
 
Ën
, *
u
),

636 *
u
, cÚ¡ *
s
, 
Ën
, 
šd’t
);

637 
BIO_dump
(
BIO
 *
b
, cÚ¡ *
by‹s
, 
Ën
);

638 
BIO_dump_šd’t
(
BIO
 *
b
, cÚ¡ *
by‹s
, 
Ën
, 
šd’t
);

639 #iâdeà
OPENSSL_NO_STDIO


640 
BIO_dump_å
(
FILE
 *
å
, cÚ¡ *
s
, 
Ën
);

641 
BIO_dump_šd’t_å
(
FILE
 *
å
, cÚ¡ *
s
, 
Ën
, 
šd’t
);

643 
BIO_hex_¡ršg
(
BIO
 *
out
, 
šd’t
, 
width
, *
d©a
,

644 
d©®’
);

646 #iâdeà
OPENSSL_NO_SOCK


647 
BIO_ADDR
 *
BIO_ADDR_Ãw
();

648 
BIO_ADDR_¿wmake
(
BIO_ADDR
 *
­
, 
çmy
,

649 cÚ¡ *
wh”e
, 
size_t
 
wh”–’
, 
pÜt
);

650 
BIO_ADDR_ä“
(
BIO_ADDR
 *);

651 
BIO_ADDR_ş—r
(
BIO_ADDR
 *
­
);

652 
BIO_ADDR_çmy
(cÚ¡ 
BIO_ADDR
 *
­
);

653 
BIO_ADDR_¿wadd»ss
(cÚ¡ 
BIO_ADDR
 *
­
, *
p
, 
size_t
 *
l
);

654 
BIO_ADDR_¿wpÜt
(cÚ¡ 
BIO_ADDR
 *
­
);

655 *
BIO_ADDR_ho¡Çme_¡ršg
(cÚ¡ 
BIO_ADDR
 *
­
, 
num”ic
);

656 *
BIO_ADDR_£rviû_¡ršg
(cÚ¡ 
BIO_ADDR
 *
­
, 
num”ic
);

657 *
BIO_ADDR_·th_¡ršg
(cÚ¡ 
BIO_ADDR
 *
­
);

659 cÚ¡ 
BIO_ADDRINFO
 *
BIO_ADDRINFO_Ãxt
(cÚ¡ BIO_ADDRINFO *
bai
);

660 
BIO_ADDRINFO_çmy
(cÚ¡ 
BIO_ADDRINFO
 *
bai
);

661 
BIO_ADDRINFO_sockty³
(cÚ¡ 
BIO_ADDRINFO
 *
bai
);

662 
BIO_ADDRINFO_´ÙocŞ
(cÚ¡ 
BIO_ADDRINFO
 *
bai
);

663 cÚ¡ 
BIO_ADDR
 *
BIO_ADDRINFO_add»ss
(cÚ¡ 
BIO_ADDRINFO
 *
bai
);

664 
BIO_ADDRINFO_ä“
(
BIO_ADDRINFO
 *
bai
);

666 
	eBIO_ho¡£rv_´iÜ™›s
 {

667 
BIO_PARSE_PRIO_HOST
, 
BIO_PARSE_PRIO_SERV


669 
BIO_·r£_ho¡£rv
(cÚ¡ *
ho¡£rv
, **
ho¡
, **
£rviû
,

670 
BIO_ho¡£rv_´iÜ™›s
 
ho¡£rv_´io
);

671 
	eBIO_lookup_ty³
 {

672 
BIO_LOOKUP_CLIENT
, 
BIO_LOOKUP_SERVER


674 
BIO_lookup
(cÚ¡ *
ho¡
, cÚ¡ *
£rviû
,

675 
BIO_lookup_ty³
 
lookup_ty³
,

676 
çmy
, 
sockty³
, 
BIO_ADDRINFO
 **
»s
);

677 
BIO_lookup_ex
(cÚ¡ *
ho¡
, cÚ¡ *
£rviû
,

678 
lookup_ty³
, 
çmy
, 
sockty³
, 
´ÙocŞ
,

679 
BIO_ADDRINFO
 **
»s
);

680 
BIO_sock_”rÜ
(
sock
);

681 
BIO_sock‘_ioùl
(
fd
, 
ty³
, *
¬g
);

682 
BIO_sock‘_nbio
(
fd
, 
mode
);

683 
BIO_sock_š™
();

684 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

685 
	#BIO_sock_ş—nup
(è0è

	)

687 
BIO_£t_tı_nd–ay
(
sock
, 
tuº_Ú
);

689 
DEPRECATEDIN_1_1_0
(
ho¡’t
 *
BIO_g‘ho¡byÇme
(cÚ¡ *
Çme
))

690 
DEPRECATEDIN_1_1_0
(
BIO_g‘_pÜt
(cÚ¡ *
¡r
, *
pÜt_±r
))

691 
DEPRECATEDIN_1_1_0
(
BIO_g‘_ho¡_
(cÚ¡ *
¡r
, *

))

692 
DEPRECATEDIN_1_1_0
(
BIO_g‘_acû±_sock‘
(*
ho¡_pÜt
, 
mode
))

693 
DEPRECATEDIN_1_1_0
(
BIO_acû±
(
sock
, **
_pÜt
))

695 
	uBIO_sock_šfo_u
 {

696 
BIO_ADDR
 *
addr
;

698 
	eBIO_sock_šfo_ty³
 {

699 
BIO_SOCK_INFO_ADDRESS


701 
BIO_sock_šfo
(
sock
,

702 
BIO_sock_šfo_ty³
 
ty³
, 
BIO_sock_šfo_u
 *
šfo
);

704 
	#BIO_SOCK_REUSEADDR
 0x01

	)

705 
	#BIO_SOCK_V6_ONLY
 0x02

	)

706 
	#BIO_SOCK_KEEPALIVE
 0x04

	)

707 
	#BIO_SOCK_NONBLOCK
 0x08

	)

708 
	#BIO_SOCK_NODELAY
 0x10

	)

710 
BIO_sock‘
(
domaš
, 
sockty³
, 
´ÙocŞ
, 
İtiÚs
);

711 
BIO_cÚÃù
(
sock
, cÚ¡ 
BIO_ADDR
 *
addr
, 
İtiÚs
);

712 
BIO_bšd
(
sock
, cÚ¡ 
BIO_ADDR
 *
addr
, 
İtiÚs
);

713 
BIO_li¡’
(
sock
, cÚ¡ 
BIO_ADDR
 *
addr
, 
İtiÚs
);

714 
BIO_acû±_ex
(
acû±_sock
, 
BIO_ADDR
 *
addr
, 
İtiÚs
);

715 
BIO_şo£sock‘
(
sock
);

717 
BIO
 *
BIO_Ãw_sock‘
(
sock
, 
şo£_æag
);

718 
BIO
 *
BIO_Ãw_cÚÃù
(cÚ¡ *
ho¡_pÜt
);

719 
BIO
 *
BIO_Ãw_acû±
(cÚ¡ *
ho¡_pÜt
);

722 
BIO
 *
BIO_Ãw_fd
(
fd
, 
şo£_æag
);

724 
BIO_Ãw_bio_·œ
(
BIO
 **
bio1
, 
size_t
 
wr™ebuf1
,

725 
BIO
 **
bio2
, 
size_t
 
wr™ebuf2
);

732 
BIO_cİy_Ãxt_»Œy
(
BIO
 *
b
);

738 
	#os¦_bio__©Œ__
(
x
)

	)

739 #ià
defšed
(
__GNUC__
è&& defšed(
__STDC_VERSION__
) \

740 && !
defšed
(
__APPLE__
)

745 #ià
__STDC_VERSION__
 >= 199901L

746 #undeà
os¦_bio__©Œ__


747 
	#os¦_bio__©Œ__
 
__©Œibu‹__


	)

748 #ià
__GNUC__
*10 + 
__GNUC_MINOR__
 >= 44

749 
	#os¦_bio__´štf__
 
__gnu_´štf__


	)

751 
	#os¦_bio__´štf__
 
__´štf__


	)

755 
BIO_´štf
(
BIO
 *
bio
, cÚ¡ *
fÜm©
, ...)

756 
os¦_bio__©Œ__
((
__fÜm©__
(
os¦_bio__´štf__
, 2, 3)));

757 
BIO_v´štf
(
BIO
 *
bio
, cÚ¡ *
fÜm©
, 
va_li¡
 
¬gs
)

758 
os¦_bio__©Œ__
((
__fÜm©__
(
os¦_bio__´štf__
, 2, 0)));

759 
BIO_¢´štf
(*
buf
, 
size_t
 
n
, cÚ¡ *
fÜm©
, ...)

760 
os¦_bio__©Œ__
((
__fÜm©__
(
os¦_bio__´štf__
, 3, 4)));

761 
BIO_v¢´štf
(*
buf
, 
size_t
 
n
, cÚ¡ *
fÜm©
, 
va_li¡
 
¬gs
)

762 
os¦_bio__©Œ__
((
__fÜm©__
(
os¦_bio__´štf__
, 3, 0)));

763 #undeà
os¦_bio__©Œ__


764 #undeà
os¦_bio__´štf__


767 
BIO_METHOD
 *
BIO_m‘h_Ãw
(
ty³
, cÚ¡ *
Çme
);

768 
BIO_m‘h_ä“
(
BIO_METHOD
 *
biom
);

769 (*
BIO_m‘h_g‘_wr™e
(cÚ¡ 
BIO_METHOD
 *
biom
)è(
BIO
 *, const *, );

770 (*
BIO_m‘h_g‘_wr™e_ex
(cÚ¡ 
BIO_METHOD
 *
biom
)è(
BIO
 *, cÚ¡ *, 
size_t
,

771 
size_t
 *);

772 
BIO_m‘h_£t_wr™e
(
BIO_METHOD
 *
biom
,

773 (*
wr™e
è(
BIO
 *, const *, ));

774 
BIO_m‘h_£t_wr™e_ex
(
BIO_METHOD
 *
biom
,

775 (*
bwr™e
è(
BIO
 *, cÚ¡ *, 
size_t
, size_t *));

776 (*
BIO_m‘h_g‘_»ad
(cÚ¡ 
BIO_METHOD
 *
biom
)è(
BIO
 *, *, );

777 (*
BIO_m‘h_g‘_»ad_ex
(cÚ¡ 
BIO_METHOD
 *
biom
)è(
BIO
 *, *, 
size_t
, size_t *);

778 
BIO_m‘h_£t_»ad
(
BIO_METHOD
 *
biom
,

779 (*
»ad
è(
BIO
 *, *, ));

780 
BIO_m‘h_£t_»ad_ex
(
BIO_METHOD
 *
biom
,

781 (*
b»ad
è(
BIO
 *, *, 
size_t
, size_t *));

782 (*
BIO_m‘h_g‘_puts
(cÚ¡ 
BIO_METHOD
 *
biom
)è(
BIO
 *, const *);

783 
BIO_m‘h_£t_puts
(
BIO_METHOD
 *
biom
,

784 (*
puts
è(
BIO
 *, const *));

785 (*
BIO_m‘h_g‘_g‘s
(cÚ¡ 
BIO_METHOD
 *
biom
)è(
BIO
 *, *, );

786 
BIO_m‘h_£t_g‘s
(
BIO_METHOD
 *
biom
,

787 (*
g‘s
è(
BIO
 *, *, ));

788 (*
BIO_m‘h_g‘_ù¾
(cÚ¡ 
BIO_METHOD
 *
biom
)è(
BIO
 *, , , *);

789 
BIO_m‘h_£t_ù¾
(
BIO_METHOD
 *
biom
,

790 (*
ù¾
è(
BIO
 *, , , *));

791 (*
BIO_m‘h_g‘_ü—‹
(cÚ¡ 
BIO_METHOD
 *
biÚ
)è(
BIO
 *);

792 
BIO_m‘h_£t_ü—‹
(
BIO_METHOD
 *
biom
, (*
ü—‹
è(
BIO
 *));

793 (*
BIO_m‘h_g‘_de¡roy
(cÚ¡ 
BIO_METHOD
 *
biom
)è(
BIO
 *);

794 
BIO_m‘h_£t_de¡roy
(
BIO_METHOD
 *
biom
, (*
de¡roy
è(
BIO
 *));

795 (*
BIO_m‘h_g‘_ÿÎback_ù¾
(cÚ¡ 
BIO_METHOD
 *
biom
))

796 (
BIO
 *, , 
BIO_šfo_cb
 *);

797 
BIO_m‘h_£t_ÿÎback_ù¾
(
BIO_METHOD
 *
biom
,

798 (*
ÿÎback_ù¾
è(
BIO
 *, ,

799 
BIO_šfo_cb
 *));

801 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/bn.h

11 #iâdeà
HEADER_BN_H


12 
	#HEADER_BN_H


	)

14 
	~<İ’s¦/e_os2.h
>

15 #iâdeà
OPENSSL_NO_STDIO


16 
	~<¡dio.h
>

18 
	~<İ’s¦/İ’s¦cÚf.h
>

19 
	~<İ’s¦/os¦_typ.h
>

20 
	~<İ’s¦/üy±o.h
>

21 
	~<İ’s¦/bÃ¼.h
>

23 #ifdeà 
__ılu¥lus


30 #ifdeà
SIXTY_FOUR_BIT_LONG


31 
	#BN_ULONG
 

	)

32 
	#BN_BYTES
 8

	)

38 #ifdeà
SIXTY_FOUR_BIT


39 
	#BN_ULONG
 

	)

40 
	#BN_BYTES
 8

	)

43 #ifdeà
THIRTY_TWO_BIT


44 
	#BN_ULONG
 

	)

45 
	#BN_BYTES
 4

	)

48 
	#BN_BITS2
 (
BN_BYTES
 * 8)

	)

49 
	#BN_BITS
 (
BN_BITS2
 * 2)

	)

50 
	#BN_TBIT
 ((
BN_ULONG
)1 << (
BN_BITS2
 - 1))

	)

52 
	#BN_FLG_MALLOCED
 0x01

	)

53 
	#BN_FLG_STATIC_DATA
 0x02

	)

61 
	#BN_FLG_CONSTTIME
 0x04

	)

62 
	#BN_FLG_SECURE
 0x08

	)

64 #ià
OPENSSL_API_COMPAT
 < 0x00908000L

66 
	#BN_FLG_EXP_CONSTTIME
 
BN_FLG_CONSTTIME


	)

67 
	#BN_FLG_FREE
 0x8000

	)

70 
BN_£t_æags
(
BIGNUM
 *
b
, 
n
);

71 
BN_g‘_æags
(cÚ¡ 
BIGNUM
 *
b
, 
n
);

74 
	#BN_RAND_TOP_ANY
 -1

	)

75 
	#BN_RAND_TOP_ONE
 0

	)

76 
	#BN_RAND_TOP_TWO
 1

	)

79 
	#BN_RAND_BOTTOM_ANY
 0

	)

80 
	#BN_RAND_BOTTOM_ODD
 1

	)

88 
BN_w™h_æags
(
BIGNUM
 *
de¡
, cÚ¡ BIGNUM *
b
, 
æags
);

91 
BN_GENCB_ÿÎ
(
BN_GENCB
 *
cb
, 
a
, 
b
);

93 
BN_GENCB
 *
BN_GENCB_Ãw
();

94 
BN_GENCB_ä“
(
BN_GENCB
 *
cb
);

97 
BN_GENCB_£t_Şd
(
BN_GENCB
 *
g’cb
, (*
ÿÎback
) (, , *),

98 *
cb_¬g
);

101 
BN_GENCB_£t
(
BN_GENCB
 *
g’cb
, (*
ÿÎback
) (, , BN_GENCB *),

102 *
cb_¬g
);

104 *
BN_GENCB_g‘_¬g
(
BN_GENCB
 *
cb
);

106 
	#BN_´ime_checks
 0

	)

172 
	#BN_´ime_checks_fÜ_size
(
b
) ((b) >= 3747 ? 3 : \

173 (
b
) >= 1345 ? 4 : \

174 (
b
) >= 476 ? 5 : \

175 (
b
) >= 400 ? 6 : \

176 (
b
) >= 347 ? 7 : \

177 (
b
) >= 308 ? 8 : \

178 (
b
) >= 55 ? 27 : \

179  34)

	)

181 
	#BN_num_by‹s
(
a
è((
	`BN_num_b™s
×)+7)/8)

	)

183 
BN_abs_is_wÜd
(cÚ¡ 
BIGNUM
 *
a
, cÚ¡ 
BN_ULONG
 
w
);

184 
BN_is_z”o
(cÚ¡ 
BIGNUM
 *
a
);

185 
BN_is_Úe
(cÚ¡ 
BIGNUM
 *
a
);

186 
BN_is_wÜd
(cÚ¡ 
BIGNUM
 *
a
, cÚ¡ 
BN_ULONG
 
w
);

187 
BN_is_odd
(cÚ¡ 
BIGNUM
 *
a
);

189 
	#BN_Úe
(
a
è(
	`BN_£t_wÜd
(×),1))

	)

191 
BN_z”o_ex
(
BIGNUM
 *
a
);

193 #ià
OPENSSL_API_COMPAT
 >= 0x00908000L

194 
	#BN_z”o
(
a
è
	`BN_z”o_ex
×)

	)

196 
	#BN_z”o
(
a
è(
	`BN_£t_wÜd
(×),0))

	)

199 cÚ¡ 
BIGNUM
 *
BN_v®ue_Úe
();

200 *
BN_İtiÚs
();

201 
BN_CTX
 *
BN_CTX_Ãw
();

202 
BN_CTX
 *
BN_CTX_£cu»_Ãw
();

203 
BN_CTX_ä“
(
BN_CTX
 *
c
);

204 
BN_CTX_¡¬t
(
BN_CTX
 *
ùx
);

205 
BIGNUM
 *
BN_CTX_g‘
(
BN_CTX
 *
ùx
);

206 
BN_CTX_’d
(
BN_CTX
 *
ùx
);

207 
BN_¿nd
(
BIGNUM
 *
ºd
, 
b™s
, 
tİ
, 
bÙtom
);

208 
BN_´iv_¿nd
(
BIGNUM
 *
ºd
, 
b™s
, 
tİ
, 
bÙtom
);

209 
BN_¿nd_¿nge
(
BIGNUM
 *
ºd
, cÚ¡ BIGNUM *
¿nge
);

210 
BN_´iv_¿nd_¿nge
(
BIGNUM
 *
ºd
, cÚ¡ BIGNUM *
¿nge
);

211 
BN_p£udo_¿nd
(
BIGNUM
 *
ºd
, 
b™s
, 
tİ
, 
bÙtom
);

212 
BN_p£udo_¿nd_¿nge
(
BIGNUM
 *
ºd
, cÚ¡ BIGNUM *
¿nge
);

213 
BN_num_b™s
(cÚ¡ 
BIGNUM
 *
a
);

214 
BN_num_b™s_wÜd
(
BN_ULONG
 
l
);

215 
BN_£cur™y_b™s
(
L
, 
N
);

216 
BIGNUM
 *
BN_Ãw
();

217 
BIGNUM
 *
BN_£cu»_Ãw
();

218 
BN_ş—r_ä“
(
BIGNUM
 *
a
);

219 
BIGNUM
 *
BN_cİy
(BIGNUM *
a
, cÚ¡ BIGNUM *
b
);

220 
BN_sw­
(
BIGNUM
 *
a
, BIGNUM *
b
);

221 
BIGNUM
 *
BN_bš2bn
(cÚ¡ *
s
, 
Ën
, BIGNUM *
»t
);

222 
BN_bn2bš
(cÚ¡ 
BIGNUM
 *
a
, *
to
);

223 
BN_bn2bš·d
(cÚ¡ 
BIGNUM
 *
a
, *
to
, 
tŞ’
);

224 
BIGNUM
 *
BN_Ëbš2bn
(cÚ¡ *
s
, 
Ën
, BIGNUM *
»t
);

225 
BN_bn2Ëbš·d
(cÚ¡ 
BIGNUM
 *
a
, *
to
, 
tŞ’
);

226 
BIGNUM
 *
BN_mpi2bn
(cÚ¡ *
s
, 
Ën
, BIGNUM *
»t
);

227 
BN_bn2mpi
(cÚ¡ 
BIGNUM
 *
a
, *
to
);

228 
BN_sub
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
b
);

229 
BN_usub
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
b
);

230 
BN_uadd
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
b
);

231 
BN_add
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
b
);

232 
BN_mul
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
b
, 
BN_CTX
 *
ùx
);

233 
BN_sqr
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, 
BN_CTX
 *
ùx
);

238 
BN_£t_Ãg©ive
(
BIGNUM
 *
b
, 
n
);

243 
BN_is_Ãg©ive
(cÚ¡ 
BIGNUM
 *
b
);

245 
BN_div
(
BIGNUM
 *
dv
, BIGNUM *
»m
, cÚ¡ BIGNUM *
m
, cÚ¡ BIGNUM *
d
,

246 
BN_CTX
 *
ùx
);

247 
	#BN_mod
(
»m
,
m
,
d
,
ùx
è
	`BN_div
(
NULL
,Ôem),(m),(d),(ùx))

	)

248 
BN_Âmod
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
m
, cÚ¡ BIGNUM *
d
, 
BN_CTX
 *
ùx
);

249 
BN_mod_add
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
b
, cÚ¡ BIGNUM *
m
,

250 
BN_CTX
 *
ùx
);

251 
BN_mod_add_quick
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
b
,

252 cÚ¡ 
BIGNUM
 *
m
);

253 
BN_mod_sub
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
b
, cÚ¡ BIGNUM *
m
,

254 
BN_CTX
 *
ùx
);

255 
BN_mod_sub_quick
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
b
,

256 cÚ¡ 
BIGNUM
 *
m
);

257 
BN_mod_mul
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
b
, cÚ¡ BIGNUM *
m
,

258 
BN_CTX
 *
ùx
);

259 
BN_mod_sqr
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
m
, 
BN_CTX
 *
ùx
);

260 
BN_mod_lshiá1
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
m
, 
BN_CTX
 *
ùx
);

261 
BN_mod_lshiá1_quick
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
m
);

262 
BN_mod_lshiá
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, 
n
, cÚ¡ BIGNUM *
m
,

263 
BN_CTX
 *
ùx
);

264 
BN_mod_lshiá_quick
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, 
n
, cÚ¡ BIGNUM *
m
);

266 
BN_ULONG
 
BN_mod_wÜd
(cÚ¡ 
BIGNUM
 *
a
, BN_ULONG 
w
);

267 
BN_ULONG
 
BN_div_wÜd
(
BIGNUM
 *
a
, BN_ULONG 
w
);

268 
BN_mul_wÜd
(
BIGNUM
 *
a
, 
BN_ULONG
 
w
);

269 
BN_add_wÜd
(
BIGNUM
 *
a
, 
BN_ULONG
 
w
);

270 
BN_sub_wÜd
(
BIGNUM
 *
a
, 
BN_ULONG
 
w
);

271 
BN_£t_wÜd
(
BIGNUM
 *
a
, 
BN_ULONG
 
w
);

272 
BN_ULONG
 
BN_g‘_wÜd
(cÚ¡ 
BIGNUM
 *
a
);

274 
BN_cmp
(cÚ¡ 
BIGNUM
 *
a
, cÚ¡ BIGNUM *
b
);

275 
BN_ä“
(
BIGNUM
 *
a
);

276 
BN_is_b™_£t
(cÚ¡ 
BIGNUM
 *
a
, 
n
);

277 
BN_lshiá
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, 
n
);

278 
BN_lshiá1
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
);

279 
BN_exp
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
p
, 
BN_CTX
 *
ùx
);

281 
BN_mod_exp
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
p
,

282 cÚ¡ 
BIGNUM
 *
m
, 
BN_CTX
 *
ùx
);

283 
BN_mod_exp_mÚt
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
p
,

284 cÚ¡ 
BIGNUM
 *
m
, 
BN_CTX
 *
ùx
, 
BN_MONT_CTX
 *
m_ùx
);

285 
BN_mod_exp_mÚt_cÚ¡time
(
BIGNUM
 *
¼
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
p
,

286 cÚ¡ 
BIGNUM
 *
m
, 
BN_CTX
 *
ùx
,

287 
BN_MONT_CTX
 *
š_mÚt
);

288 
BN_mod_exp_mÚt_wÜd
(
BIGNUM
 *
r
, 
BN_ULONG
 
a
, cÚ¡ BIGNUM *
p
,

289 cÚ¡ 
BIGNUM
 *
m
, 
BN_CTX
 *
ùx
, 
BN_MONT_CTX
 *
m_ùx
);

290 
BN_mod_exp2_mÚt
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a1
, cÚ¡ BIGNUM *
p1
,

291 cÚ¡ 
BIGNUM
 *
a2
, cÚ¡ BIGNUM *
p2
, cÚ¡ BIGNUM *
m
,

292 
BN_CTX
 *
ùx
, 
BN_MONT_CTX
 *
m_ùx
);

293 
BN_mod_exp_sim¶e
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
p
,

294 cÚ¡ 
BIGNUM
 *
m
, 
BN_CTX
 *
ùx
);

296 
BN_mask_b™s
(
BIGNUM
 *
a
, 
n
);

297 #iâdeà
OPENSSL_NO_STDIO


298 
BN_´št_å
(
FILE
 *
å
, cÚ¡ 
BIGNUM
 *
a
);

300 
BN_´št
(
BIO
 *
bio
, cÚ¡ 
BIGNUM
 *
a
);

301 
BN_»croÿl
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
m
, 
Ën
, 
BN_CTX
 *
ùx
);

302 
BN_rshiá
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, 
n
);

303 
BN_rshiá1
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
);

304 
BN_ş—r
(
BIGNUM
 *
a
);

305 
BIGNUM
 *
BN_dup
(cÚ¡ BIGNUM *
a
);

306 
BN_ucmp
(cÚ¡ 
BIGNUM
 *
a
, cÚ¡ BIGNUM *
b
);

307 
BN_£t_b™
(
BIGNUM
 *
a
, 
n
);

308 
BN_ş—r_b™
(
BIGNUM
 *
a
, 
n
);

309 *
BN_bn2hex
(cÚ¡ 
BIGNUM
 *
a
);

310 *
BN_bn2dec
(cÚ¡ 
BIGNUM
 *
a
);

311 
BN_hex2bn
(
BIGNUM
 **
a
, cÚ¡ *
¡r
);

312 
BN_dec2bn
(
BIGNUM
 **
a
, cÚ¡ *
¡r
);

313 
BN_asc2bn
(
BIGNUM
 **
a
, cÚ¡ *
¡r
);

314 
BN_gcd
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
b
, 
BN_CTX
 *
ùx
);

315 
BN_krÚeck”
(cÚ¡ 
BIGNUM
 *
a
, cÚ¡ BIGNUM *
b
, 
BN_CTX
 *
ùx
);

318 
BIGNUM
 *
BN_mod_šv”£
(BIGNUM *
»t
,

319 cÚ¡ 
BIGNUM
 *
a
, cÚ¡ BIGNUM *
n
, 
BN_CTX
 *
ùx
);

320 
BIGNUM
 *
BN_mod_sq¹
(BIGNUM *
»t
,

321 cÚ¡ 
BIGNUM
 *
a
, cÚ¡ BIGNUM *
n
, 
BN_CTX
 *
ùx
);

323 
BN_cÚ¡time_sw­
(
BN_ULONG
 
sw­
, 
BIGNUM
 *
a
, BIGNUM *
b
, 
nwÜds
);

326 
DEPRECATEDIN_0_9_8
(
BIGNUM
 *
BN_g’”©e_´ime
(BIGNUM *
»t
, 
b™s
, 
§ã
,

327 cÚ¡ 
BIGNUM
 *
add
,

328 cÚ¡ 
BIGNUM
 *
»m
,

329 (*
ÿÎback
) (, ,

331 *
cb_¬g
))

332 
DEPRECATEDIN_0_9_8
(

333 
BN_is_´ime
(cÚ¡ 
BIGNUM
 *
p
, 
nchecks
,

334 (*
ÿÎback
) (, , *),

335 
BN_CTX
 *
ùx
, *
cb_¬g
))

336 
DEPRECATEDIN_0_9_8
(

337 
BN_is_´ime_ç¡‹¡
(cÚ¡ 
BIGNUM
 *
p
, 
nchecks
,

338 (*
ÿÎback
) (, , *),

339 
BN_CTX
 *
ùx
, *
cb_¬g
,

340 
do_ŒŸl_divisiÚ
))

343 
BN_g’”©e_´ime_ex
(
BIGNUM
 *
»t
, 
b™s
, 
§ã
, cÚ¡ BIGNUM *
add
,

344 cÚ¡ 
BIGNUM
 *
»m
, 
BN_GENCB
 *
cb
);

345 
BN_is_´ime_ex
(cÚ¡ 
BIGNUM
 *
p
, 
nchecks
, 
BN_CTX
 *
ùx
, 
BN_GENCB
 *
cb
);

346 
BN_is_´ime_ç¡‹¡_ex
(cÚ¡ 
BIGNUM
 *
p
, 
nchecks
, 
BN_CTX
 *
ùx
,

347 
do_ŒŸl_divisiÚ
, 
BN_GENCB
 *
cb
);

349 
BN_X931_g’”©e_Xpq
(
BIGNUM
 *
Xp
, BIGNUM *
Xq
, 
nb™s
, 
BN_CTX
 *
ùx
);

351 
BN_X931_d”ive_´ime_ex
(
BIGNUM
 *
p
, BIGNUM *
p1
, BIGNUM *
p2
,

352 cÚ¡ 
BIGNUM
 *
Xp
, cÚ¡ BIGNUM *
Xp1
,

353 cÚ¡ 
BIGNUM
 *
Xp2
, cÚ¡ BIGNUM *
e
, 
BN_CTX
 *
ùx
,

354 
BN_GENCB
 *
cb
);

355 
BN_X931_g’”©e_´ime_ex
(
BIGNUM
 *
p
, BIGNUM *
p1
, BIGNUM *
p2
, BIGNUM *
Xp1
,

356 
BIGNUM
 *
Xp2
, cÚ¡ BIGNUM *
Xp
, cÚ¡ BIGNUM *
e
,

357 
BN_CTX
 *
ùx
, 
BN_GENCB
 *
cb
);

359 
BN_MONT_CTX
 *
BN_MONT_CTX_Ãw
();

360 
BN_mod_mul_mÚtgom”y
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
b
,

361 
BN_MONT_CTX
 *
mÚt
, 
BN_CTX
 *
ùx
);

362 
BN_to_mÚtgom”y
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, 
BN_MONT_CTX
 *
mÚt
,

363 
BN_CTX
 *
ùx
);

364 
BN_äom_mÚtgom”y
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, 
BN_MONT_CTX
 *
mÚt
,

365 
BN_CTX
 *
ùx
);

366 
BN_MONT_CTX_ä“
(
BN_MONT_CTX
 *
mÚt
);

367 
BN_MONT_CTX_£t
(
BN_MONT_CTX
 *
mÚt
, cÚ¡ 
BIGNUM
 *
mod
, 
BN_CTX
 *
ùx
);

368 
BN_MONT_CTX
 *
BN_MONT_CTX_cİy
(BN_MONT_CTX *
to
, BN_MONT_CTX *
äom
);

369 
BN_MONT_CTX
 *
BN_MONT_CTX_£t_locked
(BN_MONT_CTX **
pmÚt
, 
CRYPTO_RWLOCK
 *
lock
,

370 cÚ¡ 
BIGNUM
 *
mod
, 
BN_CTX
 *
ùx
);

373 
	#BN_BLINDING_NO_UPDATE
 0x00000001

	)

374 
	#BN_BLINDING_NO_RECREATE
 0x00000002

	)

376 
BN_BLINDING
 *
BN_BLINDING_Ãw
(cÚ¡ 
BIGNUM
 *
A
, cÚ¡ BIGNUM *
Ai
, BIGNUM *
mod
);

377 
BN_BLINDING_ä“
(
BN_BLINDING
 *
b
);

378 
BN_BLINDING_upd©e
(
BN_BLINDING
 *
b
, 
BN_CTX
 *
ùx
);

379 
BN_BLINDING_cÚv”t
(
BIGNUM
 *
n
, 
BN_BLINDING
 *
b
, 
BN_CTX
 *
ùx
);

380 
BN_BLINDING_šv”t
(
BIGNUM
 *
n
, 
BN_BLINDING
 *
b
, 
BN_CTX
 *
ùx
);

381 
BN_BLINDING_cÚv”t_ex
(
BIGNUM
 *
n
, BIGNUM *
r
, 
BN_BLINDING
 *
b
, 
BN_CTX
 *);

382 
BN_BLINDING_šv”t_ex
(
BIGNUM
 *
n
, cÚ¡ BIGNUM *
r
, 
BN_BLINDING
 *
b
,

383 
BN_CTX
 *);

385 
BN_BLINDING_is_cu¼’t_th»ad
(
BN_BLINDING
 *
b
);

386 
BN_BLINDING_£t_cu¼’t_th»ad
(
BN_BLINDING
 *
b
);

387 
BN_BLINDING_lock
(
BN_BLINDING
 *
b
);

388 
BN_BLINDING_uÆock
(
BN_BLINDING
 *
b
);

390 
BN_BLINDING_g‘_æags
(cÚ¡ 
BN_BLINDING
 *);

391 
BN_BLINDING_£t_æags
(
BN_BLINDING
 *, );

392 
BN_BLINDING
 *
BN_BLINDING_ü—‹_·¿m
(BN_BLINDING *
b
,

393 cÚ¡ 
BIGNUM
 *
e
, BIGNUM *
m
, 
BN_CTX
 *
ùx
,

394 (*
bn_mod_exp
è(
BIGNUM
 *
r
,

395 cÚ¡ 
BIGNUM
 *
a
,

396 cÚ¡ 
BIGNUM
 *
p
,

397 cÚ¡ 
BIGNUM
 *
m
,

398 
BN_CTX
 *
ùx
,

399 
BN_MONT_CTX
 *
m_ùx
),

400 
BN_MONT_CTX
 *
m_ùx
);

402 
DEPRECATEDIN_0_9_8
(
BN_£t_·¿ms
(
mul
, 
high
, 
low
, 
mÚt
))

403 
DEPRECATEDIN_0_9_8
(
BN_g‘_·¿ms
(
which
))

406 
BN_RECP_CTX
 *
BN_RECP_CTX_Ãw
();

407 
BN_RECP_CTX_ä“
(
BN_RECP_CTX
 *
»ı
);

408 
BN_RECP_CTX_£t
(
BN_RECP_CTX
 *
»ı
, cÚ¡ 
BIGNUM
 *
rdiv
, 
BN_CTX
 *
ùx
);

409 
BN_mod_mul_»croÿl
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
x
, cÚ¡ BIGNUM *
y
,

410 
BN_RECP_CTX
 *
»ı
, 
BN_CTX
 *
ùx
);

411 
BN_mod_exp_»ı
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
p
,

412 cÚ¡ 
BIGNUM
 *
m
, 
BN_CTX
 *
ùx
);

413 
BN_div_»ı
(
BIGNUM
 *
dv
, BIGNUM *
»m
, cÚ¡ BIGNUM *
m
,

414 
BN_RECP_CTX
 *
»ı
, 
BN_CTX
 *
ùx
);

416 #iâdeà
OPENSSL_NO_EC2M


428 
BN_GF2m_add
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
b
);

429 
	#BN_GF2m_sub
(
r
, 
a
, 
b
è
	`BN_GF2m_add
Ô,‡, b)

	)

433 
BN_GF2m_mod
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
p
);

435 
BN_GF2m_mod_mul
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
b
,

436 cÚ¡ 
BIGNUM
 *
p
, 
BN_CTX
 *
ùx
);

438 
BN_GF2m_mod_sqr
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
p
, 
BN_CTX
 *
ùx
);

440 
BN_GF2m_mod_šv
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
b
, cÚ¡ BIGNUM *
p
, 
BN_CTX
 *
ùx
);

442 
BN_GF2m_mod_div
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
b
,

443 cÚ¡ 
BIGNUM
 *
p
, 
BN_CTX
 *
ùx
);

445 
BN_GF2m_mod_exp
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
b
,

446 cÚ¡ 
BIGNUM
 *
p
, 
BN_CTX
 *
ùx
);

448 
BN_GF2m_mod_sq¹
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
p
,

449 
BN_CTX
 *
ùx
);

451 
BN_GF2m_mod_sŞve_quad
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
p
,

452 
BN_CTX
 *
ùx
);

453 
	#BN_GF2m_cmp
(
a
, 
b
è
	`BN_ucmp
(×), (b))

	)

461 
BN_GF2m_mod_¬r
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ 
p
[]);

463 
BN_GF2m_mod_mul_¬r
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
b
,

464 cÚ¡ 
p
[], 
BN_CTX
 *
ùx
);

466 
BN_GF2m_mod_sqr_¬r
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ 
p
[],

467 
BN_CTX
 *
ùx
);

469 
BN_GF2m_mod_šv_¬r
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
b
, cÚ¡ 
p
[],

470 
BN_CTX
 *
ùx
);

472 
BN_GF2m_mod_div_¬r
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
b
,

473 cÚ¡ 
p
[], 
BN_CTX
 *
ùx
);

475 
BN_GF2m_mod_exp_¬r
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
b
,

476 cÚ¡ 
p
[], 
BN_CTX
 *
ùx
);

478 
BN_GF2m_mod_sq¹_¬r
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
,

479 cÚ¡ 
p
[], 
BN_CTX
 *
ùx
);

481 
BN_GF2m_mod_sŞve_quad_¬r
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
,

482 cÚ¡ 
p
[], 
BN_CTX
 *
ùx
);

483 
BN_GF2m_pŞy2¬r
(cÚ¡ 
BIGNUM
 *
a
, 
p
[], 
max
);

484 
BN_GF2m_¬r2pŞy
(cÚ¡ 
p
[], 
BIGNUM
 *
a
);

491 
BN_ni¡_mod_192
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
p
, 
BN_CTX
 *
ùx
);

492 
BN_ni¡_mod_224
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
p
, 
BN_CTX
 *
ùx
);

493 
BN_ni¡_mod_256
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
p
, 
BN_CTX
 *
ùx
);

494 
BN_ni¡_mod_384
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
p
, 
BN_CTX
 *
ùx
);

495 
BN_ni¡_mod_521
(
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
p
, 
BN_CTX
 *
ùx
);

497 cÚ¡ 
BIGNUM
 *
BN_g‘0_ni¡_´ime_192
();

498 cÚ¡ 
BIGNUM
 *
BN_g‘0_ni¡_´ime_224
();

499 cÚ¡ 
BIGNUM
 *
BN_g‘0_ni¡_´ime_256
();

500 cÚ¡ 
BIGNUM
 *
BN_g‘0_ni¡_´ime_384
();

501 cÚ¡ 
BIGNUM
 *
BN_g‘0_ni¡_´ime_521
();

503 (*
BN_ni¡_mod_func
(cÚ¡ 
BIGNUM
 *
p
)è(BIGNUM *
r
, cÚ¡ BIGNUM *
a
,

504 cÚ¡ 
BIGNUM
 *
f›ld
, 
BN_CTX
 *
ùx
);

506 
BN_g’”©e_d§_nÚû
(
BIGNUM
 *
out
, cÚ¡ BIGNUM *
¿nge
,

507 cÚ¡ 
BIGNUM
 *
´iv
, cÚ¡ *
mes§ge
,

508 
size_t
 
mes§ge_Ën
, 
BN_CTX
 *
ùx
);

511 
BIGNUM
 *
BN_g‘_rfc2409_´ime_768
(BIGNUM *
bn
);

512 
BIGNUM
 *
BN_g‘_rfc2409_´ime_1024
(BIGNUM *
bn
);

515 
BIGNUM
 *
BN_g‘_rfc3526_´ime_1536
(BIGNUM *
bn
);

516 
BIGNUM
 *
BN_g‘_rfc3526_´ime_2048
(BIGNUM *
bn
);

517 
BIGNUM
 *
BN_g‘_rfc3526_´ime_3072
(BIGNUM *
bn
);

518 
BIGNUM
 *
BN_g‘_rfc3526_´ime_4096
(BIGNUM *
bn
);

519 
BIGNUM
 *
BN_g‘_rfc3526_´ime_6144
(BIGNUM *
bn
);

520 
BIGNUM
 *
BN_g‘_rfc3526_´ime_8192
(BIGNUM *
bn
);

522 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

523 
	#g‘_rfc2409_´ime_768
 
BN_g‘_rfc2409_´ime_768


	)

524 
	#g‘_rfc2409_´ime_1024
 
BN_g‘_rfc2409_´ime_1024


	)

525 
	#g‘_rfc3526_´ime_1536
 
BN_g‘_rfc3526_´ime_1536


	)

526 
	#g‘_rfc3526_´ime_2048
 
BN_g‘_rfc3526_´ime_2048


	)

527 
	#g‘_rfc3526_´ime_3072
 
BN_g‘_rfc3526_´ime_3072


	)

528 
	#g‘_rfc3526_´ime_4096
 
BN_g‘_rfc3526_´ime_4096


	)

529 
	#g‘_rfc3526_´ime_6144
 
BN_g‘_rfc3526_´ime_6144


	)

530 
	#g‘_rfc3526_´ime_8192
 
BN_g‘_rfc3526_´ime_8192


	)

533 
BN_bÁe¡_¿nd
(
BIGNUM
 *
ºd
, 
b™s
, 
tİ
, 
bÙtom
);

536 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/crypto.h

11 #iâdeà
HEADER_CRYPTO_H


12 
	#HEADER_CRYPTO_H


	)

14 
	~<¡dlib.h
>

15 
	~<time.h
>

17 
	~<İ’s¦/e_os2.h
>

19 #iâdeà
OPENSSL_NO_STDIO


20 
	~<¡dio.h
>

23 
	~<İ’s¦/§ã¡ack.h
>

24 
	~<İ’s¦/İ’s¦v.h
>

25 
	~<İ’s¦/os¦_typ.h
>

26 
	~<İ’s¦/İ’s¦cÚf.h
>

27 
	~<İ’s¦/üy±Û¼.h
>

29 #ifdeà
CHARSET_EBCDIC


30 
	~<İ’s¦/ebcdic.h
>

37 
	~<İ’s¦/symhacks.h
>

39 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

40 
	~<İ’s¦/İ’s¦v.h
>

43 #ifdeà 
__ılu¥lus


47 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

48 
	#SSL—y
 
O³nSSL_v”siÚ_num


	)

49 
	#SSL—y_v”siÚ
 
O³nSSL_v”siÚ


	)

50 
	#SSLEAY_VERSION_NUMBER
 
OPENSSL_VERSION_NUMBER


	)

51 
	#SSLEAY_VERSION
 
OPENSSL_VERSION


	)

52 
	#SSLEAY_CFLAGS
 
OPENSSL_CFLAGS


	)

53 
	#SSLEAY_BUILT_ON
 
OPENSSL_BUILT_ON


	)

54 
	#SSLEAY_PLATFORM
 
OPENSSL_PLATFORM


	)

55 
	#SSLEAY_DIR
 
OPENSSL_DIR


	)

62 
dummy
;

63 } 
	tCRYPTO_dyÆock
;

67 
	tCRYPTO_RWLOCK
;

69 
CRYPTO_RWLOCK
 *
CRYPTO_THREAD_lock_Ãw
();

70 
CRYPTO_THREAD_»ad_lock
(
CRYPTO_RWLOCK
 *
lock
);

71 
CRYPTO_THREAD_wr™e_lock
(
CRYPTO_RWLOCK
 *
lock
);

72 
CRYPTO_THREAD_uÆock
(
CRYPTO_RWLOCK
 *
lock
);

73 
CRYPTO_THREAD_lock_ä“
(
CRYPTO_RWLOCK
 *
lock
);

75 
CRYPTO_©omic_add
(*
v®
, 
amouÁ
, *
»t
, 
CRYPTO_RWLOCK
 *
lock
);

81 
	#CRYPTO_MEM_CHECK_OFF
 0x0

	)

82 
	#CRYPTO_MEM_CHECK_ON
 0x1

	)

83 
	#CRYPTO_MEM_CHECK_ENABLE
 0x2

	)

84 
	#CRYPTO_MEM_CHECK_DISABLE
 0x3

	)

86 
	süy±o_ex_d©a_¡
 {

87 
STACK_OF
(è*
	gsk
;

89 
DEFINE_STACK_OF
()

94 
	#CRYPTO_EX_INDEX_SSL
 0

	)

95 
	#CRYPTO_EX_INDEX_SSL_CTX
 1

	)

96 
	#CRYPTO_EX_INDEX_SSL_SESSION
 2

	)

97 
	#CRYPTO_EX_INDEX_X509
 3

	)

98 
	#CRYPTO_EX_INDEX_X509_STORE
 4

	)

99 
	#CRYPTO_EX_INDEX_X509_STORE_CTX
 5

	)

100 
	#CRYPTO_EX_INDEX_DH
 6

	)

101 
	#CRYPTO_EX_INDEX_DSA
 7

	)

102 
	#CRYPTO_EX_INDEX_EC_KEY
 8

	)

103 
	#CRYPTO_EX_INDEX_RSA
 9

	)

104 
	#CRYPTO_EX_INDEX_ENGINE
 10

	)

105 
	#CRYPTO_EX_INDEX_UI
 11

	)

106 
	#CRYPTO_EX_INDEX_BIO
 12

	)

107 
	#CRYPTO_EX_INDEX_APP
 13

	)

108 
	#CRYPTO_EX_INDEX_UI_METHOD
 14

	)

109 
	#CRYPTO_EX_INDEX_DRBG
 15

	)

110 
	#CRYPTO_EX_INDEX__COUNT
 16

	)

113 
	#OPENSSL_m®loc_š™
(è0è

	)

115 
CRYPTO_mem_ù¾
(
mode
);

117 
	#OPENSSL_m®loc
(
num
) \

118 
	`CRYPTO_m®loc
(
num
, 
OPENSSL_FILE
, 
OPENSSL_LINE
)

	)

119 
	#OPENSSL_z®loc
(
num
) \

120 
	`CRYPTO_z®loc
(
num
, 
OPENSSL_FILE
, 
OPENSSL_LINE
)

	)

121 
	#OPENSSL_»®loc
(
addr
, 
num
) \

122 
	`CRYPTO_»®loc
(
addr
, 
num
, 
OPENSSL_FILE
, 
OPENSSL_LINE
)

	)

123 
	#OPENSSL_ş—r_»®loc
(
addr
, 
Şd_num
, 
num
) \

124 
	`CRYPTO_ş—r_»®loc
(
addr
, 
Şd_num
, 
num
, 
OPENSSL_FILE
, 
OPENSSL_LINE
)

	)

125 
	#OPENSSL_ş—r_ä“
(
addr
, 
num
) \

126 
	`CRYPTO_ş—r_ä“
(
addr
, 
num
, 
OPENSSL_FILE
, 
OPENSSL_LINE
)

	)

127 
	#OPENSSL_ä“
(
addr
) \

128 
	`CRYPTO_ä“
(
addr
, 
OPENSSL_FILE
, 
OPENSSL_LINE
)

	)

129 
	#OPENSSL_memdup
(
¡r
, 
s
) \

130 
	`CRYPTO_memdup
((
¡r
), 
s
, 
OPENSSL_FILE
, 
OPENSSL_LINE
)

	)

131 
	#OPENSSL_¡rdup
(
¡r
) \

132 
	`CRYPTO_¡rdup
(
¡r
, 
OPENSSL_FILE
, 
OPENSSL_LINE
)

	)

133 
	#OPENSSL_¡ºdup
(
¡r
, 
n
) \

134 
	`CRYPTO_¡ºdup
(
¡r
, 
n
, 
OPENSSL_FILE
, 
OPENSSL_LINE
)

	)

135 
	#OPENSSL_£cu»_m®loc
(
num
) \

136 
	`CRYPTO_£cu»_m®loc
(
num
, 
OPENSSL_FILE
, 
OPENSSL_LINE
)

	)

137 
	#OPENSSL_£cu»_z®loc
(
num
) \

138 
	`CRYPTO_£cu»_z®loc
(
num
, 
OPENSSL_FILE
, 
OPENSSL_LINE
)

	)

139 
	#OPENSSL_£cu»_ä“
(
addr
) \

140 
	`CRYPTO_£cu»_ä“
(
addr
, 
OPENSSL_FILE
, 
OPENSSL_LINE
)

	)

141 
	#OPENSSL_£cu»_ş—r_ä“
(
addr
, 
num
) \

142 
	`CRYPTO_£cu»_ş—r_ä“
(
addr
, 
num
, 
OPENSSL_FILE
, 
OPENSSL_LINE
)

	)

143 
	#OPENSSL_£cu»_aùu®_size
(
±r
) \

144 
	`CRYPTO_£cu»_aùu®_size
(
±r
)

	)

146 
size_t
 
OPENSSL_¡¾ıy
(*
d¡
, cÚ¡ *
¤c
, size_ˆ
siz
);

147 
size_t
 
OPENSSL_¡¾ÿt
(*
d¡
, cÚ¡ *
¤c
, size_ˆ
siz
);

148 
size_t
 
OPENSSL_¡ºËn
(cÚ¡ *
¡r
, size_ˆ
maxËn
);

149 *
OPENSSL_buf2hex¡r
(cÚ¡ *
bufãr
, 
Ën
);

150 *
OPENSSL_hex¡r2buf
(cÚ¡ *
¡r
, *
Ën
);

151 
OPENSSL_hexch¬2št
(
c
);

153 
	#OPENSSL_MALLOC_MAX_NELEMS
(
ty³
è(((1U<<(()*8-1))-1)/Ñy³))

	)

155 
O³nSSL_v”siÚ_num
();

156 cÚ¡ *
O³nSSL_v”siÚ
(
ty³
);

157 
	#OPENSSL_VERSION
 0

	)

158 
	#OPENSSL_CFLAGS
 1

	)

159 
	#OPENSSL_BUILT_ON
 2

	)

160 
	#OPENSSL_PLATFORM
 3

	)

161 
	#OPENSSL_DIR
 4

	)

162 
	#OPENSSL_ENGINES_DIR
 5

	)

164 
OPENSSL_is£tugid
();

166 
	tCRYPTO_EX_Ãw
 (*
	t·»Á
, *
	t±r
, 
	tCRYPTO_EX_DATA
 *
	tad
,

167 
	tidx
, 
	t¬gl
, *
	t¬gp
);

168 
	tCRYPTO_EX_ä“
 (*
	t·»Á
, *
	t±r
, 
	tCRYPTO_EX_DATA
 *
	tad
,

169 
	tidx
, 
	t¬gl
, *
	t¬gp
);

170 
	tCRYPTO_EX_dup
 (
	tCRYPTO_EX_DATA
 *
	tto
, cÚ¡ CRYPTO_EX_DATA *
	täom
,

171 *
	täom_d
, 
	tidx
, 
	t¬gl
, *
	t¬gp
);

172 
__owur
 
CRYPTO_g‘_ex_Ãw_šdex
(
şass_šdex
, 
¬gl
, *
¬gp
,

173 
CRYPTO_EX_Ãw
 *
Ãw_func
, 
CRYPTO_EX_dup
 *
dup_func
,

174 
CRYPTO_EX_ä“
 *
ä“_func
);

176 
CRYPTO_ä“_ex_šdex
(
şass_šdex
, 
idx
);

182 
CRYPTO_Ãw_ex_d©a
(
şass_šdex
, *
obj
, 
CRYPTO_EX_DATA
 *
ad
);

183 
CRYPTO_dup_ex_d©a
(
şass_šdex
, 
CRYPTO_EX_DATA
 *
to
,

184 cÚ¡ 
CRYPTO_EX_DATA
 *
äom
);

186 
CRYPTO_ä“_ex_d©a
(
şass_šdex
, *
obj
, 
CRYPTO_EX_DATA
 *
ad
);

192 
CRYPTO_£t_ex_d©a
(
CRYPTO_EX_DATA
 *
ad
, 
idx
, *
v®
);

193 *
CRYPTO_g‘_ex_d©a
(cÚ¡ 
CRYPTO_EX_DATA
 *
ad
, 
idx
);

195 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

200 
	#CRYPTO_ş—nup_®l_ex_d©a
(è0è

	)

212 
	#CRYPTO_num_locks
(è(1)

	)

213 
	#CRYPTO_£t_lockšg_ÿÎback
(
func
)

	)

214 
	#CRYPTO_g‘_lockšg_ÿÎback
(è(
NULL
)

	)

215 
	#CRYPTO_£t_add_lock_ÿÎback
(
func
)

	)

216 
	#CRYPTO_g‘_add_lock_ÿÎback
(è(
NULL
)

	)

223 
	#CRYPTO_LOCK
 1

	)

224 
	#CRYPTO_UNLOCK
 2

	)

225 
	#CRYPTO_READ
 4

	)

226 
	#CRYPTO_WRITE
 8

	)

229 
	süy±o_th»adid_¡
 {

230 
	gdummy
;

231 } 
	tCRYPTO_THREADID
;

233 
	#CRYPTO_THREADID_£t_num”ic
(
id
, 
v®
)

	)

234 
	#CRYPTO_THREADID_£t_poš‹r
(
id
, 
±r
)

	)

235 
	#CRYPTO_THREADID_£t_ÿÎback
(
th»adid_func
è(0)

	)

236 
	#CRYPTO_THREADID_g‘_ÿÎback
(è(
NULL
)

	)

237 
	#CRYPTO_THREADID_cu¼’t
(
id
)

	)

238 
	#CRYPTO_THREADID_cmp
(
a
, 
b
è(-1)

	)

239 
	#CRYPTO_THREADID_ıy
(
de¡
, 
¤c
)

	)

240 
	#CRYPTO_THREADID_hash
(
id
è(0UL)

	)

242 #ià
OPENSSL_API_COMPAT
 < 0x10000000L

243 
	#CRYPTO_£t_id_ÿÎback
(
func
)

	)

244 
	#CRYPTO_g‘_id_ÿÎback
(è(
NULL
)

	)

245 
	#CRYPTO_th»ad_id
(è(0UL)

	)

248 
	#CRYPTO_£t_dyÆock_ü—‹_ÿÎback
(
dyn_ü—‹_funùiÚ
)

	)

249 
	#CRYPTO_£t_dyÆock_lock_ÿÎback
(
dyn_lock_funùiÚ
)

	)

250 
	#CRYPTO_£t_dyÆock_de¡roy_ÿÎback
(
dyn_de¡roy_funùiÚ
)

	)

251 
	#CRYPTO_g‘_dyÆock_ü—‹_ÿÎback
(è(
NULL
)

	)

252 
	#CRYPTO_g‘_dyÆock_lock_ÿÎback
(è(
NULL
)

	)

253 
	#CRYPTO_g‘_dyÆock_de¡roy_ÿÎback
(è(
NULL
)

	)

256 
CRYPTO_£t_mem_funùiÚs
(

257 *(*
m
è(
size_t
, const *, ),

258 *(*
r
è(*, 
size_t
, const *, ),

259 (*
f
) (*, const *, ));

260 
CRYPTO_£t_mem_debug
(
æag
);

261 
CRYPTO_g‘_mem_funùiÚs
(

262 *(**
m
è(
size_t
, const *, ),

263 *(**
r
è(*, 
size_t
, const *, ),

264 (**
f
) (*, const *, ));

266 *
CRYPTO_m®loc
(
size_t
 
num
, cÚ¡ *
fe
, 
lše
);

267 *
CRYPTO_z®loc
(
size_t
 
num
, cÚ¡ *
fe
, 
lše
);

268 *
CRYPTO_memdup
(cÚ¡ *
¡r
, 
size_t
 
siz
, cÚ¡ *
fe
, 
lše
);

269 *
CRYPTO_¡rdup
(cÚ¡ *
¡r
, cÚ¡ *
fe
, 
lše
);

270 *
CRYPTO_¡ºdup
(cÚ¡ *
¡r
, 
size_t
 
s
, cÚ¡ *
fe
, 
lše
);

271 
CRYPTO_ä“
(*
±r
, cÚ¡ *
fe
, 
lše
);

272 
CRYPTO_ş—r_ä“
(*
±r
, 
size_t
 
num
, cÚ¡ *
fe
, 
lše
);

273 *
CRYPTO_»®loc
(*
addr
, 
size_t
 
num
, cÚ¡ *
fe
, 
lše
);

274 *
CRYPTO_ş—r_»®loc
(*
addr
, 
size_t
 
Şd_num
, size_ˆ
num
,

275 cÚ¡ *
fe
, 
lše
);

277 
CRYPTO_£cu»_m®loc_š™
(
size_t
 
sz
, 
mšsize
);

278 
CRYPTO_£cu»_m®loc_dÚe
();

279 *
CRYPTO_£cu»_m®loc
(
size_t
 
num
, cÚ¡ *
fe
, 
lše
);

280 *
CRYPTO_£cu»_z®loc
(
size_t
 
num
, cÚ¡ *
fe
, 
lše
);

281 
CRYPTO_£cu»_ä“
(*
±r
, cÚ¡ *
fe
, 
lše
);

282 
CRYPTO_£cu»_ş—r_ä“
(*
±r
, 
size_t
 
num
,

283 cÚ¡ *
fe
, 
lše
);

284 
CRYPTO_£cu»_®loÿ‹d
(cÚ¡ *
±r
);

285 
CRYPTO_£cu»_m®loc_š™Ÿlized
();

286 
size_t
 
CRYPTO_£cu»_aùu®_size
(*
±r
);

287 
size_t
 
CRYPTO_£cu»_u£d
();

289 
OPENSSL_ş—n£
(*
±r
, 
size_t
 
Ën
);

291 #iâdeà
OPENSSL_NO_CRYPTO_MDEBUG


292 
	#OPENSSL_mem_debug_push
(
šfo
) \

293 
	`CRYPTO_mem_debug_push
(
šfo
, 
OPENSSL_FILE
, 
OPENSSL_LINE
)

	)

294 
	#OPENSSL_mem_debug_pİ
() \

295 
	`CRYPTO_mem_debug_pİ
()

	)

296 
CRYPTO_mem_debug_push
(cÚ¡ *
šfo
, cÚ¡ *
fe
, 
lše
);

297 
CRYPTO_mem_debug_pİ
();

298 
CRYPTO_g‘_®loc_couÁs
(*
mcouÁ
, *
rcouÁ
, *
fcouÁ
);

306 
CRYPTO_mem_debug_m®loc
(*
addr
, 
size_t
 
num
, 
æag
,

307 cÚ¡ *
fe
, 
lše
);

308 
CRYPTO_mem_debug_»®loc
(*
addr1
, *
addr2
, 
size_t
 
num
, 
æag
,

309 cÚ¡ *
fe
, 
lše
);

310 
CRYPTO_mem_debug_ä“
(*
addr
, 
æag
,

311 cÚ¡ *
fe
, 
lše
);

313 
CRYPTO_mem_Ëaks_cb
((*
cb
è(cÚ¡ *
¡r
, 
size_t
 
Ën
, *
u
),

314 *
u
);

315 #iâdeà
OPENSSL_NO_STDIO


316 
CRYPTO_mem_Ëaks_å
(
FILE
 *);

318 
CRYPTO_mem_Ëaks
(
BIO
 *
bio
);

322 
os¦_nÜ‘uº
 
OPENSSL_d›
(cÚ¡ *
as£¹iÚ
, cÚ¡ *
fe
, 
lše
);

323 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

324 
	#O³nSSLD›
(
f
,
l
,
a
è
	`OPENSSL_d›
(×),(f),Ö))

	)

326 
	#OPENSSL_as£¹
(
e
) \

327 ()((
e
è? 0 : (
	`OPENSSL_d›
("as£¹iÚ faed: " #e, 
OPENSSL_FILE
, 
OPENSSL_LINE
), 1))

	)

329 
OPENSSL_is£rviû
();

331 
FIPS_mode
();

332 
FIPS_mode_£t
(
r
);

334 
OPENSSL_š™
();

335 #ifdeà
OPENSSL_SYS_UNIX


336 
OPENSSL_fÜk_´•¬e
();

337 
OPENSSL_fÜk_·»Á
();

338 
OPENSSL_fÜk_chd
();

341 
tm
 *
OPENSSL_gmtime
(cÚ¡ 
time_t
 *
tim”
, tm *
»suÉ
);

342 
OPENSSL_gmtime_adj
(
tm
 *tm, 
off£t_day
, 
off£t_£c
);

343 
OPENSSL_gmtime_diff
(*
pday
, *
p£c
,

344 cÚ¡ 
tm
 *
äom
, cÚ¡ tm *
to
);

353 
CRYPTO_memcmp
(cÚ¡ * 
š_a
, cÚ¡ * 
š_b
, 
size_t
 
Ën
);

356 
	#OPENSSL_INIT_NO_LOAD_CRYPTO_STRINGS
 0x00000001L

	)

357 
	#OPENSSL_INIT_LOAD_CRYPTO_STRINGS
 0x00000002L

	)

358 
	#OPENSSL_INIT_ADD_ALL_CIPHERS
 0x00000004L

	)

359 
	#OPENSSL_INIT_ADD_ALL_DIGESTS
 0x00000008L

	)

360 
	#OPENSSL_INIT_NO_ADD_ALL_CIPHERS
 0x00000010L

	)

361 
	#OPENSSL_INIT_NO_ADD_ALL_DIGESTS
 0x00000020L

	)

362 
	#OPENSSL_INIT_LOAD_CONFIG
 0x00000040L

	)

363 
	#OPENSSL_INIT_NO_LOAD_CONFIG
 0x00000080L

	)

364 
	#OPENSSL_INIT_ASYNC
 0x00000100L

	)

365 
	#OPENSSL_INIT_ENGINE_RDRAND
 0x00000200L

	)

366 
	#OPENSSL_INIT_ENGINE_DYNAMIC
 0x00000400L

	)

367 
	#OPENSSL_INIT_ENGINE_OPENSSL
 0x00000800L

	)

368 
	#OPENSSL_INIT_ENGINE_CRYPTODEV
 0x00001000L

	)

369 
	#OPENSSL_INIT_ENGINE_CAPI
 0x00002000L

	)

370 
	#OPENSSL_INIT_ENGINE_PADLOCK
 0x00004000L

	)

371 
	#OPENSSL_INIT_ENGINE_AFALG
 0x00008000L

	)

373 
	#OPENSSL_INIT_ATFORK
 0x00020000L

	)

379 
	#OPENSSL_INIT_ENGINE_ALL_BUILTIN
 \

380 (
OPENSSL_INIT_ENGINE_RDRAND
 | 
OPENSSL_INIT_ENGINE_DYNAMIC
 \

381 | 
OPENSSL_INIT_ENGINE_CRYPTODEV
 | 
OPENSSL_INIT_ENGINE_CAPI
 | \

382 
OPENSSL_INIT_ENGINE_PADLOCK
)

	)

386 
OPENSSL_ş—nup
();

387 
OPENSSL_š™_üy±o
(
ušt64_t
 
İts
, cÚ¡ 
OPENSSL_INIT_SETTINGS
 *
£‰šgs
);

388 
OPENSSL_©ex™
((*
hªdËr
)());

389 
OPENSSL_th»ad_¡İ
();

392 
OPENSSL_INIT_SETTINGS
 *
OPENSSL_INIT_Ãw
();

393 #iâdeà
OPENSSL_NO_STDIO


394 
OPENSSL_INIT_£t_cÚfig_­²ame
(
OPENSSL_INIT_SETTINGS
 *
£‰šgs
,

395 cÚ¡ *
cÚfig_fe
);

397 
OPENSSL_INIT_ä“
(
OPENSSL_INIT_SETTINGS
 *
£‰šgs
);

399 #ià
defšed
(
OPENSSL_THREADS
è&& !defšed(
CRYPTO_TDEBUG
)

400 #ià
defšed
(
_WIN32
)

401 #ià
defšed
(
BASETYPES
è|| defšed(
_WINDEF_H
)

403 
DWORD
 
	tCRYPTO_THREAD_LOCAL
;

404 
DWORD
 
	tCRYPTO_THREAD_ID
;

406 
LONG
 
	tCRYPTO_ONCE
;

407 
	#CRYPTO_ONCE_STATIC_INIT
 0

	)

410 
	~<±h»ad.h
>

411 
±h»ad_Úû_t
 
	tCRYPTO_ONCE
;

412 
±h»ad_key_t
 
	tCRYPTO_THREAD_LOCAL
;

413 
±h»ad_t
 
	tCRYPTO_THREAD_ID
;

415 
	#CRYPTO_ONCE_STATIC_INIT
 
PTHREAD_ONCE_INIT


	)

419 #ià!
defšed
(
CRYPTO_ONCE_STATIC_INIT
)

420 
	tCRYPTO_ONCE
;

421 
	tCRYPTO_THREAD_LOCAL
;

422 
	tCRYPTO_THREAD_ID
;

423 
	#CRYPTO_ONCE_STATIC_INIT
 0

	)

426 
CRYPTO_THREAD_run_Úû
(
CRYPTO_ONCE
 *
Úû
, (*
š™
)());

428 
CRYPTO_THREAD_š™_loÿl
(
CRYPTO_THREAD_LOCAL
 *
key
, (*
ş—nup
)(*));

429 *
CRYPTO_THREAD_g‘_loÿl
(
CRYPTO_THREAD_LOCAL
 *
key
);

430 
CRYPTO_THREAD_£t_loÿl
(
CRYPTO_THREAD_LOCAL
 *
key
, *
v®
);

431 
CRYPTO_THREAD_ş—nup_loÿl
(
CRYPTO_THREAD_LOCAL
 *
key
);

433 
CRYPTO_THREAD_ID
 
CRYPTO_THREAD_g‘_cu¼’t_id
();

434 
CRYPTO_THREAD_com·»_id
(
CRYPTO_THREAD_ID
 
a
, CRYPTO_THREAD_ID 
b
);

437 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/dtls1.h

10 #iâdeà
HEADER_DTLS1_H


11 
	#HEADER_DTLS1_H


	)

13 #ifdeà 
__ılu¥lus


17 
	#DTLS1_VERSION
 0xFEFF

	)

18 
	#DTLS1_2_VERSION
 0xFEFD

	)

19 
	#DTLS_MIN_VERSION
 
DTLS1_VERSION


	)

20 
	#DTLS_MAX_VERSION
 
DTLS1_2_VERSION


	)

21 
	#DTLS1_VERSION_MAJOR
 0xFE

	)

23 
	#DTLS1_BAD_VER
 0x0100

	)

26 
	#DTLS_ANY_VERSION
 0x1FFFF

	)

33 
	#DTLS1_COOKIE_LENGTH
 256

	)

35 
	#DTLS1_RT_HEADER_LENGTH
 13

	)

37 
	#DTLS1_HM_HEADER_LENGTH
 12

	)

39 
	#DTLS1_HM_BAD_FRAGMENT
 -2

	)

40 
	#DTLS1_HM_FRAGMENT_RETRY
 -3

	)

42 
	#DTLS1_CCS_HEADER_LENGTH
 1

	)

44 
	#DTLS1_AL_HEADER_LENGTH
 2

	)

47 
	#DTLS1_TMO_READ_COUNT
 2

	)

48 
	#DTLS1_TMO_WRITE_COUNT
 2

	)

50 
	#DTLS1_TMO_ALERT_COUNT
 12

	)

52 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/err.h

10 #iâdeà
HEADER_ERR_H


11 
	#HEADER_ERR_H


	)

13 
	~<İ’s¦/e_os2.h
>

15 #iâdeà
OPENSSL_NO_STDIO


16 
	~<¡dio.h
>

17 
	~<¡dlib.h
>

20 
	~<İ’s¦/os¦_typ.h
>

21 
	~<İ’s¦/bio.h
>

22 
	~<İ’s¦/lhash.h
>

24 #ifdeà 
__ılu¥lus


28 #iâdeà
OPENSSL_NO_ERR


29 
	#ERR_PUT_”rÜ
(
a
,
b
,
c
,
d
,
e
è
	`ERR_put_”rÜ
×,b,c,d,e)

	)

31 
	#ERR_PUT_”rÜ
(
a
,
b
,
c
,
d
,
e
è
	`ERR_put_”rÜ
×,b,c,
NULL
,0)

	)

34 
	~<”ºo.h
>

36 
	#ERR_TXT_MALLOCED
 0x01

	)

37 
	#ERR_TXT_STRING
 0x02

	)

39 
	#ERR_FLAG_MARK
 0x01

	)

41 
	#ERR_NUM_ERRORS
 16

	)

42 
	s”r_¡©e_¡
 {

43 
”r_æags
[
ERR_NUM_ERRORS
];

44 
”r_bufãr
[
ERR_NUM_ERRORS
];

45 *
”r_d©a
[
ERR_NUM_ERRORS
];

46 
”r_d©a_æags
[
ERR_NUM_ERRORS
];

47 cÚ¡ *
”r_fe
[
ERR_NUM_ERRORS
];

48 
”r_lše
[
ERR_NUM_ERRORS
];

49 
tİ
, 
bÙtom
;

50 } 
	tERR_STATE
;

53 
	#ERR_LIB_NONE
 1

	)

54 
	#ERR_LIB_SYS
 2

	)

55 
	#ERR_LIB_BN
 3

	)

56 
	#ERR_LIB_RSA
 4

	)

57 
	#ERR_LIB_DH
 5

	)

58 
	#ERR_LIB_EVP
 6

	)

59 
	#ERR_LIB_BUF
 7

	)

60 
	#ERR_LIB_OBJ
 8

	)

61 
	#ERR_LIB_PEM
 9

	)

62 
	#ERR_LIB_DSA
 10

	)

63 
	#ERR_LIB_X509
 11

	)

65 
	#ERR_LIB_ASN1
 13

	)

66 
	#ERR_LIB_CONF
 14

	)

67 
	#ERR_LIB_CRYPTO
 15

	)

68 
	#ERR_LIB_EC
 16

	)

69 
	#ERR_LIB_SSL
 20

	)

75 
	#ERR_LIB_BIO
 32

	)

76 
	#ERR_LIB_PKCS7
 33

	)

77 
	#ERR_LIB_X509V3
 34

	)

78 
	#ERR_LIB_PKCS12
 35

	)

79 
	#ERR_LIB_RAND
 36

	)

80 
	#ERR_LIB_DSO
 37

	)

81 
	#ERR_LIB_ENGINE
 38

	)

82 
	#ERR_LIB_OCSP
 39

	)

83 
	#ERR_LIB_UI
 40

	)

84 
	#ERR_LIB_COMP
 41

	)

85 
	#ERR_LIB_ECDSA
 42

	)

86 
	#ERR_LIB_ECDH
 43

	)

87 
	#ERR_LIB_OSSL_STORE
 44

	)

88 
	#ERR_LIB_FIPS
 45

	)

89 
	#ERR_LIB_CMS
 46

	)

90 
	#ERR_LIB_TS
 47

	)

91 
	#ERR_LIB_HMAC
 48

	)

93 
	#ERR_LIB_CT
 50

	)

94 
	#ERR_LIB_ASYNC
 51

	)

95 
	#ERR_LIB_KDF
 52

	)

96 
	#ERR_LIB_SM2
 53

	)

98 
	#ERR_LIB_USER
 128

	)

100 
	#SYS”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_SYS
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

101 
	#BN”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_BN
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

102 
	#RSA”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_RSA
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

103 
	#DH”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_DH
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

104 
	#EVP”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_EVP
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

105 
	#BUF”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_BUF
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

106 
	#OBJ”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_OBJ
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

107 
	#PEM”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_PEM
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

108 
	#DSA”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_DSA
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

109 
	#X509”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_X509
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

110 
	#ASN1”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_ASN1
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

111 
	#CONF”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_CONF
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

112 
	#CRYPTO”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_CRYPTO
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

113 
	#EC”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_EC
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

114 
	#SSL”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_SSL
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

115 
	#BIO”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_BIO
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

116 
	#PKCS7”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_PKCS7
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

117 
	#X509V3”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_X509V3
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

118 
	#PKCS12”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_PKCS12
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

119 
	#RAND”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_RAND
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

120 
	#DSO”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_DSO
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

121 
	#ENGINE”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_ENGINE
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

122 
	#OCSP”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_OCSP
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

123 
	#UI”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_UI
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

124 
	#COMP”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_COMP
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

125 
	#ECDSA”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_ECDSA
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

126 
	#ECDH”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_ECDH
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

127 
	#OSSL_STORE”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_OSSL_STORE
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

128 
	#FIPS”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_FIPS
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

129 
	#CMS”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_CMS
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

130 
	#TS”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_TS
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

131 
	#HMAC”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_HMAC
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

132 
	#CT”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_CT
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

133 
	#ASYNC”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_ASYNC
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

134 
	#KDF”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_KDF
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

135 
	#SM2”r
(
f
,
r
è
	`ERR_PUT_”rÜ
(
ERR_LIB_SM2
,(f),Ô),
OPENSSL_FILE
,
OPENSSL_LINE
)

	)

137 
	#ERR_PACK
(
l
,
f
,
r
) ( \

138 ((()(
l
) & 0x0FF) << 24L) | \

139 ((()(
f
) & 0xFFF) << 12L) | \

140 ((()(
r
è& 0xFFFèè)

	)

141 
	#ERR_GET_LIB
(
l
è()((Öè>> 24Lè& 0x0FFL)

	)

142 
	#ERR_GET_FUNC
(
l
è()((Öè>> 12Lè& 0xFFFL)

	)

143 
	#ERR_GET_REASON
(
l
è()ĞÖè& 0xFFFL)

	)

144 
	#ERR_FATAL_ERROR
(
l
è()ĞÖè& 
ERR_R_FATAL
)

	)

147 
	#SYS_F_FOPEN
 1

	)

148 
	#SYS_F_CONNECT
 2

	)

149 
	#SYS_F_GETSERVBYNAME
 3

	)

150 
	#SYS_F_SOCKET
 4

	)

151 
	#SYS_F_IOCTLSOCKET
 5

	)

152 
	#SYS_F_BIND
 6

	)

153 
	#SYS_F_LISTEN
 7

	)

154 
	#SYS_F_ACCEPT
 8

	)

155 
	#SYS_F_WSASTARTUP
 9

	)

156 
	#SYS_F_OPENDIR
 10

	)

157 
	#SYS_F_FREAD
 11

	)

158 
	#SYS_F_GETADDRINFO
 12

	)

159 
	#SYS_F_GETNAMEINFO
 13

	)

160 
	#SYS_F_SETSOCKOPT
 14

	)

161 
	#SYS_F_GETSOCKOPT
 15

	)

162 
	#SYS_F_GETSOCKNAME
 16

	)

163 
	#SYS_F_GETHOSTBYNAME
 17

	)

164 
	#SYS_F_FFLUSH
 18

	)

165 
	#SYS_F_OPEN
 19

	)

166 
	#SYS_F_CLOSE
 20

	)

167 
	#SYS_F_IOCTL
 21

	)

168 
	#SYS_F_STAT
 22

	)

169 
	#SYS_F_FCNTL
 23

	)

170 
	#SYS_F_FSTAT
 24

	)

173 
	#ERR_R_SYS_LIB
 
ERR_LIB_SYS


	)

174 
	#ERR_R_BN_LIB
 
ERR_LIB_BN


	)

175 
	#ERR_R_RSA_LIB
 
ERR_LIB_RSA


	)

176 
	#ERR_R_DH_LIB
 
ERR_LIB_DH


	)

177 
	#ERR_R_EVP_LIB
 
ERR_LIB_EVP


	)

178 
	#ERR_R_BUF_LIB
 
ERR_LIB_BUF


	)

179 
	#ERR_R_OBJ_LIB
 
ERR_LIB_OBJ


	)

180 
	#ERR_R_PEM_LIB
 
ERR_LIB_PEM


	)

181 
	#ERR_R_DSA_LIB
 
ERR_LIB_DSA


	)

182 
	#ERR_R_X509_LIB
 
ERR_LIB_X509


	)

183 
	#ERR_R_ASN1_LIB
 
ERR_LIB_ASN1


	)

184 
	#ERR_R_EC_LIB
 
ERR_LIB_EC


	)

185 
	#ERR_R_BIO_LIB
 
ERR_LIB_BIO


	)

186 
	#ERR_R_PKCS7_LIB
 
ERR_LIB_PKCS7


	)

187 
	#ERR_R_X509V3_LIB
 
ERR_LIB_X509V3


	)

188 
	#ERR_R_ENGINE_LIB
 
ERR_LIB_ENGINE


	)

189 
	#ERR_R_UI_LIB
 
ERR_LIB_UI


	)

190 
	#ERR_R_ECDSA_LIB
 
ERR_LIB_ECDSA


	)

191 
	#ERR_R_OSSL_STORE_LIB
 
ERR_LIB_OSSL_STORE


	)

193 
	#ERR_R_NESTED_ASN1_ERROR
 58

	)

194 
	#ERR_R_MISSING_ASN1_EOS
 63

	)

197 
	#ERR_R_FATAL
 64

	)

198 
	#ERR_R_MALLOC_FAILURE
 (1|
ERR_R_FATAL
)

	)

199 
	#ERR_R_SHOULD_NOT_HAVE_BEEN_CALLED
 (2|
ERR_R_FATAL
)

	)

200 
	#ERR_R_PASSED_NULL_PARAMETER
 (3|
ERR_R_FATAL
)

	)

201 
	#ERR_R_INTERNAL_ERROR
 (4|
ERR_R_FATAL
)

	)

202 
	#ERR_R_DISABLED
 (5|
ERR_R_FATAL
)

	)

203 
	#ERR_R_INIT_FAIL
 (6|
ERR_R_FATAL
)

	)

204 
	#ERR_R_PASSED_INVALID_ARGUMENT
 (7)

	)

205 
	#ERR_R_OPERATION_FAIL
 (8|
ERR_R_FATAL
)

	)

212 
	sERR_¡ršg_d©a_¡
 {

213 
”rÜ
;

214 cÚ¡ *
¡ršg
;

215 } 
	tERR_STRING_DATA
;

217 
DEFINE_LHASH_OF
(
ERR_STRING_DATA
);

219 
ERR_put_”rÜ
(
lib
, 
func
, 
»asÚ
, cÚ¡ *
fe
, 
lše
);

220 
ERR_£t_”rÜ_d©a
(*
d©a
, 
æags
);

222 
ERR_g‘_”rÜ
();

223 
ERR_g‘_”rÜ_lše
(cÚ¡ **
fe
, *
lše
);

224 
ERR_g‘_”rÜ_lše_d©a
(cÚ¡ **
fe
, *
lše
,

225 cÚ¡ **
d©a
, *
æags
);

226 
ERR_³ek_”rÜ
();

227 
ERR_³ek_”rÜ_lše
(cÚ¡ **
fe
, *
lše
);

228 
ERR_³ek_”rÜ_lše_d©a
(cÚ¡ **
fe
, *
lše
,

229 cÚ¡ **
d©a
, *
æags
);

230 
ERR_³ek_Ï¡_”rÜ
();

231 
ERR_³ek_Ï¡_”rÜ_lše
(cÚ¡ **
fe
, *
lše
);

232 
ERR_³ek_Ï¡_”rÜ_lše_d©a
(cÚ¡ **
fe
, *
lše
,

233 cÚ¡ **
d©a
, *
æags
);

234 
ERR_ş—r_”rÜ
();

235 *
ERR_”rÜ_¡ršg
(
e
, *
buf
);

236 
ERR_”rÜ_¡ršg_n
(
e
, *
buf
, 
size_t
 
Ën
);

237 cÚ¡ *
ERR_lib_”rÜ_¡ršg
(
e
);

238 cÚ¡ *
ERR_func_”rÜ_¡ršg
(
e
);

239 cÚ¡ *
ERR_»asÚ_”rÜ_¡ršg
(
e
);

240 
ERR_´št_”rÜs_cb
((*
cb
è(cÚ¡ *
¡r
, 
size_t
 
Ën
, *
u
),

241 *
u
);

242 #iâdeà
OPENSSL_NO_STDIO


243 
ERR_´št_”rÜs_å
(
FILE
 *
å
);

245 
ERR_´št_”rÜs
(
BIO
 *
bp
);

246 
ERR_add_”rÜ_d©a
(
num
, ...);

247 
ERR_add_”rÜ_vd©a
(
num
, 
va_li¡
 
¬gs
);

248 
ERR_lßd_¡ršgs
(
lib
, 
ERR_STRING_DATA
 *
¡r
);

249 
ERR_lßd_¡ršgs_cÚ¡
(cÚ¡ 
ERR_STRING_DATA
 *
¡r
);

250 
ERR_uÆßd_¡ršgs
(
lib
, 
ERR_STRING_DATA
 *
¡r
);

251 
ERR_lßd_ERR_¡ršgs
();

253 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

254 
	#ERR_lßd_üy±o_¡ršgs
() \

255 
	`OPENSSL_š™_üy±o
(
OPENSSL_INIT_LOAD_CRYPTO_STRINGS
, 
NULL
)

	)

256 
	#ERR_ä“_¡ršgs
(è0è

	)

259 
DEPRECATEDIN_1_1_0
(
ERR_»move_th»ad_¡©e
(*))

260 
DEPRECATEDIN_1_0_0
(
ERR_»move_¡©e
(
pid
))

261 
ERR_STATE
 *
ERR_g‘_¡©e
();

263 
ERR_g‘_Ãxt_”rÜ_lib¿ry
();

265 
ERR_£t_m¬k
();

266 
ERR_pİ_to_m¬k
();

267 
ERR_ş—r_Ï¡_m¬k
();

269 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/evp.h

10 #iâdeà
HEADER_ENVELOPE_H


11 
	#HEADER_ENVELOPE_H


	)

13 
	~<İ’s¦/İ’s¦cÚf.h
>

14 
	~<İ’s¦/os¦_typ.h
>

15 
	~<İ’s¦/symhacks.h
>

16 
	~<İ’s¦/bio.h
>

17 
	~<İ’s¦/ev³¼.h
>

19 
	#EVP_MAX_MD_SIZE
 64

	)

20 
	#EVP_MAX_KEY_LENGTH
 64

	)

21 
	#EVP_MAX_IV_LENGTH
 16

	)

22 
	#EVP_MAX_BLOCK_LENGTH
 32

	)

24 
	#PKCS5_SALT_LEN
 8

	)

26 
	#PKCS5_DEFAULT_ITER
 2048

	)

28 
	~<İ’s¦/objeùs.h
>

30 
	#EVP_PK_RSA
 0x0001

	)

31 
	#EVP_PK_DSA
 0x0002

	)

32 
	#EVP_PK_DH
 0x0004

	)

33 
	#EVP_PK_EC
 0x0008

	)

34 
	#EVP_PKT_SIGN
 0x0010

	)

35 
	#EVP_PKT_ENC
 0x0020

	)

36 
	#EVP_PKT_EXCH
 0x0040

	)

37 
	#EVP_PKS_RSA
 0x0100

	)

38 
	#EVP_PKS_DSA
 0x0200

	)

39 
	#EVP_PKS_EC
 0x0400

	)

41 
	#EVP_PKEY_NONE
 
NID_undef


	)

42 
	#EVP_PKEY_RSA
 
NID_r§Enüy±iÚ


	)

43 
	#EVP_PKEY_RSA2
 
NID_r§


	)

44 
	#EVP_PKEY_RSA_PSS
 
NID_r§s§Pss


	)

45 
	#EVP_PKEY_DSA
 
NID_d§


	)

46 
	#EVP_PKEY_DSA1
 
NID_d§_2


	)

47 
	#EVP_PKEY_DSA2
 
NID_d§W™hSHA


	)

48 
	#EVP_PKEY_DSA3
 
NID_d§W™hSHA1


	)

49 
	#EVP_PKEY_DSA4
 
NID_d§W™hSHA1_2


	)

50 
	#EVP_PKEY_DH
 
NID_dhKeyAg»em’t


	)

51 
	#EVP_PKEY_DHX
 
NID_dhpubliúumb”


	)

52 
	#EVP_PKEY_EC
 
NID_X9_62_id_ecPublicKey


	)

53 
	#EVP_PKEY_SM2
 
NID_sm2


	)

54 
	#EVP_PKEY_HMAC
 
NID_hmac


	)

55 
	#EVP_PKEY_CMAC
 
NID_cmac


	)

56 
	#EVP_PKEY_SCRYPT
 
NID_id_süy±


	)

57 
	#EVP_PKEY_TLS1_PRF
 
NID_s1_´f


	)

58 
	#EVP_PKEY_HKDF
 
NID_hkdf


	)

59 
	#EVP_PKEY_POLY1305
 
NID_pŞy1305


	)

60 
	#EVP_PKEY_SIPHASH
 
NID_shash


	)

61 
	#EVP_PKEY_X25519
 
NID_X25519


	)

62 
	#EVP_PKEY_ED25519
 
NID_ED25519


	)

63 
	#EVP_PKEY_X448
 
NID_X448


	)

64 
	#EVP_PKEY_ED448
 
NID_ED448


	)

66 #ifdeà 
__ılu¥lus


70 
	#EVP_PKEY_MO_SIGN
 0x0001

	)

71 
	#EVP_PKEY_MO_VERIFY
 0x0002

	)

72 
	#EVP_PKEY_MO_ENCRYPT
 0x0004

	)

73 
	#EVP_PKEY_MO_DECRYPT
 0x0008

	)

75 #iâdeà
EVP_MD


76 
EVP_MD
 *
EVP_MD_m‘h_Ãw
(
md_ty³
, 
pkey_ty³
);

77 
EVP_MD
 *
EVP_MD_m‘h_dup
(cÚ¡ EVP_MD *
md
);

78 
EVP_MD_m‘h_ä“
(
EVP_MD
 *
md
);

80 
EVP_MD_m‘h_£t_šput_blocksize
(
EVP_MD
 *
md
, 
blocksize
);

81 
EVP_MD_m‘h_£t_»suÉ_size
(
EVP_MD
 *
md
, 
»suÉsize
);

82 
EVP_MD_m‘h_£t_­p_d©asize
(
EVP_MD
 *
md
, 
d©asize
);

83 
EVP_MD_m‘h_£t_æags
(
EVP_MD
 *
md
, 
æags
);

84 
EVP_MD_m‘h_£t_š™
(
EVP_MD
 *
md
, (*
š™
)(
EVP_MD_CTX
 *
ùx
));

85 
EVP_MD_m‘h_£t_upd©e
(
EVP_MD
 *
md
, (*
upd©e
)(
EVP_MD_CTX
 *
ùx
,

86 cÚ¡ *
d©a
,

87 
size_t
 
couÁ
));

88 
EVP_MD_m‘h_£t_fš®
(
EVP_MD
 *
md
, (*
fš®
)(
EVP_MD_CTX
 *
ùx
,

89 *
md
));

90 
EVP_MD_m‘h_£t_cİy
(
EVP_MD
 *
md
, (*
cİy
)(
EVP_MD_CTX
 *
to
,

91 cÚ¡ 
EVP_MD_CTX
 *
äom
));

92 
EVP_MD_m‘h_£t_ş—nup
(
EVP_MD
 *
md
, (*
ş—nup
)(
EVP_MD_CTX
 *
ùx
));

93 
EVP_MD_m‘h_£t_ù¾
(
EVP_MD
 *
md
, (*
ù¾
)(
EVP_MD_CTX
 *
ùx
, 
cmd
,

94 
p1
, *
p2
));

96 
EVP_MD_m‘h_g‘_šput_blocksize
(cÚ¡ 
EVP_MD
 *
md
);

97 
EVP_MD_m‘h_g‘_»suÉ_size
(cÚ¡ 
EVP_MD
 *
md
);

98 
EVP_MD_m‘h_g‘_­p_d©asize
(cÚ¡ 
EVP_MD
 *
md
);

99 
EVP_MD_m‘h_g‘_æags
(cÚ¡ 
EVP_MD
 *
md
);

100 (*
EVP_MD_m‘h_g‘_š™
(cÚ¡ 
EVP_MD
 *
md
))(
EVP_MD_CTX
 *
ùx
);

101 (*
EVP_MD_m‘h_g‘_upd©e
(cÚ¡ 
EVP_MD
 *
md
))(
EVP_MD_CTX
 *
ùx
,

102 cÚ¡ *
d©a
,

103 
size_t
 
couÁ
);

104 (*
EVP_MD_m‘h_g‘_fš®
(cÚ¡ 
EVP_MD
 *
md
))(
EVP_MD_CTX
 *
ùx
,

105 *
md
);

106 (*
EVP_MD_m‘h_g‘_cİy
(cÚ¡ 
EVP_MD
 *
md
))(
EVP_MD_CTX
 *
to
,

107 cÚ¡ 
EVP_MD_CTX
 *
äom
);

108 (*
EVP_MD_m‘h_g‘_ş—nup
(cÚ¡ 
EVP_MD
 *
md
))(
EVP_MD_CTX
 *
ùx
);

109 (*
EVP_MD_m‘h_g‘_ù¾
(cÚ¡ 
EVP_MD
 *
md
))(
EVP_MD_CTX
 *
ùx
, 
cmd
,

110 
p1
, *
p2
);

113 
	#EVP_MD_FLAG_ONESHOT
 0x0001

	)

116 
	#EVP_MD_FLAG_XOF
 0x0002

	)

120 
	#EVP_MD_FLAG_DIGALGID_MASK
 0x0018

	)

124 
	#EVP_MD_FLAG_DIGALGID_NULL
 0x0000

	)

128 
	#EVP_MD_FLAG_DIGALGID_ABSENT
 0x0008

	)

132 
	#EVP_MD_FLAG_DIGALGID_CUSTOM
 0x0018

	)

135 
	#EVP_MD_FLAG_FIPS
 0x0400

	)

139 
	#EVP_MD_CTRL_DIGALGID
 0x1

	)

140 
	#EVP_MD_CTRL_MICALG
 0x2

	)

141 
	#EVP_MD_CTRL_XOF_LEN
 0x3

	)

145 
	#EVP_MD_CTRL_ALG_CTRL
 0x1000

	)

151 
	#EVP_MD_CTX_FLAG_ONESHOT
 0x0001

	)

153 
	#EVP_MD_CTX_FLAG_CLEANED
 0x0002

	)

155 
	#EVP_MD_CTX_FLAG_REUSE
 0x0004

	)

162 
	#EVP_MD_CTX_FLAG_NON_FIPS_ALLOW
 0x0008

	)

170 
	#EVP_MD_CTX_FLAG_PAD_MASK
 0xF0

	)

171 
	#EVP_MD_CTX_FLAG_PAD_PKCS1
 0x00

	)

172 
	#EVP_MD_CTX_FLAG_PAD_X931
 0x10

	)

173 
	#EVP_MD_CTX_FLAG_PAD_PSS
 0x20

	)

175 
	#EVP_MD_CTX_FLAG_NO_INIT
 0x0100

	)

182 
	#EVP_MD_CTX_FLAG_FINALISE
 0x0200

	)

185 
EVP_CIPHER
 *
EVP_CIPHER_m‘h_Ãw
(
ch”_ty³
, 
block_size
, 
key_Ën
);

186 
EVP_CIPHER
 *
EVP_CIPHER_m‘h_dup
(cÚ¡ EVP_CIPHER *
ch”
);

187 
EVP_CIPHER_m‘h_ä“
(
EVP_CIPHER
 *
ch”
);

189 
EVP_CIPHER_m‘h_£t_iv_Ëngth
(
EVP_CIPHER
 *
ch”
, 
iv_Ën
);

190 
EVP_CIPHER_m‘h_£t_æags
(
EVP_CIPHER
 *
ch”
, 
æags
);

191 
EVP_CIPHER_m‘h_£t_im¶_ùx_size
(
EVP_CIPHER
 *
ch”
, 
ùx_size
);

192 
EVP_CIPHER_m‘h_£t_š™
(
EVP_CIPHER
 *
ch”
,

193 (*
š™
è(
EVP_CIPHER_CTX
 *
ùx
,

194 cÚ¡ *
key
,

195 cÚ¡ *
iv
,

196 
’c
));

197 
EVP_CIPHER_m‘h_£t_do_ch”
(
EVP_CIPHER
 *
ch”
,

198 (*
do_ch”
è(
EVP_CIPHER_CTX
 *
ùx
,

199 *
out
,

200 cÚ¡ *
š
,

201 
size_t
 
šl
));

202 
EVP_CIPHER_m‘h_£t_ş—nup
(
EVP_CIPHER
 *
ch”
,

203 (*
ş—nup
è(
EVP_CIPHER_CTX
 *));

204 
EVP_CIPHER_m‘h_£t_£t_a¢1_·¿ms
(
EVP_CIPHER
 *
ch”
,

205 (*
£t_a¢1_·¿m‘”s
è(
EVP_CIPHER_CTX
 *,

206 
ASN1_TYPE
 *));

207 
EVP_CIPHER_m‘h_£t_g‘_a¢1_·¿ms
(
EVP_CIPHER
 *
ch”
,

208 (*
g‘_a¢1_·¿m‘”s
è(
EVP_CIPHER_CTX
 *,

209 
ASN1_TYPE
 *));

210 
EVP_CIPHER_m‘h_£t_ù¾
(
EVP_CIPHER
 *
ch”
,

211 (*
ù¾
è(
EVP_CIPHER_CTX
 *, 
ty³
,

212 
¬g
, *
±r
));

214 (*
EVP_CIPHER_m‘h_g‘_š™
(cÚ¡ 
EVP_CIPHER
 *
ch”
))(
EVP_CIPHER_CTX
 *
ùx
,

215 cÚ¡ *
key
,

216 cÚ¡ *
iv
,

217 
’c
);

218 (*
EVP_CIPHER_m‘h_g‘_do_ch”
(cÚ¡ 
EVP_CIPHER
 *
ch”
))(
EVP_CIPHER_CTX
 *
ùx
,

219 *
out
,

220 cÚ¡ *
š
,

221 
size_t
 
šl
);

222 (*
EVP_CIPHER_m‘h_g‘_ş—nup
(cÚ¡ 
EVP_CIPHER
 *
ch”
))(
EVP_CIPHER_CTX
 *);

223 (*
EVP_CIPHER_m‘h_g‘_£t_a¢1_·¿ms
(cÚ¡ 
EVP_CIPHER
 *
ch”
))(
EVP_CIPHER_CTX
 *,

224 
ASN1_TYPE
 *);

225 (*
EVP_CIPHER_m‘h_g‘_g‘_a¢1_·¿ms
(cÚ¡ 
EVP_CIPHER
 *
ch”
))(
EVP_CIPHER_CTX
 *,

226 
ASN1_TYPE
 *);

227 (*
EVP_CIPHER_m‘h_g‘_ù¾
(cÚ¡ 
EVP_CIPHER
 *
ch”
))(
EVP_CIPHER_CTX
 *,

228 
ty³
, 
¬g
,

229 *
±r
);

235 
	#EVP_CIPH_STREAM_CIPHER
 0x0

	)

236 
	#EVP_CIPH_ECB_MODE
 0x1

	)

237 
	#EVP_CIPH_CBC_MODE
 0x2

	)

238 
	#EVP_CIPH_CFB_MODE
 0x3

	)

239 
	#EVP_CIPH_OFB_MODE
 0x4

	)

240 
	#EVP_CIPH_CTR_MODE
 0x5

	)

241 
	#EVP_CIPH_GCM_MODE
 0x6

	)

242 
	#EVP_CIPH_CCM_MODE
 0x7

	)

243 
	#EVP_CIPH_XTS_MODE
 0x10001

	)

244 
	#EVP_CIPH_WRAP_MODE
 0x10002

	)

245 
	#EVP_CIPH_OCB_MODE
 0x10003

	)

246 
	#EVP_CIPH_MODE
 0xF0007

	)

248 
	#EVP_CIPH_VARIABLE_LENGTH
 0x8

	)

250 
	#EVP_CIPH_CUSTOM_IV
 0x10

	)

252 
	#EVP_CIPH_ALWAYS_CALL_INIT
 0x20

	)

254 
	#EVP_CIPH_CTRL_INIT
 0x40

	)

256 
	#EVP_CIPH_CUSTOM_KEY_LENGTH
 0x80

	)

258 
	#EVP_CIPH_NO_PADDING
 0x100

	)

260 
	#EVP_CIPH_RAND_KEY
 0x200

	)

262 
	#EVP_CIPH_CUSTOM_COPY
 0x400

	)

264 
	#EVP_CIPH_FLAG_DEFAULT_ASN1
 0x1000

	)

266 
	#EVP_CIPH_FLAG_LENGTH_BITS
 0x2000

	)

268 
	#EVP_CIPH_FLAG_FIPS
 0x4000

	)

270 
	#EVP_CIPH_FLAG_NON_FIPS_ALLOW
 0x8000

	)

274 
	#EVP_CIPH_FLAG_CUSTOM_CIPHER
 0x100000

	)

275 
	#EVP_CIPH_FLAG_AEAD_CIPHER
 0x200000

	)

276 
	#EVP_CIPH_FLAG_TLS1_1_MULTIBLOCK
 0x400000

	)

278 
	#EVP_CIPH_FLAG_PIPELINE
 0X800000

	)

285 
	#EVP_CIPHER_CTX_FLAG_WRAP_ALLOW
 0x1

	)

289 
	#EVP_CTRL_INIT
 0x0

	)

290 
	#EVP_CTRL_SET_KEY_LENGTH
 0x1

	)

291 
	#EVP_CTRL_GET_RC2_KEY_BITS
 0x2

	)

292 
	#EVP_CTRL_SET_RC2_KEY_BITS
 0x3

	)

293 
	#EVP_CTRL_GET_RC5_ROUNDS
 0x4

	)

294 
	#EVP_CTRL_SET_RC5_ROUNDS
 0x5

	)

295 
	#EVP_CTRL_RAND_KEY
 0x6

	)

296 
	#EVP_CTRL_PBE_PRF_NID
 0x7

	)

297 
	#EVP_CTRL_COPY
 0x8

	)

298 
	#EVP_CTRL_AEAD_SET_IVLEN
 0x9

	)

299 
	#EVP_CTRL_AEAD_GET_TAG
 0x10

	)

300 
	#EVP_CTRL_AEAD_SET_TAG
 0x11

	)

301 
	#EVP_CTRL_AEAD_SET_IV_FIXED
 0x12

	)

302 
	#EVP_CTRL_GCM_SET_IVLEN
 
EVP_CTRL_AEAD_SET_IVLEN


	)

303 
	#EVP_CTRL_GCM_GET_TAG
 
EVP_CTRL_AEAD_GET_TAG


	)

304 
	#EVP_CTRL_GCM_SET_TAG
 
EVP_CTRL_AEAD_SET_TAG


	)

305 
	#EVP_CTRL_GCM_SET_IV_FIXED
 
EVP_CTRL_AEAD_SET_IV_FIXED


	)

306 
	#EVP_CTRL_GCM_IV_GEN
 0x13

	)

307 
	#EVP_CTRL_CCM_SET_IVLEN
 
EVP_CTRL_AEAD_SET_IVLEN


	)

308 
	#EVP_CTRL_CCM_GET_TAG
 
EVP_CTRL_AEAD_GET_TAG


	)

309 
	#EVP_CTRL_CCM_SET_TAG
 
EVP_CTRL_AEAD_SET_TAG


	)

310 
	#EVP_CTRL_CCM_SET_IV_FIXED
 
EVP_CTRL_AEAD_SET_IV_FIXED


	)

311 
	#EVP_CTRL_CCM_SET_L
 0x14

	)

312 
	#EVP_CTRL_CCM_SET_MSGLEN
 0x15

	)

318 
	#EVP_CTRL_AEAD_TLS1_AAD
 0x16

	)

320 
	#EVP_CTRL_AEAD_SET_MAC_KEY
 0x17

	)

322 
	#EVP_CTRL_GCM_SET_IV_INV
 0x18

	)

324 
	#EVP_CTRL_TLS1_1_MULTIBLOCK_AAD
 0x19

	)

325 
	#EVP_CTRL_TLS1_1_MULTIBLOCK_ENCRYPT
 0x1a

	)

326 
	#EVP_CTRL_TLS1_1_MULTIBLOCK_DECRYPT
 0x1b

	)

327 
	#EVP_CTRL_TLS1_1_MULTIBLOCK_MAX_BUFSIZE
 0x1c

	)

329 
	#EVP_CTRL_SSL3_MASTER_SECRET
 0x1d

	)

332 
	#EVP_CTRL_SET_SBOX
 0x1e

	)

337 
	#EVP_CTRL_SBOX_USED
 0x1f

	)

341 
	#EVP_CTRL_KEY_MESH
 0x20

	)

343 
	#EVP_CTRL_BLOCK_PADDING_MODE
 0x21

	)

346 
	#EVP_CTRL_SET_PIPELINE_OUTPUT_BUFS
 0x22

	)

348 
	#EVP_CTRL_SET_PIPELINE_INPUT_BUFS
 0x23

	)

350 
	#EVP_CTRL_SET_PIPELINE_INPUT_LENS
 0x24

	)

353 
	#EVP_PADDING_PKCS7
 1

	)

354 
	#EVP_PADDING_ISO7816_4
 2

	)

355 
	#EVP_PADDING_ANSI923
 3

	)

356 
	#EVP_PADDING_ISO10126
 4

	)

357 
	#EVP_PADDING_ZERO
 5

	)

360 
	#EVP_AEAD_TLS1_AAD_LEN
 13

	)

363 *
out
;

364 cÚ¡ *
šp
;

365 
size_t
 
Ën
;

366 
š‹¾—ve
;

367 } 
	tEVP_CTRL_TLS1_1_MULTIBLOCK_PARAM
;

371 
	#EVP_GCM_TLS_FIXED_IV_LEN
 4

	)

373 
	#EVP_GCM_TLS_EXPLICIT_IV_LEN
 8

	)

375 
	#EVP_GCM_TLS_TAG_LEN
 16

	)

379 
	#EVP_CCM_TLS_FIXED_IV_LEN
 4

	)

381 
	#EVP_CCM_TLS_EXPLICIT_IV_LEN
 8

	)

383 
	#EVP_CCM_TLS_IV_LEN
 12

	)

385 
	#EVP_CCM_TLS_TAG_LEN
 16

	)

387 
	#EVP_CCM8_TLS_TAG_LEN
 8

	)

390 
	#EVP_CHACHAPOLY_TLS_TAG_LEN
 16

	)

392 
	sevp_ch”_šfo_¡
 {

393 cÚ¡ 
EVP_CIPHER
 *
ch”
;

394 
iv
[
EVP_MAX_IV_LENGTH
];

395 } 
	tEVP_CIPHER_INFO
;

399 (
EVP_PBE_KEYGEN
è(
	tEVP_CIPHER_CTX
 *
	tùx
, cÚ¡ *
	t·ss
,

400 
	t·s¦’
, 
	tASN1_TYPE
 *
	t·¿m
,

401 cÚ¡ 
	tEVP_CIPHER
 *
	tch”
, cÚ¡ 
	tEVP_MD
 *
	tmd
,

402 
	t’_de
);

404 #iâdeà
OPENSSL_NO_RSA


405 
	#EVP_PKEY_assign_RSA
(
pkey
,
r§
è
	`EVP_PKEY_assign
(Õkey),
EVP_PKEY_RSA
,\

406 (*)(
r§
))

	)

409 #iâdeà
OPENSSL_NO_DSA


410 
	#EVP_PKEY_assign_DSA
(
pkey
,
d§
è
	`EVP_PKEY_assign
(Õkey),
EVP_PKEY_DSA
,\

411 (*)(
d§
))

	)

414 #iâdeà
OPENSSL_NO_DH


415 
	#EVP_PKEY_assign_DH
(
pkey
,
dh
è
	`EVP_PKEY_assign
(Õkey),
EVP_PKEY_DH
,\

416 (*)(
dh
))

	)

419 #iâdeà
OPENSSL_NO_EC


420 
	#EVP_PKEY_assign_EC_KEY
(
pkey
,
eckey
è
	`EVP_PKEY_assign
(Õkey),
EVP_PKEY_EC
,\

421 (*)(
eckey
))

	)

423 #iâdeà
OPENSSL_NO_SIPHASH


424 
	#EVP_PKEY_assign_SIPHASH
(
pkey
,
shkey
è
	`EVP_PKEY_assign
(Õkey),
EVP_PKEY_SIPHASH
,\

425 (*)(
shkey
))

	)

428 #iâdeà
OPENSSL_NO_POLY1305


429 
	#EVP_PKEY_assign_POLY1305
(
pkey
,
pŞykey
è
	`EVP_PKEY_assign
(Õkey),
EVP_PKEY_POLY1305
,\

430 (*)(
pŞykey
))

	)

434 
	#EVP_g‘_dige¡bynid
(
a
è
	`EVP_g‘_dige¡byÇme
(
	`OBJ_nid2¢
×))

	)

435 
	#EVP_g‘_dige¡byobj
(
a
è
	`EVP_g‘_dige¡bynid
(
	`OBJ_obj2nid
×))

	)

436 
	#EVP_g‘_ch”bynid
(
a
è
	`EVP_g‘_ch”byÇme
(
	`OBJ_nid2¢
×))

	)

437 
	#EVP_g‘_ch”byobj
(
a
è
	`EVP_g‘_ch”bynid
(
	`OBJ_obj2nid
×))

	)

439 
EVP_MD_ty³
(cÚ¡ 
EVP_MD
 *
md
);

440 
	#EVP_MD_nid
(
e
è
	`EVP_MD_ty³
Ó)

	)

441 
	#EVP_MD_Çme
(
e
è
	`OBJ_nid2¢
(
	`EVP_MD_nid
Ó))

	)

442 
EVP_MD_pkey_ty³
(cÚ¡ 
EVP_MD
 *
md
);

443 
EVP_MD_size
(cÚ¡ 
EVP_MD
 *
md
);

444 
EVP_MD_block_size
(cÚ¡ 
EVP_MD
 *
md
);

445 
EVP_MD_æags
(cÚ¡ 
EVP_MD
 *
md
);

447 cÚ¡ 
EVP_MD
 *
EVP_MD_CTX_md
(cÚ¡ 
EVP_MD_CTX
 *
ùx
);

448 (*
EVP_MD_CTX_upd©e_â
(
EVP_MD_CTX
 *
ùx
))(EVP_MD_CTX *ctx,

449 cÚ¡ *
d©a
, 
size_t
 
couÁ
);

450 
EVP_MD_CTX_£t_upd©e_â
(
EVP_MD_CTX
 *
ùx
,

451 (*
upd©e
è(
EVP_MD_CTX
 *
ùx
,

452 cÚ¡ *
d©a
, 
size_t
 
couÁ
));

453 
	#EVP_MD_CTX_size
(
e
è
	`EVP_MD_size
(
	`EVP_MD_CTX_md
Ó))

	)

454 
	#EVP_MD_CTX_block_size
(
e
è
	`EVP_MD_block_size
(
	`EVP_MD_CTX_md
Ó))

	)

455 
	#EVP_MD_CTX_ty³
(
e
è
	`EVP_MD_ty³
(
	`EVP_MD_CTX_md
Ó))

	)

456 
EVP_PKEY_CTX
 *
EVP_MD_CTX_pkey_ùx
(cÚ¡ 
EVP_MD_CTX
 *
ùx
);

457 
EVP_MD_CTX_£t_pkey_ùx
(
EVP_MD_CTX
 *
ùx
, 
EVP_PKEY_CTX
 *
pùx
);

458 *
EVP_MD_CTX_md_d©a
(cÚ¡ 
EVP_MD_CTX
 *
ùx
);

460 
EVP_CIPHER_nid
(cÚ¡ 
EVP_CIPHER
 *
ch”
);

461 
	#EVP_CIPHER_Çme
(
e
è
	`OBJ_nid2¢
(
	`EVP_CIPHER_nid
Ó))

	)

462 
EVP_CIPHER_block_size
(cÚ¡ 
EVP_CIPHER
 *
ch”
);

463 
EVP_CIPHER_im¶_ùx_size
(cÚ¡ 
EVP_CIPHER
 *
ch”
);

464 
EVP_CIPHER_key_Ëngth
(cÚ¡ 
EVP_CIPHER
 *
ch”
);

465 
EVP_CIPHER_iv_Ëngth
(cÚ¡ 
EVP_CIPHER
 *
ch”
);

466 
EVP_CIPHER_æags
(cÚ¡ 
EVP_CIPHER
 *
ch”
);

467 
	#EVP_CIPHER_mode
(
e
è(
	`EVP_CIPHER_æags
Óè& 
EVP_CIPH_MODE
)

	)

469 cÚ¡ 
EVP_CIPHER
 *
EVP_CIPHER_CTX_ch”
(cÚ¡ 
EVP_CIPHER_CTX
 *
ùx
);

470 
EVP_CIPHER_CTX_’üy±šg
(cÚ¡ 
EVP_CIPHER_CTX
 *
ùx
);

471 
EVP_CIPHER_CTX_nid
(cÚ¡ 
EVP_CIPHER_CTX
 *
ùx
);

472 
EVP_CIPHER_CTX_block_size
(cÚ¡ 
EVP_CIPHER_CTX
 *
ùx
);

473 
EVP_CIPHER_CTX_key_Ëngth
(cÚ¡ 
EVP_CIPHER_CTX
 *
ùx
);

474 
EVP_CIPHER_CTX_iv_Ëngth
(cÚ¡ 
EVP_CIPHER_CTX
 *
ùx
);

475 cÚ¡ *
EVP_CIPHER_CTX_iv
(cÚ¡ 
EVP_CIPHER_CTX
 *
ùx
);

476 cÚ¡ *
EVP_CIPHER_CTX_Üigš®_iv
(cÚ¡ 
EVP_CIPHER_CTX
 *
ùx
);

477 *
EVP_CIPHER_CTX_iv_nocÚ¡
(
EVP_CIPHER_CTX
 *
ùx
);

478 *
EVP_CIPHER_CTX_buf_nocÚ¡
(
EVP_CIPHER_CTX
 *
ùx
);

479 
EVP_CIPHER_CTX_num
(cÚ¡ 
EVP_CIPHER_CTX
 *
ùx
);

480 
EVP_CIPHER_CTX_£t_num
(
EVP_CIPHER_CTX
 *
ùx
, 
num
);

481 
EVP_CIPHER_CTX_cİy
(
EVP_CIPHER_CTX
 *
out
, cÚ¡ EVP_CIPHER_CTX *
š
);

482 *
EVP_CIPHER_CTX_g‘_­p_d©a
(cÚ¡ 
EVP_CIPHER_CTX
 *
ùx
);

483 
EVP_CIPHER_CTX_£t_­p_d©a
(
EVP_CIPHER_CTX
 *
ùx
, *
d©a
);

484 *
EVP_CIPHER_CTX_g‘_ch”_d©a
(cÚ¡ 
EVP_CIPHER_CTX
 *
ùx
);

485 *
EVP_CIPHER_CTX_£t_ch”_d©a
(
EVP_CIPHER_CTX
 *
ùx
, *
ch”_d©a
);

486 
	#EVP_CIPHER_CTX_ty³
(
c
è
	`EVP_CIPHER_ty³
(
	`EVP_CIPHER_CTX_ch”
(c))

	)

487 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

488 
	#EVP_CIPHER_CTX_æags
(
c
è
	`EVP_CIPHER_æags
(
	`EVP_CIPHER_CTX_ch”
(c))

	)

490 
	#EVP_CIPHER_CTX_mode
(
c
è
	`EVP_CIPHER_mode
(
	`EVP_CIPHER_CTX_ch”
(c))

	)

492 
	#EVP_ENCODE_LENGTH
(
l
è(((Ö)+2)/3*4)+(Ö)/48+1)*2+80)

	)

493 
	#EVP_DECODE_LENGTH
(
l
è((Ö)+3)/4*3+80)

	)

495 
	#EVP_SignIn™_ex
(
a
,
b
,
c
è
	`EVP_Dige¡In™_ex
×,b,c)

	)

496 
	#EVP_SignIn™
(
a
,
b
è
	`EVP_Dige¡In™
×,b)

	)

497 
	#EVP_SignUpd©e
(
a
,
b
,
c
è
	`EVP_Dige¡Upd©e
×,b,c)

	)

498 
	#EVP_V”ifyIn™_ex
(
a
,
b
,
c
è
	`EVP_Dige¡In™_ex
×,b,c)

	)

499 
	#EVP_V”ifyIn™
(
a
,
b
è
	`EVP_Dige¡In™
×,b)

	)

500 
	#EVP_V”ifyUpd©e
(
a
,
b
,
c
è
	`EVP_Dige¡Upd©e
×,b,c)

	)

501 
	#EVP_O³nUpd©e
(
a
,
b
,
c
,
d
,
e
è
	`EVP_Deüy±Upd©e
×,b,c,d,e)

	)

502 
	#EVP_S—lUpd©e
(
a
,
b
,
c
,
d
,
e
è
	`EVP_Enüy±Upd©e
×,b,c,d,e)

	)

503 
	#EVP_Dige¡SignUpd©e
(
a
,
b
,
c
è
	`EVP_Dige¡Upd©e
×,b,c)

	)

504 
	#EVP_Dige¡V”ifyUpd©e
(
a
,
b
,
c
è
	`EVP_Dige¡Upd©e
×,b,c)

	)

506 #ifdeà
CONST_STRICT


507 
BIO_£t_md
(
BIO
 *, cÚ¡ 
EVP_MD
 *
md
);

509 
	#BIO_£t_md
(
b
,
md
è
	`BIO_ù¾
(b,
BIO_C_SET_MD
,0,(*)(md))

	)

511 
	#BIO_g‘_md
(
b
,
mdp
è
	`BIO_ù¾
(b,
BIO_C_GET_MD
,0,(*)(mdp))

	)

512 
	#BIO_g‘_md_ùx
(
b
,
mdı
è
	`BIO_ù¾
(b,
BIO_C_GET_MD_CTX
,0, \

513 (*)(
mdı
))

	)

514 
	#BIO_£t_md_ùx
(
b
,
mdı
è
	`BIO_ù¾
(b,
BIO_C_SET_MD_CTX
,0, \

515 (*)(
mdı
))

	)

516 
	#BIO_g‘_ch”_¡©us
(
b
è
	`BIO_ù¾
(b,
BIO_C_GET_CIPHER_STATUS
,0,
NULL
)

	)

517 
	#BIO_g‘_ch”_ùx
(
b
,
c_µ
è
	`BIO_ù¾
(b,
BIO_C_GET_CIPHER_CTX
,0, \

518 (*)(
c_µ
))

	)

520  
EVP_Ch”
(
EVP_CIPHER_CTX
 *
c
,

521 *
out
,

522 cÚ¡ *
š
, 
šl
);

524 
	#EVP_add_ch”_®Ÿs
(
n
,
®Ÿs
) \

525 
	`OBJ_NAME_add
((
®Ÿs
),
OBJ_NAME_TYPE_CIPHER_METH
|
OBJ_NAME_ALIAS
,(
n
))

	)

526 
	#EVP_add_dige¡_®Ÿs
(
n
,
®Ÿs
) \

527 
	`OBJ_NAME_add
((
®Ÿs
),
OBJ_NAME_TYPE_MD_METH
|
OBJ_NAME_ALIAS
,(
n
))

	)

528 
	#EVP_d–‘e_ch”_®Ÿs
(
®Ÿs
) \

529 
	`OBJ_NAME_»move
(
®Ÿs
,
OBJ_NAME_TYPE_CIPHER_METH
|
OBJ_NAME_ALIAS
);

	)

530 
	#EVP_d–‘e_dige¡_®Ÿs
(
®Ÿs
) \

531 
	`OBJ_NAME_»move
(
®Ÿs
,
OBJ_NAME_TYPE_MD_METH
|
OBJ_NAME_ALIAS
);

	)

533 
EVP_MD_CTX_ù¾
(
EVP_MD_CTX
 *
ùx
, 
cmd
, 
p1
, *
p2
);

534 
EVP_MD_CTX
 *
EVP_MD_CTX_Ãw
();

535 
EVP_MD_CTX_»£t
(
EVP_MD_CTX
 *
ùx
);

536 
EVP_MD_CTX_ä“
(
EVP_MD_CTX
 *
ùx
);

537 
	#EVP_MD_CTX_ü—‹
(è
	`EVP_MD_CTX_Ãw
()

	)

538 
	#EVP_MD_CTX_š™
(
ùx
è
	`EVP_MD_CTX_»£t
((ùx))

	)

539 
	#EVP_MD_CTX_de¡roy
(
ùx
è
	`EVP_MD_CTX_ä“
((ùx))

	)

540 
__owur
 
EVP_MD_CTX_cİy_ex
(
EVP_MD_CTX
 *
out
, cÚ¡ EVP_MD_CTX *
š
);

541 
EVP_MD_CTX_£t_æags
(
EVP_MD_CTX
 *
ùx
, 
æags
);

542 
EVP_MD_CTX_ş—r_æags
(
EVP_MD_CTX
 *
ùx
, 
æags
);

543 
EVP_MD_CTX_‹¡_æags
(cÚ¡ 
EVP_MD_CTX
 *
ùx
, 
æags
);

544 
__owur
 
EVP_Dige¡In™_ex
(
EVP_MD_CTX
 *
ùx
, cÚ¡ 
EVP_MD
 *
ty³
,

545 
ENGINE
 *
im¶
);

546 
__owur
 
EVP_Dige¡Upd©e
(
EVP_MD_CTX
 *
ùx
, cÚ¡ *
d
,

547 
size_t
 
út
);

548 
__owur
 
EVP_Dige¡Fš®_ex
(
EVP_MD_CTX
 *
ùx
, *
md
,

549 *
s
);

550 
__owur
 
EVP_Dige¡
(cÚ¡ *
d©a
, 
size_t
 
couÁ
,

551 *
md
, *
size
,

552 cÚ¡ 
EVP_MD
 *
ty³
, 
ENGINE
 *
im¶
);

554 
__owur
 
EVP_MD_CTX_cİy
(
EVP_MD_CTX
 *
out
, cÚ¡ EVP_MD_CTX *
š
);

555 
__owur
 
EVP_Dige¡In™
(
EVP_MD_CTX
 *
ùx
, cÚ¡ 
EVP_MD
 *
ty³
);

556 
__owur
 
EVP_Dige¡Fš®
(
EVP_MD_CTX
 *
ùx
, *
md
,

557 *
s
);

558 
__owur
 
EVP_Dige¡Fš®XOF
(
EVP_MD_CTX
 *
ùx
, *
md
,

559 
size_t
 
Ën
);

561 
EVP_»ad_pw_¡ršg
(*
buf
, 
Ëngth
, cÚ¡ *
´om±
, 
v”ify
);

562 
EVP_»ad_pw_¡ršg_mš
(*
buf
, 
mšËn
, 
maxËn
,

563 cÚ¡ *
´om±
, 
v”ify
);

564 
EVP_£t_pw_´om±
(cÚ¡ *
´om±
);

565 *
EVP_g‘_pw_´om±
();

567 
__owur
 
EVP_By‹sToKey
(cÚ¡ 
EVP_CIPHER
 *
ty³
, cÚ¡ 
EVP_MD
 *
md
,

568 cÚ¡ *
§É
,

569 cÚ¡ *
d©a
, 
d©®
, 
couÁ
,

570 *
key
, *
iv
);

572 
EVP_CIPHER_CTX_£t_æags
(
EVP_CIPHER_CTX
 *
ùx
, 
æags
);

573 
EVP_CIPHER_CTX_ş—r_æags
(
EVP_CIPHER_CTX
 *
ùx
, 
æags
);

574 
EVP_CIPHER_CTX_‹¡_æags
(cÚ¡ 
EVP_CIPHER_CTX
 *
ùx
, 
æags
);

576 
__owur
 
EVP_Enüy±In™
(
EVP_CIPHER_CTX
 *
ùx
, cÚ¡ 
EVP_CIPHER
 *
ch”
,

577 cÚ¡ *
key
, cÚ¡ *
iv
);

578  
EVP_Enüy±In™_ex
(
EVP_CIPHER_CTX
 *
ùx
,

579 cÚ¡ 
EVP_CIPHER
 *
ch”
, 
ENGINE
 *
im¶
,

580 cÚ¡ *
key
,

581 cÚ¡ *
iv
);

582  
EVP_Enüy±Upd©e
(
EVP_CIPHER_CTX
 *
ùx
, *
out
,

583 *
ou
, cÚ¡ *
š
, 
šl
);

584  
EVP_Enüy±Fš®_ex
(
EVP_CIPHER_CTX
 *
ùx
, *
out
,

585 *
ou
);

586  
EVP_Enüy±Fš®
(
EVP_CIPHER_CTX
 *
ùx
, *
out
,

587 *
ou
);

589 
__owur
 
EVP_Deüy±In™
(
EVP_CIPHER_CTX
 *
ùx
, cÚ¡ 
EVP_CIPHER
 *
ch”
,

590 cÚ¡ *
key
, cÚ¡ *
iv
);

591  
EVP_Deüy±In™_ex
(
EVP_CIPHER_CTX
 *
ùx
,

592 cÚ¡ 
EVP_CIPHER
 *
ch”
, 
ENGINE
 *
im¶
,

593 cÚ¡ *
key
,

594 cÚ¡ *
iv
);

595  
EVP_Deüy±Upd©e
(
EVP_CIPHER_CTX
 *
ùx
, *
out
,

596 *
ou
, cÚ¡ *
š
, 
šl
);

597 
__owur
 
EVP_Deüy±Fš®
(
EVP_CIPHER_CTX
 *
ùx
, *
outm
,

598 *
ou
);

599  
EVP_Deüy±Fš®_ex
(
EVP_CIPHER_CTX
 *
ùx
, *
outm
,

600 *
ou
);

602 
__owur
 
EVP_Ch”In™
(
EVP_CIPHER_CTX
 *
ùx
, cÚ¡ 
EVP_CIPHER
 *
ch”
,

603 cÚ¡ *
key
, cÚ¡ *
iv
,

604 
’c
);

605  
EVP_Ch”In™_ex
(
EVP_CIPHER_CTX
 *
ùx
,

606 cÚ¡ 
EVP_CIPHER
 *
ch”
, 
ENGINE
 *
im¶
,

607 cÚ¡ *
key
,

608 cÚ¡ *
iv
, 
’c
);

609 
__owur
 
EVP_Ch”Upd©e
(
EVP_CIPHER_CTX
 *
ùx
, *
out
,

610 *
ou
, cÚ¡ *
š
, 
šl
);

611 
__owur
 
EVP_Ch”Fš®
(
EVP_CIPHER_CTX
 *
ùx
, *
outm
,

612 *
ou
);

613 
__owur
 
EVP_Ch”Fš®_ex
(
EVP_CIPHER_CTX
 *
ùx
, *
outm
,

614 *
ou
);

616 
__owur
 
EVP_SignFš®
(
EVP_MD_CTX
 *
ùx
, *
md
, *
s
,

617 
EVP_PKEY
 *
pkey
);

619 
__owur
 
EVP_Dige¡Sign
(
EVP_MD_CTX
 *
ùx
, *
sig»t
,

620 
size_t
 *
sigËn
, cÚ¡ *
tbs
,

621 
size_t
 
tb¦’
);

623 
__owur
 
EVP_V”ifyFš®
(
EVP_MD_CTX
 *
ùx
, cÚ¡ *
sigbuf
,

624 
sigËn
, 
EVP_PKEY
 *
pkey
);

626 
__owur
 
EVP_Dige¡V”ify
(
EVP_MD_CTX
 *
ùx
, cÚ¡ *
sig»t
,

627 
size_t
 
sigËn
, cÚ¡ *
tbs
,

628 
size_t
 
tb¦’
);

630  
EVP_Dige¡SignIn™
(
EVP_MD_CTX
 *
ùx
, 
EVP_PKEY_CTX
 **
pùx
,

631 cÚ¡ 
EVP_MD
 *
ty³
, 
ENGINE
 *
e
,

632 
EVP_PKEY
 *
pkey
);

633 
__owur
 
EVP_Dige¡SignFš®
(
EVP_MD_CTX
 *
ùx
, *
sig»t
,

634 
size_t
 *
sigËn
);

636 
__owur
 
EVP_Dige¡V”ifyIn™
(
EVP_MD_CTX
 *
ùx
, 
EVP_PKEY_CTX
 **
pùx
,

637 cÚ¡ 
EVP_MD
 *
ty³
, 
ENGINE
 *
e
,

638 
EVP_PKEY
 *
pkey
);

639 
__owur
 
EVP_Dige¡V”ifyFš®
(
EVP_MD_CTX
 *
ùx
, cÚ¡ *
sig
,

640 
size_t
 
sigËn
);

642 #iâdeà
OPENSSL_NO_RSA


643 
__owur
 
EVP_O³nIn™
(
EVP_CIPHER_CTX
 *
ùx
, cÚ¡ 
EVP_CIPHER
 *
ty³
,

644 cÚ¡ *
ek
, 
ekl
,

645 cÚ¡ *
iv
, 
EVP_PKEY
 *
´iv
);

646 
__owur
 
EVP_O³nFš®
(
EVP_CIPHER_CTX
 *
ùx
, *
out
, *
ou
);

648 
__owur
 
EVP_S—lIn™
(
EVP_CIPHER_CTX
 *
ùx
, cÚ¡ 
EVP_CIPHER
 *
ty³
,

649 **
ek
, *
ekl
, *
iv
,

650 
EVP_PKEY
 **
pubk
, 
Åubk
);

651 
__owur
 
EVP_S—lFš®
(
EVP_CIPHER_CTX
 *
ùx
, *
out
, *
ou
);

654 
EVP_ENCODE_CTX
 *
EVP_ENCODE_CTX_Ãw
();

655 
EVP_ENCODE_CTX_ä“
(
EVP_ENCODE_CTX
 *
ùx
);

656 
EVP_ENCODE_CTX_cİy
(
EVP_ENCODE_CTX
 *
dùx
, EVP_ENCODE_CTX *
sùx
);

657 
EVP_ENCODE_CTX_num
(
EVP_ENCODE_CTX
 *
ùx
);

658 
EVP_EncodeIn™
(
EVP_ENCODE_CTX
 *
ùx
);

659 
EVP_EncodeUpd©e
(
EVP_ENCODE_CTX
 *
ùx
, *
out
, *
ou
,

660 cÚ¡ *
š
, 
šl
);

661 
EVP_EncodeFš®
(
EVP_ENCODE_CTX
 *
ùx
, *
out
, *
ou
);

662 
EVP_EncodeBlock
(*
t
, cÚ¡ *
f
, 
n
);

664 
EVP_DecodeIn™
(
EVP_ENCODE_CTX
 *
ùx
);

665 
EVP_DecodeUpd©e
(
EVP_ENCODE_CTX
 *
ùx
, *
out
, *
ou
,

666 cÚ¡ *
š
, 
šl
);

667 
EVP_DecodeFš®
(
EVP_ENCODE_CTX
 *
ùx
, 

668 *
out
, *
ou
);

669 
EVP_DecodeBlock
(*
t
, cÚ¡ *
f
, 
n
);

671 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

672 
	#EVP_CIPHER_CTX_š™
(
c
è
	`EVP_CIPHER_CTX_»£t
(c)

	)

673 
	#EVP_CIPHER_CTX_ş—nup
(
c
è
	`EVP_CIPHER_CTX_»£t
(c)

	)

675 
EVP_CIPHER_CTX
 *
EVP_CIPHER_CTX_Ãw
();

676 
EVP_CIPHER_CTX_»£t
(
EVP_CIPHER_CTX
 *
c
);

677 
EVP_CIPHER_CTX_ä“
(
EVP_CIPHER_CTX
 *
c
);

678 
EVP_CIPHER_CTX_£t_key_Ëngth
(
EVP_CIPHER_CTX
 *
x
, 
keyËn
);

679 
EVP_CIPHER_CTX_£t_·ddšg
(
EVP_CIPHER_CTX
 *
c
, 
·d
);

680 
EVP_CIPHER_CTX_ù¾
(
EVP_CIPHER_CTX
 *
ùx
, 
ty³
, 
¬g
, *
±r
);

681 
EVP_CIPHER_CTX_¿nd_key
(
EVP_CIPHER_CTX
 *
ùx
, *
key
);

683 cÚ¡ 
BIO_METHOD
 *
BIO_f_md
();

684 cÚ¡ 
BIO_METHOD
 *
BIO_f_ba£64
();

685 cÚ¡ 
BIO_METHOD
 *
BIO_f_ch”
();

686 cÚ¡ 
BIO_METHOD
 *
BIO_f_»lŸbË
();

687 
__owur
 
BIO_£t_ch”
(
BIO
 *
b
, cÚ¡ 
EVP_CIPHER
 *
c
, cÚ¡ *
k
,

688 cÚ¡ *
i
, 
’c
);

690 cÚ¡ 
EVP_MD
 *
EVP_md_nuÎ
();

691 #iâdeà
OPENSSL_NO_MD2


692 cÚ¡ 
EVP_MD
 *
EVP_md2
();

694 #iâdeà
OPENSSL_NO_MD4


695 cÚ¡ 
EVP_MD
 *
EVP_md4
();

697 #iâdeà
OPENSSL_NO_MD5


698 cÚ¡ 
EVP_MD
 *
EVP_md5
();

699 cÚ¡ 
EVP_MD
 *
EVP_md5_sha1
();

701 #iâdeà
OPENSSL_NO_BLAKE2


702 cÚ¡ 
EVP_MD
 *
EVP_bÏke2b512
();

703 cÚ¡ 
EVP_MD
 *
EVP_bÏke2s256
();

705 cÚ¡ 
EVP_MD
 *
EVP_sha1
();

706 cÚ¡ 
EVP_MD
 *
EVP_sha224
();

707 cÚ¡ 
EVP_MD
 *
EVP_sha256
();

708 cÚ¡ 
EVP_MD
 *
EVP_sha384
();

709 cÚ¡ 
EVP_MD
 *
EVP_sha512
();

710 cÚ¡ 
EVP_MD
 *
EVP_sha512_224
();

711 cÚ¡ 
EVP_MD
 *
EVP_sha512_256
();

712 cÚ¡ 
EVP_MD
 *
EVP_sha3_224
();

713 cÚ¡ 
EVP_MD
 *
EVP_sha3_256
();

714 cÚ¡ 
EVP_MD
 *
EVP_sha3_384
();

715 cÚ¡ 
EVP_MD
 *
EVP_sha3_512
();

716 cÚ¡ 
EVP_MD
 *
EVP_shake128
();

717 cÚ¡ 
EVP_MD
 *
EVP_shake256
();

718 #iâdeà
OPENSSL_NO_MDC2


719 cÚ¡ 
EVP_MD
 *
EVP_mdc2
();

721 #iâdeà
OPENSSL_NO_RMD160


722 cÚ¡ 
EVP_MD
 *
EVP_remd160
();

724 #iâdeà
OPENSSL_NO_WHIRLPOOL


725 cÚ¡ 
EVP_MD
 *
EVP_whœÍoŞ
();

727 #iâdeà
OPENSSL_NO_SM3


728 cÚ¡ 
EVP_MD
 *
EVP_sm3
();

730 cÚ¡ 
EVP_CIPHER
 *
EVP_’c_nuÎ
();

731 #iâdeà
OPENSSL_NO_DES


732 cÚ¡ 
EVP_CIPHER
 *
EVP_des_ecb
();

733 cÚ¡ 
EVP_CIPHER
 *
EVP_des_ede
();

734 cÚ¡ 
EVP_CIPHER
 *
EVP_des_ede3
();

735 cÚ¡ 
EVP_CIPHER
 *
EVP_des_ede_ecb
();

736 cÚ¡ 
EVP_CIPHER
 *
EVP_des_ede3_ecb
();

737 cÚ¡ 
EVP_CIPHER
 *
EVP_des_cfb64
();

738 
	#EVP_des_cfb
 
EVP_des_cfb64


	)

739 cÚ¡ 
EVP_CIPHER
 *
EVP_des_cfb1
();

740 cÚ¡ 
EVP_CIPHER
 *
EVP_des_cfb8
();

741 cÚ¡ 
EVP_CIPHER
 *
EVP_des_ede_cfb64
();

742 
	#EVP_des_ede_cfb
 
EVP_des_ede_cfb64


	)

743 cÚ¡ 
EVP_CIPHER
 *
EVP_des_ede3_cfb64
();

744 
	#EVP_des_ede3_cfb
 
EVP_des_ede3_cfb64


	)

745 cÚ¡ 
EVP_CIPHER
 *
EVP_des_ede3_cfb1
();

746 cÚ¡ 
EVP_CIPHER
 *
EVP_des_ede3_cfb8
();

747 cÚ¡ 
EVP_CIPHER
 *
EVP_des_ofb
();

748 cÚ¡ 
EVP_CIPHER
 *
EVP_des_ede_ofb
();

749 cÚ¡ 
EVP_CIPHER
 *
EVP_des_ede3_ofb
();

750 cÚ¡ 
EVP_CIPHER
 *
EVP_des_cbc
();

751 cÚ¡ 
EVP_CIPHER
 *
EVP_des_ede_cbc
();

752 cÚ¡ 
EVP_CIPHER
 *
EVP_des_ede3_cbc
();

753 cÚ¡ 
EVP_CIPHER
 *
EVP_desx_cbc
();

754 cÚ¡ 
EVP_CIPHER
 *
EVP_des_ede3_w¿p
();

761 #iâdeà
OPENSSL_NO_RC4


762 cÚ¡ 
EVP_CIPHER
 *
EVP_rc4
();

763 cÚ¡ 
EVP_CIPHER
 *
EVP_rc4_40
();

764 #iâdeà
OPENSSL_NO_MD5


765 cÚ¡ 
EVP_CIPHER
 *
EVP_rc4_hmac_md5
();

768 #iâdeà
OPENSSL_NO_IDEA


769 cÚ¡ 
EVP_CIPHER
 *
EVP_id—_ecb
();

770 cÚ¡ 
EVP_CIPHER
 *
EVP_id—_cfb64
();

771 
	#EVP_id—_cfb
 
EVP_id—_cfb64


	)

772 cÚ¡ 
EVP_CIPHER
 *
EVP_id—_ofb
();

773 cÚ¡ 
EVP_CIPHER
 *
EVP_id—_cbc
();

775 #iâdeà
OPENSSL_NO_RC2


776 cÚ¡ 
EVP_CIPHER
 *
EVP_rc2_ecb
();

777 cÚ¡ 
EVP_CIPHER
 *
EVP_rc2_cbc
();

778 cÚ¡ 
EVP_CIPHER
 *
EVP_rc2_40_cbc
();

779 cÚ¡ 
EVP_CIPHER
 *
EVP_rc2_64_cbc
();

780 cÚ¡ 
EVP_CIPHER
 *
EVP_rc2_cfb64
();

781 
	#EVP_rc2_cfb
 
EVP_rc2_cfb64


	)

782 cÚ¡ 
EVP_CIPHER
 *
EVP_rc2_ofb
();

784 #iâdeà
OPENSSL_NO_BF


785 cÚ¡ 
EVP_CIPHER
 *
EVP_bf_ecb
();

786 cÚ¡ 
EVP_CIPHER
 *
EVP_bf_cbc
();

787 cÚ¡ 
EVP_CIPHER
 *
EVP_bf_cfb64
();

788 
	#EVP_bf_cfb
 
EVP_bf_cfb64


	)

789 cÚ¡ 
EVP_CIPHER
 *
EVP_bf_ofb
();

791 #iâdeà
OPENSSL_NO_CAST


792 cÚ¡ 
EVP_CIPHER
 *
EVP_ÿ¡5_ecb
();

793 cÚ¡ 
EVP_CIPHER
 *
EVP_ÿ¡5_cbc
();

794 cÚ¡ 
EVP_CIPHER
 *
EVP_ÿ¡5_cfb64
();

795 
	#EVP_ÿ¡5_cfb
 
EVP_ÿ¡5_cfb64


	)

796 cÚ¡ 
EVP_CIPHER
 *
EVP_ÿ¡5_ofb
();

798 #iâdeà
OPENSSL_NO_RC5


799 cÚ¡ 
EVP_CIPHER
 *
EVP_rc5_32_12_16_cbc
();

800 cÚ¡ 
EVP_CIPHER
 *
EVP_rc5_32_12_16_ecb
();

801 cÚ¡ 
EVP_CIPHER
 *
EVP_rc5_32_12_16_cfb64
();

802 
	#EVP_rc5_32_12_16_cfb
 
EVP_rc5_32_12_16_cfb64


	)

803 cÚ¡ 
EVP_CIPHER
 *
EVP_rc5_32_12_16_ofb
();

805 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_128_ecb
();

806 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_128_cbc
();

807 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_128_cfb1
();

808 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_128_cfb8
();

809 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_128_cfb128
();

810 
	#EVP_«s_128_cfb
 
EVP_«s_128_cfb128


	)

811 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_128_ofb
();

812 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_128_ùr
();

813 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_128_ccm
();

814 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_128_gcm
();

815 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_128_xts
();

816 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_128_w¿p
();

817 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_128_w¿p_·d
();

818 #iâdeà
OPENSSL_NO_OCB


819 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_128_ocb
();

821 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_192_ecb
();

822 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_192_cbc
();

823 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_192_cfb1
();

824 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_192_cfb8
();

825 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_192_cfb128
();

826 
	#EVP_«s_192_cfb
 
EVP_«s_192_cfb128


	)

827 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_192_ofb
();

828 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_192_ùr
();

829 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_192_ccm
();

830 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_192_gcm
();

831 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_192_w¿p
();

832 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_192_w¿p_·d
();

833 #iâdeà
OPENSSL_NO_OCB


834 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_192_ocb
();

836 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_256_ecb
();

837 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_256_cbc
();

838 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_256_cfb1
();

839 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_256_cfb8
();

840 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_256_cfb128
();

841 
	#EVP_«s_256_cfb
 
EVP_«s_256_cfb128


	)

842 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_256_ofb
();

843 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_256_ùr
();

844 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_256_ccm
();

845 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_256_gcm
();

846 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_256_xts
();

847 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_256_w¿p
();

848 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_256_w¿p_·d
();

849 #iâdeà
OPENSSL_NO_OCB


850 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_256_ocb
();

852 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_128_cbc_hmac_sha1
();

853 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_256_cbc_hmac_sha1
();

854 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_128_cbc_hmac_sha256
();

855 cÚ¡ 
EVP_CIPHER
 *
EVP_«s_256_cbc_hmac_sha256
();

856 #iâdeà
OPENSSL_NO_ARIA


857 cÚ¡ 
EVP_CIPHER
 *
EVP_¬Ÿ_128_ecb
();

858 cÚ¡ 
EVP_CIPHER
 *
EVP_¬Ÿ_128_cbc
();

859 cÚ¡ 
EVP_CIPHER
 *
EVP_¬Ÿ_128_cfb1
();

860 cÚ¡ 
EVP_CIPHER
 *
EVP_¬Ÿ_128_cfb8
();

861 cÚ¡ 
EVP_CIPHER
 *
EVP_¬Ÿ_128_cfb128
();

862 
	#EVP_¬Ÿ_128_cfb
 
EVP_¬Ÿ_128_cfb128


	)

863 cÚ¡ 
EVP_CIPHER
 *
EVP_¬Ÿ_128_ùr
();

864 cÚ¡ 
EVP_CIPHER
 *
EVP_¬Ÿ_128_ofb
();

865 cÚ¡ 
EVP_CIPHER
 *
EVP_¬Ÿ_128_gcm
();

866 cÚ¡ 
EVP_CIPHER
 *
EVP_¬Ÿ_128_ccm
();

867 cÚ¡ 
EVP_CIPHER
 *
EVP_¬Ÿ_192_ecb
();

868 cÚ¡ 
EVP_CIPHER
 *
EVP_¬Ÿ_192_cbc
();

869 cÚ¡ 
EVP_CIPHER
 *
EVP_¬Ÿ_192_cfb1
();

870 cÚ¡ 
EVP_CIPHER
 *
EVP_¬Ÿ_192_cfb8
();

871 cÚ¡ 
EVP_CIPHER
 *
EVP_¬Ÿ_192_cfb128
();

872 
	#EVP_¬Ÿ_192_cfb
 
EVP_¬Ÿ_192_cfb128


	)

873 cÚ¡ 
EVP_CIPHER
 *
EVP_¬Ÿ_192_ùr
();

874 cÚ¡ 
EVP_CIPHER
 *
EVP_¬Ÿ_192_ofb
();

875 cÚ¡ 
EVP_CIPHER
 *
EVP_¬Ÿ_192_gcm
();

876 cÚ¡ 
EVP_CIPHER
 *
EVP_¬Ÿ_192_ccm
();

877 cÚ¡ 
EVP_CIPHER
 *
EVP_¬Ÿ_256_ecb
();

878 cÚ¡ 
EVP_CIPHER
 *
EVP_¬Ÿ_256_cbc
();

879 cÚ¡ 
EVP_CIPHER
 *
EVP_¬Ÿ_256_cfb1
();

880 cÚ¡ 
EVP_CIPHER
 *
EVP_¬Ÿ_256_cfb8
();

881 cÚ¡ 
EVP_CIPHER
 *
EVP_¬Ÿ_256_cfb128
();

882 
	#EVP_¬Ÿ_256_cfb
 
EVP_¬Ÿ_256_cfb128


	)

883 cÚ¡ 
EVP_CIPHER
 *
EVP_¬Ÿ_256_ùr
();

884 cÚ¡ 
EVP_CIPHER
 *
EVP_¬Ÿ_256_ofb
();

885 cÚ¡ 
EVP_CIPHER
 *
EVP_¬Ÿ_256_gcm
();

886 cÚ¡ 
EVP_CIPHER
 *
EVP_¬Ÿ_256_ccm
();

888 #iâdeà
OPENSSL_NO_CAMELLIA


889 cÚ¡ 
EVP_CIPHER
 *
EVP_ÿm–lŸ_128_ecb
();

890 cÚ¡ 
EVP_CIPHER
 *
EVP_ÿm–lŸ_128_cbc
();

891 cÚ¡ 
EVP_CIPHER
 *
EVP_ÿm–lŸ_128_cfb1
();

892 cÚ¡ 
EVP_CIPHER
 *
EVP_ÿm–lŸ_128_cfb8
();

893 cÚ¡ 
EVP_CIPHER
 *
EVP_ÿm–lŸ_128_cfb128
();

894 
	#EVP_ÿm–lŸ_128_cfb
 
EVP_ÿm–lŸ_128_cfb128


	)

895 cÚ¡ 
EVP_CIPHER
 *
EVP_ÿm–lŸ_128_ofb
();

896 cÚ¡ 
EVP_CIPHER
 *
EVP_ÿm–lŸ_128_ùr
();

897 cÚ¡ 
EVP_CIPHER
 *
EVP_ÿm–lŸ_192_ecb
();

898 cÚ¡ 
EVP_CIPHER
 *
EVP_ÿm–lŸ_192_cbc
();

899 cÚ¡ 
EVP_CIPHER
 *
EVP_ÿm–lŸ_192_cfb1
();

900 cÚ¡ 
EVP_CIPHER
 *
EVP_ÿm–lŸ_192_cfb8
();

901 cÚ¡ 
EVP_CIPHER
 *
EVP_ÿm–lŸ_192_cfb128
();

902 
	#EVP_ÿm–lŸ_192_cfb
 
EVP_ÿm–lŸ_192_cfb128


	)

903 cÚ¡ 
EVP_CIPHER
 *
EVP_ÿm–lŸ_192_ofb
();

904 cÚ¡ 
EVP_CIPHER
 *
EVP_ÿm–lŸ_192_ùr
();

905 cÚ¡ 
EVP_CIPHER
 *
EVP_ÿm–lŸ_256_ecb
();

906 cÚ¡ 
EVP_CIPHER
 *
EVP_ÿm–lŸ_256_cbc
();

907 cÚ¡ 
EVP_CIPHER
 *
EVP_ÿm–lŸ_256_cfb1
();

908 cÚ¡ 
EVP_CIPHER
 *
EVP_ÿm–lŸ_256_cfb8
();

909 cÚ¡ 
EVP_CIPHER
 *
EVP_ÿm–lŸ_256_cfb128
();

910 
	#EVP_ÿm–lŸ_256_cfb
 
EVP_ÿm–lŸ_256_cfb128


	)

911 cÚ¡ 
EVP_CIPHER
 *
EVP_ÿm–lŸ_256_ofb
();

912 cÚ¡ 
EVP_CIPHER
 *
EVP_ÿm–lŸ_256_ùr
();

914 #iâdeà
OPENSSL_NO_CHACHA


915 cÚ¡ 
EVP_CIPHER
 *
EVP_chacha20
();

916 #iâdeà
OPENSSL_NO_POLY1305


917 cÚ¡ 
EVP_CIPHER
 *
EVP_chacha20_pŞy1305
();

921 #iâdeà
OPENSSL_NO_SEED


922 cÚ¡ 
EVP_CIPHER
 *
EVP_£ed_ecb
();

923 cÚ¡ 
EVP_CIPHER
 *
EVP_£ed_cbc
();

924 cÚ¡ 
EVP_CIPHER
 *
EVP_£ed_cfb128
();

925 
	#EVP_£ed_cfb
 
EVP_£ed_cfb128


	)

926 cÚ¡ 
EVP_CIPHER
 *
EVP_£ed_ofb
();

929 #iâdeà
OPENSSL_NO_SM4


930 cÚ¡ 
EVP_CIPHER
 *
EVP_sm4_ecb
();

931 cÚ¡ 
EVP_CIPHER
 *
EVP_sm4_cbc
();

932 cÚ¡ 
EVP_CIPHER
 *
EVP_sm4_cfb128
();

933 
	#EVP_sm4_cfb
 
EVP_sm4_cfb128


	)

934 cÚ¡ 
EVP_CIPHER
 *
EVP_sm4_ofb
();

935 cÚ¡ 
EVP_CIPHER
 *
EVP_sm4_ùr
();

938 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

939 
	#OPENSSL_add_®l_®gÜ™hms_cÚf
() \

940 
	`OPENSSL_š™_üy±o
(
OPENSSL_INIT_ADD_ALL_CIPHERS
 \

941 | 
OPENSSL_INIT_ADD_ALL_DIGESTS
 \

942 | 
OPENSSL_INIT_LOAD_CONFIG
, 
NULL
)

	)

943 
	#OPENSSL_add_®l_®gÜ™hms_nocÚf
() \

944 
	`OPENSSL_š™_üy±o
(
OPENSSL_INIT_ADD_ALL_CIPHERS
 \

945 | 
OPENSSL_INIT_ADD_ALL_DIGESTS
, 
NULL
)

	)

947 #ifdeà
OPENSSL_LOAD_CONF


948 
	#O³nSSL_add_®l_®gÜ™hms
() \

949 
	`OPENSSL_š™_üy±o
(
OPENSSL_INIT_ADD_ALL_CIPHERS
 \

950 | 
OPENSSL_INIT_ADD_ALL_DIGESTS
 \

951 | 
OPENSSL_INIT_LOAD_CONFIG
, 
NULL
)

	)

953 
	#O³nSSL_add_®l_®gÜ™hms
() \

954 
	`OPENSSL_š™_üy±o
(
OPENSSL_INIT_ADD_ALL_CIPHERS
 \

955 | 
OPENSSL_INIT_ADD_ALL_DIGESTS
, 
NULL
)

	)

958 
	#O³nSSL_add_®l_ch”s
() \

959 
	`OPENSSL_š™_üy±o
(
OPENSSL_INIT_ADD_ALL_CIPHERS
, 
NULL
)

	)

960 
	#O³nSSL_add_®l_dige¡s
() \

961 
	`OPENSSL_š™_üy±o
(
OPENSSL_INIT_ADD_ALL_DIGESTS
, 
NULL
)

	)

963 
	#EVP_ş—nup
(è0è

	)

966 
EVP_add_ch”
(cÚ¡ 
EVP_CIPHER
 *
ch”
);

967 
EVP_add_dige¡
(cÚ¡ 
EVP_MD
 *
dige¡
);

969 cÚ¡ 
EVP_CIPHER
 *
EVP_g‘_ch”byÇme
(cÚ¡ *
Çme
);

970 cÚ¡ 
EVP_MD
 *
EVP_g‘_dige¡byÇme
(cÚ¡ *
Çme
);

972 
EVP_CIPHER_do_®l
((*
â
è(cÚ¡ 
EVP_CIPHER
 *
ch
,

973 cÚ¡ *
äom
, cÚ¡ *
to
, *
x
),

974 *
¬g
);

975 
EVP_CIPHER_do_®l_sÜ‹d
((*
â
)

976 (cÚ¡ 
EVP_CIPHER
 *
ch
, cÚ¡ *
äom
,

977 cÚ¡ *
to
, *
x
), *
¬g
);

979 
EVP_MD_do_®l
((*
â
è(cÚ¡ 
EVP_MD
 *
ch
,

980 cÚ¡ *
äom
, cÚ¡ *
to
, *
x
),

981 *
¬g
);

982 
EVP_MD_do_®l_sÜ‹d
((*
â
)

983 (cÚ¡ 
EVP_MD
 *
ch
, cÚ¡ *
äom
,

984 cÚ¡ *
to
, *
x
), *
¬g
);

986 
EVP_PKEY_deüy±_Şd
(*
dec_key
,

987 cÚ¡ *
’c_key
, 
’c_key_Ën
,

988 
EVP_PKEY
 *
´iv©e_key
);

989 
EVP_PKEY_’üy±_Şd
(*
’c_key
,

990 cÚ¡ *
key
, 
key_Ën
,

991 
EVP_PKEY
 *
pub_key
);

992 
EVP_PKEY_ty³
(
ty³
);

993 
EVP_PKEY_id
(cÚ¡ 
EVP_PKEY
 *
pkey
);

994 
EVP_PKEY_ba£_id
(cÚ¡ 
EVP_PKEY
 *
pkey
);

995 
EVP_PKEY_b™s
(cÚ¡ 
EVP_PKEY
 *
pkey
);

996 
EVP_PKEY_£cur™y_b™s
(cÚ¡ 
EVP_PKEY
 *
pkey
);

997 
EVP_PKEY_size
(
EVP_PKEY
 *
pkey
);

998 
EVP_PKEY_£t_ty³
(
EVP_PKEY
 *
pkey
, 
ty³
);

999 
EVP_PKEY_£t_ty³_¡r
(
EVP_PKEY
 *
pkey
, cÚ¡ *
¡r
, 
Ën
);

1000 
EVP_PKEY_£t_®Ÿs_ty³
(
EVP_PKEY
 *
pkey
, 
ty³
);

1001 #iâdeà
OPENSSL_NO_ENGINE


1002 
EVP_PKEY_£t1_’gše
(
EVP_PKEY
 *
pkey
, 
ENGINE
 *
e
);

1004 
EVP_PKEY_assign
(
EVP_PKEY
 *
pkey
, 
ty³
, *
key
);

1005 *
EVP_PKEY_g‘0
(cÚ¡ 
EVP_PKEY
 *
pkey
);

1006 cÚ¡ *
EVP_PKEY_g‘0_hmac
(cÚ¡ 
EVP_PKEY
 *
pkey
, 
size_t
 *
Ën
);

1007 #iâdeà
OPENSSL_NO_POLY1305


1008 cÚ¡ *
EVP_PKEY_g‘0_pŞy1305
(cÚ¡ 
EVP_PKEY
 *
pkey
, 
size_t
 *
Ën
);

1010 #iâdeà
OPENSSL_NO_SIPHASH


1011 cÚ¡ *
EVP_PKEY_g‘0_shash
(cÚ¡ 
EVP_PKEY
 *
pkey
, 
size_t
 *
Ën
);

1014 #iâdeà
OPENSSL_NO_RSA


1015 
r§_¡
;

1016 
EVP_PKEY_£t1_RSA
(
EVP_PKEY
 *
pkey
, 
r§_¡
 *
key
);

1017 
r§_¡
 *
EVP_PKEY_g‘0_RSA
(
EVP_PKEY
 *
pkey
);

1018 
r§_¡
 *
EVP_PKEY_g‘1_RSA
(
EVP_PKEY
 *
pkey
);

1020 #iâdeà
OPENSSL_NO_DSA


1021 
d§_¡
;

1022 
EVP_PKEY_£t1_DSA
(
EVP_PKEY
 *
pkey
, 
d§_¡
 *
key
);

1023 
d§_¡
 *
EVP_PKEY_g‘0_DSA
(
EVP_PKEY
 *
pkey
);

1024 
d§_¡
 *
EVP_PKEY_g‘1_DSA
(
EVP_PKEY
 *
pkey
);

1026 #iâdeà
OPENSSL_NO_DH


1027 
dh_¡
;

1028 
EVP_PKEY_£t1_DH
(
EVP_PKEY
 *
pkey
, 
dh_¡
 *
key
);

1029 
dh_¡
 *
EVP_PKEY_g‘0_DH
(
EVP_PKEY
 *
pkey
);

1030 
dh_¡
 *
EVP_PKEY_g‘1_DH
(
EVP_PKEY
 *
pkey
);

1032 #iâdeà
OPENSSL_NO_EC


1033 
ec_key_¡
;

1034 
EVP_PKEY_£t1_EC_KEY
(
EVP_PKEY
 *
pkey
, 
ec_key_¡
 *
key
);

1035 
ec_key_¡
 *
EVP_PKEY_g‘0_EC_KEY
(
EVP_PKEY
 *
pkey
);

1036 
ec_key_¡
 *
EVP_PKEY_g‘1_EC_KEY
(
EVP_PKEY
 *
pkey
);

1039 
EVP_PKEY
 *
EVP_PKEY_Ãw
();

1040 
EVP_PKEY_up_»f
(
EVP_PKEY
 *
pkey
);

1041 
EVP_PKEY_ä“
(
EVP_PKEY
 *
pkey
);

1043 
EVP_PKEY
 *
d2i_PublicKey
(
ty³
, EVP_PKEY **
a
, cÚ¡ **
µ
,

1044 
Ëngth
);

1045 
i2d_PublicKey
(
EVP_PKEY
 *
a
, **
µ
);

1047 
EVP_PKEY
 *
d2i_Priv©eKey
(
ty³
, EVP_PKEY **
a
, cÚ¡ **
µ
,

1048 
Ëngth
);

1049 
EVP_PKEY
 *
d2i_AutoPriv©eKey
(EVP_PKEY **
a
, cÚ¡ **
µ
,

1050 
Ëngth
);

1051 
i2d_Priv©eKey
(
EVP_PKEY
 *
a
, **
µ
);

1053 
EVP_PKEY_cİy_·¿m‘”s
(
EVP_PKEY
 *
to
, cÚ¡ EVP_PKEY *
äom
);

1054 
EVP_PKEY_missšg_·¿m‘”s
(cÚ¡ 
EVP_PKEY
 *
pkey
);

1055 
EVP_PKEY_§ve_·¿m‘”s
(
EVP_PKEY
 *
pkey
, 
mode
);

1056 
EVP_PKEY_cmp_·¿m‘”s
(cÚ¡ 
EVP_PKEY
 *
a
, cÚ¡ EVP_PKEY *
b
);

1058 
EVP_PKEY_cmp
(cÚ¡ 
EVP_PKEY
 *
a
, cÚ¡ EVP_PKEY *
b
);

1060 
EVP_PKEY_´št_public
(
BIO
 *
out
, cÚ¡ 
EVP_PKEY
 *
pkey
,

1061 
šd’t
, 
ASN1_PCTX
 *
pùx
);

1062 
EVP_PKEY_´št_´iv©e
(
BIO
 *
out
, cÚ¡ 
EVP_PKEY
 *
pkey
,

1063 
šd’t
, 
ASN1_PCTX
 *
pùx
);

1064 
EVP_PKEY_´št_·¿ms
(
BIO
 *
out
, cÚ¡ 
EVP_PKEY
 *
pkey
,

1065 
šd’t
, 
ASN1_PCTX
 *
pùx
);

1067 
EVP_PKEY_g‘_deçuÉ_dige¡_nid
(
EVP_PKEY
 *
pkey
, *
²id
);

1069 
EVP_PKEY_£t1_s_’codedpošt
(
EVP_PKEY
 *
pkey
,

1070 cÚ¡ *
±
, 
size_t
 
±Ën
);

1071 
size_t
 
EVP_PKEY_g‘1_s_’codedpošt
(
EVP_PKEY
 *
pkey
, **
µt
);

1073 
EVP_CIPHER_ty³
(cÚ¡ 
EVP_CIPHER
 *
ùx
);

1076 
EVP_CIPHER_·¿m_to_a¢1
(
EVP_CIPHER_CTX
 *
c
, 
ASN1_TYPE
 *
ty³
);

1077 
EVP_CIPHER_a¢1_to_·¿m
(
EVP_CIPHER_CTX
 *
c
, 
ASN1_TYPE
 *
ty³
);

1080 
EVP_CIPHER_£t_a¢1_iv
(
EVP_CIPHER_CTX
 *
c
, 
ASN1_TYPE
 *
ty³
);

1081 
EVP_CIPHER_g‘_a¢1_iv
(
EVP_CIPHER_CTX
 *
c
, 
ASN1_TYPE
 *
ty³
);

1084 
PKCS5_PBE_keyivg’
(
EVP_CIPHER_CTX
 *
ùx
, cÚ¡ *
·ss
, 
·s¦’
,

1085 
ASN1_TYPE
 *
·¿m
, cÚ¡ 
EVP_CIPHER
 *
ch”
,

1086 cÚ¡ 
EVP_MD
 *
md
, 
’_de
);

1087 
PKCS5_PBKDF2_HMAC_SHA1
(cÚ¡ *
·ss
, 
·s¦’
,

1088 cÚ¡ *
§É
, 
§ÉËn
, 
™”
,

1089 
keyËn
, *
out
);

1090 
PKCS5_PBKDF2_HMAC
(cÚ¡ *
·ss
, 
·s¦’
,

1091 cÚ¡ *
§É
, 
§ÉËn
, 
™”
,

1092 cÚ¡ 
EVP_MD
 *
dige¡
, 
keyËn
, *
out
);

1093 
PKCS5_v2_PBE_keyivg’
(
EVP_CIPHER_CTX
 *
ùx
, cÚ¡ *
·ss
, 
·s¦’
,

1094 
ASN1_TYPE
 *
·¿m
, cÚ¡ 
EVP_CIPHER
 *
ch”
,

1095 cÚ¡ 
EVP_MD
 *
md
, 
’_de
);

1097 #iâdeà
OPENSSL_NO_SCRYPT


1098 
EVP_PBE_süy±
(cÚ¡ *
·ss
, 
size_t
 
·s¦’
,

1099 cÚ¡ *
§É
, 
size_t
 
§ÉËn
,

1100 
ušt64_t
 
N
, ušt64_ˆ
r
, ušt64_ˆ
p
, ušt64_ˆ
maxmem
,

1101 *
key
, 
size_t
 
keyËn
);

1103 
PKCS5_v2_süy±_keyivg’
(
EVP_CIPHER_CTX
 *
ùx
, cÚ¡ *
·ss
,

1104 
·s¦’
, 
ASN1_TYPE
 *
·¿m
,

1105 cÚ¡ 
EVP_CIPHER
 *
c
, cÚ¡ 
EVP_MD
 *
md
, 
’_de
);

1108 
PKCS5_PBE_add
();

1110 
EVP_PBE_Ch”In™
(
ASN1_OBJECT
 *
pbe_obj
, cÚ¡ *
·ss
, 
·s¦’
,

1111 
ASN1_TYPE
 *
·¿m
, 
EVP_CIPHER_CTX
 *
ùx
, 
’_de
);

1116 
	#EVP_PBE_TYPE_OUTER
 0x0

	)

1118 
	#EVP_PBE_TYPE_PRF
 0x1

	)

1120 
	#EVP_PBE_TYPE_KDF
 0x2

	)

1122 
EVP_PBE_®g_add_ty³
(
pbe_ty³
, 
pbe_nid
, 
ch”_nid
,

1123 
md_nid
, 
EVP_PBE_KEYGEN
 *
keyg’
);

1124 
EVP_PBE_®g_add
(
nid
, cÚ¡ 
EVP_CIPHER
 *
ch”
, cÚ¡ 
EVP_MD
 *
md
,

1125 
EVP_PBE_KEYGEN
 *
keyg’
);

1126 
EVP_PBE_fšd
(
ty³
, 
pbe_nid
, *
púid
, *
pmnid
,

1127 
EVP_PBE_KEYGEN
 **
pkeyg’
);

1128 
EVP_PBE_ş—nup
();

1129 
EVP_PBE_g‘
(*
±y³
, *
µbe_nid
, 
size_t
 
num
);

1131 
	#ASN1_PKEY_ALIAS
 0x1

	)

1132 
	#ASN1_PKEY_DYNAMIC
 0x2

	)

1133 
	#ASN1_PKEY_SIGPARAM_NULL
 0x4

	)

1135 
	#ASN1_PKEY_CTRL_PKCS7_SIGN
 0x1

	)

1136 
	#ASN1_PKEY_CTRL_PKCS7_ENCRYPT
 0x2

	)

1137 
	#ASN1_PKEY_CTRL_DEFAULT_MD_NID
 0x3

	)

1138 
	#ASN1_PKEY_CTRL_CMS_SIGN
 0x5

	)

1139 
	#ASN1_PKEY_CTRL_CMS_ENVELOPE
 0x7

	)

1140 
	#ASN1_PKEY_CTRL_CMS_RI_TYPE
 0x8

	)

1142 
	#ASN1_PKEY_CTRL_SET1_TLS_ENCPT
 0x9

	)

1143 
	#ASN1_PKEY_CTRL_GET1_TLS_ENCPT
 0xa

	)

1145 
EVP_PKEY_a¢1_g‘_couÁ
();

1146 cÚ¡ 
EVP_PKEY_ASN1_METHOD
 *
EVP_PKEY_a¢1_g‘0
(
idx
);

1147 cÚ¡ 
EVP_PKEY_ASN1_METHOD
 *
EVP_PKEY_a¢1_fšd
(
ENGINE
 **
³
, 
ty³
);

1148 cÚ¡ 
EVP_PKEY_ASN1_METHOD
 *
EVP_PKEY_a¢1_fšd_¡r
(
ENGINE
 **
³
,

1149 cÚ¡ *
¡r
, 
Ën
);

1150 
EVP_PKEY_a¢1_add0
(cÚ¡ 
EVP_PKEY_ASN1_METHOD
 *
am‘h
);

1151 
EVP_PKEY_a¢1_add_®Ÿs
(
to
, 
äom
);

1152 
EVP_PKEY_a¢1_g‘0_šfo
(*
µkey_id
, *
pkey_ba£_id
,

1153 *
µkey_æags
, cÚ¡ **
pšfo
,

1154 cÚ¡ **
µem_¡r
,

1155 cÚ¡ 
EVP_PKEY_ASN1_METHOD
 *
am‘h
);

1157 cÚ¡ 
EVP_PKEY_ASN1_METHOD
 *
EVP_PKEY_g‘0_a¢1
(cÚ¡ 
EVP_PKEY
 *
pkey
);

1158 
EVP_PKEY_ASN1_METHOD
 *
EVP_PKEY_a¢1_Ãw
(
id
, 
æags
,

1159 cÚ¡ *
³m_¡r
,

1160 cÚ¡ *
šfo
);

1161 
EVP_PKEY_a¢1_cİy
(
EVP_PKEY_ASN1_METHOD
 *
d¡
,

1162 cÚ¡ 
EVP_PKEY_ASN1_METHOD
 *
¤c
);

1163 
EVP_PKEY_a¢1_ä“
(
EVP_PKEY_ASN1_METHOD
 *
am‘h
);

1164 
EVP_PKEY_a¢1_£t_public
(
EVP_PKEY_ASN1_METHOD
 *
am‘h
,

1165 (*
pub_decode
è(
EVP_PKEY
 *
pk
,

1166 
X509_PUBKEY
 *
pub
),

1167 (*
pub_’code
è(
X509_PUBKEY
 *
pub
,

1168 cÚ¡ 
EVP_PKEY
 *
pk
),

1169 (*
pub_cmp
è(cÚ¡ 
EVP_PKEY
 *
a
,

1170 cÚ¡ 
EVP_PKEY
 *
b
),

1171 (*
pub_´št
è(
BIO
 *
out
,

1172 cÚ¡ 
EVP_PKEY
 *
pkey
,

1173 
šd’t
, 
ASN1_PCTX
 *
pùx
),

1174 (*
pkey_size
è(cÚ¡ 
EVP_PKEY
 *
pk
),

1175 (*
pkey_b™s
è(cÚ¡ 
EVP_PKEY
 *
pk
));

1176 
EVP_PKEY_a¢1_£t_´iv©e
(
EVP_PKEY_ASN1_METHOD
 *
am‘h
,

1177 (*
´iv_decode
è(
EVP_PKEY
 *
pk
,

1178 cÚ¡ 
PKCS8_PRIV_KEY_INFO


1179 *
p8šf
),

1180 (*
´iv_’code
è(
PKCS8_PRIV_KEY_INFO
 *
p8
,

1181 cÚ¡ 
EVP_PKEY
 *
pk
),

1182 (*
´iv_´št
è(
BIO
 *
out
,

1183 cÚ¡ 
EVP_PKEY
 *
pkey
,

1184 
šd’t
,

1185 
ASN1_PCTX
 *
pùx
));

1186 
EVP_PKEY_a¢1_£t_·¿m
(
EVP_PKEY_ASN1_METHOD
 *
am‘h
,

1187 (*
·¿m_decode
è(
EVP_PKEY
 *
pkey
,

1188 cÚ¡ **
pd”
,

1189 
d”Ën
),

1190 (*
·¿m_’code
è(cÚ¡ 
EVP_PKEY
 *
pkey
,

1191 **
pd”
),

1192 (*
·¿m_missšg
è(cÚ¡ 
EVP_PKEY
 *
pk
),

1193 (*
·¿m_cİy
è(
EVP_PKEY
 *
to
,

1194 cÚ¡ 
EVP_PKEY
 *
äom
),

1195 (*
·¿m_cmp
è(cÚ¡ 
EVP_PKEY
 *
a
,

1196 cÚ¡ 
EVP_PKEY
 *
b
),

1197 (*
·¿m_´št
è(
BIO
 *
out
,

1198 cÚ¡ 
EVP_PKEY
 *
pkey
,

1199 
šd’t
,

1200 
ASN1_PCTX
 *
pùx
));

1202 
EVP_PKEY_a¢1_£t_ä“
(
EVP_PKEY_ASN1_METHOD
 *
am‘h
,

1203 (*
pkey_ä“
è(
EVP_PKEY
 *
pkey
));

1204 
EVP_PKEY_a¢1_£t_ù¾
(
EVP_PKEY_ASN1_METHOD
 *
am‘h
,

1205 (*
pkey_ù¾
è(
EVP_PKEY
 *
pkey
, 
İ
,

1206 
¬g1
, *
¬g2
));

1207 
EVP_PKEY_a¢1_£t_™em
(
EVP_PKEY_ASN1_METHOD
 *
am‘h
,

1208 (*
™em_v”ify
è(
EVP_MD_CTX
 *
ùx
,

1209 cÚ¡ 
ASN1_ITEM
 *
™
,

1210 *
a¢
,

1211 
X509_ALGOR
 *
a
,

1212 
ASN1_BIT_STRING
 *
sig
,

1213 
EVP_PKEY
 *
pkey
),

1214 (*
™em_sign
è(
EVP_MD_CTX
 *
ùx
,

1215 cÚ¡ 
ASN1_ITEM
 *
™
,

1216 *
a¢
,

1217 
X509_ALGOR
 *
®g1
,

1218 
X509_ALGOR
 *
®g2
,

1219 
ASN1_BIT_STRING
 *
sig
));

1221 
EVP_PKEY_a¢1_£t_sigšf
(
EVP_PKEY_ASN1_METHOD
 *
am‘h
,

1222 (*
sigšf_£t
è(
X509_SIG_INFO
 *
sigšf
,

1223 cÚ¡ 
X509_ALGOR
 *
®g
,

1224 cÚ¡ 
ASN1_STRING
 *
sig
));

1226 
EVP_PKEY_a¢1_£t_check
(
EVP_PKEY_ASN1_METHOD
 *
am‘h
,

1227 (*
pkey_check
è(cÚ¡ 
EVP_PKEY
 *
pk
));

1229 
EVP_PKEY_a¢1_£t_public_check
(
EVP_PKEY_ASN1_METHOD
 *
am‘h
,

1230 (*
pkey_pub_check
è(cÚ¡ 
EVP_PKEY
 *
pk
));

1232 
EVP_PKEY_a¢1_£t_·¿m_check
(
EVP_PKEY_ASN1_METHOD
 *
am‘h
,

1233 (*
pkey_·¿m_check
è(cÚ¡ 
EVP_PKEY
 *
pk
));

1235 
EVP_PKEY_a¢1_£t_£t_´iv_key
(
EVP_PKEY_ASN1_METHOD
 *
am‘h
,

1236 (*
£t_´iv_key
è(
EVP_PKEY
 *
pk
,

1238 *
´iv
,

1239 
size_t
 
Ën
));

1240 
EVP_PKEY_a¢1_£t_£t_pub_key
(
EVP_PKEY_ASN1_METHOD
 *
am‘h
,

1241 (*
£t_pub_key
è(
EVP_PKEY
 *
pk
,

1242 cÚ¡ *
pub
,

1243 
size_t
 
Ën
));

1244 
EVP_PKEY_a¢1_£t_g‘_´iv_key
(
EVP_PKEY_ASN1_METHOD
 *
am‘h
,

1245 (*
g‘_´iv_key
è(cÚ¡ 
EVP_PKEY
 *
pk
,

1246 *
´iv
,

1247 
size_t
 *
Ën
));

1248 
EVP_PKEY_a¢1_£t_g‘_pub_key
(
EVP_PKEY_ASN1_METHOD
 *
am‘h
,

1249 (*
g‘_pub_key
è(cÚ¡ 
EVP_PKEY
 *
pk
,

1250 *
pub
,

1251 
size_t
 *
Ën
));

1253 
EVP_PKEY_a¢1_£t_£cur™y_b™s
(
EVP_PKEY_ASN1_METHOD
 *
am‘h
,

1254 (*
pkey_£cur™y_b™s
è(cÚ¡ 
EVP_PKEY


1255 *
pk
));

1257 
	#EVP_PKEY_OP_UNDEFINED
 0

	)

1258 
	#EVP_PKEY_OP_PARAMGEN
 (1<<1)

	)

1259 
	#EVP_PKEY_OP_KEYGEN
 (1<<2)

	)

1260 
	#EVP_PKEY_OP_SIGN
 (1<<3)

	)

1261 
	#EVP_PKEY_OP_VERIFY
 (1<<4)

	)

1262 
	#EVP_PKEY_OP_VERIFYRECOVER
 (1<<5)

	)

1263 
	#EVP_PKEY_OP_SIGNCTX
 (1<<6)

	)

1264 
	#EVP_PKEY_OP_VERIFYCTX
 (1<<7)

	)

1265 
	#EVP_PKEY_OP_ENCRYPT
 (1<<8)

	)

1266 
	#EVP_PKEY_OP_DECRYPT
 (1<<9)

	)

1267 
	#EVP_PKEY_OP_DERIVE
 (1<<10)

	)

1269 
	#EVP_PKEY_OP_TYPE_SIG
 \

1270 (
EVP_PKEY_OP_SIGN
 | 
EVP_PKEY_OP_VERIFY
 | 
EVP_PKEY_OP_VERIFYRECOVER
 \

1271 | 
EVP_PKEY_OP_SIGNCTX
 | 
EVP_PKEY_OP_VERIFYCTX
)

	)

1273 
	#EVP_PKEY_OP_TYPE_CRYPT
 \

1274 (
EVP_PKEY_OP_ENCRYPT
 | 
EVP_PKEY_OP_DECRYPT
)

	)

1276 
	#EVP_PKEY_OP_TYPE_NOGEN
 \

1277 (
EVP_PKEY_OP_TYPE_SIG
 | 
EVP_PKEY_OP_TYPE_CRYPT
 | 
EVP_PKEY_OP_DERIVE
)

	)

1279 
	#EVP_PKEY_OP_TYPE_GEN
 \

1280 (
EVP_PKEY_OP_PARAMGEN
 | 
EVP_PKEY_OP_KEYGEN
)

	)

1282 
	#EVP_PKEY_CTX_£t_sigÇtu»_md
(
ùx
, 
md
) \

1283 
	`EVP_PKEY_CTX_ù¾
(
ùx
, -1, 
EVP_PKEY_OP_TYPE_SIG
, \

1284 
EVP_PKEY_CTRL_MD
, 0, (*)(
md
))

	)

1286 
	#EVP_PKEY_CTX_g‘_sigÇtu»_md
(
ùx
, 
pmd
) \

1287 
	`EVP_PKEY_CTX_ù¾
(
ùx
, -1, 
EVP_PKEY_OP_TYPE_SIG
, \

1288 
EVP_PKEY_CTRL_GET_MD
, 0, (*)(
pmd
))

	)

1290 
	#EVP_PKEY_CTX_£t_mac_key
(
ùx
, 
key
, 
Ën
) \

1291 
	`EVP_PKEY_CTX_ù¾
(
ùx
, -1, 
EVP_PKEY_OP_KEYGEN
, \

1292 
EVP_PKEY_CTRL_SET_MAC_KEY
, 
Ën
, (*)(
key
))

	)

1294 
	#EVP_PKEY_CTRL_MD
 1

	)

1295 
	#EVP_PKEY_CTRL_PEER_KEY
 2

	)

1297 
	#EVP_PKEY_CTRL_PKCS7_ENCRYPT
 3

	)

1298 
	#EVP_PKEY_CTRL_PKCS7_DECRYPT
 4

	)

1300 
	#EVP_PKEY_CTRL_PKCS7_SIGN
 5

	)

1302 
	#EVP_PKEY_CTRL_SET_MAC_KEY
 6

	)

1304 
	#EVP_PKEY_CTRL_DIGESTINIT
 7

	)

1307 
	#EVP_PKEY_CTRL_SET_IV
 8

	)

1309 
	#EVP_PKEY_CTRL_CMS_ENCRYPT
 9

	)

1310 
	#EVP_PKEY_CTRL_CMS_DECRYPT
 10

	)

1311 
	#EVP_PKEY_CTRL_CMS_SIGN
 11

	)

1313 
	#EVP_PKEY_CTRL_CIPHER
 12

	)

1315 
	#EVP_PKEY_CTRL_GET_MD
 13

	)

1317 
	#EVP_PKEY_CTRL_SET_DIGEST_SIZE
 14

	)

1319 
	#EVP_PKEY_ALG_CTRL
 0x1000

	)

1321 
	#EVP_PKEY_FLAG_AUTOARGLEN
 2

	)

1325 
	#EVP_PKEY_FLAG_SIGCTX_CUSTOM
 4

	)

1327 cÚ¡ 
EVP_PKEY_METHOD
 *
EVP_PKEY_m‘h_fšd
(
ty³
);

1328 
EVP_PKEY_METHOD
 *
EVP_PKEY_m‘h_Ãw
(
id
, 
æags
);

1329 
EVP_PKEY_m‘h_g‘0_šfo
(*
µkey_id
, *
pæags
,

1330 cÚ¡ 
EVP_PKEY_METHOD
 *
m‘h
);

1331 
EVP_PKEY_m‘h_cİy
(
EVP_PKEY_METHOD
 *
d¡
, cÚ¡ EVP_PKEY_METHOD *
¤c
);

1332 
EVP_PKEY_m‘h_ä“
(
EVP_PKEY_METHOD
 *
pm‘h
);

1333 
EVP_PKEY_m‘h_add0
(cÚ¡ 
EVP_PKEY_METHOD
 *
pm‘h
);

1334 
EVP_PKEY_m‘h_»move
(cÚ¡ 
EVP_PKEY_METHOD
 *
pm‘h
);

1335 
size_t
 
EVP_PKEY_m‘h_g‘_couÁ
();

1336 cÚ¡ 
EVP_PKEY_METHOD
 *
EVP_PKEY_m‘h_g‘0
(
size_t
 
idx
);

1338 
EVP_PKEY_CTX
 *
EVP_PKEY_CTX_Ãw
(
EVP_PKEY
 *
pkey
, 
ENGINE
 *
e
);

1339 
EVP_PKEY_CTX
 *
EVP_PKEY_CTX_Ãw_id
(
id
, 
ENGINE
 *
e
);

1340 
EVP_PKEY_CTX
 *
EVP_PKEY_CTX_dup
(EVP_PKEY_CTX *
ùx
);

1341 
EVP_PKEY_CTX_ä“
(
EVP_PKEY_CTX
 *
ùx
);

1343 
EVP_PKEY_CTX_ù¾
(
EVP_PKEY_CTX
 *
ùx
, 
keyty³
, 
İty³
,

1344 
cmd
, 
p1
, *
p2
);

1345 
EVP_PKEY_CTX_ù¾_¡r
(
EVP_PKEY_CTX
 *
ùx
, cÚ¡ *
ty³
,

1346 cÚ¡ *
v®ue
);

1347 
EVP_PKEY_CTX_ù¾_ušt64
(
EVP_PKEY_CTX
 *
ùx
, 
keyty³
, 
İty³
,

1348 
cmd
, 
ušt64_t
 
v®ue
);

1350 
EVP_PKEY_CTX_¡r2ù¾
(
EVP_PKEY_CTX
 *
ùx
, 
cmd
, cÚ¡ *
¡r
);

1351 
EVP_PKEY_CTX_hex2ù¾
(
EVP_PKEY_CTX
 *
ùx
, 
cmd
, cÚ¡ *
hex
);

1353 
EVP_PKEY_CTX_md
(
EVP_PKEY_CTX
 *
ùx
, 
İty³
, 
cmd
, cÚ¡ *
md
);

1355 
EVP_PKEY_CTX_g‘_İ”©iÚ
(
EVP_PKEY_CTX
 *
ùx
);

1356 
EVP_PKEY_CTX_£t0_keyg’_šfo
(
EVP_PKEY_CTX
 *
ùx
, *
d©
, 
d©Ën
);

1358 
EVP_PKEY
 *
EVP_PKEY_Ãw_mac_key
(
ty³
, 
ENGINE
 *
e
,

1359 cÚ¡ *
key
, 
keyËn
);

1360 
EVP_PKEY
 *
EVP_PKEY_Ãw_¿w_´iv©e_key
(
ty³
, 
ENGINE
 *
e
,

1361 cÚ¡ *
´iv
,

1362 
size_t
 
Ën
);

1363 
EVP_PKEY
 *
EVP_PKEY_Ãw_¿w_public_key
(
ty³
, 
ENGINE
 *
e
,

1364 cÚ¡ *
pub
,

1365 
size_t
 
Ën
);

1366 
EVP_PKEY_g‘_¿w_´iv©e_key
(cÚ¡ 
EVP_PKEY
 *
pkey
, *
´iv
,

1367 
size_t
 *
Ën
);

1368 
EVP_PKEY_g‘_¿w_public_key
(cÚ¡ 
EVP_PKEY
 *
pkey
, *
pub
,

1369 
size_t
 *
Ën
);

1371 
EVP_PKEY
 *
EVP_PKEY_Ãw_CMAC_key
(
ENGINE
 *
e
, cÚ¡ *
´iv
,

1372 
size_t
 
Ën
, cÚ¡ 
EVP_CIPHER
 *
ch”
);

1374 
EVP_PKEY_CTX_£t_d©a
(
EVP_PKEY_CTX
 *
ùx
, *
d©a
);

1375 *
EVP_PKEY_CTX_g‘_d©a
(
EVP_PKEY_CTX
 *
ùx
);

1376 
EVP_PKEY
 *
EVP_PKEY_CTX_g‘0_pkey
(
EVP_PKEY_CTX
 *
ùx
);

1378 
EVP_PKEY
 *
EVP_PKEY_CTX_g‘0_³”key
(
EVP_PKEY_CTX
 *
ùx
);

1380 
EVP_PKEY_CTX_£t_­p_d©a
(
EVP_PKEY_CTX
 *
ùx
, *
d©a
);

1381 *
EVP_PKEY_CTX_g‘_­p_d©a
(
EVP_PKEY_CTX
 *
ùx
);

1383 
EVP_PKEY_sign_š™
(
EVP_PKEY_CTX
 *
ùx
);

1384 
EVP_PKEY_sign
(
EVP_PKEY_CTX
 *
ùx
,

1385 *
sig
, 
size_t
 *
sigËn
,

1386 cÚ¡ *
tbs
, 
size_t
 
tb¦’
);

1387 
EVP_PKEY_v”ify_š™
(
EVP_PKEY_CTX
 *
ùx
);

1388 
EVP_PKEY_v”ify
(
EVP_PKEY_CTX
 *
ùx
,

1389 cÚ¡ *
sig
, 
size_t
 
sigËn
,

1390 cÚ¡ *
tbs
, 
size_t
 
tb¦’
);

1391 
EVP_PKEY_v”ify_»cov”_š™
(
EVP_PKEY_CTX
 *
ùx
);

1392 
EVP_PKEY_v”ify_»cov”
(
EVP_PKEY_CTX
 *
ùx
,

1393 *
rout
, 
size_t
 *
rou’
,

1394 cÚ¡ *
sig
, 
size_t
 
sigËn
);

1395 
EVP_PKEY_’üy±_š™
(
EVP_PKEY_CTX
 *
ùx
);

1396 
EVP_PKEY_’üy±
(
EVP_PKEY_CTX
 *
ùx
,

1397 *
out
, 
size_t
 *
ou’
,

1398 cÚ¡ *
š
, 
size_t
 
šËn
);

1399 
EVP_PKEY_deüy±_š™
(
EVP_PKEY_CTX
 *
ùx
);

1400 
EVP_PKEY_deüy±
(
EVP_PKEY_CTX
 *
ùx
,

1401 *
out
, 
size_t
 *
ou’
,

1402 cÚ¡ *
š
, 
size_t
 
šËn
);

1404 
EVP_PKEY_d”ive_š™
(
EVP_PKEY_CTX
 *
ùx
);

1405 
EVP_PKEY_d”ive_£t_³”
(
EVP_PKEY_CTX
 *
ùx
, 
EVP_PKEY
 *
³”
);

1406 
EVP_PKEY_d”ive
(
EVP_PKEY_CTX
 *
ùx
, *
key
, 
size_t
 *
keyËn
);

1408 
	tEVP_PKEY_g’_cb
(
	tEVP_PKEY_CTX
 *
	tùx
);

1410 
EVP_PKEY_·¿mg’_š™
(
EVP_PKEY_CTX
 *
ùx
);

1411 
EVP_PKEY_·¿mg’
(
EVP_PKEY_CTX
 *
ùx
, 
EVP_PKEY
 **
µkey
);

1412 
EVP_PKEY_keyg’_š™
(
EVP_PKEY_CTX
 *
ùx
);

1413 
EVP_PKEY_keyg’
(
EVP_PKEY_CTX
 *
ùx
, 
EVP_PKEY
 **
µkey
);

1414 
EVP_PKEY_check
(
EVP_PKEY_CTX
 *
ùx
);

1415 
EVP_PKEY_public_check
(
EVP_PKEY_CTX
 *
ùx
);

1416 
EVP_PKEY_·¿m_check
(
EVP_PKEY_CTX
 *
ùx
);

1418 
EVP_PKEY_CTX_£t_cb
(
EVP_PKEY_CTX
 *
ùx
, 
EVP_PKEY_g’_cb
 *
cb
);

1419 
EVP_PKEY_g’_cb
 *
EVP_PKEY_CTX_g‘_cb
(
EVP_PKEY_CTX
 *
ùx
);

1421 
EVP_PKEY_CTX_g‘_keyg’_šfo
(
EVP_PKEY_CTX
 *
ùx
, 
idx
);

1423 
EVP_PKEY_m‘h_£t_š™
(
EVP_PKEY_METHOD
 *
pm‘h
,

1424 (*
š™
è(
EVP_PKEY_CTX
 *
ùx
));

1426 
EVP_PKEY_m‘h_£t_cİy
(
EVP_PKEY_METHOD
 *
pm‘h
,

1427 (*
cİy
è(
EVP_PKEY_CTX
 *
d¡
,

1428 
EVP_PKEY_CTX
 *
¤c
));

1430 
EVP_PKEY_m‘h_£t_ş—nup
(
EVP_PKEY_METHOD
 *
pm‘h
,

1431 (*
ş—nup
è(
EVP_PKEY_CTX
 *
ùx
));

1433 
EVP_PKEY_m‘h_£t_·¿mg’
(
EVP_PKEY_METHOD
 *
pm‘h
,

1434 (*
·¿mg’_š™
è(
EVP_PKEY_CTX
 *
ùx
),

1435 (*
·¿mg’
è(
EVP_PKEY_CTX
 *
ùx
,

1436 
EVP_PKEY
 *
pkey
));

1438 
EVP_PKEY_m‘h_£t_keyg’
(
EVP_PKEY_METHOD
 *
pm‘h
,

1439 (*
keyg’_š™
è(
EVP_PKEY_CTX
 *
ùx
),

1440 (*
keyg’
è(
EVP_PKEY_CTX
 *
ùx
,

1441 
EVP_PKEY
 *
pkey
));

1443 
EVP_PKEY_m‘h_£t_sign
(
EVP_PKEY_METHOD
 *
pm‘h
,

1444 (*
sign_š™
è(
EVP_PKEY_CTX
 *
ùx
),

1445 (*
sign
è(
EVP_PKEY_CTX
 *
ùx
,

1446 *
sig
, 
size_t
 *
sigËn
,

1447 cÚ¡ *
tbs
,

1448 
size_t
 
tb¦’
));

1450 
EVP_PKEY_m‘h_£t_v”ify
(
EVP_PKEY_METHOD
 *
pm‘h
,

1451 (*
v”ify_š™
è(
EVP_PKEY_CTX
 *
ùx
),

1452 (*
v”ify
è(
EVP_PKEY_CTX
 *
ùx
,

1453 cÚ¡ *
sig
,

1454 
size_t
 
sigËn
,

1455 cÚ¡ *
tbs
,

1456 
size_t
 
tb¦’
));

1458 
EVP_PKEY_m‘h_£t_v”ify_»cov”
(
EVP_PKEY_METHOD
 *
pm‘h
,

1459 (*
v”ify_»cov”_š™
è(
EVP_PKEY_CTX


1460 *
ùx
),

1461 (*
v”ify_»cov”
è(
EVP_PKEY_CTX


1462 *
ùx
,

1464 *
sig
,

1465 
size_t
 *
sigËn
,

1467 *
tbs
,

1468 
size_t
 
tb¦’
));

1470 
EVP_PKEY_m‘h_£t_signùx
(
EVP_PKEY_METHOD
 *
pm‘h
,

1471 (*
signùx_š™
è(
EVP_PKEY_CTX
 *
ùx
,

1472 
EVP_MD_CTX
 *
mùx
),

1473 (*
signùx
è(
EVP_PKEY_CTX
 *
ùx
,

1474 *
sig
,

1475 
size_t
 *
sigËn
,

1476 
EVP_MD_CTX
 *
mùx
));

1478 
EVP_PKEY_m‘h_£t_v”ifyùx
(
EVP_PKEY_METHOD
 *
pm‘h
,

1479 (*
v”ifyùx_š™
è(
EVP_PKEY_CTX
 *
ùx
,

1480 
EVP_MD_CTX
 *
mùx
),

1481 (*
v”ifyùx
è(
EVP_PKEY_CTX
 *
ùx
,

1482 cÚ¡ *
sig
,

1483 
sigËn
,

1484 
EVP_MD_CTX
 *
mùx
));

1486 
EVP_PKEY_m‘h_£t_’üy±
(
EVP_PKEY_METHOD
 *
pm‘h
,

1487 (*
’üy±_š™
è(
EVP_PKEY_CTX
 *
ùx
),

1488 (*
’üy±â
è(
EVP_PKEY_CTX
 *
ùx
,

1489 *
out
,

1490 
size_t
 *
ou’
,

1491 cÚ¡ *
š
,

1492 
size_t
 
šËn
));

1494 
EVP_PKEY_m‘h_£t_deüy±
(
EVP_PKEY_METHOD
 *
pm‘h
,

1495 (*
deüy±_š™
è(
EVP_PKEY_CTX
 *
ùx
),

1496 (*
deüy±
è(
EVP_PKEY_CTX
 *
ùx
,

1497 *
out
,

1498 
size_t
 *
ou’
,

1499 cÚ¡ *
š
,

1500 
size_t
 
šËn
));

1502 
EVP_PKEY_m‘h_£t_d”ive
(
EVP_PKEY_METHOD
 *
pm‘h
,

1503 (*
d”ive_š™
è(
EVP_PKEY_CTX
 *
ùx
),

1504 (*
d”ive
è(
EVP_PKEY_CTX
 *
ùx
,

1505 *
key
,

1506 
size_t
 *
keyËn
));

1508 
EVP_PKEY_m‘h_£t_ù¾
(
EVP_PKEY_METHOD
 *
pm‘h
,

1509 (*
ù¾
è(
EVP_PKEY_CTX
 *
ùx
, 
ty³
, 
p1
,

1510 *
p2
),

1511 (*
ù¾_¡r
è(
EVP_PKEY_CTX
 *
ùx
,

1512 cÚ¡ *
ty³
,

1513 cÚ¡ *
v®ue
));

1515 
EVP_PKEY_m‘h_£t_check
(
EVP_PKEY_METHOD
 *
pm‘h
,

1516 (*
check
è(
EVP_PKEY
 *
pkey
));

1518 
EVP_PKEY_m‘h_£t_public_check
(
EVP_PKEY_METHOD
 *
pm‘h
,

1519 (*
check
è(
EVP_PKEY
 *
pkey
));

1521 
EVP_PKEY_m‘h_£t_·¿m_check
(
EVP_PKEY_METHOD
 *
pm‘h
,

1522 (*
check
è(
EVP_PKEY
 *
pkey
));

1524 
EVP_PKEY_m‘h_£t_dige¡_cu¡om
(
EVP_PKEY_METHOD
 *
pm‘h
,

1525 (*
dige¡_cu¡om
è(
EVP_PKEY_CTX
 *
ùx
,

1526 
EVP_MD_CTX
 *
mùx
));

1528 
EVP_PKEY_m‘h_g‘_š™
(cÚ¡ 
EVP_PKEY_METHOD
 *
pm‘h
,

1529 (**
pš™
è(
EVP_PKEY_CTX
 *
ùx
));

1531 
EVP_PKEY_m‘h_g‘_cİy
(cÚ¡ 
EVP_PKEY_METHOD
 *
pm‘h
,

1532 (**
pcİy
è(
EVP_PKEY_CTX
 *
d¡
,

1533 
EVP_PKEY_CTX
 *
¤c
));

1535 
EVP_PKEY_m‘h_g‘_ş—nup
(cÚ¡ 
EVP_PKEY_METHOD
 *
pm‘h
,

1536 (**
pş—nup
è(
EVP_PKEY_CTX
 *
ùx
));

1538 
EVP_PKEY_m‘h_g‘_·¿mg’
(cÚ¡ 
EVP_PKEY_METHOD
 *
pm‘h
,

1539 (**
µ¬amg’_š™
è(
EVP_PKEY_CTX
 *
ùx
),

1540 (**
µ¬amg’
è(
EVP_PKEY_CTX
 *
ùx
,

1541 
EVP_PKEY
 *
pkey
));

1543 
EVP_PKEY_m‘h_g‘_keyg’
(cÚ¡ 
EVP_PKEY_METHOD
 *
pm‘h
,

1544 (**
pkeyg’_š™
è(
EVP_PKEY_CTX
 *
ùx
),

1545 (**
pkeyg’
è(
EVP_PKEY_CTX
 *
ùx
,

1546 
EVP_PKEY
 *
pkey
));

1548 
EVP_PKEY_m‘h_g‘_sign
(cÚ¡ 
EVP_PKEY_METHOD
 *
pm‘h
,

1549 (**
psign_š™
è(
EVP_PKEY_CTX
 *
ùx
),

1550 (**
psign
è(
EVP_PKEY_CTX
 *
ùx
,

1551 *
sig
, 
size_t
 *
sigËn
,

1552 cÚ¡ *
tbs
,

1553 
size_t
 
tb¦’
));

1555 
EVP_PKEY_m‘h_g‘_v”ify
(cÚ¡ 
EVP_PKEY_METHOD
 *
pm‘h
,

1556 (**
pv”ify_š™
è(
EVP_PKEY_CTX
 *
ùx
),

1557 (**
pv”ify
è(
EVP_PKEY_CTX
 *
ùx
,

1558 cÚ¡ *
sig
,

1559 
size_t
 
sigËn
,

1560 cÚ¡ *
tbs
,

1561 
size_t
 
tb¦’
));

1563 
EVP_PKEY_m‘h_g‘_v”ify_»cov”
(cÚ¡ 
EVP_PKEY_METHOD
 *
pm‘h
,

1564 (**
pv”ify_»cov”_š™
è(
EVP_PKEY_CTX


1565 *
ùx
),

1566 (**
pv”ify_»cov”
è(
EVP_PKEY_CTX


1567 *
ùx
,

1569 *
sig
,

1570 
size_t
 *
sigËn
,

1572 *
tbs
,

1573 
size_t
 
tb¦’
));

1575 
EVP_PKEY_m‘h_g‘_signùx
(cÚ¡ 
EVP_PKEY_METHOD
 *
pm‘h
,

1576 (**
psignùx_š™
è(
EVP_PKEY_CTX
 *
ùx
,

1577 
EVP_MD_CTX
 *
mùx
),

1578 (**
psignùx
è(
EVP_PKEY_CTX
 *
ùx
,

1579 *
sig
,

1580 
size_t
 *
sigËn
,

1581 
EVP_MD_CTX
 *
mùx
));

1583 
EVP_PKEY_m‘h_g‘_v”ifyùx
(cÚ¡ 
EVP_PKEY_METHOD
 *
pm‘h
,

1584 (**
pv”ifyùx_š™
è(
EVP_PKEY_CTX
 *
ùx
,

1585 
EVP_MD_CTX
 *
mùx
),

1586 (**
pv”ifyùx
è(
EVP_PKEY_CTX
 *
ùx
,

1587 cÚ¡ *
sig
,

1588 
sigËn
,

1589 
EVP_MD_CTX
 *
mùx
));

1591 
EVP_PKEY_m‘h_g‘_’üy±
(cÚ¡ 
EVP_PKEY_METHOD
 *
pm‘h
,

1592 (**
³nüy±_š™
è(
EVP_PKEY_CTX
 *
ùx
),

1593 (**
³nüy±â
è(
EVP_PKEY_CTX
 *
ùx
,

1594 *
out
,

1595 
size_t
 *
ou’
,

1596 cÚ¡ *
š
,

1597 
size_t
 
šËn
));

1599 
EVP_PKEY_m‘h_g‘_deüy±
(cÚ¡ 
EVP_PKEY_METHOD
 *
pm‘h
,

1600 (**
pdeüy±_š™
è(
EVP_PKEY_CTX
 *
ùx
),

1601 (**
pdeüy±
è(
EVP_PKEY_CTX
 *
ùx
,

1602 *
out
,

1603 
size_t
 *
ou’
,

1604 cÚ¡ *
š
,

1605 
size_t
 
šËn
));

1607 
EVP_PKEY_m‘h_g‘_d”ive
(cÚ¡ 
EVP_PKEY_METHOD
 *
pm‘h
,

1608 (**
pd”ive_š™
è(
EVP_PKEY_CTX
 *
ùx
),

1609 (**
pd”ive
è(
EVP_PKEY_CTX
 *
ùx
,

1610 *
key
,

1611 
size_t
 *
keyËn
));

1613 
EVP_PKEY_m‘h_g‘_ù¾
(cÚ¡ 
EVP_PKEY_METHOD
 *
pm‘h
,

1614 (**
pù¾
è(
EVP_PKEY_CTX
 *
ùx
, 
ty³
, 
p1
,

1615 *
p2
),

1616 (**
pù¾_¡r
è(
EVP_PKEY_CTX
 *
ùx
,

1617 cÚ¡ *
ty³
,

1618 cÚ¡ *
v®ue
));

1620 
EVP_PKEY_m‘h_g‘_check
(cÚ¡ 
EVP_PKEY_METHOD
 *
pm‘h
,

1621 (**
pcheck
è(
EVP_PKEY
 *
pkey
));

1623 
EVP_PKEY_m‘h_g‘_public_check
(cÚ¡ 
EVP_PKEY_METHOD
 *
pm‘h
,

1624 (**
pcheck
è(
EVP_PKEY
 *
pkey
));

1626 
EVP_PKEY_m‘h_g‘_·¿m_check
(cÚ¡ 
EVP_PKEY_METHOD
 *
pm‘h
,

1627 (**
pcheck
è(
EVP_PKEY
 *
pkey
));

1629 
EVP_PKEY_m‘h_g‘_dige¡_cu¡om
(
EVP_PKEY_METHOD
 *
pm‘h
,

1630 (**
pdige¡_cu¡om
è(
EVP_PKEY_CTX
 *
ùx
,

1631 
EVP_MD_CTX
 *
mùx
));

1632 
EVP_add_®g_moduË
();

1635 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/ossl_typ.h

10 #iâdeà
HEADER_OPENSSL_TYPES_H


11 
	#HEADER_OPENSSL_TYPES_H


	)

13 
	~<lim™s.h
>

15 #ifdeà 
__ılu¥lus


19 
	~<İ’s¦/e_os2.h
>

21 #ifdeà
NO_ASN1_TYPEDEFS


22 
	#ASN1_INTEGER
 
ASN1_STRING


	)

23 
	#ASN1_ENUMERATED
 
ASN1_STRING


	)

24 
	#ASN1_BIT_STRING
 
ASN1_STRING


	)

25 
	#ASN1_OCTET_STRING
 
ASN1_STRING


	)

26 
	#ASN1_PRINTABLESTRING
 
ASN1_STRING


	)

27 
	#ASN1_T61STRING
 
ASN1_STRING


	)

28 
	#ASN1_IA5STRING
 
ASN1_STRING


	)

29 
	#ASN1_UTCTIME
 
ASN1_STRING


	)

30 
	#ASN1_GENERALIZEDTIME
 
ASN1_STRING


	)

31 
	#ASN1_TIME
 
ASN1_STRING


	)

32 
	#ASN1_GENERALSTRING
 
ASN1_STRING


	)

33 
	#ASN1_UNIVERSALSTRING
 
ASN1_STRING


	)

34 
	#ASN1_BMPSTRING
 
ASN1_STRING


	)

35 
	#ASN1_VISIBLESTRING
 
ASN1_STRING


	)

36 
	#ASN1_UTF8STRING
 
ASN1_STRING


	)

37 
	#ASN1_BOOLEAN
 

	)

38 
	#ASN1_NULL
 

	)

40 
a¢1_¡ršg_¡
 
	tASN1_INTEGER
;

41 
a¢1_¡ršg_¡
 
	tASN1_ENUMERATED
;

42 
a¢1_¡ršg_¡
 
	tASN1_BIT_STRING
;

43 
a¢1_¡ršg_¡
 
	tASN1_OCTET_STRING
;

44 
a¢1_¡ršg_¡
 
	tASN1_PRINTABLESTRING
;

45 
a¢1_¡ršg_¡
 
	tASN1_T61STRING
;

46 
a¢1_¡ršg_¡
 
	tASN1_IA5STRING
;

47 
a¢1_¡ršg_¡
 
	tASN1_GENERALSTRING
;

48 
a¢1_¡ršg_¡
 
	tASN1_UNIVERSALSTRING
;

49 
a¢1_¡ršg_¡
 
	tASN1_BMPSTRING
;

50 
a¢1_¡ršg_¡
 
	tASN1_UTCTIME
;

51 
a¢1_¡ršg_¡
 
	tASN1_TIME
;

52 
a¢1_¡ršg_¡
 
	tASN1_GENERALIZEDTIME
;

53 
a¢1_¡ršg_¡
 
	tASN1_VISIBLESTRING
;

54 
a¢1_¡ršg_¡
 
	tASN1_UTF8STRING
;

55 
a¢1_¡ršg_¡
 
	tASN1_STRING
;

56 
	tASN1_BOOLEAN
;

57 
	tASN1_NULL
;

60 
a¢1_objeù_¡
 
	tASN1_OBJECT
;

62 
ASN1_ITEM_¡
 
	tASN1_ITEM
;

63 
a¢1_pùx_¡
 
	tASN1_PCTX
;

64 
a¢1_sùx_¡
 
	tASN1_SCTX
;

66 #ifdeà
_WIN32


67 #undeà
X509_NAME


68 #undeà
X509_EXTENSIONS


69 #undeà
PKCS7_ISSUER_AND_SERIAL


70 #undeà
PKCS7_SIGNER_INFO


71 #undeà
OCSP_REQUEST


72 #undeà
OCSP_RESPONSE


75 #ifdeà
BIGNUM


76 #undeà
BIGNUM


78 
dªe_¡
;

79 
bio_¡
 
	tBIO
;

80 
bignum_¡
 
	tBIGNUM
;

81 
bignum_ùx
 
	tBN_CTX
;

82 
bn_blšdšg_¡
 
	tBN_BLINDING
;

83 
bn_mÚt_ùx_¡
 
	tBN_MONT_CTX
;

84 
bn_»ı_ùx_¡
 
	tBN_RECP_CTX
;

85 
bn_g’cb_¡
 
	tBN_GENCB
;

87 
buf_mem_¡
 
	tBUF_MEM
;

89 
evp_ch”_¡
 
	tEVP_CIPHER
;

90 
evp_ch”_ùx_¡
 
	tEVP_CIPHER_CTX
;

91 
evp_md_¡
 
	tEVP_MD
;

92 
evp_md_ùx_¡
 
	tEVP_MD_CTX
;

93 
evp_pkey_¡
 
	tEVP_PKEY
;

95 
evp_pkey_a¢1_m‘hod_¡
 
	tEVP_PKEY_ASN1_METHOD
;

97 
evp_pkey_m‘hod_¡
 
	tEVP_PKEY_METHOD
;

98 
evp_pkey_ùx_¡
 
	tEVP_PKEY_CTX
;

100 
evp_Encode_Ctx_¡
 
	tEVP_ENCODE_CTX
;

102 
hmac_ùx_¡
 
	tHMAC_CTX
;

104 
dh_¡
 
	tDH
;

105 
dh_m‘hod
 
	tDH_METHOD
;

107 
d§_¡
 
	tDSA
;

108 
d§_m‘hod
 
	tDSA_METHOD
;

110 
r§_¡
 
	tRSA
;

111 
r§_m‘h_¡
 
	tRSA_METHOD
;

113 
ec_key_¡
 
	tEC_KEY
;

114 
ec_key_m‘hod_¡
 
	tEC_KEY_METHOD
;

116 
¿nd_m‘h_¡
 
	tRAND_METHOD
;

117 
¿nd_drbg_¡
 
	tRAND_DRBG
;

119 
s¦_dªe_¡
 
	tSSL_DANE
;

120 
x509_¡
 
	tX509
;

121 
X509_®gÜ_¡
 
	tX509_ALGOR
;

122 
X509_ül_¡
 
	tX509_CRL
;

123 
x509_ül_m‘hod_¡
 
	tX509_CRL_METHOD
;

124 
x509_»voked_¡
 
	tX509_REVOKED
;

125 
X509_Çme_¡
 
	tX509_NAME
;

126 
X509_pubkey_¡
 
	tX509_PUBKEY
;

127 
x509_¡Üe_¡
 
	tX509_STORE
;

128 
x509_¡Üe_ùx_¡
 
	tX509_STORE_CTX
;

130 
x509_objeù_¡
 
	tX509_OBJECT
;

131 
x509_lookup_¡
 
	tX509_LOOKUP
;

132 
x509_lookup_m‘hod_¡
 
	tX509_LOOKUP_METHOD
;

133 
X509_VERIFY_PARAM_¡
 
	tX509_VERIFY_PARAM
;

135 
x509_sig_šfo_¡
 
	tX509_SIG_INFO
;

137 
pkcs8_´iv_key_šfo_¡
 
	tPKCS8_PRIV_KEY_INFO
;

139 
v3_ext_ùx
 
	tX509V3_CTX
;

140 
cÚf_¡
 
	tCONF
;

141 
os¦_š™_£‰šgs_¡
 
	tOPENSSL_INIT_SETTINGS
;

143 
ui_¡
 
	tUI
;

144 
ui_m‘hod_¡
 
	tUI_METHOD
;

146 
’gše_¡
 
	tENGINE
;

147 
s¦_¡
 
	tSSL
;

148 
s¦_ùx_¡
 
	tSSL_CTX
;

150 
comp_ùx_¡
 
	tCOMP_CTX
;

151 
comp_m‘hod_¡
 
	tCOMP_METHOD
;

153 
X509_POLICY_NODE_¡
 
	tX509_POLICY_NODE
;

154 
X509_POLICY_LEVEL_¡
 
	tX509_POLICY_LEVEL
;

155 
X509_POLICY_TREE_¡
 
	tX509_POLICY_TREE
;

156 
X509_POLICY_CACHE_¡
 
	tX509_POLICY_CACHE
;

158 
AUTHORITY_KEYID_¡
 
	tAUTHORITY_KEYID
;

159 
DIST_POINT_¡
 
	tDIST_POINT
;

160 
ISSUING_DIST_POINT_¡
 
	tISSUING_DIST_POINT
;

161 
NAME_CONSTRAINTS_¡
 
	tNAME_CONSTRAINTS
;

163 
üy±o_ex_d©a_¡
 
	tCRYPTO_EX_DATA
;

165 
oc¥_»q_ùx_¡
 
	tOCSP_REQ_CTX
;

166 
oc¥_»¥Ú£_¡
 
	tOCSP_RESPONSE
;

167 
oc¥_»¥Úd”_id_¡
 
	tOCSP_RESPID
;

169 
sù_¡
 
	tSCT
;

170 
sù_ùx_¡
 
	tSCT_CTX
;

171 
ùlog_¡
 
	tCTLOG
;

172 
ùlog_¡Üe_¡
 
	tCTLOG_STORE
;

173 
ù_pŞicy_ev®_ùx_¡
 
	tCT_POLICY_EVAL_CTX
;

175 
os¦_¡Üe_šfo_¡
 
	tOSSL_STORE_INFO
;

176 
os¦_¡Üe_£¬ch_¡
 
	tOSSL_STORE_SEARCH
;

178 #ià
defšed
(
__STDC_VERSION__
) && __STDC_VERSION__ >= 199901L && \

179 
defšed
(
INTMAX_MAX
è&& defšed(
UINTMAX_MAX
)

180 
štmax_t
 
	tos¦_štmax_t
;

181 
uštmax_t
 
	tos¦_uštmax_t
;

189 
	tos¦_štmax_t
;

190 
	tos¦_uštmax_t
;

193 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/pem.h

10 #iâdeà
HEADER_PEM_H


11 
	#HEADER_PEM_H


	)

13 
	~<İ’s¦/e_os2.h
>

14 
	~<İ’s¦/bio.h
>

15 
	~<İ’s¦/§ã¡ack.h
>

16 
	~<İ’s¦/evp.h
>

17 
	~<İ’s¦/x509.h
>

18 
	~<İ’s¦/³m”r.h
>

20 #ifdeà 
__ılu¥lus


24 
	#PEM_BUFSIZE
 1024

	)

26 
	#PEM_STRING_X509_OLD
 "X509 CERTIFICATE"

	)

27 
	#PEM_STRING_X509
 "CERTIFICATE"

	)

28 
	#PEM_STRING_X509_TRUSTED
 "TRUSTED CERTIFICATE"

	)

29 
	#PEM_STRING_X509_REQ_OLD
 "NEW CERTIFICATE REQUEST"

	)

30 
	#PEM_STRING_X509_REQ
 "CERTIFICATE REQUEST"

	)

31 
	#PEM_STRING_X509_CRL
 "X509 CRL"

	)

32 
	#PEM_STRING_EVP_PKEY
 "ANY PRIVATE KEY"

	)

33 
	#PEM_STRING_PUBLIC
 "PUBLIC KEY"

	)

34 
	#PEM_STRING_RSA
 "RSA PRIVATE KEY"

	)

35 
	#PEM_STRING_RSA_PUBLIC
 "RSA PUBLIC KEY"

	)

36 
	#PEM_STRING_DSA
 "DSA PRIVATE KEY"

	)

37 
	#PEM_STRING_DSA_PUBLIC
 "DSA PUBLIC KEY"

	)

38 
	#PEM_STRING_PKCS7
 "PKCS7"

	)

39 
	#PEM_STRING_PKCS7_SIGNED
 "PKCS #7 SIGNED DATA"

	)

40 
	#PEM_STRING_PKCS8
 "ENCRYPTED PRIVATE KEY"

	)

41 
	#PEM_STRING_PKCS8INF
 "PRIVATE KEY"

	)

42 
	#PEM_STRING_DHPARAMS
 "DH PARAMETERS"

	)

43 
	#PEM_STRING_DHXPARAMS
 "X9.42 DH PARAMETERS"

	)

44 
	#PEM_STRING_SSL_SESSION
 "SSL SESSION PARAMETERS"

	)

45 
	#PEM_STRING_DSAPARAMS
 "DSA PARAMETERS"

	)

46 
	#PEM_STRING_ECDSA_PUBLIC
 "ECDSA PUBLIC KEY"

	)

47 
	#PEM_STRING_ECPARAMETERS
 "EC PARAMETERS"

	)

48 
	#PEM_STRING_ECPRIVATEKEY
 "EC PRIVATE KEY"

	)

49 
	#PEM_STRING_PARAMETERS
 "PARAMETERS"

	)

50 
	#PEM_STRING_CMS
 "CMS"

	)

52 
	#PEM_TYPE_ENCRYPTED
 10

	)

53 
	#PEM_TYPE_MIC_ONLY
 20

	)

54 
	#PEM_TYPE_MIC_CLEAR
 30

	)

55 
	#PEM_TYPE_CLEAR
 40

	)

63 #ifdeà
OPENSSL_NO_STDIO


65 
	#IMPLEMENT_PEM_»ad_å
(
Çme
, 
ty³
, 
¡r
, 
a¢1
è

	)

66 
	#IMPLEMENT_PEM_wr™e_å
(
Çme
, 
ty³
, 
¡r
, 
a¢1
è

	)

67 
	#IMPLEMENT_PEM_wr™e_å_cÚ¡
(
Çme
, 
ty³
, 
¡r
, 
a¢1
è

	)

68 
	#IMPLEMENT_PEM_wr™e_cb_å
(
Çme
, 
ty³
, 
¡r
, 
a¢1
è

	)

69 
	#IMPLEMENT_PEM_wr™e_cb_å_cÚ¡
(
Çme
, 
ty³
, 
¡r
, 
a¢1
è

	)

72 
	#IMPLEMENT_PEM_»ad_å
(
Çme
, 
ty³
, 
¡r
, 
a¢1
) \

73 
ty³
 *
PEM_»ad_
##
	`Çme
(
FILE
 *
å
,y³ **
x
, 
³m_·sswÜd_cb
 *
cb
, *
u
)\

75  
	`PEM_ASN1_»ad
((
d2i_of_void
 *)
d2i_
##
a¢1
, 
¡r
,
å
,(**)
x
,
cb
,
u
); \

76 }

	)

78 
	#IMPLEMENT_PEM_wr™e_å
(
Çme
, 
ty³
, 
¡r
, 
a¢1
) \

79 
PEM_wr™e_
##
	`Çme
(
FILE
 *
å
, 
ty³
 *
x
) \

81  
	`PEM_ASN1_wr™e
((
i2d_of_void
 *)
i2d_
##
a¢1
,
¡r
,
å
,
x
,
NULL
,NULL,0,NULL,NULL); \

82 }

	)

84 
	#IMPLEMENT_PEM_wr™e_å_cÚ¡
(
Çme
, 
ty³
, 
¡r
, 
a¢1
) \

85 
PEM_wr™e_
##
	`Çme
(
FILE
 *
å
, cÚ¡ 
ty³
 *
x
) \

87  
	`PEM_ASN1_wr™e
((
i2d_of_void
 *)
i2d_
##
a¢1
,
¡r
,
å
,(*)
x
,
NULL
,NULL,0,NULL,NULL); \

88 }

	)

90 
	#IMPLEMENT_PEM_wr™e_cb_å
(
Çme
, 
ty³
, 
¡r
, 
a¢1
) \

91 
PEM_wr™e_
##
	`Çme
(
FILE
 *
å
, 
ty³
 *
x
, cÚ¡ 
EVP_CIPHER
 *
’c
, \

92 *
k¡r
, 
kËn
, 
³m_·sswÜd_cb
 *
cb
, \

93 *
u
) \

95  
	`PEM_ASN1_wr™e
((
i2d_of_void
 *)
i2d_
##
a¢1
,
¡r
,
å
,
x
,
’c
,
k¡r
,
kËn
,
cb
,
u
); \

96 }

	)

98 
	#IMPLEMENT_PEM_wr™e_cb_å_cÚ¡
(
Çme
, 
ty³
, 
¡r
, 
a¢1
) \

99 
PEM_wr™e_
##
	`Çme
(
FILE
 *
å
, 
ty³
 *
x
, cÚ¡ 
EVP_CIPHER
 *
’c
, \

100 *
k¡r
, 
kËn
, 
³m_·sswÜd_cb
 *
cb
, \

101 *
u
) \

103  
	`PEM_ASN1_wr™e
((
i2d_of_void
 *)
i2d_
##
a¢1
,
¡r
,
å
,
x
,
’c
,
k¡r
,
kËn
,
cb
,
u
); \

104 }

	)

108 
	#IMPLEMENT_PEM_»ad_bio
(
Çme
, 
ty³
, 
¡r
, 
a¢1
) \

109 
ty³
 *
PEM_»ad_bio_
##
	`Çme
(
BIO
 *
bp
,y³ **
x
, 
³m_·sswÜd_cb
 *
cb
, *
u
)\

111  
	`PEM_ASN1_»ad_bio
((
d2i_of_void
 *)
d2i_
##
a¢1
, 
¡r
,
bp
,(**)
x
,
cb
,
u
); \

112 }

	)

114 
	#IMPLEMENT_PEM_wr™e_bio
(
Çme
, 
ty³
, 
¡r
, 
a¢1
) \

115 
PEM_wr™e_bio_
##
	`Çme
(
BIO
 *
bp
, 
ty³
 *
x
) \

117  
	`PEM_ASN1_wr™e_bio
((
i2d_of_void
 *)
i2d_
##
a¢1
,
¡r
,
bp
,
x
,
NULL
,NULL,0,NULL,NULL); \

118 }

	)

120 
	#IMPLEMENT_PEM_wr™e_bio_cÚ¡
(
Çme
, 
ty³
, 
¡r
, 
a¢1
) \

121 
PEM_wr™e_bio_
##
	`Çme
(
BIO
 *
bp
, cÚ¡ 
ty³
 *
x
) \

123  
	`PEM_ASN1_wr™e_bio
((
i2d_of_void
 *)
i2d_
##
a¢1
,
¡r
,
bp
,(*)
x
,
NULL
,NULL,0,NULL,NULL); \

124 }

	)

126 
	#IMPLEMENT_PEM_wr™e_cb_bio
(
Çme
, 
ty³
, 
¡r
, 
a¢1
) \

127 
PEM_wr™e_bio_
##
	`Çme
(
BIO
 *
bp
, 
ty³
 *
x
, cÚ¡ 
EVP_CIPHER
 *
’c
, \

128 *
k¡r
, 
kËn
, 
³m_·sswÜd_cb
 *
cb
, *
u
) \

130  
	`PEM_ASN1_wr™e_bio
((
i2d_of_void
 *)
i2d_
##
a¢1
,
¡r
,
bp
,
x
,
’c
,
k¡r
,
kËn
,
cb
,
u
); \

131 }

	)

133 
	#IMPLEMENT_PEM_wr™e_cb_bio_cÚ¡
(
Çme
, 
ty³
, 
¡r
, 
a¢1
) \

134 
PEM_wr™e_bio_
##
	`Çme
(
BIO
 *
bp
, 
ty³
 *
x
, cÚ¡ 
EVP_CIPHER
 *
’c
, \

135 *
k¡r
, 
kËn
, 
³m_·sswÜd_cb
 *
cb
, *
u
) \

137  
	`PEM_ASN1_wr™e_bio
((
i2d_of_void
 *)
i2d_
##
a¢1
,
¡r
,
bp
,(*)
x
,
’c
,
k¡r
,
kËn
,
cb
,
u
); \

138 }

	)

140 
	#IMPLEMENT_PEM_wr™e
(
Çme
, 
ty³
, 
¡r
, 
a¢1
) \

141 
	`IMPLEMENT_PEM_wr™e_bio
(
Çme
, 
ty³
, 
¡r
, 
a¢1
) \

142 
	`IMPLEMENT_PEM_wr™e_å
(
Çme
, 
ty³
, 
¡r
, 
a¢1
)

	)

144 
	#IMPLEMENT_PEM_wr™e_cÚ¡
(
Çme
, 
ty³
, 
¡r
, 
a¢1
) \

145 
	`IMPLEMENT_PEM_wr™e_bio_cÚ¡
(
Çme
, 
ty³
, 
¡r
, 
a¢1
) \

146 
	`IMPLEMENT_PEM_wr™e_å_cÚ¡
(
Çme
, 
ty³
, 
¡r
, 
a¢1
)

	)

148 
	#IMPLEMENT_PEM_wr™e_cb
(
Çme
, 
ty³
, 
¡r
, 
a¢1
) \

149 
	`IMPLEMENT_PEM_wr™e_cb_bio
(
Çme
, 
ty³
, 
¡r
, 
a¢1
) \

150 
	`IMPLEMENT_PEM_wr™e_cb_å
(
Çme
, 
ty³
, 
¡r
, 
a¢1
)

	)

152 
	#IMPLEMENT_PEM_wr™e_cb_cÚ¡
(
Çme
, 
ty³
, 
¡r
, 
a¢1
) \

153 
	`IMPLEMENT_PEM_wr™e_cb_bio_cÚ¡
(
Çme
, 
ty³
, 
¡r
, 
a¢1
) \

154 
	`IMPLEMENT_PEM_wr™e_cb_å_cÚ¡
(
Çme
, 
ty³
, 
¡r
, 
a¢1
)

	)

156 
	#IMPLEMENT_PEM_»ad
(
Çme
, 
ty³
, 
¡r
, 
a¢1
) \

157 
	`IMPLEMENT_PEM_»ad_bio
(
Çme
, 
ty³
, 
¡r
, 
a¢1
) \

158 
	`IMPLEMENT_PEM_»ad_å
(
Çme
, 
ty³
, 
¡r
, 
a¢1
)

	)

160 
	#IMPLEMENT_PEM_rw
(
Çme
, 
ty³
, 
¡r
, 
a¢1
) \

161 
	`IMPLEMENT_PEM_»ad
(
Çme
, 
ty³
, 
¡r
, 
a¢1
) \

162 
	`IMPLEMENT_PEM_wr™e
(
Çme
, 
ty³
, 
¡r
, 
a¢1
)

	)

164 
	#IMPLEMENT_PEM_rw_cÚ¡
(
Çme
, 
ty³
, 
¡r
, 
a¢1
) \

165 
	`IMPLEMENT_PEM_»ad
(
Çme
, 
ty³
, 
¡r
, 
a¢1
) \

166 
	`IMPLEMENT_PEM_wr™e_cÚ¡
(
Çme
, 
ty³
, 
¡r
, 
a¢1
)

	)

168 
	#IMPLEMENT_PEM_rw_cb
(
Çme
, 
ty³
, 
¡r
, 
a¢1
) \

169 
	`IMPLEMENT_PEM_»ad
(
Çme
, 
ty³
, 
¡r
, 
a¢1
) \

170 
	`IMPLEMENT_PEM_wr™e_cb
(
Çme
, 
ty³
, 
¡r
, 
a¢1
)

	)

174 #ià
defšed
(
OPENSSL_NO_STDIO
)

176 
	#DECLARE_PEM_»ad_å
(
Çme
, 
ty³
è

	)

177 
	#DECLARE_PEM_wr™e_å
(
Çme
, 
ty³
è

	)

178 
	#DECLARE_PEM_wr™e_å_cÚ¡
(
Çme
, 
ty³
è

	)

179 
	#DECLARE_PEM_wr™e_cb_å
(
Çme
, 
ty³
è

	)

182 
	#DECLARE_PEM_»ad_å
(
Çme
, 
ty³
) \

183 
ty³
 *
PEM_»ad_
##
	`Çme
(
FILE
 *
å
,y³ **
x
, 
³m_·sswÜd_cb
 *
cb
, *
u
);

	)

185 
	#DECLARE_PEM_wr™e_å
(
Çme
, 
ty³
) \

186 
PEM_wr™e_
##
	`Çme
(
FILE
 *
å
, 
ty³
 *
x
);

	)

188 
	#DECLARE_PEM_wr™e_å_cÚ¡
(
Çme
, 
ty³
) \

189 
PEM_wr™e_
##
	`Çme
(
FILE
 *
å
, cÚ¡ 
ty³
 *
x
);

	)

191 
	#DECLARE_PEM_wr™e_cb_å
(
Çme
, 
ty³
) \

192 
PEM_wr™e_
##
	`Çme
(
FILE
 *
å
, 
ty³
 *
x
, cÚ¡ 
EVP_CIPHER
 *
’c
, \

193 *
k¡r
, 
kËn
, 
³m_·sswÜd_cb
 *
cb
, *
u
);

	)

197 
	#DECLARE_PEM_»ad_bio
(
Çme
, 
ty³
) \

198 
ty³
 *
PEM_»ad_bio_
##
	`Çme
(
BIO
 *
bp
,y³ **
x
, 
³m_·sswÜd_cb
 *
cb
, *
u
);

	)

200 
	#DECLARE_PEM_wr™e_bio
(
Çme
, 
ty³
) \

201 
PEM_wr™e_bio_
##
	`Çme
(
BIO
 *
bp
, 
ty³
 *
x
);

	)

203 
	#DECLARE_PEM_wr™e_bio_cÚ¡
(
Çme
, 
ty³
) \

204 
PEM_wr™e_bio_
##
	`Çme
(
BIO
 *
bp
, cÚ¡ 
ty³
 *
x
);

	)

206 
	#DECLARE_PEM_wr™e_cb_bio
(
Çme
, 
ty³
) \

207 
PEM_wr™e_bio_
##
	`Çme
(
BIO
 *
bp
, 
ty³
 *
x
, cÚ¡ 
EVP_CIPHER
 *
’c
, \

208 *
k¡r
, 
kËn
, 
³m_·sswÜd_cb
 *
cb
, *
u
);

	)

210 
	#DECLARE_PEM_wr™e
(
Çme
, 
ty³
) \

211 
	`DECLARE_PEM_wr™e_bio
(
Çme
, 
ty³
) \

212 
	`DECLARE_PEM_wr™e_å
(
Çme
, 
ty³
)

	)

213 
	#DECLARE_PEM_wr™e_cÚ¡
(
Çme
, 
ty³
) \

214 
	`DECLARE_PEM_wr™e_bio_cÚ¡
(
Çme
, 
ty³
) \

215 
	`DECLARE_PEM_wr™e_å_cÚ¡
(
Çme
, 
ty³
)

	)

216 
	#DECLARE_PEM_wr™e_cb
(
Çme
, 
ty³
) \

217 
	`DECLARE_PEM_wr™e_cb_bio
(
Çme
, 
ty³
) \

218 
	`DECLARE_PEM_wr™e_cb_å
(
Çme
, 
ty³
)

	)

219 
	#DECLARE_PEM_»ad
(
Çme
, 
ty³
) \

220 
	`DECLARE_PEM_»ad_bio
(
Çme
, 
ty³
) \

221 
	`DECLARE_PEM_»ad_å
(
Çme
, 
ty³
)

	)

222 
	#DECLARE_PEM_rw
(
Çme
, 
ty³
) \

223 
	`DECLARE_PEM_»ad
(
Çme
, 
ty³
) \

224 
	`DECLARE_PEM_wr™e
(
Çme
, 
ty³
)

	)

225 
	#DECLARE_PEM_rw_cÚ¡
(
Çme
, 
ty³
) \

226 
	`DECLARE_PEM_»ad
(
Çme
, 
ty³
) \

227 
	`DECLARE_PEM_wr™e_cÚ¡
(
Çme
, 
ty³
)

	)

228 
	#DECLARE_PEM_rw_cb
(
Çme
, 
ty³
) \

229 
	`DECLARE_PEM_»ad
(
Çme
, 
ty³
) \

230 
	`DECLARE_PEM_wr™e_cb
(
Çme
, 
ty³
)

	)

231 
	t³m_·sswÜd_cb
 (*
	tbuf
, 
	tsize
, 
	trwæag
, *
	tu£rd©a
);

233 
PEM_g‘_EVP_CIPHER_INFO
(*
h—d”
, 
EVP_CIPHER_INFO
 *
ch”
);

234 
PEM_do_h—d”
(
EVP_CIPHER_INFO
 *
ch”
, *
d©a
, *
Ën
,

235 
³m_·sswÜd_cb
 *
ÿÎback
, *
u
);

237 
PEM_»ad_bio
(
BIO
 *
bp
, **
Çme
, **
h—d”
,

238 **
d©a
, *
Ën
);

239 
	#PEM_FLAG_SECURE
 0x1

	)

240 
	#PEM_FLAG_EAY_COMPATIBLE
 0x2

	)

241 
	#PEM_FLAG_ONLY_B64
 0x4

	)

242 
PEM_»ad_bio_ex
(
BIO
 *
bp
, **
Çme
, **
h—d”
,

243 **
d©a
, *
Ën
, 
æags
);

244 
PEM_by‹s_»ad_bio_£cmem
(**
pd©a
, *
¶’
, **
²m
,

245 cÚ¡ *
Çme
, 
BIO
 *
bp
, 
³m_·sswÜd_cb
 *
cb
,

246 *
u
);

247 
PEM_wr™e_bio
(
BIO
 *
bp
, cÚ¡ *
Çme
, cÚ¡ *
hdr
,

248 cÚ¡ *
d©a
, 
Ën
);

249 
PEM_by‹s_»ad_bio
(**
pd©a
, *
¶’
, **
²m
,

250 cÚ¡ *
Çme
, 
BIO
 *
bp
, 
³m_·sswÜd_cb
 *
cb
,

251 *
u
);

252 *
PEM_ASN1_»ad_bio
(
d2i_of_void
 *
d2i
, cÚ¡ *
Çme
, 
BIO
 *
bp
, **
x
,

253 
³m_·sswÜd_cb
 *
cb
, *
u
);

254 
PEM_ASN1_wr™e_bio
(
i2d_of_void
 *
i2d
, cÚ¡ *
Çme
, 
BIO
 *
bp
, *
x
,

255 cÚ¡ 
EVP_CIPHER
 *
’c
, *
k¡r
, 
kËn
,

256 
³m_·sswÜd_cb
 *
cb
, *
u
);

258 
STACK_OF
(
X509_INFO
è*
PEM_X509_INFO_»ad_bio
(
BIO
 *
bp
, STACK_OF(X509_INFOè*
sk
,

259 
³m_·sswÜd_cb
 *
cb
, *
u
);

260 
PEM_X509_INFO_wr™e_bio
(
BIO
 *
bp
, 
X509_INFO
 *
xi
, 
EVP_CIPHER
 *
’c
,

261 *
k¡r
, 
kËn
,

262 
³m_·sswÜd_cb
 *
cd
, *
u
);

264 #iâdeà
OPENSSL_NO_STDIO


265 
PEM_»ad
(
FILE
 *
å
, **
Çme
, **
h—d”
,

266 **
d©a
, *
Ën
);

267 
PEM_wr™e
(
FILE
 *
å
, cÚ¡ *
Çme
, cÚ¡ *
hdr
,

268 cÚ¡ *
d©a
, 
Ën
);

269 *
PEM_ASN1_»ad
(
d2i_of_void
 *
d2i
, cÚ¡ *
Çme
, 
FILE
 *
å
, **
x
,

270 
³m_·sswÜd_cb
 *
cb
, *
u
);

271 
PEM_ASN1_wr™e
(
i2d_of_void
 *
i2d
, cÚ¡ *
Çme
, 
FILE
 *
å
,

272 *
x
, cÚ¡ 
EVP_CIPHER
 *
’c
, *
k¡r
,

273 
kËn
, 
³m_·sswÜd_cb
 *
ÿÎback
, *
u
);

274 
STACK_OF
(
X509_INFO
è*
PEM_X509_INFO_»ad
(
FILE
 *
å
, STACK_OF(X509_INFOè*
sk
,

275 
³m_·sswÜd_cb
 *
cb
, *
u
);

278 
PEM_SignIn™
(
EVP_MD_CTX
 *
ùx
, 
EVP_MD
 *
ty³
);

279 
PEM_SignUpd©e
(
EVP_MD_CTX
 *
ùx
, *
d
, 
út
);

280 
PEM_SignFš®
(
EVP_MD_CTX
 *
ùx
, *
sig»t
,

281 *
sigËn
, 
EVP_PKEY
 *
pkey
);

284 
PEM_def_ÿÎback
(*
buf
, 
num
, 
rwæag
, *
u£rd©a
);

285 
PEM_´oc_ty³
(*
buf
, 
ty³
);

286 
PEM_dek_šfo
(*
buf
, cÚ¡ *
ty³
, 
Ën
, *
¡r
);

288 
	~<İ’s¦/symhacks.h
>

290 
DECLARE_PEM_rw
(
X509
, X509)

291 
DECLARE_PEM_rw
(
X509_AUX
, 
X509
)

292 
DECLARE_PEM_rw
(
X509_REQ
, X509_REQ)

293 
DECLARE_PEM_wr™e
(
X509_REQ_NEW
, 
X509_REQ
)

294 
DECLARE_PEM_rw
(
X509_CRL
, X509_CRL)

295 
DECLARE_PEM_rw
(
PKCS7
, PKCS7)

296 
DECLARE_PEM_rw
(
NETSCAPE_CERT_SEQUENCE
, NETSCAPE_CERT_SEQUENCE)

297 
DECLARE_PEM_rw
(
PKCS8
, 
X509_SIG
)

298 
DECLARE_PEM_rw
(
PKCS8_PRIV_KEY_INFO
, PKCS8_PRIV_KEY_INFO)

299 #iâdeà
OPENSSL_NO_RSA


300 
DECLARE_PEM_rw_cb
(
RSAPriv©eKey
, 
RSA
)

301 
DECLARE_PEM_rw_cÚ¡
(
RSAPublicKey
, 
RSA
)

302 
DECLARE_PEM_rw
(
RSA_PUBKEY
, 
RSA
)

304 #iâdeà
OPENSSL_NO_DSA


305 
DECLARE_PEM_rw_cb
(
DSAPriv©eKey
, 
DSA
)

306 
DECLARE_PEM_rw
(
DSA_PUBKEY
, 
DSA
)

307 
DECLARE_PEM_rw_cÚ¡
(
DSA·¿ms
, 
DSA
)

309 #iâdeà
OPENSSL_NO_EC


310 
DECLARE_PEM_rw_cÚ¡
(
ECPKP¬am‘”s
, 
EC_GROUP
)

311 
DECLARE_PEM_rw_cb
(
ECPriv©eKey
, 
EC_KEY
)

312 
DECLARE_PEM_rw
(
EC_PUBKEY
, 
EC_KEY
)

314 #iâdeà
OPENSSL_NO_DH


315 
DECLARE_PEM_rw_cÚ¡
(
DH·¿ms
, 
DH
)

316 
DECLARE_PEM_wr™e_cÚ¡
(
DHx·¿ms
, 
DH
)

318 
DECLARE_PEM_rw_cb
(
Priv©eKey
, 
EVP_PKEY
)

319 
DECLARE_PEM_rw
(
PUBKEY
, 
EVP_PKEY
)

321 
PEM_wr™e_bio_Priv©eKey_Œad™iÚ®
(
BIO
 *
bp
, 
EVP_PKEY
 *
x
,

322 cÚ¡ 
EVP_CIPHER
 *
’c
,

323 *
k¡r
, 
kËn
,

324 
³m_·sswÜd_cb
 *
cb
, *
u
);

326 
PEM_wr™e_bio_PKCS8Priv©eKey_nid
(
BIO
 *
bp
, 
EVP_PKEY
 *
x
, 
nid
,

327 *
k¡r
, 
kËn
,

328 
³m_·sswÜd_cb
 *
cb
, *
u
);

329 
PEM_wr™e_bio_PKCS8Priv©eKey
(
BIO
 *, 
EVP_PKEY
 *, cÚ¡ 
EVP_CIPHER
 *,

330 *, , 
³m_·sswÜd_cb
 *, *);

331 
i2d_PKCS8Priv©eKey_bio
(
BIO
 *
bp
, 
EVP_PKEY
 *
x
, cÚ¡ 
EVP_CIPHER
 *
’c
,

332 *
k¡r
, 
kËn
,

333 
³m_·sswÜd_cb
 *
cb
, *
u
);

334 
i2d_PKCS8Priv©eKey_nid_bio
(
BIO
 *
bp
, 
EVP_PKEY
 *
x
, 
nid
,

335 *
k¡r
, 
kËn
,

336 
³m_·sswÜd_cb
 *
cb
, *
u
);

337 
EVP_PKEY
 *
d2i_PKCS8Priv©eKey_bio
(
BIO
 *
bp
, EVP_PKEY **
x
, 
³m_·sswÜd_cb
 *
cb
,

338 *
u
);

340 #iâdeà
OPENSSL_NO_STDIO


341 
i2d_PKCS8Priv©eKey_å
(
FILE
 *
å
, 
EVP_PKEY
 *
x
, cÚ¡ 
EVP_CIPHER
 *
’c
,

342 *
k¡r
, 
kËn
,

343 
³m_·sswÜd_cb
 *
cb
, *
u
);

344 
i2d_PKCS8Priv©eKey_nid_å
(
FILE
 *
å
, 
EVP_PKEY
 *
x
, 
nid
,

345 *
k¡r
, 
kËn
,

346 
³m_·sswÜd_cb
 *
cb
, *
u
);

347 
PEM_wr™e_PKCS8Priv©eKey_nid
(
FILE
 *
å
, 
EVP_PKEY
 *
x
, 
nid
,

348 *
k¡r
, 
kËn
,

349 
³m_·sswÜd_cb
 *
cb
, *
u
);

351 
EVP_PKEY
 *
d2i_PKCS8Priv©eKey_å
(
FILE
 *
å
, EVP_PKEY **
x
, 
³m_·sswÜd_cb
 *
cb
,

352 *
u
);

354 
PEM_wr™e_PKCS8Priv©eKey
(
FILE
 *
å
, 
EVP_PKEY
 *
x
, cÚ¡ 
EVP_CIPHER
 *
’c
,

355 *
k¡r
, 
kËn
, 
³m_·sswÜd_cb
 *
cd
,

356 *
u
);

358 
EVP_PKEY
 *
PEM_»ad_bio_P¬am‘”s
(
BIO
 *
bp
, EVP_PKEY **
x
);

359 
PEM_wr™e_bio_P¬am‘”s
(
BIO
 *
bp
, 
EVP_PKEY
 *
x
);

361 #iâdeà
OPENSSL_NO_DSA


362 
EVP_PKEY
 *
b2i_Priv©eKey
(cÚ¡ **
š
, 
Ëngth
);

363 
EVP_PKEY
 *
b2i_PublicKey
(cÚ¡ **
š
, 
Ëngth
);

364 
EVP_PKEY
 *
b2i_Priv©eKey_bio
(
BIO
 *
š
);

365 
EVP_PKEY
 *
b2i_PublicKey_bio
(
BIO
 *
š
);

366 
i2b_Priv©eKey_bio
(
BIO
 *
out
, 
EVP_PKEY
 *
pk
);

367 
i2b_PublicKey_bio
(
BIO
 *
out
, 
EVP_PKEY
 *
pk
);

368 #iâdeà
OPENSSL_NO_RC4


369 
EVP_PKEY
 *
b2i_PVK_bio
(
BIO
 *
š
, 
³m_·sswÜd_cb
 *
cb
, *
u
);

370 
i2b_PVK_bio
(
BIO
 *
out
, 
EVP_PKEY
 *
pk
, 
’şev–
,

371 
³m_·sswÜd_cb
 *
cb
, *
u
);

375 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/rand.h

10 #iâdeà
HEADER_RAND_H


11 
	#HEADER_RAND_H


	)

13 
	~<¡dlib.h
>

14 
	~<İ’s¦/os¦_typ.h
>

15 
	~<İ’s¦/e_os2.h
>

16 
	~<İ’s¦/¿nd”r.h
>

18 #ifdeà 
__ılu¥lus


22 
	s¿nd_m‘h_¡
 {

23 (*
£ed
è(cÚ¡ *
buf
, 
num
);

24 (*
by‹s
è(*
buf
, 
num
);

25 (*
ş—nup
) ();

26 (*
add
è(cÚ¡ *
buf
, 
num
, 
¿ndomÃss
);

27 (*
p£udÜªd
è(*
buf
, 
num
);

28 (*
¡©us
) ();

31 
RAND_£t_¿nd_m‘hod
(cÚ¡ 
RAND_METHOD
 *
m‘h
);

32 cÚ¡ 
RAND_METHOD
 *
RAND_g‘_¿nd_m‘hod
();

33 #iâdeà
OPENSSL_NO_ENGINE


34 
RAND_£t_¿nd_’gše
(
ENGINE
 *
’gše
);

37 
RAND_METHOD
 *
RAND_O³nSSL
();

39 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

40 
	#RAND_ş—nup
(è0è

	)

42 
RAND_by‹s
(*
buf
, 
num
);

43 
RAND_´iv_by‹s
(*
buf
, 
num
);

44 
DEPRECATEDIN_1_1_0
(
RAND_p£udo_by‹s
(*
buf
, 
num
))

46 
RAND_£ed
(cÚ¡ *
buf
, 
num
);

47 
RAND_k“p_¿ndom_deviûs_İ’
(
k“p
);

49 #ià
defšed
(
__ANDROID__
è&& defšed(
__NDK_FPABI__
)

50 
__NDK_FPABI__


52 
RAND_add
(cÚ¡ *
buf
, 
num
, 
¿ndomÃss
);

53 
RAND_lßd_fe
(cÚ¡ *
fe
, 
max_by‹s
);

54 
RAND_wr™e_fe
(cÚ¡ *
fe
);

55 cÚ¡ *
RAND_fe_Çme
(*
fe
, 
size_t
 
num
);

56 
RAND_¡©us
();

58 #iâdeà
OPENSSL_NO_EGD


59 
RAND_qu”y_egd_by‹s
(cÚ¡ *
·th
, *
buf
, 
by‹s
);

60 
RAND_egd
(cÚ¡ *
·th
);

61 
RAND_egd_by‹s
(cÚ¡ *
·th
, 
by‹s
);

64 
RAND_pŞl
();

66 #ià
defšed
(
_WIN32
è&& (defšed(
BASETYPES
è|| defšed(
_WINDEF_H
))

68 
DEPRECATEDIN_1_1_0
(
RAND_sü“n
())

69 
DEPRECATEDIN_1_1_0
(
RAND_ev’t
(
UINT
, 
WPARAM
, 
LPARAM
))

73 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/rsa.h

10 #iâdeà
HEADER_RSA_H


11 
	#HEADER_RSA_H


	)

13 
	~<İ’s¦/İ’s¦cÚf.h
>

15 #iâdeà
OPENSSL_NO_RSA


16 
	~<İ’s¦/a¢1.h
>

17 
	~<İ’s¦/bio.h
>

18 
	~<İ’s¦/üy±o.h
>

19 
	~<İ’s¦/os¦_typ.h
>

20 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

21 
	~<İ’s¦/bn.h
>

23 
	~<İ’s¦/r§”r.h
>

24 #ifdeà 
__ılu¥lus


30 #iâdeà
OPENSSL_RSA_MAX_MODULUS_BITS


31 
	#OPENSSL_RSA_MAX_MODULUS_BITS
 16384

	)

34 
	#OPENSSL_RSA_FIPS_MIN_MODULUS_BITS
 1024

	)

36 #iâdeà
OPENSSL_RSA_SMALL_MODULUS_BITS


37 
	#OPENSSL_RSA_SMALL_MODULUS_BITS
 3072

	)

39 #iâdeà
OPENSSL_RSA_MAX_PUBEXP_BITS


42 
	#OPENSSL_RSA_MAX_PUBEXP_BITS
 64

	)

45 
	#RSA_3
 0x3L

	)

46 
	#RSA_F4
 0x10001L

	)

49 
	#RSA_ASN1_VERSION_DEFAULT
 0

	)

50 
	#RSA_ASN1_VERSION_MULTI
 1

	)

52 
	#RSA_DEFAULT_PRIME_NUM
 2

	)

54 
	#RSA_METHOD_FLAG_NO_CHECK
 0x0001

	)

57 
	#RSA_FLAG_CACHE_PUBLIC
 0x0002

	)

58 
	#RSA_FLAG_CACHE_PRIVATE
 0x0004

	)

59 
	#RSA_FLAG_BLINDING
 0x0008

	)

60 
	#RSA_FLAG_THREAD_SAFE
 0x0010

	)

67 
	#RSA_FLAG_EXT_PKEY
 0x0020

	)

75 
	#RSA_FLAG_NO_BLINDING
 0x0080

	)

76 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

80 
	#RSA_FLAG_NO_CONSTTIME
 0x0000

	)

82 #ià
OPENSSL_API_COMPAT
 < 0x00908000L

92 
	#RSA_FLAG_NO_EXP_CONSTTIME
 
RSA_FLAG_NO_CONSTTIME


	)

95 
	#EVP_PKEY_CTX_£t_r§_·ddšg
(
ùx
, 
·d
) \

96 
	`RSA_pkey_ùx_ù¾
(
ùx
, -1, 
EVP_PKEY_CTRL_RSA_PADDING
, 
·d
, 
NULL
)

	)

98 
	#EVP_PKEY_CTX_g‘_r§_·ddšg
(
ùx
, 
µad
) \

99 
	`RSA_pkey_ùx_ù¾
(
ùx
, -1, 
EVP_PKEY_CTRL_GET_RSA_PADDING
, 0, 
µad
)

	)

101 
	#EVP_PKEY_CTX_£t_r§_pss_§ÉËn
(
ùx
, 
Ën
) \

102 
	`RSA_pkey_ùx_ù¾
(
ùx
, (
EVP_PKEY_OP_SIGN
|
EVP_PKEY_OP_VERIFY
), \

103 
EVP_PKEY_CTRL_RSA_PSS_SALTLEN
, 
Ën
, 
NULL
)

	)

105 
	#RSA_PSS_SALTLEN_DIGEST
 -1

	)

107 
	#RSA_PSS_SALTLEN_AUTO
 -2

	)

109 
	#RSA_PSS_SALTLEN_MAX
 -3

	)

111 
	#RSA_PSS_SALTLEN_MAX_SIGN
 -2

	)

113 
	#EVP_PKEY_CTX_£t_r§_pss_keyg’_§ÉËn
(
ùx
, 
Ën
) \

114 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_RSA_PSS
, 
EVP_PKEY_OP_KEYGEN
, \

115 
EVP_PKEY_CTRL_RSA_PSS_SALTLEN
, 
Ën
, 
NULL
)

	)

117 
	#EVP_PKEY_CTX_g‘_r§_pss_§ÉËn
(
ùx
, 
¶’
) \

118 
	`RSA_pkey_ùx_ù¾
(
ùx
, (
EVP_PKEY_OP_SIGN
|
EVP_PKEY_OP_VERIFY
), \

119 
EVP_PKEY_CTRL_GET_RSA_PSS_SALTLEN
, 0, 
¶’
)

	)

121 
	#EVP_PKEY_CTX_£t_r§_keyg’_b™s
(
ùx
, 
b™s
) \

122 
	`RSA_pkey_ùx_ù¾
(
ùx
, 
EVP_PKEY_OP_KEYGEN
, \

123 
EVP_PKEY_CTRL_RSA_KEYGEN_BITS
, 
b™s
, 
NULL
)

	)

125 
	#EVP_PKEY_CTX_£t_r§_keyg’_pubexp
(
ùx
, 
pubexp
) \

126 
	`RSA_pkey_ùx_ù¾
(
ùx
, 
EVP_PKEY_OP_KEYGEN
, \

127 
EVP_PKEY_CTRL_RSA_KEYGEN_PUBEXP
, 0, 
pubexp
)

	)

129 
	#EVP_PKEY_CTX_£t_r§_keyg’_´imes
(
ùx
, 
´imes
) \

130 
	`RSA_pkey_ùx_ù¾
(
ùx
, 
EVP_PKEY_OP_KEYGEN
, \

131 
EVP_PKEY_CTRL_RSA_KEYGEN_PRIMES
, 
´imes
, 
NULL
)

	)

133 
	#EVP_PKEY_CTX_£t_r§_mgf1_md
(
ùx
, 
md
) \

134 
	`RSA_pkey_ùx_ù¾
(
ùx
, 
EVP_PKEY_OP_TYPE_SIG
 | 
EVP_PKEY_OP_TYPE_CRYPT
, \

135 
EVP_PKEY_CTRL_RSA_MGF1_MD
, 0, (*)(
md
))

	)

137 
	#EVP_PKEY_CTX_£t_r§_pss_keyg’_mgf1_md
(
ùx
, 
md
) \

138 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_RSA_PSS
, 
EVP_PKEY_OP_KEYGEN
, \

139 
EVP_PKEY_CTRL_RSA_MGF1_MD
, 0, (*)(
md
))

	)

141 
	#EVP_PKEY_CTX_£t_r§_ß•_md
(
ùx
, 
md
) \

142 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_RSA
, 
EVP_PKEY_OP_TYPE_CRYPT
, \

143 
EVP_PKEY_CTRL_RSA_OAEP_MD
, 0, (*)(
md
))

	)

145 
	#EVP_PKEY_CTX_g‘_r§_mgf1_md
(
ùx
, 
pmd
) \

146 
	`RSA_pkey_ùx_ù¾
(
ùx
, 
EVP_PKEY_OP_TYPE_SIG
 | 
EVP_PKEY_OP_TYPE_CRYPT
, \

147 
EVP_PKEY_CTRL_GET_RSA_MGF1_MD
, 0, (*)(
pmd
))

	)

149 
	#EVP_PKEY_CTX_g‘_r§_ß•_md
(
ùx
, 
pmd
) \

150 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_RSA
, 
EVP_PKEY_OP_TYPE_CRYPT
, \

151 
EVP_PKEY_CTRL_GET_RSA_OAEP_MD
, 0, (*)(
pmd
))

	)

153 
	#EVP_PKEY_CTX_£t0_r§_ß•_Ïb–
(
ùx
, 
l
, 
Î’
) \

154 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_RSA
, 
EVP_PKEY_OP_TYPE_CRYPT
, \

155 
EVP_PKEY_CTRL_RSA_OAEP_LABEL
, 
Î’
, (*)(
l
))

	)

157 
	#EVP_PKEY_CTX_g‘0_r§_ß•_Ïb–
(
ùx
, 
l
) \

158 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_RSA
, 
EVP_PKEY_OP_TYPE_CRYPT
, \

159 
EVP_PKEY_CTRL_GET_RSA_OAEP_LABEL
, 0, (*)(
l
))

	)

161 
	#EVP_PKEY_CTX_£t_r§_pss_keyg’_md
(
ùx
, 
md
) \

162 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_RSA_PSS
, \

163 
EVP_PKEY_OP_TYPE_KEYGEN
, 
EVP_PKEY_CTRL_MD
, \

164 0, (*)(
md
))

	)

166 
	#EVP_PKEY_CTRL_RSA_PADDING
 (
EVP_PKEY_ALG_CTRL
 + 1)

	)

167 
	#EVP_PKEY_CTRL_RSA_PSS_SALTLEN
 (
EVP_PKEY_ALG_CTRL
 + 2)

	)

169 
	#EVP_PKEY_CTRL_RSA_KEYGEN_BITS
 (
EVP_PKEY_ALG_CTRL
 + 3)

	)

170 
	#EVP_PKEY_CTRL_RSA_KEYGEN_PUBEXP
 (
EVP_PKEY_ALG_CTRL
 + 4)

	)

171 
	#EVP_PKEY_CTRL_RSA_MGF1_MD
 (
EVP_PKEY_ALG_CTRL
 + 5)

	)

173 
	#EVP_PKEY_CTRL_GET_RSA_PADDING
 (
EVP_PKEY_ALG_CTRL
 + 6)

	)

174 
	#EVP_PKEY_CTRL_GET_RSA_PSS_SALTLEN
 (
EVP_PKEY_ALG_CTRL
 + 7)

	)

175 
	#EVP_PKEY_CTRL_GET_RSA_MGF1_MD
 (
EVP_PKEY_ALG_CTRL
 + 8)

	)

177 
	#EVP_PKEY_CTRL_RSA_OAEP_MD
 (
EVP_PKEY_ALG_CTRL
 + 9)

	)

178 
	#EVP_PKEY_CTRL_RSA_OAEP_LABEL
 (
EVP_PKEY_ALG_CTRL
 + 10)

	)

180 
	#EVP_PKEY_CTRL_GET_RSA_OAEP_MD
 (
EVP_PKEY_ALG_CTRL
 + 11)

	)

181 
	#EVP_PKEY_CTRL_GET_RSA_OAEP_LABEL
 (
EVP_PKEY_ALG_CTRL
 + 12)

	)

183 
	#EVP_PKEY_CTRL_RSA_KEYGEN_PRIMES
 (
EVP_PKEY_ALG_CTRL
 + 13)

	)

185 
	#RSA_PKCS1_PADDING
 1

	)

186 
	#RSA_SSLV23_PADDING
 2

	)

187 
	#RSA_NO_PADDING
 3

	)

188 
	#RSA_PKCS1_OAEP_PADDING
 4

	)

189 
	#RSA_X931_PADDING
 5

	)

191 
	#RSA_PKCS1_PSS_PADDING
 6

	)

193 
	#RSA_PKCS1_PADDING_SIZE
 11

	)

195 
	#RSA_£t_­p_d©a
(
s
,
¬g
è
	`RSA_£t_ex_d©a
(s,0,¬g)

	)

196 
	#RSA_g‘_­p_d©a
(
s
è
	`RSA_g‘_ex_d©a
(s,0)

	)

198 
RSA
 *
RSA_Ãw
();

199 
RSA
 *
RSA_Ãw_m‘hod
(
ENGINE
 *
’gše
);

200 
RSA_b™s
(cÚ¡ 
RSA
 *
r§
);

201 
RSA_size
(cÚ¡ 
RSA
 *
r§
);

202 
RSA_£cur™y_b™s
(cÚ¡ 
RSA
 *
r§
);

204 
RSA_£t0_key
(
RSA
 *
r
, 
BIGNUM
 *
n
, BIGNUM *
e
, BIGNUM *
d
);

205 
RSA_£t0_çùÜs
(
RSA
 *
r
, 
BIGNUM
 *
p
, BIGNUM *
q
);

206 
RSA_£t0_üt_·¿ms
(
RSA
 *
r
,
BIGNUM
 *
dmp1
, BIGNUM *
dmq1
, BIGNUM *
iqmp
);

207 
RSA_£t0_muÉi_´ime_·¿ms
(
RSA
 *
r
, 
BIGNUM
 *
´imes
[], BIGNUM *
exps
[],

208 
BIGNUM
 *
cÛffs
[], 
²um
);

209 
RSA_g‘0_key
(cÚ¡ 
RSA
 *
r
,

210 cÚ¡ 
BIGNUM
 **
n
, cÚ¡ BIGNUM **
e
, cÚ¡ BIGNUM **
d
);

211 
RSA_g‘0_çùÜs
(cÚ¡ 
RSA
 *
r
, cÚ¡ 
BIGNUM
 **
p
, cÚ¡ BIGNUM **
q
);

212 
RSA_g‘_muÉi_´ime_exŒa_couÁ
(cÚ¡ 
RSA
 *
r
);

213 
RSA_g‘0_muÉi_´ime_çùÜs
(cÚ¡ 
RSA
 *
r
, cÚ¡ 
BIGNUM
 *
´imes
[]);

214 
RSA_g‘0_üt_·¿ms
(cÚ¡ 
RSA
 *
r
,

215 cÚ¡ 
BIGNUM
 **
dmp1
, cÚ¡ BIGNUM **
dmq1
,

216 cÚ¡ 
BIGNUM
 **
iqmp
);

217 
RSA_g‘0_muÉi_´ime_üt_·¿ms
(cÚ¡ 
RSA
 *
r
, cÚ¡ 
BIGNUM
 *
exps
[],

218 cÚ¡ 
BIGNUM
 *
cÛffs
[]);

219 cÚ¡ 
BIGNUM
 *
RSA_g‘0_n
(cÚ¡ 
RSA
 *
d
);

220 cÚ¡ 
BIGNUM
 *
RSA_g‘0_e
(cÚ¡ 
RSA
 *
d
);

221 cÚ¡ 
BIGNUM
 *
RSA_g‘0_d
(cÚ¡ 
RSA
 *
d
);

222 cÚ¡ 
BIGNUM
 *
RSA_g‘0_p
(cÚ¡ 
RSA
 *
d
);

223 cÚ¡ 
BIGNUM
 *
RSA_g‘0_q
(cÚ¡ 
RSA
 *
d
);

224 cÚ¡ 
BIGNUM
 *
RSA_g‘0_dmp1
(cÚ¡ 
RSA
 *
r
);

225 cÚ¡ 
BIGNUM
 *
RSA_g‘0_dmq1
(cÚ¡ 
RSA
 *
r
);

226 cÚ¡ 
BIGNUM
 *
RSA_g‘0_iqmp
(cÚ¡ 
RSA
 *
r
);

227 
RSA_ş—r_æags
(
RSA
 *
r
, 
æags
);

228 
RSA_‹¡_æags
(cÚ¡ 
RSA
 *
r
, 
æags
);

229 
RSA_£t_æags
(
RSA
 *
r
, 
æags
);

230 
RSA_g‘_v”siÚ
(
RSA
 *
r
);

231 
ENGINE
 *
RSA_g‘0_’gše
(cÚ¡ 
RSA
 *
r
);

234 
DEPRECATEDIN_0_9_8
(
RSA
 *
RSA_g’”©e_key
(
b™s
, 
e
, 

235 (*
ÿÎback
) (, , *),

236 *
cb_¬g
))

239 
RSA_g’”©e_key_ex
(
RSA
 *
r§
, 
b™s
, 
BIGNUM
 *
e
, 
BN_GENCB
 *
cb
);

241 
RSA_g’”©e_muÉi_´ime_key
(
RSA
 *
r§
, 
b™s
, 
´imes
,

242 
BIGNUM
 *
e
, 
BN_GENCB
 *
cb
);

244 
RSA_X931_d”ive_ex
(
RSA
 *
r§
, 
BIGNUM
 *
p1
, BIGNUM *
p2
, BIGNUM *
q1
,

245 
BIGNUM
 *
q2
, cÚ¡ BIGNUM *
Xp1
, cÚ¡ BIGNUM *
Xp2
,

246 cÚ¡ 
BIGNUM
 *
Xp
, cÚ¡ BIGNUM *
Xq1
, cÚ¡ BIGNUM *
Xq2
,

247 cÚ¡ 
BIGNUM
 *
Xq
, cÚ¡ BIGNUM *
e
, 
BN_GENCB
 *
cb
);

248 
RSA_X931_g’”©e_key_ex
(
RSA
 *
r§
, 
b™s
, cÚ¡ 
BIGNUM
 *
e
,

249 
BN_GENCB
 *
cb
);

251 
RSA_check_key
(cÚ¡ 
RSA
 *);

252 
RSA_check_key_ex
(cÚ¡ 
RSA
 *, 
BN_GENCB
 *
cb
);

254 
RSA_public_’üy±
(
æ’
, cÚ¡ *
äom
,

255 *
to
, 
RSA
 *
r§
, 
·ddšg
);

256 
RSA_´iv©e_’üy±
(
æ’
, cÚ¡ *
äom
,

257 *
to
, 
RSA
 *
r§
, 
·ddšg
);

258 
RSA_public_deüy±
(
æ’
, cÚ¡ *
äom
,

259 *
to
, 
RSA
 *
r§
, 
·ddšg
);

260 
RSA_´iv©e_deüy±
(
æ’
, cÚ¡ *
äom
,

261 *
to
, 
RSA
 *
r§
, 
·ddšg
);

262 
RSA_ä“
(
RSA
 *
r
);

264 
RSA_up_»f
(
RSA
 *
r
);

266 
RSA_æags
(cÚ¡ 
RSA
 *
r
);

268 
RSA_£t_deçuÉ_m‘hod
(cÚ¡ 
RSA_METHOD
 *
m‘h
);

269 cÚ¡ 
RSA_METHOD
 *
RSA_g‘_deçuÉ_m‘hod
();

270 cÚ¡ 
RSA_METHOD
 *
RSA_nuÎ_m‘hod
();

271 cÚ¡ 
RSA_METHOD
 *
RSA_g‘_m‘hod
(cÚ¡ 
RSA
 *
r§
);

272 
RSA_£t_m‘hod
(
RSA
 *
r§
, cÚ¡ 
RSA_METHOD
 *
m‘h
);

275 cÚ¡ 
RSA_METHOD
 *
RSA_PKCS1_O³nSSL
();

277 
RSA_pkey_ùx_ù¾
(
EVP_PKEY_CTX
 *
ùx
, 
İty³
, 
cmd
, 
p1
, *
p2
);

279 
DECLARE_ASN1_ENCODE_FUNCTIONS_cÚ¡
(
RSA
, 
RSAPublicKey
)

280 
DECLARE_ASN1_ENCODE_FUNCTIONS_cÚ¡
(
RSA
, 
RSAPriv©eKey
)

282 
	sr§_pss_·¿ms_¡
 {

283 
X509_ALGOR
 *
hashAlgÜ™hm
;

284 
X509_ALGOR
 *
maskG’AlgÜ™hm
;

285 
ASN1_INTEGER
 *
§ÉL’gth
;

286 
ASN1_INTEGER
 *
Œa”F›ld
;

288 
X509_ALGOR
 *
maskHash
;

289 } 
	tRSA_PSS_PARAMS
;

291 
DECLARE_ASN1_FUNCTIONS
(
RSA_PSS_PARAMS
)

293 
	sr§_ß•_·¿ms_¡
 {

294 
X509_ALGOR
 *
hashFunc
;

295 
X509_ALGOR
 *
maskG’Func
;

296 
X509_ALGOR
 *
pSourûFunc
;

298 
X509_ALGOR
 *
maskHash
;

299 } 
	tRSA_OAEP_PARAMS
;

301 
DECLARE_ASN1_FUNCTIONS
(
RSA_OAEP_PARAMS
)

303 #iâdeà
OPENSSL_NO_STDIO


304 
RSA_´št_å
(
FILE
 *
å
, cÚ¡ 
RSA
 *
r
, 
off£t
);

307 
RSA_´št
(
BIO
 *
bp
, cÚ¡ 
RSA
 *
r
, 
off£t
);

313 
RSA_sign
(
ty³
, cÚ¡ *
m
, 
m_Ëngth
,

314 *
sig»t
, *
sigËn
, 
RSA
 *
r§
);

315 
RSA_v”ify
(
ty³
, cÚ¡ *
m
, 
m_Ëngth
,

316 cÚ¡ *
sigbuf
, 
sigËn
, 
RSA
 *
r§
);

322 
RSA_sign_ASN1_OCTET_STRING
(
ty³
,

323 cÚ¡ *
m
, 
m_Ëngth
,

324 *
sig»t
, *
sigËn
,

325 
RSA
 *
r§
);

326 
RSA_v”ify_ASN1_OCTET_STRING
(
ty³
, cÚ¡ *
m
,

327 
m_Ëngth
, *
sigbuf
,

328 
sigËn
, 
RSA
 *
r§
);

330 
RSA_blšdšg_Ú
(
RSA
 *
r§
, 
BN_CTX
 *
ùx
);

331 
RSA_blšdšg_off
(
RSA
 *
r§
);

332 
BN_BLINDING
 *
RSA_£tup_blšdšg
(
RSA
 *
r§
, 
BN_CTX
 *
ùx
);

334 
RSA_·ddšg_add_PKCS1_ty³_1
(*
to
, 
’
,

335 cÚ¡ *
f
, 
æ
);

336 
RSA_·ddšg_check_PKCS1_ty³_1
(*
to
, 
’
,

337 cÚ¡ *
f
, 
æ
,

338 
r§_Ën
);

339 
RSA_·ddšg_add_PKCS1_ty³_2
(*
to
, 
’
,

340 cÚ¡ *
f
, 
æ
);

341 
RSA_·ddšg_check_PKCS1_ty³_2
(*
to
, 
’
,

342 cÚ¡ *
f
, 
æ
,

343 
r§_Ën
);

344 
PKCS1_MGF1
(*
mask
, 
Ën
, cÚ¡ *
£ed
,

345 
£edËn
, cÚ¡ 
EVP_MD
 *
dg¡
);

346 
RSA_·ddšg_add_PKCS1_OAEP
(*
to
, 
’
,

347 cÚ¡ *
f
, 
æ
,

348 cÚ¡ *
p
, 
¶
);

349 
RSA_·ddšg_check_PKCS1_OAEP
(*
to
, 
’
,

350 cÚ¡ *
f
, 
æ
, 
r§_Ën
,

351 cÚ¡ *
p
, 
¶
);

352 
RSA_·ddšg_add_PKCS1_OAEP_mgf1
(*
to
, 
’
,

353 cÚ¡ *
äom
, 
æ’
,

354 cÚ¡ *
·¿m
, 
¶’
,

355 cÚ¡ 
EVP_MD
 *
md
, cÚ¡ EVP_MD *
mgf1md
);

356 
RSA_·ddšg_check_PKCS1_OAEP_mgf1
(*
to
, 
’
,

357 cÚ¡ *
äom
, 
æ’
,

358 
num
, cÚ¡ *
·¿m
,

359 
¶’
, cÚ¡ 
EVP_MD
 *
md
,

360 cÚ¡ 
EVP_MD
 *
mgf1md
);

361 
RSA_·ddšg_add_SSLv23
(*
to
, 
’
,

362 cÚ¡ *
f
, 
æ
);

363 
RSA_·ddšg_check_SSLv23
(*
to
, 
’
,

364 cÚ¡ *
f
, 
æ
, 
r§_Ën
);

365 
RSA_·ddšg_add_nÚe
(*
to
, 
’
, cÚ¡ *
f
,

366 
æ
);

367 
RSA_·ddšg_check_nÚe
(*
to
, 
’
,

368 cÚ¡ *
f
, 
æ
, 
r§_Ën
);

369 
RSA_·ddšg_add_X931
(*
to
, 
’
, cÚ¡ *
f
,

370 
æ
);

371 
RSA_·ddšg_check_X931
(*
to
, 
’
,

372 cÚ¡ *
f
, 
æ
, 
r§_Ën
);

373 
RSA_X931_hash_id
(
nid
);

375 
RSA_v”ify_PKCS1_PSS
(
RSA
 *
r§
, cÚ¡ *
mHash
,

376 cÚ¡ 
EVP_MD
 *
Hash
, cÚ¡ *
EM
,

377 
sL’
);

378 
RSA_·ddšg_add_PKCS1_PSS
(
RSA
 *
r§
, *
EM
,

379 cÚ¡ *
mHash
, cÚ¡ 
EVP_MD
 *
Hash
,

380 
sL’
);

382 
RSA_v”ify_PKCS1_PSS_mgf1
(
RSA
 *
r§
, cÚ¡ *
mHash
,

383 cÚ¡ 
EVP_MD
 *
Hash
, cÚ¡ EVP_MD *
mgf1Hash
,

384 cÚ¡ *
EM
, 
sL’
);

386 
RSA_·ddšg_add_PKCS1_PSS_mgf1
(
RSA
 *
r§
, *
EM
,

387 cÚ¡ *
mHash
,

388 cÚ¡ 
EVP_MD
 *
Hash
, cÚ¡ EVP_MD *
mgf1Hash
,

389 
sL’
);

391 
	#RSA_g‘_ex_Ãw_šdex
(
l
, 
p
, 
Ãwf
, 
dupf
, 
ä“f
) \

392 
	`CRYPTO_g‘_ex_Ãw_šdex
(
CRYPTO_EX_INDEX_RSA
, 
l
, 
p
, 
Ãwf
, 
dupf
, 
ä“f
)

	)

393 
RSA_£t_ex_d©a
(
RSA
 *
r
, 
idx
, *
¬g
);

394 *
RSA_g‘_ex_d©a
(cÚ¡ 
RSA
 *
r
, 
idx
);

396 
RSA
 *
RSAPublicKey_dup
(RSA *
r§
);

397 
RSA
 *
RSAPriv©eKey_dup
(RSA *
r§
);

406 
	#RSA_FLAG_FIPS_METHOD
 0x0400

	)

414 
	#RSA_FLAG_NON_FIPS_ALLOW
 0x0400

	)

419 
	#RSA_FLAG_CHECKED
 0x0800

	)

421 
RSA_METHOD
 *
RSA_m‘h_Ãw
(cÚ¡ *
Çme
, 
æags
);

422 
RSA_m‘h_ä“
(
RSA_METHOD
 *
m‘h
);

423 
RSA_METHOD
 *
RSA_m‘h_dup
(cÚ¡ RSA_METHOD *
m‘h
);

424 cÚ¡ *
RSA_m‘h_g‘0_Çme
(cÚ¡ 
RSA_METHOD
 *
m‘h
);

425 
RSA_m‘h_£t1_Çme
(
RSA_METHOD
 *
m‘h
, cÚ¡ *
Çme
);

426 
RSA_m‘h_g‘_æags
(cÚ¡ 
RSA_METHOD
 *
m‘h
);

427 
RSA_m‘h_£t_æags
(
RSA_METHOD
 *
m‘h
, 
æags
);

428 *
RSA_m‘h_g‘0_­p_d©a
(cÚ¡ 
RSA_METHOD
 *
m‘h
);

429 
RSA_m‘h_£t0_­p_d©a
(
RSA_METHOD
 *
m‘h
, *
­p_d©a
);

430 (*
RSA_m‘h_g‘_pub_’c
(cÚ¡ 
RSA_METHOD
 *
m‘h
))

431 (
æ’
, cÚ¡ *
äom
,

432 *
to
, 
RSA
 *
r§
, 
·ddšg
);

433 
RSA_m‘h_£t_pub_’c
(
RSA_METHOD
 *
r§
,

434 (*
pub_’c
è(
æ’
, cÚ¡ *
äom
,

435 *
to
, 
RSA
 *
r§
,

436 
·ddšg
));

437 (*
RSA_m‘h_g‘_pub_dec
(cÚ¡ 
RSA_METHOD
 *
m‘h
))

438 (
æ’
, cÚ¡ *
äom
,

439 *
to
, 
RSA
 *
r§
, 
·ddšg
);

440 
RSA_m‘h_£t_pub_dec
(
RSA_METHOD
 *
r§
,

441 (*
pub_dec
è(
æ’
, cÚ¡ *
äom
,

442 *
to
, 
RSA
 *
r§
,

443 
·ddšg
));

444 (*
RSA_m‘h_g‘_´iv_’c
(cÚ¡ 
RSA_METHOD
 *
m‘h
))

445 (
æ’
, cÚ¡ *
äom
,

446 *
to
, 
RSA
 *
r§
, 
·ddšg
);

447 
RSA_m‘h_£t_´iv_’c
(
RSA_METHOD
 *
r§
,

448 (*
´iv_’c
è(
æ’
, cÚ¡ *
äom
,

449 *
to
, 
RSA
 *
r§
,

450 
·ddšg
));

451 (*
RSA_m‘h_g‘_´iv_dec
(cÚ¡ 
RSA_METHOD
 *
m‘h
))

452 (
æ’
, cÚ¡ *
äom
,

453 *
to
, 
RSA
 *
r§
, 
·ddšg
);

454 
RSA_m‘h_£t_´iv_dec
(
RSA_METHOD
 *
r§
,

455 (*
´iv_dec
è(
æ’
, cÚ¡ *
äom
,

456 *
to
, 
RSA
 *
r§
,

457 
·ddšg
));

458 (*
RSA_m‘h_g‘_mod_exp
(cÚ¡ 
RSA_METHOD
 *
m‘h
))

459 (
BIGNUM
 *
r0
, cÚ¡ BIGNUM *
I
, 
RSA
 *
r§
, 
BN_CTX
 *
ùx
);

460 
RSA_m‘h_£t_mod_exp
(
RSA_METHOD
 *
r§
,

461 (*
mod_exp
è(
BIGNUM
 *
r0
, cÚ¡ BIGNUM *
I
, 
RSA
 *
r§
,

462 
BN_CTX
 *
ùx
));

463 (*
RSA_m‘h_g‘_bn_mod_exp
(cÚ¡ 
RSA_METHOD
 *
m‘h
))

464 (
BIGNUM
 *
r
, cÚ¡ BIGNUM *
a
, cÚ¡ BIGNUM *
p
,

465 cÚ¡ 
BIGNUM
 *
m
, 
BN_CTX
 *
ùx
, 
BN_MONT_CTX
 *
m_ùx
);

466 
RSA_m‘h_£t_bn_mod_exp
(
RSA_METHOD
 *
r§
,

467 (*
bn_mod_exp
è(
BIGNUM
 *
r
,

468 cÚ¡ 
BIGNUM
 *
a
,

469 cÚ¡ 
BIGNUM
 *
p
,

470 cÚ¡ 
BIGNUM
 *
m
,

471 
BN_CTX
 *
ùx
,

472 
BN_MONT_CTX
 *
m_ùx
));

473 (*
RSA_m‘h_g‘_š™
(cÚ¡ 
RSA_METHOD
 *
m‘h
)è(
RSA
 *
r§
);

474 
RSA_m‘h_£t_š™
(
RSA_METHOD
 *
r§
, (*
š™
è(
RSA
 *rsa));

475 (*
RSA_m‘h_g‘_fšish
(cÚ¡ 
RSA_METHOD
 *
m‘h
)è(
RSA
 *
r§
);

476 
RSA_m‘h_£t_fšish
(
RSA_METHOD
 *
r§
, (*
fšish
è(
RSA
 *rsa));

477 (*
RSA_m‘h_g‘_sign
(cÚ¡ 
RSA_METHOD
 *
m‘h
))

478 (
ty³
,

479 cÚ¡ *
m
, 
m_Ëngth
,

480 *
sig»t
, *
sigËn
,

481 cÚ¡ 
RSA
 *
r§
);

482 
RSA_m‘h_£t_sign
(
RSA_METHOD
 *
r§
,

483 (*
sign
è(
ty³
, cÚ¡ *
m
,

484 
m_Ëngth
,

485 *
sig»t
, *
sigËn
,

486 cÚ¡ 
RSA
 *
r§
));

487 (*
RSA_m‘h_g‘_v”ify
(cÚ¡ 
RSA_METHOD
 *
m‘h
))

488 (
dty³
, cÚ¡ *
m
,

489 
m_Ëngth
, cÚ¡ *
sigbuf
,

490 
sigËn
, cÚ¡ 
RSA
 *
r§
);

491 
RSA_m‘h_£t_v”ify
(
RSA_METHOD
 *
r§
,

492 (*
v”ify
è(
dty³
, cÚ¡ *
m
,

493 
m_Ëngth
,

494 cÚ¡ *
sigbuf
,

495 
sigËn
, cÚ¡ 
RSA
 *
r§
));

496 (*
RSA_m‘h_g‘_keyg’
(cÚ¡ 
RSA_METHOD
 *
m‘h
))

497 (
RSA
 *
r§
, 
b™s
, 
BIGNUM
 *
e
, 
BN_GENCB
 *
cb
);

498 
RSA_m‘h_£t_keyg’
(
RSA_METHOD
 *
r§
,

499 (*
keyg’
è(
RSA
 *
r§
, 
b™s
, 
BIGNUM
 *
e
,

500 
BN_GENCB
 *
cb
));

501 (*
RSA_m‘h_g‘_muÉi_´ime_keyg’
(cÚ¡ 
RSA_METHOD
 *
m‘h
))

502 (
RSA
 *
r§
, 
b™s
, 
´imes
, 
BIGNUM
 *
e
, 
BN_GENCB
 *
cb
);

503 
RSA_m‘h_£t_muÉi_´ime_keyg’
(
RSA_METHOD
 *
m‘h
,

504 (*
keyg’
è(
RSA
 *
r§
, 
b™s
,

505 
´imes
, 
BIGNUM
 *
e
,

506 
BN_GENCB
 *
cb
));

508 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/ssl.h

12 #iâdeà
HEADER_SSL_H


13 
	#HEADER_SSL_H


	)

15 
	~<İ’s¦/e_os2.h
>

16 
	~<İ’s¦/İ’s¦cÚf.h
>

17 
	~<İ’s¦/comp.h
>

18 
	~<İ’s¦/bio.h
>

19 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

20 
	~<İ’s¦/x509.h
>

21 
	~<İ’s¦/üy±o.h
>

22 
	~<İ’s¦/bufãr.h
>

24 
	~<İ’s¦/lhash.h
>

25 
	~<İ’s¦/³m.h
>

26 
	~<İ’s¦/hmac.h
>

27 
	~<İ’s¦/async.h
>

29 
	~<İ’s¦/§ã¡ack.h
>

30 
	~<İ’s¦/symhacks.h
>

31 
	~<İ’s¦/ù.h
>

32 
	~<İ’s¦/s¦”r.h
>

34 #ifdeà 
__ılu¥lus


43 
	#SSL_SESSION_ASN1_VERSION
 0x0001

	)

45 
	#SSL_MAX_SSL_SESSION_ID_LENGTH
 32

	)

46 
	#SSL_MAX_SID_CTX_LENGTH
 32

	)

48 
	#SSL_MIN_RSA_MODULUS_LENGTH_IN_BYTES
 (512/8)

	)

49 
	#SSL_MAX_KEY_ARG_LENGTH
 8

	)

50 
	#SSL_MAX_MASTER_KEY_LENGTH
 48

	)

53 
	#SSL_MAX_PIPELINES
 32

	)

59 
	#SSL_TXT_LOW
 "LOW"

	)

60 
	#SSL_TXT_MEDIUM
 "MEDIUM"

	)

61 
	#SSL_TXT_HIGH
 "HIGH"

	)

62 
	#SSL_TXT_FIPS
 "FIPS"

	)

64 
	#SSL_TXT_aNULL
 "aNULL"

	)

65 
	#SSL_TXT_eNULL
 "eNULL"

	)

66 
	#SSL_TXT_NULL
 "NULL"

	)

68 
	#SSL_TXT_kRSA
 "kRSA"

	)

69 
	#SSL_TXT_kDHr
 "kDHr"

	)

70 
	#SSL_TXT_kDHd
 "kDHd"

	)

71 
	#SSL_TXT_kDH
 "kDH"

	)

72 
	#SSL_TXT_kEDH
 "kEDH"

	)

73 
	#SSL_TXT_kDHE
 "kDHE"

	)

74 
	#SSL_TXT_kECDHr
 "kECDHr"

	)

75 
	#SSL_TXT_kECDHe
 "kECDHe"

	)

76 
	#SSL_TXT_kECDH
 "kECDH"

	)

77 
	#SSL_TXT_kEECDH
 "kEECDH"

	)

78 
	#SSL_TXT_kECDHE
 "kECDHE"

	)

79 
	#SSL_TXT_kPSK
 "kPSK"

	)

80 
	#SSL_TXT_kRSAPSK
 "kRSAPSK"

	)

81 
	#SSL_TXT_kECDHEPSK
 "kECDHEPSK"

	)

82 
	#SSL_TXT_kDHEPSK
 "kDHEPSK"

	)

83 
	#SSL_TXT_kGOST
 "kGOST"

	)

84 
	#SSL_TXT_kSRP
 "kSRP"

	)

86 
	#SSL_TXT_aRSA
 "aRSA"

	)

87 
	#SSL_TXT_aDSS
 "aDSS"

	)

88 
	#SSL_TXT_aDH
 "aDH"

	)

89 
	#SSL_TXT_aECDH
 "aECDH"

	)

90 
	#SSL_TXT_aECDSA
 "aECDSA"

	)

91 
	#SSL_TXT_aPSK
 "aPSK"

	)

92 
	#SSL_TXT_aGOST94
 "aGOST94"

	)

93 
	#SSL_TXT_aGOST01
 "aGOST01"

	)

94 
	#SSL_TXT_aGOST12
 "aGOST12"

	)

95 
	#SSL_TXT_aGOST
 "aGOST"

	)

96 
	#SSL_TXT_aSRP
 "aSRP"

	)

98 
	#SSL_TXT_DSS
 "DSS"

	)

99 
	#SSL_TXT_DH
 "DH"

	)

100 
	#SSL_TXT_DHE
 "DHE"

	)

101 
	#SSL_TXT_EDH
 "EDH"

	)

102 
	#SSL_TXT_ADH
 "ADH"

	)

103 
	#SSL_TXT_RSA
 "RSA"

	)

104 
	#SSL_TXT_ECDH
 "ECDH"

	)

105 
	#SSL_TXT_EECDH
 "EECDH"

	)

106 
	#SSL_TXT_ECDHE
 "ECDHE"

	)

107 
	#SSL_TXT_AECDH
 "AECDH"

	)

108 
	#SSL_TXT_ECDSA
 "ECDSA"

	)

109 
	#SSL_TXT_PSK
 "PSK"

	)

110 
	#SSL_TXT_SRP
 "SRP"

	)

112 
	#SSL_TXT_DES
 "DES"

	)

113 
	#SSL_TXT_3DES
 "3DES"

	)

114 
	#SSL_TXT_RC4
 "RC4"

	)

115 
	#SSL_TXT_RC2
 "RC2"

	)

116 
	#SSL_TXT_IDEA
 "IDEA"

	)

117 
	#SSL_TXT_SEED
 "SEED"

	)

118 
	#SSL_TXT_AES128
 "AES128"

	)

119 
	#SSL_TXT_AES256
 "AES256"

	)

120 
	#SSL_TXT_AES
 "AES"

	)

121 
	#SSL_TXT_AES_GCM
 "AESGCM"

	)

122 
	#SSL_TXT_AES_CCM
 "AESCCM"

	)

123 
	#SSL_TXT_AES_CCM_8
 "AESCCM8"

	)

124 
	#SSL_TXT_CAMELLIA128
 "CAMELLIA128"

	)

125 
	#SSL_TXT_CAMELLIA256
 "CAMELLIA256"

	)

126 
	#SSL_TXT_CAMELLIA
 "CAMELLIA"

	)

127 
	#SSL_TXT_CHACHA20
 "CHACHA20"

	)

128 
	#SSL_TXT_GOST
 "GOST89"

	)

129 
	#SSL_TXT_ARIA
 "ARIA"

	)

130 
	#SSL_TXT_ARIA_GCM
 "ARIAGCM"

	)

131 
	#SSL_TXT_ARIA128
 "ARIA128"

	)

132 
	#SSL_TXT_ARIA256
 "ARIA256"

	)

134 
	#SSL_TXT_MD5
 "MD5"

	)

135 
	#SSL_TXT_SHA1
 "SHA1"

	)

136 
	#SSL_TXT_SHA
 "SHA"

	)

137 
	#SSL_TXT_GOST94
 "GOST94"

	)

138 
	#SSL_TXT_GOST89MAC
 "GOST89MAC"

	)

139 
	#SSL_TXT_GOST12
 "GOST12"

	)

140 
	#SSL_TXT_GOST89MAC12
 "GOST89MAC12"

	)

141 
	#SSL_TXT_SHA256
 "SHA256"

	)

142 
	#SSL_TXT_SHA384
 "SHA384"

	)

144 
	#SSL_TXT_SSLV3
 "SSLv3"

	)

145 
	#SSL_TXT_TLSV1
 "TLSv1"

	)

146 
	#SSL_TXT_TLSV1_1
 "TLSv1.1"

	)

147 
	#SSL_TXT_TLSV1_2
 "TLSv1.2"

	)

149 
	#SSL_TXT_ALL
 "ALL"

	)

165 
	#SSL_TXT_CMPALL
 "COMPLEMENTOFALL"

	)

166 
	#SSL_TXT_CMPDEF
 "COMPLEMENTOFDEFAULT"

	)

173 
	#SSL_DEFAULT_CIPHER_LIST
 "ALL:!COMPLEMENTOFDEFAULT:!eNULL"

	)

175 #ià!
defšed
(
OPENSSL_NO_CHACHA
è&& !defšed(
OPENSSL_NO_POLY1305
)

176 
	#TLS_DEFAULT_CIPHERSUITES
 "TLS_AES_256_GCM_SHA384:" \

178 "TLS_AES_128_GCM_SHA256"

	)

180 
	#TLS_DEFAULT_CIPHERSUITES
 "TLS_AES_256_GCM_SHA384:" \

181 "TLS_AES_128_GCM_SHA256"

	)

191 
	#SSL_SENT_SHUTDOWN
 1

	)

192 
	#SSL_RECEIVED_SHUTDOWN
 2

	)

194 #ifdeà
__ılu¥lus


198 #ifdeà 
__ılu¥lus


202 
	#SSL_FILETYPE_ASN1
 
X509_FILETYPE_ASN1


	)

203 
	#SSL_FILETYPE_PEM
 
X509_FILETYPE_PEM


	)

209 
s¦_¡
 *
	ts¦_üock_¡
;

210 
s_£ssiÚ_tick‘_ext_¡
 
	tTLS_SESSION_TICKET_EXT
;

211 
s¦_m‘hod_¡
 
	tSSL_METHOD
;

212 
s¦_ch”_¡
 
	tSSL_CIPHER
;

213 
s¦_£ssiÚ_¡
 
	tSSL_SESSION
;

214 
s_sig®gs_¡
 
	tTLS_SIGALGS
;

215 
s¦_cÚf_ùx_¡
 
	tSSL_CONF_CTX
;

216 
s¦_comp_¡
 
	tSSL_COMP
;

218 
STACK_OF
(
SSL_CIPHER
);

219 
STACK_OF
(
SSL_COMP
);

222 
	s¤_´ÙeùiÚ_´ofe_¡
 {

223 cÚ¡ *
Çme
;

224 
id
;

225 } 
	tSRTP_PROTECTION_PROFILE
;

227 
DEFINE_STACK_OF
(
SRTP_PROTECTION_PROFILE
)

229 (*
s_£ssiÚ_tick‘_ext_cb_â
)(
	tSSL
 *
	ts
, cÚ¡ *
	td©a
,

230 
	tËn
, *
	t¬g
);

231 (*
s_£ssiÚ_£ü‘_cb_â
)(
	tSSL
 *
	ts
, *
	t£ü‘
, *
	t£ü‘_Ën
,

232 
	tSTACK_OF
(
	tSSL_CIPHER
è*
	t³”_ch”s
,

233 cÚ¡ 
	tSSL_CIPHER
 **
	tch”
, *
	t¬g
);

237 
	#SSL_EXT_TLS_ONLY
 0x0001

	)

239 
	#SSL_EXT_DTLS_ONLY
 0x0002

	)

241 
	#SSL_EXT_TLS_IMPLEMENTATION_ONLY
 0x0004

	)

243 
	#SSL_EXT_SSL3_ALLOWED
 0x0008

	)

245 
	#SSL_EXT_TLS1_2_AND_BELOW_ONLY
 0x0010

	)

247 
	#SSL_EXT_TLS1_3_ONLY
 0x0020

	)

249 
	#SSL_EXT_IGNORE_ON_RESUMPTION
 0x0040

	)

250 
	#SSL_EXT_CLIENT_HELLO
 0x0080

	)

252 
	#SSL_EXT_TLS1_2_SERVER_HELLO
 0x0100

	)

253 
	#SSL_EXT_TLS1_3_SERVER_HELLO
 0x0200

	)

254 
	#SSL_EXT_TLS1_3_ENCRYPTED_EXTENSIONS
 0x0400

	)

255 
	#SSL_EXT_TLS1_3_HELLO_RETRY_REQUEST
 0x0800

	)

256 
	#SSL_EXT_TLS1_3_CERTIFICATE
 0x1000

	)

257 
	#SSL_EXT_TLS1_3_NEW_SESSION_TICKET
 0x2000

	)

258 
	#SSL_EXT_TLS1_3_CERTIFICATE_REQUEST
 0x4000

	)

262 (*
cu¡om_ext_add_cb
)(
	tSSL
 *
	ts
, 
	text_ty³
,

263 cÚ¡ **
	tout
, 
	tsize_t
 *
	tou’
,

264 *
	t®
, *
	tadd_¬g
);

266 (*
cu¡om_ext_ä“_cb
)(
	tSSL
 *
	ts
, 
	text_ty³
,

267 cÚ¡ *
	tout
, *
	tadd_¬g
);

269 (*
cu¡om_ext_·r£_cb
)(
	tSSL
 *
	ts
, 
	text_ty³
,

270 cÚ¡ *
	tš
, 
	tsize_t
 
	tšËn
,

271 *
	t®
, *
	t·r£_¬g
);

274 (*
SSL_cu¡om_ext_add_cb_ex
)(
	tSSL
 *
	ts
, 
	text_ty³
,

275 
	tcÚ‹xt
,

276 cÚ¡ **
	tout
,

277 
	tsize_t
 *
	tou’
, 
	tX509
 *
	tx
,

278 
	tsize_t
 
	tchašidx
,

279 *
	t®
, *
	tadd_¬g
);

281 (*
SSL_cu¡om_ext_ä“_cb_ex
)(
	tSSL
 *
	ts
, 
	text_ty³
,

282 
	tcÚ‹xt
,

283 cÚ¡ *
	tout
,

284 *
	tadd_¬g
);

286 (*
SSL_cu¡om_ext_·r£_cb_ex
)(
	tSSL
 *
	ts
, 
	text_ty³
,

287 
	tcÚ‹xt
,

288 cÚ¡ *
	tš
,

289 
	tsize_t
 
	tšËn
, 
	tX509
 *
	tx
,

290 
	tsize_t
 
	tchašidx
,

291 *
	t®
, *
	t·r£_¬g
);

294 (*
SSL_v”ify_cb
)(
	t´ev”ify_ok
, 
	tX509_STORE_CTX
 *
	tx509_ùx
);

304 
	#SSL_OP_LEGACY_SERVER_CONNECT
 0x00000004U

	)

307 
	#SSL_OP_TLSEXT_PADDING
 0x00000010U

	)

309 
	#SSL_OP_SAFARI_ECDHE_ECDSA_BUG
 0x00000040U

	)

317 
	#SSL_OP_ALLOW_NO_DHE_KEX
 0x00000400U

	)

326 
	#SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS
 0x00000800U

	)

329 
	#SSL_OP_NO_QUERY_MTU
 0x00001000U

	)

331 
	#SSL_OP_COOKIE_EXCHANGE
 0x00002000U

	)

333 
	#SSL_OP_NO_TICKET
 0x00004000U

	)

334 #iâdeà
OPENSSL_NO_DTLS1_METHOD


337 
	#SSL_OP_CISCO_ANYCONNECT
 0x00008000U

	)

341 
	#SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION
 0x00010000U

	)

343 
	#SSL_OP_NO_COMPRESSION
 0x00020000U

	)

345 
	#SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION
 0x00040000U

	)

347 
	#SSL_OP_NO_ENCRYPT_THEN_MAC
 0x00080000U

	)

353 
	#SSL_OP_ENABLE_MIDDLEBOX_COMPAT
 0x00100000U

	)

357 
	#SSL_OP_PRIORITIZE_CHACHA
 0x00200000U

	)

362 
	#SSL_OP_CIPHER_SERVER_PREFERENCE
 0x00400000U

	)

369 
	#SSL_OP_TLS_ROLLBACK_BUG
 0x00800000U

	)

375 
	#SSL_OP_NO_ANTI_REPLAY
 0x01000000U

	)

377 
	#SSL_OP_NO_SSLv3
 0x02000000U

	)

378 
	#SSL_OP_NO_TLSv1
 0x04000000U

	)

379 
	#SSL_OP_NO_TLSv1_2
 0x08000000U

	)

380 
	#SSL_OP_NO_TLSv1_1
 0x10000000U

	)

381 
	#SSL_OP_NO_TLSv1_3
 0x20000000U

	)

383 
	#SSL_OP_NO_DTLSv1
 0x04000000U

	)

384 
	#SSL_OP_NO_DTLSv1_2
 0x08000000U

	)

386 
	#SSL_OP_NO_SSL_MASK
 (
SSL_OP_NO_SSLv3
|\

387 
SSL_OP_NO_TLSv1
|
SSL_OP_NO_TLSv1_1
|
SSL_OP_NO_TLSv1_2
|
SSL_OP_NO_TLSv1_3
)

	)

388 
	#SSL_OP_NO_DTLS_MASK
 (
SSL_OP_NO_DTLSv1
|
SSL_OP_NO_DTLSv1_2
)

	)

391 
	#SSL_OP_NO_RENEGOTIATION
 0x40000000U

	)

398 
	#SSL_OP_CRYPTOPRO_TLSEXT_BUG
 0x80000000U

	)

405 
	#SSL_OP_ALL
 (
SSL_OP_CRYPTOPRO_TLSEXT_BUG
|\

406 
SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS
|\

407 
SSL_OP_LEGACY_SERVER_CONNECT
|\

408 
SSL_OP_TLSEXT_PADDING
|\

409 
SSL_OP_SAFARI_ECDHE_ECDSA_BUG
)

	)

415 
	#SSL_OP_MICROSOFT_SESS_ID_BUG
 0x0

	)

418 
	#SSL_OP_NETSCAPE_CHALLENGE_BUG
 0x0

	)

421 
	#SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG
 0x0

	)

424 
	#SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG
 0x0

	)

426 
	#SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER
 0x0

	)

428 
	#SSL_OP_MSIE_SSLV2_RSA_PADDING
 0x0

	)

431 
	#SSL_OP_SSLEAY_080_CLIENT_DH_BUG
 0x0

	)

433 
	#SSL_OP_TLS_D5_BUG
 0x0

	)

435 
	#SSL_OP_TLS_BLOCK_PADDING_BUG
 0x0

	)

437 
	#SSL_OP_SINGLE_ECDH_USE
 0x0

	)

439 
	#SSL_OP_SINGLE_DH_USE
 0x0

	)

441 
	#SSL_OP_EPHEMERAL_RSA
 0x0

	)

443 
	#SSL_OP_NO_SSLv2
 0x0

	)

445 
	#SSL_OP_PKCS1_CHECK_1
 0x0

	)

447 
	#SSL_OP_PKCS1_CHECK_2
 0x0

	)

449 
	#SSL_OP_NETSCAPE_CA_DN_BUG
 0x0

	)

451 
	#SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG
 0x0

	)

457 
	#SSL_MODE_ENABLE_PARTIAL_WRITE
 0x00000001U

	)

464 
	#SSL_MODE_ACCEPT_MOVING_WRITE_BUFFER
 0x00000002U

	)

468 
	#SSL_MODE_AUTO_RETRY
 0x00000004U

	)

470 
	#SSL_MODE_NO_AUTO_CHAIN
 0x00000008U

	)

475 
	#SSL_MODE_RELEASE_BUFFERS
 0x00000010U

	)

481 
	#SSL_MODE_SEND_CLIENTHELLO_TIME
 0x00000020U

	)

482 
	#SSL_MODE_SEND_SERVERHELLO_TIME
 0x00000040U

	)

491 
	#SSL_MODE_SEND_FALLBACK_SCSV
 0x00000080U

	)

495 
	#SSL_MODE_ASYNC
 0x00000100U

	)

502 
	#SSL_CERT_FLAG_TLS_STRICT
 0x00000001U

	)

505 
	#SSL_CERT_FLAG_SUITEB_128_LOS_ONLY
 0x10000

	)

507 
	#SSL_CERT_FLAG_SUITEB_192_LOS
 0x20000

	)

509 
	#SSL_CERT_FLAG_SUITEB_128_LOS
 0x30000

	)

512 
	#SSL_CERT_FLAG_BROKEN_PROTOCOL
 0x10000000

	)

516 
	#SSL_BUILD_CHAIN_FLAG_UNTRUSTED
 0x1

	)

518 
	#SSL_BUILD_CHAIN_FLAG_NO_ROOT
 0x2

	)

520 
	#SSL_BUILD_CHAIN_FLAG_CHECK
 0x4

	)

522 
	#SSL_BUILD_CHAIN_FLAG_IGNORE_ERROR
 0x8

	)

524 
	#SSL_BUILD_CHAIN_FLAG_CLEAR_ERROR
 0x10

	)

528 
	#CERT_PKEY_VALID
 0x1

	)

530 
	#CERT_PKEY_SIGN
 0x2

	)

532 
	#CERT_PKEY_EE_SIGNATURE
 0x10

	)

534 
	#CERT_PKEY_CA_SIGNATURE
 0x20

	)

536 
	#CERT_PKEY_EE_PARAM
 0x40

	)

538 
	#CERT_PKEY_CA_PARAM
 0x80

	)

540 
	#CERT_PKEY_EXPLICIT_SIGN
 0x100

	)

542 
	#CERT_PKEY_ISSUER_NAME
 0x200

	)

544 
	#CERT_PKEY_CERT_TYPE
 0x400

	)

546 
	#CERT_PKEY_SUITEB
 0x800

	)

548 
	#SSL_CONF_FLAG_CMDLINE
 0x1

	)

549 
	#SSL_CONF_FLAG_FILE
 0x2

	)

550 
	#SSL_CONF_FLAG_CLIENT
 0x4

	)

551 
	#SSL_CONF_FLAG_SERVER
 0x8

	)

552 
	#SSL_CONF_FLAG_SHOW_ERRORS
 0x10

	)

553 
	#SSL_CONF_FLAG_CERTIFICATE
 0x20

	)

554 
	#SSL_CONF_FLAG_REQUIRE_PRIVATE
 0x40

	)

556 
	#SSL_CONF_TYPE_UNKNOWN
 0x0

	)

557 
	#SSL_CONF_TYPE_STRING
 0x1

	)

558 
	#SSL_CONF_TYPE_FILE
 0x2

	)

559 
	#SSL_CONF_TYPE_DIR
 0x3

	)

560 
	#SSL_CONF_TYPE_NONE
 0x4

	)

563 
	#SSL_COOKIE_LENGTH
 4096

	)

570 
SSL_CTX_g‘_İtiÚs
(cÚ¡ 
SSL_CTX
 *
ùx
);

571 
SSL_g‘_İtiÚs
(cÚ¡ 
SSL
 *
s
);

572 
SSL_CTX_ş—r_İtiÚs
(
SSL_CTX
 *
ùx
, 
İ
);

573 
SSL_ş—r_İtiÚs
(
SSL
 *
s
, 
İ
);

574 
SSL_CTX_£t_İtiÚs
(
SSL_CTX
 *
ùx
, 
İ
);

575 
SSL_£t_İtiÚs
(
SSL
 *
s
, 
İ
);

577 
	#SSL_CTX_£t_mode
(
ùx
,
İ
) \

578 
	`SSL_CTX_ù¾
((
ùx
),
SSL_CTRL_MODE
,(
İ
),
NULL
)

	)

579 
	#SSL_CTX_ş—r_mode
(
ùx
,
İ
) \

580 
	`SSL_CTX_ù¾
((
ùx
),
SSL_CTRL_CLEAR_MODE
,(
İ
),
NULL
)

	)

581 
	#SSL_CTX_g‘_mode
(
ùx
) \

582 
	`SSL_CTX_ù¾
((
ùx
),
SSL_CTRL_MODE
,0,
NULL
)

	)

583 
	#SSL_ş—r_mode
(
s¦
,
İ
) \

584 
	`SSL_ù¾
((
s¦
),
SSL_CTRL_CLEAR_MODE
,(
İ
),
NULL
)

	)

585 
	#SSL_£t_mode
(
s¦
,
İ
) \

586 
	`SSL_ù¾
((
s¦
),
SSL_CTRL_MODE
,(
İ
),
NULL
)

	)

587 
	#SSL_g‘_mode
(
s¦
) \

588 
	`SSL_ù¾
((
s¦
),
SSL_CTRL_MODE
,0,
NULL
)

	)

589 
	#SSL_£t_mtu
(
s¦
, 
mtu
) \

590 
	`SSL_ù¾
((
s¦
),
SSL_CTRL_SET_MTU
,(
mtu
),
NULL
)

	)

591 
	#DTLS_£t_lšk_mtu
(
s¦
, 
mtu
) \

592 
	`SSL_ù¾
((
s¦
),
DTLS_CTRL_SET_LINK_MTU
,(
mtu
),
NULL
)

	)

593 
	#DTLS_g‘_lšk_mš_mtu
(
s¦
) \

594 
	`SSL_ù¾
((
s¦
),
DTLS_CTRL_GET_LINK_MIN_MTU
,0,
NULL
)

	)

596 
	#SSL_g‘_£cu»_»ÃgÙŸtiÚ_suµÜt
(
s¦
) \

597 
	`SSL_ù¾
((
s¦
), 
SSL_CTRL_GET_RI_SUPPORT
, 0, 
NULL
)

	)

599 #iâdeà
OPENSSL_NO_HEARTBEATS


600 
	#SSL_h—¹b—t
(
s¦
) \

601 
	`SSL_ù¾
((
s¦
),
SSL_CTRL_DTLS_EXT_SEND_HEARTBEAT
,0,
NULL
)

	)

604 
	#SSL_CTX_£t_û¹_æags
(
ùx
,
İ
) \

605 
	`SSL_CTX_ù¾
((
ùx
),
SSL_CTRL_CERT_FLAGS
,(
İ
),
NULL
)

	)

606 
	#SSL_£t_û¹_æags
(
s
,
İ
) \

607 
	`SSL_ù¾
((
s
),
SSL_CTRL_CERT_FLAGS
,(
İ
),
NULL
)

	)

608 
	#SSL_CTX_ş—r_û¹_æags
(
ùx
,
İ
) \

609 
	`SSL_CTX_ù¾
((
ùx
),
SSL_CTRL_CLEAR_CERT_FLAGS
,(
İ
),
NULL
)

	)

610 
	#SSL_ş—r_û¹_æags
(
s
,
İ
) \

611 
	`SSL_ù¾
((
s
),
SSL_CTRL_CLEAR_CERT_FLAGS
,(
İ
),
NULL
)

	)

613 
SSL_CTX_£t_msg_ÿÎback
(
SSL_CTX
 *
ùx
,

614 (*
cb
è(
wr™e_p
, 
v”siÚ
,

615 
cÚ‹Á_ty³
, cÚ¡ *
buf
,

616 
size_t
 
Ën
, 
SSL
 *
s¦
, *
¬g
));

617 
SSL_£t_msg_ÿÎback
(
SSL
 *
s¦
,

618 (*
cb
è(
wr™e_p
, 
v”siÚ
,

619 
cÚ‹Á_ty³
, cÚ¡ *
buf
,

620 
size_t
 
Ën
, 
SSL
 *
s¦
, *
¬g
));

621 
	#SSL_CTX_£t_msg_ÿÎback_¬g
(
ùx
, 
¬g
è
	`SSL_CTX_ù¾
((ùx), 
SSL_CTRL_SET_MSG_CALLBACK_ARG
, 0, (¬g))

	)

622 
	#SSL_£t_msg_ÿÎback_¬g
(
s¦
, 
¬g
è
	`SSL_ù¾
((s¦), 
SSL_CTRL_SET_MSG_CALLBACK_ARG
, 0, (¬g))

	)

624 
	#SSL_g‘_extms_suµÜt
(
s
) \

625 
	`SSL_ù¾
((
s
),
SSL_CTRL_GET_EXTMS_SUPPORT
,0,
NULL
)

	)

627 #iâdeà
OPENSSL_NO_SRP


630 
__owur
 
SSL_SRP_CTX_š™
(
SSL
 *
s
);

631 
__owur
 
SSL_CTX_SRP_CTX_š™
(
SSL_CTX
 *
ùx
);

632 
SSL_SRP_CTX_ä“
(
SSL
 *
ùx
);

633 
SSL_CTX_SRP_CTX_ä“
(
SSL_CTX
 *
ùx
);

634 
__owur
 
SSL_¤p_£rv”_·¿m_w™h_u£ºame
(
SSL
 *
s
, *
ad
);

635 
__owur
 
SRP_C®c_A_·¿m
(
SSL
 *
s
);

640 
	#SSL_MAX_CERT_LIST_DEFAULT
 1024*100

	)

642 
	#SSL_SESSION_CACHE_MAX_SIZE_DEFAULT
 (1024*20)

	)

656 (*
GEN_SESSION_CB
è(
	tSSL
 *
	ts¦
, *
	tid
,

657 *
	tid_Ën
);

659 
	#SSL_SESS_CACHE_OFF
 0x0000

	)

660 
	#SSL_SESS_CACHE_CLIENT
 0x0001

	)

661 
	#SSL_SESS_CACHE_SERVER
 0x0002

	)

662 
	#SSL_SESS_CACHE_BOTH
 (
SSL_SESS_CACHE_CLIENT
|
SSL_SESS_CACHE_SERVER
)

	)

663 
	#SSL_SESS_CACHE_NO_AUTO_CLEAR
 0x0080

	)

665 
	#SSL_SESS_CACHE_NO_INTERNAL_LOOKUP
 0x0100

	)

666 
	#SSL_SESS_CACHE_NO_INTERNAL_STORE
 0x0200

	)

667 
	#SSL_SESS_CACHE_NO_INTERNAL
 \

668 (
SSL_SESS_CACHE_NO_INTERNAL_LOOKUP
|
SSL_SESS_CACHE_NO_INTERNAL_STORE
)

	)

670 
LHASH_OF
(
SSL_SESSION
è*
SSL_CTX_£ssiÚs
(
SSL_CTX
 *
ùx
);

671 
	#SSL_CTX_£ss_numb”
(
ùx
) \

672 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SESS_NUMBER
,0,
NULL
)

	)

673 
	#SSL_CTX_£ss_cÚÃù
(
ùx
) \

674 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SESS_CONNECT
,0,
NULL
)

	)

675 
	#SSL_CTX_£ss_cÚÃù_good
(
ùx
) \

676 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SESS_CONNECT_GOOD
,0,
NULL
)

	)

677 
	#SSL_CTX_£ss_cÚÃù_»ÃgÙŸ‹
(
ùx
) \

678 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SESS_CONNECT_RENEGOTIATE
,0,
NULL
)

	)

679 
	#SSL_CTX_£ss_acû±
(
ùx
) \

680 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SESS_ACCEPT
,0,
NULL
)

	)

681 
	#SSL_CTX_£ss_acû±_»ÃgÙŸ‹
(
ùx
) \

682 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SESS_ACCEPT_RENEGOTIATE
,0,
NULL
)

	)

683 
	#SSL_CTX_£ss_acû±_good
(
ùx
) \

684 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SESS_ACCEPT_GOOD
,0,
NULL
)

	)

685 
	#SSL_CTX_£ss_h™s
(
ùx
) \

686 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SESS_HIT
,0,
NULL
)

	)

687 
	#SSL_CTX_£ss_cb_h™s
(
ùx
) \

688 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SESS_CB_HIT
,0,
NULL
)

	)

689 
	#SSL_CTX_£ss_mis£s
(
ùx
) \

690 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SESS_MISSES
,0,
NULL
)

	)

691 
	#SSL_CTX_£ss_timeouts
(
ùx
) \

692 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SESS_TIMEOUTS
,0,
NULL
)

	)

693 
	#SSL_CTX_£ss_ÿche_fuÎ
(
ùx
) \

694 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SESS_CACHE_FULL
,0,
NULL
)

	)

696 
SSL_CTX_£ss_£t_Ãw_cb
(
SSL_CTX
 *
ùx
,

697 (*
Ãw_£ssiÚ_cb
è(
s¦_¡
 *
s¦
,

698 
SSL_SESSION
 *
£ss
));

699 (*
SSL_CTX_£ss_g‘_Ãw_cb
(
SSL_CTX
 *
ùx
)è(
s¦_¡
 *
s¦
,

700 
SSL_SESSION
 *
£ss
);

701 
SSL_CTX_£ss_£t_»move_cb
(
SSL_CTX
 *
ùx
,

702 (*
»move_£ssiÚ_cb
è(
s¦_ùx_¡


703 *
ùx
,

704 
SSL_SESSION
 *
£ss
));

705 (*
SSL_CTX_£ss_g‘_»move_cb
(
SSL_CTX
 *
ùx
)è(
s¦_ùx_¡
 *ctx,

706 
SSL_SESSION
 *
£ss
);

707 
SSL_CTX_£ss_£t_g‘_cb
(
SSL_CTX
 *
ùx
,

708 
SSL_SESSION
 *(*
g‘_£ssiÚ_cb
è(
s¦_¡


709 *
s¦
,

711 *
d©a
, 
Ën
,

712 *
cİy
));

713 
SSL_SESSION
 *(*
SSL_CTX_£ss_g‘_g‘_cb
(
SSL_CTX
 *
ùx
)è(
s¦_¡
 *
s¦
,

714 cÚ¡ *
d©a
,

715 
Ën
, *
cİy
);

716 
SSL_CTX_£t_šfo_ÿÎback
(
SSL_CTX
 *
ùx
,

717 (*
cb
è(cÚ¡ 
SSL
 *
s¦
, 
ty³
, 
v®
));

718 (*
SSL_CTX_g‘_šfo_ÿÎback
(
SSL_CTX
 *
ùx
)è(cÚ¡ 
SSL
 *
s¦
, 
ty³
,

719 
v®
);

720 
SSL_CTX_£t_ş›Á_û¹_cb
(
SSL_CTX
 *
ùx
,

721 (*
ş›Á_û¹_cb
è(
SSL
 *
s¦
, 
X509
 **
x509
,

722 
EVP_PKEY
 **
pkey
));

723 (*
SSL_CTX_g‘_ş›Á_û¹_cb
(
SSL_CTX
 *
ùx
)è(
SSL
 *
s¦
, 
X509
 **
x509
,

724 
EVP_PKEY
 **
pkey
);

725 #iâdeà
OPENSSL_NO_ENGINE


726 
__owur
 
SSL_CTX_£t_ş›Á_û¹_’gše
(
SSL_CTX
 *
ùx
, 
ENGINE
 *
e
);

728 
SSL_CTX_£t_cook›_g’”©e_cb
(
SSL_CTX
 *
ùx
,

729 (*
­p_g’_cook›_cb
è(
SSL
 *
s¦
,

731 *
cook›
,

733 *
cook›_Ën
));

734 
SSL_CTX_£t_cook›_v”ify_cb
(
SSL_CTX
 *
ùx
,

735 (*
­p_v”ify_cook›_cb
è(
SSL
 *
s¦
,

737 *
cook›
,

739 
cook›_Ën
));

741 
SSL_CTX_£t_¡©–ess_cook›_g’”©e_cb
(

742 
SSL_CTX
 *
ùx
,

743 (*
g’_¡©–ess_cook›_cb
è(
SSL
 *
s¦
,

744 *
cook›
,

745 
size_t
 *
cook›_Ën
));

746 
SSL_CTX_£t_¡©–ess_cook›_v”ify_cb
(

747 
SSL_CTX
 *
ùx
,

748 (*
v”ify_¡©–ess_cook›_cb
è(
SSL
 *
s¦
,

749 cÚ¡ *
cook›
,

750 
size_t
 
cook›_Ën
));

751 #iâdeà
OPENSSL_NO_NEXTPROTONEG


753 (*
SSL_CTX_Ån_adv”ti£d_cb_func
)(
	tSSL
 *
	ts¦
,

754 cÚ¡ **
	tout
,

755 *
	tou’
,

756 *
	t¬g
);

757 
SSL_CTX_£t_Ãxt_´Ùos_adv”ti£d_cb
(
SSL_CTX
 *
s
,

758 
SSL_CTX_Ån_adv”ti£d_cb_func
 
cb
,

759 *
¬g
);

760 
	#SSL_CTX_£t_Ån_adv”ti£d_cb
 
SSL_CTX_£t_Ãxt_´Ùos_adv”ti£d_cb


	)

762 (*
SSL_CTX_Ån_£Ëù_cb_func
)(
	tSSL
 *
	ts
,

763 **
	tout
,

764 *
	tou’
,

765 cÚ¡ *
	tš
,

766 
	tšËn
,

767 *
	t¬g
);

768 
SSL_CTX_£t_Ãxt_´Ùo_£Ëù_cb
(
SSL_CTX
 *
s
,

769 
SSL_CTX_Ån_£Ëù_cb_func
 
cb
,

770 *
¬g
);

771 
	#SSL_CTX_£t_Ån_£Ëù_cb
 
SSL_CTX_£t_Ãxt_´Ùo_£Ëù_cb


	)

773 
SSL_g‘0_Ãxt_´Ùo_ÃgÙŸ‹d
(cÚ¡ 
SSL
 *
s
, cÚ¡ **
d©a
,

774 *
Ën
);

775 
	#SSL_g‘0_Ån_ÃgÙŸ‹d
 
SSL_g‘0_Ãxt_´Ùo_ÃgÙŸ‹d


	)

778 
__owur
 
SSL_£Ëù_Ãxt_´Ùo
(**
out
, *
ou’
,

779 cÚ¡ *
š
, 
šËn
,

780 cÚ¡ *
ş›Á
,

781 
ş›Á_Ën
);

783 
	#OPENSSL_NPN_UNSUPPORTED
 0

	)

784 
	#OPENSSL_NPN_NEGOTIATED
 1

	)

785 
	#OPENSSL_NPN_NO_OVERLAP
 2

	)

787 
__owur
 
SSL_CTX_£t_®²_´Ùos
(
SSL_CTX
 *
ùx
, cÚ¡ *
´Ùos
,

788 
´Ùos_Ën
);

789 
__owur
 
SSL_£t_®²_´Ùos
(
SSL
 *
s¦
, cÚ¡ *
´Ùos
,

790 
´Ùos_Ën
);

791 (*
SSL_CTX_®²_£Ëù_cb_func
)(
	tSSL
 *
	ts¦
,

792 cÚ¡ **
	tout
,

793 *
	tou’
,

794 cÚ¡ *
	tš
,

795 
	tšËn
,

796 *
	t¬g
);

797 
SSL_CTX_£t_®²_£Ëù_cb
(
SSL_CTX
 *
ùx
,

798 
SSL_CTX_®²_£Ëù_cb_func
 
cb
,

799 *
¬g
);

800 
SSL_g‘0_®²_£Ëùed
(cÚ¡ 
SSL
 *
s¦
, cÚ¡ **
d©a
,

801 *
Ën
);

803 #iâdeà
OPENSSL_NO_PSK


808 
	#PSK_MAX_IDENTITY_LEN
 128

	)

809 
	#PSK_MAX_PSK_LEN
 256

	)

810 (*
	tSSL_psk_ş›Á_cb_func
)(
	tSSL
 *
	ts¦
,

811 cÚ¡ *
	thšt
,

812 *
	tid’t™y
,

813 
	tmax_id’t™y_Ën
,

814 *
	tpsk
,

815 
	tmax_psk_Ën
);

816 
SSL_CTX_£t_psk_ş›Á_ÿÎback
(
SSL_CTX
 *
ùx
, 
SSL_psk_ş›Á_cb_func
 
cb
);

817 
SSL_£t_psk_ş›Á_ÿÎback
(
SSL
 *
s¦
, 
SSL_psk_ş›Á_cb_func
 
cb
);

819 (*
	tSSL_psk_£rv”_cb_func
)(
	tSSL
 *
	ts¦
,

820 cÚ¡ *
	tid’t™y
,

821 *
	tpsk
,

822 
	tmax_psk_Ën
);

823 
SSL_CTX_£t_psk_£rv”_ÿÎback
(
SSL_CTX
 *
ùx
, 
SSL_psk_£rv”_cb_func
 
cb
);

824 
SSL_£t_psk_£rv”_ÿÎback
(
SSL
 *
s¦
, 
SSL_psk_£rv”_cb_func
 
cb
);

826 
__owur
 
SSL_CTX_u£_psk_id’t™y_hšt
(
SSL_CTX
 *
ùx
, cÚ¡ *
id’t™y_hšt
);

827 
__owur
 
SSL_u£_psk_id’t™y_hšt
(
SSL
 *
s
, cÚ¡ *
id’t™y_hšt
);

828 cÚ¡ *
SSL_g‘_psk_id’t™y_hšt
(cÚ¡ 
SSL
 *
s
);

829 cÚ¡ *
SSL_g‘_psk_id’t™y
(cÚ¡ 
SSL
 *
s
);

832 (*
SSL_psk_fšd_£ssiÚ_cb_func
)(
	tSSL
 *
	ts¦
,

833 cÚ¡ *
	tid’t™y
,

834 
	tsize_t
 
	tid’t™y_Ën
,

835 
	tSSL_SESSION
 **
	t£ss
);

836 (*
SSL_psk_u£_£ssiÚ_cb_func
)(
	tSSL
 *
	ts¦
, cÚ¡ 
	tEVP_MD
 *
	tmd
,

837 cÚ¡ **
	tid
,

838 
	tsize_t
 *
	tidËn
,

839 
	tSSL_SESSION
 **
	t£ss
);

841 
SSL_£t_psk_fšd_£ssiÚ_ÿÎback
(
SSL
 *
s
, 
SSL_psk_fšd_£ssiÚ_cb_func
 
cb
);

842 
SSL_CTX_£t_psk_fšd_£ssiÚ_ÿÎback
(
SSL_CTX
 *
ùx
,

843 
SSL_psk_fšd_£ssiÚ_cb_func
 
cb
);

844 
SSL_£t_psk_u£_£ssiÚ_ÿÎback
(
SSL
 *
s
, 
SSL_psk_u£_£ssiÚ_cb_func
 
cb
);

845 
SSL_CTX_£t_psk_u£_£ssiÚ_ÿÎback
(
SSL_CTX
 *
ùx
,

846 
SSL_psk_u£_£ssiÚ_cb_func
 
cb
);

850 
__owur
 
SSL_CTX_has_ş›Á_cu¡om_ext
(cÚ¡ 
SSL_CTX
 *
ùx
,

851 
ext_ty³
);

853 
__owur
 
SSL_CTX_add_ş›Á_cu¡om_ext
(
SSL_CTX
 *
ùx
,

854 
ext_ty³
,

855 
cu¡om_ext_add_cb
 
add_cb
,

856 
cu¡om_ext_ä“_cb
 
ä“_cb
,

857 *
add_¬g
,

858 
cu¡om_ext_·r£_cb
 
·r£_cb
,

859 *
·r£_¬g
);

861 
__owur
 
SSL_CTX_add_£rv”_cu¡om_ext
(
SSL_CTX
 *
ùx
,

862 
ext_ty³
,

863 
cu¡om_ext_add_cb
 
add_cb
,

864 
cu¡om_ext_ä“_cb
 
ä“_cb
,

865 *
add_¬g
,

866 
cu¡om_ext_·r£_cb
 
·r£_cb
,

867 *
·r£_¬g
);

869 
__owur
 
SSL_CTX_add_cu¡om_ext
(
SSL_CTX
 *
ùx
, 
ext_ty³
,

870 
cÚ‹xt
,

871 
SSL_cu¡om_ext_add_cb_ex
 
add_cb
,

872 
SSL_cu¡om_ext_ä“_cb_ex
 
ä“_cb
,

873 *
add_¬g
,

874 
SSL_cu¡om_ext_·r£_cb_ex
 
·r£_cb
,

875 *
·r£_¬g
);

877 
__owur
 
SSL_ex‹nsiÚ_suµÜ‹d
(
ext_ty³
);

879 
	#SSL_NOTHING
 1

	)

880 
	#SSL_WRITING
 2

	)

881 
	#SSL_READING
 3

	)

882 
	#SSL_X509_LOOKUP
 4

	)

883 
	#SSL_ASYNC_PAUSED
 5

	)

884 
	#SSL_ASYNC_NO_JOBS
 6

	)

885 
	#SSL_CLIENT_HELLO_CB
 7

	)

888 
	#SSL_wªt_nÙhšg
(
s
è(
	`SSL_wªt
(sè=ğ
SSL_NOTHING
)

	)

889 
	#SSL_wªt_»ad
(
s
è(
	`SSL_wªt
(sè=ğ
SSL_READING
)

	)

890 
	#SSL_wªt_wr™e
(
s
è(
	`SSL_wªt
(sè=ğ
SSL_WRITING
)

	)

891 
	#SSL_wªt_x509_lookup
(
s
è(
	`SSL_wªt
(sè=ğ
SSL_X509_LOOKUP
)

	)

892 
	#SSL_wªt_async
(
s
è(
	`SSL_wªt
(sè=ğ
SSL_ASYNC_PAUSED
)

	)

893 
	#SSL_wªt_async_job
(
s
è(
	`SSL_wªt
(sè=ğ
SSL_ASYNC_NO_JOBS
)

	)

894 
	#SSL_wªt_ş›Á_h–lo_cb
(
s
è(
	`SSL_wªt
(sè=ğ
SSL_CLIENT_HELLO_CB
)

	)

896 
	#SSL_MAC_FLAG_READ_MAC_STREAM
 1

	)

897 
	#SSL_MAC_FLAG_WRITE_MAC_STREAM
 2

	)

903 (*
SSL_CTX_keylog_cb_func
)(cÚ¡ 
	tSSL
 *
	ts¦
, cÚ¡ *
	tlše
);

910 
SSL_CTX_£t_keylog_ÿÎback
(
SSL_CTX
 *
ùx
, 
SSL_CTX_keylog_cb_func
 
cb
);

916 
SSL_CTX_keylog_cb_func
 
SSL_CTX_g‘_keylog_ÿÎback
(cÚ¡ 
SSL_CTX
 *
ùx
);

918 
SSL_CTX_£t_max_—¾y_d©a
(
SSL_CTX
 *
ùx
, 
ušt32_t
 
max_—¾y_d©a
);

919 
ušt32_t
 
SSL_CTX_g‘_max_—¾y_d©a
(cÚ¡ 
SSL_CTX
 *
ùx
);

920 
SSL_£t_max_—¾y_d©a
(
SSL
 *
s
, 
ušt32_t
 
max_—¾y_d©a
);

921 
ušt32_t
 
SSL_g‘_max_—¾y_d©a
(cÚ¡ 
SSL
 *
s
);

922 
SSL_CTX_£t_»cv_max_—¾y_d©a
(
SSL_CTX
 *
ùx
, 
ušt32_t
 
»cv_max_—¾y_d©a
);

923 
ušt32_t
 
SSL_CTX_g‘_»cv_max_—¾y_d©a
(cÚ¡ 
SSL_CTX
 *
ùx
);

924 
SSL_£t_»cv_max_—¾y_d©a
(
SSL
 *
s
, 
ušt32_t
 
»cv_max_—¾y_d©a
);

925 
ušt32_t
 
SSL_g‘_»cv_max_—¾y_d©a
(cÚ¡ 
SSL
 *
s
);

927 #ifdeà
__ılu¥lus


931 
	~<İ’s¦/s¦2.h
>

932 
	~<İ’s¦/s¦3.h
>

933 
	~<İ’s¦/s1.h
>

934 
	~<İ’s¦/ds1.h
>

935 
	~<İ’s¦/¤.h
>

937 #ifdeà 
__ılu¥lus


945 
DEFINE_STACK_OF_CONST
(
SSL_CIPHER
)

946 
DEFINE_STACK_OF
(
SSL_COMP
)

949 
	#SSL_£t_­p_d©a
(
s
,
¬g
è(
	`SSL_£t_ex_d©a
(s,0,(*)×rg)))

	)

950 
	#SSL_g‘_­p_d©a
(
s
è(
	`SSL_g‘_ex_d©a
(s,0))

	)

951 
	#SSL_SESSION_£t_­p_d©a
(
s
,
a
è(
	`SSL_SESSION_£t_ex_d©a
(s,0, \

952 (*)(
a
)))

	)

953 
	#SSL_SESSION_g‘_­p_d©a
(
s
è(
	`SSL_SESSION_g‘_ex_d©a
(s,0))

	)

954 
	#SSL_CTX_g‘_­p_d©a
(
ùx
è(
	`SSL_CTX_g‘_ex_d©a
(ùx,0))

	)

955 
	#SSL_CTX_£t_­p_d©a
(
ùx
,
¬g
è(
	`SSL_CTX_£t_ex_d©a
(ctx,0, \

956 (*)(
¬g
)))

	)

957 
DEPRECATEDIN_1_1_0
(
SSL_£t_debug
(
SSL
 *
s
, 
debug
))

961 
	#SSL_KEY_UPDATE_NONE
 -1

	)

963 
	#SSL_KEY_UPDATE_NOT_REQUESTED
 0

	)

964 
	#SSL_KEY_UPDATE_REQUESTED
 1

	)

979 
TLS_ST_BEFORE
,

980 
TLS_ST_OK
,

981 
DTLS_ST_CR_HELLO_VERIFY_REQUEST
,

982 
TLS_ST_CR_SRVR_HELLO
,

983 
TLS_ST_CR_CERT
,

984 
TLS_ST_CR_CERT_STATUS
,

985 
TLS_ST_CR_KEY_EXCH
,

986 
TLS_ST_CR_CERT_REQ
,

987 
TLS_ST_CR_SRVR_DONE
,

988 
TLS_ST_CR_SESSION_TICKET
,

989 
TLS_ST_CR_CHANGE
,

990 
TLS_ST_CR_FINISHED
,

991 
TLS_ST_CW_CLNT_HELLO
,

992 
TLS_ST_CW_CERT
,

993 
TLS_ST_CW_KEY_EXCH
,

994 
TLS_ST_CW_CERT_VRFY
,

995 
TLS_ST_CW_CHANGE
,

996 
TLS_ST_CW_NEXT_PROTO
,

997 
TLS_ST_CW_FINISHED
,

998 
TLS_ST_SW_HELLO_REQ
,

999 
TLS_ST_SR_CLNT_HELLO
,

1000 
DTLS_ST_SW_HELLO_VERIFY_REQUEST
,

1001 
TLS_ST_SW_SRVR_HELLO
,

1002 
TLS_ST_SW_CERT
,

1003 
TLS_ST_SW_KEY_EXCH
,

1004 
TLS_ST_SW_CERT_REQ
,

1005 
TLS_ST_SW_SRVR_DONE
,

1006 
TLS_ST_SR_CERT
,

1007 
TLS_ST_SR_KEY_EXCH
,

1008 
TLS_ST_SR_CERT_VRFY
,

1009 
TLS_ST_SR_NEXT_PROTO
,

1010 
TLS_ST_SR_CHANGE
,

1011 
TLS_ST_SR_FINISHED
,

1012 
TLS_ST_SW_SESSION_TICKET
,

1013 
TLS_ST_SW_CERT_STATUS
,

1014 
TLS_ST_SW_CHANGE
,

1015 
TLS_ST_SW_FINISHED
,

1016 
TLS_ST_SW_ENCRYPTED_EXTENSIONS
,

1017 
TLS_ST_CR_ENCRYPTED_EXTENSIONS
,

1018 
TLS_ST_CR_CERT_VRFY
,

1019 
TLS_ST_SW_CERT_VRFY
,

1020 
TLS_ST_CR_HELLO_REQ
,

1021 
TLS_ST_SW_KEY_UPDATE
,

1022 
TLS_ST_CW_KEY_UPDATE
,

1023 
TLS_ST_SR_KEY_UPDATE
,

1024 
TLS_ST_CR_KEY_UPDATE
,

1025 
TLS_ST_EARLY_DATA
,

1026 
TLS_ST_PENDING_EARLY_DATA_END
,

1027 
TLS_ST_CW_END_OF_EARLY_DATA
,

1028 
TLS_ST_SR_END_OF_EARLY_DATA


1029 } 
	tOSSL_HANDSHAKE_STATE
;

1039 
	#SSL_ST_CONNECT
 0x1000

	)

1040 
	#SSL_ST_ACCEPT
 0x2000

	)

1042 
	#SSL_ST_MASK
 0x0FFF

	)

1044 
	#SSL_CB_LOOP
 0x01

	)

1045 
	#SSL_CB_EXIT
 0x02

	)

1046 
	#SSL_CB_READ
 0x04

	)

1047 
	#SSL_CB_WRITE
 0x08

	)

1048 
	#SSL_CB_ALERT
 0x4000

	)

1049 
	#SSL_CB_READ_ALERT
 (
SSL_CB_ALERT
|
SSL_CB_READ
)

	)

1050 
	#SSL_CB_WRITE_ALERT
 (
SSL_CB_ALERT
|
SSL_CB_WRITE
)

	)

1051 
	#SSL_CB_ACCEPT_LOOP
 (
SSL_ST_ACCEPT
|
SSL_CB_LOOP
)

	)

1052 
	#SSL_CB_ACCEPT_EXIT
 (
SSL_ST_ACCEPT
|
SSL_CB_EXIT
)

	)

1053 
	#SSL_CB_CONNECT_LOOP
 (
SSL_ST_CONNECT
|
SSL_CB_LOOP
)

	)

1054 
	#SSL_CB_CONNECT_EXIT
 (
SSL_ST_CONNECT
|
SSL_CB_EXIT
)

	)

1055 
	#SSL_CB_HANDSHAKE_START
 0x10

	)

1056 
	#SSL_CB_HANDSHAKE_DONE
 0x20

	)

1059 
	#SSL_š_cÚÃù_š™
(
a
è(
	`SSL_š_š™
×è&& !
	`SSL_is_£rv”
×))

	)

1060 
	#SSL_š_acû±_š™
(
a
è(
	`SSL_š_š™
×è&& 
	`SSL_is_£rv”
×))

	)

1061 
SSL_š_š™
(cÚ¡ 
SSL
 *
s
);

1062 
SSL_š_befÜe
(cÚ¡ 
SSL
 *
s
);

1063 
SSL_is_š™_fšished
(cÚ¡ 
SSL
 *
s
);

1069 
	#SSL_ST_READ_HEADER
 0xF0

	)

1070 
	#SSL_ST_READ_BODY
 0xF1

	)

1071 
	#SSL_ST_READ_DONE
 0xF2

	)

1079 
size_t
 
SSL_g‘_fšished
(cÚ¡ 
SSL
 *
s
, *
buf
, size_ˆ
couÁ
);

1080 
size_t
 
SSL_g‘_³”_fšished
(cÚ¡ 
SSL
 *
s
, *
buf
, size_ˆ
couÁ
);

1086 
	#SSL_VERIFY_NONE
 0x00

	)

1087 
	#SSL_VERIFY_PEER
 0x01

	)

1088 
	#SSL_VERIFY_FAIL_IF_NO_PEER_CERT
 0x02

	)

1089 
	#SSL_VERIFY_CLIENT_ONCE
 0x04

	)

1090 
	#SSL_VERIFY_POST_HANDSHAKE
 0x08

	)

1092 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

1093 
	#O³nSSL_add_s¦_®gÜ™hms
(è
	`SSL_lib¿ry_š™
()

	)

1094 
	#SSL—y_add_s¦_®gÜ™hms
(è
	`SSL_lib¿ry_š™
()

	)

1098 
	#SSL_g‘_ch”
(
s
) \

1099 
	`SSL_CIPHER_g‘_Çme
(
	`SSL_g‘_cu¼’t_ch”
(
s
))

	)

1100 
	#SSL_g‘_ch”_b™s
(
s
,
Å
) \

1101 
	`SSL_CIPHER_g‘_b™s
(
	`SSL_g‘_cu¼’t_ch”
(
s
),
Å
)

	)

1102 
	#SSL_g‘_ch”_v”siÚ
(
s
) \

1103 
	`SSL_CIPHER_g‘_v”siÚ
(
	`SSL_g‘_cu¼’t_ch”
(
s
))

	)

1104 
	#SSL_g‘_ch”_Çme
(
s
) \

1105 
	`SSL_CIPHER_g‘_Çme
(
	`SSL_g‘_cu¼’t_ch”
(
s
))

	)

1106 
	#SSL_g‘_time
(
a
è
	`SSL_SESSION_g‘_time
×)

	)

1107 
	#SSL_£t_time
(
a
,
b
è
	`SSL_SESSION_£t_time
(×),(b))

	)

1108 
	#SSL_g‘_timeout
(
a
è
	`SSL_SESSION_g‘_timeout
×)

	)

1109 
	#SSL_£t_timeout
(
a
,
b
è
	`SSL_SESSION_£t_timeout
(×),(b))

	)

1111 
	#d2i_SSL_SESSION_bio
(
bp
,
s_id
è
	`ASN1_d2i_bio_of
(
SSL_SESSION
,
SSL_SESSION_Ãw
,
d2i_SSL_SESSION
,bp,s_id)

	)

1112 
	#i2d_SSL_SESSION_bio
(
bp
,
s_id
è
	`ASN1_i2d_bio_of
(
SSL_SESSION
,
i2d_SSL_SESSION
,bp,s_id)

	)

1114 
DECLARE_PEM_rw
(
SSL_SESSION
, SSL_SESSION)

1115 
	#SSL_AD_REASON_OFFSET
 1000

	)

1118 
	#SSL_AD_CLOSE_NOTIFY
 
SSL3_AD_CLOSE_NOTIFY


	)

1120 
	#SSL_AD_UNEXPECTED_MESSAGE
 
SSL3_AD_UNEXPECTED_MESSAGE


	)

1122 
	#SSL_AD_BAD_RECORD_MAC
 
SSL3_AD_BAD_RECORD_MAC


	)

1123 
	#SSL_AD_DECRYPTION_FAILED
 
TLS1_AD_DECRYPTION_FAILED


	)

1124 
	#SSL_AD_RECORD_OVERFLOW
 
TLS1_AD_RECORD_OVERFLOW


	)

1126 
	#SSL_AD_DECOMPRESSION_FAILURE
 
SSL3_AD_DECOMPRESSION_FAILURE


	)

1128 
	#SSL_AD_HANDSHAKE_FAILURE
 
SSL3_AD_HANDSHAKE_FAILURE


	)

1130 
	#SSL_AD_NO_CERTIFICATE
 
SSL3_AD_NO_CERTIFICATE


	)

1131 
	#SSL_AD_BAD_CERTIFICATE
 
SSL3_AD_BAD_CERTIFICATE


	)

1132 
	#SSL_AD_UNSUPPORTED_CERTIFICATE
 
SSL3_AD_UNSUPPORTED_CERTIFICATE


	)

1133 
	#SSL_AD_CERTIFICATE_REVOKED
 
SSL3_AD_CERTIFICATE_REVOKED


	)

1134 
	#SSL_AD_CERTIFICATE_EXPIRED
 
SSL3_AD_CERTIFICATE_EXPIRED


	)

1135 
	#SSL_AD_CERTIFICATE_UNKNOWN
 
SSL3_AD_CERTIFICATE_UNKNOWN


	)

1137 
	#SSL_AD_ILLEGAL_PARAMETER
 
SSL3_AD_ILLEGAL_PARAMETER


	)

1139 
	#SSL_AD_UNKNOWN_CA
 
TLS1_AD_UNKNOWN_CA


	)

1141 
	#SSL_AD_ACCESS_DENIED
 
TLS1_AD_ACCESS_DENIED


	)

1143 
	#SSL_AD_DECODE_ERROR
 
TLS1_AD_DECODE_ERROR


	)

1144 
	#SSL_AD_DECRYPT_ERROR
 
TLS1_AD_DECRYPT_ERROR


	)

1146 
	#SSL_AD_EXPORT_RESTRICTION
 
TLS1_AD_EXPORT_RESTRICTION


	)

1148 
	#SSL_AD_PROTOCOL_VERSION
 
TLS1_AD_PROTOCOL_VERSION


	)

1150 
	#SSL_AD_INSUFFICIENT_SECURITY
 
TLS1_AD_INSUFFICIENT_SECURITY


	)

1152 
	#SSL_AD_INTERNAL_ERROR
 
TLS1_AD_INTERNAL_ERROR


	)

1153 
	#SSL_AD_USER_CANCELLED
 
TLS1_AD_USER_CANCELLED


	)

1154 
	#SSL_AD_NO_RENEGOTIATION
 
TLS1_AD_NO_RENEGOTIATION


	)

1155 
	#SSL_AD_MISSING_EXTENSION
 
TLS13_AD_MISSING_EXTENSION


	)

1156 
	#SSL_AD_CERTIFICATE_REQUIRED
 
TLS13_AD_CERTIFICATE_REQUIRED


	)

1157 
	#SSL_AD_UNSUPPORTED_EXTENSION
 
TLS1_AD_UNSUPPORTED_EXTENSION


	)

1158 
	#SSL_AD_CERTIFICATE_UNOBTAINABLE
 
TLS1_AD_CERTIFICATE_UNOBTAINABLE


	)

1159 
	#SSL_AD_UNRECOGNIZED_NAME
 
TLS1_AD_UNRECOGNIZED_NAME


	)

1160 
	#SSL_AD_BAD_CERTIFICATE_STATUS_RESPONSE
 
TLS1_AD_BAD_CERTIFICATE_STATUS_RESPONSE


	)

1161 
	#SSL_AD_BAD_CERTIFICATE_HASH_VALUE
 
TLS1_AD_BAD_CERTIFICATE_HASH_VALUE


	)

1163 
	#SSL_AD_UNKNOWN_PSK_IDENTITY
 
TLS1_AD_UNKNOWN_PSK_IDENTITY


	)

1165 
	#SSL_AD_INAPPROPRIATE_FALLBACK
 
TLS1_AD_INAPPROPRIATE_FALLBACK


	)

1166 
	#SSL_AD_NO_APPLICATION_PROTOCOL
 
TLS1_AD_NO_APPLICATION_PROTOCOL


	)

1167 
	#SSL_ERROR_NONE
 0

	)

1168 
	#SSL_ERROR_SSL
 1

	)

1169 
	#SSL_ERROR_WANT_READ
 2

	)

1170 
	#SSL_ERROR_WANT_WRITE
 3

	)

1171 
	#SSL_ERROR_WANT_X509_LOOKUP
 4

	)

1172 
	#SSL_ERROR_SYSCALL
 5

	)

1174 
	#SSL_ERROR_ZERO_RETURN
 6

	)

1175 
	#SSL_ERROR_WANT_CONNECT
 7

	)

1176 
	#SSL_ERROR_WANT_ACCEPT
 8

	)

1177 
	#SSL_ERROR_WANT_ASYNC
 9

	)

1178 
	#SSL_ERROR_WANT_ASYNC_JOB
 10

	)

1179 
	#SSL_ERROR_WANT_CLIENT_HELLO_CB
 11

	)

1180 
	#SSL_CTRL_SET_TMP_DH
 3

	)

1181 
	#SSL_CTRL_SET_TMP_ECDH
 4

	)

1182 
	#SSL_CTRL_SET_TMP_DH_CB
 6

	)

1183 
	#SSL_CTRL_GET_CLIENT_CERT_REQUEST
 9

	)

1184 
	#SSL_CTRL_GET_NUM_RENEGOTIATIONS
 10

	)

1185 
	#SSL_CTRL_CLEAR_NUM_RENEGOTIATIONS
 11

	)

1186 
	#SSL_CTRL_GET_TOTAL_RENEGOTIATIONS
 12

	)

1187 
	#SSL_CTRL_GET_FLAGS
 13

	)

1188 
	#SSL_CTRL_EXTRA_CHAIN_CERT
 14

	)

1189 
	#SSL_CTRL_SET_MSG_CALLBACK
 15

	)

1190 
	#SSL_CTRL_SET_MSG_CALLBACK_ARG
 16

	)

1192 
	#SSL_CTRL_SET_MTU
 17

	)

1194 
	#SSL_CTRL_SESS_NUMBER
 20

	)

1195 
	#SSL_CTRL_SESS_CONNECT
 21

	)

1196 
	#SSL_CTRL_SESS_CONNECT_GOOD
 22

	)

1197 
	#SSL_CTRL_SESS_CONNECT_RENEGOTIATE
 23

	)

1198 
	#SSL_CTRL_SESS_ACCEPT
 24

	)

1199 
	#SSL_CTRL_SESS_ACCEPT_GOOD
 25

	)

1200 
	#SSL_CTRL_SESS_ACCEPT_RENEGOTIATE
 26

	)

1201 
	#SSL_CTRL_SESS_HIT
 27

	)

1202 
	#SSL_CTRL_SESS_CB_HIT
 28

	)

1203 
	#SSL_CTRL_SESS_MISSES
 29

	)

1204 
	#SSL_CTRL_SESS_TIMEOUTS
 30

	)

1205 
	#SSL_CTRL_SESS_CACHE_FULL
 31

	)

1206 
	#SSL_CTRL_MODE
 33

	)

1207 
	#SSL_CTRL_GET_READ_AHEAD
 40

	)

1208 
	#SSL_CTRL_SET_READ_AHEAD
 41

	)

1209 
	#SSL_CTRL_SET_SESS_CACHE_SIZE
 42

	)

1210 
	#SSL_CTRL_GET_SESS_CACHE_SIZE
 43

	)

1211 
	#SSL_CTRL_SET_SESS_CACHE_MODE
 44

	)

1212 
	#SSL_CTRL_GET_SESS_CACHE_MODE
 45

	)

1213 
	#SSL_CTRL_GET_MAX_CERT_LIST
 50

	)

1214 
	#SSL_CTRL_SET_MAX_CERT_LIST
 51

	)

1215 
	#SSL_CTRL_SET_MAX_SEND_FRAGMENT
 52

	)

1217 
	#SSL_CTRL_SET_TLSEXT_SERVERNAME_CB
 53

	)

1218 
	#SSL_CTRL_SET_TLSEXT_SERVERNAME_ARG
 54

	)

1219 
	#SSL_CTRL_SET_TLSEXT_HOSTNAME
 55

	)

1220 
	#SSL_CTRL_SET_TLSEXT_DEBUG_CB
 56

	)

1221 
	#SSL_CTRL_SET_TLSEXT_DEBUG_ARG
 57

	)

1222 
	#SSL_CTRL_GET_TLSEXT_TICKET_KEYS
 58

	)

1223 
	#SSL_CTRL_SET_TLSEXT_TICKET_KEYS
 59

	)

1227 
	#SSL_CTRL_SET_TLSEXT_STATUS_REQ_CB
 63

	)

1228 
	#SSL_CTRL_SET_TLSEXT_STATUS_REQ_CB_ARG
 64

	)

1229 
	#SSL_CTRL_SET_TLSEXT_STATUS_REQ_TYPE
 65

	)

1230 
	#SSL_CTRL_GET_TLSEXT_STATUS_REQ_EXTS
 66

	)

1231 
	#SSL_CTRL_SET_TLSEXT_STATUS_REQ_EXTS
 67

	)

1232 
	#SSL_CTRL_GET_TLSEXT_STATUS_REQ_IDS
 68

	)

1233 
	#SSL_CTRL_SET_TLSEXT_STATUS_REQ_IDS
 69

	)

1234 
	#SSL_CTRL_GET_TLSEXT_STATUS_REQ_OCSP_RESP
 70

	)

1235 
	#SSL_CTRL_SET_TLSEXT_STATUS_REQ_OCSP_RESP
 71

	)

1236 
	#SSL_CTRL_SET_TLSEXT_TICKET_KEY_CB
 72

	)

1237 
	#SSL_CTRL_SET_TLS_EXT_SRP_USERNAME_CB
 75

	)

1238 
	#SSL_CTRL_SET_SRP_VERIFY_PARAM_CB
 76

	)

1239 
	#SSL_CTRL_SET_SRP_GIVE_CLIENT_PWD_CB
 77

	)

1240 
	#SSL_CTRL_SET_SRP_ARG
 78

	)

1241 
	#SSL_CTRL_SET_TLS_EXT_SRP_USERNAME
 79

	)

1242 
	#SSL_CTRL_SET_TLS_EXT_SRP_STRENGTH
 80

	)

1243 
	#SSL_CTRL_SET_TLS_EXT_SRP_PASSWORD
 81

	)

1244 #iâdeà
OPENSSL_NO_HEARTBEATS


1245 
	#SSL_CTRL_DTLS_EXT_SEND_HEARTBEAT
 85

	)

1246 
	#SSL_CTRL_GET_DTLS_EXT_HEARTBEAT_PENDING
 86

	)

1247 
	#SSL_CTRL_SET_DTLS_EXT_HEARTBEAT_NO_REQUESTS
 87

	)

1249 
	#DTLS_CTRL_GET_TIMEOUT
 73

	)

1250 
	#DTLS_CTRL_HANDLE_TIMEOUT
 74

	)

1251 
	#SSL_CTRL_GET_RI_SUPPORT
 76

	)

1252 
	#SSL_CTRL_CLEAR_MODE
 78

	)

1253 
	#SSL_CTRL_SET_NOT_RESUMABLE_SESS_CB
 79

	)

1254 
	#SSL_CTRL_GET_EXTRA_CHAIN_CERTS
 82

	)

1255 
	#SSL_CTRL_CLEAR_EXTRA_CHAIN_CERTS
 83

	)

1256 
	#SSL_CTRL_CHAIN
 88

	)

1257 
	#SSL_CTRL_CHAIN_CERT
 89

	)

1258 
	#SSL_CTRL_GET_GROUPS
 90

	)

1259 
	#SSL_CTRL_SET_GROUPS
 91

	)

1260 
	#SSL_CTRL_SET_GROUPS_LIST
 92

	)

1261 
	#SSL_CTRL_GET_SHARED_GROUP
 93

	)

1262 
	#SSL_CTRL_SET_SIGALGS
 97

	)

1263 
	#SSL_CTRL_SET_SIGALGS_LIST
 98

	)

1264 
	#SSL_CTRL_CERT_FLAGS
 99

	)

1265 
	#SSL_CTRL_CLEAR_CERT_FLAGS
 100

	)

1266 
	#SSL_CTRL_SET_CLIENT_SIGALGS
 101

	)

1267 
	#SSL_CTRL_SET_CLIENT_SIGALGS_LIST
 102

	)

1268 
	#SSL_CTRL_GET_CLIENT_CERT_TYPES
 103

	)

1269 
	#SSL_CTRL_SET_CLIENT_CERT_TYPES
 104

	)

1270 
	#SSL_CTRL_BUILD_CERT_CHAIN
 105

	)

1271 
	#SSL_CTRL_SET_VERIFY_CERT_STORE
 106

	)

1272 
	#SSL_CTRL_SET_CHAIN_CERT_STORE
 107

	)

1273 
	#SSL_CTRL_GET_PEER_SIGNATURE_NID
 108

	)

1274 
	#SSL_CTRL_GET_SERVER_TMP_KEY
 109

	)

1275 
	#SSL_CTRL_GET_RAW_CIPHERLIST
 110

	)

1276 
	#SSL_CTRL_GET_EC_POINT_FORMATS
 111

	)

1277 
	#SSL_CTRL_GET_CHAIN_CERTS
 115

	)

1278 
	#SSL_CTRL_SELECT_CURRENT_CERT
 116

	)

1279 
	#SSL_CTRL_SET_CURRENT_CERT
 117

	)

1280 
	#SSL_CTRL_SET_DH_AUTO
 118

	)

1281 
	#DTLS_CTRL_SET_LINK_MTU
 120

	)

1282 
	#DTLS_CTRL_GET_LINK_MIN_MTU
 121

	)

1283 
	#SSL_CTRL_GET_EXTMS_SUPPORT
 122

	)

1284 
	#SSL_CTRL_SET_MIN_PROTO_VERSION
 123

	)

1285 
	#SSL_CTRL_SET_MAX_PROTO_VERSION
 124

	)

1286 
	#SSL_CTRL_SET_SPLIT_SEND_FRAGMENT
 125

	)

1287 
	#SSL_CTRL_SET_MAX_PIPELINES
 126

	)

1288 
	#SSL_CTRL_GET_TLSEXT_STATUS_REQ_TYPE
 127

	)

1289 
	#SSL_CTRL_GET_TLSEXT_STATUS_REQ_CB
 128

	)

1290 
	#SSL_CTRL_GET_TLSEXT_STATUS_REQ_CB_ARG
 129

	)

1291 
	#SSL_CTRL_GET_MIN_PROTO_VERSION
 130

	)

1292 
	#SSL_CTRL_GET_MAX_PROTO_VERSION
 131

	)

1293 
	#SSL_CERT_SET_FIRST
 1

	)

1294 
	#SSL_CERT_SET_NEXT
 2

	)

1295 
	#SSL_CERT_SET_SERVER
 3

	)

1296 
	#DTLSv1_g‘_timeout
(
s¦
, 
¬g
) \

1297 
	`SSL_ù¾
(
s¦
,
DTLS_CTRL_GET_TIMEOUT
,0, (*)(
¬g
))

	)

1298 
	#DTLSv1_hªdË_timeout
(
s¦
) \

1299 
	`SSL_ù¾
(
s¦
,
DTLS_CTRL_HANDLE_TIMEOUT
,0, 
NULL
)

	)

1300 
	#SSL_num_»ÃgÙŸtiÚs
(
s¦
) \

1301 
	`SSL_ù¾
((
s¦
),
SSL_CTRL_GET_NUM_RENEGOTIATIONS
,0,
NULL
)

	)

1302 
	#SSL_ş—r_num_»ÃgÙŸtiÚs
(
s¦
) \

1303 
	`SSL_ù¾
((
s¦
),
SSL_CTRL_CLEAR_NUM_RENEGOTIATIONS
,0,
NULL
)

	)

1304 
	#SSL_tÙ®_»ÃgÙŸtiÚs
(
s¦
) \

1305 
	`SSL_ù¾
((
s¦
),
SSL_CTRL_GET_TOTAL_RENEGOTIATIONS
,0,
NULL
)

	)

1306 
	#SSL_CTX_£t_tmp_dh
(
ùx
,
dh
) \

1307 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SET_TMP_DH
,0,(*)(
dh
))

	)

1308 
	#SSL_CTX_£t_tmp_ecdh
(
ùx
,
ecdh
) \

1309 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SET_TMP_ECDH
,0,(*)(
ecdh
))

	)

1310 
	#SSL_CTX_£t_dh_auto
(
ùx
, 
Úoff
) \

1311 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SET_DH_AUTO
,
Úoff
,
NULL
)

	)

1312 
	#SSL_£t_dh_auto
(
s
, 
Úoff
) \

1313 
	`SSL_ù¾
(
s
,
SSL_CTRL_SET_DH_AUTO
,
Úoff
,
NULL
)

	)

1314 
	#SSL_£t_tmp_dh
(
s¦
,
dh
) \

1315 
	`SSL_ù¾
(
s¦
,
SSL_CTRL_SET_TMP_DH
,0,(*)(
dh
))

	)

1316 
	#SSL_£t_tmp_ecdh
(
s¦
,
ecdh
) \

1317 
	`SSL_ù¾
(
s¦
,
SSL_CTRL_SET_TMP_ECDH
,0,(*)(
ecdh
))

	)

1318 
	#SSL_CTX_add_exŒa_chaš_û¹
(
ùx
,
x509
) \

1319 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_EXTRA_CHAIN_CERT
,0,(*)(
x509
))

	)

1320 
	#SSL_CTX_g‘_exŒa_chaš_û¹s
(
ùx
,
px509
) \

1321 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_GET_EXTRA_CHAIN_CERTS
,0,
px509
)

	)

1322 
	#SSL_CTX_g‘_exŒa_chaš_û¹s_Úly
(
ùx
,
px509
) \

1323 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_GET_EXTRA_CHAIN_CERTS
,1,
px509
)

	)

1324 
	#SSL_CTX_ş—r_exŒa_chaš_û¹s
(
ùx
) \

1325 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_CLEAR_EXTRA_CHAIN_CERTS
,0,
NULL
)

	)

1326 
	#SSL_CTX_£t0_chaš
(
ùx
,
sk
) \

1327 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_CHAIN
,0,(*)(
sk
))

	)

1328 
	#SSL_CTX_£t1_chaš
(
ùx
,
sk
) \

1329 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_CHAIN
,1,(*)(
sk
))

	)

1330 
	#SSL_CTX_add0_chaš_û¹
(
ùx
,
x509
) \

1331 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_CHAIN_CERT
,0,(*)(
x509
))

	)

1332 
	#SSL_CTX_add1_chaš_û¹
(
ùx
,
x509
) \

1333 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_CHAIN_CERT
,1,(*)(
x509
))

	)

1334 
	#SSL_CTX_g‘0_chaš_û¹s
(
ùx
,
px509
) \

1335 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_GET_CHAIN_CERTS
,0,
px509
)

	)

1336 
	#SSL_CTX_ş—r_chaš_û¹s
(
ùx
) \

1337 
	`SSL_CTX_£t0_chaš
(
ùx
,
NULL
)

	)

1338 
	#SSL_CTX_bud_û¹_chaš
(
ùx
, 
æags
) \

1339 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_BUILD_CERT_CHAIN
, 
æags
, 
NULL
)

	)

1340 
	#SSL_CTX_£Ëù_cu¼’t_û¹
(
ùx
,
x509
) \

1341 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SELECT_CURRENT_CERT
,0,(*)(
x509
))

	)

1342 
	#SSL_CTX_£t_cu¼’t_û¹
(
ùx
, 
İ
) \

1343 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SET_CURRENT_CERT
, 
İ
, 
NULL
)

	)

1344 
	#SSL_CTX_£t0_v”ify_û¹_¡Üe
(
ùx
,
¡
) \

1345 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SET_VERIFY_CERT_STORE
,0,(*)(
¡
))

	)

1346 
	#SSL_CTX_£t1_v”ify_û¹_¡Üe
(
ùx
,
¡
) \

1347 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SET_VERIFY_CERT_STORE
,1,(*)(
¡
))

	)

1348 
	#SSL_CTX_£t0_chaš_û¹_¡Üe
(
ùx
,
¡
) \

1349 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SET_CHAIN_CERT_STORE
,0,(*)(
¡
))

	)

1350 
	#SSL_CTX_£t1_chaš_û¹_¡Üe
(
ùx
,
¡
) \

1351 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SET_CHAIN_CERT_STORE
,1,(*)(
¡
))

	)

1352 
	#SSL_£t0_chaš
(
ùx
,
sk
) \

1353 
	`SSL_ù¾
(
ùx
,
SSL_CTRL_CHAIN
,0,(*)(
sk
))

	)

1354 
	#SSL_£t1_chaš
(
ùx
,
sk
) \

1355 
	`SSL_ù¾
(
ùx
,
SSL_CTRL_CHAIN
,1,(*)(
sk
))

	)

1356 
	#SSL_add0_chaš_û¹
(
ùx
,
x509
) \

1357 
	`SSL_ù¾
(
ùx
,
SSL_CTRL_CHAIN_CERT
,0,(*)(
x509
))

	)

1358 
	#SSL_add1_chaš_û¹
(
ùx
,
x509
) \

1359 
	`SSL_ù¾
(
ùx
,
SSL_CTRL_CHAIN_CERT
,1,(*)(
x509
))

	)

1360 
	#SSL_g‘0_chaš_û¹s
(
ùx
,
px509
) \

1361 
	`SSL_ù¾
(
ùx
,
SSL_CTRL_GET_CHAIN_CERTS
,0,
px509
)

	)

1362 
	#SSL_ş—r_chaš_û¹s
(
ùx
) \

1363 
	`SSL_£t0_chaš
(
ùx
,
NULL
)

	)

1364 
	#SSL_bud_û¹_chaš
(
s
, 
æags
) \

1365 
	`SSL_ù¾
(
s
,
SSL_CTRL_BUILD_CERT_CHAIN
, 
æags
, 
NULL
)

	)

1366 
	#SSL_£Ëù_cu¼’t_û¹
(
ùx
,
x509
) \

1367 
	`SSL_ù¾
(
ùx
,
SSL_CTRL_SELECT_CURRENT_CERT
,0,(*)(
x509
))

	)

1368 
	#SSL_£t_cu¼’t_û¹
(
ùx
,
İ
) \

1369 
	`SSL_ù¾
(
ùx
,
SSL_CTRL_SET_CURRENT_CERT
, 
İ
, 
NULL
)

	)

1370 
	#SSL_£t0_v”ify_û¹_¡Üe
(
s
,
¡
) \

1371 
	`SSL_ù¾
(
s
,
SSL_CTRL_SET_VERIFY_CERT_STORE
,0,(*)(
¡
))

	)

1372 
	#SSL_£t1_v”ify_û¹_¡Üe
(
s
,
¡
) \

1373 
	`SSL_ù¾
(
s
,
SSL_CTRL_SET_VERIFY_CERT_STORE
,1,(*)(
¡
))

	)

1374 
	#SSL_£t0_chaš_û¹_¡Üe
(
s
,
¡
) \

1375 
	`SSL_ù¾
(
s
,
SSL_CTRL_SET_CHAIN_CERT_STORE
,0,(*)(
¡
))

	)

1376 
	#SSL_£t1_chaš_û¹_¡Üe
(
s
,
¡
) \

1377 
	`SSL_ù¾
(
s
,
SSL_CTRL_SET_CHAIN_CERT_STORE
,1,(*)(
¡
))

	)

1378 
	#SSL_g‘1_groups
(
ùx
, 
s
) \

1379 
	`SSL_ù¾
(
ùx
,
SSL_CTRL_GET_GROUPS
,0,(*)(
s
))

	)

1380 
	#SSL_CTX_£t1_groups
(
ùx
, 
gli¡
, 
gli¡Ën
) \

1381 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SET_GROUPS
,
gli¡Ën
,(*)(
gli¡
))

	)

1382 
	#SSL_CTX_£t1_groups_li¡
(
ùx
, 
s
) \

1383 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SET_GROUPS_LIST
,0,(*)(
s
))

	)

1384 
	#SSL_£t1_groups
(
ùx
, 
gli¡
, 
gli¡Ën
) \

1385 
	`SSL_ù¾
(
ùx
,
SSL_CTRL_SET_GROUPS
,
gli¡Ën
,(*)(
gli¡
))

	)

1386 
	#SSL_£t1_groups_li¡
(
ùx
, 
s
) \

1387 
	`SSL_ù¾
(
ùx
,
SSL_CTRL_SET_GROUPS_LIST
,0,(*)(
s
))

	)

1388 
	#SSL_g‘_sh¬ed_group
(
s
, 
n
) \

1389 
	`SSL_ù¾
(
s
,
SSL_CTRL_GET_SHARED_GROUP
,
n
,
NULL
)

	)

1390 
	#SSL_CTX_£t1_sig®gs
(
ùx
, 
¦i¡
, 
¦i¡Ën
) \

1391 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SET_SIGALGS
,
¦i¡Ën
,(*)(
¦i¡
))

	)

1392 
	#SSL_CTX_£t1_sig®gs_li¡
(
ùx
, 
s
) \

1393 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SET_SIGALGS_LIST
,0,(*)(
s
))

	)

1394 
	#SSL_£t1_sig®gs
(
ùx
, 
¦i¡
, 
¦i¡Ën
) \

1395 
	`SSL_ù¾
(
ùx
,
SSL_CTRL_SET_SIGALGS
,
¦i¡Ën
,(*)(
¦i¡
))

	)

1396 
	#SSL_£t1_sig®gs_li¡
(
ùx
, 
s
) \

1397 
	`SSL_ù¾
(
ùx
,
SSL_CTRL_SET_SIGALGS_LIST
,0,(*)(
s
))

	)

1398 
	#SSL_CTX_£t1_ş›Á_sig®gs
(
ùx
, 
¦i¡
, 
¦i¡Ën
) \

1399 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SET_CLIENT_SIGALGS
,
¦i¡Ën
,(*)(
¦i¡
))

	)

1400 
	#SSL_CTX_£t1_ş›Á_sig®gs_li¡
(
ùx
, 
s
) \

1401 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SET_CLIENT_SIGALGS_LIST
,0,(*)(
s
))

	)

1402 
	#SSL_£t1_ş›Á_sig®gs
(
ùx
, 
¦i¡
, 
¦i¡Ën
) \

1403 
	`SSL_ù¾
(
ùx
,
SSL_CTRL_SET_CLIENT_SIGALGS
,
şi¡Ën
,(*)(
¦i¡
))

	)

1404 
	#SSL_£t1_ş›Á_sig®gs_li¡
(
ùx
, 
s
) \

1405 
	`SSL_ù¾
(
ùx
,
SSL_CTRL_SET_CLIENT_SIGALGS_LIST
,0,(*)(
s
))

	)

1406 
	#SSL_g‘0_û¹ifiÿ‹_ty³s
(
s
, 
şi¡
) \

1407 
	`SSL_ù¾
(
s
, 
SSL_CTRL_GET_CLIENT_CERT_TYPES
, 0, (*)(
şi¡
))

	)

1408 
	#SSL_CTX_£t1_ş›Á_û¹ifiÿ‹_ty³s
(
ùx
, 
şi¡
, 
şi¡Ën
) \

1409 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SET_CLIENT_CERT_TYPES
,
şi¡Ën
, \

1410 (*)(
şi¡
))

	)

1411 
	#SSL_£t1_ş›Á_û¹ifiÿ‹_ty³s
(
s
, 
şi¡
, 
şi¡Ën
) \

1412 
	`SSL_ù¾
(
s
,
SSL_CTRL_SET_CLIENT_CERT_TYPES
,
şi¡Ën
,(*)(
şi¡
))

	)

1413 
	#SSL_g‘_³”_sigÇtu»_nid
(
s
, 
²
) \

1414 
	`SSL_ù¾
(
s
,
SSL_CTRL_GET_PEER_SIGNATURE_NID
,0,
²
)

	)

1415 
	#SSL_g‘_£rv”_tmp_key
(
s
, 
pk
) \

1416 
	`SSL_ù¾
(
s
,
SSL_CTRL_GET_SERVER_TMP_KEY
,0,
pk
)

	)

1417 
	#SSL_g‘0_¿w_ch”li¡
(
s
, 
¶¡
) \

1418 
	`SSL_ù¾
(
s
,
SSL_CTRL_GET_RAW_CIPHERLIST
,0,
¶¡
)

	)

1419 
	#SSL_g‘0_ec_pošt_fÜm©s
(
s
, 
¶¡
) \

1420 
	`SSL_ù¾
(
s
,
SSL_CTRL_GET_EC_POINT_FORMATS
,0,
¶¡
)

	)

1421 
	#SSL_CTX_£t_mš_´Ùo_v”siÚ
(
ùx
, 
v”siÚ
) \

1422 
	`SSL_CTX_ù¾
(
ùx
, 
SSL_CTRL_SET_MIN_PROTO_VERSION
, 
v”siÚ
, 
NULL
)

	)

1423 
	#SSL_CTX_£t_max_´Ùo_v”siÚ
(
ùx
, 
v”siÚ
) \

1424 
	`SSL_CTX_ù¾
(
ùx
, 
SSL_CTRL_SET_MAX_PROTO_VERSION
, 
v”siÚ
, 
NULL
)

	)

1425 
	#SSL_CTX_g‘_mš_´Ùo_v”siÚ
(
ùx
) \

1426 
	`SSL_CTX_ù¾
(
ùx
, 
SSL_CTRL_GET_MIN_PROTO_VERSION
, 0, 
NULL
)

	)

1427 
	#SSL_CTX_g‘_max_´Ùo_v”siÚ
(
ùx
) \

1428 
	`SSL_CTX_ù¾
(
ùx
, 
SSL_CTRL_GET_MAX_PROTO_VERSION
, 0, 
NULL
)

	)

1429 
	#SSL_£t_mš_´Ùo_v”siÚ
(
s
, 
v”siÚ
) \

1430 
	`SSL_ù¾
(
s
, 
SSL_CTRL_SET_MIN_PROTO_VERSION
, 
v”siÚ
, 
NULL
)

	)

1431 
	#SSL_£t_max_´Ùo_v”siÚ
(
s
, 
v”siÚ
) \

1432 
	`SSL_ù¾
(
s
, 
SSL_CTRL_SET_MAX_PROTO_VERSION
, 
v”siÚ
, 
NULL
)

	)

1433 
	#SSL_g‘_mš_´Ùo_v”siÚ
(
s
) \

1434 
	`SSL_ù¾
(
s
, 
SSL_CTRL_GET_MIN_PROTO_VERSION
, 0, 
NULL
)

	)

1435 
	#SSL_g‘_max_´Ùo_v”siÚ
(
s
) \

1436 
	`SSL_ù¾
(
s
, 
SSL_CTRL_GET_MAX_PROTO_VERSION
, 0, 
NULL
)

	)

1442 
	#SSL_CTRL_GET_CURVES
 
SSL_CTRL_GET_GROUPS


	)

1443 
	#SSL_CTRL_SET_CURVES
 
SSL_CTRL_SET_GROUPS


	)

1444 
	#SSL_CTRL_SET_CURVES_LIST
 
SSL_CTRL_SET_GROUPS_LIST


	)

1445 
	#SSL_CTRL_GET_SHARED_CURVE
 
SSL_CTRL_GET_SHARED_GROUP


	)

1447 
	#SSL_g‘1_curves
 
SSL_g‘1_groups


	)

1448 
	#SSL_CTX_£t1_curves
 
SSL_CTX_£t1_groups


	)

1449 
	#SSL_CTX_£t1_curves_li¡
 
SSL_CTX_£t1_groups_li¡


	)

1450 
	#SSL_£t1_curves
 
SSL_£t1_groups


	)

1451 
	#SSL_£t1_curves_li¡
 
SSL_£t1_groups_li¡


	)

1452 
	#SSL_g‘_sh¬ed_curve
 
SSL_g‘_sh¬ed_group


	)

1455 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

1457 
	#SSL_CTX_Ãed_tmp_RSA
(
ùx
è0

	)

1458 
	#SSL_CTX_£t_tmp_r§
(
ùx
,
r§
è1

	)

1459 
	#SSL_Ãed_tmp_RSA
(
s¦
è0

	)

1460 
	#SSL_£t_tmp_r§
(
s¦
,
r§
è1

	)

1461 
	#SSL_CTX_£t_ecdh_auto
(
dummy
, 
Úoff
è((Úoffè!ğ0)

	)

1462 
	#SSL_£t_ecdh_auto
(
dummy
, 
Úoff
è((Úoffè!ğ0)

	)

1467 
	#SSL_CTX_£t_tmp_r§_ÿÎback
(
ùx
, 
cb
è0è(cb)(
NULL
, 0, 0)

	)

1468 
	#SSL_£t_tmp_r§_ÿÎback
(
s¦
, 
cb
è0è(cb)(
NULL
, 0, 0)

	)

1470 
__owur
 cÚ¡ 
BIO_METHOD
 *
BIO_f_s¦
();

1471 
__owur
 
BIO
 *
BIO_Ãw_s¦
(
SSL_CTX
 *
ùx
, 
ş›Á
);

1472 
__owur
 
BIO
 *
BIO_Ãw_s¦_cÚÃù
(
SSL_CTX
 *
ùx
);

1473 
__owur
 
BIO
 *
BIO_Ãw_bufãr_s¦_cÚÃù
(
SSL_CTX
 *
ùx
);

1474 
__owur
 
BIO_s¦_cİy_£ssiÚ_id
(
BIO
 *
to
, BIO *
äom
);

1475 
BIO_s¦_shutdown
(
BIO
 *
s¦_bio
);

1477 
__owur
 
SSL_CTX_£t_ch”_li¡
(
SSL_CTX
 *, cÚ¡ *
¡r
);

1478 
__owur
 
SSL_CTX
 *
SSL_CTX_Ãw
(cÚ¡ 
SSL_METHOD
 *
m‘h
);

1479 
SSL_CTX_up_»f
(
SSL_CTX
 *
ùx
);

1480 
SSL_CTX_ä“
(
SSL_CTX
 *);

1481 
__owur
 
SSL_CTX_£t_timeout
(
SSL_CTX
 *
ùx
, 
t
);

1482 
__owur
 
SSL_CTX_g‘_timeout
(cÚ¡ 
SSL_CTX
 *
ùx
);

1483 
__owur
 
X509_STORE
 *
SSL_CTX_g‘_û¹_¡Üe
(cÚ¡ 
SSL_CTX
 *);

1484 
SSL_CTX_£t_û¹_¡Üe
(
SSL_CTX
 *, 
X509_STORE
 *);

1485 
SSL_CTX_£t1_û¹_¡Üe
(
SSL_CTX
 *, 
X509_STORE
 *);

1486 
__owur
 
SSL_wªt
(cÚ¡ 
SSL
 *
s
);

1487 
__owur
 
SSL_ş—r
(
SSL
 *
s
);

1489 
SSL_CTX_æush_£ssiÚs
(
SSL_CTX
 *
ùx
, 
tm
);

1491 
__owur
 cÚ¡ 
SSL_CIPHER
 *
SSL_g‘_cu¼’t_ch”
(cÚ¡ 
SSL
 *
s
);

1492 
__owur
 cÚ¡ 
SSL_CIPHER
 *
SSL_g‘_³ndšg_ch”
(cÚ¡ 
SSL
 *
s
);

1493 
__owur
 
SSL_CIPHER_g‘_b™s
(cÚ¡ 
SSL_CIPHER
 *
c
, *
®g_b™s
);

1494 
__owur
 cÚ¡ *
SSL_CIPHER_g‘_v”siÚ
(cÚ¡ 
SSL_CIPHER
 *
c
);

1495 
__owur
 cÚ¡ *
SSL_CIPHER_g‘_Çme
(cÚ¡ 
SSL_CIPHER
 *
c
);

1496 
__owur
 cÚ¡ *
SSL_CIPHER_¡ªd¬d_Çme
(cÚ¡ 
SSL_CIPHER
 *
c
);

1497 
__owur
 cÚ¡ *
OPENSSL_ch”_Çme
(cÚ¡ *
rfc_Çme
);

1498 
__owur
 
ušt32_t
 
SSL_CIPHER_g‘_id
(cÚ¡ 
SSL_CIPHER
 *
c
);

1499 
__owur
 
ušt16_t
 
SSL_CIPHER_g‘_´ÙocŞ_id
(cÚ¡ 
SSL_CIPHER
 *
c
);

1500 
__owur
 
SSL_CIPHER_g‘_kx_nid
(cÚ¡ 
SSL_CIPHER
 *
c
);

1501 
__owur
 
SSL_CIPHER_g‘_auth_nid
(cÚ¡ 
SSL_CIPHER
 *
c
);

1502 
__owur
 cÚ¡ 
EVP_MD
 *
SSL_CIPHER_g‘_hªdshake_dige¡
(cÚ¡ 
SSL_CIPHER
 *
c
);

1503 
__owur
 
SSL_CIPHER_is_«ad
(cÚ¡ 
SSL_CIPHER
 *
c
);

1505 
__owur
 
SSL_g‘_fd
(cÚ¡ 
SSL
 *
s
);

1506 
__owur
 
SSL_g‘_rfd
(cÚ¡ 
SSL
 *
s
);

1507 
__owur
 
SSL_g‘_wfd
(cÚ¡ 
SSL
 *
s
);

1508 
__owur
 cÚ¡ *
SSL_g‘_ch”_li¡
(cÚ¡ 
SSL
 *
s
, 
n
);

1509 
__owur
 *
SSL_g‘_sh¬ed_ch”s
(cÚ¡ 
SSL
 *
s
, *
buf
, 
size
);

1510 
__owur
 
SSL_g‘_»ad_ah—d
(cÚ¡ 
SSL
 *
s
);

1511 
__owur
 
SSL_³ndšg
(cÚ¡ 
SSL
 *
s
);

1512 
__owur
 
SSL_has_³ndšg
(cÚ¡ 
SSL
 *
s
);

1513 #iâdeà
OPENSSL_NO_SOCK


1514 
__owur
 
SSL_£t_fd
(
SSL
 *
s
, 
fd
);

1515 
__owur
 
SSL_£t_rfd
(
SSL
 *
s
, 
fd
);

1516 
__owur
 
SSL_£t_wfd
(
SSL
 *
s
, 
fd
);

1518 
SSL_£t0_rbio
(
SSL
 *
s
, 
BIO
 *
rbio
);

1519 
SSL_£t0_wbio
(
SSL
 *
s
, 
BIO
 *
wbio
);

1520 
SSL_£t_bio
(
SSL
 *
s
, 
BIO
 *
rbio
, BIO *
wbio
);

1521 
__owur
 
BIO
 *
SSL_g‘_rbio
(cÚ¡ 
SSL
 *
s
);

1522 
__owur
 
BIO
 *
SSL_g‘_wbio
(cÚ¡ 
SSL
 *
s
);

1523 
__owur
 
SSL_£t_ch”_li¡
(
SSL
 *
s
, cÚ¡ *
¡r
);

1524 
__owur
 
SSL_CTX_£t_ch”su™es
(
SSL_CTX
 *
ùx
, cÚ¡ *
¡r
);

1525 
__owur
 
SSL_£t_ch”su™es
(
SSL
 *
s
, cÚ¡ *
¡r
);

1526 
SSL_£t_»ad_ah—d
(
SSL
 *
s
, 
yes
);

1527 
__owur
 
SSL_g‘_v”ify_mode
(cÚ¡ 
SSL
 *
s
);

1528 
__owur
 
SSL_g‘_v”ify_d•th
(cÚ¡ 
SSL
 *
s
);

1529 
__owur
 
SSL_v”ify_cb
 
SSL_g‘_v”ify_ÿÎback
(cÚ¡ 
SSL
 *
s
);

1530 
SSL_£t_v”ify
(
SSL
 *
s
, 
mode
, 
SSL_v”ify_cb
 
ÿÎback
);

1531 
SSL_£t_v”ify_d•th
(
SSL
 *
s
, 
d•th
);

1532 
SSL_£t_û¹_cb
(
SSL
 *
s
, (*
cb
è(SSL *
s¦
, *
¬g
), *arg);

1533 #iâdeà
OPENSSL_NO_RSA


1534 
__owur
 
SSL_u£_RSAPriv©eKey
(
SSL
 *
s¦
, 
RSA
 *
r§
);

1535 
__owur
 
SSL_u£_RSAPriv©eKey_ASN1
(
SSL
 *
s¦
, cÚ¡ *
d
,

1536 
Ën
);

1538 
__owur
 
SSL_u£_Priv©eKey
(
SSL
 *
s¦
, 
EVP_PKEY
 *
pkey
);

1539 
__owur
 
SSL_u£_Priv©eKey_ASN1
(
pk
, 
SSL
 *
s¦
, cÚ¡ *
d
,

1540 
Ën
);

1541 
__owur
 
SSL_u£_û¹ifiÿ‹
(
SSL
 *
s¦
, 
X509
 *
x
);

1542 
__owur
 
SSL_u£_û¹ifiÿ‹_ASN1
(
SSL
 *
s¦
, cÚ¡ *
d
, 
Ën
);

1543 
__owur
 
SSL_u£_û¹_ªd_key
(
SSL
 *
s¦
, 
X509
 *
x509
, 
EVP_PKEY
 *
´iv©ekey
,

1544 
STACK_OF
(
X509
è*
chaš
, 
ov”ride
);

1548 
	#SSL_SERVERINFOV1
 1

	)

1549 
	#SSL_SERVERINFOV2
 2

	)

1552 
__owur
 
SSL_CTX_u£_£rv”šfo
(
SSL_CTX
 *
ùx
, cÚ¡ *
£rv”šfo
,

1553 
size_t
 
£rv”šfo_Ëngth
);

1554 
__owur
 
SSL_CTX_u£_£rv”šfo_ex
(
SSL_CTX
 *
ùx
, 
v”siÚ
,

1555 cÚ¡ *
£rv”šfo
,

1556 
size_t
 
£rv”šfo_Ëngth
);

1557 
__owur
 
SSL_CTX_u£_£rv”šfo_fe
(
SSL_CTX
 *
ùx
, cÚ¡ *
fe
);

1559 #iâdeà
OPENSSL_NO_RSA


1560 
__owur
 
SSL_u£_RSAPriv©eKey_fe
(
SSL
 *
s¦
, cÚ¡ *
fe
, 
ty³
);

1563 
__owur
 
SSL_u£_Priv©eKey_fe
(
SSL
 *
s¦
, cÚ¡ *
fe
, 
ty³
);

1564 
__owur
 
SSL_u£_û¹ifiÿ‹_fe
(
SSL
 *
s¦
, cÚ¡ *
fe
, 
ty³
);

1566 #iâdeà
OPENSSL_NO_RSA


1567 
__owur
 
SSL_CTX_u£_RSAPriv©eKey_fe
(
SSL_CTX
 *
ùx
, cÚ¡ *
fe
,

1568 
ty³
);

1570 
__owur
 
SSL_CTX_u£_Priv©eKey_fe
(
SSL_CTX
 *
ùx
, cÚ¡ *
fe
,

1571 
ty³
);

1572 
__owur
 
SSL_CTX_u£_û¹ifiÿ‹_fe
(
SSL_CTX
 *
ùx
, cÚ¡ *
fe
,

1573 
ty³
);

1575 
__owur
 
SSL_CTX_u£_û¹ifiÿ‹_chaš_fe
(
SSL_CTX
 *
ùx
, cÚ¡ *
fe
);

1576 
__owur
 
SSL_u£_û¹ifiÿ‹_chaš_fe
(
SSL
 *
s¦
, cÚ¡ *
fe
);

1577 
__owur
 
STACK_OF
(
X509_NAME
è*
SSL_lßd_ş›Á_CA_fe
(cÚ¡ *
fe
);

1578 
__owur
 
SSL_add_fe_û¹_subjeùs_to_¡ack
(
STACK_OF
(
X509_NAME
è*
¡ackCAs
,

1579 cÚ¡ *
fe
);

1580 
SSL_add_dœ_û¹_subjeùs_to_¡ack
(
STACK_OF
(
X509_NAME
è*
¡ackCAs
,

1581 cÚ¡ *
dœ
);

1583 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

1584 
	#SSL_lßd_”rÜ_¡ršgs
() \

1585 
	`OPENSSL_š™_s¦
(
OPENSSL_INIT_LOAD_SSL_STRINGS
 \

1586 | 
OPENSSL_INIT_LOAD_CRYPTO_STRINGS
, 
NULL
)

	)

1589 
__owur
 cÚ¡ *
SSL_¡©e_¡ršg
(cÚ¡ 
SSL
 *
s
);

1590 
__owur
 cÚ¡ *
SSL_r¡©e_¡ršg
(cÚ¡ 
SSL
 *
s
);

1591 
__owur
 cÚ¡ *
SSL_¡©e_¡ršg_lÚg
(cÚ¡ 
SSL
 *
s
);

1592 
__owur
 cÚ¡ *
SSL_r¡©e_¡ršg_lÚg
(cÚ¡ 
SSL
 *
s
);

1593 
__owur
 
SSL_SESSION_g‘_time
(cÚ¡ 
SSL_SESSION
 *
s
);

1594 
__owur
 
SSL_SESSION_£t_time
(
SSL_SESSION
 *
s
, 
t
);

1595 
__owur
 
SSL_SESSION_g‘_timeout
(cÚ¡ 
SSL_SESSION
 *
s
);

1596 
__owur
 
SSL_SESSION_£t_timeout
(
SSL_SESSION
 *
s
, 
t
);

1597 
__owur
 
SSL_SESSION_g‘_´ÙocŞ_v”siÚ
(cÚ¡ 
SSL_SESSION
 *
s
);

1598 
__owur
 
SSL_SESSION_£t_´ÙocŞ_v”siÚ
(
SSL_SESSION
 *
s
, 
v”siÚ
);

1600 
__owur
 cÚ¡ *
SSL_SESSION_g‘0_ho¡Çme
(cÚ¡ 
SSL_SESSION
 *
s
);

1601 
__owur
 
SSL_SESSION_£t1_ho¡Çme
(
SSL_SESSION
 *
s
, cÚ¡ *
ho¡Çme
);

1602 
SSL_SESSION_g‘0_®²_£Ëùed
(cÚ¡ 
SSL_SESSION
 *
s
,

1603 cÚ¡ **
®²
,

1604 
size_t
 *
Ën
);

1605 
__owur
 
SSL_SESSION_£t1_®²_£Ëùed
(
SSL_SESSION
 *
s
,

1606 cÚ¡ *
®²
,

1607 
size_t
 
Ën
);

1608 
__owur
 cÚ¡ 
SSL_CIPHER
 *
SSL_SESSION_g‘0_ch”
(cÚ¡ 
SSL_SESSION
 *
s
);

1609 
__owur
 
SSL_SESSION_£t_ch”
(
SSL_SESSION
 *
s
, cÚ¡ 
SSL_CIPHER
 *
ch”
);

1610 
__owur
 
SSL_SESSION_has_tick‘
(cÚ¡ 
SSL_SESSION
 *
s
);

1611 
__owur
 
SSL_SESSION_g‘_tick‘_liãtime_hšt
(cÚ¡ 
SSL_SESSION
 *
s
);

1612 
SSL_SESSION_g‘0_tick‘
(cÚ¡ 
SSL_SESSION
 *
s
, cÚ¡ **
tick
,

1613 
size_t
 *
Ën
);

1614 
__owur
 
ušt32_t
 
SSL_SESSION_g‘_max_—¾y_d©a
(cÚ¡ 
SSL_SESSION
 *
s
);

1615 
__owur
 
SSL_SESSION_£t_max_—¾y_d©a
(
SSL_SESSION
 *
s
,

1616 
ušt32_t
 
max_—¾y_d©a
);

1617 
__owur
 
SSL_cİy_£ssiÚ_id
(
SSL
 *
to
, cÚ¡ SSL *
äom
);

1618 
__owur
 
X509
 *
SSL_SESSION_g‘0_³”
(
SSL_SESSION
 *
s
);

1619 
__owur
 
SSL_SESSION_£t1_id_cÚ‹xt
(
SSL_SESSION
 *
s
,

1620 cÚ¡ *
sid_ùx
,

1621 
sid_ùx_Ën
);

1622 
__owur
 
SSL_SESSION_£t1_id
(
SSL_SESSION
 *
s
, cÚ¡ *
sid
,

1623 
sid_Ën
);

1624 
__owur
 
SSL_SESSION_is_»sumabË
(cÚ¡ 
SSL_SESSION
 *
s
);

1626 
__owur
 
SSL_SESSION
 *
SSL_SESSION_Ãw
();

1627 
__owur
 
SSL_SESSION
 *
SSL_SESSION_dup
(SSL_SESSION *
¤c
);

1628 cÚ¡ *
SSL_SESSION_g‘_id
(cÚ¡ 
SSL_SESSION
 *
s
,

1629 *
Ën
);

1630 cÚ¡ *
SSL_SESSION_g‘0_id_cÚ‹xt
(cÚ¡ 
SSL_SESSION
 *
s
,

1631 *
Ën
);

1632 
__owur
 
SSL_SESSION_g‘_com´ess_id
(cÚ¡ 
SSL_SESSION
 *
s
);

1633 #iâdeà
OPENSSL_NO_STDIO


1634 
SSL_SESSION_´št_å
(
FILE
 *
å
, cÚ¡ 
SSL_SESSION
 *
£s
);

1636 
SSL_SESSION_´št
(
BIO
 *
å
, cÚ¡ 
SSL_SESSION
 *
£s
);

1637 
SSL_SESSION_´št_keylog
(
BIO
 *
bp
, cÚ¡ 
SSL_SESSION
 *
x
);

1638 
SSL_SESSION_up_»f
(
SSL_SESSION
 *
£s
);

1639 
SSL_SESSION_ä“
(
SSL_SESSION
 *
£s
);

1640 
__owur
 
i2d_SSL_SESSION
(
SSL_SESSION
 *
š
, **
µ
);

1641 
__owur
 
SSL_£t_£ssiÚ
(
SSL
 *
to
, 
SSL_SESSION
 *
£ssiÚ
);

1642 
SSL_CTX_add_£ssiÚ
(
SSL_CTX
 *
ùx
, 
SSL_SESSION
 *
£ssiÚ
);

1643 
SSL_CTX_»move_£ssiÚ
(
SSL_CTX
 *
ùx
, 
SSL_SESSION
 *
£ssiÚ
);

1644 
__owur
 
SSL_CTX_£t_g’”©e_£ssiÚ_id
(
SSL_CTX
 *
ùx
, 
GEN_SESSION_CB
 
cb
);

1645 
__owur
 
SSL_£t_g’”©e_£ssiÚ_id
(
SSL
 *
s
, 
GEN_SESSION_CB
 
cb
);

1646 
__owur
 
SSL_has_m©chšg_£ssiÚ_id
(cÚ¡ 
SSL
 *
s
,

1647 cÚ¡ *
id
,

1648 
id_Ën
);

1649 
SSL_SESSION
 *
d2i_SSL_SESSION
(SSL_SESSION **
a
, cÚ¡ **
µ
,

1650 
Ëngth
);

1652 #ifdeà
HEADER_X509_H


1653 
__owur
 
X509
 *
SSL_g‘_³”_û¹ifiÿ‹
(cÚ¡ 
SSL
 *
s
);

1656 
__owur
 
STACK_OF
(
X509
è*
SSL_g‘_³”_û¹_chaš
(cÚ¡ 
SSL
 *
s
);

1658 
__owur
 
SSL_CTX_g‘_v”ify_mode
(cÚ¡ 
SSL_CTX
 *
ùx
);

1659 
__owur
 
SSL_CTX_g‘_v”ify_d•th
(cÚ¡ 
SSL_CTX
 *
ùx
);

1660 
__owur
 
SSL_v”ify_cb
 
SSL_CTX_g‘_v”ify_ÿÎback
(cÚ¡ 
SSL_CTX
 *
ùx
);

1661 
SSL_CTX_£t_v”ify
(
SSL_CTX
 *
ùx
, 
mode
, 
SSL_v”ify_cb
 
ÿÎback
);

1662 
SSL_CTX_£t_v”ify_d•th
(
SSL_CTX
 *
ùx
, 
d•th
);

1663 
SSL_CTX_£t_û¹_v”ify_ÿÎback
(
SSL_CTX
 *
ùx
,

1664 (*
cb
è(
X509_STORE_CTX
 *, *),

1665 *
¬g
);

1666 
SSL_CTX_£t_û¹_cb
(
SSL_CTX
 *
c
, (*
cb
è(
SSL
 *
s¦
, *
¬g
),

1667 *
¬g
);

1668 #iâdeà
OPENSSL_NO_RSA


1669 
__owur
 
SSL_CTX_u£_RSAPriv©eKey
(
SSL_CTX
 *
ùx
, 
RSA
 *
r§
);

1670 
__owur
 
SSL_CTX_u£_RSAPriv©eKey_ASN1
(
SSL_CTX
 *
ùx
, cÚ¡ *
d
,

1671 
Ën
);

1673 
__owur
 
SSL_CTX_u£_Priv©eKey
(
SSL_CTX
 *
ùx
, 
EVP_PKEY
 *
pkey
);

1674 
__owur
 
SSL_CTX_u£_Priv©eKey_ASN1
(
pk
, 
SSL_CTX
 *
ùx
,

1675 cÚ¡ *
d
, 
Ën
);

1676 
__owur
 
SSL_CTX_u£_û¹ifiÿ‹
(
SSL_CTX
 *
ùx
, 
X509
 *
x
);

1677 
__owur
 
SSL_CTX_u£_û¹ifiÿ‹_ASN1
(
SSL_CTX
 *
ùx
, 
Ën
,

1678 cÚ¡ *
d
);

1679 
__owur
 
SSL_CTX_u£_û¹_ªd_key
(
SSL_CTX
 *
ùx
, 
X509
 *
x509
, 
EVP_PKEY
 *
´iv©ekey
,

1680 
STACK_OF
(
X509
è*
chaš
, 
ov”ride
);

1682 
SSL_CTX_£t_deçuÉ_·sswd_cb
(
SSL_CTX
 *
ùx
, 
³m_·sswÜd_cb
 *
cb
);

1683 
SSL_CTX_£t_deçuÉ_·sswd_cb_u£rd©a
(
SSL_CTX
 *
ùx
, *
u
);

1684 
³m_·sswÜd_cb
 *
SSL_CTX_g‘_deçuÉ_·sswd_cb
(
SSL_CTX
 *
ùx
);

1685 *
SSL_CTX_g‘_deçuÉ_·sswd_cb_u£rd©a
(
SSL_CTX
 *
ùx
);

1686 
SSL_£t_deçuÉ_·sswd_cb
(
SSL
 *
s
, 
³m_·sswÜd_cb
 *
cb
);

1687 
SSL_£t_deçuÉ_·sswd_cb_u£rd©a
(
SSL
 *
s
, *
u
);

1688 
³m_·sswÜd_cb
 *
SSL_g‘_deçuÉ_·sswd_cb
(
SSL
 *
s
);

1689 *
SSL_g‘_deçuÉ_·sswd_cb_u£rd©a
(
SSL
 *
s
);

1691 
__owur
 
SSL_CTX_check_´iv©e_key
(cÚ¡ 
SSL_CTX
 *
ùx
);

1692 
__owur
 
SSL_check_´iv©e_key
(cÚ¡ 
SSL
 *
ùx
);

1694 
__owur
 
SSL_CTX_£t_£ssiÚ_id_cÚ‹xt
(
SSL_CTX
 *
ùx
,

1695 cÚ¡ *
sid_ùx
,

1696 
sid_ùx_Ën
);

1698 
SSL
 *
SSL_Ãw
(
SSL_CTX
 *
ùx
);

1699 
SSL_up_»f
(
SSL
 *
s
);

1700 
SSL_is_ds
(cÚ¡ 
SSL
 *
s
);

1701 
__owur
 
SSL_£t_£ssiÚ_id_cÚ‹xt
(
SSL
 *
s¦
, cÚ¡ *
sid_ùx
,

1702 
sid_ùx_Ën
);

1704 
__owur
 
SSL_CTX_£t_pu½o£
(
SSL_CTX
 *
ùx
, 
pu½o£
);

1705 
__owur
 
SSL_£t_pu½o£
(
SSL
 *
s¦
, 
pu½o£
);

1706 
__owur
 
SSL_CTX_£t_Œu¡
(
SSL_CTX
 *
ùx
, 
Œu¡
);

1707 
__owur
 
SSL_£t_Œu¡
(
SSL
 *
s¦
, 
Œu¡
);

1709 
__owur
 
SSL_£t1_ho¡
(
SSL
 *
s
, cÚ¡ *
ho¡Çme
);

1710 
__owur
 
SSL_add1_ho¡
(
SSL
 *
s
, cÚ¡ *
ho¡Çme
);

1711 
__owur
 cÚ¡ *
SSL_g‘0_³”Çme
(
SSL
 *
s
);

1712 
SSL_£t_ho¡æags
(
SSL
 *
s
, 
æags
);

1714 
__owur
 
SSL_CTX_dªe_’abË
(
SSL_CTX
 *
ùx
);

1715 
__owur
 
SSL_CTX_dªe_mty³_£t
(
SSL_CTX
 *
ùx
, cÚ¡ 
EVP_MD
 *
md
,

1716 
ušt8_t
 
mty³
, ušt8_ˆ
Üd
);

1717 
__owur
 
SSL_dªe_’abË
(
SSL
 *
s
, cÚ¡ *
ba£domaš
);

1718 
__owur
 
SSL_dªe_§_add
(
SSL
 *
s
, 
ušt8_t
 
u§ge
, ušt8_ˆ
£ËùÜ
,

1719 
ušt8_t
 
mty³
, cÚ¡ *
d©a
, 
size_t
 
dËn
);

1720 
__owur
 
SSL_g‘0_dªe_authÜ™y
(
SSL
 *
s
, 
X509
 **
mû¹
, 
EVP_PKEY
 **
m¥ki
);

1721 
__owur
 
SSL_g‘0_dªe_§
(
SSL
 *
s
, 
ušt8_t
 *
u§ge
, ušt8_ˆ*
£ËùÜ
,

1722 
ušt8_t
 *
mty³
, cÚ¡ **
d©a
,

1723 
size_t
 *
dËn
);

1728 
SSL_DANE
 *
SSL_g‘0_dªe
(
SSL
 *
s¦
);

1732 
SSL_CTX_dªe_£t_æags
(
SSL_CTX
 *
ùx
, 
æags
);

1733 
SSL_CTX_dªe_ş—r_æags
(
SSL_CTX
 *
ùx
, 
æags
);

1734 
SSL_dªe_£t_æags
(
SSL
 *
s¦
, 
æags
);

1735 
SSL_dªe_ş—r_æags
(
SSL
 *
s¦
, 
æags
);

1737 
__owur
 
SSL_CTX_£t1_·¿m
(
SSL_CTX
 *
ùx
, 
X509_VERIFY_PARAM
 *
vpm
);

1738 
__owur
 
SSL_£t1_·¿m
(
SSL
 *
s¦
, 
X509_VERIFY_PARAM
 *
vpm
);

1740 
__owur
 
X509_VERIFY_PARAM
 *
SSL_CTX_g‘0_·¿m
(
SSL_CTX
 *
ùx
);

1741 
__owur
 
X509_VERIFY_PARAM
 *
SSL_g‘0_·¿m
(
SSL
 *
s¦
);

1743 #iâdeà
OPENSSL_NO_SRP


1744 
SSL_CTX_£t_¤p_u£ºame
(
SSL_CTX
 *
ùx
, *
Çme
);

1745 
SSL_CTX_£t_¤p_·sswÜd
(
SSL_CTX
 *
ùx
, *
·sswÜd
);

1746 
SSL_CTX_£t_¤p_¡»ngth
(
SSL_CTX
 *
ùx
, 
¡»ngth
);

1747 
SSL_CTX_£t_¤p_ş›Á_pwd_ÿÎback
(
SSL_CTX
 *
ùx
,

1748 *(*
cb
è(
SSL
 *, *));

1749 
SSL_CTX_£t_¤p_v”ify_·¿m_ÿÎback
(
SSL_CTX
 *
ùx
,

1750 (*
cb
è(
SSL
 *, *));

1751 
SSL_CTX_£t_¤p_u£ºame_ÿÎback
(
SSL_CTX
 *
ùx
,

1752 (*
cb
è(
SSL
 *, *, *));

1753 
SSL_CTX_£t_¤p_cb_¬g
(
SSL_CTX
 *
ùx
, *
¬g
);

1755 
SSL_£t_¤p_£rv”_·¿m
(
SSL
 *
s
, cÚ¡ 
BIGNUM
 *
N
, cÚ¡ BIGNUM *
g
,

1756 
BIGNUM
 *
§
, BIGNUM *
v
, *
šfo
);

1757 
SSL_£t_¤p_£rv”_·¿m_pw
(
SSL
 *
s
, cÚ¡ *
u£r
, cÚ¡ *
·ss
,

1758 cÚ¡ *
g½
);

1760 
__owur
 
BIGNUM
 *
SSL_g‘_¤p_g
(
SSL
 *
s
);

1761 
__owur
 
BIGNUM
 *
SSL_g‘_¤p_N
(
SSL
 *
s
);

1763 
__owur
 *
SSL_g‘_¤p_u£ºame
(
SSL
 *
s
);

1764 
__owur
 *
SSL_g‘_¤p_u£ršfo
(
SSL
 *
s
);

1771 
	#SSL_CLIENT_HELLO_SUCCESS
 1

	)

1772 
	#SSL_CLIENT_HELLO_ERROR
 0

	)

1773 
	#SSL_CLIENT_HELLO_RETRY
 (-1)

	)

1775 (*
SSL_ş›Á_h–lo_cb_â
è(
	tSSL
 *
	ts
, *
	t®
, *
	t¬g
);

1776 
SSL_CTX_£t_ş›Á_h–lo_cb
(
SSL_CTX
 *
c
, 
SSL_ş›Á_h–lo_cb_â
 
cb
,

1777 *
¬g
);

1778 
SSL_ş›Á_h–lo_isv2
(
SSL
 *
s
);

1779 
SSL_ş›Á_h–lo_g‘0_Ëgacy_v”siÚ
(
SSL
 *
s
);

1780 
size_t
 
SSL_ş›Á_h–lo_g‘0_¿ndom
(
SSL
 *
s
, cÚ¡ **
out
);

1781 
size_t
 
SSL_ş›Á_h–lo_g‘0_£ssiÚ_id
(
SSL
 *
s
, cÚ¡ **
out
);

1782 
size_t
 
SSL_ş›Á_h–lo_g‘0_ch”s
(
SSL
 *
s
, cÚ¡ **
out
);

1783 
size_t
 
SSL_ş›Á_h–lo_g‘0_com´essiÚ_m‘hods
(
SSL
 *
s
,

1784 cÚ¡ **
out
);

1785 
SSL_ş›Á_h–lo_g‘1_ex‹nsiÚs_´e£Á
(
SSL
 *
s
, **
out
, 
size_t
 *
ou’
);

1786 
SSL_ş›Á_h–lo_g‘0_ext
(
SSL
 *
s
, 
ty³
,

1787 cÚ¡ **
out
, 
size_t
 *
ou’
);

1789 
SSL_û¹s_ş—r
(
SSL
 *
s
);

1790 
SSL_ä“
(
SSL
 *
s¦
);

1791 #ifdeà
OSSL_ASYNC_FD


1795 
__owur
 
SSL_wa™šg_fÜ_async
(
SSL
 *
s
);

1796 
__owur
 
SSL_g‘_®l_async_fds
(
SSL
 *
s
, 
OSSL_ASYNC_FD
 *
fds
, 
size_t
 *
numfds
);

1797 
__owur
 
SSL_g‘_chªged_async_fds
(
SSL
 *
s
, 
OSSL_ASYNC_FD
 *
addfd
,

1798 
size_t
 *
numaddfds
, 
OSSL_ASYNC_FD
 *
d–fd
,

1799 
size_t
 *
numd–fds
);

1801 
__owur
 
SSL_acû±
(
SSL
 *
s¦
);

1802 
__owur
 
SSL_¡©–ess
(
SSL
 *
s
);

1803 
__owur
 
SSL_cÚÃù
(
SSL
 *
s¦
);

1804 
__owur
 
SSL_»ad
(
SSL
 *
s¦
, *
buf
, 
num
);

1805 
__owur
 
SSL_»ad_ex
(
SSL
 *
s¦
, *
buf
, 
size_t
 
num
, size_ˆ*
»adby‹s
);

1807 
	#SSL_READ_EARLY_DATA_ERROR
 0

	)

1808 
	#SSL_READ_EARLY_DATA_SUCCESS
 1

	)

1809 
	#SSL_READ_EARLY_DATA_FINISH
 2

	)

1811 
__owur
 
SSL_»ad_—¾y_d©a
(
SSL
 *
s
, *
buf
, 
size_t
 
num
,

1812 
size_t
 *
»adby‹s
);

1813 
__owur
 
SSL_³ek
(
SSL
 *
s¦
, *
buf
, 
num
);

1814 
__owur
 
SSL_³ek_ex
(
SSL
 *
s¦
, *
buf
, 
size_t
 
num
, size_ˆ*
»adby‹s
);

1815 
__owur
 
SSL_wr™e
(
SSL
 *
s¦
, cÚ¡ *
buf
, 
num
);

1816 
__owur
 
SSL_wr™e_ex
(
SSL
 *
s
, cÚ¡ *
buf
, 
size_t
 
num
, size_ˆ*
wr™‹n
);

1817 
__owur
 
SSL_wr™e_—¾y_d©a
(
SSL
 *
s
, cÚ¡ *
buf
, 
size_t
 
num
,

1818 
size_t
 *
wr™‹n
);

1819 
SSL_ù¾
(
SSL
 *
s¦
, 
cmd
, 
Ïrg
, *
·rg
);

1820 
SSL_ÿÎback_ù¾
(
SSL
 *, , (*)());

1821 
SSL_CTX_ù¾
(
SSL_CTX
 *
ùx
, 
cmd
, 
Ïrg
, *
·rg
);

1822 
SSL_CTX_ÿÎback_ù¾
(
SSL_CTX
 *, , (*)());

1824 
	#SSL_EARLY_DATA_NOT_SENT
 0

	)

1825 
	#SSL_EARLY_DATA_REJECTED
 1

	)

1826 
	#SSL_EARLY_DATA_ACCEPTED
 2

	)

1828 
__owur
 
SSL_g‘_—¾y_d©a_¡©us
(cÚ¡ 
SSL
 *
s
);

1830 
__owur
 
SSL_g‘_”rÜ
(cÚ¡ 
SSL
 *
s
, 
»t_code
);

1831 
__owur
 cÚ¡ *
SSL_g‘_v”siÚ
(cÚ¡ 
SSL
 *
s
);

1834 
__owur
 
SSL_CTX_£t_s¦_v”siÚ
(
SSL_CTX
 *
ùx
, cÚ¡ 
SSL_METHOD
 *
m‘h
);

1836 #iâdeà
OPENSSL_NO_SSL3_METHOD


1837 
DEPRECATEDIN_1_1_0
(
__owur
 cÚ¡ 
SSL_METHOD
 *
SSLv3_m‘hod
())

1838 
DEPRECATEDIN_1_1_0
(
__owur
 cÚ¡ 
SSL_METHOD
 *
SSLv3_£rv”_m‘hod
())

1839 
DEPRECATEDIN_1_1_0
(
__owur
 cÚ¡ 
SSL_METHOD
 *
SSLv3_ş›Á_m‘hod
())

1842 
	#SSLv23_m‘hod
 
TLS_m‘hod


	)

1843 
	#SSLv23_£rv”_m‘hod
 
TLS_£rv”_m‘hod


	)

1844 
	#SSLv23_ş›Á_m‘hod
 
TLS_ş›Á_m‘hod


	)

1847 
__owur
 cÚ¡ 
SSL_METHOD
 *
TLS_m‘hod
();

1848 
__owur
 cÚ¡ 
SSL_METHOD
 *
TLS_£rv”_m‘hod
();

1849 
__owur
 cÚ¡ 
SSL_METHOD
 *
TLS_ş›Á_m‘hod
();

1851 #iâdeà
OPENSSL_NO_TLS1_METHOD


1852 
DEPRECATEDIN_1_1_0
(
__owur
 cÚ¡ 
SSL_METHOD
 *
TLSv1_m‘hod
())

1853 
DEPRECATEDIN_1_1_0
(
__owur
 cÚ¡ 
SSL_METHOD
 *
TLSv1_£rv”_m‘hod
())

1854 
DEPRECATEDIN_1_1_0
(
__owur
 cÚ¡ 
SSL_METHOD
 *
TLSv1_ş›Á_m‘hod
())

1857 #iâdeà
OPENSSL_NO_TLS1_1_METHOD


1858 
DEPRECATEDIN_1_1_0
(
__owur
 cÚ¡ 
SSL_METHOD
 *
TLSv1_1_m‘hod
())

1859 
DEPRECATEDIN_1_1_0
(
__owur
 cÚ¡ 
SSL_METHOD
 *
TLSv1_1_£rv”_m‘hod
())

1860 
DEPRECATEDIN_1_1_0
(
__owur
 cÚ¡ 
SSL_METHOD
 *
TLSv1_1_ş›Á_m‘hod
())

1863 #iâdeà
OPENSSL_NO_TLS1_2_METHOD


1864 
DEPRECATEDIN_1_1_0
(
__owur
 cÚ¡ 
SSL_METHOD
 *
TLSv1_2_m‘hod
())

1865 
DEPRECATEDIN_1_1_0
(
__owur
 cÚ¡ 
SSL_METHOD
 *
TLSv1_2_£rv”_m‘hod
())

1866 
DEPRECATEDIN_1_1_0
(
__owur
 cÚ¡ 
SSL_METHOD
 *
TLSv1_2_ş›Á_m‘hod
())

1869 #iâdeà
OPENSSL_NO_DTLS1_METHOD


1870 
DEPRECATEDIN_1_1_0
(
__owur
 cÚ¡ 
SSL_METHOD
 *
DTLSv1_m‘hod
())

1871 
DEPRECATEDIN_1_1_0
(
__owur
 cÚ¡ 
SSL_METHOD
 *
DTLSv1_£rv”_m‘hod
())

1872 
DEPRECATEDIN_1_1_0
(
__owur
 cÚ¡ 
SSL_METHOD
 *
DTLSv1_ş›Á_m‘hod
())

1875 #iâdeà
OPENSSL_NO_DTLS1_2_METHOD


1877 
DEPRECATEDIN_1_1_0
(
__owur
 cÚ¡ 
SSL_METHOD
 *
DTLSv1_2_m‘hod
())

1878 
DEPRECATEDIN_1_1_0
(
__owur
 cÚ¡ 
SSL_METHOD
 *
DTLSv1_2_£rv”_m‘hod
())

1879 
DEPRECATEDIN_1_1_0
(
__owur
 cÚ¡ 
SSL_METHOD
 *
DTLSv1_2_ş›Á_m‘hod
())

1882 
__owur
 cÚ¡ 
SSL_METHOD
 *
DTLS_m‘hod
();

1883 
__owur
 cÚ¡ 
SSL_METHOD
 *
DTLS_£rv”_m‘hod
();

1884 
__owur
 cÚ¡ 
SSL_METHOD
 *
DTLS_ş›Á_m‘hod
();

1886 
__owur
 
size_t
 
DTLS_g‘_d©a_mtu
(cÚ¡ 
SSL
 *
s
);

1888 
__owur
 
STACK_OF
(
SSL_CIPHER
è*
SSL_g‘_ch”s
(cÚ¡ 
SSL
 *
s
);

1889 
__owur
 
STACK_OF
(
SSL_CIPHER
è*
SSL_CTX_g‘_ch”s
(cÚ¡ 
SSL_CTX
 *
ùx
);

1890 
__owur
 
STACK_OF
(
SSL_CIPHER
è*
SSL_g‘_ş›Á_ch”s
(cÚ¡ 
SSL
 *
s
);

1891 
__owur
 
STACK_OF
(
SSL_CIPHER
è*
SSL_g‘1_suµÜ‹d_ch”s
(
SSL
 *
s
);

1893 
__owur
 
SSL_do_hªdshake
(
SSL
 *
s
);

1894 
SSL_key_upd©e
(
SSL
 *
s
, 
upd©‘y³
);

1895 
SSL_g‘_key_upd©e_ty³
(
SSL
 *
s
);

1896 
SSL_»ÃgÙŸ‹
(
SSL
 *
s
);

1897 
SSL_»ÃgÙŸ‹_abb»vŸ‹d
(
SSL
 *
s
);

1898 
__owur
 
SSL_»ÃgÙŸ‹_³ndšg
(
SSL
 *
s
);

1899 
SSL_shutdown
(
SSL
 *
s
);

1900 
__owur
 
SSL_v”ify_ş›Á_po¡_hªdshake
(
SSL
 *
s
);

1901 
SSL_CTX_£t_po¡_hªdshake_auth
(
SSL_CTX
 *
ùx
, 
v®
);

1902 
SSL_£t_po¡_hªdshake_auth
(
SSL
 *
s
, 
v®
);

1904 
__owur
 cÚ¡ 
SSL_METHOD
 *
SSL_CTX_g‘_s¦_m‘hod
(
SSL_CTX
 *
ùx
);

1905 
__owur
 cÚ¡ 
SSL_METHOD
 *
SSL_g‘_s¦_m‘hod
(
SSL
 *
s
);

1906 
__owur
 
SSL_£t_s¦_m‘hod
(
SSL
 *
s
, cÚ¡ 
SSL_METHOD
 *
m‘hod
);

1907 
__owur
 cÚ¡ *
SSL_®”t_ty³_¡ršg_lÚg
(
v®ue
);

1908 
__owur
 cÚ¡ *
SSL_®”t_ty³_¡ršg
(
v®ue
);

1909 
__owur
 cÚ¡ *
SSL_®”t_desc_¡ršg_lÚg
(
v®ue
);

1910 
__owur
 cÚ¡ *
SSL_®”t_desc_¡ršg
(
v®ue
);

1912 
SSL_£t0_CA_li¡
(
SSL
 *
s
, 
STACK_OF
(
X509_NAME
è*
Çme_li¡
);

1913 
SSL_CTX_£t0_CA_li¡
(
SSL_CTX
 *
ùx
, 
STACK_OF
(
X509_NAME
è*
Çme_li¡
);

1914 
__owur
 cÚ¡ 
STACK_OF
(
X509_NAME
è*
SSL_g‘0_CA_li¡
(cÚ¡ 
SSL
 *
s
);

1915 
__owur
 cÚ¡ 
STACK_OF
(
X509_NAME
è*
SSL_CTX_g‘0_CA_li¡
(cÚ¡ 
SSL_CTX
 *
ùx
);

1916 
__owur
 
SSL_add1_to_CA_li¡
(
SSL
 *
s¦
, cÚ¡ 
X509
 *
x
);

1917 
__owur
 
SSL_CTX_add1_to_CA_li¡
(
SSL_CTX
 *
ùx
, cÚ¡ 
X509
 *
x
);

1918 
__owur
 cÚ¡ 
STACK_OF
(
X509_NAME
è*
SSL_g‘0_³”_CA_li¡
(cÚ¡ 
SSL
 *
s
);

1920 
SSL_£t_ş›Á_CA_li¡
(
SSL
 *
s
, 
STACK_OF
(
X509_NAME
è*
Çme_li¡
);

1921 
SSL_CTX_£t_ş›Á_CA_li¡
(
SSL_CTX
 *
ùx
, 
STACK_OF
(
X509_NAME
è*
Çme_li¡
);

1922 
__owur
 
STACK_OF
(
X509_NAME
è*
SSL_g‘_ş›Á_CA_li¡
(cÚ¡ 
SSL
 *
s
);

1923 
__owur
 
STACK_OF
(
X509_NAME
è*
SSL_CTX_g‘_ş›Á_CA_li¡
(cÚ¡ 
SSL_CTX
 *
s
);

1924 
__owur
 
SSL_add_ş›Á_CA
(
SSL
 *
s¦
, 
X509
 *
x
);

1925 
__owur
 
SSL_CTX_add_ş›Á_CA
(
SSL_CTX
 *
ùx
, 
X509
 *
x
);

1927 
SSL_£t_cÚÃù_¡©e
(
SSL
 *
s
);

1928 
SSL_£t_acû±_¡©e
(
SSL
 *
s
);

1930 
__owur
 
SSL_g‘_deçuÉ_timeout
(cÚ¡ 
SSL
 *
s
);

1932 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

1933 
	#SSL_lib¿ry_š™
(è
	`OPENSSL_š™_s¦
(0, 
NULL
)

	)

1936 
__owur
 *
SSL_CIPHER_desütiÚ
(cÚ¡ 
SSL_CIPHER
 *, *
buf
, 
size
);

1937 
__owur
 
STACK_OF
(
X509_NAME
è*
SSL_dup_CA_li¡
(cÚ¡ STACK_OF(X509_NAMEè*
sk
);

1939 
__owur
 
SSL
 *
SSL_dup
(SSL *
s¦
);

1941 
__owur
 
X509
 *
SSL_g‘_û¹ifiÿ‹
(cÚ¡ 
SSL
 *
s¦
);

1945 
evp_pkey_¡
 *
SSL_g‘_´iv©ekey
(cÚ¡ 
SSL
 *
s¦
);

1947 
__owur
 
X509
 *
SSL_CTX_g‘0_û¹ifiÿ‹
(cÚ¡ 
SSL_CTX
 *
ùx
);

1948 
__owur
 
EVP_PKEY
 *
SSL_CTX_g‘0_´iv©ekey
(cÚ¡ 
SSL_CTX
 *
ùx
);

1950 
SSL_CTX_£t_qu›t_shutdown
(
SSL_CTX
 *
ùx
, 
mode
);

1951 
__owur
 
SSL_CTX_g‘_qu›t_shutdown
(cÚ¡ 
SSL_CTX
 *
ùx
);

1952 
SSL_£t_qu›t_shutdown
(
SSL
 *
s¦
, 
mode
);

1953 
__owur
 
SSL_g‘_qu›t_shutdown
(cÚ¡ 
SSL
 *
s¦
);

1954 
SSL_£t_shutdown
(
SSL
 *
s¦
, 
mode
);

1955 
__owur
 
SSL_g‘_shutdown
(cÚ¡ 
SSL
 *
s¦
);

1956 
__owur
 
SSL_v”siÚ
(cÚ¡ 
SSL
 *
s¦
);

1957 
__owur
 
SSL_ş›Á_v”siÚ
(cÚ¡ 
SSL
 *
s
);

1958 
__owur
 
SSL_CTX_£t_deçuÉ_v”ify_·ths
(
SSL_CTX
 *
ùx
);

1959 
__owur
 
SSL_CTX_£t_deçuÉ_v”ify_dœ
(
SSL_CTX
 *
ùx
);

1960 
__owur
 
SSL_CTX_£t_deçuÉ_v”ify_fe
(
SSL_CTX
 *
ùx
);

1961 
__owur
 
SSL_CTX_lßd_v”ify_loÿtiÚs
(
SSL_CTX
 *
ùx
, cÚ¡ *
CAfe
,

1962 cÚ¡ *
CA·th
);

1963 
	#SSL_g‘0_£ssiÚ
 
SSL_g‘_£ssiÚ


	)

1964 
__owur
 
SSL_SESSION
 *
SSL_g‘_£ssiÚ
(cÚ¡ 
SSL
 *
s¦
);

1965 
__owur
 
SSL_SESSION
 *
SSL_g‘1_£ssiÚ
(
SSL
 *
s¦
);

1966 
__owur
 
SSL_CTX
 *
SSL_g‘_SSL_CTX
(cÚ¡ 
SSL
 *
s¦
);

1967 
SSL_CTX
 *
SSL_£t_SSL_CTX
(
SSL
 *
s¦
, SSL_CTX *
ùx
);

1968 
SSL_£t_šfo_ÿÎback
(
SSL
 *
s¦
,

1969 (*
cb
è(cÚ¡ 
SSL
 *
s¦
, 
ty³
, 
v®
));

1970 (*
SSL_g‘_šfo_ÿÎback
(cÚ¡ 
SSL
 *
s¦
)è(cÚ¡ SSL *s¦, 
ty³
,

1971 
v®
);

1972 
__owur
 
OSSL_HANDSHAKE_STATE
 
SSL_g‘_¡©e
(cÚ¡ 
SSL
 *
s¦
);

1974 
SSL_£t_v”ify_»suÉ
(
SSL
 *
s¦
, 
v
);

1975 
__owur
 
SSL_g‘_v”ify_»suÉ
(cÚ¡ 
SSL
 *
s¦
);

1976 
__owur
 
STACK_OF
(
X509
è*
SSL_g‘0_v”if›d_chaš
(cÚ¡ 
SSL
 *
s
);

1978 
__owur
 
size_t
 
SSL_g‘_ş›Á_¿ndom
(cÚ¡ 
SSL
 *
s¦
, *
out
,

1979 
size_t
 
ou’
);

1980 
__owur
 
size_t
 
SSL_g‘_£rv”_¿ndom
(cÚ¡ 
SSL
 *
s¦
, *
out
,

1981 
size_t
 
ou’
);

1982 
__owur
 
size_t
 
SSL_SESSION_g‘_ma¡”_key
(cÚ¡ 
SSL_SESSION
 *
£ss
,

1983 *
out
, 
size_t
 
ou’
);

1984 
__owur
 
SSL_SESSION_£t1_ma¡”_key
(
SSL_SESSION
 *
£ss
,

1985 cÚ¡ *
š
, 
size_t
 
Ën
);

1986 
ušt8_t
 
SSL_SESSION_g‘_max_äagm’t_Ëngth
(cÚ¡ 
SSL_SESSION
 *
£ss
);

1988 
	#SSL_g‘_ex_Ãw_šdex
(
l
, 
p
, 
Ãwf
, 
dupf
, 
ä“f
) \

1989 
	`CRYPTO_g‘_ex_Ãw_šdex
(
CRYPTO_EX_INDEX_SSL
, 
l
, 
p
, 
Ãwf
, 
dupf
, 
ä“f
)

	)

1990 
__owur
 
SSL_£t_ex_d©a
(
SSL
 *
s¦
, 
idx
, *
d©a
);

1991 *
SSL_g‘_ex_d©a
(cÚ¡ 
SSL
 *
s¦
, 
idx
);

1992 
	#SSL_SESSION_g‘_ex_Ãw_šdex
(
l
, 
p
, 
Ãwf
, 
dupf
, 
ä“f
) \

1993 
	`CRYPTO_g‘_ex_Ãw_šdex
(
CRYPTO_EX_INDEX_SSL_SESSION
, 
l
, 
p
, 
Ãwf
, 
dupf
, 
ä“f
)

	)

1994 
__owur
 
SSL_SESSION_£t_ex_d©a
(
SSL_SESSION
 *
ss
, 
idx
, *
d©a
);

1995 *
SSL_SESSION_g‘_ex_d©a
(cÚ¡ 
SSL_SESSION
 *
ss
, 
idx
);

1996 
	#SSL_CTX_g‘_ex_Ãw_šdex
(
l
, 
p
, 
Ãwf
, 
dupf
, 
ä“f
) \

1997 
	`CRYPTO_g‘_ex_Ãw_šdex
(
CRYPTO_EX_INDEX_SSL_CTX
, 
l
, 
p
, 
Ãwf
, 
dupf
, 
ä“f
)

	)

1998 
__owur
 
SSL_CTX_£t_ex_d©a
(
SSL_CTX
 *
s¦
, 
idx
, *
d©a
);

1999 *
SSL_CTX_g‘_ex_d©a
(cÚ¡ 
SSL_CTX
 *
s¦
, 
idx
);

2001 
__owur
 
SSL_g‘_ex_d©a_X509_STORE_CTX_idx
();

2003 
	#SSL_CTX_£ss_£t_ÿche_size
(
ùx
,
t
) \

2004 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SET_SESS_CACHE_SIZE
,
t
,
NULL
)

	)

2005 
	#SSL_CTX_£ss_g‘_ÿche_size
(
ùx
) \

2006 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_GET_SESS_CACHE_SIZE
,0,
NULL
)

	)

2007 
	#SSL_CTX_£t_£ssiÚ_ÿche_mode
(
ùx
,
m
) \

2008 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SET_SESS_CACHE_MODE
,
m
,
NULL
)

	)

2009 
	#SSL_CTX_g‘_£ssiÚ_ÿche_mode
(
ùx
) \

2010 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_GET_SESS_CACHE_MODE
,0,
NULL
)

	)

2012 
	#SSL_CTX_g‘_deçuÉ_»ad_ah—d
(
ùx
è
	`SSL_CTX_g‘_»ad_ah—d
(ùx)

	)

2013 
	#SSL_CTX_£t_deçuÉ_»ad_ah—d
(
ùx
,
m
è
	`SSL_CTX_£t_»ad_ah—d
(ùx,m)

	)

2014 
	#SSL_CTX_g‘_»ad_ah—d
(
ùx
) \

2015 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_GET_READ_AHEAD
,0,
NULL
)

	)

2016 
	#SSL_CTX_£t_»ad_ah—d
(
ùx
,
m
) \

2017 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SET_READ_AHEAD
,
m
,
NULL
)

	)

2018 
	#SSL_CTX_g‘_max_û¹_li¡
(
ùx
) \

2019 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_GET_MAX_CERT_LIST
,0,
NULL
)

	)

2020 
	#SSL_CTX_£t_max_û¹_li¡
(
ùx
,
m
) \

2021 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SET_MAX_CERT_LIST
,
m
,
NULL
)

	)

2022 
	#SSL_g‘_max_û¹_li¡
(
s¦
) \

2023 
	`SSL_ù¾
(
s¦
,
SSL_CTRL_GET_MAX_CERT_LIST
,0,
NULL
)

	)

2024 
	#SSL_£t_max_û¹_li¡
(
s¦
,
m
) \

2025 
	`SSL_ù¾
(
s¦
,
SSL_CTRL_SET_MAX_CERT_LIST
,
m
,
NULL
)

	)

2027 
	#SSL_CTX_£t_max_£nd_äagm’t
(
ùx
,
m
) \

2028 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SET_MAX_SEND_FRAGMENT
,
m
,
NULL
)

	)

2029 
	#SSL_£t_max_£nd_äagm’t
(
s¦
,
m
) \

2030 
	`SSL_ù¾
(
s¦
,
SSL_CTRL_SET_MAX_SEND_FRAGMENT
,
m
,
NULL
)

	)

2031 
	#SSL_CTX_£t_¥l™_£nd_äagm’t
(
ùx
,
m
) \

2032 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SET_SPLIT_SEND_FRAGMENT
,
m
,
NULL
)

	)

2033 
	#SSL_£t_¥l™_£nd_äagm’t
(
s¦
,
m
) \

2034 
	`SSL_ù¾
(
s¦
,
SSL_CTRL_SET_SPLIT_SEND_FRAGMENT
,
m
,
NULL
)

	)

2035 
	#SSL_CTX_£t_max_p–šes
(
ùx
,
m
) \

2036 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SET_MAX_PIPELINES
,
m
,
NULL
)

	)

2037 
	#SSL_£t_max_p–šes
(
s¦
,
m
) \

2038 
	`SSL_ù¾
(
s¦
,
SSL_CTRL_SET_MAX_PIPELINES
,
m
,
NULL
)

	)

2040 
SSL_CTX_£t_deçuÉ_»ad_bufãr_Ën
(
SSL_CTX
 *
ùx
, 
size_t
 
Ën
);

2041 
SSL_£t_deçuÉ_»ad_bufãr_Ën
(
SSL
 *
s
, 
size_t
 
Ën
);

2043 #iâdeà
OPENSSL_NO_DH


2045 
SSL_CTX_£t_tmp_dh_ÿÎback
(
SSL_CTX
 *
ùx
,

2046 
DH
 *(*
dh
è(
SSL
 *
s¦
, 
is_expÜt
,

2047 
keyËngth
));

2048 
SSL_£t_tmp_dh_ÿÎback
(
SSL
 *
s¦
,

2049 
DH
 *(*
dh
è(
SSL
 *
s¦
, 
is_expÜt
,

2050 
keyËngth
));

2053 
__owur
 cÚ¡ 
COMP_METHOD
 *
SSL_g‘_cu¼’t_com´essiÚ
(
SSL
 *
s
);

2054 
__owur
 cÚ¡ 
COMP_METHOD
 *
SSL_g‘_cu¼’t_ex·nsiÚ
(
SSL
 *
s
);

2055 
__owur
 cÚ¡ *
SSL_COMP_g‘_Çme
(cÚ¡ 
COMP_METHOD
 *
comp
);

2056 
__owur
 cÚ¡ *
SSL_COMP_g‘0_Çme
(cÚ¡ 
SSL_COMP
 *
comp
);

2057 
__owur
 
SSL_COMP_g‘_id
(cÚ¡ 
SSL_COMP
 *
comp
);

2058 
STACK_OF
(
SSL_COMP
è*
SSL_COMP_g‘_com´essiÚ_m‘hods
();

2059 
__owur
 
STACK_OF
(
SSL_COMP
è*
SSL_COMP_£t0_com´essiÚ_m‘hods
(STACK_OF(SSL_COMP)

2060 *
m‘hs
);

2061 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

2062 
	#SSL_COMP_ä“_com´essiÚ_m‘hods
(è0è

	)

2064 
__owur
 
SSL_COMP_add_com´essiÚ_m‘hod
(
id
, 
COMP_METHOD
 *
cm
);

2066 cÚ¡ 
SSL_CIPHER
 *
SSL_CIPHER_fšd
(
SSL
 *
s¦
, cÚ¡ *
±r
);

2067 
SSL_CIPHER_g‘_ch”_nid
(cÚ¡ 
SSL_CIPHER
 *
c
);

2068 
SSL_CIPHER_g‘_dige¡_nid
(cÚ¡ 
SSL_CIPHER
 *
c
);

2069 
SSL_by‹s_to_ch”_li¡
(
SSL
 *
s
, cÚ¡ *
by‹s
, 
size_t
 
Ën
,

2070 
isv2fÜm©
, 
STACK_OF
(
SSL_CIPHER
è**
sk
,

2071 
STACK_OF
(
SSL_CIPHER
è**
scsvs
);

2074 
__owur
 
SSL_£t_£ssiÚ_tick‘_ext
(
SSL
 *
s
, *
ext_d©a
, 
ext_Ën
);

2076 
__owur
 
SSL_£t_£ssiÚ_tick‘_ext_cb
(
SSL
 *
s
,

2077 
s_£ssiÚ_tick‘_ext_cb_â
 
cb
,

2078 *
¬g
);

2081 
__owur
 
SSL_£t_£ssiÚ_£ü‘_cb
(
SSL
 *
s
,

2082 
s_£ssiÚ_£ü‘_cb_â
 
£ssiÚ_£ü‘_cb
,

2083 *
¬g
);

2085 
SSL_CTX_£t_nÙ_»sumabË_£ssiÚ_ÿÎback
(
SSL_CTX
 *
ùx
,

2086 (*
cb
è(
SSL
 *
s¦
,

2088 
is_fÜw¬d_£cu»
));

2090 
SSL_£t_nÙ_»sumabË_£ssiÚ_ÿÎback
(
SSL
 *
s¦
,

2091 (*
cb
è(
SSL
 *
s¦
,

2092 
is_fÜw¬d_£cu»
));

2094 
SSL_CTX_£t_»cÜd_·ddšg_ÿÎback
(
SSL_CTX
 *
ùx
,

2095 
size_t
 (*
cb
è(
SSL
 *
s¦
, 
ty³
,

2096 
size_t
 
Ën
, *
¬g
));

2097 
SSL_CTX_£t_»cÜd_·ddšg_ÿÎback_¬g
(
SSL_CTX
 *
ùx
, *
¬g
);

2098 *
SSL_CTX_g‘_»cÜd_·ddšg_ÿÎback_¬g
(
SSL_CTX
 *
ùx
);

2099 
SSL_CTX_£t_block_·ddšg
(
SSL_CTX
 *
ùx
, 
size_t
 
block_size
);

2101 
SSL_£t_»cÜd_·ddšg_ÿÎback
(
SSL
 *
s¦
,

2102 
size_t
 (*
cb
è(
SSL
 *
s¦
, 
ty³
,

2103 
size_t
 
Ën
, *
¬g
));

2104 
SSL_£t_»cÜd_·ddšg_ÿÎback_¬g
(
SSL
 *
s¦
, *
¬g
);

2105 *
SSL_g‘_»cÜd_·ddšg_ÿÎback_¬g
(
SSL
 *
s¦
);

2106 
SSL_£t_block_·ddšg
(
SSL
 *
s¦
, 
size_t
 
block_size
);

2108 
SSL_£t_num_tick‘s
(
SSL
 *
s
, 
size_t
 
num_tick‘s
);

2109 
size_t
 
SSL_g‘_num_tick‘s
(
SSL
 *
s
);

2110 
SSL_CTX_£t_num_tick‘s
(
SSL_CTX
 *
ùx
, 
size_t
 
num_tick‘s
);

2111 
size_t
 
SSL_CTX_g‘_num_tick‘s
(
SSL_CTX
 *
ùx
);

2113 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

2114 
	#SSL_ÿche_h™
(
s
è
	`SSL_£ssiÚ_»u£d
(s)

	)

2117 
__owur
 
SSL_£ssiÚ_»u£d
(
SSL
 *
s
);

2118 
__owur
 
SSL_is_£rv”
(cÚ¡ 
SSL
 *
s
);

2120 
__owur
 __owu¸
SSL_CONF_CTX
 *
SSL_CONF_CTX_Ãw
();

2121 
SSL_CONF_CTX_fšish
(
SSL_CONF_CTX
 *
cùx
);

2122 
SSL_CONF_CTX_ä“
(
SSL_CONF_CTX
 *
cùx
);

2123 
SSL_CONF_CTX_£t_æags
(
SSL_CONF_CTX
 *
cùx
, 
æags
);

2124 
__owur
 
SSL_CONF_CTX_ş—r_æags
(
SSL_CONF_CTX
 *
cùx
,

2125 
æags
);

2126 
__owur
 
SSL_CONF_CTX_£t1_´efix
(
SSL_CONF_CTX
 *
cùx
, cÚ¡ *
´e
);

2128 
SSL_CONF_CTX_£t_s¦
(
SSL_CONF_CTX
 *
cùx
, 
SSL
 *
s¦
);

2129 
SSL_CONF_CTX_£t_s¦_ùx
(
SSL_CONF_CTX
 *
cùx
, 
SSL_CTX
 *
ùx
);

2131 
__owur
 
SSL_CONF_cmd
(
SSL_CONF_CTX
 *
cùx
, cÚ¡ *
cmd
, cÚ¡ *
v®ue
);

2132 
__owur
 
SSL_CONF_cmd_¬gv
(
SSL_CONF_CTX
 *
cùx
, *
·rgc
, ***
·rgv
);

2133 
__owur
 
SSL_CONF_cmd_v®ue_ty³
(
SSL_CONF_CTX
 *
cùx
, cÚ¡ *
cmd
);

2135 
SSL_add_s¦_moduË
();

2136 
SSL_cÚfig
(
SSL
 *
s
, cÚ¡ *
Çme
);

2137 
SSL_CTX_cÚfig
(
SSL_CTX
 *
ùx
, cÚ¡ *
Çme
);

2139 #iâdeà
OPENSSL_NO_SSL_TRACE


2140 
SSL_Œaû
(
wr™e_p
, 
v”siÚ
, 
cÚ‹Á_ty³
,

2141 cÚ¡ *
buf
, 
size_t
 
Ën
, 
SSL
 *
s¦
, *
¬g
);

2144 #iâdeà
OPENSSL_NO_SOCK


2145 
DTLSv1_li¡’
(
SSL
 *
s
, 
BIO_ADDR
 *
ş›Á
);

2148 #iâdeà
OPENSSL_NO_CT


2156 (*
s¦_ù_v®id©iÚ_cb
)(cÚ¡ 
	tCT_POLICY_EVAL_CTX
 *
	tùx
,

2157 cÚ¡ 
	tSTACK_OF
(
	tSCT
è*
	tsùs
, *
	t¬g
);

2171 
SSL_£t_ù_v®id©iÚ_ÿÎback
(
SSL
 *
s
, 
s¦_ù_v®id©iÚ_cb
 
ÿÎback
,

2172 *
¬g
);

2173 
SSL_CTX_£t_ù_v®id©iÚ_ÿÎback
(
SSL_CTX
 *
ùx
,

2174 
s¦_ù_v®id©iÚ_cb
 
ÿÎback
,

2175 *
¬g
);

2176 
	#SSL_di§bË_ù
(
s
) \

2177 ((è
	`SSL_£t_v®id©iÚ_ÿÎback
((
s
), 
NULL
, NULL))

	)

2178 
	#SSL_CTX_di§bË_ù
(
ùx
) \

2179 ((è
	`SSL_CTX_£t_v®id©iÚ_ÿÎback
((
ùx
), 
NULL
, NULL))

	)

2187 
SSL_CT_VALIDATION_PERMISSIVE
 = 0,

2188 
SSL_CT_VALIDATION_STRICT


2199 
SSL_’abË_ù
(
SSL
 *
s
, 
v®id©iÚ_mode
);

2200 
SSL_CTX_’abË_ù
(
SSL_CTX
 *
ùx
, 
v®id©iÚ_mode
);

2205 
SSL_ù_is_’abËd
(cÚ¡ 
SSL
 *
s
);

2206 
SSL_CTX_ù_is_’abËd
(cÚ¡ 
SSL_CTX
 *
ùx
);

2209 cÚ¡ 
STACK_OF
(
SCT
è*
SSL_g‘0_³”_sùs
(
SSL
 *
s
);

2218 
SSL_CTX_£t_deçuÉ_ùlog_li¡_fe
(
SSL_CTX
 *
ùx
);

2227 
SSL_CTX_£t_ùlog_li¡_fe
(
SSL_CTX
 *
ùx
, cÚ¡ *
·th
);

2233 
SSL_CTX_£t0_ùlog_¡Üe
(
SSL_CTX
 *
ùx
, 
CTLOG_STORE
 *
logs
);

2242 cÚ¡ 
CTLOG_STORE
 *
SSL_CTX_g‘0_ùlog_¡Üe
(cÚ¡ 
SSL_CTX
 *
ùx
);

2248 
	#SSL_SECOP_OTHER_TYPE
 0xffff0000

	)

2249 
	#SSL_SECOP_OTHER_NONE
 0

	)

2250 
	#SSL_SECOP_OTHER_CIPHER
 (1 << 16)

	)

2251 
	#SSL_SECOP_OTHER_CURVE
 (2 << 16)

	)

2252 
	#SSL_SECOP_OTHER_DH
 (3 << 16)

	)

2253 
	#SSL_SECOP_OTHER_PKEY
 (4 << 16)

	)

2254 
	#SSL_SECOP_OTHER_SIGALG
 (5 << 16)

	)

2255 
	#SSL_SECOP_OTHER_CERT
 (6 << 16)

	)

2258 
	#SSL_SECOP_PEER
 0x1000

	)

2264 
	#SSL_SECOP_CIPHER_SUPPORTED
 (1 | 
SSL_SECOP_OTHER_CIPHER
)

	)

2266 
	#SSL_SECOP_CIPHER_SHARED
 (2 | 
SSL_SECOP_OTHER_CIPHER
)

	)

2268 
	#SSL_SECOP_CIPHER_CHECK
 (3 | 
SSL_SECOP_OTHER_CIPHER
)

	)

2270 
	#SSL_SECOP_CURVE_SUPPORTED
 (4 | 
SSL_SECOP_OTHER_CURVE
)

	)

2272 
	#SSL_SECOP_CURVE_SHARED
 (5 | 
SSL_SECOP_OTHER_CURVE
)

	)

2274 
	#SSL_SECOP_CURVE_CHECK
 (6 | 
SSL_SECOP_OTHER_CURVE
)

	)

2276 
	#SSL_SECOP_TMP_DH
 (7 | 
SSL_SECOP_OTHER_PKEY
)

	)

2278 
	#SSL_SECOP_VERSION
 (9 | 
SSL_SECOP_OTHER_NONE
)

	)

2280 
	#SSL_SECOP_TICKET
 (10 | 
SSL_SECOP_OTHER_NONE
)

	)

2282 
	#SSL_SECOP_SIGALG_SUPPORTED
 (11 | 
SSL_SECOP_OTHER_SIGALG
)

	)

2284 
	#SSL_SECOP_SIGALG_SHARED
 (12 | 
SSL_SECOP_OTHER_SIGALG
)

	)

2286 
	#SSL_SECOP_SIGALG_CHECK
 (13 | 
SSL_SECOP_OTHER_SIGALG
)

	)

2288 
	#SSL_SECOP_SIGALG_MASK
 (14 | 
SSL_SECOP_OTHER_SIGALG
)

	)

2290 
	#SSL_SECOP_COMPRESSION
 (15 | 
SSL_SECOP_OTHER_NONE
)

	)

2292 
	#SSL_SECOP_EE_KEY
 (16 | 
SSL_SECOP_OTHER_CERT
)

	)

2294 
	#SSL_SECOP_CA_KEY
 (17 | 
SSL_SECOP_OTHER_CERT
)

	)

2296 
	#SSL_SECOP_CA_MD
 (18 | 
SSL_SECOP_OTHER_CERT
)

	)

2298 
	#SSL_SECOP_PEER_EE_KEY
 (
SSL_SECOP_EE_KEY
 | 
SSL_SECOP_PEER
)

	)

2300 
	#SSL_SECOP_PEER_CA_KEY
 (
SSL_SECOP_CA_KEY
 | 
SSL_SECOP_PEER
)

	)

2302 
	#SSL_SECOP_PEER_CA_MD
 (
SSL_SECOP_CA_MD
 | 
SSL_SECOP_PEER
)

	)

2304 
SSL_£t_£cur™y_Ëv–
(
SSL
 *
s
, 
Ëv–
);

2305 
__owur
 
SSL_g‘_£cur™y_Ëv–
(cÚ¡ 
SSL
 *
s
);

2306 
SSL_£t_£cur™y_ÿÎback
(
SSL
 *
s
,

2307 (*
cb
è(cÚ¡ 
SSL
 *
s
, cÚ¡ 
SSL_CTX
 *
ùx
,

2308 
İ
, 
b™s
, 
nid
,

2309 *
Ùh”
, *
ex
));

2310 (*
SSL_g‘_£cur™y_ÿÎback
(cÚ¡ 
SSL
 *
s
)) (const SSL *s,

2311 cÚ¡ 
SSL_CTX
 *
ùx
, 
İ
,

2312 
b™s
, 
nid
, *
Ùh”
,

2313 *
ex
);

2314 
SSL_£t0_£cur™y_ex_d©a
(
SSL
 *
s
, *
ex
);

2315 
__owur
 *
SSL_g‘0_£cur™y_ex_d©a
(cÚ¡ 
SSL
 *
s
);

2317 
SSL_CTX_£t_£cur™y_Ëv–
(
SSL_CTX
 *
ùx
, 
Ëv–
);

2318 
__owur
 
SSL_CTX_g‘_£cur™y_Ëv–
(cÚ¡ 
SSL_CTX
 *
ùx
);

2319 
SSL_CTX_£t_£cur™y_ÿÎback
(
SSL_CTX
 *
ùx
,

2320 (*
cb
è(cÚ¡ 
SSL
 *
s
, cÚ¡ 
SSL_CTX
 *
ùx
,

2321 
İ
, 
b™s
, 
nid
,

2322 *
Ùh”
, *
ex
));

2323 (*
SSL_CTX_g‘_£cur™y_ÿÎback
(cÚ¡ 
SSL_CTX
 *
ùx
)è(cÚ¡ 
SSL
 *
s
,

2324 cÚ¡ 
SSL_CTX
 *
ùx
,

2325 
İ
, 
b™s
,

2326 
nid
,

2327 *
Ùh”
,

2328 *
ex
);

2329 
SSL_CTX_£t0_£cur™y_ex_d©a
(
SSL_CTX
 *
ùx
, *
ex
);

2330 
__owur
 *
SSL_CTX_g‘0_£cur™y_ex_d©a
(cÚ¡ 
SSL_CTX
 *
ùx
);

2333 
	#OPENSSL_INIT_NO_LOAD_SSL_STRINGS
 0x00100000L

	)

2334 
	#OPENSSL_INIT_LOAD_SSL_STRINGS
 0x00200000L

	)

2336 
	#OPENSSL_INIT_SSL_DEFAULT
 \

2337 (
OPENSSL_INIT_LOAD_SSL_STRINGS
 | 
OPENSSL_INIT_LOAD_CRYPTO_STRINGS
)

	)

2339 
OPENSSL_š™_s¦
(
ušt64_t
 
İts
, cÚ¡ 
OPENSSL_INIT_SETTINGS
 *
£‰šgs
);

2341 #iâdeà
OPENSSL_NO_UNIT_TEST


2342 
__owur
 cÚ¡ 
İ’s¦_s¦_‹¡_funùiÚs
 *
SSL_‹¡_funùiÚs
();

2345 
__owur
 
SSL_ä“_bufãrs
(
SSL
 *
s¦
);

2346 
__owur
 
SSL_®loc_bufãrs
(
SSL
 *
s¦
);

2350 
	tSSL_TICKET_STATUS
;

2354 
	#SSL_TICKET_FATAL_ERR_MALLOC
 0

	)

2356 
	#SSL_TICKET_FATAL_ERR_OTHER
 1

	)

2358 
	#SSL_TICKET_NONE
 2

	)

2360 
	#SSL_TICKET_EMPTY
 3

	)

2362 
	#SSL_TICKET_NO_DECRYPT
 4

	)

2364 
	#SSL_TICKET_SUCCESS
 5

	)

2366 
	#SSL_TICKET_SUCCESS_RENEW
 6

	)

2369 
	tSSL_TICKET_RETURN
;

2372 
	#SSL_TICKET_RETURN_ABORT
 0

	)

2374 
	#SSL_TICKET_RETURN_IGNORE
 1

	)

2376 
	#SSL_TICKET_RETURN_IGNORE_RENEW
 2

	)

2378 
	#SSL_TICKET_RETURN_USE
 3

	)

2380 
	#SSL_TICKET_RETURN_USE_RENEW
 4

	)

2382 (*
SSL_CTX_g’”©e_£ssiÚ_tick‘_â
)(
	tSSL
 *
	ts
, *
	t¬g
);

2383 
SSL_TICKET_RETURN
 (*
	tSSL_CTX_deüy±_£ssiÚ_tick‘_â
)(
	tSSL
 *
	ts
, 
	tSSL_SESSION
 *
	tss
,

2384 cÚ¡ *
	tkeyÇme
,

2385 
	tsize_t
 
	tkeyÇme_Ëngth
,

2386 
	tSSL_TICKET_STATUS
 
	t¡©us
,

2387 *
	t¬g
);

2388 
SSL_CTX_£t_£ssiÚ_tick‘_cb
(
SSL_CTX
 *
ùx
,

2389 
SSL_CTX_g’”©e_£ssiÚ_tick‘_â
 
g’_cb
,

2390 
SSL_CTX_deüy±_£ssiÚ_tick‘_â
 
dec_cb
,

2391 *
¬g
);

2392 
SSL_SESSION_£t1_tick‘_­pd©a
(
SSL_SESSION
 *
ss
, cÚ¡ *
d©a
, 
size_t
 
Ën
);

2393 
SSL_SESSION_g‘0_tick‘_­pd©a
(
SSL_SESSION
 *
ss
, **
d©a
, 
size_t
 *
Ën
);

2395 cÚ¡ 
SSL_v”siÚ_¡r
[];

2397 (*
	tDTLS_tim”_cb
)(
	tSSL
 *
	ts
, 
	ttim”_us
);

2399 
DTLS_£t_tim”_cb
(
SSL
 *
s
, 
DTLS_tim”_cb
 
cb
);

2402 (*
	gSSL_®low_—¾y_d©a_cb_â
)(
	tSSL
 *
	ts
, *
	t¬g
);

2403 
SSL_CTX_£t_®low_—¾y_d©a_cb
(
SSL_CTX
 *
ùx
,

2404 
SSL_®low_—¾y_d©a_cb_â
 
cb
,

2405 *
¬g
);

2406 
SSL_£t_®low_—¾y_d©a_cb
(
SSL
 *
s
,

2407 
SSL_®low_—¾y_d©a_cb_â
 
cb
,

2408 *
¬g
);

2410 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/tls1.h

12 #iâdeà
HEADER_TLS1_H


13 
	#HEADER_TLS1_H


	)

15 
	~<İ’s¦/bufãr.h
>

16 
	~<İ’s¦/x509.h
>

18 #ifdeà 
__ılu¥lus


23 #iâdeà
OPENSSL_TLS_SECURITY_LEVEL


24 
	#OPENSSL_TLS_SECURITY_LEVEL
 1

	)

27 
	#TLS1_VERSION
 0x0301

	)

28 
	#TLS1_1_VERSION
 0x0302

	)

29 
	#TLS1_2_VERSION
 0x0303

	)

30 
	#TLS1_3_VERSION
 0x0304

	)

31 
	#TLS_MAX_VERSION
 
TLS1_3_VERSION


	)

34 
	#TLS_ANY_VERSION
 0x10000

	)

36 
	#TLS1_VERSION_MAJOR
 0x03

	)

37 
	#TLS1_VERSION_MINOR
 0x01

	)

39 
	#TLS1_1_VERSION_MAJOR
 0x03

	)

40 
	#TLS1_1_VERSION_MINOR
 0x02

	)

42 
	#TLS1_2_VERSION_MAJOR
 0x03

	)

43 
	#TLS1_2_VERSION_MINOR
 0x03

	)

45 
	#TLS1_g‘_v”siÚ
(
s
) \

46 ((
	`SSL_v”siÚ
(
s
è>> 8è=ğ
TLS1_VERSION_MAJOR
 ? SSL_v”siÚ(sè: 0)

	)

48 
	#TLS1_g‘_ş›Á_v”siÚ
(
s
) \

49 ((
	`SSL_ş›Á_v”siÚ
(
s
è>> 8è=ğ
TLS1_VERSION_MAJOR
 ? SSL_ş›Á_v”siÚ(sè: 0)

	)

51 
	#TLS1_AD_DECRYPTION_FAILED
 21

	)

52 
	#TLS1_AD_RECORD_OVERFLOW
 22

	)

53 
	#TLS1_AD_UNKNOWN_CA
 48

	)

54 
	#TLS1_AD_ACCESS_DENIED
 49

	)

55 
	#TLS1_AD_DECODE_ERROR
 50

	)

56 
	#TLS1_AD_DECRYPT_ERROR
 51

	)

57 
	#TLS1_AD_EXPORT_RESTRICTION
 60

	)

58 
	#TLS1_AD_PROTOCOL_VERSION
 70

	)

59 
	#TLS1_AD_INSUFFICIENT_SECURITY
 71

	)

60 
	#TLS1_AD_INTERNAL_ERROR
 80

	)

61 
	#TLS1_AD_INAPPROPRIATE_FALLBACK
 86

	)

62 
	#TLS1_AD_USER_CANCELLED
 90

	)

63 
	#TLS1_AD_NO_RENEGOTIATION
 100

	)

65 
	#TLS13_AD_MISSING_EXTENSION
 109

	)

66 
	#TLS13_AD_CERTIFICATE_REQUIRED
 116

	)

68 
	#TLS1_AD_UNSUPPORTED_EXTENSION
 110

	)

69 
	#TLS1_AD_CERTIFICATE_UNOBTAINABLE
 111

	)

70 
	#TLS1_AD_UNRECOGNIZED_NAME
 112

	)

71 
	#TLS1_AD_BAD_CERTIFICATE_STATUS_RESPONSE
 113

	)

72 
	#TLS1_AD_BAD_CERTIFICATE_HASH_VALUE
 114

	)

73 
	#TLS1_AD_UNKNOWN_PSK_IDENTITY
 115

	)

74 
	#TLS1_AD_NO_APPLICATION_PROTOCOL
 120

	)

77 
	#TLSEXT_TYPE_£rv”_Çme
 0

	)

78 
	#TLSEXT_TYPE_max_äagm’t_Ëngth
 1

	)

79 
	#TLSEXT_TYPE_ş›Á_û¹ifiÿ‹_u¾
 2

	)

80 
	#TLSEXT_TYPE_Œu¡ed_ÿ_keys
 3

	)

81 
	#TLSEXT_TYPE_Œunÿ‹d_hmac
 4

	)

82 
	#TLSEXT_TYPE_¡©us_»que¡
 5

	)

84 
	#TLSEXT_TYPE_u£r_m­pšg
 6

	)

86 
	#TLSEXT_TYPE_ş›Á_authz
 7

	)

87 
	#TLSEXT_TYPE_£rv”_authz
 8

	)

89 
	#TLSEXT_TYPE_û¹_ty³
 9

	)

96 
	#TLSEXT_TYPE_suµÜ‹d_groups
 10

	)

97 
	#TLSEXT_TYPE_–ltic_curves
 
TLSEXT_TYPE_suµÜ‹d_groups


	)

98 
	#TLSEXT_TYPE_ec_pošt_fÜm©s
 11

	)

102 
	#TLSEXT_TYPE_¤p
 12

	)

105 
	#TLSEXT_TYPE_sigÇtu»_®gÜ™hms
 13

	)

108 
	#TLSEXT_TYPE_u£_¤
 14

	)

111 
	#TLSEXT_TYPE_h—¹b—t
 15

	)

114 
	#TLSEXT_TYPE_­¶iÿtiÚ_Ïy”_´ÙocŞ_ÃgÙŸtiÚ
 16

	)

120 
	#TLSEXT_TYPE_sigÃd_û¹ifiÿ‹_time¡amp
 18

	)

126 
	#TLSEXT_TYPE_·ddšg
 21

	)

129 
	#TLSEXT_TYPE_’üy±_th’_mac
 22

	)

132 
	#TLSEXT_TYPE_ex‹nded_ma¡”_£ü‘
 23

	)

135 
	#TLSEXT_TYPE_£ssiÚ_tick‘
 35

	)

138 
	#TLSEXT_TYPE_psk
 41

	)

139 
	#TLSEXT_TYPE_—¾y_d©a
 42

	)

140 
	#TLSEXT_TYPE_suµÜ‹d_v”siÚs
 43

	)

141 
	#TLSEXT_TYPE_cook›
 44

	)

142 
	#TLSEXT_TYPE_psk_kex_modes
 45

	)

143 
	#TLSEXT_TYPE_û¹ifiÿ‹_authÜ™›s
 47

	)

144 
	#TLSEXT_TYPE_po¡_hªdshake_auth
 49

	)

145 
	#TLSEXT_TYPE_sigÇtu»_®gÜ™hms_û¹
 50

	)

146 
	#TLSEXT_TYPE_key_sh¬e
 51

	)

149 
	#TLSEXT_TYPE_»ÃgÙŸ‹
 0xff01

	)

151 #iâdeà
OPENSSL_NO_NEXTPROTONEG


153 
	#TLSEXT_TYPE_Ãxt_´Ùo_Ãg
 13172

	)

157 
	#TLSEXT_NAMETYPE_ho¡_Çme
 0

	)

159 
	#TLSEXT_STATUSTYPE_oc¥
 1

	)

162 
	#TLSEXT_ECPOINTFORMAT_fœ¡
 0

	)

163 
	#TLSEXT_ECPOINTFORMAT_uncom´es£d
 0

	)

164 
	#TLSEXT_ECPOINTFORMAT_ªsiX962_com´es£d_´ime
 1

	)

165 
	#TLSEXT_ECPOINTFORMAT_ªsiX962_com´es£d_ch¬2
 2

	)

166 
	#TLSEXT_ECPOINTFORMAT_Ï¡
 2

	)

169 
	#TLSEXT_sigÇtu»_ªÚymous
 0

	)

170 
	#TLSEXT_sigÇtu»_r§
 1

	)

171 
	#TLSEXT_sigÇtu»_d§
 2

	)

172 
	#TLSEXT_sigÇtu»_ecd§
 3

	)

173 
	#TLSEXT_sigÇtu»_go¡r34102001
 237

	)

174 
	#TLSEXT_sigÇtu»_go¡r34102012_256
 238

	)

175 
	#TLSEXT_sigÇtu»_go¡r34102012_512
 239

	)

178 
	#TLSEXT_sigÇtu»_num
 7

	)

180 
	#TLSEXT_hash_nÚe
 0

	)

181 
	#TLSEXT_hash_md5
 1

	)

182 
	#TLSEXT_hash_sha1
 2

	)

183 
	#TLSEXT_hash_sha224
 3

	)

184 
	#TLSEXT_hash_sha256
 4

	)

185 
	#TLSEXT_hash_sha384
 5

	)

186 
	#TLSEXT_hash_sha512
 6

	)

187 
	#TLSEXT_hash_go¡r3411
 237

	)

188 
	#TLSEXT_hash_go¡r34112012_256
 238

	)

189 
	#TLSEXT_hash_go¡r34112012_512
 239

	)

193 
	#TLSEXT_hash_num
 10

	)

196 
	#TLSEXT_nid_unknown
 0x1000000

	)

200 
	#TLSEXT_curve_P_256
 23

	)

201 
	#TLSEXT_curve_P_384
 24

	)

204 
	#TLSEXT_max_äagm’t_Ëngth_DISABLED
 0

	)

206 
	#TLSEXT_max_äagm’t_Ëngth_512
 1

	)

207 
	#TLSEXT_max_äagm’t_Ëngth_1024
 2

	)

208 
	#TLSEXT_max_äagm’t_Ëngth_2048
 3

	)

209 
	#TLSEXT_max_äagm’t_Ëngth_4096
 4

	)

211 
SSL_CTX_£t_£xt_max_äagm’t_Ëngth
(
SSL_CTX
 *
ùx
, 
ušt8_t
 
mode
);

212 
SSL_£t_£xt_max_äagm’t_Ëngth
(
SSL
 *
s¦
, 
ušt8_t
 
mode
);

214 
	#TLSEXT_MAXLEN_ho¡_Çme
 255

	)

216 
__owur
 cÚ¡ *
SSL_g‘_£rv”Çme
(cÚ¡ 
SSL
 *
s
, cÚ¡ 
ty³
);

217 
__owur
 
SSL_g‘_£rv”Çme_ty³
(cÚ¡ 
SSL
 *
s
);

225 
__owur
 
SSL_expÜt_keyšg_m©”Ÿl
(
SSL
 *
s
, *
out
, 
size_t
 
Ş’
,

226 cÚ¡ *
Ïb–
, 
size_t
 
Î’
,

227 cÚ¡ *
cÚ‹xt
,

228 
size_t
 
cÚ‹x’
, 
u£_cÚ‹xt
);

237 
__owur
 
SSL_expÜt_keyšg_m©”Ÿl_—¾y
(
SSL
 *
s
, *
out
,

238 
size_t
 
Ş’
, cÚ¡ *
Ïb–
,

239 
size_t
 
Î’
,

240 cÚ¡ *
cÚ‹xt
,

241 
size_t
 
cÚ‹x’
);

243 
SSL_g‘_³”_sigÇtu»_ty³_nid
(cÚ¡ 
SSL
 *
s
, *
²id
);

245 
SSL_g‘_sig®gs
(
SSL
 *
s
, 
idx
,

246 *
psign
, *
phash
, *
psigÇndhash
,

247 *
rsig
, *
rhash
);

249 
SSL_g‘_sh¬ed_sig®gs
(
SSL
 *
s
, 
idx
,

250 *
psign
, *
phash
, *
psigÇndhash
,

251 *
rsig
, *
rhash
);

253 
__owur
 
SSL_check_chaš
(
SSL
 *
s
, 
X509
 *
x
, 
EVP_PKEY
 *
pk
, 
STACK_OF
(X509è*
chaš
);

255 
	#SSL_£t_£xt_ho¡_Çme
(
s
,
Çme
) \

256 
	`SSL_ù¾
(
s
,
SSL_CTRL_SET_TLSEXT_HOSTNAME
,
TLSEXT_NAMETYPE_ho¡_Çme
,\

257 (*)
Çme
)

	)

259 
	#SSL_£t_£xt_debug_ÿÎback
(
s¦
, 
cb
) \

260 
	`SSL_ÿÎback_ù¾
(
s¦
,
SSL_CTRL_SET_TLSEXT_DEBUG_CB
,\

261 ((*)())
cb
)

	)

263 
	#SSL_£t_£xt_debug_¬g
(
s¦
, 
¬g
) \

264 
	`SSL_ù¾
(
s¦
,
SSL_CTRL_SET_TLSEXT_DEBUG_ARG
,0,
¬g
)

	)

266 
	#SSL_g‘_£xt_¡©us_ty³
(
s¦
) \

267 
	`SSL_ù¾
(
s¦
,
SSL_CTRL_GET_TLSEXT_STATUS_REQ_TYPE
,0,
NULL
)

	)

269 
	#SSL_£t_£xt_¡©us_ty³
(
s¦
, 
ty³
) \

270 
	`SSL_ù¾
(
s¦
,
SSL_CTRL_SET_TLSEXT_STATUS_REQ_TYPE
,
ty³
,
NULL
)

	)

272 
	#SSL_g‘_£xt_¡©us_exts
(
s¦
, 
¬g
) \

273 
	`SSL_ù¾
(
s¦
,
SSL_CTRL_GET_TLSEXT_STATUS_REQ_EXTS
,0,
¬g
)

	)

275 
	#SSL_£t_£xt_¡©us_exts
(
s¦
, 
¬g
) \

276 
	`SSL_ù¾
(
s¦
,
SSL_CTRL_SET_TLSEXT_STATUS_REQ_EXTS
,0,
¬g
)

	)

278 
	#SSL_g‘_£xt_¡©us_ids
(
s¦
, 
¬g
) \

279 
	`SSL_ù¾
(
s¦
,
SSL_CTRL_GET_TLSEXT_STATUS_REQ_IDS
,0,
¬g
)

	)

281 
	#SSL_£t_£xt_¡©us_ids
(
s¦
, 
¬g
) \

282 
	`SSL_ù¾
(
s¦
,
SSL_CTRL_SET_TLSEXT_STATUS_REQ_IDS
,0,
¬g
)

	)

284 
	#SSL_g‘_£xt_¡©us_oc¥_»¥
(
s¦
, 
¬g
) \

285 
	`SSL_ù¾
(
s¦
,
SSL_CTRL_GET_TLSEXT_STATUS_REQ_OCSP_RESP
,0,
¬g
)

	)

287 
	#SSL_£t_£xt_¡©us_oc¥_»¥
(
s¦
, 
¬g
, 
¬gËn
) \

288 
	`SSL_ù¾
(
s¦
,
SSL_CTRL_SET_TLSEXT_STATUS_REQ_OCSP_RESP
,
¬gËn
,
¬g
)

	)

290 
	#SSL_CTX_£t_£xt_£rv”Çme_ÿÎback
(
ùx
, 
cb
) \

291 
	`SSL_CTX_ÿÎback_ù¾
(
ùx
,
SSL_CTRL_SET_TLSEXT_SERVERNAME_CB
,\

292 ((*)())
cb
)

	)

294 
	#SSL_TLSEXT_ERR_OK
 0

	)

295 
	#SSL_TLSEXT_ERR_ALERT_WARNING
 1

	)

296 
	#SSL_TLSEXT_ERR_ALERT_FATAL
 2

	)

297 
	#SSL_TLSEXT_ERR_NOACK
 3

	)

299 
	#SSL_CTX_£t_£xt_£rv”Çme_¬g
(
ùx
, 
¬g
) \

300 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SET_TLSEXT_SERVERNAME_ARG
,0,
¬g
)

	)

302 
	#SSL_CTX_g‘_£xt_tick‘_keys
(
ùx
, 
keys
, 
keyËn
) \

303 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_GET_TLSEXT_TICKET_KEYS
,
keyËn
,
keys
)

	)

304 
	#SSL_CTX_£t_£xt_tick‘_keys
(
ùx
, 
keys
, 
keyËn
) \

305 
	`SSL_CTX_ù¾
(
ùx
,
SSL_CTRL_SET_TLSEXT_TICKET_KEYS
,
keyËn
,
keys
)

	)

307 
	#SSL_CTX_g‘_£xt_¡©us_cb
(
s¦
, 
cb
) \

308 
	`SSL_CTX_ù¾
(
s¦
,
SSL_CTRL_GET_TLSEXT_STATUS_REQ_CB
,0,(*)
cb
)

	)

309 
	#SSL_CTX_£t_£xt_¡©us_cb
(
s¦
, 
cb
) \

310 
	`SSL_CTX_ÿÎback_ù¾
(
s¦
,
SSL_CTRL_SET_TLSEXT_STATUS_REQ_CB
,\

311 ((*)())
cb
)

	)

313 
	#SSL_CTX_g‘_£xt_¡©us_¬g
(
s¦
, 
¬g
) \

314 
	`SSL_CTX_ù¾
(
s¦
,
SSL_CTRL_GET_TLSEXT_STATUS_REQ_CB_ARG
,0,
¬g
)

	)

315 
	#SSL_CTX_£t_£xt_¡©us_¬g
(
s¦
, 
¬g
) \

316 
	`SSL_CTX_ù¾
(
s¦
,
SSL_CTRL_SET_TLSEXT_STATUS_REQ_CB_ARG
,0,
¬g
)

	)

318 
	#SSL_CTX_£t_£xt_¡©us_ty³
(
s¦
, 
ty³
) \

319 
	`SSL_CTX_ù¾
(
s¦
,
SSL_CTRL_SET_TLSEXT_STATUS_REQ_TYPE
,
ty³
,
NULL
)

	)

321 
	#SSL_CTX_g‘_£xt_¡©us_ty³
(
s¦
) \

322 
	`SSL_CTX_ù¾
(
s¦
,
SSL_CTRL_GET_TLSEXT_STATUS_REQ_TYPE
,0,
NULL
)

	)

324 
	#SSL_CTX_£t_£xt_tick‘_key_cb
(
s¦
, 
cb
) \

325 
	`SSL_CTX_ÿÎback_ù¾
(
s¦
,
SSL_CTRL_SET_TLSEXT_TICKET_KEY_CB
,\

326 ((*)())
cb
)

	)

328 #iâdeà
OPENSSL_NO_HEARTBEATS


329 
	#SSL_DTLSEXT_HB_ENABLED
 0x01

	)

330 
	#SSL_DTLSEXT_HB_DONT_SEND_REQUESTS
 0x02

	)

331 
	#SSL_DTLSEXT_HB_DONT_RECV_REQUESTS
 0x04

	)

332 
	#SSL_g‘_d£xt_h—¹b—t_³ndšg
(
s¦
) \

333 
	`SSL_ù¾
(
s¦
,
SSL_CTRL_GET_DTLS_EXT_HEARTBEAT_PENDING
,0,
NULL
)

	)

334 
	#SSL_£t_d£xt_h—¹b—t_no_»que¡s
(
s¦
, 
¬g
) \

335 
	`SSL_ù¾
(
s¦
,
SSL_CTRL_SET_DTLS_EXT_HEARTBEAT_NO_REQUESTS
,
¬g
,
NULL
)

	)

337 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

338 
	#SSL_CTRL_TLS_EXT_SEND_HEARTBEAT
 \

339 
SSL_CTRL_DTLS_EXT_SEND_HEARTBEAT


	)

340 
	#SSL_CTRL_GET_TLS_EXT_HEARTBEAT_PENDING
 \

341 
SSL_CTRL_GET_DTLS_EXT_HEARTBEAT_PENDING


	)

342 
	#SSL_CTRL_SET_TLS_EXT_HEARTBEAT_NO_REQUESTS
 \

343 
SSL_CTRL_SET_DTLS_EXT_HEARTBEAT_NO_REQUESTS


	)

344 
	#SSL_TLSEXT_HB_ENABLED
 \

345 
SSL_DTLSEXT_HB_ENABLED


	)

346 
	#SSL_TLSEXT_HB_DONT_SEND_REQUESTS
 \

347 
SSL_DTLSEXT_HB_DONT_SEND_REQUESTS


	)

348 
	#SSL_TLSEXT_HB_DONT_RECV_REQUESTS
 \

349 
SSL_DTLSEXT_HB_DONT_RECV_REQUESTS


	)

350 
	#SSL_g‘_£xt_h—¹b—t_³ndšg
(
s¦
) \

351 
	`SSL_g‘_d£xt_h—¹b—t_³ndšg
(
s¦
)

	)

352 
	#SSL_£t_£xt_h—¹b—t_no_»que¡s
(
s¦
, 
¬g
) \

353 
	`SSL_£t_d£xt_h—¹b—t_no_»que¡s
(
s¦
,
¬g
)

	)

358 
	#TLS1_CK_PSK_WITH_RC4_128_SHA
 0x0300008A

	)

359 
	#TLS1_CK_PSK_WITH_3DES_EDE_CBC_SHA
 0x0300008B

	)

360 
	#TLS1_CK_PSK_WITH_AES_128_CBC_SHA
 0x0300008C

	)

361 
	#TLS1_CK_PSK_WITH_AES_256_CBC_SHA
 0x0300008D

	)

362 
	#TLS1_CK_DHE_PSK_WITH_RC4_128_SHA
 0x0300008E

	)

363 
	#TLS1_CK_DHE_PSK_WITH_3DES_EDE_CBC_SHA
 0x0300008F

	)

364 
	#TLS1_CK_DHE_PSK_WITH_AES_128_CBC_SHA
 0x03000090

	)

365 
	#TLS1_CK_DHE_PSK_WITH_AES_256_CBC_SHA
 0x03000091

	)

366 
	#TLS1_CK_RSA_PSK_WITH_RC4_128_SHA
 0x03000092

	)

367 
	#TLS1_CK_RSA_PSK_WITH_3DES_EDE_CBC_SHA
 0x03000093

	)

368 
	#TLS1_CK_RSA_PSK_WITH_AES_128_CBC_SHA
 0x03000094

	)

369 
	#TLS1_CK_RSA_PSK_WITH_AES_256_CBC_SHA
 0x03000095

	)

372 
	#TLS1_CK_PSK_WITH_AES_128_GCM_SHA256
 0x030000A8

	)

373 
	#TLS1_CK_PSK_WITH_AES_256_GCM_SHA384
 0x030000A9

	)

374 
	#TLS1_CK_DHE_PSK_WITH_AES_128_GCM_SHA256
 0x030000AA

	)

375 
	#TLS1_CK_DHE_PSK_WITH_AES_256_GCM_SHA384
 0x030000AB

	)

376 
	#TLS1_CK_RSA_PSK_WITH_AES_128_GCM_SHA256
 0x030000AC

	)

377 
	#TLS1_CK_RSA_PSK_WITH_AES_256_GCM_SHA384
 0x030000AD

	)

378 
	#TLS1_CK_PSK_WITH_AES_128_CBC_SHA256
 0x030000AE

	)

379 
	#TLS1_CK_PSK_WITH_AES_256_CBC_SHA384
 0x030000AF

	)

380 
	#TLS1_CK_PSK_WITH_NULL_SHA256
 0x030000B0

	)

381 
	#TLS1_CK_PSK_WITH_NULL_SHA384
 0x030000B1

	)

382 
	#TLS1_CK_DHE_PSK_WITH_AES_128_CBC_SHA256
 0x030000B2

	)

383 
	#TLS1_CK_DHE_PSK_WITH_AES_256_CBC_SHA384
 0x030000B3

	)

384 
	#TLS1_CK_DHE_PSK_WITH_NULL_SHA256
 0x030000B4

	)

385 
	#TLS1_CK_DHE_PSK_WITH_NULL_SHA384
 0x030000B5

	)

386 
	#TLS1_CK_RSA_PSK_WITH_AES_128_CBC_SHA256
 0x030000B6

	)

387 
	#TLS1_CK_RSA_PSK_WITH_AES_256_CBC_SHA384
 0x030000B7

	)

388 
	#TLS1_CK_RSA_PSK_WITH_NULL_SHA256
 0x030000B8

	)

389 
	#TLS1_CK_RSA_PSK_WITH_NULL_SHA384
 0x030000B9

	)

392 
	#TLS1_CK_PSK_WITH_NULL_SHA
 0x0300002C

	)

393 
	#TLS1_CK_DHE_PSK_WITH_NULL_SHA
 0x0300002D

	)

394 
	#TLS1_CK_RSA_PSK_WITH_NULL_SHA
 0x0300002E

	)

397 
	#TLS1_CK_RSA_WITH_AES_128_SHA
 0x0300002F

	)

398 
	#TLS1_CK_DH_DSS_WITH_AES_128_SHA
 0x03000030

	)

399 
	#TLS1_CK_DH_RSA_WITH_AES_128_SHA
 0x03000031

	)

400 
	#TLS1_CK_DHE_DSS_WITH_AES_128_SHA
 0x03000032

	)

401 
	#TLS1_CK_DHE_RSA_WITH_AES_128_SHA
 0x03000033

	)

402 
	#TLS1_CK_ADH_WITH_AES_128_SHA
 0x03000034

	)

403 
	#TLS1_CK_RSA_WITH_AES_256_SHA
 0x03000035

	)

404 
	#TLS1_CK_DH_DSS_WITH_AES_256_SHA
 0x03000036

	)

405 
	#TLS1_CK_DH_RSA_WITH_AES_256_SHA
 0x03000037

	)

406 
	#TLS1_CK_DHE_DSS_WITH_AES_256_SHA
 0x03000038

	)

407 
	#TLS1_CK_DHE_RSA_WITH_AES_256_SHA
 0x03000039

	)

408 
	#TLS1_CK_ADH_WITH_AES_256_SHA
 0x0300003A

	)

411 
	#TLS1_CK_RSA_WITH_NULL_SHA256
 0x0300003B

	)

412 
	#TLS1_CK_RSA_WITH_AES_128_SHA256
 0x0300003C

	)

413 
	#TLS1_CK_RSA_WITH_AES_256_SHA256
 0x0300003D

	)

414 
	#TLS1_CK_DH_DSS_WITH_AES_128_SHA256
 0x0300003E

	)

415 
	#TLS1_CK_DH_RSA_WITH_AES_128_SHA256
 0x0300003F

	)

416 
	#TLS1_CK_DHE_DSS_WITH_AES_128_SHA256
 0x03000040

	)

419 
	#TLS1_CK_RSA_WITH_CAMELLIA_128_CBC_SHA
 0x03000041

	)

420 
	#TLS1_CK_DH_DSS_WITH_CAMELLIA_128_CBC_SHA
 0x03000042

	)

421 
	#TLS1_CK_DH_RSA_WITH_CAMELLIA_128_CBC_SHA
 0x03000043

	)

422 
	#TLS1_CK_DHE_DSS_WITH_CAMELLIA_128_CBC_SHA
 0x03000044

	)

423 
	#TLS1_CK_DHE_RSA_WITH_CAMELLIA_128_CBC_SHA
 0x03000045

	)

424 
	#TLS1_CK_ADH_WITH_CAMELLIA_128_CBC_SHA
 0x03000046

	)

427 
	#TLS1_CK_DHE_RSA_WITH_AES_128_SHA256
 0x03000067

	)

428 
	#TLS1_CK_DH_DSS_WITH_AES_256_SHA256
 0x03000068

	)

429 
	#TLS1_CK_DH_RSA_WITH_AES_256_SHA256
 0x03000069

	)

430 
	#TLS1_CK_DHE_DSS_WITH_AES_256_SHA256
 0x0300006A

	)

431 
	#TLS1_CK_DHE_RSA_WITH_AES_256_SHA256
 0x0300006B

	)

432 
	#TLS1_CK_ADH_WITH_AES_128_SHA256
 0x0300006C

	)

433 
	#TLS1_CK_ADH_WITH_AES_256_SHA256
 0x0300006D

	)

436 
	#TLS1_CK_RSA_WITH_CAMELLIA_256_CBC_SHA
 0x03000084

	)

437 
	#TLS1_CK_DH_DSS_WITH_CAMELLIA_256_CBC_SHA
 0x03000085

	)

438 
	#TLS1_CK_DH_RSA_WITH_CAMELLIA_256_CBC_SHA
 0x03000086

	)

439 
	#TLS1_CK_DHE_DSS_WITH_CAMELLIA_256_CBC_SHA
 0x03000087

	)

440 
	#TLS1_CK_DHE_RSA_WITH_CAMELLIA_256_CBC_SHA
 0x03000088

	)

441 
	#TLS1_CK_ADH_WITH_CAMELLIA_256_CBC_SHA
 0x03000089

	)

444 
	#TLS1_CK_RSA_WITH_SEED_SHA
 0x03000096

	)

445 
	#TLS1_CK_DH_DSS_WITH_SEED_SHA
 0x03000097

	)

446 
	#TLS1_CK_DH_RSA_WITH_SEED_SHA
 0x03000098

	)

447 
	#TLS1_CK_DHE_DSS_WITH_SEED_SHA
 0x03000099

	)

448 
	#TLS1_CK_DHE_RSA_WITH_SEED_SHA
 0x0300009A

	)

449 
	#TLS1_CK_ADH_WITH_SEED_SHA
 0x0300009B

	)

452 
	#TLS1_CK_RSA_WITH_AES_128_GCM_SHA256
 0x0300009C

	)

453 
	#TLS1_CK_RSA_WITH_AES_256_GCM_SHA384
 0x0300009D

	)

454 
	#TLS1_CK_DHE_RSA_WITH_AES_128_GCM_SHA256
 0x0300009E

	)

455 
	#TLS1_CK_DHE_RSA_WITH_AES_256_GCM_SHA384
 0x0300009F

	)

456 
	#TLS1_CK_DH_RSA_WITH_AES_128_GCM_SHA256
 0x030000A0

	)

457 
	#TLS1_CK_DH_RSA_WITH_AES_256_GCM_SHA384
 0x030000A1

	)

458 
	#TLS1_CK_DHE_DSS_WITH_AES_128_GCM_SHA256
 0x030000A2

	)

459 
	#TLS1_CK_DHE_DSS_WITH_AES_256_GCM_SHA384
 0x030000A3

	)

460 
	#TLS1_CK_DH_DSS_WITH_AES_128_GCM_SHA256
 0x030000A4

	)

461 
	#TLS1_CK_DH_DSS_WITH_AES_256_GCM_SHA384
 0x030000A5

	)

462 
	#TLS1_CK_ADH_WITH_AES_128_GCM_SHA256
 0x030000A6

	)

463 
	#TLS1_CK_ADH_WITH_AES_256_GCM_SHA384
 0x030000A7

	)

466 
	#TLS1_CK_RSA_WITH_AES_128_CCM
 0x0300C09C

	)

467 
	#TLS1_CK_RSA_WITH_AES_256_CCM
 0x0300C09D

	)

468 
	#TLS1_CK_DHE_RSA_WITH_AES_128_CCM
 0x0300C09E

	)

469 
	#TLS1_CK_DHE_RSA_WITH_AES_256_CCM
 0x0300C09F

	)

470 
	#TLS1_CK_RSA_WITH_AES_128_CCM_8
 0x0300C0A0

	)

471 
	#TLS1_CK_RSA_WITH_AES_256_CCM_8
 0x0300C0A1

	)

472 
	#TLS1_CK_DHE_RSA_WITH_AES_128_CCM_8
 0x0300C0A2

	)

473 
	#TLS1_CK_DHE_RSA_WITH_AES_256_CCM_8
 0x0300C0A3

	)

474 
	#TLS1_CK_PSK_WITH_AES_128_CCM
 0x0300C0A4

	)

475 
	#TLS1_CK_PSK_WITH_AES_256_CCM
 0x0300C0A5

	)

476 
	#TLS1_CK_DHE_PSK_WITH_AES_128_CCM
 0x0300C0A6

	)

477 
	#TLS1_CK_DHE_PSK_WITH_AES_256_CCM
 0x0300C0A7

	)

478 
	#TLS1_CK_PSK_WITH_AES_128_CCM_8
 0x0300C0A8

	)

479 
	#TLS1_CK_PSK_WITH_AES_256_CCM_8
 0x0300C0A9

	)

480 
	#TLS1_CK_DHE_PSK_WITH_AES_128_CCM_8
 0x0300C0AA

	)

481 
	#TLS1_CK_DHE_PSK_WITH_AES_256_CCM_8
 0x0300C0AB

	)

484 
	#TLS1_CK_ECDHE_ECDSA_WITH_AES_128_CCM
 0x0300C0AC

	)

485 
	#TLS1_CK_ECDHE_ECDSA_WITH_AES_256_CCM
 0x0300C0AD

	)

486 
	#TLS1_CK_ECDHE_ECDSA_WITH_AES_128_CCM_8
 0x0300C0AE

	)

487 
	#TLS1_CK_ECDHE_ECDSA_WITH_AES_256_CCM_8
 0x0300C0AF

	)

490 
	#TLS1_CK_RSA_WITH_CAMELLIA_128_CBC_SHA256
 0x030000BA

	)

491 
	#TLS1_CK_DH_DSS_WITH_CAMELLIA_128_CBC_SHA256
 0x030000BB

	)

492 
	#TLS1_CK_DH_RSA_WITH_CAMELLIA_128_CBC_SHA256
 0x030000BC

	)

493 
	#TLS1_CK_DHE_DSS_WITH_CAMELLIA_128_CBC_SHA256
 0x030000BD

	)

494 
	#TLS1_CK_DHE_RSA_WITH_CAMELLIA_128_CBC_SHA256
 0x030000BE

	)

495 
	#TLS1_CK_ADH_WITH_CAMELLIA_128_CBC_SHA256
 0x030000BF

	)

497 
	#TLS1_CK_RSA_WITH_CAMELLIA_256_CBC_SHA256
 0x030000C0

	)

498 
	#TLS1_CK_DH_DSS_WITH_CAMELLIA_256_CBC_SHA256
 0x030000C1

	)

499 
	#TLS1_CK_DH_RSA_WITH_CAMELLIA_256_CBC_SHA256
 0x030000C2

	)

500 
	#TLS1_CK_DHE_DSS_WITH_CAMELLIA_256_CBC_SHA256
 0x030000C3

	)

501 
	#TLS1_CK_DHE_RSA_WITH_CAMELLIA_256_CBC_SHA256
 0x030000C4

	)

502 
	#TLS1_CK_ADH_WITH_CAMELLIA_256_CBC_SHA256
 0x030000C5

	)

505 
	#TLS1_CK_ECDH_ECDSA_WITH_NULL_SHA
 0x0300C001

	)

506 
	#TLS1_CK_ECDH_ECDSA_WITH_RC4_128_SHA
 0x0300C002

	)

507 
	#TLS1_CK_ECDH_ECDSA_WITH_DES_192_CBC3_SHA
 0x0300C003

	)

508 
	#TLS1_CK_ECDH_ECDSA_WITH_AES_128_CBC_SHA
 0x0300C004

	)

509 
	#TLS1_CK_ECDH_ECDSA_WITH_AES_256_CBC_SHA
 0x0300C005

	)

511 
	#TLS1_CK_ECDHE_ECDSA_WITH_NULL_SHA
 0x0300C006

	)

512 
	#TLS1_CK_ECDHE_ECDSA_WITH_RC4_128_SHA
 0x0300C007

	)

513 
	#TLS1_CK_ECDHE_ECDSA_WITH_DES_192_CBC3_SHA
 0x0300C008

	)

514 
	#TLS1_CK_ECDHE_ECDSA_WITH_AES_128_CBC_SHA
 0x0300C009

	)

515 
	#TLS1_CK_ECDHE_ECDSA_WITH_AES_256_CBC_SHA
 0x0300C00A

	)

517 
	#TLS1_CK_ECDH_RSA_WITH_NULL_SHA
 0x0300C00B

	)

518 
	#TLS1_CK_ECDH_RSA_WITH_RC4_128_SHA
 0x0300C00C

	)

519 
	#TLS1_CK_ECDH_RSA_WITH_DES_192_CBC3_SHA
 0x0300C00D

	)

520 
	#TLS1_CK_ECDH_RSA_WITH_AES_128_CBC_SHA
 0x0300C00E

	)

521 
	#TLS1_CK_ECDH_RSA_WITH_AES_256_CBC_SHA
 0x0300C00F

	)

523 
	#TLS1_CK_ECDHE_RSA_WITH_NULL_SHA
 0x0300C010

	)

524 
	#TLS1_CK_ECDHE_RSA_WITH_RC4_128_SHA
 0x0300C011

	)

525 
	#TLS1_CK_ECDHE_RSA_WITH_DES_192_CBC3_SHA
 0x0300C012

	)

526 
	#TLS1_CK_ECDHE_RSA_WITH_AES_128_CBC_SHA
 0x0300C013

	)

527 
	#TLS1_CK_ECDHE_RSA_WITH_AES_256_CBC_SHA
 0x0300C014

	)

529 
	#TLS1_CK_ECDH_ªÚ_WITH_NULL_SHA
 0x0300C015

	)

530 
	#TLS1_CK_ECDH_ªÚ_WITH_RC4_128_SHA
 0x0300C016

	)

531 
	#TLS1_CK_ECDH_ªÚ_WITH_DES_192_CBC3_SHA
 0x0300C017

	)

532 
	#TLS1_CK_ECDH_ªÚ_WITH_AES_128_CBC_SHA
 0x0300C018

	)

533 
	#TLS1_CK_ECDH_ªÚ_WITH_AES_256_CBC_SHA
 0x0300C019

	)

536 
	#TLS1_CK_SRP_SHA_WITH_3DES_EDE_CBC_SHA
 0x0300C01A

	)

537 
	#TLS1_CK_SRP_SHA_RSA_WITH_3DES_EDE_CBC_SHA
 0x0300C01B

	)

538 
	#TLS1_CK_SRP_SHA_DSS_WITH_3DES_EDE_CBC_SHA
 0x0300C01C

	)

539 
	#TLS1_CK_SRP_SHA_WITH_AES_128_CBC_SHA
 0x0300C01D

	)

540 
	#TLS1_CK_SRP_SHA_RSA_WITH_AES_128_CBC_SHA
 0x0300C01E

	)

541 
	#TLS1_CK_SRP_SHA_DSS_WITH_AES_128_CBC_SHA
 0x0300C01F

	)

542 
	#TLS1_CK_SRP_SHA_WITH_AES_256_CBC_SHA
 0x0300C020

	)

543 
	#TLS1_CK_SRP_SHA_RSA_WITH_AES_256_CBC_SHA
 0x0300C021

	)

544 
	#TLS1_CK_SRP_SHA_DSS_WITH_AES_256_CBC_SHA
 0x0300C022

	)

547 
	#TLS1_CK_ECDHE_ECDSA_WITH_AES_128_SHA256
 0x0300C023

	)

548 
	#TLS1_CK_ECDHE_ECDSA_WITH_AES_256_SHA384
 0x0300C024

	)

549 
	#TLS1_CK_ECDH_ECDSA_WITH_AES_128_SHA256
 0x0300C025

	)

550 
	#TLS1_CK_ECDH_ECDSA_WITH_AES_256_SHA384
 0x0300C026

	)

551 
	#TLS1_CK_ECDHE_RSA_WITH_AES_128_SHA256
 0x0300C027

	)

552 
	#TLS1_CK_ECDHE_RSA_WITH_AES_256_SHA384
 0x0300C028

	)

553 
	#TLS1_CK_ECDH_RSA_WITH_AES_128_SHA256
 0x0300C029

	)

554 
	#TLS1_CK_ECDH_RSA_WITH_AES_256_SHA384
 0x0300C02A

	)

557 
	#TLS1_CK_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256
 0x0300C02B

	)

558 
	#TLS1_CK_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384
 0x0300C02C

	)

559 
	#TLS1_CK_ECDH_ECDSA_WITH_AES_128_GCM_SHA256
 0x0300C02D

	)

560 
	#TLS1_CK_ECDH_ECDSA_WITH_AES_256_GCM_SHA384
 0x0300C02E

	)

561 
	#TLS1_CK_ECDHE_RSA_WITH_AES_128_GCM_SHA256
 0x0300C02F

	)

562 
	#TLS1_CK_ECDHE_RSA_WITH_AES_256_GCM_SHA384
 0x0300C030

	)

563 
	#TLS1_CK_ECDH_RSA_WITH_AES_128_GCM_SHA256
 0x0300C031

	)

564 
	#TLS1_CK_ECDH_RSA_WITH_AES_256_GCM_SHA384
 0x0300C032

	)

567 
	#TLS1_CK_ECDHE_PSK_WITH_RC4_128_SHA
 0x0300C033

	)

568 
	#TLS1_CK_ECDHE_PSK_WITH_3DES_EDE_CBC_SHA
 0x0300C034

	)

569 
	#TLS1_CK_ECDHE_PSK_WITH_AES_128_CBC_SHA
 0x0300C035

	)

570 
	#TLS1_CK_ECDHE_PSK_WITH_AES_256_CBC_SHA
 0x0300C036

	)

572 
	#TLS1_CK_ECDHE_PSK_WITH_AES_128_CBC_SHA256
 0x0300C037

	)

573 
	#TLS1_CK_ECDHE_PSK_WITH_AES_256_CBC_SHA384
 0x0300C038

	)

576 
	#TLS1_CK_ECDHE_PSK_WITH_NULL_SHA
 0x0300C039

	)

577 
	#TLS1_CK_ECDHE_PSK_WITH_NULL_SHA256
 0x0300C03A

	)

578 
	#TLS1_CK_ECDHE_PSK_WITH_NULL_SHA384
 0x0300C03B

	)

581 
	#TLS1_CK_ECDHE_ECDSA_WITH_CAMELLIA_128_CBC_SHA256
 0x0300C072

	)

582 
	#TLS1_CK_ECDHE_ECDSA_WITH_CAMELLIA_256_CBC_SHA384
 0x0300C073

	)

583 
	#TLS1_CK_ECDH_ECDSA_WITH_CAMELLIA_128_CBC_SHA256
 0x0300C074

	)

584 
	#TLS1_CK_ECDH_ECDSA_WITH_CAMELLIA_256_CBC_SHA384
 0x0300C075

	)

585 
	#TLS1_CK_ECDHE_RSA_WITH_CAMELLIA_128_CBC_SHA256
 0x0300C076

	)

586 
	#TLS1_CK_ECDHE_RSA_WITH_CAMELLIA_256_CBC_SHA384
 0x0300C077

	)

587 
	#TLS1_CK_ECDH_RSA_WITH_CAMELLIA_128_CBC_SHA256
 0x0300C078

	)

588 
	#TLS1_CK_ECDH_RSA_WITH_CAMELLIA_256_CBC_SHA384
 0x0300C079

	)

590 
	#TLS1_CK_PSK_WITH_CAMELLIA_128_CBC_SHA256
 0x0300C094

	)

591 
	#TLS1_CK_PSK_WITH_CAMELLIA_256_CBC_SHA384
 0x0300C095

	)

592 
	#TLS1_CK_DHE_PSK_WITH_CAMELLIA_128_CBC_SHA256
 0x0300C096

	)

593 
	#TLS1_CK_DHE_PSK_WITH_CAMELLIA_256_CBC_SHA384
 0x0300C097

	)

594 
	#TLS1_CK_RSA_PSK_WITH_CAMELLIA_128_CBC_SHA256
 0x0300C098

	)

595 
	#TLS1_CK_RSA_PSK_WITH_CAMELLIA_256_CBC_SHA384
 0x0300C099

	)

596 
	#TLS1_CK_ECDHE_PSK_WITH_CAMELLIA_128_CBC_SHA256
 0x0300C09A

	)

597 
	#TLS1_CK_ECDHE_PSK_WITH_CAMELLIA_256_CBC_SHA384
 0x0300C09B

	)

600 
	#TLS1_CK_ECDHE_RSA_WITH_CHACHA20_POLY1305
 0x0300CCA8

	)

601 
	#TLS1_CK_ECDHE_ECDSA_WITH_CHACHA20_POLY1305
 0x0300CCA9

	)

602 
	#TLS1_CK_DHE_RSA_WITH_CHACHA20_POLY1305
 0x0300CCAA

	)

603 
	#TLS1_CK_PSK_WITH_CHACHA20_POLY1305
 0x0300CCAB

	)

604 
	#TLS1_CK_ECDHE_PSK_WITH_CHACHA20_POLY1305
 0x0300CCAC

	)

605 
	#TLS1_CK_DHE_PSK_WITH_CHACHA20_POLY1305
 0x0300CCAD

	)

606 
	#TLS1_CK_RSA_PSK_WITH_CHACHA20_POLY1305
 0x0300CCAE

	)

609 
	#TLS1_3_CK_AES_128_GCM_SHA256
 0x03001301

	)

610 
	#TLS1_3_CK_AES_256_GCM_SHA384
 0x03001302

	)

611 
	#TLS1_3_CK_CHACHA20_POLY1305_SHA256
 0x03001303

	)

612 
	#TLS1_3_CK_AES_128_CCM_SHA256
 0x03001304

	)

613 
	#TLS1_3_CK_AES_128_CCM_8_SHA256
 0x03001305

	)

616 
	#TLS1_CK_RSA_WITH_ARIA_128_GCM_SHA256
 0x0300C050

	)

617 
	#TLS1_CK_RSA_WITH_ARIA_256_GCM_SHA384
 0x0300C051

	)

618 
	#TLS1_CK_DHE_RSA_WITH_ARIA_128_GCM_SHA256
 0x0300C052

	)

619 
	#TLS1_CK_DHE_RSA_WITH_ARIA_256_GCM_SHA384
 0x0300C053

	)

620 
	#TLS1_CK_DH_RSA_WITH_ARIA_128_GCM_SHA256
 0x0300C054

	)

621 
	#TLS1_CK_DH_RSA_WITH_ARIA_256_GCM_SHA384
 0x0300C055

	)

622 
	#TLS1_CK_DHE_DSS_WITH_ARIA_128_GCM_SHA256
 0x0300C056

	)

623 
	#TLS1_CK_DHE_DSS_WITH_ARIA_256_GCM_SHA384
 0x0300C057

	)

624 
	#TLS1_CK_DH_DSS_WITH_ARIA_128_GCM_SHA256
 0x0300C058

	)

625 
	#TLS1_CK_DH_DSS_WITH_ARIA_256_GCM_SHA384
 0x0300C059

	)

626 
	#TLS1_CK_DH_ªÚ_WITH_ARIA_128_GCM_SHA256
 0x0300C05A

	)

627 
	#TLS1_CK_DH_ªÚ_WITH_ARIA_256_GCM_SHA384
 0x0300C05B

	)

628 
	#TLS1_CK_ECDHE_ECDSA_WITH_ARIA_128_GCM_SHA256
 0x0300C05C

	)

629 
	#TLS1_CK_ECDHE_ECDSA_WITH_ARIA_256_GCM_SHA384
 0x0300C05D

	)

630 
	#TLS1_CK_ECDH_ECDSA_WITH_ARIA_128_GCM_SHA256
 0x0300C05E

	)

631 
	#TLS1_CK_ECDH_ECDSA_WITH_ARIA_256_GCM_SHA384
 0x0300C05F

	)

632 
	#TLS1_CK_ECDHE_RSA_WITH_ARIA_128_GCM_SHA256
 0x0300C060

	)

633 
	#TLS1_CK_ECDHE_RSA_WITH_ARIA_256_GCM_SHA384
 0x0300C061

	)

634 
	#TLS1_CK_ECDH_RSA_WITH_ARIA_128_GCM_SHA256
 0x0300C062

	)

635 
	#TLS1_CK_ECDH_RSA_WITH_ARIA_256_GCM_SHA384
 0x0300C063

	)

636 
	#TLS1_CK_PSK_WITH_ARIA_128_GCM_SHA256
 0x0300C06A

	)

637 
	#TLS1_CK_PSK_WITH_ARIA_256_GCM_SHA384
 0x0300C06B

	)

638 
	#TLS1_CK_DHE_PSK_WITH_ARIA_128_GCM_SHA256
 0x0300C06C

	)

639 
	#TLS1_CK_DHE_PSK_WITH_ARIA_256_GCM_SHA384
 0x0300C06D

	)

640 
	#TLS1_CK_RSA_PSK_WITH_ARIA_128_GCM_SHA256
 0x0300C06E

	)

641 
	#TLS1_CK_RSA_PSK_WITH_ARIA_256_GCM_SHA384
 0x0300C06F

	)

644 
	#TLS1_RFC_RSA_WITH_AES_128_SHA
 "TLS_RSA_WITH_AES_128_CBC_SHA"

	)

645 
	#TLS1_RFC_DHE_DSS_WITH_AES_128_SHA
 "TLS_DHE_DSS_WITH_AES_128_CBC_SHA"

	)

646 
	#TLS1_RFC_DHE_RSA_WITH_AES_128_SHA
 "TLS_DHE_RSA_WITH_AES_128_CBC_SHA"

	)

647 
	#TLS1_RFC_ADH_WITH_AES_128_SHA
 "TLS_DH_ªÚ_WITH_AES_128_CBC_SHA"

	)

648 
	#TLS1_RFC_RSA_WITH_AES_256_SHA
 "TLS_RSA_WITH_AES_256_CBC_SHA"

	)

649 
	#TLS1_RFC_DHE_DSS_WITH_AES_256_SHA
 "TLS_DHE_DSS_WITH_AES_256_CBC_SHA"

	)

650 
	#TLS1_RFC_DHE_RSA_WITH_AES_256_SHA
 "TLS_DHE_RSA_WITH_AES_256_CBC_SHA"

	)

651 
	#TLS1_RFC_ADH_WITH_AES_256_SHA
 "TLS_DH_ªÚ_WITH_AES_256_CBC_SHA"

	)

652 
	#TLS1_RFC_RSA_WITH_NULL_SHA256
 "TLS_RSA_WITH_NULL_SHA256"

	)

653 
	#TLS1_RFC_RSA_WITH_AES_128_SHA256
 "TLS_RSA_WITH_AES_128_CBC_SHA256"

	)

654 
	#TLS1_RFC_RSA_WITH_AES_256_SHA256
 "TLS_RSA_WITH_AES_256_CBC_SHA256"

	)

655 
	#TLS1_RFC_DHE_DSS_WITH_AES_128_SHA256
 "TLS_DHE_DSS_WITH_AES_128_CBC_SHA256"

	)

656 
	#TLS1_RFC_DHE_RSA_WITH_AES_128_SHA256
 "TLS_DHE_RSA_WITH_AES_128_CBC_SHA256"

	)

657 
	#TLS1_RFC_DHE_DSS_WITH_AES_256_SHA256
 "TLS_DHE_DSS_WITH_AES_256_CBC_SHA256"

	)

658 
	#TLS1_RFC_DHE_RSA_WITH_AES_256_SHA256
 "TLS_DHE_RSA_WITH_AES_256_CBC_SHA256"

	)

659 
	#TLS1_RFC_ADH_WITH_AES_128_SHA256
 "TLS_DH_ªÚ_WITH_AES_128_CBC_SHA256"

	)

660 
	#TLS1_RFC_ADH_WITH_AES_256_SHA256
 "TLS_DH_ªÚ_WITH_AES_256_CBC_SHA256"

	)

661 
	#TLS1_RFC_RSA_WITH_AES_128_GCM_SHA256
 "TLS_RSA_WITH_AES_128_GCM_SHA256"

	)

662 
	#TLS1_RFC_RSA_WITH_AES_256_GCM_SHA384
 "TLS_RSA_WITH_AES_256_GCM_SHA384"

	)

663 
	#TLS1_RFC_DHE_RSA_WITH_AES_128_GCM_SHA256
 "TLS_DHE_RSA_WITH_AES_128_GCM_SHA256"

	)

664 
	#TLS1_RFC_DHE_RSA_WITH_AES_256_GCM_SHA384
 "TLS_DHE_RSA_WITH_AES_256_GCM_SHA384"

	)

665 
	#TLS1_RFC_DHE_DSS_WITH_AES_128_GCM_SHA256
 "TLS_DHE_DSS_WITH_AES_128_GCM_SHA256"

	)

666 
	#TLS1_RFC_DHE_DSS_WITH_AES_256_GCM_SHA384
 "TLS_DHE_DSS_WITH_AES_256_GCM_SHA384"

	)

667 
	#TLS1_RFC_ADH_WITH_AES_128_GCM_SHA256
 "TLS_DH_ªÚ_WITH_AES_128_GCM_SHA256"

	)

668 
	#TLS1_RFC_ADH_WITH_AES_256_GCM_SHA384
 "TLS_DH_ªÚ_WITH_AES_256_GCM_SHA384"

	)

669 
	#TLS1_RFC_RSA_WITH_AES_128_CCM
 "TLS_RSA_WITH_AES_128_CCM"

	)

670 
	#TLS1_RFC_RSA_WITH_AES_256_CCM
 "TLS_RSA_WITH_AES_256_CCM"

	)

671 
	#TLS1_RFC_DHE_RSA_WITH_AES_128_CCM
 "TLS_DHE_RSA_WITH_AES_128_CCM"

	)

672 
	#TLS1_RFC_DHE_RSA_WITH_AES_256_CCM
 "TLS_DHE_RSA_WITH_AES_256_CCM"

	)

673 
	#TLS1_RFC_RSA_WITH_AES_128_CCM_8
 "TLS_RSA_WITH_AES_128_CCM_8"

	)

674 
	#TLS1_RFC_RSA_WITH_AES_256_CCM_8
 "TLS_RSA_WITH_AES_256_CCM_8"

	)

675 
	#TLS1_RFC_DHE_RSA_WITH_AES_128_CCM_8
 "TLS_DHE_RSA_WITH_AES_128_CCM_8"

	)

676 
	#TLS1_RFC_DHE_RSA_WITH_AES_256_CCM_8
 "TLS_DHE_RSA_WITH_AES_256_CCM_8"

	)

677 
	#TLS1_RFC_PSK_WITH_AES_128_CCM
 "TLS_PSK_WITH_AES_128_CCM"

	)

678 
	#TLS1_RFC_PSK_WITH_AES_256_CCM
 "TLS_PSK_WITH_AES_256_CCM"

	)

679 
	#TLS1_RFC_DHE_PSK_WITH_AES_128_CCM
 "TLS_DHE_PSK_WITH_AES_128_CCM"

	)

680 
	#TLS1_RFC_DHE_PSK_WITH_AES_256_CCM
 "TLS_DHE_PSK_WITH_AES_256_CCM"

	)

681 
	#TLS1_RFC_PSK_WITH_AES_128_CCM_8
 "TLS_PSK_WITH_AES_128_CCM_8"

	)

682 
	#TLS1_RFC_PSK_WITH_AES_256_CCM_8
 "TLS_PSK_WITH_AES_256_CCM_8"

	)

683 
	#TLS1_RFC_DHE_PSK_WITH_AES_128_CCM_8
 "TLS_PSK_DHE_WITH_AES_128_CCM_8"

	)

684 
	#TLS1_RFC_DHE_PSK_WITH_AES_256_CCM_8
 "TLS_PSK_DHE_WITH_AES_256_CCM_8"

	)

685 
	#TLS1_RFC_ECDHE_ECDSA_WITH_AES_128_CCM
 "TLS_ECDHE_ECDSA_WITH_AES_128_CCM"

	)

686 
	#TLS1_RFC_ECDHE_ECDSA_WITH_AES_256_CCM
 "TLS_ECDHE_ECDSA_WITH_AES_256_CCM"

	)

687 
	#TLS1_RFC_ECDHE_ECDSA_WITH_AES_128_CCM_8
 "TLS_ECDHE_ECDSA_WITH_AES_128_CCM_8"

	)

688 
	#TLS1_RFC_ECDHE_ECDSA_WITH_AES_256_CCM_8
 "TLS_ECDHE_ECDSA_WITH_AES_256_CCM_8"

	)

689 
	#TLS1_3_RFC_AES_128_GCM_SHA256
 "TLS_AES_128_GCM_SHA256"

	)

690 
	#TLS1_3_RFC_AES_256_GCM_SHA384
 "TLS_AES_256_GCM_SHA384"

	)

691 
	#TLS1_3_RFC_CHACHA20_POLY1305_SHA256
 "TLS_CHACHA20_POLY1305_SHA256"

	)

692 
	#TLS1_3_RFC_AES_128_CCM_SHA256
 "TLS_AES_128_CCM_SHA256"

	)

693 
	#TLS1_3_RFC_AES_128_CCM_8_SHA256
 "TLS_AES_128_CCM_8_SHA256"

	)

694 
	#TLS1_RFC_ECDHE_ECDSA_WITH_NULL_SHA
 "TLS_ECDHE_ECDSA_WITH_NULL_SHA"

	)

695 
	#TLS1_RFC_ECDHE_ECDSA_WITH_DES_192_CBC3_SHA
 "TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA"

	)

696 
	#TLS1_RFC_ECDHE_ECDSA_WITH_AES_128_CBC_SHA
 "TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA"

	)

697 
	#TLS1_RFC_ECDHE_ECDSA_WITH_AES_256_CBC_SHA
 "TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA"

	)

698 
	#TLS1_RFC_ECDHE_RSA_WITH_NULL_SHA
 "TLS_ECDHE_RSA_WITH_NULL_SHA"

	)

699 
	#TLS1_RFC_ECDHE_RSA_WITH_DES_192_CBC3_SHA
 "TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA"

	)

700 
	#TLS1_RFC_ECDHE_RSA_WITH_AES_128_CBC_SHA
 "TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA"

	)

701 
	#TLS1_RFC_ECDHE_RSA_WITH_AES_256_CBC_SHA
 "TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA"

	)

702 
	#TLS1_RFC_ECDH_ªÚ_WITH_NULL_SHA
 "TLS_ECDH_ªÚ_WITH_NULL_SHA"

	)

703 
	#TLS1_RFC_ECDH_ªÚ_WITH_DES_192_CBC3_SHA
 "TLS_ECDH_ªÚ_WITH_3DES_EDE_CBC_SHA"

	)

704 
	#TLS1_RFC_ECDH_ªÚ_WITH_AES_128_CBC_SHA
 "TLS_ECDH_ªÚ_WITH_AES_128_CBC_SHA"

	)

705 
	#TLS1_RFC_ECDH_ªÚ_WITH_AES_256_CBC_SHA
 "TLS_ECDH_ªÚ_WITH_AES_256_CBC_SHA"

	)

706 
	#TLS1_RFC_ECDHE_ECDSA_WITH_AES_128_SHA256
 "TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256"

	)

707 
	#TLS1_RFC_ECDHE_ECDSA_WITH_AES_256_SHA384
 "TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384"

	)

708 
	#TLS1_RFC_ECDHE_RSA_WITH_AES_128_SHA256
 "TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256"

	)

709 
	#TLS1_RFC_ECDHE_RSA_WITH_AES_256_SHA384
 "TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384"

	)

710 
	#TLS1_RFC_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256
 "TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256"

	)

711 
	#TLS1_RFC_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384
 "TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384"

	)

712 
	#TLS1_RFC_ECDHE_RSA_WITH_AES_128_GCM_SHA256
 "TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256"

	)

713 
	#TLS1_RFC_ECDHE_RSA_WITH_AES_256_GCM_SHA384
 "TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384"

	)

714 
	#TLS1_RFC_PSK_WITH_NULL_SHA
 "TLS_PSK_WITH_NULL_SHA"

	)

715 
	#TLS1_RFC_DHE_PSK_WITH_NULL_SHA
 "TLS_DHE_PSK_WITH_NULL_SHA"

	)

716 
	#TLS1_RFC_RSA_PSK_WITH_NULL_SHA
 "TLS_RSA_PSK_WITH_NULL_SHA"

	)

717 
	#TLS1_RFC_PSK_WITH_3DES_EDE_CBC_SHA
 "TLS_PSK_WITH_3DES_EDE_CBC_SHA"

	)

718 
	#TLS1_RFC_PSK_WITH_AES_128_CBC_SHA
 "TLS_PSK_WITH_AES_128_CBC_SHA"

	)

719 
	#TLS1_RFC_PSK_WITH_AES_256_CBC_SHA
 "TLS_PSK_WITH_AES_256_CBC_SHA"

	)

720 
	#TLS1_RFC_DHE_PSK_WITH_3DES_EDE_CBC_SHA
 "TLS_DHE_PSK_WITH_3DES_EDE_CBC_SHA"

	)

721 
	#TLS1_RFC_DHE_PSK_WITH_AES_128_CBC_SHA
 "TLS_DHE_PSK_WITH_AES_128_CBC_SHA"

	)

722 
	#TLS1_RFC_DHE_PSK_WITH_AES_256_CBC_SHA
 "TLS_DHE_PSK_WITH_AES_256_CBC_SHA"

	)

723 
	#TLS1_RFC_RSA_PSK_WITH_3DES_EDE_CBC_SHA
 "TLS_RSA_PSK_WITH_3DES_EDE_CBC_SHA"

	)

724 
	#TLS1_RFC_RSA_PSK_WITH_AES_128_CBC_SHA
 "TLS_RSA_PSK_WITH_AES_128_CBC_SHA"

	)

725 
	#TLS1_RFC_RSA_PSK_WITH_AES_256_CBC_SHA
 "TLS_RSA_PSK_WITH_AES_256_CBC_SHA"

	)

726 
	#TLS1_RFC_PSK_WITH_AES_128_GCM_SHA256
 "TLS_PSK_WITH_AES_128_GCM_SHA256"

	)

727 
	#TLS1_RFC_PSK_WITH_AES_256_GCM_SHA384
 "TLS_PSK_WITH_AES_256_GCM_SHA384"

	)

728 
	#TLS1_RFC_DHE_PSK_WITH_AES_128_GCM_SHA256
 "TLS_DHE_PSK_WITH_AES_128_GCM_SHA256"

	)

729 
	#TLS1_RFC_DHE_PSK_WITH_AES_256_GCM_SHA384
 "TLS_DHE_PSK_WITH_AES_256_GCM_SHA384"

	)

730 
	#TLS1_RFC_RSA_PSK_WITH_AES_128_GCM_SHA256
 "TLS_RSA_PSK_WITH_AES_128_GCM_SHA256"

	)

731 
	#TLS1_RFC_RSA_PSK_WITH_AES_256_GCM_SHA384
 "TLS_RSA_PSK_WITH_AES_256_GCM_SHA384"

	)

732 
	#TLS1_RFC_PSK_WITH_AES_128_CBC_SHA256
 "TLS_PSK_WITH_AES_128_CBC_SHA256"

	)

733 
	#TLS1_RFC_PSK_WITH_AES_256_CBC_SHA384
 "TLS_PSK_WITH_AES_256_CBC_SHA384"

	)

734 
	#TLS1_RFC_PSK_WITH_NULL_SHA256
 "TLS_PSK_WITH_NULL_SHA256"

	)

735 
	#TLS1_RFC_PSK_WITH_NULL_SHA384
 "TLS_PSK_WITH_NULL_SHA384"

	)

736 
	#TLS1_RFC_DHE_PSK_WITH_AES_128_CBC_SHA256
 "TLS_DHE_PSK_WITH_AES_128_CBC_SHA256"

	)

737 
	#TLS1_RFC_DHE_PSK_WITH_AES_256_CBC_SHA384
 "TLS_DHE_PSK_WITH_AES_256_CBC_SHA384"

	)

738 
	#TLS1_RFC_DHE_PSK_WITH_NULL_SHA256
 "TLS_DHE_PSK_WITH_NULL_SHA256"

	)

739 
	#TLS1_RFC_DHE_PSK_WITH_NULL_SHA384
 "TLS_DHE_PSK_WITH_NULL_SHA384"

	)

740 
	#TLS1_RFC_RSA_PSK_WITH_AES_128_CBC_SHA256
 "TLS_RSA_PSK_WITH_AES_128_CBC_SHA256"

	)

741 
	#TLS1_RFC_RSA_PSK_WITH_AES_256_CBC_SHA384
 "TLS_RSA_PSK_WITH_AES_256_CBC_SHA384"

	)

742 
	#TLS1_RFC_RSA_PSK_WITH_NULL_SHA256
 "TLS_RSA_PSK_WITH_NULL_SHA256"

	)

743 
	#TLS1_RFC_RSA_PSK_WITH_NULL_SHA384
 "TLS_RSA_PSK_WITH_NULL_SHA384"

	)

744 
	#TLS1_RFC_ECDHE_PSK_WITH_3DES_EDE_CBC_SHA
 "TLS_ECDHE_PSK_WITH_3DES_EDE_CBC_SHA"

	)

745 
	#TLS1_RFC_ECDHE_PSK_WITH_AES_128_CBC_SHA
 "TLS_ECDHE_PSK_WITH_AES_128_CBC_SHA"

	)

746 
	#TLS1_RFC_ECDHE_PSK_WITH_AES_256_CBC_SHA
 "TLS_ECDHE_PSK_WITH_AES_256_CBC_SHA"

	)

747 
	#TLS1_RFC_ECDHE_PSK_WITH_AES_128_CBC_SHA256
 "TLS_ECDHE_PSK_WITH_AES_128_CBC_SHA256"

	)

748 
	#TLS1_RFC_ECDHE_PSK_WITH_AES_256_CBC_SHA384
 "TLS_ECDHE_PSK_WITH_AES_256_CBC_SHA384"

	)

749 
	#TLS1_RFC_ECDHE_PSK_WITH_NULL_SHA
 "TLS_ECDHE_PSK_WITH_NULL_SHA"

	)

750 
	#TLS1_RFC_ECDHE_PSK_WITH_NULL_SHA256
 "TLS_ECDHE_PSK_WITH_NULL_SHA256"

	)

751 
	#TLS1_RFC_ECDHE_PSK_WITH_NULL_SHA384
 "TLS_ECDHE_PSK_WITH_NULL_SHA384"

	)

752 
	#TLS1_RFC_SRP_SHA_WITH_3DES_EDE_CBC_SHA
 "TLS_SRP_SHA_WITH_3DES_EDE_CBC_SHA"

	)

753 
	#TLS1_RFC_SRP_SHA_RSA_WITH_3DES_EDE_CBC_SHA
 "TLS_SRP_SHA_RSA_WITH_3DES_EDE_CBC_SHA"

	)

754 
	#TLS1_RFC_SRP_SHA_DSS_WITH_3DES_EDE_CBC_SHA
 "TLS_SRP_SHA_DSS_WITH_3DES_EDE_CBC_SHA"

	)

755 
	#TLS1_RFC_SRP_SHA_WITH_AES_128_CBC_SHA
 "TLS_SRP_SHA_WITH_AES_128_CBC_SHA"

	)

756 
	#TLS1_RFC_SRP_SHA_RSA_WITH_AES_128_CBC_SHA
 "TLS_SRP_SHA_RSA_WITH_AES_128_CBC_SHA"

	)

757 
	#TLS1_RFC_SRP_SHA_DSS_WITH_AES_128_CBC_SHA
 "TLS_SRP_SHA_DSS_WITH_AES_128_CBC_SHA"

	)

758 
	#TLS1_RFC_SRP_SHA_WITH_AES_256_CBC_SHA
 "TLS_SRP_SHA_WITH_AES_256_CBC_SHA"

	)

759 
	#TLS1_RFC_SRP_SHA_RSA_WITH_AES_256_CBC_SHA
 "TLS_SRP_SHA_RSA_WITH_AES_256_CBC_SHA"

	)

760 
	#TLS1_RFC_SRP_SHA_DSS_WITH_AES_256_CBC_SHA
 "TLS_SRP_SHA_DSS_WITH_AES_256_CBC_SHA"

	)

761 
	#TLS1_RFC_DHE_RSA_WITH_CHACHA20_POLY1305
 "TLS_DHE_RSA_WITH_CHACHA20_POLY1305_SHA256"

	)

762 
	#TLS1_RFC_ECDHE_RSA_WITH_CHACHA20_POLY1305
 "TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"

	)

763 
	#TLS1_RFC_ECDHE_ECDSA_WITH_CHACHA20_POLY1305
 "TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256"

	)

764 
	#TLS1_RFC_PSK_WITH_CHACHA20_POLY1305
 "TLS_PSK_WITH_CHACHA20_POLY1305_SHA256"

	)

765 
	#TLS1_RFC_ECDHE_PSK_WITH_CHACHA20_POLY1305
 "TLS_ECDHE_PSK_WITH_CHACHA20_POLY1305_SHA256"

	)

766 
	#TLS1_RFC_DHE_PSK_WITH_CHACHA20_POLY1305
 "TLS_DHE_PSK_WITH_CHACHA20_POLY1305_SHA256"

	)

767 
	#TLS1_RFC_RSA_PSK_WITH_CHACHA20_POLY1305
 "TLS_RSA_PSK_WITH_CHACHA20_POLY1305_SHA256"

	)

768 
	#TLS1_RFC_RSA_WITH_CAMELLIA_128_CBC_SHA256
 "TLS_RSA_WITH_CAMELLIA_128_CBC_SHA256"

	)

769 
	#TLS1_RFC_DHE_DSS_WITH_CAMELLIA_128_CBC_SHA256
 "TLS_DHE_DSS_WITH_CAMELLIA_128_CBC_SHA256"

	)

770 
	#TLS1_RFC_DHE_RSA_WITH_CAMELLIA_128_CBC_SHA256
 "TLS_DHE_RSA_WITH_CAMELLIA_128_CBC_SHA256"

	)

771 
	#TLS1_RFC_ADH_WITH_CAMELLIA_128_CBC_SHA256
 "TLS_DH_ªÚ_WITH_CAMELLIA_128_CBC_SHA256"

	)

772 
	#TLS1_RFC_RSA_WITH_CAMELLIA_256_CBC_SHA256
 "TLS_RSA_WITH_CAMELLIA_256_CBC_SHA256"

	)

773 
	#TLS1_RFC_DHE_DSS_WITH_CAMELLIA_256_CBC_SHA256
 "TLS_DHE_DSS_WITH_CAMELLIA_256_CBC_SHA256"

	)

774 
	#TLS1_RFC_DHE_RSA_WITH_CAMELLIA_256_CBC_SHA256
 "TLS_DHE_RSA_WITH_CAMELLIA_256_CBC_SHA256"

	)

775 
	#TLS1_RFC_ADH_WITH_CAMELLIA_256_CBC_SHA256
 "TLS_DH_ªÚ_WITH_CAMELLIA_256_CBC_SHA256"

	)

776 
	#TLS1_RFC_RSA_WITH_CAMELLIA_256_CBC_SHA
 "TLS_RSA_WITH_CAMELLIA_256_CBC_SHA"

	)

777 
	#TLS1_RFC_DHE_DSS_WITH_CAMELLIA_256_CBC_SHA
 "TLS_DHE_DSS_WITH_CAMELLIA_256_CBC_SHA"

	)

778 
	#TLS1_RFC_DHE_RSA_WITH_CAMELLIA_256_CBC_SHA
 "TLS_DHE_RSA_WITH_CAMELLIA_256_CBC_SHA"

	)

779 
	#TLS1_RFC_ADH_WITH_CAMELLIA_256_CBC_SHA
 "TLS_DH_ªÚ_WITH_CAMELLIA_256_CBC_SHA"

	)

780 
	#TLS1_RFC_RSA_WITH_CAMELLIA_128_CBC_SHA
 "TLS_RSA_WITH_CAMELLIA_128_CBC_SHA"

	)

781 
	#TLS1_RFC_DHE_DSS_WITH_CAMELLIA_128_CBC_SHA
 "TLS_DHE_DSS_WITH_CAMELLIA_128_CBC_SHA"

	)

782 
	#TLS1_RFC_DHE_RSA_WITH_CAMELLIA_128_CBC_SHA
 "TLS_DHE_RSA_WITH_CAMELLIA_128_CBC_SHA"

	)

783 
	#TLS1_RFC_ADH_WITH_CAMELLIA_128_CBC_SHA
 "TLS_DH_ªÚ_WITH_CAMELLIA_128_CBC_SHA"

	)

784 
	#TLS1_RFC_ECDHE_ECDSA_WITH_CAMELLIA_128_CBC_SHA256
 "TLS_ECDHE_ECDSA_WITH_CAMELLIA_128_CBC_SHA256"

	)

785 
	#TLS1_RFC_ECDHE_ECDSA_WITH_CAMELLIA_256_CBC_SHA384
 "TLS_ECDHE_ECDSA_WITH_CAMELLIA_256_CBC_SHA384"

	)

786 
	#TLS1_RFC_ECDHE_RSA_WITH_CAMELLIA_128_CBC_SHA256
 "TLS_ECDHE_RSA_WITH_CAMELLIA_128_CBC_SHA256"

	)

787 
	#TLS1_RFC_ECDHE_RSA_WITH_CAMELLIA_256_CBC_SHA384
 "TLS_ECDHE_RSA_WITH_CAMELLIA_256_CBC_SHA384"

	)

788 
	#TLS1_RFC_PSK_WITH_CAMELLIA_128_CBC_SHA256
 "TLS_PSK_WITH_CAMELLIA_128_CBC_SHA256"

	)

789 
	#TLS1_RFC_PSK_WITH_CAMELLIA_256_CBC_SHA384
 "TLS_PSK_WITH_CAMELLIA_256_CBC_SHA384"

	)

790 
	#TLS1_RFC_DHE_PSK_WITH_CAMELLIA_128_CBC_SHA256
 "TLS_DHE_PSK_WITH_CAMELLIA_128_CBC_SHA256"

	)

791 
	#TLS1_RFC_DHE_PSK_WITH_CAMELLIA_256_CBC_SHA384
 "TLS_DHE_PSK_WITH_CAMELLIA_256_CBC_SHA384"

	)

792 
	#TLS1_RFC_RSA_PSK_WITH_CAMELLIA_128_CBC_SHA256
 "TLS_RSA_PSK_WITH_CAMELLIA_128_CBC_SHA256"

	)

793 
	#TLS1_RFC_RSA_PSK_WITH_CAMELLIA_256_CBC_SHA384
 "TLS_RSA_PSK_WITH_CAMELLIA_256_CBC_SHA384"

	)

794 
	#TLS1_RFC_ECDHE_PSK_WITH_CAMELLIA_128_CBC_SHA256
 "TLS_ECDHE_PSK_WITH_CAMELLIA_128_CBC_SHA256"

	)

795 
	#TLS1_RFC_ECDHE_PSK_WITH_CAMELLIA_256_CBC_SHA384
 "TLS_ECDHE_PSK_WITH_CAMELLIA_256_CBC_SHA384"

	)

796 
	#TLS1_RFC_RSA_WITH_SEED_SHA
 "TLS_RSA_WITH_SEED_CBC_SHA"

	)

797 
	#TLS1_RFC_DHE_DSS_WITH_SEED_SHA
 "TLS_DHE_DSS_WITH_SEED_CBC_SHA"

	)

798 
	#TLS1_RFC_DHE_RSA_WITH_SEED_SHA
 "TLS_DHE_RSA_WITH_SEED_CBC_SHA"

	)

799 
	#TLS1_RFC_ADH_WITH_SEED_SHA
 "TLS_DH_ªÚ_WITH_SEED_CBC_SHA"

	)

800 
	#TLS1_RFC_ECDHE_PSK_WITH_RC4_128_SHA
 "TLS_ECDHE_PSK_WITH_RC4_128_SHA"

	)

801 
	#TLS1_RFC_ECDH_ªÚ_WITH_RC4_128_SHA
 "TLS_ECDH_ªÚ_WITH_RC4_128_SHA"

	)

802 
	#TLS1_RFC_ECDHE_ECDSA_WITH_RC4_128_SHA
 "TLS_ECDHE_ECDSA_WITH_RC4_128_SHA"

	)

803 
	#TLS1_RFC_ECDHE_RSA_WITH_RC4_128_SHA
 "TLS_ECDHE_RSA_WITH_RC4_128_SHA"

	)

804 
	#TLS1_RFC_PSK_WITH_RC4_128_SHA
 "TLS_PSK_WITH_RC4_128_SHA"

	)

805 
	#TLS1_RFC_RSA_PSK_WITH_RC4_128_SHA
 "TLS_RSA_PSK_WITH_RC4_128_SHA"

	)

806 
	#TLS1_RFC_DHE_PSK_WITH_RC4_128_SHA
 "TLS_DHE_PSK_WITH_RC4_128_SHA"

	)

807 
	#TLS1_RFC_RSA_WITH_ARIA_128_GCM_SHA256
 "TLS_RSA_WITH_ARIA_128_GCM_SHA256"

	)

808 
	#TLS1_RFC_RSA_WITH_ARIA_256_GCM_SHA384
 "TLS_RSA_WITH_ARIA_256_GCM_SHA384"

	)

809 
	#TLS1_RFC_DHE_RSA_WITH_ARIA_128_GCM_SHA256
 "TLS_DHE_RSA_WITH_ARIA_128_GCM_SHA256"

	)

810 
	#TLS1_RFC_DHE_RSA_WITH_ARIA_256_GCM_SHA384
 "TLS_DHE_RSA_WITH_ARIA_256_GCM_SHA384"

	)

811 
	#TLS1_RFC_DH_RSA_WITH_ARIA_128_GCM_SHA256
 "TLS_DH_RSA_WITH_ARIA_128_GCM_SHA256"

	)

812 
	#TLS1_RFC_DH_RSA_WITH_ARIA_256_GCM_SHA384
 "TLS_DH_RSA_WITH_ARIA_256_GCM_SHA384"

	)

813 
	#TLS1_RFC_DHE_DSS_WITH_ARIA_128_GCM_SHA256
 "TLS_DHE_DSS_WITH_ARIA_128_GCM_SHA256"

	)

814 
	#TLS1_RFC_DHE_DSS_WITH_ARIA_256_GCM_SHA384
 "TLS_DHE_DSS_WITH_ARIA_256_GCM_SHA384"

	)

815 
	#TLS1_RFC_DH_DSS_WITH_ARIA_128_GCM_SHA256
 "TLS_DH_DSS_WITH_ARIA_128_GCM_SHA256"

	)

816 
	#TLS1_RFC_DH_DSS_WITH_ARIA_256_GCM_SHA384
 "TLS_DH_DSS_WITH_ARIA_256_GCM_SHA384"

	)

817 
	#TLS1_RFC_DH_ªÚ_WITH_ARIA_128_GCM_SHA256
 "TLS_DH_ªÚ_WITH_ARIA_128_GCM_SHA256"

	)

818 
	#TLS1_RFC_DH_ªÚ_WITH_ARIA_256_GCM_SHA384
 "TLS_DH_ªÚ_WITH_ARIA_256_GCM_SHA384"

	)

819 
	#TLS1_RFC_ECDHE_ECDSA_WITH_ARIA_128_GCM_SHA256
 "TLS_ECDHE_ECDSA_WITH_ARIA_128_GCM_SHA256"

	)

820 
	#TLS1_RFC_ECDHE_ECDSA_WITH_ARIA_256_GCM_SHA384
 "TLS_ECDHE_ECDSA_WITH_ARIA_256_GCM_SHA384"

	)

821 
	#TLS1_RFC_ECDH_ECDSA_WITH_ARIA_128_GCM_SHA256
 "TLS_ECDH_ECDSA_WITH_ARIA_128_GCM_SHA256"

	)

822 
	#TLS1_RFC_ECDH_ECDSA_WITH_ARIA_256_GCM_SHA384
 "TLS_ECDH_ECDSA_WITH_ARIA_256_GCM_SHA384"

	)

823 
	#TLS1_RFC_ECDHE_RSA_WITH_ARIA_128_GCM_SHA256
 "TLS_ECDHE_RSA_WITH_ARIA_128_GCM_SHA256"

	)

824 
	#TLS1_RFC_ECDHE_RSA_WITH_ARIA_256_GCM_SHA384
 "TLS_ECDHE_RSA_WITH_ARIA_256_GCM_SHA384"

	)

825 
	#TLS1_RFC_ECDH_RSA_WITH_ARIA_128_GCM_SHA256
 "TLS_ECDH_RSA_WITH_ARIA_128_GCM_SHA256"

	)

826 
	#TLS1_RFC_ECDH_RSA_WITH_ARIA_256_GCM_SHA384
 "TLS_ECDH_RSA_WITH_ARIA_256_GCM_SHA384"

	)

827 
	#TLS1_RFC_PSK_WITH_ARIA_128_GCM_SHA256
 "TLS_PSK_WITH_ARIA_128_GCM_SHA256"

	)

828 
	#TLS1_RFC_PSK_WITH_ARIA_256_GCM_SHA384
 "TLS_PSK_WITH_ARIA_256_GCM_SHA384"

	)

829 
	#TLS1_RFC_DHE_PSK_WITH_ARIA_128_GCM_SHA256
 "TLS_DHE_PSK_WITH_ARIA_128_GCM_SHA256"

	)

830 
	#TLS1_RFC_DHE_PSK_WITH_ARIA_256_GCM_SHA384
 "TLS_DHE_PSK_WITH_ARIA_256_GCM_SHA384"

	)

831 
	#TLS1_RFC_RSA_PSK_WITH_ARIA_128_GCM_SHA256
 "TLS_RSA_PSK_WITH_ARIA_128_GCM_SHA256"

	)

832 
	#TLS1_RFC_RSA_PSK_WITH_ARIA_256_GCM_SHA384
 "TLS_RSA_PSK_WITH_ARIA_256_GCM_SHA384"

	)

841 
	#TLS1_TXT_DHE_DSS_WITH_RC4_128_SHA
 "DHE-DSS-RC4-SHA"

	)

843 
	#TLS1_TXT_PSK_WITH_NULL_SHA
 "PSK-NULL-SHA"

	)

844 
	#TLS1_TXT_DHE_PSK_WITH_NULL_SHA
 "DHE-PSK-NULL-SHA"

	)

845 
	#TLS1_TXT_RSA_PSK_WITH_NULL_SHA
 "RSA-PSK-NULL-SHA"

	)

848 
	#TLS1_TXT_RSA_WITH_AES_128_SHA
 "AES128-SHA"

	)

849 
	#TLS1_TXT_DH_DSS_WITH_AES_128_SHA
 "DH-DSS-AES128-SHA"

	)

850 
	#TLS1_TXT_DH_RSA_WITH_AES_128_SHA
 "DH-RSA-AES128-SHA"

	)

851 
	#TLS1_TXT_DHE_DSS_WITH_AES_128_SHA
 "DHE-DSS-AES128-SHA"

	)

852 
	#TLS1_TXT_DHE_RSA_WITH_AES_128_SHA
 "DHE-RSA-AES128-SHA"

	)

853 
	#TLS1_TXT_ADH_WITH_AES_128_SHA
 "ADH-AES128-SHA"

	)

855 
	#TLS1_TXT_RSA_WITH_AES_256_SHA
 "AES256-SHA"

	)

856 
	#TLS1_TXT_DH_DSS_WITH_AES_256_SHA
 "DH-DSS-AES256-SHA"

	)

857 
	#TLS1_TXT_DH_RSA_WITH_AES_256_SHA
 "DH-RSA-AES256-SHA"

	)

858 
	#TLS1_TXT_DHE_DSS_WITH_AES_256_SHA
 "DHE-DSS-AES256-SHA"

	)

859 
	#TLS1_TXT_DHE_RSA_WITH_AES_256_SHA
 "DHE-RSA-AES256-SHA"

	)

860 
	#TLS1_TXT_ADH_WITH_AES_256_SHA
 "ADH-AES256-SHA"

	)

863 
	#TLS1_TXT_ECDH_ECDSA_WITH_NULL_SHA
 "ECDH-ECDSA-NULL-SHA"

	)

864 
	#TLS1_TXT_ECDH_ECDSA_WITH_RC4_128_SHA
 "ECDH-ECDSA-RC4-SHA"

	)

865 
	#TLS1_TXT_ECDH_ECDSA_WITH_DES_192_CBC3_SHA
 "ECDH-ECDSA-DES-CBC3-SHA"

	)

866 
	#TLS1_TXT_ECDH_ECDSA_WITH_AES_128_CBC_SHA
 "ECDH-ECDSA-AES128-SHA"

	)

867 
	#TLS1_TXT_ECDH_ECDSA_WITH_AES_256_CBC_SHA
 "ECDH-ECDSA-AES256-SHA"

	)

869 
	#TLS1_TXT_ECDHE_ECDSA_WITH_NULL_SHA
 "ECDHE-ECDSA-NULL-SHA"

	)

870 
	#TLS1_TXT_ECDHE_ECDSA_WITH_RC4_128_SHA
 "ECDHE-ECDSA-RC4-SHA"

	)

871 
	#TLS1_TXT_ECDHE_ECDSA_WITH_DES_192_CBC3_SHA
 "ECDHE-ECDSA-DES-CBC3-SHA"

	)

872 
	#TLS1_TXT_ECDHE_ECDSA_WITH_AES_128_CBC_SHA
 "ECDHE-ECDSA-AES128-SHA"

	)

873 
	#TLS1_TXT_ECDHE_ECDSA_WITH_AES_256_CBC_SHA
 "ECDHE-ECDSA-AES256-SHA"

	)

875 
	#TLS1_TXT_ECDH_RSA_WITH_NULL_SHA
 "ECDH-RSA-NULL-SHA"

	)

876 
	#TLS1_TXT_ECDH_RSA_WITH_RC4_128_SHA
 "ECDH-RSA-RC4-SHA"

	)

877 
	#TLS1_TXT_ECDH_RSA_WITH_DES_192_CBC3_SHA
 "ECDH-RSA-DES-CBC3-SHA"

	)

878 
	#TLS1_TXT_ECDH_RSA_WITH_AES_128_CBC_SHA
 "ECDH-RSA-AES128-SHA"

	)

879 
	#TLS1_TXT_ECDH_RSA_WITH_AES_256_CBC_SHA
 "ECDH-RSA-AES256-SHA"

	)

881 
	#TLS1_TXT_ECDHE_RSA_WITH_NULL_SHA
 "ECDHE-RSA-NULL-SHA"

	)

882 
	#TLS1_TXT_ECDHE_RSA_WITH_RC4_128_SHA
 "ECDHE-RSA-RC4-SHA"

	)

883 
	#TLS1_TXT_ECDHE_RSA_WITH_DES_192_CBC3_SHA
 "ECDHE-RSA-DES-CBC3-SHA"

	)

884 
	#TLS1_TXT_ECDHE_RSA_WITH_AES_128_CBC_SHA
 "ECDHE-RSA-AES128-SHA"

	)

885 
	#TLS1_TXT_ECDHE_RSA_WITH_AES_256_CBC_SHA
 "ECDHE-RSA-AES256-SHA"

	)

887 
	#TLS1_TXT_ECDH_ªÚ_WITH_NULL_SHA
 "AECDH-NULL-SHA"

	)

888 
	#TLS1_TXT_ECDH_ªÚ_WITH_RC4_128_SHA
 "AECDH-RC4-SHA"

	)

889 
	#TLS1_TXT_ECDH_ªÚ_WITH_DES_192_CBC3_SHA
 "AECDH-DES-CBC3-SHA"

	)

890 
	#TLS1_TXT_ECDH_ªÚ_WITH_AES_128_CBC_SHA
 "AECDH-AES128-SHA"

	)

891 
	#TLS1_TXT_ECDH_ªÚ_WITH_AES_256_CBC_SHA
 "AECDH-AES256-SHA"

	)

894 
	#TLS1_TXT_PSK_WITH_RC4_128_SHA
 "PSK-RC4-SHA"

	)

895 
	#TLS1_TXT_PSK_WITH_3DES_EDE_CBC_SHA
 "PSK-3DES-EDE-CBC-SHA"

	)

896 
	#TLS1_TXT_PSK_WITH_AES_128_CBC_SHA
 "PSK-AES128-CBC-SHA"

	)

897 
	#TLS1_TXT_PSK_WITH_AES_256_CBC_SHA
 "PSK-AES256-CBC-SHA"

	)

899 
	#TLS1_TXT_DHE_PSK_WITH_RC4_128_SHA
 "DHE-PSK-RC4-SHA"

	)

900 
	#TLS1_TXT_DHE_PSK_WITH_3DES_EDE_CBC_SHA
 "DHE-PSK-3DES-EDE-CBC-SHA"

	)

901 
	#TLS1_TXT_DHE_PSK_WITH_AES_128_CBC_SHA
 "DHE-PSK-AES128-CBC-SHA"

	)

902 
	#TLS1_TXT_DHE_PSK_WITH_AES_256_CBC_SHA
 "DHE-PSK-AES256-CBC-SHA"

	)

903 
	#TLS1_TXT_RSA_PSK_WITH_RC4_128_SHA
 "RSA-PSK-RC4-SHA"

	)

904 
	#TLS1_TXT_RSA_PSK_WITH_3DES_EDE_CBC_SHA
 "RSA-PSK-3DES-EDE-CBC-SHA"

	)

905 
	#TLS1_TXT_RSA_PSK_WITH_AES_128_CBC_SHA
 "RSA-PSK-AES128-CBC-SHA"

	)

906 
	#TLS1_TXT_RSA_PSK_WITH_AES_256_CBC_SHA
 "RSA-PSK-AES256-CBC-SHA"

	)

909 
	#TLS1_TXT_PSK_WITH_AES_128_GCM_SHA256
 "PSK-AES128-GCM-SHA256"

	)

910 
	#TLS1_TXT_PSK_WITH_AES_256_GCM_SHA384
 "PSK-AES256-GCM-SHA384"

	)

911 
	#TLS1_TXT_DHE_PSK_WITH_AES_128_GCM_SHA256
 "DHE-PSK-AES128-GCM-SHA256"

	)

912 
	#TLS1_TXT_DHE_PSK_WITH_AES_256_GCM_SHA384
 "DHE-PSK-AES256-GCM-SHA384"

	)

913 
	#TLS1_TXT_RSA_PSK_WITH_AES_128_GCM_SHA256
 "RSA-PSK-AES128-GCM-SHA256"

	)

914 
	#TLS1_TXT_RSA_PSK_WITH_AES_256_GCM_SHA384
 "RSA-PSK-AES256-GCM-SHA384"

	)

916 
	#TLS1_TXT_PSK_WITH_AES_128_CBC_SHA256
 "PSK-AES128-CBC-SHA256"

	)

917 
	#TLS1_TXT_PSK_WITH_AES_256_CBC_SHA384
 "PSK-AES256-CBC-SHA384"

	)

918 
	#TLS1_TXT_PSK_WITH_NULL_SHA256
 "PSK-NULL-SHA256"

	)

919 
	#TLS1_TXT_PSK_WITH_NULL_SHA384
 "PSK-NULL-SHA384"

	)

921 
	#TLS1_TXT_DHE_PSK_WITH_AES_128_CBC_SHA256
 "DHE-PSK-AES128-CBC-SHA256"

	)

922 
	#TLS1_TXT_DHE_PSK_WITH_AES_256_CBC_SHA384
 "DHE-PSK-AES256-CBC-SHA384"

	)

923 
	#TLS1_TXT_DHE_PSK_WITH_NULL_SHA256
 "DHE-PSK-NULL-SHA256"

	)

924 
	#TLS1_TXT_DHE_PSK_WITH_NULL_SHA384
 "DHE-PSK-NULL-SHA384"

	)

926 
	#TLS1_TXT_RSA_PSK_WITH_AES_128_CBC_SHA256
 "RSA-PSK-AES128-CBC-SHA256"

	)

927 
	#TLS1_TXT_RSA_PSK_WITH_AES_256_CBC_SHA384
 "RSA-PSK-AES256-CBC-SHA384"

	)

928 
	#TLS1_TXT_RSA_PSK_WITH_NULL_SHA256
 "RSA-PSK-NULL-SHA256"

	)

929 
	#TLS1_TXT_RSA_PSK_WITH_NULL_SHA384
 "RSA-PSK-NULL-SHA384"

	)

932 
	#TLS1_TXT_SRP_SHA_WITH_3DES_EDE_CBC_SHA
 "SRP-3DES-EDE-CBC-SHA"

	)

933 
	#TLS1_TXT_SRP_SHA_RSA_WITH_3DES_EDE_CBC_SHA
 "SRP-RSA-3DES-EDE-CBC-SHA"

	)

934 
	#TLS1_TXT_SRP_SHA_DSS_WITH_3DES_EDE_CBC_SHA
 "SRP-DSS-3DES-EDE-CBC-SHA"

	)

935 
	#TLS1_TXT_SRP_SHA_WITH_AES_128_CBC_SHA
 "SRP-AES-128-CBC-SHA"

	)

936 
	#TLS1_TXT_SRP_SHA_RSA_WITH_AES_128_CBC_SHA
 "SRP-RSA-AES-128-CBC-SHA"

	)

937 
	#TLS1_TXT_SRP_SHA_DSS_WITH_AES_128_CBC_SHA
 "SRP-DSS-AES-128-CBC-SHA"

	)

938 
	#TLS1_TXT_SRP_SHA_WITH_AES_256_CBC_SHA
 "SRP-AES-256-CBC-SHA"

	)

939 
	#TLS1_TXT_SRP_SHA_RSA_WITH_AES_256_CBC_SHA
 "SRP-RSA-AES-256-CBC-SHA"

	)

940 
	#TLS1_TXT_SRP_SHA_DSS_WITH_AES_256_CBC_SHA
 "SRP-DSS-AES-256-CBC-SHA"

	)

943 
	#TLS1_TXT_RSA_WITH_CAMELLIA_128_CBC_SHA
 "CAMELLIA128-SHA"

	)

944 
	#TLS1_TXT_DH_DSS_WITH_CAMELLIA_128_CBC_SHA
 "DH-DSS-CAMELLIA128-SHA"

	)

945 
	#TLS1_TXT_DH_RSA_WITH_CAMELLIA_128_CBC_SHA
 "DH-RSA-CAMELLIA128-SHA"

	)

946 
	#TLS1_TXT_DHE_DSS_WITH_CAMELLIA_128_CBC_SHA
 "DHE-DSS-CAMELLIA128-SHA"

	)

947 
	#TLS1_TXT_DHE_RSA_WITH_CAMELLIA_128_CBC_SHA
 "DHE-RSA-CAMELLIA128-SHA"

	)

948 
	#TLS1_TXT_ADH_WITH_CAMELLIA_128_CBC_SHA
 "ADH-CAMELLIA128-SHA"

	)

950 
	#TLS1_TXT_RSA_WITH_CAMELLIA_256_CBC_SHA
 "CAMELLIA256-SHA"

	)

951 
	#TLS1_TXT_DH_DSS_WITH_CAMELLIA_256_CBC_SHA
 "DH-DSS-CAMELLIA256-SHA"

	)

952 
	#TLS1_TXT_DH_RSA_WITH_CAMELLIA_256_CBC_SHA
 "DH-RSA-CAMELLIA256-SHA"

	)

953 
	#TLS1_TXT_DHE_DSS_WITH_CAMELLIA_256_CBC_SHA
 "DHE-DSS-CAMELLIA256-SHA"

	)

954 
	#TLS1_TXT_DHE_RSA_WITH_CAMELLIA_256_CBC_SHA
 "DHE-RSA-CAMELLIA256-SHA"

	)

955 
	#TLS1_TXT_ADH_WITH_CAMELLIA_256_CBC_SHA
 "ADH-CAMELLIA256-SHA"

	)

958 
	#TLS1_TXT_RSA_WITH_CAMELLIA_128_CBC_SHA256
 "CAMELLIA128-SHA256"

	)

959 
	#TLS1_TXT_DH_DSS_WITH_CAMELLIA_128_CBC_SHA256
 "DH-DSS-CAMELLIA128-SHA256"

	)

960 
	#TLS1_TXT_DH_RSA_WITH_CAMELLIA_128_CBC_SHA256
 "DH-RSA-CAMELLIA128-SHA256"

	)

961 
	#TLS1_TXT_DHE_DSS_WITH_CAMELLIA_128_CBC_SHA256
 "DHE-DSS-CAMELLIA128-SHA256"

	)

962 
	#TLS1_TXT_DHE_RSA_WITH_CAMELLIA_128_CBC_SHA256
 "DHE-RSA-CAMELLIA128-SHA256"

	)

963 
	#TLS1_TXT_ADH_WITH_CAMELLIA_128_CBC_SHA256
 "ADH-CAMELLIA128-SHA256"

	)

965 
	#TLS1_TXT_RSA_WITH_CAMELLIA_256_CBC_SHA256
 "CAMELLIA256-SHA256"

	)

966 
	#TLS1_TXT_DH_DSS_WITH_CAMELLIA_256_CBC_SHA256
 "DH-DSS-CAMELLIA256-SHA256"

	)

967 
	#TLS1_TXT_DH_RSA_WITH_CAMELLIA_256_CBC_SHA256
 "DH-RSA-CAMELLIA256-SHA256"

	)

968 
	#TLS1_TXT_DHE_DSS_WITH_CAMELLIA_256_CBC_SHA256
 "DHE-DSS-CAMELLIA256-SHA256"

	)

969 
	#TLS1_TXT_DHE_RSA_WITH_CAMELLIA_256_CBC_SHA256
 "DHE-RSA-CAMELLIA256-SHA256"

	)

970 
	#TLS1_TXT_ADH_WITH_CAMELLIA_256_CBC_SHA256
 "ADH-CAMELLIA256-SHA256"

	)

972 
	#TLS1_TXT_PSK_WITH_CAMELLIA_128_CBC_SHA256
 "PSK-CAMELLIA128-SHA256"

	)

973 
	#TLS1_TXT_PSK_WITH_CAMELLIA_256_CBC_SHA384
 "PSK-CAMELLIA256-SHA384"

	)

974 
	#TLS1_TXT_DHE_PSK_WITH_CAMELLIA_128_CBC_SHA256
 "DHE-PSK-CAMELLIA128-SHA256"

	)

975 
	#TLS1_TXT_DHE_PSK_WITH_CAMELLIA_256_CBC_SHA384
 "DHE-PSK-CAMELLIA256-SHA384"

	)

976 
	#TLS1_TXT_RSA_PSK_WITH_CAMELLIA_128_CBC_SHA256
 "RSA-PSK-CAMELLIA128-SHA256"

	)

977 
	#TLS1_TXT_RSA_PSK_WITH_CAMELLIA_256_CBC_SHA384
 "RSA-PSK-CAMELLIA256-SHA384"

	)

978 
	#TLS1_TXT_ECDHE_PSK_WITH_CAMELLIA_128_CBC_SHA256
 "ECDHE-PSK-CAMELLIA128-SHA256"

	)

979 
	#TLS1_TXT_ECDHE_PSK_WITH_CAMELLIA_256_CBC_SHA384
 "ECDHE-PSK-CAMELLIA256-SHA384"

	)

982 
	#TLS1_TXT_RSA_WITH_SEED_SHA
 "SEED-SHA"

	)

983 
	#TLS1_TXT_DH_DSS_WITH_SEED_SHA
 "DH-DSS-SEED-SHA"

	)

984 
	#TLS1_TXT_DH_RSA_WITH_SEED_SHA
 "DH-RSA-SEED-SHA"

	)

985 
	#TLS1_TXT_DHE_DSS_WITH_SEED_SHA
 "DHE-DSS-SEED-SHA"

	)

986 
	#TLS1_TXT_DHE_RSA_WITH_SEED_SHA
 "DHE-RSA-SEED-SHA"

	)

987 
	#TLS1_TXT_ADH_WITH_SEED_SHA
 "ADH-SEED-SHA"

	)

990 
	#TLS1_TXT_RSA_WITH_NULL_SHA256
 "NULL-SHA256"

	)

991 
	#TLS1_TXT_RSA_WITH_AES_128_SHA256
 "AES128-SHA256"

	)

992 
	#TLS1_TXT_RSA_WITH_AES_256_SHA256
 "AES256-SHA256"

	)

993 
	#TLS1_TXT_DH_DSS_WITH_AES_128_SHA256
 "DH-DSS-AES128-SHA256"

	)

994 
	#TLS1_TXT_DH_RSA_WITH_AES_128_SHA256
 "DH-RSA-AES128-SHA256"

	)

995 
	#TLS1_TXT_DHE_DSS_WITH_AES_128_SHA256
 "DHE-DSS-AES128-SHA256"

	)

996 
	#TLS1_TXT_DHE_RSA_WITH_AES_128_SHA256
 "DHE-RSA-AES128-SHA256"

	)

997 
	#TLS1_TXT_DH_DSS_WITH_AES_256_SHA256
 "DH-DSS-AES256-SHA256"

	)

998 
	#TLS1_TXT_DH_RSA_WITH_AES_256_SHA256
 "DH-RSA-AES256-SHA256"

	)

999 
	#TLS1_TXT_DHE_DSS_WITH_AES_256_SHA256
 "DHE-DSS-AES256-SHA256"

	)

1000 
	#TLS1_TXT_DHE_RSA_WITH_AES_256_SHA256
 "DHE-RSA-AES256-SHA256"

	)

1001 
	#TLS1_TXT_ADH_WITH_AES_128_SHA256
 "ADH-AES128-SHA256"

	)

1002 
	#TLS1_TXT_ADH_WITH_AES_256_SHA256
 "ADH-AES256-SHA256"

	)

1005 
	#TLS1_TXT_RSA_WITH_AES_128_GCM_SHA256
 "AES128-GCM-SHA256"

	)

1006 
	#TLS1_TXT_RSA_WITH_AES_256_GCM_SHA384
 "AES256-GCM-SHA384"

	)

1007 
	#TLS1_TXT_DHE_RSA_WITH_AES_128_GCM_SHA256
 "DHE-RSA-AES128-GCM-SHA256"

	)

1008 
	#TLS1_TXT_DHE_RSA_WITH_AES_256_GCM_SHA384
 "DHE-RSA-AES256-GCM-SHA384"

	)

1009 
	#TLS1_TXT_DH_RSA_WITH_AES_128_GCM_SHA256
 "DH-RSA-AES128-GCM-SHA256"

	)

1010 
	#TLS1_TXT_DH_RSA_WITH_AES_256_GCM_SHA384
 "DH-RSA-AES256-GCM-SHA384"

	)

1011 
	#TLS1_TXT_DHE_DSS_WITH_AES_128_GCM_SHA256
 "DHE-DSS-AES128-GCM-SHA256"

	)

1012 
	#TLS1_TXT_DHE_DSS_WITH_AES_256_GCM_SHA384
 "DHE-DSS-AES256-GCM-SHA384"

	)

1013 
	#TLS1_TXT_DH_DSS_WITH_AES_128_GCM_SHA256
 "DH-DSS-AES128-GCM-SHA256"

	)

1014 
	#TLS1_TXT_DH_DSS_WITH_AES_256_GCM_SHA384
 "DH-DSS-AES256-GCM-SHA384"

	)

1015 
	#TLS1_TXT_ADH_WITH_AES_128_GCM_SHA256
 "ADH-AES128-GCM-SHA256"

	)

1016 
	#TLS1_TXT_ADH_WITH_AES_256_GCM_SHA384
 "ADH-AES256-GCM-SHA384"

	)

1019 
	#TLS1_TXT_RSA_WITH_AES_128_CCM
 "AES128-CCM"

	)

1020 
	#TLS1_TXT_RSA_WITH_AES_256_CCM
 "AES256-CCM"

	)

1021 
	#TLS1_TXT_DHE_RSA_WITH_AES_128_CCM
 "DHE-RSA-AES128-CCM"

	)

1022 
	#TLS1_TXT_DHE_RSA_WITH_AES_256_CCM
 "DHE-RSA-AES256-CCM"

	)

1024 
	#TLS1_TXT_RSA_WITH_AES_128_CCM_8
 "AES128-CCM8"

	)

1025 
	#TLS1_TXT_RSA_WITH_AES_256_CCM_8
 "AES256-CCM8"

	)

1026 
	#TLS1_TXT_DHE_RSA_WITH_AES_128_CCM_8
 "DHE-RSA-AES128-CCM8"

	)

1027 
	#TLS1_TXT_DHE_RSA_WITH_AES_256_CCM_8
 "DHE-RSA-AES256-CCM8"

	)

1029 
	#TLS1_TXT_PSK_WITH_AES_128_CCM
 "PSK-AES128-CCM"

	)

1030 
	#TLS1_TXT_PSK_WITH_AES_256_CCM
 "PSK-AES256-CCM"

	)

1031 
	#TLS1_TXT_DHE_PSK_WITH_AES_128_CCM
 "DHE-PSK-AES128-CCM"

	)

1032 
	#TLS1_TXT_DHE_PSK_WITH_AES_256_CCM
 "DHE-PSK-AES256-CCM"

	)

1034 
	#TLS1_TXT_PSK_WITH_AES_128_CCM_8
 "PSK-AES128-CCM8"

	)

1035 
	#TLS1_TXT_PSK_WITH_AES_256_CCM_8
 "PSK-AES256-CCM8"

	)

1036 
	#TLS1_TXT_DHE_PSK_WITH_AES_128_CCM_8
 "DHE-PSK-AES128-CCM8"

	)

1037 
	#TLS1_TXT_DHE_PSK_WITH_AES_256_CCM_8
 "DHE-PSK-AES256-CCM8"

	)

1040 
	#TLS1_TXT_ECDHE_ECDSA_WITH_AES_128_CCM
 "ECDHE-ECDSA-AES128-CCM"

	)

1041 
	#TLS1_TXT_ECDHE_ECDSA_WITH_AES_256_CCM
 "ECDHE-ECDSA-AES256-CCM"

	)

1042 
	#TLS1_TXT_ECDHE_ECDSA_WITH_AES_128_CCM_8
 "ECDHE-ECDSA-AES128-CCM8"

	)

1043 
	#TLS1_TXT_ECDHE_ECDSA_WITH_AES_256_CCM_8
 "ECDHE-ECDSA-AES256-CCM8"

	)

1046 
	#TLS1_TXT_ECDHE_ECDSA_WITH_AES_128_SHA256
 "ECDHE-ECDSA-AES128-SHA256"

	)

1047 
	#TLS1_TXT_ECDHE_ECDSA_WITH_AES_256_SHA384
 "ECDHE-ECDSA-AES256-SHA384"

	)

1048 
	#TLS1_TXT_ECDH_ECDSA_WITH_AES_128_SHA256
 "ECDH-ECDSA-AES128-SHA256"

	)

1049 
	#TLS1_TXT_ECDH_ECDSA_WITH_AES_256_SHA384
 "ECDH-ECDSA-AES256-SHA384"

	)

1050 
	#TLS1_TXT_ECDHE_RSA_WITH_AES_128_SHA256
 "ECDHE-RSA-AES128-SHA256"

	)

1051 
	#TLS1_TXT_ECDHE_RSA_WITH_AES_256_SHA384
 "ECDHE-RSA-AES256-SHA384"

	)

1052 
	#TLS1_TXT_ECDH_RSA_WITH_AES_128_SHA256
 "ECDH-RSA-AES128-SHA256"

	)

1053 
	#TLS1_TXT_ECDH_RSA_WITH_AES_256_SHA384
 "ECDH-RSA-AES256-SHA384"

	)

1056 
	#TLS1_TXT_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256
 "ECDHE-ECDSA-AES128-GCM-SHA256"

	)

1057 
	#TLS1_TXT_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384
 "ECDHE-ECDSA-AES256-GCM-SHA384"

	)

1058 
	#TLS1_TXT_ECDH_ECDSA_WITH_AES_128_GCM_SHA256
 "ECDH-ECDSA-AES128-GCM-SHA256"

	)

1059 
	#TLS1_TXT_ECDH_ECDSA_WITH_AES_256_GCM_SHA384
 "ECDH-ECDSA-AES256-GCM-SHA384"

	)

1060 
	#TLS1_TXT_ECDHE_RSA_WITH_AES_128_GCM_SHA256
 "ECDHE-RSA-AES128-GCM-SHA256"

	)

1061 
	#TLS1_TXT_ECDHE_RSA_WITH_AES_256_GCM_SHA384
 "ECDHE-RSA-AES256-GCM-SHA384"

	)

1062 
	#TLS1_TXT_ECDH_RSA_WITH_AES_128_GCM_SHA256
 "ECDH-RSA-AES128-GCM-SHA256"

	)

1063 
	#TLS1_TXT_ECDH_RSA_WITH_AES_256_GCM_SHA384
 "ECDH-RSA-AES256-GCM-SHA384"

	)

1066 
	#TLS1_TXT_PSK_WITH_AES_128_GCM_SHA256
 "PSK-AES128-GCM-SHA256"

	)

1067 
	#TLS1_TXT_PSK_WITH_AES_256_GCM_SHA384
 "PSK-AES256-GCM-SHA384"

	)

1070 
	#TLS1_TXT_ECDHE_PSK_WITH_RC4_128_SHA
 "ECDHE-PSK-RC4-SHA"

	)

1071 
	#TLS1_TXT_ECDHE_PSK_WITH_3DES_EDE_CBC_SHA
 "ECDHE-PSK-3DES-EDE-CBC-SHA"

	)

1072 
	#TLS1_TXT_ECDHE_PSK_WITH_AES_128_CBC_SHA
 "ECDHE-PSK-AES128-CBC-SHA"

	)

1073 
	#TLS1_TXT_ECDHE_PSK_WITH_AES_256_CBC_SHA
 "ECDHE-PSK-AES256-CBC-SHA"

	)

1075 
	#TLS1_TXT_ECDHE_PSK_WITH_AES_128_CBC_SHA256
 "ECDHE-PSK-AES128-CBC-SHA256"

	)

1076 
	#TLS1_TXT_ECDHE_PSK_WITH_AES_256_CBC_SHA384
 "ECDHE-PSK-AES256-CBC-SHA384"

	)

1078 
	#TLS1_TXT_ECDHE_PSK_WITH_NULL_SHA
 "ECDHE-PSK-NULL-SHA"

	)

1079 
	#TLS1_TXT_ECDHE_PSK_WITH_NULL_SHA256
 "ECDHE-PSK-NULL-SHA256"

	)

1080 
	#TLS1_TXT_ECDHE_PSK_WITH_NULL_SHA384
 "ECDHE-PSK-NULL-SHA384"

	)

1083 
	#TLS1_TXT_ECDHE_ECDSA_WITH_CAMELLIA_128_CBC_SHA256
 "ECDHE-ECDSA-CAMELLIA128-SHA256"

	)

1084 
	#TLS1_TXT_ECDHE_ECDSA_WITH_CAMELLIA_256_CBC_SHA384
 "ECDHE-ECDSA-CAMELLIA256-SHA384"

	)

1085 
	#TLS1_TXT_ECDH_ECDSA_WITH_CAMELLIA_128_CBC_SHA256
 "ECDH-ECDSA-CAMELLIA128-SHA256"

	)

1086 
	#TLS1_TXT_ECDH_ECDSA_WITH_CAMELLIA_256_CBC_SHA384
 "ECDH-ECDSA-CAMELLIA256-SHA384"

	)

1087 
	#TLS1_TXT_ECDHE_RSA_WITH_CAMELLIA_128_CBC_SHA256
 "ECDHE-RSA-CAMELLIA128-SHA256"

	)

1088 
	#TLS1_TXT_ECDHE_RSA_WITH_CAMELLIA_256_CBC_SHA384
 "ECDHE-RSA-CAMELLIA256-SHA384"

	)

1089 
	#TLS1_TXT_ECDH_RSA_WITH_CAMELLIA_128_CBC_SHA256
 "ECDH-RSA-CAMELLIA128-SHA256"

	)

1090 
	#TLS1_TXT_ECDH_RSA_WITH_CAMELLIA_256_CBC_SHA384
 "ECDH-RSA-CAMELLIA256-SHA384"

	)

1093 
	#TLS1_TXT_ECDHE_RSA_WITH_CHACHA20_POLY1305
 "ECDHE-RSA-CHACHA20-POLY1305"

	)

1094 
	#TLS1_TXT_ECDHE_ECDSA_WITH_CHACHA20_POLY1305
 "ECDHE-ECDSA-CHACHA20-POLY1305"

	)

1095 
	#TLS1_TXT_DHE_RSA_WITH_CHACHA20_POLY1305
 "DHE-RSA-CHACHA20-POLY1305"

	)

1096 
	#TLS1_TXT_PSK_WITH_CHACHA20_POLY1305
 "PSK-CHACHA20-POLY1305"

	)

1097 
	#TLS1_TXT_ECDHE_PSK_WITH_CHACHA20_POLY1305
 "ECDHE-PSK-CHACHA20-POLY1305"

	)

1098 
	#TLS1_TXT_DHE_PSK_WITH_CHACHA20_POLY1305
 "DHE-PSK-CHACHA20-POLY1305"

	)

1099 
	#TLS1_TXT_RSA_PSK_WITH_CHACHA20_POLY1305
 "RSA-PSK-CHACHA20-POLY1305"

	)

1102 
	#TLS1_TXT_RSA_WITH_ARIA_128_GCM_SHA256
 "ARIA128-GCM-SHA256"

	)

1103 
	#TLS1_TXT_RSA_WITH_ARIA_256_GCM_SHA384
 "ARIA256-GCM-SHA384"

	)

1104 
	#TLS1_TXT_DHE_RSA_WITH_ARIA_128_GCM_SHA256
 "DHE-RSA-ARIA128-GCM-SHA256"

	)

1105 
	#TLS1_TXT_DHE_RSA_WITH_ARIA_256_GCM_SHA384
 "DHE-RSA-ARIA256-GCM-SHA384"

	)

1106 
	#TLS1_TXT_DH_RSA_WITH_ARIA_128_GCM_SHA256
 "DH-RSA-ARIA128-GCM-SHA256"

	)

1107 
	#TLS1_TXT_DH_RSA_WITH_ARIA_256_GCM_SHA384
 "DH-RSA-ARIA256-GCM-SHA384"

	)

1108 
	#TLS1_TXT_DHE_DSS_WITH_ARIA_128_GCM_SHA256
 "DHE-DSS-ARIA128-GCM-SHA256"

	)

1109 
	#TLS1_TXT_DHE_DSS_WITH_ARIA_256_GCM_SHA384
 "DHE-DSS-ARIA256-GCM-SHA384"

	)

1110 
	#TLS1_TXT_DH_DSS_WITH_ARIA_128_GCM_SHA256
 "DH-DSS-ARIA128-GCM-SHA256"

	)

1111 
	#TLS1_TXT_DH_DSS_WITH_ARIA_256_GCM_SHA384
 "DH-DSS-ARIA256-GCM-SHA384"

	)

1112 
	#TLS1_TXT_DH_ªÚ_WITH_ARIA_128_GCM_SHA256
 "ADH-ARIA128-GCM-SHA256"

	)

1113 
	#TLS1_TXT_DH_ªÚ_WITH_ARIA_256_GCM_SHA384
 "ADH-ARIA256-GCM-SHA384"

	)

1114 
	#TLS1_TXT_ECDHE_ECDSA_WITH_ARIA_128_GCM_SHA256
 "ECDHE-ECDSA-ARIA128-GCM-SHA256"

	)

1115 
	#TLS1_TXT_ECDHE_ECDSA_WITH_ARIA_256_GCM_SHA384
 "ECDHE-ECDSA-ARIA256-GCM-SHA384"

	)

1116 
	#TLS1_TXT_ECDH_ECDSA_WITH_ARIA_128_GCM_SHA256
 "ECDH-ECDSA-ARIA128-GCM-SHA256"

	)

1117 
	#TLS1_TXT_ECDH_ECDSA_WITH_ARIA_256_GCM_SHA384
 "ECDH-ECDSA-ARIA256-GCM-SHA384"

	)

1118 
	#TLS1_TXT_ECDHE_RSA_WITH_ARIA_128_GCM_SHA256
 "ECDHE-ARIA128-GCM-SHA256"

	)

1119 
	#TLS1_TXT_ECDHE_RSA_WITH_ARIA_256_GCM_SHA384
 "ECDHE-ARIA256-GCM-SHA384"

	)

1120 
	#TLS1_TXT_ECDH_RSA_WITH_ARIA_128_GCM_SHA256
 "ECDH-ARIA128-GCM-SHA256"

	)

1121 
	#TLS1_TXT_ECDH_RSA_WITH_ARIA_256_GCM_SHA384
 "ECDH-ARIA256-GCM-SHA384"

	)

1122 
	#TLS1_TXT_PSK_WITH_ARIA_128_GCM_SHA256
 "PSK-ARIA128-GCM-SHA256"

	)

1123 
	#TLS1_TXT_PSK_WITH_ARIA_256_GCM_SHA384
 "PSK-ARIA256-GCM-SHA384"

	)

1124 
	#TLS1_TXT_DHE_PSK_WITH_ARIA_128_GCM_SHA256
 "DHE-PSK-ARIA128-GCM-SHA256"

	)

1125 
	#TLS1_TXT_DHE_PSK_WITH_ARIA_256_GCM_SHA384
 "DHE-PSK-ARIA256-GCM-SHA384"

	)

1126 
	#TLS1_TXT_RSA_PSK_WITH_ARIA_128_GCM_SHA256
 "RSA-PSK-ARIA128-GCM-SHA256"

	)

1127 
	#TLS1_TXT_RSA_PSK_WITH_ARIA_256_GCM_SHA384
 "RSA-PSK-ARIA256-GCM-SHA384"

	)

1129 
	#TLS_CT_RSA_SIGN
 1

	)

1130 
	#TLS_CT_DSS_SIGN
 2

	)

1131 
	#TLS_CT_RSA_FIXED_DH
 3

	)

1132 
	#TLS_CT_DSS_FIXED_DH
 4

	)

1133 
	#TLS_CT_ECDSA_SIGN
 64

	)

1134 
	#TLS_CT_RSA_FIXED_ECDH
 65

	)

1135 
	#TLS_CT_ECDSA_FIXED_ECDH
 66

	)

1136 
	#TLS_CT_GOST01_SIGN
 22

	)

1137 
	#TLS_CT_GOST12_SIGN
 238

	)

1138 
	#TLS_CT_GOST12_512_SIGN
 239

	)

1144 
	#TLS_CT_NUMBER
 10

	)

1146 #ià
defšed
(
SSL3_CT_NUMBER
)

1147 #ià
TLS_CT_NUMBER
 !ğ
SSL3_CT_NUMBER


1152 
	#TLS1_FINISH_MAC_LENGTH
 12

	)

1154 
	#TLS_MD_MAX_CONST_SIZE
 22

	)

1155 
	#TLS_MD_CLIENT_FINISH_CONST
 "ş›Á fšished"

	)

1156 
	#TLS_MD_CLIENT_FINISH_CONST_SIZE
 15

	)

1157 
	#TLS_MD_SERVER_FINISH_CONST
 "£rv” fšished"

	)

1158 
	#TLS_MD_SERVER_FINISH_CONST_SIZE
 15

	)

1159 
	#TLS_MD_KEY_EXPANSION_CONST
 "keyƒx·nsiÚ"

	)

1160 
	#TLS_MD_KEY_EXPANSION_CONST_SIZE
 13

	)

1161 
	#TLS_MD_CLIENT_WRITE_KEY_CONST
 "ş›Á wr™key"

	)

1162 
	#TLS_MD_CLIENT_WRITE_KEY_CONST_SIZE
 16

	)

1163 
	#TLS_MD_SERVER_WRITE_KEY_CONST
 "£rv” wr™key"

	)

1164 
	#TLS_MD_SERVER_WRITE_KEY_CONST_SIZE
 16

	)

1165 
	#TLS_MD_IV_BLOCK_CONST
 "IV block"

	)

1166 
	#TLS_MD_IV_BLOCK_CONST_SIZE
 8

	)

1167 
	#TLS_MD_MASTER_SECRET_CONST
 "ma¡” seü‘"

	)

1168 
	#TLS_MD_MASTER_SECRET_CONST_SIZE
 13

	)

1169 
	#TLS_MD_EXTENDED_MASTER_SECRET_CONST
 "ex‹nded ma¡” seü‘"

	)

1170 
	#TLS_MD_EXTENDED_MASTER_SECRET_CONST_SIZE
 22

	)

1172 #ifdeà
CHARSET_EBCDIC


1173 #undeà
TLS_MD_CLIENT_FINISH_CONST


1177 
	#TLS_MD_CLIENT_FINISH_CONST
 "\x63\x6c\x69\x65\x6e\x74\x20\x66\x69\x6e\x69\x73\x68\x65\x64"

	)

1179 #undeà
TLS_MD_SERVER_FINISH_CONST


1183 
	#TLS_MD_SERVER_FINISH_CONST
 "\x73\x65\x72\x76\x65\x72\x20\x66\x69\x6e\x69\x73\x68\x65\x64"

	)

1185 #undeà
TLS_MD_SERVER_WRITE_KEY_CONST


1189 
	#TLS_MD_SERVER_WRITE_KEY_CONST
 "\x73\x65\x72\x76\x65\x72\x20\x77\x72\x69\x74\x65\x20\x6b\x65\x79"

	)

1191 #undeà
TLS_MD_KEY_EXPANSION_CONST


1195 
	#TLS_MD_KEY_EXPANSION_CONST
 "\x6b\x65\x79\x20\x65\x78\x70\x61\x6e\x73\x69\x6f\x6e"

	)

1197 #undeà
TLS_MD_CLIENT_WRITE_KEY_CONST


1201 
	#TLS_MD_CLIENT_WRITE_KEY_CONST
 "\x63\x6c\x69\x65\x6e\x74\x20\x77\x72\x69\x74\x65\x20\x6b\x65\x79"

	)

1203 #undeà
TLS_MD_SERVER_WRITE_KEY_CONST


1207 
	#TLS_MD_SERVER_WRITE_KEY_CONST
 "\x73\x65\x72\x76\x65\x72\x20\x77\x72\x69\x74\x65\x20\x6b\x65\x79"

	)

1209 #undeà
TLS_MD_IV_BLOCK_CONST


1213 
	#TLS_MD_IV_BLOCK_CONST
 "\x49\x56\x20\x62\x6c\x6f\x63\x6b"

	)

1215 #undeà
TLS_MD_MASTER_SECRET_CONST


1219 
	#TLS_MD_MASTER_SECRET_CONST
 "\x6d\x61\x73\x74\x65\x72\x20\x73\x65\x63\x72\x65\x74"

	)

1220 #undeà
TLS_MD_EXTENDED_MASTER_SECRET_CONST


1224 
	#TLS_MD_EXTENDED_MASTER_SECRET_CONST
 "\x65\x78\x74\x65\x63\x64\x65\x64\x20\x6d\x61\x73\x74\x65\x72\x20\x73\x65\x63\x72\x65\x74"

	)

1228 
	ss_£ssiÚ_tick‘_ext_¡
 {

1229 
Ëngth
;

1230 *
d©a
;

1233 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/x509.h

11 #iâdeà
HEADER_X509_H


12 
	#HEADER_X509_H


	)

14 
	~<İ’s¦/e_os2.h
>

15 
	~<İ’s¦/os¦_typ.h
>

16 
	~<İ’s¦/symhacks.h
>

17 
	~<İ’s¦/bufãr.h
>

18 
	~<İ’s¦/evp.h
>

19 
	~<İ’s¦/bio.h
>

20 
	~<İ’s¦/a¢1.h
>

21 
	~<İ’s¦/§ã¡ack.h
>

22 
	~<İ’s¦/ec.h
>

24 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

25 
	~<İ’s¦/r§.h
>

26 
	~<İ’s¦/d§.h
>

27 
	~<İ’s¦/dh.h
>

30 
	~<İ’s¦/sha.h
>

31 
	~<İ’s¦/x509”r.h
>

33 #ifdeà 
__ılu¥lus


40 
	#X509_SIG_INFO_VALID
 0x1

	)

42 
	#X509_SIG_INFO_TLS
 0x2

	)

44 
	#X509_FILETYPE_PEM
 1

	)

45 
	#X509_FILETYPE_ASN1
 2

	)

46 
	#X509_FILETYPE_DEFAULT
 3

	)

48 
	#X509v3_KU_DIGITAL_SIGNATURE
 0x0080

	)

49 
	#X509v3_KU_NON_REPUDIATION
 0x0040

	)

50 
	#X509v3_KU_KEY_ENCIPHERMENT
 0x0020

	)

51 
	#X509v3_KU_DATA_ENCIPHERMENT
 0x0010

	)

52 
	#X509v3_KU_KEY_AGREEMENT
 0x0008

	)

53 
	#X509v3_KU_KEY_CERT_SIGN
 0x0004

	)

54 
	#X509v3_KU_CRL_SIGN
 0x0002

	)

55 
	#X509v3_KU_ENCIPHER_ONLY
 0x0001

	)

56 
	#X509v3_KU_DECIPHER_ONLY
 0x8000

	)

57 
	#X509v3_KU_UNDEF
 0xffff

	)

59 
	sX509_®gÜ_¡
 {

60 
ASN1_OBJECT
 *
®gÜ™hm
;

61 
ASN1_TYPE
 *
·¿m‘”
;

64 
STACK_OF
(
	tX509_ALGOR
è
	tX509_ALGORS
;

66 
	sX509_v®_¡
 {

67 
ASN1_TIME
 *
nÙBefÜe
;

68 
ASN1_TIME
 *
nÙAá”
;

69 } 
	tX509_VAL
;

71 
X509_sig_¡
 
	tX509_SIG
;

73 
X509_Çme_’Œy_¡
 
	tX509_NAME_ENTRY
;

75 
DEFINE_STACK_OF
(
X509_NAME_ENTRY
)

77 
DEFINE_STACK_OF
(
X509_NAME
)

79 
	#X509_EX_V_NETSCAPE_HACK
 0x8000

	)

80 
	#X509_EX_V_INIT
 0x0001

	)

81 
X509_ex‹nsiÚ_¡
 
	tX509_EXTENSION
;

83 
STACK_OF
(
	tX509_EXTENSION
è
	tX509_EXTENSIONS
;

85 
DEFINE_STACK_OF
(
X509_EXTENSION
)

87 
x509_©Œibu‹s_¡
 
	tX509_ATTRIBUTE
;

89 
DEFINE_STACK_OF
(
X509_ATTRIBUTE
)

91 
X509_»q_šfo_¡
 
	tX509_REQ_INFO
;

93 
X509_»q_¡
 
	tX509_REQ
;

95 
x509_û¹_aux_¡
 
	tX509_CERT_AUX
;

97 
x509_cšf_¡
 
	tX509_CINF
;

99 
DEFINE_STACK_OF
(
X509
)

103 
	sx509_Œu¡_¡
 {

104 
Œu¡
;

105 
æags
;

106 (*
check_Œu¡
è(
x509_Œu¡_¡
 *, 
X509
 *, );

107 *
Çme
;

108 
¬g1
;

109 *
¬g2
;

110 } 
	tX509_TRUST
;

112 
DEFINE_STACK_OF
(
X509_TRUST
)

116 
	#X509_TRUST_DEFAULT
 0

	)

118 
	#X509_TRUST_COMPAT
 1

	)

119 
	#X509_TRUST_SSL_CLIENT
 2

	)

120 
	#X509_TRUST_SSL_SERVER
 3

	)

121 
	#X509_TRUST_EMAIL
 4

	)

122 
	#X509_TRUST_OBJECT_SIGN
 5

	)

123 
	#X509_TRUST_OCSP_SIGN
 6

	)

124 
	#X509_TRUST_OCSP_REQUEST
 7

	)

125 
	#X509_TRUST_TSA
 8

	)

128 
	#X509_TRUST_MIN
 1

	)

129 
	#X509_TRUST_MAX
 8

	)

132 
	#X509_TRUST_DYNAMIC
 (1U << 0)

	)

133 
	#X509_TRUST_DYNAMIC_NAME
 (1U << 1)

	)

135 
	#X509_TRUST_NO_SS_COMPAT
 (1U << 2)

	)

137 
	#X509_TRUST_DO_SS_COMPAT
 (1U << 3)

	)

139 
	#X509_TRUST_OK_ANY_EKU
 (1U << 4)

	)

143 
	#X509_TRUST_TRUSTED
 1

	)

144 
	#X509_TRUST_REJECTED
 2

	)

145 
	#X509_TRUST_UNTRUSTED
 3

	)

149 
	#X509_FLAG_COMPAT
 0

	)

150 
	#X509_FLAG_NO_HEADER
 1L

	)

151 
	#X509_FLAG_NO_VERSION
 (1L << 1)

	)

152 
	#X509_FLAG_NO_SERIAL
 (1L << 2)

	)

153 
	#X509_FLAG_NO_SIGNAME
 (1L << 3)

	)

154 
	#X509_FLAG_NO_ISSUER
 (1L << 4)

	)

155 
	#X509_FLAG_NO_VALIDITY
 (1L << 5)

	)

156 
	#X509_FLAG_NO_SUBJECT
 (1L << 6)

	)

157 
	#X509_FLAG_NO_PUBKEY
 (1L << 7)

	)

158 
	#X509_FLAG_NO_EXTENSIONS
 (1L << 8)

	)

159 
	#X509_FLAG_NO_SIGDUMP
 (1L << 9)

	)

160 
	#X509_FLAG_NO_AUX
 (1L << 10)

	)

161 
	#X509_FLAG_NO_ATTRIBUTES
 (1L << 11)

	)

162 
	#X509_FLAG_NO_IDS
 (1L << 12)

	)

168 
	#XN_FLAG_SEP_MASK
 (0xà<< 16)

	)

170 
	#XN_FLAG_COMPAT
 0

	)

171 
	#XN_FLAG_SEP_COMMA_PLUS
 (1 << 16)

	)

172 
	#XN_FLAG_SEP_CPLUS_SPC
 (2 << 16)

	)

173 
	#XN_FLAG_SEP_SPLUS_SPC
 (3 << 16)

	)

174 
	#XN_FLAG_SEP_MULTILINE
 (4 << 16)

	)

176 
	#XN_FLAG_DN_REV
 (1 << 20)

	)

180 
	#XN_FLAG_FN_MASK
 (0x3 << 21)

	)

182 
	#XN_FLAG_FN_SN
 0

	)

183 
	#XN_FLAG_FN_LN
 (1 << 21)

	)

184 
	#XN_FLAG_FN_OID
 (2 << 21)

	)

185 
	#XN_FLAG_FN_NONE
 (3 << 21)

	)

187 
	#XN_FLAG_SPC_EQ
 (1 << 23)

	)

194 
	#XN_FLAG_DUMP_UNKNOWN_FIELDS
 (1 << 24)

	)

196 
	#XN_FLAG_FN_ALIGN
 (1 << 25)

	)

201 
	#XN_FLAG_RFC2253
 (
ASN1_STRFLGS_RFC2253
 | \

202 
XN_FLAG_SEP_COMMA_PLUS
 | \

203 
XN_FLAG_DN_REV
 | \

204 
XN_FLAG_FN_SN
 | \

205 
XN_FLAG_DUMP_UNKNOWN_FIELDS
)

	)

209 
	#XN_FLAG_ONELINE
 (
ASN1_STRFLGS_RFC2253
 | \

210 
ASN1_STRFLGS_ESC_QUOTE
 | \

211 
XN_FLAG_SEP_CPLUS_SPC
 | \

212 
XN_FLAG_SPC_EQ
 | \

213 
XN_FLAG_FN_SN
)

	)

217 
	#XN_FLAG_MULTILINE
 (
ASN1_STRFLGS_ESC_CTRL
 | \

218 
ASN1_STRFLGS_ESC_MSB
 | \

219 
XN_FLAG_SEP_MULTILINE
 | \

220 
XN_FLAG_SPC_EQ
 | \

221 
XN_FLAG_FN_LN
 | \

222 
XN_FLAG_FN_ALIGN
)

	)

224 
DEFINE_STACK_OF
(
X509_REVOKED
)

226 
X509_ül_šfo_¡
 
	tX509_CRL_INFO
;

228 
DEFINE_STACK_OF
(
X509_CRL
)

230 
	s´iv©e_key_¡
 {

231 
v”siÚ
;

233 
X509_ALGOR
 *
’c_®gÜ
;

234 
ASN1_OCTET_STRING
 *
’c_pkey
;

236 
EVP_PKEY
 *
dec_pkey
;

238 
key_Ëngth
;

239 *
key_d©a
;

240 
key_ä“
;

242 
EVP_CIPHER_INFO
 
ch”
;

243 } 
	tX509_PKEY
;

245 
	sX509_šfo_¡
 {

246 
X509
 *
x509
;

247 
X509_CRL
 *
ül
;

248 
X509_PKEY
 *
x_pkey
;

249 
EVP_CIPHER_INFO
 
’c_ch”
;

250 
’c_Ën
;

251 *
’c_d©a
;

252 } 
	tX509_INFO
;

254 
DEFINE_STACK_OF
(
X509_INFO
)

260 
	sN‘sÿ³_¥kac_¡
 {

261 
X509_PUBKEY
 *
pubkey
;

262 
ASN1_IA5STRING
 *
ch®Ënge
;

263 } 
	tNETSCAPE_SPKAC
;

265 
	sN‘sÿ³_¥ki_¡
 {

266 
NETSCAPE_SPKAC
 *
¥kac
;

267 
X509_ALGOR
 
sig_®gÜ
;

268 
ASN1_BIT_STRING
 *
sigÇtu»
;

269 } 
	tNETSCAPE_SPKI
;

272 
	sN‘sÿ³_û¹ifiÿ‹_£qu’û
 {

273 
ASN1_OBJECT
 *
ty³
;

274 
STACK_OF
(
X509
è*
û¹s
;

275 } 
	tNETSCAPE_CERT_SEQUENCE
;

286 
	sPBEPARAM_¡
 {

287 
ASN1_OCTET_STRING
 *
§É
;

288 
ASN1_INTEGER
 *
™”
;

289 } 
	tPBEPARAM
;

293 
	sPBE2PARAM_¡
 {

294 
X509_ALGOR
 *
keyfunc
;

295 
X509_ALGOR
 *
’üy±iÚ
;

296 } 
	tPBE2PARAM
;

298 
	sPBKDF2PARAM_¡
 {

300 
ASN1_TYPE
 *
§É
;

301 
ASN1_INTEGER
 *
™”
;

302 
ASN1_INTEGER
 *
keyËngth
;

303 
X509_ALGOR
 *
´f
;

304 } 
	tPBKDF2PARAM
;

306 #iâdeà
OPENSSL_NO_SCRYPT


307 
	sSCRYPT_PARAMS_¡
 {

308 
ASN1_OCTET_STRING
 *
§É
;

309 
ASN1_INTEGER
 *
co¡P¬am‘”
;

310 
ASN1_INTEGER
 *
blockSize
;

311 
ASN1_INTEGER
 *
·¿Î–iz©iÚP¬am‘”
;

312 
ASN1_INTEGER
 *
keyL’gth
;

313 } 
	tSCRYPT_PARAMS
;

316 #ifdeà 
__ılu¥lus


320 
	~<İ’s¦/x509_vfy.h
>

321 
	~<İ’s¦/pkcs7.h
>

323 #ifdeà 
__ılu¥lus


327 
	#X509_EXT_PACK_UNKNOWN
 1

	)

328 
	#X509_EXT_PACK_STRING
 2

	)

330 
	#X509_exŒaù_key
(
x
è
	`X509_g‘_pubkey
(x)

	)

331 
	#X509_REQ_exŒaù_key
(
a
è
	`X509_REQ_g‘_pubkey
×)

	)

332 
	#X509_Çme_cmp
(
a
,
b
è
	`X509_NAME_cmp
(×),(b))

	)

334 
X509_CRL_£t_deçuÉ_m‘hod
(cÚ¡ 
X509_CRL_METHOD
 *
m‘h
);

335 
X509_CRL_METHOD
 *
X509_CRL_METHOD_Ãw
((*
ül_š™
è(
X509_CRL
 *
ül
),

336 (*
ül_ä“
è(
X509_CRL
 *
ül
),

337 (*
ül_lookup
è(
X509_CRL
 *
ül
,

338 
X509_REVOKED
 **
»t
,

339 
ASN1_INTEGER
 *
£r
,

340 
X509_NAME
 *
issu”
),

341 (*
ül_v”ify
è(
X509_CRL
 *
ül
,

342 
EVP_PKEY
 *
pk
));

343 
X509_CRL_METHOD_ä“
(
X509_CRL_METHOD
 *
m
);

345 
X509_CRL_£t_m‘h_d©a
(
X509_CRL
 *
ül
, *
d©
);

346 *
X509_CRL_g‘_m‘h_d©a
(
X509_CRL
 *
ül
);

348 cÚ¡ *
X509_v”ify_û¹_”rÜ_¡ršg
(
n
);

350 
X509_v”ify
(
X509
 *
a
, 
EVP_PKEY
 *
r
);

352 
X509_REQ_v”ify
(
X509_REQ
 *
a
, 
EVP_PKEY
 *
r
);

353 
X509_CRL_v”ify
(
X509_CRL
 *
a
, 
EVP_PKEY
 *
r
);

354 
NETSCAPE_SPKI_v”ify
(
NETSCAPE_SPKI
 *
a
, 
EVP_PKEY
 *
r
);

356 
NETSCAPE_SPKI
 *
NETSCAPE_SPKI_b64_decode
(cÚ¡ *
¡r
, 
Ën
);

357 *
NETSCAPE_SPKI_b64_’code
(
NETSCAPE_SPKI
 *
x
);

358 
EVP_PKEY
 *
NETSCAPE_SPKI_g‘_pubkey
(
NETSCAPE_SPKI
 *
x
);

359 
NETSCAPE_SPKI_£t_pubkey
(
NETSCAPE_SPKI
 *
x
, 
EVP_PKEY
 *
pkey
);

361 
NETSCAPE_SPKI_´št
(
BIO
 *
out
, 
NETSCAPE_SPKI
 *
¥ki
);

363 
X509_sigÇtu»_dump
(
BIO
 *
bp
, cÚ¡ 
ASN1_STRING
 *
sig
, 
šd’t
);

364 
X509_sigÇtu»_´št
(
BIO
 *
bp
, cÚ¡ 
X509_ALGOR
 *
®g
,

365 cÚ¡ 
ASN1_STRING
 *
sig
);

367 
X509_sign
(
X509
 *
x
, 
EVP_PKEY
 *
pkey
, cÚ¡ 
EVP_MD
 *
md
);

368 
X509_sign_ùx
(
X509
 *
x
, 
EVP_MD_CTX
 *
ùx
);

369 #iâdeà
OPENSSL_NO_OCSP


370 
X509_h‰p_nbio
(
OCSP_REQ_CTX
 *
rùx
, 
X509
 **
pû¹
);

372 
X509_REQ_sign
(
X509_REQ
 *
x
, 
EVP_PKEY
 *
pkey
, cÚ¡ 
EVP_MD
 *
md
);

373 
X509_REQ_sign_ùx
(
X509_REQ
 *
x
, 
EVP_MD_CTX
 *
ùx
);

374 
X509_CRL_sign
(
X509_CRL
 *
x
, 
EVP_PKEY
 *
pkey
, cÚ¡ 
EVP_MD
 *
md
);

375 
X509_CRL_sign_ùx
(
X509_CRL
 *
x
, 
EVP_MD_CTX
 *
ùx
);

376 #iâdeà
OPENSSL_NO_OCSP


377 
X509_CRL_h‰p_nbio
(
OCSP_REQ_CTX
 *
rùx
, 
X509_CRL
 **
pül
);

379 
NETSCAPE_SPKI_sign
(
NETSCAPE_SPKI
 *
x
, 
EVP_PKEY
 *
pkey
, cÚ¡ 
EVP_MD
 *
md
);

381 
X509_pubkey_dige¡
(cÚ¡ 
X509
 *
d©a
, cÚ¡ 
EVP_MD
 *
ty³
,

382 *
md
, *
Ën
);

383 
X509_dige¡
(cÚ¡ 
X509
 *
d©a
, cÚ¡ 
EVP_MD
 *
ty³
,

384 *
md
, *
Ën
);

385 
X509_CRL_dige¡
(cÚ¡ 
X509_CRL
 *
d©a
, cÚ¡ 
EVP_MD
 *
ty³
,

386 *
md
, *
Ën
);

387 
X509_REQ_dige¡
(cÚ¡ 
X509_REQ
 *
d©a
, cÚ¡ 
EVP_MD
 *
ty³
,

388 *
md
, *
Ën
);

389 
X509_NAME_dige¡
(cÚ¡ 
X509_NAME
 *
d©a
, cÚ¡ 
EVP_MD
 *
ty³
,

390 *
md
, *
Ën
);

392 #iâdeà
OPENSSL_NO_STDIO


393 
X509
 *
d2i_X509_å
(
FILE
 *
å
, X509 **
x509
);

394 
i2d_X509_å
(
FILE
 *
å
, 
X509
 *
x509
);

395 
X509_CRL
 *
d2i_X509_CRL_å
(
FILE
 *
å
, X509_CRL **
ül
);

396 
i2d_X509_CRL_å
(
FILE
 *
å
, 
X509_CRL
 *
ül
);

397 
X509_REQ
 *
d2i_X509_REQ_å
(
FILE
 *
å
, X509_REQ **
»q
);

398 
i2d_X509_REQ_å
(
FILE
 *
å
, 
X509_REQ
 *
»q
);

399 #iâdeà
OPENSSL_NO_RSA


400 
RSA
 *
d2i_RSAPriv©eKey_å
(
FILE
 *
å
, RSA **
r§
);

401 
i2d_RSAPriv©eKey_å
(
FILE
 *
å
, 
RSA
 *
r§
);

402 
RSA
 *
d2i_RSAPublicKey_å
(
FILE
 *
å
, RSA **
r§
);

403 
i2d_RSAPublicKey_å
(
FILE
 *
å
, 
RSA
 *
r§
);

404 
RSA
 *
d2i_RSA_PUBKEY_å
(
FILE
 *
å
, RSA **
r§
);

405 
i2d_RSA_PUBKEY_å
(
FILE
 *
å
, 
RSA
 *
r§
);

407 #iâdeà
OPENSSL_NO_DSA


408 
DSA
 *
d2i_DSA_PUBKEY_å
(
FILE
 *
å
, DSA **
d§
);

409 
i2d_DSA_PUBKEY_å
(
FILE
 *
å
, 
DSA
 *
d§
);

410 
DSA
 *
d2i_DSAPriv©eKey_å
(
FILE
 *
å
, DSA **
d§
);

411 
i2d_DSAPriv©eKey_å
(
FILE
 *
å
, 
DSA
 *
d§
);

413 #iâdeà
OPENSSL_NO_EC


414 
EC_KEY
 *
d2i_EC_PUBKEY_å
(
FILE
 *
å
, EC_KEY **
eckey
);

415 
i2d_EC_PUBKEY_å
(
FILE
 *
å
, 
EC_KEY
 *
eckey
);

416 
EC_KEY
 *
d2i_ECPriv©eKey_å
(
FILE
 *
å
, EC_KEY **
eckey
);

417 
i2d_ECPriv©eKey_å
(
FILE
 *
å
, 
EC_KEY
 *
eckey
);

419 
X509_SIG
 *
d2i_PKCS8_å
(
FILE
 *
å
, X509_SIG **
p8
);

420 
i2d_PKCS8_å
(
FILE
 *
å
, 
X509_SIG
 *
p8
);

421 
PKCS8_PRIV_KEY_INFO
 *
d2i_PKCS8_PRIV_KEY_INFO_å
(
FILE
 *
å
,

422 
PKCS8_PRIV_KEY_INFO
 **
p8šf
);

423 
i2d_PKCS8_PRIV_KEY_INFO_å
(
FILE
 *
å
, 
PKCS8_PRIV_KEY_INFO
 *
p8šf
);

424 
i2d_PKCS8Priv©eKeyInfo_å
(
FILE
 *
å
, 
EVP_PKEY
 *
key
);

425 
i2d_Priv©eKey_å
(
FILE
 *
å
, 
EVP_PKEY
 *
pkey
);

426 
EVP_PKEY
 *
d2i_Priv©eKey_å
(
FILE
 *
å
, EVP_PKEY **
a
);

427 
i2d_PUBKEY_å
(
FILE
 *
å
, 
EVP_PKEY
 *
pkey
);

428 
EVP_PKEY
 *
d2i_PUBKEY_å
(
FILE
 *
å
, EVP_PKEY **
a
);

431 
X509
 *
d2i_X509_bio
(
BIO
 *
bp
, X509 **
x509
);

432 
i2d_X509_bio
(
BIO
 *
bp
, 
X509
 *
x509
);

433 
X509_CRL
 *
d2i_X509_CRL_bio
(
BIO
 *
bp
, X509_CRL **
ül
);

434 
i2d_X509_CRL_bio
(
BIO
 *
bp
, 
X509_CRL
 *
ül
);

435 
X509_REQ
 *
d2i_X509_REQ_bio
(
BIO
 *
bp
, X509_REQ **
»q
);

436 
i2d_X509_REQ_bio
(
BIO
 *
bp
, 
X509_REQ
 *
»q
);

437 #iâdeà
OPENSSL_NO_RSA


438 
RSA
 *
d2i_RSAPriv©eKey_bio
(
BIO
 *
bp
, RSA **
r§
);

439 
i2d_RSAPriv©eKey_bio
(
BIO
 *
bp
, 
RSA
 *
r§
);

440 
RSA
 *
d2i_RSAPublicKey_bio
(
BIO
 *
bp
, RSA **
r§
);

441 
i2d_RSAPublicKey_bio
(
BIO
 *
bp
, 
RSA
 *
r§
);

442 
RSA
 *
d2i_RSA_PUBKEY_bio
(
BIO
 *
bp
, RSA **
r§
);

443 
i2d_RSA_PUBKEY_bio
(
BIO
 *
bp
, 
RSA
 *
r§
);

445 #iâdeà
OPENSSL_NO_DSA


446 
DSA
 *
d2i_DSA_PUBKEY_bio
(
BIO
 *
bp
, DSA **
d§
);

447 
i2d_DSA_PUBKEY_bio
(
BIO
 *
bp
, 
DSA
 *
d§
);

448 
DSA
 *
d2i_DSAPriv©eKey_bio
(
BIO
 *
bp
, DSA **
d§
);

449 
i2d_DSAPriv©eKey_bio
(
BIO
 *
bp
, 
DSA
 *
d§
);

451 #iâdeà
OPENSSL_NO_EC


452 
EC_KEY
 *
d2i_EC_PUBKEY_bio
(
BIO
 *
bp
, EC_KEY **
eckey
);

453 
i2d_EC_PUBKEY_bio
(
BIO
 *
bp
, 
EC_KEY
 *
eckey
);

454 
EC_KEY
 *
d2i_ECPriv©eKey_bio
(
BIO
 *
bp
, EC_KEY **
eckey
);

455 
i2d_ECPriv©eKey_bio
(
BIO
 *
bp
, 
EC_KEY
 *
eckey
);

457 
X509_SIG
 *
d2i_PKCS8_bio
(
BIO
 *
bp
, X509_SIG **
p8
);

458 
i2d_PKCS8_bio
(
BIO
 *
bp
, 
X509_SIG
 *
p8
);

459 
PKCS8_PRIV_KEY_INFO
 *
d2i_PKCS8_PRIV_KEY_INFO_bio
(
BIO
 *
bp
,

460 
PKCS8_PRIV_KEY_INFO
 **
p8šf
);

461 
i2d_PKCS8_PRIV_KEY_INFO_bio
(
BIO
 *
bp
, 
PKCS8_PRIV_KEY_INFO
 *
p8šf
);

462 
i2d_PKCS8Priv©eKeyInfo_bio
(
BIO
 *
bp
, 
EVP_PKEY
 *
key
);

463 
i2d_Priv©eKey_bio
(
BIO
 *
bp
, 
EVP_PKEY
 *
pkey
);

464 
EVP_PKEY
 *
d2i_Priv©eKey_bio
(
BIO
 *
bp
, EVP_PKEY **
a
);

465 
i2d_PUBKEY_bio
(
BIO
 *
bp
, 
EVP_PKEY
 *
pkey
);

466 
EVP_PKEY
 *
d2i_PUBKEY_bio
(
BIO
 *
bp
, EVP_PKEY **
a
);

468 
X509
 *
X509_dup
(X509 *
x509
);

469 
X509_ATTRIBUTE
 *
X509_ATTRIBUTE_dup
(X509_ATTRIBUTE *
xa
);

470 
X509_EXTENSION
 *
X509_EXTENSION_dup
(X509_EXTENSION *
ex
);

471 
X509_CRL
 *
X509_CRL_dup
(X509_CRL *
ül
);

472 
X509_REVOKED
 *
X509_REVOKED_dup
(X509_REVOKED *
»v
);

473 
X509_REQ
 *
X509_REQ_dup
(X509_REQ *
»q
);

474 
X509_ALGOR
 *
X509_ALGOR_dup
(X509_ALGOR *
xn
);

475 
X509_ALGOR_£t0
(
X509_ALGOR
 *
®g
, 
ASN1_OBJECT
 *
aobj
, 
±y³
,

476 *
pv®
);

477 
X509_ALGOR_g‘0
(cÚ¡ 
ASN1_OBJECT
 **
·obj
, *
µty³
,

478 cÚ¡ **
µv®
, cÚ¡ 
X509_ALGOR
 *
®gÜ
);

479 
X509_ALGOR_£t_md
(
X509_ALGOR
 *
®g
, cÚ¡ 
EVP_MD
 *
md
);

480 
X509_ALGOR_cmp
(cÚ¡ 
X509_ALGOR
 *
a
, cÚ¡ X509_ALGOR *
b
);

482 
X509_NAME
 *
X509_NAME_dup
(X509_NAME *
xn
);

483 
X509_NAME_ENTRY
 *
X509_NAME_ENTRY_dup
(X509_NAME_ENTRY *
Ã
);

485 
X509_cmp_time
(cÚ¡ 
ASN1_TIME
 *
s
, 
time_t
 *
t
);

486 
X509_cmp_cu¼’t_time
(cÚ¡ 
ASN1_TIME
 *
s
);

487 
ASN1_TIME
 *
X509_time_adj
(ASN1_TIME *
s
, 
adj
, 
time_t
 *
t
);

488 
ASN1_TIME
 *
X509_time_adj_ex
(ASN1_TIME *
s
,

489 
off£t_day
, 
off£t_£c
, 
time_t
 *
t
);

490 
ASN1_TIME
 *
X509_gmtime_adj
(ASN1_TIME *
s
, 
adj
);

492 cÚ¡ *
X509_g‘_deçuÉ_û¹_¬—
();

493 cÚ¡ *
X509_g‘_deçuÉ_û¹_dœ
();

494 cÚ¡ *
X509_g‘_deçuÉ_û¹_fe
();

495 cÚ¡ *
X509_g‘_deçuÉ_û¹_dœ_’v
();

496 cÚ¡ *
X509_g‘_deçuÉ_û¹_fe_’v
();

497 cÚ¡ *
X509_g‘_deçuÉ_´iv©e_dœ
();

499 
X509_REQ
 *
X509_to_X509_REQ
(
X509
 *
x
, 
EVP_PKEY
 *
pkey
, cÚ¡ 
EVP_MD
 *
md
);

500 
X509
 *
X509_REQ_to_X509
(
X509_REQ
 *
r
, 
days
, 
EVP_PKEY
 *
pkey
);

502 
DECLARE_ASN1_FUNCTIONS
(
X509_ALGOR
)

503 
DECLARE_ASN1_ENCODE_FUNCTIONS
(
X509_ALGORS
, X509_ALGORS, X509_ALGORS)

504 
DECLARE_ASN1_FUNCTIONS
(
X509_VAL
)

506 
DECLARE_ASN1_FUNCTIONS
(
X509_PUBKEY
)

508 
X509_PUBKEY_£t
(
X509_PUBKEY
 **
x
, 
EVP_PKEY
 *
pkey
);

509 
EVP_PKEY
 *
X509_PUBKEY_g‘0
(
X509_PUBKEY
 *
key
);

510 
EVP_PKEY
 *
X509_PUBKEY_g‘
(
X509_PUBKEY
 *
key
);

511 
X509_g‘_pubkey_·¿m‘”s
(
EVP_PKEY
 *
pkey
, 
STACK_OF
(
X509
è*
chaš
);

512 
X509_g‘_·thËn
(
X509
 *
x
);

513 
i2d_PUBKEY
(
EVP_PKEY
 *
a
, **
µ
);

514 
EVP_PKEY
 *
d2i_PUBKEY
(EVP_PKEY **
a
, cÚ¡ **
µ
, 
Ëngth
);

515 #iâdeà
OPENSSL_NO_RSA


516 
i2d_RSA_PUBKEY
(
RSA
 *
a
, **
µ
);

517 
RSA
 *
d2i_RSA_PUBKEY
(RSA **
a
, cÚ¡ **
µ
, 
Ëngth
);

519 #iâdeà
OPENSSL_NO_DSA


520 
i2d_DSA_PUBKEY
(
DSA
 *
a
, **
µ
);

521 
DSA
 *
d2i_DSA_PUBKEY
(DSA **
a
, cÚ¡ **
µ
, 
Ëngth
);

523 #iâdeà
OPENSSL_NO_EC


524 
i2d_EC_PUBKEY
(
EC_KEY
 *
a
, **
µ
);

525 
EC_KEY
 *
d2i_EC_PUBKEY
(EC_KEY **
a
, cÚ¡ **
µ
, 
Ëngth
);

528 
DECLARE_ASN1_FUNCTIONS
(
X509_SIG
)

529 
X509_SIG_g‘0
(cÚ¡ 
X509_SIG
 *
sig
, cÚ¡ 
X509_ALGOR
 **
·lg
,

530 cÚ¡ 
ASN1_OCTET_STRING
 **
pdige¡
);

531 
X509_SIG_g‘m
(
X509_SIG
 *
sig
, 
X509_ALGOR
 **
·lg
,

532 
ASN1_OCTET_STRING
 **
pdige¡
);

534 
DECLARE_ASN1_FUNCTIONS
(
X509_REQ_INFO
)

535 
DECLARE_ASN1_FUNCTIONS
(
X509_REQ
)

537 
DECLARE_ASN1_FUNCTIONS
(
X509_ATTRIBUTE
)

538 
X509_ATTRIBUTE
 *
X509_ATTRIBUTE_ü—‹
(
nid
, 
©¹y³
, *
v®ue
);

540 
DECLARE_ASN1_FUNCTIONS
(
X509_EXTENSION
)

541 
DECLARE_ASN1_ENCODE_FUNCTIONS
(
X509_EXTENSIONS
, X509_EXTENSIONS, X509_EXTENSIONS)

543 
DECLARE_ASN1_FUNCTIONS
(
X509_NAME_ENTRY
)

545 
DECLARE_ASN1_FUNCTIONS
(
X509_NAME
)

547 
X509_NAME_£t
(
X509_NAME
 **
xn
, X509_NAME *
Çme
);

549 
DECLARE_ASN1_FUNCTIONS
(
X509_CINF
)

551 
DECLARE_ASN1_FUNCTIONS
(
X509
)

552 
DECLARE_ASN1_FUNCTIONS
(
X509_CERT_AUX
)

554 
	#X509_g‘_ex_Ãw_šdex
(
l
, 
p
, 
Ãwf
, 
dupf
, 
ä“f
) \

555 
	`CRYPTO_g‘_ex_Ãw_šdex
(
CRYPTO_EX_INDEX_X509
, 
l
, 
p
, 
Ãwf
, 
dupf
, 
ä“f
)

	)

556 
X509_£t_ex_d©a
(
X509
 *
r
, 
idx
, *
¬g
);

557 *
X509_g‘_ex_d©a
(
X509
 *
r
, 
idx
);

558 
i2d_X509_AUX
(
X509
 *
a
, **
µ
);

559 
X509
 *
d2i_X509_AUX
(X509 **
a
, cÚ¡ **
µ
, 
Ëngth
);

561 
i2d_»_X509_tbs
(
X509
 *
x
, **
µ
);

563 
X509_SIG_INFO_g‘
(cÚ¡ 
X509_SIG_INFO
 *
sigšf
, *
mdnid
, *
pknid
,

564 *
£cb™s
, 
ušt32_t
 *
æags
);

565 
X509_SIG_INFO_£t
(
X509_SIG_INFO
 *
sigšf
, 
mdnid
, 
pknid
,

566 
£cb™s
, 
ušt32_t
 
æags
);

568 
X509_g‘_sigÇtu»_šfo
(
X509
 *
x
, *
mdnid
, *
pknid
, *
£cb™s
,

569 
ušt32_t
 *
æags
);

571 
X509_g‘0_sigÇtu»
(cÚ¡ 
ASN1_BIT_STRING
 **
psig
,

572 cÚ¡ 
X509_ALGOR
 **
·lg
, cÚ¡ 
X509
 *
x
);

573 
X509_g‘_sigÇtu»_nid
(cÚ¡ 
X509
 *
x
);

575 
X509_Œu¡ed
(cÚ¡ 
X509
 *
x
);

576 
X509_®Ÿs_£t1
(
X509
 *
x
, cÚ¡ *
Çme
, 
Ën
);

577 
X509_keyid_£t1
(
X509
 *
x
, cÚ¡ *
id
, 
Ën
);

578 *
X509_®Ÿs_g‘0
(
X509
 *
x
, *
Ën
);

579 *
X509_keyid_g‘0
(
X509
 *
x
, *
Ën
);

580 (*
X509_TRUST_£t_deçuÉ
((*
Œu¡
è(, 
X509
 *, ))) (, X509 *,

582 
X509_TRUST_£t
(*
t
, 
Œu¡
);

583 
X509_add1_Œu¡_objeù
(
X509
 *
x
, cÚ¡ 
ASN1_OBJECT
 *
obj
);

584 
X509_add1_»jeù_objeù
(
X509
 *
x
, cÚ¡ 
ASN1_OBJECT
 *
obj
);

585 
X509_Œu¡_ş—r
(
X509
 *
x
);

586 
X509_»jeù_ş—r
(
X509
 *
x
);

588 
STACK_OF
(
ASN1_OBJECT
è*
X509_g‘0_Œu¡_objeùs
(
X509
 *
x
);

589 
STACK_OF
(
ASN1_OBJECT
è*
X509_g‘0_»jeù_objeùs
(
X509
 *
x
);

591 
DECLARE_ASN1_FUNCTIONS
(
X509_REVOKED
)

592 
DECLARE_ASN1_FUNCTIONS
(
X509_CRL_INFO
)

593 
DECLARE_ASN1_FUNCTIONS
(
X509_CRL
)

595 
X509_CRL_add0_»voked
(
X509_CRL
 *
ül
, 
X509_REVOKED
 *
»v
);

596 
X509_CRL_g‘0_by_£rŸl
(
X509_CRL
 *
ül
,

597 
X509_REVOKED
 **
»t
, 
ASN1_INTEGER
 *
£rŸl
);

598 
X509_CRL_g‘0_by_û¹
(
X509_CRL
 *
ül
, 
X509_REVOKED
 **
»t
, 
X509
 *
x
);

600 
X509_PKEY
 *
X509_PKEY_Ãw
();

601 
X509_PKEY_ä“
(
X509_PKEY
 *
a
);

603 
DECLARE_ASN1_FUNCTIONS
(
NETSCAPE_SPKI
)

604 
DECLARE_ASN1_FUNCTIONS
(
NETSCAPE_SPKAC
)

605 
DECLARE_ASN1_FUNCTIONS
(
NETSCAPE_CERT_SEQUENCE
)

607 
X509_INFO
 *
X509_INFO_Ãw
();

608 
X509_INFO_ä“
(
X509_INFO
 *
a
);

609 *
X509_NAME_Ú–še
(cÚ¡ 
X509_NAME
 *
a
, *
buf
, 
size
);

611 
ASN1_v”ify
(
i2d_of_void
 *
i2d
, 
X509_ALGOR
 *
®gÜ1
,

612 
ASN1_BIT_STRING
 *
sigÇtu»
, *
d©a
, 
EVP_PKEY
 *
pkey
);

614 
ASN1_dige¡
(
i2d_of_void
 *
i2d
, cÚ¡ 
EVP_MD
 *
ty³
, *
d©a
,

615 *
md
, *
Ën
);

617 
ASN1_sign
(
i2d_of_void
 *
i2d
, 
X509_ALGOR
 *
®gÜ1
,

618 
X509_ALGOR
 *
®gÜ2
, 
ASN1_BIT_STRING
 *
sigÇtu»
,

619 *
d©a
, 
EVP_PKEY
 *
pkey
, cÚ¡ 
EVP_MD
 *
ty³
);

621 
ASN1_™em_dige¡
(cÚ¡ 
ASN1_ITEM
 *
™
, cÚ¡ 
EVP_MD
 *
ty³
, *
d©a
,

622 *
md
, *
Ën
);

624 
ASN1_™em_v”ify
(cÚ¡ 
ASN1_ITEM
 *
™
, 
X509_ALGOR
 *
®gÜ1
,

625 
ASN1_BIT_STRING
 *
sigÇtu»
, *
d©a
, 
EVP_PKEY
 *
pkey
);

627 
ASN1_™em_sign
(cÚ¡ 
ASN1_ITEM
 *
™
, 
X509_ALGOR
 *
®gÜ1
,

628 
X509_ALGOR
 *
®gÜ2
, 
ASN1_BIT_STRING
 *
sigÇtu»
, *
d©a
,

629 
EVP_PKEY
 *
pkey
, cÚ¡ 
EVP_MD
 *
ty³
);

630 
ASN1_™em_sign_ùx
(cÚ¡ 
ASN1_ITEM
 *
™
, 
X509_ALGOR
 *
®gÜ1
,

631 
X509_ALGOR
 *
®gÜ2
, 
ASN1_BIT_STRING
 *
sigÇtu»
,

632 *
a¢
, 
EVP_MD_CTX
 *
ùx
);

634 
X509_g‘_v”siÚ
(cÚ¡ 
X509
 *
x
);

635 
X509_£t_v”siÚ
(
X509
 *
x
, 
v”siÚ
);

636 
X509_£t_£rŸlNumb”
(
X509
 *
x
, 
ASN1_INTEGER
 *
£rŸl
);

637 
ASN1_INTEGER
 *
X509_g‘_£rŸlNumb”
(
X509
 *
x
);

638 cÚ¡ 
ASN1_INTEGER
 *
X509_g‘0_£rŸlNumb”
(cÚ¡ 
X509
 *
x
);

639 
X509_£t_issu”_Çme
(
X509
 *
x
, 
X509_NAME
 *
Çme
);

640 
X509_NAME
 *
X509_g‘_issu”_Çme
(cÚ¡ 
X509
 *
a
);

641 
X509_£t_subjeù_Çme
(
X509
 *
x
, 
X509_NAME
 *
Çme
);

642 
X509_NAME
 *
X509_g‘_subjeù_Çme
(cÚ¡ 
X509
 *
a
);

643 cÚ¡ 
ASN1_TIME
 * 
X509_g‘0_nÙBefÜe
(cÚ¡ 
X509
 *
x
);

644 
ASN1_TIME
 *
X509_g‘m_nÙBefÜe
(cÚ¡ 
X509
 *
x
);

645 
X509_£t1_nÙBefÜe
(
X509
 *
x
, cÚ¡ 
ASN1_TIME
 *
tm
);

646 cÚ¡ 
ASN1_TIME
 *
X509_g‘0_nÙAá”
(cÚ¡ 
X509
 *
x
);

647 
ASN1_TIME
 *
X509_g‘m_nÙAá”
(cÚ¡ 
X509
 *
x
);

648 
X509_£t1_nÙAá”
(
X509
 *
x
, cÚ¡ 
ASN1_TIME
 *
tm
);

649 
X509_£t_pubkey
(
X509
 *
x
, 
EVP_PKEY
 *
pkey
);

650 
X509_up_»f
(
X509
 *
x
);

651 
X509_g‘_sigÇtu»_ty³
(cÚ¡ 
X509
 *
x
);

653 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

654 
	#X509_g‘_nÙBefÜe
 
X509_g‘m_nÙBefÜe


	)

655 
	#X509_g‘_nÙAá”
 
X509_g‘m_nÙAá”


	)

656 
	#X509_£t_nÙBefÜe
 
X509_£t1_nÙBefÜe


	)

657 
	#X509_£t_nÙAá”
 
X509_£t1_nÙAá”


	)

665 
X509_PUBKEY
 *
X509_g‘_X509_PUBKEY
(cÚ¡ 
X509
 *
x
);

666 cÚ¡ 
STACK_OF
(
X509_EXTENSION
è*
X509_g‘0_ex‹nsiÚs
(cÚ¡ 
X509
 *
x
);

667 
X509_g‘0_uids
(cÚ¡ 
X509
 *
x
, cÚ¡ 
ASN1_BIT_STRING
 **
piuid
,

668 cÚ¡ 
ASN1_BIT_STRING
 **
psuid
);

669 cÚ¡ 
X509_ALGOR
 *
X509_g‘0_tbs_sig®g
(cÚ¡ 
X509
 *
x
);

671 
EVP_PKEY
 *
X509_g‘0_pubkey
(cÚ¡ 
X509
 *
x
);

672 
EVP_PKEY
 *
X509_g‘_pubkey
(
X509
 *
x
);

673 
ASN1_BIT_STRING
 *
X509_g‘0_pubkey_b™¡r
(cÚ¡ 
X509
 *
x
);

674 
X509_û¹ifiÿ‹_ty³
(cÚ¡ 
X509
 *
x
, cÚ¡ 
EVP_PKEY
 *
pubkey
);

676 
X509_REQ_g‘_v”siÚ
(cÚ¡ 
X509_REQ
 *
»q
);

677 
X509_REQ_£t_v”siÚ
(
X509_REQ
 *
x
, 
v”siÚ
);

678 
X509_NAME
 *
X509_REQ_g‘_subjeù_Çme
(cÚ¡ 
X509_REQ
 *
»q
);

679 
X509_REQ_£t_subjeù_Çme
(
X509_REQ
 *
»q
, 
X509_NAME
 *
Çme
);

680 
X509_REQ_g‘0_sigÇtu»
(cÚ¡ 
X509_REQ
 *
»q
, cÚ¡ 
ASN1_BIT_STRING
 **
psig
,

681 cÚ¡ 
X509_ALGOR
 **
·lg
);

682 
X509_REQ_g‘_sigÇtu»_nid
(cÚ¡ 
X509_REQ
 *
»q
);

683 
i2d_»_X509_REQ_tbs
(
X509_REQ
 *
»q
, **
µ
);

684 
X509_REQ_£t_pubkey
(
X509_REQ
 *
x
, 
EVP_PKEY
 *
pkey
);

685 
EVP_PKEY
 *
X509_REQ_g‘_pubkey
(
X509_REQ
 *
»q
);

686 
EVP_PKEY
 *
X509_REQ_g‘0_pubkey
(
X509_REQ
 *
»q
);

687 
X509_PUBKEY
 *
X509_REQ_g‘_X509_PUBKEY
(
X509_REQ
 *
»q
);

688 
X509_REQ_ex‹nsiÚ_nid
(
nid
);

689 *
X509_REQ_g‘_ex‹nsiÚ_nids
();

690 
X509_REQ_£t_ex‹nsiÚ_nids
(*
nids
);

691 
STACK_OF
(
X509_EXTENSION
è*
X509_REQ_g‘_ex‹nsiÚs
(
X509_REQ
 *
»q
);

692 
X509_REQ_add_ex‹nsiÚs_nid
(
X509_REQ
 *
»q
, 
STACK_OF
(
X509_EXTENSION
è*
exts
,

693 
nid
);

694 
X509_REQ_add_ex‹nsiÚs
(
X509_REQ
 *
»q
, 
STACK_OF
(
X509_EXTENSION
è*
exts
);

695 
X509_REQ_g‘_©Œ_couÁ
(cÚ¡ 
X509_REQ
 *
»q
);

696 
X509_REQ_g‘_©Œ_by_NID
(cÚ¡ 
X509_REQ
 *
»q
, 
nid
, 
Ï¡pos
);

697 
X509_REQ_g‘_©Œ_by_OBJ
(cÚ¡ 
X509_REQ
 *
»q
, cÚ¡ 
ASN1_OBJECT
 *
obj
,

698 
Ï¡pos
);

699 
X509_ATTRIBUTE
 *
X509_REQ_g‘_©Œ
(cÚ¡ 
X509_REQ
 *
»q
, 
loc
);

700 
X509_ATTRIBUTE
 *
X509_REQ_d–‘e_©Œ
(
X509_REQ
 *
»q
, 
loc
);

701 
X509_REQ_add1_©Œ
(
X509_REQ
 *
»q
, 
X509_ATTRIBUTE
 *
©Œ
);

702 
X509_REQ_add1_©Œ_by_OBJ
(
X509_REQ
 *
»q
,

703 cÚ¡ 
ASN1_OBJECT
 *
obj
, 
ty³
,

704 cÚ¡ *
by‹s
, 
Ën
);

705 
X509_REQ_add1_©Œ_by_NID
(
X509_REQ
 *
»q
,

706 
nid
, 
ty³
,

707 cÚ¡ *
by‹s
, 
Ën
);

708 
X509_REQ_add1_©Œ_by_txt
(
X509_REQ
 *
»q
,

709 cÚ¡ *
©ŒÇme
, 
ty³
,

710 cÚ¡ *
by‹s
, 
Ën
);

712 
X509_CRL_£t_v”siÚ
(
X509_CRL
 *
x
, 
v”siÚ
);

713 
X509_CRL_£t_issu”_Çme
(
X509_CRL
 *
x
, 
X509_NAME
 *
Çme
);

714 
X509_CRL_£t1_Ï¡Upd©e
(
X509_CRL
 *
x
, cÚ¡ 
ASN1_TIME
 *
tm
);

715 
X509_CRL_£t1_ÃxtUpd©e
(
X509_CRL
 *
x
, cÚ¡ 
ASN1_TIME
 *
tm
);

716 
X509_CRL_sÜt
(
X509_CRL
 *
ül
);

717 
X509_CRL_up_»f
(
X509_CRL
 *
ül
);

719 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

720 
	#X509_CRL_£t_Ï¡Upd©e
 
X509_CRL_£t1_Ï¡Upd©e


	)

721 
	#X509_CRL_£t_ÃxtUpd©e
 
X509_CRL_£t1_ÃxtUpd©e


	)

724 
X509_CRL_g‘_v”siÚ
(cÚ¡ 
X509_CRL
 *
ül
);

725 cÚ¡ 
ASN1_TIME
 *
X509_CRL_g‘0_Ï¡Upd©e
(cÚ¡ 
X509_CRL
 *
ül
);

726 cÚ¡ 
ASN1_TIME
 *
X509_CRL_g‘0_ÃxtUpd©e
(cÚ¡ 
X509_CRL
 *
ül
);

727 
DEPRECATEDIN_1_1_0
(
ASN1_TIME
 *
X509_CRL_g‘_Ï¡Upd©e
(
X509_CRL
 *
ül
))

728 
DEPRECATEDIN_1_1_0
(
ASN1_TIME
 *
X509_CRL_g‘_ÃxtUpd©e
(
X509_CRL
 *
ül
))

729 
X509_NAME
 *
X509_CRL_g‘_issu”
(cÚ¡ 
X509_CRL
 *
ül
);

730 cÚ¡ 
STACK_OF
(
X509_EXTENSION
è*
X509_CRL_g‘0_ex‹nsiÚs
(cÚ¡ 
X509_CRL
 *
ül
);

731 
STACK_OF
(
X509_REVOKED
è*
X509_CRL_g‘_REVOKED
(
X509_CRL
 *
ül
);

732 
X509_CRL_g‘0_sigÇtu»
(cÚ¡ 
X509_CRL
 *
ül
, cÚ¡ 
ASN1_BIT_STRING
 **
psig
,

733 cÚ¡ 
X509_ALGOR
 **
·lg
);

734 
X509_CRL_g‘_sigÇtu»_nid
(cÚ¡ 
X509_CRL
 *
ül
);

735 
i2d_»_X509_CRL_tbs
(
X509_CRL
 *
»q
, **
µ
);

737 cÚ¡ 
ASN1_INTEGER
 *
X509_REVOKED_g‘0_£rŸlNumb”
(cÚ¡ 
X509_REVOKED
 *
x
);

738 
X509_REVOKED_£t_£rŸlNumb”
(
X509_REVOKED
 *
x
, 
ASN1_INTEGER
 *
£rŸl
);

739 cÚ¡ 
ASN1_TIME
 *
X509_REVOKED_g‘0_»voÿtiÚD©e
(cÚ¡ 
X509_REVOKED
 *
x
);

740 
X509_REVOKED_£t_»voÿtiÚD©e
(
X509_REVOKED
 *
r
, 
ASN1_TIME
 *
tm
);

741 cÚ¡ 
STACK_OF
(
X509_EXTENSION
) *

742 
X509_REVOKED_g‘0_ex‹nsiÚs
(cÚ¡ 
X509_REVOKED
 *
r
);

744 
X509_CRL
 *
X509_CRL_diff
(X509_CRL *
ba£
, X509_CRL *
Ãw”
,

745 
EVP_PKEY
 *
skey
, cÚ¡ 
EVP_MD
 *
md
, 
æags
);

747 
X509_REQ_check_´iv©e_key
(
X509_REQ
 *
x509
, 
EVP_PKEY
 *
pkey
);

749 
X509_check_´iv©e_key
(cÚ¡ 
X509
 *
x509
, cÚ¡ 
EVP_PKEY
 *
pkey
);

750 
X509_chaš_check_su™eb
(*
³¼Ü_d•th
,

751 
X509
 *
x
, 
STACK_OF
(X509è*
chaš
,

752 
æags
);

753 
X509_CRL_check_su™eb
(
X509_CRL
 *
ül
, 
EVP_PKEY
 *
pk
, 
æags
);

754 
STACK_OF
(
X509
è*
X509_chaš_up_»f
(STACK_OF(X509è*
chaš
);

756 
X509_issu”_ªd_£rŸl_cmp
(cÚ¡ 
X509
 *
a
, cÚ¡ X509 *
b
);

757 
X509_issu”_ªd_£rŸl_hash
(
X509
 *
a
);

759 
X509_issu”_Çme_cmp
(cÚ¡ 
X509
 *
a
, cÚ¡ X509 *
b
);

760 
X509_issu”_Çme_hash
(
X509
 *
a
);

762 
X509_subjeù_Çme_cmp
(cÚ¡ 
X509
 *
a
, cÚ¡ X509 *
b
);

763 
X509_subjeù_Çme_hash
(
X509
 *
x
);

765 #iâdeà
OPENSSL_NO_MD5


766 
X509_issu”_Çme_hash_Şd
(
X509
 *
a
);

767 
X509_subjeù_Çme_hash_Şd
(
X509
 *
x
);

770 
X509_cmp
(cÚ¡ 
X509
 *
a
, cÚ¡ X509 *
b
);

771 
X509_NAME_cmp
(cÚ¡ 
X509_NAME
 *
a
, cÚ¡ X509_NAME *
b
);

772 
X509_NAME_hash
(
X509_NAME
 *
x
);

773 
X509_NAME_hash_Şd
(
X509_NAME
 *
x
);

775 
X509_CRL_cmp
(cÚ¡ 
X509_CRL
 *
a
, cÚ¡ X509_CRL *
b
);

776 
X509_CRL_m©ch
(cÚ¡ 
X509_CRL
 *
a
, cÚ¡ X509_CRL *
b
);

777 
X509_aux_´št
(
BIO
 *
out
, 
X509
 *
x
, 
šd’t
);

778 #iâdeà
OPENSSL_NO_STDIO


779 
X509_´št_ex_å
(
FILE
 *
bp
, 
X509
 *
x
, 
nmæag
,

780 
cæag
);

781 
X509_´št_å
(
FILE
 *
bp
, 
X509
 *
x
);

782 
X509_CRL_´št_å
(
FILE
 *
bp
, 
X509_CRL
 *
x
);

783 
X509_REQ_´št_å
(
FILE
 *
bp
, 
X509_REQ
 *
»q
);

784 
X509_NAME_´št_ex_å
(
FILE
 *
å
, cÚ¡ 
X509_NAME
 *
nm
, 
šd’t
,

785 
æags
);

788 
X509_NAME_´št
(
BIO
 *
bp
, cÚ¡ 
X509_NAME
 *
Çme
, 
oba£
);

789 
X509_NAME_´št_ex
(
BIO
 *
out
, cÚ¡ 
X509_NAME
 *
nm
, 
šd’t
,

790 
æags
);

791 
X509_´št_ex
(
BIO
 *
bp
, 
X509
 *
x
, 
nmæag
,

792 
cæag
);

793 
X509_´št
(
BIO
 *
bp
, 
X509
 *
x
);

794 
X509_oc¥id_´št
(
BIO
 *
bp
, 
X509
 *
x
);

795 
X509_CRL_´št_ex
(
BIO
 *
out
, 
X509_CRL
 *
x
, 
nmæag
);

796 
X509_CRL_´št
(
BIO
 *
bp
, 
X509_CRL
 *
x
);

797 
X509_REQ_´št_ex
(
BIO
 *
bp
, 
X509_REQ
 *
x
, 
nmæag
,

798 
cæag
);

799 
X509_REQ_´št
(
BIO
 *
bp
, 
X509_REQ
 *
»q
);

801 
X509_NAME_’Œy_couÁ
(cÚ¡ 
X509_NAME
 *
Çme
);

802 
X509_NAME_g‘_‹xt_by_NID
(
X509_NAME
 *
Çme
, 
nid
, *
buf
, 
Ën
);

803 
X509_NAME_g‘_‹xt_by_OBJ
(
X509_NAME
 *
Çme
, cÚ¡ 
ASN1_OBJECT
 *
obj
,

804 *
buf
, 
Ën
);

810 
X509_NAME_g‘_šdex_by_NID
(
X509_NAME
 *
Çme
, 
nid
, 
Ï¡pos
);

811 
X509_NAME_g‘_šdex_by_OBJ
(
X509_NAME
 *
Çme
, cÚ¡ 
ASN1_OBJECT
 *
obj
,

812 
Ï¡pos
);

813 
X509_NAME_ENTRY
 *
X509_NAME_g‘_’Œy
(cÚ¡ 
X509_NAME
 *
Çme
, 
loc
);

814 
X509_NAME_ENTRY
 *
X509_NAME_d–‘e_’Œy
(
X509_NAME
 *
Çme
, 
loc
);

815 
X509_NAME_add_’Œy
(
X509_NAME
 *
Çme
, cÚ¡ 
X509_NAME_ENTRY
 *
Ã
,

816 
loc
, 
£t
);

817 
X509_NAME_add_’Œy_by_OBJ
(
X509_NAME
 *
Çme
, cÚ¡ 
ASN1_OBJECT
 *
obj
, 
ty³
,

818 cÚ¡ *
by‹s
, 
Ën
, 
loc
,

819 
£t
);

820 
X509_NAME_add_’Œy_by_NID
(
X509_NAME
 *
Çme
, 
nid
, 
ty³
,

821 cÚ¡ *
by‹s
, 
Ën
, 
loc
,

822 
£t
);

823 
X509_NAME_ENTRY
 *
X509_NAME_ENTRY_ü—‹_by_txt
(X509_NAME_ENTRY **
Ã
,

824 cÚ¡ *
f›ld
, 
ty³
,

825 cÚ¡ *
by‹s
,

826 
Ën
);

827 
X509_NAME_ENTRY
 *
X509_NAME_ENTRY_ü—‹_by_NID
(X509_NAME_ENTRY **
Ã
, 
nid
,

828 
ty³
,

829 cÚ¡ *
by‹s
,

830 
Ën
);

831 
X509_NAME_add_’Œy_by_txt
(
X509_NAME
 *
Çme
, cÚ¡ *
f›ld
, 
ty³
,

832 cÚ¡ *
by‹s
, 
Ën
, 
loc
,

833 
£t
);

834 
X509_NAME_ENTRY
 *
X509_NAME_ENTRY_ü—‹_by_OBJ
(X509_NAME_ENTRY **
Ã
,

835 cÚ¡ 
ASN1_OBJECT
 *
obj
, 
ty³
,

836 cÚ¡ *
by‹s
,

837 
Ën
);

838 
X509_NAME_ENTRY_£t_objeù
(
X509_NAME_ENTRY
 *
Ã
, cÚ¡ 
ASN1_OBJECT
 *
obj
);

839 
X509_NAME_ENTRY_£t_d©a
(
X509_NAME_ENTRY
 *
Ã
, 
ty³
,

840 cÚ¡ *
by‹s
, 
Ën
);

841 
ASN1_OBJECT
 *
X509_NAME_ENTRY_g‘_objeù
(cÚ¡ 
X509_NAME_ENTRY
 *
Ã
);

842 
ASN1_STRING
 * 
X509_NAME_ENTRY_g‘_d©a
(cÚ¡ 
X509_NAME_ENTRY
 *
Ã
);

843 
X509_NAME_ENTRY_£t
(cÚ¡ 
X509_NAME_ENTRY
 *
Ã
);

845 
X509_NAME_g‘0_d”
(
X509_NAME
 *
nm
, cÚ¡ **
pd”
,

846 
size_t
 *
pd”Ën
);

848 
X509v3_g‘_ext_couÁ
(cÚ¡ 
STACK_OF
(
X509_EXTENSION
è*
x
);

849 
X509v3_g‘_ext_by_NID
(cÚ¡ 
STACK_OF
(
X509_EXTENSION
è*
x
,

850 
nid
, 
Ï¡pos
);

851 
X509v3_g‘_ext_by_OBJ
(cÚ¡ 
STACK_OF
(
X509_EXTENSION
è*
x
,

852 cÚ¡ 
ASN1_OBJECT
 *
obj
, 
Ï¡pos
);

853 
X509v3_g‘_ext_by_ü™iÿl
(cÚ¡ 
STACK_OF
(
X509_EXTENSION
è*
x
,

854 
ü™
, 
Ï¡pos
);

855 
X509_EXTENSION
 *
X509v3_g‘_ext
(cÚ¡ 
STACK_OF
(X509_EXTENSIONè*
x
, 
loc
);

856 
X509_EXTENSION
 *
X509v3_d–‘e_ext
(
STACK_OF
(X509_EXTENSIONè*
x
, 
loc
);

857 
STACK_OF
(
X509_EXTENSION
è*
X509v3_add_ext
(STACK_OF(X509_EXTENSIONè**
x
,

858 
X509_EXTENSION
 *
ex
, 
loc
);

860 
X509_g‘_ext_couÁ
(cÚ¡ 
X509
 *
x
);

861 
X509_g‘_ext_by_NID
(cÚ¡ 
X509
 *
x
, 
nid
, 
Ï¡pos
);

862 
X509_g‘_ext_by_OBJ
(cÚ¡ 
X509
 *
x
, cÚ¡ 
ASN1_OBJECT
 *
obj
, 
Ï¡pos
);

863 
X509_g‘_ext_by_ü™iÿl
(cÚ¡ 
X509
 *
x
, 
ü™
, 
Ï¡pos
);

864 
X509_EXTENSION
 *
X509_g‘_ext
(cÚ¡ 
X509
 *
x
, 
loc
);

865 
X509_EXTENSION
 *
X509_d–‘e_ext
(
X509
 *
x
, 
loc
);

866 
X509_add_ext
(
X509
 *
x
, 
X509_EXTENSION
 *
ex
, 
loc
);

867 *
X509_g‘_ext_d2i
(cÚ¡ 
X509
 *
x
, 
nid
, *
ü™
, *
idx
);

868 
X509_add1_ext_i2d
(
X509
 *
x
, 
nid
, *
v®ue
, 
ü™
,

869 
æags
);

871 
X509_CRL_g‘_ext_couÁ
(cÚ¡ 
X509_CRL
 *
x
);

872 
X509_CRL_g‘_ext_by_NID
(cÚ¡ 
X509_CRL
 *
x
, 
nid
, 
Ï¡pos
);

873 
X509_CRL_g‘_ext_by_OBJ
(cÚ¡ 
X509_CRL
 *
x
, cÚ¡ 
ASN1_OBJECT
 *
obj
,

874 
Ï¡pos
);

875 
X509_CRL_g‘_ext_by_ü™iÿl
(cÚ¡ 
X509_CRL
 *
x
, 
ü™
, 
Ï¡pos
);

876 
X509_EXTENSION
 *
X509_CRL_g‘_ext
(cÚ¡ 
X509_CRL
 *
x
, 
loc
);

877 
X509_EXTENSION
 *
X509_CRL_d–‘e_ext
(
X509_CRL
 *
x
, 
loc
);

878 
X509_CRL_add_ext
(
X509_CRL
 *
x
, 
X509_EXTENSION
 *
ex
, 
loc
);

879 *
X509_CRL_g‘_ext_d2i
(cÚ¡ 
X509_CRL
 *
x
, 
nid
, *
ü™
, *
idx
);

880 
X509_CRL_add1_ext_i2d
(
X509_CRL
 *
x
, 
nid
, *
v®ue
, 
ü™
,

881 
æags
);

883 
X509_REVOKED_g‘_ext_couÁ
(cÚ¡ 
X509_REVOKED
 *
x
);

884 
X509_REVOKED_g‘_ext_by_NID
(cÚ¡ 
X509_REVOKED
 *
x
, 
nid
, 
Ï¡pos
);

885 
X509_REVOKED_g‘_ext_by_OBJ
(cÚ¡ 
X509_REVOKED
 *
x
, cÚ¡ 
ASN1_OBJECT
 *
obj
,

886 
Ï¡pos
);

887 
X509_REVOKED_g‘_ext_by_ü™iÿl
(cÚ¡ 
X509_REVOKED
 *
x
, 
ü™
,

888 
Ï¡pos
);

889 
X509_EXTENSION
 *
X509_REVOKED_g‘_ext
(cÚ¡ 
X509_REVOKED
 *
x
, 
loc
);

890 
X509_EXTENSION
 *
X509_REVOKED_d–‘e_ext
(
X509_REVOKED
 *
x
, 
loc
);

891 
X509_REVOKED_add_ext
(
X509_REVOKED
 *
x
, 
X509_EXTENSION
 *
ex
, 
loc
);

892 *
X509_REVOKED_g‘_ext_d2i
(cÚ¡ 
X509_REVOKED
 *
x
, 
nid
, *
ü™
,

893 *
idx
);

894 
X509_REVOKED_add1_ext_i2d
(
X509_REVOKED
 *
x
, 
nid
, *
v®ue
, 
ü™
,

895 
æags
);

897 
X509_EXTENSION
 *
X509_EXTENSION_ü—‹_by_NID
(X509_EXTENSION **
ex
,

898 
nid
, 
ü™
,

899 
ASN1_OCTET_STRING
 *
d©a
);

900 
X509_EXTENSION
 *
X509_EXTENSION_ü—‹_by_OBJ
(X509_EXTENSION **
ex
,

901 cÚ¡ 
ASN1_OBJECT
 *
obj
, 
ü™
,

902 
ASN1_OCTET_STRING
 *
d©a
);

903 
X509_EXTENSION_£t_objeù
(
X509_EXTENSION
 *
ex
, cÚ¡ 
ASN1_OBJECT
 *
obj
);

904 
X509_EXTENSION_£t_ü™iÿl
(
X509_EXTENSION
 *
ex
, 
ü™
);

905 
X509_EXTENSION_£t_d©a
(
X509_EXTENSION
 *
ex
, 
ASN1_OCTET_STRING
 *
d©a
);

906 
ASN1_OBJECT
 *
X509_EXTENSION_g‘_objeù
(
X509_EXTENSION
 *
ex
);

907 
ASN1_OCTET_STRING
 *
X509_EXTENSION_g‘_d©a
(
X509_EXTENSION
 *
Ã
);

908 
X509_EXTENSION_g‘_ü™iÿl
(cÚ¡ 
X509_EXTENSION
 *
ex
);

910 
X509©_g‘_©Œ_couÁ
(cÚ¡ 
STACK_OF
(
X509_ATTRIBUTE
è*
x
);

911 
X509©_g‘_©Œ_by_NID
(cÚ¡ 
STACK_OF
(
X509_ATTRIBUTE
è*
x
, 
nid
,

912 
Ï¡pos
);

913 
X509©_g‘_©Œ_by_OBJ
(cÚ¡ 
STACK_OF
(
X509_ATTRIBUTE
è*
sk
,

914 cÚ¡ 
ASN1_OBJECT
 *
obj
, 
Ï¡pos
);

915 
X509_ATTRIBUTE
 *
X509©_g‘_©Œ
(cÚ¡ 
STACK_OF
(X509_ATTRIBUTEè*
x
, 
loc
);

916 
X509_ATTRIBUTE
 *
X509©_d–‘e_©Œ
(
STACK_OF
(X509_ATTRIBUTEè*
x
, 
loc
);

917 
STACK_OF
(
X509_ATTRIBUTE
è*
X509©_add1_©Œ
(STACK_OF(X509_ATTRIBUTEè**
x
,

918 
X509_ATTRIBUTE
 *
©Œ
);

919 
STACK_OF
(
X509_ATTRIBUTE
è*
X509©_add1_©Œ_by_OBJ
(STACK_OF(X509_ATTRIBUTE)

920 **
x
, cÚ¡ 
ASN1_OBJECT
 *
obj
,

921 
ty³
,

922 cÚ¡ *
by‹s
,

923 
Ën
);

924 
STACK_OF
(
X509_ATTRIBUTE
è*
X509©_add1_©Œ_by_NID
(STACK_OF(X509_ATTRIBUTE)

925 **
x
, 
nid
, 
ty³
,

926 cÚ¡ *
by‹s
,

927 
Ën
);

928 
STACK_OF
(
X509_ATTRIBUTE
è*
X509©_add1_©Œ_by_txt
(STACK_OF(X509_ATTRIBUTE)

929 **
x
, cÚ¡ *
©ŒÇme
,

930 
ty³
,

931 cÚ¡ *
by‹s
,

932 
Ën
);

933 *
X509©_g‘0_d©a_by_OBJ
(
STACK_OF
(
X509_ATTRIBUTE
è*
x
,

934 cÚ¡ 
ASN1_OBJECT
 *
obj
, 
Ï¡pos
, 
ty³
);

935 
X509_ATTRIBUTE
 *
X509_ATTRIBUTE_ü—‹_by_NID
(X509_ATTRIBUTE **
©Œ
, 
nid
,

936 
©¹y³
, cÚ¡ *
d©a
,

937 
Ën
);

938 
X509_ATTRIBUTE
 *
X509_ATTRIBUTE_ü—‹_by_OBJ
(X509_ATTRIBUTE **
©Œ
,

939 cÚ¡ 
ASN1_OBJECT
 *
obj
,

940 
©¹y³
, cÚ¡ *
d©a
,

941 
Ën
);

942 
X509_ATTRIBUTE
 *
X509_ATTRIBUTE_ü—‹_by_txt
(X509_ATTRIBUTE **
©Œ
,

943 cÚ¡ *
©ºame
, 
ty³
,

944 cÚ¡ *
by‹s
,

945 
Ën
);

946 
X509_ATTRIBUTE_£t1_objeù
(
X509_ATTRIBUTE
 *
©Œ
, cÚ¡ 
ASN1_OBJECT
 *
obj
);

947 
X509_ATTRIBUTE_£t1_d©a
(
X509_ATTRIBUTE
 *
©Œ
, 
©Œty³
,

948 cÚ¡ *
d©a
, 
Ën
);

949 *
X509_ATTRIBUTE_g‘0_d©a
(
X509_ATTRIBUTE
 *
©Œ
, 
idx
, 
©¹y³
,

950 *
d©a
);

951 
X509_ATTRIBUTE_couÁ
(cÚ¡ 
X509_ATTRIBUTE
 *
©Œ
);

952 
ASN1_OBJECT
 *
X509_ATTRIBUTE_g‘0_objeù
(
X509_ATTRIBUTE
 *
©Œ
);

953 
ASN1_TYPE
 *
X509_ATTRIBUTE_g‘0_ty³
(
X509_ATTRIBUTE
 *
©Œ
, 
idx
);

955 
EVP_PKEY_g‘_©Œ_couÁ
(cÚ¡ 
EVP_PKEY
 *
key
);

956 
EVP_PKEY_g‘_©Œ_by_NID
(cÚ¡ 
EVP_PKEY
 *
key
, 
nid
, 
Ï¡pos
);

957 
EVP_PKEY_g‘_©Œ_by_OBJ
(cÚ¡ 
EVP_PKEY
 *
key
, cÚ¡ 
ASN1_OBJECT
 *
obj
,

958 
Ï¡pos
);

959 
X509_ATTRIBUTE
 *
EVP_PKEY_g‘_©Œ
(cÚ¡ 
EVP_PKEY
 *
key
, 
loc
);

960 
X509_ATTRIBUTE
 *
EVP_PKEY_d–‘e_©Œ
(
EVP_PKEY
 *
key
, 
loc
);

961 
EVP_PKEY_add1_©Œ
(
EVP_PKEY
 *
key
, 
X509_ATTRIBUTE
 *
©Œ
);

962 
EVP_PKEY_add1_©Œ_by_OBJ
(
EVP_PKEY
 *
key
,

963 cÚ¡ 
ASN1_OBJECT
 *
obj
, 
ty³
,

964 cÚ¡ *
by‹s
, 
Ën
);

965 
EVP_PKEY_add1_©Œ_by_NID
(
EVP_PKEY
 *
key
,

966 
nid
, 
ty³
,

967 cÚ¡ *
by‹s
, 
Ën
);

968 
EVP_PKEY_add1_©Œ_by_txt
(
EVP_PKEY
 *
key
,

969 cÚ¡ *
©ŒÇme
, 
ty³
,

970 cÚ¡ *
by‹s
, 
Ën
);

972 
X509_v”ify_û¹
(
X509_STORE_CTX
 *
ùx
);

975 
X509
 *
X509_fšd_by_issu”_ªd_£rŸl
(
STACK_OF
(X509è*
sk
, 
X509_NAME
 *
Çme
,

976 
ASN1_INTEGER
 *
£rŸl
);

977 
X509
 *
X509_fšd_by_subjeù
(
STACK_OF
(X509è*
sk
, 
X509_NAME
 *
Çme
);

979 
DECLARE_ASN1_FUNCTIONS
(
PBEPARAM
)

980 
DECLARE_ASN1_FUNCTIONS
(
PBE2PARAM
)

981 
DECLARE_ASN1_FUNCTIONS
(
PBKDF2PARAM
)

982 #iâdeà
OPENSSL_NO_SCRYPT


983 
DECLARE_ASN1_FUNCTIONS
(
SCRYPT_PARAMS
)

986 
PKCS5_pbe_£t0_®gÜ
(
X509_ALGOR
 *
®gÜ
, 
®g
, 
™”
,

987 cÚ¡ *
§É
, 
§ÉËn
);

989 
X509_ALGOR
 *
PKCS5_pbe_£t
(
®g
, 
™”
,

990 cÚ¡ *
§É
, 
§ÉËn
);

991 
X509_ALGOR
 *
PKCS5_pbe2_£t
(cÚ¡ 
EVP_CIPHER
 *
ch”
, 
™”
,

992 *
§É
, 
§ÉËn
);

993 
X509_ALGOR
 *
PKCS5_pbe2_£t_iv
(cÚ¡ 
EVP_CIPHER
 *
ch”
, 
™”
,

994 *
§É
, 
§ÉËn
,

995 *
aiv
, 
´f_nid
);

997 #iâdeà
OPENSSL_NO_SCRYPT


998 
X509_ALGOR
 *
PKCS5_pbe2_£t_süy±
(cÚ¡ 
EVP_CIPHER
 *
ch”
,

999 cÚ¡ *
§É
, 
§ÉËn
,

1000 *
aiv
, 
ušt64_t
 
N
, ušt64_ˆ
r
,

1001 
ušt64_t
 
p
);

1004 
X509_ALGOR
 *
PKCS5_pbkdf2_£t
(
™”
, *
§É
, 
§ÉËn
,

1005 
´f_nid
, 
keyËn
);

1009 
DECLARE_ASN1_FUNCTIONS
(
PKCS8_PRIV_KEY_INFO
)

1011 
EVP_PKEY
 *
EVP_PKCS82PKEY
(cÚ¡ 
PKCS8_PRIV_KEY_INFO
 *
p8
);

1012 
PKCS8_PRIV_KEY_INFO
 *
EVP_PKEY2PKCS8
(
EVP_PKEY
 *
pkey
);

1014 
PKCS8_pkey_£t0
(
PKCS8_PRIV_KEY_INFO
 *
´iv
, 
ASN1_OBJECT
 *
aobj
,

1015 
v”siÚ
, 
±y³
, *
pv®
,

1016 *
³nc
, 
³nş’
);

1017 
PKCS8_pkey_g‘0
(cÚ¡ 
ASN1_OBJECT
 **
µk®g
,

1018 cÚ¡ **
pk
, *
µkËn
,

1019 cÚ¡ 
X509_ALGOR
 **
·
, cÚ¡ 
PKCS8_PRIV_KEY_INFO
 *
p8
);

1021 cÚ¡ 
STACK_OF
(
X509_ATTRIBUTE
) *

1022 
PKCS8_pkey_g‘0_©Œs
(cÚ¡ 
PKCS8_PRIV_KEY_INFO
 *
p8
);

1023 
PKCS8_pkey_add1_©Œ_by_NID
(
PKCS8_PRIV_KEY_INFO
 *
p8
, 
nid
, 
ty³
,

1024 cÚ¡ *
by‹s
, 
Ën
);

1026 
X509_PUBKEY_£t0_·¿m
(
X509_PUBKEY
 *
pub
, 
ASN1_OBJECT
 *
aobj
,

1027 
±y³
, *
pv®
,

1028 *
³nc
, 
³nş’
);

1029 
X509_PUBKEY_g‘0_·¿m
(
ASN1_OBJECT
 **
µk®g
,

1030 cÚ¡ **
pk
, *
µkËn
,

1031 
X509_ALGOR
 **
·
, 
X509_PUBKEY
 *
pub
);

1033 
X509_check_Œu¡
(
X509
 *
x
, 
id
, 
æags
);

1034 
X509_TRUST_g‘_couÁ
();

1035 
X509_TRUST
 *
X509_TRUST_g‘0
(
idx
);

1036 
X509_TRUST_g‘_by_id
(
id
);

1037 
X509_TRUST_add
(
id
, 
æags
, (*
ck
è(
X509_TRUST
 *, 
X509
 *, ),

1038 cÚ¡ *
Çme
, 
¬g1
, *
¬g2
);

1039 
X509_TRUST_ş—nup
();

1040 
X509_TRUST_g‘_æags
(cÚ¡ 
X509_TRUST
 *
xp
);

1041 *
X509_TRUST_g‘0_Çme
(cÚ¡ 
X509_TRUST
 *
xp
);

1042 
X509_TRUST_g‘_Œu¡
(cÚ¡ 
X509_TRUST
 *
xp
);

1044 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/x509v3.h

10 #iâdeà
HEADER_X509V3_H


11 
	#HEADER_X509V3_H


	)

13 
	~<İ’s¦/bio.h
>

14 
	~<İ’s¦/x509.h
>

15 
	~<İ’s¦/cÚf.h
>

16 
	~<İ’s¦/x509v3”r.h
>

18 #ifdeà
__ılu¥lus


23 
v3_ext_m‘hod
;

24 
v3_ext_ùx
;

28 *(*
	tX509V3_EXT_NEW
)();

29 (*
X509V3_EXT_FREE
) (*);

30 *(*
	tX509V3_EXT_D2I
)(*, const **, );

31 (*
X509V3_EXT_I2D
) (*, **);

32 
STACK_OF
(
	tCONF_VALUE
) *

33 (*
	tX509V3_EXT_I2V
è(cÚ¡ 
	tv3_ext_m‘hod
 *
	tm‘hod
, *
	text
,

34 
	tSTACK_OF
(
	tCONF_VALUE
è*
	texi¡
);

35 *(*
	tX509V3_EXT_V2I
)(cÚ¡ 
	tv3_ext_m‘hod
 *
	tm‘hod
,

36 
	tv3_ext_ùx
 *
	tùx
,

37 
	tSTACK_OF
(
	tCONF_VALUE
è*
	tv®ues
);

38 *(*
	tX509V3_EXT_I2S
)(cÚ¡ 
	tv3_ext_m‘hod
 *
	tm‘hod
,

39 *
	text
);

40 *(*
	tX509V3_EXT_S2I
)(cÚ¡ 
	tv3_ext_m‘hod
 *
	tm‘hod
,

41 
	tv3_ext_ùx
 *
	tùx
, cÚ¡ *
	t¡r
);

42 (*
X509V3_EXT_I2R
è(cÚ¡ 
	tv3_ext_m‘hod
 *
	tm‘hod
, *
	text
,

43 
	tBIO
 *
	tout
, 
	tšd’t
);

44 *(*
	tX509V3_EXT_R2I
)(cÚ¡ 
	tv3_ext_m‘hod
 *
	tm‘hod
,

45 
	tv3_ext_ùx
 *
	tùx
, cÚ¡ *
	t¡r
);

49 
	sv3_ext_m‘hod
 {

50 
ext_nid
;

51 
ext_æags
;

53 
ASN1_ITEM_EXP
 *
™
;

55 
X509V3_EXT_NEW
 
ext_Ãw
;

56 
X509V3_EXT_FREE
 
ext_ä“
;

57 
X509V3_EXT_D2I
 
d2i
;

58 
X509V3_EXT_I2D
 
i2d
;

60 
X509V3_EXT_I2S
 
i2s
;

61 
X509V3_EXT_S2I
 
s2i
;

63 
X509V3_EXT_I2V
 
i2v
;

64 
X509V3_EXT_V2I
 
v2i
;

66 
X509V3_EXT_I2R
 
i2r
;

67 
X509V3_EXT_R2I
 
r2i
;

68 *
u¤_d©a
;

71 
	sX509V3_CONF_METHOD_¡
 {

72 *(*
g‘_¡ršg
è(*
db
, cÚ¡ *
£ùiÚ
, cÚ¡ *
v®ue
);

73 
STACK_OF
(
CONF_VALUE
è*(*
g‘_£ùiÚ
è(*
db
, cÚ¡ *
£ùiÚ
);

74 (*
ä“_¡ršg
è(*
db
, *
¡ršg
);

75 (*
ä“_£ùiÚ
è(*
db
, 
STACK_OF
(
CONF_VALUE
è*
£ùiÚ
);

76 } 
	tX509V3_CONF_METHOD
;

79 
	sv3_ext_ùx
 {

80 
	#CTX_TEST
 0x1

	)

81 
	#X509V3_CTX_REPLACE
 0x2

	)

82 
æags
;

83 
X509
 *
issu”_û¹
;

84 
X509
 *
subjeù_û¹
;

85 
X509_REQ
 *
subjeù_»q
;

86 
X509_CRL
 *
ül
;

87 
X509V3_CONF_METHOD
 *
db_m‘h
;

88 *
db
;

92 
v3_ext_m‘hod
 
	tX509V3_EXT_METHOD
;

94 
DEFINE_STACK_OF
(
X509V3_EXT_METHOD
)

97 
	#X509V3_EXT_DYNAMIC
 0x1

	)

98 
	#X509V3_EXT_CTX_DEP
 0x2

	)

99 
	#X509V3_EXT_MULTILINE
 0x4

	)

101 
BIT_STRING_BITNAME
 
	tENUMERATED_NAMES
;

103 
	sBASIC_CONSTRAINTS_¡
 {

104 
ÿ
;

105 
ASN1_INTEGER
 *
·thËn
;

106 } 
	tBASIC_CONSTRAINTS
;

108 
	sPKEY_USAGE_PERIOD_¡
 {

109 
ASN1_GENERALIZEDTIME
 *
nÙBefÜe
;

110 
ASN1_GENERALIZEDTIME
 *
nÙAá”
;

111 } 
	tPKEY_USAGE_PERIOD
;

113 
	sÙh”Name_¡
 {

114 
ASN1_OBJECT
 *
ty³_id
;

115 
ASN1_TYPE
 *
v®ue
;

116 } 
	tOTHERNAME
;

118 
	sEDIP¬tyName_¡
 {

119 
ASN1_STRING
 *
ÇmeAssigÃr
;

120 
ASN1_STRING
 *
·¹yName
;

121 } 
	tEDIPARTYNAME
;

123 
	sGENERAL_NAME_¡
 {

124 
	#GEN_OTHERNAME
 0

	)

125 
	#GEN_EMAIL
 1

	)

126 
	#GEN_DNS
 2

	)

127 
	#GEN_X400
 3

	)

128 
	#GEN_DIRNAME
 4

	)

129 
	#GEN_EDIPARTY
 5

	)

130 
	#GEN_URI
 6

	)

131 
	#GEN_IPADD
 7

	)

132 
	#GEN_RID
 8

	)

133 
ty³
;

135 *
±r
;

136 
OTHERNAME
 *
Ùh”Name
;

137 
ASN1_IA5STRING
 *
rfc822Name
;

138 
ASN1_IA5STRING
 *
dNSName
;

139 
ASN1_TYPE
 *
x400Add»ss
;

140 
X509_NAME
 *
dœeùÜyName
;

141 
EDIPARTYNAME
 *
ediP¬tyName
;

142 
ASN1_IA5STRING
 *
unifÜmResourûId’tif›r
;

143 
ASN1_OCTET_STRING
 *
iPAdd»ss
;

144 
ASN1_OBJECT
 *
»gi¡”edID
;

146 
ASN1_OCTET_STRING
 *

;

147 
X509_NAME
 *
dœn
;

148 
ASN1_IA5STRING
 *
Ÿ5
;

150 
ASN1_OBJECT
 *
rid
;

151 
ASN1_TYPE
 *
Ùh”
;

152 } 
d
;

153 } 
	tGENERAL_NAME
;

155 
	sACCESS_DESCRIPTION_¡
 {

156 
ASN1_OBJECT
 *
m‘hod
;

157 
GENERAL_NAME
 *
loÿtiÚ
;

158 } 
	tACCESS_DESCRIPTION
;

160 
STACK_OF
(
	tACCESS_DESCRIPTION
è
	tAUTHORITY_INFO_ACCESS
;

162 
STACK_OF
(
	tASN1_OBJECT
è
	tEXTENDED_KEY_USAGE
;

164 
STACK_OF
(
	tASN1_INTEGER
è
	tTLS_FEATURE
;

166 
DEFINE_STACK_OF
(
GENERAL_NAME
)

167 
STACK_OF
(
	tGENERAL_NAME
è
	tGENERAL_NAMES
;

168 
DEFINE_STACK_OF
(
GENERAL_NAMES
)

170 
DEFINE_STACK_OF
(
ACCESS_DESCRIPTION
)

172 
	sDIST_POINT_NAME_¡
 {

173 
ty³
;

175 
GENERAL_NAMES
 *
fuÎÇme
;

176 
STACK_OF
(
X509_NAME_ENTRY
è*
»Ïtiv’ame
;

177 } 
Çme
;

179 
X509_NAME
 *
d²ame
;

180 } 
	tDIST_POINT_NAME
;

182 
	#CRLDP_ALL_REASONS
 0x807f

	)

184 
	#CRL_REASON_NONE
 -1

	)

185 
	#CRL_REASON_UNSPECIFIED
 0

	)

186 
	#CRL_REASON_KEY_COMPROMISE
 1

	)

187 
	#CRL_REASON_CA_COMPROMISE
 2

	)

188 
	#CRL_REASON_AFFILIATION_CHANGED
 3

	)

189 
	#CRL_REASON_SUPERSEDED
 4

	)

190 
	#CRL_REASON_CESSATION_OF_OPERATION
 5

	)

191 
	#CRL_REASON_CERTIFICATE_HOLD
 6

	)

192 
	#CRL_REASON_REMOVE_FROM_CRL
 8

	)

193 
	#CRL_REASON_PRIVILEGE_WITHDRAWN
 9

	)

194 
	#CRL_REASON_AA_COMPROMISE
 10

	)

196 
	sDIST_POINT_¡
 {

197 
DIST_POINT_NAME
 *
di¡pošt
;

198 
ASN1_BIT_STRING
 *
»asÚs
;

199 
GENERAL_NAMES
 *
CRLissu”
;

200 
dp_»asÚs
;

203 
STACK_OF
(
	tDIST_POINT
è
	tCRL_DIST_POINTS
;

205 
DEFINE_STACK_OF
(
DIST_POINT
)

207 
	sAUTHORITY_KEYID_¡
 {

208 
ASN1_OCTET_STRING
 *
keyid
;

209 
GENERAL_NAMES
 *
issu”
;

210 
ASN1_INTEGER
 *
£rŸl
;

215 
	sSXNET_ID_¡
 {

216 
ASN1_INTEGER
 *
zÚe
;

217 
ASN1_OCTET_STRING
 *
u£r
;

218 } 
	tSXNETID
;

220 
DEFINE_STACK_OF
(
SXNETID
)

222 
	sSXNET_¡
 {

223 
ASN1_INTEGER
 *
v”siÚ
;

224 
STACK_OF
(
SXNETID
è*
ids
;

225 } 
	tSXNET
;

227 
	sNOTICEREF_¡
 {

228 
ASN1_STRING
 *
Ügªiz©iÚ
;

229 
STACK_OF
(
ASN1_INTEGER
è*
nÙiûnos
;

230 } 
	tNOTICEREF
;

232 
	sUSERNOTICE_¡
 {

233 
NOTICEREF
 *
nÙiû»f
;

234 
ASN1_STRING
 *
ex±ext
;

235 } 
	tUSERNOTICE
;

237 
	sPOLICYQUALINFO_¡
 {

238 
ASN1_OBJECT
 *
pqu®id
;

240 
ASN1_IA5STRING
 *
ısuri
;

241 
USERNOTICE
 *
u£ºÙiû
;

242 
ASN1_TYPE
 *
Ùh”
;

243 } 
d
;

244 } 
	tPOLICYQUALINFO
;

246 
DEFINE_STACK_OF
(
POLICYQUALINFO
)

248 
	sPOLICYINFO_¡
 {

249 
ASN1_OBJECT
 *
pŞicyid
;

250 
STACK_OF
(
POLICYQUALINFO
è*
qu®if›rs
;

251 } 
	tPOLICYINFO
;

253 
STACK_OF
(
	tPOLICYINFO
è
	tCERTIFICATEPOLICIES
;

255 
DEFINE_STACK_OF
(
POLICYINFO
)

257 
	sPOLICY_MAPPING_¡
 {

258 
ASN1_OBJECT
 *
issu”DomašPŞicy
;

259 
ASN1_OBJECT
 *
subjeùDomašPŞicy
;

260 } 
	tPOLICY_MAPPING
;

262 
DEFINE_STACK_OF
(
POLICY_MAPPING
)

264 
STACK_OF
(
	tPOLICY_MAPPING
è
	tPOLICY_MAPPINGS
;

266 
	sGENERAL_SUBTREE_¡
 {

267 
GENERAL_NAME
 *
ba£
;

268 
ASN1_INTEGER
 *
mšimum
;

269 
ASN1_INTEGER
 *
maximum
;

270 } 
	tGENERAL_SUBTREE
;

272 
DEFINE_STACK_OF
(
GENERAL_SUBTREE
)

274 
	sNAME_CONSTRAINTS_¡
 {

275 
STACK_OF
(
GENERAL_SUBTREE
è*
³rm™‹dSubŒ“s
;

276 
STACK_OF
(
GENERAL_SUBTREE
è*
exşudedSubŒ“s
;

279 
	sPOLICY_CONSTRAINTS_¡
 {

280 
ASN1_INTEGER
 *
»quœeEx¶ic™PŞicy
;

281 
ASN1_INTEGER
 *
šhib™PŞicyM­pšg
;

282 } 
	tPOLICY_CONSTRAINTS
;

285 
	sPROXY_POLICY_¡
 {

286 
ASN1_OBJECT
 *
pŞicyLªguage
;

287 
ASN1_OCTET_STRING
 *
pŞicy
;

288 } 
	tPROXY_POLICY
;

290 
	sPROXY_CERT_INFO_EXTENSION_¡
 {

291 
ASN1_INTEGER
 *
pcP©hL’gthCÚ¡¿št
;

292 
PROXY_POLICY
 *
´oxyPŞicy
;

293 } 
	tPROXY_CERT_INFO_EXTENSION
;

295 
DECLARE_ASN1_FUNCTIONS
(
PROXY_POLICY
)

296 
DECLARE_ASN1_FUNCTIONS
(
PROXY_CERT_INFO_EXTENSION
)

298 
	sISSUING_DIST_POINT_¡
 {

299 
DIST_POINT_NAME
 *
di¡pošt
;

300 
Úlyu£r
;

301 
ÚlyCA
;

302 
ASN1_BIT_STRING
 *
Úlysom”—sÚs
;

303 
šdœeùCRL
;

304 
Úly©Œ
;

309 
	#IDP_PRESENT
 0x1

	)

311 
	#IDP_INVALID
 0x2

	)

313 
	#IDP_ONLYUSER
 0x4

	)

315 
	#IDP_ONLYCA
 0x8

	)

317 
	#IDP_ONLYATTR
 0x10

	)

319 
	#IDP_INDIRECT
 0x20

	)

321 
	#IDP_REASONS
 0x40

	)

323 
	#X509V3_cÚf_”r
(
v®
è
	`ERR_add_”rÜ_d©a
(6, \

324 "£ùiÚ:", (
v®
)->
£ùiÚ
, \

325 ",Çme:", (
v®
)->
Çme
, ",v®ue:", (v®)->
v®ue
)

	)

327 
	#X509V3_£t_ùx_‹¡
(
ùx
) \

328 
	`X509V3_£t_ùx
(
ùx
, 
NULL
, NULL, NULL, NULL, 
CTX_TEST
)

	)

329 
	#X509V3_£t_ùx_nodb
(
ùx
è(ùx)->
db
 = 
NULL
;

	)

331 
	#EXT_BITSTRING
(
nid
, 
bË
è{‚id, 0, 
	`ASN1_ITEM_»f
(
ASN1_BIT_STRING
), \

334 (
X509V3_EXT_I2V
)
i2v_ASN1_BIT_STRING
, \

335 (
X509V3_EXT_V2I
)
v2i_ASN1_BIT_STRING
, \

336 
NULL
, NULL, \

337 
bË
}

	)

339 
	#EXT_IA5STRING
(
nid
è{‚id, 0, 
	`ASN1_ITEM_»f
(
ASN1_IA5STRING
), \

341 (
X509V3_EXT_I2S
)
i2s_ASN1_IA5STRING
, \

342 (
X509V3_EXT_S2I
)
s2i_ASN1_IA5STRING
, \

344 
NULL
}

	)

346 
	#EXT_END
 { -1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0}

	)

350 
	#EXFLAG_BCONS
 0x1

	)

351 
	#EXFLAG_KUSAGE
 0x2

	)

352 
	#EXFLAG_XKUSAGE
 0x4

	)

353 
	#EXFLAG_NSCERT
 0x8

	)

355 
	#EXFLAG_CA
 0x10

	)

357 
	#EXFLAG_SI
 0x20

	)

358 
	#EXFLAG_V1
 0x40

	)

359 
	#EXFLAG_INVALID
 0x80

	)

361 
	#EXFLAG_SET
 0x100

	)

362 
	#EXFLAG_CRITICAL
 0x200

	)

363 
	#EXFLAG_PROXY
 0x400

	)

365 
	#EXFLAG_INVALID_POLICY
 0x800

	)

366 
	#EXFLAG_FRESHEST
 0x1000

	)

368 
	#EXFLAG_SS
 0x2000

	)

370 
	#KU_DIGITAL_SIGNATURE
 0x0080

	)

371 
	#KU_NON_REPUDIATION
 0x0040

	)

372 
	#KU_KEY_ENCIPHERMENT
 0x0020

	)

373 
	#KU_DATA_ENCIPHERMENT
 0x0010

	)

374 
	#KU_KEY_AGREEMENT
 0x0008

	)

375 
	#KU_KEY_CERT_SIGN
 0x0004

	)

376 
	#KU_CRL_SIGN
 0x0002

	)

377 
	#KU_ENCIPHER_ONLY
 0x0001

	)

378 
	#KU_DECIPHER_ONLY
 0x8000

	)

380 
	#NS_SSL_CLIENT
 0x80

	)

381 
	#NS_SSL_SERVER
 0x40

	)

382 
	#NS_SMIME
 0x20

	)

383 
	#NS_OBJSIGN
 0x10

	)

384 
	#NS_SSL_CA
 0x04

	)

385 
	#NS_SMIME_CA
 0x02

	)

386 
	#NS_OBJSIGN_CA
 0x01

	)

387 
	#NS_ANY_CA
 (
NS_SSL_CA
|
NS_SMIME_CA
|
NS_OBJSIGN_CA
)

	)

389 
	#XKU_SSL_SERVER
 0x1

	)

390 
	#XKU_SSL_CLIENT
 0x2

	)

391 
	#XKU_SMIME
 0x4

	)

392 
	#XKU_CODE_SIGN
 0x8

	)

393 
	#XKU_SGC
 0x10

	)

394 
	#XKU_OCSP_SIGN
 0x20

	)

395 
	#XKU_TIMESTAMP
 0x40

	)

396 
	#XKU_DVCS
 0x80

	)

397 
	#XKU_ANYEKU
 0x100

	)

399 
	#X509_PURPOSE_DYNAMIC
 0x1

	)

400 
	#X509_PURPOSE_DYNAMIC_NAME
 0x2

	)

402 
	sx509_pu½o£_¡
 {

403 
pu½o£
;

404 
Œu¡
;

405 
æags
;

406 (*
check_pu½o£
è(cÚ¡ 
x509_pu½o£_¡
 *, cÚ¡ 
X509
 *, );

407 *
Çme
;

408 *
¢ame
;

409 *
u¤_d©a
;

410 } 
	tX509_PURPOSE
;

412 
	#X509_PURPOSE_SSL_CLIENT
 1

	)

413 
	#X509_PURPOSE_SSL_SERVER
 2

	)

414 
	#X509_PURPOSE_NS_SSL_SERVER
 3

	)

415 
	#X509_PURPOSE_SMIME_SIGN
 4

	)

416 
	#X509_PURPOSE_SMIME_ENCRYPT
 5

	)

417 
	#X509_PURPOSE_CRL_SIGN
 6

	)

418 
	#X509_PURPOSE_ANY
 7

	)

419 
	#X509_PURPOSE_OCSP_HELPER
 8

	)

420 
	#X509_PURPOSE_TIMESTAMP_SIGN
 9

	)

422 
	#X509_PURPOSE_MIN
 1

	)

423 
	#X509_PURPOSE_MAX
 9

	)

427 
	#X509V3_EXT_UNKNOWN_MASK
 (0xfL << 16)

	)

429 
	#X509V3_EXT_DEFAULT
 0

	)

431 
	#X509V3_EXT_ERROR_UNKNOWN
 (1L << 16)

	)

433 
	#X509V3_EXT_PARSE_UNKNOWN
 (2L << 16)

	)

435 
	#X509V3_EXT_DUMP_UNKNOWN
 (3L << 16)

	)

439 
	#X509V3_ADD_OP_MASK
 0xfL

	)

440 
	#X509V3_ADD_DEFAULT
 0L

	)

441 
	#X509V3_ADD_APPEND
 1L

	)

442 
	#X509V3_ADD_REPLACE
 2L

	)

443 
	#X509V3_ADD_REPLACE_EXISTING
 3L

	)

444 
	#X509V3_ADD_KEEP_EXISTING
 4L

	)

445 
	#X509V3_ADD_DELETE
 5L

	)

446 
	#X509V3_ADD_SILENT
 0x10

	)

448 
DEFINE_STACK_OF
(
X509_PURPOSE
)

450 
DECLARE_ASN1_FUNCTIONS
(
BASIC_CONSTRAINTS
)

452 
DECLARE_ASN1_FUNCTIONS
(
SXNET
)

453 
DECLARE_ASN1_FUNCTIONS
(
SXNETID
)

455 
SXNET_add_id_asc
(
SXNET
 **
psx
, cÚ¡ *
zÚe
, cÚ¡ *
u£r
, 
u£¾’
);

456 
SXNET_add_id_ulÚg
(
SXNET
 **
psx
, 
lzÚe
, cÚ¡ *
u£r
,

457 
u£¾’
);

458 
SXNET_add_id_INTEGER
(
SXNET
 **
psx
, 
ASN1_INTEGER
 *
izÚe
, cÚ¡ *
u£r
,

459 
u£¾’
);

461 
ASN1_OCTET_STRING
 *
SXNET_g‘_id_asc
(
SXNET
 *
sx
, cÚ¡ *
zÚe
);

462 
ASN1_OCTET_STRING
 *
SXNET_g‘_id_ulÚg
(
SXNET
 *
sx
, 
lzÚe
);

463 
ASN1_OCTET_STRING
 *
SXNET_g‘_id_INTEGER
(
SXNET
 *
sx
, 
ASN1_INTEGER
 *
zÚe
);

465 
DECLARE_ASN1_FUNCTIONS
(
AUTHORITY_KEYID
)

467 
DECLARE_ASN1_FUNCTIONS
(
PKEY_USAGE_PERIOD
)

469 
DECLARE_ASN1_FUNCTIONS
(
GENERAL_NAME
)

470 
GENERAL_NAME
 *
GENERAL_NAME_dup
(GENERAL_NAME *
a
);

471 
GENERAL_NAME_cmp
(
GENERAL_NAME
 *
a
, GENERAL_NAME *
b
);

473 
ASN1_BIT_STRING
 *
v2i_ASN1_BIT_STRING
(
X509V3_EXT_METHOD
 *
m‘hod
,

474 
X509V3_CTX
 *
ùx
,

475 
STACK_OF
(
CONF_VALUE
è*
nv®
);

476 
STACK_OF
(
CONF_VALUE
è*
i2v_ASN1_BIT_STRING
(
X509V3_EXT_METHOD
 *
m‘hod
,

477 
ASN1_BIT_STRING
 *
b™s
,

478 
STACK_OF
(
CONF_VALUE
è*
exi¡
);

479 *
i2s_ASN1_IA5STRING
(
X509V3_EXT_METHOD
 *
m‘hod
, 
ASN1_IA5STRING
 *
Ÿ5
);

480 
ASN1_IA5STRING
 *
s2i_ASN1_IA5STRING
(
X509V3_EXT_METHOD
 *
m‘hod
,

481 
X509V3_CTX
 *
ùx
, cÚ¡ *
¡r
);

483 
STACK_OF
(
CONF_VALUE
è*
i2v_GENERAL_NAME
(
X509V3_EXT_METHOD
 *
m‘hod
,

484 
GENERAL_NAME
 *
g’
,

485 
STACK_OF
(
CONF_VALUE
è*
»t
);

486 
GENERAL_NAME_´št
(
BIO
 *
out
, 
GENERAL_NAME
 *
g’
);

488 
DECLARE_ASN1_FUNCTIONS
(
GENERAL_NAMES
)

490 
STACK_OF
(
CONF_VALUE
è*
i2v_GENERAL_NAMES
(
X509V3_EXT_METHOD
 *
m‘hod
,

491 
GENERAL_NAMES
 *
g’
,

492 
STACK_OF
(
CONF_VALUE
è*
exi¡
);

493 
GENERAL_NAMES
 *
v2i_GENERAL_NAMES
(cÚ¡ 
X509V3_EXT_METHOD
 *
m‘hod
,

494 
X509V3_CTX
 *
ùx
, 
STACK_OF
(
CONF_VALUE
è*
nv®
);

496 
DECLARE_ASN1_FUNCTIONS
(
OTHERNAME
)

497 
DECLARE_ASN1_FUNCTIONS
(
EDIPARTYNAME
)

498 
OTHERNAME_cmp
(
OTHERNAME
 *
a
, OTHERNAME *
b
);

499 
GENERAL_NAME_£t0_v®ue
(
GENERAL_NAME
 *
a
, 
ty³
, *
v®ue
);

500 *
GENERAL_NAME_g‘0_v®ue
(
GENERAL_NAME
 *
a
, *
±y³
);

501 
GENERAL_NAME_£t0_Ùh”Çme
(
GENERAL_NAME
 *
g’
,

502 
ASN1_OBJECT
 *
oid
, 
ASN1_TYPE
 *
v®ue
);

503 
GENERAL_NAME_g‘0_Ùh”Name
(
GENERAL_NAME
 *
g’
,

504 
ASN1_OBJECT
 **
poid
, 
ASN1_TYPE
 **
pv®ue
);

506 *
i2s_ASN1_OCTET_STRING
(
X509V3_EXT_METHOD
 *
m‘hod
,

507 cÚ¡ 
ASN1_OCTET_STRING
 *
Ÿ5
);

508 
ASN1_OCTET_STRING
 *
s2i_ASN1_OCTET_STRING
(
X509V3_EXT_METHOD
 *
m‘hod
,

509 
X509V3_CTX
 *
ùx
, cÚ¡ *
¡r
);

511 
DECLARE_ASN1_FUNCTIONS
(
EXTENDED_KEY_USAGE
)

512 
i2a_ACCESS_DESCRIPTION
(
BIO
 *
bp
, cÚ¡ 
ACCESS_DESCRIPTION
 *
a
);

514 
DECLARE_ASN1_ALLOC_FUNCTIONS
(
TLS_FEATURE
)

516 
DECLARE_ASN1_FUNCTIONS
(
CERTIFICATEPOLICIES
)

517 
DECLARE_ASN1_FUNCTIONS
(
POLICYINFO
)

518 
DECLARE_ASN1_FUNCTIONS
(
POLICYQUALINFO
)

519 
DECLARE_ASN1_FUNCTIONS
(
USERNOTICE
)

520 
DECLARE_ASN1_FUNCTIONS
(
NOTICEREF
)

522 
DECLARE_ASN1_FUNCTIONS
(
CRL_DIST_POINTS
)

523 
DECLARE_ASN1_FUNCTIONS
(
DIST_POINT
)

524 
DECLARE_ASN1_FUNCTIONS
(
DIST_POINT_NAME
)

525 
DECLARE_ASN1_FUNCTIONS
(
ISSUING_DIST_POINT
)

527 
DIST_POINT_£t_d²ame
(
DIST_POINT_NAME
 *
d²
, 
X509_NAME
 *
šame
);

529 
NAME_CONSTRAINTS_check
(
X509
 *
x
, 
NAME_CONSTRAINTS
 *
nc
);

530 
NAME_CONSTRAINTS_check_CN
(
X509
 *
x
, 
NAME_CONSTRAINTS
 *
nc
);

532 
DECLARE_ASN1_FUNCTIONS
(
ACCESS_DESCRIPTION
)

533 
DECLARE_ASN1_FUNCTIONS
(
AUTHORITY_INFO_ACCESS
)

535 
DECLARE_ASN1_ITEM
(
POLICY_MAPPING
)

536 
DECLARE_ASN1_ALLOC_FUNCTIONS
(
POLICY_MAPPING
)

537 
DECLARE_ASN1_ITEM
(
POLICY_MAPPINGS
)

539 
DECLARE_ASN1_ITEM
(
GENERAL_SUBTREE
)

540 
DECLARE_ASN1_ALLOC_FUNCTIONS
(
GENERAL_SUBTREE
)

542 
DECLARE_ASN1_ITEM
(
NAME_CONSTRAINTS
)

543 
DECLARE_ASN1_ALLOC_FUNCTIONS
(
NAME_CONSTRAINTS
)

545 
DECLARE_ASN1_ALLOC_FUNCTIONS
(
POLICY_CONSTRAINTS
)

546 
DECLARE_ASN1_ITEM
(
POLICY_CONSTRAINTS
)

548 
GENERAL_NAME
 *
a2i_GENERAL_NAME
(GENERAL_NAME *
out
,

549 cÚ¡ 
X509V3_EXT_METHOD
 *
m‘hod
,

550 
X509V3_CTX
 *
ùx
, 
g’_ty³
,

551 cÚ¡ *
v®ue
, 
is_nc
);

553 #ifdeà
HEADER_CONF_H


554 
GENERAL_NAME
 *
v2i_GENERAL_NAME
(cÚ¡ 
X509V3_EXT_METHOD
 *
m‘hod
,

555 
X509V3_CTX
 *
ùx
, 
CONF_VALUE
 *
úf
);

556 
GENERAL_NAME
 *
v2i_GENERAL_NAME_ex
(GENERAL_NAME *
out
,

557 cÚ¡ 
X509V3_EXT_METHOD
 *
m‘hod
,

558 
X509V3_CTX
 *
ùx
, 
CONF_VALUE
 *
úf
,

559 
is_nc
);

560 
X509V3_cÚf_ä“
(
CONF_VALUE
 *
v®
);

562 
X509_EXTENSION
 *
X509V3_EXT_ncÚf_nid
(
CONF
 *
cÚf
, 
X509V3_CTX
 *
ùx
, 
ext_nid
,

563 cÚ¡ *
v®ue
);

564 
X509_EXTENSION
 *
X509V3_EXT_ncÚf
(
CONF
 *
cÚf
, 
X509V3_CTX
 *
ùx
, cÚ¡ *
Çme
,

565 cÚ¡ *
v®ue
);

566 
X509V3_EXT_add_ncÚf_sk
(
CONF
 *
cÚf
, 
X509V3_CTX
 *
ùx
, cÚ¡ *
£ùiÚ
,

567 
STACK_OF
(
X509_EXTENSION
è**
sk
);

568 
X509V3_EXT_add_ncÚf
(
CONF
 *
cÚf
, 
X509V3_CTX
 *
ùx
, cÚ¡ *
£ùiÚ
,

569 
X509
 *
û¹
);

570 
X509V3_EXT_REQ_add_ncÚf
(
CONF
 *
cÚf
, 
X509V3_CTX
 *
ùx
, cÚ¡ *
£ùiÚ
,

571 
X509_REQ
 *
»q
);

572 
X509V3_EXT_CRL_add_ncÚf
(
CONF
 *
cÚf
, 
X509V3_CTX
 *
ùx
, cÚ¡ *
£ùiÚ
,

573 
X509_CRL
 *
ül
);

575 
X509_EXTENSION
 *
X509V3_EXT_cÚf_nid
(
LHASH_OF
(
CONF_VALUE
è*
cÚf
,

576 
X509V3_CTX
 *
ùx
, 
ext_nid
,

577 cÚ¡ *
v®ue
);

578 
X509_EXTENSION
 *
X509V3_EXT_cÚf
(
LHASH_OF
(
CONF_VALUE
è*
cÚf
, 
X509V3_CTX
 *
ùx
,

579 cÚ¡ *
Çme
, cÚ¡ *
v®ue
);

580 
X509V3_EXT_add_cÚf
(
LHASH_OF
(
CONF_VALUE
è*
cÚf
, 
X509V3_CTX
 *
ùx
,

581 cÚ¡ *
£ùiÚ
, 
X509
 *
û¹
);

582 
X509V3_EXT_REQ_add_cÚf
(
LHASH_OF
(
CONF_VALUE
è*
cÚf
, 
X509V3_CTX
 *
ùx
,

583 cÚ¡ *
£ùiÚ
, 
X509_REQ
 *
»q
);

584 
X509V3_EXT_CRL_add_cÚf
(
LHASH_OF
(
CONF_VALUE
è*
cÚf
, 
X509V3_CTX
 *
ùx
,

585 cÚ¡ *
£ùiÚ
, 
X509_CRL
 *
ül
);

587 
X509V3_add_v®ue_boŞ_nf
(cÚ¡ *
Çme
, 
a¢1_boŞ
,

588 
STACK_OF
(
CONF_VALUE
è**
exi¡
);

589 
X509V3_g‘_v®ue_boŞ
(cÚ¡ 
CONF_VALUE
 *
v®ue
, *
a¢1_boŞ
);

590 
X509V3_g‘_v®ue_št
(cÚ¡ 
CONF_VALUE
 *
v®ue
, 
ASN1_INTEGER
 **
ašt
);

591 
X509V3_£t_ncÚf
(
X509V3_CTX
 *
ùx
, 
CONF
 *
cÚf
);

592 
X509V3_£t_cÚf_lhash
(
X509V3_CTX
 *
ùx
, 
LHASH_OF
(
CONF_VALUE
è*
lhash
);

595 *
X509V3_g‘_¡ršg
(
X509V3_CTX
 *
ùx
, cÚ¡ *
Çme
, cÚ¡ *
£ùiÚ
);

596 
STACK_OF
(
CONF_VALUE
è*
X509V3_g‘_£ùiÚ
(
X509V3_CTX
 *
ùx
, cÚ¡ *
£ùiÚ
);

597 
X509V3_¡ršg_ä“
(
X509V3_CTX
 *
ùx
, *
¡r
);

598 
X509V3_£ùiÚ_ä“
(
X509V3_CTX
 *
ùx
, 
STACK_OF
(
CONF_VALUE
è*
£ùiÚ
);

599 
X509V3_£t_ùx
(
X509V3_CTX
 *
ùx
, 
X509
 *
issu”
, X509 *
subjeù
,

600 
X509_REQ
 *
»q
, 
X509_CRL
 *
ül
, 
æags
);

602 
X509V3_add_v®ue
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

603 
STACK_OF
(
CONF_VALUE
è**
exi¡
);

604 
X509V3_add_v®ue_uch¬
(cÚ¡ *
Çme
, cÚ¡ *
v®ue
,

605 
STACK_OF
(
CONF_VALUE
è**
exi¡
);

606 
X509V3_add_v®ue_boŞ
(cÚ¡ *
Çme
, 
a¢1_boŞ
,

607 
STACK_OF
(
CONF_VALUE
è**
exi¡
);

608 
X509V3_add_v®ue_št
(cÚ¡ *
Çme
, cÚ¡ 
ASN1_INTEGER
 *
ašt
,

609 
STACK_OF
(
CONF_VALUE
è**
exi¡
);

610 *
i2s_ASN1_INTEGER
(
X509V3_EXT_METHOD
 *
m‘h
, cÚ¡ 
ASN1_INTEGER
 *
ašt
);

611 
ASN1_INTEGER
 *
s2i_ASN1_INTEGER
(
X509V3_EXT_METHOD
 *
m‘h
, cÚ¡ *
v®ue
);

612 *
i2s_ASN1_ENUMERATED
(
X509V3_EXT_METHOD
 *
m‘h
, cÚ¡ 
ASN1_ENUMERATED
 *
ašt
);

613 *
i2s_ASN1_ENUMERATED_TABLE
(
X509V3_EXT_METHOD
 *
m‘h
,

614 cÚ¡ 
ASN1_ENUMERATED
 *
ašt
);

615 
X509V3_EXT_add
(
X509V3_EXT_METHOD
 *
ext
);

616 
X509V3_EXT_add_li¡
(
X509V3_EXT_METHOD
 *
exi¡
);

617 
X509V3_EXT_add_®Ÿs
(
nid_to
, 
nid_äom
);

618 
X509V3_EXT_ş—nup
();

620 cÚ¡ 
X509V3_EXT_METHOD
 *
X509V3_EXT_g‘
(
X509_EXTENSION
 *
ext
);

621 cÚ¡ 
X509V3_EXT_METHOD
 *
X509V3_EXT_g‘_nid
(
nid
);

622 
X509V3_add_¡ªd¬d_ex‹nsiÚs
();

623 
STACK_OF
(
CONF_VALUE
è*
X509V3_·r£_li¡
(cÚ¡ *
lše
);

624 *
X509V3_EXT_d2i
(
X509_EXTENSION
 *
ext
);

625 *
X509V3_g‘_d2i
(cÚ¡ 
STACK_OF
(
X509_EXTENSION
è*
x
, 
nid
, *
ü™
,

626 *
idx
);

628 
X509_EXTENSION
 *
X509V3_EXT_i2d
(
ext_nid
, 
ü™
, *
ext_¡ruc
);

629 
X509V3_add1_i2d
(
STACK_OF
(
X509_EXTENSION
è**
x
, 
nid
, *
v®ue
,

630 
ü™
, 
æags
);

632 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

634 
	#hex_to_¡ršg
 
OPENSSL_buf2hex¡r


	)

635 
	#¡ršg_to_hex
 
OPENSSL_hex¡r2buf


	)

638 
X509V3_EXT_v®_´n
(
BIO
 *
out
, 
STACK_OF
(
CONF_VALUE
è*
v®
, 
šd’t
,

639 
ml
);

640 
X509V3_EXT_´št
(
BIO
 *
out
, 
X509_EXTENSION
 *
ext
, 
æag
,

641 
šd’t
);

642 #iâdeà
OPENSSL_NO_STDIO


643 
X509V3_EXT_´št_å
(
FILE
 *
out
, 
X509_EXTENSION
 *
ext
, 
æag
, 
šd’t
);

645 
X509V3_ex‹nsiÚs_´št
(
BIO
 *
out
, cÚ¡ *
t™Ë
,

646 cÚ¡ 
STACK_OF
(
X509_EXTENSION
è*
exts
,

647 
æag
, 
šd’t
);

649 
X509_check_ÿ
(
X509
 *
x
);

650 
X509_check_pu½o£
(
X509
 *
x
, 
id
, 
ÿ
);

651 
X509_suµÜ‹d_ex‹nsiÚ
(
X509_EXTENSION
 *
ex
);

652 
X509_PURPOSE_£t
(*
p
, 
pu½o£
);

653 
X509_check_issued
(
X509
 *
issu”
, X509 *
subjeù
);

654 
X509_check_akid
(
X509
 *
issu”
, 
AUTHORITY_KEYID
 *
akid
);

655 
X509_£t_´oxy_æag
(
X509
 *
x
);

656 
X509_£t_´oxy_·thËn
(
X509
 *
x
, 
l
);

657 
X509_g‘_´oxy_·thËn
(
X509
 *
x
);

659 
ušt32_t
 
X509_g‘_ex‹nsiÚ_æags
(
X509
 *
x
);

660 
ušt32_t
 
X509_g‘_key_u§ge
(
X509
 *
x
);

661 
ušt32_t
 
X509_g‘_ex‹nded_key_u§ge
(
X509
 *
x
);

662 cÚ¡ 
ASN1_OCTET_STRING
 *
X509_g‘0_subjeù_key_id
(
X509
 *
x
);

663 cÚ¡ 
ASN1_OCTET_STRING
 *
X509_g‘0_authÜ™y_key_id
(
X509
 *
x
);

665 
X509_PURPOSE_g‘_couÁ
();

666 
X509_PURPOSE
 *
X509_PURPOSE_g‘0
(
idx
);

667 
X509_PURPOSE_g‘_by_¢ame
(cÚ¡ *
¢ame
);

668 
X509_PURPOSE_g‘_by_id
(
id
);

669 
X509_PURPOSE_add
(
id
, 
Œu¡
, 
æags
,

670 (*
ck
è(cÚ¡ 
X509_PURPOSE
 *, cÚ¡ 
X509
 *, ),

671 cÚ¡ *
Çme
, cÚ¡ *
¢ame
, *
¬g
);

672 *
X509_PURPOSE_g‘0_Çme
(cÚ¡ 
X509_PURPOSE
 *
xp
);

673 *
X509_PURPOSE_g‘0_¢ame
(cÚ¡ 
X509_PURPOSE
 *
xp
);

674 
X509_PURPOSE_g‘_Œu¡
(cÚ¡ 
X509_PURPOSE
 *
xp
);

675 
X509_PURPOSE_ş—nup
();

676 
X509_PURPOSE_g‘_id
(cÚ¡ 
X509_PURPOSE
 *);

678 
STACK_OF
(
OPENSSL_STRING
è*
X509_g‘1_ema
(
X509
 *
x
);

679 
STACK_OF
(
OPENSSL_STRING
è*
X509_REQ_g‘1_ema
(
X509_REQ
 *
x
);

680 
X509_ema_ä“
(
STACK_OF
(
OPENSSL_STRING
è*
sk
);

681 
STACK_OF
(
OPENSSL_STRING
è*
X509_g‘1_oc¥
(
X509
 *
x
);

687 
	#X509_CHECK_FLAG_ALWAYS_CHECK_SUBJECT
 0x1

	)

689 
	#X509_CHECK_FLAG_NO_WILDCARDS
 0x2

	)

691 
	#X509_CHECK_FLAG_NO_PARTIAL_WILDCARDS
 0x4

	)

693 
	#X509_CHECK_FLAG_MULTI_LABEL_WILDCARDS
 0x8

	)

695 
	#X509_CHECK_FLAG_SINGLE_LABEL_SUBDOMAINS
 0x10

	)

697 
	#X509_CHECK_FLAG_NEVER_CHECK_SUBJECT
 0x20

	)

703 
	#_X509_CHECK_FLAG_DOT_SUBDOMAINS
 0x8000

	)

705 
X509_check_ho¡
(
X509
 *
x
, cÚ¡ *
chk
, 
size_t
 
chkËn
,

706 
æags
, **
³”Çme
);

707 
X509_check_ema
(
X509
 *
x
, cÚ¡ *
chk
, 
size_t
 
chkËn
,

708 
æags
);

709 
X509_check_
(
X509
 *
x
, cÚ¡ *
chk
, 
size_t
 
chkËn
,

710 
æags
);

711 
X509_check__asc
(
X509
 *
x
, cÚ¡ *
asc
, 
æags
);

713 
ASN1_OCTET_STRING
 *
a2i_IPADDRESS
(cÚ¡ *
asc
);

714 
ASN1_OCTET_STRING
 *
a2i_IPADDRESS_NC
(cÚ¡ *
asc
);

715 
X509V3_NAME_äom_£ùiÚ
(
X509_NAME
 *
nm
, 
STACK_OF
(
CONF_VALUE
è*
dn_sk
,

716 
chty³
);

718 
X509_POLICY_NODE_´št
(
BIO
 *
out
, 
X509_POLICY_NODE
 *
node
, 
šd’t
);

719 
DEFINE_STACK_OF
(
X509_POLICY_NODE
)

721 #iâdeà
OPENSSL_NO_RFC3779


722 
	sASRªge_¡
 {

723 
ASN1_INTEGER
 *
mš
, *
max
;

724 } 
	tASRªge
;

726 
	#ASIdOrRªge_id
 0

	)

727 
	#ASIdOrRªge_¿nge
 1

	)

729 
	sASIdOrRªge_¡
 {

730 
ty³
;

732 
ASN1_INTEGER
 *
id
;

733 
ASRªge
 *
¿nge
;

734 } 
u
;

735 } 
	tASIdOrRªge
;

737 
STACK_OF
(
	tASIdOrRªge
è
	tASIdOrRªges
;

738 
DEFINE_STACK_OF
(
ASIdOrRªge
)

740 
	#ASId’tif›rChoiû_šh”™
 0

	)

741 
	#ASId’tif›rChoiû_asIdsOrRªges
 1

	)

743 
	sASId’tif›rChoiû_¡
 {

744 
ty³
;

746 
ASN1_NULL
 *
šh”™
;

747 
ASIdOrRªges
 *
asIdsOrRªges
;

748 } 
u
;

749 } 
	tASId’tif›rChoiû
;

751 
	sASId’tif›rs_¡
 {

752 
ASId’tif›rChoiû
 *
a¢um
, *
rdi
;

753 } 
	tASId’tif›rs
;

755 
DECLARE_ASN1_FUNCTIONS
(
ASRªge
)

756 
DECLARE_ASN1_FUNCTIONS
(
ASIdOrRªge
)

757 
DECLARE_ASN1_FUNCTIONS
(
ASId’tif›rChoiû
)

758 
DECLARE_ASN1_FUNCTIONS
(
ASId’tif›rs
)

760 
	sIPAdd»ssRªge_¡
 {

761 
ASN1_BIT_STRING
 *
mš
, *
max
;

762 } 
	tIPAdd»ssRªge
;

764 
	#IPAdd»ssOrRªge_add»ssP»fix
 0

	)

765 
	#IPAdd»ssOrRªge_add»ssRªge
 1

	)

767 
	sIPAdd»ssOrRªge_¡
 {

768 
ty³
;

770 
ASN1_BIT_STRING
 *
add»ssP»fix
;

771 
IPAdd»ssRªge
 *
add»ssRªge
;

772 } 
u
;

773 } 
	tIPAdd»ssOrRªge
;

775 
STACK_OF
(
	tIPAdd»ssOrRªge
è
	tIPAdd»ssOrRªges
;

776 
DEFINE_STACK_OF
(
IPAdd»ssOrRªge
)

778 
	#IPAdd»ssChoiû_šh”™
 0

	)

779 
	#IPAdd»ssChoiû_add»s£sOrRªges
 1

	)

781 
	sIPAdd»ssChoiû_¡
 {

782 
ty³
;

784 
ASN1_NULL
 *
šh”™
;

785 
IPAdd»ssOrRªges
 *
add»s£sOrRªges
;

786 } 
u
;

787 } 
	tIPAdd»ssChoiû
;

789 
	sIPAdd»ssFamy_¡
 {

790 
ASN1_OCTET_STRING
 *
add»ssFamy
;

791 
IPAdd»ssChoiû
 *
Add»ssChoiû
;

792 } 
	tIPAdd»ssFamy
;

794 
STACK_OF
(
	tIPAdd»ssFamy
è
	tIPAddrBlocks
;

795 
DEFINE_STACK_OF
(
IPAdd»ssFamy
)

797 
DECLARE_ASN1_FUNCTIONS
(
IPAdd»ssRªge
)

798 
DECLARE_ASN1_FUNCTIONS
(
IPAdd»ssOrRªge
)

799 
DECLARE_ASN1_FUNCTIONS
(
IPAdd»ssChoiû
)

800 
DECLARE_ASN1_FUNCTIONS
(
IPAdd»ssFamy
)

805 
	#V3_ASID_ASNUM
 0

	)

806 
	#V3_ASID_RDI
 1

	)

814 
	#IANA_AFI_IPV4
 1

	)

815 
	#IANA_AFI_IPV6
 2

	)

822 
X509v3_asid_add_šh”™
(
ASId’tif›rs
 *
asid
, 
which
);

823 
X509v3_asid_add_id_Ü_¿nge
(
ASId’tif›rs
 *
asid
, 
which
,

824 
ASN1_INTEGER
 *
mš
, ASN1_INTEGER *
max
);

825 
X509v3_addr_add_šh”™
(
IPAddrBlocks
 *
addr
,

826 cÚ¡ 
afi
, cÚ¡ *
§fi
);

827 
X509v3_addr_add_´efix
(
IPAddrBlocks
 *
addr
,

828 cÚ¡ 
afi
, cÚ¡ *
§fi
,

829 *
a
, cÚ¡ 
´efixËn
);

830 
X509v3_addr_add_¿nge
(
IPAddrBlocks
 *
addr
,

831 cÚ¡ 
afi
, cÚ¡ *
§fi
,

832 *
mš
, *
max
);

833 
X509v3_addr_g‘_afi
(cÚ¡ 
IPAdd»ssFamy
 *
f
);

834 
X509v3_addr_g‘_¿nge
(
IPAdd»ssOrRªge
 *
aÜ
, cÚ¡ 
afi
,

835 *
mš
, *
max
,

836 cÚ¡ 
Ëngth
);

841 
X509v3_asid_is_ÿnÚiÿl
(
ASId’tif›rs
 *
asid
);

842 
X509v3_addr_is_ÿnÚiÿl
(
IPAddrBlocks
 *
addr
);

843 
X509v3_asid_ÿnÚize
(
ASId’tif›rs
 *
asid
);

844 
X509v3_addr_ÿnÚize
(
IPAddrBlocks
 *
addr
);

849 
X509v3_asid_šh”™s
(
ASId’tif›rs
 *
asid
);

850 
X509v3_addr_šh”™s
(
IPAddrBlocks
 *
addr
);

851 
X509v3_asid_sub£t
(
ASId’tif›rs
 *
a
, ASId’tif›r *
b
);

852 
X509v3_addr_sub£t
(
IPAddrBlocks
 *
a
, IPAddrBlock *
b
);

857 
X509v3_asid_v®id©e_·th
(
X509_STORE_CTX
 *);

858 
X509v3_addr_v®id©e_·th
(
X509_STORE_CTX
 *);

859 
X509v3_asid_v®id©e_»sourû_£t
(
STACK_OF
(
X509
è*
chaš
,

860 
ASId’tif›rs
 *
ext
,

861 
®low_šh”™ªû
);

862 
X509v3_addr_v®id©e_»sourû_£t
(
STACK_OF
(
X509
è*
chaš
,

863 
IPAddrBlocks
 *
ext
, 
®low_šh”™ªû
);

867 
DEFINE_STACK_OF
(
ASN1_STRING
)

872 
NamšgAuthÜ™y_¡
 
	tNAMING_AUTHORITY
;

873 
ProãssiÚInfo_¡
 
	tPROFESSION_INFO
;

874 
AdmissiÚs_¡
 
	tADMISSIONS
;

875 
AdmissiÚSyÁax_¡
 
	tADMISSION_SYNTAX
;

876 
DECLARE_ASN1_FUNCTIONS
(
NAMING_AUTHORITY
)

877 
DECLARE_ASN1_FUNCTIONS
(
PROFESSION_INFO
)

878 
DECLARE_ASN1_FUNCTIONS
(
ADMISSIONS
)

879 
DECLARE_ASN1_FUNCTIONS
(
ADMISSION_SYNTAX
)

880 
DEFINE_STACK_OF
(
ADMISSIONS
)

881 
DEFINE_STACK_OF
(
PROFESSION_INFO
)

882 
STACK_OF
(
	tPROFESSION_INFO
è
	tPROFESSION_INFOS
;

884 cÚ¡ 
ASN1_OBJECT
 *
NAMING_AUTHORITY_g‘0_authÜ™yId
(

885 cÚ¡ 
NAMING_AUTHORITY
 *
n
);

886 cÚ¡ 
ASN1_IA5STRING
 *
NAMING_AUTHORITY_g‘0_authÜ™yURL
(

887 cÚ¡ 
NAMING_AUTHORITY
 *
n
);

888 cÚ¡ 
ASN1_STRING
 *
NAMING_AUTHORITY_g‘0_authÜ™yText
(

889 cÚ¡ 
NAMING_AUTHORITY
 *
n
);

890 
NAMING_AUTHORITY_£t0_authÜ™yId
(
NAMING_AUTHORITY
 *
n
,

891 
ASN1_OBJECT
* 
ÇmšgAuthÜ™yId
);

892 
NAMING_AUTHORITY_£t0_authÜ™yURL
(
NAMING_AUTHORITY
 *
n
,

893 
ASN1_IA5STRING
* 
ÇmšgAuthÜ™yU¾
);

894 
NAMING_AUTHORITY_£t0_authÜ™yText
(
NAMING_AUTHORITY
 *
n
,

895 
ASN1_STRING
* 
ÇmšgAuthÜ™yText
);

897 cÚ¡ 
GENERAL_NAME
 *
ADMISSION_SYNTAX_g‘0_admissiÚAuthÜ™y
(

898 cÚ¡ 
ADMISSION_SYNTAX
 *
as
);

899 
ADMISSION_SYNTAX_£t0_admissiÚAuthÜ™y
(

900 
ADMISSION_SYNTAX
 *
as
, 
GENERAL_NAME
 *
¯
);

901 cÚ¡ 
STACK_OF
(
ADMISSIONS
è*
ADMISSION_SYNTAX_g‘0_cÚ‹ÁsOfAdmissiÚs
(

902 cÚ¡ 
ADMISSION_SYNTAX
 *
as
);

903 
ADMISSION_SYNTAX_£t0_cÚ‹ÁsOfAdmissiÚs
(

904 
ADMISSION_SYNTAX
 *
as
, 
STACK_OF
(
ADMISSIONS
è*
a
);

905 cÚ¡ 
GENERAL_NAME
 *
ADMISSIONS_g‘0_admissiÚAuthÜ™y
(cÚ¡ 
ADMISSIONS
 *
a
);

906 
ADMISSIONS_£t0_admissiÚAuthÜ™y
(
ADMISSIONS
 *
a
, 
GENERAL_NAME
 *
¯
);

907 cÚ¡ 
NAMING_AUTHORITY
 *
ADMISSIONS_g‘0_ÇmšgAuthÜ™y
(cÚ¡ 
ADMISSIONS
 *
a
);

908 
ADMISSIONS_£t0_ÇmšgAuthÜ™y
(
ADMISSIONS
 *
a
, 
NAMING_AUTHORITY
 *
Ç
);

909 cÚ¡ 
PROFESSION_INFOS
 *
ADMISSIONS_g‘0_´oãssiÚInfos
(cÚ¡ 
ADMISSIONS
 *
a
);

910 
ADMISSIONS_£t0_´oãssiÚInfos
(
ADMISSIONS
 *
a
, 
PROFESSION_INFOS
 *
pi
);

911 cÚ¡ 
ASN1_OCTET_STRING
 *
PROFESSION_INFO_g‘0_addProãssiÚInfo
(

912 cÚ¡ 
PROFESSION_INFO
 *
pi
);

913 
PROFESSION_INFO_£t0_addProãssiÚInfo
(

914 
PROFESSION_INFO
 *
pi
, 
ASN1_OCTET_STRING
 *
aos
);

915 cÚ¡ 
NAMING_AUTHORITY
 *
PROFESSION_INFO_g‘0_ÇmšgAuthÜ™y
(

916 cÚ¡ 
PROFESSION_INFO
 *
pi
);

917 
PROFESSION_INFO_£t0_ÇmšgAuthÜ™y
(

918 
PROFESSION_INFO
 *
pi
, 
NAMING_AUTHORITY
 *
Ç
);

919 cÚ¡ 
STACK_OF
(
ASN1_STRING
è*
PROFESSION_INFO_g‘0_´oãssiÚI‹ms
(

920 cÚ¡ 
PROFESSION_INFO
 *
pi
);

921 
PROFESSION_INFO_£t0_´oãssiÚI‹ms
(

922 
PROFESSION_INFO
 *
pi
, 
STACK_OF
(
ASN1_STRING
è*
as
);

923 cÚ¡ 
STACK_OF
(
ASN1_OBJECT
è*
PROFESSION_INFO_g‘0_´oãssiÚOIDs
(

924 cÚ¡ 
PROFESSION_INFO
 *
pi
);

925 
PROFESSION_INFO_£t0_´oãssiÚOIDs
(

926 
PROFESSION_INFO
 *
pi
, 
STACK_OF
(
ASN1_OBJECT
è*
po
);

927 cÚ¡ 
ASN1_PRINTABLESTRING
 *
PROFESSION_INFO_g‘0_»gi¡¿tiÚNumb”
(

928 cÚ¡ 
PROFESSION_INFO
 *
pi
);

929 
PROFESSION_INFO_£t0_»gi¡¿tiÚNumb”
(

930 
PROFESSION_INFO
 *
pi
, 
ASN1_PRINTABLESTRING
 *
º
);

932 #ifdeà 
__ılu¥lus


	@/usr/include/poll.h

1 
	~<sys/pŞl.h
>

	@/usr/include/pthread.h

18 #iâdeà
_PTHREAD_H


19 
	#_PTHREAD_H
 1

	)

21 
	~<ã©u»s.h
>

22 
	~<’dŸn.h
>

23 
	~<sched.h
>

24 
	~<time.h
>

26 
	~<b™s/±h»adty³s.h
>

27 
	~<b™s/£tjmp.h
>

28 
	~<b™s/wÜdsize.h
>

29 
	~<b™s/ty³s/¡ruù_time¥ec.h
>

35 
	mPTHREAD_CREATE_JOINABLE
,

36 
	#PTHREAD_CREATE_JOINABLE
 
PTHREAD_CREATE_JOINABLE


	)

37 
	mPTHREAD_CREATE_DETACHED


38 
	#PTHREAD_CREATE_DETACHED
 
PTHREAD_CREATE_DETACHED


	)

45 
	mPTHREAD_MUTEX_TIMED_NP
,

46 
	mPTHREAD_MUTEX_RECURSIVE_NP
,

47 
	mPTHREAD_MUTEX_ERRORCHECK_NP
,

48 
	mPTHREAD_MUTEX_ADAPTIVE_NP


49 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


51 
	mPTHREAD_MUTEX_NORMAL
 = 
PTHREAD_MUTEX_TIMED_NP
,

52 
	mPTHREAD_MUTEX_RECURSIVE
 = 
PTHREAD_MUTEX_RECURSIVE_NP
,

53 
	mPTHREAD_MUTEX_ERRORCHECK
 = 
PTHREAD_MUTEX_ERRORCHECK_NP
,

54 
	mPTHREAD_MUTEX_DEFAULT
 = 
PTHREAD_MUTEX_NORMAL


56 #ifdeà
__USE_GNU


58 , 
	mPTHREAD_MUTEX_FAST_NP
 = 
PTHREAD_MUTEX_TIMED_NP


63 #ifdeà
__USE_XOPEN2K


67 
	mPTHREAD_MUTEX_STALLED
,

68 
	mPTHREAD_MUTEX_STALLED_NP
 = 
PTHREAD_MUTEX_STALLED
,

69 
	mPTHREAD_MUTEX_ROBUST
,

70 
	mPTHREAD_MUTEX_ROBUST_NP
 = 
PTHREAD_MUTEX_ROBUST


75 #ià
defšed
 
__USE_POSIX199506
 || defšed 
__USE_UNIX98


79 
	mPTHREAD_PRIO_NONE
,

80 
	mPTHREAD_PRIO_INHERIT
,

81 
	mPTHREAD_PRIO_PROTECT


86 #ià
__PTHREAD_MUTEX_HAVE_PREV


87 
	#PTHREAD_MUTEX_INITIALIZER
 \

88 { { 0, 0, 0, 0, 0, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

89 #ifdeà
__USE_GNU


90 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

91 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

92 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

93 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

94 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

95 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 
__PTHREAD_SPINS
, { 0, 0 } } }

	)

99 
	#PTHREAD_MUTEX_INITIALIZER
 \

100 { { 0, 0, 0, 0, 0, { 
__PTHREAD_SPINS
 } } }

	)

101 #ifdeà
__USE_GNU


102 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

103 { { 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 0, { 
__PTHREAD_SPINS
 } } }

	)

104 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

105 { { 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 0, { 
__PTHREAD_SPINS
 } } }

	)

106 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

107 { { 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 0, { 
__PTHREAD_SPINS
 } } }

	)

114 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


117 
	mPTHREAD_RWLOCK_PREFER_READER_NP
,

118 
	mPTHREAD_RWLOCK_PREFER_WRITER_NP
,

119 
	mPTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,

120 
	mPTHREAD_RWLOCK_DEFAULT_NP
 = 
PTHREAD_RWLOCK_PREFER_READER_NP


126 #iâdeà
__PTHREAD_RWLOCK_INT_FLAGS_SHARED


127 #ià
__WORDSIZE
 == 64

128 
	#__PTHREAD_RWLOCK_INT_FLAGS_SHARED
 1

	)

133 
	#PTHREAD_RWLOCK_INITIALIZER
 \

134 { { 0, 0, 0, 0, 0, 0, 0, 0, 
__PTHREAD_RWLOCK_ELISION_EXTRA
, 0, 0 } }

	)

135 #ifdeà
__USE_GNU


136 #ifdeà
__PTHREAD_RWLOCK_INT_FLAGS_SHARED


137 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

138 { { 0, 0, 0, 0, 0, 0, 0, 0, 
__PTHREAD_RWLOCK_ELISION_EXTRA
, 0, \

139 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
 } }

	)

141 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


142 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

143 { { 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
, \

144 0, 
__PTHREAD_RWLOCK_ELISION_EXTRA
, 0, 0 } }

	)

146 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

147 { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,\

148 0 } }

	)

158 
	mPTHREAD_INHERIT_SCHED
,

159 
	#PTHREAD_INHERIT_SCHED
 
PTHREAD_INHERIT_SCHED


	)

160 
	mPTHREAD_EXPLICIT_SCHED


161 
	#PTHREAD_EXPLICIT_SCHED
 
PTHREAD_EXPLICIT_SCHED


	)

168 
	mPTHREAD_SCOPE_SYSTEM
,

169 
	#PTHREAD_SCOPE_SYSTEM
 
PTHREAD_SCOPE_SYSTEM


	)

170 
	mPTHREAD_SCOPE_PROCESS


171 
	#PTHREAD_SCOPE_PROCESS
 
PTHREAD_SCOPE_PROCESS


	)

178 
	mPTHREAD_PROCESS_PRIVATE
,

179 
	#PTHREAD_PROCESS_PRIVATE
 
PTHREAD_PROCESS_PRIVATE


	)

180 
	mPTHREAD_PROCESS_SHARED


181 
	#PTHREAD_PROCESS_SHARED
 
PTHREAD_PROCESS_SHARED


	)

187 
	#PTHREAD_COND_INITIALIZER
 { { {0}, {0}, {0, 0}, {0, 0}, 0, 0, {0, 0} } }

	)

191 
	s_±h»ad_ş—nup_bufãr


193 (*
	m__routše
) (*);

194 *
	m__¬g
;

195 
	m__ÿnûÉy³
;

196 
_±h»ad_ş—nup_bufãr
 *
	m__´ev
;

202 
	mPTHREAD_CANCEL_ENABLE
,

203 
	#PTHREAD_CANCEL_ENABLE
 
PTHREAD_CANCEL_ENABLE


	)

204 
	mPTHREAD_CANCEL_DISABLE


205 
	#PTHREAD_CANCEL_DISABLE
 
PTHREAD_CANCEL_DISABLE


	)

209 
	mPTHREAD_CANCEL_DEFERRED
,

210 
	#PTHREAD_CANCEL_DEFERRED
 
PTHREAD_CANCEL_DEFERRED


	)

211 
	mPTHREAD_CANCEL_ASYNCHRONOUS


212 
	#PTHREAD_CANCEL_ASYNCHRONOUS
 
PTHREAD_CANCEL_ASYNCHRONOUS


	)

214 
	#PTHREAD_CANCELED
 ((*è-1)

	)

218 
	#PTHREAD_ONCE_INIT
 0

	)

221 #ifdeà
__USE_XOPEN2K


225 
	#PTHREAD_BARRIER_SERIAL_THREAD
 -1

	)

229 
__BEGIN_DECLS


234 
	$±h»ad_ü—‹
 (
±h»ad_t
 *
__»¡riù
 
__Ãwth»ad
,

235 cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

236 *(*
__¡¬t_routše
) (*),

237 *
__»¡riù
 
__¬g
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 3));

243 
	$±h»ad_ex™
 (*
__»tv®
è
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

251 
	`±h»ad_još
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
);

253 #ifdeà
__USE_GNU


256 
	$±h»ad_Œyjoš_Å
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
è
__THROW
;

264 
	`±h»ad_timedjoš_Å
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
,

265 cÚ¡ 
time¥ec
 *
__ab¡ime
);

272 
	$±h»ad_d‘ach
 (
±h»ad_t
 
__th
è
__THROW
;

276 
±h»ad_t
 
	$±h»ad_£lf
 (è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

279 
	$±h»ad_equ®
 (
±h»ad_t
 
__th»ad1
,…th»ad_ˆ
__th»ad2
)

280 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

288 
	$±h»ad_©Œ_š™
 (
±h»ad_©Œ_t
 *
__©Œ
è
__THROW
 
	`__nÚnuÎ
 ((1));

291 
	$±h»ad_©Œ_de¡roy
 (
±h»ad_©Œ_t
 *
__©Œ
)

292 
__THROW
 
	`__nÚnuÎ
 ((1));

295 
	$±h»ad_©Œ_g‘d‘ach¡©e
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
,

296 *
__d‘ach¡©e
)

297 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

300 
	$±h»ad_©Œ_£td‘ach¡©e
 (
±h»ad_©Œ_t
 *
__©Œ
,

301 
__d‘ach¡©e
)

302 
__THROW
 
	`__nÚnuÎ
 ((1));

306 
	$±h»ad_©Œ_g‘gu¬dsize
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
,

307 
size_t
 *
__gu¬dsize
)

308 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

311 
	$±h»ad_©Œ_£tgu¬dsize
 (
±h»ad_©Œ_t
 *
__©Œ
,

312 
size_t
 
__gu¬dsize
)

313 
__THROW
 
	`__nÚnuÎ
 ((1));

317 
	$±h»ad_©Œ_g‘sched·¿m
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

318 
sched_·¿m
 *
__»¡riù
 
__·¿m
)

319 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

322 
	$±h»ad_©Œ_£tsched·¿m
 (
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

323 cÚ¡ 
sched_·¿m
 *
__»¡riù


324 
__·¿m
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

327 
	$±h»ad_©Œ_g‘schedpŞicy
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


328 
__©Œ
, *
__»¡riù
 
__pŞicy
)

329 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

332 
	$±h»ad_©Œ_£tschedpŞicy
 (
±h»ad_©Œ_t
 *
__©Œ
, 
__pŞicy
)

333 
__THROW
 
	`__nÚnuÎ
 ((1));

336 
	$±h»ad_©Œ_g‘šh”™sched
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


337 
__©Œ
, *
__»¡riù
 
__šh”™
)

338 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

341 
	$±h»ad_©Œ_£tšh”™sched
 (
±h»ad_©Œ_t
 *
__©Œ
,

342 
__šh”™
)

343 
__THROW
 
	`__nÚnuÎ
 ((1));

347 
	$±h»ad_©Œ_g‘scİe
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

348 *
__»¡riù
 
__scİe
)

349 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

352 
	$±h»ad_©Œ_£tscİe
 (
±h»ad_©Œ_t
 *
__©Œ
, 
__scİe
)

353 
__THROW
 
	`__nÚnuÎ
 ((1));

356 
	$±h»ad_©Œ_g‘¡ackaddr
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


357 
__©Œ
, **
__»¡riù
 
__¡ackaddr
)

358 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__©Œibu‹_d•»ÿ‹d__
;

364 
	$±h»ad_©Œ_£t¡ackaddr
 (
±h»ad_©Œ_t
 *
__©Œ
,

365 *
__¡ackaddr
)

366 
__THROW
 
	`__nÚnuÎ
 ((1)è
__©Œibu‹_d•»ÿ‹d__
;

369 
	$±h»ad_©Œ_g‘¡acksize
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


370 
__©Œ
, 
size_t
 *
__»¡riù
 
__¡acksize
)

371 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

376 
	$±h»ad_©Œ_£t¡acksize
 (
±h»ad_©Œ_t
 *
__©Œ
,

377 
size_t
 
__¡acksize
)

378 
__THROW
 
	`__nÚnuÎ
 ((1));

380 #ifdeà
__USE_XOPEN2K


382 
	$±h»ad_©Œ_g‘¡ack
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

383 **
__»¡riù
 
__¡ackaddr
,

384 
size_t
 *
__»¡riù
 
__¡acksize
)

385 
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3));

390 
	$±h»ad_©Œ_£t¡ack
 (
±h»ad_©Œ_t
 *
__©Œ
, *
__¡ackaddr
,

391 
size_t
 
__¡acksize
è
__THROW
 
	`__nÚnuÎ
 ((1));

394 #ifdeà
__USE_GNU


397 
	$±h»ad_©Œ_£ffš™y_Å
 (
±h»ad_©Œ_t
 *
__©Œ
,

398 
size_t
 
__ıu£tsize
,

399 cÚ¡ 
ıu_£t_t
 *
__ıu£t
)

400 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

404 
	$±h»ad_©Œ_g‘affš™y_Å
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
,

405 
size_t
 
__ıu£tsize
,

406 
ıu_£t_t
 *
__ıu£t
)

407 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

410 
	$±h»ad_g‘©Œ_deçuÉ_Å
 (
±h»ad_©Œ_t
 *
__©Œ
)

411 
__THROW
 
	`__nÚnuÎ
 ((1));

415 
	$±h»ad_£‰r_deçuÉ_Å
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
)

416 
__THROW
 
	`__nÚnuÎ
 ((1));

421 
	$±h»ad_g‘©Œ_Å
 (
±h»ad_t
 
__th
, 
±h»ad_©Œ_t
 *
__©Œ
)

422 
__THROW
 
	`__nÚnuÎ
 ((2));

430 
	$±h»ad_£tsched·¿m
 (
±h»ad_t
 
__rg‘_th»ad
, 
__pŞicy
,

431 cÚ¡ 
sched_·¿m
 *
__·¿m
)

432 
__THROW
 
	`__nÚnuÎ
 ((3));

435 
	$±h»ad_g‘sched·¿m
 (
±h»ad_t
 
__rg‘_th»ad
,

436 *
__»¡riù
 
__pŞicy
,

437 
sched_·¿m
 *
__»¡riù
 
__·¿m
)

438 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

441 
	$±h»ad_£tsched´io
 (
±h»ad_t
 
__rg‘_th»ad
, 
__´io
)

442 
__THROW
;

445 #ifdeà
__USE_GNU


447 
	$±h»ad_g‘Çme_Å
 (
±h»ad_t
 
__rg‘_th»ad
, *
__buf
,

448 
size_t
 
__buæ’
)

449 
__THROW
 
	`__nÚnuÎ
 ((2));

452 
	$±h»ad_£Šame_Å
 (
±h»ad_t
 
__rg‘_th»ad
, cÚ¡ *
__Çme
)

453 
__THROW
 
	`__nÚnuÎ
 ((2));

457 #ifdeà
__USE_UNIX98


459 
	$±h»ad_g‘cÚcu¼’cy
 (è
__THROW
;

462 
	$±h»ad_£tcÚcu¼’cy
 (
__Ëv–
è
__THROW
;

465 #ifdeà
__USE_GNU


470 
	$±h»ad_y›ld
 (è
__THROW
;

475 
	$±h»ad_£ffš™y_Å
 (
±h»ad_t
 
__th
, 
size_t
 
__ıu£tsize
,

476 cÚ¡ 
ıu_£t_t
 *
__ıu£t
)

477 
__THROW
 
	`__nÚnuÎ
 ((3));

480 
	$±h»ad_g‘affš™y_Å
 (
±h»ad_t
 
__th
, 
size_t
 
__ıu£tsize
,

481 
ıu_£t_t
 *
__ıu£t
)

482 
__THROW
 
	`__nÚnuÎ
 ((3));

495 
	$±h»ad_Úû
 (
±h»ad_Úû_t
 *
__Úû_cÚŒŞ
,

496 (*
__š™_routše
è()è
	`__nÚnuÎ
 ((1, 2));

507 
	`±h»ad_£tÿnûl¡©e
 (
__¡©e
, *
__Şd¡©e
);

511 
	`±h»ad_£tÿnûÉy³
 (
__ty³
, *
__Şdty³
);

514 
	`±h»ad_ÿnûl
 (
±h»ad_t
 
__th
);

519 
	`±h»ad_‹¡ÿnûl
 ();

528 
__jmp_buf
 
__ÿnûl_jmp_buf
;

529 
__mask_was_§ved
;

530 } 
__ÿnûl_jmp_buf
[1];

531 *
__·d
[4];

532 } 
	t__±h»ad_unwšd_buf_t
 
	t__©Œibu‹__
 ((
	t__®igÃd__
));

535 #iâdeà
__ş—nup_fù_©Œibu‹


536 
	#__ş—nup_fù_©Œibu‹


	)

541 
	s__±h»ad_ş—nup_äame


543 (*
__ÿnûl_routše
) (*);

544 *
__ÿnûl_¬g
;

545 
__do_™
;

546 
__ÿnûl_ty³
;

549 #ià
defšed
 
__GNUC__
 && defšed 
__EXCEPTIONS


550 #ifdeà
__ılu¥lus


552 şas 
	c__±h»ad_ş—nup_şass


554 (*
__ÿnûl_routše
) (*);

555 *
__ÿnûl_¬g
;

556 
__do_™
;

557 
__ÿnûl_ty³
;

559 
public
:

560 
	$__±h»ad_ş—nup_şass
 ((*
__fù
è(*), *
__¬g
)

561 : 
	`__ÿnûl_routše
 (
__fù
), 
	`__ÿnûl_¬g
 (
__¬g
), 
	$__do_™
 (1) { }

562 ~
	$__±h»ad_ş—nup_şass
 (è{ ià(
__do_™
è
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); 
	}
}

563 
	$__£tdo™
 (
__Ãwv®
è{ 
__do_™
 = __Ãwv®; 
	}
}

564 
	$__deãr
 (è{ 
	`±h»ad_£tÿnûÉy³
 (
PTHREAD_CANCEL_DEFERRED
,

565 &
__ÿnûl_ty³
); 
	}
}

566 
	$__»¡Üe
 (ècÚ¡ { 
	`±h»ad_£tÿnûÉy³
 (
__ÿnûl_ty³
, 0); 
	}
}

576 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

578 
__±h»ad_ş—nup_şass
 
	`__şäame
 (
routše
, 
¬g
)

	)

582 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

583 
__şäame
.
	`__£tdo™
 (
execu‹
); \

584 } 0)

	)

586 #ifdeà
__USE_GNU


590 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

592 
__±h»ad_ş—nup_şass
 
	`__şäame
 (
routše
, 
¬g
); \

593 
__şäame
.
	`__deãr
 ()

	)

598 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

599 
__şäame
.
	`__»¡Üe
 (); \

600 
__şäame
.
	`__£tdo™
 (
execu‹
); \

601 } 0)

	)

608 
__ex‹º_šlše
 

609 
	$__±h»ad_ş—nup_routše
 (
__±h»ad_ş—nup_äame
 *
__äame
)

611 ià(
__äame
->
__do_™
)

612 
__äame
->
	`__ÿnûl_routše
 (__äame->
__ÿnûl_¬g
);

613 
	}
}

622 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

624 
__±h»ad_ş—nup_äame
 
__şäame
 \

625 
	`__©Œibu‹__
 ((
	`__ş—nup__
 (
__±h»ad_ş—nup_routše
))) \

626 ğ{ .
__ÿnûl_routše
 = (
routše
), .
__ÿnûl_¬g
 = (
¬g
), \

627 .
__do_™
 = 1 };

	)

631 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

632 
__şäame
.
__do_™
 = (
execu‹
); \

633 } 0)

	)

635 #ifdeà
__USE_GNU


639 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

641 
__±h»ad_ş—nup_äame
 
__şäame
 \

642 
	`__©Œibu‹__
 ((
	`__ş—nup__
 (
__±h»ad_ş—nup_routše
))) \

643 ğ{ .
__ÿnûl_routše
 = (
routše
), .
__ÿnûl_¬g
 = (
¬g
), \

644 .
__do_™
 = 1 }; \

645 (è
	`±h»ad_£tÿnûÉy³
 (
PTHREAD_CANCEL_DEFERRED
, \

646 &
__şäame
.
__ÿnûl_ty³
)

	)

651 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

652 (è
	`±h»ad_£tÿnûÉy³
 (
__şäame
.
__ÿnûl_ty³
, 
NULL
); \

653 
__şäame
.
__do_™
 = (
execu‹
); \

654 } 0)

	)

665 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

667 
__±h»ad_unwšd_buf_t
 
__ÿnûl_buf
; \

668 (*
__ÿnûl_routše
è(*èğ(
routše
); \

669 *
__ÿnûl_¬g
 = (
¬g
); \

670 
__nÙ_fœ¡_ÿÎ
 = 
	`__sig£tjmp
 ((
__jmp_buf_g
 *) (*) \

671 
__ÿnûl_buf
.
__ÿnûl_jmp_buf
, 0); \

672 ià(
	`__glibc_uÆik–y
 (
__nÙ_fœ¡_ÿÎ
)) \

674 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

675 
	`__±h»ad_unwšd_Ãxt
 (&
__ÿnûl_buf
); \

679 
	`__±h»ad_»gi¡”_ÿnûl
 (&
__ÿnûl_buf
); \

680 dØ{

	)

681 
__±h»ad_»gi¡”_ÿnûl
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

682 
__ş—nup_fù_©Œibu‹
;

686 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

689 
	`__±h»ad_uÄegi¡”_ÿnûl
 (&
__ÿnûl_buf
); \

690 ià(
execu‹
) \

691 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

692 } 0)

	)

693 
	$__±h»ad_uÄegi¡”_ÿnûl
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

694 
__ş—nup_fù_©Œibu‹
;

696 #ifdeà
__USE_GNU


700 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

702 
__±h»ad_unwšd_buf_t
 
__ÿnûl_buf
; \

703 (*
__ÿnûl_routše
è(*èğ(
routše
); \

704 *
__ÿnûl_¬g
 = (
¬g
); \

705 
__nÙ_fœ¡_ÿÎ
 = 
	`__sig£tjmp
 ((
__jmp_buf_g
 *) (*) \

706 
__ÿnûl_buf
.
__ÿnûl_jmp_buf
, 0); \

707 ià(
	`__glibc_uÆik–y
 (
__nÙ_fœ¡_ÿÎ
)) \

709 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

710 
	`__±h»ad_unwšd_Ãxt
 (&
__ÿnûl_buf
); \

714 
	`__±h»ad_»gi¡”_ÿnûl_deãr
 (&
__ÿnûl_buf
); \

715 dØ{

	)

716 
	`__±h»ad_»gi¡”_ÿnûl_deãr
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

717 
__ş—nup_fù_©Œibu‹
;

722 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

725 
	`__±h»ad_uÄegi¡”_ÿnûl_»¡Üe
 (&
__ÿnûl_buf
); \

726 ià(
execu‹
) \

727 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

728 
	}
} 0)

	)

729 
	$__±h»ad_uÄegi¡”_ÿnûl_»¡Üe
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

730 
__ş—nup_fù_©Œibu‹
;

734 
	$__±h»ad_unwšd_Ãxt
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

735 
__ş—nup_fù_©Œibu‹
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
))

736 #iâdeà
SHARED


737 
	`__©Œibu‹__
 ((
__w—k__
))

743 
__jmp_buf_g
;

744 
	$__sig£tjmp
 (
__jmp_buf_g
 *
__’v
, 
__§vemask
è
__THROWNL
;

750 
	$±h»ad_mu‹x_š™
 (
±h»ad_mu‹x_t
 *
__mu‹x
,

751 cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__mu‹x©Œ
)

752 
__THROW
 
	`__nÚnuÎ
 ((1));

755 
	$±h»ad_mu‹x_de¡roy
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

756 
__THROW
 
	`__nÚnuÎ
 ((1));

759 
	$±h»ad_mu‹x_Œylock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

760 
__THROWNL
 
	`__nÚnuÎ
 ((1));

763 
	$±h»ad_mu‹x_lock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

764 
__THROWNL
 
	`__nÚnuÎ
 ((1));

766 #ifdeà
__USE_XOPEN2K


768 
	$±h»ad_mu‹x_timedlock
 (
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

769 cÚ¡ 
time¥ec
 *
__»¡riù


770 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 2));

774 
	$±h»ad_mu‹x_uÆock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

775 
__THROWNL
 
	`__nÚnuÎ
 ((1));

779 
	$±h»ad_mu‹x_g‘´ioûšg
 (cÚ¡ 
±h»ad_mu‹x_t
 *

780 
__»¡riù
 
__mu‹x
,

781 *
__»¡riù
 
__´ioûšg
)

782 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

786 
	$±h»ad_mu‹x_£rioûšg
 (
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

787 
__´ioûšg
,

788 *
__»¡riù
 
__Şd_ûšg
)

789 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

792 #ifdeà
__USE_XOPEN2K8


794 
	$±h»ad_mu‹x_cÚsi¡’t
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

795 
__THROW
 
	`__nÚnuÎ
 ((1));

796 #ifdeà
__USE_GNU


797 
	$±h»ad_mu‹x_cÚsi¡’t_Å
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

798 
__THROW
 
	`__nÚnuÎ
 ((1));

807 
	$±h»ad_mu‹x©Œ_š™
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
)

808 
__THROW
 
	`__nÚnuÎ
 ((1));

811 
	$±h»ad_mu‹x©Œ_de¡roy
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
)

812 
__THROW
 
	`__nÚnuÎ
 ((1));

815 
	$±h»ad_mu‹x©Œ_g‘psh¬ed
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *

816 
__»¡riù
 
__©Œ
,

817 *
__»¡riù
 
__psh¬ed
)

818 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

821 
	$±h»ad_mu‹x©Œ_£sh¬ed
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

822 
__psh¬ed
)

823 
__THROW
 
	`__nÚnuÎ
 ((1));

825 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


827 
	$±h»ad_mu‹x©Œ_g‘ty³
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__»¡riù


828 
__©Œ
, *
__»¡riù
 
__kšd
)

829 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

834 
	$±h»ad_mu‹x©Œ_£‰y³
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
, 
__kšd
)

835 
__THROW
 
	`__nÚnuÎ
 ((1));

839 
	$±h»ad_mu‹x©Œ_g‘´ÙocŞ
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *

840 
__»¡riù
 
__©Œ
,

841 *
__»¡riù
 
__´ÙocŞ
)

842 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

846 
	$±h»ad_mu‹x©Œ_£rÙocŞ
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

847 
__´ÙocŞ
)

848 
__THROW
 
	`__nÚnuÎ
 ((1));

851 
	$±h»ad_mu‹x©Œ_g‘´ioûšg
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *

852 
__»¡riù
 
__©Œ
,

853 *
__»¡riù
 
__´ioûšg
)

854 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

857 
	$±h»ad_mu‹x©Œ_£rioûšg
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

858 
__´ioûšg
)

859 
__THROW
 
	`__nÚnuÎ
 ((1));

861 #ifdeà
__USE_XOPEN2K


863 
	$±h»ad_mu‹x©Œ_g‘robu¡
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

864 *
__robu¡Ãss
)

865 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

866 #ifdeà
__USE_GNU


867 
	$±h»ad_mu‹x©Œ_g‘robu¡_Å
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

868 *
__robu¡Ãss
)

869 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

873 
	$±h»ad_mu‹x©Œ_£Œobu¡
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

874 
__robu¡Ãss
)

875 
__THROW
 
	`__nÚnuÎ
 ((1));

876 #ifdeà
__USE_GNU


877 
	$±h»ad_mu‹x©Œ_£Œobu¡_Å
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

878 
__robu¡Ãss
)

879 
__THROW
 
	`__nÚnuÎ
 ((1));

884 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


889 
	$±h»ad_rwlock_š™
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

890 cÚ¡ 
±h»ad_rwlock©Œ_t
 *
__»¡riù


891 
__©Œ
è
__THROW
 
	`__nÚnuÎ
 ((1));

894 
	$±h»ad_rwlock_de¡roy
 (
±h»ad_rwlock_t
 *
__rwlock
)

895 
__THROW
 
	`__nÚnuÎ
 ((1));

898 
	$±h»ad_rwlock_rdlock
 (
±h»ad_rwlock_t
 *
__rwlock
)

899 
__THROWNL
 
	`__nÚnuÎ
 ((1));

902 
	$±h»ad_rwlock_Œyrdlock
 (
±h»ad_rwlock_t
 *
__rwlock
)

903 
__THROWNL
 
	`__nÚnuÎ
 ((1));

905 #ifdeà
__USE_XOPEN2K


907 
	$±h»ad_rwlock_timedrdlock
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

908 cÚ¡ 
time¥ec
 *
__»¡riù


909 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 2));

913 
	$±h»ad_rwlock_w¾ock
 (
±h»ad_rwlock_t
 *
__rwlock
)

914 
__THROWNL
 
	`__nÚnuÎ
 ((1));

917 
	$±h»ad_rwlock_Œyw¾ock
 (
±h»ad_rwlock_t
 *
__rwlock
)

918 
__THROWNL
 
	`__nÚnuÎ
 ((1));

920 #ifdeà
__USE_XOPEN2K


922 
	$±h»ad_rwlock_timedw¾ock
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

923 cÚ¡ 
time¥ec
 *
__»¡riù


924 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 2));

928 
	$±h»ad_rwlock_uÆock
 (
±h»ad_rwlock_t
 *
__rwlock
)

929 
__THROWNL
 
	`__nÚnuÎ
 ((1));

935 
	$±h»ad_rwlock©Œ_š™
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
)

936 
__THROW
 
	`__nÚnuÎ
 ((1));

939 
	$±h»ad_rwlock©Œ_de¡roy
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
)

940 
__THROW
 
	`__nÚnuÎ
 ((1));

943 
	$±h»ad_rwlock©Œ_g‘psh¬ed
 (cÚ¡ 
±h»ad_rwlock©Œ_t
 *

944 
__»¡riù
 
__©Œ
,

945 *
__»¡riù
 
__psh¬ed
)

946 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

949 
	$±h»ad_rwlock©Œ_£sh¬ed
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
,

950 
__psh¬ed
)

951 
__THROW
 
	`__nÚnuÎ
 ((1));

954 
	$±h»ad_rwlock©Œ_g‘kšd_Å
 (cÚ¡ 
±h»ad_rwlock©Œ_t
 *

955 
__»¡riù
 
__©Œ
,

956 *
__»¡riù
 
__´ef
)

957 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

960 
	$±h»ad_rwlock©Œ_£tkšd_Å
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
,

961 
__´ef
è
__THROW
 
	`__nÚnuÎ
 ((1));

969 
	$±h»ad_cÚd_š™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

970 cÚ¡ 
±h»ad_cÚd©Œ_t
 *
__»¡riù
 
__cÚd_©Œ
)

971 
__THROW
 
	`__nÚnuÎ
 ((1));

974 
	$±h»ad_cÚd_de¡roy
 (
±h»ad_cÚd_t
 *
__cÚd
)

975 
__THROW
 
	`__nÚnuÎ
 ((1));

978 
	$±h»ad_cÚd_sigÇl
 (
±h»ad_cÚd_t
 *
__cÚd
)

979 
__THROWNL
 
	`__nÚnuÎ
 ((1));

982 
	$±h»ad_cÚd_brßdÿ¡
 (
±h»ad_cÚd_t
 *
__cÚd
)

983 
__THROWNL
 
	`__nÚnuÎ
 ((1));

990 
	$±h»ad_cÚd_wa™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

991 
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
)

992 
	`__nÚnuÎ
 ((1, 2));

1001 
	$±h»ad_cÚd_timedwa™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

1002 
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

1003 cÚ¡ 
time¥ec
 *
__»¡riù
 
__ab¡ime
)

1004 
	`__nÚnuÎ
 ((1, 2, 3));

1009 
	$±h»ad_cÚd©Œ_š™
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
)

1010 
__THROW
 
	`__nÚnuÎ
 ((1));

1013 
	$±h»ad_cÚd©Œ_de¡roy
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
)

1014 
__THROW
 
	`__nÚnuÎ
 ((1));

1017 
	$±h»ad_cÚd©Œ_g‘psh¬ed
 (cÚ¡ 
±h»ad_cÚd©Œ_t
 *

1018 
__»¡riù
 
__©Œ
,

1019 *
__»¡riù
 
__psh¬ed
)

1020 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1023 
	$±h»ad_cÚd©Œ_£sh¬ed
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
,

1024 
__psh¬ed
è
__THROW
 
	`__nÚnuÎ
 ((1));

1026 #ifdeà
__USE_XOPEN2K


1028 
	$±h»ad_cÚd©Œ_g‘şock
 (cÚ¡ 
±h»ad_cÚd©Œ_t
 *

1029 
__»¡riù
 
__©Œ
,

1030 
__şockid_t
 *
__»¡riù
 
__şock_id
)

1031 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1034 
	$±h»ad_cÚd©Œ_£tşock
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
,

1035 
__şockid_t
 
__şock_id
)

1036 
__THROW
 
	`__nÚnuÎ
 ((1));

1040 #ifdeà
__USE_XOPEN2K


1045 
	$±h»ad_¥š_š™
 (
±h»ad_¥šlock_t
 *
__lock
, 
__psh¬ed
)

1046 
__THROW
 
	`__nÚnuÎ
 ((1));

1049 
	$±h»ad_¥š_de¡roy
 (
±h»ad_¥šlock_t
 *
__lock
)

1050 
__THROW
 
	`__nÚnuÎ
 ((1));

1053 
	$±h»ad_¥š_lock
 (
±h»ad_¥šlock_t
 *
__lock
)

1054 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1057 
	$±h»ad_¥š_Œylock
 (
±h»ad_¥šlock_t
 *
__lock
)

1058 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1061 
	$±h»ad_¥š_uÆock
 (
±h»ad_¥šlock_t
 *
__lock
)

1062 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1069 
	$±h»ad_b¬r›r_š™
 (
±h»ad_b¬r›r_t
 *
__»¡riù
 
__b¬r›r
,

1070 cÚ¡ 
±h»ad_b¬r›¿‰r_t
 *
__»¡riù


1071 
__©Œ
, 
__couÁ
)

1072 
__THROW
 
	`__nÚnuÎ
 ((1));

1075 
	$±h»ad_b¬r›r_de¡roy
 (
±h»ad_b¬r›r_t
 *
__b¬r›r
)

1076 
__THROW
 
	`__nÚnuÎ
 ((1));

1079 
	$±h»ad_b¬r›r_wa™
 (
±h»ad_b¬r›r_t
 *
__b¬r›r
)

1080 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1084 
	$±h»ad_b¬r›¿‰r_š™
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
)

1085 
__THROW
 
	`__nÚnuÎ
 ((1));

1088 
	$±h»ad_b¬r›¿‰r_de¡roy
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
)

1089 
__THROW
 
	`__nÚnuÎ
 ((1));

1092 
	$±h»ad_b¬r›¿‰r_g‘psh¬ed
 (cÚ¡ 
±h»ad_b¬r›¿‰r_t
 *

1093 
__»¡riù
 
__©Œ
,

1094 *
__»¡riù
 
__psh¬ed
)

1095 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1098 
	$±h»ad_b¬r›¿‰r_£sh¬ed
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
,

1099 
__psh¬ed
)

1100 
__THROW
 
	`__nÚnuÎ
 ((1));

1112 
	$±h»ad_key_ü—‹
 (
±h»ad_key_t
 *
__key
,

1113 (*
__de¡r_funùiÚ
) (*))

1114 
__THROW
 
	`__nÚnuÎ
 ((1));

1117 
	$±h»ad_key_d–‘e
 (
±h»ad_key_t
 
__key
è
__THROW
;

1120 *
	$±h»ad_g‘¥ecific
 (
±h»ad_key_t
 
__key
è
__THROW
;

1123 
	$±h»ad_£t¥ecific
 (
±h»ad_key_t
 
__key
,

1124 cÚ¡ *
__poš‹r
è
__THROW
 ;

1127 #ifdeà
__USE_XOPEN2K


1129 
	$±h»ad_g‘ıuşockid
 (
±h»ad_t
 
__th»ad_id
,

1130 
__şockid_t
 *
__şock_id
)

1131 
__THROW
 
	`__nÚnuÎ
 ((2));

1146 
	$±h»ad_©fÜk
 ((*
__´•¬e
) (),

1147 (*
__·»Á
) (),

1148 (*
__chd
è()è
__THROW
;

1151 #ifdeà
__USE_EXTERN_INLINES


1153 
__ex‹º_šlše
 

1154 
	`__NTH
 (
	$±h»ad_equ®
 (
±h»ad_t
 
__th»ad1
,…th»ad_ˆ
__th»ad2
))

1156  
__th»ad1
 =ğ
__th»ad2
;

1157 
	}
}

1160 
	g__END_DECLS


	@/usr/include/sched.h

19 #iâdef 
_SCHED_H


20 
	#_SCHED_H
 1

	)

22 
	~<ã©u»s.h
>

25 
	~<b™s/ty³s.h
>

27 
	#__Ãed_size_t


	)

28 
	#__Ãed_NULL


	)

29 
	~<¡ddef.h
>

31 
	~<b™s/ty³s/time_t.h
>

32 
	~<b™s/ty³s/¡ruù_time¥ec.h
>

33 #iâdeà
__USE_XOPEN2K


34 
	~<time.h
>

37 #iâdeà
__pid_t_defšed


38 
__pid_t
 
	tpid_t
;

39 
	#__pid_t_defšed


	)

43 
	~<b™s/sched.h
>

44 
	~<b™s/ıu-£t.h
>

47 
	#sched_´iÜ™y
 
sched_´iÜ™y


	)

48 
	#__sched_´iÜ™y
 
sched_´iÜ™y


	)

51 
__BEGIN_DECLS


54 
	$sched_£¬am
 (
__pid_t
 
__pid
, cÚ¡ 
sched_·¿m
 *
__·¿m
)

55 
__THROW
;

58 
	$sched_g‘·¿m
 (
__pid_t
 
__pid
, 
sched_·¿m
 *
__·¿m
è
__THROW
;

61 
	$sched_£tscheduËr
 (
__pid_t
 
__pid
, 
__pŞicy
,

62 cÚ¡ 
sched_·¿m
 *
__·¿m
è
__THROW
;

65 
	$sched_g‘scheduËr
 (
__pid_t
 
__pid
è
__THROW
;

68 
	$sched_y›ld
 (è
__THROW
;

71 
	$sched_g‘_´iÜ™y_max
 (
__®gÜ™hm
è
__THROW
;

74 
	$sched_g‘_´iÜ™y_mš
 (
__®gÜ™hm
è
__THROW
;

77 
	$sched_¼_g‘_š‹rv®
 (
__pid_t
 
__pid
, 
time¥ec
 *
__t
è
__THROW
;

80 #ifdeà
__USE_GNU


82 
	#CPU_SETSIZE
 
__CPU_SETSIZE


	)

83 
	#CPU_SET
(
ıu
, 
ıu£
è
	`__CPU_SET_S
 (ıu,  (
ıu_£t_t
), cpu£)

	)

84 
	#CPU_CLR
(
ıu
, 
ıu£
è
	`__CPU_CLR_S
 (ıu,  (
ıu_£t_t
), cpu£)

	)

85 
	#CPU_ISSET
(
ıu
, 
ıu£
è
	`__CPU_ISSET_S
 (ıu,  (
ıu_£t_t
), \

86 
ıu£
)

	)

87 
	#CPU_ZERO
(
ıu£
è
	`__CPU_ZERO_S
 ( (
ıu_£t_t
), cpu£)

	)

88 
	#CPU_COUNT
(
ıu£
è
	`__CPU_COUNT_S
 ( (
ıu_£t_t
), cpu£)

	)

90 
	#CPU_SET_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_SET_S
 (ıu, s‘size, cpu£)

	)

91 
	#CPU_CLR_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_CLR_S
 (ıu, s‘size, cpu£)

	)

92 
	#CPU_ISSET_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_ISSET_S
 (cpu, setsize, \

93 
ıu£
)

	)

94 
	#CPU_ZERO_S
(
£tsize
, 
ıu£
è
	`__CPU_ZERO_S
 (£tsize, cpu£)

	)

95 
	#CPU_COUNT_S
(
£tsize
, 
ıu£
è
	`__CPU_COUNT_S
 (£tsize, cpu£)

	)

97 
	#CPU_EQUAL
(
ıu£1
, 
ıu£2
) \

98 
	`__CPU_EQUAL_S
 ( (
ıu_£t_t
), 
ıu£1
, 
ıu£2
)

	)

99 
	#CPU_EQUAL_S
(
£tsize
, 
ıu£1
, 
ıu£2
) \

100 
	`__CPU_EQUAL_S
 (
£tsize
, 
ıu£1
, 
ıu£2
)

	)

102 
	#CPU_AND
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

103 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, &)

	)

104 
	#CPU_OR
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

105 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, |)

	)

106 
	#CPU_XOR
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

107 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, ^)

	)

108 
	#CPU_AND_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

109 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, &)

	)

110 
	#CPU_OR_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

111 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, |)

	)

112 
	#CPU_XOR_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

113 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, ^)

	)

115 
	#CPU_ALLOC_SIZE
(
couÁ
è
	`__CPU_ALLOC_SIZE
 (couÁ)

	)

116 
	#CPU_ALLOC
(
couÁ
è
	`__CPU_ALLOC
 (couÁ)

	)

117 
	#CPU_FREE
(
ıu£t
è
	`__CPU_FREE
 (ıu£t)

	)

121 
	$sched_£ffš™y
 (
__pid_t
 
__pid
, 
size_t
 
__ıu£tsize
,

122 cÚ¡ 
ıu_£t_t
 *
__ıu£t
è
__THROW
;

125 
	$sched_g‘affš™y
 (
__pid_t
 
__pid
, 
size_t
 
__ıu£tsize
,

126 
ıu_£t_t
 *
__ıu£t
è
__THROW
;

129 
__END_DECLS


	@/usr/include/signal.h

22 #iâdef 
_SIGNAL_H


23 
	#_SIGNAL_H


	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


29 
	~<b™s/ty³s.h
>

30 
	~<b™s/signum.h
>

32 
	~<b™s/ty³s/sig_©omic_t.h
>

34 #ià
defšed
 
__USE_POSIX


35 
	~<b™s/ty³s/sig£t_t.h
>

38 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K


39 #iâdeà
__pid_t_defšed


40 
__pid_t
 
	tpid_t
;

41 
	#__pid_t_defšed


	)

43 #ifdeà
__USE_XOPEN


45 #iâdeà
__uid_t_defšed


46 
__uid_t
 
	tuid_t
;

47 
	#__uid_t_defšed


	)

51 #ifdeà
__USE_POSIX199309


53 
	~<b™s/ty³s/¡ruù_time¥ec.h
>

56 #ià
defšed
 
__USE_POSIX199309
 || defšed 
__USE_XOPEN_EXTENDED


57 
	~<b™s/ty³s/sigšfo_t.h
>

58 
	~<b™s/sigšfo-cÚ¡s.h
>

61 #ifdeà
__USE_MISC


62 
	~<b™s/ty³s/sigv®_t.h
>

65 #ifdeà
__USE_POSIX199309


66 
	~<b™s/ty³s/sigev’t_t.h
>

67 
	~<b™s/sigev’t-cÚ¡s.h
>

72 (*
	t__sighªdËr_t
) ();

77 
__sighªdËr_t
 
	$__sysv_sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

78 
__THROW
;

79 #ifdeà
__USE_GNU


80 
__sighªdËr_t
 
	$sysv_sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

81 
__THROW
;

87 #ifdeà
__USE_MISC


88 
__sighªdËr_t
 
	$sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

89 
__THROW
;

92 #ifdeà
__REDIRECT_NTH


93 
__sighªdËr_t
 
	`__REDIRECT_NTH
 (
sigÇl
,

94 (
__sig
, 
__sighªdËr_t
 
__hªdËr
),

95 
__sysv_sigÇl
);

97 
	#sigÇl
 
__sysv_sigÇl


	)

101 #ià
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8


104 
__sighªdËr_t
 
	$bsd_sigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

105 
__THROW
;

111 #ifdeà
__USE_POSIX


112 
	$kl
 (
__pid_t
 
__pid
, 
__sig
è
__THROW
;

115 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


119 
	$kÍg
 (
__pid_t
 
__pg½
, 
__sig
è
__THROW
;

123 
	$¿i£
 (
__sig
è
__THROW
;

125 #ifdeà
__USE_MISC


127 
__sighªdËr_t
 
	$ssigÇl
 (
__sig
, 
__sighªdËr_t
 
__hªdËr
)

128 
__THROW
;

129 
	$gsigÇl
 (
__sig
è
__THROW
;

132 #ifdeà
__USE_XOPEN2K8


134 
	`psigÇl
 (
__sig
, cÚ¡ *
__s
);

137 
	`psigšfo
 (cÚ¡ 
sigšfo_t
 *
__pšfo
, cÚ¡ *
__s
);

149 #ifdeà
__USE_XOPEN_EXTENDED


150 #ifdeà
__GNUC__


151 
	$sig·u£
 (
__sig
è
	`__asm__
 ("__xpg_sigpause");

153 
	`__sig·u£
 (
__sig_Ü_mask
, 
__is_sig
);

155 
	#sig·u£
(
sig
è
	`__sig·u£
 ((sig), 1)

	)

160 #ifdeà
__USE_MISC


167 
	#sigmask
(
sig
è(()(1u << ((sigè- 1)))

	)

170 
	$sigblock
 (
__mask
è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

173 
	$sig£tmask
 (
__mask
è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

176 
	$sigg‘mask
 (è
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

180 #ifdeà
__USE_MISC


181 
	#NSIG
 
_NSIG


	)

184 #ifdeà
__USE_GNU


185 
__sighªdËr_t
 
	tsighªdËr_t
;

189 #ifdeà
__USE_MISC


190 
__sighªdËr_t
 
	tsig_t
;

193 #ifdeà
__USE_POSIX


196 
	$sigem±y£t
 (
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

199 
	$sigfl£t
 (
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

202 
	$sigadd£t
 (
sig£t_t
 *
__£t
, 
__signo
è
__THROW
 
	`__nÚnuÎ
 ((1));

205 
	$sigd–£t
 (
sig£t_t
 *
__£t
, 
__signo
è
__THROW
 
	`__nÚnuÎ
 ((1));

208 
	$sigismemb”
 (cÚ¡ 
sig£t_t
 *
__£t
, 
__signo
)

209 
__THROW
 
	`__nÚnuÎ
 ((1));

211 #ifdeà
__USE_GNU


213 
	$sigi£m±y£t
 (cÚ¡ 
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

216 
	$sigªd£t
 (
sig£t_t
 *
__£t
, cÚ¡ sig£t_ˆ*
__Ëá
,

217 cÚ¡ 
sig£t_t
 *
__right
è
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3));

220 
	$sigÜ£t
 (
sig£t_t
 *
__£t
, cÚ¡ sig£t_ˆ*
__Ëá
,

221 cÚ¡ 
sig£t_t
 *
__right
è
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3));

226 
	~<b™s/sigaùiÚ.h
>

229 
	$sig´ocmask
 (
__how
, cÚ¡ 
sig£t_t
 *
__»¡riù
 
__£t
,

230 
sig£t_t
 *
__»¡riù
 
__o£t
è
__THROW
;

237 
	$sigsu¥’d
 (cÚ¡ 
sig£t_t
 *
__£t
è
	`__nÚnuÎ
 ((1));

240 
	$sigaùiÚ
 (
__sig
, cÚ¡ 
sigaùiÚ
 *
__»¡riù
 
__aù
,

241 
sigaùiÚ
 *
__»¡riù
 
__ßù
è
__THROW
;

244 
	$sig³ndšg
 (
sig£t_t
 *
__£t
è
__THROW
 
	`__nÚnuÎ
 ((1));

247 #ifdeà
__USE_POSIX199506


252 
	$sigwa™
 (cÚ¡ 
sig£t_t
 *
__»¡riù
 
__£t
, *__»¡riù 
__sig
)

253 
	`__nÚnuÎ
 ((1, 2));

256 #ifdeà
__USE_POSIX199309


261 
	$sigwa™šfo
 (cÚ¡ 
sig£t_t
 *
__»¡riù
 
__£t
,

262 
sigšfo_t
 *
__»¡riù
 
__šfo
è
	`__nÚnuÎ
 ((1));

269 
	$sigtimedwa™
 (cÚ¡ 
sig£t_t
 *
__»¡riù
 
__£t
,

270 
sigšfo_t
 *
__»¡riù
 
__šfo
,

271 cÚ¡ 
time¥ec
 *
__»¡riù
 
__timeout
)

272 
	`__nÚnuÎ
 ((1));

276 
	$sigqueue
 (
__pid_t
 
__pid
, 
__sig
, cÚ¡ 
sigv®
 
__v®
)

277 
__THROW
;

282 #ifdeà
__USE_MISC


286 cÚ¡ *cÚ¡ 
_sys_sigli¡
[
_NSIG
];

287 cÚ¡ *cÚ¡ 
sys_sigli¡
[
_NSIG
];

291 
	~<b™s/sigcÚ‹xt.h
>

294 
	$sig»tuº
 (
sigcÚ‹xt
 *
__sı
è
__THROW
;

299 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


300 
	#__Ãed_size_t


	)

301 
	~<¡ddef.h
>

303 
	~<b™s/ty³s/¡ack_t.h
>

304 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


306 
	~<sys/ucÚ‹xt.h
>

310 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_MISC


314 
	$sigš‹¼u±
 (
__sig
, 
__š‹¼u±
è
__THROW
;

316 
	~<b™s/sig¡ack.h
>

317 
	~<b™s/ss_æags.h
>

321 
	$sig®t¡ack
 (cÚ¡ 
¡ack_t
 *
__»¡riù
 
__ss
,

322 
¡ack_t
 *
__»¡riù
 
__oss
è
__THROW
;

325 #ià((
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

326 || 
defšed
 
__USE_MISC
)

327 
	~<b™s/ty³s/¡ruù_sig¡ack.h
>

330 #ià((
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

331 || 
defšed
 
__USE_MISC
)

335 
	$sig¡ack
 (
sig¡ack
 *
__ss
, sig¡ack *
__oss
)

336 
__THROW
 
__©Œibu‹_d•»ÿ‹d__
;

339 #ifdeà
__USE_XOPEN_EXTENDED


343 
	$sighŞd
 (
__sig
è
__THROW
;

346 
	$sig»l£
 (
__sig
è
__THROW
;

349 
	$sigignÜe
 (
__sig
è
__THROW
;

352 
__sighªdËr_t
 
	$sig£t
 (
__sig
, 
__sighªdËr_t
 
__di¥
è
__THROW
;

355 #ià
defšed
 
__USE_POSIX199506
 || defšed 
__USE_UNIX98


358 
	~<b™s/±h»adty³s.h
>

359 
	~<b™s/sigth»ad.h
>

366 
	$__libc_cu¼’t_sig¹mš
 (è
__THROW
;

368 
	$__libc_cu¼’t_sig¹max
 (è
__THROW
;

370 
	#SIGRTMIN
 (
	`__libc_cu¼’t_sig¹mš
 ())

	)

371 
	#SIGRTMAX
 (
	`__libc_cu¼’t_sig¹max
 ())

	)

373 
__END_DECLS


	@/usr/include/stdint.h

22 #iâdeà
_STDINT_H


23 
	#_STDINT_H
 1

	)

25 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

26 
	~<b™s/libc-h—d”-¡¬t.h
>

27 
	~<b™s/ty³s.h
>

28 
	~<b™s/wch¬.h
>

29 
	~<b™s/wÜdsize.h
>

34 
	~<b™s/¡dšt-šŠ.h
>

37 
	~<b™s/¡dšt-ušŠ.h
>

43 sigÃd 
	tšt_Ëa¡8_t
;

44 
	tšt_Ëa¡16_t
;

45 
	tšt_Ëa¡32_t
;

46 #ià
__WORDSIZE
 == 64

47 
	tšt_Ëa¡64_t
;

49 
__ex‹nsiÚ__


50 
	tšt_Ëa¡64_t
;

54 
	tušt_Ëa¡8_t
;

55 
	tušt_Ëa¡16_t
;

56 
	tušt_Ëa¡32_t
;

57 #ià
__WORDSIZE
 == 64

58 
	tušt_Ëa¡64_t
;

60 
__ex‹nsiÚ__


61 
	tušt_Ëa¡64_t
;

68 sigÃd 
	tšt_ç¡8_t
;

69 #ià
__WORDSIZE
 == 64

70 
	tšt_ç¡16_t
;

71 
	tšt_ç¡32_t
;

72 
	tšt_ç¡64_t
;

74 
	tšt_ç¡16_t
;

75 
	tšt_ç¡32_t
;

76 
__ex‹nsiÚ__


77 
	tšt_ç¡64_t
;

81 
	tušt_ç¡8_t
;

82 #ià
__WORDSIZE
 == 64

83 
	tušt_ç¡16_t
;

84 
	tušt_ç¡32_t
;

85 
	tušt_ç¡64_t
;

87 
	tušt_ç¡16_t
;

88 
	tušt_ç¡32_t
;

89 
__ex‹nsiÚ__


90 
	tušt_ç¡64_t
;

95 #ià
__WORDSIZE
 == 64

96 #iâdeà
__šŒ_t_defšed


97 
	tšŒ_t
;

98 
	#__šŒ_t_defšed


	)

100 
	tušŒ_t
;

102 #iâdeà
__šŒ_t_defšed


103 
	tšŒ_t
;

104 
	#__šŒ_t_defšed


	)

106 
	tušŒ_t
;

111 
__štmax_t
 
	tštmax_t
;

112 
__uštmax_t
 
	tuštmax_t
;

115 #ià
__WORDSIZE
 == 64

116 
	#__INT64_C
(
c
èø## 
L


	)

117 
	#__UINT64_C
(
c
èø## 
UL


	)

119 
	#__INT64_C
(
c
èø## 
LL


	)

120 
	#__UINT64_C
(
c
èø## 
ULL


	)

126 
	#INT8_MIN
 (-128)

	)

127 
	#INT16_MIN
 (-32767-1)

	)

128 
	#INT32_MIN
 (-2147483647-1)

	)

129 
	#INT64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

131 
	#INT8_MAX
 (127)

	)

132 
	#INT16_MAX
 (32767)

	)

133 
	#INT32_MAX
 (2147483647)

	)

134 
	#INT64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

137 
	#UINT8_MAX
 (255)

	)

138 
	#UINT16_MAX
 (65535)

	)

139 
	#UINT32_MAX
 (4294967295U)

	)

140 
	#UINT64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

144 
	#INT_LEAST8_MIN
 (-128)

	)

145 
	#INT_LEAST16_MIN
 (-32767-1)

	)

146 
	#INT_LEAST32_MIN
 (-2147483647-1)

	)

147 
	#INT_LEAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

149 
	#INT_LEAST8_MAX
 (127)

	)

150 
	#INT_LEAST16_MAX
 (32767)

	)

151 
	#INT_LEAST32_MAX
 (2147483647)

	)

152 
	#INT_LEAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

155 
	#UINT_LEAST8_MAX
 (255)

	)

156 
	#UINT_LEAST16_MAX
 (65535)

	)

157 
	#UINT_LEAST32_MAX
 (4294967295U)

	)

158 
	#UINT_LEAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

162 
	#INT_FAST8_MIN
 (-128)

	)

163 #ià
__WORDSIZE
 == 64

164 
	#INT_FAST16_MIN
 (-9223372036854775807L-1)

	)

165 
	#INT_FAST32_MIN
 (-9223372036854775807L-1)

	)

167 
	#INT_FAST16_MIN
 (-2147483647-1)

	)

168 
	#INT_FAST32_MIN
 (-2147483647-1)

	)

170 
	#INT_FAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

172 
	#INT_FAST8_MAX
 (127)

	)

173 #ià
__WORDSIZE
 == 64

174 
	#INT_FAST16_MAX
 (9223372036854775807L)

	)

175 
	#INT_FAST32_MAX
 (9223372036854775807L)

	)

177 
	#INT_FAST16_MAX
 (2147483647)

	)

178 
	#INT_FAST32_MAX
 (2147483647)

	)

180 
	#INT_FAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

183 
	#UINT_FAST8_MAX
 (255)

	)

184 #ià
__WORDSIZE
 == 64

185 
	#UINT_FAST16_MAX
 (18446744073709551615UL)

	)

186 
	#UINT_FAST32_MAX
 (18446744073709551615UL)

	)

188 
	#UINT_FAST16_MAX
 (4294967295U)

	)

189 
	#UINT_FAST32_MAX
 (4294967295U)

	)

191 
	#UINT_FAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

195 #ià
__WORDSIZE
 == 64

196 
	#INTPTR_MIN
 (-9223372036854775807L-1)

	)

197 
	#INTPTR_MAX
 (9223372036854775807L)

	)

198 
	#UINTPTR_MAX
 (18446744073709551615UL)

	)

200 
	#INTPTR_MIN
 (-2147483647-1)

	)

201 
	#INTPTR_MAX
 (2147483647)

	)

202 
	#UINTPTR_MAX
 (4294967295U)

	)

207 
	#INTMAX_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

209 
	#INTMAX_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

212 
	#UINTMAX_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

218 #ià
__WORDSIZE
 == 64

219 
	#PTRDIFF_MIN
 (-9223372036854775807L-1)

	)

220 
	#PTRDIFF_MAX
 (9223372036854775807L)

	)

222 #ià
__WORDSIZE32_PTRDIFF_LONG


223 
	#PTRDIFF_MIN
 (-2147483647L-1)

	)

224 
	#PTRDIFF_MAX
 (2147483647L)

	)

226 
	#PTRDIFF_MIN
 (-2147483647-1)

	)

227 
	#PTRDIFF_MAX
 (2147483647)

	)

232 
	#SIG_ATOMIC_MIN
 (-2147483647-1)

	)

233 
	#SIG_ATOMIC_MAX
 (2147483647)

	)

236 #ià
__WORDSIZE
 == 64

237 
	#SIZE_MAX
 (18446744073709551615UL)

	)

239 #ià
__WORDSIZE32_SIZE_ULONG


240 
	#SIZE_MAX
 (4294967295UL)

	)

242 
	#SIZE_MAX
 (4294967295U)

	)

247 #iâdeà
WCHAR_MIN


249 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

250 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

254 
	#WINT_MIN
 (0u)

	)

255 
	#WINT_MAX
 (4294967295u)

	)

258 
	#INT8_C
(
c
è
	)
c

259 
	#INT16_C
(
c
è
	)
c

260 
	#INT32_C
(
c
è
	)
c

261 #ià
__WORDSIZE
 == 64

262 
	#INT64_C
(
c
èø## 
L


	)

264 
	#INT64_C
(
c
èø## 
LL


	)

268 
	#UINT8_C
(
c
è
	)
c

269 
	#UINT16_C
(
c
è
	)
c

270 
	#UINT32_C
(
c
èø## 
U


	)

271 #ià
__WORDSIZE
 == 64

272 
	#UINT64_C
(
c
èø## 
UL


	)

274 
	#UINT64_C
(
c
èø## 
ULL


	)

278 #ià
__WORDSIZE
 == 64

279 
	#INTMAX_C
(
c
èø## 
L


	)

280 
	#UINTMAX_C
(
c
èø## 
UL


	)

282 
	#INTMAX_C
(
c
èø## 
LL


	)

283 
	#UINTMAX_C
(
c
èø## 
ULL


	)

286 #ià
__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

288 
	#INT8_WIDTH
 8

	)

289 
	#UINT8_WIDTH
 8

	)

290 
	#INT16_WIDTH
 16

	)

291 
	#UINT16_WIDTH
 16

	)

292 
	#INT32_WIDTH
 32

	)

293 
	#UINT32_WIDTH
 32

	)

294 
	#INT64_WIDTH
 64

	)

295 
	#UINT64_WIDTH
 64

	)

297 
	#INT_LEAST8_WIDTH
 8

	)

298 
	#UINT_LEAST8_WIDTH
 8

	)

299 
	#INT_LEAST16_WIDTH
 16

	)

300 
	#UINT_LEAST16_WIDTH
 16

	)

301 
	#INT_LEAST32_WIDTH
 32

	)

302 
	#UINT_LEAST32_WIDTH
 32

	)

303 
	#INT_LEAST64_WIDTH
 64

	)

304 
	#UINT_LEAST64_WIDTH
 64

	)

306 
	#INT_FAST8_WIDTH
 8

	)

307 
	#UINT_FAST8_WIDTH
 8

	)

308 
	#INT_FAST16_WIDTH
 
__WORDSIZE


	)

309 
	#UINT_FAST16_WIDTH
 
__WORDSIZE


	)

310 
	#INT_FAST32_WIDTH
 
__WORDSIZE


	)

311 
	#UINT_FAST32_WIDTH
 
__WORDSIZE


	)

312 
	#INT_FAST64_WIDTH
 64

	)

313 
	#UINT_FAST64_WIDTH
 64

	)

315 
	#INTPTR_WIDTH
 
__WORDSIZE


	)

316 
	#UINTPTR_WIDTH
 
__WORDSIZE


	)

318 
	#INTMAX_WIDTH
 64

	)

319 
	#UINTMAX_WIDTH
 64

	)

321 
	#PTRDIFF_WIDTH
 
__WORDSIZE


	)

322 
	#SIG_ATOMIC_WIDTH
 32

	)

323 
	#SIZE_WIDTH
 
__WORDSIZE


	)

324 
	#WCHAR_WIDTH
 32

	)

325 
	#WINT_WIDTH
 32

	)

	@/usr/include/stdio.h

23 #iâdeà
_STDIO_H


24 
	#_STDIO_H
 1

	)

26 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

27 
	~<b™s/libc-h—d”-¡¬t.h
>

29 
	g__BEGIN_DECLS


31 
	#__Ãed_size_t


	)

32 
	#__Ãed_NULL


	)

33 
	~<¡ddef.h
>

35 
	~<b™s/ty³s.h
>

36 
	~<b™s/ty³s/__FILE.h
>

37 
	~<b™s/ty³s/FILE.h
>

39 
	#_STDIO_USES_IOSTREAM


	)

41 
	~<b™s/libio.h
>

43 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


44 #ifdeà
__GNUC__


45 #iâdeà
_VA_LIST_DEFINED


46 
_G_va_li¡
 
	tva_li¡
;

47 
	#_VA_LIST_DEFINED


	)

50 
	~<¡d¬g.h
>

54 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


55 #iâdeà
__off_t_defšed


56 #iâdeà
__USE_FILE_OFFSET64


57 
__off_t
 
	toff_t
;

59 
__off64_t
 
	toff_t
;

61 
	#__off_t_defšed


	)

63 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


64 
__off64_t
 
	toff64_t
;

65 
	#__off64_t_defšed


	)

69 #ifdeà
__USE_XOPEN2K8


70 #iâdeà
__ssize_t_defšed


71 
__ssize_t
 
	tssize_t
;

72 
	#__ssize_t_defšed


	)

77 #iâdeà
__USE_FILE_OFFSET64


78 
_G_åos_t
 
	tåos_t
;

80 
_G_åos64_t
 
	tåos_t
;

82 #ifdeà
__USE_LARGEFILE64


83 
_G_åos64_t
 
	tåos64_t
;

87 
	#_IOFBF
 0

	)

88 
	#_IOLBF
 1

	)

89 
	#_IONBF
 2

	)

93 #iâdeà
BUFSIZ


94 
	#BUFSIZ
 
_IO_BUFSIZ


	)

100 #iâdeà
EOF


101 
	#EOF
 (-1)

	)

107 
	#SEEK_SET
 0

	)

108 
	#SEEK_CUR
 1

	)

109 
	#SEEK_END
 2

	)

110 #ifdeà
__USE_GNU


111 
	#SEEK_DATA
 3

	)

112 
	#SEEK_HOLE
 4

	)

116 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


118 
	#P_tmpdœ
 "/tmp"

	)

131 
	~<b™s/¡dio_lim.h
>

135 
_IO_FILE
 *
¡dš
;

136 
_IO_FILE
 *
¡dout
;

137 
_IO_FILE
 *
¡d”r
;

139 
	#¡dš
 
¡dš


	)

140 
	#¡dout
 
¡dout


	)

141 
	#¡d”r
 
¡d”r


	)

144 
	$»move
 (cÚ¡ *
__f’ame
è
__THROW
;

146 
	$»Çme
 (cÚ¡ *
__Şd
, cÚ¡ *
__Ãw
è
__THROW
;

148 #ifdeà
__USE_ATFILE


150 
	$»Çm—t
 (
__Şdfd
, cÚ¡ *
__Şd
, 
__Ãwfd
,

151 cÚ¡ *
__Ãw
è
__THROW
;

158 #iâdeà
__USE_FILE_OFFSET64


159 
FILE
 *
	$tmpfe
 (è
__wur
;

161 #ifdeà
__REDIRECT


162 
FILE
 *
	`__REDIRECT
 (
tmpfe
, (), 
tmpfe64
è
__wur
;

164 
	#tmpfe
 
tmpfe64


	)

168 #ifdeà
__USE_LARGEFILE64


169 
FILE
 *
	$tmpfe64
 (è
__wur
;

173 *
	$tm²am
 (*
__s
è
__THROW
 
__wur
;

175 #ifdeà
__USE_MISC


178 *
	$tm²am_r
 (*
__s
è
__THROW
 
__wur
;

182 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


190 *
	$‹m²am
 (cÚ¡ *
__dœ
, cÚ¡ *
__pfx
)

191 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

199 
	`fşo£
 (
FILE
 *
__¡»am
);

204 
	`fæush
 (
FILE
 *
__¡»am
);

206 #ifdeà
__USE_MISC


213 
	`fæush_uÆocked
 (
FILE
 *
__¡»am
);

216 #ifdeà
__USE_GNU


223 
	`fşo£®l
 ();

227 #iâdeà
__USE_FILE_OFFSET64


232 
FILE
 *
	$fİ’
 (cÚ¡ *
__»¡riù
 
__f’ame
,

233 cÚ¡ *
__»¡riù
 
__modes
è
__wur
;

238 
FILE
 *
	$äeİ’
 (cÚ¡ *
__»¡riù
 
__f’ame
,

239 cÚ¡ *
__»¡riù
 
__modes
,

240 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

242 #ifdeà
__REDIRECT


243 
FILE
 *
	`__REDIRECT
 (
fİ’
, (cÚ¡ *
__»¡riù
 
__f’ame
,

244 cÚ¡ *
__»¡riù
 
__modes
), 
fİ’64
)

245 
__wur
;

246 
FILE
 *
	`__REDIRECT
 (
äeİ’
, (cÚ¡ *
__»¡riù
 
__f’ame
,

247 cÚ¡ *
__»¡riù
 
__modes
,

248 
FILE
 *
__»¡riù
 
__¡»am
), 
äeİ’64
)

249 
__wur
;

251 
	#fİ’
 
fİ’64


	)

252 
	#äeİ’
 
äeİ’64


	)

255 #ifdeà
__USE_LARGEFILE64


256 
FILE
 *
	$fİ’64
 (cÚ¡ *
__»¡riù
 
__f’ame
,

257 cÚ¡ *
__»¡riù
 
__modes
è
__wur
;

258 
FILE
 *
	$äeİ’64
 (cÚ¡ *
__»¡riù
 
__f’ame
,

259 cÚ¡ *
__»¡riù
 
__modes
,

260 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

263 #ifdef 
__USE_POSIX


265 
FILE
 *
	$fdİ’
 (
__fd
, cÚ¡ *
__modes
è
__THROW
 
__wur
;

268 #ifdef 
__USE_GNU


271 
FILE
 *
	$fİ’cook›
 (*
__»¡riù
 
__magic_cook›
,

272 cÚ¡ *
__»¡riù
 
__modes
,

273 
_IO_cook›_io_funùiÚs_t
 
__io_funcs
è
__THROW
 
__wur
;

276 #ià
defšed
 
__USE_XOPEN2K8
 || 
	`__GLIBC_USE
 (
LIB_EXT2
)

278 
FILE
 *
	$fmemİ’
 (*
__s
, 
size_t
 
__Ën
, cÚ¡ *
__modes
)

279 
__THROW
 
__wur
;

284 
FILE
 *
	$İ’_mem¡»am
 (**
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW
 
__wur
;

290 
	$£tbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
è
__THROW
;

294 
	$£tvbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

295 
__modes
, 
size_t
 
__n
è
__THROW
;

297 #ifdef 
__USE_MISC


300 
	$£tbufãr
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

301 
size_t
 
__size
è
__THROW
;

304 
	$£šebuf
 (
FILE
 *
__¡»am
è
__THROW
;

312 
	`årštf
 (
FILE
 *
__»¡riù
 
__¡»am
,

313 cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

318 
	`´štf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

320 
	$¥rštf
 (*
__»¡riù
 
__s
,

321 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROWNL
;

327 
	`vårštf
 (
FILE
 *
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

328 
_G_va_li¡
 
__¬g
);

333 
	`v´štf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
);

335 
	$v¥rštf
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

336 
_G_va_li¡
 
__¬g
è
__THROWNL
;

338 #ià
defšed
 
__USE_ISOC99
 || defšed 
__USE_UNIX98


340 
	$¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

341 cÚ¡ *
__»¡riù
 
__fÜm©
, ...)

342 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 4)));

344 
	$v¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

345 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

346 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 0)));

349 #ià
	`__GLIBC_USE
 (
LIB_EXT2
)

352 
	$va¥rštf
 (**
__»¡riù
 
__±r
, cÚ¡ *__»¡riù 
__f
,

353 
_G_va_li¡
 
__¬g
)

354 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 0))è
__wur
;

355 
	$__a¥rštf
 (**
__»¡riù
 
__±r
,

356 cÚ¡ *
__»¡riù
 
__fmt
, ...)

357 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

358 
	$a¥rštf
 (**
__»¡riù
 
__±r
,

359 cÚ¡ *
__»¡riù
 
__fmt
, ...)

360 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

363 #ifdeà
__USE_XOPEN2K8


365 
	$vd´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
,

366 
_G_va_li¡
 
__¬g
)

367 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

368 
	$d´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
, ...)

369 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

377 
	$fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

378 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

383 
	$sÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

385 
	$ssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

386 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

388 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

389 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

390 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

391 #ifdeà
__REDIRECT


395 
	`__REDIRECT
 (
fsÿnf
, (
FILE
 *
__»¡riù
 
__¡»am
,

396 cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

397 
__isoc99_fsÿnf
è
__wur
;

398 
	`__REDIRECT
 (
sÿnf
, (cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

399 
__isoc99_sÿnf
è
__wur
;

400 
	`__REDIRECT_NTH
 (
ssÿnf
, (cÚ¡ *
__»¡riù
 
__s
,

401 cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

402 
__isoc99_ssÿnf
);

404 
	$__isoc99_fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

405 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

406 
	$__isoc99_sÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

407 
	$__isoc99_ssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

408 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

409 
	#fsÿnf
 
__isoc99_fsÿnf


	)

410 
	#sÿnf
 
__isoc99_sÿnf


	)

411 
	#ssÿnf
 
__isoc99_ssÿnf


	)

415 #ifdef 
__USE_ISOC99


420 
	$vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

421 
_G_va_li¡
 
__¬g
)

422 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

428 
	$vsÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

429 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

432 
	$vssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

433 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

434 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

436 #ià!
defšed
 
__USE_GNU
 \

437 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

438 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

439 #ifdeà
__REDIRECT


443 
	`__REDIRECT
 (
vfsÿnf
,

444 (
FILE
 *
__»¡riù
 
__s
,

445 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
),

446 
__isoc99_vfsÿnf
)

447 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

448 
	`__REDIRECT
 (
vsÿnf
, (cÚ¡ *
__»¡riù
 
__fÜm©
,

449 
_G_va_li¡
 
__¬g
), 
__isoc99_vsÿnf
)

450 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

451 
	`__REDIRECT_NTH
 (
vssÿnf
,

452 (cÚ¡ *
__»¡riù
 
__s
,

453 cÚ¡ *
__»¡riù
 
__fÜm©
,

454 
_G_va_li¡
 
__¬g
), 
__isoc99_vssÿnf
)

455 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

457 
	$__isoc99_vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
,

458 cÚ¡ *
__»¡riù
 
__fÜm©
,

459 
_G_va_li¡
 
__¬g
è
__wur
;

460 
	$__isoc99_vsÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
,

461 
_G_va_li¡
 
__¬g
è
__wur
;

462 
	$__isoc99_vssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

463 cÚ¡ *
__»¡riù
 
__fÜm©
,

464 
_G_va_li¡
 
__¬g
è
__THROW
;

465 
	#vfsÿnf
 
__isoc99_vfsÿnf


	)

466 
	#vsÿnf
 
__isoc99_vsÿnf


	)

467 
	#vssÿnf
 
__isoc99_vssÿnf


	)

477 
	`fg‘c
 (
FILE
 *
__¡»am
);

478 
	`g‘c
 (
FILE
 *
__¡»am
);

484 
	`g‘ch¬
 ();

488 
	#g‘c
(
_å
è
	`_IO_g‘c
 (_å)

	)

490 #ifdeà
__USE_POSIX199506


495 
	`g‘c_uÆocked
 (
FILE
 *
__¡»am
);

496 
	`g‘ch¬_uÆocked
 ();

499 #ifdeà
__USE_MISC


506 
	`fg‘c_uÆocked
 (
FILE
 *
__¡»am
);

517 
	`åutc
 (
__c
, 
FILE
 *
__¡»am
);

518 
	`putc
 (
__c
, 
FILE
 *
__¡»am
);

524 
	`putch¬
 (
__c
);

528 
	#putc
(
_ch
, 
_å
è
	`_IO_putc
 (_ch, _å)

	)

530 #ifdeà
__USE_MISC


537 
	`åutc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

540 #ifdeà
__USE_POSIX199506


545 
	`putc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

546 
	`putch¬_uÆocked
 (
__c
);

550 #ià
defšed
 
__USE_MISC
 \

551 || (
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

553 
	`g‘w
 (
FILE
 *
__¡»am
);

556 
	`putw
 (
__w
, 
FILE
 *
__¡»am
);

564 *
	$fg‘s
 (*
__»¡riù
 
__s
, 
__n
, 
FILE
 *__»¡riù 
__¡»am
)

565 
__wur
;

567 #ià
	`__GLIBC_USE
 (
DEPRECATED_GETS
)

577 *
	$g‘s
 (*
__s
è
__wur
 
__©Œibu‹_d•»ÿ‹d__
;

580 #ifdeà
__USE_GNU


587 *
	$fg‘s_uÆocked
 (*
__»¡riù
 
__s
, 
__n
,

588 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

592 #ià
defšed
 
__USE_XOPEN2K8
 || 
	`__GLIBC_USE
 (
LIB_EXT2
)

603 
_IO_ssize_t
 
	$__g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

604 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

605 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

606 
_IO_ssize_t
 
	$g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

607 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

608 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

616 
_IO_ssize_t
 
	$g‘lše
 (**
__»¡riù
 
__lš•Œ
,

617 
size_t
 *
__»¡riù
 
__n
,

618 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

626 
	`åuts
 (cÚ¡ *
__»¡riù
 
__s
, 
FILE
 *__»¡riù 
__¡»am
);

632 
	`puts
 (cÚ¡ *
__s
);

639 
	`ung‘c
 (
__c
, 
FILE
 *
__¡»am
);

646 
size_t
 
	$ä—d
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

647 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

652 
size_t
 
	`fwr™e
 (cÚ¡ *
__»¡riù
 
__±r
, size_ˆ
__size
,

653 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__s
);

655 #ifdeà
__USE_GNU


662 
	`åuts_uÆocked
 (cÚ¡ *
__»¡riù
 
__s
,

663 
FILE
 *
__»¡riù
 
__¡»am
);

666 #ifdeà
__USE_MISC


673 
size_t
 
	$ä—d_uÆocked
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

674 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

675 
size_t
 
	`fwr™e_uÆocked
 (cÚ¡ *
__»¡riù
 
__±r
, size_ˆ
__size
,

676 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
);

684 
	`f£ek
 (
FILE
 *
__¡»am
, 
__off
, 
__wh’û
);

689 
	$á–l
 (
FILE
 *
__¡»am
è
__wur
;

694 
	`»wšd
 (
FILE
 *
__¡»am
);

701 #ià
defšed
 
__USE_LARGEFILE
 || defšed 
__USE_XOPEN2K


702 #iâdeà
__USE_FILE_OFFSET64


707 
	`f£eko
 (
FILE
 *
__¡»am
, 
__off_t
 
__off
, 
__wh’û
);

712 
__off_t
 
	$á–lo
 (
FILE
 *
__¡»am
è
__wur
;

714 #ifdeà
__REDIRECT


715 
	`__REDIRECT
 (
f£eko
,

716 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
),

717 
f£eko64
);

718 
__off64_t
 
	`__REDIRECT
 (
á–lo
, (
FILE
 *
__¡»am
), 
á–lo64
);

720 
	#f£eko
 
f£eko64


	)

721 
	#á–lo
 
á–lo64


	)

726 #iâdeà
__USE_FILE_OFFSET64


731 
	`fg‘pos
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos_t
 *__»¡riù 
__pos
);

736 
	`f£os
 (
FILE
 *
__¡»am
, cÚ¡ 
åos_t
 *
__pos
);

738 #ifdeà
__REDIRECT


739 
	`__REDIRECT
 (
fg‘pos
, (
FILE
 *
__»¡riù
 
__¡»am
,

740 
åos_t
 *
__»¡riù
 
__pos
), 
fg‘pos64
);

741 
	`__REDIRECT
 (
f£os
,

742 (
FILE
 *
__¡»am
, cÚ¡ 
åos_t
 *
__pos
), 
f£os64
);

744 
	#fg‘pos
 
fg‘pos64


	)

745 
	#f£os
 
f£os64


	)

749 #ifdeà
__USE_LARGEFILE64


750 
	`f£eko64
 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
);

751 
__off64_t
 
	$á–lo64
 (
FILE
 *
__¡»am
è
__wur
;

752 
	`fg‘pos64
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos64_t
 *__»¡riù 
__pos
);

753 
	`f£os64
 (
FILE
 *
__¡»am
, cÚ¡ 
åos64_t
 *
__pos
);

757 
	$ş—»¼
 (
FILE
 *
__¡»am
è
__THROW
;

759 
	$ãof
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

761 
	$ã¼Ü
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

763 #ifdeà
__USE_MISC


765 
	$ş—»¼_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
;

766 
	$ãof_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

767 
	$ã¼Ü_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

775 
	`³¼Ü
 (cÚ¡ *
__s
);

781 
	~<b™s/sys_”¾i¡.h
>

784 #ifdef 
__USE_POSIX


786 
	$f’o
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

789 #ifdeà
__USE_MISC


791 
	$f’o_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

795 #ifdeà
__USE_POSIX2


800 
FILE
 *
	$pİ’
 (cÚ¡ *
__commªd
, cÚ¡ *
__modes
è
__wur
;

806 
	`pşo£
 (
FILE
 *
__¡»am
);

810 #ifdef 
__USE_POSIX


812 *
	$ù”mid
 (*
__s
è
__THROW
;

816 #ià(
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
è|| defšed 
__USE_GNU


818 *
	`cu£rid
 (*
__s
);

822 #ifdef 
__USE_GNU


823 
ob¡ack
;

826 
	$ob¡ack_´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

827 cÚ¡ *
__»¡riù
 
__fÜm©
, ...)

828 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

829 
	$ob¡ack_v´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

830 cÚ¡ *
__»¡riù
 
__fÜm©
,

831 
_G_va_li¡
 
__¬gs
)

832 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

836 #ifdeà
__USE_POSIX199506


840 
	$æockfe
 (
FILE
 *
__¡»am
è
__THROW
;

844 
	$árylockfe
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

847 
	$fuÆockfe
 (
FILE
 *
__¡»am
è
__THROW
;

850 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


853 
	~<b™s/g‘İt_posix.h
>

858 #ifdeà
__USE_EXTERN_INLINES


859 
	~<b™s/¡dio.h
>

861 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


862 
	~<b™s/¡dio2.h
>

864 #ifdeà
__LDBL_COMPAT


865 
	~<b™s/¡dio-ldbl.h
>

868 
__END_DECLS


	@/usr/include/stdlib.h

22 #iâdef 
_STDLIB_H


24 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

25 
	~<b™s/libc-h—d”-¡¬t.h
>

28 
	#__Ãed_size_t


	)

29 
	#__Ãed_wch¬_t


	)

30 
	#__Ãed_NULL


	)

31 
	~<¡ddef.h
>

33 
	g__BEGIN_DECLS


35 
	#_STDLIB_H
 1

	)

37 #ià(
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8
è&& !defšed 
_SYS_WAIT_H


39 
	~<b™s/wa™æags.h
>

40 
	~<b™s/wa™¡©us.h
>

43 
	#WEXITSTATUS
(
¡©us
è
	`__WEXITSTATUS
 (¡©us)

	)

44 
	#WTERMSIG
(
¡©us
è
	`__WTERMSIG
 (¡©us)

	)

45 
	#WSTOPSIG
(
¡©us
è
	`__WSTOPSIG
 (¡©us)

	)

46 
	#WIFEXITED
(
¡©us
è
	`__WIFEXITED
 (¡©us)

	)

47 
	#WIFSIGNALED
(
¡©us
è
	`__WIFSIGNALED
 (¡©us)

	)

48 
	#WIFSTOPPED
(
¡©us
è
	`__WIFSTOPPED
 (¡©us)

	)

49 #ifdeà
__WIFCONTINUED


50 
	#WIFCONTINUED
(
¡©us
è
	`__WIFCONTINUED
 (¡©us)

	)

55 
	~<b™s/æßŠ.h
>

60 
	mquÙ
;

61 
	m»m
;

62 } 
	tdiv_t
;

65 #iâdeà
__ldiv_t_defšed


68 
	mquÙ
;

69 
	m»m
;

70 } 
	tldiv_t
;

71 
	#__ldiv_t_defšed
 1

	)

74 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__Îdiv_t_defšed


76 
__ex‹nsiÚ__
 struct

78 
	mquÙ
;

79 
	m»m
;

80 } 
	tÎdiv_t
;

81 
	#__Îdiv_t_defšed
 1

	)

86 
	#RAND_MAX
 2147483647

	)

91 
	#EXIT_FAILURE
 1

	)

92 
	#EXIT_SUCCESS
 0

	)

96 
	#MB_CUR_MAX
 (
	`__ùy³_g‘_mb_cur_max
 ())

	)

97 
size_t
 
	$__ùy³_g‘_mb_cur_max
 (è
__THROW
 
__wur
;

101 
	$©of
 (cÚ¡ *
__ÅŒ
)

102 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

104 
	$©oi
 (cÚ¡ *
__ÅŒ
)

105 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

107 
	$©Ş
 (cÚ¡ *
__ÅŒ
)

108 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

110 #ifdeà
__USE_ISOC99


112 
__ex‹nsiÚ__
 
	$©Şl
 (cÚ¡ *
__ÅŒ
)

113 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

117 
	$¡¹od
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

118 **
__»¡riù
 
__’d±r
)

119 
__THROW
 
	`__nÚnuÎ
 ((1));

121 #ifdef 
__USE_ISOC99


123 
	$¡¹of
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

124 **
__»¡riù
 
__’d±r
è
__THROW
 
	`__nÚnuÎ
 ((1));

126 
	$¡¹Şd
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

127 **
__»¡riù
 
__’d±r
)

128 
__THROW
 
	`__nÚnuÎ
 ((1));

133 #ià
__HAVE_FLOAT16
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

134 
_Flßt16
 
	$¡¹of16
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

135 **
__»¡riù
 
__’d±r
)

136 
__THROW
 
	`__nÚnuÎ
 ((1));

139 #ià
__HAVE_FLOAT32
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

140 
_Flßt32
 
	$¡¹of32
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

141 **
__»¡riù
 
__’d±r
)

142 
__THROW
 
	`__nÚnuÎ
 ((1));

145 #ià
__HAVE_FLOAT64
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

146 
_Flßt64
 
	$¡¹of64
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

147 **
__»¡riù
 
__’d±r
)

148 
__THROW
 
	`__nÚnuÎ
 ((1));

151 #ià
__HAVE_FLOAT128
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

152 
_Flßt128
 
	$¡¹of128
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

153 **
__»¡riù
 
__’d±r
)

154 
__THROW
 
	`__nÚnuÎ
 ((1));

157 #ià
__HAVE_FLOAT32X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

158 
_Flßt32x
 
	$¡¹of32x
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

159 **
__»¡riù
 
__’d±r
)

160 
__THROW
 
	`__nÚnuÎ
 ((1));

163 #ià
__HAVE_FLOAT64X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

164 
_Flßt64x
 
	$¡¹of64x
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

165 **
__»¡riù
 
__’d±r
)

166 
__THROW
 
	`__nÚnuÎ
 ((1));

169 #ià
__HAVE_FLOAT128X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

170 
_Flßt128x
 
	$¡¹of128x
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

171 **
__»¡riù
 
__’d±r
)

172 
__THROW
 
	`__nÚnuÎ
 ((1));

176 
	$¡¹Ş
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

177 **
__»¡riù
 
__’d±r
, 
__ba£
)

178 
__THROW
 
	`__nÚnuÎ
 ((1));

180 
	$¡¹oul
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

181 **
__»¡riù
 
__’d±r
, 
__ba£
)

182 
__THROW
 
	`__nÚnuÎ
 ((1));

184 #ifdeà
__USE_MISC


186 
__ex‹nsiÚ__


187 
	$¡¹oq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

188 **
__»¡riù
 
__’d±r
, 
__ba£
)

189 
__THROW
 
	`__nÚnuÎ
 ((1));

191 
__ex‹nsiÚ__


192 
	$¡¹ouq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

193 **
__»¡riù
 
__’d±r
, 
__ba£
)

194 
__THROW
 
	`__nÚnuÎ
 ((1));

197 #ifdeà
__USE_ISOC99


199 
__ex‹nsiÚ__


200 
	$¡¹Şl
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

201 **
__»¡riù
 
__’d±r
, 
__ba£
)

202 
__THROW
 
	`__nÚnuÎ
 ((1));

204 
__ex‹nsiÚ__


205 
	$¡¹ouÎ
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

206 **
__»¡riù
 
__’d±r
, 
__ba£
)

207 
__THROW
 
	`__nÚnuÎ
 ((1));

211 #ià
	`__GLIBC_USE
 (
IEC_60559_BFP_EXT
)

212 
	$¡räomd
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ *
__fÜm©
,

213 
__f
)

214 
__THROW
 
	`__nÚnuÎ
 ((3));

216 
	$¡räomf
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ *
__fÜm©
,

217 
__f
)

218 
__THROW
 
	`__nÚnuÎ
 ((3));

220 
	$¡räoml
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ *
__fÜm©
,

221 
__f
)

222 
__THROW
 
	`__nÚnuÎ
 ((3));

225 #ià
__HAVE_FLOAT16
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

226 
	$¡räomf16
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

227 
_Flßt16
 
__f
)

228 
__THROW
 
	`__nÚnuÎ
 ((3));

231 #ià
__HAVE_FLOAT32
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

232 
	$¡räomf32
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

233 
_Flßt32
 
__f
)

234 
__THROW
 
	`__nÚnuÎ
 ((3));

237 #ià
__HAVE_FLOAT64
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

238 
	$¡räomf64
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

239 
_Flßt64
 
__f
)

240 
__THROW
 
	`__nÚnuÎ
 ((3));

243 #ià
__HAVE_FLOAT128
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

244 
	$¡räomf128
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

245 
_Flßt128
 
__f
)

246 
__THROW
 
	`__nÚnuÎ
 ((3));

249 #ià
__HAVE_FLOAT32X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

250 
	$¡räomf32x
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

251 
_Flßt32x
 
__f
)

252 
__THROW
 
	`__nÚnuÎ
 ((3));

255 #ià
__HAVE_FLOAT64X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

256 
	$¡räomf64x
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

257 
_Flßt64x
 
__f
)

258 
__THROW
 
	`__nÚnuÎ
 ((3));

261 #ià
__HAVE_FLOAT128X
 && 
	`__GLIBC_USE
 (
IEC_60559_TYPES_EXT
)

262 
	$¡räomf128x
 (*
__de¡
, 
size_t
 
__size
, cÚ¡ * 
__fÜm©
,

263 
_Flßt128x
 
__f
)

264 
__THROW
 
	`__nÚnuÎ
 ((3));

268 #ifdeà
__USE_GNU


272 
	~<b™s/ty³s/loÿË_t.h
>

274 
	$¡¹Ş_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

275 **
__»¡riù
 
__’d±r
, 
__ba£
,

276 
loÿË_t
 
__loc
è
__THROW
 
	`__nÚnuÎ
 ((1, 4));

278 
	$¡¹oul_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

279 **
__»¡riù
 
__’d±r
,

280 
__ba£
, 
loÿË_t
 
__loc
)

281 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

283 
__ex‹nsiÚ__


284 
	$¡¹Şl_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

285 **
__»¡riù
 
__’d±r
, 
__ba£
,

286 
loÿË_t
 
__loc
)

287 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

289 
__ex‹nsiÚ__


290 
	$¡¹ouÎ_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

291 **
__»¡riù
 
__’d±r
,

292 
__ba£
, 
loÿË_t
 
__loc
)

293 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

295 
	$¡¹od_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

296 **
__»¡riù
 
__’d±r
, 
loÿË_t
 
__loc
)

297 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

299 
	$¡¹of_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

300 **
__»¡riù
 
__’d±r
, 
loÿË_t
 
__loc
)

301 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

303 
	$¡¹Şd_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

304 **
__»¡riù
 
__’d±r
,

305 
loÿË_t
 
__loc
)

306 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

308 #ià
__HAVE_FLOAT16


309 
_Flßt16
 
	$¡¹of16_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

310 **
__»¡riù
 
__’d±r
,

311 
loÿË_t
 
__loc
)

312 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

315 #ià
__HAVE_FLOAT32


316 
_Flßt32
 
	$¡¹of32_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

317 **
__»¡riù
 
__’d±r
,

318 
loÿË_t
 
__loc
)

319 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

322 #ià
__HAVE_FLOAT64


323 
_Flßt64
 
	$¡¹of64_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

324 **
__»¡riù
 
__’d±r
,

325 
loÿË_t
 
__loc
)

326 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

329 #ià
__HAVE_FLOAT128


330 
_Flßt128
 
	$¡¹of128_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

331 **
__»¡riù
 
__’d±r
,

332 
loÿË_t
 
__loc
)

333 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

336 #ià
__HAVE_FLOAT32X


337 
_Flßt32x
 
	$¡¹of32x_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

338 **
__»¡riù
 
__’d±r
,

339 
loÿË_t
 
__loc
)

340 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

343 #ià
__HAVE_FLOAT64X


344 
_Flßt64x
 
	$¡¹of64x_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

345 **
__»¡riù
 
__’d±r
,

346 
loÿË_t
 
__loc
)

347 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

350 #ià
__HAVE_FLOAT128X


351 
_Flßt128x
 
	$¡¹of128x_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

352 **
__»¡riù
 
__’d±r
,

353 
loÿË_t
 
__loc
)

354 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

359 #ifdeà
__USE_EXTERN_INLINES


360 
__ex‹º_šlše
 

361 
	`__NTH
 (
	$©oi
 (cÚ¡ *
__ÅŒ
))

363  (è
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

364 
	}
}

365 
__ex‹º_šlše
 

366 
__NTH
 (
	$©Ş
 (cÚ¡ *
__ÅŒ
))

368  
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

369 
	}
}

371 #ifdeà
__USE_ISOC99


372 
__ex‹nsiÚ__
 
__ex‹º_šlše
 

373 
__NTH
 (
	$©Şl
 (cÚ¡ *
__ÅŒ
))

375  
	`¡¹Şl
 (
__ÅŒ
, (**è
NULL
, 10);

376 
	}
}

381 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


385 *
	$l64a
 (
__n
è
__THROW
 
__wur
;

388 
	$a64l
 (cÚ¡ *
__s
)

389 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

393 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


394 
	~<sys/ty³s.h
>

401 
	$¿ndom
 (è
__THROW
;

404 
	$¤ªdom
 (
__£ed
è
__THROW
;

410 *
	$š™¡©e
 (
__£ed
, *
__¡©ebuf
,

411 
size_t
 
__¡©–’
è
__THROW
 
	`__nÚnuÎ
 ((2));

415 *
	$£t¡©e
 (*
__¡©ebuf
è
__THROW
 
	`__nÚnuÎ
 ((1));

418 #ifdeà
__USE_MISC


423 
	s¿ndom_d©a


425 
št32_t
 *
åŒ
;

426 
št32_t
 *
½Œ
;

427 
št32_t
 *
¡©e
;

428 
¿nd_ty³
;

429 
¿nd_deg
;

430 
¿nd_£p
;

431 
št32_t
 *
’d_±r
;

434 
	$¿ndom_r
 (
¿ndom_d©a
 *
__»¡riù
 
__buf
,

435 
št32_t
 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

437 
	$¤ªdom_r
 (
__£ed
, 
¿ndom_d©a
 *
__buf
)

438 
__THROW
 
	`__nÚnuÎ
 ((2));

440 
	$š™¡©e_r
 (
__£ed
, *
__»¡riù
 
__¡©ebuf
,

441 
size_t
 
__¡©–’
,

442 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

443 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

445 
	$£t¡©e_r
 (*
__»¡riù
 
__¡©ebuf
,

446 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

447 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

453 
	$¿nd
 (è
__THROW
;

455 
	$¤ªd
 (
__£ed
è
__THROW
;

457 #ifdeà
__USE_POSIX199506


459 
	$¿nd_r
 (*
__£ed
è
__THROW
;

463 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


467 
	$d¿nd48
 (è
__THROW
;

468 
	$”ªd48
 (
__xsubi
[3]è
__THROW
 
	`__nÚnuÎ
 ((1));

471 
	$Ìªd48
 (è
__THROW
;

472 
	$Äªd48
 (
__xsubi
[3])

473 
__THROW
 
	`__nÚnuÎ
 ((1));

476 
	$m¿nd48
 (è
__THROW
;

477 
	$j¿nd48
 (
__xsubi
[3])

478 
__THROW
 
	`__nÚnuÎ
 ((1));

481 
	$¤ªd48
 (
__£edv®
è
__THROW
;

482 *
	$£ed48
 (
__£ed16v
[3])

483 
__THROW
 
	`__nÚnuÎ
 ((1));

484 
	$lcÚg48
 (
__·¿m
[7]è
__THROW
 
	`__nÚnuÎ
 ((1));

486 #ifdeà
__USE_MISC


490 
	sd¿nd48_d©a


492 
__x
[3];

493 
__Şd_x
[3];

494 
__c
;

495 
__š™
;

496 
__ex‹nsiÚ__
 
__a
;

501 
	$d¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

502 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

503 
	$”ªd48_r
 (
__xsubi
[3],

504 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

505 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

508 
	$Ìªd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

509 *
__»¡riù
 
__»suÉ
)

510 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

511 
	$Äªd48_r
 (
__xsubi
[3],

512 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

513 *
__»¡riù
 
__»suÉ
)

514 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

517 
	$m¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

518 *
__»¡riù
 
__»suÉ
)

519 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

520 
	$j¿nd48_r
 (
__xsubi
[3],

521 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

522 *
__»¡riù
 
__»suÉ
)

523 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

526 
	$¤ªd48_r
 (
__£edv®
, 
d¿nd48_d©a
 *
__bufãr
)

527 
__THROW
 
	`__nÚnuÎ
 ((2));

529 
	$£ed48_r
 (
__£ed16v
[3],

530 
d¿nd48_d©a
 *
__bufãr
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

532 
	$lcÚg48_r
 (
__·¿m
[7],

533 
d¿nd48_d©a
 *
__bufãr
)

534 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

539 *
	$m®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

541 *
	$ÿÎoc
 (
size_t
 
__nmemb
, size_ˆ
__size
)

542 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

549 *
	$»®loc
 (*
__±r
, 
size_t
 
__size
)

550 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__
;

552 #ifdeà
__USE_GNU


558 *
	$»®loÿ¼ay
 (*
__±r
, 
size_t
 
__nmemb
, size_ˆ
__size
)

559 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__
;

563 
	$ä“
 (*
__±r
è
__THROW
;

565 #ifdeà
__USE_MISC


566 
	~<®loÿ.h
>

569 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

570 || 
defšed
 
__USE_MISC


572 *
	$v®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

575 #ifdeà
__USE_XOPEN2K


577 
	$posix_mem®ign
 (**
__mem±r
, 
size_t
 
__®ignm’t
, size_ˆ
__size
)

578 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

581 #ifdeà
__USE_ISOC11


583 *
	$®igÃd_®loc
 (
size_t
 
__®ignm’t
, size_ˆ
__size
)

584 
__THROW
 
__©Œibu‹_m®loc__
 
	`__©Œibu‹_®loc_size__
 ((2)è
__wur
;

588 
	$abÜt
 (è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

592 
	$©ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

594 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


596 #ifdeà
__ılu¥lus


597 "C++" 
	$©_quick_ex™
 ((*
__func
) ())

598 
__THROW
 
	`__asm
 ("©_quick_ex™"è
	`__nÚnuÎ
 ((1));

600 
	$©_quick_ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

604 #ifdef 
__USE_MISC


607 
	$Ú_ex™
 ((*
__func
è(
__¡©us
, *
__¬g
), *__arg)

608 
__THROW
 
	`__nÚnuÎ
 ((1));

614 
	$ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

616 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


620 
	$quick_ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

623 #ifdeà
__USE_ISOC99


626 
	$_Ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

631 *
	$g‘’v
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

633 #ifdeà
__USE_GNU


636 *
	$£cu»_g‘’v
 (cÚ¡ *
__Çme
)

637 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

640 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


644 
	$pu‹nv
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

647 #ifdeà
__USE_XOPEN2K


650 
	$£‹nv
 (cÚ¡ *
__Çme
, cÚ¡ *
__v®ue
, 
__»¶aû
)

651 
__THROW
 
	`__nÚnuÎ
 ((2));

654 
	$un£‹nv
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

657 #ifdef 
__USE_MISC


661 
	$ş—»nv
 (è
__THROW
;

665 #ià
defšed
 
__USE_MISC
 \

666 || (
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
)

672 *
	$mk‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1));

675 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


684 #iâdeà
__USE_FILE_OFFSET64


685 
	$mk¡emp
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

687 #ifdeà
__REDIRECT


688 
	`__REDIRECT
 (
mk¡emp
, (*
__‹m¶©e
), 
mk¡emp64
)

689 
	`__nÚnuÎ
 ((1)è
__wur
;

691 
	#mk¡emp
 
mk¡emp64


	)

694 #ifdeà
__USE_LARGEFILE64


695 
	$mk¡emp64
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

699 #ifdeà
__USE_MISC


706 #iâdeà
__USE_FILE_OFFSET64


707 
	$mk¡emps
 (*
__‹m¶©e
, 
__suffixËn
è
	`__nÚnuÎ
 ((1)è
__wur
;

709 #ifdeà
__REDIRECT


710 
	`__REDIRECT
 (
mk¡emps
, (*
__‹m¶©e
, 
__suffixËn
),

711 
mk¡emps64
è
	`__nÚnuÎ
 ((1)è
__wur
;

713 
	#mk¡emps
 
mk¡emps64


	)

716 #ifdeà
__USE_LARGEFILE64


717 
	$mk¡emps64
 (*
__‹m¶©e
, 
__suffixËn
)

718 
	`__nÚnuÎ
 ((1)è
__wur
;

722 #ifdeà
__USE_XOPEN2K8


728 *
	$mkd‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

731 #ifdeà
__USE_GNU


738 #iâdeà
__USE_FILE_OFFSET64


739 
	$mko¡emp
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

741 #ifdeà
__REDIRECT


742 
	`__REDIRECT
 (
mko¡emp
, (*
__‹m¶©e
, 
__æags
), 
mko¡emp64
)

743 
	`__nÚnuÎ
 ((1)è
__wur
;

745 
	#mko¡emp
 
mko¡emp64


	)

748 #ifdeà
__USE_LARGEFILE64


749 
	$mko¡emp64
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

758 #iâdeà
__USE_FILE_OFFSET64


759 
	$mko¡emps
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

760 
	`__nÚnuÎ
 ((1)è
__wur
;

762 #ifdeà
__REDIRECT


763 
	`__REDIRECT
 (
mko¡emps
, (*
__‹m¶©e
, 
__suffixËn
,

764 
__æags
), 
mko¡emps64
)

765 
	`__nÚnuÎ
 ((1)è
__wur
;

767 
	#mko¡emps
 
mko¡emps64


	)

770 #ifdeà
__USE_LARGEFILE64


771 
	$mko¡emps64
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

772 
	`__nÚnuÎ
 ((1)è
__wur
;

781 
	$sy¡em
 (cÚ¡ *
__commªd
è
__wur
;

784 #ifdef 
__USE_GNU


787 *
	$ÿnÚiÿlize_fe_Çme
 (cÚ¡ *
__Çme
)

788 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

791 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


797 *
	$»®·th
 (cÚ¡ *
__»¡riù
 
__Çme
,

798 *
__»¡riù
 
__»sŞved
è
__THROW
 
__wur
;

803 #iâdeà
__COMPAR_FN_T


804 
	#__COMPAR_FN_T


	)

805 (*
	t__com·r_â_t
) (const *, const *);

807 #ifdef 
__USE_GNU


808 
__com·r_â_t
 
	tcom·risÚ_â_t
;

811 #ifdeà
__USE_GNU


812 (*
	t__com·r_d_â_t
) (const *, const *, *);

817 *
	$b£¬ch
 (cÚ¡ *
__key
, cÚ¡ *
__ba£
,

818 
size_t
 
__nmemb
, size_ˆ
__size
, 
__com·r_â_t
 
__com·r
)

819 
	`__nÚnuÎ
 ((1, 2, 5)è
__wur
;

821 #ifdeà
__USE_EXTERN_INLINES


822 
	~<b™s/¡dlib-b£¬ch.h
>

827 
	$qsÜt
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

828 
__com·r_â_t
 
__com·r
è
	`__nÚnuÎ
 ((1, 4));

829 #ifdeà
__USE_GNU


830 
	$qsÜt_r
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

831 
__com·r_d_â_t
 
__com·r
, *
__¬g
)

832 
	`__nÚnuÎ
 ((1, 4));

837 
	$abs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

838 
	$Ïbs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

840 #ifdeà
__USE_ISOC99


841 
__ex‹nsiÚ__
 
	$Îabs
 (
__x
)

842 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

849 
div_t
 
	$div
 (
__num”
, 
__d’om
)

850 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

851 
ldiv_t
 
	$ldiv
 (
__num”
, 
__d’om
)

852 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

854 #ifdeà
__USE_ISOC99


855 
__ex‹nsiÚ__
 
Îdiv_t
 
	$Îdiv
 (
__num”
,

856 
__d’om
)

857 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

861 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

862 || 
defšed
 
__USE_MISC


869 *
	$ecvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

870 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

875 *
	$fcvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

876 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

881 *
	$gcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

882 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

885 #ifdeà
__USE_MISC


887 *
	$qecvt
 (
__v®ue
, 
__ndig™
,

888 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

889 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

890 *
	$qfcvt
 (
__v®ue
, 
__ndig™
,

891 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

892 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

893 *
	$qgcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

894 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

899 
	$ecvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

900 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

901 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

902 
	$fcvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

903 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

904 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

906 
	$qecvt_r
 (
__v®ue
, 
__ndig™
,

907 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

908 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

909 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

910 
	$qfcvt_r
 (
__v®ue
, 
__ndig™
,

911 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

912 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

913 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

919 
	$mbËn
 (cÚ¡ *
__s
, 
size_t
 
__n
è
__THROW
;

922 
	$mbtowc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

923 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
;

926 
	$wùomb
 (*
__s
, 
wch¬_t
 
__wch¬
è
__THROW
;

930 
size_t
 
	$mb¡owcs
 (
wch¬_t
 *
__»¡riù
 
__pwcs
,

931 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
;

933 
size_t
 
	$wc¡ombs
 (*
__»¡riù
 
__s
,

934 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__pwcs
, 
size_t
 
__n
)

935 
__THROW
;

938 #ifdeà
__USE_MISC


943 
	$½m©ch
 (cÚ¡ *
__»¥Ú£
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

947 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


954 
	$g‘subİt
 (**
__»¡riù
 
__İtiÚp
,

955 *cÚ¡ *
__»¡riù
 
__tok’s
,

956 **
__»¡riù
 
__v®u•
)

957 
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3)è
__wur
;

961 #ifdeà
__USE_XOPEN


963 
	$£tkey
 (cÚ¡ *
__key
è
__THROW
 
	`__nÚnuÎ
 ((1));

969 #ifdeà
__USE_XOPEN2KXSI


971 
	$posix_İ’±
 (
__oæag
è
__wur
;

974 #ifdeà
__USE_XOPEN_EXTENDED


979 
	$g¿Á±
 (
__fd
è
__THROW
;

983 
	$uÆock±
 (
__fd
è
__THROW
;

988 *
	$±¢ame
 (
__fd
è
__THROW
 
__wur
;

991 #ifdeà
__USE_GNU


995 
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
)

996 
__THROW
 
	`__nÚnuÎ
 ((2));

999 
	`g‘±
 ();

1002 #ifdeà
__USE_MISC


1006 
	$g‘lßdavg
 (
__lßdavg
[], 
__ÃËm
)

1007 
__THROW
 
	`__nÚnuÎ
 ((1));

1010 #ià
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K


1013 
	$‰y¦Ù
 (è
__THROW
;

1016 
	~<b™s/¡dlib-æßt.h
>

1019 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


1020 
	~<b™s/¡dlib.h
>

1022 #ifdeà
__LDBL_COMPAT


1023 
	~<b™s/¡dlib-ldbl.h
>

1026 
__END_DECLS


	@/usr/include/string.h

22 #iâdef 
_STRING_H


23 
	#_STRING_H
 1

	)

25 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

26 
	~<b™s/libc-h—d”-¡¬t.h
>

28 
	g__BEGIN_DECLS


31 
	#__Ãed_size_t


	)

32 
	#__Ãed_NULL


	)

33 
	~<¡ddef.h
>

36 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (4, 4)

37 
	#__CORRECT_ISO_CPP_STRING_H_PROTO


	)

42 *
	$memıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

43 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

46 *
	$memmove
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
)

47 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

52 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


53 *
	$memcıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

54 
__c
, 
size_t
 
__n
)

55 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

60 *
	$mem£t
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

63 
	$memcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

64 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

67 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


70 *
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

71 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

72 cÚ¡ *
	`memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

73 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

75 #ifdeà
__OPTIMIZE__


76 
__ex‹º_®ways_šlše
 *

77 
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW


79  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

82 
__ex‹º_®ways_šlše
 const *

83 
	`memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
è
__THROW


85  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

88 
	}
}

90 *
	$memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

91 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

94 #ifdeà
__USE_GNU


97 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


98 "C++" *
	$¿wmemchr
 (*
__s
, 
__c
)

99 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

100 "C++" cÚ¡ *
	$¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

101 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

103 *
	$¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

104 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

108 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


109 "C++" *
	$memrchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

110 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

111 "C++" cÚ¡ *
	$memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

112 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

114 *
	$memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

115 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

121 *
	$¡rıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

122 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

124 *
	$¡ºıy
 (*
__»¡riù
 
__de¡
,

125 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

126 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

129 *
	$¡rÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

130 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

132 *
	$¡ºÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

133 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

136 
	$¡rcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

137 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

139 
	$¡ºcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

140 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

143 
	$¡rcŞl
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

144 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

146 
size_t
 
	$¡rxäm
 (*
__»¡riù
 
__de¡
,

147 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

148 
__THROW
 
	`__nÚnuÎ
 ((2));

150 #ifdeà
__USE_XOPEN2K8


152 
	~<b™s/ty³s/loÿË_t.h
>

155 
	$¡rcŞl_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
loÿË_t
 
__l
)

156 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

159 
size_t
 
	$¡rxäm_l
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
,

160 
loÿË_t
 
__l
è
__THROW
 
	`__nÚnuÎ
 ((2, 4));

163 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8
 \

164 || 
	$__GLIBC_USE
 (
LIB_EXT2
))

166 *
	$¡rdup
 (cÚ¡ *
__s
)

167 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

173 #ià
defšed
 
__USE_XOPEN2K8
 || 
	`__GLIBC_USE
 (
LIB_EXT2
)

174 *
	$¡ºdup
 (cÚ¡ *
__¡ršg
, 
size_t
 
__n
)

175 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

178 #ià
defšed
 
__USE_GNU
 && defšed 
__GNUC__


180 
	#¡rdu·
(
s
) \

181 (
__ex‹nsiÚ__
 \

183 cÚ¡ *
__Şd
 = (
s
); \

184 
size_t
 
__Ën
 = 
	`¡¾’
 (
__Şd
) + 1; \

185 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
); \

186 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

187 
	}
}))

	)

190 
	#¡ºdu·
(
s
, 
n
) \

191 (
__ex‹nsiÚ__
 \

193 cÚ¡ *
__Şd
 = (
s
); \

194 
size_t
 
__Ën
 = 
	`¡ºËn
 (
__Şd
, (
n
)); \

195 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
 + 1); \

196 
__Ãw
[
__Ën
] = '\0'; \

197 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

198 }))

	)

202 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


205 *
¡rchr
 (*
__s
, 
__c
)

206 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

207 cÚ¡ *
¡rchr
 (cÚ¡ *
__s
, 
__c
)

208 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

210 #ifdeà
__OPTIMIZE__


211 
__ex‹º_®ways_šlše
 *

212 
¡rchr
 (*
__s
, 
__c
è
	g__THROW


214  
__butš_¡rchr
 (
__s
, 
__c
);

217 
__ex‹º_®ways_šlše
 const *

218 
¡rchr
 (cÚ¡ *
__s
, 
__c
è
	g__THROW


220  
__butš_¡rchr
 (
__s
, 
__c
);

225 *
	$¡rchr
 (cÚ¡ *
__s
, 
__c
)

226 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

229 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


232 *
	`¡¼chr
 (*
__s
, 
__c
)

233 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

234 cÚ¡ *
	`¡¼chr
 (cÚ¡ *
__s
, 
__c
)

235 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

237 #ifdeà
__OPTIMIZE__


238 
__ex‹º_®ways_šlše
 *

239 
	`¡¼chr
 (*
__s
, 
__c
è
__THROW


241  
	`__butš_¡¼chr
 (
__s
, 
__c
);

244 
__ex‹º_®ways_šlše
 const *

245 
	`¡¼chr
 (cÚ¡ *
__s
, 
__c
è
__THROW


247  
	`__butš_¡¼chr
 (
__s
, 
__c
);

250 
	}
}

252 *
	$¡¼chr
 (cÚ¡ *
__s
, 
__c
)

253 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

256 #ifdeà
__USE_GNU


259 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


260 "C++" *
	$¡rchºul
 (*
__s
, 
__c
)

261 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

262 "C++" cÚ¡ *
	$¡rchºul
 (cÚ¡ *
__s
, 
__c
)

263 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

265 *
	$¡rchºul
 (cÚ¡ *
__s
, 
__c
)

266 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

272 
size_t
 
	$¡rc¥n
 (cÚ¡ *
__s
, cÚ¡ *
__»jeù
)

273 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

276 
size_t
 
	$¡r¥n
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

277 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

279 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


282 *
	`¡½brk
 (*
__s
, cÚ¡ *
__acû±
)

283 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

284 cÚ¡ *
	`¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

285 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

287 #ifdeà
__OPTIMIZE__


288 
__ex‹º_®ways_šlše
 *

289 
	`¡½brk
 (*
__s
, cÚ¡ *
__acû±
è
__THROW


291  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

294 
__ex‹º_®ways_šlše
 const *

295 
	`¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
è
__THROW


297  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

300 
	}
}

302 *
	$¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

303 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

306 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


309 *
	`¡r¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
)

310 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

311 cÚ¡ *
	`¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

312 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

314 #ifdeà
__OPTIMIZE__


315 
__ex‹º_®ways_šlše
 *

316 
	`¡r¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
è
__THROW


318  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

321 
__ex‹º_®ways_šlše
 const *

322 
	`¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
è
__THROW


324  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

327 
	}
}

329 *
	$¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

330 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

335 *
	$¡¹ok
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__d–im
)

336 
__THROW
 
	`__nÚnuÎ
 ((2));

340 *
	$__¡¹ok_r
 (*
__»¡riù
 
__s
,

341 cÚ¡ *
__»¡riù
 
__d–im
,

342 **
__»¡riù
 
__§ve_±r
)

343 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

344 #ifdeà
__USE_POSIX


345 *
	$¡¹ok_r
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__d–im
,

346 **
__»¡riù
 
__§ve_±r
)

347 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

350 #ifdeà
__USE_GNU


352 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


353 "C++" *
	$¡rÿ£¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
)

354 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

355 "C++" cÚ¡ *
	$¡rÿ£¡r
 (cÚ¡ *
__hay¡ack
,

356 cÚ¡ *
__ÃedË
)

357 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

359 *
	$¡rÿ£¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

360 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

364 #ifdeà
__USE_GNU


368 *
	$memmem
 (cÚ¡ *
__hay¡ack
, 
size_t
 
__hay¡ackËn
,

369 cÚ¡ *
__ÃedË
, 
size_t
 
__ÃedËËn
)

370 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 3));

374 *
	$__mempıy
 (*
__»¡riù
 
__de¡
,

375 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

376 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

377 *
	$mempıy
 (*
__»¡riù
 
__de¡
,

378 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

379 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

384 
size_t
 
	$¡¾’
 (cÚ¡ *
__s
)

385 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

387 #ifdef 
__USE_XOPEN2K8


390 
size_t
 
	$¡ºËn
 (cÚ¡ *
__¡ršg
, 
size_t
 
__maxËn
)

391 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

396 *
	$¡»¼Ü
 (
__”ºum
è
__THROW
;

397 #ifdeà
__USE_XOPEN2K


405 #ià
defšed
 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


408 #ifdeà
__REDIRECT_NTH


409 
	`__REDIRECT_NTH
 (
¡»¼Ü_r
,

410 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
),

411 
__xpg_¡»¼Ü_r
è
	`__nÚnuÎ
 ((2));

413 
	$__xpg_¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

414 
__THROW
 
	`__nÚnuÎ
 ((2));

415 
	#¡»¼Ü_r
 
__xpg_¡»¼Ü_r


	)

420 *
	$¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

421 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

425 #ifdeà
__USE_XOPEN2K8


427 *
	$¡»¼Ü_l
 (
__”ºum
, 
loÿË_t
 
__l
è
__THROW
;

430 #ifdeà
__USE_MISC


431 
	~<¡ršgs.h
>

435 
	$ex¶ic™_bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

439 *
	$¡r£p
 (**
__»¡riù
 
__¡ršgp
,

440 cÚ¡ *
__»¡riù
 
__d–im
)

441 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

444 #ifdef 
__USE_XOPEN2K8


446 *
	$¡rsigÇl
 (
__sig
è
__THROW
;

449 *
	$__¡pıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

450 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

451 *
	$¡pıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

452 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

456 *
	$__¡²ıy
 (*
__»¡riù
 
__de¡
,

457 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

458 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

459 *
	$¡²ıy
 (*
__»¡riù
 
__de¡
,

460 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

461 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

464 #ifdef 
__USE_GNU


466 
	$¡rv”scmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

467 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

470 *
	$¡räy
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

473 *
	$memäob
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

475 #iâdeà
ba£Çme


480 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


481 "C++" *
	$ba£Çme
 (*
__f’ame
)

482 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

483 "C++" cÚ¡ *
	$ba£Çme
 (cÚ¡ *
__f’ame
)

484 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

486 *
	$ba£Çme
 (cÚ¡ *
__f’ame
è
__THROW
 
	`__nÚnuÎ
 ((1));

491 #ià
	`__GNUC_PREREQ
 (3,4)

492 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


494 
	~<b™s/¡ršg_fÜtif›d.h
>

498 
__END_DECLS


	@/usr/include/strings.h

18 #iâdef 
_STRINGS_H


19 
	#_STRINGS_H
 1

	)

21 
	~<ã©u»s.h
>

22 
	#__Ãed_size_t


	)

23 
	~<¡ddef.h
>

26 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (4, 4)

27 
	#__CORRECT_ISO_CPP_STRINGS_H_PROTO


	)

30 
	g__BEGIN_DECLS


32 #ià
defšed
 
__USE_MISC
 || !defšed 
__USE_XOPEN2K8


34 
	$bcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

35 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

38 
	$bcİy
 (cÚ¡ *
__¤c
, *
__de¡
, 
size_t
 
__n
)

39 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

42 
	$bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

45 #ifdeà
__CORRECT_ISO_CPP_STRINGS_H_PROTO


48 *
	`šdex
 (*
__s
, 
__c
)

49 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

50 cÚ¡ *
	`šdex
 (cÚ¡ *
__s
, 
__c
)

51 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

53 #ià
defšed
 
__OPTIMIZE__


54 
__ex‹º_®ways_šlše
 *

55 
	`šdex
 (*
__s
, 
__c
è
__THROW


57  
	`__butš_šdex
 (
__s
, 
__c
);

60 
__ex‹º_®ways_šlše
 const *

61 
	`šdex
 (cÚ¡ *
__s
, 
__c
è
__THROW


63  
	`__butš_šdex
 (
__s
, 
__c
);

66 
	}
}

68 *
	$šdex
 (cÚ¡ *
__s
, 
__c
)

69 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

73 #ifdeà
__CORRECT_ISO_CPP_STRINGS_H_PROTO


76 *
	`ršdex
 (*
__s
, 
__c
)

77 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

78 cÚ¡ *
	`ršdex
 (cÚ¡ *
__s
, 
__c
)

79 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

81 #ià
defšed
 
__OPTIMIZE__


82 
__ex‹º_®ways_šlše
 *

83 
	`ršdex
 (*
__s
, 
__c
è
__THROW


85  
	`__butš_ršdex
 (
__s
, 
__c
);

88 
__ex‹º_®ways_šlše
 const *

89 
	`ršdex
 (cÚ¡ *
__s
, 
__c
è
__THROW


91  
	`__butš_ršdex
 (
__s
, 
__c
);

94 
	}
}

96 *
	$ršdex
 (cÚ¡ *
__s
, 
__c
)

97 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

101 #ià
defšed
 
__USE_MISC
 || !defšed 
__USE_XOPEN2K8
 || defšed 
__USE_XOPEN2K8XSI


104 
	$ffs
 (
__i
è
__THROW
 
__©Œibu‹_cÚ¡__
;

109 #ifdef 
__USE_MISC


110 
	$ff¦
 (
__l
è
__THROW
 
__©Œibu‹_cÚ¡__
;

111 
__ex‹nsiÚ__
 
	$ff¦l
 (
__Î
)

112 
__THROW
 
__©Œibu‹_cÚ¡__
;

116 
	$¡rÿ£cmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

117 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

120 
	$¡ºÿ£cmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

121 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

123 #ifdef 
__USE_XOPEN2K8


125 
	~<b™s/ty³s/loÿË_t.h
>

128 
	$¡rÿ£cmp_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
loÿË_t
 
__loc
)

129 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

133 
	$¡ºÿ£cmp_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
,

134 
size_t
 
__n
, 
loÿË_t
 
__loc
)

135 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 4));

138 
__END_DECLS


140 #ià
	`__GNUC_PREREQ
 (3,4è&& 
__USE_FORTIFY_LEVEL
 > 0 \

141 && 
defšed
 
__fÜtify_funùiÚ


143 #ià
defšed
 
__USE_MISC
 || !defšed 
__USE_XOPEN2K8


144 
	~<b™s/¡ršgs_fÜtif›d.h
>

	@/usr/include/time.h

22 #iâdef 
_TIME_H


23 
	#_TIME_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	#__Ãed_size_t


	)

28 
	#__Ãed_NULL


	)

29 
	~<¡ddef.h
>

33 
	~<b™s/time.h
>

37 
	~<b™s/ty³s/şock_t.h
>

38 
	~<b™s/ty³s/time_t.h
>

39 
	~<b™s/ty³s/¡ruù_tm.h
>

41 #ià
defšed
 
__USE_POSIX199309
 || defšed 
__USE_ISOC11


42 
	~<b™s/ty³s/¡ruù_time¥ec.h
>

45 #ifdeà
__USE_POSIX199309


46 
	~<b™s/ty³s/şockid_t.h
>

47 
	~<b™s/ty³s/tim”_t.h
>

48 
	~<b™s/ty³s/¡ruù_™im”¥ec.h
>

49 
	gsigev’t
;

52 #ifdeà
__USE_XOPEN2K


53 #iâdeà
__pid_t_defšed


54 
__pid_t
 
	tpid_t
;

55 
	#__pid_t_defšed


	)

59 #ifdeà
__USE_XOPEN2K8


60 
	~<b™s/ty³s/loÿË_t.h
>

63 #ifdeà
__USE_ISOC11


65 
	#TIME_UTC
 1

	)

68 
__BEGIN_DECLS


72 
şock_t
 
	$şock
 (è
__THROW
;

75 
time_t
 
	$time
 (
time_t
 *
__tim”
è
__THROW
;

78 
	$difáime
 (
time_t
 
__time1
,ime_ˆ
__time0
)

79 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

82 
time_t
 
	$mktime
 (
tm
 *
__
è
__THROW
;

88 
size_t
 
	$¡ráime
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

89 cÚ¡ *
__»¡riù
 
__fÜm©
,

90 cÚ¡ 
tm
 *
__»¡riù
 
__
è
__THROW
;

92 #ifdeà
__USE_XOPEN


95 *
	$¡½time
 (cÚ¡ *
__»¡riù
 
__s
,

96 cÚ¡ *
__»¡riù
 
__fmt
, 
tm
 *
__
)

97 
__THROW
;

100 #ifdeà
__USE_XOPEN2K8


104 
size_t
 
	$¡ráime_l
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

105 cÚ¡ *
__»¡riù
 
__fÜm©
,

106 cÚ¡ 
tm
 *
__»¡riù
 
__
,

107 
loÿË_t
 
__loc
è
__THROW
;

110 #ifdeà
__USE_GNU


111 *
	$¡½time_l
 (cÚ¡ *
__»¡riù
 
__s
,

112 cÚ¡ *
__»¡riù
 
__fmt
, 
tm
 *
__
,

113 
loÿË_t
 
__loc
è
__THROW
;

119 
tm
 *
	$gmtime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

123 
tm
 *
	$loÿÉime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

125 #ifdeà
__USE_POSIX


128 
tm
 *
	$gmtime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

129 
tm
 *
__»¡riù
 
__
è
__THROW
;

133 
tm
 *
	$loÿÉime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

134 
tm
 *
__»¡riù
 
__
è
__THROW
;

139 *
	$asùime
 (cÚ¡ 
tm
 *
__
è
__THROW
;

142 *
	$ùime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

144 #ifdeà
__USE_POSIX


149 *
	$asùime_r
 (cÚ¡ 
tm
 *
__»¡riù
 
__
,

150 *
__»¡riù
 
__buf
è
__THROW
;

153 *
	$ùime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

154 *
__»¡riù
 
__buf
è
__THROW
;

159 *
__tzÇme
[2];

160 
__daylight
;

161 
__timezÚe
;

164 #ifdef 
__USE_POSIX


166 *
tzÇme
[2];

170 
	$tz£t
 (è
__THROW
;

173 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


174 
daylight
;

175 
timezÚe
;

178 #ifdeà
__USE_MISC


181 
	$¡ime
 (cÚ¡ 
time_t
 *
__wh’
è
__THROW
;

187 
	#__i¦—p
(
y—r
) \

188 ((
y—r
è% 4 =ğ0 && ((y—rè% 100 !ğ0 || (y—rè% 400 =ğ0))

	)

191 #ifdeà
__USE_MISC


196 
time_t
 
	$timegm
 (
tm
 *
__
è
__THROW
;

199 
time_t
 
	$tim–oÿl
 (
tm
 *
__
è
__THROW
;

202 
	$dysize
 (
__y—r
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

206 #ifdeà
__USE_POSIX199309


211 
	`Çno¦“p
 (cÚ¡ 
time¥ec
 *
__»que¡ed_time
,

212 
time¥ec
 *
__»maššg
);

216 
	$şock_g‘»s
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__»s
è
__THROW
;

219 
	$şock_g‘time
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__
è
__THROW
;

222 
	$şock_£‰ime
 (
şockid_t
 
__şock_id
, cÚ¡ 
time¥ec
 *
__
)

223 
__THROW
;

225 #ifdeà
__USE_XOPEN2K


230 
	`şock_Çno¦“p
 (
şockid_t
 
__şock_id
, 
__æags
,

231 cÚ¡ 
time¥ec
 *
__»q
,

232 
time¥ec
 *
__»m
);

235 
	$şock_g‘ıuşockid
 (
pid_t
 
__pid
, 
şockid_t
 *
__şock_id
è
__THROW
;

240 
	$tim”_ü—‹
 (
şockid_t
 
__şock_id
,

241 
sigev’t
 *
__»¡riù
 
__evp
,

242 
tim”_t
 *
__»¡riù
 
__tim”id
è
__THROW
;

245 
	$tim”_d–‘e
 (
tim”_t
 
__tim”id
è
__THROW
;

248 
	$tim”_£‰ime
 (
tim”_t
 
__tim”id
, 
__æags
,

249 cÚ¡ 
™im”¥ec
 *
__»¡riù
 
__v®ue
,

250 
™im”¥ec
 *
__»¡riù
 
__ov®ue
è
__THROW
;

253 
	$tim”_g‘time
 (
tim”_t
 
__tim”id
, 
™im”¥ec
 *
__v®ue
)

254 
__THROW
;

257 
	$tim”_g‘ov”run
 (
tim”_t
 
__tim”id
è
__THROW
;

261 #ifdeà
__USE_ISOC11


263 
	$time¥ec_g‘
 (
time¥ec
 *
__ts
, 
__ba£
)

264 
__THROW
 
	`__nÚnuÎ
 ((1));

268 #ifdeà
__USE_XOPEN_EXTENDED


280 
g‘d©e_”r
;

289 
tm
 *
	`g‘d©e
 (cÚ¡ *
__¡ršg
);

292 #ifdeà
__USE_GNU


303 
	`g‘d©e_r
 (cÚ¡ *
__»¡riù
 
__¡ršg
,

304 
tm
 *
__»¡riù
 
__»sbuå
);

307 
__END_DECLS


	@/usr/include/unistd.h

22 #iâdef 
_UNISTD_H


23 
	#_UNISTD_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


32 #ifdeà
__USE_XOPEN2K8


34 
	#_POSIX_VERSION
 200809L

	)

35 #–ià
defšed
 
__USE_XOPEN2K


37 
	#_POSIX_VERSION
 200112L

	)

38 #–ià
defšed
 
__USE_POSIX199506


40 
	#_POSIX_VERSION
 199506L

	)

41 #–ià
defšed
 
__USE_POSIX199309


43 
	#_POSIX_VERSION
 199309L

	)

46 
	#_POSIX_VERSION
 199009L

	)

52 #ifdeà
__USE_XOPEN2K8


53 
	#__POSIX2_THIS_VERSION
 200809L

	)

55 #–ià
defšed
 
__USE_XOPEN2K


57 
	#__POSIX2_THIS_VERSION
 200112L

	)

58 #–ià
defšed
 
__USE_POSIX199506


60 
	#__POSIX2_THIS_VERSION
 199506L

	)

63 
	#__POSIX2_THIS_VERSION
 199209L

	)

67 
	#_POSIX2_VERSION
 
__POSIX2_THIS_VERSION


	)

70 
	#_POSIX2_C_VERSION
 
__POSIX2_THIS_VERSION


	)

74 
	#_POSIX2_C_BIND
 
__POSIX2_THIS_VERSION


	)

78 
	#_POSIX2_C_DEV
 
__POSIX2_THIS_VERSION


	)

82 
	#_POSIX2_SW_DEV
 
__POSIX2_THIS_VERSION


	)

86 
	#_POSIX2_LOCALEDEF
 
__POSIX2_THIS_VERSION


	)

89 #ifdeà
__USE_XOPEN2K8


90 
	#_XOPEN_VERSION
 700

	)

91 #–ià
defšed
 
__USE_XOPEN2K


92 
	#_XOPEN_VERSION
 600

	)

93 #–ià
defšed
 
__USE_UNIX98


94 
	#_XOPEN_VERSION
 500

	)

96 
	#_XOPEN_VERSION
 4

	)

100 
	#_XOPEN_XCU_VERSION
 4

	)

103 
	#_XOPEN_XPG2
 1

	)

104 
	#_XOPEN_XPG3
 1

	)

105 
	#_XOPEN_XPG4
 1

	)

108 
	#_XOPEN_UNIX
 1

	)

111 
	#_XOPEN_CRYPT
 1

	)

115 
	#_XOPEN_ENH_I18N
 1

	)

118 
	#_XOPEN_LEGACY
 1

	)

205 
	~<b™s/posix_İt.h
>

208 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


209 
	~<b™s/’vœÚm’ts.h
>

213 
	#STDIN_FILENO
 0

	)

214 
	#STDOUT_FILENO
 1

	)

215 
	#STDERR_FILENO
 2

	)

220 
	~<b™s/ty³s.h
>

222 #iâdef 
__ssize_t_defšed


223 
__ssize_t
 
	tssize_t
;

224 
	#__ssize_t_defšed


	)

227 
	#__Ãed_size_t


	)

228 
	#__Ãed_NULL


	)

229 
	~<¡ddef.h
>

231 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K


234 #iâdeà
__gid_t_defšed


235 
__gid_t
 
	tgid_t
;

236 
	#__gid_t_defšed


	)

239 #iâdeà
__uid_t_defšed


240 
__uid_t
 
	tuid_t
;

241 
	#__uid_t_defšed


	)

244 #iâdeà
__off_t_defšed


245 #iâdeà
__USE_FILE_OFFSET64


246 
__off_t
 
	toff_t
;

248 
__off64_t
 
	toff_t
;

250 
	#__off_t_defšed


	)

252 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


253 
__off64_t
 
	toff64_t
;

254 
	#__off64_t_defšed


	)

257 #iâdeà
__u£cÚds_t_defšed


258 
__u£cÚds_t
 
	tu£cÚds_t
;

259 
	#__u£cÚds_t_defšed


	)

262 #iâdeà
__pid_t_defšed


263 
__pid_t
 
	tpid_t
;

264 
	#__pid_t_defšed


	)

268 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


269 #iâdeà
__šŒ_t_defšed


270 
__šŒ_t
 
	tšŒ_t
;

271 
	#__šŒ_t_defšed


	)

275 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


276 #iâdeà
__sockËn_t_defšed


277 
__sockËn_t
 
	tsockËn_t
;

278 
	#__sockËn_t_defšed


	)

284 
	#R_OK
 4

	)

285 
	#W_OK
 2

	)

286 
	#X_OK
 1

	)

287 
	#F_OK
 0

	)

290 
	$acûss
 (cÚ¡ *
__Çme
, 
__ty³
è
__THROW
 
	`__nÚnuÎ
 ((1));

292 #ifdeà
__USE_GNU


295 
	$euidacûss
 (cÚ¡ *
__Çme
, 
__ty³
)

296 
__THROW
 
	`__nÚnuÎ
 ((1));

299 
	$—cûss
 (cÚ¡ *
__Çme
, 
__ty³
)

300 
__THROW
 
	`__nÚnuÎ
 ((1));

303 #ifdeà
__USE_ATFILE


307 
	$çcûs§t
 (
__fd
, cÚ¡ *
__fe
, 
__ty³
, 
__æag
)

308 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

313 #iâdef 
_STDIO_H


314 
	#SEEK_SET
 0

	)

315 
	#SEEK_CUR
 1

	)

316 
	#SEEK_END
 2

	)

317 #ifdeà
__USE_GNU


318 
	#SEEK_DATA
 3

	)

319 
	#SEEK_HOLE
 4

	)

323 #ià
defšed
 
__USE_MISC
 && !defšed 
L_SET


325 
	#L_SET
 
SEEK_SET


	)

326 
	#L_INCR
 
SEEK_CUR


	)

327 
	#L_XTND
 
SEEK_END


	)

336 #iâdeà
__USE_FILE_OFFSET64


337 
__off_t
 
	$l£ek
 (
__fd
, 
__off_t
 
__off£t
, 
__wh’û
è
__THROW
;

339 #ifdeà
__REDIRECT_NTH


340 
__off64_t
 
	`__REDIRECT_NTH
 (
l£ek
,

341 (
__fd
, 
__off64_t
 
__off£t
, 
__wh’û
),

342 
l£ek64
);

344 
	#l£ek
 
l£ek64


	)

347 #ifdeà
__USE_LARGEFILE64


348 
__off64_t
 
	$l£ek64
 (
__fd
, 
__off64_t
 
__off£t
, 
__wh’û
)

349 
__THROW
;

356 
	`şo£
 (
__fd
);

363 
ssize_t
 
	$»ad
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
è
__wur
;

369 
ssize_t
 
	$wr™e
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
è
__wur
;

371 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


372 #iâdeà
__USE_FILE_OFFSET64


379 
ssize_t
 
	$´—d
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

380 
__off_t
 
__off£t
è
__wur
;

387 
ssize_t
 
	$pwr™e
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
,

388 
__off_t
 
__off£t
è
__wur
;

390 #ifdeà
__REDIRECT


391 
ssize_t
 
	`__REDIRECT
 (
´—d
, (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

392 
__off64_t
 
__off£t
),

393 
´—d64
è
__wur
;

394 
ssize_t
 
	`__REDIRECT
 (
pwr™e
, (
__fd
, cÚ¡ *
__buf
,

395 
size_t
 
__nby‹s
, 
__off64_t
 
__off£t
),

396 
pwr™e64
è
__wur
;

398 
	#´—d
 
´—d64


	)

399 
	#pwr™e
 
pwr™e64


	)

403 #ifdeà
__USE_LARGEFILE64


407 
ssize_t
 
	$´—d64
 (
__fd
, *
__buf
, 
size_t
 
__nby‹s
,

408 
__off64_t
 
__off£t
è
__wur
;

411 
ssize_t
 
	$pwr™e64
 (
__fd
, cÚ¡ *
__buf
, 
size_t
 
__n
,

412 
__off64_t
 
__off£t
è
__wur
;

420 
	$pe
 (
__pedes
[2]è
__THROW
 
__wur
;

422 #ifdeà
__USE_GNU


425 
	$pe2
 (
__pedes
[2], 
__æags
è
__THROW
 
__wur
;

435 
	$®¬m
 (
__£cÚds
è
__THROW
;

447 
	`¦“p
 (
__£cÚds
);

449 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

450 || 
defšed
 
__USE_MISC


455 
__u£cÚds_t
 
	$u®¬m
 (
__u£cÚds_t
 
__v®ue
, __u£cÚds_ˆ
__š‹rv®
)

456 
__THROW
;

463 
	`u¦“p
 (
__u£cÚds_t
 
__u£cÚds
);

472 
	`·u£
 ();

476 
	$chown
 (cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
)

477 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

479 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


481 
	$fchown
 (
__fd
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
è
__THROW
 
__wur
;

486 
	$lchown
 (cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
, 
__gid_t
 
__group
)

487 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

491 #ifdeà
__USE_ATFILE


494 
	$fchowÇt
 (
__fd
, cÚ¡ *
__fe
, 
__uid_t
 
__owÃr
,

495 
__gid_t
 
__group
, 
__æag
)

496 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

500 
	$chdœ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

502 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


504 
	$fchdœ
 (
__fd
è
__THROW
 
__wur
;

514 *
	$g‘cwd
 (*
__buf
, 
size_t
 
__size
è
__THROW
 
__wur
;

516 #ifdef 
__USE_GNU


520 *
	$g‘_cu¼’t_dœ_Çme
 (è
__THROW
;

523 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

524 || 
defšed
 
__USE_MISC


528 *
	$g‘wd
 (*
__buf
)

529 
__THROW
 
	`__nÚnuÎ
 ((1)è
__©Œibu‹_d•»ÿ‹d__
 
__wur
;

534 
	$dup
 (
__fd
è
__THROW
 
__wur
;

537 
	$dup2
 (
__fd
, 
__fd2
è
__THROW
;

539 #ifdeà
__USE_GNU


542 
	$dup3
 (
__fd
, 
__fd2
, 
__æags
è
__THROW
;

546 **
__’vœÚ
;

547 #ifdeà
__USE_GNU


548 **
’vœÚ
;

554 
	$execve
 (cÚ¡ *
__·th
, *cÚ¡ 
__¬gv
[],

555 *cÚ¡ 
__’vp
[]è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

557 #ifdeà
__USE_XOPEN2K8


560 
	$ãxecve
 (
__fd
, *cÚ¡ 
__¬gv
[], *cÚ¡ 
__’vp
[])

561 
__THROW
 
	`__nÚnuÎ
 ((2));

566 
	$execv
 (cÚ¡ *
__·th
, *cÚ¡ 
__¬gv
[])

567 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

571 
	$exeşe
 (cÚ¡ *
__·th
, cÚ¡ *
__¬g
, ...)

572 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

576 
	$exeş
 (cÚ¡ *
__·th
, cÚ¡ *
__¬g
, ...)

577 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

581 
	$execvp
 (cÚ¡ *
__fe
, *cÚ¡ 
__¬gv
[])

582 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

587 
	$exeşp
 (cÚ¡ *
__fe
, cÚ¡ *
__¬g
, ...)

588 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

590 #ifdeà
__USE_GNU


593 
	$execv³
 (cÚ¡ *
__fe
, *cÚ¡ 
__¬gv
[],

594 *cÚ¡ 
__’vp
[])

595 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

599 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN


601 
	$niû
 (
__šc
è
__THROW
 
__wur
;

606 
	$_ex™
 (
__¡©us
è
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

612 
	~<b™s/cÚâame.h
>

615 
	$·thcÚf
 (cÚ¡ *
__·th
, 
__Çme
)

616 
__THROW
 
	`__nÚnuÎ
 ((1));

619 
	$å©hcÚf
 (
__fd
, 
__Çme
è
__THROW
;

622 
	$syscÚf
 (
__Çme
è
__THROW
;

624 #ifdef 
__USE_POSIX2


626 
size_t
 
	$cÚf¡r
 (
__Çme
, *
__buf
, 
size_t
 
__Ën
è
__THROW
;

631 
__pid_t
 
	$g‘pid
 (è
__THROW
;

634 
__pid_t
 
	$g‘µid
 (è
__THROW
;

637 
__pid_t
 
	$g‘pg½
 (è
__THROW
;

640 
__pid_t
 
	$__g‘pgid
 (
__pid_t
 
__pid
è
__THROW
;

641 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


642 
__pid_t
 
	$g‘pgid
 (
__pid_t
 
__pid
è
__THROW
;

649 
	$£gid
 (
__pid_t
 
__pid
, __pid_ˆ
__pgid
è
__THROW
;

651 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


663 
	$£g½
 (è
__THROW
;

670 
__pid_t
 
	$£tsid
 (è
__THROW
;

672 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


674 
__pid_t
 
	$g‘sid
 (
__pid_t
 
__pid
è
__THROW
;

678 
__uid_t
 
	$g‘uid
 (è
__THROW
;

681 
__uid_t
 
	$g‘euid
 (è
__THROW
;

684 
__gid_t
 
	$g‘gid
 (è
__THROW
;

687 
__gid_t
 
	$g‘egid
 (è
__THROW
;

692 
	$g‘groups
 (
__size
, 
__gid_t
 
__li¡
[]è
__THROW
 
__wur
;

694 #ifdef 
__USE_GNU


696 
	$group_memb”
 (
__gid_t
 
__gid
è
__THROW
;

703 
	$£tuid
 (
__uid_t
 
__uid
è
__THROW
 
__wur
;

705 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


708 
	$£Œeuid
 (
__uid_t
 
__ruid
, __uid_ˆ
__euid
è
__THROW
 
__wur
;

711 #ifdeà
__USE_XOPEN2K


713 
	$£‹uid
 (
__uid_t
 
__uid
è
__THROW
 
__wur
;

720 
	$£tgid
 (
__gid_t
 
__gid
è
__THROW
 
__wur
;

722 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


725 
	$£Œegid
 (
__gid_t
 
__rgid
, __gid_ˆ
__egid
è
__THROW
 
__wur
;

728 #ifdeà
__USE_XOPEN2K


730 
	$£‹gid
 (
__gid_t
 
__gid
è
__THROW
 
__wur
;

733 #ifdeà
__USE_GNU


736 
	$g‘»suid
 (
__uid_t
 *
__ruid
, __uid_ˆ*
__euid
, __uid_ˆ*
__suid
)

737 
__THROW
;

741 
	$g‘»sgid
 (
__gid_t
 *
__rgid
, __gid_ˆ*
__egid
, __gid_ˆ*
__sgid
)

742 
__THROW
;

746 
	$£Œesuid
 (
__uid_t
 
__ruid
, __uid_ˆ
__euid
, __uid_ˆ
__suid
)

747 
__THROW
 
__wur
;

751 
	$£Œesgid
 (
__gid_t
 
__rgid
, __gid_ˆ
__egid
, __gid_ˆ
__sgid
)

752 
__THROW
 
__wur
;

759 
__pid_t
 
	$fÜk
 (è
__THROWNL
;

761 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

762 || 
defšed
 
__USE_MISC


767 
__pid_t
 
	$vfÜk
 (è
__THROW
;

773 *
	$‰yÇme
 (
__fd
è
__THROW
;

777 
	$‰yÇme_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
)

778 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

782 
	$i§‰y
 (
__fd
è
__THROW
;

784 #ifdeà
__USE_MISC


787 
	$‰y¦Ù
 (è
__THROW
;

792 
	$lšk
 (cÚ¡ *
__äom
, cÚ¡ *
__to
)

793 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

795 #ifdeà
__USE_ATFILE


798 
	$lšk©
 (
__äomfd
, cÚ¡ *
__äom
, 
__tofd
,

799 cÚ¡ *
__to
, 
__æags
)

800 
__THROW
 
	`__nÚnuÎ
 ((2, 4)è
__wur
;

803 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


805 
	$symlšk
 (cÚ¡ *
__äom
, cÚ¡ *
__to
)

806 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

811 
ssize_t
 
	$»adlšk
 (cÚ¡ *
__»¡riù
 
__·th
,

812 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

813 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__wur
;

816 #ifdeà
__USE_ATFILE


818 
	$symlšk©
 (cÚ¡ *
__äom
, 
__tofd
,

819 cÚ¡ *
__to
è
__THROW
 
	`__nÚnuÎ
 ((1, 3)è
__wur
;

822 
ssize_t
 
	$»adlšk©
 (
__fd
, cÚ¡ *
__»¡riù
 
__·th
,

823 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

824 
__THROW
 
	`__nÚnuÎ
 ((2, 3)è
__wur
;

828 
	$uÆšk
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

830 #ifdeà
__USE_ATFILE


832 
	$uÆšk©
 (
__fd
, cÚ¡ *
__Çme
, 
__æag
)

833 
__THROW
 
	`__nÚnuÎ
 ((2));

837 
	$rmdœ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1));

841 
__pid_t
 
	$tcg‘pg½
 (
__fd
è
__THROW
;

844 
	$tc£g½
 (
__fd
, 
__pid_t
 
__pg½_id
è
__THROW
;

851 *
	`g‘logš
 ();

852 #ifdeà
__USE_POSIX199506


859 
	$g‘logš_r
 (*
__Çme
, 
size_t
 
__Çme_Ën
è
	`__nÚnuÎ
 ((1));

862 #ifdef 
__USE_MISC


864 
	$£ogš
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

868 #ifdef 
__USE_POSIX2


872 
	~<b™s/g‘İt_posix.h
>

876 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


880 
	$g‘ho¡Çme
 (*
__Çme
, 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((1));

884 #ià
defšed
 
__USE_MISC


887 
	$£tho¡Çme
 (cÚ¡ *
__Çme
, 
size_t
 
__Ën
)

888 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

892 
	$£tho¡id
 (
__id
è
__THROW
 
__wur
;

898 
	$g‘domašÇme
 (*
__Çme
, 
size_t
 
__Ën
)

899 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

900 
	$£tdomašÇme
 (cÚ¡ *
__Çme
, 
size_t
 
__Ën
)

901 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

907 
	$vhªgup
 (è
__THROW
;

910 
	$»voke
 (cÚ¡ *
__fe
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

918 
	$´of
 (*
__§m¶e_bufãr
, 
size_t
 
__size
,

919 
size_t
 
__off£t
, 
__sÿË
)

920 
__THROW
 
	`__nÚnuÎ
 ((1));

926 
	$acù
 (cÚ¡ *
__Çme
è
__THROW
;

930 *
	$g‘u£rsh–l
 (è
__THROW
;

931 
	$’du£rsh–l
 (è
__THROW
;

932 
	$£tu£rsh–l
 (è
__THROW
;

938 
	$d«mÚ
 (
__nochdœ
, 
__noşo£
è
__THROW
 
__wur
;

942 #ià
defšed
 
__USE_MISC
 || (defšed 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

945 
	$chroÙ
 (cÚ¡ *
__·th
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

949 *
	$g‘·ss
 (cÚ¡ *
__´om±
è
	`__nÚnuÎ
 ((1));

957 
	`fsync
 (
__fd
);

960 #ifdeà
__USE_GNU


963 
	$syncfs
 (
__fd
è
__THROW
;

967 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED


970 
	`g‘ho¡id
 ();

973 
	$sync
 (è
__THROW
;

976 #ià
defšed
 
__USE_MISC
 || !defšed 
__USE_XOPEN2K


979 
	$g‘·gesize
 (è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

984 
	$g‘dbËsize
 (è
__THROW
;

990 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


993 #iâdeà
__USE_FILE_OFFSET64


994 
	$Œunÿ‹
 (cÚ¡ *
__fe
, 
__off_t
 
__Ëngth
)

995 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

997 #ifdeà
__REDIRECT_NTH


998 
	`__REDIRECT_NTH
 (
Œunÿ‹
,

999 (cÚ¡ *
__fe
, 
__off64_t
 
__Ëngth
),

1000 
Œunÿ‹64
è
	`__nÚnuÎ
 ((1)è
__wur
;

1002 
	#Œunÿ‹
 
Œunÿ‹64


	)

1005 #ifdeà
__USE_LARGEFILE64


1006 
	$Œunÿ‹64
 (cÚ¡ *
__fe
, 
__off64_t
 
__Ëngth
)

1007 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

1012 #ià
defšed
 
__USE_POSIX199309
 \

1013 || 
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K


1016 #iâdeà
__USE_FILE_OFFSET64


1017 
	$árunÿ‹
 (
__fd
, 
__off_t
 
__Ëngth
è
__THROW
 
__wur
;

1019 #ifdeà
__REDIRECT_NTH


1020 
	`__REDIRECT_NTH
 (
árunÿ‹
, (
__fd
, 
__off64_t
 
__Ëngth
),

1021 
árunÿ‹64
è
__wur
;

1023 
	#árunÿ‹
 
árunÿ‹64


	)

1026 #ifdeà
__USE_LARGEFILE64


1027 
	$árunÿ‹64
 (
__fd
, 
__off64_t
 
__Ëngth
è
__THROW
 
__wur
;

1033 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

1034 || 
defšed
 
__USE_MISC


1038 
	$brk
 (*
__addr
è
__THROW
 
__wur
;

1044 *
	$sbrk
 (
šŒ_t
 
__d–
è
__THROW
;

1048 #ifdeà
__USE_MISC


1059 
	$sysÿÎ
 (
__sy¢o
, ...è
__THROW
;

1064 #ià(
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
è&& !defšed 
F_LOCK


1076 
	#F_ULOCK
 0

	)

1077 
	#F_LOCK
 1

	)

1078 
	#F_TLOCK
 2

	)

1079 
	#F_TEST
 3

	)

1081 #iâdeà
__USE_FILE_OFFSET64


1082 
	$lockf
 (
__fd
, 
__cmd
, 
__off_t
 
__Ën
è
__wur
;

1084 #ifdeà
__REDIRECT


1085 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
),

1086 
lockf64
è
__wur
;

1088 
	#lockf
 
lockf64


	)

1091 #ifdeà
__USE_LARGEFILE64


1092 
	$lockf64
 (
__fd
, 
__cmd
, 
__off64_t
 
__Ën
è
__wur
;

1097 #ifdeà
__USE_GNU


1102 
	#TEMP_FAILURE_RETRY
(
ex´essiÚ
) \

1103 (
__ex‹nsiÚ__
 \

1104 ({ 
__»suÉ
; \

1105 dØ
__»suÉ
 = (è(
ex´essiÚ
); \

1106 
__»suÉ
 =ğ-1L && 
”ºo
 =ğ
EINTR
); \

1107 
__»suÉ
; 
	}
}))

	)

1110 
ssize_t
 
cİy_fe_¿nge
 (
__šfd
, 
__off64_t
 *
__pšoff
,

1111 
__outfd
, 
__off64_t
 *
__poutoff
,

1112 
size_t
 
__Ëngth
, 
__æags
);

1115 #ià
defšed
 
__USE_POSIX199309
 || defšed 
__USE_UNIX98


1118 
fd©async
 (
__fdes
);

1124 #ifdef 
__USE_XOPEN


1126 *
	$üy±
 (cÚ¡ *
__key
, cÚ¡ *
__§É
)

1127 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1131 
	$’üy±
 (*
__glibc_block
, 
__edæag
)

1132 
__THROW
 
	`__nÚnuÎ
 ((1));

1139 
	$swab
 (cÚ¡ *
__»¡riù
 
__äom
, *__»¡riù 
__to
,

1140 
ssize_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1147 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K


1149 *
	$ù”mid
 (*
__s
è
__THROW
;

1152 *
	`cu£rid
 (*
__s
);

1158 #ià
defšed
 
__USE_UNIX98
 && !defšed 
__USE_XOPEN2K


1159 
	$±h»ad_©fÜk
 ((*
__´•¬e
) (),

1160 (*
__·»Á
) (),

1161 (*
__chd
è()è
__THROW
;

1164 #ifdeà
__USE_MISC


1167 
	$g‘’Œİy
 (*
__bufãr
, 
size_t
 
__Ëngth
è
__wur
;

1171 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


1172 
	~<b™s/uni¡d.h
>

1175 
__END_DECLS


	@/usr/include/wchar.h

23 #iâdeà
_WCHAR_H


24 
	#_WCHAR_H
 1

	)

26 
	#__GLIBC_INTERNAL_STARTING_HEADER_IMPLEMENTATION


	)

27 
	~<b™s/libc-h—d”-¡¬t.h
>

30 
	~<b™s/æßŠ.h
>

32 
	#__Ãed_size_t


	)

33 
	#__Ãed_wch¬_t


	)

34 
	#__Ãed_NULL


	)

35 
	~<¡ddef.h
>

37 
	#__Ãed___va_li¡


	)

38 
	~<¡d¬g.h
>

40 
	~<b™s/wch¬.h
>

41 
	~<b™s/ty³s/wšt_t.h
>

42 
	~<b™s/ty³s/mb¡©e_t.h
>

43 
	~<b™s/ty³s/__FILE.h
>

45 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


46 
	~<b™s/ty³s/FILE.h
>

48 #ifdeà
__USE_XOPEN2K8


49 
	~<b™s/ty³s/loÿË_t.h
>

53 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (4, 4)

54 
	#__CORRECT_ISO_CPP_WCHAR_H_PROTO


	)

57 #iâdeà
WCHAR_MIN


59 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

60 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

63 #iâdeà
WEOF


64 
	#WEOF
 (0xffffffffu)

	)

74 #ià(
defšed
 
__USE_XOPEN
 && !defšed 
__USE_GNU
 \

75 && !(
defšed
 
	g__USE_XOPEN2K
 && !defšed 
	g__USE_XOPEN2KXSI
))

76 
	~<b™s/wùy³-wch¬.h
>

79 
__BEGIN_DECLS


83 
	gtm
;

87 
wch¬_t
 *
	$wcsıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

88 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
)

89 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

92 
wch¬_t
 *
	$wc¢ıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

93 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

94 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

97 
wch¬_t
 *
	$wcsÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

98 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
)

99 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

101 
wch¬_t
 *
	$wc¢ÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

102 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

103 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

106 
	$wcscmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
)

107 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

109 
	$wc¢cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

110 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

112 #ifdeà
__USE_XOPEN2K8


114 
	$wcsÿ£cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
è
__THROW
;

117 
	$wc¢ÿ£cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

118 
size_t
 
__n
è
__THROW
;

122 
	$wcsÿ£cmp_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

123 
loÿË_t
 
__loc
è
__THROW
;

125 
	$wc¢ÿ£cmp_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

126 
size_t
 
__n
, 
loÿË_t
 
__loc
è
__THROW
;

131 
	$wcscŞl
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
è
__THROW
;

135 
size_t
 
	$wcsxäm
 (
wch¬_t
 *
__»¡riù
 
__s1
,

136 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
è
__THROW
;

138 #ifdeà
__USE_XOPEN2K8


144 
	$wcscŞl_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

145 
loÿË_t
 
__loc
è
__THROW
;

150 
size_t
 
	$wcsxäm_l
 (
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

151 
size_t
 
__n
, 
loÿË_t
 
__loc
è
__THROW
;

154 
wch¬_t
 *
	$wcsdup
 (cÚ¡ 
wch¬_t
 *
__s
è
__THROW
 
__©Œibu‹_m®loc__
;

158 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


159 "C++" 
wch¬_t
 *
	$wcschr
 (
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

160 
__THROW
 
	`__asm
 ("wcschr"è
__©Œibu‹_pu»__
;

161 "C++" cÚ¡ 
wch¬_t
 *
	$wcschr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

162 
__THROW
 
	`__asm
 ("wcschr"è
__©Œibu‹_pu»__
;

164 
wch¬_t
 *
	$wcschr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

165 
__THROW
 
__©Œibu‹_pu»__
;

168 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


169 "C++" 
wch¬_t
 *
	$wc¤chr
 (
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

170 
__THROW
 
	`__asm
 ("wc¤chr"è
__©Œibu‹_pu»__
;

171 "C++" cÚ¡ 
wch¬_t
 *
	$wc¤chr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

172 
__THROW
 
	`__asm
 ("wc¤chr"è
__©Œibu‹_pu»__
;

174 
wch¬_t
 *
	$wc¤chr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

175 
__THROW
 
__©Œibu‹_pu»__
;

178 #ifdeà
__USE_GNU


181 
wch¬_t
 *
	$wcschºul
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__wc
)

182 
__THROW
 
__©Œibu‹_pu»__
;

187 
size_t
 
	$wcsc¥n
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__»jeù
)

188 
__THROW
 
__©Œibu‹_pu»__
;

191 
size_t
 
	$wcs¥n
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

192 
__THROW
 
__©Œibu‹_pu»__
;

194 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


195 "C++" 
wch¬_t
 *
	$wc¥brk
 (
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

196 
__THROW
 
	`__asm
 ("wc¥brk"è
__©Œibu‹_pu»__
;

197 "C++" cÚ¡ 
wch¬_t
 *
	$wc¥brk
 (cÚ¡ 
wch¬_t
 *
__wcs
,

198 cÚ¡ 
wch¬_t
 *
__acû±
)

199 
__THROW
 
	`__asm
 ("wc¥brk"è
__©Œibu‹_pu»__
;

201 
wch¬_t
 *
	$wc¥brk
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

202 
__THROW
 
__©Œibu‹_pu»__
;

205 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


206 "C++" 
wch¬_t
 *
	$wcs¡r
 (
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

207 
__THROW
 
	`__asm
 ("wcs¡r"è
__©Œibu‹_pu»__
;

208 "C++" cÚ¡ 
wch¬_t
 *
	$wcs¡r
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
,

209 cÚ¡ 
wch¬_t
 *
__ÃedË
)

210 
__THROW
 
	`__asm
 ("wcs¡r"è
__©Œibu‹_pu»__
;

212 
wch¬_t
 *
	$wcs¡r
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

213 
__THROW
 
__©Œibu‹_pu»__
;

217 
wch¬_t
 *
	$wc¡ok
 (
wch¬_t
 *
__»¡riù
 
__s
,

218 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__d–im
,

219 
wch¬_t
 **
__»¡riù
 
__±r
è
__THROW
;

222 
size_t
 
	$wc¦’
 (cÚ¡ 
wch¬_t
 *
__s
è
__THROW
 
__©Œibu‹_pu»__
;

224 #ifdeà
__USE_XOPEN


226 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


227 "C++" 
wch¬_t
 *
	$wcswcs
 (
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

228 
__THROW
 
	`__asm
 ("wcswcs"è
__©Œibu‹_pu»__
;

229 "C++" cÚ¡ 
wch¬_t
 *
	$wcswcs
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
,

230 cÚ¡ 
wch¬_t
 *
__ÃedË
)

231 
__THROW
 
	`__asm
 ("wcswcs"è
__©Œibu‹_pu»__
;

233 
wch¬_t
 *
	$wcswcs
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

234 
__THROW
 
__©Œibu‹_pu»__
;

238 #ifdeà
__USE_XOPEN2K8


240 
size_t
 
	$wc¢Ën
 (cÚ¡ 
wch¬_t
 *
__s
, 
size_t
 
__maxËn
)

241 
__THROW
 
__©Œibu‹_pu»__
;

246 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


247 "C++" 
wch¬_t
 *
	$wmemchr
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
)

248 
__THROW
 
	`__asm
 ("wmemchr"è
__©Œibu‹_pu»__
;

249 "C++" cÚ¡ 
wch¬_t
 *
	$wmemchr
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__c
,

250 
size_t
 
__n
)

251 
__THROW
 
	`__asm
 ("wmemchr"è
__©Œibu‹_pu»__
;

253 
wch¬_t
 *
	$wmemchr
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
)

254 
__THROW
 
__©Œibu‹_pu»__
;

258 
	$wmemcmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

259 
__THROW
 
__©Œibu‹_pu»__
;

262 
wch¬_t
 *
	$wmemıy
 (
wch¬_t
 *
__»¡riù
 
__s1
,

263 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
è
__THROW
;

267 
wch¬_t
 *
	$wmemmove
 (
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

268 
__THROW
;

271 
wch¬_t
 *
	$wmem£t
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
è
__THROW
;

273 #ifdeà
__USE_GNU


276 
wch¬_t
 *
	$wmempıy
 (
wch¬_t
 *
__»¡riù
 
__s1
,

277 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
)

278 
__THROW
;

284 
wšt_t
 
	$btowc
 (
__c
è
__THROW
;

288 
	$wùob
 (
wšt_t
 
__c
è
__THROW
;

292 
	$mbsš™
 (cÚ¡ 
mb¡©e_t
 *
__ps
è
__THROW
 
__©Œibu‹_pu»__
;

296 
size_t
 
	$mb¹owc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

297 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

298 
mb¡©e_t
 *
__»¡riù
 
__p
è
__THROW
;

301 
size_t
 
	$wütomb
 (*
__»¡riù
 
__s
, 
wch¬_t
 
__wc
,

302 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

305 
size_t
 
	$__mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

306 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

307 
size_t
 
	$mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

308 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

310 #ifdeà
__USE_EXTERN_INLINES


316 
wšt_t
 
	$__btowc_®Ÿs
 (
__c
è
	`__asm
 ("btowc");

317 
__ex‹º_šlše
 
wšt_t


318 
	`__NTH
 (
	$btowc
 (
__c
))

319 {  (
	`__butš_cÚ¡ªt_p
 (
__c
) && __c >= '\0' && __c <= '\x7f'

320 ? (
wšt_t
è
__c
 : 
	`__btowc_®Ÿs
 (__c)); 
	}
}

322 
	$__wùob_®Ÿs
 (
wšt_t
 
__c
è
	`__asm
 ("wctob");

323 
__ex‹º_šlše
 

324 
	`__NTH
 (
	$wùob
 (
wšt_t
 
__wc
))

325 {  (
	`__butš_cÚ¡ªt_p
 (
__wc
è&& __wø>ğ
L
'\0' && __wc <= L'\x7f'

326 ? (è
__wc
 : 
	`__wùob_®Ÿs
 (__wc)); 
	}
}

328 
__ex‹º_šlše
 
size_t


329 
__NTH
 (
	$mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

330 
mb¡©e_t
 *
__»¡riù
 
__ps
))

331 {  (
__ps
 !ğ
NULL


332 ? 
	`mb¹owc
 (
NULL
, 
__s
, 
__n
, 
__ps
è: 
	`__mb¾’
 (__s, __n, NULL)); 
	}
}

337 
size_t
 
	$mb¤towcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

338 cÚ¡ **
__»¡riù
 
__¤c
, 
size_t
 
__Ën
,

339 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

343 
size_t
 
	$wc¤tombs
 (*
__»¡riù
 
__d¡
,

344 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
, 
size_t
 
__Ën
,

345 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

348 #ifdef 
__USE_XOPEN2K8


351 
size_t
 
	$mb¢¹owcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

352 cÚ¡ **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

353 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

357 
size_t
 
	$wc¢¹ombs
 (*
__»¡riù
 
__d¡
,

358 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
,

359 
size_t
 
__nwc
, size_ˆ
__Ën
,

360 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

365 #ifdeà
__USE_XOPEN


367 
	$wcwidth
 (
wch¬_t
 
__c
è
__THROW
;

371 
	$wcswidth
 (cÚ¡ 
wch¬_t
 *
__s
, 
size_t
 
__n
è
__THROW
;

377 
	$wc¡od
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

378 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

380 #ifdeà
__USE_ISOC99


382 
	$wc¡of
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

383 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

384 
	$wc¡Şd
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

385 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

390 #ià
__HAVE_FLOAT16
 && 
defšed
 
__USE_GNU


391 
_Flßt16
 
	$wc¡of16
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

392 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

395 #ià
__HAVE_FLOAT32
 && 
defšed
 
__USE_GNU


396 
_Flßt32
 
	$wc¡of32
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

397 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

400 #ià
__HAVE_FLOAT64
 && 
defšed
 
__USE_GNU


401 
_Flßt64
 
	$wc¡of64
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

402 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

405 #ià
__HAVE_FLOAT128
 && 
defšed
 
__USE_GNU


406 
_Flßt128
 
	$wc¡of128
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

407 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

410 #ià
__HAVE_FLOAT32X
 && 
defšed
 
__USE_GNU


411 
_Flßt32x
 
	$wc¡of32x
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

412 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

415 #ià
__HAVE_FLOAT64X
 && 
defšed
 
__USE_GNU


416 
_Flßt64x
 
	$wc¡of64x
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

417 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

420 #ià
__HAVE_FLOAT128X
 && 
defšed
 
__USE_GNU


421 
_Flßt128x
 
	$wc¡of128x
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

422 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

428 
	$wc¡Ş
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

429 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
è
__THROW
;

433 
	$wc¡oul
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

434 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

435 
__THROW
;

437 #ifdeà
__USE_ISOC99


440 
__ex‹nsiÚ__


441 
	$wc¡Şl
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

442 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

443 
__THROW
;

447 
__ex‹nsiÚ__


448 
	$wc¡ouÎ
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

449 
wch¬_t
 **
__»¡riù
 
__’d±r
,

450 
__ba£
è
__THROW
;

453 #ifdeà
__USE_GNU


456 
__ex‹nsiÚ__


457 
	$wc¡oq
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

458 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

459 
__THROW
;

463 
__ex‹nsiÚ__


464 
	$wc¡ouq
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

465 
wch¬_t
 **
__»¡riù
 
__’d±r
,

466 
__ba£
è
__THROW
;

469 #ifdeà
__USE_GNU


473 
	$wc¡Ş_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

474 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
,

475 
loÿË_t
 
__loc
è
__THROW
;

477 
	$wc¡oul_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

478 
wch¬_t
 **
__»¡riù
 
__’d±r
,

479 
__ba£
, 
loÿË_t
 
__loc
è
__THROW
;

481 
__ex‹nsiÚ__


482 
	$wc¡Şl_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

483 
wch¬_t
 **
__»¡riù
 
__’d±r
,

484 
__ba£
, 
loÿË_t
 
__loc
è
__THROW
;

486 
__ex‹nsiÚ__


487 
	$wc¡ouÎ_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

488 
wch¬_t
 **
__»¡riù
 
__’d±r
,

489 
__ba£
, 
loÿË_t
 
__loc
)

490 
__THROW
;

492 
	$wc¡od_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

493 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
loÿË_t
 
__loc
)

494 
__THROW
;

496 
	$wc¡of_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

497 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
loÿË_t
 
__loc
)

498 
__THROW
;

500 
	$wc¡Şd_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

501 
wch¬_t
 **
__»¡riù
 
__’d±r
,

502 
loÿË_t
 
__loc
è
__THROW
;

504 #ià
__HAVE_FLOAT16


505 
_Flßt16
 
	$wc¡of16_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

506 
wch¬_t
 **
__»¡riù
 
__’d±r
,

507 
loÿË_t
 
__loc
è
__THROW
;

510 #ià
__HAVE_FLOAT32


511 
_Flßt32
 
	$wc¡of32_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

512 
wch¬_t
 **
__»¡riù
 
__’d±r
,

513 
loÿË_t
 
__loc
è
__THROW
;

516 #ià
__HAVE_FLOAT64


517 
_Flßt64
 
	$wc¡of64_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

518 
wch¬_t
 **
__»¡riù
 
__’d±r
,

519 
loÿË_t
 
__loc
è
__THROW
;

522 #ià
__HAVE_FLOAT128


523 
_Flßt128
 
	$wc¡of128_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

524 
wch¬_t
 **
__»¡riù
 
__’d±r
,

525 
loÿË_t
 
__loc
è
__THROW
;

528 #ià
__HAVE_FLOAT32X


529 
_Flßt32x
 
	$wc¡of32x_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

530 
wch¬_t
 **
__»¡riù
 
__’d±r
,

531 
loÿË_t
 
__loc
è
__THROW
;

534 #ià
__HAVE_FLOAT64X


535 
_Flßt64x
 
	$wc¡of64x_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

536 
wch¬_t
 **
__»¡riù
 
__’d±r
,

537 
loÿË_t
 
__loc
è
__THROW
;

540 #ià
__HAVE_FLOAT128X


541 
_Flßt128x
 
	$wc¡of128x_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

542 
wch¬_t
 **
__»¡riù
 
__’d±r
,

543 
loÿË_t
 
__loc
è
__THROW
;

548 #ifdeà
__USE_XOPEN2K8


551 
wch¬_t
 *
	$wııy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

552 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
è
__THROW
;

556 
wch¬_t
 *
	$wınıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

557 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

558 
__THROW
;

564 #ià
defšed
 
__USE_XOPEN2K8
 || 
	`__GLIBC_USE
 (
LIB_EXT2
)

567 
__FILE
 *
	$İ’_wmem¡»am
 (
wch¬_t
 **
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW
;

570 #ià
defšed
 
__USE_ISOC95
 || defšed 
__USE_UNIX98


573 
	$fwide
 (
__FILE
 *
__å
, 
__mode
è
__THROW
;

580 
	`fw´štf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

581 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

587 
	`w´štf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

590 
	$sw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

591 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

592 
__THROW
 ;

598 
	`vfw´štf
 (
__FILE
 *
__»¡riù
 
__s
,

599 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

600 
__gnuc_va_li¡
 
__¬g
)

606 
	`vw´štf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

607 
__gnuc_va_li¡
 
__¬g
)

611 
	$vsw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

612 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

613 
__gnuc_va_li¡
 
__¬g
)

614 
__THROW
 ;

621 
	`fwsÿnf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

622 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

628 
	`wsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

631 
	$swsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

632 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

633 
__THROW
 ;

635 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

636 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

637 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

638 #ifdeà
__REDIRECT


642 
	`__REDIRECT
 (
fwsÿnf
, (
__FILE
 *
__»¡riù
 
__¡»am
,

643 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...),

644 
__isoc99_fwsÿnf
)

646 
	`__REDIRECT
 (
wsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...),

647 
__isoc99_wsÿnf
)

649 
	`__REDIRECT_NTH
 (
swsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

650 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

651 ...), 
__isoc99_swsÿnf
)

654 
	`__isoc99_fwsÿnf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

655 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

656 
	`__isoc99_wsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

657 
	$__isoc99_swsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

658 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

659 
__THROW
;

660 
	#fwsÿnf
 
__isoc99_fwsÿnf


	)

661 
	#wsÿnf
 
__isoc99_wsÿnf


	)

662 
	#swsÿnf
 
__isoc99_swsÿnf


	)

668 #ifdeà
__USE_ISOC99


673 
	`vfwsÿnf
 (
__FILE
 *
__»¡riù
 
__s
,

674 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

675 
__gnuc_va_li¡
 
__¬g
)

681 
	`vwsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

682 
__gnuc_va_li¡
 
__¬g
)

685 
	$vswsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

686 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

687 
__gnuc_va_li¡
 
__¬g
)

688 
__THROW
 ;

690 #ià!
defšed
 
__USE_GNU
 \

691 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

692 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

693 #ifdeà
__REDIRECT


694 
	`__REDIRECT
 (
vfwsÿnf
, (
__FILE
 *
__»¡riù
 
__s
,

695 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

696 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vfwsÿnf
)

698 
	`__REDIRECT
 (
vwsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

699 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vwsÿnf
)

701 
	`__REDIRECT_NTH
 (
vswsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

702 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

703 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vswsÿnf
)

706 
	`__isoc99_vfwsÿnf
 (
__FILE
 *
__»¡riù
 
__s
,

707 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

708 
__gnuc_va_li¡
 
__¬g
);

709 
	`__isoc99_vwsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

710 
__gnuc_va_li¡
 
__¬g
);

711 
	$__isoc99_vswsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

712 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

713 
__gnuc_va_li¡
 
__¬g
è
__THROW
;

714 
	#vfwsÿnf
 
__isoc99_vfwsÿnf


	)

715 
	#vwsÿnf
 
__isoc99_vwsÿnf


	)

716 
	#vswsÿnf
 
__isoc99_vswsÿnf


	)

727 
wšt_t
 
	`fg‘wc
 (
__FILE
 *
__¡»am
);

728 
wšt_t
 
	`g‘wc
 (
__FILE
 *
__¡»am
);

734 
wšt_t
 
	`g‘wch¬
 ();

741 
wšt_t
 
	`åutwc
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

742 
wšt_t
 
	`putwc
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

748 
wšt_t
 
	`putwch¬
 (
wch¬_t
 
__wc
);

756 
wch¬_t
 *
	`fg‘ws
 (wch¬_ˆ*
__»¡riù
 
__ws
, 
__n
,

757 
__FILE
 *
__»¡riù
 
__¡»am
);

763 
	`åutws
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ws
,

764 
__FILE
 *
__»¡riù
 
__¡»am
);

771 
wšt_t
 
	`ung‘wc
 (wšt_ˆ
__wc
, 
__FILE
 *
__¡»am
);

774 #ifdeà
__USE_GNU


782 
wšt_t
 
	`g‘wc_uÆocked
 (
__FILE
 *
__¡»am
);

783 
wšt_t
 
	`g‘wch¬_uÆocked
 ();

791 
wšt_t
 
	`fg‘wc_uÆocked
 (
__FILE
 *
__¡»am
);

799 
wšt_t
 
	`åutwc_uÆocked
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

808 
wšt_t
 
	`putwc_uÆocked
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

809 
wšt_t
 
	`putwch¬_uÆocked
 (
wch¬_t
 
__wc
);

818 
wch¬_t
 *
	`fg‘ws_uÆocked
 (wch¬_ˆ*
__»¡riù
 
__ws
, 
__n
,

819 
__FILE
 *
__»¡riù
 
__¡»am
);

827 
	`åutws_uÆocked
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ws
,

828 
__FILE
 *
__»¡riù
 
__¡»am
);

835 
size_t
 
	$wcsáime
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

836 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

837 cÚ¡ 
tm
 *
__»¡riù
 
__
è
__THROW
;

839 #ifdeà
__USE_GNU


842 
size_t
 
	$wcsáime_l
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

843 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

844 cÚ¡ 
tm
 *
__»¡riù
 
__
,

845 
loÿË_t
 
__loc
è
__THROW
;

849 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


850 
	~<b™s/wch¬2.h
>

853 #ifdeà
__LDBL_COMPAT


854 
	~<b™s/wch¬-ldbl.h
>

857 
__END_DECLS


	@/usr/include/alloca.h

18 #iâdef 
_ALLOCA_H


19 
	#_ALLOCA_H
 1

	)

21 
	~<ã©u»s.h
>

23 
	#__Ãed_size_t


	)

24 
	~<¡ddef.h
>

26 
	g__BEGIN_DECLS


29 #undeà
®loÿ


32 *
	$®loÿ
 (
size_t
 
__size
è
__THROW
;

34 #ifdef 
__GNUC__


35 
	#®loÿ
(
size
è
	`__butš_®loÿ
 (size)

	)

38 
__END_DECLS


	@/usr/include/features.h

18 #iâdef 
_FEATURES_H


19 
	#_FEATURES_H
 1

	)

119 #undeà
__USE_ISOC11


120 #undeà
__USE_ISOC99


121 #undeà
__USE_ISOC95


122 #undeà
__USE_ISOCXX11


123 #undeà
__USE_POSIX


124 #undeà
__USE_POSIX2


125 #undeà
__USE_POSIX199309


126 #undeà
__USE_POSIX199506


127 #undeà
__USE_XOPEN


128 #undeà
__USE_XOPEN_EXTENDED


129 #undeà
__USE_UNIX98


130 #undeà
__USE_XOPEN2K


131 #undeà
__USE_XOPEN2KXSI


132 #undeà
__USE_XOPEN2K8


133 #undeà
__USE_XOPEN2K8XSI


134 #undeà
__USE_LARGEFILE


135 #undeà
__USE_LARGEFILE64


136 #undeà
__USE_FILE_OFFSET64


137 #undeà
__USE_MISC


138 #undeà
__USE_ATFILE


139 #undeà
__USE_GNU


140 #undeà
__USE_FORTIFY_LEVEL


141 #undeà
__KERNEL_STRICT_NAMES


142 #undeà
__GLIBC_USE_DEPRECATED_GETS


146 #iâdeà
_LOOSE_KERNEL_NAMES


147 
	#__KERNEL_STRICT_NAMES


	)

157 #ià
defšed
 
__GNUC__
 && defšed 
__GNUC_MINOR__


158 
	#__GNUC_PREREQ
(
maj
, 
mš
) \

159 ((
__GNUC__
 << 16è+ 
__GNUC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

161 
	#__GNUC_PREREQ
(
maj
, 
mš
è0

	)

168 #ià
defšed
 
__şªg_majÜ__
 && defšed 
__şªg_mšÜ__


169 
	#__glibc_şªg_´”eq
(
maj
, 
mš
) \

170 ((
__şªg_majÜ__
 << 16è+ 
__şªg_mšÜ__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

172 
	#__glibc_şªg_´”eq
(
maj
, 
mš
è0

	)

176 
	#__GLIBC_USE
(
F
è
__GLIBC_USE_
 ## 
	)
F

182 #ià(
defšed
 
_BSD_SOURCE
 || defšed 
_SVID_SOURCE
) \

183 && !
defšed
 
	g_DEFAULT_SOURCE


185 #undeà
_DEFAULT_SOURCE


186 
	#_DEFAULT_SOURCE
 1

	)

190 #ifdeà
_GNU_SOURCE


191 #undeà
_ISOC95_SOURCE


192 
	#_ISOC95_SOURCE
 1

	)

193 #undeà
_ISOC99_SOURCE


194 
	#_ISOC99_SOURCE
 1

	)

195 #undeà
_ISOC11_SOURCE


196 
	#_ISOC11_SOURCE
 1

	)

197 #undeà
_POSIX_SOURCE


198 
	#_POSIX_SOURCE
 1

	)

199 #undeà
_POSIX_C_SOURCE


200 
	#_POSIX_C_SOURCE
 200809L

	)

201 #undeà
_XOPEN_SOURCE


202 
	#_XOPEN_SOURCE
 700

	)

203 #undeà
_XOPEN_SOURCE_EXTENDED


204 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

205 #undeà
_LARGEFILE64_SOURCE


206 
	#_LARGEFILE64_SOURCE
 1

	)

207 #undeà
_DEFAULT_SOURCE


208 
	#_DEFAULT_SOURCE
 1

	)

209 #undeà
_ATFILE_SOURCE


210 
	#_ATFILE_SOURCE
 1

	)

215 #ià(
defšed
 
_DEFAULT_SOURCE
 \

216 || (!
defšed
 
	g__STRICT_ANSI__
 \

217 && !
defšed
 
	g_ISOC99_SOURCE
 \

218 && !
defšed
 
	g_POSIX_SOURCE
 && !defšed 
	g_POSIX_C_SOURCE
 \

219 && !
defšed
 
	g_XOPEN_SOURCE
))

220 #undeà
_DEFAULT_SOURCE


221 
	#_DEFAULT_SOURCE
 1

	)

225 #ià(
defšed
 
_ISOC11_SOURCE
 \

226 || (
defšed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 201112L))

227 
	#__USE_ISOC11
 1

	)

231 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

232 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

233 
	#__USE_ISOC99
 1

	)

237 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

238 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

239 
	#__USE_ISOC95
 1

	)

242 #ifdeà
__ılu¥lus


244 #ià
__ılu¥lus
 >= 201703L

245 
	#__USE_ISOC11
 1

	)

249 #ià
__ılu¥lus
 >ğ201103L || 
defšed
 
__GXX_EXPERIMENTAL_CXX0X__


250 
	#__USE_ISOCXX11
 1

	)

251 
	#__USE_ISOC99
 1

	)

258 #ifdeà
_DEFAULT_SOURCE


259 #ià!
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE


260 
	#__USE_POSIX_IMPLICITLY
 1

	)

262 #undeà
_POSIX_SOURCE


263 
	#_POSIX_SOURCE
 1

	)

264 #undeà
_POSIX_C_SOURCE


265 
	#_POSIX_C_SOURCE
 200809L

	)

268 #ià((!
defšed
 
__STRICT_ANSI__
 \

269 || (
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) >= 500)) \

270 && !
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE
)

271 
	#_POSIX_SOURCE
 1

	)

272 #ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

273 
	#_POSIX_C_SOURCE
 2

	)

274 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

275 
	#_POSIX_C_SOURCE
 199506L

	)

276 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

277 
	#_POSIX_C_SOURCE
 200112L

	)

279 
	#_POSIX_C_SOURCE
 200809L

	)

281 
	#__USE_POSIX_IMPLICITLY
 1

	)

290 #ià((!
defšed
 
_POSIX_C_SOURCE
 || (_POSIX_C_SOURCE - 0) < 199506L) \

291 && (
defšed
 
_REENTRANT
 || defšed 
_THREAD_SAFE
))

292 
	#_POSIX_SOURCE
 1

	)

293 #undeà
_POSIX_C_SOURCE


294 
	#_POSIX_C_SOURCE
 199506L

	)

297 #ià(
defšed
 
_POSIX_SOURCE
 \

298 || (
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >= 1) \

299 || 
defšed
 
_XOPEN_SOURCE
)

300 
	#__USE_POSIX
 1

	)

303 #ià
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >ğ2 || defšed 
_XOPEN_SOURCE


304 
	#__USE_POSIX2
 1

	)

307 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 199309L

308 
	#__USE_POSIX199309
 1

	)

311 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 199506L

312 
	#__USE_POSIX199506
 1

	)

315 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 200112L

316 
	#__USE_XOPEN2K
 1

	)

317 #undeà
__USE_ISOC95


318 
	#__USE_ISOC95
 1

	)

319 #undeà
__USE_ISOC99


320 
	#__USE_ISOC99
 1

	)

323 #ià
defšed
 
_POSIX_C_SOURCE
 && (_POSIX_C_SOURCE - 0) >= 200809L

324 
	#__USE_XOPEN2K8
 1

	)

325 #undeà
_ATFILE_SOURCE


326 
	#_ATFILE_SOURCE
 1

	)

329 #ifdef 
_XOPEN_SOURCE


330 
	#__USE_XOPEN
 1

	)

331 #ià(
_XOPEN_SOURCE
 - 0) >= 500

332 
	#__USE_XOPEN_EXTENDED
 1

	)

333 
	#__USE_UNIX98
 1

	)

334 #undeà
_LARGEFILE_SOURCE


335 
	#_LARGEFILE_SOURCE
 1

	)

336 #ià(
_XOPEN_SOURCE
 - 0) >= 600

337 #ià(
_XOPEN_SOURCE
 - 0) >= 700

338 
	#__USE_XOPEN2K8
 1

	)

339 
	#__USE_XOPEN2K8XSI
 1

	)

341 
	#__USE_XOPEN2K
 1

	)

342 
	#__USE_XOPEN2KXSI
 1

	)

343 #undeà
__USE_ISOC95


344 
	#__USE_ISOC95
 1

	)

345 #undeà
__USE_ISOC99


346 
	#__USE_ISOC99
 1

	)

349 #ifdeà
_XOPEN_SOURCE_EXTENDED


350 
	#__USE_XOPEN_EXTENDED
 1

	)

355 #ifdeà
_LARGEFILE_SOURCE


356 
	#__USE_LARGEFILE
 1

	)

359 #ifdeà
_LARGEFILE64_SOURCE


360 
	#__USE_LARGEFILE64
 1

	)

363 #ià
defšed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

364 
	#__USE_FILE_OFFSET64
 1

	)

367 #ià
defšed
 
_DEFAULT_SOURCE


368 
	#__USE_MISC
 1

	)

371 #ifdef 
_ATFILE_SOURCE


372 
	#__USE_ATFILE
 1

	)

375 #ifdef 
_GNU_SOURCE


376 
	#__USE_GNU
 1

	)

379 #ià
defšed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0 \

380 && 
__GNUC_PREREQ
 (4, 1è&& 
defšed
 
	g__OPTIMIZE__
 && __OPTIMIZE__ > 0

381 #ià
_FORTIFY_SOURCE
 > 1

382 
	#__USE_FORTIFY_LEVEL
 2

	)

384 
	#__USE_FORTIFY_LEVEL
 1

	)

387 
	#__USE_FORTIFY_LEVEL
 0

	)

394 #ià
defšed
 
__ılu¥lus
 ? __ılu¥lu >ğ201402L : defšed 
__USE_ISOC11


395 
	#__GLIBC_USE_DEPRECATED_GETS
 0

	)

397 
	#__GLIBC_USE_DEPRECATED_GETS
 1

	)

402 
	~<¡dc-´edef.h
>

410 #undeà
__GNU_LIBRARY__


411 
	#__GNU_LIBRARY__
 6

	)

415 
	#__GLIBC__
 2

	)

416 
	#__GLIBC_MINOR__
 27

	)

418 
	#__GLIBC_PREREQ
(
maj
, 
mš
) \

419 ((
__GLIBC__
 << 16è+ 
__GLIBC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

422 #iâdeà
__ASSEMBLER__


423 #iâdeà
_SYS_CDEFS_H


424 
	~<sys/cdefs.h
>

429 #ià
defšed
 
__USE_FILE_OFFSET64
 && !defšed 
__REDIRECT


430 
	#__USE_LARGEFILE
 1

	)

431 
	#__USE_LARGEFILE64
 1

	)

437 #ià
__GNUC_PREREQ
 (2, 7è&& 
defšed
 
__OPTIMIZE__
 \

438 && !
defšed
 
	g__OPTIMIZE_SIZE__
 && !defšed 
	g__NO_INLINE__
 \

439 && 
defšed
 
	g__ex‹º_šlše


440 
	#__USE_EXTERN_INLINES
 1

	)

448 
	~<gnu/¡ubs.h
>

	@/usr/include/linux/if_addr.h

2 #iâdeà
__LINUX_IF_ADDR_H


3 
	#__LINUX_IF_ADDR_H


	)

5 
	~<lšux/ty³s.h
>

6 
	~<lšux/Ãšk.h
>

8 
	siçddrmsg
 {

9 
__u8
 
	miç_çmy
;

10 
__u8
 
	miç_´efixËn
;

11 
__u8
 
	miç_æags
;

12 
__u8
 
	miç_scİe
;

13 
__u32
 
	miç_šdex
;

27 
	mIFA_UNSPEC
,

28 
	mIFA_ADDRESS
,

29 
	mIFA_LOCAL
,

30 
	mIFA_LABEL
,

31 
	mIFA_BROADCAST
,

32 
	mIFA_ANYCAST
,

33 
	mIFA_CACHEINFO
,

34 
	mIFA_MULTICAST
,

35 
	mIFA_FLAGS
,

36 
	m__IFA_MAX
,

39 
	#IFA_MAX
 (
__IFA_MAX
 - 1)

	)

42 
	#IFA_F_SECONDARY
 0x01

	)

43 
	#IFA_F_TEMPORARY
 
IFA_F_SECONDARY


	)

45 
	#IFA_F_NODAD
 0x02

	)

46 
	#IFA_F_OPTIMISTIC
 0x04

	)

47 
	#IFA_F_DADFAILED
 0x08

	)

48 
	#IFA_F_HOMEADDRESS
 0x10

	)

49 
	#IFA_F_DEPRECATED
 0x20

	)

50 
	#IFA_F_TENTATIVE
 0x40

	)

51 
	#IFA_F_PERMANENT
 0x80

	)

52 
	#IFA_F_MANAGETEMPADDR
 0x100

	)

53 
	#IFA_F_NOPREFIXROUTE
 0x200

	)

54 
	#IFA_F_MCAUTOJOIN
 0x400

	)

55 
	#IFA_F_STABLE_PRIVACY
 0x800

	)

57 
	siç_ÿchešfo
 {

58 
__u32
 
	miç_´eã»d
;

59 
__u32
 
	miç_v®id
;

60 
__u32
 
	mc¡amp
;

61 
__u32
 
	mt¡amp
;

65 
	#IFA_RTA
(
r
è((
¹©Œ
*)(((*)Ô)è+ 
	`NLMSG_ALIGN
((
içddrmsg
))))

	)

66 
	#IFA_PAYLOAD
(
n
è
	`NLMSG_PAYLOAD
Ò,(
içddrmsg
))

	)

	@/usr/include/linux/if_link.h

2 #iâdeà
_LINUX_IF_LINK_H


3 
	#_LINUX_IF_LINK_H


	)

5 
	~<lšux/ty³s.h
>

6 
	~<lšux/Ãšk.h
>

9 
	s¹Æ_lšk_¡©s
 {

10 
__u32
 
	mrx_·ck‘s
;

11 
__u32
 
	mtx_·ck‘s
;

12 
__u32
 
	mrx_by‹s
;

13 
__u32
 
	mtx_by‹s
;

14 
__u32
 
	mrx_”rÜs
;

15 
__u32
 
	mtx_”rÜs
;

16 
__u32
 
	mrx_drİ³d
;

17 
__u32
 
	mtx_drİ³d
;

18 
__u32
 
	mmuÉiÿ¡
;

19 
__u32
 
	mcŞlisiÚs
;

22 
__u32
 
	mrx_Ëngth_”rÜs
;

23 
__u32
 
	mrx_ov”_”rÜs
;

24 
__u32
 
	mrx_üc_”rÜs
;

25 
__u32
 
	mrx_äame_”rÜs
;

26 
__u32
 
	mrx_fifo_”rÜs
;

27 
__u32
 
	mrx_mis£d_”rÜs
;

30 
__u32
 
	mtx_abÜ‹d_”rÜs
;

31 
__u32
 
	mtx_ÿ¼›r_”rÜs
;

32 
__u32
 
	mtx_fifo_”rÜs
;

33 
__u32
 
	mtx_h—¹b—t_”rÜs
;

34 
__u32
 
	mtx_wšdow_”rÜs
;

37 
__u32
 
	mrx_com´es£d
;

38 
__u32
 
	mtx_com´es£d
;

40 
__u32
 
	mrx_nohªdËr
;

44 
	s¹Æ_lšk_¡©s64
 {

45 
__u64
 
	mrx_·ck‘s
;

46 
__u64
 
	mtx_·ck‘s
;

47 
__u64
 
	mrx_by‹s
;

48 
__u64
 
	mtx_by‹s
;

49 
__u64
 
	mrx_”rÜs
;

50 
__u64
 
	mtx_”rÜs
;

51 
__u64
 
	mrx_drİ³d
;

52 
__u64
 
	mtx_drİ³d
;

53 
__u64
 
	mmuÉiÿ¡
;

54 
__u64
 
	mcŞlisiÚs
;

57 
__u64
 
	mrx_Ëngth_”rÜs
;

58 
__u64
 
	mrx_ov”_”rÜs
;

59 
__u64
 
	mrx_üc_”rÜs
;

60 
__u64
 
	mrx_äame_”rÜs
;

61 
__u64
 
	mrx_fifo_”rÜs
;

62 
__u64
 
	mrx_mis£d_”rÜs
;

65 
__u64
 
	mtx_abÜ‹d_”rÜs
;

66 
__u64
 
	mtx_ÿ¼›r_”rÜs
;

67 
__u64
 
	mtx_fifo_”rÜs
;

68 
__u64
 
	mtx_h—¹b—t_”rÜs
;

69 
__u64
 
	mtx_wšdow_”rÜs
;

72 
__u64
 
	mrx_com´es£d
;

73 
__u64
 
	mtx_com´es£d
;

75 
__u64
 
	mrx_nohªdËr
;

79 
	s¹Æ_lšk_ifm­
 {

80 
__u64
 
	mmem_¡¬t
;

81 
__u64
 
	mmem_’d
;

82 
__u64
 
	mba£_addr
;

83 
__u16
 
	mœq
;

84 
__u8
 
	mdma
;

85 
__u8
 
	mpÜt
;

107 
	mIFLA_UNSPEC
,

108 
	mIFLA_ADDRESS
,

109 
	mIFLA_BROADCAST
,

110 
	mIFLA_IFNAME
,

111 
	mIFLA_MTU
,

112 
	mIFLA_LINK
,

113 
	mIFLA_QDISC
,

114 
	mIFLA_STATS
,

115 
	mIFLA_COST
,

116 
	#IFLA_COST
 
IFLA_COST


	)

117 
	mIFLA_PRIORITY
,

118 
	#IFLA_PRIORITY
 
IFLA_PRIORITY


	)

119 
	mIFLA_MASTER
,

120 
	#IFLA_MASTER
 
IFLA_MASTER


	)

121 
	mIFLA_WIRELESS
,

122 
	#IFLA_WIRELESS
 
IFLA_WIRELESS


	)

123 
	mIFLA_PROTINFO
,

124 
	#IFLA_PROTINFO
 
IFLA_PROTINFO


	)

125 
	mIFLA_TXQLEN
,

126 
	#IFLA_TXQLEN
 
IFLA_TXQLEN


	)

127 
	mIFLA_MAP
,

128 
	#IFLA_MAP
 
IFLA_MAP


	)

129 
	mIFLA_WEIGHT
,

130 
	#IFLA_WEIGHT
 
IFLA_WEIGHT


	)

131 
	mIFLA_OPERSTATE
,

132 
	mIFLA_LINKMODE
,

133 
	mIFLA_LINKINFO
,

134 
	#IFLA_LINKINFO
 
IFLA_LINKINFO


	)

135 
	mIFLA_NET_NS_PID
,

136 
	mIFLA_IFALIAS
,

137 
	mIFLA_NUM_VF
,

138 
	mIFLA_VFINFO_LIST
,

139 
	mIFLA_STATS64
,

140 
	mIFLA_VF_PORTS
,

141 
	mIFLA_PORT_SELF
,

142 
	mIFLA_AF_SPEC
,

143 
	mIFLA_GROUP
,

144 
	mIFLA_NET_NS_FD
,

145 
	mIFLA_EXT_MASK
,

146 
	mIFLA_PROMISCUITY
,

147 
	#IFLA_PROMISCUITY
 
IFLA_PROMISCUITY


	)

148 
	mIFLA_NUM_TX_QUEUES
,

149 
	mIFLA_NUM_RX_QUEUES
,

150 
	mIFLA_CARRIER
,

151 
	mIFLA_PHYS_PORT_ID
,

152 
	mIFLA_CARRIER_CHANGES
,

153 
	mIFLA_PHYS_SWITCH_ID
,

154 
	mIFLA_LINK_NETNSID
,

155 
	mIFLA_PHYS_PORT_NAME
,

156 
	mIFLA_PROTO_DOWN
,

157 
	mIFLA_GSO_MAX_SEGS
,

158 
	mIFLA_GSO_MAX_SIZE
,

159 
	mIFLA_PAD
,

160 
	mIFLA_XDP
,

161 
	mIFLA_EVENT
,

162 
	mIFLA_NEW_NETNSID
,

163 
	mIFLA_IF_NETNSID
,

164 
	mIFLA_CARRIER_UP_COUNT
,

165 
	mIFLA_CARRIER_DOWN_COUNT
,

166 
	mIFLA_NEW_IFINDEX
,

167 
	m__IFLA_MAX


171 
	#IFLA_MAX
 (
__IFLA_MAX
 - 1)

	)

174 
	#IFLA_RTA
(
r
è((
¹©Œ
*)(((*)Ô)è+ 
	`NLMSG_ALIGN
((
ifšfomsg
))))

	)

175 
	#IFLA_PAYLOAD
(
n
è
	`NLMSG_PAYLOAD
Ò,(
ifšfomsg
))

	)

178 
	mIFLA_INET_UNSPEC
,

179 
	mIFLA_INET_CONF
,

180 
	m__IFLA_INET_MAX
,

183 
	#IFLA_INET_MAX
 (
__IFLA_INET_MAX
 - 1)

	)

216 
	mIFLA_INET6_UNSPEC
,

217 
	mIFLA_INET6_FLAGS
,

218 
	mIFLA_INET6_CONF
,

219 
	mIFLA_INET6_STATS
,

220 
	mIFLA_INET6_MCAST
,

221 
	mIFLA_INET6_CACHEINFO
,

222 
	mIFLA_INET6_ICMP6STATS
,

223 
	mIFLA_INET6_TOKEN
,

224 
	mIFLA_INET6_ADDR_GEN_MODE
,

225 
	m__IFLA_INET6_MAX


228 
	#IFLA_INET6_MAX
 (
__IFLA_INET6_MAX
 - 1)

	)

230 
	eš6_addr_g’_mode
 {

231 
	mIN6_ADDR_GEN_MODE_EUI64
,

232 
	mIN6_ADDR_GEN_MODE_NONE
,

233 
	mIN6_ADDR_GEN_MODE_STABLE_PRIVACY
,

234 
	mIN6_ADDR_GEN_MODE_RANDOM
,

240 
	mIFLA_BR_UNSPEC
,

241 
	mIFLA_BR_FORWARD_DELAY
,

242 
	mIFLA_BR_HELLO_TIME
,

243 
	mIFLA_BR_MAX_AGE
,

244 
	mIFLA_BR_AGEING_TIME
,

245 
	mIFLA_BR_STP_STATE
,

246 
	mIFLA_BR_PRIORITY
,

247 
	mIFLA_BR_VLAN_FILTERING
,

248 
	mIFLA_BR_VLAN_PROTOCOL
,

249 
	mIFLA_BR_GROUP_FWD_MASK
,

250 
	mIFLA_BR_ROOT_ID
,

251 
	mIFLA_BR_BRIDGE_ID
,

252 
	mIFLA_BR_ROOT_PORT
,

253 
	mIFLA_BR_ROOT_PATH_COST
,

254 
	mIFLA_BR_TOPOLOGY_CHANGE
,

255 
	mIFLA_BR_TOPOLOGY_CHANGE_DETECTED
,

256 
	mIFLA_BR_HELLO_TIMER
,

257 
	mIFLA_BR_TCN_TIMER
,

258 
	mIFLA_BR_TOPOLOGY_CHANGE_TIMER
,

259 
	mIFLA_BR_GC_TIMER
,

260 
	mIFLA_BR_GROUP_ADDR
,

261 
	mIFLA_BR_FDB_FLUSH
,

262 
	mIFLA_BR_MCAST_ROUTER
,

263 
	mIFLA_BR_MCAST_SNOOPING
,

264 
	mIFLA_BR_MCAST_QUERY_USE_IFADDR
,

265 
	mIFLA_BR_MCAST_QUERIER
,

266 
	mIFLA_BR_MCAST_HASH_ELASTICITY
,

267 
	mIFLA_BR_MCAST_HASH_MAX
,

268 
	mIFLA_BR_MCAST_LAST_MEMBER_CNT
,

269 
	mIFLA_BR_MCAST_STARTUP_QUERY_CNT
,

270 
	mIFLA_BR_MCAST_LAST_MEMBER_INTVL
,

271 
	mIFLA_BR_MCAST_MEMBERSHIP_INTVL
,

272 
	mIFLA_BR_MCAST_QUERIER_INTVL
,

273 
	mIFLA_BR_MCAST_QUERY_INTVL
,

274 
	mIFLA_BR_MCAST_QUERY_RESPONSE_INTVL
,

275 
	mIFLA_BR_MCAST_STARTUP_QUERY_INTVL
,

276 
	mIFLA_BR_NF_CALL_IPTABLES
,

277 
	mIFLA_BR_NF_CALL_IP6TABLES
,

278 
	mIFLA_BR_NF_CALL_ARPTABLES
,

279 
	mIFLA_BR_VLAN_DEFAULT_PVID
,

280 
	mIFLA_BR_PAD
,

281 
	mIFLA_BR_VLAN_STATS_ENABLED
,

282 
	mIFLA_BR_MCAST_STATS_ENABLED
,

283 
	mIFLA_BR_MCAST_IGMP_VERSION
,

284 
	mIFLA_BR_MCAST_MLD_VERSION
,

285 
	m__IFLA_BR_MAX
,

288 
	#IFLA_BR_MAX
 (
__IFLA_BR_MAX
 - 1)

	)

290 
	siæa_bridge_id
 {

291 
__u8
 
	m´io
[2];

292 
__u8
 
	maddr
[6];

296 
	mBRIDGE_MODE_UNSPEC
,

297 
	mBRIDGE_MODE_HAIRPIN
,

301 
	mIFLA_BRPORT_UNSPEC
,

302 
	mIFLA_BRPORT_STATE
,

303 
	mIFLA_BRPORT_PRIORITY
,

304 
	mIFLA_BRPORT_COST
,

305 
	mIFLA_BRPORT_MODE
,

306 
	mIFLA_BRPORT_GUARD
,

307 
	mIFLA_BRPORT_PROTECT
,

308 
	mIFLA_BRPORT_FAST_LEAVE
,

309 
	mIFLA_BRPORT_LEARNING
,

310 
	mIFLA_BRPORT_UNICAST_FLOOD
,

311 
	mIFLA_BRPORT_PROXYARP
,

312 
	mIFLA_BRPORT_LEARNING_SYNC
,

313 
	mIFLA_BRPORT_PROXYARP_WIFI
,

314 
	mIFLA_BRPORT_ROOT_ID
,

315 
	mIFLA_BRPORT_BRIDGE_ID
,

316 
	mIFLA_BRPORT_DESIGNATED_PORT
,

317 
	mIFLA_BRPORT_DESIGNATED_COST
,

318 
	mIFLA_BRPORT_ID
,

319 
	mIFLA_BRPORT_NO
,

320 
	mIFLA_BRPORT_TOPOLOGY_CHANGE_ACK
,

321 
	mIFLA_BRPORT_CONFIG_PENDING
,

322 
	mIFLA_BRPORT_MESSAGE_AGE_TIMER
,

323 
	mIFLA_BRPORT_FORWARD_DELAY_TIMER
,

324 
	mIFLA_BRPORT_HOLD_TIMER
,

325 
	mIFLA_BRPORT_FLUSH
,

326 
	mIFLA_BRPORT_MULTICAST_ROUTER
,

327 
	mIFLA_BRPORT_PAD
,

328 
	mIFLA_BRPORT_MCAST_FLOOD
,

329 
	mIFLA_BRPORT_MCAST_TO_UCAST
,

330 
	mIFLA_BRPORT_VLAN_TUNNEL
,

331 
	mIFLA_BRPORT_BCAST_FLOOD
,

332 
	mIFLA_BRPORT_GROUP_FWD_MASK
,

333 
	mIFLA_BRPORT_NEIGH_SUPPRESS
,

334 
	m__IFLA_BRPORT_MAX


336 
	#IFLA_BRPORT_MAX
 (
__IFLA_BRPORT_MAX
 - 1)

	)

338 
	siæa_ÿchešfo
 {

339 
__u32
 
	mmax_»asm_Ën
;

340 
__u32
 
	mt¡amp
;

341 
__u32
 
	m»achabË_time
;

342 
__u32
 
	m»Œªs_time
;

346 
	mIFLA_INFO_UNSPEC
,

347 
	mIFLA_INFO_KIND
,

348 
	mIFLA_INFO_DATA
,

349 
	mIFLA_INFO_XSTATS
,

350 
	mIFLA_INFO_SLAVE_KIND
,

351 
	mIFLA_INFO_SLAVE_DATA
,

352 
	m__IFLA_INFO_MAX
,

355 
	#IFLA_INFO_MAX
 (
__IFLA_INFO_MAX
 - 1)

	)

360 
	mIFLA_VLAN_UNSPEC
,

361 
	mIFLA_VLAN_ID
,

362 
	mIFLA_VLAN_FLAGS
,

363 
	mIFLA_VLAN_EGRESS_QOS
,

364 
	mIFLA_VLAN_INGRESS_QOS
,

365 
	mIFLA_VLAN_PROTOCOL
,

366 
	m__IFLA_VLAN_MAX
,

369 
	#IFLA_VLAN_MAX
 (
__IFLA_VLAN_MAX
 - 1)

	)

371 
	siæa_vÏn_æags
 {

372 
__u32
 
	mæags
;

373 
__u32
 
	mmask
;

377 
	mIFLA_VLAN_QOS_UNSPEC
,

378 
	mIFLA_VLAN_QOS_MAPPING
,

379 
	m__IFLA_VLAN_QOS_MAX


382 
	#IFLA_VLAN_QOS_MAX
 (
__IFLA_VLAN_QOS_MAX
 - 1)

	)

384 
	siæa_vÏn_qos_m­pšg
 {

385 
__u32
 
	mäom
;

386 
__u32
 
	mto
;

391 
	mIFLA_MACVLAN_UNSPEC
,

392 
	mIFLA_MACVLAN_MODE
,

393 
	mIFLA_MACVLAN_FLAGS
,

394 
	mIFLA_MACVLAN_MACADDR_MODE
,

395 
	mIFLA_MACVLAN_MACADDR
,

396 
	mIFLA_MACVLAN_MACADDR_DATA
,

397 
	mIFLA_MACVLAN_MACADDR_COUNT
,

398 
	m__IFLA_MACVLAN_MAX
,

401 
	#IFLA_MACVLAN_MAX
 (
__IFLA_MACVLAN_MAX
 - 1)

	)

403 
	emacvÏn_mode
 {

404 
	mMACVLAN_MODE_PRIVATE
 = 1,

405 
	mMACVLAN_MODE_VEPA
 = 2,

406 
	mMACVLAN_MODE_BRIDGE
 = 4,

407 
	mMACVLAN_MODE_PASSTHRU
 = 8,

408 
	mMACVLAN_MODE_SOURCE
 = 16,

411 
	emacvÏn_maÿddr_mode
 {

412 
	mMACVLAN_MACADDR_ADD
,

413 
	mMACVLAN_MACADDR_DEL
,

414 
	mMACVLAN_MACADDR_FLUSH
,

415 
	mMACVLAN_MACADDR_SET
,

418 
	#MACVLAN_FLAG_NOPROMISC
 1

	)

422 
	mIFLA_VRF_UNSPEC
,

423 
	mIFLA_VRF_TABLE
,

424 
	m__IFLA_VRF_MAX


427 
	#IFLA_VRF_MAX
 (
__IFLA_VRF_MAX
 - 1)

	)

430 
	mIFLA_VRF_PORT_UNSPEC
,

431 
	mIFLA_VRF_PORT_TABLE
,

432 
	m__IFLA_VRF_PORT_MAX


435 
	#IFLA_VRF_PORT_MAX
 (
__IFLA_VRF_PORT_MAX
 - 1)

	)

439 
	mIFLA_MACSEC_UNSPEC
,

440 
	mIFLA_MACSEC_SCI
,

441 
	mIFLA_MACSEC_PORT
,

442 
	mIFLA_MACSEC_ICV_LEN
,

443 
	mIFLA_MACSEC_CIPHER_SUITE
,

444 
	mIFLA_MACSEC_WINDOW
,

445 
	mIFLA_MACSEC_ENCODING_SA
,

446 
	mIFLA_MACSEC_ENCRYPT
,

447 
	mIFLA_MACSEC_PROTECT
,

448 
	mIFLA_MACSEC_INC_SCI
,

449 
	mIFLA_MACSEC_ES
,

450 
	mIFLA_MACSEC_SCB
,

451 
	mIFLA_MACSEC_REPLAY_PROTECT
,

452 
	mIFLA_MACSEC_VALIDATION
,

453 
	mIFLA_MACSEC_PAD
,

454 
	m__IFLA_MACSEC_MAX
,

457 
	#IFLA_MACSEC_MAX
 (
__IFLA_MACSEC_MAX
 - 1)

	)

459 
	emac£c_v®id©iÚ_ty³
 {

460 
	mMACSEC_VALIDATE_DISABLED
 = 0,

461 
	mMACSEC_VALIDATE_CHECK
 = 1,

462 
	mMACSEC_VALIDATE_STRICT
 = 2,

463 
	m__MACSEC_VALIDATE_END
,

464 
	mMACSEC_VALIDATE_MAX
 = 
__MACSEC_VALIDATE_END
 - 1,

469 
	mIFLA_IPVLAN_UNSPEC
,

470 
	mIFLA_IPVLAN_MODE
,

471 
	mIFLA_IPVLAN_FLAGS
,

472 
	m__IFLA_IPVLAN_MAX


475 
	#IFLA_IPVLAN_MAX
 (
__IFLA_IPVLAN_MAX
 - 1)

	)

477 
	evÏn_mode
 {

478 
	mIPVLAN_MODE_L2
 = 0,

479 
	mIPVLAN_MODE_L3
,

480 
	mIPVLAN_MODE_L3S
,

481 
	mIPVLAN_MODE_MAX


484 
	#IPVLAN_F_PRIVATE
 0x01

	)

485 
	#IPVLAN_F_VEPA
 0x02

	)

489 
	mIFLA_VXLAN_UNSPEC
,

490 
	mIFLA_VXLAN_ID
,

491 
	mIFLA_VXLAN_GROUP
,

492 
	mIFLA_VXLAN_LINK
,

493 
	mIFLA_VXLAN_LOCAL
,

494 
	mIFLA_VXLAN_TTL
,

495 
	mIFLA_VXLAN_TOS
,

496 
	mIFLA_VXLAN_LEARNING
,

497 
	mIFLA_VXLAN_AGEING
,

498 
	mIFLA_VXLAN_LIMIT
,

499 
	mIFLA_VXLAN_PORT_RANGE
,

500 
	mIFLA_VXLAN_PROXY
,

501 
	mIFLA_VXLAN_RSC
,

502 
	mIFLA_VXLAN_L2MISS
,

503 
	mIFLA_VXLAN_L3MISS
,

504 
	mIFLA_VXLAN_PORT
,

505 
	mIFLA_VXLAN_GROUP6
,

506 
	mIFLA_VXLAN_LOCAL6
,

507 
	mIFLA_VXLAN_UDP_CSUM
,

508 
	mIFLA_VXLAN_UDP_ZERO_CSUM6_TX
,

509 
	mIFLA_VXLAN_UDP_ZERO_CSUM6_RX
,

510 
	mIFLA_VXLAN_REMCSUM_TX
,

511 
	mIFLA_VXLAN_REMCSUM_RX
,

512 
	mIFLA_VXLAN_GBP
,

513 
	mIFLA_VXLAN_REMCSUM_NOPARTIAL
,

514 
	mIFLA_VXLAN_COLLECT_METADATA
,

515 
	mIFLA_VXLAN_LABEL
,

516 
	mIFLA_VXLAN_GPE
,

517 
	mIFLA_VXLAN_FAN_MAP
 = 33,

518 
	m__IFLA_VXLAN_MAX


520 
	#IFLA_VXLAN_MAX
 (
__IFLA_VXLAN_MAX
 - 1)

	)

522 
	siæa_vxÏn_pÜt_¿nge
 {

523 
__be16
 
	mlow
;

524 
__be16
 
	mhigh
;

529 
	mIFLA_GENEVE_UNSPEC
,

530 
	mIFLA_GENEVE_ID
,

531 
	mIFLA_GENEVE_REMOTE
,

532 
	mIFLA_GENEVE_TTL
,

533 
	mIFLA_GENEVE_TOS
,

534 
	mIFLA_GENEVE_PORT
,

535 
	mIFLA_GENEVE_COLLECT_METADATA
,

536 
	mIFLA_GENEVE_REMOTE6
,

537 
	mIFLA_GENEVE_UDP_CSUM
,

538 
	mIFLA_GENEVE_UDP_ZERO_CSUM6_TX
,

539 
	mIFLA_GENEVE_UDP_ZERO_CSUM6_RX
,

540 
	mIFLA_GENEVE_LABEL
,

541 
	m__IFLA_GENEVE_MAX


543 
	#IFLA_GENEVE_MAX
 (
__IFLA_GENEVE_MAX
 - 1)

	)

547 
	mIFLA_PPP_UNSPEC
,

548 
	mIFLA_PPP_DEV_FD
,

549 
	m__IFLA_PPP_MAX


551 
	#IFLA_PPP_MAX
 (
__IFLA_PPP_MAX
 - 1)

	)

555 
	eiæa_g_rŞe
 {

556 
	mGTP_ROLE_GGSN
 = 0,

557 
	mGTP_ROLE_SGSN
,

561 
	mIFLA_GTP_UNSPEC
,

562 
	mIFLA_GTP_FD0
,

563 
	mIFLA_GTP_FD1
,

564 
	mIFLA_GTP_PDP_HASHSIZE
,

565 
	mIFLA_GTP_ROLE
,

566 
	m__IFLA_GTP_MAX
,

568 
	#IFLA_GTP_MAX
 (
__IFLA_GTP_MAX
 - 1)

	)

573 
	mIFLA_BOND_UNSPEC
,

574 
	mIFLA_BOND_MODE
,

575 
	mIFLA_BOND_ACTIVE_SLAVE
,

576 
	mIFLA_BOND_MIIMON
,

577 
	mIFLA_BOND_UPDELAY
,

578 
	mIFLA_BOND_DOWNDELAY
,

579 
	mIFLA_BOND_USE_CARRIER
,

580 
	mIFLA_BOND_ARP_INTERVAL
,

581 
	mIFLA_BOND_ARP_IP_TARGET
,

582 
	mIFLA_BOND_ARP_VALIDATE
,

583 
	mIFLA_BOND_ARP_ALL_TARGETS
,

584 
	mIFLA_BOND_PRIMARY
,

585 
	mIFLA_BOND_PRIMARY_RESELECT
,

586 
	mIFLA_BOND_FAIL_OVER_MAC
,

587 
	mIFLA_BOND_XMIT_HASH_POLICY
,

588 
	mIFLA_BOND_RESEND_IGMP
,

589 
	mIFLA_BOND_NUM_PEER_NOTIF
,

590 
	mIFLA_BOND_ALL_SLAVES_ACTIVE
,

591 
	mIFLA_BOND_MIN_LINKS
,

592 
	mIFLA_BOND_LP_INTERVAL
,

593 
	mIFLA_BOND_PACKETS_PER_SLAVE
,

594 
	mIFLA_BOND_AD_LACP_RATE
,

595 
	mIFLA_BOND_AD_SELECT
,

596 
	mIFLA_BOND_AD_INFO
,

597 
	mIFLA_BOND_AD_ACTOR_SYS_PRIO
,

598 
	mIFLA_BOND_AD_USER_PORT_KEY
,

599 
	mIFLA_BOND_AD_ACTOR_SYSTEM
,

600 
	mIFLA_BOND_TLB_DYNAMIC_LB
,

601 
	m__IFLA_BOND_MAX
,

604 
	#IFLA_BOND_MAX
 (
__IFLA_BOND_MAX
 - 1)

	)

607 
	mIFLA_BOND_AD_INFO_UNSPEC
,

608 
	mIFLA_BOND_AD_INFO_AGGREGATOR
,

609 
	mIFLA_BOND_AD_INFO_NUM_PORTS
,

610 
	mIFLA_BOND_AD_INFO_ACTOR_KEY
,

611 
	mIFLA_BOND_AD_INFO_PARTNER_KEY
,

612 
	mIFLA_BOND_AD_INFO_PARTNER_MAC
,

613 
	m__IFLA_BOND_AD_INFO_MAX
,

616 
	#IFLA_BOND_AD_INFO_MAX
 (
__IFLA_BOND_AD_INFO_MAX
 - 1)

	)

619 
	mIFLA_BOND_SLAVE_UNSPEC
,

620 
	mIFLA_BOND_SLAVE_STATE
,

621 
	mIFLA_BOND_SLAVE_MII_STATUS
,

622 
	mIFLA_BOND_SLAVE_LINK_FAILURE_COUNT
,

623 
	mIFLA_BOND_SLAVE_PERM_HWADDR
,

624 
	mIFLA_BOND_SLAVE_QUEUE_ID
,

625 
	mIFLA_BOND_SLAVE_AD_AGGREGATOR_ID
,

626 
	mIFLA_BOND_SLAVE_AD_ACTOR_OPER_PORT_STATE
,

627 
	mIFLA_BOND_SLAVE_AD_PARTNER_OPER_PORT_STATE
,

628 
	m__IFLA_BOND_SLAVE_MAX
,

631 
	#IFLA_BOND_SLAVE_MAX
 (
__IFLA_BOND_SLAVE_MAX
 - 1)

	)

636 
	mIFLA_VF_INFO_UNSPEC
,

637 
	mIFLA_VF_INFO
,

638 
	m__IFLA_VF_INFO_MAX
,

641 
	#IFLA_VF_INFO_MAX
 (
__IFLA_VF_INFO_MAX
 - 1)

	)

644 
	mIFLA_VF_UNSPEC
,

645 
	mIFLA_VF_MAC
,

646 
	mIFLA_VF_VLAN
,

647 
	mIFLA_VF_TX_RATE
,

648 
	mIFLA_VF_SPOOFCHK
,

649 
	mIFLA_VF_LINK_STATE
,

650 
	mIFLA_VF_RATE
,

651 
	mIFLA_VF_RSS_QUERY_EN
,

654 
	mIFLA_VF_STATS
,

655 
	mIFLA_VF_TRUST
,

656 
	mIFLA_VF_IB_NODE_GUID
,

657 
	mIFLA_VF_IB_PORT_GUID
,

658 
	mIFLA_VF_VLAN_LIST
,

659 
	m__IFLA_VF_MAX
,

662 
	#IFLA_VF_MAX
 (
__IFLA_VF_MAX
 - 1)

	)

664 
	siæa_vf_mac
 {

665 
__u32
 
	mvf
;

666 
__u8
 
	mmac
[32];

669 
	siæa_vf_vÏn
 {

670 
__u32
 
	mvf
;

671 
__u32
 
	mvÏn
;

672 
__u32
 
	mqos
;

676 
	mIFLA_VF_VLAN_INFO_UNSPEC
,

677 
	mIFLA_VF_VLAN_INFO
,

678 
	m__IFLA_VF_VLAN_INFO_MAX
,

681 
	#IFLA_VF_VLAN_INFO_MAX
 (
__IFLA_VF_VLAN_INFO_MAX
 - 1)

	)

682 
	#MAX_VLAN_LIST_LEN
 1

	)

684 
	siæa_vf_vÏn_šfo
 {

685 
__u32
 
	mvf
;

686 
__u32
 
	mvÏn
;

687 
__u32
 
	mqos
;

688 
__be16
 
	mvÏn_´Ùo
;

691 
	siæa_vf_tx_¿‹
 {

692 
__u32
 
	mvf
;

693 
__u32
 
	m¿‹
;

696 
	siæa_vf_¿‹
 {

697 
__u32
 
	mvf
;

698 
__u32
 
	mmš_tx_¿‹
;

699 
__u32
 
	mmax_tx_¿‹
;

702 
	siæa_vf_¥oofchk
 {

703 
__u32
 
	mvf
;

704 
__u32
 
	m£‰šg
;

707 
	siæa_vf_guid
 {

708 
__u32
 
	mvf
;

709 
__u64
 
	mguid
;

713 
	mIFLA_VF_LINK_STATE_AUTO
,

714 
	mIFLA_VF_LINK_STATE_ENABLE
,

715 
	mIFLA_VF_LINK_STATE_DISABLE
,

716 
	m__IFLA_VF_LINK_STATE_MAX
,

719 
	siæa_vf_lšk_¡©e
 {

720 
__u32
 
	mvf
;

721 
__u32
 
	mlšk_¡©e
;

724 
	siæa_vf_rss_qu”y_’
 {

725 
__u32
 
	mvf
;

726 
__u32
 
	m£‰šg
;

730 
	mIFLA_VF_STATS_RX_PACKETS
,

731 
	mIFLA_VF_STATS_TX_PACKETS
,

732 
	mIFLA_VF_STATS_RX_BYTES
,

733 
	mIFLA_VF_STATS_TX_BYTES
,

734 
	mIFLA_VF_STATS_BROADCAST
,

735 
	mIFLA_VF_STATS_MULTICAST
,

736 
	mIFLA_VF_STATS_PAD
,

737 
	m__IFLA_VF_STATS_MAX
,

740 
	#IFLA_VF_STATS_MAX
 (
__IFLA_VF_STATS_MAX
 - 1)

	)

742 
	siæa_vf_Œu¡
 {

743 
__u32
 
	mvf
;

744 
__u32
 
	m£‰šg
;

763 
	mIFLA_VF_PORT_UNSPEC
,

764 
	mIFLA_VF_PORT
,

765 
	m__IFLA_VF_PORT_MAX
,

768 
	#IFLA_VF_PORT_MAX
 (
__IFLA_VF_PORT_MAX
 - 1)

	)

771 
	mIFLA_PORT_UNSPEC
,

772 
	mIFLA_PORT_VF
,

773 
	mIFLA_PORT_PROFILE
,

774 
	mIFLA_PORT_VSI_TYPE
,

775 
	mIFLA_PORT_INSTANCE_UUID
,

776 
	mIFLA_PORT_HOST_UUID
,

777 
	mIFLA_PORT_REQUEST
,

778 
	mIFLA_PORT_RESPONSE
,

779 
	m__IFLA_PORT_MAX
,

782 
	#IFLA_PORT_MAX
 (
__IFLA_PORT_MAX
 - 1)

	)

784 
	#PORT_PROFILE_MAX
 40

	)

785 
	#PORT_UUID_MAX
 16

	)

786 
	#PORT_SELF_VF
 -1

	)

789 
	mPORT_REQUEST_PREASSOCIATE
 = 0,

790 
	mPORT_REQUEST_PREASSOCIATE_RR
,

791 
	mPORT_REQUEST_ASSOCIATE
,

792 
	mPORT_REQUEST_DISASSOCIATE
,

796 
	mPORT_VDP_RESPONSE_SUCCESS
 = 0,

797 
	mPORT_VDP_RESPONSE_INVALID_FORMAT
,

798 
	mPORT_VDP_RESPONSE_INSUFFICIENT_RESOURCES
,

799 
	mPORT_VDP_RESPONSE_UNUSED_VTID
,

800 
	mPORT_VDP_RESPONSE_VTID_VIOLATION
,

801 
	mPORT_VDP_RESPONSE_VTID_VERSION_VIOALTION
,

802 
	mPORT_VDP_RESPONSE_OUT_OF_SYNC
,

804 
	mPORT_PROFILE_RESPONSE_SUCCESS
 = 0x100,

805 
	mPORT_PROFILE_RESPONSE_INPROGRESS
,

806 
	mPORT_PROFILE_RESPONSE_INVALID
,

807 
	mPORT_PROFILE_RESPONSE_BADSTATE
,

808 
	mPORT_PROFILE_RESPONSE_INSUFFICIENT_RESOURCES
,

809 
	mPORT_PROFILE_RESPONSE_ERROR
,

812 
	siæa_pÜt_vsi
 {

813 
__u8
 
	mvsi_mgr_id
;

814 
__u8
 
	mvsi_ty³_id
[3];

815 
__u8
 
	mvsi_ty³_v”siÚ
;

816 
__u8
 
	m·d
[3];

823 
	mIFLA_IPOIB_UNSPEC
,

824 
	mIFLA_IPOIB_PKEY
,

825 
	mIFLA_IPOIB_MODE
,

826 
	mIFLA_IPOIB_UMCAST
,

827 
	m__IFLA_IPOIB_MAX


831 
	mIPOIB_MODE_DATAGRAM
 = 0,

832 
	mIPOIB_MODE_CONNECTED
 = 1,

835 
	#IFLA_IPOIB_MAX
 (
__IFLA_IPOIB_MAX
 - 1)

	)

841 
	mIFLA_HSR_UNSPEC
,

842 
	mIFLA_HSR_SLAVE1
,

843 
	mIFLA_HSR_SLAVE2
,

844 
	mIFLA_HSR_MULTICAST_SPEC
,

845 
	mIFLA_HSR_SUPERVISION_ADDR
,

846 
	mIFLA_HSR_SEQ_NR
,

847 
	mIFLA_HSR_VERSION
,

848 
	m__IFLA_HSR_MAX
,

851 
	#IFLA_HSR_MAX
 (
__IFLA_HSR_MAX
 - 1)

	)

855 
	sif_¡©s_msg
 {

856 
__u8
 
	mçmy
;

857 
__u8
 
	m·d1
;

858 
__u16
 
	m·d2
;

859 
__u32
 
	mifšdex
;

860 
__u32
 
	mf‹r_mask
;

867 
	mIFLA_STATS_UNSPEC
,

868 
	mIFLA_STATS_LINK_64
,

869 
	mIFLA_STATS_LINK_XSTATS
,

870 
	mIFLA_STATS_LINK_XSTATS_SLAVE
,

871 
	mIFLA_STATS_LINK_OFFLOAD_XSTATS
,

872 
	mIFLA_STATS_AF_SPEC
,

873 
	m__IFLA_STATS_MAX
,

876 
	#IFLA_STATS_MAX
 (
__IFLA_STATS_MAX
 - 1)

	)

878 
	#IFLA_STATS_FILTER_BIT
(
ATTR
è(1 << (ATTR - 1))

	)

886 
	mLINK_XSTATS_TYPE_UNSPEC
,

887 
	mLINK_XSTATS_TYPE_BRIDGE
,

888 
	m__LINK_XSTATS_TYPE_MAX


890 
	#LINK_XSTATS_TYPE_MAX
 (
__LINK_XSTATS_TYPE_MAX
 - 1)

	)

894 
	mIFLA_OFFLOAD_XSTATS_UNSPEC
,

895 
	mIFLA_OFFLOAD_XSTATS_CPU_HIT
,

896 
	m__IFLA_OFFLOAD_XSTATS_MAX


898 
	#IFLA_OFFLOAD_XSTATS_MAX
 (
__IFLA_OFFLOAD_XSTATS_MAX
 - 1)

	)

902 
	#XDP_FLAGS_UPDATE_IF_NOEXIST
 (1U << 0)

	)

903 
	#XDP_FLAGS_SKB_MODE
 (1U << 1)

	)

904 
	#XDP_FLAGS_DRV_MODE
 (1U << 2)

	)

905 
	#XDP_FLAGS_HW_MODE
 (1U << 3)

	)

906 
	#XDP_FLAGS_MODES
 (
XDP_FLAGS_SKB_MODE
 | \

907 
XDP_FLAGS_DRV_MODE
 | \

908 
XDP_FLAGS_HW_MODE
)

	)

909 
	#XDP_FLAGS_MASK
 (
XDP_FLAGS_UPDATE_IF_NOEXIST
 | \

910 
XDP_FLAGS_MODES
)

	)

914 
	mXDP_ATTACHED_NONE
 = 0,

915 
	mXDP_ATTACHED_DRV
,

916 
	mXDP_ATTACHED_SKB
,

917 
	mXDP_ATTACHED_HW
,

921 
	mIFLA_XDP_UNSPEC
,

922 
	mIFLA_XDP_FD
,

923 
	mIFLA_XDP_ATTACHED
,

924 
	mIFLA_XDP_FLAGS
,

925 
	mIFLA_XDP_PROG_ID
,

926 
	m__IFLA_XDP_MAX
,

929 
	#IFLA_XDP_MAX
 (
__IFLA_XDP_MAX
 - 1)

	)

932 
	mIFLA_EVENT_NONE
,

933 
	mIFLA_EVENT_REBOOT
,

934 
	mIFLA_EVENT_FEATURES
,

935 
	mIFLA_EVENT_BONDING_FAILOVER
,

936 
	mIFLA_EVENT_NOTIFY_PEERS
,

937 
	mIFLA_EVENT_IGMP_RESEND
,

938 
	mIFLA_EVENT_BONDING_OPTIONS
,

	@/usr/include/linux/kernel.h

2 #iâdeà
_LINUX_KERNEL_H


3 
	#_LINUX_KERNEL_H


	)

5 
	~<lšux/sysšfo.h
>

10 
	#__ALIGN_KERNEL
(
x
, 
a
è
	`__ALIGN_KERNEL_MASK
(x, (
	`ty³of
(x))×è- 1)

	)

11 
	#__ALIGN_KERNEL_MASK
(
x
, 
mask
è(((xè+ (mask)è& ~(mask))

	)

13 
	#__KERNEL_DIV_ROUND_UP
(
n
, 
d
è((Òè+ (dè- 1è/ (d))

	)

	@/usr/include/linux/neighbour.h

2 #iâdeà
__LINUX_NEIGHBOUR_H


3 
	#__LINUX_NEIGHBOUR_H


	)

5 
	~<lšux/ty³s.h
>

6 
	~<lšux/Ãšk.h
>

8 
	sndmsg
 {

9 
__u8
 
	mndm_çmy
;

10 
__u8
 
	mndm_·d1
;

11 
__u16
 
	mndm_·d2
;

12 
__s32
 
	mndm_ifšdex
;

13 
__u16
 
	mndm_¡©e
;

14 
__u8
 
	mndm_æags
;

15 
__u8
 
	mndm_ty³
;

19 
	mNDA_UNSPEC
,

20 
	mNDA_DST
,

21 
	mNDA_LLADDR
,

22 
	mNDA_CACHEINFO
,

23 
	mNDA_PROBES
,

24 
	mNDA_VLAN
,

25 
	mNDA_PORT
,

26 
	mNDA_VNI
,

27 
	mNDA_IFINDEX
,

28 
	mNDA_MASTER
,

29 
	mNDA_LINK_NETNSID
,

30 
	mNDA_SRC_VNI
,

31 
	m__NDA_MAX


34 
	#NDA_MAX
 (
__NDA_MAX
 - 1)

	)

40 
	#NTF_USE
 0x01

	)

41 
	#NTF_SELF
 0x02

	)

42 
	#NTF_MASTER
 0x04

	)

43 
	#NTF_PROXY
 0x08

	)

44 
	#NTF_EXT_LEARNED
 0x10

	)

45 
	#NTF_OFFLOADED
 0x20

	)

46 
	#NTF_ROUTER
 0x80

	)

52 
	#NUD_INCOMPLETE
 0x01

	)

53 
	#NUD_REACHABLE
 0x02

	)

54 
	#NUD_STALE
 0x04

	)

55 
	#NUD_DELAY
 0x08

	)

56 
	#NUD_PROBE
 0x10

	)

57 
	#NUD_FAILED
 0x20

	)

60 
	#NUD_NOARP
 0x40

	)

61 
	#NUD_PERMANENT
 0x80

	)

62 
	#NUD_NONE
 0x00

	)

69 
	snda_ÿchešfo
 {

70 
__u32
 
	mndm_cÚfœmed
;

71 
__u32
 
	mndm_u£d
;

72 
__u32
 
	mndm_upd©ed
;

73 
__u32
 
	mndm_»fút
;

101 
	sndt_¡©s
 {

102 
__u64
 
	mndts_®locs
;

103 
__u64
 
	mndts_de¡roys
;

104 
__u64
 
	mndts_hash_grows
;

105 
__u64
 
	mndts_»s_çed
;

106 
__u64
 
	mndts_lookups
;

107 
__u64
 
	mndts_h™s
;

108 
__u64
 
	mndts_rcv_´obes_mÿ¡
;

109 
__u64
 
	mndts_rcv_´obes_uÿ¡
;

110 
__u64
 
	mndts_³riodic_gc_runs
;

111 
__u64
 
	mndts_fÜûd_gc_runs
;

112 
__u64
 
	mndts_bË_fuÎs
;

116 
	mNDTPA_UNSPEC
,

117 
	mNDTPA_IFINDEX
,

118 
	mNDTPA_REFCNT
,

119 
	mNDTPA_REACHABLE_TIME
,

120 
	mNDTPA_BASE_REACHABLE_TIME
,

121 
	mNDTPA_RETRANS_TIME
,

122 
	mNDTPA_GC_STALETIME
,

123 
	mNDTPA_DELAY_PROBE_TIME
,

124 
	mNDTPA_QUEUE_LEN
,

125 
	mNDTPA_APP_PROBES
,

126 
	mNDTPA_UCAST_PROBES
,

127 
	mNDTPA_MCAST_PROBES
,

128 
	mNDTPA_ANYCAST_DELAY
,

129 
	mNDTPA_PROXY_DELAY
,

130 
	mNDTPA_PROXY_QLEN
,

131 
	mNDTPA_LOCKTIME
,

132 
	mNDTPA_QUEUE_LENBYTES
,

133 
	mNDTPA_MCAST_REPROBES
,

134 
	mNDTPA_PAD
,

135 
	m__NDTPA_MAX


137 
	#NDTPA_MAX
 (
__NDTPA_MAX
 - 1)

	)

139 
	sndtmsg
 {

140 
__u8
 
	mndtm_çmy
;

141 
__u8
 
	mndtm_·d1
;

142 
__u16
 
	mndtm_·d2
;

145 
	sndt_cÚfig
 {

146 
__u16
 
	mndtc_key_Ën
;

147 
__u16
 
	mndtc_’Œy_size
;

148 
__u32
 
	mndtc_’Œ›s
;

149 
__u32
 
	mndtc_Ï¡_æush
;

150 
__u32
 
	mndtc_Ï¡_¿nd
;

151 
__u32
 
	mndtc_hash_ºd
;

152 
__u32
 
	mndtc_hash_mask
;

153 
__u32
 
	mndtc_hash_chaš_gc
;

154 
__u32
 
	mndtc_´oxy_qËn
;

158 
	mNDTA_UNSPEC
,

159 
	mNDTA_NAME
,

160 
	mNDTA_THRESH1
,

161 
	mNDTA_THRESH2
,

162 
	mNDTA_THRESH3
,

163 
	mNDTA_CONFIG
,

164 
	mNDTA_PARMS
,

165 
	mNDTA_STATS
,

166 
	mNDTA_GC_INTERVAL
,

167 
	mNDTA_PAD
,

168 
	m__NDTA_MAX


170 
	#NDTA_MAX
 (
__NDTA_MAX
 - 1)

	)

	@/usr/include/linux/socket.h

2 #iâdeà
_LINUX_SOCKET_H


3 
	#_LINUX_SOCKET_H


	)

8 
	#_K_SS_MAXSIZE
 128

	)

9 
	#_K_SS_ALIGNSIZE
 (
	`__®ignof__
 (
sockaddr
 *))

	)

12 
	t__k”Ãl_§_çmy_t
;

14 
	s__k”Ãl_sockaddr_¡Üage
 {

15 
__k”Ãl_§_çmy_t
 
	mss_çmy
;

17 
	m__d©a
[
_K_SS_MAXSIZE
 - ()];

20 } 
__©Œibu‹__
 ((
®igÃd
(
_K_SS_ALIGNSIZE
)));

	@/usr/include/linux/types.h

2 #iâdeà
_LINUX_TYPES_H


3 
	#_LINUX_TYPES_H


	)

5 
	~<asm/ty³s.h
>

7 #iâdeà
__ASSEMBLY__


9 
	~<lšux/posix_ty³s.h
>

17 #ifdeà
__CHECKER__


18 
	#__b™wi£__
 
	`__©Œibu‹__
((
b™wi£
))

	)

20 
	#__b™wi£__


	)

22 
	#__b™wi£
 
__b™wi£__


	)

24 
__u16
 
	t__b™wi£
 
	t__Ë16
;

25 
__u16
 
	t__b™wi£
 
	t__be16
;

26 
__u32
 
	t__b™wi£
 
	t__Ë32
;

27 
__u32
 
	t__b™wi£
 
	t__be32
;

28 
__u64
 
	t__b™wi£
 
	t__Ë64
;

29 
__u64
 
	t__b™wi£
 
	t__be64
;

31 
__u16
 
	t__b™wi£
 
	t__sum16
;

32 
__u32
 
	t__b™wi£
 
	t__wsum
;

43 
	#__®igÃd_u64
 
__u64
 
	`__©Œibu‹__
((
	`®igÃd
(8)))

	)

44 
	#__®igÃd_be64
 
__be64
 
	`__©Œibu‹__
((
	`®igÃd
(8)))

	)

45 
	#__®igÃd_Ë64
 
__Ë64
 
	`__©Œibu‹__
((
	`®igÃd
(8)))

	)

	@/usr/include/openssl/asn1.h

10 #iâdeà
HEADER_ASN1_H


11 
	#HEADER_ASN1_H


	)

13 
	~<time.h
>

14 
	~<İ’s¦/e_os2.h
>

15 
	~<İ’s¦/İ’s¦cÚf.h
>

16 
	~<İ’s¦/bio.h
>

17 
	~<İ’s¦/§ã¡ack.h
>

18 
	~<İ’s¦/a¢1”r.h
>

19 
	~<İ’s¦/symhacks.h
>

21 
	~<İ’s¦/os¦_typ.h
>

22 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

23 
	~<İ’s¦/bn.h
>

26 #ifdeà
OPENSSL_BUILD_SHLIBCRYPTO


27 #undeà
OPENSSL_EXTERN


28 
	#OPENSSL_EXTERN
 
OPENSSL_EXPORT


	)

31 #ifdeà 
__ılu¥lus


35 
	#V_ASN1_UNIVERSAL
 0x00

	)

36 
	#V_ASN1_APPLICATION
 0x40

	)

37 
	#V_ASN1_CONTEXT_SPECIFIC
 0x80

	)

38 
	#V_ASN1_PRIVATE
 0xc0

	)

40 
	#V_ASN1_CONSTRUCTED
 0x20

	)

41 
	#V_ASN1_PRIMITIVE_TAG
 0x1f

	)

42 
	#V_ASN1_PRIMATIVE_TAG
 
V_ASN1_PRIMITIVE_TAG


	)

44 
	#V_ASN1_APP_CHOOSE
 -2

	)

45 
	#V_ASN1_OTHER
 -3

	)

46 
	#V_ASN1_ANY
 -4

	)

48 
	#V_ASN1_UNDEF
 -1

	)

50 
	#V_ASN1_EOC
 0

	)

51 
	#V_ASN1_BOOLEAN
 1

	)

52 
	#V_ASN1_INTEGER
 2

	)

53 
	#V_ASN1_BIT_STRING
 3

	)

54 
	#V_ASN1_OCTET_STRING
 4

	)

55 
	#V_ASN1_NULL
 5

	)

56 
	#V_ASN1_OBJECT
 6

	)

57 
	#V_ASN1_OBJECT_DESCRIPTOR
 7

	)

58 
	#V_ASN1_EXTERNAL
 8

	)

59 
	#V_ASN1_REAL
 9

	)

60 
	#V_ASN1_ENUMERATED
 10

	)

61 
	#V_ASN1_UTF8STRING
 12

	)

62 
	#V_ASN1_SEQUENCE
 16

	)

63 
	#V_ASN1_SET
 17

	)

64 
	#V_ASN1_NUMERICSTRING
 18

	)

65 
	#V_ASN1_PRINTABLESTRING
 19

	)

66 
	#V_ASN1_T61STRING
 20

	)

67 
	#V_ASN1_TELETEXSTRING
 20

	)

68 
	#V_ASN1_VIDEOTEXSTRING
 21

	)

69 
	#V_ASN1_IA5STRING
 22

	)

70 
	#V_ASN1_UTCTIME
 23

	)

71 
	#V_ASN1_GENERALIZEDTIME
 24

	)

72 
	#V_ASN1_GRAPHICSTRING
 25

	)

73 
	#V_ASN1_ISO64STRING
 26

	)

74 
	#V_ASN1_VISIBLESTRING
 26

	)

75 
	#V_ASN1_GENERALSTRING
 27

	)

76 
	#V_ASN1_UNIVERSALSTRING
 28

	)

77 
	#V_ASN1_BMPSTRING
 30

	)

85 
	#V_ASN1_NEG
 0x100

	)

86 
	#V_ASN1_NEG_INTEGER
 (2 | 
V_ASN1_NEG
)

	)

87 
	#V_ASN1_NEG_ENUMERATED
 (10 | 
V_ASN1_NEG
)

	)

90 
	#B_ASN1_NUMERICSTRING
 0x0001

	)

91 
	#B_ASN1_PRINTABLESTRING
 0x0002

	)

92 
	#B_ASN1_T61STRING
 0x0004

	)

93 
	#B_ASN1_TELETEXSTRING
 0x0004

	)

94 
	#B_ASN1_VIDEOTEXSTRING
 0x0008

	)

95 
	#B_ASN1_IA5STRING
 0x0010

	)

96 
	#B_ASN1_GRAPHICSTRING
 0x0020

	)

97 
	#B_ASN1_ISO64STRING
 0x0040

	)

98 
	#B_ASN1_VISIBLESTRING
 0x0040

	)

99 
	#B_ASN1_GENERALSTRING
 0x0080

	)

100 
	#B_ASN1_UNIVERSALSTRING
 0x0100

	)

101 
	#B_ASN1_OCTET_STRING
 0x0200

	)

102 
	#B_ASN1_BIT_STRING
 0x0400

	)

103 
	#B_ASN1_BMPSTRING
 0x0800

	)

104 
	#B_ASN1_UNKNOWN
 0x1000

	)

105 
	#B_ASN1_UTF8STRING
 0x2000

	)

106 
	#B_ASN1_UTCTIME
 0x4000

	)

107 
	#B_ASN1_GENERALIZEDTIME
 0x8000

	)

108 
	#B_ASN1_SEQUENCE
 0x10000

	)

110 
	#MBSTRING_FLAG
 0x1000

	)

111 
	#MBSTRING_UTF8
 (
MBSTRING_FLAG
)

	)

112 
	#MBSTRING_ASC
 (
MBSTRING_FLAG
|1)

	)

113 
	#MBSTRING_BMP
 (
MBSTRING_FLAG
|2)

	)

114 
	#MBSTRING_UNIV
 (
MBSTRING_FLAG
|4)

	)

115 
	#SMIME_OLDMIME
 0x400

	)

116 
	#SMIME_CRLFEOL
 0x800

	)

117 
	#SMIME_STREAM
 0x1000

	)

118 
X509_®gÜ_¡
;

119 
DEFINE_STACK_OF
(
X509_ALGOR
)

121 
	#ASN1_STRING_FLAG_BITS_LEFT
 0x08

	)

127 
	#ASN1_STRING_FLAG_NDEF
 0x010

	)

135 
	#ASN1_STRING_FLAG_CONT
 0x020

	)

140 
	#ASN1_STRING_FLAG_MSTRING
 0x040

	)

142 
	#ASN1_STRING_FLAG_EMBED
 0x080

	)

144 
	#ASN1_STRING_FLAG_X509_TIME
 0x100

	)

146 
	sa¢1_¡ršg_¡
 {

147 
Ëngth
;

148 
ty³
;

149 *
d©a
;

155 
æags
;

164 
	sASN1_ENCODING_¡
 {

165 *
’c
;

166 
Ën
;

167 
modif›d
;

168 } 
	tASN1_ENCODING
;

171 
	#ASN1_LONG_UNDEF
 0x7fffffffL

	)

173 
	#STABLE_FLAGS_MALLOC
 0x01

	)

180 
	#STABLE_FLAGS_CLEAR
 
STABLE_FLAGS_MALLOC


	)

181 
	#STABLE_NO_MASK
 0x02

	)

182 
	#DIRSTRING_TYPE
 \

183 (
B_ASN1_PRINTABLESTRING
|
B_ASN1_T61STRING
|
B_ASN1_BMPSTRING
|
B_ASN1_UTF8STRING
)

	)

184 
	#PKCS9STRING_TYPE
 (
DIRSTRING_TYPE
|
B_ASN1_IA5STRING
)

	)

186 
	sa¢1_¡ršg_bË_¡
 {

187 
nid
;

188 
mšsize
;

189 
maxsize
;

190 
mask
;

191 
æags
;

192 } 
	tASN1_STRING_TABLE
;

194 
DEFINE_STACK_OF
(
ASN1_STRING_TABLE
)

198 
	#ub_Çme
 32768

	)

199 
	#ub_commÚ_Çme
 64

	)

200 
	#ub_loÿl™y_Çme
 128

	)

201 
	#ub_¡©e_Çme
 128

	)

202 
	#ub_Ügªiz©iÚ_Çme
 64

	)

203 
	#ub_Ügªiz©iÚ_un™_Çme
 64

	)

204 
	#ub_t™Ë
 64

	)

205 
	#ub_ema_add»ss
 128

	)

210 
ASN1_TEMPLATE_¡
 
	tASN1_TEMPLATE
;

211 
ASN1_TLC_¡
 
	tASN1_TLC
;

213 
ASN1_VALUE_¡
 
	tASN1_VALUE
;

217 
	#DECLARE_ASN1_FUNCTIONS
(
ty³
è
	`DECLARE_ASN1_FUNCTIONS_Çme
Ñy³,y³)

	)

219 
	#DECLARE_ASN1_ALLOC_FUNCTIONS
(
ty³
) \

220 
	`DECLARE_ASN1_ALLOC_FUNCTIONS_Çme
(
ty³
,y³)

	)

222 
	#DECLARE_ASN1_FUNCTIONS_Çme
(
ty³
, 
Çme
) \

223 
	`DECLARE_ASN1_ALLOC_FUNCTIONS_Çme
(
ty³
, 
Çme
) \

224 
	`DECLARE_ASN1_ENCODE_FUNCTIONS
(
ty³
, 
Çme
,‚ame)

	)

226 
	#DECLARE_ASN1_FUNCTIONS_âame
(
ty³
, 
™Çme
, 
Çme
) \

227 
	`DECLARE_ASN1_ALLOC_FUNCTIONS_Çme
(
ty³
, 
Çme
) \

228 
	`DECLARE_ASN1_ENCODE_FUNCTIONS
(
ty³
, 
™Çme
, 
Çme
)

	)

230 
	#DECLARE_ASN1_ENCODE_FUNCTIONS
(
ty³
, 
™Çme
, 
Çme
) \

231 
ty³
 *
d2i_
##
	`Çme
Ñy³ **
a
, cÚ¡ **
š
, 
Ën
); \

232 
i2d_
##
	`Çme
(
ty³
 *
a
, **
out
); \

233 
	`DECLARE_ASN1_ITEM
(
™Çme
)

	)

235 
	#DECLARE_ASN1_ENCODE_FUNCTIONS_cÚ¡
(
ty³
, 
Çme
) \

236 
ty³
 *
d2i_
##
	`Çme
Ñy³ **
a
, cÚ¡ **
š
, 
Ën
); \

237 
i2d_
##
	`Çme
(cÚ¡ 
ty³
 *
a
, **
out
); \

238 
	`DECLARE_ASN1_ITEM
(
Çme
)

	)

240 
	#DECLARE_ASN1_NDEF_FUNCTION
(
Çme
) \

241 
i2d_
##
Çme
##
	`_NDEF
Òam*
a
, **
out
);

	)

243 
	#DECLARE_ASN1_FUNCTIONS_cÚ¡
(
Çme
) \

244 
	`DECLARE_ASN1_ALLOC_FUNCTIONS
(
Çme
) \

245 
	`DECLARE_ASN1_ENCODE_FUNCTIONS_cÚ¡
(
Çme
,‚ame)

	)

247 
	#DECLARE_ASN1_ALLOC_FUNCTIONS_Çme
(
ty³
, 
Çme
) \

248 
ty³
 *
Çme
##
	`_Ãw
(); \

249 
Çme
##
	`_ä“
(
ty³
 *
a
);

	)

251 
	#DECLARE_ASN1_PRINT_FUNCTION
(
¡Çme
) \

252 
	`DECLARE_ASN1_PRINT_FUNCTION_âame
(
¡Çme
, sŠame)

	)

254 
	#DECLARE_ASN1_PRINT_FUNCTION_âame
(
¡Çme
, 
âame
) \

255 
âame
##
	`_´št_ùx
(
BIO
 *
out
, 
¡Çme
 *
x
, 
šd’t
, \

256 cÚ¡ 
ASN1_PCTX
 *
pùx
);

	)

258 
	#D2I_OF
(
ty³
èty³ *(*)Ñy³ **,cÚ¡ **,)

	)

259 
	#I2D_OF
(
ty³
è(*)Ñy³ *,**)

	)

260 
	#I2D_OF_cÚ¡
(
ty³
è(*)(cÚ¡y³ *,**)

	)

262 
	#CHECKED_D2I_OF
(
ty³
, 
d2i
) \

263 ((
d2i_of_void
*è(1 ? 
d2i
 : ((
	`D2I_OF
(
ty³
))0)))

	)

264 
	#CHECKED_I2D_OF
(
ty³
, 
i2d
) \

265 ((
i2d_of_void
*è(1 ? 
i2d
 : ((
	`I2D_OF
(
ty³
))0)))

	)

266 
	#CHECKED_NEW_OF
(
ty³
, 
xÃw
) \

267 ((*(*)()è(1 ? 
xÃw
 : ((
ty³
 *(*)())0)))

	)

268 
	#CHECKED_PTR_OF
(
ty³
, 
p
) \

269 ((*è(1 ? 
p
 : (
ty³
*)0))

	)

270 
	#CHECKED_PPTR_OF
(
ty³
, 
p
) \

271 ((**è(1 ? 
p
 : (
ty³
**)0))

	)

273 
	#TYPEDEF_D2I_OF
(
ty³
èty³ *
	td2i_of_
##
	tty³
Ñy³ **,cÚ¡ **,)

	)

274 
	tTYPEDEF_I2D_OF
(
	tty³
è
	ti2d_of_
##ty³Ñy³ *,**)

	)

275 
	tTYPEDEF_D2I2D_OF
(
	tty³
è
	tTYPEDEF_D2I_OF
Ñy³); 
	`TYPEDEF_I2D_OF
(
ty³
)

	)

277 
TYPEDEF_D2I2D_OF
();

315 #iâdeà
OPENSSL_EXPORT_VAR_AS_FUNCTION


318 cÚ¡ 
	tASN1_ITEM
 
	tASN1_ITEM_EXP
;

321 
	#ASN1_ITEM_±r
(
Œ
è(Œ)

	)

324 
	#ASN1_ITEM_»f
(
Œ
è(&(Œ##
_™
))

	)

326 
	#ASN1_ITEM_½Œ
(
»f
è(&Ôef##
_™
))

	)

328 
	#DECLARE_ASN1_ITEM
(
Çme
) \

329 
OPENSSL_EXTERN
 cÚ¡ 
ASN1_ITEM
 
Çme
##
_™
;

	)

339 cÚ¡ 
	tASN1_ITEM
 *
	tASN1_ITEM_EXP
 ();

342 
	#ASN1_ITEM_±r
(
Œ
è(
	`Œ
())

	)

345 
	#ASN1_ITEM_»f
(
Œ
è(Œ##
_™
)

	)

347 
	#ASN1_ITEM_½Œ
(
»f
èÔef##
	`_™
())

	)

349 
	#DECLARE_ASN1_ITEM
(
Çme
) \

350 cÚ¡ 
ASN1_ITEM
 * 
Çme
##
	`_™
();

	)

361 
	#ASN1_STRFLGS_ESC_2253
 1

	)

362 
	#ASN1_STRFLGS_ESC_CTRL
 2

	)

363 
	#ASN1_STRFLGS_ESC_MSB
 4

	)

370 
	#ASN1_STRFLGS_ESC_QUOTE
 8

	)

375 
	#CHARTYPE_PRINTABLESTRING
 0x10

	)

377 
	#CHARTYPE_FIRST_ESC_2253
 0x20

	)

379 
	#CHARTYPE_LAST_ESC_2253
 0x40

	)

390 
	#ASN1_STRFLGS_UTF8_CONVERT
 0x10

	)

398 
	#ASN1_STRFLGS_IGNORE_TYPE
 0x20

	)

401 
	#ASN1_STRFLGS_SHOW_TYPE
 0x40

	)

411 
	#ASN1_STRFLGS_DUMP_ALL
 0x80

	)

412 
	#ASN1_STRFLGS_DUMP_UNKNOWN
 0x100

	)

419 
	#ASN1_STRFLGS_DUMP_DER
 0x200

	)

424 
	#ASN1_STRFLGS_ESC_2254
 0x400

	)

431 
	#ASN1_STRFLGS_RFC2253
 (
ASN1_STRFLGS_ESC_2253
 | \

432 
ASN1_STRFLGS_ESC_CTRL
 | \

433 
ASN1_STRFLGS_ESC_MSB
 | \

434 
ASN1_STRFLGS_UTF8_CONVERT
 | \

435 
ASN1_STRFLGS_DUMP_UNKNOWN
 | \

436 
ASN1_STRFLGS_DUMP_DER
)

	)

438 
DEFINE_STACK_OF
(
ASN1_INTEGER
)

440 
DEFINE_STACK_OF
(
ASN1_GENERALSTRING
)

442 
DEFINE_STACK_OF
(
ASN1_UTF8STRING
)

444 
	sa¢1_ty³_¡
 {

445 
ty³
;

447 *
±r
;

448 
ASN1_BOOLEAN
 
boŞ—n
;

449 
ASN1_STRING
 *
a¢1_¡ršg
;

450 
ASN1_OBJECT
 *
objeù
;

451 
ASN1_INTEGER
 *
š‹g”
;

452 
ASN1_ENUMERATED
 *
’um”©ed
;

453 
ASN1_BIT_STRING
 *
b™_¡ršg
;

454 
ASN1_OCTET_STRING
 *
où‘_¡ršg
;

455 
ASN1_PRINTABLESTRING
 *
´šbË¡ršg
;

456 
ASN1_T61STRING
 *
t61¡ršg
;

457 
ASN1_IA5STRING
 *
Ÿ5¡ršg
;

458 
ASN1_GENERALSTRING
 *
g’”®¡ršg
;

459 
ASN1_BMPSTRING
 *
bmp¡ršg
;

460 
ASN1_UNIVERSALSTRING
 *
univ”§l¡ršg
;

461 
ASN1_UTCTIME
 *
utùime
;

462 
ASN1_GENERALIZEDTIME
 *
g’”®izedtime
;

463 
ASN1_VISIBLESTRING
 *
visibË¡ršg
;

464 
ASN1_UTF8STRING
 *
utf8¡ršg
;

469 
ASN1_STRING
 *
£t
;

470 
ASN1_STRING
 *
£qu’û
;

471 
ASN1_VALUE
 *
a¢1_v®ue
;

472 } 
v®ue
;

473 } 
	tASN1_TYPE
;

475 
DEFINE_STACK_OF
(
ASN1_TYPE
)

477 
STACK_OF
(
	tASN1_TYPE
è
	tASN1_SEQUENCE_ANY
;

479 
DECLARE_ASN1_ENCODE_FUNCTIONS_cÚ¡
(
ASN1_SEQUENCE_ANY
, ASN1_SEQUENCE_ANY)

480 
DECLARE_ASN1_ENCODE_FUNCTIONS_cÚ¡
(
ASN1_SEQUENCE_ANY
, 
ASN1_SET_ANY
)

483 
	sBIT_STRING_BITNAME_¡
 {

484 
b™num
;

485 cÚ¡ *
Êame
;

486 cÚ¡ *
¢ame
;

487 } 
	tBIT_STRING_BITNAME
;

489 
	#B_ASN1_TIME
 \

490 
B_ASN1_UTCTIME
 | \

491 
B_ASN1_GENERALIZEDTIME


	)

493 
	#B_ASN1_PRINTABLE
 \

494 
B_ASN1_NUMERICSTRING
| \

495 
B_ASN1_PRINTABLESTRING
| \

496 
B_ASN1_T61STRING
| \

497 
B_ASN1_IA5STRING
| \

498 
B_ASN1_BIT_STRING
| \

499 
B_ASN1_UNIVERSALSTRING
|\

500 
B_ASN1_BMPSTRING
|\

501 
B_ASN1_UTF8STRING
|\

502 
B_ASN1_SEQUENCE
|\

503 
B_ASN1_UNKNOWN


	)

505 
	#B_ASN1_DIRECTORYSTRING
 \

506 
B_ASN1_PRINTABLESTRING
| \

507 
B_ASN1_TELETEXSTRING
|\

508 
B_ASN1_BMPSTRING
|\

509 
B_ASN1_UNIVERSALSTRING
|\

510 
B_ASN1_UTF8STRING


	)

512 
	#B_ASN1_DISPLAYTEXT
 \

513 
B_ASN1_IA5STRING
| \

514 
B_ASN1_VISIBLESTRING
| \

515 
B_ASN1_BMPSTRING
|\

516 
B_ASN1_UTF8STRING


	)

518 
DECLARE_ASN1_FUNCTIONS_âame
(
ASN1_TYPE
, 
ASN1_ANY
, ASN1_TYPE)

520 
ASN1_TYPE_g‘
(cÚ¡ 
ASN1_TYPE
 *
a
);

521 
ASN1_TYPE_£t
(
ASN1_TYPE
 *
a
, 
ty³
, *
v®ue
);

522 
ASN1_TYPE_£t1
(
ASN1_TYPE
 *
a
, 
ty³
, cÚ¡ *
v®ue
);

523 
ASN1_TYPE_cmp
(cÚ¡ 
ASN1_TYPE
 *
a
, cÚ¡ ASN1_TYPE *
b
);

525 
ASN1_TYPE
 *
ASN1_TYPE_·ck_£qu’û
(cÚ¡ 
ASN1_ITEM
 *
™
, *
s
, ASN1_TYPE **
t
);

526 *
ASN1_TYPE_uÅack_£qu’û
(cÚ¡ 
ASN1_ITEM
 *
™
, cÚ¡ 
ASN1_TYPE
 *
t
);

528 
ASN1_OBJECT
 *
ASN1_OBJECT_Ãw
();

529 
ASN1_OBJECT_ä“
(
ASN1_OBJECT
 *
a
);

530 
i2d_ASN1_OBJECT
(cÚ¡ 
ASN1_OBJECT
 *
a
, **
µ
);

531 
ASN1_OBJECT
 *
d2i_ASN1_OBJECT
(ASN1_OBJECT **
a
, cÚ¡ **
µ
,

532 
Ëngth
);

534 
DECLARE_ASN1_ITEM
(
ASN1_OBJECT
)

536 
DEFINE_STACK_OF
(
ASN1_OBJECT
)

538 
ASN1_STRING
 *
ASN1_STRING_Ãw
();

539 
ASN1_STRING_ä“
(
ASN1_STRING
 *
a
);

540 
ASN1_STRING_ş—r_ä“
(
ASN1_STRING
 *
a
);

541 
ASN1_STRING_cİy
(
ASN1_STRING
 *
d¡
, cÚ¡ ASN1_STRING *
¡r
);

542 
ASN1_STRING
 *
ASN1_STRING_dup
(cÚ¡ ASN1_STRING *
a
);

543 
ASN1_STRING
 *
ASN1_STRING_ty³_Ãw
(
ty³
);

544 
ASN1_STRING_cmp
(cÚ¡ 
ASN1_STRING
 *
a
, cÚ¡ ASN1_STRING *
b
);

549 
ASN1_STRING_£t
(
ASN1_STRING
 *
¡r
, cÚ¡ *
d©a
, 
Ën
);

550 
ASN1_STRING_£t0
(
ASN1_STRING
 *
¡r
, *
d©a
, 
Ën
);

551 
ASN1_STRING_Ëngth
(cÚ¡ 
ASN1_STRING
 *
x
);

552 
ASN1_STRING_Ëngth_£t
(
ASN1_STRING
 *
x
, 
n
);

553 
ASN1_STRING_ty³
(cÚ¡ 
ASN1_STRING
 *
x
);

554 
DEPRECATEDIN_1_1_0
(*
ASN1_STRING_d©a
(
ASN1_STRING
 *
x
))

555 cÚ¡ *
ASN1_STRING_g‘0_d©a
(cÚ¡ 
ASN1_STRING
 *
x
);

557 
DECLARE_ASN1_FUNCTIONS
(
ASN1_BIT_STRING
)

558 
ASN1_BIT_STRING_£t
(
ASN1_BIT_STRING
 *
a
, *
d
, 
Ëngth
);

559 
ASN1_BIT_STRING_£t_b™
(
ASN1_BIT_STRING
 *
a
, 
n
, 
v®ue
);

560 
ASN1_BIT_STRING_g‘_b™
(cÚ¡ 
ASN1_BIT_STRING
 *
a
, 
n
);

561 
ASN1_BIT_STRING_check
(cÚ¡ 
ASN1_BIT_STRING
 *
a
,

562 cÚ¡ *
æags
, 
æags_Ën
);

564 
ASN1_BIT_STRING_Çme_´št
(
BIO
 *
out
, 
ASN1_BIT_STRING
 *
bs
,

565 
BIT_STRING_BITNAME
 *
tbl
, 
šd’t
);

566 
ASN1_BIT_STRING_num_asc
(cÚ¡ *
Çme
, 
BIT_STRING_BITNAME
 *
tbl
);

567 
ASN1_BIT_STRING_£t_asc
(
ASN1_BIT_STRING
 *
bs
, cÚ¡ *
Çme
, 
v®ue
,

568 
BIT_STRING_BITNAME
 *
tbl
);

570 
DECLARE_ASN1_FUNCTIONS
(
ASN1_INTEGER
)

571 
ASN1_INTEGER
 *
d2i_ASN1_UINTEGER
(ASN1_INTEGER **
a
, cÚ¡ **
µ
,

572 
Ëngth
);

573 
ASN1_INTEGER
 *
ASN1_INTEGER_dup
(cÚ¡ ASN1_INTEGER *
x
);

574 
ASN1_INTEGER_cmp
(cÚ¡ 
ASN1_INTEGER
 *
x
, cÚ¡ ASN1_INTEGER *
y
);

576 
DECLARE_ASN1_FUNCTIONS
(
ASN1_ENUMERATED
)

578 
ASN1_UTCTIME_check
(cÚ¡ 
ASN1_UTCTIME
 *
a
);

579 
ASN1_UTCTIME
 *
ASN1_UTCTIME_£t
(ASN1_UTCTIME *
s
, 
time_t
 
t
);

580 
ASN1_UTCTIME
 *
ASN1_UTCTIME_adj
(ASN1_UTCTIME *
s
, 
time_t
 
t
,

581 
off£t_day
, 
off£t_£c
);

582 
ASN1_UTCTIME_£t_¡ršg
(
ASN1_UTCTIME
 *
s
, cÚ¡ *
¡r
);

583 
ASN1_UTCTIME_cmp_time_t
(cÚ¡ 
ASN1_UTCTIME
 *
s
, 
time_t
 
t
);

585 
ASN1_GENERALIZEDTIME_check
(cÚ¡ 
ASN1_GENERALIZEDTIME
 *
a
);

586 
ASN1_GENERALIZEDTIME
 *
ASN1_GENERALIZEDTIME_£t
(ASN1_GENERALIZEDTIME *
s
,

587 
time_t
 
t
);

588 
ASN1_GENERALIZEDTIME
 *
ASN1_GENERALIZEDTIME_adj
(ASN1_GENERALIZEDTIME *
s
,

589 
time_t
 
t
, 
off£t_day
,

590 
off£t_£c
);

591 
ASN1_GENERALIZEDTIME_£t_¡ršg
(
ASN1_GENERALIZEDTIME
 *
s
, cÚ¡ *
¡r
);

593 
ASN1_TIME_diff
(*
pday
, *
p£c
,

594 cÚ¡ 
ASN1_TIME
 *
äom
, cÚ¡ ASN1_TIME *
to
);

596 
DECLARE_ASN1_FUNCTIONS
(
ASN1_OCTET_STRING
)

597 
ASN1_OCTET_STRING
 *
ASN1_OCTET_STRING_dup
(cÚ¡ ASN1_OCTET_STRING *
a
);

598 
ASN1_OCTET_STRING_cmp
(cÚ¡ 
ASN1_OCTET_STRING
 *
a
,

599 cÚ¡ 
ASN1_OCTET_STRING
 *
b
);

600 
ASN1_OCTET_STRING_£t
(
ASN1_OCTET_STRING
 *
¡r
, cÚ¡ *
d©a
,

601 
Ën
);

603 
DECLARE_ASN1_FUNCTIONS
(
ASN1_VISIBLESTRING
)

604 
DECLARE_ASN1_FUNCTIONS
(
ASN1_UNIVERSALSTRING
)

605 
DECLARE_ASN1_FUNCTIONS
(
ASN1_UTF8STRING
)

606 
DECLARE_ASN1_FUNCTIONS
(
ASN1_NULL
)

607 
DECLARE_ASN1_FUNCTIONS
(
ASN1_BMPSTRING
)

609 
UTF8_g‘c
(cÚ¡ *
¡r
, 
Ën
, *
v®
);

610 
UTF8_putc
(*
¡r
, 
Ën
, 
v®ue
);

612 
DECLARE_ASN1_FUNCTIONS_Çme
(
ASN1_STRING
, 
ASN1_PRINTABLE
)

614 
DECLARE_ASN1_FUNCTIONS_Çme
(
ASN1_STRING
, 
DIRECTORYSTRING
)

615 
DECLARE_ASN1_FUNCTIONS_Çme
(
ASN1_STRING
, 
DISPLAYTEXT
)

616 
DECLARE_ASN1_FUNCTIONS
(
ASN1_PRINTABLESTRING
)

617 
DECLARE_ASN1_FUNCTIONS
(
ASN1_T61STRING
)

618 
DECLARE_ASN1_FUNCTIONS
(
ASN1_IA5STRING
)

619 
DECLARE_ASN1_FUNCTIONS
(
ASN1_GENERALSTRING
)

620 
DECLARE_ASN1_FUNCTIONS
(
ASN1_UTCTIME
)

621 
DECLARE_ASN1_FUNCTIONS
(
ASN1_GENERALIZEDTIME
)

622 
DECLARE_ASN1_FUNCTIONS
(
ASN1_TIME
)

624 
DECLARE_ASN1_ITEM
(
ASN1_OCTET_STRING_NDEF
)

626 
ASN1_TIME
 *
ASN1_TIME_£t
(ASN1_TIME *
s
, 
time_t
 
t
);

627 
ASN1_TIME
 *
ASN1_TIME_adj
(ASN1_TIME *
s
, 
time_t
 
t
,

628 
off£t_day
, 
off£t_£c
);

629 
ASN1_TIME_check
(cÚ¡ 
ASN1_TIME
 *
t
);

630 
ASN1_GENERALIZEDTIME
 *
ASN1_TIME_to_g’”®izedtime
(cÚ¡ 
ASN1_TIME
 *
t
,

631 
ASN1_GENERALIZEDTIME
 **
out
);

632 
ASN1_TIME_£t_¡ršg
(
ASN1_TIME
 *
s
, cÚ¡ *
¡r
);

633 
ASN1_TIME_£t_¡ršg_X509
(
ASN1_TIME
 *
s
, cÚ¡ *
¡r
);

634 
ASN1_TIME_to_tm
(cÚ¡ 
ASN1_TIME
 *
s
, 
tm
 *tm);

635 
ASN1_TIME_nÜm®ize
(
ASN1_TIME
 *
s
);

636 
ASN1_TIME_cmp_time_t
(cÚ¡ 
ASN1_TIME
 *
s
, 
time_t
 
t
);

637 
ASN1_TIME_com·»
(cÚ¡ 
ASN1_TIME
 *
a
, cÚ¡ ASN1_TIME *
b
);

639 
i2a_ASN1_INTEGER
(
BIO
 *
bp
, cÚ¡ 
ASN1_INTEGER
 *
a
);

640 
a2i_ASN1_INTEGER
(
BIO
 *
bp
, 
ASN1_INTEGER
 *
bs
, *
buf
, 
size
);

641 
i2a_ASN1_ENUMERATED
(
BIO
 *
bp
, cÚ¡ 
ASN1_ENUMERATED
 *
a
);

642 
a2i_ASN1_ENUMERATED
(
BIO
 *
bp
, 
ASN1_ENUMERATED
 *
bs
, *
buf
, 
size
);

643 
i2a_ASN1_OBJECT
(
BIO
 *
bp
, cÚ¡ 
ASN1_OBJECT
 *
a
);

644 
a2i_ASN1_STRING
(
BIO
 *
bp
, 
ASN1_STRING
 *
bs
, *
buf
, 
size
);

645 
i2a_ASN1_STRING
(
BIO
 *
bp
, cÚ¡ 
ASN1_STRING
 *
a
, 
ty³
);

646 
i2t_ASN1_OBJECT
(*
buf
, 
buf_Ën
, cÚ¡ 
ASN1_OBJECT
 *
a
);

648 
a2d_ASN1_OBJECT
(*
out
, 
Ş’
, cÚ¡ *
buf
, 
num
);

649 
ASN1_OBJECT
 *
ASN1_OBJECT_ü—‹
(
nid
, *
d©a
, 
Ën
,

650 cÚ¡ *
¢
, cÚ¡ *
Ê
);

652 
ASN1_INTEGER_g‘_št64
(
št64_t
 *
´
, cÚ¡ 
ASN1_INTEGER
 *
a
);

653 
ASN1_INTEGER_£t_št64
(
ASN1_INTEGER
 *
a
, 
št64_t
 
r
);

654 
ASN1_INTEGER_g‘_ušt64
(
ušt64_t
 *
´
, cÚ¡ 
ASN1_INTEGER
 *
a
);

655 
ASN1_INTEGER_£t_ušt64
(
ASN1_INTEGER
 *
a
, 
ušt64_t
 
r
);

657 
ASN1_INTEGER_£t
(
ASN1_INTEGER
 *
a
, 
v
);

658 
ASN1_INTEGER_g‘
(cÚ¡ 
ASN1_INTEGER
 *
a
);

659 
ASN1_INTEGER
 *
BN_to_ASN1_INTEGER
(cÚ¡ 
BIGNUM
 *
bn
, ASN1_INTEGER *
ai
);

660 
BIGNUM
 *
ASN1_INTEGER_to_BN
(cÚ¡ 
ASN1_INTEGER
 *
ai
, BIGNUM *
bn
);

662 
ASN1_ENUMERATED_g‘_št64
(
št64_t
 *
´
, cÚ¡ 
ASN1_ENUMERATED
 *
a
);

663 
ASN1_ENUMERATED_£t_št64
(
ASN1_ENUMERATED
 *
a
, 
št64_t
 
r
);

666 
ASN1_ENUMERATED_£t
(
ASN1_ENUMERATED
 *
a
, 
v
);

667 
ASN1_ENUMERATED_g‘
(cÚ¡ 
ASN1_ENUMERATED
 *
a
);

668 
ASN1_ENUMERATED
 *
BN_to_ASN1_ENUMERATED
(cÚ¡ 
BIGNUM
 *
bn
, ASN1_ENUMERATED *
ai
);

669 
BIGNUM
 *
ASN1_ENUMERATED_to_BN
(cÚ¡ 
ASN1_ENUMERATED
 *
ai
, BIGNUM *
bn
);

673 
ASN1_PRINTABLE_ty³
(cÚ¡ *
s
, 
max
);

675 
ASN1_g2b™
(
g
);

678 
ASN1_g‘_objeù
(cÚ¡ **
µ
, *
¶’gth
, *
±ag
,

679 *
pşass
, 
omax
);

680 
ASN1_check_šfš™e_’d
(**
p
, 
Ën
);

681 
ASN1_cÚ¡_check_šfš™e_’d
(cÚ¡ **
p
, 
Ën
);

682 
ASN1_put_objeù
(**
µ
, 
cÚ¡ruùed
, 
Ëngth
,

683 
g
, 
xşass
);

684 
ASN1_put_eoc
(**
µ
);

685 
ASN1_objeù_size
(
cÚ¡ruùed
, 
Ëngth
, 
g
);

688 *
ASN1_dup
(
i2d_of_void
 *
i2d
, 
d2i_of_void
 *
d2i
, *
x
);

690 
	#ASN1_dup_of
(
ty³
,
i2d
,
d2i
,
x
) \

691 ((
ty³
*)
	`ASN1_dup
(
	`CHECKED_I2D_OF
Ñy³, 
i2d
), \

692 
	`CHECKED_D2I_OF
(
ty³
, 
d2i
), \

693 
	`CHECKED_PTR_OF
(
ty³
, 
x
)))

	)

695 
	#ASN1_dup_of_cÚ¡
(
ty³
,
i2d
,
d2i
,
x
) \

696 ((
ty³
*)
	`ASN1_dup
(
	`CHECKED_I2D_OF
(cÚ¡y³, 
i2d
), \

697 
	`CHECKED_D2I_OF
(
ty³
, 
d2i
), \

698 
	`CHECKED_PTR_OF
(cÚ¡ 
ty³
, 
x
)))

	)

700 *
ASN1_™em_dup
(cÚ¡ 
ASN1_ITEM
 *
™
, *
x
);

704 
	#M_ASN1_Ãw_of
(
ty³
èÑy³ *)
	`ASN1_™em_Ãw
(
	`ASN1_ITEM_½Œ
Ñy³))

	)

705 
	#M_ASN1_ä“_of
(
x
, 
ty³
) \

706 
	`ASN1_™em_ä“
(
	`CHECKED_PTR_OF
(
ty³
, 
x
), 
	`ASN1_ITEM_½Œ
Ñy³))

	)

708 #iâdeà
OPENSSL_NO_STDIO


709 *
ASN1_d2i_å
(*(*
xÃw
è(), 
d2i_of_void
 *
d2i
, 
FILE
 *
š
, **
x
);

711 
	#ASN1_d2i_å_of
(
ty³
,
xÃw
,
d2i
,
š
,
x
) \

712 ((
ty³
*)
	`ASN1_d2i_å
(
	`CHECKED_NEW_OF
Ñy³, 
xÃw
), \

713 
	`CHECKED_D2I_OF
(
ty³
, 
d2i
), \

714 
š
, \

715 
	`CHECKED_PPTR_OF
(
ty³
, 
x
)))

	)

717 *
ASN1_™em_d2i_å
(cÚ¡ 
ASN1_ITEM
 *
™
, 
FILE
 *
š
, *
x
);

718 
ASN1_i2d_å
(
i2d_of_void
 *
i2d
, 
FILE
 *
out
, *
x
);

720 
	#ASN1_i2d_å_of
(
ty³
,
i2d
,
out
,
x
) \

721 (
	`ASN1_i2d_å
(
	`CHECKED_I2D_OF
(
ty³
, 
i2d
), \

722 
out
, \

723 
	`CHECKED_PTR_OF
(
ty³
, 
x
)))

	)

725 
	#ASN1_i2d_å_of_cÚ¡
(
ty³
,
i2d
,
out
,
x
) \

726 (
	`ASN1_i2d_å
(
	`CHECKED_I2D_OF
(cÚ¡ 
ty³
, 
i2d
), \

727 
out
, \

728 
	`CHECKED_PTR_OF
(cÚ¡ 
ty³
, 
x
)))

	)

730 
ASN1_™em_i2d_å
(cÚ¡ 
ASN1_ITEM
 *
™
, 
FILE
 *
out
, *
x
);

731 
ASN1_STRING_´št_ex_å
(
FILE
 *
å
, cÚ¡ 
ASN1_STRING
 *
¡r
, 
æags
);

734 
ASN1_STRING_to_UTF8
(**
out
, cÚ¡ 
ASN1_STRING
 *
š
);

736 *
ASN1_d2i_bio
(*(*
xÃw
è(), 
d2i_of_void
 *
d2i
, 
BIO
 *
š
, **
x
);

738 
	#ASN1_d2i_bio_of
(
ty³
,
xÃw
,
d2i
,
š
,
x
) \

739 ((
ty³
*)
	`ASN1_d2i_bio
Ğ
	`CHECKED_NEW_OF
Ñy³, 
xÃw
), \

740 
	`CHECKED_D2I_OF
(
ty³
, 
d2i
), \

741 
š
, \

742 
	`CHECKED_PPTR_OF
(
ty³
, 
x
)))

	)

744 *
ASN1_™em_d2i_bio
(cÚ¡ 
ASN1_ITEM
 *
™
, 
BIO
 *
š
, *
x
);

745 
ASN1_i2d_bio
(
i2d_of_void
 *
i2d
, 
BIO
 *
out
, *
x
);

747 
	#ASN1_i2d_bio_of
(
ty³
,
i2d
,
out
,
x
) \

748 (
	`ASN1_i2d_bio
(
	`CHECKED_I2D_OF
(
ty³
, 
i2d
), \

749 
out
, \

750 
	`CHECKED_PTR_OF
(
ty³
, 
x
)))

	)

752 
	#ASN1_i2d_bio_of_cÚ¡
(
ty³
,
i2d
,
out
,
x
) \

753 (
	`ASN1_i2d_bio
(
	`CHECKED_I2D_OF
(cÚ¡ 
ty³
, 
i2d
), \

754 
out
, \

755 
	`CHECKED_PTR_OF
(cÚ¡ 
ty³
, 
x
)))

	)

757 
ASN1_™em_i2d_bio
(cÚ¡ 
ASN1_ITEM
 *
™
, 
BIO
 *
out
, *
x
);

758 
ASN1_UTCTIME_´št
(
BIO
 *
å
, cÚ¡ 
ASN1_UTCTIME
 *
a
);

759 
ASN1_GENERALIZEDTIME_´št
(
BIO
 *
å
, cÚ¡ 
ASN1_GENERALIZEDTIME
 *
a
);

760 
ASN1_TIME_´št
(
BIO
 *
å
, cÚ¡ 
ASN1_TIME
 *
a
);

761 
ASN1_STRING_´št
(
BIO
 *
bp
, cÚ¡ 
ASN1_STRING
 *
v
);

762 
ASN1_STRING_´št_ex
(
BIO
 *
out
, cÚ¡ 
ASN1_STRING
 *
¡r
, 
æags
);

763 
ASN1_buf_´št
(
BIO
 *
bp
, cÚ¡ *
buf
, 
size_t
 
buæ’
, 
off
);

764 
ASN1_bn_´št
(
BIO
 *
bp
, cÚ¡ *
numb”
, cÚ¡ 
BIGNUM
 *
num
,

765 *
buf
, 
off
);

766 
ASN1_·r£
(
BIO
 *
bp
, cÚ¡ *
µ
, 
Ën
, 
šd’t
);

767 
ASN1_·r£_dump
(
BIO
 *
bp
, cÚ¡ *
µ
, 
Ën
, 
šd’t
,

768 
dump
);

769 cÚ¡ *
ASN1_g2¡r
(
g
);

773 
ASN1_UNIVERSALSTRING_to_¡ršg
(
ASN1_UNIVERSALSTRING
 *
s
);

775 
ASN1_TYPE_£t_où‘¡ršg
(
ASN1_TYPE
 *
a
, *
d©a
, 
Ën
);

776 
ASN1_TYPE_g‘_où‘¡ršg
(cÚ¡ 
ASN1_TYPE
 *
a
, *
d©a
, 
max_Ën
);

777 
ASN1_TYPE_£t_št_où‘¡ršg
(
ASN1_TYPE
 *
a
, 
num
,

778 *
d©a
, 
Ën
);

779 
ASN1_TYPE_g‘_št_où‘¡ršg
(cÚ¡ 
ASN1_TYPE
 *
a
, *
num
,

780 *
d©a
, 
max_Ën
);

782 *
ASN1_™em_uÅack
(cÚ¡ 
ASN1_STRING
 *
où
, cÚ¡ 
ASN1_ITEM
 *
™
);

784 
ASN1_STRING
 *
ASN1_™em_·ck
(*
obj
, cÚ¡ 
ASN1_ITEM
 *
™
,

785 
ASN1_OCTET_STRING
 **
où
);

787 
ASN1_STRING_£t_deçuÉ_mask
(
mask
);

788 
ASN1_STRING_£t_deçuÉ_mask_asc
(cÚ¡ *
p
);

789 
ASN1_STRING_g‘_deçuÉ_mask
();

790 
ASN1_mb¡ršg_cİy
(
ASN1_STRING
 **
out
, cÚ¡ *
š
, 
Ën
,

791 
šfÜm
, 
mask
);

792 
ASN1_mb¡ršg_ncİy
(
ASN1_STRING
 **
out
, cÚ¡ *
š
, 
Ën
,

793 
šfÜm
, 
mask
,

794 
mšsize
, 
maxsize
);

796 
ASN1_STRING
 *
ASN1_STRING_£t_by_NID
(ASN1_STRING **
out
,

797 cÚ¡ *
š
, 
šËn
,

798 
šfÜm
, 
nid
);

799 
ASN1_STRING_TABLE
 *
ASN1_STRING_TABLE_g‘
(
nid
);

800 
ASN1_STRING_TABLE_add
(, , , , );

801 
ASN1_STRING_TABLE_ş—nup
();

806 
ASN1_VALUE
 *
ASN1_™em_Ãw
(cÚ¡ 
ASN1_ITEM
 *
™
);

807 
ASN1_™em_ä“
(
ASN1_VALUE
 *
v®
, cÚ¡ 
ASN1_ITEM
 *
™
);

808 
ASN1_VALUE
 *
ASN1_™em_d2i
(ASN1_VALUE **
v®
, cÚ¡ **
š
,

809 
Ën
, cÚ¡ 
ASN1_ITEM
 *
™
);

810 
ASN1_™em_i2d
(
ASN1_VALUE
 *
v®
, **
out
, cÚ¡ 
ASN1_ITEM
 *
™
);

811 
ASN1_™em_ndef_i2d
(
ASN1_VALUE
 *
v®
, **
out
,

812 cÚ¡ 
ASN1_ITEM
 *
™
);

814 
ASN1_add_oid_moduË
();

815 
ASN1_add_¡abË_moduË
();

817 
ASN1_TYPE
 *
ASN1_g’”©e_ncÚf
(cÚ¡ *
¡r
, 
CONF
 *
ncÚf
);

818 
ASN1_TYPE
 *
ASN1_g’”©e_v3
(cÚ¡ *
¡r
, 
X509V3_CTX
 *
úf
);

819 
ASN1_¡r2mask
(cÚ¡ *
¡r
, *
pmask
);

824 
	#ASN1_PCTX_FLAGS_SHOW_ABSENT
 0x001

	)

826 
	#ASN1_PCTX_FLAGS_SHOW_SEQUENCE
 0x002

	)

828 
	#ASN1_PCTX_FLAGS_SHOW_SSOF
 0x004

	)

830 
	#ASN1_PCTX_FLAGS_SHOW_TYPE
 0x008

	)

832 
	#ASN1_PCTX_FLAGS_NO_ANY_TYPE
 0x010

	)

834 
	#ASN1_PCTX_FLAGS_NO_MSTRING_TYPE
 0x020

	)

836 
	#ASN1_PCTX_FLAGS_NO_FIELD_NAME
 0x040

	)

838 
	#ASN1_PCTX_FLAGS_SHOW_FIELD_STRUCT_NAME
 0x080

	)

840 
	#ASN1_PCTX_FLAGS_NO_STRUCT_NAME
 0x100

	)

842 
ASN1_™em_´št
(
BIO
 *
out
, 
ASN1_VALUE
 *
iæd
, 
šd’t
,

843 cÚ¡ 
ASN1_ITEM
 *
™
, cÚ¡ 
ASN1_PCTX
 *
pùx
);

844 
ASN1_PCTX
 *
ASN1_PCTX_Ãw
();

845 
ASN1_PCTX_ä“
(
ASN1_PCTX
 *
p
);

846 
ASN1_PCTX_g‘_æags
(cÚ¡ 
ASN1_PCTX
 *
p
);

847 
ASN1_PCTX_£t_æags
(
ASN1_PCTX
 *
p
, 
æags
);

848 
ASN1_PCTX_g‘_nm_æags
(cÚ¡ 
ASN1_PCTX
 *
p
);

849 
ASN1_PCTX_£t_nm_æags
(
ASN1_PCTX
 *
p
, 
æags
);

850 
ASN1_PCTX_g‘_û¹_æags
(cÚ¡ 
ASN1_PCTX
 *
p
);

851 
ASN1_PCTX_£t_û¹_æags
(
ASN1_PCTX
 *
p
, 
æags
);

852 
ASN1_PCTX_g‘_oid_æags
(cÚ¡ 
ASN1_PCTX
 *
p
);

853 
ASN1_PCTX_£t_oid_æags
(
ASN1_PCTX
 *
p
, 
æags
);

854 
ASN1_PCTX_g‘_¡r_æags
(cÚ¡ 
ASN1_PCTX
 *
p
);

855 
ASN1_PCTX_£t_¡r_æags
(
ASN1_PCTX
 *
p
, 
æags
);

857 
ASN1_SCTX
 *
ASN1_SCTX_Ãw
((*
sÿn_cb
è(ASN1_SCTX *
ùx
));

858 
ASN1_SCTX_ä“
(
ASN1_SCTX
 *
p
);

859 cÚ¡ 
ASN1_ITEM
 *
ASN1_SCTX_g‘_™em
(
ASN1_SCTX
 *
p
);

860 cÚ¡ 
ASN1_TEMPLATE
 *
ASN1_SCTX_g‘_‹m¶©e
(
ASN1_SCTX
 *
p
);

861 
ASN1_SCTX_g‘_æags
(
ASN1_SCTX
 *
p
);

862 
ASN1_SCTX_£t_­p_d©a
(
ASN1_SCTX
 *
p
, *
d©a
);

863 *
ASN1_SCTX_g‘_­p_d©a
(
ASN1_SCTX
 *
p
);

865 cÚ¡ 
BIO_METHOD
 *
BIO_f_a¢1
();

867 
BIO
 *
BIO_Ãw_NDEF
(BIO *
out
, 
ASN1_VALUE
 *
v®
, cÚ¡ 
ASN1_ITEM
 *
™
);

869 
i2d_ASN1_bio_¡»am
(
BIO
 *
out
, 
ASN1_VALUE
 *
v®
, BIO *
š
, 
æags
,

870 cÚ¡ 
ASN1_ITEM
 *
™
);

871 
PEM_wr™e_bio_ASN1_¡»am
(
BIO
 *
out
, 
ASN1_VALUE
 *
v®
, BIO *
š
, 
æags
,

872 cÚ¡ *
hdr
, cÚ¡ 
ASN1_ITEM
 *
™
);

873 
SMIME_wr™e_ASN1
(
BIO
 *
bio
, 
ASN1_VALUE
 *
v®
, BIO *
d©a
, 
æags
,

874 
ùy³_nid
, 
ecÚt_nid
,

875 
STACK_OF
(
X509_ALGOR
è*
md®gs
, cÚ¡ 
ASN1_ITEM
 *
™
);

876 
ASN1_VALUE
 *
SMIME_»ad_ASN1
(
BIO
 *
bio
, BIO **
bcÚt
, cÚ¡ 
ASN1_ITEM
 *
™
);

877 
SMIME_ülf_cİy
(
BIO
 *
š
, BIO *
out
, 
æags
);

878 
SMIME_‹xt
(
BIO
 *
š
, BIO *
out
);

880 cÚ¡ 
ASN1_ITEM
 *
ASN1_ITEM_lookup
(cÚ¡ *
Çme
);

881 cÚ¡ 
ASN1_ITEM
 *
ASN1_ITEM_g‘
(
size_t
 
i
);

883 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/async.h

10 
	~<¡dlib.h
>

12 #iâdeà
HEADER_ASYNC_H


13 
	#HEADER_ASYNC_H


	)

15 #ià
defšed
(
_WIN32
)

16 #ià
defšed
(
BASETYPES
è|| defšed(
_WINDEF_H
)

18 
	#OSSL_ASYNC_FD
 
HANDLE


	)

19 
	#OSSL_BAD_ASYNC_FD
 
INVALID_HANDLE_VALUE


	)

22 
	#OSSL_ASYNC_FD
 

	)

23 
	#OSSL_BAD_ASYNC_FD
 -1

	)

25 
	~<İ’s¦/asynû¼.h
>

28 #ifdeà 
__ılu¥lus


32 
async_job_¡
 
	tASYNC_JOB
;

33 
async_wa™_ùx_¡
 
	tASYNC_WAIT_CTX
;

35 
	#ASYNC_ERR
 0

	)

36 
	#ASYNC_NO_JOBS
 1

	)

37 
	#ASYNC_PAUSE
 2

	)

38 
	#ASYNC_FINISH
 3

	)

40 
ASYNC_š™_th»ad
(
size_t
 
max_size
, size_ˆ
š™_size
);

41 
ASYNC_ş—nup_th»ad
();

43 #ifdeà
OSSL_ASYNC_FD


44 
ASYNC_WAIT_CTX
 *
ASYNC_WAIT_CTX_Ãw
();

45 
ASYNC_WAIT_CTX_ä“
(
ASYNC_WAIT_CTX
 *
ùx
);

46 
ASYNC_WAIT_CTX_£t_wa™_fd
(
ASYNC_WAIT_CTX
 *
ùx
, cÚ¡ *
key
,

47 
OSSL_ASYNC_FD
 
fd
,

48 *
cu¡om_d©a
,

49 (*
ş—nup
)(
ASYNC_WAIT_CTX
 *, const *,

50 
OSSL_ASYNC_FD
, *));

51 
ASYNC_WAIT_CTX_g‘_fd
(
ASYNC_WAIT_CTX
 *
ùx
, cÚ¡ *
key
,

52 
OSSL_ASYNC_FD
 *
fd
, **
cu¡om_d©a
);

53 
ASYNC_WAIT_CTX_g‘_®l_fds
(
ASYNC_WAIT_CTX
 *
ùx
, 
OSSL_ASYNC_FD
 *
fd
,

54 
size_t
 *
numfds
);

55 
ASYNC_WAIT_CTX_g‘_chªged_fds
(
ASYNC_WAIT_CTX
 *
ùx
, 
OSSL_ASYNC_FD
 *
addfd
,

56 
size_t
 *
numaddfds
, 
OSSL_ASYNC_FD
 *
d–fd
,

57 
size_t
 *
numd–fds
);

58 
ASYNC_WAIT_CTX_ş—r_fd
(
ASYNC_WAIT_CTX
 *
ùx
, cÚ¡ *
key
);

61 
ASYNC_is_ÿ·bË
();

63 
ASYNC_¡¬t_job
(
ASYNC_JOB
 **
job
, 
ASYNC_WAIT_CTX
 *
ùx
, *
»t
,

64 (*
func
)(*), *
¬gs
, 
size_t
 
size
);

65 
ASYNC_·u£_job
();

67 
ASYNC_JOB
 *
ASYNC_g‘_cu¼’t_job
();

68 
ASYNC_WAIT_CTX
 *
ASYNC_g‘_wa™_ùx
(
ASYNC_JOB
 *
job
);

69 
ASYNC_block_·u£
();

70 
ASYNC_unblock_·u£
();

73 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/bioerr.h

11 #iâdeà
HEADER_BIOERR_H


12 
	#HEADER_BIOERR_H


	)

14 #ifdeà 
__ılu¥lus


17 
ERR_lßd_BIO_¡ršgs
();

22 
	#BIO_F_ACPT_STATE
 100

	)

23 
	#BIO_F_ADDRINFO_WRAP
 148

	)

24 
	#BIO_F_ADDR_STRINGS
 134

	)

25 
	#BIO_F_BIO_ACCEPT
 101

	)

26 
	#BIO_F_BIO_ACCEPT_EX
 137

	)

27 
	#BIO_F_BIO_ACCEPT_NEW
 152

	)

28 
	#BIO_F_BIO_ADDR_NEW
 144

	)

29 
	#BIO_F_BIO_BIND
 147

	)

30 
	#BIO_F_BIO_CALLBACK_CTRL
 131

	)

31 
	#BIO_F_BIO_CONNECT
 138

	)

32 
	#BIO_F_BIO_CONNECT_NEW
 153

	)

33 
	#BIO_F_BIO_CTRL
 103

	)

34 
	#BIO_F_BIO_GETS
 104

	)

35 
	#BIO_F_BIO_GET_HOST_IP
 106

	)

36 
	#BIO_F_BIO_GET_NEW_INDEX
 102

	)

37 
	#BIO_F_BIO_GET_PORT
 107

	)

38 
	#BIO_F_BIO_LISTEN
 139

	)

39 
	#BIO_F_BIO_LOOKUP
 135

	)

40 
	#BIO_F_BIO_LOOKUP_EX
 143

	)

41 
	#BIO_F_BIO_MAKE_PAIR
 121

	)

42 
	#BIO_F_BIO_METH_NEW
 146

	)

43 
	#BIO_F_BIO_NEW
 108

	)

44 
	#BIO_F_BIO_NEW_DGRAM_SCTP
 145

	)

45 
	#BIO_F_BIO_NEW_FILE
 109

	)

46 
	#BIO_F_BIO_NEW_MEM_BUF
 126

	)

47 
	#BIO_F_BIO_NREAD
 123

	)

48 
	#BIO_F_BIO_NREAD0
 124

	)

49 
	#BIO_F_BIO_NWRITE
 125

	)

50 
	#BIO_F_BIO_NWRITE0
 122

	)

51 
	#BIO_F_BIO_PARSE_HOSTSERV
 136

	)

52 
	#BIO_F_BIO_PUTS
 110

	)

53 
	#BIO_F_BIO_READ
 111

	)

54 
	#BIO_F_BIO_READ_EX
 105

	)

55 
	#BIO_F_BIO_READ_INTERN
 120

	)

56 
	#BIO_F_BIO_SOCKET
 140

	)

57 
	#BIO_F_BIO_SOCKET_NBIO
 142

	)

58 
	#BIO_F_BIO_SOCK_INFO
 141

	)

59 
	#BIO_F_BIO_SOCK_INIT
 112

	)

60 
	#BIO_F_BIO_WRITE
 113

	)

61 
	#BIO_F_BIO_WRITE_EX
 119

	)

62 
	#BIO_F_BIO_WRITE_INTERN
 128

	)

63 
	#BIO_F_BUFFER_CTRL
 114

	)

64 
	#BIO_F_CONN_CTRL
 127

	)

65 
	#BIO_F_CONN_STATE
 115

	)

66 
	#BIO_F_DGRAM_SCTP_NEW
 149

	)

67 
	#BIO_F_DGRAM_SCTP_READ
 132

	)

68 
	#BIO_F_DGRAM_SCTP_WRITE
 133

	)

69 
	#BIO_F_DOAPR_OUTCH
 150

	)

70 
	#BIO_F_FILE_CTRL
 116

	)

71 
	#BIO_F_FILE_READ
 130

	)

72 
	#BIO_F_LINEBUFFER_CTRL
 129

	)

73 
	#BIO_F_LINEBUFFER_NEW
 151

	)

74 
	#BIO_F_MEM_WRITE
 117

	)

75 
	#BIO_F_NBIOF_NEW
 154

	)

76 
	#BIO_F_SLG_WRITE
 155

	)

77 
	#BIO_F_SSL_NEW
 118

	)

82 
	#BIO_R_ACCEPT_ERROR
 100

	)

83 
	#BIO_R_ADDRINFO_ADDR_IS_NOT_AF_INET
 141

	)

84 
	#BIO_R_AMBIGUOUS_HOST_OR_SERVICE
 129

	)

85 
	#BIO_R_BAD_FOPEN_MODE
 101

	)

86 
	#BIO_R_BROKEN_PIPE
 124

	)

87 
	#BIO_R_CONNECT_ERROR
 103

	)

88 
	#BIO_R_GETHOSTBYNAME_ADDR_IS_NOT_AF_INET
 107

	)

89 
	#BIO_R_GETSOCKNAME_ERROR
 132

	)

90 
	#BIO_R_GETSOCKNAME_TRUNCATED_ADDRESS
 133

	)

91 
	#BIO_R_GETTING_SOCKTYPE
 134

	)

92 
	#BIO_R_INVALID_ARGUMENT
 125

	)

93 
	#BIO_R_INVALID_SOCKET
 135

	)

94 
	#BIO_R_IN_USE
 123

	)

95 
	#BIO_R_LENGTH_TOO_LONG
 102

	)

96 
	#BIO_R_LISTEN_V6_ONLY
 136

	)

97 
	#BIO_R_LOOKUP_RETURNED_NOTHING
 142

	)

98 
	#BIO_R_MALFORMED_HOST_OR_SERVICE
 130

	)

99 
	#BIO_R_NBIO_CONNECT_ERROR
 110

	)

100 
	#BIO_R_NO_ACCEPT_ADDR_OR_SERVICE_SPECIFIED
 143

	)

101 
	#BIO_R_NO_HOSTNAME_OR_SERVICE_SPECIFIED
 144

	)

102 
	#BIO_R_NO_PORT_DEFINED
 113

	)

103 
	#BIO_R_NO_SUCH_FILE
 128

	)

104 
	#BIO_R_NULL_PARAMETER
 115

	)

105 
	#BIO_R_UNABLE_TO_BIND_SOCKET
 117

	)

106 
	#BIO_R_UNABLE_TO_CREATE_SOCKET
 118

	)

107 
	#BIO_R_UNABLE_TO_KEEPALIVE
 137

	)

108 
	#BIO_R_UNABLE_TO_LISTEN_SOCKET
 119

	)

109 
	#BIO_R_UNABLE_TO_NODELAY
 138

	)

110 
	#BIO_R_UNABLE_TO_REUSEADDR
 139

	)

111 
	#BIO_R_UNAVAILABLE_IP_FAMILY
 145

	)

112 
	#BIO_R_UNINITIALIZED
 120

	)

113 
	#BIO_R_UNKNOWN_INFO_TYPE
 140

	)

114 
	#BIO_R_UNSUPPORTED_IP_FAMILY
 146

	)

115 
	#BIO_R_UNSUPPORTED_METHOD
 121

	)

116 
	#BIO_R_UNSUPPORTED_PROTOCOL_FAMILY
 131

	)

117 
	#BIO_R_WRITE_TO_READ_ONLY_BIO
 126

	)

118 
	#BIO_R_WSASTARTUP
 122

	)

	@/usr/include/openssl/bnerr.h

11 #iâdeà
HEADER_BNERR_H


12 
	#HEADER_BNERR_H


	)

14 #ifdeà 
__ılu¥lus


17 
ERR_lßd_BN_¡ršgs
();

22 
	#BN_F_BNRAND
 127

	)

23 
	#BN_F_BNRAND_RANGE
 138

	)

24 
	#BN_F_BN_BLINDING_CONVERT_EX
 100

	)

25 
	#BN_F_BN_BLINDING_CREATE_PARAM
 128

	)

26 
	#BN_F_BN_BLINDING_INVERT_EX
 101

	)

27 
	#BN_F_BN_BLINDING_NEW
 102

	)

28 
	#BN_F_BN_BLINDING_UPDATE
 103

	)

29 
	#BN_F_BN_BN2DEC
 104

	)

30 
	#BN_F_BN_BN2HEX
 105

	)

31 
	#BN_F_BN_COMPUTE_WNAF
 142

	)

32 
	#BN_F_BN_CTX_GET
 116

	)

33 
	#BN_F_BN_CTX_NEW
 106

	)

34 
	#BN_F_BN_CTX_START
 129

	)

35 
	#BN_F_BN_DIV
 107

	)

36 
	#BN_F_BN_DIV_RECP
 130

	)

37 
	#BN_F_BN_EXP
 123

	)

38 
	#BN_F_BN_EXPAND_INTERNAL
 120

	)

39 
	#BN_F_BN_GENCB_NEW
 143

	)

40 
	#BN_F_BN_GENERATE_DSA_NONCE
 140

	)

41 
	#BN_F_BN_GENERATE_PRIME_EX
 141

	)

42 
	#BN_F_BN_GF2M_MOD
 131

	)

43 
	#BN_F_BN_GF2M_MOD_EXP
 132

	)

44 
	#BN_F_BN_GF2M_MOD_MUL
 133

	)

45 
	#BN_F_BN_GF2M_MOD_SOLVE_QUAD
 134

	)

46 
	#BN_F_BN_GF2M_MOD_SOLVE_QUAD_ARR
 135

	)

47 
	#BN_F_BN_GF2M_MOD_SQR
 136

	)

48 
	#BN_F_BN_GF2M_MOD_SQRT
 137

	)

49 
	#BN_F_BN_LSHIFT
 145

	)

50 
	#BN_F_BN_MOD_EXP2_MONT
 118

	)

51 
	#BN_F_BN_MOD_EXP_MONT
 109

	)

52 
	#BN_F_BN_MOD_EXP_MONT_CONSTTIME
 124

	)

53 
	#BN_F_BN_MOD_EXP_MONT_WORD
 117

	)

54 
	#BN_F_BN_MOD_EXP_RECP
 125

	)

55 
	#BN_F_BN_MOD_EXP_SIMPLE
 126

	)

56 
	#BN_F_BN_MOD_INVERSE
 110

	)

57 
	#BN_F_BN_MOD_INVERSE_NO_BRANCH
 139

	)

58 
	#BN_F_BN_MOD_LSHIFT_QUICK
 119

	)

59 
	#BN_F_BN_MOD_SQRT
 121

	)

60 
	#BN_F_BN_MONT_CTX_NEW
 149

	)

61 
	#BN_F_BN_MPI2BN
 112

	)

62 
	#BN_F_BN_NEW
 113

	)

63 
	#BN_F_BN_POOL_GET
 147

	)

64 
	#BN_F_BN_RAND
 114

	)

65 
	#BN_F_BN_RAND_RANGE
 122

	)

66 
	#BN_F_BN_RECP_CTX_NEW
 150

	)

67 
	#BN_F_BN_RSHIFT
 146

	)

68 
	#BN_F_BN_SET_WORDS
 144

	)

69 
	#BN_F_BN_STACK_PUSH
 148

	)

70 
	#BN_F_BN_USUB
 115

	)

75 
	#BN_R_ARG2_LT_ARG3
 100

	)

76 
	#BN_R_BAD_RECIPROCAL
 101

	)

77 
	#BN_R_BIGNUM_TOO_LONG
 114

	)

78 
	#BN_R_BITS_TOO_SMALL
 118

	)

79 
	#BN_R_CALLED_WITH_EVEN_MODULUS
 102

	)

80 
	#BN_R_DIV_BY_ZERO
 103

	)

81 
	#BN_R_ENCODING_ERROR
 104

	)

82 
	#BN_R_EXPAND_ON_STATIC_BIGNUM_DATA
 105

	)

83 
	#BN_R_INPUT_NOT_REDUCED
 110

	)

84 
	#BN_R_INVALID_LENGTH
 106

	)

85 
	#BN_R_INVALID_RANGE
 115

	)

86 
	#BN_R_INVALID_SHIFT
 119

	)

87 
	#BN_R_NOT_A_SQUARE
 111

	)

88 
	#BN_R_NOT_INITIALIZED
 107

	)

89 
	#BN_R_NO_INVERSE
 108

	)

90 
	#BN_R_NO_SOLUTION
 116

	)

91 
	#BN_R_PRIVATE_KEY_TOO_LARGE
 117

	)

92 
	#BN_R_P_IS_NOT_PRIME
 112

	)

93 
	#BN_R_TOO_MANY_ITERATIONS
 113

	)

94 
	#BN_R_TOO_MANY_TEMPORARY_VARIABLES
 109

	)

	@/usr/include/openssl/buffer.h

10 #iâdeà
HEADER_BUFFER_H


11 
	#HEADER_BUFFER_H


	)

13 
	~<İ’s¦/os¦_typ.h
>

14 #iâdeà
HEADER_CRYPTO_H


15 
	~<İ’s¦/üy±o.h
>

17 
	~<İ’s¦/bufã»¼.h
>

20 #ifdeà 
__ılu¥lus


24 
	~<¡ddef.h
>

25 
	~<sys/ty³s.h
>

31 
	#BUF_¡rdup
(
s
è
	`OPENSSL_¡rdup
(s)

	)

32 
	#BUF_¡ºdup
(
s
, 
size
è
	`OPENSSL_¡ºdup
(s, size)

	)

33 
	#BUF_memdup
(
d©a
, 
size
è
	`OPENSSL_memdup
(d©a, size)

	)

34 
	#BUF_¡¾ıy
(
d¡
, 
¤c
, 
size
è
	`OPENSSL_¡¾ıy
(d¡, src, size)

	)

35 
	#BUF_¡¾ÿt
(
d¡
, 
¤c
, 
size
è
	`OPENSSL_¡¾ÿt
(d¡, src, size)

	)

36 
	#BUF_¡ºËn
(
¡r
, 
maxËn
è
	`OPENSSL_¡ºËn
(¡r, maxËn)

	)

38 
	sbuf_mem_¡
 {

39 
size_t
 
Ëngth
;

40 *
d©a
;

41 
size_t
 
max
;

42 
æags
;

45 
	#BUF_MEM_FLAG_SECURE
 0x01

	)

47 
BUF_MEM
 *
BUF_MEM_Ãw
();

48 
BUF_MEM
 *
BUF_MEM_Ãw_ex
(
æags
);

49 
BUF_MEM_ä“
(
BUF_MEM
 *
a
);

50 
size_t
 
BUF_MEM_grow
(
BUF_MEM
 *
¡r
, size_ˆ
Ën
);

51 
size_t
 
BUF_MEM_grow_ş—n
(
BUF_MEM
 *
¡r
, size_ˆ
Ën
);

52 
BUF_»v”£
(*
out
, cÚ¡ *
š
, 
size_t
 
siz
);

55 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/comp.h

10 #iâdeà
HEADER_COMP_H


11 
	#HEADER_COMP_H


	)

13 
	~<İ’s¦/İ’s¦cÚf.h
>

15 #iâdeà
OPENSSL_NO_COMP


16 
	~<İ’s¦/üy±o.h
>

17 
	~<İ’s¦/com³¼.h
>

18 #ifdeà 
__ılu¥lus


24 
COMP_CTX
 *
COMP_CTX_Ãw
(
COMP_METHOD
 *
m‘h
);

25 cÚ¡ 
COMP_METHOD
 *
COMP_CTX_g‘_m‘hod
(cÚ¡ 
COMP_CTX
 *
ùx
);

26 
COMP_CTX_g‘_ty³
(cÚ¡ 
COMP_CTX
* 
comp
);

27 
COMP_g‘_ty³
(cÚ¡ 
COMP_METHOD
 *
m‘h
);

28 cÚ¡ *
COMP_g‘_Çme
(cÚ¡ 
COMP_METHOD
 *
m‘h
);

29 
COMP_CTX_ä“
(
COMP_CTX
 *
ùx
);

31 
COMP_com´ess_block
(
COMP_CTX
 *
ùx
, *
out
, 
Ş’
,

32 *
š
, 
’
);

33 
COMP_ex·nd_block
(
COMP_CTX
 *
ùx
, *
out
, 
Ş’
,

34 *
š
, 
’
);

36 
COMP_METHOD
 *
COMP_zlib
();

38 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

39 
	#COMP_zlib_ş—nup
(è0è

	)

42 #ifdeà
HEADER_BIO_H


43 #ifdeà
ZLIB


44 cÚ¡ 
BIO_METHOD
 *
BIO_f_zlib
();

49 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/conf.h

10 #iâdeà 
HEADER_CONF_H


11 
	#HEADER_CONF_H


	)

13 
	~<İ’s¦/bio.h
>

14 
	~<İ’s¦/lhash.h
>

15 
	~<İ’s¦/§ã¡ack.h
>

16 
	~<İ’s¦/e_os2.h
>

17 
	~<İ’s¦/os¦_typ.h
>

18 
	~<İ’s¦/cÚã¼.h
>

20 #ifdeà 
__ılu¥lus


25 *
£ùiÚ
;

26 *
Çme
;

27 *
v®ue
;

28 } 
	tCONF_VALUE
;

30 
DEFINE_STACK_OF
(
CONF_VALUE
)

31 
DEFINE_LHASH_OF
(
CONF_VALUE
);

33 
cÚf_¡
;

34 
cÚf_m‘hod_¡
;

35 
cÚf_m‘hod_¡
 
	tCONF_METHOD
;

37 
	scÚf_m‘hod_¡
 {

38 cÚ¡ *
Çme
;

39 
CONF
 *(*
ü—‹
è(
CONF_METHOD
 *
m‘h
);

40 (*
š™
è(
CONF
 *
cÚf
);

41 (*
de¡roy
è(
CONF
 *
cÚf
);

42 (*
de¡roy_d©a
è(
CONF
 *
cÚf
);

43 (*
lßd_bio
è(
CONF
 *
cÚf
, 
BIO
 *
bp
, *
–še
);

44 (*
dump
è(cÚ¡ 
CONF
 *
cÚf
, 
BIO
 *
bp
);

45 (*
is_numb”
è(cÚ¡ 
CONF
 *
cÚf
, 
c
);

46 (*
to_št
è(cÚ¡ 
CONF
 *
cÚf
, 
c
);

47 (*
lßd
è(
CONF
 *
cÚf
, cÚ¡ *
Çme
, *
–še
);

52 
cÚf_imoduË_¡
 
	tCONF_IMODULE
;

53 
cÚf_moduË_¡
 
	tCONF_MODULE
;

55 
DEFINE_STACK_OF
(
CONF_MODULE
)

56 
DEFINE_STACK_OF
(
CONF_IMODULE
)

59 
	tcÚf_š™_func
 (
	tCONF_IMODULE
 *
	tmd
, cÚ¡ 
	tCONF
 *
	túf
);

60 
	tcÚf_fšish_func
 (
	tCONF_IMODULE
 *
	tmd
);

62 
	#CONF_MFLAGS_IGNORE_ERRORS
 0x1

	)

63 
	#CONF_MFLAGS_IGNORE_RETURN_CODES
 0x2

	)

64 
	#CONF_MFLAGS_SILENT
 0x4

	)

65 
	#CONF_MFLAGS_NO_DSO
 0x8

	)

66 
	#CONF_MFLAGS_IGNORE_MISSING_FILE
 0x10

	)

67 
	#CONF_MFLAGS_DEFAULT_SECTION
 0x20

	)

69 
CONF_£t_deçuÉ_m‘hod
(
CONF_METHOD
 *
m‘h
);

70 
CONF_£t_ncÚf
(
CONF
 *
cÚf
, 
LHASH_OF
(
CONF_VALUE
è*
hash
);

71 
LHASH_OF
(
CONF_VALUE
è*
CONF_lßd
(LHASH_OF(CONF_VALUEè*
cÚf
, cÚ¡ *
fe
,

72 *
–še
);

73 #iâdeà
OPENSSL_NO_STDIO


74 
LHASH_OF
(
CONF_VALUE
è*
CONF_lßd_å
(LHASH_OF(CONF_VALUEè*
cÚf
, 
FILE
 *
å
,

75 *
–še
);

77 
LHASH_OF
(
CONF_VALUE
è*
CONF_lßd_bio
(LHASH_OF(CONF_VALUEè*
cÚf
, 
BIO
 *
bp
,

78 *
–še
);

79 
STACK_OF
(
CONF_VALUE
è*
CONF_g‘_£ùiÚ
(
LHASH_OF
(CONF_VALUEè*
cÚf
,

80 cÚ¡ *
£ùiÚ
);

81 *
CONF_g‘_¡ršg
(
LHASH_OF
(
CONF_VALUE
è*
cÚf
, cÚ¡ *
group
,

82 cÚ¡ *
Çme
);

83 
CONF_g‘_numb”
(
LHASH_OF
(
CONF_VALUE
è*
cÚf
, cÚ¡ *
group
,

84 cÚ¡ *
Çme
);

85 
CONF_ä“
(
LHASH_OF
(
CONF_VALUE
è*
cÚf
);

86 #iâdeà
OPENSSL_NO_STDIO


87 
CONF_dump_å
(
LHASH_OF
(
CONF_VALUE
è*
cÚf
, 
FILE
 *
out
);

89 
CONF_dump_bio
(
LHASH_OF
(
CONF_VALUE
è*
cÚf
, 
BIO
 *
out
);

91 
DEPRECATEDIN_1_1_0
(
OPENSSL_cÚfig
(cÚ¡ *
cÚfig_Çme
))

93 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

94 
	#OPENSSL_no_cÚfig
() \

95 
	`OPENSSL_š™_üy±o
(
OPENSSL_INIT_NO_LOAD_CONFIG
, 
NULL
)

	)

103 
	scÚf_¡
 {

104 
CONF_METHOD
 *
m‘h
;

105 *
m‘h_d©a
;

106 
LHASH_OF
(
CONF_VALUE
è*
d©a
;

109 
CONF
 *
NCONF_Ãw
(
CONF_METHOD
 *
m‘h
);

110 
CONF_METHOD
 *
NCONF_deçuÉ
();

111 
CONF_METHOD
 *
NCONF_WIN32
();

112 
NCONF_ä“
(
CONF
 *
cÚf
);

113 
NCONF_ä“_d©a
(
CONF
 *
cÚf
);

115 
NCONF_lßd
(
CONF
 *
cÚf
, cÚ¡ *
fe
, *
–še
);

116 #iâdeà
OPENSSL_NO_STDIO


117 
NCONF_lßd_å
(
CONF
 *
cÚf
, 
FILE
 *
å
, *
–še
);

119 
NCONF_lßd_bio
(
CONF
 *
cÚf
, 
BIO
 *
bp
, *
–še
);

120 
STACK_OF
(
CONF_VALUE
è*
NCONF_g‘_£ùiÚ
(cÚ¡ 
CONF
 *
cÚf
,

121 cÚ¡ *
£ùiÚ
);

122 *
NCONF_g‘_¡ršg
(cÚ¡ 
CONF
 *
cÚf
, cÚ¡ *
group
, cÚ¡ *
Çme
);

123 
NCONF_g‘_numb”_e
(cÚ¡ 
CONF
 *
cÚf
, cÚ¡ *
group
, cÚ¡ *
Çme
,

124 *
»suÉ
);

125 #iâdeà
OPENSSL_NO_STDIO


126 
NCONF_dump_å
(cÚ¡ 
CONF
 *
cÚf
, 
FILE
 *
out
);

128 
NCONF_dump_bio
(cÚ¡ 
CONF
 *
cÚf
, 
BIO
 *
out
);

130 
	#NCONF_g‘_numb”
(
c
,
g
,
n
,
r
è
	`NCONF_g‘_numb”_e
(c,g,n,r)

	)

134 
CONF_moduËs_lßd
(cÚ¡ 
CONF
 *
úf
, cÚ¡ *
­²ame
,

135 
æags
);

136 
CONF_moduËs_lßd_fe
(cÚ¡ *
f’ame
, cÚ¡ *
­²ame
,

137 
æags
);

138 
CONF_moduËs_uÆßd
(
®l
);

139 
CONF_moduËs_fšish
();

140 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

141 
	#CONF_moduËs_ä“
(è0è

	)

143 
CONF_moduË_add
(cÚ¡ *
Çme
, 
cÚf_š™_func
 *
ifunc
,

144 
cÚf_fšish_func
 *
ffunc
);

146 cÚ¡ *
CONF_imoduË_g‘_Çme
(cÚ¡ 
CONF_IMODULE
 *
md
);

147 cÚ¡ *
CONF_imoduË_g‘_v®ue
(cÚ¡ 
CONF_IMODULE
 *
md
);

148 *
CONF_imoduË_g‘_u¤_d©a
(cÚ¡ 
CONF_IMODULE
 *
md
);

149 
CONF_imoduË_£t_u¤_d©a
(
CONF_IMODULE
 *
md
, *
u¤_d©a
);

150 
CONF_MODULE
 *
CONF_imoduË_g‘_moduË
(cÚ¡ 
CONF_IMODULE
 *
md
);

151 
CONF_imoduË_g‘_æags
(cÚ¡ 
CONF_IMODULE
 *
md
);

152 
CONF_imoduË_£t_æags
(
CONF_IMODULE
 *
md
, 
æags
);

153 *
CONF_moduË_g‘_u¤_d©a
(
CONF_MODULE
 *
pmod
);

154 
CONF_moduË_£t_u¤_d©a
(
CONF_MODULE
 *
pmod
, *
u¤_d©a
);

156 *
CONF_g‘1_deçuÉ_cÚfig_fe
();

158 
CONF_·r£_li¡
(cÚ¡ *
li¡
, 
£p
, 
no¥c
,

159 (*
li¡_cb
è(cÚ¡ *
–em
, 
Ën
, *
u¤
),

160 *
¬g
);

162 
OPENSSL_lßd_butš_moduËs
();

165 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/cryptoerr.h

11 #iâdeà
HEADER_CRYPTOERR_H


12 
	#HEADER_CRYPTOERR_H


	)

14 #ifdeà 
__ılu¥lus


17 
ERR_lßd_CRYPTO_¡ršgs
();

22 
	#CRYPTO_F_CMAC_CTX_NEW
 120

	)

23 
	#CRYPTO_F_CRYPTO_DUP_EX_DATA
 110

	)

24 
	#CRYPTO_F_CRYPTO_FREE_EX_DATA
 111

	)

25 
	#CRYPTO_F_CRYPTO_GET_EX_NEW_INDEX
 100

	)

26 
	#CRYPTO_F_CRYPTO_MEMDUP
 115

	)

27 
	#CRYPTO_F_CRYPTO_NEW_EX_DATA
 112

	)

28 
	#CRYPTO_F_CRYPTO_OCB128_COPY_CTX
 121

	)

29 
	#CRYPTO_F_CRYPTO_OCB128_INIT
 122

	)

30 
	#CRYPTO_F_CRYPTO_SET_EX_DATA
 102

	)

31 
	#CRYPTO_F_FIPS_MODE_SET
 109

	)

32 
	#CRYPTO_F_GET_AND_LOCK
 113

	)

33 
	#CRYPTO_F_OPENSSL_ATEXIT
 114

	)

34 
	#CRYPTO_F_OPENSSL_BUF2HEXSTR
 117

	)

35 
	#CRYPTO_F_OPENSSL_FOPEN
 119

	)

36 
	#CRYPTO_F_OPENSSL_HEXSTR2BUF
 118

	)

37 
	#CRYPTO_F_OPENSSL_INIT_CRYPTO
 116

	)

38 
	#CRYPTO_F_OPENSSL_LH_NEW
 126

	)

39 
	#CRYPTO_F_OPENSSL_SK_DEEP_COPY
 127

	)

40 
	#CRYPTO_F_OPENSSL_SK_DUP
 128

	)

41 
	#CRYPTO_F_PKEY_HMAC_INIT
 123

	)

42 
	#CRYPTO_F_PKEY_POLY1305_INIT
 124

	)

43 
	#CRYPTO_F_PKEY_SIPHASH_INIT
 125

	)

44 
	#CRYPTO_F_SK_RESERVE
 129

	)

49 
	#CRYPTO_R_FIPS_MODE_NOT_SUPPORTED
 101

	)

50 
	#CRYPTO_R_ILLEGAL_HEX_DIGIT
 102

	)

51 
	#CRYPTO_R_ODD_NUMBER_OF_DIGITS
 103

	)

	@/usr/include/openssl/ct.h

10 #iâdeà
HEADER_CT_H


11 
	#HEADER_CT_H


	)

13 
	~<İ’s¦/İ’s¦cÚf.h
>

15 #iâdeà
OPENSSL_NO_CT


16 
	~<İ’s¦/os¦_typ.h
>

17 
	~<İ’s¦/§ã¡ack.h
>

18 
	~<İ’s¦/x509.h
>

19 
	~<İ’s¦/ù”r.h
>

20 #ifdeà 
__ılu¥lus


26 
	#SCT_MIN_RSA_BITS
 2048

	)

29 
	#CT_V1_HASHLEN
 
SHA256_DIGEST_LENGTH


	)

32 
CT_LOG_ENTRY_TYPE_NOT_SET
 = -1,

33 
CT_LOG_ENTRY_TYPE_X509
 = 0,

34 
CT_LOG_ENTRY_TYPE_PRECERT
 = 1

35 } 
	tù_log_’Œy_ty³_t
;

38 
SCT_VERSION_NOT_SET
 = -1,

39 
SCT_VERSION_V1
 = 0

40 } 
	tsù_v”siÚ_t
;

43 
SCT_SOURCE_UNKNOWN
,

44 
SCT_SOURCE_TLS_EXTENSION
,

45 
SCT_SOURCE_X509V3_EXTENSION
,

46 
SCT_SOURCE_OCSP_STAPLED_RESPONSE


47 } 
	tsù_sourû_t
;

50 
SCT_VALIDATION_STATUS_NOT_SET
,

51 
SCT_VALIDATION_STATUS_UNKNOWN_LOG
,

52 
SCT_VALIDATION_STATUS_VALID
,

53 
SCT_VALIDATION_STATUS_INVALID
,

54 
SCT_VALIDATION_STATUS_UNVERIFIED
,

55 
SCT_VALIDATION_STATUS_UNKNOWN_VERSION


56 } 
	tsù_v®id©iÚ_¡©us_t
;

58 
DEFINE_STACK_OF
(
SCT
)

59 
DEFINE_STACK_OF
(
CTLOG
)

70 
CT_POLICY_EVAL_CTX
 *
CT_POLICY_EVAL_CTX_Ãw
();

73 
CT_POLICY_EVAL_CTX_ä“
(
CT_POLICY_EVAL_CTX
 *
ùx
);

76 
X509
* 
CT_POLICY_EVAL_CTX_g‘0_û¹
(cÚ¡ 
CT_POLICY_EVAL_CTX
 *
ùx
);

83 
CT_POLICY_EVAL_CTX_£t1_û¹
(
CT_POLICY_EVAL_CTX
 *
ùx
, 
X509
 *
û¹
);

86 
X509
* 
CT_POLICY_EVAL_CTX_g‘0_issu”
(cÚ¡ 
CT_POLICY_EVAL_CTX
 *
ùx
);

93 
CT_POLICY_EVAL_CTX_£t1_issu”
(
CT_POLICY_EVAL_CTX
 *
ùx
, 
X509
 *
issu”
);

96 cÚ¡ 
CTLOG_STORE
 *
CT_POLICY_EVAL_CTX_g‘0_log_¡Üe
(cÚ¡ 
CT_POLICY_EVAL_CTX
 *
ùx
);

99 
CT_POLICY_EVAL_CTX_£t_sh¬ed_CTLOG_STORE
(
CT_POLICY_EVAL_CTX
 *
ùx
,

100 
CTLOG_STORE
 *
log_¡Üe
);

107 
ušt64_t
 
CT_POLICY_EVAL_CTX_g‘_time
(cÚ¡ 
CT_POLICY_EVAL_CTX
 *
ùx
);

115 
CT_POLICY_EVAL_CTX_£t_time
(
CT_POLICY_EVAL_CTX
 *
ùx
, 
ušt64_t
 
time_š_ms
);

125 
SCT
 *
SCT_Ãw
();

131 
SCT
 *
SCT_Ãw_äom_ba£64
(
v”siÚ
,

132 cÚ¡ *
logid_ba£64
,

133 
ù_log_’Œy_ty³_t
 
’Œy_ty³
,

134 
ušt64_t
 
time¡amp
,

135 cÚ¡ *
ex‹nsiÚs_ba£64
,

136 cÚ¡ *
sigÇtu»_ba£64
);

141 
SCT_ä“
(
SCT
 *
sù
);

147 
SCT_LIST_ä“
(
STACK_OF
(
SCT
è*
a
);

152 
sù_v”siÚ_t
 
SCT_g‘_v”siÚ
(cÚ¡ 
SCT
 *
sù
);

158 
__owur
 
SCT_£t_v”siÚ
(
SCT
 *
sù
, 
sù_v”siÚ_t
 
v”siÚ
);

163 
ù_log_’Œy_ty³_t
 
SCT_g‘_log_’Œy_ty³
(cÚ¡ 
SCT
 *
sù
);

169 
__owur
 
SCT_£t_log_’Œy_ty³
(
SCT
 *
sù
, 
ù_log_’Œy_ty³_t
 
’Œy_ty³
);

176 
size_t
 
SCT_g‘0_log_id
(cÚ¡ 
SCT
 *
sù
, **
log_id
);

183 
__owur
 
SCT_£t0_log_id
(
SCT
 *
sù
, *
log_id
, 
size_t
 
log_id_Ën
);

190 
__owur
 
SCT_£t1_log_id
(
SCT
 *
sù
, cÚ¡ *
log_id
,

191 
size_t
 
log_id_Ën
);

196 
ušt64_t
 
SCT_g‘_time¡amp
(cÚ¡ 
SCT
 *
sù
);

201 
SCT_£t_time¡amp
(
SCT
 *
sù
, 
ušt64_t
 
time¡amp
);

208 
SCT_g‘_sigÇtu»_nid
(cÚ¡ 
SCT
 *
sù
);

216 
__owur
 
SCT_£t_sigÇtu»_nid
(
SCT
 *
sù
, 
nid
);

223 
size_t
 
SCT_g‘0_ex‹nsiÚs
(cÚ¡ 
SCT
 *
sù
, **
ext
);

229 
SCT_£t0_ex‹nsiÚs
(
SCT
 *
sù
, *
ext
, 
size_t
 
ext_Ën
);

236 
__owur
 
SCT_£t1_ex‹nsiÚs
(
SCT
 *
sù
, cÚ¡ *
ext
,

237 
size_t
 
ext_Ën
);

244 
size_t
 
SCT_g‘0_sigÇtu»
(cÚ¡ 
SCT
 *
sù
, **
sig
);

250 
SCT_£t0_sigÇtu»
(
SCT
 *
sù
, *
sig
, 
size_t
 
sig_Ën
);

256 
__owur
 
SCT_£t1_sigÇtu»
(
SCT
 *
sù
, cÚ¡ *
sig
,

257 
size_t
 
sig_Ën
);

262 
sù_sourû_t
 
SCT_g‘_sourû
(cÚ¡ 
SCT
 *
sù
);

268 
__owur
 
SCT_£t_sourû
(
SCT
 *
sù
, 
sù_sourû_t
 
sourû
);

273 cÚ¡ *
SCT_v®id©iÚ_¡©us_¡ršg
(cÚ¡ 
SCT
 *
sù
);

281 
SCT_´št
(cÚ¡ 
SCT
 *
sù
, 
BIO
 *
out
, 
šd’t
, cÚ¡ 
CTLOG_STORE
 *
logs
);

290 
SCT_LIST_´št
(cÚ¡ 
STACK_OF
(
SCT
è*
sù_li¡
, 
BIO
 *
out
, 
šd’t
,

291 cÚ¡ *
£·¿tÜ
, cÚ¡ 
CTLOG_STORE
 *
logs
);

297 
sù_v®id©iÚ_¡©us_t
 
SCT_g‘_v®id©iÚ_¡©us
(cÚ¡ 
SCT
 *
sù
);

306 
__owur
 
SCT_v®id©e
(
SCT
 *
sù
, cÚ¡ 
CT_POLICY_EVAL_CTX
 *
ùx
);

315 
__owur
 
SCT_LIST_v®id©e
(cÚ¡ 
STACK_OF
(
SCT
è*
sùs
,

316 
CT_POLICY_EVAL_CTX
 *
ùx
);

335 
__owur
 
i2o_SCT_LIST
(cÚ¡ 
STACK_OF
(
SCT
è*
a
, **
µ
);

347 
STACK_OF
(
SCT
è*
o2i_SCT_LIST
(STACK_OF(SCTè**
a
, cÚ¡ **
µ
,

348 
size_t
 
Ën
);

362 
__owur
 
i2d_SCT_LIST
(cÚ¡ 
STACK_OF
(
SCT
è*
a
, **
µ
);

374 
STACK_OF
(
SCT
è*
d2i_SCT_LIST
(STACK_OF(SCTè**
a
, cÚ¡ **
µ
,

375 
Ën
);

386 
__owur
 
i2o_SCT
(cÚ¡ 
SCT
 *
sù
, **
out
);

399 
SCT
 *
o2i_SCT
(SCT **
psù
, cÚ¡ **
š
, 
size_t
 
Ën
);

411 
CTLOG
 *
CTLOG_Ãw
(
EVP_PKEY
 *
public_key
, cÚ¡ *
Çme
);

419 
CTLOG_Ãw_äom_ba£64
(
CTLOG
 ** 
ù_log
,

420 cÚ¡ *
pkey_ba£64
, cÚ¡ *
Çme
);

425 
CTLOG_ä“
(
CTLOG
 *
log
);

428 cÚ¡ *
CTLOG_g‘0_Çme
(cÚ¡ 
CTLOG
 *
log
);

430 
CTLOG_g‘0_log_id
(cÚ¡ 
CTLOG
 *
log
, cÚ¡ 
ušt8_t
 **
log_id
,

431 
size_t
 *
log_id_Ën
);

433 
EVP_PKEY
 *
CTLOG_g‘0_public_key
(cÚ¡ 
CTLOG
 *
log
);

443 
CTLOG_STORE
 *
CTLOG_STORE_Ãw
();

448 
CTLOG_STORE_ä“
(
CTLOG_STORE
 *
¡Üe
);

454 cÚ¡ 
CTLOG
 *
CTLOG_STORE_g‘0_log_by_id
(cÚ¡ 
CTLOG_STORE
 *
¡Üe
,

455 cÚ¡ 
ušt8_t
 *
log_id
,

456 
size_t
 
log_id_Ën
);

462 
__owur
 
CTLOG_STORE_lßd_fe
(
CTLOG_STORE
 *
¡Üe
, cÚ¡ *
fe
);

470 
__owur
 
CTLOG_STORE_lßd_deçuÉ_fe
(
CTLOG_STORE
 *
¡Üe
);

472 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/dh.h

10 #iâdeà
HEADER_DH_H


11 
	#HEADER_DH_H


	)

13 
	~<İ’s¦/İ’s¦cÚf.h
>

15 #iâdeà
OPENSSL_NO_DH


16 
	~<İ’s¦/e_os2.h
>

17 
	~<İ’s¦/bio.h
>

18 
	~<İ’s¦/a¢1.h
>

19 
	~<İ’s¦/os¦_typ.h
>

20 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

21 
	~<İ’s¦/bn.h
>

23 
	~<İ’s¦/dh”r.h
>

25 #ifdeà 
__ılu¥lus


29 #iâdeà
OPENSSL_DH_MAX_MODULUS_BITS


30 
	#OPENSSL_DH_MAX_MODULUS_BITS
 10000

	)

33 
	#OPENSSL_DH_FIPS_MIN_MODULUS_BITS
 1024

	)

35 
	#DH_FLAG_CACHE_MONT_P
 0x01

	)

37 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

41 
	#DH_FLAG_NO_EXP_CONSTTIME
 0x00

	)

51 
	#DH_FLAG_FIPS_METHOD
 0x0400

	)

59 
	#DH_FLAG_NON_FIPS_ALLOW
 0x0400

	)

65 
DECLARE_ASN1_ITEM
(
DH·¿ms
)

67 
	#DH_GENERATOR_2
 2

	)

69 
	#DH_GENERATOR_5
 5

	)

72 
	#DH_CHECK_P_NOT_PRIME
 0x01

	)

73 
	#DH_CHECK_P_NOT_SAFE_PRIME
 0x02

	)

74 
	#DH_UNABLE_TO_CHECK_GENERATOR
 0x04

	)

75 
	#DH_NOT_SUITABLE_GENERATOR
 0x08

	)

76 
	#DH_CHECK_Q_NOT_PRIME
 0x10

	)

77 
	#DH_CHECK_INVALID_Q_VALUE
 0x20

	)

78 
	#DH_CHECK_INVALID_J_VALUE
 0x40

	)

81 
	#DH_CHECK_PUBKEY_TOO_SMALL
 0x01

	)

82 
	#DH_CHECK_PUBKEY_TOO_LARGE
 0x02

	)

83 
	#DH_CHECK_PUBKEY_INVALID
 0x04

	)

89 
	#DH_CHECK_P_NOT_STRONG_PRIME
 
DH_CHECK_P_NOT_SAFE_PRIME


	)

91 
	#d2i_DH·¿ms_å
(
å
,
x
) \

92 (
DH
 *)
	`ASN1_d2i_å
((*(*)())
DH_Ãw
, \

93 (*(*)())
d2i_DH·¿ms
, \

94 (
å
), \

95 (**)(
x
))

	)

96 
	#i2d_DH·¿ms_å
(
å
,
x
) \

97 
	`ASN1_i2d_å
(
i2d_DH·¿ms
,(
å
), (*)(
x
))

	)

98 
	#d2i_DH·¿ms_bio
(
bp
,
x
) \

99 
	`ASN1_d2i_bio_of
(
DH
, 
DH_Ãw
, 
d2i_DH·¿ms
, 
bp
, 
x
)

	)

100 
	#i2d_DH·¿ms_bio
(
bp
,
x
) \

101 
	`ASN1_i2d_bio_of_cÚ¡
(
DH
,
i2d_DH·¿ms
,
bp
,
x
)

	)

103 
	#d2i_DHx·¿ms_å
(
å
,
x
) \

104 (
DH
 *)
	`ASN1_d2i_å
((*(*)())
DH_Ãw
, \

105 (*(*)())
d2i_DHx·¿ms
, \

106 (
å
), \

107 (**)(
x
))

	)

108 
	#i2d_DHx·¿ms_å
(
å
,
x
) \

109 
	`ASN1_i2d_å
(
i2d_DHx·¿ms
,(
å
), (*)(
x
))

	)

110 
	#d2i_DHx·¿ms_bio
(
bp
,
x
) \

111 
	`ASN1_d2i_bio_of
(
DH
, 
DH_Ãw
, 
d2i_DHx·¿ms
, 
bp
, 
x
)

	)

112 
	#i2d_DHx·¿ms_bio
(
bp
,
x
) \

113 
	`ASN1_i2d_bio_of_cÚ¡
(
DH
, 
i2d_DHx·¿ms
, 
bp
, 
x
)

	)

115 
DH
 *
DH·¿ms_dup
(DH *);

117 cÚ¡ 
DH_METHOD
 *
DH_O³nSSL
();

119 
DH_£t_deçuÉ_m‘hod
(cÚ¡ 
DH_METHOD
 *
m‘h
);

120 cÚ¡ 
DH_METHOD
 *
DH_g‘_deçuÉ_m‘hod
();

121 
DH_£t_m‘hod
(
DH
 *
dh
, cÚ¡ 
DH_METHOD
 *
m‘h
);

122 
DH
 *
DH_Ãw_m‘hod
(
ENGINE
 *
’gše
);

124 
DH
 *
DH_Ãw
();

125 
DH_ä“
(
DH
 *
dh
);

126 
DH_up_»f
(
DH
 *
dh
);

127 
DH_b™s
(cÚ¡ 
DH
 *
dh
);

128 
DH_size
(cÚ¡ 
DH
 *
dh
);

129 
DH_£cur™y_b™s
(cÚ¡ 
DH
 *
dh
);

130 
	#DH_g‘_ex_Ãw_šdex
(
l
, 
p
, 
Ãwf
, 
dupf
, 
ä“f
) \

131 
	`CRYPTO_g‘_ex_Ãw_šdex
(
CRYPTO_EX_INDEX_DH
, 
l
, 
p
, 
Ãwf
, 
dupf
, 
ä“f
)

	)

132 
DH_£t_ex_d©a
(
DH
 *
d
, 
idx
, *
¬g
);

133 *
DH_g‘_ex_d©a
(
DH
 *
d
, 
idx
);

136 
DEPRECATEDIN_0_9_8
(
DH
 *
DH_g’”©e_·¿m‘”s
(
´ime_Ën
, 
g’”©Ü
,

137 (*
ÿÎback
) (, ,

139 *
cb_¬g
))

142 
DH_g’”©e_·¿m‘”s_ex
(
DH
 *
dh
, 
´ime_Ën
, 
g’”©Ü
,

143 
BN_GENCB
 *
cb
);

145 
DH_check_·¿ms_ex
(cÚ¡ 
DH
 *
dh
);

146 
DH_check_ex
(cÚ¡ 
DH
 *
dh
);

147 
DH_check_pub_key_ex
(cÚ¡ 
DH
 *
dh
, cÚ¡ 
BIGNUM
 *
pub_key
);

148 
DH_check_·¿ms
(cÚ¡ 
DH
 *
dh
, *
»t
);

149 
DH_check
(cÚ¡ 
DH
 *
dh
, *
codes
);

150 
DH_check_pub_key
(cÚ¡ 
DH
 *
dh
, cÚ¡ 
BIGNUM
 *
pub_key
, *
codes
);

151 
DH_g’”©e_key
(
DH
 *
dh
);

152 
DH_compu‹_key
(*
key
, cÚ¡ 
BIGNUM
 *
pub_key
, 
DH
 *
dh
);

153 
DH_compu‹_key_·dded
(*
key
, cÚ¡ 
BIGNUM
 *
pub_key
, 
DH
 *
dh
);

154 
DH
 *
d2i_DH·¿ms
(DH **
a
, cÚ¡ **
µ
, 
Ëngth
);

155 
i2d_DH·¿ms
(cÚ¡ 
DH
 *
a
, **
µ
);

156 
DH
 *
d2i_DHx·¿ms
(DH **
a
, cÚ¡ **
µ
, 
Ëngth
);

157 
i2d_DHx·¿ms
(cÚ¡ 
DH
 *
a
, **
µ
);

158 #iâdeà
OPENSSL_NO_STDIO


159 
DH·¿ms_´št_å
(
FILE
 *
å
, cÚ¡ 
DH
 *
x
);

161 
DH·¿ms_´št
(
BIO
 *
bp
, cÚ¡ 
DH
 *
x
);

164 
DH
 *
DH_g‘_1024_160
();

165 
DH
 *
DH_g‘_2048_224
();

166 
DH
 *
DH_g‘_2048_256
();

169 
DH
 *
DH_Ãw_by_nid
(
nid
);

170 
DH_g‘_nid
(cÚ¡ 
DH
 *
dh
);

172 #iâdeà
OPENSSL_NO_CMS


174 
DH_KDF_X9_42
(*
out
, 
size_t
 
ou’
,

175 cÚ¡ *
Z
, 
size_t
 
ZËn
,

176 
ASN1_OBJECT
 *
key_oid
,

177 cÚ¡ *
ukm
, 
size_t
 
ukmËn
, cÚ¡ 
EVP_MD
 *
md
);

180 
DH_g‘0_pqg
(cÚ¡ 
DH
 *
dh
,

181 cÚ¡ 
BIGNUM
 **
p
, cÚ¡ BIGNUM **
q
, cÚ¡ BIGNUM **
g
);

182 
DH_£t0_pqg
(
DH
 *
dh
, 
BIGNUM
 *
p
, BIGNUM *
q
, BIGNUM *
g
);

183 
DH_g‘0_key
(cÚ¡ 
DH
 *
dh
,

184 cÚ¡ 
BIGNUM
 **
pub_key
, cÚ¡ BIGNUM **
´iv_key
);

185 
DH_£t0_key
(
DH
 *
dh
, 
BIGNUM
 *
pub_key
, BIGNUM *
´iv_key
);

186 cÚ¡ 
BIGNUM
 *
DH_g‘0_p
(cÚ¡ 
DH
 *
dh
);

187 cÚ¡ 
BIGNUM
 *
DH_g‘0_q
(cÚ¡ 
DH
 *
dh
);

188 cÚ¡ 
BIGNUM
 *
DH_g‘0_g
(cÚ¡ 
DH
 *
dh
);

189 cÚ¡ 
BIGNUM
 *
DH_g‘0_´iv_key
(cÚ¡ 
DH
 *
dh
);

190 cÚ¡ 
BIGNUM
 *
DH_g‘0_pub_key
(cÚ¡ 
DH
 *
dh
);

191 
DH_ş—r_æags
(
DH
 *
dh
, 
æags
);

192 
DH_‹¡_æags
(cÚ¡ 
DH
 *
dh
, 
æags
);

193 
DH_£t_æags
(
DH
 *
dh
, 
æags
);

194 
ENGINE
 *
DH_g‘0_’gše
(
DH
 *
d
);

195 
DH_g‘_Ëngth
(cÚ¡ 
DH
 *
dh
);

196 
DH_£t_Ëngth
(
DH
 *
dh
, 
Ëngth
);

198 
DH_METHOD
 *
DH_m‘h_Ãw
(cÚ¡ *
Çme
, 
æags
);

199 
DH_m‘h_ä“
(
DH_METHOD
 *
dhm
);

200 
DH_METHOD
 *
DH_m‘h_dup
(cÚ¡ DH_METHOD *
dhm
);

201 cÚ¡ *
DH_m‘h_g‘0_Çme
(cÚ¡ 
DH_METHOD
 *
dhm
);

202 
DH_m‘h_£t1_Çme
(
DH_METHOD
 *
dhm
, cÚ¡ *
Çme
);

203 
DH_m‘h_g‘_æags
(cÚ¡ 
DH_METHOD
 *
dhm
);

204 
DH_m‘h_£t_æags
(
DH_METHOD
 *
dhm
, 
æags
);

205 *
DH_m‘h_g‘0_­p_d©a
(cÚ¡ 
DH_METHOD
 *
dhm
);

206 
DH_m‘h_£t0_­p_d©a
(
DH_METHOD
 *
dhm
, *
­p_d©a
);

207 (*
DH_m‘h_g‘_g’”©e_key
(cÚ¡ 
DH_METHOD
 *
dhm
)è(
DH
 *);

208 
DH_m‘h_£t_g’”©e_key
(
DH_METHOD
 *
dhm
, (*
g’”©e_key
è(
DH
 *));

209 (*
DH_m‘h_g‘_compu‹_key
(cÚ¡ 
DH_METHOD
 *
dhm
))

210 (*
key
, cÚ¡ 
BIGNUM
 *
pub_key
, 
DH
 *
dh
);

211 
DH_m‘h_£t_compu‹_key
(
DH_METHOD
 *
dhm
,

212 (*
compu‹_key
è(*
key
, cÚ¡ 
BIGNUM
 *
pub_key
, 
DH
 *
dh
));

213 (*
DH_m‘h_g‘_bn_mod_exp
(cÚ¡ 
DH_METHOD
 *
dhm
))

214 (cÚ¡ 
DH
 *, 
BIGNUM
 *, const BIGNUM *, const BIGNUM *, const BIGNUM *,

215 
BN_CTX
 *, 
BN_MONT_CTX
 *);

216 
DH_m‘h_£t_bn_mod_exp
(
DH_METHOD
 *
dhm
,

217 (*
bn_mod_exp
è(cÚ¡ 
DH
 *, 
BIGNUM
 *, const BIGNUM *, const BIGNUM *,

218 cÚ¡ 
BIGNUM
 *, 
BN_CTX
 *, 
BN_MONT_CTX
 *));

219 (*
DH_m‘h_g‘_š™
(cÚ¡ 
DH_METHOD
 *
dhm
))(
DH
 *);

220 
DH_m‘h_£t_š™
(
DH_METHOD
 *
dhm
, (*
š™
)(
DH
 *));

221 (*
DH_m‘h_g‘_fšish
(cÚ¡ 
DH_METHOD
 *
dhm
)è(
DH
 *);

222 
DH_m‘h_£t_fšish
(
DH_METHOD
 *
dhm
, (*
fšish
è(
DH
 *));

223 (*
DH_m‘h_g‘_g’”©e_·¿ms
(cÚ¡ 
DH_METHOD
 *
dhm
))

224 (
DH
 *, , , 
BN_GENCB
 *);

225 
DH_m‘h_£t_g’”©e_·¿ms
(
DH_METHOD
 *
dhm
,

226 (*
g’”©e_·¿ms
è(
DH
 *, , , 
BN_GENCB
 *));

229 
	#EVP_PKEY_CTX_£t_dh_·¿mg’_´ime_Ën
(
ùx
, 
Ën
) \

230 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_DH
, 
EVP_PKEY_OP_PARAMGEN
, \

231 
EVP_PKEY_CTRL_DH_PARAMGEN_PRIME_LEN
, 
Ën
, 
NULL
)

	)

233 
	#EVP_PKEY_CTX_£t_dh_·¿mg’_sub´ime_Ën
(
ùx
, 
Ën
) \

234 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_DH
, 
EVP_PKEY_OP_PARAMGEN
, \

235 
EVP_PKEY_CTRL_DH_PARAMGEN_SUBPRIME_LEN
, 
Ën
, 
NULL
)

	)

237 
	#EVP_PKEY_CTX_£t_dh_·¿mg’_ty³
(
ùx
, 
typ
) \

238 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_DH
, 
EVP_PKEY_OP_PARAMGEN
, \

239 
EVP_PKEY_CTRL_DH_PARAMGEN_TYPE
, 
typ
, 
NULL
)

	)

241 
	#EVP_PKEY_CTX_£t_dh_·¿mg’_g’”©Ü
(
ùx
, 
g’
) \

242 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_DH
, 
EVP_PKEY_OP_PARAMGEN
, \

243 
EVP_PKEY_CTRL_DH_PARAMGEN_GENERATOR
, 
g’
, 
NULL
)

	)

245 
	#EVP_PKEY_CTX_£t_dh_rfc5114
(
ùx
, 
g’
) \

246 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_DHX
, 
EVP_PKEY_OP_PARAMGEN
, \

247 
EVP_PKEY_CTRL_DH_RFC5114
, 
g’
, 
NULL
)

	)

249 
	#EVP_PKEY_CTX_£t_dhx_rfc5114
(
ùx
, 
g’
) \

250 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_DHX
, 
EVP_PKEY_OP_PARAMGEN
, \

251 
EVP_PKEY_CTRL_DH_RFC5114
, 
g’
, 
NULL
)

	)

253 
	#EVP_PKEY_CTX_£t_dh_nid
(
ùx
, 
nid
) \

254 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_DH
, \

255 
EVP_PKEY_OP_PARAMGEN
 | 
EVP_PKEY_OP_KEYGEN
, \

256 
EVP_PKEY_CTRL_DH_NID
, 
nid
, 
NULL
)

	)

258 
	#EVP_PKEY_CTX_£t_dh_·d
(
ùx
, 
·d
) \

259 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_DH
, 
EVP_PKEY_OP_DERIVE
, \

260 
EVP_PKEY_CTRL_DH_PAD
, 
·d
, 
NULL
)

	)

262 
	#EVP_PKEY_CTX_£t_dh_kdf_ty³
(
ùx
, 
kdf
) \

263 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_DHX
, \

264 
EVP_PKEY_OP_DERIVE
, \

265 
EVP_PKEY_CTRL_DH_KDF_TYPE
, 
kdf
, 
NULL
)

	)

267 
	#EVP_PKEY_CTX_g‘_dh_kdf_ty³
(
ùx
) \

268 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_DHX
, \

269 
EVP_PKEY_OP_DERIVE
, \

270 
EVP_PKEY_CTRL_DH_KDF_TYPE
, -2, 
NULL
)

	)

272 
	#EVP_PKEY_CTX_£t0_dh_kdf_oid
(
ùx
, 
oid
) \

273 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_DHX
, \

274 
EVP_PKEY_OP_DERIVE
, \

275 
EVP_PKEY_CTRL_DH_KDF_OID
, 0, (*)(
oid
))

	)

277 
	#EVP_PKEY_CTX_g‘0_dh_kdf_oid
(
ùx
, 
poid
) \

278 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_DHX
, \

279 
EVP_PKEY_OP_DERIVE
, \

280 
EVP_PKEY_CTRL_GET_DH_KDF_OID
, 0, (*)(
poid
))

	)

282 
	#EVP_PKEY_CTX_£t_dh_kdf_md
(
ùx
, 
md
) \

283 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_DHX
, \

284 
EVP_PKEY_OP_DERIVE
, \

285 
EVP_PKEY_CTRL_DH_KDF_MD
, 0, (*)(
md
))

	)

287 
	#EVP_PKEY_CTX_g‘_dh_kdf_md
(
ùx
, 
pmd
) \

288 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_DHX
, \

289 
EVP_PKEY_OP_DERIVE
, \

290 
EVP_PKEY_CTRL_GET_DH_KDF_MD
, 0, (*)(
pmd
))

	)

292 
	#EVP_PKEY_CTX_£t_dh_kdf_ou’
(
ùx
, 
Ën
) \

293 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_DHX
, \

294 
EVP_PKEY_OP_DERIVE
, \

295 
EVP_PKEY_CTRL_DH_KDF_OUTLEN
, 
Ën
, 
NULL
)

	)

297 
	#EVP_PKEY_CTX_g‘_dh_kdf_ou’
(
ùx
, 
¶’
) \

298 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_DHX
, \

299 
EVP_PKEY_OP_DERIVE
, \

300 
EVP_PKEY_CTRL_GET_DH_KDF_OUTLEN
, 0, (*)(
¶’
))

	)

302 
	#EVP_PKEY_CTX_£t0_dh_kdf_ukm
(
ùx
, 
p
, 
¶’
) \

303 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_DHX
, \

304 
EVP_PKEY_OP_DERIVE
, \

305 
EVP_PKEY_CTRL_DH_KDF_UKM
, 
¶’
, (*)(
p
))

	)

307 
	#EVP_PKEY_CTX_g‘0_dh_kdf_ukm
(
ùx
, 
p
) \

308 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_DHX
, \

309 
EVP_PKEY_OP_DERIVE
, \

310 
EVP_PKEY_CTRL_GET_DH_KDF_UKM
, 0, (*)(
p
))

	)

312 
	#EVP_PKEY_CTRL_DH_PARAMGEN_PRIME_LEN
 (
EVP_PKEY_ALG_CTRL
 + 1)

	)

313 
	#EVP_PKEY_CTRL_DH_PARAMGEN_GENERATOR
 (
EVP_PKEY_ALG_CTRL
 + 2)

	)

314 
	#EVP_PKEY_CTRL_DH_RFC5114
 (
EVP_PKEY_ALG_CTRL
 + 3)

	)

315 
	#EVP_PKEY_CTRL_DH_PARAMGEN_SUBPRIME_LEN
 (
EVP_PKEY_ALG_CTRL
 + 4)

	)

316 
	#EVP_PKEY_CTRL_DH_PARAMGEN_TYPE
 (
EVP_PKEY_ALG_CTRL
 + 5)

	)

317 
	#EVP_PKEY_CTRL_DH_KDF_TYPE
 (
EVP_PKEY_ALG_CTRL
 + 6)

	)

318 
	#EVP_PKEY_CTRL_DH_KDF_MD
 (
EVP_PKEY_ALG_CTRL
 + 7)

	)

319 
	#EVP_PKEY_CTRL_GET_DH_KDF_MD
 (
EVP_PKEY_ALG_CTRL
 + 8)

	)

320 
	#EVP_PKEY_CTRL_DH_KDF_OUTLEN
 (
EVP_PKEY_ALG_CTRL
 + 9)

	)

321 
	#EVP_PKEY_CTRL_GET_DH_KDF_OUTLEN
 (
EVP_PKEY_ALG_CTRL
 + 10)

	)

322 
	#EVP_PKEY_CTRL_DH_KDF_UKM
 (
EVP_PKEY_ALG_CTRL
 + 11)

	)

323 
	#EVP_PKEY_CTRL_GET_DH_KDF_UKM
 (
EVP_PKEY_ALG_CTRL
 + 12)

	)

324 
	#EVP_PKEY_CTRL_DH_KDF_OID
 (
EVP_PKEY_ALG_CTRL
 + 13)

	)

325 
	#EVP_PKEY_CTRL_GET_DH_KDF_OID
 (
EVP_PKEY_ALG_CTRL
 + 14)

	)

326 
	#EVP_PKEY_CTRL_DH_NID
 (
EVP_PKEY_ALG_CTRL
 + 15)

	)

327 
	#EVP_PKEY_CTRL_DH_PAD
 (
EVP_PKEY_ALG_CTRL
 + 16)

	)

330 
	#EVP_PKEY_DH_KDF_NONE
 1

	)

331 #iâdeà
OPENSSL_NO_CMS


332 
	#EVP_PKEY_DH_KDF_X9_42
 2

	)

336 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/dsa.h

10 #iâdeà
HEADER_DSA_H


11 
	#HEADER_DSA_H


	)

13 
	~<İ’s¦/İ’s¦cÚf.h
>

15 #iâdeà
OPENSSL_NO_DSA


16 #ifdeà 
__ılu¥lus


19 
	~<İ’s¦/e_os2.h
>

20 
	~<İ’s¦/bio.h
>

21 
	~<İ’s¦/üy±o.h
>

22 
	~<İ’s¦/os¦_typ.h
>

23 
	~<İ’s¦/bn.h
>

24 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

25 
	~<İ’s¦/dh.h
>

27 
	~<İ’s¦/d§”r.h
>

29 #iâdeà
OPENSSL_DSA_MAX_MODULUS_BITS


30 
	#OPENSSL_DSA_MAX_MODULUS_BITS
 10000

	)

33 
	#OPENSSL_DSA_FIPS_MIN_MODULUS_BITS
 1024

	)

35 
	#DSA_FLAG_CACHE_MONT_P
 0x01

	)

36 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

40 
	#DSA_FLAG_NO_EXP_CONSTTIME
 0x00

	)

50 
	#DSA_FLAG_FIPS_METHOD
 0x0400

	)

58 
	#DSA_FLAG_NON_FIPS_ALLOW
 0x0400

	)

59 
	#DSA_FLAG_FIPS_CHECKED
 0x0800

	)

65 
DSA_SIG_¡
 
	tDSA_SIG
;

67 
	#d2i_DSA·¿ms_å
(
å
,
x
è(
DSA
 *)
	`ASN1_d2i_å
((*(*)())
DSA_Ãw
, \

68 (*(*)())
d2i_DSA·¿ms
,(
å
),(**)(
x
))

	)

69 
	#i2d_DSA·¿ms_å
(
å
,
x
è
	`ASN1_i2d_å
(
i2d_DSA·¿ms
,(fp), \

70 (*)(
x
))

	)

71 
	#d2i_DSA·¿ms_bio
(
bp
,
x
è
	`ASN1_d2i_bio_of
(
DSA
,
DSA_Ãw
,
d2i_DSA·¿ms
,bp,x)

	)

72 
	#i2d_DSA·¿ms_bio
(
bp
,
x
è
	`ASN1_i2d_bio_of_cÚ¡
(
DSA
,
i2d_DSA·¿ms
,bp,x)

	)

74 
DSA
 *
DSA·¿ms_dup
(DSA *
x
);

75 
DSA_SIG
 *
DSA_SIG_Ãw
();

76 
DSA_SIG_ä“
(
DSA_SIG
 *
a
);

77 
i2d_DSA_SIG
(cÚ¡ 
DSA_SIG
 *
a
, **
µ
);

78 
DSA_SIG
 *
d2i_DSA_SIG
(DSA_SIG **
v
, cÚ¡ **
µ
, 
Ëngth
);

79 
DSA_SIG_g‘0
(cÚ¡ 
DSA_SIG
 *
sig
, cÚ¡ 
BIGNUM
 **
´
, cÚ¡ BIGNUM **
ps
);

80 
DSA_SIG_£t0
(
DSA_SIG
 *
sig
, 
BIGNUM
 *
r
, BIGNUM *
s
);

82 
DSA_SIG
 *
DSA_do_sign
(cÚ¡ *
dg¡
, 
dËn
, 
DSA
 *
d§
);

83 
DSA_do_v”ify
(cÚ¡ *
dg¡
, 
dg¡_Ën
,

84 
DSA_SIG
 *
sig
, 
DSA
 *
d§
);

86 cÚ¡ 
DSA_METHOD
 *
DSA_O³nSSL
();

88 
DSA_£t_deçuÉ_m‘hod
(cÚ¡ 
DSA_METHOD
 *);

89 cÚ¡ 
DSA_METHOD
 *
DSA_g‘_deçuÉ_m‘hod
();

90 
DSA_£t_m‘hod
(
DSA
 *
d§
, cÚ¡ 
DSA_METHOD
 *);

91 cÚ¡ 
DSA_METHOD
 *
DSA_g‘_m‘hod
(
DSA
 *
d
);

93 
DSA
 *
DSA_Ãw
();

94 
DSA
 *
DSA_Ãw_m‘hod
(
ENGINE
 *
’gše
);

95 
DSA_ä“
(
DSA
 *
r
);

97 
DSA_up_»f
(
DSA
 *
r
);

98 
DSA_size
(cÚ¡ 
DSA
 *);

99 
DSA_b™s
(cÚ¡ 
DSA
 *
d
);

100 
DSA_£cur™y_b™s
(cÚ¡ 
DSA
 *
d
);

102 
DEPRECATEDIN_1_2_0
(
DSA_sign_£tup
(
DSA
 *
d§
, 
BN_CTX
 *
ùx_š
, 
BIGNUM
 **
kšvp
, BIGNUM **
½
))

103 
DSA_sign
(
ty³
, cÚ¡ *
dg¡
, 
dËn
,

104 *
sig
, *
sigËn
, 
DSA
 *
d§
);

105 
DSA_v”ify
(
ty³
, cÚ¡ *
dg¡
, 
dg¡_Ën
,

106 cÚ¡ *
sigbuf
, 
sigËn
, 
DSA
 *
d§
);

107 
	#DSA_g‘_ex_Ãw_šdex
(
l
, 
p
, 
Ãwf
, 
dupf
, 
ä“f
) \

108 
	`CRYPTO_g‘_ex_Ãw_šdex
(
CRYPTO_EX_INDEX_DSA
, 
l
, 
p
, 
Ãwf
, 
dupf
, 
ä“f
)

	)

109 
DSA_£t_ex_d©a
(
DSA
 *
d
, 
idx
, *
¬g
);

110 *
DSA_g‘_ex_d©a
(
DSA
 *
d
, 
idx
);

112 
DSA
 *
d2i_DSAPublicKey
(DSA **
a
, cÚ¡ **
µ
, 
Ëngth
);

113 
DSA
 *
d2i_DSAPriv©eKey
(DSA **
a
, cÚ¡ **
µ
, 
Ëngth
);

114 
DSA
 *
d2i_DSA·¿ms
(DSA **
a
, cÚ¡ **
µ
, 
Ëngth
);

117 
DEPRECATEDIN_0_9_8
(
DSA
 *
DSA_g’”©e_·¿m‘”s
(
b™s
,

118 *
£ed
,

119 
£ed_Ën
,

120 *
couÁ”_»t
,

121 *
h_»t
, 

122 (*
ÿÎback
) (, ,

124 *
cb_¬g
))

127 
DSA_g’”©e_·¿m‘”s_ex
(
DSA
 *
d§
, 
b™s
,

128 cÚ¡ *
£ed
, 
£ed_Ën
,

129 *
couÁ”_»t
, *
h_»t
,

130 
BN_GENCB
 *
cb
);

132 
DSA_g’”©e_key
(
DSA
 *
a
);

133 
i2d_DSAPublicKey
(cÚ¡ 
DSA
 *
a
, **
µ
);

134 
i2d_DSAPriv©eKey
(cÚ¡ 
DSA
 *
a
, **
µ
);

135 
i2d_DSA·¿ms
(cÚ¡ 
DSA
 *
a
, **
µ
);

137 
DSA·¿ms_´št
(
BIO
 *
bp
, cÚ¡ 
DSA
 *
x
);

138 
DSA_´št
(
BIO
 *
bp
, cÚ¡ 
DSA
 *
x
, 
off
);

139 #iâdeà
OPENSSL_NO_STDIO


140 
DSA·¿ms_´št_å
(
FILE
 *
å
, cÚ¡ 
DSA
 *
x
);

141 
DSA_´št_å
(
FILE
 *
bp
, cÚ¡ 
DSA
 *
x
, 
off
);

144 
	#DSS_´ime_checks
 64

	)

151 
	#DSA_is_´ime
(
n
, 
ÿÎback
, 
cb_¬g
) \

152 
	`BN_is_´ime
(
n
, 
DSS_´ime_checks
, 
ÿÎback
, 
NULL
, 
cb_¬g
)

	)

154 #iâdeà
OPENSSL_NO_DH


159 
DH
 *
DSA_dup_DH
(cÚ¡ 
DSA
 *
r
);

162 
	#EVP_PKEY_CTX_£t_d§_·¿mg’_b™s
(
ùx
, 
nb™s
) \

163 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_DSA
, 
EVP_PKEY_OP_PARAMGEN
, \

164 
EVP_PKEY_CTRL_DSA_PARAMGEN_BITS
, 
nb™s
, 
NULL
)

	)

166 
	#EVP_PKEY_CTRL_DSA_PARAMGEN_BITS
 (
EVP_PKEY_ALG_CTRL
 + 1)

	)

167 
	#EVP_PKEY_CTRL_DSA_PARAMGEN_Q_BITS
 (
EVP_PKEY_ALG_CTRL
 + 2)

	)

168 
	#EVP_PKEY_CTRL_DSA_PARAMGEN_MD
 (
EVP_PKEY_ALG_CTRL
 + 3)

	)

170 
DSA_g‘0_pqg
(cÚ¡ 
DSA
 *
d
,

171 cÚ¡ 
BIGNUM
 **
p
, cÚ¡ BIGNUM **
q
, cÚ¡ BIGNUM **
g
);

172 
DSA_£t0_pqg
(
DSA
 *
d
, 
BIGNUM
 *
p
, BIGNUM *
q
, BIGNUM *
g
);

173 
DSA_g‘0_key
(cÚ¡ 
DSA
 *
d
,

174 cÚ¡ 
BIGNUM
 **
pub_key
, cÚ¡ BIGNUM **
´iv_key
);

175 
DSA_£t0_key
(
DSA
 *
d
, 
BIGNUM
 *
pub_key
, BIGNUM *
´iv_key
);

176 cÚ¡ 
BIGNUM
 *
DSA_g‘0_p
(cÚ¡ 
DSA
 *
d
);

177 cÚ¡ 
BIGNUM
 *
DSA_g‘0_q
(cÚ¡ 
DSA
 *
d
);

178 cÚ¡ 
BIGNUM
 *
DSA_g‘0_g
(cÚ¡ 
DSA
 *
d
);

179 cÚ¡ 
BIGNUM
 *
DSA_g‘0_pub_key
(cÚ¡ 
DSA
 *
d
);

180 cÚ¡ 
BIGNUM
 *
DSA_g‘0_´iv_key
(cÚ¡ 
DSA
 *
d
);

181 
DSA_ş—r_æags
(
DSA
 *
d
, 
æags
);

182 
DSA_‹¡_æags
(cÚ¡ 
DSA
 *
d
, 
æags
);

183 
DSA_£t_æags
(
DSA
 *
d
, 
æags
);

184 
ENGINE
 *
DSA_g‘0_’gše
(
DSA
 *
d
);

186 
DSA_METHOD
 *
DSA_m‘h_Ãw
(cÚ¡ *
Çme
, 
æags
);

187 
DSA_m‘h_ä“
(
DSA_METHOD
 *
d§m
);

188 
DSA_METHOD
 *
DSA_m‘h_dup
(cÚ¡ DSA_METHOD *
d§m
);

189 cÚ¡ *
DSA_m‘h_g‘0_Çme
(cÚ¡ 
DSA_METHOD
 *
d§m
);

190 
DSA_m‘h_£t1_Çme
(
DSA_METHOD
 *
d§m
, cÚ¡ *
Çme
);

191 
DSA_m‘h_g‘_æags
(cÚ¡ 
DSA_METHOD
 *
d§m
);

192 
DSA_m‘h_£t_æags
(
DSA_METHOD
 *
d§m
, 
æags
);

193 *
DSA_m‘h_g‘0_­p_d©a
(cÚ¡ 
DSA_METHOD
 *
d§m
);

194 
DSA_m‘h_£t0_­p_d©a
(
DSA_METHOD
 *
d§m
, *
­p_d©a
);

195 
DSA_SIG
 *(*
DSA_m‘h_g‘_sign
(cÚ¡ 
DSA_METHOD
 *
d§m
))

196 (cÚ¡ *, , 
DSA
 *);

197 
DSA_m‘h_£t_sign
(
DSA_METHOD
 *
d§m
,

198 
DSA_SIG
 *(*
sign
è(cÚ¡ *, , 
DSA
 *));

199 (*
DSA_m‘h_g‘_sign_£tup
(cÚ¡ 
DSA_METHOD
 *
d§m
))

200 (
DSA
 *, 
BN_CTX
 *, 
BIGNUM
 **, BIGNUM **);

201 
DSA_m‘h_£t_sign_£tup
(
DSA_METHOD
 *
d§m
,

202 (*
sign_£tup
è(
DSA
 *, 
BN_CTX
 *, 
BIGNUM
 **, BIGNUM **));

203 (*
DSA_m‘h_g‘_v”ify
(cÚ¡ 
DSA_METHOD
 *
d§m
))

204 (cÚ¡ *, , 
DSA_SIG
 *, 
DSA
 *);

205 
DSA_m‘h_£t_v”ify
(
DSA_METHOD
 *
d§m
,

206 (*
v”ify
è(cÚ¡ *, , 
DSA_SIG
 *, 
DSA
 *));

207 (*
DSA_m‘h_g‘_mod_exp
(cÚ¡ 
DSA_METHOD
 *
d§m
))

208 (
DSA
 *, 
BIGNUM
 *, const BIGNUM *, const BIGNUM *, const BIGNUM *,

209 cÚ¡ 
BIGNUM
 *, cÚ¡ BIGNUM *, 
BN_CTX
 *, 
BN_MONT_CTX
 *);

210 
DSA_m‘h_£t_mod_exp
(
DSA_METHOD
 *
d§m
,

211 (*
mod_exp
è(
DSA
 *, 
BIGNUM
 *, const BIGNUM *, const BIGNUM *,

212 cÚ¡ 
BIGNUM
 *, cÚ¡ BIGNUM *, cÚ¡ BIGNUM *, 
BN_CTX
 *,

213 
BN_MONT_CTX
 *));

214 (*
DSA_m‘h_g‘_bn_mod_exp
(cÚ¡ 
DSA_METHOD
 *
d§m
))

215 (
DSA
 *, 
BIGNUM
 *, const BIGNUM *, const BIGNUM *, const BIGNUM *,

216 
BN_CTX
 *, 
BN_MONT_CTX
 *);

217 
DSA_m‘h_£t_bn_mod_exp
(
DSA_METHOD
 *
d§m
,

218 (*
bn_mod_exp
è(
DSA
 *, 
BIGNUM
 *, const BIGNUM *, const BIGNUM *,

219 cÚ¡ 
BIGNUM
 *, 
BN_CTX
 *, 
BN_MONT_CTX
 *));

220 (*
DSA_m‘h_g‘_š™
(cÚ¡ 
DSA_METHOD
 *
d§m
))(
DSA
 *);

221 
DSA_m‘h_£t_š™
(
DSA_METHOD
 *
d§m
, (*
š™
)(
DSA
 *));

222 (*
DSA_m‘h_g‘_fšish
(cÚ¡ 
DSA_METHOD
 *
d§m
)è(
DSA
 *);

223 
DSA_m‘h_£t_fšish
(
DSA_METHOD
 *
d§m
, (*
fšish
è(
DSA
 *));

224 (*
DSA_m‘h_g‘_·¿mg’
(cÚ¡ 
DSA_METHOD
 *
d§m
))

225 (
DSA
 *, , const *, , *, *,

226 
BN_GENCB
 *);

227 
DSA_m‘h_£t_·¿mg’
(
DSA_METHOD
 *
d§m
,

228 (*
·¿mg’
è(
DSA
 *, , const *, , *,

229 *, 
BN_GENCB
 *));

230 (*
DSA_m‘h_g‘_keyg’
(cÚ¡ 
DSA_METHOD
 *
d§m
)è(
DSA
 *);

231 
DSA_m‘h_£t_keyg’
(
DSA_METHOD
 *
d§m
, (*
keyg’
è(
DSA
 *));

234 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/e_os2.h

10 #iâdeà
HEADER_E_OS2_H


11 
	#HEADER_E_OS2_H


	)

13 
	~<İ’s¦/İ’s¦cÚf.h
>

15 #ifdeà 
__ılu¥lus


25 
	#OPENSSL_SYS_UNIX


	)

33 #ià
defšed
(
OPENSSL_SYS_MSDOS
)

34 #undeà
OPENSSL_SYS_UNIX


45 #ià
defšed
(
OPENSSL_SYS_UEFI
)

46 #undeà
OPENSSL_SYS_UNIX


47 #–ià
defšed
(
OPENSSL_SYS_UWIN
)

48 #undeà
OPENSSL_SYS_UNIX


49 
	#OPENSSL_SYS_WIN32_UWIN


	)

51 #ià
defšed
(
__CYGWIN__
è|| defšed(
OPENSSL_SYS_CYGWIN
)

52 
	#OPENSSL_SYS_WIN32_CYGWIN


	)

54 #ià
defšed
(
_WIN32
è|| defšed(
OPENSSL_SYS_WIN32
)

55 #undeà
OPENSSL_SYS_UNIX


56 #ià!
defšed
(
OPENSSL_SYS_WIN32
)

57 
	#OPENSSL_SYS_WIN32


	)

60 #ià
defšed
(
_WIN64
è|| defšed(
OPENSSL_SYS_WIN64
)

61 #undeà
OPENSSL_SYS_UNIX


62 #ià!
defšed
(
OPENSSL_SYS_WIN64
)

63 
	#OPENSSL_SYS_WIN64


	)

66 #ià
defšed
(
OPENSSL_SYS_WINNT
)

67 #undeà
OPENSSL_SYS_UNIX


69 #ià
defšed
(
OPENSSL_SYS_WINCE
)

70 #undeà
OPENSSL_SYS_UNIX


76 #ià
defšed
(
OPENSSL_SYS_WIN32
è|| defšed(
OPENSSL_SYS_WIN64
è|| defšed(
OPENSSL_SYS_WINNT
è|| defšed(
OPENSSL_SYS_WINCE
)

77 #undeà
OPENSSL_SYS_UNIX


78 
	#OPENSSL_SYS_WINDOWS


	)

79 #iâdeà
OPENSSL_SYS_MSDOS


80 
	#OPENSSL_SYS_MSDOS


	)

89 #ifdeà
OPENSSL_SYS_WINDOWS


90 #iâdeà
OPENSSL_OPT_WINDLL


91 #ià
defšed
(
_WINDLL
)

93 
	#OPENSSL_OPT_WINDLL


	)

99 #ià
defšed
(
__VMS
è|| defšed(
VMS
è|| defšed(
OPENSSL_SYS_VMS
)

100 #ià!
defšed
(
OPENSSL_SYS_VMS
)

101 #undeà
OPENSSL_SYS_UNIX


103 
	#OPENSSL_SYS_VMS


	)

104 #ià
defšed
(
__DECC
)

105 
	#OPENSSL_SYS_VMS_DECC


	)

106 #–ià
defšed
(
__DECCXX
)

107 
	#OPENSSL_SYS_VMS_DECC


	)

108 
	#OPENSSL_SYS_VMS_DECCXX


	)

110 
	#OPENSSL_SYS_VMS_NODECC


	)

115 #ifdeà
OPENSSL_SYS_UNIX


116 #ià
defšed
(
lšux
è|| defšed(
__lšux__
è&& !defšed(
OPENSSL_SYS_LINUX
)

117 
	#OPENSSL_SYS_LINUX


	)

119 #ià
defšed
(
_AIX
è&& !defšed(
OPENSSL_SYS_AIX
)

120 
	#OPENSSL_SYS_AIX


	)

125 #ià
defšed
(
__VOS__
è&& !defšed(
OPENSSL_SYS_VOS
)

126 
	#OPENSSL_SYS_VOS


	)

127 #ifdeà
__HPPA__


128 
	#OPENSSL_SYS_VOS_HPPA


	)

130 #ifdeà
__IA32__


131 
	#OPENSSL_SYS_VOS_IA32


	)

140 #ifdeà
OPENSSL_SYS_MSDOS


141 
	#OPENSSL_UNISTD_IO
 <
io
.
h
>

	)

142 
	#OPENSSL_DECLARE_EXIT
 
	`ex™
();

	)

144 
	#OPENSSL_UNISTD_IO
 
OPENSSL_UNISTD


	)

145 
	#OPENSSL_DECLARE_EXIT


	)

167 #ià
defšed
(
OPENSSL_SYS_WINDOWS
è&& defšed(
OPENSSL_OPT_WINDLL
)

168 
	#OPENSSL_EXPORT
 
	`__deş¥ec
(
dÎexpÜt
)

	)

169 
	#OPENSSL_EXTERN
 
	`__deş¥ec
(
dÎimpÜt
)

	)

171 
	#OPENSSL_EXPORT
 

	)

172 
	#OPENSSL_EXTERN
 

	)

186 #ifdeà
OPENSSL_EXPORT_VAR_AS_FUNCTION


187 
	#OPENSSL_IMPLEMENT_GLOBAL
(
ty³
,
Çme
,
v®ue
) \

188 
ty³
 *
_shadow_
##
	`Çme
() \

189 { 
ty³
 
_hide_
##
Çme
=
v®ue
;  &_hide_##Çme; }

	)

190 
	#OPENSSL_DECLARE_GLOBAL
(
ty³
,
Çme
èty³ *
_shadow_
##
	`Çme
()

	)

191 
	#OPENSSL_GLOBAL_REF
(
Çme
è(*(
_shadow_
##
	`Çme
()))

	)

193 
	#OPENSSL_IMPLEMENT_GLOBAL
(
ty³
,
Çme
,
v®ue
èty³ 
_shadow_
##Çme=v®ue;

	)

194 
	#OPENSSL_DECLARE_GLOBAL
(
ty³
,
Çme
è
OPENSSL_EXPORT
y³ 
_shadow_
##
	)
name

195 
	#OPENSSL_GLOBAL_REF
(
Çme
è
_shadow_
##
	)
name

198 #ifdeà
_WIN32


199 #ifdeà
_WIN64


200 
	#os¦_ssize_t
 
__št64


	)

201 
	#OSSL_SSIZE_MAX
 
_I64_MAX


	)

203 
	#os¦_ssize_t
 

	)

204 
	#OSSL_SSIZE_MAX
 
INT_MAX


	)

208 #ià
defšed
(
OPENSSL_SYS_UEFI
è&& !defšed(
os¦_ssize_t
)

209 
	#os¦_ssize_t
 
INTN


	)

210 
	#OSSL_SSIZE_MAX
 
MAX_INTN


	)

213 #iâdeà
os¦_ssize_t


214 
	#os¦_ssize_t
 
ssize_t


	)

215 #ià
defšed
(
SSIZE_MAX
)

216 
	#OSSL_SSIZE_MAX
 
SSIZE_MAX


	)

217 #–ià
defšed
(
_POSIX_SSIZE_MAX
)

218 
	#OSSL_SSIZE_MAX
 
_POSIX_SSIZE_MAX


	)

220 
	#OSSL_SSIZE_MAX
 ((
ssize_t
)(
SIZE_MAX
>>1))

	)

224 #ifdeà
DEBUG_UNUSED


225 
	#__owur
 
	`__©Œibu‹__
((
__w¬n_unu£d_»suÉ__
))

	)

227 
	#__owur


	)

231 #ià
defšed
(
OPENSSL_SYS_UEFI
)

232 
INT8
 
	tšt8_t
;

233 
UINT8
 
	tušt8_t
;

234 
INT16
 
	tšt16_t
;

235 
UINT16
 
	tušt16_t
;

236 
INT32
 
	tšt32_t
;

237 
UINT32
 
	tušt32_t
;

238 
INT64
 
	tšt64_t
;

239 
UINT64
 
	tušt64_t
;

240 #–ià(
defšed
(
__STDC_VERSION__
) && __STDC_VERSION__ >= 199901L) || \

241 
defšed
(
__osf__
è|| defšed(
__sgi
è|| defšed(
__hpux
) || \

242 
defšed
(
OPENSSL_SYS_VMS
è|| defšed (
__O³nBSD__
)

243 
	~<š‰y³s.h
>

244 #–ià
defšed
(
_MSC_VER
) && _MSC_VER<=1500

249 sigÃd 
	tšt8_t
;

250 
	tušt8_t
;

251 
	tšt16_t
;

252 
	tušt16_t
;

253 
	tšt32_t
;

254 
	tušt32_t
;

255 
__št64
 
	tšt64_t
;

256 
	t__št64
 
	tušt64_t
;

258 
	~<¡dšt.h
>

262 #ià!
defšed
(
šlše
è&& !defšed(
__ılu¥lus
)

263 #ià
defšed
(
__STDC_VERSION__
) && __STDC_VERSION__>=199901L

265 
	#os¦_šlše
 
šlše


	)

266 #–ià
defšed
(
__GNUC__
) && __GNUC__>=2

267 
	#os¦_šlše
 
__šlše__


	)

268 #–ià
defšed
(
_MSC_VER
)

274 
	#os¦_šlše
 
__šlše


	)

276 
	#os¦_šlše


	)

279 
	#os¦_šlše
 
šlše


	)

282 #ià
defšed
(
__STDC_VERSION__
) && __STDC_VERSION__ >= 201112L

283 
	#os¦_nÜ‘uº
 
_NÜ‘uº


	)

284 #–ià
defšed
(
__GNUC__
) && __GNUC__ >= 2

285 
	#os¦_nÜ‘uº
 
	`__©Œibu‹__
((
nÜ‘uº
))

	)

287 
	#os¦_nÜ‘uº


	)

290 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/ebcdic.h

10 #iâdeà
HEADER_EBCDIC_H


11 
	#HEADER_EBCDIC_H


	)

13 
	~<¡dlib.h
>

15 #ifdeà 
__ılu¥lus


20 
	#os_tßscii
 
_İ’s¦_os_tßscii


	)

21 
	#os_tÛbcdic
 
_İ’s¦_os_tÛbcdic


	)

22 
	#ebcdic2ascii
 
_İ’s¦_ebcdic2ascii


	)

23 
	#ascii2ebcdic
 
_İ’s¦_ascii2ebcdic


	)

25 cÚ¡ 
os_tßscii
[256];

26 cÚ¡ 
os_tÛbcdic
[256];

27 *
ebcdic2ascii
(*
de¡
, cÚ¡ *
¤û
, 
size_t
 
couÁ
);

28 *
ascii2ebcdic
(*
de¡
, cÚ¡ *
¤û
, 
size_t
 
couÁ
);

30 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/ec.h

11 #iâdeà
HEADER_EC_H


12 
	#HEADER_EC_H


	)

14 
	~<İ’s¦/İ’s¦cÚf.h
>

16 #iâdeà
OPENSSL_NO_EC


17 
	~<İ’s¦/a¢1.h
>

18 
	~<İ’s¦/symhacks.h
>

19 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

20 
	~<İ’s¦/bn.h
>

22 
	~<İ’s¦/eû¼.h
>

23 #ifdeà 
__ılu¥lus


27 #iâdeà
OPENSSL_ECC_MAX_FIELD_BITS


28 
	#OPENSSL_ECC_MAX_FIELD_BITS
 661

	)

36 
POINT_CONVERSION_COMPRESSED
 = 2,

38 
POINT_CONVERSION_UNCOMPRESSED
 = 4,

41 
POINT_CONVERSION_HYBRID
 = 6

42 } 
	tpošt_cÚv”siÚ_fÜm_t
;

44 
ec_m‘hod_¡
 
	tEC_METHOD
;

45 
ec_group_¡
 
	tEC_GROUP
;

46 
ec_pošt_¡
 
	tEC_POINT
;

47 
eık_·¿m‘”s_¡
 
	tECPKPARAMETERS
;

48 
ec_·¿m‘”s_¡
 
	tECPARAMETERS
;

58 cÚ¡ 
EC_METHOD
 *
EC_GFp_sim¶e_m‘hod
();

63 cÚ¡ 
EC_METHOD
 *
EC_GFp_mÚt_m‘hod
();

68 cÚ¡ 
EC_METHOD
 *
EC_GFp_ni¡_m‘hod
();

70 #iâdeà
OPENSSL_NO_EC_NISTP_64_GCC_128


74 cÚ¡ 
EC_METHOD
 *
EC_GFp_ni¡p224_m‘hod
();

79 cÚ¡ 
EC_METHOD
 *
EC_GFp_ni¡p256_m‘hod
();

84 cÚ¡ 
EC_METHOD
 *
EC_GFp_ni¡p521_m‘hod
();

87 #iâdeà
OPENSSL_NO_EC2M


95 cÚ¡ 
EC_METHOD
 *
EC_GF2m_sim¶e_m‘hod
();

107 
EC_GROUP
 *
EC_GROUP_Ãw
(cÚ¡ 
EC_METHOD
 *
m‘h
);

112 
EC_GROUP_ä“
(
EC_GROUP
 *
group
);

117 
EC_GROUP_ş—r_ä“
(
EC_GROUP
 *
group
);

124 
EC_GROUP_cİy
(
EC_GROUP
 *
d¡
, cÚ¡ EC_GROUP *
¤c
);

131 
EC_GROUP
 *
EC_GROUP_dup
(cÚ¡ EC_GROUP *
¤c
);

137 cÚ¡ 
EC_METHOD
 *
EC_GROUP_m‘hod_of
(cÚ¡ 
EC_GROUP
 *
group
);

143 
EC_METHOD_g‘_f›ld_ty³
(cÚ¡ 
EC_METHOD
 *
m‘h
);

153 
EC_GROUP_£t_g’”©Ü
(
EC_GROUP
 *
group
, cÚ¡ 
EC_POINT
 *
g’”©Ü
,

154 cÚ¡ 
BIGNUM
 *
Üd”
, cÚ¡ BIGNUM *
coçùÜ
);

160 cÚ¡ 
EC_POINT
 *
EC_GROUP_g‘0_g’”©Ü
(cÚ¡ 
EC_GROUP
 *
group
);

166 
BN_MONT_CTX
 *
EC_GROUP_g‘_mÚt_d©a
(cÚ¡ 
EC_GROUP
 *
group
);

174 
EC_GROUP_g‘_Üd”
(cÚ¡ 
EC_GROUP
 *
group
, 
BIGNUM
 *
Üd”
, 
BN_CTX
 *
ùx
);

180 cÚ¡ 
BIGNUM
 *
EC_GROUP_g‘0_Üd”
(cÚ¡ 
EC_GROUP
 *
group
);

186 
EC_GROUP_Üd”_b™s
(cÚ¡ 
EC_GROUP
 *
group
);

194 
EC_GROUP_g‘_coçùÜ
(cÚ¡ 
EC_GROUP
 *
group
, 
BIGNUM
 *
coçùÜ
,

195 
BN_CTX
 *
ùx
);

201 cÚ¡ 
BIGNUM
 *
EC_GROUP_g‘0_coçùÜ
(cÚ¡ 
EC_GROUP
 *
group
);

207 
EC_GROUP_£t_curve_Çme
(
EC_GROUP
 *
group
, 
nid
);

213 
EC_GROUP_g‘_curve_Çme
(cÚ¡ 
EC_GROUP
 *
group
);

215 
EC_GROUP_£t_a¢1_æag
(
EC_GROUP
 *
group
, 
æag
);

216 
EC_GROUP_g‘_a¢1_æag
(cÚ¡ 
EC_GROUP
 *
group
);

218 
EC_GROUP_£t_pošt_cÚv”siÚ_fÜm
(
EC_GROUP
 *
group
,

219 
pošt_cÚv”siÚ_fÜm_t
 
fÜm
);

220 
pošt_cÚv”siÚ_fÜm_t
 
EC_GROUP_g‘_pošt_cÚv”siÚ_fÜm
(cÚ¡ 
EC_GROUP
 *);

222 *
EC_GROUP_g‘0_£ed
(cÚ¡ 
EC_GROUP
 *
x
);

223 
size_t
 
EC_GROUP_g‘_£ed_Ën
(cÚ¡ 
EC_GROUP
 *);

224 
size_t
 
EC_GROUP_£t_£ed
(
EC_GROUP
 *, cÚ¡ *, size_ˆ
Ën
);

236 
EC_GROUP_£t_curve
(
EC_GROUP
 *
group
, cÚ¡ 
BIGNUM
 *
p
, cÚ¡ BIGNUM *
a
,

237 cÚ¡ 
BIGNUM
 *
b
, 
BN_CTX
 *
ùx
);

249 
EC_GROUP_g‘_curve
(cÚ¡ 
EC_GROUP
 *
group
, 
BIGNUM
 *
p
, BIGNUM *
a
, BIGNUM *
b
,

250 
BN_CTX
 *
ùx
);

261 
DEPRECATEDIN_1_2_0
(
EC_GROUP_£t_curve_GFp
(
EC_GROUP
 *
group
, cÚ¡ 
BIGNUM
 *
p
,

262 cÚ¡ 
BIGNUM
 *
a
, cÚ¡ BIGNUM *
b
,

263 
BN_CTX
 *
ùx
))

274 
DEPRECATEDIN_1_2_0
(
EC_GROUP_g‘_curve_GFp
(cÚ¡ 
EC_GROUP
 *
group
, 
BIGNUM
 *
p
,

275 
BIGNUM
 *
a
, BIGNUM *
b
,

276 
BN_CTX
 *
ùx
))

278 #iâdeà
OPENSSL_NO_EC2M


288 
DEPRECATEDIN_1_2_0
(
EC_GROUP_£t_curve_GF2m
(
EC_GROUP
 *
group
, cÚ¡ 
BIGNUM
 *
p
,

289 cÚ¡ 
BIGNUM
 *
a
, cÚ¡ BIGNUM *
b
,

290 
BN_CTX
 *
ùx
))

301 
DEPRECATEDIN_1_2_0
(
EC_GROUP_g‘_curve_GF2m
(cÚ¡ 
EC_GROUP
 *
group
, 
BIGNUM
 *
p
,

302 
BIGNUM
 *
a
, BIGNUM *
b
,

303 
BN_CTX
 *
ùx
))

309 
EC_GROUP_g‘_deg»e
(cÚ¡ 
EC_GROUP
 *
group
);

316 
EC_GROUP_check
(cÚ¡ 
EC_GROUP
 *
group
, 
BN_CTX
 *
ùx
);

323 
EC_GROUP_check_disüimšªt
(cÚ¡ 
EC_GROUP
 *
group
, 
BN_CTX
 *
ùx
);

331 
EC_GROUP_cmp
(cÚ¡ 
EC_GROUP
 *
a
, cÚ¡ EC_GROUP *
b
, 
BN_CTX
 *
ùx
);

346 
EC_GROUP
 *
EC_GROUP_Ãw_curve_GFp
(cÚ¡ 
BIGNUM
 *
p
, cÚ¡ BIGNUM *
a
,

347 cÚ¡ 
BIGNUM
 *
b
, 
BN_CTX
 *
ùx
);

348 #iâdeà
OPENSSL_NO_EC2M


357 
EC_GROUP
 *
EC_GROUP_Ãw_curve_GF2m
(cÚ¡ 
BIGNUM
 *
p
, cÚ¡ BIGNUM *
a
,

358 cÚ¡ 
BIGNUM
 *
b
, 
BN_CTX
 *
ùx
);

366 
EC_GROUP
 *
EC_GROUP_Ãw_by_curve_Çme
(
nid
);

373 
EC_GROUP
 *
EC_GROUP_Ãw_äom_eı¬am‘”s
(cÚ¡ 
ECPARAMETERS
 *
·¿ms
);

381 
ECPARAMETERS
 *
EC_GROUP_g‘_eı¬am‘”s
(cÚ¡ 
EC_GROUP
 *
group
,

382 
ECPARAMETERS
 *
·¿ms
);

389 
EC_GROUP
 *
EC_GROUP_Ãw_äom_eık·¿m‘”s
(cÚ¡ 
ECPKPARAMETERS
 *
·¿ms
);

397 
ECPKPARAMETERS
 *
EC_GROUP_g‘_eık·¿m‘”s
(cÚ¡ 
EC_GROUP
 *
group
,

398 
ECPKPARAMETERS
 *
·¿ms
);

405 
nid
;

406 cÚ¡ *
comm’t
;

407 } 
	tEC_butš_curve
;

415 
size_t
 
EC_g‘_butš_curves
(
EC_butš_curve
 *
r
, size_ˆ
n™ems
);

417 cÚ¡ *
EC_curve_nid2ni¡
(
nid
);

418 
EC_curve_ni¡2nid
(cÚ¡ *
Çme
);

428 
EC_POINT
 *
EC_POINT_Ãw
(cÚ¡ 
EC_GROUP
 *
group
);

433 
EC_POINT_ä“
(
EC_POINT
 *
pošt
);

438 
EC_POINT_ş—r_ä“
(
EC_POINT
 *
pošt
);

445 
EC_POINT_cİy
(
EC_POINT
 *
d¡
, cÚ¡ EC_POINT *
¤c
);

453 
EC_POINT
 *
EC_POINT_dup
(cÚ¡ EC_POINT *
¤c
, cÚ¡ 
EC_GROUP
 *
group
);

459 cÚ¡ 
EC_METHOD
 *
EC_POINT_m‘hod_of
(cÚ¡ 
EC_POINT
 *
pošt
);

466 
EC_POINT_£t_to_šfš™y
(cÚ¡ 
EC_GROUP
 *
group
, 
EC_POINT
 *
pošt
);

477 
EC_POINT_£t_J´ojeùive_coÜdš©es_GFp
(cÚ¡ 
EC_GROUP
 *
group
,

478 
EC_POINT
 *
p
, cÚ¡ 
BIGNUM
 *
x
,

479 cÚ¡ 
BIGNUM
 *
y
, cÚ¡ BIGNUM *
z
,

480 
BN_CTX
 *
ùx
);

491 
EC_POINT_g‘_J´ojeùive_coÜdš©es_GFp
(cÚ¡ 
EC_GROUP
 *
group
,

492 cÚ¡ 
EC_POINT
 *
p
, 
BIGNUM
 *
x
,

493 
BIGNUM
 *
y
, BIGNUM *
z
,

494 
BN_CTX
 *
ùx
);

504 
EC_POINT_£t_affše_coÜdš©es
(cÚ¡ 
EC_GROUP
 *
group
, 
EC_POINT
 *
p
,

505 cÚ¡ 
BIGNUM
 *
x
, cÚ¡ BIGNUM *
y
,

506 
BN_CTX
 *
ùx
);

516 
EC_POINT_g‘_affše_coÜdš©es
(cÚ¡ 
EC_GROUP
 *
group
, cÚ¡ 
EC_POINT
 *
p
,

517 
BIGNUM
 *
x
, BIGNUM *
y
, 
BN_CTX
 *
ùx
);

528 
DEPRECATEDIN_1_2_0
(
EC_POINT_£t_affše_coÜdš©es_GFp
(cÚ¡ 
EC_GROUP
 *
group
,

529 
EC_POINT
 *
p
,

530 cÚ¡ 
BIGNUM
 *
x
,

531 cÚ¡ 
BIGNUM
 *
y
,

532 
BN_CTX
 *
ùx
))

543 
DEPRECATEDIN_1_2_0
(
EC_POINT_g‘_affše_coÜdš©es_GFp
(cÚ¡ 
EC_GROUP
 *
group
,

544 cÚ¡ 
EC_POINT
 *
p
,

545 
BIGNUM
 *
x
,

546 
BIGNUM
 *
y
,

547 
BN_CTX
 *
ùx
))

557 
EC_POINT_£t_com´es£d_coÜdš©es
(cÚ¡ 
EC_GROUP
 *
group
, 
EC_POINT
 *
p
,

558 cÚ¡ 
BIGNUM
 *
x
, 
y_b™
,

559 
BN_CTX
 *
ùx
);

570 
DEPRECATEDIN_1_2_0
(
EC_POINT_£t_com´es£d_coÜdš©es_GFp
(cÚ¡ 
EC_GROUP
 *
group
,

571 
EC_POINT
 *
p
,

572 cÚ¡ 
BIGNUM
 *
x
,

573 
y_b™
,

574 
BN_CTX
 *
ùx
))

575 #iâdeà
OPENSSL_NO_EC2M


585 
DEPRECATEDIN_1_2_0
(
EC_POINT_£t_affše_coÜdš©es_GF2m
(cÚ¡ 
EC_GROUP
 *
group
,

586 
EC_POINT
 *
p
,

587 cÚ¡ 
BIGNUM
 *
x
,

588 cÚ¡ 
BIGNUM
 *
y
,

589 
BN_CTX
 *
ùx
))

600 
DEPRECATEDIN_1_2_0
(
EC_POINT_g‘_affše_coÜdš©es_GF2m
(cÚ¡ 
EC_GROUP
 *
group
,

601 cÚ¡ 
EC_POINT
 *
p
,

602 
BIGNUM
 *
x
,

603 
BIGNUM
 *
y
,

604 
BN_CTX
 *
ùx
))

615 
DEPRECATEDIN_1_2_0
(
EC_POINT_£t_com´es£d_coÜdš©es_GF2m
(cÚ¡ 
EC_GROUP
 *
group
,

616 
EC_POINT
 *
p
,

617 cÚ¡ 
BIGNUM
 *
x
,

618 
y_b™
,

619 
BN_CTX
 *
ùx
))

631 
size_t
 
EC_POINT_pošt2où
(cÚ¡ 
EC_GROUP
 *
group
, cÚ¡ 
EC_POINT
 *
p
,

632 
pošt_cÚv”siÚ_fÜm_t
 
fÜm
,

633 *
buf
, 
size_t
 
Ën
, 
BN_CTX
 *
ùx
);

643 
EC_POINT_où2pošt
(cÚ¡ 
EC_GROUP
 *
group
, 
EC_POINT
 *
p
,

644 cÚ¡ *
buf
, 
size_t
 
Ën
, 
BN_CTX
 *
ùx
);

654 
size_t
 
EC_POINT_pošt2buf
(cÚ¡ 
EC_GROUP
 *
group
, cÚ¡ 
EC_POINT
 *
pošt
,

655 
pošt_cÚv”siÚ_fÜm_t
 
fÜm
,

656 **
pbuf
, 
BN_CTX
 *
ùx
);

659 
BIGNUM
 *
EC_POINT_pošt2bn
(cÚ¡ 
EC_GROUP
 *, cÚ¡ 
EC_POINT
 *,

660 
pošt_cÚv”siÚ_fÜm_t
 
fÜm
, 
BIGNUM
 *, 
BN_CTX
 *);

661 
EC_POINT
 *
EC_POINT_bn2pošt
(cÚ¡ 
EC_GROUP
 *, cÚ¡ 
BIGNUM
 *,

662 
EC_POINT
 *, 
BN_CTX
 *);

663 *
EC_POINT_pošt2hex
(cÚ¡ 
EC_GROUP
 *, cÚ¡ 
EC_POINT
 *,

664 
pošt_cÚv”siÚ_fÜm_t
 
fÜm
, 
BN_CTX
 *);

665 
EC_POINT
 *
EC_POINT_hex2pošt
(cÚ¡ 
EC_GROUP
 *, const *,

666 
EC_POINT
 *, 
BN_CTX
 *);

680 
EC_POINT_add
(cÚ¡ 
EC_GROUP
 *
group
, 
EC_POINT
 *
r
, cÚ¡ EC_POINT *
a
,

681 cÚ¡ 
EC_POINT
 *
b
, 
BN_CTX
 *
ùx
);

690 
EC_POINT_dbl
(cÚ¡ 
EC_GROUP
 *
group
, 
EC_POINT
 *
r
, cÚ¡ EC_POINT *
a
,

691 
BN_CTX
 *
ùx
);

699 
EC_POINT_šv”t
(cÚ¡ 
EC_GROUP
 *
group
, 
EC_POINT
 *
a
, 
BN_CTX
 *
ùx
);

706 
EC_POINT_is_©_šfš™y
(cÚ¡ 
EC_GROUP
 *
group
, cÚ¡ 
EC_POINT
 *
p
);

714 
EC_POINT_is_Ú_curve
(cÚ¡ 
EC_GROUP
 *
group
, cÚ¡ 
EC_POINT
 *
pošt
,

715 
BN_CTX
 *
ùx
);

724 
EC_POINT_cmp
(cÚ¡ 
EC_GROUP
 *
group
, cÚ¡ 
EC_POINT
 *
a
, cÚ¡ EC_POINT *
b
,

725 
BN_CTX
 *
ùx
);

727 
EC_POINT_make_affše
(cÚ¡ 
EC_GROUP
 *
group
, 
EC_POINT
 *
pošt
, 
BN_CTX
 *
ùx
);

728 
EC_POINTs_make_affše
(cÚ¡ 
EC_GROUP
 *
group
, 
size_t
 
num
,

729 
EC_POINT
 *
pošts
[], 
BN_CTX
 *
ùx
);

741 
EC_POINTs_mul
(cÚ¡ 
EC_GROUP
 *
group
, 
EC_POINT
 *
r
, cÚ¡ 
BIGNUM
 *
n
,

742 
size_t
 
num
, cÚ¡ 
EC_POINT
 *
p
[], cÚ¡ 
BIGNUM
 *
m
[],

743 
BN_CTX
 *
ùx
);

754 
EC_POINT_mul
(cÚ¡ 
EC_GROUP
 *
group
, 
EC_POINT
 *
r
, cÚ¡ 
BIGNUM
 *
n
,

755 cÚ¡ 
EC_POINT
 *
q
, cÚ¡ 
BIGNUM
 *
m
, 
BN_CTX
 *
ùx
);

762 
EC_GROUP_´ecompu‹_muÉ
(
EC_GROUP
 *
group
, 
BN_CTX
 *
ùx
);

768 
EC_GROUP_have_´ecompu‹_muÉ
(cÚ¡ 
EC_GROUP
 *
group
);

774 
DECLARE_ASN1_ITEM
(
ECPKPARAMETERS
)

775 
DECLARE_ASN1_ALLOC_FUNCTIONS
(
ECPKPARAMETERS
)

776 
DECLARE_ASN1_ITEM
(
ECPARAMETERS
)

777 
DECLARE_ASN1_ALLOC_FUNCTIONS
(
ECPARAMETERS
)

783 
EC_GROUP_g‘_basis_ty³
(cÚ¡ 
EC_GROUP
 *);

784 #iâdeà
OPENSSL_NO_EC2M


785 
EC_GROUP_g‘_ŒšomŸl_basis
(cÚ¡ 
EC_GROUP
 *, *
k
);

786 
EC_GROUP_g‘_³ÁªomŸl_basis
(cÚ¡ 
EC_GROUP
 *, *
k1
,

787 *
k2
, *
k3
);

790 
	#OPENSSL_EC_EXPLICIT_CURVE
 0x000

	)

791 
	#OPENSSL_EC_NAMED_CURVE
 0x001

	)

793 
EC_GROUP
 *
d2i_ECPKP¬am‘”s
(EC_GROUP **, cÚ¡ **
š
, 
Ën
);

794 
i2d_ECPKP¬am‘”s
(cÚ¡ 
EC_GROUP
 *, **
out
);

796 
	#d2i_ECPKP¬am‘”s_bio
(
bp
,
x
è
	`ASN1_d2i_bio_of
(
EC_GROUP
,
NULL
,
d2i_ECPKP¬am‘”s
,bp,x)

	)

797 
	#i2d_ECPKP¬am‘”s_bio
(
bp
,
x
è
	`ASN1_i2d_bio_of_cÚ¡
(
EC_GROUP
,
i2d_ECPKP¬am‘”s
,bp,x)

	)

798 
	#d2i_ECPKP¬am‘”s_å
(
å
,
x
è(
EC_GROUP
 *)
	`ASN1_d2i_å
(
NULL
, \

799 (*(*)())
d2i_ECPKP¬am‘”s
,(
å
),(**)(
x
))

	)

800 
	#i2d_ECPKP¬am‘”s_å
(
å
,
x
è
	`ASN1_i2d_å
(
i2d_ECPKP¬am‘”s
,(fp), \

801 (*)(
x
))

	)

803 
ECPKP¬am‘”s_´št
(
BIO
 *
bp
, cÚ¡ 
EC_GROUP
 *
x
, 
off
);

804 #iâdeà
OPENSSL_NO_STDIO


805 
ECPKP¬am‘”s_´št_å
(
FILE
 *
å
, cÚ¡ 
EC_GROUP
 *
x
, 
off
);

813 
	#EC_PKEY_NO_PARAMETERS
 0x001

	)

814 
	#EC_PKEY_NO_PUBKEY
 0x002

	)

817 
	#EC_FLAG_NON_FIPS_ALLOW
 0x1

	)

818 
	#EC_FLAG_FIPS_CHECKED
 0x2

	)

819 
	#EC_FLAG_COFACTOR_ECDH
 0x1000

	)

824 
EC_KEY
 *
EC_KEY_Ãw
();

826 
EC_KEY_g‘_æags
(cÚ¡ 
EC_KEY
 *
key
);

828 
EC_KEY_£t_æags
(
EC_KEY
 *
key
, 
æags
);

830 
EC_KEY_ş—r_æags
(
EC_KEY
 *
key
, 
æags
);

837 
EC_KEY
 *
EC_KEY_Ãw_by_curve_Çme
(
nid
);

842 
EC_KEY_ä“
(
EC_KEY
 *
key
);

849 
EC_KEY
 *
EC_KEY_cİy
(EC_KEY *
d¡
, cÚ¡ EC_KEY *
¤c
);

855 
EC_KEY
 *
EC_KEY_dup
(cÚ¡ EC_KEY *
¤c
);

861 
EC_KEY_up_»f
(
EC_KEY
 *
key
);

867 
ENGINE
 *
EC_KEY_g‘0_’gše
(cÚ¡ 
EC_KEY
 *
eckey
);

873 cÚ¡ 
EC_GROUP
 *
EC_KEY_g‘0_group
(cÚ¡ 
EC_KEY
 *
key
);

881 
EC_KEY_£t_group
(
EC_KEY
 *
key
, cÚ¡ 
EC_GROUP
 *
group
);

887 cÚ¡ 
BIGNUM
 *
EC_KEY_g‘0_´iv©e_key
(cÚ¡ 
EC_KEY
 *
key
);

895 
EC_KEY_£t_´iv©e_key
(
EC_KEY
 *
key
, cÚ¡ 
BIGNUM
 *
´v
);

901 cÚ¡ 
EC_POINT
 *
EC_KEY_g‘0_public_key
(cÚ¡ 
EC_KEY
 *
key
);

909 
EC_KEY_£t_public_key
(
EC_KEY
 *
key
, cÚ¡ 
EC_POINT
 *
pub
);

911 
EC_KEY_g‘_’c_æags
(cÚ¡ 
EC_KEY
 *
key
);

912 
EC_KEY_£t_’c_æags
(
EC_KEY
 *
eckey
, 
æags
);

913 
pošt_cÚv”siÚ_fÜm_t
 
EC_KEY_g‘_cÚv_fÜm
(cÚ¡ 
EC_KEY
 *
key
);

914 
EC_KEY_£t_cÚv_fÜm
(
EC_KEY
 *
eckey
, 
pošt_cÚv”siÚ_fÜm_t
 
cfÜm
);

916 
	#EC_KEY_g‘_ex_Ãw_šdex
(
l
, 
p
, 
Ãwf
, 
dupf
, 
ä“f
) \

917 
	`CRYPTO_g‘_ex_Ãw_šdex
(
CRYPTO_EX_INDEX_EC_KEY
, 
l
, 
p
, 
Ãwf
, 
dupf
, 
ä“f
)

	)

918 
EC_KEY_£t_ex_d©a
(
EC_KEY
 *
key
, 
idx
, *
¬g
);

919 *
EC_KEY_g‘_ex_d©a
(cÚ¡ 
EC_KEY
 *
key
, 
idx
);

922 
EC_KEY_£t_a¢1_æag
(
EC_KEY
 *
eckey
, 
a¢1_æag
);

930 
EC_KEY_´ecompu‹_muÉ
(
EC_KEY
 *
key
, 
BN_CTX
 *
ùx
);

936 
EC_KEY_g’”©e_key
(
EC_KEY
 *
key
);

942 
EC_KEY_check_key
(cÚ¡ 
EC_KEY
 *
key
);

948 
EC_KEY_ÿn_sign
(cÚ¡ 
EC_KEY
 *
eckey
);

957 
EC_KEY_£t_public_key_affše_coÜdš©es
(
EC_KEY
 *
key
, 
BIGNUM
 *
x
,

958 
BIGNUM
 *
y
);

967 
size_t
 
EC_KEY_key2buf
(cÚ¡ 
EC_KEY
 *
key
, 
pošt_cÚv”siÚ_fÜm_t
 
fÜm
,

968 **
pbuf
, 
BN_CTX
 *
ùx
);

978 
EC_KEY_où2key
(
EC_KEY
 *
key
, cÚ¡ *
buf
, 
size_t
 
Ën
,

979 
BN_CTX
 *
ùx
);

988 
EC_KEY_où2´iv
(
EC_KEY
 *
key
, cÚ¡ *
buf
, 
size_t
 
Ën
);

998 
size_t
 
EC_KEY_´iv2où
(cÚ¡ 
EC_KEY
 *
key
, *
buf
, size_ˆ
Ën
);

1005 
size_t
 
EC_KEY_´iv2buf
(cÚ¡ 
EC_KEY
 *
eckey
, **
pbuf
);

1017 
EC_KEY
 *
d2i_ECPriv©eKey
(EC_KEY **
key
, cÚ¡ **
š
, 
Ën
);

1025 
i2d_ECPriv©eKey
(
EC_KEY
 *
key
, **
out
);

1038 
EC_KEY
 *
d2i_ECP¬am‘”s
(EC_KEY **
key
, cÚ¡ **
š
, 
Ën
);

1046 
i2d_ECP¬am‘”s
(
EC_KEY
 *
key
, **
out
);

1060 
EC_KEY
 *
o2i_ECPublicKey
(EC_KEY **
key
, cÚ¡ **
š
, 
Ën
);

1068 
i2o_ECPublicKey
(cÚ¡ 
EC_KEY
 *
key
, **
out
);

1075 
ECP¬am‘”s_´št
(
BIO
 *
bp
, cÚ¡ 
EC_KEY
 *
key
);

1083 
EC_KEY_´št
(
BIO
 *
bp
, cÚ¡ 
EC_KEY
 *
key
, 
off
);

1085 #iâdeà
OPENSSL_NO_STDIO


1091 
ECP¬am‘”s_´št_å
(
FILE
 *
å
, cÚ¡ 
EC_KEY
 *
key
);

1099 
EC_KEY_´št_å
(
FILE
 *
å
, cÚ¡ 
EC_KEY
 *
key
, 
off
);

1103 cÚ¡ 
EC_KEY_METHOD
 *
EC_KEY_O³nSSL
();

1104 cÚ¡ 
EC_KEY_METHOD
 *
EC_KEY_g‘_deçuÉ_m‘hod
();

1105 
EC_KEY_£t_deçuÉ_m‘hod
(cÚ¡ 
EC_KEY_METHOD
 *
m‘h
);

1106 cÚ¡ 
EC_KEY_METHOD
 *
EC_KEY_g‘_m‘hod
(cÚ¡ 
EC_KEY
 *
key
);

1107 
EC_KEY_£t_m‘hod
(
EC_KEY
 *
key
, cÚ¡ 
EC_KEY_METHOD
 *
m‘h
);

1108 
EC_KEY
 *
EC_KEY_Ãw_m‘hod
(
ENGINE
 *
’gše
);

1110 
ECDH_KDF_X9_62
(*
out
, 
size_t
 
ou’
,

1111 cÚ¡ *
Z
, 
size_t
 
ZËn
,

1112 cÚ¡ *
sšfo
, 
size_t
 
sšfŞ’
,

1113 cÚ¡ 
EVP_MD
 *
md
);

1115 
ECDH_compu‹_key
(*
out
, 
size_t
 
ou’
, cÚ¡ 
EC_POINT
 *
pub_key
,

1116 cÚ¡ 
EC_KEY
 *
ecdh
,

1117 *(*
KDF
è(cÚ¡ *
š
, 
size_t
 
šËn
,

1118 *
out
, 
size_t
 *
ou’
));

1120 
ECDSA_SIG_¡
 
	tECDSA_SIG
;

1125 
ECDSA_SIG
 *
ECDSA_SIG_Ãw
();

1130 
ECDSA_SIG_ä“
(
ECDSA_SIG
 *
sig
);

1138 
i2d_ECDSA_SIG
(cÚ¡ 
ECDSA_SIG
 *
sig
, **
µ
);

1147 
ECDSA_SIG
 *
d2i_ECDSA_SIG
(ECDSA_SIG **
sig
, cÚ¡ **
µ
, 
Ën
);

1154 
ECDSA_SIG_g‘0
(cÚ¡ 
ECDSA_SIG
 *
sig
, cÚ¡ 
BIGNUM
 **
´
, cÚ¡ BIGNUM **
ps
);

1159 cÚ¡ 
BIGNUM
 *
ECDSA_SIG_g‘0_r
(cÚ¡ 
ECDSA_SIG
 *
sig
);

1164 cÚ¡ 
BIGNUM
 *
ECDSA_SIG_g‘0_s
(cÚ¡ 
ECDSA_SIG
 *
sig
);

1171 
ECDSA_SIG_£t0
(
ECDSA_SIG
 *
sig
, 
BIGNUM
 *
r
, BIGNUM *
s
);

1180 
ECDSA_SIG
 *
ECDSA_do_sign
(cÚ¡ *
dg¡
, 
dg¡_Ën
,

1181 
EC_KEY
 *
eckey
);

1193 
ECDSA_SIG
 *
ECDSA_do_sign_ex
(cÚ¡ *
dg¡
, 
dg¡Ën
,

1194 cÚ¡ 
BIGNUM
 *
kšv
, cÚ¡ BIGNUM *
½
,

1195 
EC_KEY
 *
eckey
);

1206 
ECDSA_do_v”ify
(cÚ¡ *
dg¡
, 
dg¡_Ën
,

1207 cÚ¡ 
ECDSA_SIG
 *
sig
, 
EC_KEY
 *
eckey
);

1216 
ECDSA_sign_£tup
(
EC_KEY
 *
eckey
, 
BN_CTX
 *
ùx
, 
BIGNUM
 **
kšv
, BIGNUM **
½
);

1228 
ECDSA_sign
(
ty³
, cÚ¡ *
dg¡
, 
dg¡Ën
,

1229 *
sig
, *
sigËn
, 
EC_KEY
 *
eckey
);

1244 
ECDSA_sign_ex
(
ty³
, cÚ¡ *
dg¡
, 
dg¡Ën
,

1245 *
sig
, *
sigËn
,

1246 cÚ¡ 
BIGNUM
 *
kšv
, cÚ¡ BIGNUM *
½
, 
EC_KEY
 *
eckey
);

1259 
ECDSA_v”ify
(
ty³
, cÚ¡ *
dg¡
, 
dg¡Ën
,

1260 cÚ¡ *
sig
, 
sigËn
, 
EC_KEY
 *
eckey
);

1266 
ECDSA_size
(cÚ¡ 
EC_KEY
 *
eckey
);

1272 
EC_KEY_METHOD
 *
EC_KEY_METHOD_Ãw
(cÚ¡ EC_KEY_METHOD *
m‘h
);

1273 
EC_KEY_METHOD_ä“
(
EC_KEY_METHOD
 *
m‘h
);

1274 
EC_KEY_METHOD_£t_š™
(
EC_KEY_METHOD
 *
m‘h
,

1275 (*
š™
)(
EC_KEY
 *
key
),

1276 (*
fšish
)(
EC_KEY
 *
key
),

1277 (*
cİy
)(
EC_KEY
 *
de¡
, cÚ¡ EC_KEY *
¤c
),

1278 (*
£t_group
)(
EC_KEY
 *
key
, cÚ¡ 
EC_GROUP
 *
g½
),

1279 (*
£t_´iv©e
)(
EC_KEY
 *
key
,

1280 cÚ¡ 
BIGNUM
 *
´iv_key
),

1281 (*
£t_public
)(
EC_KEY
 *
key
,

1282 cÚ¡ 
EC_POINT
 *
pub_key
));

1284 
EC_KEY_METHOD_£t_keyg’
(
EC_KEY_METHOD
 *
m‘h
,

1285 (*
keyg’
)(
EC_KEY
 *
key
));

1287 
EC_KEY_METHOD_£t_compu‹_key
(
EC_KEY_METHOD
 *
m‘h
,

1288 (*
ckey
)(**
p£c
,

1289 
size_t
 *
p£ş’
,

1290 cÚ¡ 
EC_POINT
 *
pub_key
,

1291 cÚ¡ 
EC_KEY
 *
ecdh
));

1293 
EC_KEY_METHOD_£t_sign
(
EC_KEY_METHOD
 *
m‘h
,

1294 (*
sign
)(
ty³
, cÚ¡ *
dg¡
,

1295 
dËn
, *
sig
,

1296 *
sigËn
,

1297 cÚ¡ 
BIGNUM
 *
kšv
, cÚ¡ BIGNUM *
r
,

1298 
EC_KEY
 *
eckey
),

1299 (*
sign_£tup
)(
EC_KEY
 *
eckey
, 
BN_CTX
 *
ùx_š
,

1300 
BIGNUM
 **
kšvp
, BIGNUM **
½
),

1301 
ECDSA_SIG
 *(*
sign_sig
)(cÚ¡ *
dg¡
,

1302 
dg¡_Ën
,

1303 cÚ¡ 
BIGNUM
 *
š_kšv
,

1304 cÚ¡ 
BIGNUM
 *
š_r
,

1305 
EC_KEY
 *
eckey
));

1307 
EC_KEY_METHOD_£t_v”ify
(
EC_KEY_METHOD
 *
m‘h
,

1308 (*
v”ify
)(
ty³
, const 

1309 *
dg¡
, 
dg¡_Ën
,

1310 cÚ¡ *
sigbuf
,

1311 
sig_Ën
, 
EC_KEY
 *
eckey
),

1312 (*
v”ify_sig
)(cÚ¡ *
dg¡
,

1313 
dg¡_Ën
,

1314 cÚ¡ 
ECDSA_SIG
 *
sig
,

1315 
EC_KEY
 *
eckey
));

1317 
EC_KEY_METHOD_g‘_š™
(cÚ¡ 
EC_KEY_METHOD
 *
m‘h
,

1318 (**
pš™
)(
EC_KEY
 *
key
),

1319 (**
pfšish
)(
EC_KEY
 *
key
),

1320 (**
pcİy
)(
EC_KEY
 *
de¡
, cÚ¡ EC_KEY *
¤c
),

1321 (**
p£t_group
)(
EC_KEY
 *
key
,

1322 cÚ¡ 
EC_GROUP
 *
g½
),

1323 (**
p£t_´iv©e
)(
EC_KEY
 *
key
,

1324 cÚ¡ 
BIGNUM
 *
´iv_key
),

1325 (**
p£t_public
)(
EC_KEY
 *
key
,

1326 cÚ¡ 
EC_POINT
 *
pub_key
));

1328 
EC_KEY_METHOD_g‘_keyg’
(cÚ¡ 
EC_KEY_METHOD
 *
m‘h
,

1329 (**
pkeyg’
)(
EC_KEY
 *
key
));

1331 
EC_KEY_METHOD_g‘_compu‹_key
(cÚ¡ 
EC_KEY_METHOD
 *
m‘h
,

1332 (**
pck
)(**
p£c
,

1333 
size_t
 *
p£ş’
,

1334 cÚ¡ 
EC_POINT
 *
pub_key
,

1335 cÚ¡ 
EC_KEY
 *
ecdh
));

1337 
EC_KEY_METHOD_g‘_sign
(cÚ¡ 
EC_KEY_METHOD
 *
m‘h
,

1338 (**
psign
)(
ty³
, cÚ¡ *
dg¡
,

1339 
dËn
, *
sig
,

1340 *
sigËn
,

1341 cÚ¡ 
BIGNUM
 *
kšv
, cÚ¡ BIGNUM *
r
,

1342 
EC_KEY
 *
eckey
),

1343 (**
psign_£tup
)(
EC_KEY
 *
eckey
, 
BN_CTX
 *
ùx_š
,

1344 
BIGNUM
 **
kšvp
, BIGNUM **
½
),

1345 
ECDSA_SIG
 *(**
psign_sig
)(cÚ¡ *
dg¡
,

1346 
dg¡_Ën
,

1347 cÚ¡ 
BIGNUM
 *
š_kšv
,

1348 cÚ¡ 
BIGNUM
 *
š_r
,

1349 
EC_KEY
 *
eckey
));

1351 
EC_KEY_METHOD_g‘_v”ify
(cÚ¡ 
EC_KEY_METHOD
 *
m‘h
,

1352 (**
pv”ify
)(
ty³
, const 

1353 *
dg¡
, 
dg¡_Ën
,

1354 cÚ¡ *
sigbuf
,

1355 
sig_Ën
, 
EC_KEY
 *
eckey
),

1356 (**
pv”ify_sig
)(cÚ¡ *
dg¡
,

1357 
dg¡_Ën
,

1358 cÚ¡ 
ECDSA_SIG
 *
sig
,

1359 
EC_KEY
 *
eckey
));

1361 
	#ECP¬am‘”s_dup
(
x
è
	`ASN1_dup_of
(
EC_KEY
,
i2d_ECP¬am‘”s
,
d2i_ECP¬am‘”s
,x)

	)

1363 #iâdeà
__ılu¥lus


1364 #ià
defšed
(
__SUNPRO_C
)

1365 #ià
__SUNPRO_C
 >= 0x520

1366 #´agm¨
”rÜ_mes§ges
 (,
E_ARRAY_OF_INCOMPLETE_NONAME
,
E_ARRAY_OF_INCOMPLETE
)

1371 
	#EVP_PKEY_CTX_£t_ec_·¿mg’_curve_nid
(
ùx
, 
nid
) \

1372 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_EC
, \

1373 
EVP_PKEY_OP_PARAMGEN
|
EVP_PKEY_OP_KEYGEN
, \

1374 
EVP_PKEY_CTRL_EC_PARAMGEN_CURVE_NID
, 
nid
, 
NULL
)

	)

1376 
	#EVP_PKEY_CTX_£t_ec_·¿m_’c
(
ùx
, 
æag
) \

1377 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_EC
, \

1378 
EVP_PKEY_OP_PARAMGEN
|
EVP_PKEY_OP_KEYGEN
, \

1379 
EVP_PKEY_CTRL_EC_PARAM_ENC
, 
æag
, 
NULL
)

	)

1381 
	#EVP_PKEY_CTX_£t_ecdh_coçùÜ_mode
(
ùx
, 
æag
) \

1382 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_EC
, \

1383 
EVP_PKEY_OP_DERIVE
, \

1384 
EVP_PKEY_CTRL_EC_ECDH_COFACTOR
, 
æag
, 
NULL
)

	)

1386 
	#EVP_PKEY_CTX_g‘_ecdh_coçùÜ_mode
(
ùx
) \

1387 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_EC
, \

1388 
EVP_PKEY_OP_DERIVE
, \

1389 
EVP_PKEY_CTRL_EC_ECDH_COFACTOR
, -2, 
NULL
)

	)

1391 
	#EVP_PKEY_CTX_£t_ecdh_kdf_ty³
(
ùx
, 
kdf
) \

1392 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_EC
, \

1393 
EVP_PKEY_OP_DERIVE
, \

1394 
EVP_PKEY_CTRL_EC_KDF_TYPE
, 
kdf
, 
NULL
)

	)

1396 
	#EVP_PKEY_CTX_g‘_ecdh_kdf_ty³
(
ùx
) \

1397 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_EC
, \

1398 
EVP_PKEY_OP_DERIVE
, \

1399 
EVP_PKEY_CTRL_EC_KDF_TYPE
, -2, 
NULL
)

	)

1401 
	#EVP_PKEY_CTX_£t_ecdh_kdf_md
(
ùx
, 
md
) \

1402 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_EC
, \

1403 
EVP_PKEY_OP_DERIVE
, \

1404 
EVP_PKEY_CTRL_EC_KDF_MD
, 0, (*)(
md
))

	)

1406 
	#EVP_PKEY_CTX_g‘_ecdh_kdf_md
(
ùx
, 
pmd
) \

1407 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_EC
, \

1408 
EVP_PKEY_OP_DERIVE
, \

1409 
EVP_PKEY_CTRL_GET_EC_KDF_MD
, 0, (*)(
pmd
))

	)

1411 
	#EVP_PKEY_CTX_£t_ecdh_kdf_ou’
(
ùx
, 
Ën
) \

1412 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_EC
, \

1413 
EVP_PKEY_OP_DERIVE
, \

1414 
EVP_PKEY_CTRL_EC_KDF_OUTLEN
, 
Ën
, 
NULL
)

	)

1416 
	#EVP_PKEY_CTX_g‘_ecdh_kdf_ou’
(
ùx
, 
¶’
) \

1417 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_EC
, \

1418 
EVP_PKEY_OP_DERIVE
, \

1419 
EVP_PKEY_CTRL_GET_EC_KDF_OUTLEN
, 0, \

1420 (*)(
¶’
))

	)

1422 
	#EVP_PKEY_CTX_£t0_ecdh_kdf_ukm
(
ùx
, 
p
, 
¶’
) \

1423 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_EC
, \

1424 
EVP_PKEY_OP_DERIVE
, \

1425 
EVP_PKEY_CTRL_EC_KDF_UKM
, 
¶’
, (*)(
p
))

	)

1427 
	#EVP_PKEY_CTX_g‘0_ecdh_kdf_ukm
(
ùx
, 
p
) \

1428 
	`EVP_PKEY_CTX_ù¾
(
ùx
, 
EVP_PKEY_EC
, \

1429 
EVP_PKEY_OP_DERIVE
, \

1430 
EVP_PKEY_CTRL_GET_EC_KDF_UKM
, 0, (*)(
p
))

	)

1433 
	#EVP_PKEY_CTX_£t1_id
(
ùx
, 
id
, 
id_Ën
) \

1434 
	`EVP_PKEY_CTX_ù¾
(
ùx
, -1, -1, \

1435 
EVP_PKEY_CTRL_SET1_ID
, ()
id_Ën
, (*)(
id
))

	)

1437 
	#EVP_PKEY_CTX_g‘1_id
(
ùx
, 
id
) \

1438 
	`EVP_PKEY_CTX_ù¾
(
ùx
, -1, -1, \

1439 
EVP_PKEY_CTRL_GET1_ID
, 0, (*)(
id
))

	)

1441 
	#EVP_PKEY_CTX_g‘1_id_Ën
(
ùx
, 
id_Ën
) \

1442 
	`EVP_PKEY_CTX_ù¾
(
ùx
, -1, -1, \

1443 
EVP_PKEY_CTRL_GET1_ID_LEN
, 0, (*)(
id_Ën
))

	)

1445 
	#EVP_PKEY_CTRL_EC_PARAMGEN_CURVE_NID
 (
EVP_PKEY_ALG_CTRL
 + 1)

	)

1446 
	#EVP_PKEY_CTRL_EC_PARAM_ENC
 (
EVP_PKEY_ALG_CTRL
 + 2)

	)

1447 
	#EVP_PKEY_CTRL_EC_ECDH_COFACTOR
 (
EVP_PKEY_ALG_CTRL
 + 3)

	)

1448 
	#EVP_PKEY_CTRL_EC_KDF_TYPE
 (
EVP_PKEY_ALG_CTRL
 + 4)

	)

1449 
	#EVP_PKEY_CTRL_EC_KDF_MD
 (
EVP_PKEY_ALG_CTRL
 + 5)

	)

1450 
	#EVP_PKEY_CTRL_GET_EC_KDF_MD
 (
EVP_PKEY_ALG_CTRL
 + 6)

	)

1451 
	#EVP_PKEY_CTRL_EC_KDF_OUTLEN
 (
EVP_PKEY_ALG_CTRL
 + 7)

	)

1452 
	#EVP_PKEY_CTRL_GET_EC_KDF_OUTLEN
 (
EVP_PKEY_ALG_CTRL
 + 8)

	)

1453 
	#EVP_PKEY_CTRL_EC_KDF_UKM
 (
EVP_PKEY_ALG_CTRL
 + 9)

	)

1454 
	#EVP_PKEY_CTRL_GET_EC_KDF_UKM
 (
EVP_PKEY_ALG_CTRL
 + 10)

	)

1455 
	#EVP_PKEY_CTRL_SET1_ID
 (
EVP_PKEY_ALG_CTRL
 + 11)

	)

1456 
	#EVP_PKEY_CTRL_GET1_ID
 (
EVP_PKEY_ALG_CTRL
 + 12)

	)

1457 
	#EVP_PKEY_CTRL_GET1_ID_LEN
 (
EVP_PKEY_ALG_CTRL
 + 13)

	)

1459 
	#EVP_PKEY_ECDH_KDF_NONE
 1

	)

1460 
	#EVP_PKEY_ECDH_KDF_X9_62
 2

	)

1463 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/evperr.h

11 #iâdeà
HEADER_EVPERR_H


12 
	#HEADER_EVPERR_H


	)

14 #ifdeà 
__ılu¥lus


17 
ERR_lßd_EVP_¡ršgs
();

22 
	#EVP_F_AESNI_INIT_KEY
 165

	)

23 
	#EVP_F_AES_GCM_CTRL
 196

	)

24 
	#EVP_F_AES_INIT_KEY
 133

	)

25 
	#EVP_F_AES_OCB_CIPHER
 169

	)

26 
	#EVP_F_AES_T4_INIT_KEY
 178

	)

27 
	#EVP_F_AES_WRAP_CIPHER
 170

	)

28 
	#EVP_F_ALG_MODULE_INIT
 177

	)

29 
	#EVP_F_ARIA_CCM_INIT_KEY
 175

	)

30 
	#EVP_F_ARIA_GCM_CTRL
 197

	)

31 
	#EVP_F_ARIA_GCM_INIT_KEY
 176

	)

32 
	#EVP_F_ARIA_INIT_KEY
 185

	)

33 
	#EVP_F_B64_NEW
 198

	)

34 
	#EVP_F_CAMELLIA_INIT_KEY
 159

	)

35 
	#EVP_F_CHACHA20_POLY1305_CTRL
 182

	)

36 
	#EVP_F_CMLL_T4_INIT_KEY
 179

	)

37 
	#EVP_F_DES_EDE3_WRAP_CIPHER
 171

	)

38 
	#EVP_F_DO_SIGVER_INIT
 161

	)

39 
	#EVP_F_ENC_NEW
 199

	)

40 
	#EVP_F_EVP_CIPHERINIT_EX
 123

	)

41 
	#EVP_F_EVP_CIPHER_ASN1_TO_PARAM
 204

	)

42 
	#EVP_F_EVP_CIPHER_CTX_COPY
 163

	)

43 
	#EVP_F_EVP_CIPHER_CTX_CTRL
 124

	)

44 
	#EVP_F_EVP_CIPHER_CTX_SET_KEY_LENGTH
 122

	)

45 
	#EVP_F_EVP_CIPHER_PARAM_TO_ASN1
 205

	)

46 
	#EVP_F_EVP_DECRYPTFINAL_EX
 101

	)

47 
	#EVP_F_EVP_DECRYPTUPDATE
 166

	)

48 
	#EVP_F_EVP_DIGESTFINALXOF
 174

	)

49 
	#EVP_F_EVP_DIGESTINIT_EX
 128

	)

50 
	#EVP_F_EVP_ENCRYPTFINAL_EX
 127

	)

51 
	#EVP_F_EVP_ENCRYPTUPDATE
 167

	)

52 
	#EVP_F_EVP_MD_CTX_COPY_EX
 110

	)

53 
	#EVP_F_EVP_MD_SIZE
 162

	)

54 
	#EVP_F_EVP_OPENINIT
 102

	)

55 
	#EVP_F_EVP_PBE_ALG_ADD
 115

	)

56 
	#EVP_F_EVP_PBE_ALG_ADD_TYPE
 160

	)

57 
	#EVP_F_EVP_PBE_CIPHERINIT
 116

	)

58 
	#EVP_F_EVP_PBE_SCRYPT
 181

	)

59 
	#EVP_F_EVP_PKCS82PKEY
 111

	)

60 
	#EVP_F_EVP_PKEY2PKCS8
 113

	)

61 
	#EVP_F_EVP_PKEY_ASN1_ADD0
 188

	)

62 
	#EVP_F_EVP_PKEY_CHECK
 186

	)

63 
	#EVP_F_EVP_PKEY_COPY_PARAMETERS
 103

	)

64 
	#EVP_F_EVP_PKEY_CTX_CTRL
 137

	)

65 
	#EVP_F_EVP_PKEY_CTX_CTRL_STR
 150

	)

66 
	#EVP_F_EVP_PKEY_CTX_DUP
 156

	)

67 
	#EVP_F_EVP_PKEY_CTX_MD
 168

	)

68 
	#EVP_F_EVP_PKEY_DECRYPT
 104

	)

69 
	#EVP_F_EVP_PKEY_DECRYPT_INIT
 138

	)

70 
	#EVP_F_EVP_PKEY_DECRYPT_OLD
 151

	)

71 
	#EVP_F_EVP_PKEY_DERIVE
 153

	)

72 
	#EVP_F_EVP_PKEY_DERIVE_INIT
 154

	)

73 
	#EVP_F_EVP_PKEY_DERIVE_SET_PEER
 155

	)

74 
	#EVP_F_EVP_PKEY_ENCRYPT
 105

	)

75 
	#EVP_F_EVP_PKEY_ENCRYPT_INIT
 139

	)

76 
	#EVP_F_EVP_PKEY_ENCRYPT_OLD
 152

	)

77 
	#EVP_F_EVP_PKEY_GET0_DH
 119

	)

78 
	#EVP_F_EVP_PKEY_GET0_DSA
 120

	)

79 
	#EVP_F_EVP_PKEY_GET0_EC_KEY
 131

	)

80 
	#EVP_F_EVP_PKEY_GET0_HMAC
 183

	)

81 
	#EVP_F_EVP_PKEY_GET0_POLY1305
 184

	)

82 
	#EVP_F_EVP_PKEY_GET0_RSA
 121

	)

83 
	#EVP_F_EVP_PKEY_GET0_SIPHASH
 172

	)

84 
	#EVP_F_EVP_PKEY_GET_RAW_PRIVATE_KEY
 202

	)

85 
	#EVP_F_EVP_PKEY_GET_RAW_PUBLIC_KEY
 203

	)

86 
	#EVP_F_EVP_PKEY_KEYGEN
 146

	)

87 
	#EVP_F_EVP_PKEY_KEYGEN_INIT
 147

	)

88 
	#EVP_F_EVP_PKEY_METH_ADD0
 194

	)

89 
	#EVP_F_EVP_PKEY_METH_NEW
 195

	)

90 
	#EVP_F_EVP_PKEY_NEW
 106

	)

91 
	#EVP_F_EVP_PKEY_NEW_CMAC_KEY
 193

	)

92 
	#EVP_F_EVP_PKEY_NEW_RAW_PRIVATE_KEY
 191

	)

93 
	#EVP_F_EVP_PKEY_NEW_RAW_PUBLIC_KEY
 192

	)

94 
	#EVP_F_EVP_PKEY_PARAMGEN
 148

	)

95 
	#EVP_F_EVP_PKEY_PARAMGEN_INIT
 149

	)

96 
	#EVP_F_EVP_PKEY_PARAM_CHECK
 189

	)

97 
	#EVP_F_EVP_PKEY_PUBLIC_CHECK
 190

	)

98 
	#EVP_F_EVP_PKEY_SET1_ENGINE
 187

	)

99 
	#EVP_F_EVP_PKEY_SET_ALIAS_TYPE
 206

	)

100 
	#EVP_F_EVP_PKEY_SIGN
 140

	)

101 
	#EVP_F_EVP_PKEY_SIGN_INIT
 141

	)

102 
	#EVP_F_EVP_PKEY_VERIFY
 142

	)

103 
	#EVP_F_EVP_PKEY_VERIFY_INIT
 143

	)

104 
	#EVP_F_EVP_PKEY_VERIFY_RECOVER
 144

	)

105 
	#EVP_F_EVP_PKEY_VERIFY_RECOVER_INIT
 145

	)

106 
	#EVP_F_EVP_SIGNFINAL
 107

	)

107 
	#EVP_F_EVP_VERIFYFINAL
 108

	)

108 
	#EVP_F_INT_CTX_NEW
 157

	)

109 
	#EVP_F_OK_NEW
 200

	)

110 
	#EVP_F_PKCS5_PBE_KEYIVGEN
 117

	)

111 
	#EVP_F_PKCS5_V2_PBE_KEYIVGEN
 118

	)

112 
	#EVP_F_PKCS5_V2_PBKDF2_KEYIVGEN
 164

	)

113 
	#EVP_F_PKCS5_V2_SCRYPT_KEYIVGEN
 180

	)

114 
	#EVP_F_PKEY_SET_TYPE
 158

	)

115 
	#EVP_F_RC2_MAGIC_TO_METH
 109

	)

116 
	#EVP_F_RC5_CTRL
 125

	)

117 
	#EVP_F_S390X_AES_GCM_CTRL
 201

	)

118 
	#EVP_F_UPDATE
 173

	)

123 
	#EVP_R_AES_KEY_SETUP_FAILED
 143

	)

124 
	#EVP_R_ARIA_KEY_SETUP_FAILED
 176

	)

125 
	#EVP_R_BAD_DECRYPT
 100

	)

126 
	#EVP_R_BUFFER_TOO_SMALL
 155

	)

127 
	#EVP_R_CAMELLIA_KEY_SETUP_FAILED
 157

	)

128 
	#EVP_R_CIPHER_PARAMETER_ERROR
 122

	)

129 
	#EVP_R_COMMAND_NOT_SUPPORTED
 147

	)

130 
	#EVP_R_COPY_ERROR
 173

	)

131 
	#EVP_R_CTRL_NOT_IMPLEMENTED
 132

	)

132 
	#EVP_R_CTRL_OPERATION_NOT_IMPLEMENTED
 133

	)

133 
	#EVP_R_DATA_NOT_MULTIPLE_OF_BLOCK_LENGTH
 138

	)

134 
	#EVP_R_DECODE_ERROR
 114

	)

135 
	#EVP_R_DIFFERENT_KEY_TYPES
 101

	)

136 
	#EVP_R_DIFFERENT_PARAMETERS
 153

	)

137 
	#EVP_R_ERROR_LOADING_SECTION
 165

	)

138 
	#EVP_R_ERROR_SETTING_FIPS_MODE
 166

	)

139 
	#EVP_R_EXPECTING_AN_HMAC_KEY
 174

	)

140 
	#EVP_R_EXPECTING_AN_RSA_KEY
 127

	)

141 
	#EVP_R_EXPECTING_A_DH_KEY
 128

	)

142 
	#EVP_R_EXPECTING_A_DSA_KEY
 129

	)

143 
	#EVP_R_EXPECTING_A_EC_KEY
 142

	)

144 
	#EVP_R_EXPECTING_A_POLY1305_KEY
 164

	)

145 
	#EVP_R_EXPECTING_A_SIPHASH_KEY
 175

	)

146 
	#EVP_R_FIPS_MODE_NOT_SUPPORTED
 167

	)

147 
	#EVP_R_GET_RAW_KEY_FAILED
 182

	)

148 
	#EVP_R_ILLEGAL_SCRYPT_PARAMETERS
 171

	)

149 
	#EVP_R_INITIALIZATION_ERROR
 134

	)

150 
	#EVP_R_INPUT_NOT_INITIALIZED
 111

	)

151 
	#EVP_R_INVALID_DIGEST
 152

	)

152 
	#EVP_R_INVALID_FIPS_MODE
 168

	)

153 
	#EVP_R_INVALID_KEY
 163

	)

154 
	#EVP_R_INVALID_KEY_LENGTH
 130

	)

155 
	#EVP_R_INVALID_OPERATION
 148

	)

156 
	#EVP_R_KEYGEN_FAILURE
 120

	)

157 
	#EVP_R_KEY_SETUP_FAILED
 180

	)

158 
	#EVP_R_MEMORY_LIMIT_EXCEEDED
 172

	)

159 
	#EVP_R_MESSAGE_DIGEST_IS_NULL
 159

	)

160 
	#EVP_R_METHOD_NOT_SUPPORTED
 144

	)

161 
	#EVP_R_MISSING_PARAMETERS
 103

	)

162 
	#EVP_R_NOT_XOF_OR_INVALID_LENGTH
 178

	)

163 
	#EVP_R_NO_CIPHER_SET
 131

	)

164 
	#EVP_R_NO_DEFAULT_DIGEST
 158

	)

165 
	#EVP_R_NO_DIGEST_SET
 139

	)

166 
	#EVP_R_NO_KEY_SET
 154

	)

167 
	#EVP_R_NO_OPERATION_SET
 149

	)

168 
	#EVP_R_ONLY_ONESHOT_SUPPORTED
 177

	)

169 
	#EVP_R_OPERATION_NOT_SUPPORTED_FOR_THIS_KEYTYPE
 150

	)

170 
	#EVP_R_OPERATON_NOT_INITIALIZED
 151

	)

171 
	#EVP_R_PARTIALLY_OVERLAPPING
 162

	)

172 
	#EVP_R_PBKDF2_ERROR
 181

	)

173 
	#EVP_R_PKEY_APPLICATION_ASN1_METHOD_ALREADY_REGISTERED
 179

	)

174 
	#EVP_R_PRIVATE_KEY_DECODE_ERROR
 145

	)

175 
	#EVP_R_PRIVATE_KEY_ENCODE_ERROR
 146

	)

176 
	#EVP_R_PUBLIC_KEY_NOT_RSA
 106

	)

177 
	#EVP_R_UNKNOWN_CIPHER
 160

	)

178 
	#EVP_R_UNKNOWN_DIGEST
 161

	)

179 
	#EVP_R_UNKNOWN_OPTION
 169

	)

180 
	#EVP_R_UNKNOWN_PBE_ALGORITHM
 121

	)

181 
	#EVP_R_UNSUPPORTED_ALGORITHM
 156

	)

182 
	#EVP_R_UNSUPPORTED_CIPHER
 107

	)

183 
	#EVP_R_UNSUPPORTED_KEYLENGTH
 123

	)

184 
	#EVP_R_UNSUPPORTED_KEY_DERIVATION_FUNCTION
 124

	)

185 
	#EVP_R_UNSUPPORTED_KEY_SIZE
 108

	)

186 
	#EVP_R_UNSUPPORTED_NUMBER_OF_ROUNDS
 135

	)

187 
	#EVP_R_UNSUPPORTED_PRF
 125

	)

188 
	#EVP_R_UNSUPPORTED_PRIVATE_KEY_ALGORITHM
 118

	)

189 
	#EVP_R_UNSUPPORTED_SALT_TYPE
 126

	)

190 
	#EVP_R_WRAP_MODE_NOT_ALLOWED
 170

	)

191 
	#EVP_R_WRONG_FINAL_BLOCK_LENGTH
 109

	)

	@/usr/include/openssl/hmac.h

10 #iâdeà
HEADER_HMAC_H


11 
	#HEADER_HMAC_H


	)

13 
	~<İ’s¦/İ’s¦cÚf.h
>

15 
	~<İ’s¦/evp.h
>

17 #ià
OPENSSL_API_COMPAT
 < 0x10200000L

18 
	#HMAC_MAX_MD_CBLOCK
 128

	)

21 #ifdeà 
__ılu¥lus


25 
size_t
 
HMAC_size
(cÚ¡ 
HMAC_CTX
 *
e
);

26 
HMAC_CTX
 *
HMAC_CTX_Ãw
();

27 
HMAC_CTX_»£t
(
HMAC_CTX
 *
ùx
);

28 
HMAC_CTX_ä“
(
HMAC_CTX
 *
ùx
);

30 
DEPRECATEDIN_1_1_0
(
__owur
 
HMAC_In™
(
HMAC_CTX
 *
ùx
, cÚ¡ *
key
, 
Ën
,

31 cÚ¡ 
EVP_MD
 *
md
))

33  
HMAC_In™_ex
(
HMAC_CTX
 *
ùx
, cÚ¡ *
key
, 
Ën
,

34 cÚ¡ 
EVP_MD
 *
md
, 
ENGINE
 *
im¶
);

35  
HMAC_Upd©e
(
HMAC_CTX
 *
ùx
, cÚ¡ *
d©a
,

36 
size_t
 
Ën
);

37  
HMAC_Fš®
(
HMAC_CTX
 *
ùx
, *
md
,

38 *
Ën
);

39 *
HMAC
(cÚ¡ 
EVP_MD
 *
evp_md
, cÚ¡ *
key
, 
key_Ën
,

40 cÚ¡ *
d
, 
size_t
 
n
, *
md
,

41 *
md_Ën
);

42 
__owur
 
HMAC_CTX_cİy
(
HMAC_CTX
 *
dùx
, HMAC_CTX *
sùx
);

44 
HMAC_CTX_£t_æags
(
HMAC_CTX
 *
ùx
, 
æags
);

45 cÚ¡ 
EVP_MD
 *
HMAC_CTX_g‘_md
(cÚ¡ 
HMAC_CTX
 *
ùx
);

47 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/lhash.h

14 #iâdeà
HEADER_LHASH_H


15 
	#HEADER_LHASH_H


	)

17 
	~<İ’s¦/e_os2.h
>

18 
	~<İ’s¦/bio.h
>

20 #ifdeà 
__ılu¥lus


24 
lhash_node_¡
 
	tOPENSSL_LH_NODE
;

25 (*
OPENSSL_LH_COMPFUNC
) (const *, const *);

26 (*
	tOPENSSL_LH_HASHFUNC
) (const *);

27 (*
OPENSSL_LH_DOALL_FUNC
) (*);

28 (*
OPENSSL_LH_DOALL_FUNCARG
) (*, *);

29 
lhash_¡
 
	tOPENSSL_LHASH
;

41 
	#DECLARE_LHASH_HASH_FN
(
Çme
, 
o_ty³
) \

42 
Çme
##
	`_LHASH_HASH
(cÚ¡ *);

	)

43 
	#IMPLEMENT_LHASH_HASH_FN
(
Çme
, 
o_ty³
) \

44 
Çme
##
	`_LHASH_HASH
(cÚ¡ *
¬g
) { \

45 cÚ¡ 
o_ty³
 *
a
 = 
¬g
; \

46  
Çme
##
	`_hash
(
a
); }

	)

47 
	#LHASH_HASH_FN
(
Çme
èÇme##
_LHASH_HASH


	)

50 
	#DECLARE_LHASH_COMP_FN
(
Çme
, 
o_ty³
) \

51 
Çme
##
	`_LHASH_COMP
(cÚ¡ *, cÚ¡ *);

	)

52 
	#IMPLEMENT_LHASH_COMP_FN
(
Çme
, 
o_ty³
) \

53 
Çme
##
	`_LHASH_COMP
(cÚ¡ *
¬g1
, cÚ¡ *
¬g2
) { \

54 cÚ¡ 
o_ty³
 *
a
 = 
¬g1
; \

55 cÚ¡ 
o_ty³
 *
b
 = 
¬g2
; \

56  
Çme
##
	`_cmp
(
a
,
b
); }

	)

57 
	#LHASH_COMP_FN
(
Çme
èÇme##
_LHASH_COMP


	)

60 
	#DECLARE_LHASH_DOALL_ARG_FN
(
Çme
, 
o_ty³
, 
a_ty³
) \

61 
Çme
##
	`_LHASH_DOALL_ARG
(*, *);

	)

62 
	#IMPLEMENT_LHASH_DOALL_ARG_FN
(
Çme
, 
o_ty³
, 
a_ty³
) \

63 
Çme
##
	`_LHASH_DOALL_ARG
(*
¬g1
, *
¬g2
) { \

64 
o_ty³
 *
a
 = 
¬g1
; \

65 
a_ty³
 *
b
 = 
¬g2
; \

66 
Çme
##
	`_dßÎ_¬g
(
a
, 
b
); }

	)

67 
	#LHASH_DOALL_ARG_FN
(
Çme
èÇme##
_LHASH_DOALL_ARG


	)

70 
	#LH_LOAD_MULT
 256

	)

72 
OPENSSL_LH_”rÜ
(
OPENSSL_LHASH
 *
lh
);

73 
OPENSSL_LHASH
 *
OPENSSL_LH_Ãw
(
OPENSSL_LH_HASHFUNC
 
h
, 
OPENSSL_LH_COMPFUNC
 
c
);

74 
OPENSSL_LH_ä“
(
OPENSSL_LHASH
 *
lh
);

75 *
OPENSSL_LH_š£¹
(
OPENSSL_LHASH
 *
lh
, *
d©a
);

76 *
OPENSSL_LH_d–‘e
(
OPENSSL_LHASH
 *
lh
, cÚ¡ *
d©a
);

77 *
OPENSSL_LH_»Œ›ve
(
OPENSSL_LHASH
 *
lh
, cÚ¡ *
d©a
);

78 
OPENSSL_LH_dßÎ
(
OPENSSL_LHASH
 *
lh
, 
OPENSSL_LH_DOALL_FUNC
 
func
);

79 
OPENSSL_LH_dßÎ_¬g
(
OPENSSL_LHASH
 *
lh
, 
OPENSSL_LH_DOALL_FUNCARG
 
func
, *
¬g
);

80 
OPENSSL_LH_¡rhash
(cÚ¡ *
c
);

81 
OPENSSL_LH_num_™ems
(cÚ¡ 
OPENSSL_LHASH
 *
lh
);

82 
OPENSSL_LH_g‘_down_lßd
(cÚ¡ 
OPENSSL_LHASH
 *
lh
);

83 
OPENSSL_LH_£t_down_lßd
(
OPENSSL_LHASH
 *
lh
, 
down_lßd
);

85 #iâdeà
OPENSSL_NO_STDIO


86 
OPENSSL_LH_¡©s
(cÚ¡ 
OPENSSL_LHASH
 *
lh
, 
FILE
 *
å
);

87 
OPENSSL_LH_node_¡©s
(cÚ¡ 
OPENSSL_LHASH
 *
lh
, 
FILE
 *
å
);

88 
OPENSSL_LH_node_u§ge_¡©s
(cÚ¡ 
OPENSSL_LHASH
 *
lh
, 
FILE
 *
å
);

90 
OPENSSL_LH_¡©s_bio
(cÚ¡ 
OPENSSL_LHASH
 *
lh
, 
BIO
 *
out
);

91 
OPENSSL_LH_node_¡©s_bio
(cÚ¡ 
OPENSSL_LHASH
 *
lh
, 
BIO
 *
out
);

92 
OPENSSL_LH_node_u§ge_¡©s_bio
(cÚ¡ 
OPENSSL_LHASH
 *
lh
, 
BIO
 *
out
);

94 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

95 
	#_LHASH
 
OPENSSL_LHASH


	)

96 
	#LHASH_NODE
 
OPENSSL_LH_NODE


	)

97 
	#lh_”rÜ
 
OPENSSL_LH_”rÜ


	)

98 
	#lh_Ãw
 
OPENSSL_LH_Ãw


	)

99 
	#lh_ä“
 
OPENSSL_LH_ä“


	)

100 
	#lh_š£¹
 
OPENSSL_LH_š£¹


	)

101 
	#lh_d–‘e
 
OPENSSL_LH_d–‘e


	)

102 
	#lh_»Œ›ve
 
OPENSSL_LH_»Œ›ve


	)

103 
	#lh_dßÎ
 
OPENSSL_LH_dßÎ


	)

104 
	#lh_dßÎ_¬g
 
OPENSSL_LH_dßÎ_¬g


	)

105 
	#lh_¡rhash
 
OPENSSL_LH_¡rhash


	)

106 
	#lh_num_™ems
 
OPENSSL_LH_num_™ems


	)

107 #iâdeà
OPENSSL_NO_STDIO


108 
	#lh_¡©s
 
OPENSSL_LH_¡©s


	)

109 
	#lh_node_¡©s
 
OPENSSL_LH_node_¡©s


	)

110 
	#lh_node_u§ge_¡©s
 
OPENSSL_LH_node_u§ge_¡©s


	)

112 
	#lh_¡©s_bio
 
OPENSSL_LH_¡©s_bio


	)

113 
	#lh_node_¡©s_bio
 
OPENSSL_LH_node_¡©s_bio


	)

114 
	#lh_node_u§ge_¡©s_bio
 
OPENSSL_LH_node_u§ge_¡©s_bio


	)

119 
	#LHASH_OF
(
ty³
è
lhash_¡_
##
	)
type

121 
	#DEFINE_LHASH_OF
(
ty³
) \

122 
	`LHASH_OF
(
ty³
è{ 
lh_
##ty³##
_dummy
 { * 
d1
; 
d2
; 
d3
; } 
dummy
; }; \

123 
os¦_šlše
 
	`LHASH_OF
(
ty³
) * \

124 
lh_
##
ty³
##
	`_Ãw
((*
hâ
)(constype *), \

125 (*
câ
)(cÚ¡ 
ty³
 *, constype *)) \

127  (
	`LHASH_OF
(
ty³
) *) \

128 
	`OPENSSL_LH_Ãw
((
OPENSSL_LH_HASHFUNC
)
hâ
, (
OPENSSL_LH_COMPFUNC
)
câ
); \

130 
os¦_šlše
 
lh_
##
ty³
##
	`_ä“
(
	`LHASH_OF
Ñy³è*
lh
) \

132 
	`OPENSSL_LH_ä“
((
OPENSSL_LHASH
 *)
lh
); \

134 
os¦_šlše
 
ty³
 *
lh_
##ty³##
	`_š£¹
(
	`LHASH_OF
Ñy³è*
lh
,y³ *
d
) \

136  (
ty³
 *)
	`OPENSSL_LH_š£¹
((
OPENSSL_LHASH
 *)
lh
, 
d
); \

138 
os¦_šlše
 
ty³
 *
lh_
##ty³##
	`_d–‘e
(
	`LHASH_OF
Ñy³è*
lh
, cÚ¡y³ *
d
) \

140  (
ty³
 *)
	`OPENSSL_LH_d–‘e
((
OPENSSL_LHASH
 *)
lh
, 
d
); \

142 
os¦_šlše
 
ty³
 *
lh_
##ty³##
	`_»Œ›ve
(
	`LHASH_OF
Ñy³è*
lh
, cÚ¡y³ *
d
) \

144  (
ty³
 *)
	`OPENSSL_LH_»Œ›ve
((
OPENSSL_LHASH
 *)
lh
, 
d
); \

146 
os¦_šlše
 
lh_
##
ty³
##
	`_”rÜ
(
	`LHASH_OF
Ñy³è*
lh
) \

148  
	`OPENSSL_LH_”rÜ
((
OPENSSL_LHASH
 *)
lh
); \

150 
os¦_šlše
 
lh_
##
ty³
##
	`_num_™ems
(
	`LHASH_OF
Ñy³è*
lh
) \

152  
	`OPENSSL_LH_num_™ems
((
OPENSSL_LHASH
 *)
lh
); \

154 
os¦_šlše
 
lh_
##
ty³
##
	`_node_¡©s_bio
(cÚ¡ 
	`LHASH_OF
Ñy³è*
lh
, 
BIO
 *
out
) \

156 
	`OPENSSL_LH_node_¡©s_bio
((cÚ¡ 
OPENSSL_LHASH
 *)
lh
, 
out
); \

158 
os¦_šlše
 
lh_
##
ty³
##
	`_node_u§ge_¡©s_bio
(cÚ¡ 
	`LHASH_OF
Ñy³è*
lh
, 
BIO
 *
out
) \

160 
	`OPENSSL_LH_node_u§ge_¡©s_bio
((cÚ¡ 
OPENSSL_LHASH
 *)
lh
, 
out
); \

162 
os¦_šlše
 
lh_
##
ty³
##
	`_¡©s_bio
(cÚ¡ 
	`LHASH_OF
Ñy³è*
lh
, 
BIO
 *
out
) \

164 
	`OPENSSL_LH_¡©s_bio
((cÚ¡ 
OPENSSL_LHASH
 *)
lh
, 
out
); \

166 
os¦_šlše
 
lh_
##
ty³
##
	`_g‘_down_lßd
(
	`LHASH_OF
Ñy³è*
lh
) \

168  
	`OPENSSL_LH_g‘_down_lßd
((
OPENSSL_LHASH
 *)
lh
); \

170 
os¦_šlše
 
lh_
##
ty³
##
	`_£t_down_lßd
(
	`LHASH_OF
Ñy³è*
lh
, 
dl
) \

172 
	`OPENSSL_LH_£t_down_lßd
((
OPENSSL_LHASH
 *)
lh
, 
dl
); \

174 
os¦_šlše
 
lh_
##
ty³
##
	`_dßÎ
(
	`LHASH_OF
Ñy³è*
lh
, \

175 (*
dßÎ
)(
ty³
 *)) \

177 
	`OPENSSL_LH_dßÎ
((
OPENSSL_LHASH
 *)
lh
, (
OPENSSL_LH_DOALL_FUNC
)
dßÎ
); \

179 
	`LHASH_OF
(
ty³
)

	)

181 
	#IMPLEMENT_LHASH_DOALL_ARG_CONST
(
ty³
, 
¬gty³
) \

182 
	`št_im¶em’t_lhash_dßÎ
(
ty³
, 
¬gty³
, cÚ¡y³)

	)

184 
	#IMPLEMENT_LHASH_DOALL_ARG
(
ty³
, 
¬gty³
) \

185 
	`št_im¶em’t_lhash_dßÎ
(
ty³
, 
¬gty³
,y³)

	)

187 
	#št_im¶em’t_lhash_dßÎ
(
ty³
, 
¬gty³
, 
cb¬gty³
) \

188 
os¦_šlše
 \

189 
lh_
##
ty³
##
_dßÎ_
##
	`¬gty³
(
	`LHASH_OF
Ñy³è*
lh
, \

190 (*
â
)(
cb¬gty³
 *, 
¬gty³
 *), \

191 
¬gty³
 *
¬g
) \

193 
	`OPENSSL_LH_dßÎ_¬g
((
OPENSSL_LHASH
 *)
lh
, (
OPENSSL_LH_DOALL_FUNCARG
)
â
, (*)
¬g
); \

195 
	`LHASH_OF
(
ty³
)

	)

197 
DEFINE_LHASH_OF
(
OPENSSL_STRING
);

198 #ifdeà
_MSC_VER


203 #´agm¨
w¬nšg
 (
push
)

204 #´agm¨
w¬nšg
 (
di§bË
: 4090)

207 
DEFINE_LHASH_OF
(
OPENSSL_CSTRING
);

209 #ifdeà
_MSC_VER


210 #´agm¨
w¬nšg
 (
pİ
)

213 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/objects.h

10 #iâdeà
HEADER_OBJECTS_H


11 
	#HEADER_OBJECTS_H


	)

13 
	~<İ’s¦/obj_mac.h
>

14 
	~<İ’s¦/bio.h
>

15 
	~<İ’s¦/a¢1.h
>

16 
	~<İ’s¦/objeù£¼.h
>

18 
	#OBJ_NAME_TYPE_UNDEF
 0x00

	)

19 
	#OBJ_NAME_TYPE_MD_METH
 0x01

	)

20 
	#OBJ_NAME_TYPE_CIPHER_METH
 0x02

	)

21 
	#OBJ_NAME_TYPE_PKEY_METH
 0x03

	)

22 
	#OBJ_NAME_TYPE_COMP_METH
 0x04

	)

23 
	#OBJ_NAME_TYPE_NUM
 0x05

	)

25 
	#OBJ_NAME_ALIAS
 0x8000

	)

27 
	#OBJ_BSEARCH_VALUE_ON_NOMATCH
 0x01

	)

28 
	#OBJ_BSEARCH_FIRST_VALUE_ON_MATCH
 0x02

	)

31 #ifdeà 
__ılu¥lus


35 
	sobj_Çme_¡
 {

36 
ty³
;

37 
®Ÿs
;

38 cÚ¡ *
Çme
;

39 cÚ¡ *
d©a
;

40 } 
	tOBJ_NAME
;

42 
	#OBJ_ü—‹_ªd_add_objeù
(
a
,
b
,
c
è
	`OBJ_ü—‹
×,b,c)

	)

44 
OBJ_NAME_š™
();

45 
OBJ_NAME_Ãw_šdex
((*
hash_func
) (const *),

46 (*
cmp_func
) (const *, const *),

47 (*
ä“_func
) (const *, , const *));

48 cÚ¡ *
OBJ_NAME_g‘
(cÚ¡ *
Çme
, 
ty³
);

49 
OBJ_NAME_add
(cÚ¡ *
Çme
, 
ty³
, cÚ¡ *
d©a
);

50 
OBJ_NAME_»move
(cÚ¡ *
Çme
, 
ty³
);

51 
OBJ_NAME_ş—nup
(
ty³
);

52 
OBJ_NAME_do_®l
(
ty³
, (*
â
è(cÚ¡ 
OBJ_NAME
 *, *
¬g
),

53 *
¬g
);

54 
OBJ_NAME_do_®l_sÜ‹d
(
ty³
,

55 (*
â
è(cÚ¡ 
OBJ_NAME
 *, *
¬g
),

56 *
¬g
);

58 
ASN1_OBJECT
 *
OBJ_dup
(cÚ¡ ASN1_OBJECT *
o
);

59 
ASN1_OBJECT
 *
OBJ_nid2obj
(
n
);

60 cÚ¡ *
OBJ_nid2Ê
(
n
);

61 cÚ¡ *
OBJ_nid2¢
(
n
);

62 
OBJ_obj2nid
(cÚ¡ 
ASN1_OBJECT
 *
o
);

63 
ASN1_OBJECT
 *
OBJ_txt2obj
(cÚ¡ *
s
, 
no_Çme
);

64 
OBJ_obj2txt
(*
buf
, 
buf_Ën
, cÚ¡ 
ASN1_OBJECT
 *
a
, 
no_Çme
);

65 
OBJ_txt2nid
(cÚ¡ *
s
);

66 
OBJ_Ê2nid
(cÚ¡ *
s
);

67 
OBJ_¢2nid
(cÚ¡ *
s
);

68 
OBJ_cmp
(cÚ¡ 
ASN1_OBJECT
 *
a
, cÚ¡ ASN1_OBJECT *
b
);

69 cÚ¡ *
OBJ_b£¬ch_
(cÚ¡ *
key
, cÚ¡ *
ba£
, 
num
, 
size
,

70 (*
cmp
) (const *, const *));

71 cÚ¡ *
OBJ_b£¬ch_ex_
(cÚ¡ *
key
, cÚ¡ *
ba£
, 
num
,

72 
size
,

73 (*
cmp
) (const *, const *),

74 
æags
);

76 
	#_DECLARE_OBJ_BSEARCH_CMP_FN
(
scİe
, 
ty³1
, 
ty³2
, 
nm
) \

77 
nm
##
	`_cmp_BSEARCH_CMP_FN
(const *, const *); \

78 
nm
##
	`_cmp
(
ty³1
 cÚ¡ *, 
ty³2
 const *); \

79 
scİe
 
ty³2
 * 
OBJ_b£¬ch_
##
	`nm
(
ty³1
 *
key
,y³2 cÚ¡ *
ba£
, 
num
)

	)

81 
	#DECLARE_OBJ_BSEARCH_CMP_FN
(
ty³1
, 
ty³2
, 
cmp
) \

82 
	`_DECLARE_OBJ_BSEARCH_CMP_FN
(, 
ty³1
, 
ty³2
, 
cmp
)

	)

83 
	#DECLARE_OBJ_BSEARCH_GLOBAL_CMP_FN
(
ty³1
, 
ty³2
, 
nm
) \

84 
ty³2
 * 
OBJ_b£¬ch_
##
	`nm
(
ty³1
 *
key
,y³2 cÚ¡ *
ba£
, 
num
)

	)

113 
	#IMPLEMENT_OBJ_BSEARCH_CMP_FN
(
ty³1
, 
ty³2
, 
nm
) \

114 
nm
##
	`_cmp_BSEARCH_CMP_FN
(cÚ¡ *
a_
, cÚ¡ *
b_
) \

116 
ty³1
 cÚ¡ *
a
 = 
a_
; \

117 
ty³2
 cÚ¡ *
b
 = 
b_
; \

118  
nm
##
	`_cmp
(
a
,
b
); \

120 
ty³2
 *
OBJ_b£¬ch_
##
	`nm
(
ty³1
 *
key
,y³2 cÚ¡ *
ba£
, 
num
) \

122  (
ty³2
 *)
	`OBJ_b£¬ch_
(
key
, 
ba£
, 
num
, (type2), \

123 
nm
##
_cmp_BSEARCH_CMP_FN
); \

125 
	`dummy_´ÙÙy³
()

	)

127 
	#IMPLEMENT_OBJ_BSEARCH_GLOBAL_CMP_FN
(
ty³1
, 
ty³2
, 
nm
) \

128 
nm
##
	`_cmp_BSEARCH_CMP_FN
(cÚ¡ *
a_
, cÚ¡ *
b_
) \

130 
ty³1
 cÚ¡ *
a
 = 
a_
; \

131 
ty³2
 cÚ¡ *
b
 = 
b_
; \

132  
nm
##
	`_cmp
(
a
,
b
); \

134 
ty³2
 *
OBJ_b£¬ch_
##
	`nm
(
ty³1
 *
key
,y³2 cÚ¡ *
ba£
, 
num
) \

136  (
ty³2
 *)
	`OBJ_b£¬ch_
(
key
, 
ba£
, 
num
, (type2), \

137 
nm
##
_cmp_BSEARCH_CMP_FN
); \

139 
	`dummy_´ÙÙy³
()

	)

141 
	#OBJ_b£¬ch
(
ty³1
,
key
,
ty³2
,
ba£
,
num
,
cmp
) \

142 ((
ty³2
 *)
	`OBJ_b£¬ch_
(
	`CHECKED_PTR_OF
(
ty³1
,
key
),CHECKED_PTR_OFÑy³2,
ba£
), \

143 
num
,(
ty³2
), \

144 (()
	`CHECKED_PTR_OF
(
ty³1
,
cmp
##
_ty³_1
), \

145 ()
	`CHECKED_PTR_OF
(
ty³2
,
cmp
##
_ty³_2
), \

146 
cmp
##
_BSEARCH_CMP_FN
)))

	)

148 
	#OBJ_b£¬ch_ex
(
ty³1
,
key
,
ty³2
,
ba£
,
num
,
cmp
,
æags
) \

149 ((
ty³2
 *)
	`OBJ_b£¬ch_ex_
(
	`CHECKED_PTR_OF
(
ty³1
,
key
),CHECKED_PTR_OFÑy³2,
ba£
), \

150 
num
,(
ty³2
), \

151 (()
	`CHECKED_PTR_OF
(
ty³1
,
cmp
##
_ty³_1
), \

152 ()
ty³_2
=
	`CHECKED_PTR_OF
(
ty³2
,
cmp
##
_ty³_2
), \

153 
cmp
##
_BSEARCH_CMP_FN
)),
æags
)

	)

155 
OBJ_Ãw_nid
(
num
);

156 
OBJ_add_objeù
(cÚ¡ 
ASN1_OBJECT
 *
obj
);

157 
OBJ_ü—‹
(cÚ¡ *
oid
, cÚ¡ *
¢
, cÚ¡ *
Ê
);

158 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

159 
	#OBJ_ş—nup
(è0è

	)

161 
OBJ_ü—‹_objeùs
(
BIO
 *
š
);

163 
size_t
 
OBJ_Ëngth
(cÚ¡ 
ASN1_OBJECT
 *
obj
);

164 cÚ¡ *
OBJ_g‘0_d©a
(cÚ¡ 
ASN1_OBJECT
 *
obj
);

166 
OBJ_fšd_sigid_®gs
(
signid
, *
pdig_nid
, *
µkey_nid
);

167 
OBJ_fšd_sigid_by_®gs
(*
psignid
, 
dig_nid
, 
pkey_nid
);

168 
OBJ_add_sigid
(
signid
, 
dig_id
, 
pkey_id
);

169 
OBJ_sigid_ä“
();

172 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/opensslv.h

10 #iâdeà
HEADER_OPENSSLV_H


11 
	#HEADER_OPENSSLV_H


	)

13 #ifdeà 
__ılu¥lus


42 
	#OPENSSL_VERSION_NUMBER
 0x1010100fL

	)

43 
	#OPENSSL_VERSION_TEXT
 "O³nSSL 1.1.1 11 S• 2018"

	)

94 
	#SHLIB_VERSION_HISTORY
 ""

	)

95 
	#SHLIB_VERSION_NUMBER
 "1.1"

	)

98 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/pemerr.h

11 #iâdeà
HEADER_PEMERR_H


12 
	#HEADER_PEMERR_H


	)

14 #ifdeà 
__ılu¥lus


17 
ERR_lßd_PEM_¡ršgs
();

22 
	#PEM_F_B2I_DSS
 127

	)

23 
	#PEM_F_B2I_PVK_BIO
 128

	)

24 
	#PEM_F_B2I_RSA
 129

	)

25 
	#PEM_F_CHECK_BITLEN_DSA
 130

	)

26 
	#PEM_F_CHECK_BITLEN_RSA
 131

	)

27 
	#PEM_F_D2I_PKCS8PRIVATEKEY_BIO
 120

	)

28 
	#PEM_F_D2I_PKCS8PRIVATEKEY_FP
 121

	)

29 
	#PEM_F_DO_B2I
 132

	)

30 
	#PEM_F_DO_B2I_BIO
 133

	)

31 
	#PEM_F_DO_BLOB_HEADER
 134

	)

32 
	#PEM_F_DO_I2B
 146

	)

33 
	#PEM_F_DO_PK8PKEY
 126

	)

34 
	#PEM_F_DO_PK8PKEY_FP
 125

	)

35 
	#PEM_F_DO_PVK_BODY
 135

	)

36 
	#PEM_F_DO_PVK_HEADER
 136

	)

37 
	#PEM_F_GET_HEADER_AND_DATA
 143

	)

38 
	#PEM_F_GET_NAME
 144

	)

39 
	#PEM_F_I2B_PVK
 137

	)

40 
	#PEM_F_I2B_PVK_BIO
 138

	)

41 
	#PEM_F_LOAD_IV
 101

	)

42 
	#PEM_F_PEM_ASN1_READ
 102

	)

43 
	#PEM_F_PEM_ASN1_READ_BIO
 103

	)

44 
	#PEM_F_PEM_ASN1_WRITE
 104

	)

45 
	#PEM_F_PEM_ASN1_WRITE_BIO
 105

	)

46 
	#PEM_F_PEM_DEF_CALLBACK
 100

	)

47 
	#PEM_F_PEM_DO_HEADER
 106

	)

48 
	#PEM_F_PEM_GET_EVP_CIPHER_INFO
 107

	)

49 
	#PEM_F_PEM_READ
 108

	)

50 
	#PEM_F_PEM_READ_BIO
 109

	)

51 
	#PEM_F_PEM_READ_BIO_DHPARAMS
 141

	)

52 
	#PEM_F_PEM_READ_BIO_EX
 145

	)

53 
	#PEM_F_PEM_READ_BIO_PARAMETERS
 140

	)

54 
	#PEM_F_PEM_READ_BIO_PRIVATEKEY
 123

	)

55 
	#PEM_F_PEM_READ_DHPARAMS
 142

	)

56 
	#PEM_F_PEM_READ_PRIVATEKEY
 124

	)

57 
	#PEM_F_PEM_SIGNFINAL
 112

	)

58 
	#PEM_F_PEM_WRITE
 113

	)

59 
	#PEM_F_PEM_WRITE_BIO
 114

	)

60 
	#PEM_F_PEM_WRITE_PRIVATEKEY
 139

	)

61 
	#PEM_F_PEM_X509_INFO_READ
 115

	)

62 
	#PEM_F_PEM_X509_INFO_READ_BIO
 116

	)

63 
	#PEM_F_PEM_X509_INFO_WRITE_BIO
 117

	)

68 
	#PEM_R_BAD_BASE64_DECODE
 100

	)

69 
	#PEM_R_BAD_DECRYPT
 101

	)

70 
	#PEM_R_BAD_END_LINE
 102

	)

71 
	#PEM_R_BAD_IV_CHARS
 103

	)

72 
	#PEM_R_BAD_MAGIC_NUMBER
 116

	)

73 
	#PEM_R_BAD_PASSWORD_READ
 104

	)

74 
	#PEM_R_BAD_VERSION_NUMBER
 117

	)

75 
	#PEM_R_BIO_WRITE_FAILURE
 118

	)

76 
	#PEM_R_CIPHER_IS_NULL
 127

	)

77 
	#PEM_R_ERROR_CONVERTING_PRIVATE_KEY
 115

	)

78 
	#PEM_R_EXPECTING_PRIVATE_KEY_BLOB
 119

	)

79 
	#PEM_R_EXPECTING_PUBLIC_KEY_BLOB
 120

	)

80 
	#PEM_R_HEADER_TOO_LONG
 128

	)

81 
	#PEM_R_INCONSISTENT_HEADER
 121

	)

82 
	#PEM_R_KEYBLOB_HEADER_PARSE_ERROR
 122

	)

83 
	#PEM_R_KEYBLOB_TOO_SHORT
 123

	)

84 
	#PEM_R_MISSING_DEK_IV
 129

	)

85 
	#PEM_R_NOT_DEK_INFO
 105

	)

86 
	#PEM_R_NOT_ENCRYPTED
 106

	)

87 
	#PEM_R_NOT_PROC_TYPE
 107

	)

88 
	#PEM_R_NO_START_LINE
 108

	)

89 
	#PEM_R_PROBLEMS_GETTING_PASSWORD
 109

	)

90 
	#PEM_R_PVK_DATA_TOO_SHORT
 124

	)

91 
	#PEM_R_PVK_TOO_SHORT
 125

	)

92 
	#PEM_R_READ_KEY
 111

	)

93 
	#PEM_R_SHORT_HEADER
 112

	)

94 
	#PEM_R_UNEXPECTED_DEK_IV
 130

	)

95 
	#PEM_R_UNSUPPORTED_CIPHER
 113

	)

96 
	#PEM_R_UNSUPPORTED_ENCRYPTION
 114

	)

97 
	#PEM_R_UNSUPPORTED_KEY_COMPONENTS
 126

	)

	@/usr/include/openssl/pkcs7.h

10 #iâdeà
HEADER_PKCS7_H


11 
	#HEADER_PKCS7_H


	)

13 
	~<İ’s¦/a¢1.h
>

14 
	~<İ’s¦/bio.h
>

15 
	~<İ’s¦/e_os2.h
>

17 
	~<İ’s¦/symhacks.h
>

18 
	~<İ’s¦/os¦_typ.h
>

19 
	~<İ’s¦/pkcs7”r.h
>

21 #ifdeà 
__ılu¥lus


32 
	spkcs7_issu”_ªd_£rŸl_¡
 {

33 
X509_NAME
 *
issu”
;

34 
ASN1_INTEGER
 *
£rŸl
;

35 } 
	tPKCS7_ISSUER_AND_SERIAL
;

37 
	spkcs7_sigÃr_šfo_¡
 {

38 
ASN1_INTEGER
 *
v”siÚ
;

39 
PKCS7_ISSUER_AND_SERIAL
 *
issu”_ªd_£rŸl
;

40 
X509_ALGOR
 *
dige¡_®g
;

41 
STACK_OF
(
X509_ATTRIBUTE
è*
auth_©Œ
;

42 
X509_ALGOR
 *
dige¡_’c_®g
;

43 
ASN1_OCTET_STRING
 *
’c_dige¡
;

44 
STACK_OF
(
X509_ATTRIBUTE
è*
uÇuth_©Œ
;

46 
EVP_PKEY
 *
pkey
;

47 } 
	tPKCS7_SIGNER_INFO
;

49 
DEFINE_STACK_OF
(
PKCS7_SIGNER_INFO
)

51 
	spkcs7_»c_šfo_¡
 {

52 
ASN1_INTEGER
 *
v”siÚ
;

53 
PKCS7_ISSUER_AND_SERIAL
 *
issu”_ªd_£rŸl
;

54 
X509_ALGOR
 *
key_’c_®gÜ
;

55 
ASN1_OCTET_STRING
 *
’c_key
;

56 
X509
 *
û¹
;

57 } 
	tPKCS7_RECIP_INFO
;

59 
DEFINE_STACK_OF
(
PKCS7_RECIP_INFO
)

61 
	spkcs7_sigÃd_¡
 {

62 
ASN1_INTEGER
 *
v”siÚ
;

63 
STACK_OF
(
X509_ALGOR
è*
md_®gs
;

64 
STACK_OF
(
X509
è*
û¹
;

65 
STACK_OF
(
X509_CRL
è*
ül
;

66 
STACK_OF
(
PKCS7_SIGNER_INFO
è*
sigÃr_šfo
;

67 
pkcs7_¡
 *
cÚ‹Ás
;

68 } 
	tPKCS7_SIGNED
;

74 
	spkcs7_’c_cÚ‹Á_¡
 {

75 
ASN1_OBJECT
 *
cÚ‹Á_ty³
;

76 
X509_ALGOR
 *
®gÜ™hm
;

77 
ASN1_OCTET_STRING
 *
’c_d©a
;

78 cÚ¡ 
EVP_CIPHER
 *
ch”
;

79 } 
	tPKCS7_ENC_CONTENT
;

81 
	spkcs7_’v–İed_¡
 {

82 
ASN1_INTEGER
 *
v”siÚ
;

83 
STACK_OF
(
PKCS7_RECIP_INFO
è*
»c›Ášfo
;

84 
PKCS7_ENC_CONTENT
 *
’c_d©a
;

85 } 
	tPKCS7_ENVELOPE
;

87 
	spkcs7_sigÃdªd’v–İed_¡
 {

88 
ASN1_INTEGER
 *
v”siÚ
;

89 
STACK_OF
(
X509_ALGOR
è*
md_®gs
;

90 
STACK_OF
(
X509
è*
û¹
;

91 
STACK_OF
(
X509_CRL
è*
ül
;

92 
STACK_OF
(
PKCS7_SIGNER_INFO
è*
sigÃr_šfo
;

93 
PKCS7_ENC_CONTENT
 *
’c_d©a
;

94 
STACK_OF
(
PKCS7_RECIP_INFO
è*
»c›Ášfo
;

95 } 
	tPKCS7_SIGN_ENVELOPE
;

97 
	spkcs7_dige¡_¡
 {

98 
ASN1_INTEGER
 *
v”siÚ
;

99 
X509_ALGOR
 *
md
;

100 
pkcs7_¡
 *
cÚ‹Ás
;

101 
ASN1_OCTET_STRING
 *
dige¡
;

102 } 
	tPKCS7_DIGEST
;

104 
	spkcs7_’üy±ed_¡
 {

105 
ASN1_INTEGER
 *
v”siÚ
;

106 
PKCS7_ENC_CONTENT
 *
’c_d©a
;

107 } 
	tPKCS7_ENCRYPT
;

109 
	spkcs7_¡
 {

114 *
a¢1
;

115 
Ëngth
;

116 
	#PKCS7_S_HEADER
 0

	)

117 
	#PKCS7_S_BODY
 1

	)

118 
	#PKCS7_S_TAIL
 2

	)

119 
¡©e
;

120 
d‘ached
;

121 
ASN1_OBJECT
 *
ty³
;

128 *
±r
;

130 
ASN1_OCTET_STRING
 *
d©a
;

132 
PKCS7_SIGNED
 *
sign
;

134 
PKCS7_ENVELOPE
 *
’v–İed
;

136 
PKCS7_SIGN_ENVELOPE
 *
sigÃd_ªd_’v–İed
;

138 
PKCS7_DIGEST
 *
dige¡
;

140 
PKCS7_ENCRYPT
 *
’üy±ed
;

142 
ASN1_TYPE
 *
Ùh”
;

143 } 
d
;

144 } 
	tPKCS7
;

146 
DEFINE_STACK_OF
(
PKCS7
)

148 
	#PKCS7_OP_SET_DETACHED_SIGNATURE
 1

	)

149 
	#PKCS7_OP_GET_DETACHED_SIGNATURE
 2

	)

151 
	#PKCS7_g‘_sigÃd_©Œibu‹s
(
si
è((si)->
auth_©Œ
)

	)

152 
	#PKCS7_g‘_©Œibu‹s
(
si
è((si)->
uÇuth_©Œ
)

	)

154 
	#PKCS7_ty³_is_sigÃd
(
a
è(
	`OBJ_obj2nid
(×)->
ty³
è=ğ
NID_pkcs7_sigÃd
)

	)

155 
	#PKCS7_ty³_is_’üy±ed
(
a
è(
	`OBJ_obj2nid
(×)->
ty³
è=ğ
NID_pkcs7_’üy±ed
)

	)

156 
	#PKCS7_ty³_is_’v–İed
(
a
è(
	`OBJ_obj2nid
(×)->
ty³
è=ğ
NID_pkcs7_’v–İed
)

	)

157 
	#PKCS7_ty³_is_sigÃdAndEnv–İed
(
a
) \

158 (
	`OBJ_obj2nid
((
a
)->
ty³
è=ğ
NID_pkcs7_sigÃdAndEnv–İed
)

	)

159 
	#PKCS7_ty³_is_d©a
(
a
è(
	`OBJ_obj2nid
(×)->
ty³
è=ğ
NID_pkcs7_d©a
)

	)

160 
	#PKCS7_ty³_is_dige¡
(
a
è(
	`OBJ_obj2nid
(×)->
ty³
è=ğ
NID_pkcs7_dige¡
)

	)

162 
	#PKCS7_£t_d‘ached
(
p
,
v
) \

163 
	`PKCS7_ù¾
(
p
,
PKCS7_OP_SET_DETACHED_SIGNATURE
,
v
,
NULL
)

	)

164 
	#PKCS7_g‘_d‘ached
(
p
) \

165 
	`PKCS7_ù¾
(
p
,
PKCS7_OP_GET_DETACHED_SIGNATURE
,0,
NULL
)

	)

167 
	#PKCS7_is_d‘ached
(
p7
è(
	`PKCS7_ty³_is_sigÃd
Õ7è&& 
	`PKCS7_g‘_d‘ached
Õ7))

	)

171 
	#PKCS7_TEXT
 0x1

	)

172 
	#PKCS7_NOCERTS
 0x2

	)

173 
	#PKCS7_NOSIGS
 0x4

	)

174 
	#PKCS7_NOCHAIN
 0x8

	)

175 
	#PKCS7_NOINTERN
 0x10

	)

176 
	#PKCS7_NOVERIFY
 0x20

	)

177 
	#PKCS7_DETACHED
 0x40

	)

178 
	#PKCS7_BINARY
 0x80

	)

179 
	#PKCS7_NOATTR
 0x100

	)

180 
	#PKCS7_NOSMIMECAP
 0x200

	)

181 
	#PKCS7_NOOLDMIMETYPE
 0x400

	)

182 
	#PKCS7_CRLFEOL
 0x800

	)

183 
	#PKCS7_STREAM
 0x1000

	)

184 
	#PKCS7_NOCRL
 0x2000

	)

185 
	#PKCS7_PARTIAL
 0x4000

	)

186 
	#PKCS7_REUSE_DIGEST
 0x8000

	)

187 
	#PKCS7_NO_DUAL_CONTENT
 0x10000

	)

191 
	#SMIME_TEXT
 
PKCS7_TEXT


	)

192 
	#SMIME_NOCERTS
 
PKCS7_NOCERTS


	)

193 
	#SMIME_NOSIGS
 
PKCS7_NOSIGS


	)

194 
	#SMIME_NOCHAIN
 
PKCS7_NOCHAIN


	)

195 
	#SMIME_NOINTERN
 
PKCS7_NOINTERN


	)

196 
	#SMIME_NOVERIFY
 
PKCS7_NOVERIFY


	)

197 
	#SMIME_DETACHED
 
PKCS7_DETACHED


	)

198 
	#SMIME_BINARY
 
PKCS7_BINARY


	)

199 
	#SMIME_NOATTR
 
PKCS7_NOATTR


	)

202 
	#SMIME_ASCIICRLF
 0x80000

	)

204 
DECLARE_ASN1_FUNCTIONS
(
PKCS7_ISSUER_AND_SERIAL
)

206 
PKCS7_ISSUER_AND_SERIAL_dige¡
(
PKCS7_ISSUER_AND_SERIAL
 *
d©a
,

207 cÚ¡ 
EVP_MD
 *
ty³
, *
md
,

208 *
Ën
);

209 #iâdeà
OPENSSL_NO_STDIO


210 
PKCS7
 *
d2i_PKCS7_å
(
FILE
 *
å
, PKCS7 **
p7
);

211 
i2d_PKCS7_å
(
FILE
 *
å
, 
PKCS7
 *
p7
);

213 
PKCS7
 *
PKCS7_dup
(PKCS7 *
p7
);

214 
PKCS7
 *
d2i_PKCS7_bio
(
BIO
 *
bp
, PKCS7 **
p7
);

215 
i2d_PKCS7_bio
(
BIO
 *
bp
, 
PKCS7
 *
p7
);

216 
i2d_PKCS7_bio_¡»am
(
BIO
 *
out
, 
PKCS7
 *
p7
, BIO *
š
, 
æags
);

217 
PEM_wr™e_bio_PKCS7_¡»am
(
BIO
 *
out
, 
PKCS7
 *
p7
, BIO *
š
, 
æags
);

219 
DECLARE_ASN1_FUNCTIONS
(
PKCS7_SIGNER_INFO
)

220 
DECLARE_ASN1_FUNCTIONS
(
PKCS7_RECIP_INFO
)

221 
DECLARE_ASN1_FUNCTIONS
(
PKCS7_SIGNED
)

222 
DECLARE_ASN1_FUNCTIONS
(
PKCS7_ENC_CONTENT
)

223 
DECLARE_ASN1_FUNCTIONS
(
PKCS7_ENVELOPE
)

224 
DECLARE_ASN1_FUNCTIONS
(
PKCS7_SIGN_ENVELOPE
)

225 
DECLARE_ASN1_FUNCTIONS
(
PKCS7_DIGEST
)

226 
DECLARE_ASN1_FUNCTIONS
(
PKCS7_ENCRYPT
)

227 
DECLARE_ASN1_FUNCTIONS
(
PKCS7
)

229 
DECLARE_ASN1_ITEM
(
PKCS7_ATTR_SIGN
)

230 
DECLARE_ASN1_ITEM
(
PKCS7_ATTR_VERIFY
)

232 
DECLARE_ASN1_NDEF_FUNCTION
(
PKCS7
)

233 
DECLARE_ASN1_PRINT_FUNCTION
(
PKCS7
)

235 
PKCS7_ù¾
(
PKCS7
 *
p7
, 
cmd
, 
Ïrg
, *
·rg
);

237 
PKCS7_£t_ty³
(
PKCS7
 *
p7
, 
ty³
);

238 
PKCS7_£t0_ty³_Ùh”
(
PKCS7
 *
p7
, 
ty³
, 
ASN1_TYPE
 *
Ùh”
);

239 
PKCS7_£t_cÚ‹Á
(
PKCS7
 *
p7
, PKCS7 *
p7_d©a
);

240 
PKCS7_SIGNER_INFO_£t
(
PKCS7_SIGNER_INFO
 *
p7i
, 
X509
 *
x509
, 
EVP_PKEY
 *
pkey
,

241 cÚ¡ 
EVP_MD
 *
dg¡
);

242 
PKCS7_SIGNER_INFO_sign
(
PKCS7_SIGNER_INFO
 *
si
);

243 
PKCS7_add_sigÃr
(
PKCS7
 *
p7
, 
PKCS7_SIGNER_INFO
 *
p7i
);

244 
PKCS7_add_û¹ifiÿ‹
(
PKCS7
 *
p7
, 
X509
 *
x509
);

245 
PKCS7_add_ül
(
PKCS7
 *
p7
, 
X509_CRL
 *
x509
);

246 
PKCS7_cÚ‹Á_Ãw
(
PKCS7
 *
p7
, 
nid
);

247 
PKCS7_d©aV”ify
(
X509_STORE
 *
û¹_¡Üe
, 
X509_STORE_CTX
 *
ùx
,

248 
BIO
 *
bio
, 
PKCS7
 *
p7
, 
PKCS7_SIGNER_INFO
 *
si
);

249 
PKCS7_sigÇtu»V”ify
(
BIO
 *
bio
, 
PKCS7
 *
p7
, 
PKCS7_SIGNER_INFO
 *
si
,

250 
X509
 *
x509
);

252 
BIO
 *
PKCS7_d©aIn™
(
PKCS7
 *
p7
, BIO *
bio
);

253 
PKCS7_d©aFš®
(
PKCS7
 *
p7
, 
BIO
 *
bio
);

254 
BIO
 *
PKCS7_d©aDecode
(
PKCS7
 *
p7
, 
EVP_PKEY
 *
pkey
, BIO *
š_bio
, 
X509
 *
pû¹
);

256 
PKCS7_SIGNER_INFO
 *
PKCS7_add_sigÇtu»
(
PKCS7
 *
p7
, 
X509
 *
x509
,

257 
EVP_PKEY
 *
pkey
, cÚ¡ 
EVP_MD
 *
dg¡
);

258 
X509
 *
PKCS7_û¹_äom_sigÃr_šfo
(
PKCS7
 *
p7
, 
PKCS7_SIGNER_INFO
 *
si
);

259 
PKCS7_£t_dige¡
(
PKCS7
 *
p7
, cÚ¡ 
EVP_MD
 *
md
);

260 
STACK_OF
(
PKCS7_SIGNER_INFO
è*
PKCS7_g‘_sigÃr_šfo
(
PKCS7
 *
p7
);

262 
PKCS7_RECIP_INFO
 *
PKCS7_add_»c›Á
(
PKCS7
 *
p7
, 
X509
 *
x509
);

263 
PKCS7_SIGNER_INFO_g‘0_®gs
(
PKCS7_SIGNER_INFO
 *
si
, 
EVP_PKEY
 **
pk
,

264 
X509_ALGOR
 **
pdig
, X509_ALGOR **
psig
);

265 
PKCS7_RECIP_INFO_g‘0_®g
(
PKCS7_RECIP_INFO
 *
ri
, 
X509_ALGOR
 **
³nc
);

266 
PKCS7_add_»c›Á_šfo
(
PKCS7
 *
p7
, 
PKCS7_RECIP_INFO
 *
ri
);

267 
PKCS7_RECIP_INFO_£t
(
PKCS7_RECIP_INFO
 *
p7i
, 
X509
 *
x509
);

268 
PKCS7_£t_ch”
(
PKCS7
 *
p7
, cÚ¡ 
EVP_CIPHER
 *
ch”
);

269 
PKCS7_¡»am
(***
bound¬y
, 
PKCS7
 *
p7
);

271 
PKCS7_ISSUER_AND_SERIAL
 *
PKCS7_g‘_issu”_ªd_£rŸl
(
PKCS7
 *
p7
, 
idx
);

272 
ASN1_OCTET_STRING
 *
PKCS7_dige¡_äom_©Œibu‹s
(
STACK_OF
(
X509_ATTRIBUTE
è*
sk
);

273 
PKCS7_add_sigÃd_©Œibu‹
(
PKCS7_SIGNER_INFO
 *
p7si
, 
nid
, 
ty³
,

274 *
d©a
);

275 
PKCS7_add_©Œibu‹
(
PKCS7_SIGNER_INFO
 *
p7si
, 
nid
, 
©¹y³
,

276 *
v®ue
);

277 
ASN1_TYPE
 *
PKCS7_g‘_©Œibu‹
(
PKCS7_SIGNER_INFO
 *
si
, 
nid
);

278 
ASN1_TYPE
 *
PKCS7_g‘_sigÃd_©Œibu‹
(
PKCS7_SIGNER_INFO
 *
si
, 
nid
);

279 
PKCS7_£t_sigÃd_©Œibu‹s
(
PKCS7_SIGNER_INFO
 *
p7si
,

280 
STACK_OF
(
X509_ATTRIBUTE
è*
sk
);

281 
PKCS7_£t_©Œibu‹s
(
PKCS7_SIGNER_INFO
 *
p7si
,

282 
STACK_OF
(
X509_ATTRIBUTE
è*
sk
);

284 
PKCS7
 *
PKCS7_sign
(
X509
 *
signû¹
, 
EVP_PKEY
 *
pkey
, 
STACK_OF
(X509è*
û¹s
,

285 
BIO
 *
d©a
, 
æags
);

287 
PKCS7_SIGNER_INFO
 *
PKCS7_sign_add_sigÃr
(
PKCS7
 *
p7
,

288 
X509
 *
signû¹
, 
EVP_PKEY
 *
pkey
,

289 cÚ¡ 
EVP_MD
 *
md
, 
æags
);

291 
PKCS7_fš®
(
PKCS7
 *
p7
, 
BIO
 *
d©a
, 
æags
);

292 
PKCS7_v”ify
(
PKCS7
 *
p7
, 
STACK_OF
(
X509
è*
û¹s
, 
X509_STORE
 *
¡Üe
,

293 
BIO
 *
šd©a
, BIO *
out
, 
æags
);

294 
STACK_OF
(
X509
è*
PKCS7_g‘0_sigÃrs
(
PKCS7
 *
p7
, STACK_OF(X509è*
û¹s
,

295 
æags
);

296 
PKCS7
 *
PKCS7_’üy±
(
STACK_OF
(
X509
è*
û¹s
, 
BIO
 *
š
, cÚ¡ 
EVP_CIPHER
 *
ch”
,

297 
æags
);

298 
PKCS7_deüy±
(
PKCS7
 *
p7
, 
EVP_PKEY
 *
pkey
, 
X509
 *
û¹
, 
BIO
 *
d©a
,

299 
æags
);

301 
PKCS7_add_©Œib_smimeÿp
(
PKCS7_SIGNER_INFO
 *
si
,

302 
STACK_OF
(
X509_ALGOR
è*
ÿp
);

303 
STACK_OF
(
X509_ALGOR
è*
PKCS7_g‘_smimeÿp
(
PKCS7_SIGNER_INFO
 *
si
);

304 
PKCS7_sim¶e_smimeÿp
(
STACK_OF
(
X509_ALGOR
è*
sk
, 
nid
, 
¬g
);

306 
PKCS7_add_©Œib_cÚ‹Á_ty³
(
PKCS7_SIGNER_INFO
 *
si
, 
ASN1_OBJECT
 *
coid
);

307 
PKCS7_add0_©Œib_signšg_time
(
PKCS7_SIGNER_INFO
 *
si
, 
ASN1_TIME
 *
t
);

308 
PKCS7_add1_©Œib_dige¡
(
PKCS7_SIGNER_INFO
 *
si
,

309 cÚ¡ *
md
, 
mdËn
);

311 
SMIME_wr™e_PKCS7
(
BIO
 *
bio
, 
PKCS7
 *
p7
, BIO *
d©a
, 
æags
);

312 
PKCS7
 *
SMIME_»ad_PKCS7
(
BIO
 *
bio
, BIO **
bcÚt
);

314 
BIO
 *
BIO_Ãw_PKCS7
(BIO *
out
, 
PKCS7
 *
p7
);

316 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/randerr.h

11 #iâdeà
HEADER_RANDERR_H


12 
	#HEADER_RANDERR_H


	)

14 #ifdeà 
__ılu¥lus


17 
ERR_lßd_RAND_¡ršgs
();

22 
	#RAND_F_DRBG_BYTES
 101

	)

23 
	#RAND_F_DRBG_GET_ENTROPY
 105

	)

24 
	#RAND_F_DRBG_SETUP
 117

	)

25 
	#RAND_F_GET_ENTROPY
 106

	)

26 
	#RAND_F_RAND_BYTES
 100

	)

27 
	#RAND_F_RAND_DRBG_ENABLE_LOCKING
 119

	)

28 
	#RAND_F_RAND_DRBG_GENERATE
 107

	)

29 
	#RAND_F_RAND_DRBG_GET_ENTROPY
 120

	)

30 
	#RAND_F_RAND_DRBG_GET_NONCE
 123

	)

31 
	#RAND_F_RAND_DRBG_INSTANTIATE
 108

	)

32 
	#RAND_F_RAND_DRBG_NEW
 109

	)

33 
	#RAND_F_RAND_DRBG_RESEED
 110

	)

34 
	#RAND_F_RAND_DRBG_RESTART
 102

	)

35 
	#RAND_F_RAND_DRBG_SET
 104

	)

36 
	#RAND_F_RAND_DRBG_SET_DEFAULTS
 121

	)

37 
	#RAND_F_RAND_DRBG_UNINSTANTIATE
 118

	)

38 
	#RAND_F_RAND_LOAD_FILE
 111

	)

39 
	#RAND_F_RAND_POOL_ACQUIRE_ENTROPY
 122

	)

40 
	#RAND_F_RAND_POOL_ADD
 103

	)

41 
	#RAND_F_RAND_POOL_ADD_BEGIN
 113

	)

42 
	#RAND_F_RAND_POOL_ADD_END
 114

	)

43 
	#RAND_F_RAND_POOL_BYTES_NEEDED
 115

	)

44 
	#RAND_F_RAND_POOL_NEW
 116

	)

45 
	#RAND_F_RAND_WRITE_FILE
 112

	)

50 
	#RAND_R_ADDITIONAL_INPUT_TOO_LONG
 102

	)

51 
	#RAND_R_ALREADY_INSTANTIATED
 103

	)

52 
	#RAND_R_ARGUMENT_OUT_OF_RANGE
 105

	)

53 
	#RAND_R_CANNOT_OPEN_FILE
 121

	)

54 
	#RAND_R_DRBG_ALREADY_INITIALIZED
 129

	)

55 
	#RAND_R_DRBG_NOT_INITIALISED
 104

	)

56 
	#RAND_R_ENTROPY_INPUT_TOO_LONG
 106

	)

57 
	#RAND_R_ENTROPY_OUT_OF_RANGE
 124

	)

58 
	#RAND_R_ERROR_ENTROPY_POOL_WAS_IGNORED
 127

	)

59 
	#RAND_R_ERROR_INITIALISING_DRBG
 107

	)

60 
	#RAND_R_ERROR_INSTANTIATING_DRBG
 108

	)

61 
	#RAND_R_ERROR_RETRIEVING_ADDITIONAL_INPUT
 109

	)

62 
	#RAND_R_ERROR_RETRIEVING_ENTROPY
 110

	)

63 
	#RAND_R_ERROR_RETRIEVING_NONCE
 111

	)

64 
	#RAND_R_FAILED_TO_CREATE_LOCK
 126

	)

65 
	#RAND_R_FUNC_NOT_IMPLEMENTED
 101

	)

66 
	#RAND_R_FWRITE_ERROR
 123

	)

67 
	#RAND_R_GENERATE_ERROR
 112

	)

68 
	#RAND_R_INTERNAL_ERROR
 113

	)

69 
	#RAND_R_IN_ERROR_STATE
 114

	)

70 
	#RAND_R_NOT_A_REGULAR_FILE
 122

	)

71 
	#RAND_R_NOT_INSTANTIATED
 115

	)

72 
	#RAND_R_NO_DRBG_IMPLEMENTATION_SELECTED
 128

	)

73 
	#RAND_R_PARENT_LOCKING_NOT_ENABLED
 130

	)

74 
	#RAND_R_PARENT_STRENGTH_TOO_WEAK
 131

	)

75 
	#RAND_R_PERSONALISATION_STRING_TOO_LONG
 116

	)

76 
	#RAND_R_PREDICTION_RESISTANCE_NOT_SUPPORTED
 133

	)

77 
	#RAND_R_PRNG_NOT_SEEDED
 100

	)

78 
	#RAND_R_RANDOM_POOL_OVERFLOW
 125

	)

79 
	#RAND_R_RANDOM_POOL_UNDERFLOW
 134

	)

80 
	#RAND_R_REQUEST_TOO_LARGE_FOR_DRBG
 117

	)

81 
	#RAND_R_RESEED_ERROR
 118

	)

82 
	#RAND_R_SELFTEST_FAILURE
 119

	)

83 
	#RAND_R_TOO_LITTLE_NONCE_REQUESTED
 135

	)

84 
	#RAND_R_TOO_MUCH_NONCE_REQUESTED
 136

	)

85 
	#RAND_R_UNSUPPORTED_DRBG_FLAGS
 132

	)

86 
	#RAND_R_UNSUPPORTED_DRBG_TYPE
 120

	)

	@/usr/include/openssl/rsaerr.h

11 #iâdeà
HEADER_RSAERR_H


12 
	#HEADER_RSAERR_H


	)

14 #ifdeà 
__ılu¥lus


17 
ERR_lßd_RSA_¡ršgs
();

22 
	#RSA_F_CHECK_PADDING_MD
 140

	)

23 
	#RSA_F_ENCODE_PKCS1
 146

	)

24 
	#RSA_F_INT_RSA_VERIFY
 145

	)

25 
	#RSA_F_OLD_RSA_PRIV_DECODE
 147

	)

26 
	#RSA_F_PKEY_PSS_INIT
 165

	)

27 
	#RSA_F_PKEY_RSA_CTRL
 143

	)

28 
	#RSA_F_PKEY_RSA_CTRL_STR
 144

	)

29 
	#RSA_F_PKEY_RSA_SIGN
 142

	)

30 
	#RSA_F_PKEY_RSA_VERIFY
 149

	)

31 
	#RSA_F_PKEY_RSA_VERIFYRECOVER
 141

	)

32 
	#RSA_F_RSA_ALGOR_TO_MD
 156

	)

33 
	#RSA_F_RSA_BUILTIN_KEYGEN
 129

	)

34 
	#RSA_F_RSA_CHECK_KEY
 123

	)

35 
	#RSA_F_RSA_CHECK_KEY_EX
 160

	)

36 
	#RSA_F_RSA_CMS_DECRYPT
 159

	)

37 
	#RSA_F_RSA_CMS_VERIFY
 158

	)

38 
	#RSA_F_RSA_ITEM_VERIFY
 148

	)

39 
	#RSA_F_RSA_METH_DUP
 161

	)

40 
	#RSA_F_RSA_METH_NEW
 162

	)

41 
	#RSA_F_RSA_METH_SET1_NAME
 163

	)

42 
	#RSA_F_RSA_MGF1_TO_MD
 157

	)

43 
	#RSA_F_RSA_MULTIP_INFO_NEW
 166

	)

44 
	#RSA_F_RSA_NEW_METHOD
 106

	)

45 
	#RSA_F_RSA_NULL
 124

	)

46 
	#RSA_F_RSA_NULL_PRIVATE_DECRYPT
 132

	)

47 
	#RSA_F_RSA_NULL_PRIVATE_ENCRYPT
 133

	)

48 
	#RSA_F_RSA_NULL_PUBLIC_DECRYPT
 134

	)

49 
	#RSA_F_RSA_NULL_PUBLIC_ENCRYPT
 135

	)

50 
	#RSA_F_RSA_OSSL_PRIVATE_DECRYPT
 101

	)

51 
	#RSA_F_RSA_OSSL_PRIVATE_ENCRYPT
 102

	)

52 
	#RSA_F_RSA_OSSL_PUBLIC_DECRYPT
 103

	)

53 
	#RSA_F_RSA_OSSL_PUBLIC_ENCRYPT
 104

	)

54 
	#RSA_F_RSA_PADDING_ADD_NONE
 107

	)

55 
	#RSA_F_RSA_PADDING_ADD_PKCS1_OAEP
 121

	)

56 
	#RSA_F_RSA_PADDING_ADD_PKCS1_OAEP_MGF1
 154

	)

57 
	#RSA_F_RSA_PADDING_ADD_PKCS1_PSS
 125

	)

58 
	#RSA_F_RSA_PADDING_ADD_PKCS1_PSS_MGF1
 152

	)

59 
	#RSA_F_RSA_PADDING_ADD_PKCS1_TYPE_1
 108

	)

60 
	#RSA_F_RSA_PADDING_ADD_PKCS1_TYPE_2
 109

	)

61 
	#RSA_F_RSA_PADDING_ADD_SSLV23
 110

	)

62 
	#RSA_F_RSA_PADDING_ADD_X931
 127

	)

63 
	#RSA_F_RSA_PADDING_CHECK_NONE
 111

	)

64 
	#RSA_F_RSA_PADDING_CHECK_PKCS1_OAEP
 122

	)

65 
	#RSA_F_RSA_PADDING_CHECK_PKCS1_OAEP_MGF1
 153

	)

66 
	#RSA_F_RSA_PADDING_CHECK_PKCS1_TYPE_1
 112

	)

67 
	#RSA_F_RSA_PADDING_CHECK_PKCS1_TYPE_2
 113

	)

68 
	#RSA_F_RSA_PADDING_CHECK_SSLV23
 114

	)

69 
	#RSA_F_RSA_PADDING_CHECK_X931
 128

	)

70 
	#RSA_F_RSA_PARAM_DECODE
 164

	)

71 
	#RSA_F_RSA_PRINT
 115

	)

72 
	#RSA_F_RSA_PRINT_FP
 116

	)

73 
	#RSA_F_RSA_PRIV_DECODE
 150

	)

74 
	#RSA_F_RSA_PRIV_ENCODE
 138

	)

75 
	#RSA_F_RSA_PSS_GET_PARAM
 151

	)

76 
	#RSA_F_RSA_PSS_TO_CTX
 155

	)

77 
	#RSA_F_RSA_PUB_DECODE
 139

	)

78 
	#RSA_F_RSA_SETUP_BLINDING
 136

	)

79 
	#RSA_F_RSA_SIGN
 117

	)

80 
	#RSA_F_RSA_SIGN_ASN1_OCTET_STRING
 118

	)

81 
	#RSA_F_RSA_VERIFY
 119

	)

82 
	#RSA_F_RSA_VERIFY_ASN1_OCTET_STRING
 120

	)

83 
	#RSA_F_RSA_VERIFY_PKCS1_PSS_MGF1
 126

	)

84 
	#RSA_F_SETUP_TBUF
 167

	)

89 
	#RSA_R_ALGORITHM_MISMATCH
 100

	)

90 
	#RSA_R_BAD_E_VALUE
 101

	)

91 
	#RSA_R_BAD_FIXED_HEADER_DECRYPT
 102

	)

92 
	#RSA_R_BAD_PAD_BYTE_COUNT
 103

	)

93 
	#RSA_R_BAD_SIGNATURE
 104

	)

94 
	#RSA_R_BLOCK_TYPE_IS_NOT_01
 106

	)

95 
	#RSA_R_BLOCK_TYPE_IS_NOT_02
 107

	)

96 
	#RSA_R_DATA_GREATER_THAN_MOD_LEN
 108

	)

97 
	#RSA_R_DATA_TOO_LARGE
 109

	)

98 
	#RSA_R_DATA_TOO_LARGE_FOR_KEY_SIZE
 110

	)

99 
	#RSA_R_DATA_TOO_LARGE_FOR_MODULUS
 132

	)

100 
	#RSA_R_DATA_TOO_SMALL
 111

	)

101 
	#RSA_R_DATA_TOO_SMALL_FOR_KEY_SIZE
 122

	)

102 
	#RSA_R_DIGEST_DOES_NOT_MATCH
 158

	)

103 
	#RSA_R_DIGEST_NOT_ALLOWED
 145

	)

104 
	#RSA_R_DIGEST_TOO_BIG_FOR_RSA_KEY
 112

	)

105 
	#RSA_R_DMP1_NOT_CONGRUENT_TO_D
 124

	)

106 
	#RSA_R_DMQ1_NOT_CONGRUENT_TO_D
 125

	)

107 
	#RSA_R_D_E_NOT_CONGRUENT_TO_1
 123

	)

108 
	#RSA_R_FIRST_OCTET_INVALID
 133

	)

109 
	#RSA_R_ILLEGAL_OR_UNSUPPORTED_PADDING_MODE
 144

	)

110 
	#RSA_R_INVALID_DIGEST
 157

	)

111 
	#RSA_R_INVALID_DIGEST_LENGTH
 143

	)

112 
	#RSA_R_INVALID_HEADER
 137

	)

113 
	#RSA_R_INVALID_LABEL
 160

	)

114 
	#RSA_R_INVALID_MESSAGE_LENGTH
 131

	)

115 
	#RSA_R_INVALID_MGF1_MD
 156

	)

116 
	#RSA_R_INVALID_MULTI_PRIME_KEY
 167

	)

117 
	#RSA_R_INVALID_OAEP_PARAMETERS
 161

	)

118 
	#RSA_R_INVALID_PADDING
 138

	)

119 
	#RSA_R_INVALID_PADDING_MODE
 141

	)

120 
	#RSA_R_INVALID_PSS_PARAMETERS
 149

	)

121 
	#RSA_R_INVALID_PSS_SALTLEN
 146

	)

122 
	#RSA_R_INVALID_SALT_LENGTH
 150

	)

123 
	#RSA_R_INVALID_TRAILER
 139

	)

124 
	#RSA_R_INVALID_X931_DIGEST
 142

	)

125 
	#RSA_R_IQMP_NOT_INVERSE_OF_Q
 126

	)

126 
	#RSA_R_KEY_PRIME_NUM_INVALID
 165

	)

127 
	#RSA_R_KEY_SIZE_TOO_SMALL
 120

	)

128 
	#RSA_R_LAST_OCTET_INVALID
 134

	)

129 
	#RSA_R_MGF1_DIGEST_NOT_ALLOWED
 152

	)

130 
	#RSA_R_MODULUS_TOO_LARGE
 105

	)

131 
	#RSA_R_MP_COEFFICIENT_NOT_INVERSE_OF_R
 168

	)

132 
	#RSA_R_MP_EXPONENT_NOT_CONGRUENT_TO_D
 169

	)

133 
	#RSA_R_MP_R_NOT_PRIME
 170

	)

134 
	#RSA_R_NO_PUBLIC_EXPONENT
 140

	)

135 
	#RSA_R_NULL_BEFORE_BLOCK_MISSING
 113

	)

136 
	#RSA_R_N_DOES_NOT_EQUAL_PRODUCT_OF_PRIMES
 172

	)

137 
	#RSA_R_N_DOES_NOT_EQUAL_P_Q
 127

	)

138 
	#RSA_R_OAEP_DECODING_ERROR
 121

	)

139 
	#RSA_R_OPERATION_NOT_SUPPORTED_FOR_THIS_KEYTYPE
 148

	)

140 
	#RSA_R_PADDING_CHECK_FAILED
 114

	)

141 
	#RSA_R_PKCS_DECODING_ERROR
 159

	)

142 
	#RSA_R_PSS_SALTLEN_TOO_SMALL
 164

	)

143 
	#RSA_R_P_NOT_PRIME
 128

	)

144 
	#RSA_R_Q_NOT_PRIME
 129

	)

145 
	#RSA_R_RSA_OPERATIONS_NOT_SUPPORTED
 130

	)

146 
	#RSA_R_SLEN_CHECK_FAILED
 136

	)

147 
	#RSA_R_SLEN_RECOVERY_FAILED
 135

	)

148 
	#RSA_R_SSLV3_ROLLBACK_ATTACK
 115

	)

149 
	#RSA_R_THE_ASN1_OBJECT_IDENTIFIER_IS_NOT_KNOWN_FOR_THIS_MD
 116

	)

150 
	#RSA_R_UNKNOWN_ALGORITHM_TYPE
 117

	)

151 
	#RSA_R_UNKNOWN_DIGEST
 166

	)

152 
	#RSA_R_UNKNOWN_MASK_DIGEST
 151

	)

153 
	#RSA_R_UNKNOWN_PADDING_TYPE
 118

	)

154 
	#RSA_R_UNSUPPORTED_ENCRYPTION_TYPE
 162

	)

155 
	#RSA_R_UNSUPPORTED_LABEL_SOURCE
 163

	)

156 
	#RSA_R_UNSUPPORTED_MASK_ALGORITHM
 153

	)

157 
	#RSA_R_UNSUPPORTED_MASK_PARAMETER
 154

	)

158 
	#RSA_R_UNSUPPORTED_SIGNATURE_TYPE
 155

	)

159 
	#RSA_R_VALUE_MISSING
 147

	)

160 
	#RSA_R_WRONG_SIGNATURE_LENGTH
 119

	)

	@/usr/include/openssl/safestack.h

10 #iâdeà
HEADER_SAFESTACK_H


11 
	#HEADER_SAFESTACK_H


	)

13 
	~<İ’s¦/¡ack.h
>

14 
	~<İ’s¦/e_os2.h
>

16 #ifdeà
__ılu¥lus


20 
	#STACK_OF
(
ty³
è
¡ack_¡_
##
	)
type

22 
	#SKM_DEFINE_STACK_OF
(
t1
, 
t2
, 
t3
) \

23 
	`STACK_OF
(
t1
); \

24 (*
	tsk_
##
	tt1
##
	t_compfunc
)(cÚ¡ 
	tt3
 * cÚ¡ *
	ta
, cÚ¡3 *cÚ¡ *
	tb
); \

25 (*
	tsk_
##
	tt1
##
	t_ä“func
)(
	tt3
 *
	ta
); \

26 
t3
 * (*
	tsk_
##
	tt1
##
	t_cİyfunc
)(cÚ¡ 
	tt3
 *
	ta
); \

27 
os¦_šlše
 
sk_
##
t1
##
	`_num
(cÚ¡ 
	`STACK_OF
Ñ1è*
sk
) \

29  
	`OPENSSL_sk_num
((cÚ¡ 
OPENSSL_STACK
 *)
sk
); \

31 
os¦_šlše
 
t2
 *
sk_
##
t1
##
	`_v®ue
(cÚ¡ 
	`STACK_OF
Ñ1è*
sk
, 
idx
) \

33  (
t2
 *)
	`OPENSSL_sk_v®ue
((cÚ¡ 
OPENSSL_STACK
 *)
sk
, 
idx
); \

35 
os¦_šlše
 
	`STACK_OF
(
t1
è*
sk_
##t1##
	`_Ãw
(sk_##t1##
_compfunc
 
com·»
) \

37  (
	`STACK_OF
(
t1
è*)
	`OPENSSL_sk_Ãw
((
OPENSSL_sk_compfunc
)
com·»
); \

39 
os¦_šlše
 
	`STACK_OF
(
t1
è*
sk_
##t1##
	`_Ãw_nuÎ
() \

41  (
	`STACK_OF
(
t1
è*)
	`OPENSSL_sk_Ãw_nuÎ
(); \

43 
os¦_šlše
 
	`STACK_OF
(
t1
è*
sk_
##t1##
	`_Ãw_»£rve
(sk_##t1##
_compfunc
 
com·»
, 
n
) \

45  (
	`STACK_OF
(
t1
è*)
	`OPENSSL_sk_Ãw_»£rve
((
OPENSSL_sk_compfunc
)
com·»
, 
n
); \

47 
os¦_šlše
 
sk_
##
t1
##
	`_»£rve
(
	`STACK_OF
Ñ1è*
sk
, 
n
) \

49  
	`OPENSSL_sk_»£rve
((
OPENSSL_STACK
 *)
sk
, 
n
); \

51 
os¦_šlše
 
sk_
##
t1
##
	`_ä“
(
	`STACK_OF
Ñ1è*
sk
) \

53 
	`OPENSSL_sk_ä“
((
OPENSSL_STACK
 *)
sk
); \

55 
os¦_šlše
 
sk_
##
t1
##
	`_z”o
(
	`STACK_OF
Ñ1è*
sk
) \

57 
	`OPENSSL_sk_z”o
((
OPENSSL_STACK
 *)
sk
); \

59 
os¦_šlše
 
t2
 *
sk_
##
t1
##
	`_d–‘e
(
	`STACK_OF
Ñ1è*
sk
, 
i
) \

61  (
t2
 *)
	`OPENSSL_sk_d–‘e
((
OPENSSL_STACK
 *)
sk
, 
i
); \

63 
os¦_šlše
 
t2
 *
sk_
##
t1
##
	`_d–‘e_±r
(
	`STACK_OF
Ñ1è*
sk
,2 *
±r
) \

65  (
t2
 *)
	`OPENSSL_sk_d–‘e_±r
((
OPENSSL_STACK
 *)
sk
, \

66 (cÚ¡ *)
±r
); \

68 
os¦_šlše
 
sk_
##
t1
##
	`_push
(
	`STACK_OF
Ñ1è*
sk
, 
t2
 *
±r
) \

70  
	`OPENSSL_sk_push
((
OPENSSL_STACK
 *)
sk
, (cÚ¡ *)
±r
); \

72 
os¦_šlše
 
sk_
##
t1
##
	`_unshiá
(
	`STACK_OF
Ñ1è*
sk
, 
t2
 *
±r
) \

74  
	`OPENSSL_sk_unshiá
((
OPENSSL_STACK
 *)
sk
, (cÚ¡ *)
±r
); \

76 
os¦_šlše
 
t2
 *
sk_
##
t1
##
	`_pİ
(
	`STACK_OF
Ñ1è*
sk
) \

78  (
t2
 *)
	`OPENSSL_sk_pİ
((
OPENSSL_STACK
 *)
sk
); \

80 
os¦_šlše
 
t2
 *
sk_
##
t1
##
	`_shiá
(
	`STACK_OF
Ñ1è*
sk
) \

82  (
t2
 *)
	`OPENSSL_sk_shiá
((
OPENSSL_STACK
 *)
sk
); \

84 
os¦_šlše
 
sk_
##
t1
##
	`_pİ_ä“
(
	`STACK_OF
Ñ1è*
sk
, sk_##t1##
_ä“func
 
ä“func
) \

86 
	`OPENSSL_sk_pİ_ä“
((
OPENSSL_STACK
 *)
sk
, (
OPENSSL_sk_ä“func
)
ä“func
); \

88 
os¦_šlše
 
sk_
##
t1
##
	`_š£¹
(
	`STACK_OF
Ñ1è*
sk
, 
t2
 *
±r
, 
idx
) \

90  
	`OPENSSL_sk_š£¹
((
OPENSSL_STACK
 *)
sk
, (cÚ¡ *)
±r
, 
idx
); \

92 
os¦_šlše
 
t2
 *
sk_
##
t1
##
	`_£t
(
	`STACK_OF
Ñ1è*
sk
, 
idx
,2 *
±r
) \

94  (
t2
 *)
	`OPENSSL_sk_£t
((
OPENSSL_STACK
 *)
sk
, 
idx
, (cÚ¡ *)
±r
); \

96 
os¦_šlše
 
sk_
##
t1
##
	`_fšd
(
	`STACK_OF
Ñ1è*
sk
, 
t2
 *
±r
) \

98  
	`OPENSSL_sk_fšd
((
OPENSSL_STACK
 *)
sk
, (cÚ¡ *)
±r
); \

100 
os¦_šlše
 
sk_
##
t1
##
	`_fšd_ex
(
	`STACK_OF
Ñ1è*
sk
, 
t2
 *
±r
) \

102  
	`OPENSSL_sk_fšd_ex
((
OPENSSL_STACK
 *)
sk
, (cÚ¡ *)
±r
); \

104 
os¦_šlše
 
sk_
##
t1
##
	`_sÜt
(
	`STACK_OF
Ñ1è*
sk
) \

106 
	`OPENSSL_sk_sÜt
((
OPENSSL_STACK
 *)
sk
); \

108 
os¦_šlše
 
sk_
##
t1
##
	`_is_sÜ‹d
(cÚ¡ 
	`STACK_OF
Ñ1è*
sk
) \

110  
	`OPENSSL_sk_is_sÜ‹d
((cÚ¡ 
OPENSSL_STACK
 *)
sk
); \

112 
os¦_šlše
 
	`STACK_OF
(
t1
è* 
sk_
##t1##
	`_dup
(cÚ¡ STACK_OFÑ1è*
sk
) \

114  (
	`STACK_OF
(
t1
è*)
	`OPENSSL_sk_dup
((cÚ¡ 
OPENSSL_STACK
 *)
sk
); \

116 
os¦_šlše
 
	`STACK_OF
(
t1
è*
sk_
##t1##
	`_d“p_cİy
(cÚ¡ STACK_OFÑ1è*
sk
, \

117 
sk_
##
t1
##
_cİyfunc
 
cİyfunc
, \

118 
sk_
##
t1
##
_ä“func
 
ä“func
) \

120  (
	`STACK_OF
(
t1
è*)
	`OPENSSL_sk_d“p_cİy
((cÚ¡ 
OPENSSL_STACK
 *)
sk
, \

121 (
OPENSSL_sk_cİyfunc
)
cİyfunc
, \

122 (
OPENSSL_sk_ä“func
)
ä“func
); \

124 
os¦_šlše
 
sk_
##
t1
##
_compfunc
 sk_##t1##
	`_£t_cmp_func
(
	`STACK_OF
Ñ1è*
sk
, sk_##t1##_compfunø
com·»
) \

126  (
sk_
##
t1
##
_compfunc
)
	`OPENSSL_sk_£t_cmp_func
((
OPENSSL_STACK
 *)
sk
, (
OPENSSL_sk_compfunc
)
com·»
); \

127 }

	)

129 
	#DEFINE_SPECIAL_STACK_OF
(
t1
, 
t2
è
	`SKM_DEFINE_STACK_OF
Ñ1,2,2)

	)

130 
	#DEFINE_STACK_OF
(
t
è
	`SKM_DEFINE_STACK_OF
Ñ,,)

	)

131 
	#DEFINE_SPECIAL_STACK_OF_CONST
(
t1
, 
t2
) \

132 
	`SKM_DEFINE_STACK_OF
(
t1
, cÚ¡ 
t2
,2)

	)

133 
	#DEFINE_STACK_OF_CONST
(
t
è
	`SKM_DEFINE_STACK_OF
Ñ, cÚ¡,)

	)

149 *
	tOPENSSL_STRING
;

150 cÚ¡ *
	tOPENSSL_CSTRING
;

159 
DEFINE_SPECIAL_STACK_OF
(
OPENSSL_STRING
, )

160 
DEFINE_SPECIAL_STACK_OF_CONST
(
OPENSSL_CSTRING
, )

166 *
	tOPENSSL_BLOCK
;

167 
DEFINE_SPECIAL_STACK_OF
(
OPENSSL_BLOCK
, )

169 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/sha.h

10 #iâdeà
HEADER_SHA_H


11 
	#HEADER_SHA_H


	)

13 
	~<İ’s¦/e_os2.h
>

14 
	~<¡ddef.h
>

16 #ifdeà 
__ılu¥lus


25 
	#SHA_LONG
 

	)

27 
	#SHA_LBLOCK
 16

	)

28 
	#SHA_CBLOCK
 (
SHA_LBLOCK
*4)

	)

31 
	#SHA_LAST_BLOCK
 (
SHA_CBLOCK
-8)

	)

32 
	#SHA_DIGEST_LENGTH
 20

	)

34 
	sSHA¡©e_¡
 {

35 
SHA_LONG
 
h0
, 
h1
, 
h2
, 
h3
, 
h4
;

36 
SHA_LONG
 
Nl
, 
Nh
;

37 
SHA_LONG
 
d©a
[
SHA_LBLOCK
];

38 
num
;

39 } 
	tSHA_CTX
;

41 
SHA1_In™
(
SHA_CTX
 *
c
);

42 
SHA1_Upd©e
(
SHA_CTX
 *
c
, cÚ¡ *
d©a
, 
size_t
 
Ën
);

43 
SHA1_Fš®
(*
md
, 
SHA_CTX
 *
c
);

44 *
SHA1
(cÚ¡ *
d
, 
size_t
 
n
, *
md
);

45 
SHA1_T¿nsfÜm
(
SHA_CTX
 *
c
, cÚ¡ *
d©a
);

47 
	#SHA256_CBLOCK
 (
SHA_LBLOCK
*4)

	)

51 
	sSHA256¡©e_¡
 {

52 
SHA_LONG
 
h
[8];

53 
SHA_LONG
 
Nl
, 
Nh
;

54 
SHA_LONG
 
d©a
[
SHA_LBLOCK
];

55 
num
, 
md_Ën
;

56 } 
	tSHA256_CTX
;

58 
SHA224_In™
(
SHA256_CTX
 *
c
);

59 
SHA224_Upd©e
(
SHA256_CTX
 *
c
, cÚ¡ *
d©a
, 
size_t
 
Ën
);

60 
SHA224_Fš®
(*
md
, 
SHA256_CTX
 *
c
);

61 *
SHA224
(cÚ¡ *
d
, 
size_t
 
n
, *
md
);

62 
SHA256_In™
(
SHA256_CTX
 *
c
);

63 
SHA256_Upd©e
(
SHA256_CTX
 *
c
, cÚ¡ *
d©a
, 
size_t
 
Ën
);

64 
SHA256_Fš®
(*
md
, 
SHA256_CTX
 *
c
);

65 *
SHA256
(cÚ¡ *
d
, 
size_t
 
n
, *
md
);

66 
SHA256_T¿nsfÜm
(
SHA256_CTX
 *
c
, cÚ¡ *
d©a
);

68 
	#SHA224_DIGEST_LENGTH
 28

	)

69 
	#SHA256_DIGEST_LENGTH
 32

	)

70 
	#SHA384_DIGEST_LENGTH
 48

	)

71 
	#SHA512_DIGEST_LENGTH
 64

	)

83 
	#SHA512_CBLOCK
 (
SHA_LBLOCK
*8)

	)

84 #ià(
defšed
(
_WIN32
è|| defšed(
_WIN64
)è&& !defšed(
__MINGW32__
)

85 
	#SHA_LONG64
 
__št64


	)

86 
	#U64
(
C
èC##
UI64


	)

87 #–ià
defšed
(
__¬ch64__
)

88 
	#SHA_LONG64
 

	)

89 
	#U64
(
C
èC##
UL


	)

91 
	#SHA_LONG64
 

	)

92 
	#U64
(
C
èC##
ULL


	)

95 
	sSHA512¡©e_¡
 {

96 
SHA_LONG64
 
h
[8];

97 
SHA_LONG64
 
Nl
, 
Nh
;

99 
SHA_LONG64
 
d
[
SHA_LBLOCK
];

100 
p
[
SHA512_CBLOCK
];

101 } 
u
;

102 
num
, 
md_Ën
;

103 } 
	tSHA512_CTX
;

105 
SHA384_In™
(
SHA512_CTX
 *
c
);

106 
SHA384_Upd©e
(
SHA512_CTX
 *
c
, cÚ¡ *
d©a
, 
size_t
 
Ën
);

107 
SHA384_Fš®
(*
md
, 
SHA512_CTX
 *
c
);

108 *
SHA384
(cÚ¡ *
d
, 
size_t
 
n
, *
md
);

109 
SHA512_In™
(
SHA512_CTX
 *
c
);

110 
SHA512_Upd©e
(
SHA512_CTX
 *
c
, cÚ¡ *
d©a
, 
size_t
 
Ën
);

111 
SHA512_Fš®
(*
md
, 
SHA512_CTX
 *
c
);

112 *
SHA512
(cÚ¡ *
d
, 
size_t
 
n
, *
md
);

113 
SHA512_T¿nsfÜm
(
SHA512_CTX
 *
c
, cÚ¡ *
d©a
);

115 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/srtp.h

16 #iâdeà
HEADER_D1_SRTP_H


17 
	#HEADER_D1_SRTP_H


	)

19 
	~<İ’s¦/s¦.h
>

21 #ifdeà 
__ılu¥lus


25 
	#SRTP_AES128_CM_SHA1_80
 0x0001

	)

26 
	#SRTP_AES128_CM_SHA1_32
 0x0002

	)

27 
	#SRTP_AES128_F8_SHA1_80
 0x0003

	)

28 
	#SRTP_AES128_F8_SHA1_32
 0x0004

	)

29 
	#SRTP_NULL_SHA1_80
 0x0005

	)

30 
	#SRTP_NULL_SHA1_32
 0x0006

	)

33 
	#SRTP_AEAD_AES_128_GCM
 0x0007

	)

34 
	#SRTP_AEAD_AES_256_GCM
 0x0008

	)

36 #iâdeà
OPENSSL_NO_SRTP


38 
__owur
 
SSL_CTX_£t_£xt_u£_¤
(
SSL_CTX
 *
ùx
, cÚ¡ *
´ofes
);

39 
__owur
 
SSL_£t_£xt_u£_¤
(
SSL
 *
s¦
, cÚ¡ *
´ofes
);

41 
__owur
 
STACK_OF
(
SRTP_PROTECTION_PROFILE
è*
SSL_g‘_¤_´ofes
(
SSL
 *
s¦
);

42 
__owur
 
SRTP_PROTECTION_PROFILE
 *
SSL_g‘_£Ëùed_¤_´ofe
(
SSL
 *
s
);

46 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/ssl2.h

10 #iâdeà
HEADER_SSL2_H


11 
	#HEADER_SSL2_H


	)

13 #ifdeà 
__ılu¥lus


17 
	#SSL2_VERSION
 0x0002

	)

19 
	#SSL2_MT_CLIENT_HELLO
 1

	)

21 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/ssl3.h

11 #iâdeà
HEADER_SSL3_H


12 
	#HEADER_SSL3_H


	)

14 
	~<İ’s¦/comp.h
>

15 
	~<İ’s¦/bufãr.h
>

16 
	~<İ’s¦/evp.h
>

17 
	~<İ’s¦/s¦.h
>

19 #ifdeà 
__ılu¥lus


27 
	#SSL3_CK_SCSV
 0x030000FF

	)

33 
	#SSL3_CK_FALLBACK_SCSV
 0x03005600

	)

35 
	#SSL3_CK_RSA_NULL_MD5
 0x03000001

	)

36 
	#SSL3_CK_RSA_NULL_SHA
 0x03000002

	)

37 
	#SSL3_CK_RSA_RC4_40_MD5
 0x03000003

	)

38 
	#SSL3_CK_RSA_RC4_128_MD5
 0x03000004

	)

39 
	#SSL3_CK_RSA_RC4_128_SHA
 0x03000005

	)

40 
	#SSL3_CK_RSA_RC2_40_MD5
 0x03000006

	)

41 
	#SSL3_CK_RSA_IDEA_128_SHA
 0x03000007

	)

42 
	#SSL3_CK_RSA_DES_40_CBC_SHA
 0x03000008

	)

43 
	#SSL3_CK_RSA_DES_64_CBC_SHA
 0x03000009

	)

44 
	#SSL3_CK_RSA_DES_192_CBC3_SHA
 0x0300000A

	)

46 
	#SSL3_CK_DH_DSS_DES_40_CBC_SHA
 0x0300000B

	)

47 
	#SSL3_CK_DH_DSS_DES_64_CBC_SHA
 0x0300000C

	)

48 
	#SSL3_CK_DH_DSS_DES_192_CBC3_SHA
 0x0300000D

	)

49 
	#SSL3_CK_DH_RSA_DES_40_CBC_SHA
 0x0300000E

	)

50 
	#SSL3_CK_DH_RSA_DES_64_CBC_SHA
 0x0300000F

	)

51 
	#SSL3_CK_DH_RSA_DES_192_CBC3_SHA
 0x03000010

	)

53 
	#SSL3_CK_DHE_DSS_DES_40_CBC_SHA
 0x03000011

	)

54 
	#SSL3_CK_EDH_DSS_DES_40_CBC_SHA
 
SSL3_CK_DHE_DSS_DES_40_CBC_SHA


	)

55 
	#SSL3_CK_DHE_DSS_DES_64_CBC_SHA
 0x03000012

	)

56 
	#SSL3_CK_EDH_DSS_DES_64_CBC_SHA
 
SSL3_CK_DHE_DSS_DES_64_CBC_SHA


	)

57 
	#SSL3_CK_DHE_DSS_DES_192_CBC3_SHA
 0x03000013

	)

58 
	#SSL3_CK_EDH_DSS_DES_192_CBC3_SHA
 
SSL3_CK_DHE_DSS_DES_192_CBC3_SHA


	)

59 
	#SSL3_CK_DHE_RSA_DES_40_CBC_SHA
 0x03000014

	)

60 
	#SSL3_CK_EDH_RSA_DES_40_CBC_SHA
 
SSL3_CK_DHE_RSA_DES_40_CBC_SHA


	)

61 
	#SSL3_CK_DHE_RSA_DES_64_CBC_SHA
 0x03000015

	)

62 
	#SSL3_CK_EDH_RSA_DES_64_CBC_SHA
 
SSL3_CK_DHE_RSA_DES_64_CBC_SHA


	)

63 
	#SSL3_CK_DHE_RSA_DES_192_CBC3_SHA
 0x03000016

	)

64 
	#SSL3_CK_EDH_RSA_DES_192_CBC3_SHA
 
SSL3_CK_DHE_RSA_DES_192_CBC3_SHA


	)

66 
	#SSL3_CK_ADH_RC4_40_MD5
 0x03000017

	)

67 
	#SSL3_CK_ADH_RC4_128_MD5
 0x03000018

	)

68 
	#SSL3_CK_ADH_DES_40_CBC_SHA
 0x03000019

	)

69 
	#SSL3_CK_ADH_DES_64_CBC_SHA
 0x0300001A

	)

70 
	#SSL3_CK_ADH_DES_192_CBC_SHA
 0x0300001B

	)

73 
	#SSL3_RFC_RSA_NULL_MD5
 "TLS_RSA_WITH_NULL_MD5"

	)

74 
	#SSL3_RFC_RSA_NULL_SHA
 "TLS_RSA_WITH_NULL_SHA"

	)

75 
	#SSL3_RFC_RSA_DES_192_CBC3_SHA
 "TLS_RSA_WITH_3DES_EDE_CBC_SHA"

	)

76 
	#SSL3_RFC_DHE_DSS_DES_192_CBC3_SHA
 "TLS_DHE_DSS_WITH_3DES_EDE_CBC_SHA"

	)

77 
	#SSL3_RFC_DHE_RSA_DES_192_CBC3_SHA
 "TLS_DHE_RSA_WITH_3DES_EDE_CBC_SHA"

	)

78 
	#SSL3_RFC_ADH_DES_192_CBC_SHA
 "TLS_DH_ªÚ_WITH_3DES_EDE_CBC_SHA"

	)

79 
	#SSL3_RFC_RSA_IDEA_128_SHA
 "TLS_RSA_WITH_IDEA_CBC_SHA"

	)

80 
	#SSL3_RFC_RSA_RC4_128_MD5
 "TLS_RSA_WITH_RC4_128_MD5"

	)

81 
	#SSL3_RFC_RSA_RC4_128_SHA
 "TLS_RSA_WITH_RC4_128_SHA"

	)

82 
	#SSL3_RFC_ADH_RC4_128_MD5
 "TLS_DH_ªÚ_WITH_RC4_128_MD5"

	)

84 
	#SSL3_TXT_RSA_NULL_MD5
 "NULL-MD5"

	)

85 
	#SSL3_TXT_RSA_NULL_SHA
 "NULL-SHA"

	)

86 
	#SSL3_TXT_RSA_RC4_40_MD5
 "EXP-RC4-MD5"

	)

87 
	#SSL3_TXT_RSA_RC4_128_MD5
 "RC4-MD5"

	)

88 
	#SSL3_TXT_RSA_RC4_128_SHA
 "RC4-SHA"

	)

89 
	#SSL3_TXT_RSA_RC2_40_MD5
 "EXP-RC2-CBC-MD5"

	)

90 
	#SSL3_TXT_RSA_IDEA_128_SHA
 "IDEA-CBC-SHA"

	)

91 
	#SSL3_TXT_RSA_DES_40_CBC_SHA
 "EXP-DES-CBC-SHA"

	)

92 
	#SSL3_TXT_RSA_DES_64_CBC_SHA
 "DES-CBC-SHA"

	)

93 
	#SSL3_TXT_RSA_DES_192_CBC3_SHA
 "DES-CBC3-SHA"

	)

95 
	#SSL3_TXT_DH_DSS_DES_40_CBC_SHA
 "EXP-DH-DSS-DES-CBC-SHA"

	)

96 
	#SSL3_TXT_DH_DSS_DES_64_CBC_SHA
 "DH-DSS-DES-CBC-SHA"

	)

97 
	#SSL3_TXT_DH_DSS_DES_192_CBC3_SHA
 "DH-DSS-DES-CBC3-SHA"

	)

98 
	#SSL3_TXT_DH_RSA_DES_40_CBC_SHA
 "EXP-DH-RSA-DES-CBC-SHA"

	)

99 
	#SSL3_TXT_DH_RSA_DES_64_CBC_SHA
 "DH-RSA-DES-CBC-SHA"

	)

100 
	#SSL3_TXT_DH_RSA_DES_192_CBC3_SHA
 "DH-RSA-DES-CBC3-SHA"

	)

102 
	#SSL3_TXT_DHE_DSS_DES_40_CBC_SHA
 "EXP-DHE-DSS-DES-CBC-SHA"

	)

103 
	#SSL3_TXT_DHE_DSS_DES_64_CBC_SHA
 "DHE-DSS-DES-CBC-SHA"

	)

104 
	#SSL3_TXT_DHE_DSS_DES_192_CBC3_SHA
 "DHE-DSS-DES-CBC3-SHA"

	)

105 
	#SSL3_TXT_DHE_RSA_DES_40_CBC_SHA
 "EXP-DHE-RSA-DES-CBC-SHA"

	)

106 
	#SSL3_TXT_DHE_RSA_DES_64_CBC_SHA
 "DHE-RSA-DES-CBC-SHA"

	)

107 
	#SSL3_TXT_DHE_RSA_DES_192_CBC3_SHA
 "DHE-RSA-DES-CBC3-SHA"

	)

114 
	#SSL3_TXT_EDH_DSS_DES_40_CBC_SHA
 "EXP-EDH-DSS-DES-CBC-SHA"

	)

115 
	#SSL3_TXT_EDH_DSS_DES_64_CBC_SHA
 "EDH-DSS-DES-CBC-SHA"

	)

116 
	#SSL3_TXT_EDH_DSS_DES_192_CBC3_SHA
 "EDH-DSS-DES-CBC3-SHA"

	)

117 
	#SSL3_TXT_EDH_RSA_DES_40_CBC_SHA
 "EXP-EDH-RSA-DES-CBC-SHA"

	)

118 
	#SSL3_TXT_EDH_RSA_DES_64_CBC_SHA
 "EDH-RSA-DES-CBC-SHA"

	)

119 
	#SSL3_TXT_EDH_RSA_DES_192_CBC3_SHA
 "EDH-RSA-DES-CBC3-SHA"

	)

121 
	#SSL3_TXT_ADH_RC4_40_MD5
 "EXP-ADH-RC4-MD5"

	)

122 
	#SSL3_TXT_ADH_RC4_128_MD5
 "ADH-RC4-MD5"

	)

123 
	#SSL3_TXT_ADH_DES_40_CBC_SHA
 "EXP-ADH-DES-CBC-SHA"

	)

124 
	#SSL3_TXT_ADH_DES_64_CBC_SHA
 "ADH-DES-CBC-SHA"

	)

125 
	#SSL3_TXT_ADH_DES_192_CBC_SHA
 "ADH-DES-CBC3-SHA"

	)

127 
	#SSL3_SSL_SESSION_ID_LENGTH
 32

	)

128 
	#SSL3_MAX_SSL_SESSION_ID_LENGTH
 32

	)

130 
	#SSL3_MASTER_SECRET_SIZE
 48

	)

131 
	#SSL3_RANDOM_SIZE
 32

	)

132 
	#SSL3_SESSION_ID_SIZE
 32

	)

133 
	#SSL3_RT_HEADER_LENGTH
 5

	)

135 
	#SSL3_HM_HEADER_LENGTH
 4

	)

137 #iâdeà
SSL3_ALIGN_PAYLOAD


146 
	#SSL3_ALIGN_PAYLOAD
 8

	)

148 #ià(
SSL3_ALIGN_PAYLOAD
&(SSL3_ALIGN_PAYLOAD-1))!=0

150 #undeà
SSL3_ALIGN_PAYLOAD


160 
	#SSL3_RT_MAX_MD_SIZE
 64

	)

166 
	#SSL_RT_MAX_CIPHER_BLOCK_SIZE
 16

	)

168 
	#SSL3_RT_MAX_EXTRA
 (16384)

	)

171 
	#SSL3_RT_MAX_PLAIN_LENGTH
 16384

	)

173 
	#SSL3_RT_MAX_COMPRESSED_OVERHEAD
 1024

	)

180 
	#SSL3_RT_MAX_ENCRYPTED_OVERHEAD
 (256 + 
SSL3_RT_MAX_MD_SIZE
)

	)

181 
	#SSL3_RT_MAX_TLS13_ENCRYPTED_OVERHEAD
 256

	)

188 
	#SSL3_RT_SEND_MAX_ENCRYPTED_OVERHEAD
 \

189 (
SSL_RT_MAX_CIPHER_BLOCK_SIZE
 + 
SSL3_RT_MAX_MD_SIZE
)

	)

193 #ifdeà
OPENSSL_NO_COMP


194 
	#SSL3_RT_MAX_COMPRESSED_LENGTH
 
SSL3_RT_MAX_PLAIN_LENGTH


	)

196 
	#SSL3_RT_MAX_COMPRESSED_LENGTH
 \

197 (
SSL3_RT_MAX_PLAIN_LENGTH
+
SSL3_RT_MAX_COMPRESSED_OVERHEAD
)

	)

199 
	#SSL3_RT_MAX_ENCRYPTED_LENGTH
 \

200 (
SSL3_RT_MAX_ENCRYPTED_OVERHEAD
+
SSL3_RT_MAX_COMPRESSED_LENGTH
)

	)

201 
	#SSL3_RT_MAX_TLS13_ENCRYPTED_LENGTH
 \

202 (
SSL3_RT_MAX_PLAIN_LENGTH
 + 
SSL3_RT_MAX_TLS13_ENCRYPTED_OVERHEAD
)

	)

203 
	#SSL3_RT_MAX_PACKET_SIZE
 \

204 (
SSL3_RT_MAX_ENCRYPTED_LENGTH
+
SSL3_RT_HEADER_LENGTH
)

	)

206 
	#SSL3_MD_CLIENT_FINISHED_CONST
 "\x43\x4C\x4E\x54"

	)

207 
	#SSL3_MD_SERVER_FINISHED_CONST
 "\x53\x52\x56\x52"

	)

209 
	#SSL3_VERSION
 0x0300

	)

210 
	#SSL3_VERSION_MAJOR
 0x03

	)

211 
	#SSL3_VERSION_MINOR
 0x00

	)

213 
	#SSL3_RT_CHANGE_CIPHER_SPEC
 20

	)

214 
	#SSL3_RT_ALERT
 21

	)

215 
	#SSL3_RT_HANDSHAKE
 22

	)

216 
	#SSL3_RT_APPLICATION_DATA
 23

	)

217 
	#DTLS1_RT_HEARTBEAT
 24

	)

220 
	#TLS1_RT_CRYPTO
 0x1000

	)

221 
	#TLS1_RT_CRYPTO_PREMASTER
 (
TLS1_RT_CRYPTO
 | 0x1)

	)

222 
	#TLS1_RT_CRYPTO_CLIENT_RANDOM
 (
TLS1_RT_CRYPTO
 | 0x2)

	)

223 
	#TLS1_RT_CRYPTO_SERVER_RANDOM
 (
TLS1_RT_CRYPTO
 | 0x3)

	)

224 
	#TLS1_RT_CRYPTO_MASTER
 (
TLS1_RT_CRYPTO
 | 0x4)

	)

226 
	#TLS1_RT_CRYPTO_READ
 0x0000

	)

227 
	#TLS1_RT_CRYPTO_WRITE
 0x0100

	)

228 
	#TLS1_RT_CRYPTO_MAC
 (
TLS1_RT_CRYPTO
 | 0x5)

	)

229 
	#TLS1_RT_CRYPTO_KEY
 (
TLS1_RT_CRYPTO
 | 0x6)

	)

230 
	#TLS1_RT_CRYPTO_IV
 (
TLS1_RT_CRYPTO
 | 0x7)

	)

231 
	#TLS1_RT_CRYPTO_FIXED_IV
 (
TLS1_RT_CRYPTO
 | 0x8)

	)

234 
	#SSL3_RT_HEADER
 0x100

	)

235 
	#SSL3_RT_INNER_CONTENT_TYPE
 0x101

	)

237 
	#SSL3_AL_WARNING
 1

	)

238 
	#SSL3_AL_FATAL
 2

	)

240 
	#SSL3_AD_CLOSE_NOTIFY
 0

	)

241 
	#SSL3_AD_UNEXPECTED_MESSAGE
 10

	)

242 
	#SSL3_AD_BAD_RECORD_MAC
 20

	)

243 
	#SSL3_AD_DECOMPRESSION_FAILURE
 30

	)

244 
	#SSL3_AD_HANDSHAKE_FAILURE
 40

	)

245 
	#SSL3_AD_NO_CERTIFICATE
 41

	)

246 
	#SSL3_AD_BAD_CERTIFICATE
 42

	)

247 
	#SSL3_AD_UNSUPPORTED_CERTIFICATE
 43

	)

248 
	#SSL3_AD_CERTIFICATE_REVOKED
 44

	)

249 
	#SSL3_AD_CERTIFICATE_EXPIRED
 45

	)

250 
	#SSL3_AD_CERTIFICATE_UNKNOWN
 46

	)

251 
	#SSL3_AD_ILLEGAL_PARAMETER
 47

	)

253 
	#TLS1_HB_REQUEST
 1

	)

254 
	#TLS1_HB_RESPONSE
 2

	)

257 
	#SSL3_CT_RSA_SIGN
 1

	)

258 
	#SSL3_CT_DSS_SIGN
 2

	)

259 
	#SSL3_CT_RSA_FIXED_DH
 3

	)

260 
	#SSL3_CT_DSS_FIXED_DH
 4

	)

261 
	#SSL3_CT_RSA_EPHEMERAL_DH
 5

	)

262 
	#SSL3_CT_DSS_EPHEMERAL_DH
 6

	)

263 
	#SSL3_CT_FORTEZZA_DMS
 20

	)

268 
	#SSL3_CT_NUMBER
 10

	)

270 #ià
defšed
(
TLS_CT_NUMBER
)

271 #ià
TLS_CT_NUMBER
 !ğ
SSL3_CT_NUMBER


277 
	#SSL3_FLAGS_NO_RENEGOTIATE_CIPHERS
 0x0001

	)

280 
	#TLS1_FLAGS_TLS_PADDING_BUG
 0x0

	)

282 
	#TLS1_FLAGS_SKIP_CERT_VERIFY
 0x0010

	)

285 
	#TLS1_FLAGS_ENCRYPT_THEN_MAC_READ
 0x0100

	)

286 
	#TLS1_FLAGS_ENCRYPT_THEN_MAC
 
TLS1_FLAGS_ENCRYPT_THEN_MAC_READ


	)

289 
	#TLS1_FLAGS_RECEIVED_EXTMS
 0x0200

	)

291 
	#TLS1_FLAGS_ENCRYPT_THEN_MAC_WRITE
 0x0400

	)

293 
	#TLS1_FLAGS_STATELESS
 0x0800

	)

295 
	#SSL3_MT_HELLO_REQUEST
 0

	)

296 
	#SSL3_MT_CLIENT_HELLO
 1

	)

297 
	#SSL3_MT_SERVER_HELLO
 2

	)

298 
	#SSL3_MT_NEWSESSION_TICKET
 4

	)

299 
	#SSL3_MT_END_OF_EARLY_DATA
 5

	)

300 
	#SSL3_MT_ENCRYPTED_EXTENSIONS
 8

	)

301 
	#SSL3_MT_CERTIFICATE
 11

	)

302 
	#SSL3_MT_SERVER_KEY_EXCHANGE
 12

	)

303 
	#SSL3_MT_CERTIFICATE_REQUEST
 13

	)

304 
	#SSL3_MT_SERVER_DONE
 14

	)

305 
	#SSL3_MT_CERTIFICATE_VERIFY
 15

	)

306 
	#SSL3_MT_CLIENT_KEY_EXCHANGE
 16

	)

307 
	#SSL3_MT_FINISHED
 20

	)

308 
	#SSL3_MT_CERTIFICATE_URL
 21

	)

309 
	#SSL3_MT_CERTIFICATE_STATUS
 22

	)

310 
	#SSL3_MT_SUPPLEMENTAL_DATA
 23

	)

311 
	#SSL3_MT_KEY_UPDATE
 24

	)

312 #iâdeà
OPENSSL_NO_NEXTPROTONEG


313 
	#SSL3_MT_NEXT_PROTO
 67

	)

315 
	#SSL3_MT_MESSAGE_HASH
 254

	)

316 
	#DTLS1_MT_HELLO_VERIFY_REQUEST
 3

	)

319 
	#SSL3_MT_CHANGE_CIPHER_SPEC
 0x0101

	)

321 
	#SSL3_MT_CCS
 1

	)

324 
	#SSL3_CC_READ
 0x001

	)

325 
	#SSL3_CC_WRITE
 0x002

	)

326 
	#SSL3_CC_CLIENT
 0x010

	)

327 
	#SSL3_CC_SERVER
 0x020

	)

328 
	#SSL3_CC_EARLY
 0x040

	)

329 
	#SSL3_CC_HANDSHAKE
 0x080

	)

330 
	#SSL3_CC_APPLICATION
 0x100

	)

331 
	#SSL3_CHANGE_CIPHER_CLIENT_WRITE
 (
SSL3_CC_CLIENT
|
SSL3_CC_WRITE
)

	)

332 
	#SSL3_CHANGE_CIPHER_SERVER_READ
 (
SSL3_CC_SERVER
|
SSL3_CC_READ
)

	)

333 
	#SSL3_CHANGE_CIPHER_CLIENT_READ
 (
SSL3_CC_CLIENT
|
SSL3_CC_READ
)

	)

334 
	#SSL3_CHANGE_CIPHER_SERVER_WRITE
 (
SSL3_CC_SERVER
|
SSL3_CC_WRITE
)

	)

336 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/sslerr.h

11 #iâdeà
HEADER_SSLERR_H


12 
	#HEADER_SSLERR_H


	)

14 #ifdeà 
__ılu¥lus


17 
ERR_lßd_SSL_¡ršgs
();

22 
	#SSL_F_ADD_CLIENT_KEY_SHARE_EXT
 438

	)

23 
	#SSL_F_ADD_KEY_SHARE
 512

	)

24 
	#SSL_F_BYTES_TO_CIPHER_LIST
 519

	)

25 
	#SSL_F_CHECK_SUITEB_CIPHER_LIST
 331

	)

26 
	#SSL_F_CIPHERSUITE_CB
 622

	)

27 
	#SSL_F_CONSTRUCT_CA_NAMES
 552

	)

28 
	#SSL_F_CONSTRUCT_KEY_EXCHANGE_TBS
 553

	)

29 
	#SSL_F_CONSTRUCT_STATEFUL_TICKET
 636

	)

30 
	#SSL_F_CONSTRUCT_STATELESS_TICKET
 637

	)

31 
	#SSL_F_CREATE_SYNTHETIC_MESSAGE_HASH
 539

	)

32 
	#SSL_F_CREATE_TICKET_PREQUEL
 638

	)

33 
	#SSL_F_CT_MOVE_SCTS
 345

	)

34 
	#SSL_F_CT_STRICT
 349

	)

35 
	#SSL_F_CUSTOM_EXT_ADD
 554

	)

36 
	#SSL_F_CUSTOM_EXT_PARSE
 555

	)

37 
	#SSL_F_D2I_SSL_SESSION
 103

	)

38 
	#SSL_F_DANE_CTX_ENABLE
 347

	)

39 
	#SSL_F_DANE_MTYPE_SET
 393

	)

40 
	#SSL_F_DANE_TLSA_ADD
 394

	)

41 
	#SSL_F_DERIVE_SECRET_KEY_AND_IV
 514

	)

42 
	#SSL_F_DO_DTLS1_WRITE
 245

	)

43 
	#SSL_F_DO_SSL3_WRITE
 104

	)

44 
	#SSL_F_DTLS1_BUFFER_RECORD
 247

	)

45 
	#SSL_F_DTLS1_CHECK_TIMEOUT_NUM
 318

	)

46 
	#SSL_F_DTLS1_HEARTBEAT
 305

	)

47 
	#SSL_F_DTLS1_HM_FRAGMENT_NEW
 623

	)

48 
	#SSL_F_DTLS1_PREPROCESS_FRAGMENT
 288

	)

49 
	#SSL_F_DTLS1_PROCESS_BUFFERED_RECORDS
 424

	)

50 
	#SSL_F_DTLS1_PROCESS_RECORD
 257

	)

51 
	#SSL_F_DTLS1_READ_BYTES
 258

	)

52 
	#SSL_F_DTLS1_READ_FAILED
 339

	)

53 
	#SSL_F_DTLS1_RETRANSMIT_MESSAGE
 390

	)

54 
	#SSL_F_DTLS1_WRITE_APP_DATA_BYTES
 268

	)

55 
	#SSL_F_DTLS1_WRITE_BYTES
 545

	)

56 
	#SSL_F_DTLSV1_LISTEN
 350

	)

57 
	#SSL_F_DTLS_CONSTRUCT_CHANGE_CIPHER_SPEC
 371

	)

58 
	#SSL_F_DTLS_CONSTRUCT_HELLO_VERIFY_REQUEST
 385

	)

59 
	#SSL_F_DTLS_GET_REASSEMBLED_MESSAGE
 370

	)

60 
	#SSL_F_DTLS_PROCESS_HELLO_VERIFY
 386

	)

61 
	#SSL_F_DTLS_RECORD_LAYER_NEW
 635

	)

62 
	#SSL_F_DTLS_WAIT_FOR_DRY
 592

	)

63 
	#SSL_F_EARLY_DATA_COUNT_OK
 532

	)

64 
	#SSL_F_FINAL_EARLY_DATA
 556

	)

65 
	#SSL_F_FINAL_EC_PT_FORMATS
 485

	)

66 
	#SSL_F_FINAL_EMS
 486

	)

67 
	#SSL_F_FINAL_KEY_SHARE
 503

	)

68 
	#SSL_F_FINAL_MAXFRAGMENTLEN
 557

	)

69 
	#SSL_F_FINAL_RENEGOTIATE
 483

	)

70 
	#SSL_F_FINAL_SERVER_NAME
 558

	)

71 
	#SSL_F_FINAL_SIG_ALGS
 497

	)

72 
	#SSL_F_GET_CERT_VERIFY_TBS_DATA
 588

	)

73 
	#SSL_F_NSS_KEYLOG_INT
 500

	)

74 
	#SSL_F_OPENSSL_INIT_SSL
 342

	)

75 
	#SSL_F_OSSL_STATEM_CLIENT13_READ_TRANSITION
 436

	)

76 
	#SSL_F_OSSL_STATEM_CLIENT13_WRITE_TRANSITION
 598

	)

77 
	#SSL_F_OSSL_STATEM_CLIENT_CONSTRUCT_MESSAGE
 430

	)

78 
	#SSL_F_OSSL_STATEM_CLIENT_POST_PROCESS_MESSAGE
 593

	)

79 
	#SSL_F_OSSL_STATEM_CLIENT_PROCESS_MESSAGE
 594

	)

80 
	#SSL_F_OSSL_STATEM_CLIENT_READ_TRANSITION
 417

	)

81 
	#SSL_F_OSSL_STATEM_CLIENT_WRITE_TRANSITION
 599

	)

82 
	#SSL_F_OSSL_STATEM_SERVER13_READ_TRANSITION
 437

	)

83 
	#SSL_F_OSSL_STATEM_SERVER13_WRITE_TRANSITION
 600

	)

84 
	#SSL_F_OSSL_STATEM_SERVER_CONSTRUCT_MESSAGE
 431

	)

85 
	#SSL_F_OSSL_STATEM_SERVER_POST_PROCESS_MESSAGE
 601

	)

86 
	#SSL_F_OSSL_STATEM_SERVER_POST_WORK
 602

	)

87 
	#SSL_F_OSSL_STATEM_SERVER_PROCESS_MESSAGE
 603

	)

88 
	#SSL_F_OSSL_STATEM_SERVER_READ_TRANSITION
 418

	)

89 
	#SSL_F_OSSL_STATEM_SERVER_WRITE_TRANSITION
 604

	)

90 
	#SSL_F_PARSE_CA_NAMES
 541

	)

91 
	#SSL_F_PITEM_NEW
 624

	)

92 
	#SSL_F_PQUEUE_NEW
 625

	)

93 
	#SSL_F_PROCESS_KEY_SHARE_EXT
 439

	)

94 
	#SSL_F_READ_STATE_MACHINE
 352

	)

95 
	#SSL_F_SET_CLIENT_CIPHERSUITE
 540

	)

96 
	#SSL_F_SRP_GENERATE_CLIENT_MASTER_SECRET
 595

	)

97 
	#SSL_F_SRP_GENERATE_SERVER_MASTER_SECRET
 589

	)

98 
	#SSL_F_SRP_VERIFY_SERVER_PARAM
 596

	)

99 
	#SSL_F_SSL3_CHANGE_CIPHER_STATE
 129

	)

100 
	#SSL_F_SSL3_CHECK_CERT_AND_ALGORITHM
 130

	)

101 
	#SSL_F_SSL3_CTRL
 213

	)

102 
	#SSL_F_SSL3_CTX_CTRL
 133

	)

103 
	#SSL_F_SSL3_DIGEST_CACHED_RECORDS
 293

	)

104 
	#SSL_F_SSL3_DO_CHANGE_CIPHER_SPEC
 292

	)

105 
	#SSL_F_SSL3_ENC
 608

	)

106 
	#SSL_F_SSL3_FINAL_FINISH_MAC
 285

	)

107 
	#SSL_F_SSL3_FINISH_MAC
 587

	)

108 
	#SSL_F_SSL3_GENERATE_KEY_BLOCK
 238

	)

109 
	#SSL_F_SSL3_GENERATE_MASTER_SECRET
 388

	)

110 
	#SSL_F_SSL3_GET_RECORD
 143

	)

111 
	#SSL_F_SSL3_INIT_FINISHED_MAC
 397

	)

112 
	#SSL_F_SSL3_OUTPUT_CERT_CHAIN
 147

	)

113 
	#SSL_F_SSL3_READ_BYTES
 148

	)

114 
	#SSL_F_SSL3_READ_N
 149

	)

115 
	#SSL_F_SSL3_SETUP_KEY_BLOCK
 157

	)

116 
	#SSL_F_SSL3_SETUP_READ_BUFFER
 156

	)

117 
	#SSL_F_SSL3_SETUP_WRITE_BUFFER
 291

	)

118 
	#SSL_F_SSL3_WRITE_BYTES
 158

	)

119 
	#SSL_F_SSL3_WRITE_PENDING
 159

	)

120 
	#SSL_F_SSL_ADD_CERT_CHAIN
 316

	)

121 
	#SSL_F_SSL_ADD_CERT_TO_BUF
 319

	)

122 
	#SSL_F_SSL_ADD_CERT_TO_WPACKET
 493

	)

123 
	#SSL_F_SSL_ADD_CLIENTHELLO_RENEGOTIATE_EXT
 298

	)

124 
	#SSL_F_SSL_ADD_CLIENTHELLO_TLSEXT
 277

	)

125 
	#SSL_F_SSL_ADD_CLIENTHELLO_USE_SRTP_EXT
 307

	)

126 
	#SSL_F_SSL_ADD_DIR_CERT_SUBJECTS_TO_STACK
 215

	)

127 
	#SSL_F_SSL_ADD_FILE_CERT_SUBJECTS_TO_STACK
 216

	)

128 
	#SSL_F_SSL_ADD_SERVERHELLO_RENEGOTIATE_EXT
 299

	)

129 
	#SSL_F_SSL_ADD_SERVERHELLO_TLSEXT
 278

	)

130 
	#SSL_F_SSL_ADD_SERVERHELLO_USE_SRTP_EXT
 308

	)

131 
	#SSL_F_SSL_BAD_METHOD
 160

	)

132 
	#SSL_F_SSL_BUILD_CERT_CHAIN
 332

	)

133 
	#SSL_F_SSL_BYTES_TO_CIPHER_LIST
 161

	)

134 
	#SSL_F_SSL_CACHE_CIPHERLIST
 520

	)

135 
	#SSL_F_SSL_CERT_ADD0_CHAIN_CERT
 346

	)

136 
	#SSL_F_SSL_CERT_DUP
 221

	)

137 
	#SSL_F_SSL_CERT_NEW
 162

	)

138 
	#SSL_F_SSL_CERT_SET0_CHAIN
 340

	)

139 
	#SSL_F_SSL_CHECK_PRIVATE_KEY
 163

	)

140 
	#SSL_F_SSL_CHECK_SERVERHELLO_TLSEXT
 280

	)

141 
	#SSL_F_SSL_CHECK_SRP_EXT_CLIENTHELLO
 606

	)

142 
	#SSL_F_SSL_CHECK_SRVR_ECC_CERT_AND_ALG
 279

	)

143 
	#SSL_F_SSL_CHOOSE_CLIENT_VERSION
 607

	)

144 
	#SSL_F_SSL_CIPHER_DESCRIPTION
 626

	)

145 
	#SSL_F_SSL_CIPHER_LIST_TO_BYTES
 425

	)

146 
	#SSL_F_SSL_CIPHER_PROCESS_RULESTR
 230

	)

147 
	#SSL_F_SSL_CIPHER_STRENGTH_SORT
 231

	)

148 
	#SSL_F_SSL_CLEAR
 164

	)

149 
	#SSL_F_SSL_CLIENT_HELLO_GET1_EXTENSIONS_PRESENT
 627

	)

150 
	#SSL_F_SSL_COMP_ADD_COMPRESSION_METHOD
 165

	)

151 
	#SSL_F_SSL_CONF_CMD
 334

	)

152 
	#SSL_F_SSL_CREATE_CIPHER_LIST
 166

	)

153 
	#SSL_F_SSL_CTRL
 232

	)

154 
	#SSL_F_SSL_CTX_CHECK_PRIVATE_KEY
 168

	)

155 
	#SSL_F_SSL_CTX_ENABLE_CT
 398

	)

156 
	#SSL_F_SSL_CTX_MAKE_PROFILES
 309

	)

157 
	#SSL_F_SSL_CTX_NEW
 169

	)

158 
	#SSL_F_SSL_CTX_SET_ALPN_PROTOS
 343

	)

159 
	#SSL_F_SSL_CTX_SET_CIPHER_LIST
 269

	)

160 
	#SSL_F_SSL_CTX_SET_CLIENT_CERT_ENGINE
 290

	)

161 
	#SSL_F_SSL_CTX_SET_CT_VALIDATION_CALLBACK
 396

	)

162 
	#SSL_F_SSL_CTX_SET_SESSION_ID_CONTEXT
 219

	)

163 
	#SSL_F_SSL_CTX_SET_SSL_VERSION
 170

	)

164 
	#SSL_F_SSL_CTX_SET_TLSEXT_MAX_FRAGMENT_LENGTH
 551

	)

165 
	#SSL_F_SSL_CTX_USE_CERTIFICATE
 171

	)

166 
	#SSL_F_SSL_CTX_USE_CERTIFICATE_ASN1
 172

	)

167 
	#SSL_F_SSL_CTX_USE_CERTIFICATE_FILE
 173

	)

168 
	#SSL_F_SSL_CTX_USE_PRIVATEKEY
 174

	)

169 
	#SSL_F_SSL_CTX_USE_PRIVATEKEY_ASN1
 175

	)

170 
	#SSL_F_SSL_CTX_USE_PRIVATEKEY_FILE
 176

	)

171 
	#SSL_F_SSL_CTX_USE_PSK_IDENTITY_HINT
 272

	)

172 
	#SSL_F_SSL_CTX_USE_RSAPRIVATEKEY
 177

	)

173 
	#SSL_F_SSL_CTX_USE_RSAPRIVATEKEY_ASN1
 178

	)

174 
	#SSL_F_SSL_CTX_USE_RSAPRIVATEKEY_FILE
 179

	)

175 
	#SSL_F_SSL_CTX_USE_SERVERINFO
 336

	)

176 
	#SSL_F_SSL_CTX_USE_SERVERINFO_EX
 543

	)

177 
	#SSL_F_SSL_CTX_USE_SERVERINFO_FILE
 337

	)

178 
	#SSL_F_SSL_DANE_DUP
 403

	)

179 
	#SSL_F_SSL_DANE_ENABLE
 395

	)

180 
	#SSL_F_SSL_DERIVE
 590

	)

181 
	#SSL_F_SSL_DO_CONFIG
 391

	)

182 
	#SSL_F_SSL_DO_HANDSHAKE
 180

	)

183 
	#SSL_F_SSL_DUP_CA_LIST
 408

	)

184 
	#SSL_F_SSL_ENABLE_CT
 402

	)

185 
	#SSL_F_SSL_GENERATE_PKEY_GROUP
 559

	)

186 
	#SSL_F_SSL_GENERATE_SESSION_ID
 547

	)

187 
	#SSL_F_SSL_GET_NEW_SESSION
 181

	)

188 
	#SSL_F_SSL_GET_PREV_SESSION
 217

	)

189 
	#SSL_F_SSL_GET_SERVER_CERT_INDEX
 322

	)

190 
	#SSL_F_SSL_GET_SIGN_PKEY
 183

	)

191 
	#SSL_F_SSL_HANDSHAKE_HASH
 560

	)

192 
	#SSL_F_SSL_INIT_WBIO_BUFFER
 184

	)

193 
	#SSL_F_SSL_KEY_UPDATE
 515

	)

194 
	#SSL_F_SSL_LOAD_CLIENT_CA_FILE
 185

	)

195 
	#SSL_F_SSL_LOG_MASTER_SECRET
 498

	)

196 
	#SSL_F_SSL_LOG_RSA_CLIENT_KEY_EXCHANGE
 499

	)

197 
	#SSL_F_SSL_MODULE_INIT
 392

	)

198 
	#SSL_F_SSL_NEW
 186

	)

199 
	#SSL_F_SSL_NEXT_PROTO_VALIDATE
 565

	)

200 
	#SSL_F_SSL_PARSE_CLIENTHELLO_RENEGOTIATE_EXT
 300

	)

201 
	#SSL_F_SSL_PARSE_CLIENTHELLO_TLSEXT
 302

	)

202 
	#SSL_F_SSL_PARSE_CLIENTHELLO_USE_SRTP_EXT
 310

	)

203 
	#SSL_F_SSL_PARSE_SERVERHELLO_RENEGOTIATE_EXT
 301

	)

204 
	#SSL_F_SSL_PARSE_SERVERHELLO_TLSEXT
 303

	)

205 
	#SSL_F_SSL_PARSE_SERVERHELLO_USE_SRTP_EXT
 311

	)

206 
	#SSL_F_SSL_PEEK
 270

	)

207 
	#SSL_F_SSL_PEEK_EX
 432

	)

208 
	#SSL_F_SSL_PEEK_INTERNAL
 522

	)

209 
	#SSL_F_SSL_READ
 223

	)

210 
	#SSL_F_SSL_READ_EARLY_DATA
 529

	)

211 
	#SSL_F_SSL_READ_EX
 434

	)

212 
	#SSL_F_SSL_READ_INTERNAL
 523

	)

213 
	#SSL_F_SSL_RENEGOTIATE
 516

	)

214 
	#SSL_F_SSL_RENEGOTIATE_ABBREVIATED
 546

	)

215 
	#SSL_F_SSL_SCAN_CLIENTHELLO_TLSEXT
 320

	)

216 
	#SSL_F_SSL_SCAN_SERVERHELLO_TLSEXT
 321

	)

217 
	#SSL_F_SSL_SESSION_DUP
 348

	)

218 
	#SSL_F_SSL_SESSION_NEW
 189

	)

219 
	#SSL_F_SSL_SESSION_PRINT_FP
 190

	)

220 
	#SSL_F_SSL_SESSION_SET1_ID
 423

	)

221 
	#SSL_F_SSL_SESSION_SET1_ID_CONTEXT
 312

	)

222 
	#SSL_F_SSL_SET_ALPN_PROTOS
 344

	)

223 
	#SSL_F_SSL_SET_CERT
 191

	)

224 
	#SSL_F_SSL_SET_CERT_AND_KEY
 621

	)

225 
	#SSL_F_SSL_SET_CIPHER_LIST
 271

	)

226 
	#SSL_F_SSL_SET_CT_VALIDATION_CALLBACK
 399

	)

227 
	#SSL_F_SSL_SET_FD
 192

	)

228 
	#SSL_F_SSL_SET_PKEY
 193

	)

229 
	#SSL_F_SSL_SET_RFD
 194

	)

230 
	#SSL_F_SSL_SET_SESSION
 195

	)

231 
	#SSL_F_SSL_SET_SESSION_ID_CONTEXT
 218

	)

232 
	#SSL_F_SSL_SET_SESSION_TICKET_EXT
 294

	)

233 
	#SSL_F_SSL_SET_TLSEXT_MAX_FRAGMENT_LENGTH
 550

	)

234 
	#SSL_F_SSL_SET_WFD
 196

	)

235 
	#SSL_F_SSL_SHUTDOWN
 224

	)

236 
	#SSL_F_SSL_SRP_CTX_INIT
 313

	)

237 
	#SSL_F_SSL_START_ASYNC_JOB
 389

	)

238 
	#SSL_F_SSL_UNDEFINED_FUNCTION
 197

	)

239 
	#SSL_F_SSL_UNDEFINED_VOID_FUNCTION
 244

	)

240 
	#SSL_F_SSL_USE_CERTIFICATE
 198

	)

241 
	#SSL_F_SSL_USE_CERTIFICATE_ASN1
 199

	)

242 
	#SSL_F_SSL_USE_CERTIFICATE_FILE
 200

	)

243 
	#SSL_F_SSL_USE_PRIVATEKEY
 201

	)

244 
	#SSL_F_SSL_USE_PRIVATEKEY_ASN1
 202

	)

245 
	#SSL_F_SSL_USE_PRIVATEKEY_FILE
 203

	)

246 
	#SSL_F_SSL_USE_PSK_IDENTITY_HINT
 273

	)

247 
	#SSL_F_SSL_USE_RSAPRIVATEKEY
 204

	)

248 
	#SSL_F_SSL_USE_RSAPRIVATEKEY_ASN1
 205

	)

249 
	#SSL_F_SSL_USE_RSAPRIVATEKEY_FILE
 206

	)

250 
	#SSL_F_SSL_VALIDATE_CT
 400

	)

251 
	#SSL_F_SSL_VERIFY_CERT_CHAIN
 207

	)

252 
	#SSL_F_SSL_VERIFY_CLIENT_POST_HANDSHAKE
 616

	)

253 
	#SSL_F_SSL_WRITE
 208

	)

254 
	#SSL_F_SSL_WRITE_EARLY_DATA
 526

	)

255 
	#SSL_F_SSL_WRITE_EARLY_FINISH
 527

	)

256 
	#SSL_F_SSL_WRITE_EX
 433

	)

257 
	#SSL_F_SSL_WRITE_INTERNAL
 524

	)

258 
	#SSL_F_STATE_MACHINE
 353

	)

259 
	#SSL_F_TLS12_CHECK_PEER_SIGALG
 333

	)

260 
	#SSL_F_TLS12_COPY_SIGALGS
 533

	)

261 
	#SSL_F_TLS13_CHANGE_CIPHER_STATE
 440

	)

262 
	#SSL_F_TLS13_ENC
 609

	)

263 
	#SSL_F_TLS13_FINAL_FINISH_MAC
 605

	)

264 
	#SSL_F_TLS13_GENERATE_SECRET
 591

	)

265 
	#SSL_F_TLS13_HKDF_EXPAND
 561

	)

266 
	#SSL_F_TLS13_RESTORE_HANDSHAKE_DIGEST_FOR_PHA
 617

	)

267 
	#SSL_F_TLS13_SAVE_HANDSHAKE_DIGEST_FOR_PHA
 618

	)

268 
	#SSL_F_TLS13_SETUP_KEY_BLOCK
 441

	)

269 
	#SSL_F_TLS1_CHANGE_CIPHER_STATE
 209

	)

270 
	#SSL_F_TLS1_CHECK_DUPLICATE_EXTENSIONS
 341

	)

271 
	#SSL_F_TLS1_ENC
 401

	)

272 
	#SSL_F_TLS1_EXPORT_KEYING_MATERIAL
 314

	)

273 
	#SSL_F_TLS1_GET_CURVELIST
 338

	)

274 
	#SSL_F_TLS1_PRF
 284

	)

275 
	#SSL_F_TLS1_SAVE_U16
 628

	)

276 
	#SSL_F_TLS1_SETUP_KEY_BLOCK
 211

	)

277 
	#SSL_F_TLS1_SET_GROUPS
 629

	)

278 
	#SSL_F_TLS1_SET_RAW_SIGALGS
 630

	)

279 
	#SSL_F_TLS1_SET_SERVER_SIGALGS
 335

	)

280 
	#SSL_F_TLS1_SET_SHARED_SIGALGS
 631

	)

281 
	#SSL_F_TLS1_SET_SIGALGS
 632

	)

282 
	#SSL_F_TLS_CHOOSE_SIGALG
 513

	)

283 
	#SSL_F_TLS_CLIENT_KEY_EXCHANGE_POST_WORK
 354

	)

284 
	#SSL_F_TLS_COLLECT_EXTENSIONS
 435

	)

285 
	#SSL_F_TLS_CONSTRUCT_CERTIFICATE_AUTHORITIES
 542

	)

286 
	#SSL_F_TLS_CONSTRUCT_CERTIFICATE_REQUEST
 372

	)

287 
	#SSL_F_TLS_CONSTRUCT_CERT_STATUS
 429

	)

288 
	#SSL_F_TLS_CONSTRUCT_CERT_STATUS_BODY
 494

	)

289 
	#SSL_F_TLS_CONSTRUCT_CERT_VERIFY
 496

	)

290 
	#SSL_F_TLS_CONSTRUCT_CHANGE_CIPHER_SPEC
 427

	)

291 
	#SSL_F_TLS_CONSTRUCT_CKE_DHE
 404

	)

292 
	#SSL_F_TLS_CONSTRUCT_CKE_ECDHE
 405

	)

293 
	#SSL_F_TLS_CONSTRUCT_CKE_GOST
 406

	)

294 
	#SSL_F_TLS_CONSTRUCT_CKE_PSK_PREAMBLE
 407

	)

295 
	#SSL_F_TLS_CONSTRUCT_CKE_RSA
 409

	)

296 
	#SSL_F_TLS_CONSTRUCT_CKE_SRP
 410

	)

297 
	#SSL_F_TLS_CONSTRUCT_CLIENT_CERTIFICATE
 484

	)

298 
	#SSL_F_TLS_CONSTRUCT_CLIENT_HELLO
 487

	)

299 
	#SSL_F_TLS_CONSTRUCT_CLIENT_KEY_EXCHANGE
 488

	)

300 
	#SSL_F_TLS_CONSTRUCT_CLIENT_VERIFY
 489

	)

301 
	#SSL_F_TLS_CONSTRUCT_CTOS_ALPN
 466

	)

302 
	#SSL_F_TLS_CONSTRUCT_CTOS_CERTIFICATE
 355

	)

303 
	#SSL_F_TLS_CONSTRUCT_CTOS_COOKIE
 535

	)

304 
	#SSL_F_TLS_CONSTRUCT_CTOS_EARLY_DATA
 530

	)

305 
	#SSL_F_TLS_CONSTRUCT_CTOS_EC_PT_FORMATS
 467

	)

306 
	#SSL_F_TLS_CONSTRUCT_CTOS_EMS
 468

	)

307 
	#SSL_F_TLS_CONSTRUCT_CTOS_ETM
 469

	)

308 
	#SSL_F_TLS_CONSTRUCT_CTOS_HELLO
 356

	)

309 
	#SSL_F_TLS_CONSTRUCT_CTOS_KEY_EXCHANGE
 357

	)

310 
	#SSL_F_TLS_CONSTRUCT_CTOS_KEY_SHARE
 470

	)

311 
	#SSL_F_TLS_CONSTRUCT_CTOS_MAXFRAGMENTLEN
 549

	)

312 
	#SSL_F_TLS_CONSTRUCT_CTOS_NPN
 471

	)

313 
	#SSL_F_TLS_CONSTRUCT_CTOS_PADDING
 472

	)

314 
	#SSL_F_TLS_CONSTRUCT_CTOS_POST_HANDSHAKE_AUTH
 619

	)

315 
	#SSL_F_TLS_CONSTRUCT_CTOS_PSK
 501

	)

316 
	#SSL_F_TLS_CONSTRUCT_CTOS_PSK_KEX_MODES
 509

	)

317 
	#SSL_F_TLS_CONSTRUCT_CTOS_RENEGOTIATE
 473

	)

318 
	#SSL_F_TLS_CONSTRUCT_CTOS_SCT
 474

	)

319 
	#SSL_F_TLS_CONSTRUCT_CTOS_SERVER_NAME
 475

	)

320 
	#SSL_F_TLS_CONSTRUCT_CTOS_SESSION_TICKET
 476

	)

321 
	#SSL_F_TLS_CONSTRUCT_CTOS_SIG_ALGS
 477

	)

322 
	#SSL_F_TLS_CONSTRUCT_CTOS_SRP
 478

	)

323 
	#SSL_F_TLS_CONSTRUCT_CTOS_STATUS_REQUEST
 479

	)

324 
	#SSL_F_TLS_CONSTRUCT_CTOS_SUPPORTED_GROUPS
 480

	)

325 
	#SSL_F_TLS_CONSTRUCT_CTOS_SUPPORTED_VERSIONS
 481

	)

326 
	#SSL_F_TLS_CONSTRUCT_CTOS_USE_SRTP
 482

	)

327 
	#SSL_F_TLS_CONSTRUCT_CTOS_VERIFY
 358

	)

328 
	#SSL_F_TLS_CONSTRUCT_ENCRYPTED_EXTENSIONS
 443

	)

329 
	#SSL_F_TLS_CONSTRUCT_END_OF_EARLY_DATA
 536

	)

330 
	#SSL_F_TLS_CONSTRUCT_EXTENSIONS
 447

	)

331 
	#SSL_F_TLS_CONSTRUCT_FINISHED
 359

	)

332 
	#SSL_F_TLS_CONSTRUCT_HELLO_REQUEST
 373

	)

333 
	#SSL_F_TLS_CONSTRUCT_HELLO_RETRY_REQUEST
 510

	)

334 
	#SSL_F_TLS_CONSTRUCT_KEY_UPDATE
 517

	)

335 
	#SSL_F_TLS_CONSTRUCT_NEW_SESSION_TICKET
 428

	)

336 
	#SSL_F_TLS_CONSTRUCT_NEXT_PROTO
 426

	)

337 
	#SSL_F_TLS_CONSTRUCT_SERVER_CERTIFICATE
 490

	)

338 
	#SSL_F_TLS_CONSTRUCT_SERVER_HELLO
 491

	)

339 
	#SSL_F_TLS_CONSTRUCT_SERVER_KEY_EXCHANGE
 492

	)

340 
	#SSL_F_TLS_CONSTRUCT_STOC_ALPN
 451

	)

341 
	#SSL_F_TLS_CONSTRUCT_STOC_CERTIFICATE
 374

	)

342 
	#SSL_F_TLS_CONSTRUCT_STOC_COOKIE
 613

	)

343 
	#SSL_F_TLS_CONSTRUCT_STOC_CRYPTOPRO_BUG
 452

	)

344 
	#SSL_F_TLS_CONSTRUCT_STOC_DONE
 375

	)

345 
	#SSL_F_TLS_CONSTRUCT_STOC_EARLY_DATA
 531

	)

346 
	#SSL_F_TLS_CONSTRUCT_STOC_EARLY_DATA_INFO
 525

	)

347 
	#SSL_F_TLS_CONSTRUCT_STOC_EC_PT_FORMATS
 453

	)

348 
	#SSL_F_TLS_CONSTRUCT_STOC_EMS
 454

	)

349 
	#SSL_F_TLS_CONSTRUCT_STOC_ETM
 455

	)

350 
	#SSL_F_TLS_CONSTRUCT_STOC_HELLO
 376

	)

351 
	#SSL_F_TLS_CONSTRUCT_STOC_KEY_EXCHANGE
 377

	)

352 
	#SSL_F_TLS_CONSTRUCT_STOC_KEY_SHARE
 456

	)

353 
	#SSL_F_TLS_CONSTRUCT_STOC_MAXFRAGMENTLEN
 548

	)

354 
	#SSL_F_TLS_CONSTRUCT_STOC_NEXT_PROTO_NEG
 457

	)

355 
	#SSL_F_TLS_CONSTRUCT_STOC_PSK
 504

	)

356 
	#SSL_F_TLS_CONSTRUCT_STOC_RENEGOTIATE
 458

	)

357 
	#SSL_F_TLS_CONSTRUCT_STOC_SERVER_NAME
 459

	)

358 
	#SSL_F_TLS_CONSTRUCT_STOC_SESSION_TICKET
 460

	)

359 
	#SSL_F_TLS_CONSTRUCT_STOC_STATUS_REQUEST
 461

	)

360 
	#SSL_F_TLS_CONSTRUCT_STOC_SUPPORTED_GROUPS
 544

	)

361 
	#SSL_F_TLS_CONSTRUCT_STOC_SUPPORTED_VERSIONS
 611

	)

362 
	#SSL_F_TLS_CONSTRUCT_STOC_USE_SRTP
 462

	)

363 
	#SSL_F_TLS_EARLY_POST_PROCESS_CLIENT_HELLO
 521

	)

364 
	#SSL_F_TLS_FINISH_HANDSHAKE
 597

	)

365 
	#SSL_F_TLS_GET_MESSAGE_BODY
 351

	)

366 
	#SSL_F_TLS_GET_MESSAGE_HEADER
 387

	)

367 
	#SSL_F_TLS_HANDLE_ALPN
 562

	)

368 
	#SSL_F_TLS_HANDLE_STATUS_REQUEST
 563

	)

369 
	#SSL_F_TLS_PARSE_CERTIFICATE_AUTHORITIES
 566

	)

370 
	#SSL_F_TLS_PARSE_CLIENTHELLO_TLSEXT
 449

	)

371 
	#SSL_F_TLS_PARSE_CTOS_ALPN
 567

	)

372 
	#SSL_F_TLS_PARSE_CTOS_COOKIE
 614

	)

373 
	#SSL_F_TLS_PARSE_CTOS_EARLY_DATA
 568

	)

374 
	#SSL_F_TLS_PARSE_CTOS_EC_PT_FORMATS
 569

	)

375 
	#SSL_F_TLS_PARSE_CTOS_EMS
 570

	)

376 
	#SSL_F_TLS_PARSE_CTOS_KEY_SHARE
 463

	)

377 
	#SSL_F_TLS_PARSE_CTOS_MAXFRAGMENTLEN
 571

	)

378 
	#SSL_F_TLS_PARSE_CTOS_POST_HANDSHAKE_AUTH
 620

	)

379 
	#SSL_F_TLS_PARSE_CTOS_PSK
 505

	)

380 
	#SSL_F_TLS_PARSE_CTOS_PSK_KEX_MODES
 572

	)

381 
	#SSL_F_TLS_PARSE_CTOS_RENEGOTIATE
 464

	)

382 
	#SSL_F_TLS_PARSE_CTOS_SERVER_NAME
 573

	)

383 
	#SSL_F_TLS_PARSE_CTOS_SESSION_TICKET
 574

	)

384 
	#SSL_F_TLS_PARSE_CTOS_SIG_ALGS
 575

	)

385 
	#SSL_F_TLS_PARSE_CTOS_SIG_ALGS_CERT
 615

	)

386 
	#SSL_F_TLS_PARSE_CTOS_SRP
 576

	)

387 
	#SSL_F_TLS_PARSE_CTOS_STATUS_REQUEST
 577

	)

388 
	#SSL_F_TLS_PARSE_CTOS_SUPPORTED_GROUPS
 578

	)

389 
	#SSL_F_TLS_PARSE_CTOS_USE_SRTP
 465

	)

390 
	#SSL_F_TLS_PARSE_STOC_ALPN
 579

	)

391 
	#SSL_F_TLS_PARSE_STOC_COOKIE
 534

	)

392 
	#SSL_F_TLS_PARSE_STOC_EARLY_DATA
 538

	)

393 
	#SSL_F_TLS_PARSE_STOC_EARLY_DATA_INFO
 528

	)

394 
	#SSL_F_TLS_PARSE_STOC_EC_PT_FORMATS
 580

	)

395 
	#SSL_F_TLS_PARSE_STOC_KEY_SHARE
 445

	)

396 
	#SSL_F_TLS_PARSE_STOC_MAXFRAGMENTLEN
 581

	)

397 
	#SSL_F_TLS_PARSE_STOC_NPN
 582

	)

398 
	#SSL_F_TLS_PARSE_STOC_PSK
 502

	)

399 
	#SSL_F_TLS_PARSE_STOC_RENEGOTIATE
 448

	)

400 
	#SSL_F_TLS_PARSE_STOC_SCT
 564

	)

401 
	#SSL_F_TLS_PARSE_STOC_SERVER_NAME
 583

	)

402 
	#SSL_F_TLS_PARSE_STOC_SESSION_TICKET
 584

	)

403 
	#SSL_F_TLS_PARSE_STOC_STATUS_REQUEST
 585

	)

404 
	#SSL_F_TLS_PARSE_STOC_SUPPORTED_VERSIONS
 612

	)

405 
	#SSL_F_TLS_PARSE_STOC_USE_SRTP
 446

	)

406 
	#SSL_F_TLS_POST_PROCESS_CLIENT_HELLO
 378

	)

407 
	#SSL_F_TLS_POST_PROCESS_CLIENT_KEY_EXCHANGE
 384

	)

408 
	#SSL_F_TLS_PREPARE_CLIENT_CERTIFICATE
 360

	)

409 
	#SSL_F_TLS_PROCESS_AS_HELLO_RETRY_REQUEST
 610

	)

410 
	#SSL_F_TLS_PROCESS_CERTIFICATE_REQUEST
 361

	)

411 
	#SSL_F_TLS_PROCESS_CERT_STATUS
 362

	)

412 
	#SSL_F_TLS_PROCESS_CERT_STATUS_BODY
 495

	)

413 
	#SSL_F_TLS_PROCESS_CERT_VERIFY
 379

	)

414 
	#SSL_F_TLS_PROCESS_CHANGE_CIPHER_SPEC
 363

	)

415 
	#SSL_F_TLS_PROCESS_CKE_DHE
 411

	)

416 
	#SSL_F_TLS_PROCESS_CKE_ECDHE
 412

	)

417 
	#SSL_F_TLS_PROCESS_CKE_GOST
 413

	)

418 
	#SSL_F_TLS_PROCESS_CKE_PSK_PREAMBLE
 414

	)

419 
	#SSL_F_TLS_PROCESS_CKE_RSA
 415

	)

420 
	#SSL_F_TLS_PROCESS_CKE_SRP
 416

	)

421 
	#SSL_F_TLS_PROCESS_CLIENT_CERTIFICATE
 380

	)

422 
	#SSL_F_TLS_PROCESS_CLIENT_HELLO
 381

	)

423 
	#SSL_F_TLS_PROCESS_CLIENT_KEY_EXCHANGE
 382

	)

424 
	#SSL_F_TLS_PROCESS_ENCRYPTED_EXTENSIONS
 444

	)

425 
	#SSL_F_TLS_PROCESS_END_OF_EARLY_DATA
 537

	)

426 
	#SSL_F_TLS_PROCESS_FINISHED
 364

	)

427 
	#SSL_F_TLS_PROCESS_HELLO_REQ
 507

	)

428 
	#SSL_F_TLS_PROCESS_HELLO_RETRY_REQUEST
 511

	)

429 
	#SSL_F_TLS_PROCESS_INITIAL_SERVER_FLIGHT
 442

	)

430 
	#SSL_F_TLS_PROCESS_KEY_EXCHANGE
 365

	)

431 
	#SSL_F_TLS_PROCESS_KEY_UPDATE
 518

	)

432 
	#SSL_F_TLS_PROCESS_NEW_SESSION_TICKET
 366

	)

433 
	#SSL_F_TLS_PROCESS_NEXT_PROTO
 383

	)

434 
	#SSL_F_TLS_PROCESS_SERVER_CERTIFICATE
 367

	)

435 
	#SSL_F_TLS_PROCESS_SERVER_DONE
 368

	)

436 
	#SSL_F_TLS_PROCESS_SERVER_HELLO
 369

	)

437 
	#SSL_F_TLS_PROCESS_SKE_DHE
 419

	)

438 
	#SSL_F_TLS_PROCESS_SKE_ECDHE
 420

	)

439 
	#SSL_F_TLS_PROCESS_SKE_PSK_PREAMBLE
 421

	)

440 
	#SSL_F_TLS_PROCESS_SKE_SRP
 422

	)

441 
	#SSL_F_TLS_PSK_DO_BINDER
 506

	)

442 
	#SSL_F_TLS_SCAN_CLIENTHELLO_TLSEXT
 450

	)

443 
	#SSL_F_TLS_SETUP_HANDSHAKE
 508

	)

444 
	#SSL_F_USE_CERTIFICATE_CHAIN_FILE
 220

	)

445 
	#SSL_F_WPACKET_INTERN_INIT_LEN
 633

	)

446 
	#SSL_F_WPACKET_START_SUB_PACKET_LEN__
 634

	)

447 
	#SSL_F_WRITE_STATE_MACHINE
 586

	)

452 
	#SSL_R_APPLICATION_DATA_AFTER_CLOSE_NOTIFY
 291

	)

453 
	#SSL_R_APP_DATA_IN_HANDSHAKE
 100

	)

454 
	#SSL_R_ATTEMPT_TO_REUSE_SESSION_IN_DIFFERENT_CONTEXT
 272

	)

455 
	#SSL_R_AT_LEAST_TLS_1_0_NEEDED_IN_FIPS_MODE
 143

	)

456 
	#SSL_R_AT_LEAST_TLS_1_2_NEEDED_IN_SUITEB_MODE
 158

	)

457 
	#SSL_R_BAD_CHANGE_CIPHER_SPEC
 103

	)

458 
	#SSL_R_BAD_CIPHER
 186

	)

459 
	#SSL_R_BAD_DATA
 390

	)

460 
	#SSL_R_BAD_DATA_RETURNED_BY_CALLBACK
 106

	)

461 
	#SSL_R_BAD_DECOMPRESSION
 107

	)

462 
	#SSL_R_BAD_DH_VALUE
 102

	)

463 
	#SSL_R_BAD_DIGEST_LENGTH
 111

	)

464 
	#SSL_R_BAD_EARLY_DATA
 233

	)

465 
	#SSL_R_BAD_ECC_CERT
 304

	)

466 
	#SSL_R_BAD_ECPOINT
 306

	)

467 
	#SSL_R_BAD_EXTENSION
 110

	)

468 
	#SSL_R_BAD_HANDSHAKE_LENGTH
 332

	)

469 
	#SSL_R_BAD_HANDSHAKE_STATE
 236

	)

470 
	#SSL_R_BAD_HELLO_REQUEST
 105

	)

471 
	#SSL_R_BAD_HRR_VERSION
 263

	)

472 
	#SSL_R_BAD_KEY_SHARE
 108

	)

473 
	#SSL_R_BAD_KEY_UPDATE
 122

	)

474 
	#SSL_R_BAD_LEGACY_VERSION
 292

	)

475 
	#SSL_R_BAD_LENGTH
 271

	)

476 
	#SSL_R_BAD_PACKET
 240

	)

477 
	#SSL_R_BAD_PACKET_LENGTH
 115

	)

478 
	#SSL_R_BAD_PROTOCOL_VERSION_NUMBER
 116

	)

479 
	#SSL_R_BAD_PSK
 219

	)

480 
	#SSL_R_BAD_PSK_IDENTITY
 114

	)

481 
	#SSL_R_BAD_RECORD_TYPE
 443

	)

482 
	#SSL_R_BAD_RSA_ENCRYPT
 119

	)

483 
	#SSL_R_BAD_SIGNATURE
 123

	)

484 
	#SSL_R_BAD_SRP_A_LENGTH
 347

	)

485 
	#SSL_R_BAD_SRP_PARAMETERS
 371

	)

486 
	#SSL_R_BAD_SRTP_MKI_VALUE
 352

	)

487 
	#SSL_R_BAD_SRTP_PROTECTION_PROFILE_LIST
 353

	)

488 
	#SSL_R_BAD_SSL_FILETYPE
 124

	)

489 
	#SSL_R_BAD_VALUE
 384

	)

490 
	#SSL_R_BAD_WRITE_RETRY
 127

	)

491 
	#SSL_R_BINDER_DOES_NOT_VERIFY
 253

	)

492 
	#SSL_R_BIO_NOT_SET
 128

	)

493 
	#SSL_R_BLOCK_CIPHER_PAD_IS_WRONG
 129

	)

494 
	#SSL_R_BN_LIB
 130

	)

495 
	#SSL_R_CALLBACK_FAILED
 234

	)

496 
	#SSL_R_CANNOT_CHANGE_CIPHER
 109

	)

497 
	#SSL_R_CA_DN_LENGTH_MISMATCH
 131

	)

498 
	#SSL_R_CA_KEY_TOO_SMALL
 397

	)

499 
	#SSL_R_CA_MD_TOO_WEAK
 398

	)

500 
	#SSL_R_CCS_RECEIVED_EARLY
 133

	)

501 
	#SSL_R_CERTIFICATE_VERIFY_FAILED
 134

	)

502 
	#SSL_R_CERT_CB_ERROR
 377

	)

503 
	#SSL_R_CERT_LENGTH_MISMATCH
 135

	)

504 
	#SSL_R_CIPHERSUITE_DIGEST_HAS_CHANGED
 218

	)

505 
	#SSL_R_CIPHER_CODE_WRONG_LENGTH
 137

	)

506 
	#SSL_R_CIPHER_OR_HASH_UNAVAILABLE
 138

	)

507 
	#SSL_R_CLIENTHELLO_TLSEXT
 226

	)

508 
	#SSL_R_COMPRESSED_LENGTH_TOO_LONG
 140

	)

509 
	#SSL_R_COMPRESSION_DISABLED
 343

	)

510 
	#SSL_R_COMPRESSION_FAILURE
 141

	)

511 
	#SSL_R_COMPRESSION_ID_NOT_WITHIN_PRIVATE_RANGE
 307

	)

512 
	#SSL_R_COMPRESSION_LIBRARY_ERROR
 142

	)

513 
	#SSL_R_CONNECTION_TYPE_NOT_SET
 144

	)

514 
	#SSL_R_CONTEXT_NOT_DANE_ENABLED
 167

	)

515 
	#SSL_R_COOKIE_GEN_CALLBACK_FAILURE
 400

	)

516 
	#SSL_R_COOKIE_MISMATCH
 308

	)

517 
	#SSL_R_CUSTOM_EXT_HANDLER_ALREADY_INSTALLED
 206

	)

518 
	#SSL_R_DANE_ALREADY_ENABLED
 172

	)

519 
	#SSL_R_DANE_CANNOT_OVERRIDE_MTYPE_FULL
 173

	)

520 
	#SSL_R_DANE_NOT_ENABLED
 175

	)

521 
	#SSL_R_DANE_TLSA_BAD_CERTIFICATE
 180

	)

522 
	#SSL_R_DANE_TLSA_BAD_CERTIFICATE_USAGE
 184

	)

523 
	#SSL_R_DANE_TLSA_BAD_DATA_LENGTH
 189

	)

524 
	#SSL_R_DANE_TLSA_BAD_DIGEST_LENGTH
 192

	)

525 
	#SSL_R_DANE_TLSA_BAD_MATCHING_TYPE
 200

	)

526 
	#SSL_R_DANE_TLSA_BAD_PUBLIC_KEY
 201

	)

527 
	#SSL_R_DANE_TLSA_BAD_SELECTOR
 202

	)

528 
	#SSL_R_DANE_TLSA_NULL_DATA
 203

	)

529 
	#SSL_R_DATA_BETWEEN_CCS_AND_FINISHED
 145

	)

530 
	#SSL_R_DATA_LENGTH_TOO_LONG
 146

	)

531 
	#SSL_R_DECRYPTION_FAILED
 147

	)

532 
	#SSL_R_DECRYPTION_FAILED_OR_BAD_RECORD_MAC
 281

	)

533 
	#SSL_R_DH_KEY_TOO_SMALL
 394

	)

534 
	#SSL_R_DH_PUBLIC_VALUE_LENGTH_IS_WRONG
 148

	)

535 
	#SSL_R_DIGEST_CHECK_FAILED
 149

	)

536 
	#SSL_R_DTLS_MESSAGE_TOO_BIG
 334

	)

537 
	#SSL_R_DUPLICATE_COMPRESSION_ID
 309

	)

538 
	#SSL_R_ECC_CERT_NOT_FOR_SIGNING
 318

	)

539 
	#SSL_R_ECDH_REQUIRED_FOR_SUITEB_MODE
 374

	)

540 
	#SSL_R_EE_KEY_TOO_SMALL
 399

	)

541 
	#SSL_R_EMPTY_SRTP_PROTECTION_PROFILE_LIST
 354

	)

542 
	#SSL_R_ENCRYPTED_LENGTH_TOO_LONG
 150

	)

543 
	#SSL_R_ERROR_IN_RECEIVED_CIPHER_LIST
 151

	)

544 
	#SSL_R_ERROR_SETTING_TLSA_BASE_DOMAIN
 204

	)

545 
	#SSL_R_EXCEEDS_MAX_FRAGMENT_SIZE
 194

	)

546 
	#SSL_R_EXCESSIVE_MESSAGE_SIZE
 152

	)

547 
	#SSL_R_EXTENSION_NOT_RECEIVED
 279

	)

548 
	#SSL_R_EXTRA_DATA_IN_MESSAGE
 153

	)

549 
	#SSL_R_EXT_LENGTH_MISMATCH
 163

	)

550 
	#SSL_R_FAILED_TO_INIT_ASYNC
 405

	)

551 
	#SSL_R_FRAGMENTED_CLIENT_HELLO
 401

	)

552 
	#SSL_R_GOT_A_FIN_BEFORE_A_CCS
 154

	)

553 
	#SSL_R_HTTPS_PROXY_REQUEST
 155

	)

554 
	#SSL_R_HTTP_REQUEST
 156

	)

555 
	#SSL_R_ILLEGAL_POINT_COMPRESSION
 162

	)

556 
	#SSL_R_ILLEGAL_SUITEB_DIGEST
 380

	)

557 
	#SSL_R_INAPPROPRIATE_FALLBACK
 373

	)

558 
	#SSL_R_INCONSISTENT_COMPRESSION
 340

	)

559 
	#SSL_R_INCONSISTENT_EARLY_DATA_ALPN
 222

	)

560 
	#SSL_R_INCONSISTENT_EARLY_DATA_SNI
 231

	)

561 
	#SSL_R_INCONSISTENT_EXTMS
 104

	)

562 
	#SSL_R_INSUFFICIENT_SECURITY
 241

	)

563 
	#SSL_R_INVALID_ALERT
 205

	)

564 
	#SSL_R_INVALID_CCS_MESSAGE
 260

	)

565 
	#SSL_R_INVALID_CERTIFICATE_OR_ALG
 238

	)

566 
	#SSL_R_INVALID_COMMAND
 280

	)

567 
	#SSL_R_INVALID_COMPRESSION_ALGORITHM
 341

	)

568 
	#SSL_R_INVALID_CONFIG
 283

	)

569 
	#SSL_R_INVALID_CONFIGURATION_NAME
 113

	)

570 
	#SSL_R_INVALID_CONTEXT
 282

	)

571 
	#SSL_R_INVALID_CT_VALIDATION_TYPE
 212

	)

572 
	#SSL_R_INVALID_KEY_UPDATE_TYPE
 120

	)

573 
	#SSL_R_INVALID_MAX_EARLY_DATA
 174

	)

574 
	#SSL_R_INVALID_NULL_CMD_NAME
 385

	)

575 
	#SSL_R_INVALID_SEQUENCE_NUMBER
 402

	)

576 
	#SSL_R_INVALID_SERVERINFO_DATA
 388

	)

577 
	#SSL_R_INVALID_SESSION_ID
 999

	)

578 
	#SSL_R_INVALID_SRP_USERNAME
 357

	)

579 
	#SSL_R_INVALID_STATUS_RESPONSE
 328

	)

580 
	#SSL_R_INVALID_TICKET_KEYS_LENGTH
 325

	)

581 
	#SSL_R_LENGTH_MISMATCH
 159

	)

582 
	#SSL_R_LENGTH_TOO_LONG
 404

	)

583 
	#SSL_R_LENGTH_TOO_SHORT
 160

	)

584 
	#SSL_R_LIBRARY_BUG
 274

	)

585 
	#SSL_R_LIBRARY_HAS_NO_CIPHERS
 161

	)

586 
	#SSL_R_MISSING_DSA_SIGNING_CERT
 165

	)

587 
	#SSL_R_MISSING_ECDSA_SIGNING_CERT
 381

	)

588 
	#SSL_R_MISSING_FATAL
 256

	)

589 
	#SSL_R_MISSING_PARAMETERS
 290

	)

590 
	#SSL_R_MISSING_RSA_CERTIFICATE
 168

	)

591 
	#SSL_R_MISSING_RSA_ENCRYPTING_CERT
 169

	)

592 
	#SSL_R_MISSING_RSA_SIGNING_CERT
 170

	)

593 
	#SSL_R_MISSING_SIGALGS_EXTENSION
 112

	)

594 
	#SSL_R_MISSING_SIGNING_CERT
 221

	)

595 
	#SSL_R_MISSING_SRP_PARAM
 358

	)

596 
	#SSL_R_MISSING_SUPPORTED_GROUPS_EXTENSION
 209

	)

597 
	#SSL_R_MISSING_TMP_DH_KEY
 171

	)

598 
	#SSL_R_MISSING_TMP_ECDH_KEY
 311

	)

599 
	#SSL_R_NOT_ON_RECORD_BOUNDARY
 182

	)

600 
	#SSL_R_NOT_REPLACING_CERTIFICATE
 289

	)

601 
	#SSL_R_NOT_SERVER
 284

	)

602 
	#SSL_R_NO_APPLICATION_PROTOCOL
 235

	)

603 
	#SSL_R_NO_CERTIFICATES_RETURNED
 176

	)

604 
	#SSL_R_NO_CERTIFICATE_ASSIGNED
 177

	)

605 
	#SSL_R_NO_CERTIFICATE_SET
 179

	)

606 
	#SSL_R_NO_CHANGE_FOLLOWING_HRR
 214

	)

607 
	#SSL_R_NO_CIPHERS_AVAILABLE
 181

	)

608 
	#SSL_R_NO_CIPHERS_SPECIFIED
 183

	)

609 
	#SSL_R_NO_CIPHER_MATCH
 185

	)

610 
	#SSL_R_NO_CLIENT_CERT_METHOD
 331

	)

611 
	#SSL_R_NO_COMPRESSION_SPECIFIED
 187

	)

612 
	#SSL_R_NO_COOKIE_CALLBACK_SET
 287

	)

613 
	#SSL_R_NO_GOST_CERTIFICATE_SENT_BY_PEER
 330

	)

614 
	#SSL_R_NO_METHOD_SPECIFIED
 188

	)

615 
	#SSL_R_NO_PEM_EXTENSIONS
 389

	)

616 
	#SSL_R_NO_PRIVATE_KEY_ASSIGNED
 190

	)

617 
	#SSL_R_NO_PROTOCOLS_AVAILABLE
 191

	)

618 
	#SSL_R_NO_RENEGOTIATION
 339

	)

619 
	#SSL_R_NO_REQUIRED_DIGEST
 324

	)

620 
	#SSL_R_NO_SHARED_CIPHER
 193

	)

621 
	#SSL_R_NO_SHARED_GROUPS
 410

	)

622 
	#SSL_R_NO_SHARED_SIGNATURE_ALGORITHMS
 376

	)

623 
	#SSL_R_NO_SRTP_PROFILES
 359

	)

624 
	#SSL_R_NO_SUITABLE_KEY_SHARE
 101

	)

625 
	#SSL_R_NO_SUITABLE_SIGNATURE_ALGORITHM
 118

	)

626 
	#SSL_R_NO_VALID_SCTS
 216

	)

627 
	#SSL_R_NO_VERIFY_COOKIE_CALLBACK
 403

	)

628 
	#SSL_R_NULL_SSL_CTX
 195

	)

629 
	#SSL_R_NULL_SSL_METHOD_PASSED
 196

	)

630 
	#SSL_R_OLD_SESSION_CIPHER_NOT_RETURNED
 197

	)

631 
	#SSL_R_OLD_SESSION_COMPRESSION_ALGORITHM_NOT_RETURNED
 344

	)

632 
	#SSL_R_OVERFLOW_ERROR
 237

	)

633 
	#SSL_R_PACKET_LENGTH_TOO_LONG
 198

	)

634 
	#SSL_R_PARSE_TLSEXT
 227

	)

635 
	#SSL_R_PATH_TOO_LONG
 270

	)

636 
	#SSL_R_PEER_DID_NOT_RETURN_A_CERTIFICATE
 199

	)

637 
	#SSL_R_PEM_NAME_BAD_PREFIX
 391

	)

638 
	#SSL_R_PEM_NAME_TOO_SHORT
 392

	)

639 
	#SSL_R_PIPELINE_FAILURE
 406

	)

640 
	#SSL_R_POST_HANDSHAKE_AUTH_ENCODING_ERR
 278

	)

641 
	#SSL_R_PRIVATE_KEY_MISMATCH
 288

	)

642 
	#SSL_R_PROTOCOL_IS_SHUTDOWN
 207

	)

643 
	#SSL_R_PSK_IDENTITY_NOT_FOUND
 223

	)

644 
	#SSL_R_PSK_NO_CLIENT_CB
 224

	)

645 
	#SSL_R_PSK_NO_SERVER_CB
 225

	)

646 
	#SSL_R_READ_BIO_NOT_SET
 211

	)

647 
	#SSL_R_READ_TIMEOUT_EXPIRED
 312

	)

648 
	#SSL_R_RECORD_LENGTH_MISMATCH
 213

	)

649 
	#SSL_R_RECORD_TOO_SMALL
 298

	)

650 
	#SSL_R_RENEGOTIATE_EXT_TOO_LONG
 335

	)

651 
	#SSL_R_RENEGOTIATION_ENCODING_ERR
 336

	)

652 
	#SSL_R_RENEGOTIATION_MISMATCH
 337

	)

653 
	#SSL_R_REQUEST_PENDING
 285

	)

654 
	#SSL_R_REQUEST_SENT
 286

	)

655 
	#SSL_R_REQUIRED_CIPHER_MISSING
 215

	)

656 
	#SSL_R_REQUIRED_COMPRESSION_ALGORITHM_MISSING
 342

	)

657 
	#SSL_R_SCSV_RECEIVED_WHEN_RENEGOTIATING
 345

	)

658 
	#SSL_R_SCT_VERIFICATION_FAILED
 208

	)

659 
	#SSL_R_SERVERHELLO_TLSEXT
 275

	)

660 
	#SSL_R_SESSION_ID_CONTEXT_UNINITIALIZED
 277

	)

661 
	#SSL_R_SHUTDOWN_WHILE_IN_INIT
 407

	)

662 
	#SSL_R_SIGNATURE_ALGORITHMS_ERROR
 360

	)

663 
	#SSL_R_SIGNATURE_FOR_NON_SIGNING_CERTIFICATE
 220

	)

664 
	#SSL_R_SRP_A_CALC
 361

	)

665 
	#SSL_R_SRTP_COULD_NOT_ALLOCATE_PROFILES
 362

	)

666 
	#SSL_R_SRTP_PROTECTION_PROFILE_LIST_TOO_LONG
 363

	)

667 
	#SSL_R_SRTP_UNKNOWN_PROTECTION_PROFILE
 364

	)

668 
	#SSL_R_SSL3_EXT_INVALID_MAX_FRAGMENT_LENGTH
 232

	)

669 
	#SSL_R_SSL3_EXT_INVALID_SERVERNAME
 319

	)

670 
	#SSL_R_SSL3_EXT_INVALID_SERVERNAME_TYPE
 320

	)

671 
	#SSL_R_SSL3_SESSION_ID_TOO_LONG
 300

	)

672 
	#SSL_R_SSLV3_ALERT_BAD_CERTIFICATE
 1042

	)

673 
	#SSL_R_SSLV3_ALERT_BAD_RECORD_MAC
 1020

	)

674 
	#SSL_R_SSLV3_ALERT_CERTIFICATE_EXPIRED
 1045

	)

675 
	#SSL_R_SSLV3_ALERT_CERTIFICATE_REVOKED
 1044

	)

676 
	#SSL_R_SSLV3_ALERT_CERTIFICATE_UNKNOWN
 1046

	)

677 
	#SSL_R_SSLV3_ALERT_DECOMPRESSION_FAILURE
 1030

	)

678 
	#SSL_R_SSLV3_ALERT_HANDSHAKE_FAILURE
 1040

	)

679 
	#SSL_R_SSLV3_ALERT_ILLEGAL_PARAMETER
 1047

	)

680 
	#SSL_R_SSLV3_ALERT_NO_CERTIFICATE
 1041

	)

681 
	#SSL_R_SSLV3_ALERT_UNEXPECTED_MESSAGE
 1010

	)

682 
	#SSL_R_SSLV3_ALERT_UNSUPPORTED_CERTIFICATE
 1043

	)

683 
	#SSL_R_SSL_COMMAND_SECTION_EMPTY
 117

	)

684 
	#SSL_R_SSL_COMMAND_SECTION_NOT_FOUND
 125

	)

685 
	#SSL_R_SSL_CTX_HAS_NO_DEFAULT_SSL_VERSION
 228

	)

686 
	#SSL_R_SSL_HANDSHAKE_FAILURE
 229

	)

687 
	#SSL_R_SSL_LIBRARY_HAS_NO_CIPHERS
 230

	)

688 
	#SSL_R_SSL_NEGATIVE_LENGTH
 372

	)

689 
	#SSL_R_SSL_SECTION_EMPTY
 126

	)

690 
	#SSL_R_SSL_SECTION_NOT_FOUND
 136

	)

691 
	#SSL_R_SSL_SESSION_ID_CALLBACK_FAILED
 301

	)

692 
	#SSL_R_SSL_SESSION_ID_CONFLICT
 302

	)

693 
	#SSL_R_SSL_SESSION_ID_CONTEXT_TOO_LONG
 273

	)

694 
	#SSL_R_SSL_SESSION_ID_HAS_BAD_LENGTH
 303

	)

695 
	#SSL_R_SSL_SESSION_ID_TOO_LONG
 408

	)

696 
	#SSL_R_SSL_SESSION_VERSION_MISMATCH
 210

	)

697 
	#SSL_R_STILL_IN_INIT
 121

	)

698 
	#SSL_R_TLSV13_ALERT_CERTIFICATE_REQUIRED
 1116

	)

699 
	#SSL_R_TLSV13_ALERT_MISSING_EXTENSION
 1109

	)

700 
	#SSL_R_TLSV1_ALERT_ACCESS_DENIED
 1049

	)

701 
	#SSL_R_TLSV1_ALERT_DECODE_ERROR
 1050

	)

702 
	#SSL_R_TLSV1_ALERT_DECRYPTION_FAILED
 1021

	)

703 
	#SSL_R_TLSV1_ALERT_DECRYPT_ERROR
 1051

	)

704 
	#SSL_R_TLSV1_ALERT_EXPORT_RESTRICTION
 1060

	)

705 
	#SSL_R_TLSV1_ALERT_INAPPROPRIATE_FALLBACK
 1086

	)

706 
	#SSL_R_TLSV1_ALERT_INSUFFICIENT_SECURITY
 1071

	)

707 
	#SSL_R_TLSV1_ALERT_INTERNAL_ERROR
 1080

	)

708 
	#SSL_R_TLSV1_ALERT_NO_RENEGOTIATION
 1100

	)

709 
	#SSL_R_TLSV1_ALERT_PROTOCOL_VERSION
 1070

	)

710 
	#SSL_R_TLSV1_ALERT_RECORD_OVERFLOW
 1022

	)

711 
	#SSL_R_TLSV1_ALERT_UNKNOWN_CA
 1048

	)

712 
	#SSL_R_TLSV1_ALERT_USER_CANCELLED
 1090

	)

713 
	#SSL_R_TLSV1_BAD_CERTIFICATE_HASH_VALUE
 1114

	)

714 
	#SSL_R_TLSV1_BAD_CERTIFICATE_STATUS_RESPONSE
 1113

	)

715 
	#SSL_R_TLSV1_CERTIFICATE_UNOBTAINABLE
 1111

	)

716 
	#SSL_R_TLSV1_UNRECOGNIZED_NAME
 1112

	)

717 
	#SSL_R_TLSV1_UNSUPPORTED_EXTENSION
 1110

	)

718 
	#SSL_R_TLS_HEARTBEAT_PEER_DOESNT_ACCEPT
 365

	)

719 
	#SSL_R_TLS_HEARTBEAT_PENDING
 366

	)

720 
	#SSL_R_TLS_ILLEGAL_EXPORTER_LABEL
 367

	)

721 
	#SSL_R_TLS_INVALID_ECPOINTFORMAT_LIST
 157

	)

722 
	#SSL_R_TOO_MANY_KEY_UPDATES
 132

	)

723 
	#SSL_R_TOO_MANY_WARN_ALERTS
 409

	)

724 
	#SSL_R_TOO_MUCH_EARLY_DATA
 164

	)

725 
	#SSL_R_UNABLE_TO_FIND_ECDH_PARAMETERS
 314

	)

726 
	#SSL_R_UNABLE_TO_FIND_PUBLIC_KEY_PARAMETERS
 239

	)

727 
	#SSL_R_UNABLE_TO_LOAD_SSL3_MD5_ROUTINES
 242

	)

728 
	#SSL_R_UNABLE_TO_LOAD_SSL3_SHA1_ROUTINES
 243

	)

729 
	#SSL_R_UNEXPECTED_CCS_MESSAGE
 262

	)

730 
	#SSL_R_UNEXPECTED_END_OF_EARLY_DATA
 178

	)

731 
	#SSL_R_UNEXPECTED_MESSAGE
 244

	)

732 
	#SSL_R_UNEXPECTED_RECORD
 245

	)

733 
	#SSL_R_UNINITIALIZED
 276

	)

734 
	#SSL_R_UNKNOWN_ALERT_TYPE
 246

	)

735 
	#SSL_R_UNKNOWN_CERTIFICATE_TYPE
 247

	)

736 
	#SSL_R_UNKNOWN_CIPHER_RETURNED
 248

	)

737 
	#SSL_R_UNKNOWN_CIPHER_TYPE
 249

	)

738 
	#SSL_R_UNKNOWN_CMD_NAME
 386

	)

739 
	#SSL_R_UNKNOWN_COMMAND
 139

	)

740 
	#SSL_R_UNKNOWN_DIGEST
 368

	)

741 
	#SSL_R_UNKNOWN_KEY_EXCHANGE_TYPE
 250

	)

742 
	#SSL_R_UNKNOWN_PKEY_TYPE
 251

	)

743 
	#SSL_R_UNKNOWN_PROTOCOL
 252

	)

744 
	#SSL_R_UNKNOWN_SSL_VERSION
 254

	)

745 
	#SSL_R_UNKNOWN_STATE
 255

	)

746 
	#SSL_R_UNSAFE_LEGACY_RENEGOTIATION_DISABLED
 338

	)

747 
	#SSL_R_UNSOLICITED_EXTENSION
 217

	)

748 
	#SSL_R_UNSUPPORTED_COMPRESSION_ALGORITHM
 257

	)

749 
	#SSL_R_UNSUPPORTED_ELLIPTIC_CURVE
 315

	)

750 
	#SSL_R_UNSUPPORTED_PROTOCOL
 258

	)

751 
	#SSL_R_UNSUPPORTED_SSL_VERSION
 259

	)

752 
	#SSL_R_UNSUPPORTED_STATUS_TYPE
 329

	)

753 
	#SSL_R_USE_SRTP_NOT_NEGOTIATED
 369

	)

754 
	#SSL_R_VERSION_TOO_HIGH
 166

	)

755 
	#SSL_R_VERSION_TOO_LOW
 396

	)

756 
	#SSL_R_WRONG_CERTIFICATE_TYPE
 383

	)

757 
	#SSL_R_WRONG_CIPHER_RETURNED
 261

	)

758 
	#SSL_R_WRONG_CURVE
 378

	)

759 
	#SSL_R_WRONG_SIGNATURE_LENGTH
 264

	)

760 
	#SSL_R_WRONG_SIGNATURE_SIZE
 265

	)

761 
	#SSL_R_WRONG_SIGNATURE_TYPE
 370

	)

762 
	#SSL_R_WRONG_SSL_VERSION
 266

	)

763 
	#SSL_R_WRONG_VERSION_NUMBER
 267

	)

764 
	#SSL_R_X509_LIB
 268

	)

765 
	#SSL_R_X509_VERIFICATION_SETUP_PROBLEMS
 269

	)

	@/usr/include/openssl/symhacks.h

10 #iâdeà
HEADER_SYMHACKS_H


11 
	#HEADER_SYMHACKS_H


	)

13 
	~<İ’s¦/e_os2.h
>

16 #ià
defšed
(
OPENSSL_SYS_VMS
)

17 #undeà
ERR_lßd_CRYPTO_¡ršgs


18 
	#ERR_lßd_CRYPTO_¡ršgs
 
ERR_lßd_CRYPTOlib_¡ršgs


	)

19 #undeà
OCSP_ülID_Ãw


20 
	#OCSP_ülID_Ãw
 
OCSP_ülID2_Ãw


	)

22 #undeà
d2i_ECPARAMETERS


23 
	#d2i_ECPARAMETERS
 
d2i_UC_ECPARAMETERS


	)

24 #undeà
i2d_ECPARAMETERS


25 
	#i2d_ECPARAMETERS
 
i2d_UC_ECPARAMETERS


	)

26 #undeà
d2i_ECPKPARAMETERS


27 
	#d2i_ECPKPARAMETERS
 
d2i_UC_ECPKPARAMETERS


	)

28 #undeà
i2d_ECPKPARAMETERS


29 
	#i2d_ECPKPARAMETERS
 
i2d_UC_ECPKPARAMETERS


	)

37 #undeà
X509v3_ş—nup_ex‹nsiÚs


38 
	#X509v3_ş—nup_ex‹nsiÚs
 
oX509v3_ş—nup_ex‹nsiÚs


	)

39 #undeà
X509v3_add_ex‹nsiÚ


40 
	#X509v3_add_ex‹nsiÚ
 
oX509v3_add_ex‹nsiÚ


	)

41 #undeà
X509v3_add_Ãtsÿ³_ex‹nsiÚs


42 
	#X509v3_add_Ãtsÿ³_ex‹nsiÚs
 
oX509v3_add_Ãtsÿ³_ex‹nsiÚs


	)

43 #undeà
X509v3_add_¡ªd¬d_ex‹nsiÚs


44 
	#X509v3_add_¡ªd¬d_ex‹nsiÚs
 
oX509v3_add_¡ªd¬d_ex‹nsiÚs


	)

47 #undeà
cms_D©a_ü—‹


48 
	#cms_D©a_ü—‹
 
´iv_cms_D©a_ü—‹


	)

	@/usr/include/openssl/x509_vfy.h

10 #iâdeà
HEADER_X509_VFY_H


11 
	#HEADER_X509_VFY_H


	)

16 #iâdeà
HEADER_X509_H


17 
	~<İ’s¦/x509.h
>

20 
	~<İ’s¦/İ’s¦cÚf.h
>

21 
	~<İ’s¦/lhash.h
>

22 
	~<İ’s¦/bio.h
>

23 
	~<İ’s¦/üy±o.h
>

24 
	~<İ’s¦/symhacks.h
>

26 #ifdeà 
__ılu¥lus


48 
X509_LU_NONE
 = 0,

49 
X509_LU_X509
, 
X509_LU_CRL


50 } 
	tX509_LOOKUP_TYPE
;

52 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

53 
	#X509_LU_RETRY
 -1

	)

54 
	#X509_LU_FAIL
 0

	)

57 
DEFINE_STACK_OF
(
X509_LOOKUP
)

58 
DEFINE_STACK_OF
(
X509_OBJECT
)

59 
DEFINE_STACK_OF
(
X509_VERIFY_PARAM
)

61 
X509_STORE_£t_d•th
(
X509_STORE
 *
¡Üe
, 
d•th
);

63 (*
X509_STORE_CTX_v”ify_cb
)(, 
	tX509_STORE_CTX
 *);

64 (*
X509_STORE_CTX_v”ify_â
)(
	tX509_STORE_CTX
 *);

65 (*
X509_STORE_CTX_g‘_issu”_â
)(
	tX509
 **
	tissu”
,

66 
	tX509_STORE_CTX
 *
	tùx
, 
	tX509
 *
	tx
);

67 (*
X509_STORE_CTX_check_issued_â
)(
	tX509_STORE_CTX
 *
	tùx
,

68 
	tX509
 *
	tx
, X509 *
	tissu”
);

69 (*
X509_STORE_CTX_check_»voÿtiÚ_â
)(
	tX509_STORE_CTX
 *
	tùx
);

70 (*
X509_STORE_CTX_g‘_ül_â
)(
	tX509_STORE_CTX
 *
	tùx
,

71 
	tX509_CRL
 **
	tül
, 
	tX509
 *
	tx
);

72 (*
X509_STORE_CTX_check_ül_â
)(
	tX509_STORE_CTX
 *
	tùx
, 
	tX509_CRL
 *
	tül
);

73 (*
X509_STORE_CTX_û¹_ül_â
)(
	tX509_STORE_CTX
 *
	tùx
,

74 
	tX509_CRL
 *
	tül
, 
	tX509
 *
	tx
);

75 (*
X509_STORE_CTX_check_pŞicy_â
)(
	tX509_STORE_CTX
 *
	tùx
);

76 
STACK_OF
(
	tX509
è*(*
	tX509_STORE_CTX_lookup_û¹s_â
)(
	tX509_STORE_CTX
 *
	tùx
,

77 
	tX509_NAME
 *
	tnm
);

78 
STACK_OF
(
	tX509_CRL
è*(*
	tX509_STORE_CTX_lookup_üls_â
)(
	tX509_STORE_CTX
 *
	tùx
,

79 
	tX509_NAME
 *
	tnm
);

80 (*
X509_STORE_CTX_ş—nup_â
)(
	tX509_STORE_CTX
 *
	tùx
);

83 
X509_STORE_CTX_£t_d•th
(
X509_STORE_CTX
 *
ùx
, 
d•th
);

85 
	#X509_STORE_CTX_£t_­p_d©a
(
ùx
,
d©a
) \

86 
	`X509_STORE_CTX_£t_ex_d©a
(
ùx
,0,
d©a
)

	)

87 
	#X509_STORE_CTX_g‘_­p_d©a
(
ùx
) \

88 
	`X509_STORE_CTX_g‘_ex_d©a
(
ùx
,0)

	)

90 
	#X509_L_FILE_LOAD
 1

	)

91 
	#X509_L_ADD_DIR
 2

	)

93 
	#X509_LOOKUP_lßd_fe
(
x
,
Çme
,
ty³
) \

94 
	`X509_LOOKUP_ù¾
((
x
),
X509_L_FILE_LOAD
,(
Çme
),()(
ty³
),
NULL
)

	)

96 
	#X509_LOOKUP_add_dœ
(
x
,
Çme
,
ty³
) \

97 
	`X509_LOOKUP_ù¾
((
x
),
X509_L_ADD_DIR
,(
Çme
),()(
ty³
),
NULL
)

	)

99 
	#X509_V_OK
 0

	)

100 
	#X509_V_ERR_UNSPECIFIED
 1

	)

101 
	#X509_V_ERR_UNABLE_TO_GET_ISSUER_CERT
 2

	)

102 
	#X509_V_ERR_UNABLE_TO_GET_CRL
 3

	)

103 
	#X509_V_ERR_UNABLE_TO_DECRYPT_CERT_SIGNATURE
 4

	)

104 
	#X509_V_ERR_UNABLE_TO_DECRYPT_CRL_SIGNATURE
 5

	)

105 
	#X509_V_ERR_UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY
 6

	)

106 
	#X509_V_ERR_CERT_SIGNATURE_FAILURE
 7

	)

107 
	#X509_V_ERR_CRL_SIGNATURE_FAILURE
 8

	)

108 
	#X509_V_ERR_CERT_NOT_YET_VALID
 9

	)

109 
	#X509_V_ERR_CERT_HAS_EXPIRED
 10

	)

110 
	#X509_V_ERR_CRL_NOT_YET_VALID
 11

	)

111 
	#X509_V_ERR_CRL_HAS_EXPIRED
 12

	)

112 
	#X509_V_ERR_ERROR_IN_CERT_NOT_BEFORE_FIELD
 13

	)

113 
	#X509_V_ERR_ERROR_IN_CERT_NOT_AFTER_FIELD
 14

	)

114 
	#X509_V_ERR_ERROR_IN_CRL_LAST_UPDATE_FIELD
 15

	)

115 
	#X509_V_ERR_ERROR_IN_CRL_NEXT_UPDATE_FIELD
 16

	)

116 
	#X509_V_ERR_OUT_OF_MEM
 17

	)

117 
	#X509_V_ERR_DEPTH_ZERO_SELF_SIGNED_CERT
 18

	)

118 
	#X509_V_ERR_SELF_SIGNED_CERT_IN_CHAIN
 19

	)

119 
	#X509_V_ERR_UNABLE_TO_GET_ISSUER_CERT_LOCALLY
 20

	)

120 
	#X509_V_ERR_UNABLE_TO_VERIFY_LEAF_SIGNATURE
 21

	)

121 
	#X509_V_ERR_CERT_CHAIN_TOO_LONG
 22

	)

122 
	#X509_V_ERR_CERT_REVOKED
 23

	)

123 
	#X509_V_ERR_INVALID_CA
 24

	)

124 
	#X509_V_ERR_PATH_LENGTH_EXCEEDED
 25

	)

125 
	#X509_V_ERR_INVALID_PURPOSE
 26

	)

126 
	#X509_V_ERR_CERT_UNTRUSTED
 27

	)

127 
	#X509_V_ERR_CERT_REJECTED
 28

	)

129 
	#X509_V_ERR_SUBJECT_ISSUER_MISMATCH
 29

	)

130 
	#X509_V_ERR_AKID_SKID_MISMATCH
 30

	)

131 
	#X509_V_ERR_AKID_ISSUER_SERIAL_MISMATCH
 31

	)

132 
	#X509_V_ERR_KEYUSAGE_NO_CERTSIGN
 32

	)

133 
	#X509_V_ERR_UNABLE_TO_GET_CRL_ISSUER
 33

	)

134 
	#X509_V_ERR_UNHANDLED_CRITICAL_EXTENSION
 34

	)

135 
	#X509_V_ERR_KEYUSAGE_NO_CRL_SIGN
 35

	)

136 
	#X509_V_ERR_UNHANDLED_CRITICAL_CRL_EXTENSION
 36

	)

137 
	#X509_V_ERR_INVALID_NON_CA
 37

	)

138 
	#X509_V_ERR_PROXY_PATH_LENGTH_EXCEEDED
 38

	)

139 
	#X509_V_ERR_KEYUSAGE_NO_DIGITAL_SIGNATURE
 39

	)

140 
	#X509_V_ERR_PROXY_CERTIFICATES_NOT_ALLOWED
 40

	)

141 
	#X509_V_ERR_INVALID_EXTENSION
 41

	)

142 
	#X509_V_ERR_INVALID_POLICY_EXTENSION
 42

	)

143 
	#X509_V_ERR_NO_EXPLICIT_POLICY
 43

	)

144 
	#X509_V_ERR_DIFFERENT_CRL_SCOPE
 44

	)

145 
	#X509_V_ERR_UNSUPPORTED_EXTENSION_FEATURE
 45

	)

146 
	#X509_V_ERR_UNNESTED_RESOURCE
 46

	)

147 
	#X509_V_ERR_PERMITTED_VIOLATION
 47

	)

148 
	#X509_V_ERR_EXCLUDED_VIOLATION
 48

	)

149 
	#X509_V_ERR_SUBTREE_MINMAX
 49

	)

151 
	#X509_V_ERR_APPLICATION_VERIFICATION
 50

	)

152 
	#X509_V_ERR_UNSUPPORTED_CONSTRAINT_TYPE
 51

	)

153 
	#X509_V_ERR_UNSUPPORTED_CONSTRAINT_SYNTAX
 52

	)

154 
	#X509_V_ERR_UNSUPPORTED_NAME_SYNTAX
 53

	)

155 
	#X509_V_ERR_CRL_PATH_VALIDATION_ERROR
 54

	)

157 
	#X509_V_ERR_PATH_LOOP
 55

	)

159 
	#X509_V_ERR_SUITE_B_INVALID_VERSION
 56

	)

160 
	#X509_V_ERR_SUITE_B_INVALID_ALGORITHM
 57

	)

161 
	#X509_V_ERR_SUITE_B_INVALID_CURVE
 58

	)

162 
	#X509_V_ERR_SUITE_B_INVALID_SIGNATURE_ALGORITHM
 59

	)

163 
	#X509_V_ERR_SUITE_B_LOS_NOT_ALLOWED
 60

	)

164 
	#X509_V_ERR_SUITE_B_CANNOT_SIGN_P_384_WITH_P_256
 61

	)

166 
	#X509_V_ERR_HOSTNAME_MISMATCH
 62

	)

167 
	#X509_V_ERR_EMAIL_MISMATCH
 63

	)

168 
	#X509_V_ERR_IP_ADDRESS_MISMATCH
 64

	)

170 
	#X509_V_ERR_DANE_NO_MATCH
 65

	)

172 
	#X509_V_ERR_EE_KEY_TOO_SMALL
 66

	)

173 
	#X509_V_ERR_CA_KEY_TOO_SMALL
 67

	)

174 
	#X509_V_ERR_CA_MD_TOO_WEAK
 68

	)

176 
	#X509_V_ERR_INVALID_CALL
 69

	)

178 
	#X509_V_ERR_STORE_LOOKUP
 70

	)

180 
	#X509_V_ERR_NO_VALID_SCTS
 71

	)

182 
	#X509_V_ERR_PROXY_SUBJECT_NAME_VIOLATION
 72

	)

184 
	#X509_V_ERR_OCSP_VERIFY_NEEDED
 73

	)

185 
	#X509_V_ERR_OCSP_VERIFY_FAILED
 74

	)

186 
	#X509_V_ERR_OCSP_CERT_UNKNOWN
 75

	)

190 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

191 
	#X509_V_FLAG_CB_ISSUER_CHECK
 0x0

	)

194 
	#X509_V_FLAG_USE_CHECK_TIME
 0x2

	)

196 
	#X509_V_FLAG_CRL_CHECK
 0x4

	)

198 
	#X509_V_FLAG_CRL_CHECK_ALL
 0x8

	)

200 
	#X509_V_FLAG_IGNORE_CRITICAL
 0x10

	)

202 
	#X509_V_FLAG_X509_STRICT
 0x20

	)

204 
	#X509_V_FLAG_ALLOW_PROXY_CERTS
 0x40

	)

206 
	#X509_V_FLAG_POLICY_CHECK
 0x80

	)

208 
	#X509_V_FLAG_EXPLICIT_POLICY
 0x100

	)

210 
	#X509_V_FLAG_INHIBIT_ANY
 0x200

	)

212 
	#X509_V_FLAG_INHIBIT_MAP
 0x400

	)

214 
	#X509_V_FLAG_NOTIFY_POLICY
 0x800

	)

216 
	#X509_V_FLAG_EXTENDED_CRL_SUPPORT
 0x1000

	)

218 
	#X509_V_FLAG_USE_DELTAS
 0x2000

	)

220 
	#X509_V_FLAG_CHECK_SS_SIGNATURE
 0x4000

	)

222 
	#X509_V_FLAG_TRUSTED_FIRST
 0x8000

	)

224 
	#X509_V_FLAG_SUITEB_128_LOS_ONLY
 0x10000

	)

226 
	#X509_V_FLAG_SUITEB_192_LOS
 0x20000

	)

228 
	#X509_V_FLAG_SUITEB_128_LOS
 0x30000

	)

230 
	#X509_V_FLAG_PARTIAL_CHAIN
 0x80000

	)

236 
	#X509_V_FLAG_NO_ALT_CHAINS
 0x100000

	)

238 
	#X509_V_FLAG_NO_CHECK_TIME
 0x200000

	)

240 
	#X509_VP_FLAG_DEFAULT
 0x1

	)

241 
	#X509_VP_FLAG_OVERWRITE
 0x2

	)

242 
	#X509_VP_FLAG_RESET_FLAGS
 0x4

	)

243 
	#X509_VP_FLAG_LOCKED
 0x8

	)

244 
	#X509_VP_FLAG_ONCE
 0x10

	)

247 
	#X509_V_FLAG_POLICY_MASK
 (
X509_V_FLAG_POLICY_CHECK
 \

248 | 
X509_V_FLAG_EXPLICIT_POLICY
 \

249 | 
X509_V_FLAG_INHIBIT_ANY
 \

250 | 
X509_V_FLAG_INHIBIT_MAP
)

	)

252 
X509_OBJECT_idx_by_subjeù
(
STACK_OF
(
X509_OBJECT
è*
h
, 
X509_LOOKUP_TYPE
 
ty³
,

253 
X509_NAME
 *
Çme
);

254 
X509_OBJECT
 *
X509_OBJECT_»Œ›ve_by_subjeù
(
STACK_OF
(X509_OBJECTè*
h
,

255 
X509_LOOKUP_TYPE
 
ty³
,

256 
X509_NAME
 *
Çme
);

257 
X509_OBJECT
 *
X509_OBJECT_»Œ›ve_m©ch
(
STACK_OF
(X509_OBJECTè*
h
,

258 
X509_OBJECT
 *
x
);

259 
X509_OBJECT_up_»f_couÁ
(
X509_OBJECT
 *
a
);

260 
X509_OBJECT
 *
X509_OBJECT_Ãw
();

261 
X509_OBJECT_ä“
(
X509_OBJECT
 *
a
);

262 
X509_LOOKUP_TYPE
 
X509_OBJECT_g‘_ty³
(cÚ¡ 
X509_OBJECT
 *
a
);

263 
X509
 *
X509_OBJECT_g‘0_X509
(cÚ¡ 
X509_OBJECT
 *
a
);

264 
X509_OBJECT_£t1_X509
(
X509_OBJECT
 *
a
, 
X509
 *
obj
);

265 
X509_CRL
 *
X509_OBJECT_g‘0_X509_CRL
(
X509_OBJECT
 *
a
);

266 
X509_OBJECT_£t1_X509_CRL
(
X509_OBJECT
 *
a
, 
X509_CRL
 *
obj
);

267 
X509_STORE
 *
X509_STORE_Ãw
();

268 
X509_STORE_ä“
(
X509_STORE
 *
v
);

269 
X509_STORE_lock
(
X509_STORE
 *
ùx
);

270 
X509_STORE_uÆock
(
X509_STORE
 *
ùx
);

271 
X509_STORE_up_»f
(
X509_STORE
 *
v
);

272 
STACK_OF
(
X509_OBJECT
è*
X509_STORE_g‘0_objeùs
(
X509_STORE
 *
v
);

274 
STACK_OF
(
X509
è*
X509_STORE_CTX_g‘1_û¹s
(
X509_STORE_CTX
 *
¡
, 
X509_NAME
 *
nm
);

275 
STACK_OF
(
X509_CRL
è*
X509_STORE_CTX_g‘1_üls
(
X509_STORE_CTX
 *
¡
, 
X509_NAME
 *
nm
);

276 
X509_STORE_£t_æags
(
X509_STORE
 *
ùx
, 
æags
);

277 
X509_STORE_£t_pu½o£
(
X509_STORE
 *
ùx
, 
pu½o£
);

278 
X509_STORE_£t_Œu¡
(
X509_STORE
 *
ùx
, 
Œu¡
);

279 
X509_STORE_£t1_·¿m
(
X509_STORE
 *
ùx
, 
X509_VERIFY_PARAM
 *
pm
);

280 
X509_VERIFY_PARAM
 *
X509_STORE_g‘0_·¿m
(
X509_STORE
 *
ùx
);

282 
X509_STORE_£t_v”ify
(
X509_STORE
 *
ùx
, 
X509_STORE_CTX_v”ify_â
 
v”ify
);

283 
	#X509_STORE_£t_v”ify_func
(
ùx
, 
func
) \

284 
	`X509_STORE_£t_v”ify
((
ùx
),(
func
))

	)

285 
X509_STORE_CTX_£t_v”ify
(
X509_STORE_CTX
 *
ùx
,

286 
X509_STORE_CTX_v”ify_â
 
v”ify
);

287 
X509_STORE_CTX_v”ify_â
 
X509_STORE_g‘_v”ify
(
X509_STORE
 *
ùx
);

288 
X509_STORE_£t_v”ify_cb
(
X509_STORE
 *
ùx
,

289 
X509_STORE_CTX_v”ify_cb
 
v”ify_cb
);

290 
	#X509_STORE_£t_v”ify_cb_func
(
ùx
,
func
) \

291 
	`X509_STORE_£t_v”ify_cb
((
ùx
),(
func
))

	)

292 
X509_STORE_CTX_v”ify_cb
 
X509_STORE_g‘_v”ify_cb
(
X509_STORE
 *
ùx
);

293 
X509_STORE_£t_g‘_issu”
(
X509_STORE
 *
ùx
,

294 
X509_STORE_CTX_g‘_issu”_â
 
g‘_issu”
);

295 
X509_STORE_CTX_g‘_issu”_â
 
X509_STORE_g‘_g‘_issu”
(
X509_STORE
 *
ùx
);

296 
X509_STORE_£t_check_issued
(
X509_STORE
 *
ùx
,

297 
X509_STORE_CTX_check_issued_â
 
check_issued
);

298 
X509_STORE_CTX_check_issued_â
 
X509_STORE_g‘_check_issued
(
X509_STORE
 *
ùx
);

299 
X509_STORE_£t_check_»voÿtiÚ
(
X509_STORE
 *
ùx
,

300 
X509_STORE_CTX_check_»voÿtiÚ_â
 
check_»voÿtiÚ
);

301 
X509_STORE_CTX_check_»voÿtiÚ_â
 
X509_STORE_g‘_check_»voÿtiÚ
(
X509_STORE
 *
ùx
);

302 
X509_STORE_£t_g‘_ül
(
X509_STORE
 *
ùx
,

303 
X509_STORE_CTX_g‘_ül_â
 
g‘_ül
);

304 
X509_STORE_CTX_g‘_ül_â
 
X509_STORE_g‘_g‘_ül
(
X509_STORE
 *
ùx
);

305 
X509_STORE_£t_check_ül
(
X509_STORE
 *
ùx
,

306 
X509_STORE_CTX_check_ül_â
 
check_ül
);

307 
X509_STORE_CTX_check_ül_â
 
X509_STORE_g‘_check_ül
(
X509_STORE
 *
ùx
);

308 
X509_STORE_£t_û¹_ül
(
X509_STORE
 *
ùx
,

309 
X509_STORE_CTX_û¹_ül_â
 
û¹_ül
);

310 
X509_STORE_CTX_û¹_ül_â
 
X509_STORE_g‘_û¹_ül
(
X509_STORE
 *
ùx
);

311 
X509_STORE_£t_check_pŞicy
(
X509_STORE
 *
ùx
,

312 
X509_STORE_CTX_check_pŞicy_â
 
check_pŞicy
);

313 
X509_STORE_CTX_check_pŞicy_â
 
X509_STORE_g‘_check_pŞicy
(
X509_STORE
 *
ùx
);

314 
X509_STORE_£t_lookup_û¹s
(
X509_STORE
 *
ùx
,

315 
X509_STORE_CTX_lookup_û¹s_â
 
lookup_û¹s
);

316 
X509_STORE_CTX_lookup_û¹s_â
 
X509_STORE_g‘_lookup_û¹s
(
X509_STORE
 *
ùx
);

317 
X509_STORE_£t_lookup_üls
(
X509_STORE
 *
ùx
,

318 
X509_STORE_CTX_lookup_üls_â
 
lookup_üls
);

319 
	#X509_STORE_£t_lookup_üls_cb
(
ùx
, 
func
) \

320 
	`X509_STORE_£t_lookup_üls
((
ùx
), (
func
))

	)

321 
X509_STORE_CTX_lookup_üls_â
 
X509_STORE_g‘_lookup_üls
(
X509_STORE
 *
ùx
);

322 
X509_STORE_£t_ş—nup
(
X509_STORE
 *
ùx
,

323 
X509_STORE_CTX_ş—nup_â
 
ş—nup
);

324 
X509_STORE_CTX_ş—nup_â
 
X509_STORE_g‘_ş—nup
(
X509_STORE
 *
ùx
);

326 
	#X509_STORE_g‘_ex_Ãw_šdex
(
l
, 
p
, 
Ãwf
, 
dupf
, 
ä“f
) \

327 
	`CRYPTO_g‘_ex_Ãw_šdex
(
CRYPTO_EX_INDEX_X509_STORE
, 
l
, 
p
, 
Ãwf
, 
dupf
, 
ä“f
)

	)

328 
X509_STORE_£t_ex_d©a
(
X509_STORE
 *
ùx
, 
idx
, *
d©a
);

329 *
X509_STORE_g‘_ex_d©a
(
X509_STORE
 *
ùx
, 
idx
);

331 
X509_STORE_CTX
 *
X509_STORE_CTX_Ãw
();

333 
X509_STORE_CTX_g‘1_issu”
(
X509
 **
issu”
, 
X509_STORE_CTX
 *
ùx
, X509 *
x
);

335 
X509_STORE_CTX_ä“
(
X509_STORE_CTX
 *
ùx
);

336 
X509_STORE_CTX_š™
(
X509_STORE_CTX
 *
ùx
, 
X509_STORE
 *
¡Üe
,

337 
X509
 *
x509
, 
STACK_OF
(X509è*
chaš
);

338 
X509_STORE_CTX_£t0_Œu¡ed_¡ack
(
X509_STORE_CTX
 *
ùx
, 
STACK_OF
(
X509
è*
sk
);

339 
X509_STORE_CTX_ş—nup
(
X509_STORE_CTX
 *
ùx
);

341 
X509_STORE
 *
X509_STORE_CTX_g‘0_¡Üe
(
X509_STORE_CTX
 *
ùx
);

342 
X509
 *
X509_STORE_CTX_g‘0_û¹
(
X509_STORE_CTX
 *
ùx
);

343 
STACK_OF
(
X509
)* 
X509_STORE_CTX_g‘0_uÁru¡ed
(
X509_STORE_CTX
 *
ùx
);

344 
X509_STORE_CTX_£t0_uÁru¡ed
(
X509_STORE_CTX
 *
ùx
, 
STACK_OF
(
X509
è*
sk
);

345 
X509_STORE_CTX_£t_v”ify_cb
(
X509_STORE_CTX
 *
ùx
,

346 
X509_STORE_CTX_v”ify_cb
 
v”ify
);

347 
X509_STORE_CTX_v”ify_cb
 
X509_STORE_CTX_g‘_v”ify_cb
(
X509_STORE_CTX
 *
ùx
);

348 
X509_STORE_CTX_v”ify_â
 
X509_STORE_CTX_g‘_v”ify
(
X509_STORE_CTX
 *
ùx
);

349 
X509_STORE_CTX_g‘_issu”_â
 
X509_STORE_CTX_g‘_g‘_issu”
(
X509_STORE_CTX
 *
ùx
);

350 
X509_STORE_CTX_check_issued_â
 
X509_STORE_CTX_g‘_check_issued
(
X509_STORE_CTX
 *
ùx
);

351 
X509_STORE_CTX_check_»voÿtiÚ_â
 
X509_STORE_CTX_g‘_check_»voÿtiÚ
(
X509_STORE_CTX
 *
ùx
);

352 
X509_STORE_CTX_g‘_ül_â
 
X509_STORE_CTX_g‘_g‘_ül
(
X509_STORE_CTX
 *
ùx
);

353 
X509_STORE_CTX_check_ül_â
 
X509_STORE_CTX_g‘_check_ül
(
X509_STORE_CTX
 *
ùx
);

354 
X509_STORE_CTX_û¹_ül_â
 
X509_STORE_CTX_g‘_û¹_ül
(
X509_STORE_CTX
 *
ùx
);

355 
X509_STORE_CTX_check_pŞicy_â
 
X509_STORE_CTX_g‘_check_pŞicy
(
X509_STORE_CTX
 *
ùx
);

356 
X509_STORE_CTX_lookup_û¹s_â
 
X509_STORE_CTX_g‘_lookup_û¹s
(
X509_STORE_CTX
 *
ùx
);

357 
X509_STORE_CTX_lookup_üls_â
 
X509_STORE_CTX_g‘_lookup_üls
(
X509_STORE_CTX
 *
ùx
);

358 
X509_STORE_CTX_ş—nup_â
 
X509_STORE_CTX_g‘_ş—nup
(
X509_STORE_CTX
 *
ùx
);

360 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

361 
	#X509_STORE_CTX_g‘_chaš
 
X509_STORE_CTX_g‘0_chaš


	)

362 
	#X509_STORE_CTX_£t_chaš
 
X509_STORE_CTX_£t0_uÁru¡ed


	)

363 
	#X509_STORE_CTX_Œu¡ed_¡ack
 
X509_STORE_CTX_£t0_Œu¡ed_¡ack


	)

364 
	#X509_STORE_g‘_by_subjeù
 
X509_STORE_CTX_g‘_by_subjeù


	)

365 
	#X509_STORE_g‘1_û¹
 
X509_STORE_CTX_g‘1_û¹s


	)

366 
	#X509_STORE_g‘1_ül
 
X509_STORE_CTX_g‘1_üls


	)

369 
X509_LOOKUP
 *
X509_STORE_add_lookup
(
X509_STORE
 *
v
, 
X509_LOOKUP_METHOD
 *
m
);

370 
X509_LOOKUP_METHOD
 *
X509_LOOKUP_hash_dœ
();

371 
X509_LOOKUP_METHOD
 *
X509_LOOKUP_fe
();

373 (*
X509_LOOKUP_ù¾_â
)(
	tX509_LOOKUP
 *
	tùx
, 
	tcmd
, cÚ¡ *
	t¬gc
,

374 
	t¬gl
, **
	t»t
);

375 (*
X509_LOOKUP_g‘_by_subjeù_â
)(
	tX509_LOOKUP
 *
	tùx
,

376 
	tX509_LOOKUP_TYPE
 
	tty³
,

377 
	tX509_NAME
 *
	tÇme
,

378 
	tX509_OBJECT
 *
	t»t
);

379 (*
X509_LOOKUP_g‘_by_issu”_£rŸl_â
)(
	tX509_LOOKUP
 *
	tùx
,

380 
	tX509_LOOKUP_TYPE
 
	tty³
,

381 
	tX509_NAME
 *
	tÇme
,

382 
	tASN1_INTEGER
 *
	t£rŸl
,

383 
	tX509_OBJECT
 *
	t»t
);

384 (*
X509_LOOKUP_g‘_by_fšg”´št_â
)(
	tX509_LOOKUP
 *
	tùx
,

385 
	tX509_LOOKUP_TYPE
 
	tty³
,

386 cÚ¡ * 
	tby‹s
,

387 
	tËn
,

388 
	tX509_OBJECT
 *
	t»t
);

389 (*
X509_LOOKUP_g‘_by_®Ÿs_â
)(
	tX509_LOOKUP
 *
	tùx
,

390 
	tX509_LOOKUP_TYPE
 
	tty³
,

391 cÚ¡ *
	t¡r
,

392 
	tËn
,

393 
	tX509_OBJECT
 *
	t»t
);

395 
X509_LOOKUP_METHOD
 *
X509_LOOKUP_m‘h_Ãw
(cÚ¡ *
Çme
);

396 
X509_LOOKUP_m‘h_ä“
(
X509_LOOKUP_METHOD
 *
m‘hod
);

398 
X509_LOOKUP_m‘h_£t_Ãw_™em
(
X509_LOOKUP_METHOD
 *
m‘hod
,

399 (*
Ãw_™em
è(
X509_LOOKUP
 *
ùx
));

400 (*
X509_LOOKUP_m‘h_g‘_Ãw_™em
(cÚ¡ 
X509_LOOKUP_METHOD
* 
m‘hod
))

401 (
X509_LOOKUP
 *
ùx
);

403 
X509_LOOKUP_m‘h_£t_ä“
(
X509_LOOKUP_METHOD
 *
m‘hod
,

404 (*
ä“_â
è(
X509_LOOKUP
 *
ùx
));

405 (*
X509_LOOKUP_m‘h_g‘_ä“
(cÚ¡ 
X509_LOOKUP_METHOD
* 
m‘hod
))

406 (
X509_LOOKUP
 *
ùx
);

408 
X509_LOOKUP_m‘h_£t_š™
(
X509_LOOKUP_METHOD
 *
m‘hod
,

409 (*
š™
è(
X509_LOOKUP
 *
ùx
));

410 (*
X509_LOOKUP_m‘h_g‘_š™
(cÚ¡ 
X509_LOOKUP_METHOD
* 
m‘hod
))

411 (
X509_LOOKUP
 *
ùx
);

413 
X509_LOOKUP_m‘h_£t_shutdown
(
X509_LOOKUP_METHOD
 *
m‘hod
,

414 (*
shutdown
è(
X509_LOOKUP
 *
ùx
));

415 (*
X509_LOOKUP_m‘h_g‘_shutdown
(cÚ¡ 
X509_LOOKUP_METHOD
* 
m‘hod
))

416 (
X509_LOOKUP
 *
ùx
);

418 
X509_LOOKUP_m‘h_£t_ù¾
(
X509_LOOKUP_METHOD
 *
m‘hod
,

419 
X509_LOOKUP_ù¾_â
 
ù¾_â
);

420 
X509_LOOKUP_ù¾_â
 
X509_LOOKUP_m‘h_g‘_ù¾
(cÚ¡ 
X509_LOOKUP_METHOD
 *
m‘hod
);

422 
X509_LOOKUP_m‘h_£t_g‘_by_subjeù
(
X509_LOOKUP_METHOD
 *
m‘hod
,

423 
X509_LOOKUP_g‘_by_subjeù_â
 
â
);

424 
X509_LOOKUP_g‘_by_subjeù_â
 
X509_LOOKUP_m‘h_g‘_g‘_by_subjeù
(

425 cÚ¡ 
X509_LOOKUP_METHOD
 *
m‘hod
);

427 
X509_LOOKUP_m‘h_£t_g‘_by_issu”_£rŸl
(
X509_LOOKUP_METHOD
 *
m‘hod
,

428 
X509_LOOKUP_g‘_by_issu”_£rŸl_â
 
â
);

429 
X509_LOOKUP_g‘_by_issu”_£rŸl_â
 
X509_LOOKUP_m‘h_g‘_g‘_by_issu”_£rŸl
(

430 cÚ¡ 
X509_LOOKUP_METHOD
 *
m‘hod
);

432 
X509_LOOKUP_m‘h_£t_g‘_by_fšg”´št
(
X509_LOOKUP_METHOD
 *
m‘hod
,

433 
X509_LOOKUP_g‘_by_fšg”´št_â
 
â
);

434 
X509_LOOKUP_g‘_by_fšg”´št_â
 
X509_LOOKUP_m‘h_g‘_g‘_by_fšg”´št
(

435 cÚ¡ 
X509_LOOKUP_METHOD
 *
m‘hod
);

437 
X509_LOOKUP_m‘h_£t_g‘_by_®Ÿs
(
X509_LOOKUP_METHOD
 *
m‘hod
,

438 
X509_LOOKUP_g‘_by_®Ÿs_â
 
â
);

439 
X509_LOOKUP_g‘_by_®Ÿs_â
 
X509_LOOKUP_m‘h_g‘_g‘_by_®Ÿs
(

440 cÚ¡ 
X509_LOOKUP_METHOD
 *
m‘hod
);

443 
X509_STORE_add_û¹
(
X509_STORE
 *
ùx
, 
X509
 *
x
);

444 
X509_STORE_add_ül
(
X509_STORE
 *
ùx
, 
X509_CRL
 *
x
);

446 
X509_STORE_CTX_g‘_by_subjeù
(
X509_STORE_CTX
 *
vs
, 
X509_LOOKUP_TYPE
 
ty³
,

447 
X509_NAME
 *
Çme
, 
X509_OBJECT
 *
»t
);

448 
X509_OBJECT
 *
X509_STORE_CTX_g‘_obj_by_subjeù
(
X509_STORE_CTX
 *
vs
,

449 
X509_LOOKUP_TYPE
 
ty³
,

450 
X509_NAME
 *
Çme
);

452 
X509_LOOKUP_ù¾
(
X509_LOOKUP
 *
ùx
, 
cmd
, cÚ¡ *
¬gc
,

453 
¬gl
, **
»t
);

455 
X509_lßd_û¹_fe
(
X509_LOOKUP
 *
ùx
, cÚ¡ *
fe
, 
ty³
);

456 
X509_lßd_ül_fe
(
X509_LOOKUP
 *
ùx
, cÚ¡ *
fe
, 
ty³
);

457 
X509_lßd_û¹_ül_fe
(
X509_LOOKUP
 *
ùx
, cÚ¡ *
fe
, 
ty³
);

459 
X509_LOOKUP
 *
X509_LOOKUP_Ãw
(
X509_LOOKUP_METHOD
 *
m‘hod
);

460 
X509_LOOKUP_ä“
(
X509_LOOKUP
 *
ùx
);

461 
X509_LOOKUP_š™
(
X509_LOOKUP
 *
ùx
);

462 
X509_LOOKUP_by_subjeù
(
X509_LOOKUP
 *
ùx
, 
X509_LOOKUP_TYPE
 
ty³
,

463 
X509_NAME
 *
Çme
, 
X509_OBJECT
 *
»t
);

464 
X509_LOOKUP_by_issu”_£rŸl
(
X509_LOOKUP
 *
ùx
, 
X509_LOOKUP_TYPE
 
ty³
,

465 
X509_NAME
 *
Çme
, 
ASN1_INTEGER
 *
£rŸl
,

466 
X509_OBJECT
 *
»t
);

467 
X509_LOOKUP_by_fšg”´št
(
X509_LOOKUP
 *
ùx
, 
X509_LOOKUP_TYPE
 
ty³
,

468 cÚ¡ *
by‹s
, 
Ën
,

469 
X509_OBJECT
 *
»t
);

470 
X509_LOOKUP_by_®Ÿs
(
X509_LOOKUP
 *
ùx
, 
X509_LOOKUP_TYPE
 
ty³
,

471 cÚ¡ *
¡r
, 
Ën
, 
X509_OBJECT
 *
»t
);

472 
X509_LOOKUP_£t_m‘hod_d©a
(
X509_LOOKUP
 *
ùx
, *
d©a
);

473 *
X509_LOOKUP_g‘_m‘hod_d©a
(cÚ¡ 
X509_LOOKUP
 *
ùx
);

474 
X509_STORE
 *
X509_LOOKUP_g‘_¡Üe
(cÚ¡ 
X509_LOOKUP
 *
ùx
);

475 
X509_LOOKUP_shutdown
(
X509_LOOKUP
 *
ùx
);

477 
X509_STORE_lßd_loÿtiÚs
(
X509_STORE
 *
ùx
,

478 cÚ¡ *
fe
, cÚ¡ *
dœ
);

479 
X509_STORE_£t_deçuÉ_·ths
(
X509_STORE
 *
ùx
);

481 
	#X509_STORE_CTX_g‘_ex_Ãw_šdex
(
l
, 
p
, 
Ãwf
, 
dupf
, 
ä“f
) \

482 
	`CRYPTO_g‘_ex_Ãw_šdex
(
CRYPTO_EX_INDEX_X509_STORE_CTX
, 
l
, 
p
, 
Ãwf
, 
dupf
, 
ä“f
)

	)

483 
X509_STORE_CTX_£t_ex_d©a
(
X509_STORE_CTX
 *
ùx
, 
idx
, *
d©a
);

484 *
X509_STORE_CTX_g‘_ex_d©a
(
X509_STORE_CTX
 *
ùx
, 
idx
);

485 
X509_STORE_CTX_g‘_”rÜ
(
X509_STORE_CTX
 *
ùx
);

486 
X509_STORE_CTX_£t_”rÜ
(
X509_STORE_CTX
 *
ùx
, 
s
);

487 
X509_STORE_CTX_g‘_”rÜ_d•th
(
X509_STORE_CTX
 *
ùx
);

488 
X509_STORE_CTX_£t_”rÜ_d•th
(
X509_STORE_CTX
 *
ùx
, 
d•th
);

489 
X509
 *
X509_STORE_CTX_g‘_cu¼’t_û¹
(
X509_STORE_CTX
 *
ùx
);

490 
X509_STORE_CTX_£t_cu¼’t_û¹
(
X509_STORE_CTX
 *
ùx
, 
X509
 *
x
);

491 
X509
 *
X509_STORE_CTX_g‘0_cu¼’t_issu”
(
X509_STORE_CTX
 *
ùx
);

492 
X509_CRL
 *
X509_STORE_CTX_g‘0_cu¼’t_ül
(
X509_STORE_CTX
 *
ùx
);

493 
X509_STORE_CTX
 *
X509_STORE_CTX_g‘0_·»Á_ùx
(X509_STORE_CTX *
ùx
);

494 
STACK_OF
(
X509
è*
X509_STORE_CTX_g‘0_chaš
(
X509_STORE_CTX
 *
ùx
);

495 
STACK_OF
(
X509
è*
X509_STORE_CTX_g‘1_chaš
(
X509_STORE_CTX
 *
ùx
);

496 
X509_STORE_CTX_£t_û¹
(
X509_STORE_CTX
 *
c
, 
X509
 *
x
);

497 
X509_STORE_CTX_£t0_v”if›d_chaš
(
X509_STORE_CTX
 *
c
, 
STACK_OF
(
X509
è*
sk
);

498 
X509_STORE_CTX_£t0_üls
(
X509_STORE_CTX
 *
c
, 
STACK_OF
(
X509_CRL
è*
sk
);

499 
X509_STORE_CTX_£t_pu½o£
(
X509_STORE_CTX
 *
ùx
, 
pu½o£
);

500 
X509_STORE_CTX_£t_Œu¡
(
X509_STORE_CTX
 *
ùx
, 
Œu¡
);

501 
X509_STORE_CTX_pu½o£_šh”™
(
X509_STORE_CTX
 *
ùx
, 
def_pu½o£
,

502 
pu½o£
, 
Œu¡
);

503 
X509_STORE_CTX_£t_æags
(
X509_STORE_CTX
 *
ùx
, 
æags
);

504 
X509_STORE_CTX_£t_time
(
X509_STORE_CTX
 *
ùx
, 
æags
,

505 
time_t
 
t
);

507 
X509_POLICY_TREE
 *
X509_STORE_CTX_g‘0_pŞicy_Œ“
(
X509_STORE_CTX
 *
ùx
);

508 
X509_STORE_CTX_g‘_ex¶ic™_pŞicy
(
X509_STORE_CTX
 *
ùx
);

509 
X509_STORE_CTX_g‘_num_uÁru¡ed
(
X509_STORE_CTX
 *
ùx
);

511 
X509_VERIFY_PARAM
 *
X509_STORE_CTX_g‘0_·¿m
(
X509_STORE_CTX
 *
ùx
);

512 
X509_STORE_CTX_£t0_·¿m
(
X509_STORE_CTX
 *
ùx
, 
X509_VERIFY_PARAM
 *
·¿m
);

513 
X509_STORE_CTX_£t_deçuÉ
(
X509_STORE_CTX
 *
ùx
, cÚ¡ *
Çme
);

519 
X509_STORE_CTX_£t0_dªe
(
X509_STORE_CTX
 *
ùx
, 
SSL_DANE
 *
dªe
);

520 
	#DANE_FLAG_NO_DANE_EE_NAMECHECKS
 (1L << 0)

	)

524 
X509_VERIFY_PARAM
 *
X509_VERIFY_PARAM_Ãw
();

525 
X509_VERIFY_PARAM_ä“
(
X509_VERIFY_PARAM
 *
·¿m
);

526 
X509_VERIFY_PARAM_šh”™
(
X509_VERIFY_PARAM
 *
to
,

527 cÚ¡ 
X509_VERIFY_PARAM
 *
äom
);

528 
X509_VERIFY_PARAM_£t1
(
X509_VERIFY_PARAM
 *
to
,

529 cÚ¡ 
X509_VERIFY_PARAM
 *
äom
);

530 
X509_VERIFY_PARAM_£t1_Çme
(
X509_VERIFY_PARAM
 *
·¿m
, cÚ¡ *
Çme
);

531 
X509_VERIFY_PARAM_£t_æags
(
X509_VERIFY_PARAM
 *
·¿m
,

532 
æags
);

533 
X509_VERIFY_PARAM_ş—r_æags
(
X509_VERIFY_PARAM
 *
·¿m
,

534 
æags
);

535 
X509_VERIFY_PARAM_g‘_æags
(
X509_VERIFY_PARAM
 *
·¿m
);

536 
X509_VERIFY_PARAM_£t_pu½o£
(
X509_VERIFY_PARAM
 *
·¿m
, 
pu½o£
);

537 
X509_VERIFY_PARAM_£t_Œu¡
(
X509_VERIFY_PARAM
 *
·¿m
, 
Œu¡
);

538 
X509_VERIFY_PARAM_£t_d•th
(
X509_VERIFY_PARAM
 *
·¿m
, 
d•th
);

539 
X509_VERIFY_PARAM_£t_auth_Ëv–
(
X509_VERIFY_PARAM
 *
·¿m
, 
auth_Ëv–
);

540 
time_t
 
X509_VERIFY_PARAM_g‘_time
(cÚ¡ 
X509_VERIFY_PARAM
 *
·¿m
);

541 
X509_VERIFY_PARAM_£t_time
(
X509_VERIFY_PARAM
 *
·¿m
, 
time_t
 
t
);

542 
X509_VERIFY_PARAM_add0_pŞicy
(
X509_VERIFY_PARAM
 *
·¿m
,

543 
ASN1_OBJECT
 *
pŞicy
);

544 
X509_VERIFY_PARAM_£t1_pŞic›s
(
X509_VERIFY_PARAM
 *
·¿m
,

545 
STACK_OF
(
ASN1_OBJECT
è*
pŞic›s
);

547 
X509_VERIFY_PARAM_£t_šh_æags
(
X509_VERIFY_PARAM
 *
·¿m
,

548 
ušt32_t
 
æags
);

549 
ušt32_t
 
X509_VERIFY_PARAM_g‘_šh_æags
(cÚ¡ 
X509_VERIFY_PARAM
 *
·¿m
);

551 
X509_VERIFY_PARAM_£t1_ho¡
(
X509_VERIFY_PARAM
 *
·¿m
,

552 cÚ¡ *
Çme
, 
size_t
 
Çm–’
);

553 
X509_VERIFY_PARAM_add1_ho¡
(
X509_VERIFY_PARAM
 *
·¿m
,

554 cÚ¡ *
Çme
, 
size_t
 
Çm–’
);

555 
X509_VERIFY_PARAM_£t_ho¡æags
(
X509_VERIFY_PARAM
 *
·¿m
,

556 
æags
);

557 
X509_VERIFY_PARAM_g‘_ho¡æags
(cÚ¡ 
X509_VERIFY_PARAM
 *
·¿m
);

558 *
X509_VERIFY_PARAM_g‘0_³”Çme
(
X509_VERIFY_PARAM
 *);

559 
X509_VERIFY_PARAM_move_³”Çme
(
X509_VERIFY_PARAM
 *, X509_VERIFY_PARAM *);

560 
X509_VERIFY_PARAM_£t1_ema
(
X509_VERIFY_PARAM
 *
·¿m
,

561 cÚ¡ *
ema
, 
size_t
 
emaËn
);

562 
X509_VERIFY_PARAM_£t1_
(
X509_VERIFY_PARAM
 *
·¿m
,

563 cÚ¡ *

, 
size_t
 
Ën
);

564 
X509_VERIFY_PARAM_£t1__asc
(
X509_VERIFY_PARAM
 *
·¿m
,

565 cÚ¡ *
asc
);

567 
X509_VERIFY_PARAM_g‘_d•th
(cÚ¡ 
X509_VERIFY_PARAM
 *
·¿m
);

568 
X509_VERIFY_PARAM_g‘_auth_Ëv–
(cÚ¡ 
X509_VERIFY_PARAM
 *
·¿m
);

569 cÚ¡ *
X509_VERIFY_PARAM_g‘0_Çme
(cÚ¡ 
X509_VERIFY_PARAM
 *
·¿m
);

571 
X509_VERIFY_PARAM_add0_bË
(
X509_VERIFY_PARAM
 *
·¿m
);

572 
X509_VERIFY_PARAM_g‘_couÁ
();

573 cÚ¡ 
X509_VERIFY_PARAM
 *
X509_VERIFY_PARAM_g‘0
(
id
);

574 cÚ¡ 
X509_VERIFY_PARAM
 *
X509_VERIFY_PARAM_lookup
(cÚ¡ *
Çme
);

575 
X509_VERIFY_PARAM_bË_ş—nup
();

578 
	#X509_PCY_TREE_FAILURE
 -2

	)

579 
	#X509_PCY_TREE_INVALID
 -1

	)

580 
	#X509_PCY_TREE_INTERNAL
 0

	)

586 
	#X509_PCY_TREE_VALID
 1

	)

587 
	#X509_PCY_TREE_EMPTY
 2

	)

588 
	#X509_PCY_TREE_EXPLICIT
 4

	)

590 
X509_pŞicy_check
(
X509_POLICY_TREE
 **
±»e
, *
³x¶ic™_pŞicy
,

591 
STACK_OF
(
X509
è*
û¹s
,

592 
STACK_OF
(
ASN1_OBJECT
è*
pŞicy_oids
, 
æags
);

594 
X509_pŞicy_Œ“_ä“
(
X509_POLICY_TREE
 *
Œ“
);

596 
X509_pŞicy_Œ“_Ëv–_couÁ
(cÚ¡ 
X509_POLICY_TREE
 *
Œ“
);

597 
X509_POLICY_LEVEL
 *
X509_pŞicy_Œ“_g‘0_Ëv–
(cÚ¡ 
X509_POLICY_TREE
 *
Œ“
,

598 
i
);

600 
STACK_OF
(
X509_POLICY_NODE
è*
X509_pŞicy_Œ“_g‘0_pŞic›s
(const

601 
X509_POLICY_TREE


602 *
Œ“
);

604 
STACK_OF
(
X509_POLICY_NODE
è*
X509_pŞicy_Œ“_g‘0_u£r_pŞic›s
(const

605 
X509_POLICY_TREE


606 *
Œ“
);

608 
X509_pŞicy_Ëv–_node_couÁ
(
X509_POLICY_LEVEL
 *
Ëv–
);

610 
X509_POLICY_NODE
 *
X509_pŞicy_Ëv–_g‘0_node
(
X509_POLICY_LEVEL
 *
Ëv–
,

611 
i
);

613 cÚ¡ 
ASN1_OBJECT
 *
X509_pŞicy_node_g‘0_pŞicy
(cÚ¡ 
X509_POLICY_NODE
 *
node
);

615 
STACK_OF
(
POLICYQUALINFO
è*
X509_pŞicy_node_g‘0_qu®if›rs
(const

616 
X509_POLICY_NODE


617 *
node
);

618 cÚ¡ 
X509_POLICY_NODE
 *
X509_pŞicy_node_g‘0_·»Á
(const X509_POLICY_NODE

619 *
node
);

621 #ifdeà 
__ılu¥lus


	@/usr/include/openssl/x509err.h

11 #iâdeà
HEADER_X509ERR_H


12 
	#HEADER_X509ERR_H


	)

14 #ifdeà 
__ılu¥lus


17 
ERR_lßd_X509_¡ršgs
();

22 
	#X509_F_ADD_CERT_DIR
 100

	)

23 
	#X509_F_BUILD_CHAIN
 106

	)

24 
	#X509_F_BY_FILE_CTRL
 101

	)

25 
	#X509_F_CHECK_NAME_CONSTRAINTS
 149

	)

26 
	#X509_F_CHECK_POLICY
 145

	)

27 
	#X509_F_DANE_I2D
 107

	)

28 
	#X509_F_DIR_CTRL
 102

	)

29 
	#X509_F_GET_CERT_BY_SUBJECT
 103

	)

30 
	#X509_F_I2D_X509_AUX
 151

	)

31 
	#X509_F_LOOKUP_CERTS_SK
 152

	)

32 
	#X509_F_NETSCAPE_SPKI_B64_DECODE
 129

	)

33 
	#X509_F_NETSCAPE_SPKI_B64_ENCODE
 130

	)

34 
	#X509_F_NEW_DIR
 153

	)

35 
	#X509_F_X509AT_ADD1_ATTR
 135

	)

36 
	#X509_F_X509V3_ADD_EXT
 104

	)

37 
	#X509_F_X509_ATTRIBUTE_CREATE_BY_NID
 136

	)

38 
	#X509_F_X509_ATTRIBUTE_CREATE_BY_OBJ
 137

	)

39 
	#X509_F_X509_ATTRIBUTE_CREATE_BY_TXT
 140

	)

40 
	#X509_F_X509_ATTRIBUTE_GET0_DATA
 139

	)

41 
	#X509_F_X509_ATTRIBUTE_SET1_DATA
 138

	)

42 
	#X509_F_X509_CHECK_PRIVATE_KEY
 128

	)

43 
	#X509_F_X509_CRL_DIFF
 105

	)

44 
	#X509_F_X509_CRL_METHOD_NEW
 154

	)

45 
	#X509_F_X509_CRL_PRINT_FP
 147

	)

46 
	#X509_F_X509_EXTENSION_CREATE_BY_NID
 108

	)

47 
	#X509_F_X509_EXTENSION_CREATE_BY_OBJ
 109

	)

48 
	#X509_F_X509_GET_PUBKEY_PARAMETERS
 110

	)

49 
	#X509_F_X509_LOAD_CERT_CRL_FILE
 132

	)

50 
	#X509_F_X509_LOAD_CERT_FILE
 111

	)

51 
	#X509_F_X509_LOAD_CRL_FILE
 112

	)

52 
	#X509_F_X509_LOOKUP_METH_NEW
 160

	)

53 
	#X509_F_X509_LOOKUP_NEW
 155

	)

54 
	#X509_F_X509_NAME_ADD_ENTRY
 113

	)

55 
	#X509_F_X509_NAME_CANON
 156

	)

56 
	#X509_F_X509_NAME_ENTRY_CREATE_BY_NID
 114

	)

57 
	#X509_F_X509_NAME_ENTRY_CREATE_BY_TXT
 131

	)

58 
	#X509_F_X509_NAME_ENTRY_SET_OBJECT
 115

	)

59 
	#X509_F_X509_NAME_ONELINE
 116

	)

60 
	#X509_F_X509_NAME_PRINT
 117

	)

61 
	#X509_F_X509_OBJECT_NEW
 150

	)

62 
	#X509_F_X509_PRINT_EX_FP
 118

	)

63 
	#X509_F_X509_PUBKEY_DECODE
 148

	)

64 
	#X509_F_X509_PUBKEY_GET0
 119

	)

65 
	#X509_F_X509_PUBKEY_SET
 120

	)

66 
	#X509_F_X509_REQ_CHECK_PRIVATE_KEY
 144

	)

67 
	#X509_F_X509_REQ_PRINT_EX
 121

	)

68 
	#X509_F_X509_REQ_PRINT_FP
 122

	)

69 
	#X509_F_X509_REQ_TO_X509
 123

	)

70 
	#X509_F_X509_STORE_ADD_CERT
 124

	)

71 
	#X509_F_X509_STORE_ADD_CRL
 125

	)

72 
	#X509_F_X509_STORE_ADD_LOOKUP
 157

	)

73 
	#X509_F_X509_STORE_CTX_GET1_ISSUER
 146

	)

74 
	#X509_F_X509_STORE_CTX_INIT
 143

	)

75 
	#X509_F_X509_STORE_CTX_NEW
 142

	)

76 
	#X509_F_X509_STORE_CTX_PURPOSE_INHERIT
 134

	)

77 
	#X509_F_X509_STORE_NEW
 158

	)

78 
	#X509_F_X509_TO_X509_REQ
 126

	)

79 
	#X509_F_X509_TRUST_ADD
 133

	)

80 
	#X509_F_X509_TRUST_SET
 141

	)

81 
	#X509_F_X509_VERIFY_CERT
 127

	)

82 
	#X509_F_X509_VERIFY_PARAM_NEW
 159

	)

87 
	#X509_R_AKID_MISMATCH
 110

	)

88 
	#X509_R_BAD_SELECTOR
 133

	)

89 
	#X509_R_BAD_X509_FILETYPE
 100

	)

90 
	#X509_R_BASE64_DECODE_ERROR
 118

	)

91 
	#X509_R_CANT_CHECK_DH_KEY
 114

	)

92 
	#X509_R_CERT_ALREADY_IN_HASH_TABLE
 101

	)

93 
	#X509_R_CRL_ALREADY_DELTA
 127

	)

94 
	#X509_R_CRL_VERIFY_FAILURE
 131

	)

95 
	#X509_R_IDP_MISMATCH
 128

	)

96 
	#X509_R_INVALID_DIRECTORY
 113

	)

97 
	#X509_R_INVALID_FIELD_NAME
 119

	)

98 
	#X509_R_INVALID_TRUST
 123

	)

99 
	#X509_R_ISSUER_MISMATCH
 129

	)

100 
	#X509_R_KEY_TYPE_MISMATCH
 115

	)

101 
	#X509_R_KEY_VALUES_MISMATCH
 116

	)

102 
	#X509_R_LOADING_CERT_DIR
 103

	)

103 
	#X509_R_LOADING_DEFAULTS
 104

	)

104 
	#X509_R_METHOD_NOT_SUPPORTED
 124

	)

105 
	#X509_R_NAME_TOO_LONG
 134

	)

106 
	#X509_R_NEWER_CRL_NOT_NEWER
 132

	)

107 
	#X509_R_NO_CERTIFICATE_FOUND
 135

	)

108 
	#X509_R_NO_CERTIFICATE_OR_CRL_FOUND
 136

	)

109 
	#X509_R_NO_CERT_SET_FOR_US_TO_VERIFY
 105

	)

110 
	#X509_R_NO_CRL_FOUND
 137

	)

111 
	#X509_R_NO_CRL_NUMBER
 130

	)

112 
	#X509_R_PUBLIC_KEY_DECODE_ERROR
 125

	)

113 
	#X509_R_PUBLIC_KEY_ENCODE_ERROR
 126

	)

114 
	#X509_R_SHOULD_RETRY
 106

	)

115 
	#X509_R_UNABLE_TO_FIND_PARAMETERS_IN_CHAIN
 107

	)

116 
	#X509_R_UNABLE_TO_GET_CERTS_PUBLIC_KEY
 108

	)

117 
	#X509_R_UNKNOWN_KEY_TYPE
 117

	)

118 
	#X509_R_UNKNOWN_NID
 109

	)

119 
	#X509_R_UNKNOWN_PURPOSE_ID
 121

	)

120 
	#X509_R_UNKNOWN_TRUST_ID
 120

	)

121 
	#X509_R_UNSUPPORTED_ALGORITHM
 111

	)

122 
	#X509_R_WRONG_LOOKUP_TYPE
 112

	)

123 
	#X509_R_WRONG_TYPE
 122

	)

	@/usr/include/openssl/x509v3err.h

11 #iâdeà
HEADER_X509V3ERR_H


12 
	#HEADER_X509V3ERR_H


	)

14 #ifdeà 
__ılu¥lus


17 
ERR_lßd_X509V3_¡ršgs
();

22 
	#X509V3_F_A2I_GENERAL_NAME
 164

	)

23 
	#X509V3_F_ADDR_VALIDATE_PATH_INTERNAL
 166

	)

24 
	#X509V3_F_ASIDENTIFIERCHOICE_CANONIZE
 161

	)

25 
	#X509V3_F_ASIDENTIFIERCHOICE_IS_CANONICAL
 162

	)

26 
	#X509V3_F_BIGNUM_TO_STRING
 167

	)

27 
	#X509V3_F_COPY_EMAIL
 122

	)

28 
	#X509V3_F_COPY_ISSUER
 123

	)

29 
	#X509V3_F_DO_DIRNAME
 144

	)

30 
	#X509V3_F_DO_EXT_I2D
 135

	)

31 
	#X509V3_F_DO_EXT_NCONF
 151

	)

32 
	#X509V3_F_GNAMES_FROM_SECTNAME
 156

	)

33 
	#X509V3_F_I2S_ASN1_ENUMERATED
 121

	)

34 
	#X509V3_F_I2S_ASN1_IA5STRING
 149

	)

35 
	#X509V3_F_I2S_ASN1_INTEGER
 120

	)

36 
	#X509V3_F_I2V_AUTHORITY_INFO_ACCESS
 138

	)

37 
	#X509V3_F_LEVEL_ADD_NODE
 168

	)

38 
	#X509V3_F_NOTICE_SECTION
 132

	)

39 
	#X509V3_F_NREF_NOS
 133

	)

40 
	#X509V3_F_POLICY_CACHE_CREATE
 169

	)

41 
	#X509V3_F_POLICY_CACHE_NEW
 170

	)

42 
	#X509V3_F_POLICY_DATA_NEW
 171

	)

43 
	#X509V3_F_POLICY_SECTION
 131

	)

44 
	#X509V3_F_PROCESS_PCI_VALUE
 150

	)

45 
	#X509V3_F_R2I_CERTPOL
 130

	)

46 
	#X509V3_F_R2I_PCI
 155

	)

47 
	#X509V3_F_S2I_ASN1_IA5STRING
 100

	)

48 
	#X509V3_F_S2I_ASN1_INTEGER
 108

	)

49 
	#X509V3_F_S2I_ASN1_OCTET_STRING
 112

	)

50 
	#X509V3_F_S2I_SKEY_ID
 115

	)

51 
	#X509V3_F_SET_DIST_POINT_NAME
 158

	)

52 
	#X509V3_F_SXNET_ADD_ID_ASC
 125

	)

53 
	#X509V3_F_SXNET_ADD_ID_INTEGER
 126

	)

54 
	#X509V3_F_SXNET_ADD_ID_ULONG
 127

	)

55 
	#X509V3_F_SXNET_GET_ID_ASC
 128

	)

56 
	#X509V3_F_SXNET_GET_ID_ULONG
 129

	)

57 
	#X509V3_F_TREE_INIT
 172

	)

58 
	#X509V3_F_V2I_ASIDENTIFIERS
 163

	)

59 
	#X509V3_F_V2I_ASN1_BIT_STRING
 101

	)

60 
	#X509V3_F_V2I_AUTHORITY_INFO_ACCESS
 139

	)

61 
	#X509V3_F_V2I_AUTHORITY_KEYID
 119

	)

62 
	#X509V3_F_V2I_BASIC_CONSTRAINTS
 102

	)

63 
	#X509V3_F_V2I_CRLD
 134

	)

64 
	#X509V3_F_V2I_EXTENDED_KEY_USAGE
 103

	)

65 
	#X509V3_F_V2I_GENERAL_NAMES
 118

	)

66 
	#X509V3_F_V2I_GENERAL_NAME_EX
 117

	)

67 
	#X509V3_F_V2I_IDP
 157

	)

68 
	#X509V3_F_V2I_IPADDRBLOCKS
 159

	)

69 
	#X509V3_F_V2I_ISSUER_ALT
 153

	)

70 
	#X509V3_F_V2I_NAME_CONSTRAINTS
 147

	)

71 
	#X509V3_F_V2I_POLICY_CONSTRAINTS
 146

	)

72 
	#X509V3_F_V2I_POLICY_MAPPINGS
 145

	)

73 
	#X509V3_F_V2I_SUBJECT_ALT
 154

	)

74 
	#X509V3_F_V2I_TLS_FEATURE
 165

	)

75 
	#X509V3_F_V3_GENERIC_EXTENSION
 116

	)

76 
	#X509V3_F_X509V3_ADD1_I2D
 140

	)

77 
	#X509V3_F_X509V3_ADD_VALUE
 105

	)

78 
	#X509V3_F_X509V3_EXT_ADD
 104

	)

79 
	#X509V3_F_X509V3_EXT_ADD_ALIAS
 106

	)

80 
	#X509V3_F_X509V3_EXT_I2D
 136

	)

81 
	#X509V3_F_X509V3_EXT_NCONF
 152

	)

82 
	#X509V3_F_X509V3_GET_SECTION
 142

	)

83 
	#X509V3_F_X509V3_GET_STRING
 143

	)

84 
	#X509V3_F_X509V3_GET_VALUE_BOOL
 110

	)

85 
	#X509V3_F_X509V3_PARSE_LIST
 109

	)

86 
	#X509V3_F_X509_PURPOSE_ADD
 137

	)

87 
	#X509V3_F_X509_PURPOSE_SET
 141

	)

92 
	#X509V3_R_BAD_IP_ADDRESS
 118

	)

93 
	#X509V3_R_BAD_OBJECT
 119

	)

94 
	#X509V3_R_BN_DEC2BN_ERROR
 100

	)

95 
	#X509V3_R_BN_TO_ASN1_INTEGER_ERROR
 101

	)

96 
	#X509V3_R_DIRNAME_ERROR
 149

	)

97 
	#X509V3_R_DISTPOINT_ALREADY_SET
 160

	)

98 
	#X509V3_R_DUPLICATE_ZONE_ID
 133

	)

99 
	#X509V3_R_ERROR_CONVERTING_ZONE
 131

	)

100 
	#X509V3_R_ERROR_CREATING_EXTENSION
 144

	)

101 
	#X509V3_R_ERROR_IN_EXTENSION
 128

	)

102 
	#X509V3_R_EXPECTED_A_SECTION_NAME
 137

	)

103 
	#X509V3_R_EXTENSION_EXISTS
 145

	)

104 
	#X509V3_R_EXTENSION_NAME_ERROR
 115

	)

105 
	#X509V3_R_EXTENSION_NOT_FOUND
 102

	)

106 
	#X509V3_R_EXTENSION_SETTING_NOT_SUPPORTED
 103

	)

107 
	#X509V3_R_EXTENSION_VALUE_ERROR
 116

	)

108 
	#X509V3_R_ILLEGAL_EMPTY_EXTENSION
 151

	)

109 
	#X509V3_R_INCORRECT_POLICY_SYNTAX_TAG
 152

	)

110 
	#X509V3_R_INVALID_ASNUMBER
 162

	)

111 
	#X509V3_R_INVALID_ASRANGE
 163

	)

112 
	#X509V3_R_INVALID_BOOLEAN_STRING
 104

	)

113 
	#X509V3_R_INVALID_EXTENSION_STRING
 105

	)

114 
	#X509V3_R_INVALID_INHERITANCE
 165

	)

115 
	#X509V3_R_INVALID_IPADDRESS
 166

	)

116 
	#X509V3_R_INVALID_MULTIPLE_RDNS
 161

	)

117 
	#X509V3_R_INVALID_NAME
 106

	)

118 
	#X509V3_R_INVALID_NULL_ARGUMENT
 107

	)

119 
	#X509V3_R_INVALID_NULL_NAME
 108

	)

120 
	#X509V3_R_INVALID_NULL_VALUE
 109

	)

121 
	#X509V3_R_INVALID_NUMBER
 140

	)

122 
	#X509V3_R_INVALID_NUMBERS
 141

	)

123 
	#X509V3_R_INVALID_OBJECT_IDENTIFIER
 110

	)

124 
	#X509V3_R_INVALID_OPTION
 138

	)

125 
	#X509V3_R_INVALID_POLICY_IDENTIFIER
 134

	)

126 
	#X509V3_R_INVALID_PROXY_POLICY_SETTING
 153

	)

127 
	#X509V3_R_INVALID_PURPOSE
 146

	)

128 
	#X509V3_R_INVALID_SAFI
 164

	)

129 
	#X509V3_R_INVALID_SECTION
 135

	)

130 
	#X509V3_R_INVALID_SYNTAX
 143

	)

131 
	#X509V3_R_ISSUER_DECODE_ERROR
 126

	)

132 
	#X509V3_R_MISSING_VALUE
 124

	)

133 
	#X509V3_R_NEED_ORGANIZATION_AND_NUMBERS
 142

	)

134 
	#X509V3_R_NO_CONFIG_DATABASE
 136

	)

135 
	#X509V3_R_NO_ISSUER_CERTIFICATE
 121

	)

136 
	#X509V3_R_NO_ISSUER_DETAILS
 127

	)

137 
	#X509V3_R_NO_POLICY_IDENTIFIER
 139

	)

138 
	#X509V3_R_NO_PROXY_CERT_POLICY_LANGUAGE_DEFINED
 154

	)

139 
	#X509V3_R_NO_PUBLIC_KEY
 114

	)

140 
	#X509V3_R_NO_SUBJECT_DETAILS
 125

	)

141 
	#X509V3_R_OPERATION_NOT_DEFINED
 148

	)

142 
	#X509V3_R_OTHERNAME_ERROR
 147

	)

143 
	#X509V3_R_POLICY_LANGUAGE_ALREADY_DEFINED
 155

	)

144 
	#X509V3_R_POLICY_PATH_LENGTH
 156

	)

145 
	#X509V3_R_POLICY_PATH_LENGTH_ALREADY_DEFINED
 157

	)

146 
	#X509V3_R_POLICY_WHEN_PROXY_LANGUAGE_REQUIRES_NO_POLICY
 159

	)

147 
	#X509V3_R_SECTION_NOT_FOUND
 150

	)

148 
	#X509V3_R_UNABLE_TO_GET_ISSUER_DETAILS
 122

	)

149 
	#X509V3_R_UNABLE_TO_GET_ISSUER_KEYID
 123

	)

150 
	#X509V3_R_UNKNOWN_BIT_STRING_ARGUMENT
 111

	)

151 
	#X509V3_R_UNKNOWN_EXTENSION
 129

	)

152 
	#X509V3_R_UNKNOWN_EXTENSION_NAME
 130

	)

153 
	#X509V3_R_UNKNOWN_OPTION
 120

	)

154 
	#X509V3_R_UNSUPPORTED_OPTION
 117

	)

155 
	#X509V3_R_UNSUPPORTED_TYPE
 167

	)

156 
	#X509V3_R_USER_TOO_LONG
 132

	)

	@/usr/include/rpc/netdb.h

36 #iâdeà
_RPC_NETDB_H


37 
	#_RPC_NETDB_H
 1

	)

39 
	~<ã©u»s.h
>

41 
	#__Ãed_size_t


	)

42 
	~<¡ddef.h
>

44 
__BEGIN_DECLS


46 
	s½ûÁ


48 *
	mr_Çme
;

49 **
	mr_®Ÿ£s
;

50 
	mr_numb”
;

53 
	$£ŒpûÁ
 (
__¡ayİ’
è
__THROW
;

54 
	$’d½ûÁ
 (è
__THROW
;

55 
½ûÁ
 *
	$g‘½cbyÇme
 (cÚ¡ *
__Çme
è
__THROW
;

56 
½ûÁ
 *
	$g‘½cbynumb”
 (
__numb”
è
__THROW
;

57 
½ûÁ
 *
	$g‘½ûÁ
 (è
__THROW
;

59 #ifdeà
__USE_MISC


60 
	$g‘½cbyÇme_r
 (cÚ¡ *
__Çme
, 
½ûÁ
 *
__»suÉ_buf
,

61 *
__bufãr
, 
size_t
 
__buæ’
,

62 
½ûÁ
 **
__»suÉ
è
__THROW
;

64 
	$g‘½cbynumb”_r
 (
__numb”
, 
½ûÁ
 *
__»suÉ_buf
,

65 *
__bufãr
, 
size_t
 
__buæ’
,

66 
½ûÁ
 **
__»suÉ
è
__THROW
;

68 
	$g‘½ûÁ_r
 (
½ûÁ
 *
__»suÉ_buf
, *
__bufãr
,

69 
size_t
 
__buæ’
, 
½ûÁ
 **
__»suÉ
è
__THROW
;

72 
__END_DECLS


	@/usr/include/linux/posix_types.h

2 #iâdeà
_LINUX_POSIX_TYPES_H


3 
	#_LINUX_POSIX_TYPES_H


	)

5 
	~<lšux/¡ddef.h
>

22 #undeà
__FD_SETSIZE


23 
	#__FD_SETSIZE
 1024

	)

26 
	mfds_b™s
[
__FD_SETSIZE
 / (8 * ())];

27 } 
	t__k”Ãl_fd_£t
;

30 (*
	t__k”Ãl_sighªdËr_t
)();

33 
	t__k”Ãl_key_t
;

34 
	t__k”Ãl_mqd_t
;

36 
	~<asm/posix_ty³s.h
>

	@/usr/include/linux/sysinfo.h

2 #iâdeà
_LINUX_SYSINFO_H


3 
	#_LINUX_SYSINFO_H


	)

5 
	~<lšux/ty³s.h
>

7 
	#SI_LOAD_SHIFT
 16

	)

8 
	ssysšfo
 {

9 
__k”Ãl_lÚg_t
 
	mu±ime
;

10 
__k”Ãl_ulÚg_t
 
	mlßds
[3];

11 
__k”Ãl_ulÚg_t
 
	mtÙ®¿m
;

12 
__k”Ãl_ulÚg_t
 
	mä“¿m
;

13 
__k”Ãl_ulÚg_t
 
	msh¬ed¿m
;

14 
__k”Ãl_ulÚg_t
 
	mbufã¼am
;

15 
__k”Ãl_ulÚg_t
 
	mtÙ®sw­
;

16 
__k”Ãl_ulÚg_t
 
	mä“sw­
;

17 
__u16
 
	m´ocs
;

18 
__u16
 
	m·d
;

19 
__k”Ãl_ulÚg_t
 
	mtÙ®high
;

20 
__k”Ãl_ulÚg_t
 
	mä“high
;

21 
__u32
 
	mmem_un™
;

22 
	m_f
[20-2*(
__k”Ãl_ulÚg_t
)-(
__u32
)];

	@/usr/include/openssl/asn1err.h

11 #iâdeà
HEADER_ASN1ERR_H


12 
	#HEADER_ASN1ERR_H


	)

14 #ifdeà 
__ılu¥lus


17 
ERR_lßd_ASN1_¡ršgs
();

22 
	#ASN1_F_A2D_ASN1_OBJECT
 100

	)

23 
	#ASN1_F_A2I_ASN1_INTEGER
 102

	)

24 
	#ASN1_F_A2I_ASN1_STRING
 103

	)

25 
	#ASN1_F_APPEND_EXP
 176

	)

26 
	#ASN1_F_ASN1_BIO_INIT
 113

	)

27 
	#ASN1_F_ASN1_BIT_STRING_SET_BIT
 183

	)

28 
	#ASN1_F_ASN1_CB
 177

	)

29 
	#ASN1_F_ASN1_CHECK_TLEN
 104

	)

30 
	#ASN1_F_ASN1_COLLECT
 106

	)

31 
	#ASN1_F_ASN1_D2I_EX_PRIMITIVE
 108

	)

32 
	#ASN1_F_ASN1_D2I_FP
 109

	)

33 
	#ASN1_F_ASN1_D2I_READ_BIO
 107

	)

34 
	#ASN1_F_ASN1_DIGEST
 184

	)

35 
	#ASN1_F_ASN1_DO_ADB
 110

	)

36 
	#ASN1_F_ASN1_DO_LOCK
 233

	)

37 
	#ASN1_F_ASN1_DUP
 111

	)

38 
	#ASN1_F_ASN1_ENC_SAVE
 115

	)

39 
	#ASN1_F_ASN1_EX_C2I
 204

	)

40 
	#ASN1_F_ASN1_FIND_END
 190

	)

41 
	#ASN1_F_ASN1_GENERALIZEDTIME_ADJ
 216

	)

42 
	#ASN1_F_ASN1_GENERATE_V3
 178

	)

43 
	#ASN1_F_ASN1_GET_INT64
 224

	)

44 
	#ASN1_F_ASN1_GET_OBJECT
 114

	)

45 
	#ASN1_F_ASN1_GET_UINT64
 225

	)

46 
	#ASN1_F_ASN1_I2D_BIO
 116

	)

47 
	#ASN1_F_ASN1_I2D_FP
 117

	)

48 
	#ASN1_F_ASN1_ITEM_D2I_FP
 206

	)

49 
	#ASN1_F_ASN1_ITEM_DUP
 191

	)

50 
	#ASN1_F_ASN1_ITEM_EMBED_D2I
 120

	)

51 
	#ASN1_F_ASN1_ITEM_EMBED_NEW
 121

	)

52 
	#ASN1_F_ASN1_ITEM_FLAGS_I2D
 118

	)

53 
	#ASN1_F_ASN1_ITEM_I2D_BIO
 192

	)

54 
	#ASN1_F_ASN1_ITEM_I2D_FP
 193

	)

55 
	#ASN1_F_ASN1_ITEM_PACK
 198

	)

56 
	#ASN1_F_ASN1_ITEM_SIGN
 195

	)

57 
	#ASN1_F_ASN1_ITEM_SIGN_CTX
 220

	)

58 
	#ASN1_F_ASN1_ITEM_UNPACK
 199

	)

59 
	#ASN1_F_ASN1_ITEM_VERIFY
 197

	)

60 
	#ASN1_F_ASN1_MBSTRING_NCOPY
 122

	)

61 
	#ASN1_F_ASN1_OBJECT_NEW
 123

	)

62 
	#ASN1_F_ASN1_OUTPUT_DATA
 214

	)

63 
	#ASN1_F_ASN1_PCTX_NEW
 205

	)

64 
	#ASN1_F_ASN1_PRIMITIVE_NEW
 119

	)

65 
	#ASN1_F_ASN1_SCTX_NEW
 221

	)

66 
	#ASN1_F_ASN1_SIGN
 128

	)

67 
	#ASN1_F_ASN1_STR2TYPE
 179

	)

68 
	#ASN1_F_ASN1_STRING_GET_INT64
 227

	)

69 
	#ASN1_F_ASN1_STRING_GET_UINT64
 230

	)

70 
	#ASN1_F_ASN1_STRING_SET
 186

	)

71 
	#ASN1_F_ASN1_STRING_TABLE_ADD
 129

	)

72 
	#ASN1_F_ASN1_STRING_TO_BN
 228

	)

73 
	#ASN1_F_ASN1_STRING_TYPE_NEW
 130

	)

74 
	#ASN1_F_ASN1_TEMPLATE_EX_D2I
 132

	)

75 
	#ASN1_F_ASN1_TEMPLATE_NEW
 133

	)

76 
	#ASN1_F_ASN1_TEMPLATE_NOEXP_D2I
 131

	)

77 
	#ASN1_F_ASN1_TIME_ADJ
 217

	)

78 
	#ASN1_F_ASN1_TYPE_GET_INT_OCTETSTRING
 134

	)

79 
	#ASN1_F_ASN1_TYPE_GET_OCTETSTRING
 135

	)

80 
	#ASN1_F_ASN1_UTCTIME_ADJ
 218

	)

81 
	#ASN1_F_ASN1_VERIFY
 137

	)

82 
	#ASN1_F_B64_READ_ASN1
 209

	)

83 
	#ASN1_F_B64_WRITE_ASN1
 210

	)

84 
	#ASN1_F_BIO_NEW_NDEF
 208

	)

85 
	#ASN1_F_BITSTR_CB
 180

	)

86 
	#ASN1_F_BN_TO_ASN1_STRING
 229

	)

87 
	#ASN1_F_C2I_ASN1_BIT_STRING
 189

	)

88 
	#ASN1_F_C2I_ASN1_INTEGER
 194

	)

89 
	#ASN1_F_C2I_ASN1_OBJECT
 196

	)

90 
	#ASN1_F_C2I_IBUF
 226

	)

91 
	#ASN1_F_C2I_UINT64_INT
 101

	)

92 
	#ASN1_F_COLLECT_DATA
 140

	)

93 
	#ASN1_F_D2I_ASN1_OBJECT
 147

	)

94 
	#ASN1_F_D2I_ASN1_UINTEGER
 150

	)

95 
	#ASN1_F_D2I_AUTOPRIVATEKEY
 207

	)

96 
	#ASN1_F_D2I_PRIVATEKEY
 154

	)

97 
	#ASN1_F_D2I_PUBLICKEY
 155

	)

98 
	#ASN1_F_DO_BUF
 142

	)

99 
	#ASN1_F_DO_CREATE
 124

	)

100 
	#ASN1_F_DO_DUMP
 125

	)

101 
	#ASN1_F_DO_TCREATE
 222

	)

102 
	#ASN1_F_I2A_ASN1_OBJECT
 126

	)

103 
	#ASN1_F_I2D_ASN1_BIO_STREAM
 211

	)

104 
	#ASN1_F_I2D_ASN1_OBJECT
 143

	)

105 
	#ASN1_F_I2D_DSA_PUBKEY
 161

	)

106 
	#ASN1_F_I2D_EC_PUBKEY
 181

	)

107 
	#ASN1_F_I2D_PRIVATEKEY
 163

	)

108 
	#ASN1_F_I2D_PUBLICKEY
 164

	)

109 
	#ASN1_F_I2D_RSA_PUBKEY
 165

	)

110 
	#ASN1_F_LONG_C2I
 166

	)

111 
	#ASN1_F_NDEF_PREFIX
 127

	)

112 
	#ASN1_F_NDEF_SUFFIX
 136

	)

113 
	#ASN1_F_OID_MODULE_INIT
 174

	)

114 
	#ASN1_F_PARSE_TAGGING
 182

	)

115 
	#ASN1_F_PKCS5_PBE2_SET_IV
 167

	)

116 
	#ASN1_F_PKCS5_PBE2_SET_SCRYPT
 231

	)

117 
	#ASN1_F_PKCS5_PBE_SET
 202

	)

118 
	#ASN1_F_PKCS5_PBE_SET0_ALGOR
 215

	)

119 
	#ASN1_F_PKCS5_PBKDF2_SET
 219

	)

120 
	#ASN1_F_PKCS5_SCRYPT_SET
 232

	)

121 
	#ASN1_F_SMIME_READ_ASN1
 212

	)

122 
	#ASN1_F_SMIME_TEXT
 213

	)

123 
	#ASN1_F_STABLE_GET
 138

	)

124 
	#ASN1_F_STBL_MODULE_INIT
 223

	)

125 
	#ASN1_F_UINT32_C2I
 105

	)

126 
	#ASN1_F_UINT32_NEW
 139

	)

127 
	#ASN1_F_UINT64_C2I
 112

	)

128 
	#ASN1_F_UINT64_NEW
 141

	)

129 
	#ASN1_F_X509_CRL_ADD0_REVOKED
 169

	)

130 
	#ASN1_F_X509_INFO_NEW
 170

	)

131 
	#ASN1_F_X509_NAME_ENCODE
 203

	)

132 
	#ASN1_F_X509_NAME_EX_D2I
 158

	)

133 
	#ASN1_F_X509_NAME_EX_NEW
 171

	)

134 
	#ASN1_F_X509_PKEY_NEW
 173

	)

139 
	#ASN1_R_ADDING_OBJECT
 171

	)

140 
	#ASN1_R_ASN1_PARSE_ERROR
 203

	)

141 
	#ASN1_R_ASN1_SIG_PARSE_ERROR
 204

	)

142 
	#ASN1_R_AUX_ERROR
 100

	)

143 
	#ASN1_R_BAD_OBJECT_HEADER
 102

	)

144 
	#ASN1_R_BMPSTRING_IS_WRONG_LENGTH
 214

	)

145 
	#ASN1_R_BN_LIB
 105

	)

146 
	#ASN1_R_BOOLEAN_IS_WRONG_LENGTH
 106

	)

147 
	#ASN1_R_BUFFER_TOO_SMALL
 107

	)

148 
	#ASN1_R_CIPHER_HAS_NO_OBJECT_IDENTIFIER
 108

	)

149 
	#ASN1_R_CONTEXT_NOT_INITIALISED
 217

	)

150 
	#ASN1_R_DATA_IS_WRONG
 109

	)

151 
	#ASN1_R_DECODE_ERROR
 110

	)

152 
	#ASN1_R_DEPTH_EXCEEDED
 174

	)

153 
	#ASN1_R_DIGEST_AND_KEY_TYPE_NOT_SUPPORTED
 198

	)

154 
	#ASN1_R_ENCODE_ERROR
 112

	)

155 
	#ASN1_R_ERROR_GETTING_TIME
 173

	)

156 
	#ASN1_R_ERROR_LOADING_SECTION
 172

	)

157 
	#ASN1_R_ERROR_SETTING_CIPHER_PARAMS
 114

	)

158 
	#ASN1_R_EXPECTING_AN_INTEGER
 115

	)

159 
	#ASN1_R_EXPECTING_AN_OBJECT
 116

	)

160 
	#ASN1_R_EXPLICIT_LENGTH_MISMATCH
 119

	)

161 
	#ASN1_R_EXPLICIT_TAG_NOT_CONSTRUCTED
 120

	)

162 
	#ASN1_R_FIELD_MISSING
 121

	)

163 
	#ASN1_R_FIRST_NUM_TOO_LARGE
 122

	)

164 
	#ASN1_R_HEADER_TOO_LONG
 123

	)

165 
	#ASN1_R_ILLEGAL_BITSTRING_FORMAT
 175

	)

166 
	#ASN1_R_ILLEGAL_BOOLEAN
 176

	)

167 
	#ASN1_R_ILLEGAL_CHARACTERS
 124

	)

168 
	#ASN1_R_ILLEGAL_FORMAT
 177

	)

169 
	#ASN1_R_ILLEGAL_HEX
 178

	)

170 
	#ASN1_R_ILLEGAL_IMPLICIT_TAG
 179

	)

171 
	#ASN1_R_ILLEGAL_INTEGER
 180

	)

172 
	#ASN1_R_ILLEGAL_NEGATIVE_VALUE
 226

	)

173 
	#ASN1_R_ILLEGAL_NESTED_TAGGING
 181

	)

174 
	#ASN1_R_ILLEGAL_NULL
 125

	)

175 
	#ASN1_R_ILLEGAL_NULL_VALUE
 182

	)

176 
	#ASN1_R_ILLEGAL_OBJECT
 183

	)

177 
	#ASN1_R_ILLEGAL_OPTIONAL_ANY
 126

	)

178 
	#ASN1_R_ILLEGAL_OPTIONS_ON_ITEM_TEMPLATE
 170

	)

179 
	#ASN1_R_ILLEGAL_PADDING
 221

	)

180 
	#ASN1_R_ILLEGAL_TAGGED_ANY
 127

	)

181 
	#ASN1_R_ILLEGAL_TIME_VALUE
 184

	)

182 
	#ASN1_R_ILLEGAL_ZERO_CONTENT
 222

	)

183 
	#ASN1_R_INTEGER_NOT_ASCII_FORMAT
 185

	)

184 
	#ASN1_R_INTEGER_TOO_LARGE_FOR_LONG
 128

	)

185 
	#ASN1_R_INVALID_BIT_STRING_BITS_LEFT
 220

	)

186 
	#ASN1_R_INVALID_BMPSTRING_LENGTH
 129

	)

187 
	#ASN1_R_INVALID_DIGIT
 130

	)

188 
	#ASN1_R_INVALID_MIME_TYPE
 205

	)

189 
	#ASN1_R_INVALID_MODIFIER
 186

	)

190 
	#ASN1_R_INVALID_NUMBER
 187

	)

191 
	#ASN1_R_INVALID_OBJECT_ENCODING
 216

	)

192 
	#ASN1_R_INVALID_SCRYPT_PARAMETERS
 227

	)

193 
	#ASN1_R_INVALID_SEPARATOR
 131

	)

194 
	#ASN1_R_INVALID_STRING_TABLE_VALUE
 218

	)

195 
	#ASN1_R_INVALID_UNIVERSALSTRING_LENGTH
 133

	)

196 
	#ASN1_R_INVALID_UTF8STRING
 134

	)

197 
	#ASN1_R_INVALID_VALUE
 219

	)

198 
	#ASN1_R_LIST_ERROR
 188

	)

199 
	#ASN1_R_MIME_NO_CONTENT_TYPE
 206

	)

200 
	#ASN1_R_MIME_PARSE_ERROR
 207

	)

201 
	#ASN1_R_MIME_SIG_PARSE_ERROR
 208

	)

202 
	#ASN1_R_MISSING_EOC
 137

	)

203 
	#ASN1_R_MISSING_SECOND_NUMBER
 138

	)

204 
	#ASN1_R_MISSING_VALUE
 189

	)

205 
	#ASN1_R_MSTRING_NOT_UNIVERSAL
 139

	)

206 
	#ASN1_R_MSTRING_WRONG_TAG
 140

	)

207 
	#ASN1_R_NESTED_ASN1_STRING
 197

	)

208 
	#ASN1_R_NESTED_TOO_DEEP
 201

	)

209 
	#ASN1_R_NON_HEX_CHARACTERS
 141

	)

210 
	#ASN1_R_NOT_ASCII_FORMAT
 190

	)

211 
	#ASN1_R_NOT_ENOUGH_DATA
 142

	)

212 
	#ASN1_R_NO_CONTENT_TYPE
 209

	)

213 
	#ASN1_R_NO_MATCHING_CHOICE_TYPE
 143

	)

214 
	#ASN1_R_NO_MULTIPART_BODY_FAILURE
 210

	)

215 
	#ASN1_R_NO_MULTIPART_BOUNDARY
 211

	)

216 
	#ASN1_R_NO_SIG_CONTENT_TYPE
 212

	)

217 
	#ASN1_R_NULL_IS_WRONG_LENGTH
 144

	)

218 
	#ASN1_R_OBJECT_NOT_ASCII_FORMAT
 191

	)

219 
	#ASN1_R_ODD_NUMBER_OF_CHARS
 145

	)

220 
	#ASN1_R_SECOND_NUMBER_TOO_LARGE
 147

	)

221 
	#ASN1_R_SEQUENCE_LENGTH_MISMATCH
 148

	)

222 
	#ASN1_R_SEQUENCE_NOT_CONSTRUCTED
 149

	)

223 
	#ASN1_R_SEQUENCE_OR_SET_NEEDS_CONFIG
 192

	)

224 
	#ASN1_R_SHORT_LINE
 150

	)

225 
	#ASN1_R_SIG_INVALID_MIME_TYPE
 213

	)

226 
	#ASN1_R_STREAMING_NOT_SUPPORTED
 202

	)

227 
	#ASN1_R_STRING_TOO_LONG
 151

	)

228 
	#ASN1_R_STRING_TOO_SHORT
 152

	)

229 
	#ASN1_R_THE_ASN1_OBJECT_IDENTIFIER_IS_NOT_KNOWN_FOR_THIS_MD
 154

	)

230 
	#ASN1_R_TIME_NOT_ASCII_FORMAT
 193

	)

231 
	#ASN1_R_TOO_LARGE
 223

	)

232 
	#ASN1_R_TOO_LONG
 155

	)

233 
	#ASN1_R_TOO_SMALL
 224

	)

234 
	#ASN1_R_TYPE_NOT_CONSTRUCTED
 156

	)

235 
	#ASN1_R_TYPE_NOT_PRIMITIVE
 195

	)

236 
	#ASN1_R_UNEXPECTED_EOC
 159

	)

237 
	#ASN1_R_UNIVERSALSTRING_IS_WRONG_LENGTH
 215

	)

238 
	#ASN1_R_UNKNOWN_FORMAT
 160

	)

239 
	#ASN1_R_UNKNOWN_MESSAGE_DIGEST_ALGORITHM
 161

	)

240 
	#ASN1_R_UNKNOWN_OBJECT_TYPE
 162

	)

241 
	#ASN1_R_UNKNOWN_PUBLIC_KEY_TYPE
 163

	)

242 
	#ASN1_R_UNKNOWN_SIGNATURE_ALGORITHM
 199

	)

243 
	#ASN1_R_UNKNOWN_TAG
 194

	)

244 
	#ASN1_R_UNSUPPORTED_ANY_DEFINED_BY_TYPE
 164

	)

245 
	#ASN1_R_UNSUPPORTED_CIPHER
 228

	)

246 
	#ASN1_R_UNSUPPORTED_PUBLIC_KEY_TYPE
 167

	)

247 
	#ASN1_R_UNSUPPORTED_TYPE
 196

	)

248 
	#ASN1_R_WRONG_INTEGER_TYPE
 225

	)

249 
	#ASN1_R_WRONG_PUBLIC_KEY_TYPE
 200

	)

250 
	#ASN1_R_WRONG_TAG
 168

	)

	@/usr/include/openssl/asyncerr.h

11 #iâdeà
HEADER_ASYNCERR_H


12 
	#HEADER_ASYNCERR_H


	)

14 #ifdeà 
__ılu¥lus


17 
ERR_lßd_ASYNC_¡ršgs
();

22 
	#ASYNC_F_ASYNC_CTX_NEW
 100

	)

23 
	#ASYNC_F_ASYNC_INIT_THREAD
 101

	)

24 
	#ASYNC_F_ASYNC_JOB_NEW
 102

	)

25 
	#ASYNC_F_ASYNC_PAUSE_JOB
 103

	)

26 
	#ASYNC_F_ASYNC_START_FUNC
 104

	)

27 
	#ASYNC_F_ASYNC_START_JOB
 105

	)

28 
	#ASYNC_F_ASYNC_WAIT_CTX_SET_WAIT_FD
 106

	)

33 
	#ASYNC_R_FAILED_TO_SET_POOL
 101

	)

34 
	#ASYNC_R_FAILED_TO_SWAP_CONTEXT
 102

	)

35 
	#ASYNC_R_INIT_FAILED
 105

	)

36 
	#ASYNC_R_INVALID_POOL_SIZE
 103

	)

	@/usr/include/openssl/buffererr.h

11 #iâdeà
HEADER_BUFERR_H


12 
	#HEADER_BUFERR_H


	)

14 #ifdeà 
__ılu¥lus


17 
ERR_lßd_BUF_¡ršgs
();

22 
	#BUF_F_BUF_MEM_GROW
 100

	)

23 
	#BUF_F_BUF_MEM_GROW_CLEAN
 105

	)

24 
	#BUF_F_BUF_MEM_NEW
 101

	)

	@/usr/include/openssl/comperr.h

11 #iâdeà
HEADER_COMPERR_H


12 
	#HEADER_COMPERR_H


	)

14 
	~<İ’s¦/İ’s¦cÚf.h
>

16 #iâdeà
OPENSSL_NO_COMP


18 #ifdeà 
__ılu¥lus


21 
ERR_lßd_COMP_¡ršgs
();

26 
	#COMP_F_BIO_ZLIB_FLUSH
 99

	)

27 
	#COMP_F_BIO_ZLIB_NEW
 100

	)

28 
	#COMP_F_BIO_ZLIB_READ
 101

	)

29 
	#COMP_F_BIO_ZLIB_WRITE
 102

	)

30 
	#COMP_F_COMP_CTX_NEW
 103

	)

35 
	#COMP_R_ZLIB_DEFLATE_ERROR
 99

	)

36 
	#COMP_R_ZLIB_INFLATE_ERROR
 100

	)

37 
	#COMP_R_ZLIB_NOT_SUPPORTED
 101

	)

	@/usr/include/openssl/conferr.h

11 #iâdeà
HEADER_CONFERR_H


12 
	#HEADER_CONFERR_H


	)

14 #ifdeà 
__ılu¥lus


17 
ERR_lßd_CONF_¡ršgs
();

22 
	#CONF_F_CONF_DUMP_FP
 104

	)

23 
	#CONF_F_CONF_LOAD
 100

	)

24 
	#CONF_F_CONF_LOAD_FP
 103

	)

25 
	#CONF_F_CONF_PARSE_LIST
 119

	)

26 
	#CONF_F_DEF_LOAD
 120

	)

27 
	#CONF_F_DEF_LOAD_BIO
 121

	)

28 
	#CONF_F_GET_NEXT_FILE
 107

	)

29 
	#CONF_F_MODULE_ADD
 122

	)

30 
	#CONF_F_MODULE_INIT
 115

	)

31 
	#CONF_F_MODULE_LOAD_DSO
 117

	)

32 
	#CONF_F_MODULE_RUN
 118

	)

33 
	#CONF_F_NCONF_DUMP_BIO
 105

	)

34 
	#CONF_F_NCONF_DUMP_FP
 106

	)

35 
	#CONF_F_NCONF_GET_NUMBER_E
 112

	)

36 
	#CONF_F_NCONF_GET_SECTION
 108

	)

37 
	#CONF_F_NCONF_GET_STRING
 109

	)

38 
	#CONF_F_NCONF_LOAD
 113

	)

39 
	#CONF_F_NCONF_LOAD_BIO
 110

	)

40 
	#CONF_F_NCONF_LOAD_FP
 114

	)

41 
	#CONF_F_NCONF_NEW
 111

	)

42 
	#CONF_F_PROCESS_INCLUDE
 116

	)

43 
	#CONF_F_SSL_MODULE_INIT
 123

	)

44 
	#CONF_F_STR_COPY
 101

	)

49 
	#CONF_R_ERROR_LOADING_DSO
 110

	)

50 
	#CONF_R_LIST_CANNOT_BE_NULL
 115

	)

51 
	#CONF_R_MISSING_CLOSE_SQUARE_BRACKET
 100

	)

52 
	#CONF_R_MISSING_EQUAL_SIGN
 101

	)

53 
	#CONF_R_MISSING_INIT_FUNCTION
 112

	)

54 
	#CONF_R_MODULE_INITIALIZATION_ERROR
 109

	)

55 
	#CONF_R_NO_CLOSE_BRACE
 102

	)

56 
	#CONF_R_NO_CONF
 105

	)

57 
	#CONF_R_NO_CONF_OR_ENVIRONMENT_VARIABLE
 106

	)

58 
	#CONF_R_NO_SECTION
 107

	)

59 
	#CONF_R_NO_SUCH_FILE
 114

	)

60 
	#CONF_R_NO_VALUE
 108

	)

61 
	#CONF_R_NUMBER_TOO_LARGE
 121

	)

62 
	#CONF_R_RECURSIVE_DIRECTORY_INCLUDE
 111

	)

63 
	#CONF_R_SSL_COMMAND_SECTION_EMPTY
 117

	)

64 
	#CONF_R_SSL_COMMAND_SECTION_NOT_FOUND
 118

	)

65 
	#CONF_R_SSL_SECTION_EMPTY
 119

	)

66 
	#CONF_R_SSL_SECTION_NOT_FOUND
 120

	)

67 
	#CONF_R_UNABLE_TO_CREATE_NEW_SECTION
 103

	)

68 
	#CONF_R_UNKNOWN_MODULE_NAME
 113

	)

69 
	#CONF_R_VARIABLE_EXPANSION_TOO_LONG
 116

	)

70 
	#CONF_R_VARIABLE_HAS_NO_VALUE
 104

	)

	@/usr/include/openssl/cterr.h

11 #iâdeà
HEADER_CTERR_H


12 
	#HEADER_CTERR_H


	)

14 
	~<İ’s¦/İ’s¦cÚf.h
>

16 #iâdeà
OPENSSL_NO_CT


18 #ifdeà 
__ılu¥lus


21 
ERR_lßd_CT_¡ršgs
();

26 
	#CT_F_CTLOG_NEW
 117

	)

27 
	#CT_F_CTLOG_NEW_FROM_BASE64
 118

	)

28 
	#CT_F_CTLOG_NEW_FROM_CONF
 119

	)

29 
	#CT_F_CTLOG_STORE_LOAD_CTX_NEW
 122

	)

30 
	#CT_F_CTLOG_STORE_LOAD_FILE
 123

	)

31 
	#CT_F_CTLOG_STORE_LOAD_LOG
 130

	)

32 
	#CT_F_CTLOG_STORE_NEW
 131

	)

33 
	#CT_F_CT_BASE64_DECODE
 124

	)

34 
	#CT_F_CT_POLICY_EVAL_CTX_NEW
 133

	)

35 
	#CT_F_CT_V1_LOG_ID_FROM_PKEY
 125

	)

36 
	#CT_F_I2O_SCT
 107

	)

37 
	#CT_F_I2O_SCT_LIST
 108

	)

38 
	#CT_F_I2O_SCT_SIGNATURE
 109

	)

39 
	#CT_F_O2I_SCT
 110

	)

40 
	#CT_F_O2I_SCT_LIST
 111

	)

41 
	#CT_F_O2I_SCT_SIGNATURE
 112

	)

42 
	#CT_F_SCT_CTX_NEW
 126

	)

43 
	#CT_F_SCT_CTX_VERIFY
 128

	)

44 
	#CT_F_SCT_NEW
 100

	)

45 
	#CT_F_SCT_NEW_FROM_BASE64
 127

	)

46 
	#CT_F_SCT_SET0_LOG_ID
 101

	)

47 
	#CT_F_SCT_SET1_EXTENSIONS
 114

	)

48 
	#CT_F_SCT_SET1_LOG_ID
 115

	)

49 
	#CT_F_SCT_SET1_SIGNATURE
 116

	)

50 
	#CT_F_SCT_SET_LOG_ENTRY_TYPE
 102

	)

51 
	#CT_F_SCT_SET_SIGNATURE_NID
 103

	)

52 
	#CT_F_SCT_SET_VERSION
 104

	)

57 
	#CT_R_BASE64_DECODE_ERROR
 108

	)

58 
	#CT_R_INVALID_LOG_ID_LENGTH
 100

	)

59 
	#CT_R_LOG_CONF_INVALID
 109

	)

60 
	#CT_R_LOG_CONF_INVALID_KEY
 110

	)

61 
	#CT_R_LOG_CONF_MISSING_DESCRIPTION
 111

	)

62 
	#CT_R_LOG_CONF_MISSING_KEY
 112

	)

63 
	#CT_R_LOG_KEY_INVALID
 113

	)

64 
	#CT_R_SCT_FUTURE_TIMESTAMP
 116

	)

65 
	#CT_R_SCT_INVALID
 104

	)

66 
	#CT_R_SCT_INVALID_SIGNATURE
 107

	)

67 
	#CT_R_SCT_LIST_INVALID
 105

	)

68 
	#CT_R_SCT_LOG_ID_MISMATCH
 114

	)

69 
	#CT_R_SCT_NOT_SET
 106

	)

70 
	#CT_R_SCT_UNSUPPORTED_VERSION
 115

	)

71 
	#CT_R_UNRECOGNIZED_SIGNATURE_NID
 101

	)

72 
	#CT_R_UNSUPPORTED_ENTRY_TYPE
 102

	)

73 
	#CT_R_UNSUPPORTED_VERSION
 103

	)

	@/usr/include/openssl/dherr.h

11 #iâdeà
HEADER_DHERR_H


12 
	#HEADER_DHERR_H


	)

14 
	~<İ’s¦/İ’s¦cÚf.h
>

16 #iâdeà
OPENSSL_NO_DH


18 #ifdeà 
__ılu¥lus


21 
ERR_lßd_DH_¡ršgs
();

26 
	#DH_F_COMPUTE_KEY
 102

	)

27 
	#DH_F_DHPARAMS_PRINT_FP
 101

	)

28 
	#DH_F_DH_BUILTIN_GENPARAMS
 106

	)

29 
	#DH_F_DH_CHECK_EX
 121

	)

30 
	#DH_F_DH_CHECK_PARAMS_EX
 122

	)

31 
	#DH_F_DH_CHECK_PUB_KEY_EX
 123

	)

32 
	#DH_F_DH_CMS_DECRYPT
 114

	)

33 
	#DH_F_DH_CMS_SET_PEERKEY
 115

	)

34 
	#DH_F_DH_CMS_SET_SHARED_INFO
 116

	)

35 
	#DH_F_DH_METH_DUP
 117

	)

36 
	#DH_F_DH_METH_NEW
 118

	)

37 
	#DH_F_DH_METH_SET1_NAME
 119

	)

38 
	#DH_F_DH_NEW_BY_NID
 104

	)

39 
	#DH_F_DH_NEW_METHOD
 105

	)

40 
	#DH_F_DH_PARAM_DECODE
 107

	)

41 
	#DH_F_DH_PKEY_PUBLIC_CHECK
 124

	)

42 
	#DH_F_DH_PRIV_DECODE
 110

	)

43 
	#DH_F_DH_PRIV_ENCODE
 111

	)

44 
	#DH_F_DH_PUB_DECODE
 108

	)

45 
	#DH_F_DH_PUB_ENCODE
 109

	)

46 
	#DH_F_DO_DH_PRINT
 100

	)

47 
	#DH_F_GENERATE_KEY
 103

	)

48 
	#DH_F_PKEY_DH_CTRL_STR
 120

	)

49 
	#DH_F_PKEY_DH_DERIVE
 112

	)

50 
	#DH_F_PKEY_DH_INIT
 125

	)

51 
	#DH_F_PKEY_DH_KEYGEN
 113

	)

56 
	#DH_R_BAD_GENERATOR
 101

	)

57 
	#DH_R_BN_DECODE_ERROR
 109

	)

58 
	#DH_R_BN_ERROR
 106

	)

59 
	#DH_R_CHECK_INVALID_J_VALUE
 115

	)

60 
	#DH_R_CHECK_INVALID_Q_VALUE
 116

	)

61 
	#DH_R_CHECK_PUBKEY_INVALID
 122

	)

62 
	#DH_R_CHECK_PUBKEY_TOO_LARGE
 123

	)

63 
	#DH_R_CHECK_PUBKEY_TOO_SMALL
 124

	)

64 
	#DH_R_CHECK_P_NOT_PRIME
 117

	)

65 
	#DH_R_CHECK_P_NOT_SAFE_PRIME
 118

	)

66 
	#DH_R_CHECK_Q_NOT_PRIME
 119

	)

67 
	#DH_R_DECODE_ERROR
 104

	)

68 
	#DH_R_INVALID_PARAMETER_NAME
 110

	)

69 
	#DH_R_INVALID_PARAMETER_NID
 114

	)

70 
	#DH_R_INVALID_PUBKEY
 102

	)

71 
	#DH_R_KDF_PARAMETER_ERROR
 112

	)

72 
	#DH_R_KEYS_NOT_SET
 108

	)

73 
	#DH_R_MISSING_PUBKEY
 125

	)

74 
	#DH_R_MODULUS_TOO_LARGE
 103

	)

75 
	#DH_R_NOT_SUITABLE_GENERATOR
 120

	)

76 
	#DH_R_NO_PARAMETERS_SET
 107

	)

77 
	#DH_R_NO_PRIVATE_VALUE
 100

	)

78 
	#DH_R_PARAMETER_ENCODING_ERROR
 105

	)

79 
	#DH_R_PEER_KEY_ERROR
 111

	)

80 
	#DH_R_SHARED_INFO_ERROR
 113

	)

81 
	#DH_R_UNABLE_TO_CHECK_GENERATOR
 121

	)

	@/usr/include/openssl/dsaerr.h

11 #iâdeà
HEADER_DSAERR_H


12 
	#HEADER_DSAERR_H


	)

14 
	~<İ’s¦/İ’s¦cÚf.h
>

16 #iâdeà
OPENSSL_NO_DSA


18 #ifdeà 
__ılu¥lus


21 
ERR_lßd_DSA_¡ršgs
();

26 
	#DSA_F_DSAPARAMS_PRINT
 100

	)

27 
	#DSA_F_DSAPARAMS_PRINT_FP
 101

	)

28 
	#DSA_F_DSA_BUILTIN_PARAMGEN
 125

	)

29 
	#DSA_F_DSA_BUILTIN_PARAMGEN2
 126

	)

30 
	#DSA_F_DSA_DO_SIGN
 112

	)

31 
	#DSA_F_DSA_DO_VERIFY
 113

	)

32 
	#DSA_F_DSA_METH_DUP
 127

	)

33 
	#DSA_F_DSA_METH_NEW
 128

	)

34 
	#DSA_F_DSA_METH_SET1_NAME
 129

	)

35 
	#DSA_F_DSA_NEW_METHOD
 103

	)

36 
	#DSA_F_DSA_PARAM_DECODE
 119

	)

37 
	#DSA_F_DSA_PRINT_FP
 105

	)

38 
	#DSA_F_DSA_PRIV_DECODE
 115

	)

39 
	#DSA_F_DSA_PRIV_ENCODE
 116

	)

40 
	#DSA_F_DSA_PUB_DECODE
 117

	)

41 
	#DSA_F_DSA_PUB_ENCODE
 118

	)

42 
	#DSA_F_DSA_SIGN
 106

	)

43 
	#DSA_F_DSA_SIGN_SETUP
 107

	)

44 
	#DSA_F_DSA_SIG_NEW
 102

	)

45 
	#DSA_F_OLD_DSA_PRIV_DECODE
 122

	)

46 
	#DSA_F_PKEY_DSA_CTRL
 120

	)

47 
	#DSA_F_PKEY_DSA_CTRL_STR
 104

	)

48 
	#DSA_F_PKEY_DSA_KEYGEN
 121

	)

53 
	#DSA_R_BAD_Q_VALUE
 102

	)

54 
	#DSA_R_BN_DECODE_ERROR
 108

	)

55 
	#DSA_R_BN_ERROR
 109

	)

56 
	#DSA_R_DECODE_ERROR
 104

	)

57 
	#DSA_R_INVALID_DIGEST_TYPE
 106

	)

58 
	#DSA_R_INVALID_PARAMETERS
 112

	)

59 
	#DSA_R_MISSING_PARAMETERS
 101

	)

60 
	#DSA_R_MODULUS_TOO_LARGE
 103

	)

61 
	#DSA_R_NO_PARAMETERS_SET
 107

	)

62 
	#DSA_R_PARAMETER_ENCODING_ERROR
 105

	)

63 
	#DSA_R_Q_NOT_PRIME
 113

	)

64 
	#DSA_R_SEED_LEN_SMALL
 110

	)

	@/usr/include/openssl/ecerr.h

11 #iâdeà
HEADER_ECERR_H


12 
	#HEADER_ECERR_H


	)

14 
	~<İ’s¦/İ’s¦cÚf.h
>

16 #iâdeà
OPENSSL_NO_EC


18 #ifdeà 
__ılu¥lus


21 
ERR_lßd_EC_¡ršgs
();

26 
	#EC_F_BN_TO_FELEM
 224

	)

27 
	#EC_F_D2I_ECPARAMETERS
 144

	)

28 
	#EC_F_D2I_ECPKPARAMETERS
 145

	)

29 
	#EC_F_D2I_ECPRIVATEKEY
 146

	)

30 
	#EC_F_DO_EC_KEY_PRINT
 221

	)

31 
	#EC_F_ECDH_CMS_DECRYPT
 238

	)

32 
	#EC_F_ECDH_CMS_SET_SHARED_INFO
 239

	)

33 
	#EC_F_ECDH_COMPUTE_KEY
 246

	)

34 
	#EC_F_ECDH_SIMPLE_COMPUTE_KEY
 257

	)

35 
	#EC_F_ECDSA_DO_SIGN_EX
 251

	)

36 
	#EC_F_ECDSA_DO_VERIFY
 252

	)

37 
	#EC_F_ECDSA_SIGN_EX
 254

	)

38 
	#EC_F_ECDSA_SIGN_SETUP
 248

	)

39 
	#EC_F_ECDSA_SIG_NEW
 265

	)

40 
	#EC_F_ECDSA_VERIFY
 253

	)

41 
	#EC_F_ECD_ITEM_VERIFY
 270

	)

42 
	#EC_F_ECKEY_PARAM2TYPE
 223

	)

43 
	#EC_F_ECKEY_PARAM_DECODE
 212

	)

44 
	#EC_F_ECKEY_PRIV_DECODE
 213

	)

45 
	#EC_F_ECKEY_PRIV_ENCODE
 214

	)

46 
	#EC_F_ECKEY_PUB_DECODE
 215

	)

47 
	#EC_F_ECKEY_PUB_ENCODE
 216

	)

48 
	#EC_F_ECKEY_TYPE2PARAM
 220

	)

49 
	#EC_F_ECPARAMETERS_PRINT
 147

	)

50 
	#EC_F_ECPARAMETERS_PRINT_FP
 148

	)

51 
	#EC_F_ECPKPARAMETERS_PRINT
 149

	)

52 
	#EC_F_ECPKPARAMETERS_PRINT_FP
 150

	)

53 
	#EC_F_ECP_NISTZ256_GET_AFFINE
 240

	)

54 
	#EC_F_ECP_NISTZ256_INV_MOD_ORD
 275

	)

55 
	#EC_F_ECP_NISTZ256_MULT_PRECOMPUTE
 243

	)

56 
	#EC_F_ECP_NISTZ256_POINTS_MUL
 241

	)

57 
	#EC_F_ECP_NISTZ256_PRE_COMP_NEW
 244

	)

58 
	#EC_F_ECP_NISTZ256_WINDOWED_MUL
 242

	)

59 
	#EC_F_ECX_KEY_OP
 266

	)

60 
	#EC_F_ECX_PRIV_ENCODE
 267

	)

61 
	#EC_F_ECX_PUB_ENCODE
 268

	)

62 
	#EC_F_EC_ASN1_GROUP2CURVE
 153

	)

63 
	#EC_F_EC_ASN1_GROUP2FIELDID
 154

	)

64 
	#EC_F_EC_GF2M_MONTGOMERY_POINT_MULTIPLY
 208

	)

65 
	#EC_F_EC_GF2M_SIMPLE_GROUP_CHECK_DISCRIMINANT
 159

	)

66 
	#EC_F_EC_GF2M_SIMPLE_GROUP_SET_CURVE
 195

	)

67 
	#EC_F_EC_GF2M_SIMPLE_LADDER_POST
 285

	)

68 
	#EC_F_EC_GF2M_SIMPLE_LADDER_PRE
 288

	)

69 
	#EC_F_EC_GF2M_SIMPLE_OCT2POINT
 160

	)

70 
	#EC_F_EC_GF2M_SIMPLE_POINT2OCT
 161

	)

71 
	#EC_F_EC_GF2M_SIMPLE_POINTS_MUL
 289

	)

72 
	#EC_F_EC_GF2M_SIMPLE_POINT_GET_AFFINE_COORDINATES
 162

	)

73 
	#EC_F_EC_GF2M_SIMPLE_POINT_SET_AFFINE_COORDINATES
 163

	)

74 
	#EC_F_EC_GF2M_SIMPLE_SET_COMPRESSED_COORDINATES
 164

	)

75 
	#EC_F_EC_GFP_MONT_FIELD_DECODE
 133

	)

76 
	#EC_F_EC_GFP_MONT_FIELD_ENCODE
 134

	)

77 
	#EC_F_EC_GFP_MONT_FIELD_MUL
 131

	)

78 
	#EC_F_EC_GFP_MONT_FIELD_SET_TO_ONE
 209

	)

79 
	#EC_F_EC_GFP_MONT_FIELD_SQR
 132

	)

80 
	#EC_F_EC_GFP_MONT_GROUP_SET_CURVE
 189

	)

81 
	#EC_F_EC_GFP_NISTP224_GROUP_SET_CURVE
 225

	)

82 
	#EC_F_EC_GFP_NISTP224_POINTS_MUL
 228

	)

83 
	#EC_F_EC_GFP_NISTP224_POINT_GET_AFFINE_COORDINATES
 226

	)

84 
	#EC_F_EC_GFP_NISTP256_GROUP_SET_CURVE
 230

	)

85 
	#EC_F_EC_GFP_NISTP256_POINTS_MUL
 231

	)

86 
	#EC_F_EC_GFP_NISTP256_POINT_GET_AFFINE_COORDINATES
 232

	)

87 
	#EC_F_EC_GFP_NISTP521_GROUP_SET_CURVE
 233

	)

88 
	#EC_F_EC_GFP_NISTP521_POINTS_MUL
 234

	)

89 
	#EC_F_EC_GFP_NISTP521_POINT_GET_AFFINE_COORDINATES
 235

	)

90 
	#EC_F_EC_GFP_NIST_FIELD_MUL
 200

	)

91 
	#EC_F_EC_GFP_NIST_FIELD_SQR
 201

	)

92 
	#EC_F_EC_GFP_NIST_GROUP_SET_CURVE
 202

	)

93 
	#EC_F_EC_GFP_SIMPLE_BLIND_COORDINATES
 287

	)

94 
	#EC_F_EC_GFP_SIMPLE_GROUP_CHECK_DISCRIMINANT
 165

	)

95 
	#EC_F_EC_GFP_SIMPLE_GROUP_SET_CURVE
 166

	)

96 
	#EC_F_EC_GFP_SIMPLE_MAKE_AFFINE
 102

	)

97 
	#EC_F_EC_GFP_SIMPLE_OCT2POINT
 103

	)

98 
	#EC_F_EC_GFP_SIMPLE_POINT2OCT
 104

	)

99 
	#EC_F_EC_GFP_SIMPLE_POINTS_MAKE_AFFINE
 137

	)

100 
	#EC_F_EC_GFP_SIMPLE_POINT_GET_AFFINE_COORDINATES
 167

	)

101 
	#EC_F_EC_GFP_SIMPLE_POINT_SET_AFFINE_COORDINATES
 168

	)

102 
	#EC_F_EC_GFP_SIMPLE_SET_COMPRESSED_COORDINATES
 169

	)

103 
	#EC_F_EC_GROUP_CHECK
 170

	)

104 
	#EC_F_EC_GROUP_CHECK_DISCRIMINANT
 171

	)

105 
	#EC_F_EC_GROUP_COPY
 106

	)

106 
	#EC_F_EC_GROUP_GET_CURVE
 291

	)

107 
	#EC_F_EC_GROUP_GET_CURVE_GF2M
 172

	)

108 
	#EC_F_EC_GROUP_GET_CURVE_GFP
 130

	)

109 
	#EC_F_EC_GROUP_GET_DEGREE
 173

	)

110 
	#EC_F_EC_GROUP_GET_ECPARAMETERS
 261

	)

111 
	#EC_F_EC_GROUP_GET_ECPKPARAMETERS
 262

	)

112 
	#EC_F_EC_GROUP_GET_PENTANOMIAL_BASIS
 193

	)

113 
	#EC_F_EC_GROUP_GET_TRINOMIAL_BASIS
 194

	)

114 
	#EC_F_EC_GROUP_NEW
 108

	)

115 
	#EC_F_EC_GROUP_NEW_BY_CURVE_NAME
 174

	)

116 
	#EC_F_EC_GROUP_NEW_FROM_DATA
 175

	)

117 
	#EC_F_EC_GROUP_NEW_FROM_ECPARAMETERS
 263

	)

118 
	#EC_F_EC_GROUP_NEW_FROM_ECPKPARAMETERS
 264

	)

119 
	#EC_F_EC_GROUP_SET_CURVE
 292

	)

120 
	#EC_F_EC_GROUP_SET_CURVE_GF2M
 176

	)

121 
	#EC_F_EC_GROUP_SET_CURVE_GFP
 109

	)

122 
	#EC_F_EC_GROUP_SET_GENERATOR
 111

	)

123 
	#EC_F_EC_GROUP_SET_SEED
 286

	)

124 
	#EC_F_EC_KEY_CHECK_KEY
 177

	)

125 
	#EC_F_EC_KEY_COPY
 178

	)

126 
	#EC_F_EC_KEY_GENERATE_KEY
 179

	)

127 
	#EC_F_EC_KEY_NEW
 182

	)

128 
	#EC_F_EC_KEY_NEW_METHOD
 245

	)

129 
	#EC_F_EC_KEY_OCT2PRIV
 255

	)

130 
	#EC_F_EC_KEY_PRINT
 180

	)

131 
	#EC_F_EC_KEY_PRINT_FP
 181

	)

132 
	#EC_F_EC_KEY_PRIV2BUF
 279

	)

133 
	#EC_F_EC_KEY_PRIV2OCT
 256

	)

134 
	#EC_F_EC_KEY_SET_PUBLIC_KEY_AFFINE_COORDINATES
 229

	)

135 
	#EC_F_EC_KEY_SIMPLE_CHECK_KEY
 258

	)

136 
	#EC_F_EC_KEY_SIMPLE_OCT2PRIV
 259

	)

137 
	#EC_F_EC_KEY_SIMPLE_PRIV2OCT
 260

	)

138 
	#EC_F_EC_PKEY_CHECK
 273

	)

139 
	#EC_F_EC_PKEY_PARAM_CHECK
 274

	)

140 
	#EC_F_EC_POINTS_MAKE_AFFINE
 136

	)

141 
	#EC_F_EC_POINTS_MUL
 290

	)

142 
	#EC_F_EC_POINT_ADD
 112

	)

143 
	#EC_F_EC_POINT_BN2POINT
 280

	)

144 
	#EC_F_EC_POINT_CMP
 113

	)

145 
	#EC_F_EC_POINT_COPY
 114

	)

146 
	#EC_F_EC_POINT_DBL
 115

	)

147 
	#EC_F_EC_POINT_GET_AFFINE_COORDINATES
 293

	)

148 
	#EC_F_EC_POINT_GET_AFFINE_COORDINATES_GF2M
 183

	)

149 
	#EC_F_EC_POINT_GET_AFFINE_COORDINATES_GFP
 116

	)

150 
	#EC_F_EC_POINT_GET_JPROJECTIVE_COORDINATES_GFP
 117

	)

151 
	#EC_F_EC_POINT_INVERT
 210

	)

152 
	#EC_F_EC_POINT_IS_AT_INFINITY
 118

	)

153 
	#EC_F_EC_POINT_IS_ON_CURVE
 119

	)

154 
	#EC_F_EC_POINT_MAKE_AFFINE
 120

	)

155 
	#EC_F_EC_POINT_NEW
 121

	)

156 
	#EC_F_EC_POINT_OCT2POINT
 122

	)

157 
	#EC_F_EC_POINT_POINT2BUF
 281

	)

158 
	#EC_F_EC_POINT_POINT2OCT
 123

	)

159 
	#EC_F_EC_POINT_SET_AFFINE_COORDINATES
 294

	)

160 
	#EC_F_EC_POINT_SET_AFFINE_COORDINATES_GF2M
 185

	)

161 
	#EC_F_EC_POINT_SET_AFFINE_COORDINATES_GFP
 124

	)

162 
	#EC_F_EC_POINT_SET_COMPRESSED_COORDINATES
 295

	)

163 
	#EC_F_EC_POINT_SET_COMPRESSED_COORDINATES_GF2M
 186

	)

164 
	#EC_F_EC_POINT_SET_COMPRESSED_COORDINATES_GFP
 125

	)

165 
	#EC_F_EC_POINT_SET_JPROJECTIVE_COORDINATES_GFP
 126

	)

166 
	#EC_F_EC_POINT_SET_TO_INFINITY
 127

	)

167 
	#EC_F_EC_PRE_COMP_NEW
 196

	)

168 
	#EC_F_EC_SCALAR_MUL_LADDER
 284

	)

169 
	#EC_F_EC_WNAF_MUL
 187

	)

170 
	#EC_F_EC_WNAF_PRECOMPUTE_MULT
 188

	)

171 
	#EC_F_I2D_ECPARAMETERS
 190

	)

172 
	#EC_F_I2D_ECPKPARAMETERS
 191

	)

173 
	#EC_F_I2D_ECPRIVATEKEY
 192

	)

174 
	#EC_F_I2O_ECPUBLICKEY
 151

	)

175 
	#EC_F_NISTP224_PRE_COMP_NEW
 227

	)

176 
	#EC_F_NISTP256_PRE_COMP_NEW
 236

	)

177 
	#EC_F_NISTP521_PRE_COMP_NEW
 237

	)

178 
	#EC_F_O2I_ECPUBLICKEY
 152

	)

179 
	#EC_F_OLD_EC_PRIV_DECODE
 222

	)

180 
	#EC_F_OSSL_ECDH_COMPUTE_KEY
 247

	)

181 
	#EC_F_OSSL_ECDSA_SIGN_SIG
 249

	)

182 
	#EC_F_OSSL_ECDSA_VERIFY_SIG
 250

	)

183 
	#EC_F_PKEY_ECD_CTRL
 271

	)

184 
	#EC_F_PKEY_ECD_DIGESTSIGN
 272

	)

185 
	#EC_F_PKEY_ECD_DIGESTSIGN25519
 276

	)

186 
	#EC_F_PKEY_ECD_DIGESTSIGN448
 277

	)

187 
	#EC_F_PKEY_ECX_DERIVE
 269

	)

188 
	#EC_F_PKEY_EC_CTRL
 197

	)

189 
	#EC_F_PKEY_EC_CTRL_STR
 198

	)

190 
	#EC_F_PKEY_EC_DERIVE
 217

	)

191 
	#EC_F_PKEY_EC_INIT
 282

	)

192 
	#EC_F_PKEY_EC_KDF_DERIVE
 283

	)

193 
	#EC_F_PKEY_EC_KEYGEN
 199

	)

194 
	#EC_F_PKEY_EC_PARAMGEN
 219

	)

195 
	#EC_F_PKEY_EC_SIGN
 218

	)

196 
	#EC_F_VALIDATE_ECX_DERIVE
 278

	)

201 
	#EC_R_ASN1_ERROR
 115

	)

202 
	#EC_R_BAD_SIGNATURE
 156

	)

203 
	#EC_R_BIGNUM_OUT_OF_RANGE
 144

	)

204 
	#EC_R_BUFFER_TOO_SMALL
 100

	)

205 
	#EC_R_COORDINATES_OUT_OF_RANGE
 146

	)

206 
	#EC_R_CURVE_DOES_NOT_SUPPORT_ECDH
 160

	)

207 
	#EC_R_CURVE_DOES_NOT_SUPPORT_SIGNING
 159

	)

208 
	#EC_R_D2I_ECPKPARAMETERS_FAILURE
 117

	)

209 
	#EC_R_DECODE_ERROR
 142

	)

210 
	#EC_R_DISCRIMINANT_IS_ZERO
 118

	)

211 
	#EC_R_EC_GROUP_NEW_BY_NAME_FAILURE
 119

	)

212 
	#EC_R_FIELD_TOO_LARGE
 143

	)

213 
	#EC_R_GF2M_NOT_SUPPORTED
 147

	)

214 
	#EC_R_GROUP2PKPARAMETERS_FAILURE
 120

	)

215 
	#EC_R_I2D_ECPKPARAMETERS_FAILURE
 121

	)

216 
	#EC_R_INCOMPATIBLE_OBJECTS
 101

	)

217 
	#EC_R_INVALID_ARGUMENT
 112

	)

218 
	#EC_R_INVALID_COMPRESSED_POINT
 110

	)

219 
	#EC_R_INVALID_COMPRESSION_BIT
 109

	)

220 
	#EC_R_INVALID_CURVE
 141

	)

221 
	#EC_R_INVALID_DIGEST
 151

	)

222 
	#EC_R_INVALID_DIGEST_TYPE
 138

	)

223 
	#EC_R_INVALID_ENCODING
 102

	)

224 
	#EC_R_INVALID_FIELD
 103

	)

225 
	#EC_R_INVALID_FORM
 104

	)

226 
	#EC_R_INVALID_GROUP_ORDER
 122

	)

227 
	#EC_R_INVALID_KEY
 116

	)

228 
	#EC_R_INVALID_OUTPUT_LENGTH
 161

	)

229 
	#EC_R_INVALID_PEER_KEY
 133

	)

230 
	#EC_R_INVALID_PENTANOMIAL_BASIS
 132

	)

231 
	#EC_R_INVALID_PRIVATE_KEY
 123

	)

232 
	#EC_R_INVALID_TRINOMIAL_BASIS
 137

	)

233 
	#EC_R_KDF_PARAMETER_ERROR
 148

	)

234 
	#EC_R_KEYS_NOT_SET
 140

	)

235 
	#EC_R_LADDER_POST_FAILURE
 136

	)

236 
	#EC_R_LADDER_PRE_FAILURE
 153

	)

237 
	#EC_R_LADDER_STEP_FAILURE
 162

	)

238 
	#EC_R_MISSING_PARAMETERS
 124

	)

239 
	#EC_R_MISSING_PRIVATE_KEY
 125

	)

240 
	#EC_R_NEED_NEW_SETUP_VALUES
 157

	)

241 
	#EC_R_NOT_A_NIST_PRIME
 135

	)

242 
	#EC_R_NOT_IMPLEMENTED
 126

	)

243 
	#EC_R_NOT_INITIALIZED
 111

	)

244 
	#EC_R_NO_PARAMETERS_SET
 139

	)

245 
	#EC_R_NO_PRIVATE_VALUE
 154

	)

246 
	#EC_R_OPERATION_NOT_SUPPORTED
 152

	)

247 
	#EC_R_PASSED_NULL_PARAMETER
 134

	)

248 
	#EC_R_PEER_KEY_ERROR
 149

	)

249 
	#EC_R_PKPARAMETERS2GROUP_FAILURE
 127

	)

250 
	#EC_R_POINT_ARITHMETIC_FAILURE
 155

	)

251 
	#EC_R_POINT_AT_INFINITY
 106

	)

252 
	#EC_R_POINT_COORDINATES_BLIND_FAILURE
 163

	)

253 
	#EC_R_POINT_IS_NOT_ON_CURVE
 107

	)

254 
	#EC_R_RANDOM_NUMBER_GENERATION_FAILED
 158

	)

255 
	#EC_R_SHARED_INFO_ERROR
 150

	)

256 
	#EC_R_SLOT_FULL
 108

	)

257 
	#EC_R_UNDEFINED_GENERATOR
 113

	)

258 
	#EC_R_UNDEFINED_ORDER
 128

	)

259 
	#EC_R_UNKNOWN_COFACTOR
 164

	)

260 
	#EC_R_UNKNOWN_GROUP
 129

	)

261 
	#EC_R_UNKNOWN_ORDER
 114

	)

262 
	#EC_R_UNSUPPORTED_FIELD
 131

	)

263 
	#EC_R_WRONG_CURVE_PARAMETERS
 145

	)

264 
	#EC_R_WRONG_ORDER
 130

	)

	@/usr/include/openssl/obj_mac.h

12 
	#SN_undef
 "UNDEF"

	)

13 
	#LN_undef
 "undefšed"

	)

14 
	#NID_undef
 0

	)

15 
	#OBJ_undef
 0L

	)

17 
	#SN_™u_t
 "ITU-T"

	)

18 
	#LN_™u_t
 "™u-t"

	)

19 
	#NID_™u_t
 645

	)

20 
	#OBJ_™u_t
 0L

	)

22 
	#NID_cc™t
 404

	)

23 
	#OBJ_cc™t
 
OBJ_™u_t


	)

25 
	#SN_iso
 "ISO"

	)

26 
	#LN_iso
 "iso"

	)

27 
	#NID_iso
 181

	)

28 
	#OBJ_iso
 1L

	)

30 
	#SN_jošt_iso_™u_t
 "JOINT-ISO-ITU-T"

	)

31 
	#LN_jošt_iso_™u_t
 "jošt-iso-™u-t"

	)

32 
	#NID_jošt_iso_™u_t
 646

	)

33 
	#OBJ_jošt_iso_™u_t
 2L

	)

35 
	#NID_jošt_iso_cc™t
 393

	)

36 
	#OBJ_jošt_iso_cc™t
 
OBJ_jošt_iso_™u_t


	)

38 
	#SN_memb”_body
 "memb”-body"

	)

39 
	#LN_memb”_body
 "ISO Memb” Body"

	)

40 
	#NID_memb”_body
 182

	)

41 
	#OBJ_memb”_body
 
OBJ_iso
,2L

	)

43 
	#SN_id’tif›d_Ügªiz©iÚ
 "id’tif›d-Ügªiz©iÚ"

	)

44 
	#NID_id’tif›d_Ügªiz©iÚ
 676

	)

45 
	#OBJ_id’tif›d_Ügªiz©iÚ
 
OBJ_iso
,3L

	)

47 
	#SN_hmac_md5
 "HMAC-MD5"

	)

48 
	#LN_hmac_md5
 "hmac-md5"

	)

49 
	#NID_hmac_md5
 780

	)

50 
	#OBJ_hmac_md5
 
OBJ_id’tif›d_Ügªiz©iÚ
,6L,1L,5L,5L,8L,1L,1L

	)

52 
	#SN_hmac_sha1
 "HMAC-SHA1"

	)

53 
	#LN_hmac_sha1
 "hmac-sha1"

	)

54 
	#NID_hmac_sha1
 781

	)

55 
	#OBJ_hmac_sha1
 
OBJ_id’tif›d_Ügªiz©iÚ
,6L,1L,5L,5L,8L,1L,2L

	)

57 
	#SN_x509ExtAdmissiÚ
 "x509ExtAdmissiÚ"

	)

58 
	#LN_x509ExtAdmissiÚ
 "ProãssiÚ® InfÜm©iÚ o¸basi fÜ AdmissiÚ"

	)

59 
	#NID_x509ExtAdmissiÚ
 1093

	)

60 
	#OBJ_x509ExtAdmissiÚ
 
OBJ_id’tif›d_Ügªiz©iÚ
,36L,8L,3L,3L

	)

62 
	#SN_û¹icom_¬c
 "û¹icom-¬c"

	)

63 
	#NID_û¹icom_¬c
 677

	)

64 
	#OBJ_û¹icom_¬c
 
OBJ_id’tif›d_Ügªiz©iÚ
,132L

	)

66 
	#SN_›“
 "›“"

	)

67 
	#NID_›“
 1170

	)

68 
	#OBJ_›“
 
OBJ_id’tif›d_Ügªiz©iÚ
,111L

	)

70 
	#SN_›“_siswg
 "›“-siswg"

	)

71 
	#LN_›“_siswg
 "IEEE Secur™y iÀStÜagWÜkšg Group"

	)

72 
	#NID_›“_siswg
 1171

	)

73 
	#OBJ_›“_siswg
 
OBJ_›“
,2L,1619L

	)

75 
	#SN_š‹º©iÚ®_Ügªiz©iÚs
 "š‹º©iÚ®-Ügªiz©iÚs"

	)

76 
	#LN_š‹º©iÚ®_Ügªiz©iÚs
 "IÁ”ÇtiÚ® Orgªiz©iÚs"

	)

77 
	#NID_š‹º©iÚ®_Ügªiz©iÚs
 647

	)

78 
	#OBJ_š‹º©iÚ®_Ügªiz©iÚs
 
OBJ_jošt_iso_™u_t
,23L

	)

80 
	#SN_w­
 "w­"

	)

81 
	#NID_w­
 678

	)

82 
	#OBJ_w­
 
OBJ_š‹º©iÚ®_Ügªiz©iÚs
,43L

	)

84 
	#SN_w­_wsg
 "w­-wsg"

	)

85 
	#NID_w­_wsg
 679

	)

86 
	#OBJ_w­_wsg
 
OBJ_w­
,1L

	)

88 
	#SN_£Ëùed_©Œibu‹_ty³s
 "£Ëùed-©Œibu‹-ty³s"

	)

89 
	#LN_£Ëùed_©Œibu‹_ty³s
 "S–eùed A‰ribu‹ Ty³s"

	)

90 
	#NID_£Ëùed_©Œibu‹_ty³s
 394

	)

91 
	#OBJ_£Ëùed_©Œibu‹_ty³s
 
OBJ_jošt_iso_™u_t
,5L,1L,5L

	)

93 
	#SN_ş—¿nû
 "ş—¿nû"

	)

94 
	#NID_ş—¿nû
 395

	)

95 
	#OBJ_ş—¿nû
 
OBJ_£Ëùed_©Œibu‹_ty³s
,55L

	)

97 
	#SN_ISO_US
 "ISO-US"

	)

98 
	#LN_ISO_US
 "ISO US Memb” Body"

	)

99 
	#NID_ISO_US
 183

	)

100 
	#OBJ_ISO_US
 
OBJ_memb”_body
,840L

	)

102 
	#SN_X9_57
 "X9-57"

	)

103 
	#LN_X9_57
 "X9.57"

	)

104 
	#NID_X9_57
 184

	)

105 
	#OBJ_X9_57
 
OBJ_ISO_US
,10040L

	)

107 
	#SN_X9cm
 "X9cm"

	)

108 
	#LN_X9cm
 "X9.57 CM ?"

	)

109 
	#NID_X9cm
 185

	)

110 
	#OBJ_X9cm
 
OBJ_X9_57
,4L

	)

112 
	#SN_ISO_CN
 "ISO-CN"

	)

113 
	#LN_ISO_CN
 "ISO CN Memb” Body"

	)

114 
	#NID_ISO_CN
 1140

	)

115 
	#OBJ_ISO_CN
 
OBJ_memb”_body
,156L

	)

117 
	#SN_oscÿ
 "oscÿ"

	)

118 
	#NID_oscÿ
 1141

	)

119 
	#OBJ_oscÿ
 
OBJ_ISO_CN
,10197L

	)

121 
	#SN_sm_scheme
 "sm-scheme"

	)

122 
	#NID_sm_scheme
 1142

	)

123 
	#OBJ_sm_scheme
 
OBJ_oscÿ
,1L

	)

125 
	#SN_d§
 "DSA"

	)

126 
	#LN_d§
 "d§Enüy±iÚ"

	)

127 
	#NID_d§
 116

	)

128 
	#OBJ_d§
 
OBJ_X9cm
,1L

	)

130 
	#SN_d§W™hSHA1
 "DSA-SHA1"

	)

131 
	#LN_d§W™hSHA1
 "d§W™hSHA1"

	)

132 
	#NID_d§W™hSHA1
 113

	)

133 
	#OBJ_d§W™hSHA1
 
OBJ_X9cm
,3L

	)

135 
	#SN_ªsi_X9_62
 "ªsi-X9-62"

	)

136 
	#LN_ªsi_X9_62
 "ANSI X9.62"

	)

137 
	#NID_ªsi_X9_62
 405

	)

138 
	#OBJ_ªsi_X9_62
 
OBJ_ISO_US
,10045L

	)

140 
	#OBJ_X9_62_id_f›ldTy³
 
OBJ_ªsi_X9_62
,1L

	)

142 
	#SN_X9_62_´ime_f›ld
 "´ime-f›ld"

	)

143 
	#NID_X9_62_´ime_f›ld
 406

	)

144 
	#OBJ_X9_62_´ime_f›ld
 
OBJ_X9_62_id_f›ldTy³
,1L

	)

146 
	#SN_X9_62_ch¬aù”i¡ic_two_f›ld
 "ch¬aù”i¡ic-two-f›ld"

	)

147 
	#NID_X9_62_ch¬aù”i¡ic_two_f›ld
 407

	)

148 
	#OBJ_X9_62_ch¬aù”i¡ic_two_f›ld
 
OBJ_X9_62_id_f›ldTy³
,2L

	)

150 
	#SN_X9_62_id_ch¬aù”i¡ic_two_basis
 "id-ch¬aù”i¡ic-two-basis"

	)

151 
	#NID_X9_62_id_ch¬aù”i¡ic_two_basis
 680

	)

152 
	#OBJ_X9_62_id_ch¬aù”i¡ic_two_basis
 
OBJ_X9_62_ch¬aù”i¡ic_two_f›ld
,3L

	)

154 
	#SN_X9_62_ÚBasis
 "ÚBasis"

	)

155 
	#NID_X9_62_ÚBasis
 681

	)

156 
	#OBJ_X9_62_ÚBasis
 
OBJ_X9_62_id_ch¬aù”i¡ic_two_basis
,1L

	)

158 
	#SN_X9_62_Basis
 "Basis"

	)

159 
	#NID_X9_62_Basis
 682

	)

160 
	#OBJ_X9_62_Basis
 
OBJ_X9_62_id_ch¬aù”i¡ic_two_basis
,2L

	)

162 
	#SN_X9_62_µBasis
 "µBasis"

	)

163 
	#NID_X9_62_µBasis
 683

	)

164 
	#OBJ_X9_62_µBasis
 
OBJ_X9_62_id_ch¬aù”i¡ic_two_basis
,3L

	)

166 
	#OBJ_X9_62_id_publicKeyTy³
 
OBJ_ªsi_X9_62
,2L

	)

168 
	#SN_X9_62_id_ecPublicKey
 "id-ecPublicKey"

	)

169 
	#NID_X9_62_id_ecPublicKey
 408

	)

170 
	#OBJ_X9_62_id_ecPublicKey
 
OBJ_X9_62_id_publicKeyTy³
,1L

	)

172 
	#OBJ_X9_62_–lticCurve
 
OBJ_ªsi_X9_62
,3L

	)

174 
	#OBJ_X9_62_c_TwoCurve
 
OBJ_X9_62_–lticCurve
,0L

	)

176 
	#SN_X9_62_c2²b163v1
 "c2²b163v1"

	)

177 
	#NID_X9_62_c2²b163v1
 684

	)

178 
	#OBJ_X9_62_c2²b163v1
 
OBJ_X9_62_c_TwoCurve
,1L

	)

180 
	#SN_X9_62_c2²b163v2
 "c2²b163v2"

	)

181 
	#NID_X9_62_c2²b163v2
 685

	)

182 
	#OBJ_X9_62_c2²b163v2
 
OBJ_X9_62_c_TwoCurve
,2L

	)

184 
	#SN_X9_62_c2²b163v3
 "c2²b163v3"

	)

185 
	#NID_X9_62_c2²b163v3
 686

	)

186 
	#OBJ_X9_62_c2²b163v3
 
OBJ_X9_62_c_TwoCurve
,3L

	)

188 
	#SN_X9_62_c2²b176v1
 "c2²b176v1"

	)

189 
	#NID_X9_62_c2²b176v1
 687

	)

190 
	#OBJ_X9_62_c2²b176v1
 
OBJ_X9_62_c_TwoCurve
,4L

	)

192 
	#SN_X9_62_c2Šb191v1
 "c2Šb191v1"

	)

193 
	#NID_X9_62_c2Šb191v1
 688

	)

194 
	#OBJ_X9_62_c2Šb191v1
 
OBJ_X9_62_c_TwoCurve
,5L

	)

196 
	#SN_X9_62_c2Šb191v2
 "c2Šb191v2"

	)

197 
	#NID_X9_62_c2Šb191v2
 689

	)

198 
	#OBJ_X9_62_c2Šb191v2
 
OBJ_X9_62_c_TwoCurve
,6L

	)

200 
	#SN_X9_62_c2Šb191v3
 "c2Šb191v3"

	)

201 
	#NID_X9_62_c2Šb191v3
 690

	)

202 
	#OBJ_X9_62_c2Šb191v3
 
OBJ_X9_62_c_TwoCurve
,7L

	)

204 
	#SN_X9_62_c2Úb191v4
 "c2Úb191v4"

	)

205 
	#NID_X9_62_c2Úb191v4
 691

	)

206 
	#OBJ_X9_62_c2Úb191v4
 
OBJ_X9_62_c_TwoCurve
,8L

	)

208 
	#SN_X9_62_c2Úb191v5
 "c2Úb191v5"

	)

209 
	#NID_X9_62_c2Úb191v5
 692

	)

210 
	#OBJ_X9_62_c2Úb191v5
 
OBJ_X9_62_c_TwoCurve
,9L

	)

212 
	#SN_X9_62_c2²b208w1
 "c2²b208w1"

	)

213 
	#NID_X9_62_c2²b208w1
 693

	)

214 
	#OBJ_X9_62_c2²b208w1
 
OBJ_X9_62_c_TwoCurve
,10L

	)

216 
	#SN_X9_62_c2Šb239v1
 "c2Šb239v1"

	)

217 
	#NID_X9_62_c2Šb239v1
 694

	)

218 
	#OBJ_X9_62_c2Šb239v1
 
OBJ_X9_62_c_TwoCurve
,11L

	)

220 
	#SN_X9_62_c2Šb239v2
 "c2Šb239v2"

	)

221 
	#NID_X9_62_c2Šb239v2
 695

	)

222 
	#OBJ_X9_62_c2Šb239v2
 
OBJ_X9_62_c_TwoCurve
,12L

	)

224 
	#SN_X9_62_c2Šb239v3
 "c2Šb239v3"

	)

225 
	#NID_X9_62_c2Šb239v3
 696

	)

226 
	#OBJ_X9_62_c2Šb239v3
 
OBJ_X9_62_c_TwoCurve
,13L

	)

228 
	#SN_X9_62_c2Úb239v4
 "c2Úb239v4"

	)

229 
	#NID_X9_62_c2Úb239v4
 697

	)

230 
	#OBJ_X9_62_c2Úb239v4
 
OBJ_X9_62_c_TwoCurve
,14L

	)

232 
	#SN_X9_62_c2Úb239v5
 "c2Úb239v5"

	)

233 
	#NID_X9_62_c2Úb239v5
 698

	)

234 
	#OBJ_X9_62_c2Úb239v5
 
OBJ_X9_62_c_TwoCurve
,15L

	)

236 
	#SN_X9_62_c2²b272w1
 "c2²b272w1"

	)

237 
	#NID_X9_62_c2²b272w1
 699

	)

238 
	#OBJ_X9_62_c2²b272w1
 
OBJ_X9_62_c_TwoCurve
,16L

	)

240 
	#SN_X9_62_c2²b304w1
 "c2²b304w1"

	)

241 
	#NID_X9_62_c2²b304w1
 700

	)

242 
	#OBJ_X9_62_c2²b304w1
 
OBJ_X9_62_c_TwoCurve
,17L

	)

244 
	#SN_X9_62_c2Šb359v1
 "c2Šb359v1"

	)

245 
	#NID_X9_62_c2Šb359v1
 701

	)

246 
	#OBJ_X9_62_c2Šb359v1
 
OBJ_X9_62_c_TwoCurve
,18L

	)

248 
	#SN_X9_62_c2²b368w1
 "c2²b368w1"

	)

249 
	#NID_X9_62_c2²b368w1
 702

	)

250 
	#OBJ_X9_62_c2²b368w1
 
OBJ_X9_62_c_TwoCurve
,19L

	)

252 
	#SN_X9_62_c2Šb431r1
 "c2Šb431r1"

	)

253 
	#NID_X9_62_c2Šb431r1
 703

	)

254 
	#OBJ_X9_62_c2Šb431r1
 
OBJ_X9_62_c_TwoCurve
,20L

	)

256 
	#OBJ_X9_62_´imeCurve
 
OBJ_X9_62_–lticCurve
,1L

	)

258 
	#SN_X9_62_´ime192v1
 "´ime192v1"

	)

259 
	#NID_X9_62_´ime192v1
 409

	)

260 
	#OBJ_X9_62_´ime192v1
 
OBJ_X9_62_´imeCurve
,1L

	)

262 
	#SN_X9_62_´ime192v2
 "´ime192v2"

	)

263 
	#NID_X9_62_´ime192v2
 410

	)

264 
	#OBJ_X9_62_´ime192v2
 
OBJ_X9_62_´imeCurve
,2L

	)

266 
	#SN_X9_62_´ime192v3
 "´ime192v3"

	)

267 
	#NID_X9_62_´ime192v3
 411

	)

268 
	#OBJ_X9_62_´ime192v3
 
OBJ_X9_62_´imeCurve
,3L

	)

270 
	#SN_X9_62_´ime239v1
 "´ime239v1"

	)

271 
	#NID_X9_62_´ime239v1
 412

	)

272 
	#OBJ_X9_62_´ime239v1
 
OBJ_X9_62_´imeCurve
,4L

	)

274 
	#SN_X9_62_´ime239v2
 "´ime239v2"

	)

275 
	#NID_X9_62_´ime239v2
 413

	)

276 
	#OBJ_X9_62_´ime239v2
 
OBJ_X9_62_´imeCurve
,5L

	)

278 
	#SN_X9_62_´ime239v3
 "´ime239v3"

	)

279 
	#NID_X9_62_´ime239v3
 414

	)

280 
	#OBJ_X9_62_´ime239v3
 
OBJ_X9_62_´imeCurve
,6L

	)

282 
	#SN_X9_62_´ime256v1
 "´ime256v1"

	)

283 
	#NID_X9_62_´ime256v1
 415

	)

284 
	#OBJ_X9_62_´ime256v1
 
OBJ_X9_62_´imeCurve
,7L

	)

286 
	#OBJ_X9_62_id_ecSigTy³
 
OBJ_ªsi_X9_62
,4L

	)

288 
	#SN_ecd§_w™h_SHA1
 "ecd§-w™h-SHA1"

	)

289 
	#NID_ecd§_w™h_SHA1
 416

	)

290 
	#OBJ_ecd§_w™h_SHA1
 
OBJ_X9_62_id_ecSigTy³
,1L

	)

292 
	#SN_ecd§_w™h_Recomm’ded
 "ecd§-w™h-Recomm’ded"

	)

293 
	#NID_ecd§_w™h_Recomm’ded
 791

	)

294 
	#OBJ_ecd§_w™h_Recomm’ded
 
OBJ_X9_62_id_ecSigTy³
,2L

	)

296 
	#SN_ecd§_w™h_S³cif›d
 "ecd§-w™h-S³cif›d"

	)

297 
	#NID_ecd§_w™h_S³cif›d
 792

	)

298 
	#OBJ_ecd§_w™h_S³cif›d
 
OBJ_X9_62_id_ecSigTy³
,3L

	)

300 
	#SN_ecd§_w™h_SHA224
 "ecd§-w™h-SHA224"

	)

301 
	#NID_ecd§_w™h_SHA224
 793

	)

302 
	#OBJ_ecd§_w™h_SHA224
 
OBJ_ecd§_w™h_S³cif›d
,1L

	)

304 
	#SN_ecd§_w™h_SHA256
 "ecd§-w™h-SHA256"

	)

305 
	#NID_ecd§_w™h_SHA256
 794

	)

306 
	#OBJ_ecd§_w™h_SHA256
 
OBJ_ecd§_w™h_S³cif›d
,2L

	)

308 
	#SN_ecd§_w™h_SHA384
 "ecd§-w™h-SHA384"

	)

309 
	#NID_ecd§_w™h_SHA384
 795

	)

310 
	#OBJ_ecd§_w™h_SHA384
 
OBJ_ecd§_w™h_S³cif›d
,3L

	)

312 
	#SN_ecd§_w™h_SHA512
 "ecd§-w™h-SHA512"

	)

313 
	#NID_ecd§_w™h_SHA512
 796

	)

314 
	#OBJ_ecd§_w™h_SHA512
 
OBJ_ecd§_w™h_S³cif›d
,4L

	)

316 
	#OBJ_£cg_–lticCurve
 
OBJ_û¹icom_¬c
,0L

	)

318 
	#SN_£ı112r1
 "£ı112r1"

	)

319 
	#NID_£ı112r1
 704

	)

320 
	#OBJ_£ı112r1
 
OBJ_£cg_–lticCurve
,6L

	)

322 
	#SN_£ı112r2
 "£ı112r2"

	)

323 
	#NID_£ı112r2
 705

	)

324 
	#OBJ_£ı112r2
 
OBJ_£cg_–lticCurve
,7L

	)

326 
	#SN_£ı128r1
 "£ı128r1"

	)

327 
	#NID_£ı128r1
 706

	)

328 
	#OBJ_£ı128r1
 
OBJ_£cg_–lticCurve
,28L

	)

330 
	#SN_£ı128r2
 "£ı128r2"

	)

331 
	#NID_£ı128r2
 707

	)

332 
	#OBJ_£ı128r2
 
OBJ_£cg_–lticCurve
,29L

	)

334 
	#SN_£ı160k1
 "£ı160k1"

	)

335 
	#NID_£ı160k1
 708

	)

336 
	#OBJ_£ı160k1
 
OBJ_£cg_–lticCurve
,9L

	)

338 
	#SN_£ı160r1
 "£ı160r1"

	)

339 
	#NID_£ı160r1
 709

	)

340 
	#OBJ_£ı160r1
 
OBJ_£cg_–lticCurve
,8L

	)

342 
	#SN_£ı160r2
 "£ı160r2"

	)

343 
	#NID_£ı160r2
 710

	)

344 
	#OBJ_£ı160r2
 
OBJ_£cg_–lticCurve
,30L

	)

346 
	#SN_£ı192k1
 "£ı192k1"

	)

347 
	#NID_£ı192k1
 711

	)

348 
	#OBJ_£ı192k1
 
OBJ_£cg_–lticCurve
,31L

	)

350 
	#SN_£ı224k1
 "£ı224k1"

	)

351 
	#NID_£ı224k1
 712

	)

352 
	#OBJ_£ı224k1
 
OBJ_£cg_–lticCurve
,32L

	)

354 
	#SN_£ı224r1
 "£ı224r1"

	)

355 
	#NID_£ı224r1
 713

	)

356 
	#OBJ_£ı224r1
 
OBJ_£cg_–lticCurve
,33L

	)

358 
	#SN_£ı256k1
 "£ı256k1"

	)

359 
	#NID_£ı256k1
 714

	)

360 
	#OBJ_£ı256k1
 
OBJ_£cg_–lticCurve
,10L

	)

362 
	#SN_£ı384r1
 "£ı384r1"

	)

363 
	#NID_£ı384r1
 715

	)

364 
	#OBJ_£ı384r1
 
OBJ_£cg_–lticCurve
,34L

	)

366 
	#SN_£ı521r1
 "£ı521r1"

	)

367 
	#NID_£ı521r1
 716

	)

368 
	#OBJ_£ı521r1
 
OBJ_£cg_–lticCurve
,35L

	)

370 
	#SN_£ù113r1
 "£ù113r1"

	)

371 
	#NID_£ù113r1
 717

	)

372 
	#OBJ_£ù113r1
 
OBJ_£cg_–lticCurve
,4L

	)

374 
	#SN_£ù113r2
 "£ù113r2"

	)

375 
	#NID_£ù113r2
 718

	)

376 
	#OBJ_£ù113r2
 
OBJ_£cg_–lticCurve
,5L

	)

378 
	#SN_£ù131r1
 "£ù131r1"

	)

379 
	#NID_£ù131r1
 719

	)

380 
	#OBJ_£ù131r1
 
OBJ_£cg_–lticCurve
,22L

	)

382 
	#SN_£ù131r2
 "£ù131r2"

	)

383 
	#NID_£ù131r2
 720

	)

384 
	#OBJ_£ù131r2
 
OBJ_£cg_–lticCurve
,23L

	)

386 
	#SN_£ù163k1
 "£ù163k1"

	)

387 
	#NID_£ù163k1
 721

	)

388 
	#OBJ_£ù163k1
 
OBJ_£cg_–lticCurve
,1L

	)

390 
	#SN_£ù163r1
 "£ù163r1"

	)

391 
	#NID_£ù163r1
 722

	)

392 
	#OBJ_£ù163r1
 
OBJ_£cg_–lticCurve
,2L

	)

394 
	#SN_£ù163r2
 "£ù163r2"

	)

395 
	#NID_£ù163r2
 723

	)

396 
	#OBJ_£ù163r2
 
OBJ_£cg_–lticCurve
,15L

	)

398 
	#SN_£ù193r1
 "£ù193r1"

	)

399 
	#NID_£ù193r1
 724

	)

400 
	#OBJ_£ù193r1
 
OBJ_£cg_–lticCurve
,24L

	)

402 
	#SN_£ù193r2
 "£ù193r2"

	)

403 
	#NID_£ù193r2
 725

	)

404 
	#OBJ_£ù193r2
 
OBJ_£cg_–lticCurve
,25L

	)

406 
	#SN_£ù233k1
 "£ù233k1"

	)

407 
	#NID_£ù233k1
 726

	)

408 
	#OBJ_£ù233k1
 
OBJ_£cg_–lticCurve
,26L

	)

410 
	#SN_£ù233r1
 "£ù233r1"

	)

411 
	#NID_£ù233r1
 727

	)

412 
	#OBJ_£ù233r1
 
OBJ_£cg_–lticCurve
,27L

	)

414 
	#SN_£ù239k1
 "£ù239k1"

	)

415 
	#NID_£ù239k1
 728

	)

416 
	#OBJ_£ù239k1
 
OBJ_£cg_–lticCurve
,3L

	)

418 
	#SN_£ù283k1
 "£ù283k1"

	)

419 
	#NID_£ù283k1
 729

	)

420 
	#OBJ_£ù283k1
 
OBJ_£cg_–lticCurve
,16L

	)

422 
	#SN_£ù283r1
 "£ù283r1"

	)

423 
	#NID_£ù283r1
 730

	)

424 
	#OBJ_£ù283r1
 
OBJ_£cg_–lticCurve
,17L

	)

426 
	#SN_£ù409k1
 "£ù409k1"

	)

427 
	#NID_£ù409k1
 731

	)

428 
	#OBJ_£ù409k1
 
OBJ_£cg_–lticCurve
,36L

	)

430 
	#SN_£ù409r1
 "£ù409r1"

	)

431 
	#NID_£ù409r1
 732

	)

432 
	#OBJ_£ù409r1
 
OBJ_£cg_–lticCurve
,37L

	)

434 
	#SN_£ù571k1
 "£ù571k1"

	)

435 
	#NID_£ù571k1
 733

	)

436 
	#OBJ_£ù571k1
 
OBJ_£cg_–lticCurve
,38L

	)

438 
	#SN_£ù571r1
 "£ù571r1"

	)

439 
	#NID_£ù571r1
 734

	)

440 
	#OBJ_£ù571r1
 
OBJ_£cg_–lticCurve
,39L

	)

442 
	#OBJ_w­_wsg_idm_ecid
 
OBJ_w­_wsg
,4L

	)

444 
	#SN_w­_wsg_idm_ecid_ws1
 "w­-wsg-idm-ecid-ws1"

	)

445 
	#NID_w­_wsg_idm_ecid_ws1
 735

	)

446 
	#OBJ_w­_wsg_idm_ecid_ws1
 
OBJ_w­_wsg_idm_ecid
,1L

	)

448 
	#SN_w­_wsg_idm_ecid_ws3
 "w­-wsg-idm-ecid-ws3"

	)

449 
	#NID_w­_wsg_idm_ecid_ws3
 736

	)

450 
	#OBJ_w­_wsg_idm_ecid_ws3
 
OBJ_w­_wsg_idm_ecid
,3L

	)

452 
	#SN_w­_wsg_idm_ecid_ws4
 "w­-wsg-idm-ecid-ws4"

	)

453 
	#NID_w­_wsg_idm_ecid_ws4
 737

	)

454 
	#OBJ_w­_wsg_idm_ecid_ws4
 
OBJ_w­_wsg_idm_ecid
,4L

	)

456 
	#SN_w­_wsg_idm_ecid_ws5
 "w­-wsg-idm-ecid-ws5"

	)

457 
	#NID_w­_wsg_idm_ecid_ws5
 738

	)

458 
	#OBJ_w­_wsg_idm_ecid_ws5
 
OBJ_w­_wsg_idm_ecid
,5L

	)

460 
	#SN_w­_wsg_idm_ecid_ws6
 "w­-wsg-idm-ecid-ws6"

	)

461 
	#NID_w­_wsg_idm_ecid_ws6
 739

	)

462 
	#OBJ_w­_wsg_idm_ecid_ws6
 
OBJ_w­_wsg_idm_ecid
,6L

	)

464 
	#SN_w­_wsg_idm_ecid_ws7
 "w­-wsg-idm-ecid-ws7"

	)

465 
	#NID_w­_wsg_idm_ecid_ws7
 740

	)

466 
	#OBJ_w­_wsg_idm_ecid_ws7
 
OBJ_w­_wsg_idm_ecid
,7L

	)

468 
	#SN_w­_wsg_idm_ecid_ws8
 "w­-wsg-idm-ecid-ws8"

	)

469 
	#NID_w­_wsg_idm_ecid_ws8
 741

	)

470 
	#OBJ_w­_wsg_idm_ecid_ws8
 
OBJ_w­_wsg_idm_ecid
,8L

	)

472 
	#SN_w­_wsg_idm_ecid_ws9
 "w­-wsg-idm-ecid-ws9"

	)

473 
	#NID_w­_wsg_idm_ecid_ws9
 742

	)

474 
	#OBJ_w­_wsg_idm_ecid_ws9
 
OBJ_w­_wsg_idm_ecid
,9L

	)

476 
	#SN_w­_wsg_idm_ecid_ws10
 "w­-wsg-idm-ecid-ws10"

	)

477 
	#NID_w­_wsg_idm_ecid_ws10
 743

	)

478 
	#OBJ_w­_wsg_idm_ecid_ws10
 
OBJ_w­_wsg_idm_ecid
,10L

	)

480 
	#SN_w­_wsg_idm_ecid_ws11
 "w­-wsg-idm-ecid-ws11"

	)

481 
	#NID_w­_wsg_idm_ecid_ws11
 744

	)

482 
	#OBJ_w­_wsg_idm_ecid_ws11
 
OBJ_w­_wsg_idm_ecid
,11L

	)

484 
	#SN_w­_wsg_idm_ecid_ws12
 "w­-wsg-idm-ecid-ws12"

	)

485 
	#NID_w­_wsg_idm_ecid_ws12
 745

	)

486 
	#OBJ_w­_wsg_idm_ecid_ws12
 
OBJ_w­_wsg_idm_ecid
,12L

	)

488 
	#SN_ÿ¡5_cbc
 "CAST5-CBC"

	)

489 
	#LN_ÿ¡5_cbc
 "ÿ¡5-cbc"

	)

490 
	#NID_ÿ¡5_cbc
 108

	)

491 
	#OBJ_ÿ¡5_cbc
 
OBJ_ISO_US
,113533L,7L,66L,10L

	)

493 
	#SN_ÿ¡5_ecb
 "CAST5-ECB"

	)

494 
	#LN_ÿ¡5_ecb
 "ÿ¡5-ecb"

	)

495 
	#NID_ÿ¡5_ecb
 109

	)

497 
	#SN_ÿ¡5_cfb64
 "CAST5-CFB"

	)

498 
	#LN_ÿ¡5_cfb64
 "ÿ¡5-cfb"

	)

499 
	#NID_ÿ¡5_cfb64
 110

	)

501 
	#SN_ÿ¡5_ofb64
 "CAST5-OFB"

	)

502 
	#LN_ÿ¡5_ofb64
 "ÿ¡5-ofb"

	)

503 
	#NID_ÿ¡5_ofb64
 111

	)

505 
	#LN_pbeW™hMD5AndCa¡5_CBC
 "pbeW™hMD5AndCa¡5CBC"

	)

506 
	#NID_pbeW™hMD5AndCa¡5_CBC
 112

	)

507 
	#OBJ_pbeW™hMD5AndCa¡5_CBC
 
OBJ_ISO_US
,113533L,7L,66L,12L

	)

509 
	#SN_id_PasswÜdBa£dMAC
 "id-PasswÜdBa£dMAC"

	)

510 
	#LN_id_PasswÜdBa£dMAC
 "·sswÜd ba£d MAC"

	)

511 
	#NID_id_PasswÜdBa£dMAC
 782

	)

512 
	#OBJ_id_PasswÜdBa£dMAC
 
OBJ_ISO_US
,113533L,7L,66L,13L

	)

514 
	#SN_id_DHBa£dMac
 "id-DHBa£dMac"

	)

515 
	#LN_id_DHBa£dMac
 "Diff›-H–lmª ba£d MAC"

	)

516 
	#NID_id_DHBa£dMac
 783

	)

517 
	#OBJ_id_DHBa£dMac
 
OBJ_ISO_US
,113533L,7L,66L,30L

	)

519 
	#SN_r§dsi
 "r§dsi"

	)

520 
	#LN_r§dsi
 "RSA D©¨Secur™y, Inc."

	)

521 
	#NID_r§dsi
 1

	)

522 
	#OBJ_r§dsi
 
OBJ_ISO_US
,113549L

	)

524 
	#SN_pkcs
 "pkcs"

	)

525 
	#LN_pkcs
 "RSA D©¨Secur™y, Inc. PKCS"

	)

526 
	#NID_pkcs
 2

	)

527 
	#OBJ_pkcs
 
OBJ_r§dsi
,1L

	)

529 
	#SN_pkcs1
 "pkcs1"

	)

530 
	#NID_pkcs1
 186

	)

531 
	#OBJ_pkcs1
 
OBJ_pkcs
,1L

	)

533 
	#LN_r§Enüy±iÚ
 "r§Enüy±iÚ"

	)

534 
	#NID_r§Enüy±iÚ
 6

	)

535 
	#OBJ_r§Enüy±iÚ
 
OBJ_pkcs1
,1L

	)

537 
	#SN_md2W™hRSAEnüy±iÚ
 "RSA-MD2"

	)

538 
	#LN_md2W™hRSAEnüy±iÚ
 "md2W™hRSAEnüy±iÚ"

	)

539 
	#NID_md2W™hRSAEnüy±iÚ
 7

	)

540 
	#OBJ_md2W™hRSAEnüy±iÚ
 
OBJ_pkcs1
,2L

	)

542 
	#SN_md4W™hRSAEnüy±iÚ
 "RSA-MD4"

	)

543 
	#LN_md4W™hRSAEnüy±iÚ
 "md4W™hRSAEnüy±iÚ"

	)

544 
	#NID_md4W™hRSAEnüy±iÚ
 396

	)

545 
	#OBJ_md4W™hRSAEnüy±iÚ
 
OBJ_pkcs1
,3L

	)

547 
	#SN_md5W™hRSAEnüy±iÚ
 "RSA-MD5"

	)

548 
	#LN_md5W™hRSAEnüy±iÚ
 "md5W™hRSAEnüy±iÚ"

	)

549 
	#NID_md5W™hRSAEnüy±iÚ
 8

	)

550 
	#OBJ_md5W™hRSAEnüy±iÚ
 
OBJ_pkcs1
,4L

	)

552 
	#SN_sha1W™hRSAEnüy±iÚ
 "RSA-SHA1"

	)

553 
	#LN_sha1W™hRSAEnüy±iÚ
 "sha1W™hRSAEnüy±iÚ"

	)

554 
	#NID_sha1W™hRSAEnüy±iÚ
 65

	)

555 
	#OBJ_sha1W™hRSAEnüy±iÚ
 
OBJ_pkcs1
,5L

	)

557 
	#SN_r§esO«p
 "RSAES-OAEP"

	)

558 
	#LN_r§esO«p
 "r§esO«p"

	)

559 
	#NID_r§esO«p
 919

	)

560 
	#OBJ_r§esO«p
 
OBJ_pkcs1
,7L

	)

562 
	#SN_mgf1
 "MGF1"

	)

563 
	#LN_mgf1
 "mgf1"

	)

564 
	#NID_mgf1
 911

	)

565 
	#OBJ_mgf1
 
OBJ_pkcs1
,8L

	)

567 
	#SN_pS³cif›d
 "PSPECIFIED"

	)

568 
	#LN_pS³cif›d
 "pS³cif›d"

	)

569 
	#NID_pS³cif›d
 935

	)

570 
	#OBJ_pS³cif›d
 
OBJ_pkcs1
,9L

	)

572 
	#SN_r§s§Pss
 "RSASSA-PSS"

	)

573 
	#LN_r§s§Pss
 "r§s§Pss"

	)

574 
	#NID_r§s§Pss
 912

	)

575 
	#OBJ_r§s§Pss
 
OBJ_pkcs1
,10L

	)

577 
	#SN_sha256W™hRSAEnüy±iÚ
 "RSA-SHA256"

	)

578 
	#LN_sha256W™hRSAEnüy±iÚ
 "sha256W™hRSAEnüy±iÚ"

	)

579 
	#NID_sha256W™hRSAEnüy±iÚ
 668

	)

580 
	#OBJ_sha256W™hRSAEnüy±iÚ
 
OBJ_pkcs1
,11L

	)

582 
	#SN_sha384W™hRSAEnüy±iÚ
 "RSA-SHA384"

	)

583 
	#LN_sha384W™hRSAEnüy±iÚ
 "sha384W™hRSAEnüy±iÚ"

	)

584 
	#NID_sha384W™hRSAEnüy±iÚ
 669

	)

585 
	#OBJ_sha384W™hRSAEnüy±iÚ
 
OBJ_pkcs1
,12L

	)

587 
	#SN_sha512W™hRSAEnüy±iÚ
 "RSA-SHA512"

	)

588 
	#LN_sha512W™hRSAEnüy±iÚ
 "sha512W™hRSAEnüy±iÚ"

	)

589 
	#NID_sha512W™hRSAEnüy±iÚ
 670

	)

590 
	#OBJ_sha512W™hRSAEnüy±iÚ
 
OBJ_pkcs1
,13L

	)

592 
	#SN_sha224W™hRSAEnüy±iÚ
 "RSA-SHA224"

	)

593 
	#LN_sha224W™hRSAEnüy±iÚ
 "sha224W™hRSAEnüy±iÚ"

	)

594 
	#NID_sha224W™hRSAEnüy±iÚ
 671

	)

595 
	#OBJ_sha224W™hRSAEnüy±iÚ
 
OBJ_pkcs1
,14L

	)

597 
	#SN_sha512_224W™hRSAEnüy±iÚ
 "RSA-SHA512/224"

	)

598 
	#LN_sha512_224W™hRSAEnüy±iÚ
 "sha512-224W™hRSAEnüy±iÚ"

	)

599 
	#NID_sha512_224W™hRSAEnüy±iÚ
 1145

	)

600 
	#OBJ_sha512_224W™hRSAEnüy±iÚ
 
OBJ_pkcs1
,15L

	)

602 
	#SN_sha512_256W™hRSAEnüy±iÚ
 "RSA-SHA512/256"

	)

603 
	#LN_sha512_256W™hRSAEnüy±iÚ
 "sha512-256W™hRSAEnüy±iÚ"

	)

604 
	#NID_sha512_256W™hRSAEnüy±iÚ
 1146

	)

605 
	#OBJ_sha512_256W™hRSAEnüy±iÚ
 
OBJ_pkcs1
,16L

	)

607 
	#SN_pkcs3
 "pkcs3"

	)

608 
	#NID_pkcs3
 27

	)

609 
	#OBJ_pkcs3
 
OBJ_pkcs
,3L

	)

611 
	#LN_dhKeyAg»em’t
 "dhKeyAg»em’t"

	)

612 
	#NID_dhKeyAg»em’t
 28

	)

613 
	#OBJ_dhKeyAg»em’t
 
OBJ_pkcs3
,1L

	)

615 
	#SN_pkcs5
 "pkcs5"

	)

616 
	#NID_pkcs5
 187

	)

617 
	#OBJ_pkcs5
 
OBJ_pkcs
,5L

	)

619 
	#SN_pbeW™hMD2AndDES_CBC
 "PBE-MD2-DES"

	)

620 
	#LN_pbeW™hMD2AndDES_CBC
 "pbeW™hMD2AndDES-CBC"

	)

621 
	#NID_pbeW™hMD2AndDES_CBC
 9

	)

622 
	#OBJ_pbeW™hMD2AndDES_CBC
 
OBJ_pkcs5
,1L

	)

624 
	#SN_pbeW™hMD5AndDES_CBC
 "PBE-MD5-DES"

	)

625 
	#LN_pbeW™hMD5AndDES_CBC
 "pbeW™hMD5AndDES-CBC"

	)

626 
	#NID_pbeW™hMD5AndDES_CBC
 10

	)

627 
	#OBJ_pbeW™hMD5AndDES_CBC
 
OBJ_pkcs5
,3L

	)

629 
	#SN_pbeW™hMD2AndRC2_CBC
 "PBE-MD2-RC2-64"

	)

630 
	#LN_pbeW™hMD2AndRC2_CBC
 "pbeW™hMD2AndRC2-CBC"

	)

631 
	#NID_pbeW™hMD2AndRC2_CBC
 168

	)

632 
	#OBJ_pbeW™hMD2AndRC2_CBC
 
OBJ_pkcs5
,4L

	)

634 
	#SN_pbeW™hMD5AndRC2_CBC
 "PBE-MD5-RC2-64"

	)

635 
	#LN_pbeW™hMD5AndRC2_CBC
 "pbeW™hMD5AndRC2-CBC"

	)

636 
	#NID_pbeW™hMD5AndRC2_CBC
 169

	)

637 
	#OBJ_pbeW™hMD5AndRC2_CBC
 
OBJ_pkcs5
,6L

	)

639 
	#SN_pbeW™hSHA1AndDES_CBC
 "PBE-SHA1-DES"

	)

640 
	#LN_pbeW™hSHA1AndDES_CBC
 "pbeW™hSHA1AndDES-CBC"

	)

641 
	#NID_pbeW™hSHA1AndDES_CBC
 170

	)

642 
	#OBJ_pbeW™hSHA1AndDES_CBC
 
OBJ_pkcs5
,10L

	)

644 
	#SN_pbeW™hSHA1AndRC2_CBC
 "PBE-SHA1-RC2-64"

	)

645 
	#LN_pbeW™hSHA1AndRC2_CBC
 "pbeW™hSHA1AndRC2-CBC"

	)

646 
	#NID_pbeW™hSHA1AndRC2_CBC
 68

	)

647 
	#OBJ_pbeW™hSHA1AndRC2_CBC
 
OBJ_pkcs5
,11L

	)

649 
	#LN_id_pbkdf2
 "PBKDF2"

	)

650 
	#NID_id_pbkdf2
 69

	)

651 
	#OBJ_id_pbkdf2
 
OBJ_pkcs5
,12L

	)

653 
	#LN_pbes2
 "PBES2"

	)

654 
	#NID_pbes2
 161

	)

655 
	#OBJ_pbes2
 
OBJ_pkcs5
,13L

	)

657 
	#LN_pbmac1
 "PBMAC1"

	)

658 
	#NID_pbmac1
 162

	)

659 
	#OBJ_pbmac1
 
OBJ_pkcs5
,14L

	)

661 
	#SN_pkcs7
 "pkcs7"

	)

662 
	#NID_pkcs7
 20

	)

663 
	#OBJ_pkcs7
 
OBJ_pkcs
,7L

	)

665 
	#LN_pkcs7_d©a
 "pkcs7-d©a"

	)

666 
	#NID_pkcs7_d©a
 21

	)

667 
	#OBJ_pkcs7_d©a
 
OBJ_pkcs7
,1L

	)

669 
	#LN_pkcs7_sigÃd
 "pkcs7-sigÃdD©a"

	)

670 
	#NID_pkcs7_sigÃd
 22

	)

671 
	#OBJ_pkcs7_sigÃd
 
OBJ_pkcs7
,2L

	)

673 
	#LN_pkcs7_’v–İed
 "pkcs7-’v–İedD©a"

	)

674 
	#NID_pkcs7_’v–İed
 23

	)

675 
	#OBJ_pkcs7_’v–İed
 
OBJ_pkcs7
,3L

	)

677 
	#LN_pkcs7_sigÃdAndEnv–İed
 "pkcs7-sigÃdAndEnv–İedD©a"

	)

678 
	#NID_pkcs7_sigÃdAndEnv–İed
 24

	)

679 
	#OBJ_pkcs7_sigÃdAndEnv–İed
 
OBJ_pkcs7
,4L

	)

681 
	#LN_pkcs7_dige¡
 "pkcs7-dige¡D©a"

	)

682 
	#NID_pkcs7_dige¡
 25

	)

683 
	#OBJ_pkcs7_dige¡
 
OBJ_pkcs7
,5L

	)

685 
	#LN_pkcs7_’üy±ed
 "pkcs7-’üy±edD©a"

	)

686 
	#NID_pkcs7_’üy±ed
 26

	)

687 
	#OBJ_pkcs7_’üy±ed
 
OBJ_pkcs7
,6L

	)

689 
	#SN_pkcs9
 "pkcs9"

	)

690 
	#NID_pkcs9
 47

	)

691 
	#OBJ_pkcs9
 
OBJ_pkcs
,9L

	)

693 
	#LN_pkcs9_emaAdd»ss
 "emaAdd»ss"

	)

694 
	#NID_pkcs9_emaAdd»ss
 48

	)

695 
	#OBJ_pkcs9_emaAdd»ss
 
OBJ_pkcs9
,1L

	)

697 
	#LN_pkcs9_un¡ruùu»dName
 "un¡ruùu»dName"

	)

698 
	#NID_pkcs9_un¡ruùu»dName
 49

	)

699 
	#OBJ_pkcs9_un¡ruùu»dName
 
OBJ_pkcs9
,2L

	)

701 
	#LN_pkcs9_cÚ‹ÁTy³
 "cÚ‹ÁTy³"

	)

702 
	#NID_pkcs9_cÚ‹ÁTy³
 50

	)

703 
	#OBJ_pkcs9_cÚ‹ÁTy³
 
OBJ_pkcs9
,3L

	)

705 
	#LN_pkcs9_mes§geDige¡
 "mes§geDige¡"

	)

706 
	#NID_pkcs9_mes§geDige¡
 51

	)

707 
	#OBJ_pkcs9_mes§geDige¡
 
OBJ_pkcs9
,4L

	)

709 
	#LN_pkcs9_signšgTime
 "signšgTime"

	)

710 
	#NID_pkcs9_signšgTime
 52

	)

711 
	#OBJ_pkcs9_signšgTime
 
OBJ_pkcs9
,5L

	)

713 
	#LN_pkcs9_couÁ”sigÇtu»
 "couÁ”sigÇtu»"

	)

714 
	#NID_pkcs9_couÁ”sigÇtu»
 53

	)

715 
	#OBJ_pkcs9_couÁ”sigÇtu»
 
OBJ_pkcs9
,6L

	)

717 
	#LN_pkcs9_ch®ËngePasswÜd
 "ch®ËngePasswÜd"

	)

718 
	#NID_pkcs9_ch®ËngePasswÜd
 54

	)

719 
	#OBJ_pkcs9_ch®ËngePasswÜd
 
OBJ_pkcs9
,7L

	)

721 
	#LN_pkcs9_un¡ruùu»dAdd»ss
 "un¡ruùu»dAdd»ss"

	)

722 
	#NID_pkcs9_un¡ruùu»dAdd»ss
 55

	)

723 
	#OBJ_pkcs9_un¡ruùu»dAdd»ss
 
OBJ_pkcs9
,8L

	)

725 
	#LN_pkcs9_extC”tA‰ribu‹s
 "ex‹ndedC”tifiÿ‹A‰ribu‹s"

	)

726 
	#NID_pkcs9_extC”tA‰ribu‹s
 56

	)

727 
	#OBJ_pkcs9_extC”tA‰ribu‹s
 
OBJ_pkcs9
,9L

	)

729 
	#SN_ext_»q
 "extReq"

	)

730 
	#LN_ext_»q
 "Ex‹nsiÚ Reque¡"

	)

731 
	#NID_ext_»q
 172

	)

732 
	#OBJ_ext_»q
 
OBJ_pkcs9
,14L

	)

734 
	#SN_SMIMEC­ab™›s
 "SMIME-CAPS"

	)

735 
	#LN_SMIMEC­ab™›s
 "S/MIME C­ab™›s"

	)

736 
	#NID_SMIMEC­ab™›s
 167

	)

737 
	#OBJ_SMIMEC­ab™›s
 
OBJ_pkcs9
,15L

	)

739 
	#SN_SMIME
 "SMIME"

	)

740 
	#LN_SMIME
 "S/MIME"

	)

741 
	#NID_SMIME
 188

	)

742 
	#OBJ_SMIME
 
OBJ_pkcs9
,16L

	)

744 
	#SN_id_smime_mod
 "id-smime-mod"

	)

745 
	#NID_id_smime_mod
 189

	)

746 
	#OBJ_id_smime_mod
 
OBJ_SMIME
,0L

	)

748 
	#SN_id_smime_ù
 "id-smime-ù"

	)

749 
	#NID_id_smime_ù
 190

	)

750 
	#OBJ_id_smime_ù
 
OBJ_SMIME
,1L

	)

752 
	#SN_id_smime_¯
 "id-smime-¯"

	)

753 
	#NID_id_smime_¯
 191

	)

754 
	#OBJ_id_smime_¯
 
OBJ_SMIME
,2L

	)

756 
	#SN_id_smime_®g
 "id-smime-®g"

	)

757 
	#NID_id_smime_®g
 192

	)

758 
	#OBJ_id_smime_®g
 
OBJ_SMIME
,3L

	)

760 
	#SN_id_smime_cd
 "id-smime-cd"

	)

761 
	#NID_id_smime_cd
 193

	)

762 
	#OBJ_id_smime_cd
 
OBJ_SMIME
,4L

	)

764 
	#SN_id_smime_¥q
 "id-smime-¥q"

	)

765 
	#NID_id_smime_¥q
 194

	)

766 
	#OBJ_id_smime_¥q
 
OBJ_SMIME
,5L

	)

768 
	#SN_id_smime_ùi
 "id-smime-ùi"

	)

769 
	#NID_id_smime_ùi
 195

	)

770 
	#OBJ_id_smime_ùi
 
OBJ_SMIME
,6L

	)

772 
	#SN_id_smime_mod_cms
 "id-smime-mod-cms"

	)

773 
	#NID_id_smime_mod_cms
 196

	)

774 
	#OBJ_id_smime_mod_cms
 
OBJ_id_smime_mod
,1L

	)

776 
	#SN_id_smime_mod_ess
 "id-smime-mod-ess"

	)

777 
	#NID_id_smime_mod_ess
 197

	)

778 
	#OBJ_id_smime_mod_ess
 
OBJ_id_smime_mod
,2L

	)

780 
	#SN_id_smime_mod_oid
 "id-smime-mod-oid"

	)

781 
	#NID_id_smime_mod_oid
 198

	)

782 
	#OBJ_id_smime_mod_oid
 
OBJ_id_smime_mod
,3L

	)

784 
	#SN_id_smime_mod_msg_v3
 "id-smime-mod-msg-v3"

	)

785 
	#NID_id_smime_mod_msg_v3
 199

	)

786 
	#OBJ_id_smime_mod_msg_v3
 
OBJ_id_smime_mod
,4L

	)

788 
	#SN_id_smime_mod_‘s_eSigÇtu»_88
 "id-smime-mod-‘s-eSigÇtu»-88"

	)

789 
	#NID_id_smime_mod_‘s_eSigÇtu»_88
 200

	)

790 
	#OBJ_id_smime_mod_‘s_eSigÇtu»_88
 
OBJ_id_smime_mod
,5L

	)

792 
	#SN_id_smime_mod_‘s_eSigÇtu»_97
 "id-smime-mod-‘s-eSigÇtu»-97"

	)

793 
	#NID_id_smime_mod_‘s_eSigÇtu»_97
 201

	)

794 
	#OBJ_id_smime_mod_‘s_eSigÇtu»_97
 
OBJ_id_smime_mod
,6L

	)

796 
	#SN_id_smime_mod_‘s_eSigPŞicy_88
 "id-smime-mod-‘s-eSigPŞicy-88"

	)

797 
	#NID_id_smime_mod_‘s_eSigPŞicy_88
 202

	)

798 
	#OBJ_id_smime_mod_‘s_eSigPŞicy_88
 
OBJ_id_smime_mod
,7L

	)

800 
	#SN_id_smime_mod_‘s_eSigPŞicy_97
 "id-smime-mod-‘s-eSigPŞicy-97"

	)

801 
	#NID_id_smime_mod_‘s_eSigPŞicy_97
 203

	)

802 
	#OBJ_id_smime_mod_‘s_eSigPŞicy_97
 
OBJ_id_smime_mod
,8L

	)

804 
	#SN_id_smime_ù_»ût
 "id-smime-ù-»ût"

	)

805 
	#NID_id_smime_ù_»ût
 204

	)

806 
	#OBJ_id_smime_ù_»ût
 
OBJ_id_smime_ù
,1L

	)

808 
	#SN_id_smime_ù_authD©a
 "id-smime-ù-authD©a"

	)

809 
	#NID_id_smime_ù_authD©a
 205

	)

810 
	#OBJ_id_smime_ù_authD©a
 
OBJ_id_smime_ù
,2L

	)

812 
	#SN_id_smime_ù_publishC”t
 "id-smime-ù-publishC”t"

	)

813 
	#NID_id_smime_ù_publishC”t
 206

	)

814 
	#OBJ_id_smime_ù_publishC”t
 
OBJ_id_smime_ù
,3L

	)

816 
	#SN_id_smime_ù_TSTInfo
 "id-smime-ù-TSTInfo"

	)

817 
	#NID_id_smime_ù_TSTInfo
 207

	)

818 
	#OBJ_id_smime_ù_TSTInfo
 
OBJ_id_smime_ù
,4L

	)

820 
	#SN_id_smime_ù_TDTInfo
 "id-smime-ù-TDTInfo"

	)

821 
	#NID_id_smime_ù_TDTInfo
 208

	)

822 
	#OBJ_id_smime_ù_TDTInfo
 
OBJ_id_smime_ù
,5L

	)

824 
	#SN_id_smime_ù_cÚ‹ÁInfo
 "id-smime-ù-cÚ‹ÁInfo"

	)

825 
	#NID_id_smime_ù_cÚ‹ÁInfo
 209

	)

826 
	#OBJ_id_smime_ù_cÚ‹ÁInfo
 
OBJ_id_smime_ù
,6L

	)

828 
	#SN_id_smime_ù_DVCSReque¡D©a
 "id-smime-ù-DVCSReque¡D©a"

	)

829 
	#NID_id_smime_ù_DVCSReque¡D©a
 210

	)

830 
	#OBJ_id_smime_ù_DVCSReque¡D©a
 
OBJ_id_smime_ù
,7L

	)

832 
	#SN_id_smime_ù_DVCSRe¥Ú£D©a
 "id-smime-ù-DVCSRe¥Ú£D©a"

	)

833 
	#NID_id_smime_ù_DVCSRe¥Ú£D©a
 211

	)

834 
	#OBJ_id_smime_ù_DVCSRe¥Ú£D©a
 
OBJ_id_smime_ù
,8L

	)

836 
	#SN_id_smime_ù_com´es£dD©a
 "id-smime-ù-com´es£dD©a"

	)

837 
	#NID_id_smime_ù_com´es£dD©a
 786

	)

838 
	#OBJ_id_smime_ù_com´es£dD©a
 
OBJ_id_smime_ù
,9L

	)

840 
	#SN_id_smime_ù_cÚ‹ÁCŞËùiÚ
 "id-smime-ù-cÚ‹ÁCŞËùiÚ"

	)

841 
	#NID_id_smime_ù_cÚ‹ÁCŞËùiÚ
 1058

	)

842 
	#OBJ_id_smime_ù_cÚ‹ÁCŞËùiÚ
 
OBJ_id_smime_ù
,19L

	)

844 
	#SN_id_smime_ù_authEnv–İedD©a
 "id-smime-ù-authEnv–İedD©a"

	)

845 
	#NID_id_smime_ù_authEnv–İedD©a
 1059

	)

846 
	#OBJ_id_smime_ù_authEnv–İedD©a
 
OBJ_id_smime_ù
,23L

	)

848 
	#SN_id_ù_asciiTextW™hCRLF
 "id-ù-asciiTextW™hCRLF"

	)

849 
	#NID_id_ù_asciiTextW™hCRLF
 787

	)

850 
	#OBJ_id_ù_asciiTextW™hCRLF
 
OBJ_id_smime_ù
,27L

	)

852 
	#SN_id_ù_xml
 "id-ù-xml"

	)

853 
	#NID_id_ù_xml
 1060

	)

854 
	#OBJ_id_ù_xml
 
OBJ_id_smime_ù
,28L

	)

856 
	#SN_id_smime_¯_»ûtReque¡
 "id-smime-¯-»ûtReque¡"

	)

857 
	#NID_id_smime_¯_»ûtReque¡
 212

	)

858 
	#OBJ_id_smime_¯_»ûtReque¡
 
OBJ_id_smime_¯
,1L

	)

860 
	#SN_id_smime_¯_£cur™yLab–
 "id-smime-¯-£cur™yLab–"

	)

861 
	#NID_id_smime_¯_£cur™yLab–
 213

	)

862 
	#OBJ_id_smime_¯_£cur™yLab–
 
OBJ_id_smime_¯
,2L

	)

864 
	#SN_id_smime_¯_mlEx·ndHi¡Üy
 "id-smime-¯-mlEx·ndHi¡Üy"

	)

865 
	#NID_id_smime_¯_mlEx·ndHi¡Üy
 214

	)

866 
	#OBJ_id_smime_¯_mlEx·ndHi¡Üy
 
OBJ_id_smime_¯
,3L

	)

868 
	#SN_id_smime_¯_cÚ‹ÁHšt
 "id-smime-¯-cÚ‹ÁHšt"

	)

869 
	#NID_id_smime_¯_cÚ‹ÁHšt
 215

	)

870 
	#OBJ_id_smime_¯_cÚ‹ÁHšt
 
OBJ_id_smime_¯
,4L

	)

872 
	#SN_id_smime_¯_msgSigDige¡
 "id-smime-¯-msgSigDige¡"

	)

873 
	#NID_id_smime_¯_msgSigDige¡
 216

	)

874 
	#OBJ_id_smime_¯_msgSigDige¡
 
OBJ_id_smime_¯
,5L

	)

876 
	#SN_id_smime_¯_’ÿpCÚ‹ÁTy³
 "id-smime-¯-’ÿpCÚ‹ÁTy³"

	)

877 
	#NID_id_smime_¯_’ÿpCÚ‹ÁTy³
 217

	)

878 
	#OBJ_id_smime_¯_’ÿpCÚ‹ÁTy³
 
OBJ_id_smime_¯
,6L

	)

880 
	#SN_id_smime_¯_cÚ‹ÁId’tif›r
 "id-smime-¯-cÚ‹ÁId’tif›r"

	)

881 
	#NID_id_smime_¯_cÚ‹ÁId’tif›r
 218

	)

882 
	#OBJ_id_smime_¯_cÚ‹ÁId’tif›r
 
OBJ_id_smime_¯
,7L

	)

884 
	#SN_id_smime_¯_macV®ue
 "id-smime-¯-macV®ue"

	)

885 
	#NID_id_smime_¯_macV®ue
 219

	)

886 
	#OBJ_id_smime_¯_macV®ue
 
OBJ_id_smime_¯
,8L

	)

888 
	#SN_id_smime_¯_equiv®’tLab–s
 "id-smime-¯-equiv®’tLab–s"

	)

889 
	#NID_id_smime_¯_equiv®’tLab–s
 220

	)

890 
	#OBJ_id_smime_¯_equiv®’tLab–s
 
OBJ_id_smime_¯
,9L

	)

892 
	#SN_id_smime_¯_cÚ‹ÁReã»nû
 "id-smime-¯-cÚ‹ÁReã»nû"

	)

893 
	#NID_id_smime_¯_cÚ‹ÁReã»nû
 221

	)

894 
	#OBJ_id_smime_¯_cÚ‹ÁReã»nû
 
OBJ_id_smime_¯
,10L

	)

896 
	#SN_id_smime_¯_’üypKeyP»f
 "id-smime-¯-’üypKeyP»f"

	)

897 
	#NID_id_smime_¯_’üypKeyP»f
 222

	)

898 
	#OBJ_id_smime_¯_’üypKeyP»f
 
OBJ_id_smime_¯
,11L

	)

900 
	#SN_id_smime_¯_signšgC”tifiÿ‹
 "id-smime-¯-signšgC”tifiÿ‹"

	)

901 
	#NID_id_smime_¯_signšgC”tifiÿ‹
 223

	)

902 
	#OBJ_id_smime_¯_signšgC”tifiÿ‹
 
OBJ_id_smime_¯
,12L

	)

904 
	#SN_id_smime_¯_smimeEnüy±C”ts
 "id-smime-¯-smimeEnüy±C”ts"

	)

905 
	#NID_id_smime_¯_smimeEnüy±C”ts
 224

	)

906 
	#OBJ_id_smime_¯_smimeEnüy±C”ts
 
OBJ_id_smime_¯
,13L

	)

908 
	#SN_id_smime_¯_timeSmpTok’
 "id-smime-¯-timeSmpTok’"

	)

909 
	#NID_id_smime_¯_timeSmpTok’
 225

	)

910 
	#OBJ_id_smime_¯_timeSmpTok’
 
OBJ_id_smime_¯
,14L

	)

912 
	#SN_id_smime_¯_‘s_sigPŞicyId
 "id-smime-¯-‘s-sigPŞicyId"

	)

913 
	#NID_id_smime_¯_‘s_sigPŞicyId
 226

	)

914 
	#OBJ_id_smime_¯_‘s_sigPŞicyId
 
OBJ_id_smime_¯
,15L

	)

916 
	#SN_id_smime_¯_‘s_comm™m’tTy³
 "id-smime-¯-‘s-comm™m’tTy³"

	)

917 
	#NID_id_smime_¯_‘s_comm™m’tTy³
 227

	)

918 
	#OBJ_id_smime_¯_‘s_comm™m’tTy³
 
OBJ_id_smime_¯
,16L

	)

920 
	#SN_id_smime_¯_‘s_sigÃrLoÿtiÚ
 "id-smime-¯-‘s-sigÃrLoÿtiÚ"

	)

921 
	#NID_id_smime_¯_‘s_sigÃrLoÿtiÚ
 228

	)

922 
	#OBJ_id_smime_¯_‘s_sigÃrLoÿtiÚ
 
OBJ_id_smime_¯
,17L

	)

924 
	#SN_id_smime_¯_‘s_sigÃrA‰r
 "id-smime-¯-‘s-sigÃrA‰r"

	)

925 
	#NID_id_smime_¯_‘s_sigÃrA‰r
 229

	)

926 
	#OBJ_id_smime_¯_‘s_sigÃrA‰r
 
OBJ_id_smime_¯
,18L

	)

928 
	#SN_id_smime_¯_‘s_Ùh”SigC”t
 "id-smime-¯-‘s-Ùh”SigC”t"

	)

929 
	#NID_id_smime_¯_‘s_Ùh”SigC”t
 230

	)

930 
	#OBJ_id_smime_¯_‘s_Ùh”SigC”t
 
OBJ_id_smime_¯
,19L

	)

932 
	#SN_id_smime_¯_‘s_cÚ‹ÁTime¡amp
 "id-smime-¯-‘s-cÚ‹ÁTime¡amp"

	)

933 
	#NID_id_smime_¯_‘s_cÚ‹ÁTime¡amp
 231

	)

934 
	#OBJ_id_smime_¯_‘s_cÚ‹ÁTime¡amp
 
OBJ_id_smime_¯
,20L

	)

936 
	#SN_id_smime_¯_‘s_C”tifiÿ‹Refs
 "id-smime-¯-‘s-C”tifiÿ‹Refs"

	)

937 
	#NID_id_smime_¯_‘s_C”tifiÿ‹Refs
 232

	)

938 
	#OBJ_id_smime_¯_‘s_C”tifiÿ‹Refs
 
OBJ_id_smime_¯
,21L

	)

940 
	#SN_id_smime_¯_‘s_RevoÿtiÚRefs
 "id-smime-¯-‘s-RevoÿtiÚRefs"

	)

941 
	#NID_id_smime_¯_‘s_RevoÿtiÚRefs
 233

	)

942 
	#OBJ_id_smime_¯_‘s_RevoÿtiÚRefs
 
OBJ_id_smime_¯
,22L

	)

944 
	#SN_id_smime_¯_‘s_û¹V®ues
 "id-smime-¯-‘s-û¹V®ues"

	)

945 
	#NID_id_smime_¯_‘s_û¹V®ues
 234

	)

946 
	#OBJ_id_smime_¯_‘s_û¹V®ues
 
OBJ_id_smime_¯
,23L

	)

948 
	#SN_id_smime_¯_‘s_»voÿtiÚV®ues
 "id-smime-¯-‘s-»voÿtiÚV®ues"

	)

949 
	#NID_id_smime_¯_‘s_»voÿtiÚV®ues
 235

	)

950 
	#OBJ_id_smime_¯_‘s_»voÿtiÚV®ues
 
OBJ_id_smime_¯
,24L

	)

952 
	#SN_id_smime_¯_‘s_escTimeSmp
 "id-smime-¯-‘s-escTimeSmp"

	)

953 
	#NID_id_smime_¯_‘s_escTimeSmp
 236

	)

954 
	#OBJ_id_smime_¯_‘s_escTimeSmp
 
OBJ_id_smime_¯
,25L

	)

956 
	#SN_id_smime_¯_‘s_û¹CRLTime¡amp
 "id-smime-¯-‘s-û¹CRLTime¡amp"

	)

957 
	#NID_id_smime_¯_‘s_û¹CRLTime¡amp
 237

	)

958 
	#OBJ_id_smime_¯_‘s_û¹CRLTime¡amp
 
OBJ_id_smime_¯
,26L

	)

960 
	#SN_id_smime_¯_‘s_¬chiveTimeSmp
 "id-smime-¯-‘s-¬chiveTimeSmp"

	)

961 
	#NID_id_smime_¯_‘s_¬chiveTimeSmp
 238

	)

962 
	#OBJ_id_smime_¯_‘s_¬chiveTimeSmp
 
OBJ_id_smime_¯
,27L

	)

964 
	#SN_id_smime_¯_sigÇtu»Ty³
 "id-smime-¯-sigÇtu»Ty³"

	)

965 
	#NID_id_smime_¯_sigÇtu»Ty³
 239

	)

966 
	#OBJ_id_smime_¯_sigÇtu»Ty³
 
OBJ_id_smime_¯
,28L

	)

968 
	#SN_id_smime_¯_dvcs_dvc
 "id-smime-¯-dvcs-dvc"

	)

969 
	#NID_id_smime_¯_dvcs_dvc
 240

	)

970 
	#OBJ_id_smime_¯_dvcs_dvc
 
OBJ_id_smime_¯
,29L

	)

972 
	#SN_id_smime_¯_signšgC”tifiÿ‹V2
 "id-smime-¯-signšgC”tifiÿ‹V2"

	)

973 
	#NID_id_smime_¯_signšgC”tifiÿ‹V2
 1086

	)

974 
	#OBJ_id_smime_¯_signšgC”tifiÿ‹V2
 
OBJ_id_smime_¯
,47L

	)

976 
	#SN_id_smime_®g_ESDHw™h3DES
 "id-smime-®g-ESDHw™h3DES"

	)

977 
	#NID_id_smime_®g_ESDHw™h3DES
 241

	)

978 
	#OBJ_id_smime_®g_ESDHw™h3DES
 
OBJ_id_smime_®g
,1L

	)

980 
	#SN_id_smime_®g_ESDHw™hRC2
 "id-smime-®g-ESDHw™hRC2"

	)

981 
	#NID_id_smime_®g_ESDHw™hRC2
 242

	)

982 
	#OBJ_id_smime_®g_ESDHw™hRC2
 
OBJ_id_smime_®g
,2L

	)

984 
	#SN_id_smime_®g_3DESw¿p
 "id-smime-®g-3DESw¿p"

	)

985 
	#NID_id_smime_®g_3DESw¿p
 243

	)

986 
	#OBJ_id_smime_®g_3DESw¿p
 
OBJ_id_smime_®g
,3L

	)

988 
	#SN_id_smime_®g_RC2w¿p
 "id-smime-®g-RC2w¿p"

	)

989 
	#NID_id_smime_®g_RC2w¿p
 244

	)

990 
	#OBJ_id_smime_®g_RC2w¿p
 
OBJ_id_smime_®g
,4L

	)

992 
	#SN_id_smime_®g_ESDH
 "id-smime-®g-ESDH"

	)

993 
	#NID_id_smime_®g_ESDH
 245

	)

994 
	#OBJ_id_smime_®g_ESDH
 
OBJ_id_smime_®g
,5L

	)

996 
	#SN_id_smime_®g_CMS3DESw¿p
 "id-smime-®g-CMS3DESw¿p"

	)

997 
	#NID_id_smime_®g_CMS3DESw¿p
 246

	)

998 
	#OBJ_id_smime_®g_CMS3DESw¿p
 
OBJ_id_smime_®g
,6L

	)

1000 
	#SN_id_smime_®g_CMSRC2w¿p
 "id-smime-®g-CMSRC2w¿p"

	)

1001 
	#NID_id_smime_®g_CMSRC2w¿p
 247

	)

1002 
	#OBJ_id_smime_®g_CMSRC2w¿p
 
OBJ_id_smime_®g
,7L

	)

1004 
	#SN_id_®g_PWRI_KEK
 "id-®g-PWRI-KEK"

	)

1005 
	#NID_id_®g_PWRI_KEK
 893

	)

1006 
	#OBJ_id_®g_PWRI_KEK
 
OBJ_id_smime_®g
,9L

	)

1008 
	#SN_id_smime_cd_ld­
 "id-smime-cd-ld­"

	)

1009 
	#NID_id_smime_cd_ld­
 248

	)

1010 
	#OBJ_id_smime_cd_ld­
 
OBJ_id_smime_cd
,1L

	)

1012 
	#SN_id_smime_¥q_‘s_sqt_uri
 "id-smime-¥q-‘s-sqt-uri"

	)

1013 
	#NID_id_smime_¥q_‘s_sqt_uri
 249

	)

1014 
	#OBJ_id_smime_¥q_‘s_sqt_uri
 
OBJ_id_smime_¥q
,1L

	)

1016 
	#SN_id_smime_¥q_‘s_sqt_unÙiû
 "id-smime-¥q-‘s-sqt-unÙiû"

	)

1017 
	#NID_id_smime_¥q_‘s_sqt_unÙiû
 250

	)

1018 
	#OBJ_id_smime_¥q_‘s_sqt_unÙiû
 
OBJ_id_smime_¥q
,2L

	)

1020 
	#SN_id_smime_ùi_‘s_´oofOfOrigš
 "id-smime-ùi-‘s-´oofOfOrigš"

	)

1021 
	#NID_id_smime_ùi_‘s_´oofOfOrigš
 251

	)

1022 
	#OBJ_id_smime_ùi_‘s_´oofOfOrigš
 
OBJ_id_smime_ùi
,1L

	)

1024 
	#SN_id_smime_ùi_‘s_´oofOfReût
 "id-smime-ùi-‘s-´oofOfReût"

	)

1025 
	#NID_id_smime_ùi_‘s_´oofOfReût
 252

	)

1026 
	#OBJ_id_smime_ùi_‘s_´oofOfReût
 
OBJ_id_smime_ùi
,2L

	)

1028 
	#SN_id_smime_ùi_‘s_´oofOfD–iv”y
 "id-smime-ùi-‘s-´oofOfD–iv”y"

	)

1029 
	#NID_id_smime_ùi_‘s_´oofOfD–iv”y
 253

	)

1030 
	#OBJ_id_smime_ùi_‘s_´oofOfD–iv”y
 
OBJ_id_smime_ùi
,3L

	)

1032 
	#SN_id_smime_ùi_‘s_´oofOfS’d”
 "id-smime-ùi-‘s-´oofOfS’d”"

	)

1033 
	#NID_id_smime_ùi_‘s_´oofOfS’d”
 254

	)

1034 
	#OBJ_id_smime_ùi_‘s_´oofOfS’d”
 
OBJ_id_smime_ùi
,4L

	)

1036 
	#SN_id_smime_ùi_‘s_´oofOfAµrov®
 "id-smime-ùi-‘s-´oofOfAµrov®"

	)

1037 
	#NID_id_smime_ùi_‘s_´oofOfAµrov®
 255

	)

1038 
	#OBJ_id_smime_ùi_‘s_´oofOfAµrov®
 
OBJ_id_smime_ùi
,5L

	)

1040 
	#SN_id_smime_ùi_‘s_´oofOfC»©iÚ
 "id-smime-ùi-‘s-´oofOfC»©iÚ"

	)

1041 
	#NID_id_smime_ùi_‘s_´oofOfC»©iÚ
 256

	)

1042 
	#OBJ_id_smime_ùi_‘s_´oofOfC»©iÚ
 
OBJ_id_smime_ùi
,6L

	)

1044 
	#LN_ä›ndlyName
 "ä›ndlyName"

	)

1045 
	#NID_ä›ndlyName
 156

	)

1046 
	#OBJ_ä›ndlyName
 
OBJ_pkcs9
,20L

	)

1048 
	#LN_loÿlKeyID
 "loÿlKeyID"

	)

1049 
	#NID_loÿlKeyID
 157

	)

1050 
	#OBJ_loÿlKeyID
 
OBJ_pkcs9
,21L

	)

1052 
	#SN_ms_c¥_Çme
 "CSPName"

	)

1053 
	#LN_ms_c¥_Çme
 "Miüosoá CSP Name"

	)

1054 
	#NID_ms_c¥_Çme
 417

	)

1055 
	#OBJ_ms_c¥_Çme
 1L,3L,6L,1L,4L,1L,311L,17L,1L

	)

1057 
	#SN_LoÿlKeyS‘
 "LoÿlKeyS‘"

	)

1058 
	#LN_LoÿlKeyS‘
 "Miüosoá LoÿÈKey s‘"

	)

1059 
	#NID_LoÿlKeyS‘
 856

	)

1060 
	#OBJ_LoÿlKeyS‘
 1L,3L,6L,1L,4L,1L,311L,17L,2L

	)

1062 
	#OBJ_û¹Ty³s
 
OBJ_pkcs9
,22L

	)

1064 
	#LN_x509C”tifiÿ‹
 "x509C”tifiÿ‹"

	)

1065 
	#NID_x509C”tifiÿ‹
 158

	)

1066 
	#OBJ_x509C”tifiÿ‹
 
OBJ_û¹Ty³s
,1L

	)

1068 
	#LN_sdsiC”tifiÿ‹
 "sdsiC”tifiÿ‹"

	)

1069 
	#NID_sdsiC”tifiÿ‹
 159

	)

1070 
	#OBJ_sdsiC”tifiÿ‹
 
OBJ_û¹Ty³s
,2L

	)

1072 
	#OBJ_ülTy³s
 
OBJ_pkcs9
,23L

	)

1074 
	#LN_x509C¾
 "x509C¾"

	)

1075 
	#NID_x509C¾
 160

	)

1076 
	#OBJ_x509C¾
 
OBJ_ülTy³s
,1L

	)

1078 
	#OBJ_pkcs12
 
OBJ_pkcs
,12L

	)

1080 
	#OBJ_pkcs12_pbeids
 
OBJ_pkcs12
,1L

	)

1082 
	#SN_pbe_W™hSHA1And128B™RC4
 "PBE-SHA1-RC4-128"

	)

1083 
	#LN_pbe_W™hSHA1And128B™RC4
 "pbeW™hSHA1And128B™RC4"

	)

1084 
	#NID_pbe_W™hSHA1And128B™RC4
 144

	)

1085 
	#OBJ_pbe_W™hSHA1And128B™RC4
 
OBJ_pkcs12_pbeids
,1L

	)

1087 
	#SN_pbe_W™hSHA1And40B™RC4
 "PBE-SHA1-RC4-40"

	)

1088 
	#LN_pbe_W™hSHA1And40B™RC4
 "pbeW™hSHA1And40B™RC4"

	)

1089 
	#NID_pbe_W™hSHA1And40B™RC4
 145

	)

1090 
	#OBJ_pbe_W™hSHA1And40B™RC4
 
OBJ_pkcs12_pbeids
,2L

	)

1092 
	#SN_pbe_W™hSHA1And3_Key_TrËDES_CBC
 "PBE-SHA1-3DES"

	)

1093 
	#LN_pbe_W™hSHA1And3_Key_TrËDES_CBC
 "pbeW™hSHA1And3-KeyTrËDES-CBC"

	)

1094 
	#NID_pbe_W™hSHA1And3_Key_TrËDES_CBC
 146

	)

1095 
	#OBJ_pbe_W™hSHA1And3_Key_TrËDES_CBC
 
OBJ_pkcs12_pbeids
,3L

	)

1097 
	#SN_pbe_W™hSHA1And2_Key_TrËDES_CBC
 "PBE-SHA1-2DES"

	)

1098 
	#LN_pbe_W™hSHA1And2_Key_TrËDES_CBC
 "pbeW™hSHA1And2-KeyTrËDES-CBC"

	)

1099 
	#NID_pbe_W™hSHA1And2_Key_TrËDES_CBC
 147

	)

1100 
	#OBJ_pbe_W™hSHA1And2_Key_TrËDES_CBC
 
OBJ_pkcs12_pbeids
,4L

	)

1102 
	#SN_pbe_W™hSHA1And128B™RC2_CBC
 "PBE-SHA1-RC2-128"

	)

1103 
	#LN_pbe_W™hSHA1And128B™RC2_CBC
 "pbeW™hSHA1And128B™RC2-CBC"

	)

1104 
	#NID_pbe_W™hSHA1And128B™RC2_CBC
 148

	)

1105 
	#OBJ_pbe_W™hSHA1And128B™RC2_CBC
 
OBJ_pkcs12_pbeids
,5L

	)

1107 
	#SN_pbe_W™hSHA1And40B™RC2_CBC
 "PBE-SHA1-RC2-40"

	)

1108 
	#LN_pbe_W™hSHA1And40B™RC2_CBC
 "pbeW™hSHA1And40B™RC2-CBC"

	)

1109 
	#NID_pbe_W™hSHA1And40B™RC2_CBC
 149

	)

1110 
	#OBJ_pbe_W™hSHA1And40B™RC2_CBC
 
OBJ_pkcs12_pbeids
,6L

	)

1112 
	#OBJ_pkcs12_V”siÚ1
 
OBJ_pkcs12
,10L

	)

1114 
	#OBJ_pkcs12_BagIds
 
OBJ_pkcs12_V”siÚ1
,1L

	)

1116 
	#LN_keyBag
 "keyBag"

	)

1117 
	#NID_keyBag
 150

	)

1118 
	#OBJ_keyBag
 
OBJ_pkcs12_BagIds
,1L

	)

1120 
	#LN_pkcs8ShroudedKeyBag
 "pkcs8ShroudedKeyBag"

	)

1121 
	#NID_pkcs8ShroudedKeyBag
 151

	)

1122 
	#OBJ_pkcs8ShroudedKeyBag
 
OBJ_pkcs12_BagIds
,2L

	)

1124 
	#LN_û¹Bag
 "û¹Bag"

	)

1125 
	#NID_û¹Bag
 152

	)

1126 
	#OBJ_û¹Bag
 
OBJ_pkcs12_BagIds
,3L

	)

1128 
	#LN_ülBag
 "ülBag"

	)

1129 
	#NID_ülBag
 153

	)

1130 
	#OBJ_ülBag
 
OBJ_pkcs12_BagIds
,4L

	)

1132 
	#LN_£ü‘Bag
 "£ü‘Bag"

	)

1133 
	#NID_£ü‘Bag
 154

	)

1134 
	#OBJ_£ü‘Bag
 
OBJ_pkcs12_BagIds
,5L

	)

1136 
	#LN_§ãCÚ‹ÁsBag
 "§ãCÚ‹ÁsBag"

	)

1137 
	#NID_§ãCÚ‹ÁsBag
 155

	)

1138 
	#OBJ_§ãCÚ‹ÁsBag
 
OBJ_pkcs12_BagIds
,6L

	)

1140 
	#SN_md2
 "MD2"

	)

1141 
	#LN_md2
 "md2"

	)

1142 
	#NID_md2
 3

	)

1143 
	#OBJ_md2
 
OBJ_r§dsi
,2L,2L

	)

1145 
	#SN_md4
 "MD4"

	)

1146 
	#LN_md4
 "md4"

	)

1147 
	#NID_md4
 257

	)

1148 
	#OBJ_md4
 
OBJ_r§dsi
,2L,4L

	)

1150 
	#SN_md5
 "MD5"

	)

1151 
	#LN_md5
 "md5"

	)

1152 
	#NID_md5
 4

	)

1153 
	#OBJ_md5
 
OBJ_r§dsi
,2L,5L

	)

1155 
	#SN_md5_sha1
 "MD5-SHA1"

	)

1156 
	#LN_md5_sha1
 "md5-sha1"

	)

1157 
	#NID_md5_sha1
 114

	)

1159 
	#LN_hmacW™hMD5
 "hmacW™hMD5"

	)

1160 
	#NID_hmacW™hMD5
 797

	)

1161 
	#OBJ_hmacW™hMD5
 
OBJ_r§dsi
,2L,6L

	)

1163 
	#LN_hmacW™hSHA1
 "hmacW™hSHA1"

	)

1164 
	#NID_hmacW™hSHA1
 163

	)

1165 
	#OBJ_hmacW™hSHA1
 
OBJ_r§dsi
,2L,7L

	)

1167 
	#SN_sm2
 "SM2"

	)

1168 
	#LN_sm2
 "sm2"

	)

1169 
	#NID_sm2
 1172

	)

1170 
	#OBJ_sm2
 
OBJ_sm_scheme
,301L

	)

1172 
	#SN_sm3
 "SM3"

	)

1173 
	#LN_sm3
 "sm3"

	)

1174 
	#NID_sm3
 1143

	)

1175 
	#OBJ_sm3
 
OBJ_sm_scheme
,401L

	)

1177 
	#SN_sm3W™hRSAEnüy±iÚ
 "RSA-SM3"

	)

1178 
	#LN_sm3W™hRSAEnüy±iÚ
 "sm3W™hRSAEnüy±iÚ"

	)

1179 
	#NID_sm3W™hRSAEnüy±iÚ
 1144

	)

1180 
	#OBJ_sm3W™hRSAEnüy±iÚ
 
OBJ_sm_scheme
,504L

	)

1182 
	#LN_hmacW™hSHA224
 "hmacW™hSHA224"

	)

1183 
	#NID_hmacW™hSHA224
 798

	)

1184 
	#OBJ_hmacW™hSHA224
 
OBJ_r§dsi
,2L,8L

	)

1186 
	#LN_hmacW™hSHA256
 "hmacW™hSHA256"

	)

1187 
	#NID_hmacW™hSHA256
 799

	)

1188 
	#OBJ_hmacW™hSHA256
 
OBJ_r§dsi
,2L,9L

	)

1190 
	#LN_hmacW™hSHA384
 "hmacW™hSHA384"

	)

1191 
	#NID_hmacW™hSHA384
 800

	)

1192 
	#OBJ_hmacW™hSHA384
 
OBJ_r§dsi
,2L,10L

	)

1194 
	#LN_hmacW™hSHA512
 "hmacW™hSHA512"

	)

1195 
	#NID_hmacW™hSHA512
 801

	)

1196 
	#OBJ_hmacW™hSHA512
 
OBJ_r§dsi
,2L,11L

	)

1198 
	#LN_hmacW™hSHA512_224
 "hmacW™hSHA512-224"

	)

1199 
	#NID_hmacW™hSHA512_224
 1193

	)

1200 
	#OBJ_hmacW™hSHA512_224
 
OBJ_r§dsi
,2L,12L

	)

1202 
	#LN_hmacW™hSHA512_256
 "hmacW™hSHA512-256"

	)

1203 
	#NID_hmacW™hSHA512_256
 1194

	)

1204 
	#OBJ_hmacW™hSHA512_256
 
OBJ_r§dsi
,2L,13L

	)

1206 
	#SN_rc2_cbc
 "RC2-CBC"

	)

1207 
	#LN_rc2_cbc
 "rc2-cbc"

	)

1208 
	#NID_rc2_cbc
 37

	)

1209 
	#OBJ_rc2_cbc
 
OBJ_r§dsi
,3L,2L

	)

1211 
	#SN_rc2_ecb
 "RC2-ECB"

	)

1212 
	#LN_rc2_ecb
 "rc2-ecb"

	)

1213 
	#NID_rc2_ecb
 38

	)

1215 
	#SN_rc2_cfb64
 "RC2-CFB"

	)

1216 
	#LN_rc2_cfb64
 "rc2-cfb"

	)

1217 
	#NID_rc2_cfb64
 39

	)

1219 
	#SN_rc2_ofb64
 "RC2-OFB"

	)

1220 
	#LN_rc2_ofb64
 "rc2-ofb"

	)

1221 
	#NID_rc2_ofb64
 40

	)

1223 
	#SN_rc2_40_cbc
 "RC2-40-CBC"

	)

1224 
	#LN_rc2_40_cbc
 "rc2-40-cbc"

	)

1225 
	#NID_rc2_40_cbc
 98

	)

1227 
	#SN_rc2_64_cbc
 "RC2-64-CBC"

	)

1228 
	#LN_rc2_64_cbc
 "rc2-64-cbc"

	)

1229 
	#NID_rc2_64_cbc
 166

	)

1231 
	#SN_rc4
 "RC4"

	)

1232 
	#LN_rc4
 "rc4"

	)

1233 
	#NID_rc4
 5

	)

1234 
	#OBJ_rc4
 
OBJ_r§dsi
,3L,4L

	)

1236 
	#SN_rc4_40
 "RC4-40"

	)

1237 
	#LN_rc4_40
 "rc4-40"

	)

1238 
	#NID_rc4_40
 97

	)

1240 
	#SN_des_ede3_cbc
 "DES-EDE3-CBC"

	)

1241 
	#LN_des_ede3_cbc
 "des-ede3-cbc"

	)

1242 
	#NID_des_ede3_cbc
 44

	)

1243 
	#OBJ_des_ede3_cbc
 
OBJ_r§dsi
,3L,7L

	)

1245 
	#SN_rc5_cbc
 "RC5-CBC"

	)

1246 
	#LN_rc5_cbc
 "rc5-cbc"

	)

1247 
	#NID_rc5_cbc
 120

	)

1248 
	#OBJ_rc5_cbc
 
OBJ_r§dsi
,3L,8L

	)

1250 
	#SN_rc5_ecb
 "RC5-ECB"

	)

1251 
	#LN_rc5_ecb
 "rc5-ecb"

	)

1252 
	#NID_rc5_ecb
 121

	)

1254 
	#SN_rc5_cfb64
 "RC5-CFB"

	)

1255 
	#LN_rc5_cfb64
 "rc5-cfb"

	)

1256 
	#NID_rc5_cfb64
 122

	)

1258 
	#SN_rc5_ofb64
 "RC5-OFB"

	)

1259 
	#LN_rc5_ofb64
 "rc5-ofb"

	)

1260 
	#NID_rc5_ofb64
 123

	)

1262 
	#SN_ms_ext_»q
 "msExtReq"

	)

1263 
	#LN_ms_ext_»q
 "Miüosoá Ex‹nsiÚ Reque¡"

	)

1264 
	#NID_ms_ext_»q
 171

	)

1265 
	#OBJ_ms_ext_»q
 1L,3L,6L,1L,4L,1L,311L,2L,1L,14L

	)

1267 
	#SN_ms_code_šd
 "msCodeInd"

	)

1268 
	#LN_ms_code_šd
 "Miüosoá Individu® CodSignšg"

	)

1269 
	#NID_ms_code_šd
 134

	)

1270 
	#OBJ_ms_code_šd
 1L,3L,6L,1L,4L,1L,311L,2L,1L,21L

	)

1272 
	#SN_ms_code_com
 "msCodeCom"

	)

1273 
	#LN_ms_code_com
 "Miüosoá Comm”cŸÈCodSignšg"

	)

1274 
	#NID_ms_code_com
 135

	)

1275 
	#OBJ_ms_code_com
 1L,3L,6L,1L,4L,1L,311L,2L,1L,22L

	)

1277 
	#SN_ms_ùl_sign
 "msCTLSign"

	)

1278 
	#LN_ms_ùl_sign
 "Miüosoá Tru¡ Li¡ Signšg"

	)

1279 
	#NID_ms_ùl_sign
 136

	)

1280 
	#OBJ_ms_ùl_sign
 1L,3L,6L,1L,4L,1L,311L,10L,3L,1L

	)

1282 
	#SN_ms_sgc
 "msSGC"

	)

1283 
	#LN_ms_sgc
 "Miüosoá S”v” G©ed Cry±o"

	)

1284 
	#NID_ms_sgc
 137

	)

1285 
	#OBJ_ms_sgc
 1L,3L,6L,1L,4L,1L,311L,10L,3L,3L

	)

1287 
	#SN_ms_efs
 "msEFS"

	)

1288 
	#LN_ms_efs
 "Miüosoá Enüy±ed FSy¡em"

	)

1289 
	#NID_ms_efs
 138

	)

1290 
	#OBJ_ms_efs
 1L,3L,6L,1L,4L,1L,311L,10L,3L,4L

	)

1292 
	#SN_ms_sm¬tÿrd_logš
 "msSm¬tÿrdLogš"

	)

1293 
	#LN_ms_sm¬tÿrd_logš
 "Miüosoá Sm¬tÿrdlogš"

	)

1294 
	#NID_ms_sm¬tÿrd_logš
 648

	)

1295 
	#OBJ_ms_sm¬tÿrd_logš
 1L,3L,6L,1L,4L,1L,311L,20L,2L,2L

	)

1297 
	#SN_ms_u²
 "msUPN"

	)

1298 
	#LN_ms_u²
 "Miüosoá Univ”§ÈPršc® Name"

	)

1299 
	#NID_ms_u²
 649

	)

1300 
	#OBJ_ms_u²
 1L,3L,6L,1L,4L,1L,311L,20L,2L,3L

	)

1302 
	#SN_id—_cbc
 "IDEA-CBC"

	)

1303 
	#LN_id—_cbc
 "id—-cbc"

	)

1304 
	#NID_id—_cbc
 34

	)

1305 
	#OBJ_id—_cbc
 1L,3L,6L,1L,4L,1L,188L,7L,1L,1L,2L

	)

1307 
	#SN_id—_ecb
 "IDEA-ECB"

	)

1308 
	#LN_id—_ecb
 "id—-ecb"

	)

1309 
	#NID_id—_ecb
 36

	)

1311 
	#SN_id—_cfb64
 "IDEA-CFB"

	)

1312 
	#LN_id—_cfb64
 "id—-cfb"

	)

1313 
	#NID_id—_cfb64
 35

	)

1315 
	#SN_id—_ofb64
 "IDEA-OFB"

	)

1316 
	#LN_id—_ofb64
 "id—-ofb"

	)

1317 
	#NID_id—_ofb64
 46

	)

1319 
	#SN_bf_cbc
 "BF-CBC"

	)

1320 
	#LN_bf_cbc
 "bf-cbc"

	)

1321 
	#NID_bf_cbc
 91

	)

1322 
	#OBJ_bf_cbc
 1L,3L,6L,1L,4L,1L,3029L,1L,2L

	)

1324 
	#SN_bf_ecb
 "BF-ECB"

	)

1325 
	#LN_bf_ecb
 "bf-ecb"

	)

1326 
	#NID_bf_ecb
 92

	)

1328 
	#SN_bf_cfb64
 "BF-CFB"

	)

1329 
	#LN_bf_cfb64
 "bf-cfb"

	)

1330 
	#NID_bf_cfb64
 93

	)

1332 
	#SN_bf_ofb64
 "BF-OFB"

	)

1333 
	#LN_bf_ofb64
 "bf-ofb"

	)

1334 
	#NID_bf_ofb64
 94

	)

1336 
	#SN_id_pkix
 "PKIX"

	)

1337 
	#NID_id_pkix
 127

	)

1338 
	#OBJ_id_pkix
 1L,3L,6L,1L,5L,5L,7L

	)

1340 
	#SN_id_pkix_mod
 "id-pkix-mod"

	)

1341 
	#NID_id_pkix_mod
 258

	)

1342 
	#OBJ_id_pkix_mod
 
OBJ_id_pkix
,0L

	)

1344 
	#SN_id_³
 "id-³"

	)

1345 
	#NID_id_³
 175

	)

1346 
	#OBJ_id_³
 
OBJ_id_pkix
,1L

	)

1348 
	#SN_id_qt
 "id-qt"

	)

1349 
	#NID_id_qt
 259

	)

1350 
	#OBJ_id_qt
 
OBJ_id_pkix
,2L

	)

1352 
	#SN_id_kp
 "id-kp"

	)

1353 
	#NID_id_kp
 128

	)

1354 
	#OBJ_id_kp
 
OBJ_id_pkix
,3L

	)

1356 
	#SN_id_™
 "id-™"

	)

1357 
	#NID_id_™
 260

	)

1358 
	#OBJ_id_™
 
OBJ_id_pkix
,4L

	)

1360 
	#SN_id_pk
 "id-pk"

	)

1361 
	#NID_id_pk
 261

	)

1362 
	#OBJ_id_pk
 
OBJ_id_pkix
,5L

	)

1364 
	#SN_id_®g
 "id-®g"

	)

1365 
	#NID_id_®g
 262

	)

1366 
	#OBJ_id_®g
 
OBJ_id_pkix
,6L

	)

1368 
	#SN_id_cmc
 "id-cmc"

	)

1369 
	#NID_id_cmc
 263

	)

1370 
	#OBJ_id_cmc
 
OBJ_id_pkix
,7L

	)

1372 
	#SN_id_Ú
 "id-Ú"

	)

1373 
	#NID_id_Ú
 264

	)

1374 
	#OBJ_id_Ú
 
OBJ_id_pkix
,8L

	)

1376 
	#SN_id_pda
 "id-pda"

	)

1377 
	#NID_id_pda
 265

	)

1378 
	#OBJ_id_pda
 
OBJ_id_pkix
,9L

	)

1380 
	#SN_id_aÿ
 "id-aÿ"

	)

1381 
	#NID_id_aÿ
 266

	)

1382 
	#OBJ_id_aÿ
 
OBJ_id_pkix
,10L

	)

1384 
	#SN_id_qcs
 "id-qcs"

	)

1385 
	#NID_id_qcs
 267

	)

1386 
	#OBJ_id_qcs
 
OBJ_id_pkix
,11L

	)

1388 
	#SN_id_cù
 "id-cù"

	)

1389 
	#NID_id_cù
 268

	)

1390 
	#OBJ_id_cù
 
OBJ_id_pkix
,12L

	)

1392 
	#SN_id_µl
 "id-µl"

	)

1393 
	#NID_id_µl
 662

	)

1394 
	#OBJ_id_µl
 
OBJ_id_pkix
,21L

	)

1396 
	#SN_id_ad
 "id-ad"

	)

1397 
	#NID_id_ad
 176

	)

1398 
	#OBJ_id_ad
 
OBJ_id_pkix
,48L

	)

1400 
	#SN_id_pkix1_ex¶ic™_88
 "id-pkix1-ex¶ic™-88"

	)

1401 
	#NID_id_pkix1_ex¶ic™_88
 269

	)

1402 
	#OBJ_id_pkix1_ex¶ic™_88
 
OBJ_id_pkix_mod
,1L

	)

1404 
	#SN_id_pkix1_im¶ic™_88
 "id-pkix1-im¶ic™-88"

	)

1405 
	#NID_id_pkix1_im¶ic™_88
 270

	)

1406 
	#OBJ_id_pkix1_im¶ic™_88
 
OBJ_id_pkix_mod
,2L

	)

1408 
	#SN_id_pkix1_ex¶ic™_93
 "id-pkix1-ex¶ic™-93"

	)

1409 
	#NID_id_pkix1_ex¶ic™_93
 271

	)

1410 
	#OBJ_id_pkix1_ex¶ic™_93
 
OBJ_id_pkix_mod
,3L

	)

1412 
	#SN_id_pkix1_im¶ic™_93
 "id-pkix1-im¶ic™-93"

	)

1413 
	#NID_id_pkix1_im¶ic™_93
 272

	)

1414 
	#OBJ_id_pkix1_im¶ic™_93
 
OBJ_id_pkix_mod
,4L

	)

1416 
	#SN_id_mod_ümf
 "id-mod-ümf"

	)

1417 
	#NID_id_mod_ümf
 273

	)

1418 
	#OBJ_id_mod_ümf
 
OBJ_id_pkix_mod
,5L

	)

1420 
	#SN_id_mod_cmc
 "id-mod-cmc"

	)

1421 
	#NID_id_mod_cmc
 274

	)

1422 
	#OBJ_id_mod_cmc
 
OBJ_id_pkix_mod
,6L

	)

1424 
	#SN_id_mod_k—_´ofe_88
 "id-mod-k—-´ofe-88"

	)

1425 
	#NID_id_mod_k—_´ofe_88
 275

	)

1426 
	#OBJ_id_mod_k—_´ofe_88
 
OBJ_id_pkix_mod
,7L

	)

1428 
	#SN_id_mod_k—_´ofe_93
 "id-mod-k—-´ofe-93"

	)

1429 
	#NID_id_mod_k—_´ofe_93
 276

	)

1430 
	#OBJ_id_mod_k—_´ofe_93
 
OBJ_id_pkix_mod
,8L

	)

1432 
	#SN_id_mod_cmp
 "id-mod-cmp"

	)

1433 
	#NID_id_mod_cmp
 277

	)

1434 
	#OBJ_id_mod_cmp
 
OBJ_id_pkix_mod
,9L

	)

1436 
	#SN_id_mod_qu®if›d_û¹_88
 "id-mod-qu®if›d-û¹-88"

	)

1437 
	#NID_id_mod_qu®if›d_û¹_88
 278

	)

1438 
	#OBJ_id_mod_qu®if›d_û¹_88
 
OBJ_id_pkix_mod
,10L

	)

1440 
	#SN_id_mod_qu®if›d_û¹_93
 "id-mod-qu®if›d-û¹-93"

	)

1441 
	#NID_id_mod_qu®if›d_û¹_93
 279

	)

1442 
	#OBJ_id_mod_qu®if›d_û¹_93
 
OBJ_id_pkix_mod
,11L

	)

1444 
	#SN_id_mod_©Œibu‹_û¹
 "id-mod-©Œibu‹-û¹"

	)

1445 
	#NID_id_mod_©Œibu‹_û¹
 280

	)

1446 
	#OBJ_id_mod_©Œibu‹_û¹
 
OBJ_id_pkix_mod
,12L

	)

1448 
	#SN_id_mod_time¡amp_´ÙocŞ
 "id-mod-time¡amp-´ÙocŞ"

	)

1449 
	#NID_id_mod_time¡amp_´ÙocŞ
 281

	)

1450 
	#OBJ_id_mod_time¡amp_´ÙocŞ
 
OBJ_id_pkix_mod
,13L

	)

1452 
	#SN_id_mod_oc¥
 "id-mod-oc¥"

	)

1453 
	#NID_id_mod_oc¥
 282

	)

1454 
	#OBJ_id_mod_oc¥
 
OBJ_id_pkix_mod
,14L

	)

1456 
	#SN_id_mod_dvcs
 "id-mod-dvcs"

	)

1457 
	#NID_id_mod_dvcs
 283

	)

1458 
	#OBJ_id_mod_dvcs
 
OBJ_id_pkix_mod
,15L

	)

1460 
	#SN_id_mod_cmp2000
 "id-mod-cmp2000"

	)

1461 
	#NID_id_mod_cmp2000
 284

	)

1462 
	#OBJ_id_mod_cmp2000
 
OBJ_id_pkix_mod
,16L

	)

1464 
	#SN_šfo_acûss
 "authÜ™yInfoAcûss"

	)

1465 
	#LN_šfo_acûss
 "AuthÜ™y InfÜm©iÚ Acûss"

	)

1466 
	#NID_šfo_acûss
 177

	)

1467 
	#OBJ_šfo_acûss
 
OBJ_id_³
,1L

	)

1469 
	#SN_biom‘ricInfo
 "biom‘ricInfo"

	)

1470 
	#LN_biom‘ricInfo
 "Biom‘riøInfo"

	)

1471 
	#NID_biom‘ricInfo
 285

	)

1472 
	#OBJ_biom‘ricInfo
 
OBJ_id_³
,2L

	)

1474 
	#SN_qcS‹m’ts
 "qcS‹m’ts"

	)

1475 
	#NID_qcS‹m’ts
 286

	)

1476 
	#OBJ_qcS‹m’ts
 
OBJ_id_³
,3L

	)

1478 
	#SN_ac_aud™EÁ™y
 "ac-aud™EÁ™y"

	)

1479 
	#NID_ac_aud™EÁ™y
 287

	)

1480 
	#OBJ_ac_aud™EÁ™y
 
OBJ_id_³
,4L

	)

1482 
	#SN_ac_rg‘šg
 "ac-rg‘šg"

	)

1483 
	#NID_ac_rg‘šg
 288

	)

1484 
	#OBJ_ac_rg‘šg
 
OBJ_id_³
,5L

	)

1486 
	#SN_¯CÚŒŞs
 "¯CÚŒŞs"

	)

1487 
	#NID_¯CÚŒŞs
 289

	)

1488 
	#OBJ_¯CÚŒŞs
 
OBJ_id_³
,6L

	)

1490 
	#SN_sbgp_AddrBlock
 "sbgp-AddrBlock"

	)

1491 
	#NID_sbgp_AddrBlock
 290

	)

1492 
	#OBJ_sbgp_AddrBlock
 
OBJ_id_³
,7L

	)

1494 
	#SN_sbgp_autÚomousSysNum
 "sbgp-autÚomousSysNum"

	)

1495 
	#NID_sbgp_autÚomousSysNum
 291

	)

1496 
	#OBJ_sbgp_autÚomousSysNum
 
OBJ_id_³
,8L

	)

1498 
	#SN_sbgp_rou‹rId’tif›r
 "sbgp-rou‹rId’tif›r"

	)

1499 
	#NID_sbgp_rou‹rId’tif›r
 292

	)

1500 
	#OBJ_sbgp_rou‹rId’tif›r
 
OBJ_id_³
,9L

	)

1502 
	#SN_ac_´oxyšg
 "ac-´oxyšg"

	)

1503 
	#NID_ac_´oxyšg
 397

	)

1504 
	#OBJ_ac_´oxyšg
 
OBJ_id_³
,10L

	)

1506 
	#SN_sšfo_acûss
 "subjeùInfoAcûss"

	)

1507 
	#LN_sšfo_acûss
 "Subjeù InfÜm©iÚ Acûss"

	)

1508 
	#NID_sšfo_acûss
 398

	)

1509 
	#OBJ_sšfo_acûss
 
OBJ_id_³
,11L

	)

1511 
	#SN_´oxyC”tInfo
 "´oxyC”tInfo"

	)

1512 
	#LN_´oxyC”tInfo
 "Proxy C”tifiÿ‹ InfÜm©iÚ"

	)

1513 
	#NID_´oxyC”tInfo
 663

	)

1514 
	#OBJ_´oxyC”tInfo
 
OBJ_id_³
,14L

	)

1516 
	#SN_sã©u»
 "sã©u»"

	)

1517 
	#LN_sã©u»
 "TLS F—tu»"

	)

1518 
	#NID_sã©u»
 1020

	)

1519 
	#OBJ_sã©u»
 
OBJ_id_³
,24L

	)

1521 
	#SN_id_qt_ıs
 "id-qt-ıs"

	)

1522 
	#LN_id_qt_ıs
 "PŞicy Qu®if›¸CPS"

	)

1523 
	#NID_id_qt_ıs
 164

	)

1524 
	#OBJ_id_qt_ıs
 
OBJ_id_qt
,1L

	)

1526 
	#SN_id_qt_unÙiû
 "id-qt-unÙiû"

	)

1527 
	#LN_id_qt_unÙiû
 "PŞicy Qu®if›¸U£¸NÙiû"

	)

1528 
	#NID_id_qt_unÙiû
 165

	)

1529 
	#OBJ_id_qt_unÙiû
 
OBJ_id_qt
,2L

	)

1531 
	#SN_‹xtNÙiû
 "‹xtNÙiû"

	)

1532 
	#NID_‹xtNÙiû
 293

	)

1533 
	#OBJ_‹xtNÙiû
 
OBJ_id_qt
,3L

	)

1535 
	#SN_£rv”_auth
 "£rv”Auth"

	)

1536 
	#LN_£rv”_auth
 "TLS Web S”v” Auth’tiÿtiÚ"

	)

1537 
	#NID_£rv”_auth
 129

	)

1538 
	#OBJ_£rv”_auth
 
OBJ_id_kp
,1L

	)

1540 
	#SN_ş›Á_auth
 "ş›ÁAuth"

	)

1541 
	#LN_ş›Á_auth
 "TLS Web Cl›Á Auth’tiÿtiÚ"

	)

1542 
	#NID_ş›Á_auth
 130

	)

1543 
	#OBJ_ş›Á_auth
 
OBJ_id_kp
,2L

	)

1545 
	#SN_code_sign
 "codeSignšg"

	)

1546 
	#LN_code_sign
 "CodSignšg"

	)

1547 
	#NID_code_sign
 131

	)

1548 
	#OBJ_code_sign
 
OBJ_id_kp
,3L

	)

1550 
	#SN_ema_´Ùeù
 "emaPrÙeùiÚ"

	)

1551 
	#LN_ema_´Ùeù
 "E-ma PrÙeùiÚ"

	)

1552 
	#NID_ema_´Ùeù
 132

	)

1553 
	#OBJ_ema_´Ùeù
 
OBJ_id_kp
,4L

	)

1555 
	#SN_£cEndSy¡em
 "£cEndSy¡em"

	)

1556 
	#LN_£cEndSy¡em
 "IPSeøEnd Sy¡em"

	)

1557 
	#NID_£cEndSy¡em
 294

	)

1558 
	#OBJ_£cEndSy¡em
 
OBJ_id_kp
,5L

	)

1560 
	#SN_£cTuÂ–
 "£cTuÂ–"

	)

1561 
	#LN_£cTuÂ–
 "IPSeøTuÂ–"

	)

1562 
	#NID_£cTuÂ–
 295

	)

1563 
	#OBJ_£cTuÂ–
 
OBJ_id_kp
,6L

	)

1565 
	#SN_£cU£r
 "£cU£r"

	)

1566 
	#LN_£cU£r
 "IPSeøU£r"

	)

1567 
	#NID_£cU£r
 296

	)

1568 
	#OBJ_£cU£r
 
OBJ_id_kp
,7L

	)

1570 
	#SN_time_¡amp
 "timeSmpšg"

	)

1571 
	#LN_time_¡amp
 "TimSmpšg"

	)

1572 
	#NID_time_¡amp
 133

	)

1573 
	#OBJ_time_¡amp
 
OBJ_id_kp
,8L

	)

1575 
	#SN_OCSP_sign
 "OCSPSignšg"

	)

1576 
	#LN_OCSP_sign
 "OCSP Signšg"

	)

1577 
	#NID_OCSP_sign
 180

	)

1578 
	#OBJ_OCSP_sign
 
OBJ_id_kp
,9L

	)

1580 
	#SN_dvcs
 "DVCS"

	)

1581 
	#LN_dvcs
 "dvcs"

	)

1582 
	#NID_dvcs
 297

	)

1583 
	#OBJ_dvcs
 
OBJ_id_kp
,10L

	)

1585 
	#SN_£c_IKE
 "£cIKE"

	)

1586 
	#LN_£c_IKE
 "£øIÁ”ÃˆKey Exchªge"

	)

1587 
	#NID_£c_IKE
 1022

	)

1588 
	#OBJ_£c_IKE
 
OBJ_id_kp
,17L

	)

1590 
	#SN_ÿpw­AC
 "ÿpw­AC"

	)

1591 
	#LN_ÿpw­AC
 "CŒl/´ovisiÚ WAP Acûss"

	)

1592 
	#NID_ÿpw­AC
 1023

	)

1593 
	#OBJ_ÿpw­AC
 
OBJ_id_kp
,18L

	)

1595 
	#SN_ÿpw­WTP
 "ÿpw­WTP"

	)

1596 
	#LN_ÿpw­WTP
 "CŒl/ProvisiÚ WAP T”mš©iÚ"

	)

1597 
	#NID_ÿpw­WTP
 1024

	)

1598 
	#OBJ_ÿpw­WTP
 
OBJ_id_kp
,19L

	)

1600 
	#SN_sshCl›Á
 "£cu»Sh–lCl›Á"

	)

1601 
	#LN_sshCl›Á
 "SSH Cl›Á"

	)

1602 
	#NID_sshCl›Á
 1025

	)

1603 
	#OBJ_sshCl›Á
 
OBJ_id_kp
,21L

	)

1605 
	#SN_sshS”v”
 "£cu»Sh–lS”v”"

	)

1606 
	#LN_sshS”v”
 "SSH S”v”"

	)

1607 
	#NID_sshS”v”
 1026

	)

1608 
	#OBJ_sshS”v”
 
OBJ_id_kp
,22L

	)

1610 
	#SN_£ndRou‹r
 "£ndRou‹r"

	)

1611 
	#LN_£ndRou‹r
 "S’d Rou‹r"

	)

1612 
	#NID_£ndRou‹r
 1027

	)

1613 
	#OBJ_£ndRou‹r
 
OBJ_id_kp
,23L

	)

1615 
	#SN_£ndProx›dRou‹r
 "£ndProx›dRou‹r"

	)

1616 
	#LN_£ndProx›dRou‹r
 "S’d Prox›d Rou‹r"

	)

1617 
	#NID_£ndProx›dRou‹r
 1028

	)

1618 
	#OBJ_£ndProx›dRou‹r
 
OBJ_id_kp
,24L

	)

1620 
	#SN_£ndOwÃr
 "£ndOwÃr"

	)

1621 
	#LN_£ndOwÃr
 "S’d OwÃr"

	)

1622 
	#NID_£ndOwÃr
 1029

	)

1623 
	#OBJ_£ndOwÃr
 
OBJ_id_kp
,25L

	)

1625 
	#SN_£ndProx›dOwÃr
 "£ndProx›dOwÃr"

	)

1626 
	#LN_£ndProx›dOwÃr
 "S’d Prox›d OwÃr"

	)

1627 
	#NID_£ndProx›dOwÃr
 1030

	)

1628 
	#OBJ_£ndProx›dOwÃr
 
OBJ_id_kp
,26L

	)

1630 
	#SN_cmcCA
 "cmcCA"

	)

1631 
	#LN_cmcCA
 "CMC C”tifiÿ‹ AuthÜ™y"

	)

1632 
	#NID_cmcCA
 1131

	)

1633 
	#OBJ_cmcCA
 
OBJ_id_kp
,27L

	)

1635 
	#SN_cmcRA
 "cmcRA"

	)

1636 
	#LN_cmcRA
 "CMC Regi¡¿tiÚ AuthÜ™y"

	)

1637 
	#NID_cmcRA
 1132

	)

1638 
	#OBJ_cmcRA
 
OBJ_id_kp
,28L

	)

1640 
	#SN_id_™_ÿPrÙEncC”t
 "id-™-ÿPrÙEncC”t"

	)

1641 
	#NID_id_™_ÿPrÙEncC”t
 298

	)

1642 
	#OBJ_id_™_ÿPrÙEncC”t
 
OBJ_id_™
,1L

	)

1644 
	#SN_id_™_signKeyPaœTy³s
 "id-™-signKeyPaœTy³s"

	)

1645 
	#NID_id_™_signKeyPaœTy³s
 299

	)

1646 
	#OBJ_id_™_signKeyPaœTy³s
 
OBJ_id_™
,2L

	)

1648 
	#SN_id_™_’cKeyPaœTy³s
 "id-™-’cKeyPaœTy³s"

	)

1649 
	#NID_id_™_’cKeyPaœTy³s
 300

	)

1650 
	#OBJ_id_™_’cKeyPaœTy³s
 
OBJ_id_™
,3L

	)

1652 
	#SN_id_™_´eã¼edSymmAlg
 "id-™-´eã¼edSymmAlg"

	)

1653 
	#NID_id_™_´eã¼edSymmAlg
 301

	)

1654 
	#OBJ_id_™_´eã¼edSymmAlg
 
OBJ_id_™
,4L

	)

1656 
	#SN_id_™_ÿKeyUpd©eInfo
 "id-™-ÿKeyUpd©eInfo"

	)

1657 
	#NID_id_™_ÿKeyUpd©eInfo
 302

	)

1658 
	#OBJ_id_™_ÿKeyUpd©eInfo
 
OBJ_id_™
,5L

	)

1660 
	#SN_id_™_cu¼’tCRL
 "id-™-cu¼’tCRL"

	)

1661 
	#NID_id_™_cu¼’tCRL
 303

	)

1662 
	#OBJ_id_™_cu¼’tCRL
 
OBJ_id_™
,6L

	)

1664 
	#SN_id_™_unsuµÜ‹dOIDs
 "id-™-unsuµÜ‹dOIDs"

	)

1665 
	#NID_id_™_unsuµÜ‹dOIDs
 304

	)

1666 
	#OBJ_id_™_unsuµÜ‹dOIDs
 
OBJ_id_™
,7L

	)

1668 
	#SN_id_™_subsütiÚReque¡
 "id-™-subsütiÚReque¡"

	)

1669 
	#NID_id_™_subsütiÚReque¡
 305

	)

1670 
	#OBJ_id_™_subsütiÚReque¡
 
OBJ_id_™
,8L

	)

1672 
	#SN_id_™_subsütiÚRe¥Ú£
 "id-™-subsütiÚRe¥Ú£"

	)

1673 
	#NID_id_™_subsütiÚRe¥Ú£
 306

	)

1674 
	#OBJ_id_™_subsütiÚRe¥Ú£
 
OBJ_id_™
,9L

	)

1676 
	#SN_id_™_keyPaœP¬amReq
 "id-™-keyPaœP¬amReq"

	)

1677 
	#NID_id_™_keyPaœP¬amReq
 307

	)

1678 
	#OBJ_id_™_keyPaœP¬amReq
 
OBJ_id_™
,10L

	)

1680 
	#SN_id_™_keyPaœP¬amR•
 "id-™-keyPaœP¬amR•"

	)

1681 
	#NID_id_™_keyPaœP¬amR•
 308

	)

1682 
	#OBJ_id_™_keyPaœP¬amR•
 
OBJ_id_™
,11L

	)

1684 
	#SN_id_™_»vPas¥h¿£
 "id-™-»vPas¥h¿£"

	)

1685 
	#NID_id_™_»vPas¥h¿£
 309

	)

1686 
	#OBJ_id_™_»vPas¥h¿£
 
OBJ_id_™
,12L

	)

1688 
	#SN_id_™_im¶ic™CÚfœm
 "id-™-im¶ic™CÚfœm"

	)

1689 
	#NID_id_™_im¶ic™CÚfœm
 310

	)

1690 
	#OBJ_id_™_im¶ic™CÚfœm
 
OBJ_id_™
,13L

	)

1692 
	#SN_id_™_cÚfœmWa™Time
 "id-™-cÚfœmWa™Time"

	)

1693 
	#NID_id_™_cÚfœmWa™Time
 311

	)

1694 
	#OBJ_id_™_cÚfœmWa™Time
 
OBJ_id_™
,14L

	)

1696 
	#SN_id_™_ÜigPKIMes§ge
 "id-™-ÜigPKIMes§ge"

	)

1697 
	#NID_id_™_ÜigPKIMes§ge
 312

	)

1698 
	#OBJ_id_™_ÜigPKIMes§ge
 
OBJ_id_™
,15L

	)

1700 
	#SN_id_™_suµLªgTags
 "id-™-suµLªgTags"

	)

1701 
	#NID_id_™_suµLªgTags
 784

	)

1702 
	#OBJ_id_™_suµLªgTags
 
OBJ_id_™
,16L

	)

1704 
	#SN_id_»gCŒl
 "id-»gCŒl"

	)

1705 
	#NID_id_»gCŒl
 313

	)

1706 
	#OBJ_id_»gCŒl
 
OBJ_id_pk
,1L

	)

1708 
	#SN_id_»gInfo
 "id-»gInfo"

	)

1709 
	#NID_id_»gInfo
 314

	)

1710 
	#OBJ_id_»gInfo
 
OBJ_id_pk
,2L

	)

1712 
	#SN_id_»gCŒl_»gTok’
 "id-»gCŒl-»gTok’"

	)

1713 
	#NID_id_»gCŒl_»gTok’
 315

	)

1714 
	#OBJ_id_»gCŒl_»gTok’
 
OBJ_id_»gCŒl
,1L

	)

1716 
	#SN_id_»gCŒl_auth’tiÿtÜ
 "id-»gCŒl-auth’tiÿtÜ"

	)

1717 
	#NID_id_»gCŒl_auth’tiÿtÜ
 316

	)

1718 
	#OBJ_id_»gCŒl_auth’tiÿtÜ
 
OBJ_id_»gCŒl
,2L

	)

1720 
	#SN_id_»gCŒl_pkiPubliÿtiÚInfo
 "id-»gCŒl-pkiPubliÿtiÚInfo"

	)

1721 
	#NID_id_»gCŒl_pkiPubliÿtiÚInfo
 317

	)

1722 
	#OBJ_id_»gCŒl_pkiPubliÿtiÚInfo
 
OBJ_id_»gCŒl
,3L

	)

1724 
	#SN_id_»gCŒl_pkiArchiveO±iÚs
 "id-»gCŒl-pkiArchiveO±iÚs"

	)

1725 
	#NID_id_»gCŒl_pkiArchiveO±iÚs
 318

	)

1726 
	#OBJ_id_»gCŒl_pkiArchiveO±iÚs
 
OBJ_id_»gCŒl
,4L

	)

1728 
	#SN_id_»gCŒl_ŞdC”tID
 "id-»gCŒl-ŞdC”tID"

	)

1729 
	#NID_id_»gCŒl_ŞdC”tID
 319

	)

1730 
	#OBJ_id_»gCŒl_ŞdC”tID
 
OBJ_id_»gCŒl
,5L

	)

1732 
	#SN_id_»gCŒl_´ÙocŞEnüKey
 "id-»gCŒl-´ÙocŞEnüKey"

	)

1733 
	#NID_id_»gCŒl_´ÙocŞEnüKey
 320

	)

1734 
	#OBJ_id_»gCŒl_´ÙocŞEnüKey
 
OBJ_id_»gCŒl
,6L

	)

1736 
	#SN_id_»gInfo_utf8Paœs
 "id-»gInfo-utf8Paœs"

	)

1737 
	#NID_id_»gInfo_utf8Paœs
 321

	)

1738 
	#OBJ_id_»gInfo_utf8Paœs
 
OBJ_id_»gInfo
,1L

	)

1740 
	#SN_id_»gInfo_û¹Req
 "id-»gInfo-û¹Req"

	)

1741 
	#NID_id_»gInfo_û¹Req
 322

	)

1742 
	#OBJ_id_»gInfo_û¹Req
 
OBJ_id_»gInfo
,2L

	)

1744 
	#SN_id_®g_des40
 "id-®g-des40"

	)

1745 
	#NID_id_®g_des40
 323

	)

1746 
	#OBJ_id_®g_des40
 
OBJ_id_®g
,1L

	)

1748 
	#SN_id_®g_noSigÇtu»
 "id-®g-noSigÇtu»"

	)

1749 
	#NID_id_®g_noSigÇtu»
 324

	)

1750 
	#OBJ_id_®g_noSigÇtu»
 
OBJ_id_®g
,2L

	)

1752 
	#SN_id_®g_dh_sig_hmac_sha1
 "id-®g-dh-sig-hmac-sha1"

	)

1753 
	#NID_id_®g_dh_sig_hmac_sha1
 325

	)

1754 
	#OBJ_id_®g_dh_sig_hmac_sha1
 
OBJ_id_®g
,3L

	)

1756 
	#SN_id_®g_dh_pİ
 "id-®g-dh-pİ"

	)

1757 
	#NID_id_®g_dh_pİ
 326

	)

1758 
	#OBJ_id_®g_dh_pİ
 
OBJ_id_®g
,4L

	)

1760 
	#SN_id_cmc_¡©usInfo
 "id-cmc-¡©usInfo"

	)

1761 
	#NID_id_cmc_¡©usInfo
 327

	)

1762 
	#OBJ_id_cmc_¡©usInfo
 
OBJ_id_cmc
,1L

	)

1764 
	#SN_id_cmc_id’tifiÿtiÚ
 "id-cmc-id’tifiÿtiÚ"

	)

1765 
	#NID_id_cmc_id’tifiÿtiÚ
 328

	)

1766 
	#OBJ_id_cmc_id’tifiÿtiÚ
 
OBJ_id_cmc
,2L

	)

1768 
	#SN_id_cmc_id’t™yProof
 "id-cmc-id’t™yProof"

	)

1769 
	#NID_id_cmc_id’t™yProof
 329

	)

1770 
	#OBJ_id_cmc_id’t™yProof
 
OBJ_id_cmc
,3L

	)

1772 
	#SN_id_cmc_d©aR‘uº
 "id-cmc-d©aR‘uº"

	)

1773 
	#NID_id_cmc_d©aR‘uº
 330

	)

1774 
	#OBJ_id_cmc_d©aR‘uº
 
OBJ_id_cmc
,4L

	)

1776 
	#SN_id_cmc_Œª§ùiÚId
 "id-cmc-Œª§ùiÚId"

	)

1777 
	#NID_id_cmc_Œª§ùiÚId
 331

	)

1778 
	#OBJ_id_cmc_Œª§ùiÚId
 
OBJ_id_cmc
,5L

	)

1780 
	#SN_id_cmc_£nd”NÚû
 "id-cmc-£nd”NÚû"

	)

1781 
	#NID_id_cmc_£nd”NÚû
 332

	)

1782 
	#OBJ_id_cmc_£nd”NÚû
 
OBJ_id_cmc
,6L

	)

1784 
	#SN_id_cmc_»c›ÁNÚû
 "id-cmc-»c›ÁNÚû"

	)

1785 
	#NID_id_cmc_»c›ÁNÚû
 333

	)

1786 
	#OBJ_id_cmc_»c›ÁNÚû
 
OBJ_id_cmc
,7L

	)

1788 
	#SN_id_cmc_addEx‹nsiÚs
 "id-cmc-addEx‹nsiÚs"

	)

1789 
	#NID_id_cmc_addEx‹nsiÚs
 334

	)

1790 
	#OBJ_id_cmc_addEx‹nsiÚs
 
OBJ_id_cmc
,8L

	)

1792 
	#SN_id_cmc_’üy±edPOP
 "id-cmc-’üy±edPOP"

	)

1793 
	#NID_id_cmc_’üy±edPOP
 335

	)

1794 
	#OBJ_id_cmc_’üy±edPOP
 
OBJ_id_cmc
,9L

	)

1796 
	#SN_id_cmc_deüy±edPOP
 "id-cmc-deüy±edPOP"

	)

1797 
	#NID_id_cmc_deüy±edPOP
 336

	)

1798 
	#OBJ_id_cmc_deüy±edPOP
 
OBJ_id_cmc
,10L

	)

1800 
	#SN_id_cmc_ÌaPOPW™Ãss
 "id-cmc-ÌaPOPW™Ãss"

	)

1801 
	#NID_id_cmc_ÌaPOPW™Ãss
 337

	)

1802 
	#OBJ_id_cmc_ÌaPOPW™Ãss
 
OBJ_id_cmc
,11L

	)

1804 
	#SN_id_cmc_g‘C”t
 "id-cmc-g‘C”t"

	)

1805 
	#NID_id_cmc_g‘C”t
 338

	)

1806 
	#OBJ_id_cmc_g‘C”t
 
OBJ_id_cmc
,15L

	)

1808 
	#SN_id_cmc_g‘CRL
 "id-cmc-g‘CRL"

	)

1809 
	#NID_id_cmc_g‘CRL
 339

	)

1810 
	#OBJ_id_cmc_g‘CRL
 
OBJ_id_cmc
,16L

	)

1812 
	#SN_id_cmc_»vokeReque¡
 "id-cmc-»vokeReque¡"

	)

1813 
	#NID_id_cmc_»vokeReque¡
 340

	)

1814 
	#OBJ_id_cmc_»vokeReque¡
 
OBJ_id_cmc
,17L

	)

1816 
	#SN_id_cmc_»gInfo
 "id-cmc-»gInfo"

	)

1817 
	#NID_id_cmc_»gInfo
 341

	)

1818 
	#OBJ_id_cmc_»gInfo
 
OBJ_id_cmc
,18L

	)

1820 
	#SN_id_cmc_»¥Ú£Info
 "id-cmc-»¥Ú£Info"

	)

1821 
	#NID_id_cmc_»¥Ú£Info
 342

	)

1822 
	#OBJ_id_cmc_»¥Ú£Info
 
OBJ_id_cmc
,19L

	)

1824 
	#SN_id_cmc_qu”yP’dšg
 "id-cmc-qu”yP’dšg"

	)

1825 
	#NID_id_cmc_qu”yP’dšg
 343

	)

1826 
	#OBJ_id_cmc_qu”yP’dšg
 
OBJ_id_cmc
,21L

	)

1828 
	#SN_id_cmc_pİLškRªdom
 "id-cmc-pİLškRªdom"

	)

1829 
	#NID_id_cmc_pİLškRªdom
 344

	)

1830 
	#OBJ_id_cmc_pİLškRªdom
 
OBJ_id_cmc
,22L

	)

1832 
	#SN_id_cmc_pİLškW™Ãss
 "id-cmc-pİLškW™Ãss"

	)

1833 
	#NID_id_cmc_pİLškW™Ãss
 345

	)

1834 
	#OBJ_id_cmc_pİLškW™Ãss
 
OBJ_id_cmc
,23L

	)

1836 
	#SN_id_cmc_cÚfœmC”tAcû±ªû
 "id-cmc-cÚfœmC”tAcû±ªû"

	)

1837 
	#NID_id_cmc_cÚfœmC”tAcû±ªû
 346

	)

1838 
	#OBJ_id_cmc_cÚfœmC”tAcû±ªû
 
OBJ_id_cmc
,24L

	)

1840 
	#SN_id_Ú_³rsÚ®D©a
 "id-Ú-³rsÚ®D©a"

	)

1841 
	#NID_id_Ú_³rsÚ®D©a
 347

	)

1842 
	#OBJ_id_Ú_³rsÚ®D©a
 
OBJ_id_Ú
,1L

	)

1844 
	#SN_id_Ú_³rmª’tId’tif›r
 "id-Ú-³rmª’tId’tif›r"

	)

1845 
	#LN_id_Ú_³rmª’tId’tif›r
 "P”mª’ˆId’tif›r"

	)

1846 
	#NID_id_Ú_³rmª’tId’tif›r
 858

	)

1847 
	#OBJ_id_Ú_³rmª’tId’tif›r
 
OBJ_id_Ú
,3L

	)

1849 
	#SN_id_pda_d©eOfBœth
 "id-pda-d©eOfBœth"

	)

1850 
	#NID_id_pda_d©eOfBœth
 348

	)

1851 
	#OBJ_id_pda_d©eOfBœth
 
OBJ_id_pda
,1L

	)

1853 
	#SN_id_pda_¶aûOfBœth
 "id-pda-¶aûOfBœth"

	)

1854 
	#NID_id_pda_¶aûOfBœth
 349

	)

1855 
	#OBJ_id_pda_¶aûOfBœth
 
OBJ_id_pda
,2L

	)

1857 
	#SN_id_pda_g’d”
 "id-pda-g’d”"

	)

1858 
	#NID_id_pda_g’d”
 351

	)

1859 
	#OBJ_id_pda_g’d”
 
OBJ_id_pda
,3L

	)

1861 
	#SN_id_pda_couÁryOfC™iz’sh
 "id-pda-couÁryOfC™iz’sh"

	)

1862 
	#NID_id_pda_couÁryOfC™iz’sh
 352

	)

1863 
	#OBJ_id_pda_couÁryOfC™iz’sh
 
OBJ_id_pda
,4L

	)

1865 
	#SN_id_pda_couÁryOfResid’û
 "id-pda-couÁryOfResid’û"

	)

1866 
	#NID_id_pda_couÁryOfResid’û
 353

	)

1867 
	#OBJ_id_pda_couÁryOfResid’û
 
OBJ_id_pda
,5L

	)

1869 
	#SN_id_aÿ_auth’tiÿtiÚInfo
 "id-aÿ-auth’tiÿtiÚInfo"

	)

1870 
	#NID_id_aÿ_auth’tiÿtiÚInfo
 354

	)

1871 
	#OBJ_id_aÿ_auth’tiÿtiÚInfo
 
OBJ_id_aÿ
,1L

	)

1873 
	#SN_id_aÿ_acûssId’t™y
 "id-aÿ-acûssId’t™y"

	)

1874 
	#NID_id_aÿ_acûssId’t™y
 355

	)

1875 
	#OBJ_id_aÿ_acûssId’t™y
 
OBJ_id_aÿ
,2L

	)

1877 
	#SN_id_aÿ_ch¬gšgId’t™y
 "id-aÿ-ch¬gšgId’t™y"

	)

1878 
	#NID_id_aÿ_ch¬gšgId’t™y
 356

	)

1879 
	#OBJ_id_aÿ_ch¬gšgId’t™y
 
OBJ_id_aÿ
,3L

	)

1881 
	#SN_id_aÿ_group
 "id-aÿ-group"

	)

1882 
	#NID_id_aÿ_group
 357

	)

1883 
	#OBJ_id_aÿ_group
 
OBJ_id_aÿ
,4L

	)

1885 
	#SN_id_aÿ_rŞe
 "id-aÿ-rŞe"

	)

1886 
	#NID_id_aÿ_rŞe
 358

	)

1887 
	#OBJ_id_aÿ_rŞe
 
OBJ_id_aÿ
,5L

	)

1889 
	#SN_id_aÿ_’cA‰rs
 "id-aÿ-’cA‰rs"

	)

1890 
	#NID_id_aÿ_’cA‰rs
 399

	)

1891 
	#OBJ_id_aÿ_’cA‰rs
 
OBJ_id_aÿ
,6L

	)

1893 
	#SN_id_qcs_pkixQCSyÁax_v1
 "id-qcs-pkixQCSyÁax-v1"

	)

1894 
	#NID_id_qcs_pkixQCSyÁax_v1
 359

	)

1895 
	#OBJ_id_qcs_pkixQCSyÁax_v1
 
OBJ_id_qcs
,1L

	)

1897 
	#SN_id_cù_üs
 "id-cù-üs"

	)

1898 
	#NID_id_cù_üs
 360

	)

1899 
	#OBJ_id_cù_üs
 
OBJ_id_cù
,1L

	)

1901 
	#SN_id_cù_PKID©a
 "id-cù-PKID©a"

	)

1902 
	#NID_id_cù_PKID©a
 361

	)

1903 
	#OBJ_id_cù_PKID©a
 
OBJ_id_cù
,2L

	)

1905 
	#SN_id_cù_PKIRe¥Ú£
 "id-cù-PKIRe¥Ú£"

	)

1906 
	#NID_id_cù_PKIRe¥Ú£
 362

	)

1907 
	#OBJ_id_cù_PKIRe¥Ú£
 
OBJ_id_cù
,3L

	)

1909 
	#SN_id_µl_ªyLªguage
 "id-µl-ªyLªguage"

	)

1910 
	#LN_id_µl_ªyLªguage
 "Any†ªguage"

	)

1911 
	#NID_id_µl_ªyLªguage
 664

	)

1912 
	#OBJ_id_µl_ªyLªguage
 
OBJ_id_µl
,0L

	)

1914 
	#SN_id_µl_šh”™AÎ
 "id-µl-šh”™AÎ"

	)

1915 
	#LN_id_µl_šh”™AÎ
 "Inh”™‡Î"

	)

1916 
	#NID_id_µl_šh”™AÎ
 665

	)

1917 
	#OBJ_id_µl_šh”™AÎ
 
OBJ_id_µl
,1L

	)

1919 
	#SN_Ind•’d’t
 "id-µl-šd•’d’t"

	)

1920 
	#LN_Ind•’d’t
 "Ind•’d’t"

	)

1921 
	#NID_Ind•’d’t
 667

	)

1922 
	#OBJ_Ind•’d’t
 
OBJ_id_µl
,2L

	)

1924 
	#SN_ad_OCSP
 "OCSP"

	)

1925 
	#LN_ad_OCSP
 "OCSP"

	)

1926 
	#NID_ad_OCSP
 178

	)

1927 
	#OBJ_ad_OCSP
 
OBJ_id_ad
,1L

	)

1929 
	#SN_ad_ÿ_issu”s
 "ÿIssu”s"

	)

1930 
	#LN_ad_ÿ_issu”s
 "CA Issu”s"

	)

1931 
	#NID_ad_ÿ_issu”s
 179

	)

1932 
	#OBJ_ad_ÿ_issu”s
 
OBJ_id_ad
,2L

	)

1934 
	#SN_ad_timeSmpšg
 "ad_time¡ampšg"

	)

1935 
	#LN_ad_timeSmpšg
 "AD TimSmpšg"

	)

1936 
	#NID_ad_timeSmpšg
 363

	)

1937 
	#OBJ_ad_timeSmpšg
 
OBJ_id_ad
,3L

	)

1939 
	#SN_ad_dvcs
 "AD_DVCS"

	)

1940 
	#LN_ad_dvcs
 "ad dvcs"

	)

1941 
	#NID_ad_dvcs
 364

	)

1942 
	#OBJ_ad_dvcs
 
OBJ_id_ad
,4L

	)

1944 
	#SN_ÿR•os™Üy
 "ÿR•os™Üy"

	)

1945 
	#LN_ÿR•os™Üy
 "CA R•os™Üy"

	)

1946 
	#NID_ÿR•os™Üy
 785

	)

1947 
	#OBJ_ÿR•os™Üy
 
OBJ_id_ad
,5L

	)

1949 
	#OBJ_id_pkix_OCSP
 
OBJ_ad_OCSP


	)

1951 
	#SN_id_pkix_OCSP_basic
 "basicOCSPRe¥Ú£"

	)

1952 
	#LN_id_pkix_OCSP_basic
 "BasiøOCSP Re¥Ú£"

	)

1953 
	#NID_id_pkix_OCSP_basic
 365

	)

1954 
	#OBJ_id_pkix_OCSP_basic
 
OBJ_id_pkix_OCSP
,1L

	)

1956 
	#SN_id_pkix_OCSP_NÚû
 "NÚû"

	)

1957 
	#LN_id_pkix_OCSP_NÚû
 "OCSP NÚû"

	)

1958 
	#NID_id_pkix_OCSP_NÚû
 366

	)

1959 
	#OBJ_id_pkix_OCSP_NÚû
 
OBJ_id_pkix_OCSP
,2L

	)

1961 
	#SN_id_pkix_OCSP_C¾ID
 "C¾ID"

	)

1962 
	#LN_id_pkix_OCSP_C¾ID
 "OCSP CRL ID"

	)

1963 
	#NID_id_pkix_OCSP_C¾ID
 367

	)

1964 
	#OBJ_id_pkix_OCSP_C¾ID
 
OBJ_id_pkix_OCSP
,3L

	)

1966 
	#SN_id_pkix_OCSP_acû±abËRe¥Ú£s
 "acû±abËRe¥Ú£s"

	)

1967 
	#LN_id_pkix_OCSP_acû±abËRe¥Ú£s
 "Acû±abË OCSP Re¥Ú£s"

	)

1968 
	#NID_id_pkix_OCSP_acû±abËRe¥Ú£s
 368

	)

1969 
	#OBJ_id_pkix_OCSP_acû±abËRe¥Ú£s
 
OBJ_id_pkix_OCSP
,4L

	)

1971 
	#SN_id_pkix_OCSP_noCheck
 "noCheck"

	)

1972 
	#LN_id_pkix_OCSP_noCheck
 "OCSP NØCheck"

	)

1973 
	#NID_id_pkix_OCSP_noCheck
 369

	)

1974 
	#OBJ_id_pkix_OCSP_noCheck
 
OBJ_id_pkix_OCSP
,5L

	)

1976 
	#SN_id_pkix_OCSP_¬chiveCutoff
 "¬chiveCutoff"

	)

1977 
	#LN_id_pkix_OCSP_¬chiveCutoff
 "OCSP ArchivCutoff"

	)

1978 
	#NID_id_pkix_OCSP_¬chiveCutoff
 370

	)

1979 
	#OBJ_id_pkix_OCSP_¬chiveCutoff
 
OBJ_id_pkix_OCSP
,6L

	)

1981 
	#SN_id_pkix_OCSP_£rviûLoÿtÜ
 "£rviûLoÿtÜ"

	)

1982 
	#LN_id_pkix_OCSP_£rviûLoÿtÜ
 "OCSP S”viû LoÿtÜ"

	)

1983 
	#NID_id_pkix_OCSP_£rviûLoÿtÜ
 371

	)

1984 
	#OBJ_id_pkix_OCSP_£rviûLoÿtÜ
 
OBJ_id_pkix_OCSP
,7L

	)

1986 
	#SN_id_pkix_OCSP_ex‹ndedStus
 "ex‹ndedStus"

	)

1987 
	#LN_id_pkix_OCSP_ex‹ndedStus
 "Ex‹nded OCSP Stus"

	)

1988 
	#NID_id_pkix_OCSP_ex‹ndedStus
 372

	)

1989 
	#OBJ_id_pkix_OCSP_ex‹ndedStus
 
OBJ_id_pkix_OCSP
,8L

	)

1991 
	#SN_id_pkix_OCSP_v®id
 "v®id"

	)

1992 
	#NID_id_pkix_OCSP_v®id
 373

	)

1993 
	#OBJ_id_pkix_OCSP_v®id
 
OBJ_id_pkix_OCSP
,9L

	)

1995 
	#SN_id_pkix_OCSP_·th
 "·th"

	)

1996 
	#NID_id_pkix_OCSP_·th
 374

	)

1997 
	#OBJ_id_pkix_OCSP_·th
 
OBJ_id_pkix_OCSP
,10L

	)

1999 
	#SN_id_pkix_OCSP_Œu¡RoÙ
 "Œu¡RoÙ"

	)

2000 
	#LN_id_pkix_OCSP_Œu¡RoÙ
 "Tru¡ RoÙ"

	)

2001 
	#NID_id_pkix_OCSP_Œu¡RoÙ
 375

	)

2002 
	#OBJ_id_pkix_OCSP_Œu¡RoÙ
 
OBJ_id_pkix_OCSP
,11L

	)

2004 
	#SN_®gÜ™hm
 "®gÜ™hm"

	)

2005 
	#LN_®gÜ™hm
 "®gÜ™hm"

	)

2006 
	#NID_®gÜ™hm
 376

	)

2007 
	#OBJ_®gÜ™hm
 1L,3L,14L,3L,2L

	)

2009 
	#SN_md5W™hRSA
 "RSA-NP-MD5"

	)

2010 
	#LN_md5W™hRSA
 "md5W™hRSA"

	)

2011 
	#NID_md5W™hRSA
 104

	)

2012 
	#OBJ_md5W™hRSA
 
OBJ_®gÜ™hm
,3L

	)

2014 
	#SN_des_ecb
 "DES-ECB"

	)

2015 
	#LN_des_ecb
 "des-ecb"

	)

2016 
	#NID_des_ecb
 29

	)

2017 
	#OBJ_des_ecb
 
OBJ_®gÜ™hm
,6L

	)

2019 
	#SN_des_cbc
 "DES-CBC"

	)

2020 
	#LN_des_cbc
 "des-cbc"

	)

2021 
	#NID_des_cbc
 31

	)

2022 
	#OBJ_des_cbc
 
OBJ_®gÜ™hm
,7L

	)

2024 
	#SN_des_ofb64
 "DES-OFB"

	)

2025 
	#LN_des_ofb64
 "des-ofb"

	)

2026 
	#NID_des_ofb64
 45

	)

2027 
	#OBJ_des_ofb64
 
OBJ_®gÜ™hm
,8L

	)

2029 
	#SN_des_cfb64
 "DES-CFB"

	)

2030 
	#LN_des_cfb64
 "des-cfb"

	)

2031 
	#NID_des_cfb64
 30

	)

2032 
	#OBJ_des_cfb64
 
OBJ_®gÜ™hm
,9L

	)

2034 
	#SN_r§SigÇtu»
 "r§SigÇtu»"

	)

2035 
	#NID_r§SigÇtu»
 377

	)

2036 
	#OBJ_r§SigÇtu»
 
OBJ_®gÜ™hm
,11L

	)

2038 
	#SN_d§_2
 "DSA-Şd"

	)

2039 
	#LN_d§_2
 "d§Enüy±iÚ-Şd"

	)

2040 
	#NID_d§_2
 67

	)

2041 
	#OBJ_d§_2
 
OBJ_®gÜ™hm
,12L

	)

2043 
	#SN_d§W™hSHA
 "DSA-SHA"

	)

2044 
	#LN_d§W™hSHA
 "d§W™hSHA"

	)

2045 
	#NID_d§W™hSHA
 66

	)

2046 
	#OBJ_d§W™hSHA
 
OBJ_®gÜ™hm
,13L

	)

2048 
	#SN_shaW™hRSAEnüy±iÚ
 "RSA-SHA"

	)

2049 
	#LN_shaW™hRSAEnüy±iÚ
 "shaW™hRSAEnüy±iÚ"

	)

2050 
	#NID_shaW™hRSAEnüy±iÚ
 42

	)

2051 
	#OBJ_shaW™hRSAEnüy±iÚ
 
OBJ_®gÜ™hm
,15L

	)

2053 
	#SN_des_ede_ecb
 "DES-EDE"

	)

2054 
	#LN_des_ede_ecb
 "des-ede"

	)

2055 
	#NID_des_ede_ecb
 32

	)

2056 
	#OBJ_des_ede_ecb
 
OBJ_®gÜ™hm
,17L

	)

2058 
	#SN_des_ede3_ecb
 "DES-EDE3"

	)

2059 
	#LN_des_ede3_ecb
 "des-ede3"

	)

2060 
	#NID_des_ede3_ecb
 33

	)

2062 
	#SN_des_ede_cbc
 "DES-EDE-CBC"

	)

2063 
	#LN_des_ede_cbc
 "des-ede-cbc"

	)

2064 
	#NID_des_ede_cbc
 43

	)

2066 
	#SN_des_ede_cfb64
 "DES-EDE-CFB"

	)

2067 
	#LN_des_ede_cfb64
 "des-ede-cfb"

	)

2068 
	#NID_des_ede_cfb64
 60

	)

2070 
	#SN_des_ede3_cfb64
 "DES-EDE3-CFB"

	)

2071 
	#LN_des_ede3_cfb64
 "des-ede3-cfb"

	)

2072 
	#NID_des_ede3_cfb64
 61

	)

2074 
	#SN_des_ede_ofb64
 "DES-EDE-OFB"

	)

2075 
	#LN_des_ede_ofb64
 "des-ede-ofb"

	)

2076 
	#NID_des_ede_ofb64
 62

	)

2078 
	#SN_des_ede3_ofb64
 "DES-EDE3-OFB"

	)

2079 
	#LN_des_ede3_ofb64
 "des-ede3-ofb"

	)

2080 
	#NID_des_ede3_ofb64
 63

	)

2082 
	#SN_desx_cbc
 "DESX-CBC"

	)

2083 
	#LN_desx_cbc
 "desx-cbc"

	)

2084 
	#NID_desx_cbc
 80

	)

2086 
	#SN_sha
 "SHA"

	)

2087 
	#LN_sha
 "sha"

	)

2088 
	#NID_sha
 41

	)

2089 
	#OBJ_sha
 
OBJ_®gÜ™hm
,18L

	)

2091 
	#SN_sha1
 "SHA1"

	)

2092 
	#LN_sha1
 "sha1"

	)

2093 
	#NID_sha1
 64

	)

2094 
	#OBJ_sha1
 
OBJ_®gÜ™hm
,26L

	)

2096 
	#SN_d§W™hSHA1_2
 "DSA-SHA1-Şd"

	)

2097 
	#LN_d§W™hSHA1_2
 "d§W™hSHA1-Şd"

	)

2098 
	#NID_d§W™hSHA1_2
 70

	)

2099 
	#OBJ_d§W™hSHA1_2
 
OBJ_®gÜ™hm
,27L

	)

2101 
	#SN_sha1W™hRSA
 "RSA-SHA1-2"

	)

2102 
	#LN_sha1W™hRSA
 "sha1W™hRSA"

	)

2103 
	#NID_sha1W™hRSA
 115

	)

2104 
	#OBJ_sha1W™hRSA
 
OBJ_®gÜ™hm
,29L

	)

2106 
	#SN_remd160
 "RIPEMD160"

	)

2107 
	#LN_remd160
 "remd160"

	)

2108 
	#NID_remd160
 117

	)

2109 
	#OBJ_remd160
 1L,3L,36L,3L,2L,1L

	)

2111 
	#SN_remd160W™hRSA
 "RSA-RIPEMD160"

	)

2112 
	#LN_remd160W™hRSA
 "remd160W™hRSA"

	)

2113 
	#NID_remd160W™hRSA
 119

	)

2114 
	#OBJ_remd160W™hRSA
 1L,3L,36L,3L,3L,1L,2L

	)

2116 
	#SN_bÏke2b512
 "BLAKE2b512"

	)

2117 
	#LN_bÏke2b512
 "bÏke2b512"

	)

2118 
	#NID_bÏke2b512
 1056

	)

2119 
	#OBJ_bÏke2b512
 1L,3L,6L,1L,4L,1L,1722L,12L,2L,1L,16L

	)

2121 
	#SN_bÏke2s256
 "BLAKE2s256"

	)

2122 
	#LN_bÏke2s256
 "bÏke2s256"

	)

2123 
	#NID_bÏke2s256
 1057

	)

2124 
	#OBJ_bÏke2s256
 1L,3L,6L,1L,4L,1L,1722L,12L,2L,2L,8L

	)

2126 
	#SN_sxÃt
 "SXN‘ID"

	)

2127 
	#LN_sxÃt
 "SŒÚg ExŒª‘ ID"

	)

2128 
	#NID_sxÃt
 143

	)

2129 
	#OBJ_sxÃt
 1L,3L,101L,1L,4L,1L

	)

2131 
	#SN_X500
 "X500"

	)

2132 
	#LN_X500
 "dœeùÜy s”viû (X.500)"

	)

2133 
	#NID_X500
 11

	)

2134 
	#OBJ_X500
 2L,5L

	)

2136 
	#SN_X509
 "X509"

	)

2137 
	#NID_X509
 12

	)

2138 
	#OBJ_X509
 
OBJ_X500
,4L

	)

2140 
	#SN_commÚName
 "CN"

	)

2141 
	#LN_commÚName
 "commÚName"

	)

2142 
	#NID_commÚName
 13

	)

2143 
	#OBJ_commÚName
 
OBJ_X509
,3L

	)

2145 
	#SN_suºame
 "SN"

	)

2146 
	#LN_suºame
 "suºame"

	)

2147 
	#NID_suºame
 100

	)

2148 
	#OBJ_suºame
 
OBJ_X509
,4L

	)

2150 
	#LN_£rŸlNumb”
 "£rŸlNumb”"

	)

2151 
	#NID_£rŸlNumb”
 105

	)

2152 
	#OBJ_£rŸlNumb”
 
OBJ_X509
,5L

	)

2154 
	#SN_couÁryName
 "C"

	)

2155 
	#LN_couÁryName
 "couÁryName"

	)

2156 
	#NID_couÁryName
 14

	)

2157 
	#OBJ_couÁryName
 
OBJ_X509
,6L

	)

2159 
	#SN_loÿl™yName
 "L"

	)

2160 
	#LN_loÿl™yName
 "loÿl™yName"

	)

2161 
	#NID_loÿl™yName
 15

	)

2162 
	#OBJ_loÿl™yName
 
OBJ_X509
,7L

	)

2164 
	#SN_¡©eOrProvšûName
 "ST"

	)

2165 
	#LN_¡©eOrProvšûName
 "¡©eOrProvšûName"

	)

2166 
	#NID_¡©eOrProvšûName
 16

	)

2167 
	#OBJ_¡©eOrProvšûName
 
OBJ_X509
,8L

	)

2169 
	#SN_¡»‘Add»ss
 "¡»‘"

	)

2170 
	#LN_¡»‘Add»ss
 "¡»‘Add»ss"

	)

2171 
	#NID_¡»‘Add»ss
 660

	)

2172 
	#OBJ_¡»‘Add»ss
 
OBJ_X509
,9L

	)

2174 
	#SN_Ügªiz©iÚName
 "O"

	)

2175 
	#LN_Ügªiz©iÚName
 "Ügªiz©iÚName"

	)

2176 
	#NID_Ügªiz©iÚName
 17

	)

2177 
	#OBJ_Ügªiz©iÚName
 
OBJ_X509
,10L

	)

2179 
	#SN_Ügªiz©iÚ®Un™Name
 "OU"

	)

2180 
	#LN_Ügªiz©iÚ®Un™Name
 "Ügªiz©iÚ®Un™Name"

	)

2181 
	#NID_Ügªiz©iÚ®Un™Name
 18

	)

2182 
	#OBJ_Ügªiz©iÚ®Un™Name
 
OBJ_X509
,11L

	)

2184 
	#SN_t™Ë
 "t™Ë"

	)

2185 
	#LN_t™Ë
 "t™Ë"

	)

2186 
	#NID_t™Ë
 106

	)

2187 
	#OBJ_t™Ë
 
OBJ_X509
,12L

	)

2189 
	#LN_desütiÚ
 "desütiÚ"

	)

2190 
	#NID_desütiÚ
 107

	)

2191 
	#OBJ_desütiÚ
 
OBJ_X509
,13L

	)

2193 
	#LN_£¬chGuide
 "£¬chGuide"

	)

2194 
	#NID_£¬chGuide
 859

	)

2195 
	#OBJ_£¬chGuide
 
OBJ_X509
,14L

	)

2197 
	#LN_busšessC©egÜy
 "busšessC©egÜy"

	)

2198 
	#NID_busšessC©egÜy
 860

	)

2199 
	#OBJ_busšessC©egÜy
 
OBJ_X509
,15L

	)

2201 
	#LN_po¡®Add»ss
 "po¡®Add»ss"

	)

2202 
	#NID_po¡®Add»ss
 861

	)

2203 
	#OBJ_po¡®Add»ss
 
OBJ_X509
,16L

	)

2205 
	#LN_po¡®Code
 "po¡®Code"

	)

2206 
	#NID_po¡®Code
 661

	)

2207 
	#OBJ_po¡®Code
 
OBJ_X509
,17L

	)

2209 
	#LN_po¡OffiûBox
 "po¡OffiûBox"

	)

2210 
	#NID_po¡OffiûBox
 862

	)

2211 
	#OBJ_po¡OffiûBox
 
OBJ_X509
,18L

	)

2213 
	#LN_physiÿlD–iv”yOffiûName
 "physiÿlD–iv”yOffiûName"

	)

2214 
	#NID_physiÿlD–iv”yOffiûName
 863

	)

2215 
	#OBJ_physiÿlD–iv”yOffiûName
 
OBJ_X509
,19L

	)

2217 
	#LN_‹ËphÚeNumb”
 "‹ËphÚeNumb”"

	)

2218 
	#NID_‹ËphÚeNumb”
 864

	)

2219 
	#OBJ_‹ËphÚeNumb”
 
OBJ_X509
,20L

	)

2221 
	#LN_‹ËxNumb”
 "‹ËxNumb”"

	)

2222 
	#NID_‹ËxNumb”
 865

	)

2223 
	#OBJ_‹ËxNumb”
 
OBJ_X509
,21L

	)

2225 
	#LN_‹Ë‹xT”mš®Id’tif›r
 "‹Ë‹xT”mš®Id’tif›r"

	)

2226 
	#NID_‹Ë‹xT”mš®Id’tif›r
 866

	)

2227 
	#OBJ_‹Ë‹xT”mš®Id’tif›r
 
OBJ_X509
,22L

	)

2229 
	#LN_çcsimeT–•hÚeNumb”
 "çcsimeT–•hÚeNumb”"

	)

2230 
	#NID_çcsimeT–•hÚeNumb”
 867

	)

2231 
	#OBJ_çcsimeT–•hÚeNumb”
 
OBJ_X509
,23L

	)

2233 
	#LN_x121Add»ss
 "x121Add»ss"

	)

2234 
	#NID_x121Add»ss
 868

	)

2235 
	#OBJ_x121Add»ss
 
OBJ_X509
,24L

	)

2237 
	#LN_š‹º©iÚ®iSDNNumb”
 "š‹º©iÚ®iSDNNumb”"

	)

2238 
	#NID_š‹º©iÚ®iSDNNumb”
 869

	)

2239 
	#OBJ_š‹º©iÚ®iSDNNumb”
 
OBJ_X509
,25L

	)

2241 
	#LN_»gi¡”edAdd»ss
 "»gi¡”edAdd»ss"

	)

2242 
	#NID_»gi¡”edAdd»ss
 870

	)

2243 
	#OBJ_»gi¡”edAdd»ss
 
OBJ_X509
,26L

	)

2245 
	#LN_de¡š©iÚIndiÿtÜ
 "de¡š©iÚIndiÿtÜ"

	)

2246 
	#NID_de¡š©iÚIndiÿtÜ
 871

	)

2247 
	#OBJ_de¡š©iÚIndiÿtÜ
 
OBJ_X509
,27L

	)

2249 
	#LN_´eã¼edD–iv”yM‘hod
 "´eã¼edD–iv”yM‘hod"

	)

2250 
	#NID_´eã¼edD–iv”yM‘hod
 872

	)

2251 
	#OBJ_´eã¼edD–iv”yM‘hod
 
OBJ_X509
,28L

	)

2253 
	#LN_´e£Á©iÚAdd»ss
 "´e£Á©iÚAdd»ss"

	)

2254 
	#NID_´e£Á©iÚAdd»ss
 873

	)

2255 
	#OBJ_´e£Á©iÚAdd»ss
 
OBJ_X509
,29L

	)

2257 
	#LN_suµÜ‹dAµliÿtiÚCÚ‹xt
 "suµÜ‹dAµliÿtiÚCÚ‹xt"

	)

2258 
	#NID_suµÜ‹dAµliÿtiÚCÚ‹xt
 874

	)

2259 
	#OBJ_suµÜ‹dAµliÿtiÚCÚ‹xt
 
OBJ_X509
,30L

	)

2261 
	#SN_memb”
 "memb”"

	)

2262 
	#NID_memb”
 875

	)

2263 
	#OBJ_memb”
 
OBJ_X509
,31L

	)

2265 
	#SN_owÃr
 "owÃr"

	)

2266 
	#NID_owÃr
 876

	)

2267 
	#OBJ_owÃr
 
OBJ_X509
,32L

	)

2269 
	#LN_rŞeOccu·Á
 "rŞeOccu·Á"

	)

2270 
	#NID_rŞeOccu·Á
 877

	)

2271 
	#OBJ_rŞeOccu·Á
 
OBJ_X509
,33L

	)

2273 
	#SN_£eAlso
 "£eAlso"

	)

2274 
	#NID_£eAlso
 878

	)

2275 
	#OBJ_£eAlso
 
OBJ_X509
,34L

	)

2277 
	#LN_u£rPasswÜd
 "u£rPasswÜd"

	)

2278 
	#NID_u£rPasswÜd
 879

	)

2279 
	#OBJ_u£rPasswÜd
 
OBJ_X509
,35L

	)

2281 
	#LN_u£rC”tifiÿ‹
 "u£rC”tifiÿ‹"

	)

2282 
	#NID_u£rC”tifiÿ‹
 880

	)

2283 
	#OBJ_u£rC”tifiÿ‹
 
OBJ_X509
,36L

	)

2285 
	#LN_cAC”tifiÿ‹
 "cAC”tifiÿ‹"

	)

2286 
	#NID_cAC”tifiÿ‹
 881

	)

2287 
	#OBJ_cAC”tifiÿ‹
 
OBJ_X509
,37L

	)

2289 
	#LN_authÜ™yRevoÿtiÚLi¡
 "authÜ™yRevoÿtiÚLi¡"

	)

2290 
	#NID_authÜ™yRevoÿtiÚLi¡
 882

	)

2291 
	#OBJ_authÜ™yRevoÿtiÚLi¡
 
OBJ_X509
,38L

	)

2293 
	#LN_û¹ifiÿ‹RevoÿtiÚLi¡
 "û¹ifiÿ‹RevoÿtiÚLi¡"

	)

2294 
	#NID_û¹ifiÿ‹RevoÿtiÚLi¡
 883

	)

2295 
	#OBJ_û¹ifiÿ‹RevoÿtiÚLi¡
 
OBJ_X509
,39L

	)

2297 
	#LN_üossC”tifiÿ‹Paœ
 "üossC”tifiÿ‹Paœ"

	)

2298 
	#NID_üossC”tifiÿ‹Paœ
 884

	)

2299 
	#OBJ_üossC”tifiÿ‹Paœ
 
OBJ_X509
,40L

	)

2301 
	#SN_Çme
 "Çme"

	)

2302 
	#LN_Çme
 "Çme"

	)

2303 
	#NID_Çme
 173

	)

2304 
	#OBJ_Çme
 
OBJ_X509
,41L

	)

2306 
	#SN_giv’Name
 "GN"

	)

2307 
	#LN_giv’Name
 "giv’Name"

	)

2308 
	#NID_giv’Name
 99

	)

2309 
	#OBJ_giv’Name
 
OBJ_X509
,42L

	)

2311 
	#SN_š™Ÿls
 "š™Ÿls"

	)

2312 
	#LN_š™Ÿls
 "š™Ÿls"

	)

2313 
	#NID_š™Ÿls
 101

	)

2314 
	#OBJ_š™Ÿls
 
OBJ_X509
,43L

	)

2316 
	#LN_g’”©iÚQu®if›r
 "g’”©iÚQu®if›r"

	)

2317 
	#NID_g’”©iÚQu®if›r
 509

	)

2318 
	#OBJ_g’”©iÚQu®if›r
 
OBJ_X509
,44L

	)

2320 
	#LN_x500UniqueId’tif›r
 "x500UniqueId’tif›r"

	)

2321 
	#NID_x500UniqueId’tif›r
 503

	)

2322 
	#OBJ_x500UniqueId’tif›r
 
OBJ_X509
,45L

	)

2324 
	#SN_dnQu®if›r
 "dnQu®if›r"

	)

2325 
	#LN_dnQu®if›r
 "dnQu®if›r"

	)

2326 
	#NID_dnQu®if›r
 174

	)

2327 
	#OBJ_dnQu®if›r
 
OBJ_X509
,46L

	)

2329 
	#LN_’hªûdS—rchGuide
 "’hªûdS—rchGuide"

	)

2330 
	#NID_’hªûdS—rchGuide
 885

	)

2331 
	#OBJ_’hªûdS—rchGuide
 
OBJ_X509
,47L

	)

2333 
	#LN_´ÙocŞInfÜm©iÚ
 "´ÙocŞInfÜm©iÚ"

	)

2334 
	#NID_´ÙocŞInfÜm©iÚ
 886

	)

2335 
	#OBJ_´ÙocŞInfÜm©iÚ
 
OBJ_X509
,48L

	)

2337 
	#LN_di¡šguishedName
 "di¡šguishedName"

	)

2338 
	#NID_di¡šguishedName
 887

	)

2339 
	#OBJ_di¡šguishedName
 
OBJ_X509
,49L

	)

2341 
	#LN_uniqueMemb”
 "uniqueMemb”"

	)

2342 
	#NID_uniqueMemb”
 888

	)

2343 
	#OBJ_uniqueMemb”
 
OBJ_X509
,50L

	)

2345 
	#LN_hou£Id’tif›r
 "hou£Id’tif›r"

	)

2346 
	#NID_hou£Id’tif›r
 889

	)

2347 
	#OBJ_hou£Id’tif›r
 
OBJ_X509
,51L

	)

2349 
	#LN_suµÜ‹dAlgÜ™hms
 "suµÜ‹dAlgÜ™hms"

	)

2350 
	#NID_suµÜ‹dAlgÜ™hms
 890

	)

2351 
	#OBJ_suµÜ‹dAlgÜ™hms
 
OBJ_X509
,52L

	)

2353 
	#LN_d–RevoÿtiÚLi¡
 "d–RevoÿtiÚLi¡"

	)

2354 
	#NID_d–RevoÿtiÚLi¡
 891

	)

2355 
	#OBJ_d–RevoÿtiÚLi¡
 
OBJ_X509
,53L

	)

2357 
	#SN_dmdName
 "dmdName"

	)

2358 
	#NID_dmdName
 892

	)

2359 
	#OBJ_dmdName
 
OBJ_X509
,54L

	)

2361 
	#LN_p£udÚym
 "p£udÚym"

	)

2362 
	#NID_p£udÚym
 510

	)

2363 
	#OBJ_p£udÚym
 
OBJ_X509
,65L

	)

2365 
	#SN_rŞe
 "rŞe"

	)

2366 
	#LN_rŞe
 "rŞe"

	)

2367 
	#NID_rŞe
 400

	)

2368 
	#OBJ_rŞe
 
OBJ_X509
,72L

	)

2370 
	#LN_Ügªiz©iÚId’tif›r
 "Ügªiz©iÚId’tif›r"

	)

2371 
	#NID_Ügªiz©iÚId’tif›r
 1089

	)

2372 
	#OBJ_Ügªiz©iÚId’tif›r
 
OBJ_X509
,97L

	)

2374 
	#SN_couÁryCode3c
 "c3"

	)

2375 
	#LN_couÁryCode3c
 "couÁryCode3c"

	)

2376 
	#NID_couÁryCode3c
 1090

	)

2377 
	#OBJ_couÁryCode3c
 
OBJ_X509
,98L

	)

2379 
	#SN_couÁryCode3n
 "n3"

	)

2380 
	#LN_couÁryCode3n
 "couÁryCode3n"

	)

2381 
	#NID_couÁryCode3n
 1091

	)

2382 
	#OBJ_couÁryCode3n
 
OBJ_X509
,99L

	)

2384 
	#LN_dnsName
 "dnsName"

	)

2385 
	#NID_dnsName
 1092

	)

2386 
	#OBJ_dnsName
 
OBJ_X509
,100L

	)

2388 
	#SN_X500®gÜ™hms
 "X500®gÜ™hms"

	)

2389 
	#LN_X500®gÜ™hms
 "dœeùÜy s”viû -‡lgÜ™hms"

	)

2390 
	#NID_X500®gÜ™hms
 378

	)

2391 
	#OBJ_X500®gÜ™hms
 
OBJ_X500
,8L

	)

2393 
	#SN_r§
 "RSA"

	)

2394 
	#LN_r§
 "r§"

	)

2395 
	#NID_r§
 19

	)

2396 
	#OBJ_r§
 
OBJ_X500®gÜ™hms
,1L,1L

	)

2398 
	#SN_mdc2W™hRSA
 "RSA-MDC2"

	)

2399 
	#LN_mdc2W™hRSA
 "mdc2W™hRSA"

	)

2400 
	#NID_mdc2W™hRSA
 96

	)

2401 
	#OBJ_mdc2W™hRSA
 
OBJ_X500®gÜ™hms
,3L,100L

	)

2403 
	#SN_mdc2
 "MDC2"

	)

2404 
	#LN_mdc2
 "mdc2"

	)

2405 
	#NID_mdc2
 95

	)

2406 
	#OBJ_mdc2
 
OBJ_X500®gÜ™hms
,3L,101L

	)

2408 
	#SN_id_û
 "id-û"

	)

2409 
	#NID_id_û
 81

	)

2410 
	#OBJ_id_û
 
OBJ_X500
,29L

	)

2412 
	#SN_subjeù_dœeùÜy_©Œibu‹s
 "subjeùDœeùÜyA‰ribu‹s"

	)

2413 
	#LN_subjeù_dœeùÜy_©Œibu‹s
 "X509v3 Subjeù DœeùÜy A‰ribu‹s"

	)

2414 
	#NID_subjeù_dœeùÜy_©Œibu‹s
 769

	)

2415 
	#OBJ_subjeù_dœeùÜy_©Œibu‹s
 
OBJ_id_û
,9L

	)

2417 
	#SN_subjeù_key_id’tif›r
 "subjeùKeyId’tif›r"

	)

2418 
	#LN_subjeù_key_id’tif›r
 "X509v3 Subjeù Key Id’tif›r"

	)

2419 
	#NID_subjeù_key_id’tif›r
 82

	)

2420 
	#OBJ_subjeù_key_id’tif›r
 
OBJ_id_û
,14L

	)

2422 
	#SN_key_u§ge
 "keyU§ge"

	)

2423 
	#LN_key_u§ge
 "X509v3 Key U§ge"

	)

2424 
	#NID_key_u§ge
 83

	)

2425 
	#OBJ_key_u§ge
 
OBJ_id_û
,15L

	)

2427 
	#SN_´iv©e_key_u§ge_³riod
 "´iv©eKeyU§geP”iod"

	)

2428 
	#LN_´iv©e_key_u§ge_³riod
 "X509v3 Priv©Key U§gP”iod"

	)

2429 
	#NID_´iv©e_key_u§ge_³riod
 84

	)

2430 
	#OBJ_´iv©e_key_u§ge_³riod
 
OBJ_id_û
,16L

	)

2432 
	#SN_subjeù_®t_Çme
 "subjeùAÉName"

	)

2433 
	#LN_subjeù_®t_Çme
 "X509v3 Subjeù AÉ”ÇtivName"

	)

2434 
	#NID_subjeù_®t_Çme
 85

	)

2435 
	#OBJ_subjeù_®t_Çme
 
OBJ_id_û
,17L

	)

2437 
	#SN_issu”_®t_Çme
 "issu”AÉName"

	)

2438 
	#LN_issu”_®t_Çme
 "X509v3 Issu” AÉ”ÇtivName"

	)

2439 
	#NID_issu”_®t_Çme
 86

	)

2440 
	#OBJ_issu”_®t_Çme
 
OBJ_id_û
,18L

	)

2442 
	#SN_basic_cÚ¡¿šts
 "basicCÚ¡¿šts"

	)

2443 
	#LN_basic_cÚ¡¿šts
 "X509v3 BasiøCÚ¡¿šts"

	)

2444 
	#NID_basic_cÚ¡¿šts
 87

	)

2445 
	#OBJ_basic_cÚ¡¿šts
 
OBJ_id_û
,19L

	)

2447 
	#SN_ül_numb”
 "ülNumb”"

	)

2448 
	#LN_ül_numb”
 "X509v3 CRL Numb”"

	)

2449 
	#NID_ül_numb”
 88

	)

2450 
	#OBJ_ül_numb”
 
OBJ_id_û
,20L

	)

2452 
	#SN_ül_»asÚ
 "CRLR—sÚ"

	)

2453 
	#LN_ül_»asÚ
 "X509v3 CRL R—sÚ Code"

	)

2454 
	#NID_ül_»asÚ
 141

	)

2455 
	#OBJ_ül_»asÚ
 
OBJ_id_û
,21L

	)

2457 
	#SN_šv®id™y_d©e
 "šv®id™yD©e"

	)

2458 
	#LN_šv®id™y_d©e
 "Inv®id™y D©e"

	)

2459 
	#NID_šv®id™y_d©e
 142

	)

2460 
	#OBJ_šv®id™y_d©e
 
OBJ_id_û
,24L

	)

2462 
	#SN_d–_ül
 "d–CRL"

	)

2463 
	#LN_d–_ül
 "X509v3 D– CRL IndiÿtÜ"

	)

2464 
	#NID_d–_ül
 140

	)

2465 
	#OBJ_d–_ül
 
OBJ_id_û
,27L

	)

2467 
	#SN_issušg_di¡ributiÚ_pošt
 "issušgDi¡ributiÚPošt"

	)

2468 
	#LN_issušg_di¡ributiÚ_pošt
 "X509v3 Issušg Di¡ributiÚ Pošt"

	)

2469 
	#NID_issušg_di¡ributiÚ_pošt
 770

	)

2470 
	#OBJ_issušg_di¡ributiÚ_pošt
 
OBJ_id_û
,28L

	)

2472 
	#SN_û¹ifiÿ‹_issu”
 "û¹ifiÿ‹Issu”"

	)

2473 
	#LN_û¹ifiÿ‹_issu”
 "X509v3 C”tifiÿ‹ Issu”"

	)

2474 
	#NID_û¹ifiÿ‹_issu”
 771

	)

2475 
	#OBJ_û¹ifiÿ‹_issu”
 
OBJ_id_û
,29L

	)

2477 
	#SN_Çme_cÚ¡¿šts
 "ÇmeCÚ¡¿šts"

	)

2478 
	#LN_Çme_cÚ¡¿šts
 "X509v3 NamCÚ¡¿šts"

	)

2479 
	#NID_Çme_cÚ¡¿šts
 666

	)

2480 
	#OBJ_Çme_cÚ¡¿šts
 
OBJ_id_û
,30L

	)

2482 
	#SN_ül_di¡ributiÚ_pošts
 "ülDi¡ributiÚPošts"

	)

2483 
	#LN_ül_di¡ributiÚ_pošts
 "X509v3 CRL Di¡ributiÚ Pošts"

	)

2484 
	#NID_ül_di¡ributiÚ_pošts
 103

	)

2485 
	#OBJ_ül_di¡ributiÚ_pošts
 
OBJ_id_û
,31L

	)

2487 
	#SN_û¹ifiÿ‹_pŞic›s
 "û¹ifiÿ‹PŞic›s"

	)

2488 
	#LN_û¹ifiÿ‹_pŞic›s
 "X509v3 C”tifiÿ‹ PŞic›s"

	)

2489 
	#NID_û¹ifiÿ‹_pŞic›s
 89

	)

2490 
	#OBJ_û¹ifiÿ‹_pŞic›s
 
OBJ_id_û
,32L

	)

2492 
	#SN_ªy_pŞicy
 "ªyPŞicy"

	)

2493 
	#LN_ªy_pŞicy
 "X509v3 Any PŞicy"

	)

2494 
	#NID_ªy_pŞicy
 746

	)

2495 
	#OBJ_ªy_pŞicy
 
OBJ_û¹ifiÿ‹_pŞic›s
,0L

	)

2497 
	#SN_pŞicy_m­pšgs
 "pŞicyM­pšgs"

	)

2498 
	#LN_pŞicy_m­pšgs
 "X509v3 PŞicy M­pšgs"

	)

2499 
	#NID_pŞicy_m­pšgs
 747

	)

2500 
	#OBJ_pŞicy_m­pšgs
 
OBJ_id_û
,33L

	)

2502 
	#SN_authÜ™y_key_id’tif›r
 "authÜ™yKeyId’tif›r"

	)

2503 
	#LN_authÜ™y_key_id’tif›r
 "X509v3 AuthÜ™y Key Id’tif›r"

	)

2504 
	#NID_authÜ™y_key_id’tif›r
 90

	)

2505 
	#OBJ_authÜ™y_key_id’tif›r
 
OBJ_id_û
,35L

	)

2507 
	#SN_pŞicy_cÚ¡¿šts
 "pŞicyCÚ¡¿šts"

	)

2508 
	#LN_pŞicy_cÚ¡¿šts
 "X509v3 PŞicy CÚ¡¿šts"

	)

2509 
	#NID_pŞicy_cÚ¡¿šts
 401

	)

2510 
	#OBJ_pŞicy_cÚ¡¿šts
 
OBJ_id_û
,36L

	)

2512 
	#SN_ext_key_u§ge
 "ex‹ndedKeyU§ge"

	)

2513 
	#LN_ext_key_u§ge
 "X509v3 Ex‹nded Key U§ge"

	)

2514 
	#NID_ext_key_u§ge
 126

	)

2515 
	#OBJ_ext_key_u§ge
 
OBJ_id_û
,37L

	)

2517 
	#SN_äeshe¡_ül
 "äeshe¡CRL"

	)

2518 
	#LN_äeshe¡_ül
 "X509v3 F»she¡ CRL"

	)

2519 
	#NID_äeshe¡_ül
 857

	)

2520 
	#OBJ_äeshe¡_ül
 
OBJ_id_û
,46L

	)

2522 
	#SN_šhib™_ªy_pŞicy
 "šhib™AnyPŞicy"

	)

2523 
	#LN_šhib™_ªy_pŞicy
 "X509v3 Inhib™ Any PŞicy"

	)

2524 
	#NID_šhib™_ªy_pŞicy
 748

	)

2525 
	#OBJ_šhib™_ªy_pŞicy
 
OBJ_id_û
,54L

	)

2527 
	#SN_rg‘_šfÜm©iÚ
 "rg‘InfÜm©iÚ"

	)

2528 
	#LN_rg‘_šfÜm©iÚ
 "X509v3 AC T¬g‘šg"

	)

2529 
	#NID_rg‘_šfÜm©iÚ
 402

	)

2530 
	#OBJ_rg‘_šfÜm©iÚ
 
OBJ_id_û
,55L

	)

2532 
	#SN_no_»v_ava
 "noRevAva"

	)

2533 
	#LN_no_»v_ava
 "X509v3 NØRevoÿtiÚ AvaabË"

	)

2534 
	#NID_no_»v_ava
 403

	)

2535 
	#OBJ_no_»v_ava
 
OBJ_id_û
,56L

	)

2537 
	#SN_ªyEx‹ndedKeyU§ge
 "ªyEx‹ndedKeyU§ge"

	)

2538 
	#LN_ªyEx‹ndedKeyU§ge
 "Any Ex‹nded Key U§ge"

	)

2539 
	#NID_ªyEx‹ndedKeyU§ge
 910

	)

2540 
	#OBJ_ªyEx‹ndedKeyU§ge
 
OBJ_ext_key_u§ge
,0L

	)

2542 
	#SN_Ãtsÿ³
 "N‘sÿ³"

	)

2543 
	#LN_Ãtsÿ³
 "N‘sÿ³ CommuniÿtiÚ CÜp."

	)

2544 
	#NID_Ãtsÿ³
 57

	)

2545 
	#OBJ_Ãtsÿ³
 2L,16L,840L,1L,113730L

	)

2547 
	#SN_Ãtsÿ³_û¹_ex‹nsiÚ
 "nsC”tExt"

	)

2548 
	#LN_Ãtsÿ³_û¹_ex‹nsiÚ
 "N‘sÿ³ C”tifiÿ‹ Ex‹nsiÚ"

	)

2549 
	#NID_Ãtsÿ³_û¹_ex‹nsiÚ
 58

	)

2550 
	#OBJ_Ãtsÿ³_û¹_ex‹nsiÚ
 
OBJ_Ãtsÿ³
,1L

	)

2552 
	#SN_Ãtsÿ³_d©a_ty³
 "nsD©aTy³"

	)

2553 
	#LN_Ãtsÿ³_d©a_ty³
 "N‘sÿ³ D©¨Ty³"

	)

2554 
	#NID_Ãtsÿ³_d©a_ty³
 59

	)

2555 
	#OBJ_Ãtsÿ³_d©a_ty³
 
OBJ_Ãtsÿ³
,2L

	)

2557 
	#SN_Ãtsÿ³_û¹_ty³
 "nsC”tTy³"

	)

2558 
	#LN_Ãtsÿ³_û¹_ty³
 "N‘sÿ³ C”ˆTy³"

	)

2559 
	#NID_Ãtsÿ³_û¹_ty³
 71

	)

2560 
	#OBJ_Ãtsÿ³_û¹_ty³
 
OBJ_Ãtsÿ³_û¹_ex‹nsiÚ
,1L

	)

2562 
	#SN_Ãtsÿ³_ba£_u¾
 "nsBa£U¾"

	)

2563 
	#LN_Ãtsÿ³_ba£_u¾
 "N‘sÿ³ Ba£ U¾"

	)

2564 
	#NID_Ãtsÿ³_ba£_u¾
 72

	)

2565 
	#OBJ_Ãtsÿ³_ba£_u¾
 
OBJ_Ãtsÿ³_û¹_ex‹nsiÚ
,2L

	)

2567 
	#SN_Ãtsÿ³_»voÿtiÚ_u¾
 "nsRevoÿtiÚU¾"

	)

2568 
	#LN_Ãtsÿ³_»voÿtiÚ_u¾
 "N‘sÿ³ RevoÿtiÚ U¾"

	)

2569 
	#NID_Ãtsÿ³_»voÿtiÚ_u¾
 73

	)

2570 
	#OBJ_Ãtsÿ³_»voÿtiÚ_u¾
 
OBJ_Ãtsÿ³_û¹_ex‹nsiÚ
,3L

	)

2572 
	#SN_Ãtsÿ³_ÿ_»voÿtiÚ_u¾
 "nsCaRevoÿtiÚU¾"

	)

2573 
	#LN_Ãtsÿ³_ÿ_»voÿtiÚ_u¾
 "N‘sÿ³ CA RevoÿtiÚ U¾"

	)

2574 
	#NID_Ãtsÿ³_ÿ_»voÿtiÚ_u¾
 74

	)

2575 
	#OBJ_Ãtsÿ³_ÿ_»voÿtiÚ_u¾
 
OBJ_Ãtsÿ³_û¹_ex‹nsiÚ
,4L

	)

2577 
	#SN_Ãtsÿ³_»Ãw®_u¾
 "nsR’ew®U¾"

	)

2578 
	#LN_Ãtsÿ³_»Ãw®_u¾
 "N‘sÿ³ R’ew® U¾"

	)

2579 
	#NID_Ãtsÿ³_»Ãw®_u¾
 75

	)

2580 
	#OBJ_Ãtsÿ³_»Ãw®_u¾
 
OBJ_Ãtsÿ³_û¹_ex‹nsiÚ
,7L

	)

2582 
	#SN_Ãtsÿ³_ÿ_pŞicy_u¾
 "nsCaPŞicyU¾"

	)

2583 
	#LN_Ãtsÿ³_ÿ_pŞicy_u¾
 "N‘sÿ³ CA PŞicy U¾"

	)

2584 
	#NID_Ãtsÿ³_ÿ_pŞicy_u¾
 76

	)

2585 
	#OBJ_Ãtsÿ³_ÿ_pŞicy_u¾
 
OBJ_Ãtsÿ³_û¹_ex‹nsiÚ
,8L

	)

2587 
	#SN_Ãtsÿ³_s¦_£rv”_Çme
 "nsS¦S”v”Name"

	)

2588 
	#LN_Ãtsÿ³_s¦_£rv”_Çme
 "N‘sÿ³ SSL S”v” Name"

	)

2589 
	#NID_Ãtsÿ³_s¦_£rv”_Çme
 77

	)

2590 
	#OBJ_Ãtsÿ³_s¦_£rv”_Çme
 
OBJ_Ãtsÿ³_û¹_ex‹nsiÚ
,12L

	)

2592 
	#SN_Ãtsÿ³_comm’t
 "nsComm’t"

	)

2593 
	#LN_Ãtsÿ³_comm’t
 "N‘sÿ³ Comm’t"

	)

2594 
	#NID_Ãtsÿ³_comm’t
 78

	)

2595 
	#OBJ_Ãtsÿ³_comm’t
 
OBJ_Ãtsÿ³_û¹_ex‹nsiÚ
,13L

	)

2597 
	#SN_Ãtsÿ³_û¹_£qu’û
 "nsC”tSequ’û"

	)

2598 
	#LN_Ãtsÿ³_û¹_£qu’û
 "N‘sÿ³ C”tifiÿ‹ Sequ’û"

	)

2599 
	#NID_Ãtsÿ³_û¹_£qu’û
 79

	)

2600 
	#OBJ_Ãtsÿ³_û¹_£qu’û
 
OBJ_Ãtsÿ³_d©a_ty³
,5L

	)

2602 
	#SN_ns_sgc
 "nsSGC"

	)

2603 
	#LN_ns_sgc
 "N‘sÿ³ S”v” G©ed Cry±o"

	)

2604 
	#NID_ns_sgc
 139

	)

2605 
	#OBJ_ns_sgc
 
OBJ_Ãtsÿ³
,4L,1L

	)

2607 
	#SN_Üg
 "ORG"

	)

2608 
	#LN_Üg
 "Üg"

	)

2609 
	#NID_Üg
 379

	)

2610 
	#OBJ_Üg
 
OBJ_iso
,3L

	)

2612 
	#SN_dod
 "DOD"

	)

2613 
	#LN_dod
 "dod"

	)

2614 
	#NID_dod
 380

	)

2615 
	#OBJ_dod
 
OBJ_Üg
,6L

	)

2617 
	#SN_ŸÇ
 "IANA"

	)

2618 
	#LN_ŸÇ
 "ŸÇ"

	)

2619 
	#NID_ŸÇ
 381

	)

2620 
	#OBJ_ŸÇ
 
OBJ_dod
,1L

	)

2622 
	#OBJ_š‹º‘
 
OBJ_ŸÇ


	)

2624 
	#SN_DœeùÜy
 "dœeùÜy"

	)

2625 
	#LN_DœeùÜy
 "DœeùÜy"

	)

2626 
	#NID_DœeùÜy
 382

	)

2627 
	#OBJ_DœeùÜy
 
OBJ_š‹º‘
,1L

	)

2629 
	#SN_Mªagem’t
 "mgmt"

	)

2630 
	#LN_Mªagem’t
 "Mªagem’t"

	)

2631 
	#NID_Mªagem’t
 383

	)

2632 
	#OBJ_Mªagem’t
 
OBJ_š‹º‘
,2L

	)

2634 
	#SN_Ex³rim’l
 "ex³rim’l"

	)

2635 
	#LN_Ex³rim’l
 "Ex³rim’l"

	)

2636 
	#NID_Ex³rim’l
 384

	)

2637 
	#OBJ_Ex³rim’l
 
OBJ_š‹º‘
,3L

	)

2639 
	#SN_Priv©e
 "´iv©e"

	)

2640 
	#LN_Priv©e
 "Priv©e"

	)

2641 
	#NID_Priv©e
 385

	)

2642 
	#OBJ_Priv©e
 
OBJ_š‹º‘
,4L

	)

2644 
	#SN_Secur™y
 "£cur™y"

	)

2645 
	#LN_Secur™y
 "Secur™y"

	)

2646 
	#NID_Secur™y
 386

	)

2647 
	#OBJ_Secur™y
 
OBJ_š‹º‘
,5L

	)

2649 
	#SN_SNMPv2
 "¢mpv2"

	)

2650 
	#LN_SNMPv2
 "SNMPv2"

	)

2651 
	#NID_SNMPv2
 387

	)

2652 
	#OBJ_SNMPv2
 
OBJ_š‹º‘
,6L

	)

2654 
	#LN_Ma
 "Ma"

	)

2655 
	#NID_Ma
 388

	)

2656 
	#OBJ_Ma
 
OBJ_š‹º‘
,7L

	)

2658 
	#SN_EÁ”´i£s
 "’‹½ri£s"

	)

2659 
	#LN_EÁ”´i£s
 "EÁ”´i£s"

	)

2660 
	#NID_EÁ”´i£s
 389

	)

2661 
	#OBJ_EÁ”´i£s
 
OBJ_Priv©e
,1L

	)

2663 
	#SN_dcObjeù
 "dcobjeù"

	)

2664 
	#LN_dcObjeù
 "dcObjeù"

	)

2665 
	#NID_dcObjeù
 390

	)

2666 
	#OBJ_dcObjeù
 
OBJ_EÁ”´i£s
,1466L,344L

	)

2668 
	#SN_mime_mhs
 "mime-mhs"

	)

2669 
	#LN_mime_mhs
 "MIME MHS"

	)

2670 
	#NID_mime_mhs
 504

	)

2671 
	#OBJ_mime_mhs
 
OBJ_Ma
,1L

	)

2673 
	#SN_mime_mhs_h—dšgs
 "mime-mhs-h—dšgs"

	)

2674 
	#LN_mime_mhs_h—dšgs
 "mime-mhs-h—dšgs"

	)

2675 
	#NID_mime_mhs_h—dšgs
 505

	)

2676 
	#OBJ_mime_mhs_h—dšgs
 
OBJ_mime_mhs
,1L

	)

2678 
	#SN_mime_mhs_bod›s
 "mime-mhs-bod›s"

	)

2679 
	#LN_mime_mhs_bod›s
 "mime-mhs-bod›s"

	)

2680 
	#NID_mime_mhs_bod›s
 506

	)

2681 
	#OBJ_mime_mhs_bod›s
 
OBJ_mime_mhs
,2L

	)

2683 
	#SN_id_hex_·¹Ÿl_mes§ge
 "id-hex-·¹Ÿl-mes§ge"

	)

2684 
	#LN_id_hex_·¹Ÿl_mes§ge
 "id-hex-·¹Ÿl-mes§ge"

	)

2685 
	#NID_id_hex_·¹Ÿl_mes§ge
 507

	)

2686 
	#OBJ_id_hex_·¹Ÿl_mes§ge
 
OBJ_mime_mhs_h—dšgs
,1L

	)

2688 
	#SN_id_hex_muÉ¬t_mes§ge
 "id-hex-muÉ¬t-mes§ge"

	)

2689 
	#LN_id_hex_muÉ¬t_mes§ge
 "id-hex-muÉ¬t-mes§ge"

	)

2690 
	#NID_id_hex_muÉ¬t_mes§ge
 508

	)

2691 
	#OBJ_id_hex_muÉ¬t_mes§ge
 
OBJ_mime_mhs_h—dšgs
,2L

	)

2693 
	#SN_zlib_com´essiÚ
 "ZLIB"

	)

2694 
	#LN_zlib_com´essiÚ
 "zlib com´essiÚ"

	)

2695 
	#NID_zlib_com´essiÚ
 125

	)

2696 
	#OBJ_zlib_com´essiÚ
 
OBJ_id_smime_®g
,8L

	)

2698 
	#OBJ_csÜ
 2L,16L,840L,1L,101L,3L

	)

2700 
	#OBJ_ni¡AlgÜ™hms
 
OBJ_csÜ
,4L

	)

2702 
	#OBJ_«s
 
OBJ_ni¡AlgÜ™hms
,1L

	)

2704 
	#SN_«s_128_ecb
 "AES-128-ECB"

	)

2705 
	#LN_«s_128_ecb
 "«s-128-ecb"

	)

2706 
	#NID_«s_128_ecb
 418

	)

2707 
	#OBJ_«s_128_ecb
 
OBJ_«s
,1L

	)

2709 
	#SN_«s_128_cbc
 "AES-128-CBC"

	)

2710 
	#LN_«s_128_cbc
 "«s-128-cbc"

	)

2711 
	#NID_«s_128_cbc
 419

	)

2712 
	#OBJ_«s_128_cbc
 
OBJ_«s
,2L

	)

2714 
	#SN_«s_128_ofb128
 "AES-128-OFB"

	)

2715 
	#LN_«s_128_ofb128
 "«s-128-ofb"

	)

2716 
	#NID_«s_128_ofb128
 420

	)

2717 
	#OBJ_«s_128_ofb128
 
OBJ_«s
,3L

	)

2719 
	#SN_«s_128_cfb128
 "AES-128-CFB"

	)

2720 
	#LN_«s_128_cfb128
 "«s-128-cfb"

	)

2721 
	#NID_«s_128_cfb128
 421

	)

2722 
	#OBJ_«s_128_cfb128
 
OBJ_«s
,4L

	)

2724 
	#SN_id_«s128_w¿p
 "id-«s128-w¿p"

	)

2725 
	#NID_id_«s128_w¿p
 788

	)

2726 
	#OBJ_id_«s128_w¿p
 
OBJ_«s
,5L

	)

2728 
	#SN_«s_128_gcm
 "id-«s128-GCM"

	)

2729 
	#LN_«s_128_gcm
 "«s-128-gcm"

	)

2730 
	#NID_«s_128_gcm
 895

	)

2731 
	#OBJ_«s_128_gcm
 
OBJ_«s
,6L

	)

2733 
	#SN_«s_128_ccm
 "id-«s128-CCM"

	)

2734 
	#LN_«s_128_ccm
 "«s-128-ccm"

	)

2735 
	#NID_«s_128_ccm
 896

	)

2736 
	#OBJ_«s_128_ccm
 
OBJ_«s
,7L

	)

2738 
	#SN_id_«s128_w¿p_·d
 "id-«s128-w¿p-·d"

	)

2739 
	#NID_id_«s128_w¿p_·d
 897

	)

2740 
	#OBJ_id_«s128_w¿p_·d
 
OBJ_«s
,8L

	)

2742 
	#SN_«s_192_ecb
 "AES-192-ECB"

	)

2743 
	#LN_«s_192_ecb
 "«s-192-ecb"

	)

2744 
	#NID_«s_192_ecb
 422

	)

2745 
	#OBJ_«s_192_ecb
 
OBJ_«s
,21L

	)

2747 
	#SN_«s_192_cbc
 "AES-192-CBC"

	)

2748 
	#LN_«s_192_cbc
 "«s-192-cbc"

	)

2749 
	#NID_«s_192_cbc
 423

	)

2750 
	#OBJ_«s_192_cbc
 
OBJ_«s
,22L

	)

2752 
	#SN_«s_192_ofb128
 "AES-192-OFB"

	)

2753 
	#LN_«s_192_ofb128
 "«s-192-ofb"

	)

2754 
	#NID_«s_192_ofb128
 424

	)

2755 
	#OBJ_«s_192_ofb128
 
OBJ_«s
,23L

	)

2757 
	#SN_«s_192_cfb128
 "AES-192-CFB"

	)

2758 
	#LN_«s_192_cfb128
 "«s-192-cfb"

	)

2759 
	#NID_«s_192_cfb128
 425

	)

2760 
	#OBJ_«s_192_cfb128
 
OBJ_«s
,24L

	)

2762 
	#SN_id_«s192_w¿p
 "id-«s192-w¿p"

	)

2763 
	#NID_id_«s192_w¿p
 789

	)

2764 
	#OBJ_id_«s192_w¿p
 
OBJ_«s
,25L

	)

2766 
	#SN_«s_192_gcm
 "id-«s192-GCM"

	)

2767 
	#LN_«s_192_gcm
 "«s-192-gcm"

	)

2768 
	#NID_«s_192_gcm
 898

	)

2769 
	#OBJ_«s_192_gcm
 
OBJ_«s
,26L

	)

2771 
	#SN_«s_192_ccm
 "id-«s192-CCM"

	)

2772 
	#LN_«s_192_ccm
 "«s-192-ccm"

	)

2773 
	#NID_«s_192_ccm
 899

	)

2774 
	#OBJ_«s_192_ccm
 
OBJ_«s
,27L

	)

2776 
	#SN_id_«s192_w¿p_·d
 "id-«s192-w¿p-·d"

	)

2777 
	#NID_id_«s192_w¿p_·d
 900

	)

2778 
	#OBJ_id_«s192_w¿p_·d
 
OBJ_«s
,28L

	)

2780 
	#SN_«s_256_ecb
 "AES-256-ECB"

	)

2781 
	#LN_«s_256_ecb
 "«s-256-ecb"

	)

2782 
	#NID_«s_256_ecb
 426

	)

2783 
	#OBJ_«s_256_ecb
 
OBJ_«s
,41L

	)

2785 
	#SN_«s_256_cbc
 "AES-256-CBC"

	)

2786 
	#LN_«s_256_cbc
 "«s-256-cbc"

	)

2787 
	#NID_«s_256_cbc
 427

	)

2788 
	#OBJ_«s_256_cbc
 
OBJ_«s
,42L

	)

2790 
	#SN_«s_256_ofb128
 "AES-256-OFB"

	)

2791 
	#LN_«s_256_ofb128
 "«s-256-ofb"

	)

2792 
	#NID_«s_256_ofb128
 428

	)

2793 
	#OBJ_«s_256_ofb128
 
OBJ_«s
,43L

	)

2795 
	#SN_«s_256_cfb128
 "AES-256-CFB"

	)

2796 
	#LN_«s_256_cfb128
 "«s-256-cfb"

	)

2797 
	#NID_«s_256_cfb128
 429

	)

2798 
	#OBJ_«s_256_cfb128
 
OBJ_«s
,44L

	)

2800 
	#SN_id_«s256_w¿p
 "id-«s256-w¿p"

	)

2801 
	#NID_id_«s256_w¿p
 790

	)

2802 
	#OBJ_id_«s256_w¿p
 
OBJ_«s
,45L

	)

2804 
	#SN_«s_256_gcm
 "id-«s256-GCM"

	)

2805 
	#LN_«s_256_gcm
 "«s-256-gcm"

	)

2806 
	#NID_«s_256_gcm
 901

	)

2807 
	#OBJ_«s_256_gcm
 
OBJ_«s
,46L

	)

2809 
	#SN_«s_256_ccm
 "id-«s256-CCM"

	)

2810 
	#LN_«s_256_ccm
 "«s-256-ccm"

	)

2811 
	#NID_«s_256_ccm
 902

	)

2812 
	#OBJ_«s_256_ccm
 
OBJ_«s
,47L

	)

2814 
	#SN_id_«s256_w¿p_·d
 "id-«s256-w¿p-·d"

	)

2815 
	#NID_id_«s256_w¿p_·d
 903

	)

2816 
	#OBJ_id_«s256_w¿p_·d
 
OBJ_«s
,48L

	)

2818 
	#SN_«s_128_xts
 "AES-128-XTS"

	)

2819 
	#LN_«s_128_xts
 "«s-128-xts"

	)

2820 
	#NID_«s_128_xts
 913

	)

2821 
	#OBJ_«s_128_xts
 
OBJ_›“_siswg
,0L,1L,1L

	)

2823 
	#SN_«s_256_xts
 "AES-256-XTS"

	)

2824 
	#LN_«s_256_xts
 "«s-256-xts"

	)

2825 
	#NID_«s_256_xts
 914

	)

2826 
	#OBJ_«s_256_xts
 
OBJ_›“_siswg
,0L,1L,2L

	)

2828 
	#SN_«s_128_cfb1
 "AES-128-CFB1"

	)

2829 
	#LN_«s_128_cfb1
 "«s-128-cfb1"

	)

2830 
	#NID_«s_128_cfb1
 650

	)

2832 
	#SN_«s_192_cfb1
 "AES-192-CFB1"

	)

2833 
	#LN_«s_192_cfb1
 "«s-192-cfb1"

	)

2834 
	#NID_«s_192_cfb1
 651

	)

2836 
	#SN_«s_256_cfb1
 "AES-256-CFB1"

	)

2837 
	#LN_«s_256_cfb1
 "«s-256-cfb1"

	)

2838 
	#NID_«s_256_cfb1
 652

	)

2840 
	#SN_«s_128_cfb8
 "AES-128-CFB8"

	)

2841 
	#LN_«s_128_cfb8
 "«s-128-cfb8"

	)

2842 
	#NID_«s_128_cfb8
 653

	)

2844 
	#SN_«s_192_cfb8
 "AES-192-CFB8"

	)

2845 
	#LN_«s_192_cfb8
 "«s-192-cfb8"

	)

2846 
	#NID_«s_192_cfb8
 654

	)

2848 
	#SN_«s_256_cfb8
 "AES-256-CFB8"

	)

2849 
	#LN_«s_256_cfb8
 "«s-256-cfb8"

	)

2850 
	#NID_«s_256_cfb8
 655

	)

2852 
	#SN_«s_128_ùr
 "AES-128-CTR"

	)

2853 
	#LN_«s_128_ùr
 "«s-128-ùr"

	)

2854 
	#NID_«s_128_ùr
 904

	)

2856 
	#SN_«s_192_ùr
 "AES-192-CTR"

	)

2857 
	#LN_«s_192_ùr
 "«s-192-ùr"

	)

2858 
	#NID_«s_192_ùr
 905

	)

2860 
	#SN_«s_256_ùr
 "AES-256-CTR"

	)

2861 
	#LN_«s_256_ùr
 "«s-256-ùr"

	)

2862 
	#NID_«s_256_ùr
 906

	)

2864 
	#SN_«s_128_ocb
 "AES-128-OCB"

	)

2865 
	#LN_«s_128_ocb
 "«s-128-ocb"

	)

2866 
	#NID_«s_128_ocb
 958

	)

2868 
	#SN_«s_192_ocb
 "AES-192-OCB"

	)

2869 
	#LN_«s_192_ocb
 "«s-192-ocb"

	)

2870 
	#NID_«s_192_ocb
 959

	)

2872 
	#SN_«s_256_ocb
 "AES-256-OCB"

	)

2873 
	#LN_«s_256_ocb
 "«s-256-ocb"

	)

2874 
	#NID_«s_256_ocb
 960

	)

2876 
	#SN_des_cfb1
 "DES-CFB1"

	)

2877 
	#LN_des_cfb1
 "des-cfb1"

	)

2878 
	#NID_des_cfb1
 656

	)

2880 
	#SN_des_cfb8
 "DES-CFB8"

	)

2881 
	#LN_des_cfb8
 "des-cfb8"

	)

2882 
	#NID_des_cfb8
 657

	)

2884 
	#SN_des_ede3_cfb1
 "DES-EDE3-CFB1"

	)

2885 
	#LN_des_ede3_cfb1
 "des-ede3-cfb1"

	)

2886 
	#NID_des_ede3_cfb1
 658

	)

2888 
	#SN_des_ede3_cfb8
 "DES-EDE3-CFB8"

	)

2889 
	#LN_des_ede3_cfb8
 "des-ede3-cfb8"

	)

2890 
	#NID_des_ede3_cfb8
 659

	)

2892 
	#OBJ_ni¡_hash®gs
 
OBJ_ni¡AlgÜ™hms
,2L

	)

2894 
	#SN_sha256
 "SHA256"

	)

2895 
	#LN_sha256
 "sha256"

	)

2896 
	#NID_sha256
 672

	)

2897 
	#OBJ_sha256
 
OBJ_ni¡_hash®gs
,1L

	)

2899 
	#SN_sha384
 "SHA384"

	)

2900 
	#LN_sha384
 "sha384"

	)

2901 
	#NID_sha384
 673

	)

2902 
	#OBJ_sha384
 
OBJ_ni¡_hash®gs
,2L

	)

2904 
	#SN_sha512
 "SHA512"

	)

2905 
	#LN_sha512
 "sha512"

	)

2906 
	#NID_sha512
 674

	)

2907 
	#OBJ_sha512
 
OBJ_ni¡_hash®gs
,3L

	)

2909 
	#SN_sha224
 "SHA224"

	)

2910 
	#LN_sha224
 "sha224"

	)

2911 
	#NID_sha224
 675

	)

2912 
	#OBJ_sha224
 
OBJ_ni¡_hash®gs
,4L

	)

2914 
	#SN_sha512_224
 "SHA512-224"

	)

2915 
	#LN_sha512_224
 "sha512-224"

	)

2916 
	#NID_sha512_224
 1094

	)

2917 
	#OBJ_sha512_224
 
OBJ_ni¡_hash®gs
,5L

	)

2919 
	#SN_sha512_256
 "SHA512-256"

	)

2920 
	#LN_sha512_256
 "sha512-256"

	)

2921 
	#NID_sha512_256
 1095

	)

2922 
	#OBJ_sha512_256
 
OBJ_ni¡_hash®gs
,6L

	)

2924 
	#SN_sha3_224
 "SHA3-224"

	)

2925 
	#LN_sha3_224
 "sha3-224"

	)

2926 
	#NID_sha3_224
 1096

	)

2927 
	#OBJ_sha3_224
 
OBJ_ni¡_hash®gs
,7L

	)

2929 
	#SN_sha3_256
 "SHA3-256"

	)

2930 
	#LN_sha3_256
 "sha3-256"

	)

2931 
	#NID_sha3_256
 1097

	)

2932 
	#OBJ_sha3_256
 
OBJ_ni¡_hash®gs
,8L

	)

2934 
	#SN_sha3_384
 "SHA3-384"

	)

2935 
	#LN_sha3_384
 "sha3-384"

	)

2936 
	#NID_sha3_384
 1098

	)

2937 
	#OBJ_sha3_384
 
OBJ_ni¡_hash®gs
,9L

	)

2939 
	#SN_sha3_512
 "SHA3-512"

	)

2940 
	#LN_sha3_512
 "sha3-512"

	)

2941 
	#NID_sha3_512
 1099

	)

2942 
	#OBJ_sha3_512
 
OBJ_ni¡_hash®gs
,10L

	)

2944 
	#SN_shake128
 "SHAKE128"

	)

2945 
	#LN_shake128
 "shake128"

	)

2946 
	#NID_shake128
 1100

	)

2947 
	#OBJ_shake128
 
OBJ_ni¡_hash®gs
,11L

	)

2949 
	#SN_shake256
 "SHAKE256"

	)

2950 
	#LN_shake256
 "shake256"

	)

2951 
	#NID_shake256
 1101

	)

2952 
	#OBJ_shake256
 
OBJ_ni¡_hash®gs
,12L

	)

2954 
	#SN_hmac_sha3_224
 "id-hmacW™hSHA3-224"

	)

2955 
	#LN_hmac_sha3_224
 "hmac-sha3-224"

	)

2956 
	#NID_hmac_sha3_224
 1102

	)

2957 
	#OBJ_hmac_sha3_224
 
OBJ_ni¡_hash®gs
,13L

	)

2959 
	#SN_hmac_sha3_256
 "id-hmacW™hSHA3-256"

	)

2960 
	#LN_hmac_sha3_256
 "hmac-sha3-256"

	)

2961 
	#NID_hmac_sha3_256
 1103

	)

2962 
	#OBJ_hmac_sha3_256
 
OBJ_ni¡_hash®gs
,14L

	)

2964 
	#SN_hmac_sha3_384
 "id-hmacW™hSHA3-384"

	)

2965 
	#LN_hmac_sha3_384
 "hmac-sha3-384"

	)

2966 
	#NID_hmac_sha3_384
 1104

	)

2967 
	#OBJ_hmac_sha3_384
 
OBJ_ni¡_hash®gs
,15L

	)

2969 
	#SN_hmac_sha3_512
 "id-hmacW™hSHA3-512"

	)

2970 
	#LN_hmac_sha3_512
 "hmac-sha3-512"

	)

2971 
	#NID_hmac_sha3_512
 1105

	)

2972 
	#OBJ_hmac_sha3_512
 
OBJ_ni¡_hash®gs
,16L

	)

2974 
	#OBJ_d§_w™h_sha2
 
OBJ_ni¡AlgÜ™hms
,3L

	)

2976 
	#SN_d§_w™h_SHA224
 "d§_w™h_SHA224"

	)

2977 
	#NID_d§_w™h_SHA224
 802

	)

2978 
	#OBJ_d§_w™h_SHA224
 
OBJ_d§_w™h_sha2
,1L

	)

2980 
	#SN_d§_w™h_SHA256
 "d§_w™h_SHA256"

	)

2981 
	#NID_d§_w™h_SHA256
 803

	)

2982 
	#OBJ_d§_w™h_SHA256
 
OBJ_d§_w™h_sha2
,2L

	)

2984 
	#OBJ_sigAlgs
 
OBJ_ni¡AlgÜ™hms
,3L

	)

2986 
	#SN_d§_w™h_SHA384
 "id-d§-w™h-sha384"

	)

2987 
	#LN_d§_w™h_SHA384
 "d§_w™h_SHA384"

	)

2988 
	#NID_d§_w™h_SHA384
 1106

	)

2989 
	#OBJ_d§_w™h_SHA384
 
OBJ_sigAlgs
,3L

	)

2991 
	#SN_d§_w™h_SHA512
 "id-d§-w™h-sha512"

	)

2992 
	#LN_d§_w™h_SHA512
 "d§_w™h_SHA512"

	)

2993 
	#NID_d§_w™h_SHA512
 1107

	)

2994 
	#OBJ_d§_w™h_SHA512
 
OBJ_sigAlgs
,4L

	)

2996 
	#SN_d§_w™h_SHA3_224
 "id-d§-w™h-sha3-224"

	)

2997 
	#LN_d§_w™h_SHA3_224
 "d§_w™h_SHA3-224"

	)

2998 
	#NID_d§_w™h_SHA3_224
 1108

	)

2999 
	#OBJ_d§_w™h_SHA3_224
 
OBJ_sigAlgs
,5L

	)

3001 
	#SN_d§_w™h_SHA3_256
 "id-d§-w™h-sha3-256"

	)

3002 
	#LN_d§_w™h_SHA3_256
 "d§_w™h_SHA3-256"

	)

3003 
	#NID_d§_w™h_SHA3_256
 1109

	)

3004 
	#OBJ_d§_w™h_SHA3_256
 
OBJ_sigAlgs
,6L

	)

3006 
	#SN_d§_w™h_SHA3_384
 "id-d§-w™h-sha3-384"

	)

3007 
	#LN_d§_w™h_SHA3_384
 "d§_w™h_SHA3-384"

	)

3008 
	#NID_d§_w™h_SHA3_384
 1110

	)

3009 
	#OBJ_d§_w™h_SHA3_384
 
OBJ_sigAlgs
,7L

	)

3011 
	#SN_d§_w™h_SHA3_512
 "id-d§-w™h-sha3-512"

	)

3012 
	#LN_d§_w™h_SHA3_512
 "d§_w™h_SHA3-512"

	)

3013 
	#NID_d§_w™h_SHA3_512
 1111

	)

3014 
	#OBJ_d§_w™h_SHA3_512
 
OBJ_sigAlgs
,8L

	)

3016 
	#SN_ecd§_w™h_SHA3_224
 "id-ecd§-w™h-sha3-224"

	)

3017 
	#LN_ecd§_w™h_SHA3_224
 "ecd§_w™h_SHA3-224"

	)

3018 
	#NID_ecd§_w™h_SHA3_224
 1112

	)

3019 
	#OBJ_ecd§_w™h_SHA3_224
 
OBJ_sigAlgs
,9L

	)

3021 
	#SN_ecd§_w™h_SHA3_256
 "id-ecd§-w™h-sha3-256"

	)

3022 
	#LN_ecd§_w™h_SHA3_256
 "ecd§_w™h_SHA3-256"

	)

3023 
	#NID_ecd§_w™h_SHA3_256
 1113

	)

3024 
	#OBJ_ecd§_w™h_SHA3_256
 
OBJ_sigAlgs
,10L

	)

3026 
	#SN_ecd§_w™h_SHA3_384
 "id-ecd§-w™h-sha3-384"

	)

3027 
	#LN_ecd§_w™h_SHA3_384
 "ecd§_w™h_SHA3-384"

	)

3028 
	#NID_ecd§_w™h_SHA3_384
 1114

	)

3029 
	#OBJ_ecd§_w™h_SHA3_384
 
OBJ_sigAlgs
,11L

	)

3031 
	#SN_ecd§_w™h_SHA3_512
 "id-ecd§-w™h-sha3-512"

	)

3032 
	#LN_ecd§_w™h_SHA3_512
 "ecd§_w™h_SHA3-512"

	)

3033 
	#NID_ecd§_w™h_SHA3_512
 1115

	)

3034 
	#OBJ_ecd§_w™h_SHA3_512
 
OBJ_sigAlgs
,12L

	)

3036 
	#SN_RSA_SHA3_224
 "id-r§s§-pkcs1-v1_5-w™h-sha3-224"

	)

3037 
	#LN_RSA_SHA3_224
 "RSA-SHA3-224"

	)

3038 
	#NID_RSA_SHA3_224
 1116

	)

3039 
	#OBJ_RSA_SHA3_224
 
OBJ_sigAlgs
,13L

	)

3041 
	#SN_RSA_SHA3_256
 "id-r§s§-pkcs1-v1_5-w™h-sha3-256"

	)

3042 
	#LN_RSA_SHA3_256
 "RSA-SHA3-256"

	)

3043 
	#NID_RSA_SHA3_256
 1117

	)

3044 
	#OBJ_RSA_SHA3_256
 
OBJ_sigAlgs
,14L

	)

3046 
	#SN_RSA_SHA3_384
 "id-r§s§-pkcs1-v1_5-w™h-sha3-384"

	)

3047 
	#LN_RSA_SHA3_384
 "RSA-SHA3-384"

	)

3048 
	#NID_RSA_SHA3_384
 1118

	)

3049 
	#OBJ_RSA_SHA3_384
 
OBJ_sigAlgs
,15L

	)

3051 
	#SN_RSA_SHA3_512
 "id-r§s§-pkcs1-v1_5-w™h-sha3-512"

	)

3052 
	#LN_RSA_SHA3_512
 "RSA-SHA3-512"

	)

3053 
	#NID_RSA_SHA3_512
 1119

	)

3054 
	#OBJ_RSA_SHA3_512
 
OBJ_sigAlgs
,16L

	)

3056 
	#SN_hŞd_š¡ruùiÚ_code
 "hŞdIn¡ruùiÚCode"

	)

3057 
	#LN_hŞd_š¡ruùiÚ_code
 "HŞd In¡ruùiÚ Code"

	)

3058 
	#NID_hŞd_š¡ruùiÚ_code
 430

	)

3059 
	#OBJ_hŞd_š¡ruùiÚ_code
 
OBJ_id_û
,23L

	)

3061 
	#OBJ_hŞdIn¡ruùiÚ
 
OBJ_X9_57
,2L

	)

3063 
	#SN_hŞd_š¡ruùiÚ_nÚe
 "hŞdIn¡ruùiÚNÚe"

	)

3064 
	#LN_hŞd_š¡ruùiÚ_nÚe
 "HŞd In¡ruùiÚ NÚe"

	)

3065 
	#NID_hŞd_š¡ruùiÚ_nÚe
 431

	)

3066 
	#OBJ_hŞd_š¡ruùiÚ_nÚe
 
OBJ_hŞdIn¡ruùiÚ
,1L

	)

3068 
	#SN_hŞd_š¡ruùiÚ_ÿÎ_issu”
 "hŞdIn¡ruùiÚC®lIssu”"

	)

3069 
	#LN_hŞd_š¡ruùiÚ_ÿÎ_issu”
 "HŞd In¡ruùiÚ C®ÈIssu”"

	)

3070 
	#NID_hŞd_š¡ruùiÚ_ÿÎ_issu”
 432

	)

3071 
	#OBJ_hŞd_š¡ruùiÚ_ÿÎ_issu”
 
OBJ_hŞdIn¡ruùiÚ
,2L

	)

3073 
	#SN_hŞd_š¡ruùiÚ_»jeù
 "hŞdIn¡ruùiÚRejeù"

	)

3074 
	#LN_hŞd_š¡ruùiÚ_»jeù
 "HŞd In¡ruùiÚ Rejeù"

	)

3075 
	#NID_hŞd_š¡ruùiÚ_»jeù
 433

	)

3076 
	#OBJ_hŞd_š¡ruùiÚ_»jeù
 
OBJ_hŞdIn¡ruùiÚ
,3L

	)

3078 
	#SN_d©a
 "d©a"

	)

3079 
	#NID_d©a
 434

	)

3080 
	#OBJ_d©a
 
OBJ_™u_t
,9L

	)

3082 
	#SN_pss
 "pss"

	)

3083 
	#NID_pss
 435

	)

3084 
	#OBJ_pss
 
OBJ_d©a
,2342L

	)

3086 
	#SN_uş
 "uş"

	)

3087 
	#NID_uş
 436

	)

3088 
	#OBJ_uş
 
OBJ_pss
,19200300L

	)

3090 
	#SN_pÙ
 "pÙ"

	)

3091 
	#NID_pÙ
 437

	)

3092 
	#OBJ_pÙ
 
OBJ_uş
,100L

	)

3094 
	#LN_pÙA‰ribu‹Ty³
 "pÙA‰ribu‹Ty³"

	)

3095 
	#NID_pÙA‰ribu‹Ty³
 438

	)

3096 
	#OBJ_pÙA‰ribu‹Ty³
 
OBJ_pÙ
,1L

	)

3098 
	#LN_pÙA‰ribu‹SyÁax
 "pÙA‰ribu‹SyÁax"

	)

3099 
	#NID_pÙA‰ribu‹SyÁax
 439

	)

3100 
	#OBJ_pÙA‰ribu‹SyÁax
 
OBJ_pÙ
,3L

	)

3102 
	#LN_pÙObjeùCÏss
 "pÙObjeùCÏss"

	)

3103 
	#NID_pÙObjeùCÏss
 440

	)

3104 
	#OBJ_pÙObjeùCÏss
 
OBJ_pÙ
,4L

	)

3106 
	#LN_pÙGroups
 "pÙGroups"

	)

3107 
	#NID_pÙGroups
 441

	)

3108 
	#OBJ_pÙGroups
 
OBJ_pÙ
,10L

	)

3110 
	#LN_iA5SŒšgSyÁax
 "iA5SŒšgSyÁax"

	)

3111 
	#NID_iA5SŒšgSyÁax
 442

	)

3112 
	#OBJ_iA5SŒšgSyÁax
 
OBJ_pÙA‰ribu‹SyÁax
,4L

	)

3114 
	#LN_ÿ£IgnÜeIA5SŒšgSyÁax
 "ÿ£IgnÜeIA5SŒšgSyÁax"

	)

3115 
	#NID_ÿ£IgnÜeIA5SŒšgSyÁax
 443

	)

3116 
	#OBJ_ÿ£IgnÜeIA5SŒšgSyÁax
 
OBJ_pÙA‰ribu‹SyÁax
,5L

	)

3118 
	#LN_pÙObjeù
 "pÙObjeù"

	)

3119 
	#NID_pÙObjeù
 444

	)

3120 
	#OBJ_pÙObjeù
 
OBJ_pÙObjeùCÏss
,3L

	)

3122 
	#LN_pÙP”sÚ
 "pÙP”sÚ"

	)

3123 
	#NID_pÙP”sÚ
 445

	)

3124 
	#OBJ_pÙP”sÚ
 
OBJ_pÙObjeùCÏss
,4L

	)

3126 
	#SN_accouÁ
 "accouÁ"

	)

3127 
	#NID_accouÁ
 446

	)

3128 
	#OBJ_accouÁ
 
OBJ_pÙObjeùCÏss
,5L

	)

3130 
	#SN_docum’t
 "docum’t"

	)

3131 
	#NID_docum’t
 447

	)

3132 
	#OBJ_docum’t
 
OBJ_pÙObjeùCÏss
,6L

	)

3134 
	#SN_room
 "room"

	)

3135 
	#NID_room
 448

	)

3136 
	#OBJ_room
 
OBJ_pÙObjeùCÏss
,7L

	)

3138 
	#LN_docum’tS”›s
 "docum’tS”›s"

	)

3139 
	#NID_docum’tS”›s
 449

	)

3140 
	#OBJ_docum’tS”›s
 
OBJ_pÙObjeùCÏss
,9L

	)

3142 
	#SN_Domaš
 "domaš"

	)

3143 
	#LN_Domaš
 "Domaš"

	)

3144 
	#NID_Domaš
 392

	)

3145 
	#OBJ_Domaš
 
OBJ_pÙObjeùCÏss
,13L

	)

3147 
	#LN_rFC822loÿlP¬t
 "rFC822loÿlP¬t"

	)

3148 
	#NID_rFC822loÿlP¬t
 450

	)

3149 
	#OBJ_rFC822loÿlP¬t
 
OBJ_pÙObjeùCÏss
,14L

	)

3151 
	#LN_dNSDomaš
 "dNSDomaš"

	)

3152 
	#NID_dNSDomaš
 451

	)

3153 
	#OBJ_dNSDomaš
 
OBJ_pÙObjeùCÏss
,15L

	)

3155 
	#LN_domašR–©edObjeù
 "domašR–©edObjeù"

	)

3156 
	#NID_domašR–©edObjeù
 452

	)

3157 
	#OBJ_domašR–©edObjeù
 
OBJ_pÙObjeùCÏss
,17L

	)

3159 
	#LN_ä›ndlyCouÁry
 "ä›ndlyCouÁry"

	)

3160 
	#NID_ä›ndlyCouÁry
 453

	)

3161 
	#OBJ_ä›ndlyCouÁry
 
OBJ_pÙObjeùCÏss
,18L

	)

3163 
	#LN_sim¶eSecur™yObjeù
 "sim¶eSecur™yObjeù"

	)

3164 
	#NID_sim¶eSecur™yObjeù
 454

	)

3165 
	#OBJ_sim¶eSecur™yObjeù
 
OBJ_pÙObjeùCÏss
,19L

	)

3167 
	#LN_pÙOrgªiz©iÚ
 "pÙOrgªiz©iÚ"

	)

3168 
	#NID_pÙOrgªiz©iÚ
 455

	)

3169 
	#OBJ_pÙOrgªiz©iÚ
 
OBJ_pÙObjeùCÏss
,20L

	)

3171 
	#LN_pÙDSA
 "pÙDSA"

	)

3172 
	#NID_pÙDSA
 456

	)

3173 
	#OBJ_pÙDSA
 
OBJ_pÙObjeùCÏss
,21L

	)

3175 
	#LN_qu®™yLab–ËdD©a
 "qu®™yLab–ËdD©a"

	)

3176 
	#NID_qu®™yLab–ËdD©a
 457

	)

3177 
	#OBJ_qu®™yLab–ËdD©a
 
OBJ_pÙObjeùCÏss
,22L

	)

3179 
	#SN_u£rId
 "UID"

	)

3180 
	#LN_u£rId
 "u£rId"

	)

3181 
	#NID_u£rId
 458

	)

3182 
	#OBJ_u£rId
 
OBJ_pÙA‰ribu‹Ty³
,1L

	)

3184 
	#LN_‹xtEncodedORAdd»ss
 "‹xtEncodedORAdd»ss"

	)

3185 
	#NID_‹xtEncodedORAdd»ss
 459

	)

3186 
	#OBJ_‹xtEncodedORAdd»ss
 
OBJ_pÙA‰ribu‹Ty³
,2L

	)

3188 
	#SN_rfc822Mabox
 "ma"

	)

3189 
	#LN_rfc822Mabox
 "rfc822Mabox"

	)

3190 
	#NID_rfc822Mabox
 460

	)

3191 
	#OBJ_rfc822Mabox
 
OBJ_pÙA‰ribu‹Ty³
,3L

	)

3193 
	#SN_šfo
 "šfo"

	)

3194 
	#NID_šfo
 461

	)

3195 
	#OBJ_šfo
 
OBJ_pÙA‰ribu‹Ty³
,4L

	)

3197 
	#LN_çvour™eDršk
 "çvour™eDršk"

	)

3198 
	#NID_çvour™eDršk
 462

	)

3199 
	#OBJ_çvour™eDršk
 
OBJ_pÙA‰ribu‹Ty³
,5L

	)

3201 
	#LN_roomNumb”
 "roomNumb”"

	)

3202 
	#NID_roomNumb”
 463

	)

3203 
	#OBJ_roomNumb”
 
OBJ_pÙA‰ribu‹Ty³
,6L

	)

3205 
	#SN_phÙo
 "phÙo"

	)

3206 
	#NID_phÙo
 464

	)

3207 
	#OBJ_phÙo
 
OBJ_pÙA‰ribu‹Ty³
,7L

	)

3209 
	#LN_u£rCÏss
 "u£rCÏss"

	)

3210 
	#NID_u£rCÏss
 465

	)

3211 
	#OBJ_u£rCÏss
 
OBJ_pÙA‰ribu‹Ty³
,8L

	)

3213 
	#SN_ho¡
 "ho¡"

	)

3214 
	#NID_ho¡
 466

	)

3215 
	#OBJ_ho¡
 
OBJ_pÙA‰ribu‹Ty³
,9L

	)

3217 
	#SN_mªag”
 "mªag”"

	)

3218 
	#NID_mªag”
 467

	)

3219 
	#OBJ_mªag”
 
OBJ_pÙA‰ribu‹Ty³
,10L

	)

3221 
	#LN_docum’tId’tif›r
 "docum’tId’tif›r"

	)

3222 
	#NID_docum’tId’tif›r
 468

	)

3223 
	#OBJ_docum’tId’tif›r
 
OBJ_pÙA‰ribu‹Ty³
,11L

	)

3225 
	#LN_docum’tT™Ë
 "docum’tT™Ë"

	)

3226 
	#NID_docum’tT™Ë
 469

	)

3227 
	#OBJ_docum’tT™Ë
 
OBJ_pÙA‰ribu‹Ty³
,12L

	)

3229 
	#LN_docum’tV”siÚ
 "docum’tV”siÚ"

	)

3230 
	#NID_docum’tV”siÚ
 470

	)

3231 
	#OBJ_docum’tV”siÚ
 
OBJ_pÙA‰ribu‹Ty³
,13L

	)

3233 
	#LN_docum’tAuthÜ
 "docum’tAuthÜ"

	)

3234 
	#NID_docum’tAuthÜ
 471

	)

3235 
	#OBJ_docum’tAuthÜ
 
OBJ_pÙA‰ribu‹Ty³
,14L

	)

3237 
	#LN_docum’tLoÿtiÚ
 "docum’tLoÿtiÚ"

	)

3238 
	#NID_docum’tLoÿtiÚ
 472

	)

3239 
	#OBJ_docum’tLoÿtiÚ
 
OBJ_pÙA‰ribu‹Ty³
,15L

	)

3241 
	#LN_homeT–•hÚeNumb”
 "homeT–•hÚeNumb”"

	)

3242 
	#NID_homeT–•hÚeNumb”
 473

	)

3243 
	#OBJ_homeT–•hÚeNumb”
 
OBJ_pÙA‰ribu‹Ty³
,20L

	)

3245 
	#SN_£ü‘¬y
 "£ü‘¬y"

	)

3246 
	#NID_£ü‘¬y
 474

	)

3247 
	#OBJ_£ü‘¬y
 
OBJ_pÙA‰ribu‹Ty³
,21L

	)

3249 
	#LN_Ùh”Mabox
 "Ùh”Mabox"

	)

3250 
	#NID_Ùh”Mabox
 475

	)

3251 
	#OBJ_Ùh”Mabox
 
OBJ_pÙA‰ribu‹Ty³
,22L

	)

3253 
	#LN_Ï¡Modif›dTime
 "Ï¡Modif›dTime"

	)

3254 
	#NID_Ï¡Modif›dTime
 476

	)

3255 
	#OBJ_Ï¡Modif›dTime
 
OBJ_pÙA‰ribu‹Ty³
,23L

	)

3257 
	#LN_Ï¡Modif›dBy
 "Ï¡Modif›dBy"

	)

3258 
	#NID_Ï¡Modif›dBy
 477

	)

3259 
	#OBJ_Ï¡Modif›dBy
 
OBJ_pÙA‰ribu‹Ty³
,24L

	)

3261 
	#SN_domašCompÚ’t
 "DC"

	)

3262 
	#LN_domašCompÚ’t
 "domašCompÚ’t"

	)

3263 
	#NID_domašCompÚ’t
 391

	)

3264 
	#OBJ_domašCompÚ’t
 
OBJ_pÙA‰ribu‹Ty³
,25L

	)

3266 
	#LN_aRecÜd
 "aRecÜd"

	)

3267 
	#NID_aRecÜd
 478

	)

3268 
	#OBJ_aRecÜd
 
OBJ_pÙA‰ribu‹Ty³
,26L

	)

3270 
	#LN_pÙA‰ribu‹Ty³27
 "pÙA‰ribu‹Ty³27"

	)

3271 
	#NID_pÙA‰ribu‹Ty³27
 479

	)

3272 
	#OBJ_pÙA‰ribu‹Ty³27
 
OBJ_pÙA‰ribu‹Ty³
,27L

	)

3274 
	#LN_mXRecÜd
 "mXRecÜd"

	)

3275 
	#NID_mXRecÜd
 480

	)

3276 
	#OBJ_mXRecÜd
 
OBJ_pÙA‰ribu‹Ty³
,28L

	)

3278 
	#LN_nSRecÜd
 "nSRecÜd"

	)

3279 
	#NID_nSRecÜd
 481

	)

3280 
	#OBJ_nSRecÜd
 
OBJ_pÙA‰ribu‹Ty³
,29L

	)

3282 
	#LN_sOARecÜd
 "sOARecÜd"

	)

3283 
	#NID_sOARecÜd
 482

	)

3284 
	#OBJ_sOARecÜd
 
OBJ_pÙA‰ribu‹Ty³
,30L

	)

3286 
	#LN_cNAMERecÜd
 "cNAMERecÜd"

	)

3287 
	#NID_cNAMERecÜd
 483

	)

3288 
	#OBJ_cNAMERecÜd
 
OBJ_pÙA‰ribu‹Ty³
,31L

	)

3290 
	#LN_assocŸ‹dDomaš
 "assocŸ‹dDomaš"

	)

3291 
	#NID_assocŸ‹dDomaš
 484

	)

3292 
	#OBJ_assocŸ‹dDomaš
 
OBJ_pÙA‰ribu‹Ty³
,37L

	)

3294 
	#LN_assocŸ‹dName
 "assocŸ‹dName"

	)

3295 
	#NID_assocŸ‹dName
 485

	)

3296 
	#OBJ_assocŸ‹dName
 
OBJ_pÙA‰ribu‹Ty³
,38L

	)

3298 
	#LN_homePo¡®Add»ss
 "homePo¡®Add»ss"

	)

3299 
	#NID_homePo¡®Add»ss
 486

	)

3300 
	#OBJ_homePo¡®Add»ss
 
OBJ_pÙA‰ribu‹Ty³
,39L

	)

3302 
	#LN_³rsÚ®T™Ë
 "³rsÚ®T™Ë"

	)

3303 
	#NID_³rsÚ®T™Ë
 487

	)

3304 
	#OBJ_³rsÚ®T™Ë
 
OBJ_pÙA‰ribu‹Ty³
,40L

	)

3306 
	#LN_mobeT–•hÚeNumb”
 "mobeT–•hÚeNumb”"

	)

3307 
	#NID_mobeT–•hÚeNumb”
 488

	)

3308 
	#OBJ_mobeT–•hÚeNumb”
 
OBJ_pÙA‰ribu‹Ty³
,41L

	)

3310 
	#LN_·g”T–•hÚeNumb”
 "·g”T–•hÚeNumb”"

	)

3311 
	#NID_·g”T–•hÚeNumb”
 489

	)

3312 
	#OBJ_·g”T–•hÚeNumb”
 
OBJ_pÙA‰ribu‹Ty³
,42L

	)

3314 
	#LN_ä›ndlyCouÁryName
 "ä›ndlyCouÁryName"

	)

3315 
	#NID_ä›ndlyCouÁryName
 490

	)

3316 
	#OBJ_ä›ndlyCouÁryName
 
OBJ_pÙA‰ribu‹Ty³
,43L

	)

3318 
	#SN_uniqueId’tif›r
 "uid"

	)

3319 
	#LN_uniqueId’tif›r
 "uniqueId’tif›r"

	)

3320 
	#NID_uniqueId’tif›r
 102

	)

3321 
	#OBJ_uniqueId’tif›r
 
OBJ_pÙA‰ribu‹Ty³
,44L

	)

3323 
	#LN_Ügªiz©iÚ®Stus
 "Ügªiz©iÚ®Stus"

	)

3324 
	#NID_Ügªiz©iÚ®Stus
 491

	)

3325 
	#OBJ_Ügªiz©iÚ®Stus
 
OBJ_pÙA‰ribu‹Ty³
,45L

	)

3327 
	#LN_jª‘Mabox
 "jª‘Mabox"

	)

3328 
	#NID_jª‘Mabox
 492

	)

3329 
	#OBJ_jª‘Mabox
 
OBJ_pÙA‰ribu‹Ty³
,46L

	)

3331 
	#LN_maP»ã»nûO±iÚ
 "maP»ã»nûO±iÚ"

	)

3332 
	#NID_maP»ã»nûO±iÚ
 493

	)

3333 
	#OBJ_maP»ã»nûO±iÚ
 
OBJ_pÙA‰ribu‹Ty³
,47L

	)

3335 
	#LN_budšgName
 "budšgName"

	)

3336 
	#NID_budšgName
 494

	)

3337 
	#OBJ_budšgName
 
OBJ_pÙA‰ribu‹Ty³
,48L

	)

3339 
	#LN_dSAQu®™y
 "dSAQu®™y"

	)

3340 
	#NID_dSAQu®™y
 495

	)

3341 
	#OBJ_dSAQu®™y
 
OBJ_pÙA‰ribu‹Ty³
,49L

	)

3343 
	#LN_sšgËLev–Qu®™y
 "sšgËLev–Qu®™y"

	)

3344 
	#NID_sšgËLev–Qu®™y
 496

	)

3345 
	#OBJ_sšgËLev–Qu®™y
 
OBJ_pÙA‰ribu‹Ty³
,50L

	)

3347 
	#LN_subŒ“MšimumQu®™y
 "subŒ“MšimumQu®™y"

	)

3348 
	#NID_subŒ“MšimumQu®™y
 497

	)

3349 
	#OBJ_subŒ“MšimumQu®™y
 
OBJ_pÙA‰ribu‹Ty³
,51L

	)

3351 
	#LN_subŒ“MaximumQu®™y
 "subŒ“MaximumQu®™y"

	)

3352 
	#NID_subŒ“MaximumQu®™y
 498

	)

3353 
	#OBJ_subŒ“MaximumQu®™y
 
OBJ_pÙA‰ribu‹Ty³
,52L

	)

3355 
	#LN_³rsÚ®SigÇtu»
 "³rsÚ®SigÇtu»"

	)

3356 
	#NID_³rsÚ®SigÇtu»
 499

	)

3357 
	#OBJ_³rsÚ®SigÇtu»
 
OBJ_pÙA‰ribu‹Ty³
,53L

	)

3359 
	#LN_dITRedœeù
 "dITRedœeù"

	)

3360 
	#NID_dITRedœeù
 500

	)

3361 
	#OBJ_dITRedœeù
 
OBJ_pÙA‰ribu‹Ty³
,54L

	)

3363 
	#SN_audio
 "audio"

	)

3364 
	#NID_audio
 501

	)

3365 
	#OBJ_audio
 
OBJ_pÙA‰ribu‹Ty³
,55L

	)

3367 
	#LN_docum’tPublish”
 "docum’tPublish”"

	)

3368 
	#NID_docum’tPublish”
 502

	)

3369 
	#OBJ_docum’tPublish”
 
OBJ_pÙA‰ribu‹Ty³
,56L

	)

3371 
	#SN_id_£t
 "id-£t"

	)

3372 
	#LN_id_£t
 "Secu» EËùrÚiøT¿n§ùiÚs"

	)

3373 
	#NID_id_£t
 512

	)

3374 
	#OBJ_id_£t
 
OBJ_š‹º©iÚ®_Ügªiz©iÚs
,42L

	)

3376 
	#SN_£t_ùy³
 "£t-ùy³"

	)

3377 
	#LN_£t_ùy³
 "cÚ‹Áy³s"

	)

3378 
	#NID_£t_ùy³
 513

	)

3379 
	#OBJ_£t_ùy³
 
OBJ_id_£t
,0L

	)

3381 
	#SN_£t_msgExt
 "£t-msgExt"

	)

3382 
	#LN_£t_msgExt
 "mes§gex‹nsiÚs"

	)

3383 
	#NID_£t_msgExt
 514

	)

3384 
	#OBJ_£t_msgExt
 
OBJ_id_£t
,1L

	)

3386 
	#SN_£t_©Œ
 "£t-©Œ"

	)

3387 
	#NID_£t_©Œ
 515

	)

3388 
	#OBJ_£t_©Œ
 
OBJ_id_£t
,3L

	)

3390 
	#SN_£t_pŞicy
 "£t-pŞicy"

	)

3391 
	#NID_£t_pŞicy
 516

	)

3392 
	#OBJ_£t_pŞicy
 
OBJ_id_£t
,5L

	)

3394 
	#SN_£t_û¹Ext
 "£t-û¹Ext"

	)

3395 
	#LN_£t_û¹Ext
 "û¹ifiÿ‹ƒx‹nsiÚs"

	)

3396 
	#NID_£t_û¹Ext
 517

	)

3397 
	#OBJ_£t_û¹Ext
 
OBJ_id_£t
,7L

	)

3399 
	#SN_£t_b¿nd
 "£t-b¿nd"

	)

3400 
	#NID_£t_b¿nd
 518

	)

3401 
	#OBJ_£t_b¿nd
 
OBJ_id_£t
,8L

	)

3403 
	#SN_£tù_PAND©a
 "£tù-PAND©a"

	)

3404 
	#NID_£tù_PAND©a
 519

	)

3405 
	#OBJ_£tù_PAND©a
 
OBJ_£t_ùy³
,0L

	)

3407 
	#SN_£tù_PANTok’
 "£tù-PANTok’"

	)

3408 
	#NID_£tù_PANTok’
 520

	)

3409 
	#OBJ_£tù_PANTok’
 
OBJ_£t_ùy³
,1L

	)

3411 
	#SN_£tù_PANOÆy
 "£tù-PANOÆy"

	)

3412 
	#NID_£tù_PANOÆy
 521

	)

3413 
	#OBJ_£tù_PANOÆy
 
OBJ_£t_ùy³
,2L

	)

3415 
	#SN_£tù_OID©a
 "£tù-OID©a"

	)

3416 
	#NID_£tù_OID©a
 522

	)

3417 
	#OBJ_£tù_OID©a
 
OBJ_£t_ùy³
,3L

	)

3419 
	#SN_£tù_PI
 "£tù-PI"

	)

3420 
	#NID_£tù_PI
 523

	)

3421 
	#OBJ_£tù_PI
 
OBJ_£t_ùy³
,4L

	)

3423 
	#SN_£tù_PID©a
 "£tù-PID©a"

	)

3424 
	#NID_£tù_PID©a
 524

	)

3425 
	#OBJ_£tù_PID©a
 
OBJ_£t_ùy³
,5L

	)

3427 
	#SN_£tù_PID©aUnsigÃd
 "£tù-PID©aUnsigÃd"

	)

3428 
	#NID_£tù_PID©aUnsigÃd
 525

	)

3429 
	#OBJ_£tù_PID©aUnsigÃd
 
OBJ_£t_ùy³
,6L

	)

3431 
	#SN_£tù_HODIÅut
 "£tù-HODIÅut"

	)

3432 
	#NID_£tù_HODIÅut
 526

	)

3433 
	#OBJ_£tù_HODIÅut
 
OBJ_£t_ùy³
,7L

	)

3435 
	#SN_£tù_AuthResBaggage
 "£tù-AuthResBaggage"

	)

3436 
	#NID_£tù_AuthResBaggage
 527

	)

3437 
	#OBJ_£tù_AuthResBaggage
 
OBJ_£t_ùy³
,8L

	)

3439 
	#SN_£tù_AuthRevReqBaggage
 "£tù-AuthRevReqBaggage"

	)

3440 
	#NID_£tù_AuthRevReqBaggage
 528

	)

3441 
	#OBJ_£tù_AuthRevReqBaggage
 
OBJ_£t_ùy³
,9L

	)

3443 
	#SN_£tù_AuthRevResBaggage
 "£tù-AuthRevResBaggage"

	)

3444 
	#NID_£tù_AuthRevResBaggage
 529

	)

3445 
	#OBJ_£tù_AuthRevResBaggage
 
OBJ_£t_ùy³
,10L

	)

3447 
	#SN_£tù_C­Tok’Seq
 "£tù-C­Tok’Seq"

	)

3448 
	#NID_£tù_C­Tok’Seq
 530

	)

3449 
	#OBJ_£tù_C­Tok’Seq
 
OBJ_£t_ùy³
,11L

	)

3451 
	#SN_£tù_PIn™ResD©a
 "£tù-PIn™ResD©a"

	)

3452 
	#NID_£tù_PIn™ResD©a
 531

	)

3453 
	#OBJ_£tù_PIn™ResD©a
 
OBJ_£t_ùy³
,12L

	)

3455 
	#SN_£tù_PI_TBS
 "£tù-PI-TBS"

	)

3456 
	#NID_£tù_PI_TBS
 532

	)

3457 
	#OBJ_£tù_PI_TBS
 
OBJ_£t_ùy³
,13L

	)

3459 
	#SN_£tù_PResD©a
 "£tù-PResD©a"

	)

3460 
	#NID_£tù_PResD©a
 533

	)

3461 
	#OBJ_£tù_PResD©a
 
OBJ_£t_ùy³
,14L

	)

3463 
	#SN_£tù_AuthReqTBS
 "£tù-AuthReqTBS"

	)

3464 
	#NID_£tù_AuthReqTBS
 534

	)

3465 
	#OBJ_£tù_AuthReqTBS
 
OBJ_£t_ùy³
,16L

	)

3467 
	#SN_£tù_AuthResTBS
 "£tù-AuthResTBS"

	)

3468 
	#NID_£tù_AuthResTBS
 535

	)

3469 
	#OBJ_£tù_AuthResTBS
 
OBJ_£t_ùy³
,17L

	)

3471 
	#SN_£tù_AuthResTBSX
 "£tù-AuthResTBSX"

	)

3472 
	#NID_£tù_AuthResTBSX
 536

	)

3473 
	#OBJ_£tù_AuthResTBSX
 
OBJ_£t_ùy³
,18L

	)

3475 
	#SN_£tù_AuthTok’TBS
 "£tù-AuthTok’TBS"

	)

3476 
	#NID_£tù_AuthTok’TBS
 537

	)

3477 
	#OBJ_£tù_AuthTok’TBS
 
OBJ_£t_ùy³
,19L

	)

3479 
	#SN_£tù_C­Tok’D©a
 "£tù-C­Tok’D©a"

	)

3480 
	#NID_£tù_C­Tok’D©a
 538

	)

3481 
	#OBJ_£tù_C­Tok’D©a
 
OBJ_£t_ùy³
,20L

	)

3483 
	#SN_£tù_C­Tok’TBS
 "£tù-C­Tok’TBS"

	)

3484 
	#NID_£tù_C­Tok’TBS
 539

	)

3485 
	#OBJ_£tù_C­Tok’TBS
 
OBJ_£t_ùy³
,21L

	)

3487 
	#SN_£tù_AcqC¬dCodeMsg
 "£tù-AcqC¬dCodeMsg"

	)

3488 
	#NID_£tù_AcqC¬dCodeMsg
 540

	)

3489 
	#OBJ_£tù_AcqC¬dCodeMsg
 
OBJ_£t_ùy³
,22L

	)

3491 
	#SN_£tù_AuthRevReqTBS
 "£tù-AuthRevReqTBS"

	)

3492 
	#NID_£tù_AuthRevReqTBS
 541

	)

3493 
	#OBJ_£tù_AuthRevReqTBS
 
OBJ_£t_ùy³
,23L

	)

3495 
	#SN_£tù_AuthRevResD©a
 "£tù-AuthRevResD©a"

	)

3496 
	#NID_£tù_AuthRevResD©a
 542

	)

3497 
	#OBJ_£tù_AuthRevResD©a
 
OBJ_£t_ùy³
,24L

	)

3499 
	#SN_£tù_AuthRevResTBS
 "£tù-AuthRevResTBS"

	)

3500 
	#NID_£tù_AuthRevResTBS
 543

	)

3501 
	#OBJ_£tù_AuthRevResTBS
 
OBJ_£t_ùy³
,25L

	)

3503 
	#SN_£tù_C­ReqTBS
 "£tù-C­ReqTBS"

	)

3504 
	#NID_£tù_C­ReqTBS
 544

	)

3505 
	#OBJ_£tù_C­ReqTBS
 
OBJ_£t_ùy³
,26L

	)

3507 
	#SN_£tù_C­ReqTBSX
 "£tù-C­ReqTBSX"

	)

3508 
	#NID_£tù_C­ReqTBSX
 545

	)

3509 
	#OBJ_£tù_C­ReqTBSX
 
OBJ_£t_ùy³
,27L

	)

3511 
	#SN_£tù_C­ResD©a
 "£tù-C­ResD©a"

	)

3512 
	#NID_£tù_C­ResD©a
 546

	)

3513 
	#OBJ_£tù_C­ResD©a
 
OBJ_£t_ùy³
,28L

	)

3515 
	#SN_£tù_C­RevReqTBS
 "£tù-C­RevReqTBS"

	)

3516 
	#NID_£tù_C­RevReqTBS
 547

	)

3517 
	#OBJ_£tù_C­RevReqTBS
 
OBJ_£t_ùy³
,29L

	)

3519 
	#SN_£tù_C­RevReqTBSX
 "£tù-C­RevReqTBSX"

	)

3520 
	#NID_£tù_C­RevReqTBSX
 548

	)

3521 
	#OBJ_£tù_C­RevReqTBSX
 
OBJ_£t_ùy³
,30L

	)

3523 
	#SN_£tù_C­RevResD©a
 "£tù-C­RevResD©a"

	)

3524 
	#NID_£tù_C­RevResD©a
 549

	)

3525 
	#OBJ_£tù_C­RevResD©a
 
OBJ_£t_ùy³
,31L

	)

3527 
	#SN_£tù_C»dReqTBS
 "£tù-C»dReqTBS"

	)

3528 
	#NID_£tù_C»dReqTBS
 550

	)

3529 
	#OBJ_£tù_C»dReqTBS
 
OBJ_£t_ùy³
,32L

	)

3531 
	#SN_£tù_C»dReqTBSX
 "£tù-C»dReqTBSX"

	)

3532 
	#NID_£tù_C»dReqTBSX
 551

	)

3533 
	#OBJ_£tù_C»dReqTBSX
 
OBJ_£t_ùy³
,33L

	)

3535 
	#SN_£tù_C»dResD©a
 "£tù-C»dResD©a"

	)

3536 
	#NID_£tù_C»dResD©a
 552

	)

3537 
	#OBJ_£tù_C»dResD©a
 
OBJ_£t_ùy³
,34L

	)

3539 
	#SN_£tù_C»dRevReqTBS
 "£tù-C»dRevReqTBS"

	)

3540 
	#NID_£tù_C»dRevReqTBS
 553

	)

3541 
	#OBJ_£tù_C»dRevReqTBS
 
OBJ_£t_ùy³
,35L

	)

3543 
	#SN_£tù_C»dRevReqTBSX
 "£tù-C»dRevReqTBSX"

	)

3544 
	#NID_£tù_C»dRevReqTBSX
 554

	)

3545 
	#OBJ_£tù_C»dRevReqTBSX
 
OBJ_£t_ùy³
,36L

	)

3547 
	#SN_£tù_C»dRevResD©a
 "£tù-C»dRevResD©a"

	)

3548 
	#NID_£tù_C»dRevResD©a
 555

	)

3549 
	#OBJ_£tù_C»dRevResD©a
 
OBJ_£t_ùy³
,37L

	)

3551 
	#SN_£tù_PC”tReqD©a
 "£tù-PC”tReqD©a"

	)

3552 
	#NID_£tù_PC”tReqD©a
 556

	)

3553 
	#OBJ_£tù_PC”tReqD©a
 
OBJ_£t_ùy³
,38L

	)

3555 
	#SN_£tù_PC”tResTBS
 "£tù-PC”tResTBS"

	)

3556 
	#NID_£tù_PC”tResTBS
 557

	)

3557 
	#OBJ_£tù_PC”tResTBS
 
OBJ_£t_ùy³
,39L

	)

3559 
	#SN_£tù_B©chAdmšReqD©a
 "£tù-B©chAdmšReqD©a"

	)

3560 
	#NID_£tù_B©chAdmšReqD©a
 558

	)

3561 
	#OBJ_£tù_B©chAdmšReqD©a
 
OBJ_£t_ùy³
,40L

	)

3563 
	#SN_£tù_B©chAdmšResD©a
 "£tù-B©chAdmšResD©a"

	)

3564 
	#NID_£tù_B©chAdmšResD©a
 559

	)

3565 
	#OBJ_£tù_B©chAdmšResD©a
 
OBJ_£t_ùy³
,41L

	)

3567 
	#SN_£tù_C¬dCIn™ResTBS
 "£tù-C¬dCIn™ResTBS"

	)

3568 
	#NID_£tù_C¬dCIn™ResTBS
 560

	)

3569 
	#OBJ_£tù_C¬dCIn™ResTBS
 
OBJ_£t_ùy³
,42L

	)

3571 
	#SN_£tù_MeAqCIn™ResTBS
 "£tù-MeAqCIn™ResTBS"

	)

3572 
	#NID_£tù_MeAqCIn™ResTBS
 561

	)

3573 
	#OBJ_£tù_MeAqCIn™ResTBS
 
OBJ_£t_ùy³
,43L

	)

3575 
	#SN_£tù_RegFÜmResTBS
 "£tù-RegFÜmResTBS"

	)

3576 
	#NID_£tù_RegFÜmResTBS
 562

	)

3577 
	#OBJ_£tù_RegFÜmResTBS
 
OBJ_£t_ùy³
,44L

	)

3579 
	#SN_£tù_C”tReqD©a
 "£tù-C”tReqD©a"

	)

3580 
	#NID_£tù_C”tReqD©a
 563

	)

3581 
	#OBJ_£tù_C”tReqD©a
 
OBJ_£t_ùy³
,45L

	)

3583 
	#SN_£tù_C”tReqTBS
 "£tù-C”tReqTBS"

	)

3584 
	#NID_£tù_C”tReqTBS
 564

	)

3585 
	#OBJ_£tù_C”tReqTBS
 
OBJ_£t_ùy³
,46L

	)

3587 
	#SN_£tù_C”tResD©a
 "£tù-C”tResD©a"

	)

3588 
	#NID_£tù_C”tResD©a
 565

	)

3589 
	#OBJ_£tù_C”tResD©a
 
OBJ_£t_ùy³
,47L

	)

3591 
	#SN_£tù_C”tInqReqTBS
 "£tù-C”tInqReqTBS"

	)

3592 
	#NID_£tù_C”tInqReqTBS
 566

	)

3593 
	#OBJ_£tù_C”tInqReqTBS
 
OBJ_£t_ùy³
,48L

	)

3595 
	#SN_£tù_E¼ÜTBS
 "£tù-E¼ÜTBS"

	)

3596 
	#NID_£tù_E¼ÜTBS
 567

	)

3597 
	#OBJ_£tù_E¼ÜTBS
 
OBJ_£t_ùy³
,49L

	)

3599 
	#SN_£tù_PIDu®SigÃdTBE
 "£tù-PIDu®SigÃdTBE"

	)

3600 
	#NID_£tù_PIDu®SigÃdTBE
 568

	)

3601 
	#OBJ_£tù_PIDu®SigÃdTBE
 
OBJ_£t_ùy³
,50L

	)

3603 
	#SN_£tù_PIUnsigÃdTBE
 "£tù-PIUnsigÃdTBE"

	)

3604 
	#NID_£tù_PIUnsigÃdTBE
 569

	)

3605 
	#OBJ_£tù_PIUnsigÃdTBE
 
OBJ_£t_ùy³
,51L

	)

3607 
	#SN_£tù_AuthReqTBE
 "£tù-AuthReqTBE"

	)

3608 
	#NID_£tù_AuthReqTBE
 570

	)

3609 
	#OBJ_£tù_AuthReqTBE
 
OBJ_£t_ùy³
,52L

	)

3611 
	#SN_£tù_AuthResTBE
 "£tù-AuthResTBE"

	)

3612 
	#NID_£tù_AuthResTBE
 571

	)

3613 
	#OBJ_£tù_AuthResTBE
 
OBJ_£t_ùy³
,53L

	)

3615 
	#SN_£tù_AuthResTBEX
 "£tù-AuthResTBEX"

	)

3616 
	#NID_£tù_AuthResTBEX
 572

	)

3617 
	#OBJ_£tù_AuthResTBEX
 
OBJ_£t_ùy³
,54L

	)

3619 
	#SN_£tù_AuthTok’TBE
 "£tù-AuthTok’TBE"

	)

3620 
	#NID_£tù_AuthTok’TBE
 573

	)

3621 
	#OBJ_£tù_AuthTok’TBE
 
OBJ_£t_ùy³
,55L

	)

3623 
	#SN_£tù_C­Tok’TBE
 "£tù-C­Tok’TBE"

	)

3624 
	#NID_£tù_C­Tok’TBE
 574

	)

3625 
	#OBJ_£tù_C­Tok’TBE
 
OBJ_£t_ùy³
,56L

	)

3627 
	#SN_£tù_C­Tok’TBEX
 "£tù-C­Tok’TBEX"

	)

3628 
	#NID_£tù_C­Tok’TBEX
 575

	)

3629 
	#OBJ_£tù_C­Tok’TBEX
 
OBJ_£t_ùy³
,57L

	)

3631 
	#SN_£tù_AcqC¬dCodeMsgTBE
 "£tù-AcqC¬dCodeMsgTBE"

	)

3632 
	#NID_£tù_AcqC¬dCodeMsgTBE
 576

	)

3633 
	#OBJ_£tù_AcqC¬dCodeMsgTBE
 
OBJ_£t_ùy³
,58L

	)

3635 
	#SN_£tù_AuthRevReqTBE
 "£tù-AuthRevReqTBE"

	)

3636 
	#NID_£tù_AuthRevReqTBE
 577

	)

3637 
	#OBJ_£tù_AuthRevReqTBE
 
OBJ_£t_ùy³
,59L

	)

3639 
	#SN_£tù_AuthRevResTBE
 "£tù-AuthRevResTBE"

	)

3640 
	#NID_£tù_AuthRevResTBE
 578

	)

3641 
	#OBJ_£tù_AuthRevResTBE
 
OBJ_£t_ùy³
,60L

	)

3643 
	#SN_£tù_AuthRevResTBEB
 "£tù-AuthRevResTBEB"

	)

3644 
	#NID_£tù_AuthRevResTBEB
 579

	)

3645 
	#OBJ_£tù_AuthRevResTBEB
 
OBJ_£t_ùy³
,61L

	)

3647 
	#SN_£tù_C­ReqTBE
 "£tù-C­ReqTBE"

	)

3648 
	#NID_£tù_C­ReqTBE
 580

	)

3649 
	#OBJ_£tù_C­ReqTBE
 
OBJ_£t_ùy³
,62L

	)

3651 
	#SN_£tù_C­ReqTBEX
 "£tù-C­ReqTBEX"

	)

3652 
	#NID_£tù_C­ReqTBEX
 581

	)

3653 
	#OBJ_£tù_C­ReqTBEX
 
OBJ_£t_ùy³
,63L

	)

3655 
	#SN_£tù_C­ResTBE
 "£tù-C­ResTBE"

	)

3656 
	#NID_£tù_C­ResTBE
 582

	)

3657 
	#OBJ_£tù_C­ResTBE
 
OBJ_£t_ùy³
,64L

	)

3659 
	#SN_£tù_C­RevReqTBE
 "£tù-C­RevReqTBE"

	)

3660 
	#NID_£tù_C­RevReqTBE
 583

	)

3661 
	#OBJ_£tù_C­RevReqTBE
 
OBJ_£t_ùy³
,65L

	)

3663 
	#SN_£tù_C­RevReqTBEX
 "£tù-C­RevReqTBEX"

	)

3664 
	#NID_£tù_C­RevReqTBEX
 584

	)

3665 
	#OBJ_£tù_C­RevReqTBEX
 
OBJ_£t_ùy³
,66L

	)

3667 
	#SN_£tù_C­RevResTBE
 "£tù-C­RevResTBE"

	)

3668 
	#NID_£tù_C­RevResTBE
 585

	)

3669 
	#OBJ_£tù_C­RevResTBE
 
OBJ_£t_ùy³
,67L

	)

3671 
	#SN_£tù_C»dReqTBE
 "£tù-C»dReqTBE"

	)

3672 
	#NID_£tù_C»dReqTBE
 586

	)

3673 
	#OBJ_£tù_C»dReqTBE
 
OBJ_£t_ùy³
,68L

	)

3675 
	#SN_£tù_C»dReqTBEX
 "£tù-C»dReqTBEX"

	)

3676 
	#NID_£tù_C»dReqTBEX
 587

	)

3677 
	#OBJ_£tù_C»dReqTBEX
 
OBJ_£t_ùy³
,69L

	)

3679 
	#SN_£tù_C»dResTBE
 "£tù-C»dResTBE"

	)

3680 
	#NID_£tù_C»dResTBE
 588

	)

3681 
	#OBJ_£tù_C»dResTBE
 
OBJ_£t_ùy³
,70L

	)

3683 
	#SN_£tù_C»dRevReqTBE
 "£tù-C»dRevReqTBE"

	)

3684 
	#NID_£tù_C»dRevReqTBE
 589

	)

3685 
	#OBJ_£tù_C»dRevReqTBE
 
OBJ_£t_ùy³
,71L

	)

3687 
	#SN_£tù_C»dRevReqTBEX
 "£tù-C»dRevReqTBEX"

	)

3688 
	#NID_£tù_C»dRevReqTBEX
 590

	)

3689 
	#OBJ_£tù_C»dRevReqTBEX
 
OBJ_£t_ùy³
,72L

	)

3691 
	#SN_£tù_C»dRevResTBE
 "£tù-C»dRevResTBE"

	)

3692 
	#NID_£tù_C»dRevResTBE
 591

	)

3693 
	#OBJ_£tù_C»dRevResTBE
 
OBJ_£t_ùy³
,73L

	)

3695 
	#SN_£tù_B©chAdmšReqTBE
 "£tù-B©chAdmšReqTBE"

	)

3696 
	#NID_£tù_B©chAdmšReqTBE
 592

	)

3697 
	#OBJ_£tù_B©chAdmšReqTBE
 
OBJ_£t_ùy³
,74L

	)

3699 
	#SN_£tù_B©chAdmšResTBE
 "£tù-B©chAdmšResTBE"

	)

3700 
	#NID_£tù_B©chAdmšResTBE
 593

	)

3701 
	#OBJ_£tù_B©chAdmšResTBE
 
OBJ_£t_ùy³
,75L

	)

3703 
	#SN_£tù_RegFÜmReqTBE
 "£tù-RegFÜmReqTBE"

	)

3704 
	#NID_£tù_RegFÜmReqTBE
 594

	)

3705 
	#OBJ_£tù_RegFÜmReqTBE
 
OBJ_£t_ùy³
,76L

	)

3707 
	#SN_£tù_C”tReqTBE
 "£tù-C”tReqTBE"

	)

3708 
	#NID_£tù_C”tReqTBE
 595

	)

3709 
	#OBJ_£tù_C”tReqTBE
 
OBJ_£t_ùy³
,77L

	)

3711 
	#SN_£tù_C”tReqTBEX
 "£tù-C”tReqTBEX"

	)

3712 
	#NID_£tù_C”tReqTBEX
 596

	)

3713 
	#OBJ_£tù_C”tReqTBEX
 
OBJ_£t_ùy³
,78L

	)

3715 
	#SN_£tù_C”tResTBE
 "£tù-C”tResTBE"

	)

3716 
	#NID_£tù_C”tResTBE
 597

	)

3717 
	#OBJ_£tù_C”tResTBE
 
OBJ_£t_ùy³
,79L

	)

3719 
	#SN_£tù_CRLNÙifiÿtiÚTBS
 "£tù-CRLNÙifiÿtiÚTBS"

	)

3720 
	#NID_£tù_CRLNÙifiÿtiÚTBS
 598

	)

3721 
	#OBJ_£tù_CRLNÙifiÿtiÚTBS
 
OBJ_£t_ùy³
,80L

	)

3723 
	#SN_£tù_CRLNÙifiÿtiÚResTBS
 "£tù-CRLNÙifiÿtiÚResTBS"

	)

3724 
	#NID_£tù_CRLNÙifiÿtiÚResTBS
 599

	)

3725 
	#OBJ_£tù_CRLNÙifiÿtiÚResTBS
 
OBJ_£t_ùy³
,81L

	)

3727 
	#SN_£tù_BCIDi¡ributiÚTBS
 "£tù-BCIDi¡ributiÚTBS"

	)

3728 
	#NID_£tù_BCIDi¡ributiÚTBS
 600

	)

3729 
	#OBJ_£tù_BCIDi¡ributiÚTBS
 
OBJ_£t_ùy³
,82L

	)

3731 
	#SN_£‹xt_g’Cry±
 "£‹xt-g’Cry±"

	)

3732 
	#LN_£‹xt_g’Cry±
 "g’”iøüy±og¿m"

	)

3733 
	#NID_£‹xt_g’Cry±
 601

	)

3734 
	#OBJ_£‹xt_g’Cry±
 
OBJ_£t_msgExt
,1L

	)

3736 
	#SN_£‹xt_miAuth
 "£‹xt-miAuth"

	)

3737 
	#LN_£‹xt_miAuth
 "m”chªˆš™Ÿ‹d‡uth"

	)

3738 
	#NID_£‹xt_miAuth
 602

	)

3739 
	#OBJ_£‹xt_miAuth
 
OBJ_£t_msgExt
,3L

	)

3741 
	#SN_£‹xt_pšSecu»
 "£‹xt-pšSecu»"

	)

3742 
	#NID_£‹xt_pšSecu»
 603

	)

3743 
	#OBJ_£‹xt_pšSecu»
 
OBJ_£t_msgExt
,4L

	)

3745 
	#SN_£‹xt_pšAny
 "£‹xt-pšAny"

	)

3746 
	#NID_£‹xt_pšAny
 604

	)

3747 
	#OBJ_£‹xt_pšAny
 
OBJ_£t_msgExt
,5L

	)

3749 
	#SN_£‹xt_Œack2
 "£‹xt-Œack2"

	)

3750 
	#NID_£‹xt_Œack2
 605

	)

3751 
	#OBJ_£‹xt_Œack2
 
OBJ_£t_msgExt
,7L

	)

3753 
	#SN_£‹xt_cv
 "£‹xt-cv"

	)

3754 
	#LN_£‹xt_cv
 "add™iÚ® v”ifiÿtiÚ"

	)

3755 
	#NID_£‹xt_cv
 606

	)

3756 
	#OBJ_£‹xt_cv
 
OBJ_£t_msgExt
,8L

	)

3758 
	#SN_£t_pŞicy_roÙ
 "£t-pŞicy-roÙ"

	)

3759 
	#NID_£t_pŞicy_roÙ
 607

	)

3760 
	#OBJ_£t_pŞicy_roÙ
 
OBJ_£t_pŞicy
,0L

	)

3762 
	#SN_£tCext_hashedRoÙ
 "£tCext-hashedRoÙ"

	)

3763 
	#NID_£tCext_hashedRoÙ
 608

	)

3764 
	#OBJ_£tCext_hashedRoÙ
 
OBJ_£t_û¹Ext
,0L

	)

3766 
	#SN_£tCext_û¹Ty³
 "£tCext-û¹Ty³"

	)

3767 
	#NID_£tCext_û¹Ty³
 609

	)

3768 
	#OBJ_£tCext_û¹Ty³
 
OBJ_£t_û¹Ext
,1L

	)

3770 
	#SN_£tCext_m”chD©a
 "£tCext-m”chD©a"

	)

3771 
	#NID_£tCext_m”chD©a
 610

	)

3772 
	#OBJ_£tCext_m”chD©a
 
OBJ_£t_û¹Ext
,2L

	)

3774 
	#SN_£tCext_cC”tRequœed
 "£tCext-cC”tRequœed"

	)

3775 
	#NID_£tCext_cC”tRequœed
 611

	)

3776 
	#OBJ_£tCext_cC”tRequœed
 
OBJ_£t_û¹Ext
,3L

	)

3778 
	#SN_£tCext_tuÂ–šg
 "£tCext-tuÂ–šg"

	)

3779 
	#NID_£tCext_tuÂ–šg
 612

	)

3780 
	#OBJ_£tCext_tuÂ–šg
 
OBJ_£t_û¹Ext
,4L

	)

3782 
	#SN_£tCext_£tExt
 "£tCext-£tExt"

	)

3783 
	#NID_£tCext_£tExt
 613

	)

3784 
	#OBJ_£tCext_£tExt
 
OBJ_£t_û¹Ext
,5L

	)

3786 
	#SN_£tCext_£tQu®f
 "£tCext-£tQu®f"

	)

3787 
	#NID_£tCext_£tQu®f
 614

	)

3788 
	#OBJ_£tCext_£tQu®f
 
OBJ_£t_û¹Ext
,6L

	)

3790 
	#SN_£tCext_PGWYÿ·b™›s
 "£tCext-PGWYÿ·b™›s"

	)

3791 
	#NID_£tCext_PGWYÿ·b™›s
 615

	)

3792 
	#OBJ_£tCext_PGWYÿ·b™›s
 
OBJ_£t_û¹Ext
,7L

	)

3794 
	#SN_£tCext_Tok’Id’tif›r
 "£tCext-Tok’Id’tif›r"

	)

3795 
	#NID_£tCext_Tok’Id’tif›r
 616

	)

3796 
	#OBJ_£tCext_Tok’Id’tif›r
 
OBJ_£t_û¹Ext
,8L

	)

3798 
	#SN_£tCext_T¿ck2D©a
 "£tCext-T¿ck2D©a"

	)

3799 
	#NID_£tCext_T¿ck2D©a
 617

	)

3800 
	#OBJ_£tCext_T¿ck2D©a
 
OBJ_£t_û¹Ext
,9L

	)

3802 
	#SN_£tCext_Tok’Ty³
 "£tCext-Tok’Ty³"

	)

3803 
	#NID_£tCext_Tok’Ty³
 618

	)

3804 
	#OBJ_£tCext_Tok’Ty³
 
OBJ_£t_û¹Ext
,10L

	)

3806 
	#SN_£tCext_Issu”C­ab™›s
 "£tCext-Issu”C­ab™›s"

	)

3807 
	#NID_£tCext_Issu”C­ab™›s
 619

	)

3808 
	#OBJ_£tCext_Issu”C­ab™›s
 
OBJ_£t_û¹Ext
,11L

	)

3810 
	#SN_£tA‰r_C”t
 "£tA‰r-C”t"

	)

3811 
	#NID_£tA‰r_C”t
 620

	)

3812 
	#OBJ_£tA‰r_C”t
 
OBJ_£t_©Œ
,0L

	)

3814 
	#SN_£tA‰r_PGWYÿp
 "£tA‰r-PGWYÿp"

	)

3815 
	#LN_£tA‰r_PGWYÿp
 "·ym’ˆg©eway c­ab™›s"

	)

3816 
	#NID_£tA‰r_PGWYÿp
 621

	)

3817 
	#OBJ_£tA‰r_PGWYÿp
 
OBJ_£t_©Œ
,1L

	)

3819 
	#SN_£tA‰r_Tok’Ty³
 "£tA‰r-Tok’Ty³"

	)

3820 
	#NID_£tA‰r_Tok’Ty³
 622

	)

3821 
	#OBJ_£tA‰r_Tok’Ty³
 
OBJ_£t_©Œ
,2L

	)

3823 
	#SN_£tA‰r_IssC­
 "£tA‰r-IssC­"

	)

3824 
	#LN_£tA‰r_IssC­
 "issu” c­ab™›s"

	)

3825 
	#NID_£tA‰r_IssC­
 623

	)

3826 
	#OBJ_£tA‰r_IssC­
 
OBJ_£t_©Œ
,3L

	)

3828 
	#SN_£t_roÙKeyThumb
 "£t-roÙKeyThumb"

	)

3829 
	#NID_£t_roÙKeyThumb
 624

	)

3830 
	#OBJ_£t_roÙKeyThumb
 
OBJ_£tA‰r_C”t
,0L

	)

3832 
	#SN_£t_addPŞicy
 "£t-addPŞicy"

	)

3833 
	#NID_£t_addPŞicy
 625

	)

3834 
	#OBJ_£t_addPŞicy
 
OBJ_£tA‰r_C”t
,1L

	)

3836 
	#SN_£tA‰r_Tok’_EMV
 "£tA‰r-Tok’-EMV"

	)

3837 
	#NID_£tA‰r_Tok’_EMV
 626

	)

3838 
	#OBJ_£tA‰r_Tok’_EMV
 
OBJ_£tA‰r_Tok’Ty³
,1L

	)

3840 
	#SN_£tA‰r_Tok’_B0Prime
 "£tA‰r-Tok’-B0Prime"

	)

3841 
	#NID_£tA‰r_Tok’_B0Prime
 627

	)

3842 
	#OBJ_£tA‰r_Tok’_B0Prime
 
OBJ_£tA‰r_Tok’Ty³
,2L

	)

3844 
	#SN_£tA‰r_IssC­_CVM
 "£tA‰r-IssC­-CVM"

	)

3845 
	#NID_£tA‰r_IssC­_CVM
 628

	)

3846 
	#OBJ_£tA‰r_IssC­_CVM
 
OBJ_£tA‰r_IssC­
,3L

	)

3848 
	#SN_£tA‰r_IssC­_T2
 "£tA‰r-IssC­-T2"

	)

3849 
	#NID_£tA‰r_IssC­_T2
 629

	)

3850 
	#OBJ_£tA‰r_IssC­_T2
 
OBJ_£tA‰r_IssC­
,4L

	)

3852 
	#SN_£tA‰r_IssC­_Sig
 "£tA‰r-IssC­-Sig"

	)

3853 
	#NID_£tA‰r_IssC­_Sig
 630

	)

3854 
	#OBJ_£tA‰r_IssC­_Sig
 
OBJ_£tA‰r_IssC­
,5L

	)

3856 
	#SN_£tA‰r_G’Cry±grm
 "£tA‰r-G’Cry±grm"

	)

3857 
	#LN_£tA‰r_G’Cry±grm
 "g’”©üy±og¿m"

	)

3858 
	#NID_£tA‰r_G’Cry±grm
 631

	)

3859 
	#OBJ_£tA‰r_G’Cry±grm
 
OBJ_£tA‰r_IssC­_CVM
,1L

	)

3861 
	#SN_£tA‰r_T2Enc
 "£tA‰r-T2Enc"

	)

3862 
	#LN_£tA‰r_T2Enc
 "’üy±ed¿ck 2"

	)

3863 
	#NID_£tA‰r_T2Enc
 632

	)

3864 
	#OBJ_£tA‰r_T2Enc
 
OBJ_£tA‰r_IssC­_T2
,1L

	)

3866 
	#SN_£tA‰r_T2ş—¹xt
 "£tA‰r-T2ş—¹xt"

	)

3867 
	#LN_£tA‰r_T2ş—¹xt
 "ş—¹exˆŒack 2"

	)

3868 
	#NID_£tA‰r_T2ş—¹xt
 633

	)

3869 
	#OBJ_£tA‰r_T2ş—¹xt
 
OBJ_£tA‰r_IssC­_T2
,2L

	)

3871 
	#SN_£tA‰r_TokICCsig
 "£tA‰r-TokICCsig"

	)

3872 
	#LN_£tA‰r_TokICCsig
 "ICC o¸tok’ sigÇtu»"

	)

3873 
	#NID_£tA‰r_TokICCsig
 634

	)

3874 
	#OBJ_£tA‰r_TokICCsig
 
OBJ_£tA‰r_IssC­_Sig
,1L

	)

3876 
	#SN_£tA‰r_SecDevSig
 "£tA‰r-SecDevSig"

	)

3877 
	#LN_£tA‰r_SecDevSig
 "£cu» deviû sigÇtu»"

	)

3878 
	#NID_£tA‰r_SecDevSig
 635

	)

3879 
	#OBJ_£tA‰r_SecDevSig
 
OBJ_£tA‰r_IssC­_Sig
,2L

	)

3881 
	#SN_£t_b¿nd_IATA_ATA
 "£t-b¿nd-IATA-ATA"

	)

3882 
	#NID_£t_b¿nd_IATA_ATA
 636

	)

3883 
	#OBJ_£t_b¿nd_IATA_ATA
 
OBJ_£t_b¿nd
,1L

	)

3885 
	#SN_£t_b¿nd_Dš”s
 "£t-b¿nd-Dš”s"

	)

3886 
	#NID_£t_b¿nd_Dš”s
 637

	)

3887 
	#OBJ_£t_b¿nd_Dš”s
 
OBJ_£t_b¿nd
,30L

	)

3889 
	#SN_£t_b¿nd_Am”iÿnEx´ess
 "£t-b¿nd-Am”iÿnEx´ess"

	)

3890 
	#NID_£t_b¿nd_Am”iÿnEx´ess
 638

	)

3891 
	#OBJ_£t_b¿nd_Am”iÿnEx´ess
 
OBJ_£t_b¿nd
,34L

	)

3893 
	#SN_£t_b¿nd_JCB
 "£t-b¿nd-JCB"

	)

3894 
	#NID_£t_b¿nd_JCB
 639

	)

3895 
	#OBJ_£t_b¿nd_JCB
 
OBJ_£t_b¿nd
,35L

	)

3897 
	#SN_£t_b¿nd_Vi§
 "£t-b¿nd-Vi§"

	)

3898 
	#NID_£t_b¿nd_Vi§
 640

	)

3899 
	#OBJ_£t_b¿nd_Vi§
 
OBJ_£t_b¿nd
,4L

	)

3901 
	#SN_£t_b¿nd_Ma¡”C¬d
 "£t-b¿nd-Ma¡”C¬d"

	)

3902 
	#NID_£t_b¿nd_Ma¡”C¬d
 641

	)

3903 
	#OBJ_£t_b¿nd_Ma¡”C¬d
 
OBJ_£t_b¿nd
,5L

	)

3905 
	#SN_£t_b¿nd_Novus
 "£t-b¿nd-Novus"

	)

3906 
	#NID_£t_b¿nd_Novus
 642

	)

3907 
	#OBJ_£t_b¿nd_Novus
 
OBJ_£t_b¿nd
,6011L

	)

3909 
	#SN_des_cdmf
 "DES-CDMF"

	)

3910 
	#LN_des_cdmf
 "des-cdmf"

	)

3911 
	#NID_des_cdmf
 643

	)

3912 
	#OBJ_des_cdmf
 
OBJ_r§dsi
,3L,10L

	)

3914 
	#SN_r§OAEPEnüy±iÚSET
 "r§OAEPEnüy±iÚSET"

	)

3915 
	#NID_r§OAEPEnüy±iÚSET
 644

	)

3916 
	#OBJ_r§OAEPEnüy±iÚSET
 
OBJ_r§dsi
,1L,1L,6L

	)

3918 
	#SN_£c3
 "OakËy-EC2N-3"

	)

3919 
	#LN_£c3
 "£c3"

	)

3920 
	#NID_£c3
 749

	)

3922 
	#SN_£c4
 "OakËy-EC2N-4"

	)

3923 
	#LN_£c4
 "£c4"

	)

3924 
	#NID_£c4
 750

	)

3926 
	#SN_whœÍoŞ
 "whœÍoŞ"

	)

3927 
	#NID_whœÍoŞ
 804

	)

3928 
	#OBJ_whœÍoŞ
 
OBJ_iso
,0L,10118L,3L,0L,55L

	)

3930 
	#SN_üy±İro
 "üy±İro"

	)

3931 
	#NID_üy±İro
 805

	)

3932 
	#OBJ_üy±İro
 
OBJ_memb”_body
,643L,2L,2L

	)

3934 
	#SN_üy±ocom
 "üy±ocom"

	)

3935 
	#NID_üy±ocom
 806

	)

3936 
	#OBJ_üy±ocom
 
OBJ_memb”_body
,643L,2L,9L

	)

3938 
	#SN_id_tc26
 "id-tc26"

	)

3939 
	#NID_id_tc26
 974

	)

3940 
	#OBJ_id_tc26
 
OBJ_memb”_body
,643L,7L,1L

	)

3942 
	#SN_id_Go¡R3411_94_w™h_Go¡R3410_2001
 "id-Go¡R3411-94-w™h-Go¡R3410-2001"

	)

3943 
	#LN_id_Go¡R3411_94_w™h_Go¡R3410_2001
 "GOST R 34.11-94 w™h GOST R 34.10-2001"

	)

3944 
	#NID_id_Go¡R3411_94_w™h_Go¡R3410_2001
 807

	)

3945 
	#OBJ_id_Go¡R3411_94_w™h_Go¡R3410_2001
 
OBJ_üy±İro
,3L

	)

3947 
	#SN_id_Go¡R3411_94_w™h_Go¡R3410_94
 "id-Go¡R3411-94-w™h-Go¡R3410-94"

	)

3948 
	#LN_id_Go¡R3411_94_w™h_Go¡R3410_94
 "GOST R 34.11-94 w™h GOST R 34.10-94"

	)

3949 
	#NID_id_Go¡R3411_94_w™h_Go¡R3410_94
 808

	)

3950 
	#OBJ_id_Go¡R3411_94_w™h_Go¡R3410_94
 
OBJ_üy±İro
,4L

	)

3952 
	#SN_id_Go¡R3411_94
 "md_go¡94"

	)

3953 
	#LN_id_Go¡R3411_94
 "GOST R 34.11-94"

	)

3954 
	#NID_id_Go¡R3411_94
 809

	)

3955 
	#OBJ_id_Go¡R3411_94
 
OBJ_üy±İro
,9L

	)

3957 
	#SN_id_HMACGo¡R3411_94
 "id-HMACGo¡R3411-94"

	)

3958 
	#LN_id_HMACGo¡R3411_94
 "HMAC GOST 34.11-94"

	)

3959 
	#NID_id_HMACGo¡R3411_94
 810

	)

3960 
	#OBJ_id_HMACGo¡R3411_94
 
OBJ_üy±İro
,10L

	)

3962 
	#SN_id_Go¡R3410_2001
 "go¡2001"

	)

3963 
	#LN_id_Go¡R3410_2001
 "GOST R 34.10-2001"

	)

3964 
	#NID_id_Go¡R3410_2001
 811

	)

3965 
	#OBJ_id_Go¡R3410_2001
 
OBJ_üy±İro
,19L

	)

3967 
	#SN_id_Go¡R3410_94
 "go¡94"

	)

3968 
	#LN_id_Go¡R3410_94
 "GOST R 34.10-94"

	)

3969 
	#NID_id_Go¡R3410_94
 812

	)

3970 
	#OBJ_id_Go¡R3410_94
 
OBJ_üy±İro
,20L

	)

3972 
	#SN_id_Go¡28147_89
 "go¡89"

	)

3973 
	#LN_id_Go¡28147_89
 "GOST 28147-89"

	)

3974 
	#NID_id_Go¡28147_89
 813

	)

3975 
	#OBJ_id_Go¡28147_89
 
OBJ_üy±İro
,21L

	)

3977 
	#SN_go¡89_út
 "go¡89-út"

	)

3978 
	#NID_go¡89_út
 814

	)

3980 
	#SN_go¡89_út_12
 "go¡89-út-12"

	)

3981 
	#NID_go¡89_út_12
 975

	)

3983 
	#SN_go¡89_cbc
 "go¡89-cbc"

	)

3984 
	#NID_go¡89_cbc
 1009

	)

3986 
	#SN_go¡89_ecb
 "go¡89-ecb"

	)

3987 
	#NID_go¡89_ecb
 1010

	)

3989 
	#SN_go¡89_ùr
 "go¡89-ùr"

	)

3990 
	#NID_go¡89_ùr
 1011

	)

3992 
	#SN_id_Go¡28147_89_MAC
 "go¡-mac"

	)

3993 
	#LN_id_Go¡28147_89_MAC
 "GOST 28147-89 MAC"

	)

3994 
	#NID_id_Go¡28147_89_MAC
 815

	)

3995 
	#OBJ_id_Go¡28147_89_MAC
 
OBJ_üy±İro
,22L

	)

3997 
	#SN_go¡_mac_12
 "go¡-mac-12"

	)

3998 
	#NID_go¡_mac_12
 976

	)

4000 
	#SN_id_Go¡R3411_94_´f
 "´f-go¡r3411-94"

	)

4001 
	#LN_id_Go¡R3411_94_´f
 "GOST R 34.11-94 PRF"

	)

4002 
	#NID_id_Go¡R3411_94_´f
 816

	)

4003 
	#OBJ_id_Go¡R3411_94_´f
 
OBJ_üy±İro
,23L

	)

4005 
	#SN_id_Go¡R3410_2001DH
 "id-Go¡R3410-2001DH"

	)

4006 
	#LN_id_Go¡R3410_2001DH
 "GOST R 34.10-2001 DH"

	)

4007 
	#NID_id_Go¡R3410_2001DH
 817

	)

4008 
	#OBJ_id_Go¡R3410_2001DH
 
OBJ_üy±İro
,98L

	)

4010 
	#SN_id_Go¡R3410_94DH
 "id-Go¡R3410-94DH"

	)

4011 
	#LN_id_Go¡R3410_94DH
 "GOST R 34.10-94 DH"

	)

4012 
	#NID_id_Go¡R3410_94DH
 818

	)

4013 
	#OBJ_id_Go¡R3410_94DH
 
OBJ_üy±İro
,99L

	)

4015 
	#SN_id_Go¡28147_89_Cry±oPro_KeyMeshšg
 "id-Go¡28147-89-Cry±oPro-KeyMeshšg"

	)

4016 
	#NID_id_Go¡28147_89_Cry±oPro_KeyMeshšg
 819

	)

4017 
	#OBJ_id_Go¡28147_89_Cry±oPro_KeyMeshšg
 
OBJ_üy±İro
,14L,1L

	)

4019 
	#SN_id_Go¡28147_89_NÚe_KeyMeshšg
 "id-Go¡28147-89-NÚe-KeyMeshšg"

	)

4020 
	#NID_id_Go¡28147_89_NÚe_KeyMeshšg
 820

	)

4021 
	#OBJ_id_Go¡28147_89_NÚe_KeyMeshšg
 
OBJ_üy±İro
,14L,0L

	)

4023 
	#SN_id_Go¡R3411_94_Te¡P¬amS‘
 "id-Go¡R3411-94-Te¡P¬amS‘"

	)

4024 
	#NID_id_Go¡R3411_94_Te¡P¬amS‘
 821

	)

4025 
	#OBJ_id_Go¡R3411_94_Te¡P¬amS‘
 
OBJ_üy±İro
,30L,0L

	)

4027 
	#SN_id_Go¡R3411_94_Cry±oProP¬amS‘
 "id-Go¡R3411-94-Cry±oProP¬amS‘"

	)

4028 
	#NID_id_Go¡R3411_94_Cry±oProP¬amS‘
 822

	)

4029 
	#OBJ_id_Go¡R3411_94_Cry±oProP¬amS‘
 
OBJ_üy±İro
,30L,1L

	)

4031 
	#SN_id_Go¡28147_89_Te¡P¬amS‘
 "id-Go¡28147-89-Te¡P¬amS‘"

	)

4032 
	#NID_id_Go¡28147_89_Te¡P¬amS‘
 823

	)

4033 
	#OBJ_id_Go¡28147_89_Te¡P¬amS‘
 
OBJ_üy±İro
,31L,0L

	)

4035 
	#SN_id_Go¡28147_89_Cry±oPro_A_P¬amS‘
 "id-Go¡28147-89-Cry±oPro-A-P¬amS‘"

	)

4036 
	#NID_id_Go¡28147_89_Cry±oPro_A_P¬amS‘
 824

	)

4037 
	#OBJ_id_Go¡28147_89_Cry±oPro_A_P¬amS‘
 
OBJ_üy±İro
,31L,1L

	)

4039 
	#SN_id_Go¡28147_89_Cry±oPro_B_P¬amS‘
 "id-Go¡28147-89-Cry±oPro-B-P¬amS‘"

	)

4040 
	#NID_id_Go¡28147_89_Cry±oPro_B_P¬amS‘
 825

	)

4041 
	#OBJ_id_Go¡28147_89_Cry±oPro_B_P¬amS‘
 
OBJ_üy±İro
,31L,2L

	)

4043 
	#SN_id_Go¡28147_89_Cry±oPro_C_P¬amS‘
 "id-Go¡28147-89-Cry±oPro-C-P¬amS‘"

	)

4044 
	#NID_id_Go¡28147_89_Cry±oPro_C_P¬amS‘
 826

	)

4045 
	#OBJ_id_Go¡28147_89_Cry±oPro_C_P¬amS‘
 
OBJ_üy±İro
,31L,3L

	)

4047 
	#SN_id_Go¡28147_89_Cry±oPro_D_P¬amS‘
 "id-Go¡28147-89-Cry±oPro-D-P¬amS‘"

	)

4048 
	#NID_id_Go¡28147_89_Cry±oPro_D_P¬amS‘
 827

	)

4049 
	#OBJ_id_Go¡28147_89_Cry±oPro_D_P¬amS‘
 
OBJ_üy±İro
,31L,4L

	)

4051 
	#SN_id_Go¡28147_89_Cry±oPro_Osÿr_1_1_P¬amS‘
 "id-Go¡28147-89-Cry±oPro-Osÿr-1-1-P¬amS‘"

	)

4052 
	#NID_id_Go¡28147_89_Cry±oPro_Osÿr_1_1_P¬amS‘
 828

	)

4053 
	#OBJ_id_Go¡28147_89_Cry±oPro_Osÿr_1_1_P¬amS‘
 
OBJ_üy±İro
,31L,5L

	)

4055 
	#SN_id_Go¡28147_89_Cry±oPro_Osÿr_1_0_P¬amS‘
 "id-Go¡28147-89-Cry±oPro-Osÿr-1-0-P¬amS‘"

	)

4056 
	#NID_id_Go¡28147_89_Cry±oPro_Osÿr_1_0_P¬amS‘
 829

	)

4057 
	#OBJ_id_Go¡28147_89_Cry±oPro_Osÿr_1_0_P¬amS‘
 
OBJ_üy±İro
,31L,6L

	)

4059 
	#SN_id_Go¡28147_89_Cry±oPro_RIC_1_P¬amS‘
 "id-Go¡28147-89-Cry±oPro-RIC-1-P¬amS‘"

	)

4060 
	#NID_id_Go¡28147_89_Cry±oPro_RIC_1_P¬amS‘
 830

	)

4061 
	#OBJ_id_Go¡28147_89_Cry±oPro_RIC_1_P¬amS‘
 
OBJ_üy±İro
,31L,7L

	)

4063 
	#SN_id_Go¡R3410_94_Te¡P¬amS‘
 "id-Go¡R3410-94-Te¡P¬amS‘"

	)

4064 
	#NID_id_Go¡R3410_94_Te¡P¬amS‘
 831

	)

4065 
	#OBJ_id_Go¡R3410_94_Te¡P¬amS‘
 
OBJ_üy±İro
,32L,0L

	)

4067 
	#SN_id_Go¡R3410_94_Cry±oPro_A_P¬amS‘
 "id-Go¡R3410-94-Cry±oPro-A-P¬amS‘"

	)

4068 
	#NID_id_Go¡R3410_94_Cry±oPro_A_P¬amS‘
 832

	)

4069 
	#OBJ_id_Go¡R3410_94_Cry±oPro_A_P¬amS‘
 
OBJ_üy±İro
,32L,2L

	)

4071 
	#SN_id_Go¡R3410_94_Cry±oPro_B_P¬amS‘
 "id-Go¡R3410-94-Cry±oPro-B-P¬amS‘"

	)

4072 
	#NID_id_Go¡R3410_94_Cry±oPro_B_P¬amS‘
 833

	)

4073 
	#OBJ_id_Go¡R3410_94_Cry±oPro_B_P¬amS‘
 
OBJ_üy±İro
,32L,3L

	)

4075 
	#SN_id_Go¡R3410_94_Cry±oPro_C_P¬amS‘
 "id-Go¡R3410-94-Cry±oPro-C-P¬amS‘"

	)

4076 
	#NID_id_Go¡R3410_94_Cry±oPro_C_P¬amS‘
 834

	)

4077 
	#OBJ_id_Go¡R3410_94_Cry±oPro_C_P¬amS‘
 
OBJ_üy±İro
,32L,4L

	)

4079 
	#SN_id_Go¡R3410_94_Cry±oPro_D_P¬amS‘
 "id-Go¡R3410-94-Cry±oPro-D-P¬amS‘"

	)

4080 
	#NID_id_Go¡R3410_94_Cry±oPro_D_P¬amS‘
 835

	)

4081 
	#OBJ_id_Go¡R3410_94_Cry±oPro_D_P¬amS‘
 
OBJ_üy±İro
,32L,5L

	)

4083 
	#SN_id_Go¡R3410_94_Cry±oPro_XchA_P¬amS‘
 "id-Go¡R3410-94-Cry±oPro-XchA-P¬amS‘"

	)

4084 
	#NID_id_Go¡R3410_94_Cry±oPro_XchA_P¬amS‘
 836

	)

4085 
	#OBJ_id_Go¡R3410_94_Cry±oPro_XchA_P¬amS‘
 
OBJ_üy±İro
,33L,1L

	)

4087 
	#SN_id_Go¡R3410_94_Cry±oPro_XchB_P¬amS‘
 "id-Go¡R3410-94-Cry±oPro-XchB-P¬amS‘"

	)

4088 
	#NID_id_Go¡R3410_94_Cry±oPro_XchB_P¬amS‘
 837

	)

4089 
	#OBJ_id_Go¡R3410_94_Cry±oPro_XchB_P¬amS‘
 
OBJ_üy±İro
,33L,2L

	)

4091 
	#SN_id_Go¡R3410_94_Cry±oPro_XchC_P¬amS‘
 "id-Go¡R3410-94-Cry±oPro-XchC-P¬amS‘"

	)

4092 
	#NID_id_Go¡R3410_94_Cry±oPro_XchC_P¬amS‘
 838

	)

4093 
	#OBJ_id_Go¡R3410_94_Cry±oPro_XchC_P¬amS‘
 
OBJ_üy±İro
,33L,3L

	)

4095 
	#SN_id_Go¡R3410_2001_Te¡P¬amS‘
 "id-Go¡R3410-2001-Te¡P¬amS‘"

	)

4096 
	#NID_id_Go¡R3410_2001_Te¡P¬amS‘
 839

	)

4097 
	#OBJ_id_Go¡R3410_2001_Te¡P¬amS‘
 
OBJ_üy±İro
,35L,0L

	)

4099 
	#SN_id_Go¡R3410_2001_Cry±oPro_A_P¬amS‘
 "id-Go¡R3410-2001-Cry±oPro-A-P¬amS‘"

	)

4100 
	#NID_id_Go¡R3410_2001_Cry±oPro_A_P¬amS‘
 840

	)

4101 
	#OBJ_id_Go¡R3410_2001_Cry±oPro_A_P¬amS‘
 
OBJ_üy±İro
,35L,1L

	)

4103 
	#SN_id_Go¡R3410_2001_Cry±oPro_B_P¬amS‘
 "id-Go¡R3410-2001-Cry±oPro-B-P¬amS‘"

	)

4104 
	#NID_id_Go¡R3410_2001_Cry±oPro_B_P¬amS‘
 841

	)

4105 
	#OBJ_id_Go¡R3410_2001_Cry±oPro_B_P¬amS‘
 
OBJ_üy±İro
,35L,2L

	)

4107 
	#SN_id_Go¡R3410_2001_Cry±oPro_C_P¬amS‘
 "id-Go¡R3410-2001-Cry±oPro-C-P¬amS‘"

	)

4108 
	#NID_id_Go¡R3410_2001_Cry±oPro_C_P¬amS‘
 842

	)

4109 
	#OBJ_id_Go¡R3410_2001_Cry±oPro_C_P¬amS‘
 
OBJ_üy±İro
,35L,3L

	)

4111 
	#SN_id_Go¡R3410_2001_Cry±oPro_XchA_P¬amS‘
 "id-Go¡R3410-2001-Cry±oPro-XchA-P¬amS‘"

	)

4112 
	#NID_id_Go¡R3410_2001_Cry±oPro_XchA_P¬amS‘
 843

	)

4113 
	#OBJ_id_Go¡R3410_2001_Cry±oPro_XchA_P¬amS‘
 
OBJ_üy±İro
,36L,0L

	)

4115 
	#SN_id_Go¡R3410_2001_Cry±oPro_XchB_P¬amS‘
 "id-Go¡R3410-2001-Cry±oPro-XchB-P¬amS‘"

	)

4116 
	#NID_id_Go¡R3410_2001_Cry±oPro_XchB_P¬amS‘
 844

	)

4117 
	#OBJ_id_Go¡R3410_2001_Cry±oPro_XchB_P¬amS‘
 
OBJ_üy±İro
,36L,1L

	)

4119 
	#SN_id_Go¡R3410_94_a
 "id-Go¡R3410-94-a"

	)

4120 
	#NID_id_Go¡R3410_94_a
 845

	)

4121 
	#OBJ_id_Go¡R3410_94_a
 
OBJ_id_Go¡R3410_94
,1L

	)

4123 
	#SN_id_Go¡R3410_94_aBis
 "id-Go¡R3410-94-aBis"

	)

4124 
	#NID_id_Go¡R3410_94_aBis
 846

	)

4125 
	#OBJ_id_Go¡R3410_94_aBis
 
OBJ_id_Go¡R3410_94
,2L

	)

4127 
	#SN_id_Go¡R3410_94_b
 "id-Go¡R3410-94-b"

	)

4128 
	#NID_id_Go¡R3410_94_b
 847

	)

4129 
	#OBJ_id_Go¡R3410_94_b
 
OBJ_id_Go¡R3410_94
,3L

	)

4131 
	#SN_id_Go¡R3410_94_bBis
 "id-Go¡R3410-94-bBis"

	)

4132 
	#NID_id_Go¡R3410_94_bBis
 848

	)

4133 
	#OBJ_id_Go¡R3410_94_bBis
 
OBJ_id_Go¡R3410_94
,4L

	)

4135 
	#SN_id_Go¡28147_89_cc
 "id-Go¡28147-89-cc"

	)

4136 
	#LN_id_Go¡28147_89_cc
 "GOST 28147-89 Cry±ocom P¬amS‘"

	)

4137 
	#NID_id_Go¡28147_89_cc
 849

	)

4138 
	#OBJ_id_Go¡28147_89_cc
 
OBJ_üy±ocom
,1L,6L,1L

	)

4140 
	#SN_id_Go¡R3410_94_cc
 "go¡94cc"

	)

4141 
	#LN_id_Go¡R3410_94_cc
 "GOST 34.10-94 Cry±ocom"

	)

4142 
	#NID_id_Go¡R3410_94_cc
 850

	)

4143 
	#OBJ_id_Go¡R3410_94_cc
 
OBJ_üy±ocom
,1L,5L,3L

	)

4145 
	#SN_id_Go¡R3410_2001_cc
 "go¡2001cc"

	)

4146 
	#LN_id_Go¡R3410_2001_cc
 "GOST 34.10-2001 Cry±ocom"

	)

4147 
	#NID_id_Go¡R3410_2001_cc
 851

	)

4148 
	#OBJ_id_Go¡R3410_2001_cc
 
OBJ_üy±ocom
,1L,5L,4L

	)

4150 
	#SN_id_Go¡R3411_94_w™h_Go¡R3410_94_cc
 "id-Go¡R3411-94-w™h-Go¡R3410-94-cc"

	)

4151 
	#LN_id_Go¡R3411_94_w™h_Go¡R3410_94_cc
 "GOST R 34.11-94 w™h GOST R 34.10-94 Cry±ocom"

	)

4152 
	#NID_id_Go¡R3411_94_w™h_Go¡R3410_94_cc
 852

	)

4153 
	#OBJ_id_Go¡R3411_94_w™h_Go¡R3410_94_cc
 
OBJ_üy±ocom
,1L,3L,3L

	)

4155 
	#SN_id_Go¡R3411_94_w™h_Go¡R3410_2001_cc
 "id-Go¡R3411-94-w™h-Go¡R3410-2001-cc"

	)

4156 
	#LN_id_Go¡R3411_94_w™h_Go¡R3410_2001_cc
 "GOST R 34.11-94 w™h GOST R 34.10-2001 Cry±ocom"

	)

4157 
	#NID_id_Go¡R3411_94_w™h_Go¡R3410_2001_cc
 853

	)

4158 
	#OBJ_id_Go¡R3411_94_w™h_Go¡R3410_2001_cc
 
OBJ_üy±ocom
,1L,3L,4L

	)

4160 
	#SN_id_Go¡R3410_2001_P¬amS‘_cc
 "id-Go¡R3410-2001-P¬amS‘-cc"

	)

4161 
	#LN_id_Go¡R3410_2001_P¬amS‘_cc
 "GOST R 3410-2001 P¬am‘” S‘ Cry±ocom"

	)

4162 
	#NID_id_Go¡R3410_2001_P¬amS‘_cc
 854

	)

4163 
	#OBJ_id_Go¡R3410_2001_P¬amS‘_cc
 
OBJ_üy±ocom
,1L,8L,1L

	)

4165 
	#SN_id_tc26_®gÜ™hms
 "id-tc26-®gÜ™hms"

	)

4166 
	#NID_id_tc26_®gÜ™hms
 977

	)

4167 
	#OBJ_id_tc26_®gÜ™hms
 
OBJ_id_tc26
,1L

	)

4169 
	#SN_id_tc26_sign
 "id-tc26-sign"

	)

4170 
	#NID_id_tc26_sign
 978

	)

4171 
	#OBJ_id_tc26_sign
 
OBJ_id_tc26_®gÜ™hms
,1L

	)

4173 
	#SN_id_Go¡R3410_2012_256
 "go¡2012_256"

	)

4174 
	#LN_id_Go¡R3410_2012_256
 "GOST R 34.10-2012 w™h 256 b™ modulus"

	)

4175 
	#NID_id_Go¡R3410_2012_256
 979

	)

4176 
	#OBJ_id_Go¡R3410_2012_256
 
OBJ_id_tc26_sign
,1L

	)

4178 
	#SN_id_Go¡R3410_2012_512
 "go¡2012_512"

	)

4179 
	#LN_id_Go¡R3410_2012_512
 "GOST R 34.10-2012 w™h 512 b™ modulus"

	)

4180 
	#NID_id_Go¡R3410_2012_512
 980

	)

4181 
	#OBJ_id_Go¡R3410_2012_512
 
OBJ_id_tc26_sign
,2L

	)

4183 
	#SN_id_tc26_dige¡
 "id-tc26-dige¡"

	)

4184 
	#NID_id_tc26_dige¡
 981

	)

4185 
	#OBJ_id_tc26_dige¡
 
OBJ_id_tc26_®gÜ™hms
,2L

	)

4187 
	#SN_id_Go¡R3411_2012_256
 "md_go¡12_256"

	)

4188 
	#LN_id_Go¡R3411_2012_256
 "GOST R 34.11-2012 w™h 256 b™ hash"

	)

4189 
	#NID_id_Go¡R3411_2012_256
 982

	)

4190 
	#OBJ_id_Go¡R3411_2012_256
 
OBJ_id_tc26_dige¡
,2L

	)

4192 
	#SN_id_Go¡R3411_2012_512
 "md_go¡12_512"

	)

4193 
	#LN_id_Go¡R3411_2012_512
 "GOST R 34.11-2012 w™h 512 b™ hash"

	)

4194 
	#NID_id_Go¡R3411_2012_512
 983

	)

4195 
	#OBJ_id_Go¡R3411_2012_512
 
OBJ_id_tc26_dige¡
,3L

	)

4197 
	#SN_id_tc26_signw™hdige¡
 "id-tc26-signw™hdige¡"

	)

4198 
	#NID_id_tc26_signw™hdige¡
 984

	)

4199 
	#OBJ_id_tc26_signw™hdige¡
 
OBJ_id_tc26_®gÜ™hms
,3L

	)

4201 
	#SN_id_tc26_signw™hdige¡_go¡3410_2012_256
 "id-tc26-signw™hdige¡-go¡3410-2012-256"

	)

4202 
	#LN_id_tc26_signw™hdige¡_go¡3410_2012_256
 "GOST R 34.10-2012 w™h GOST R 34.11-2012 (256 b™)"

	)

4203 
	#NID_id_tc26_signw™hdige¡_go¡3410_2012_256
 985

	)

4204 
	#OBJ_id_tc26_signw™hdige¡_go¡3410_2012_256
 
OBJ_id_tc26_signw™hdige¡
,2L

	)

4206 
	#SN_id_tc26_signw™hdige¡_go¡3410_2012_512
 "id-tc26-signw™hdige¡-go¡3410-2012-512"

	)

4207 
	#LN_id_tc26_signw™hdige¡_go¡3410_2012_512
 "GOST R 34.10-2012 w™h GOST R 34.11-2012 (512 b™)"

	)

4208 
	#NID_id_tc26_signw™hdige¡_go¡3410_2012_512
 986

	)

4209 
	#OBJ_id_tc26_signw™hdige¡_go¡3410_2012_512
 
OBJ_id_tc26_signw™hdige¡
,3L

	)

4211 
	#SN_id_tc26_mac
 "id-tc26-mac"

	)

4212 
	#NID_id_tc26_mac
 987

	)

4213 
	#OBJ_id_tc26_mac
 
OBJ_id_tc26_®gÜ™hms
,4L

	)

4215 
	#SN_id_tc26_hmac_go¡_3411_2012_256
 "id-tc26-hmac-go¡-3411-2012-256"

	)

4216 
	#LN_id_tc26_hmac_go¡_3411_2012_256
 "HMAC GOST 34.11-2012 256 b™"

	)

4217 
	#NID_id_tc26_hmac_go¡_3411_2012_256
 988

	)

4218 
	#OBJ_id_tc26_hmac_go¡_3411_2012_256
 
OBJ_id_tc26_mac
,1L

	)

4220 
	#SN_id_tc26_hmac_go¡_3411_2012_512
 "id-tc26-hmac-go¡-3411-2012-512"

	)

4221 
	#LN_id_tc26_hmac_go¡_3411_2012_512
 "HMAC GOST 34.11-2012 512 b™"

	)

4222 
	#NID_id_tc26_hmac_go¡_3411_2012_512
 989

	)

4223 
	#OBJ_id_tc26_hmac_go¡_3411_2012_512
 
OBJ_id_tc26_mac
,2L

	)

4225 
	#SN_id_tc26_ch”
 "id-tc26-ch”"

	)

4226 
	#NID_id_tc26_ch”
 990

	)

4227 
	#OBJ_id_tc26_ch”
 
OBJ_id_tc26_®gÜ™hms
,5L

	)

4229 
	#SN_id_tc26_ch”_go¡r3412_2015_magma
 "id-tc26-ch”-go¡r3412-2015-magma"

	)

4230 
	#NID_id_tc26_ch”_go¡r3412_2015_magma
 1173

	)

4231 
	#OBJ_id_tc26_ch”_go¡r3412_2015_magma
 
OBJ_id_tc26_ch”
,1L

	)

4233 
	#SN_id_tc26_ch”_go¡r3412_2015_magma_ù¿ıkm
 "id-tc26-ch”-go¡r3412-2015-magma-ù¿ıkm"

	)

4234 
	#NID_id_tc26_ch”_go¡r3412_2015_magma_ù¿ıkm
 1174

	)

4235 
	#OBJ_id_tc26_ch”_go¡r3412_2015_magma_ù¿ıkm
 
OBJ_id_tc26_ch”_go¡r3412_2015_magma
,1L

	)

4237 
	#SN_id_tc26_ch”_go¡r3412_2015_magma_ù¿ıkm_omac
 "id-tc26-ch”-go¡r3412-2015-magma-ù¿ıkm-omac"

	)

4238 
	#NID_id_tc26_ch”_go¡r3412_2015_magma_ù¿ıkm_omac
 1175

	)

4239 
	#OBJ_id_tc26_ch”_go¡r3412_2015_magma_ù¿ıkm_omac
 
OBJ_id_tc26_ch”_go¡r3412_2015_magma
,2L

	)

4241 
	#SN_id_tc26_ch”_go¡r3412_2015_kuznyechik
 "id-tc26-ch”-go¡r3412-2015-kuznyechik"

	)

4242 
	#NID_id_tc26_ch”_go¡r3412_2015_kuznyechik
 1176

	)

4243 
	#OBJ_id_tc26_ch”_go¡r3412_2015_kuznyechik
 
OBJ_id_tc26_ch”
,2L

	)

4245 
	#SN_id_tc26_ch”_go¡r3412_2015_kuznyechik_ù¿ıkm
 "id-tc26-ch”-go¡r3412-2015-kuznyechik-ù¿ıkm"

	)

4246 
	#NID_id_tc26_ch”_go¡r3412_2015_kuznyechik_ù¿ıkm
 1177

	)

4247 
	#OBJ_id_tc26_ch”_go¡r3412_2015_kuznyechik_ù¿ıkm
 
OBJ_id_tc26_ch”_go¡r3412_2015_kuznyechik
,1L

	)

4249 
	#SN_id_tc26_ch”_go¡r3412_2015_kuznyechik_ù¿ıkm_omac
 "id-tc26-ch”-go¡r3412-2015-kuznyechik-ù¿ıkm-omac"

	)

4250 
	#NID_id_tc26_ch”_go¡r3412_2015_kuznyechik_ù¿ıkm_omac
 1178

	)

4251 
	#OBJ_id_tc26_ch”_go¡r3412_2015_kuznyechik_ù¿ıkm_omac
 
OBJ_id_tc26_ch”_go¡r3412_2015_kuznyechik
,2L

	)

4253 
	#SN_id_tc26_ag»em’t
 "id-tc26-ag»em’t"

	)

4254 
	#NID_id_tc26_ag»em’t
 991

	)

4255 
	#OBJ_id_tc26_ag»em’t
 
OBJ_id_tc26_®gÜ™hms
,6L

	)

4257 
	#SN_id_tc26_ag»em’t_go¡_3410_2012_256
 "id-tc26-ag»em’t-go¡-3410-2012-256"

	)

4258 
	#NID_id_tc26_ag»em’t_go¡_3410_2012_256
 992

	)

4259 
	#OBJ_id_tc26_ag»em’t_go¡_3410_2012_256
 
OBJ_id_tc26_ag»em’t
,1L

	)

4261 
	#SN_id_tc26_ag»em’t_go¡_3410_2012_512
 "id-tc26-ag»em’t-go¡-3410-2012-512"

	)

4262 
	#NID_id_tc26_ag»em’t_go¡_3410_2012_512
 993

	)

4263 
	#OBJ_id_tc26_ag»em’t_go¡_3410_2012_512
 
OBJ_id_tc26_ag»em’t
,2L

	)

4265 
	#SN_id_tc26_w¿p
 "id-tc26-w¿p"

	)

4266 
	#NID_id_tc26_w¿p
 1179

	)

4267 
	#OBJ_id_tc26_w¿p
 
OBJ_id_tc26_®gÜ™hms
,7L

	)

4269 
	#SN_id_tc26_w¿p_go¡r3412_2015_magma
 "id-tc26-w¿p-go¡r3412-2015-magma"

	)

4270 
	#NID_id_tc26_w¿p_go¡r3412_2015_magma
 1180

	)

4271 
	#OBJ_id_tc26_w¿p_go¡r3412_2015_magma
 
OBJ_id_tc26_w¿p
,1L

	)

4273 
	#SN_id_tc26_w¿p_go¡r3412_2015_magma_kexp15
 "id-tc26-w¿p-go¡r3412-2015-magma-kexp15"

	)

4274 
	#NID_id_tc26_w¿p_go¡r3412_2015_magma_kexp15
 1181

	)

4275 
	#OBJ_id_tc26_w¿p_go¡r3412_2015_magma_kexp15
 
OBJ_id_tc26_w¿p_go¡r3412_2015_magma
,1L

	)

4277 
	#SN_id_tc26_w¿p_go¡r3412_2015_kuznyechik
 "id-tc26-w¿p-go¡r3412-2015-kuznyechik"

	)

4278 
	#NID_id_tc26_w¿p_go¡r3412_2015_kuznyechik
 1182

	)

4279 
	#OBJ_id_tc26_w¿p_go¡r3412_2015_kuznyechik
 
OBJ_id_tc26_w¿p
,2L

	)

4281 
	#SN_id_tc26_w¿p_go¡r3412_2015_kuznyechik_kexp15
 "id-tc26-w¿p-go¡r3412-2015-kuznyechik-kexp15"

	)

4282 
	#NID_id_tc26_w¿p_go¡r3412_2015_kuznyechik_kexp15
 1183

	)

4283 
	#OBJ_id_tc26_w¿p_go¡r3412_2015_kuznyechik_kexp15
 
OBJ_id_tc26_w¿p_go¡r3412_2015_magma
,1L

	)

4285 
	#SN_id_tc26_cÚ¡ªts
 "id-tc26-cÚ¡ªts"

	)

4286 
	#NID_id_tc26_cÚ¡ªts
 994

	)

4287 
	#OBJ_id_tc26_cÚ¡ªts
 
OBJ_id_tc26
,2L

	)

4289 
	#SN_id_tc26_sign_cÚ¡ªts
 "id-tc26-sign-cÚ¡ªts"

	)

4290 
	#NID_id_tc26_sign_cÚ¡ªts
 995

	)

4291 
	#OBJ_id_tc26_sign_cÚ¡ªts
 
OBJ_id_tc26_cÚ¡ªts
,1L

	)

4293 
	#SN_id_tc26_go¡_3410_2012_256_cÚ¡ªts
 "id-tc26-go¡-3410-2012-256-cÚ¡ªts"

	)

4294 
	#NID_id_tc26_go¡_3410_2012_256_cÚ¡ªts
 1147

	)

4295 
	#OBJ_id_tc26_go¡_3410_2012_256_cÚ¡ªts
 
OBJ_id_tc26_sign_cÚ¡ªts
,1L

	)

4297 
	#SN_id_tc26_go¡_3410_2012_256_·¿mS‘A
 "id-tc26-go¡-3410-2012-256-·¿mS‘A"

	)

4298 
	#LN_id_tc26_go¡_3410_2012_256_·¿mS‘A
 "GOST R 34.10-2012 (256 b™èP¬amS‘ A"

	)

4299 
	#NID_id_tc26_go¡_3410_2012_256_·¿mS‘A
 1148

	)

4300 
	#OBJ_id_tc26_go¡_3410_2012_256_·¿mS‘A
 
OBJ_id_tc26_go¡_3410_2012_256_cÚ¡ªts
,1L

	)

4302 
	#SN_id_tc26_go¡_3410_2012_256_·¿mS‘B
 "id-tc26-go¡-3410-2012-256-·¿mS‘B"

	)

4303 
	#LN_id_tc26_go¡_3410_2012_256_·¿mS‘B
 "GOST R 34.10-2012 (256 b™èP¬amS‘ B"

	)

4304 
	#NID_id_tc26_go¡_3410_2012_256_·¿mS‘B
 1184

	)

4305 
	#OBJ_id_tc26_go¡_3410_2012_256_·¿mS‘B
 
OBJ_id_tc26_go¡_3410_2012_256_cÚ¡ªts
,2L

	)

4307 
	#SN_id_tc26_go¡_3410_2012_256_·¿mS‘C
 "id-tc26-go¡-3410-2012-256-·¿mS‘C"

	)

4308 
	#LN_id_tc26_go¡_3410_2012_256_·¿mS‘C
 "GOST R 34.10-2012 (256 b™èP¬amS‘ C"

	)

4309 
	#NID_id_tc26_go¡_3410_2012_256_·¿mS‘C
 1185

	)

4310 
	#OBJ_id_tc26_go¡_3410_2012_256_·¿mS‘C
 
OBJ_id_tc26_go¡_3410_2012_256_cÚ¡ªts
,3L

	)

4312 
	#SN_id_tc26_go¡_3410_2012_256_·¿mS‘D
 "id-tc26-go¡-3410-2012-256-·¿mS‘D"

	)

4313 
	#LN_id_tc26_go¡_3410_2012_256_·¿mS‘D
 "GOST R 34.10-2012 (256 b™èP¬amS‘ D"

	)

4314 
	#NID_id_tc26_go¡_3410_2012_256_·¿mS‘D
 1186

	)

4315 
	#OBJ_id_tc26_go¡_3410_2012_256_·¿mS‘D
 
OBJ_id_tc26_go¡_3410_2012_256_cÚ¡ªts
,4L

	)

4317 
	#SN_id_tc26_go¡_3410_2012_512_cÚ¡ªts
 "id-tc26-go¡-3410-2012-512-cÚ¡ªts"

	)

4318 
	#NID_id_tc26_go¡_3410_2012_512_cÚ¡ªts
 996

	)

4319 
	#OBJ_id_tc26_go¡_3410_2012_512_cÚ¡ªts
 
OBJ_id_tc26_sign_cÚ¡ªts
,2L

	)

4321 
	#SN_id_tc26_go¡_3410_2012_512_·¿mS‘Te¡
 "id-tc26-go¡-3410-2012-512-·¿mS‘Te¡"

	)

4322 
	#LN_id_tc26_go¡_3410_2012_512_·¿mS‘Te¡
 "GOST R 34.10-2012 (512 b™è‹¡šg…¬am‘” s‘"

	)

4323 
	#NID_id_tc26_go¡_3410_2012_512_·¿mS‘Te¡
 997

	)

4324 
	#OBJ_id_tc26_go¡_3410_2012_512_·¿mS‘Te¡
 
OBJ_id_tc26_go¡_3410_2012_512_cÚ¡ªts
,0L

	)

4326 
	#SN_id_tc26_go¡_3410_2012_512_·¿mS‘A
 "id-tc26-go¡-3410-2012-512-·¿mS‘A"

	)

4327 
	#LN_id_tc26_go¡_3410_2012_512_·¿mS‘A
 "GOST R 34.10-2012 (512 b™èP¬amS‘ A"

	)

4328 
	#NID_id_tc26_go¡_3410_2012_512_·¿mS‘A
 998

	)

4329 
	#OBJ_id_tc26_go¡_3410_2012_512_·¿mS‘A
 
OBJ_id_tc26_go¡_3410_2012_512_cÚ¡ªts
,1L

	)

4331 
	#SN_id_tc26_go¡_3410_2012_512_·¿mS‘B
 "id-tc26-go¡-3410-2012-512-·¿mS‘B"

	)

4332 
	#LN_id_tc26_go¡_3410_2012_512_·¿mS‘B
 "GOST R 34.10-2012 (512 b™èP¬amS‘ B"

	)

4333 
	#NID_id_tc26_go¡_3410_2012_512_·¿mS‘B
 999

	)

4334 
	#OBJ_id_tc26_go¡_3410_2012_512_·¿mS‘B
 
OBJ_id_tc26_go¡_3410_2012_512_cÚ¡ªts
,2L

	)

4336 
	#SN_id_tc26_go¡_3410_2012_512_·¿mS‘C
 "id-tc26-go¡-3410-2012-512-·¿mS‘C"

	)

4337 
	#LN_id_tc26_go¡_3410_2012_512_·¿mS‘C
 "GOST R 34.10-2012 (512 b™èP¬amS‘ C"

	)

4338 
	#NID_id_tc26_go¡_3410_2012_512_·¿mS‘C
 1149

	)

4339 
	#OBJ_id_tc26_go¡_3410_2012_512_·¿mS‘C
 
OBJ_id_tc26_go¡_3410_2012_512_cÚ¡ªts
,3L

	)

4341 
	#SN_id_tc26_dige¡_cÚ¡ªts
 "id-tc26-dige¡-cÚ¡ªts"

	)

4342 
	#NID_id_tc26_dige¡_cÚ¡ªts
 1000

	)

4343 
	#OBJ_id_tc26_dige¡_cÚ¡ªts
 
OBJ_id_tc26_cÚ¡ªts
,2L

	)

4345 
	#SN_id_tc26_ch”_cÚ¡ªts
 "id-tc26-ch”-cÚ¡ªts"

	)

4346 
	#NID_id_tc26_ch”_cÚ¡ªts
 1001

	)

4347 
	#OBJ_id_tc26_ch”_cÚ¡ªts
 
OBJ_id_tc26_cÚ¡ªts
,5L

	)

4349 
	#SN_id_tc26_go¡_28147_cÚ¡ªts
 "id-tc26-go¡-28147-cÚ¡ªts"

	)

4350 
	#NID_id_tc26_go¡_28147_cÚ¡ªts
 1002

	)

4351 
	#OBJ_id_tc26_go¡_28147_cÚ¡ªts
 
OBJ_id_tc26_ch”_cÚ¡ªts
,1L

	)

4353 
	#SN_id_tc26_go¡_28147_·¿m_Z
 "id-tc26-go¡-28147-·¿m-Z"

	)

4354 
	#LN_id_tc26_go¡_28147_·¿m_Z
 "GOST 28147-89 TC26…¬am‘” s‘"

	)

4355 
	#NID_id_tc26_go¡_28147_·¿m_Z
 1003

	)

4356 
	#OBJ_id_tc26_go¡_28147_·¿m_Z
 
OBJ_id_tc26_go¡_28147_cÚ¡ªts
,1L

	)

4358 
	#SN_INN
 "INN"

	)

4359 
	#LN_INN
 "INN"

	)

4360 
	#NID_INN
 1004

	)

4361 
	#OBJ_INN
 
OBJ_memb”_body
,643L,3L,131L,1L,1L

	)

4363 
	#SN_OGRN
 "OGRN"

	)

4364 
	#LN_OGRN
 "OGRN"

	)

4365 
	#NID_OGRN
 1005

	)

4366 
	#OBJ_OGRN
 
OBJ_memb”_body
,643L,100L,1L

	)

4368 
	#SN_SNILS
 "SNILS"

	)

4369 
	#LN_SNILS
 "SNILS"

	)

4370 
	#NID_SNILS
 1006

	)

4371 
	#OBJ_SNILS
 
OBJ_memb”_body
,643L,100L,3L

	)

4373 
	#SN_subjeùSignToŞ
 "subjeùSignToŞ"

	)

4374 
	#LN_subjeùSignToŞ
 "Signšg ToŞ oàSubjeù"

	)

4375 
	#NID_subjeùSignToŞ
 1007

	)

4376 
	#OBJ_subjeùSignToŞ
 
OBJ_memb”_body
,643L,100L,111L

	)

4378 
	#SN_issu”SignToŞ
 "issu”SignToŞ"

	)

4379 
	#LN_issu”SignToŞ
 "Signšg ToŞ oàIssu”"

	)

4380 
	#NID_issu”SignToŞ
 1008

	)

4381 
	#OBJ_issu”SignToŞ
 
OBJ_memb”_body
,643L,100L,112L

	)

4383 
	#SN_g¿sshİ³r_ecb
 "g¿sshİ³r-ecb"

	)

4384 
	#NID_g¿sshİ³r_ecb
 1012

	)

4386 
	#SN_g¿sshİ³r_ùr
 "g¿sshİ³r-ùr"

	)

4387 
	#NID_g¿sshİ³r_ùr
 1013

	)

4389 
	#SN_g¿sshİ³r_ofb
 "g¿sshİ³r-ofb"

	)

4390 
	#NID_g¿sshİ³r_ofb
 1014

	)

4392 
	#SN_g¿sshİ³r_cbc
 "g¿sshİ³r-cbc"

	)

4393 
	#NID_g¿sshİ³r_cbc
 1015

	)

4395 
	#SN_g¿sshİ³r_cfb
 "g¿sshİ³r-cfb"

	)

4396 
	#NID_g¿sshİ³r_cfb
 1016

	)

4398 
	#SN_g¿sshİ³r_mac
 "g¿sshİ³r-mac"

	)

4399 
	#NID_g¿sshİ³r_mac
 1017

	)

4401 
	#SN_magma_ecb
 "magma-ecb"

	)

4402 
	#NID_magma_ecb
 1187

	)

4404 
	#SN_magma_ùr
 "magma-ùr"

	)

4405 
	#NID_magma_ùr
 1188

	)

4407 
	#SN_magma_ofb
 "magma-ofb"

	)

4408 
	#NID_magma_ofb
 1189

	)

4410 
	#SN_magma_cbc
 "magma-cbc"

	)

4411 
	#NID_magma_cbc
 1190

	)

4413 
	#SN_magma_cfb
 "magma-cfb"

	)

4414 
	#NID_magma_cfb
 1191

	)

4416 
	#SN_magma_mac
 "magma-mac"

	)

4417 
	#NID_magma_mac
 1192

	)

4419 
	#SN_ÿm–lŸ_128_cbc
 "CAMELLIA-128-CBC"

	)

4420 
	#LN_ÿm–lŸ_128_cbc
 "ÿm–lŸ-128-cbc"

	)

4421 
	#NID_ÿm–lŸ_128_cbc
 751

	)

4422 
	#OBJ_ÿm–lŸ_128_cbc
 1L,2L,392L,200011L,61L,1L,1L,1L,2L

	)

4424 
	#SN_ÿm–lŸ_192_cbc
 "CAMELLIA-192-CBC"

	)

4425 
	#LN_ÿm–lŸ_192_cbc
 "ÿm–lŸ-192-cbc"

	)

4426 
	#NID_ÿm–lŸ_192_cbc
 752

	)

4427 
	#OBJ_ÿm–lŸ_192_cbc
 1L,2L,392L,200011L,61L,1L,1L,1L,3L

	)

4429 
	#SN_ÿm–lŸ_256_cbc
 "CAMELLIA-256-CBC"

	)

4430 
	#LN_ÿm–lŸ_256_cbc
 "ÿm–lŸ-256-cbc"

	)

4431 
	#NID_ÿm–lŸ_256_cbc
 753

	)

4432 
	#OBJ_ÿm–lŸ_256_cbc
 1L,2L,392L,200011L,61L,1L,1L,1L,4L

	)

4434 
	#SN_id_ÿm–lŸ128_w¿p
 "id-ÿm–lŸ128-w¿p"

	)

4435 
	#NID_id_ÿm–lŸ128_w¿p
 907

	)

4436 
	#OBJ_id_ÿm–lŸ128_w¿p
 1L,2L,392L,200011L,61L,1L,1L,3L,2L

	)

4438 
	#SN_id_ÿm–lŸ192_w¿p
 "id-ÿm–lŸ192-w¿p"

	)

4439 
	#NID_id_ÿm–lŸ192_w¿p
 908

	)

4440 
	#OBJ_id_ÿm–lŸ192_w¿p
 1L,2L,392L,200011L,61L,1L,1L,3L,3L

	)

4442 
	#SN_id_ÿm–lŸ256_w¿p
 "id-ÿm–lŸ256-w¿p"

	)

4443 
	#NID_id_ÿm–lŸ256_w¿p
 909

	)

4444 
	#OBJ_id_ÿm–lŸ256_w¿p
 1L,2L,392L,200011L,61L,1L,1L,3L,4L

	)

4446 
	#OBJ_Át_ds
 0L,3L,4401L,5L

	)

4448 
	#OBJ_ÿm–lŸ
 
OBJ_Át_ds
,3L,1L,9L

	)

4450 
	#SN_ÿm–lŸ_128_ecb
 "CAMELLIA-128-ECB"

	)

4451 
	#LN_ÿm–lŸ_128_ecb
 "ÿm–lŸ-128-ecb"

	)

4452 
	#NID_ÿm–lŸ_128_ecb
 754

	)

4453 
	#OBJ_ÿm–lŸ_128_ecb
 
OBJ_ÿm–lŸ
,1L

	)

4455 
	#SN_ÿm–lŸ_128_ofb128
 "CAMELLIA-128-OFB"

	)

4456 
	#LN_ÿm–lŸ_128_ofb128
 "ÿm–lŸ-128-ofb"

	)

4457 
	#NID_ÿm–lŸ_128_ofb128
 766

	)

4458 
	#OBJ_ÿm–lŸ_128_ofb128
 
OBJ_ÿm–lŸ
,3L

	)

4460 
	#SN_ÿm–lŸ_128_cfb128
 "CAMELLIA-128-CFB"

	)

4461 
	#LN_ÿm–lŸ_128_cfb128
 "ÿm–lŸ-128-cfb"

	)

4462 
	#NID_ÿm–lŸ_128_cfb128
 757

	)

4463 
	#OBJ_ÿm–lŸ_128_cfb128
 
OBJ_ÿm–lŸ
,4L

	)

4465 
	#SN_ÿm–lŸ_128_gcm
 "CAMELLIA-128-GCM"

	)

4466 
	#LN_ÿm–lŸ_128_gcm
 "ÿm–lŸ-128-gcm"

	)

4467 
	#NID_ÿm–lŸ_128_gcm
 961

	)

4468 
	#OBJ_ÿm–lŸ_128_gcm
 
OBJ_ÿm–lŸ
,6L

	)

4470 
	#SN_ÿm–lŸ_128_ccm
 "CAMELLIA-128-CCM"

	)

4471 
	#LN_ÿm–lŸ_128_ccm
 "ÿm–lŸ-128-ccm"

	)

4472 
	#NID_ÿm–lŸ_128_ccm
 962

	)

4473 
	#OBJ_ÿm–lŸ_128_ccm
 
OBJ_ÿm–lŸ
,7L

	)

4475 
	#SN_ÿm–lŸ_128_ùr
 "CAMELLIA-128-CTR"

	)

4476 
	#LN_ÿm–lŸ_128_ùr
 "ÿm–lŸ-128-ùr"

	)

4477 
	#NID_ÿm–lŸ_128_ùr
 963

	)

4478 
	#OBJ_ÿm–lŸ_128_ùr
 
OBJ_ÿm–lŸ
,9L

	)

4480 
	#SN_ÿm–lŸ_128_cmac
 "CAMELLIA-128-CMAC"

	)

4481 
	#LN_ÿm–lŸ_128_cmac
 "ÿm–lŸ-128-cmac"

	)

4482 
	#NID_ÿm–lŸ_128_cmac
 964

	)

4483 
	#OBJ_ÿm–lŸ_128_cmac
 
OBJ_ÿm–lŸ
,10L

	)

4485 
	#SN_ÿm–lŸ_192_ecb
 "CAMELLIA-192-ECB"

	)

4486 
	#LN_ÿm–lŸ_192_ecb
 "ÿm–lŸ-192-ecb"

	)

4487 
	#NID_ÿm–lŸ_192_ecb
 755

	)

4488 
	#OBJ_ÿm–lŸ_192_ecb
 
OBJ_ÿm–lŸ
,21L

	)

4490 
	#SN_ÿm–lŸ_192_ofb128
 "CAMELLIA-192-OFB"

	)

4491 
	#LN_ÿm–lŸ_192_ofb128
 "ÿm–lŸ-192-ofb"

	)

4492 
	#NID_ÿm–lŸ_192_ofb128
 767

	)

4493 
	#OBJ_ÿm–lŸ_192_ofb128
 
OBJ_ÿm–lŸ
,23L

	)

4495 
	#SN_ÿm–lŸ_192_cfb128
 "CAMELLIA-192-CFB"

	)

4496 
	#LN_ÿm–lŸ_192_cfb128
 "ÿm–lŸ-192-cfb"

	)

4497 
	#NID_ÿm–lŸ_192_cfb128
 758

	)

4498 
	#OBJ_ÿm–lŸ_192_cfb128
 
OBJ_ÿm–lŸ
,24L

	)

4500 
	#SN_ÿm–lŸ_192_gcm
 "CAMELLIA-192-GCM"

	)

4501 
	#LN_ÿm–lŸ_192_gcm
 "ÿm–lŸ-192-gcm"

	)

4502 
	#NID_ÿm–lŸ_192_gcm
 965

	)

4503 
	#OBJ_ÿm–lŸ_192_gcm
 
OBJ_ÿm–lŸ
,26L

	)

4505 
	#SN_ÿm–lŸ_192_ccm
 "CAMELLIA-192-CCM"

	)

4506 
	#LN_ÿm–lŸ_192_ccm
 "ÿm–lŸ-192-ccm"

	)

4507 
	#NID_ÿm–lŸ_192_ccm
 966

	)

4508 
	#OBJ_ÿm–lŸ_192_ccm
 
OBJ_ÿm–lŸ
,27L

	)

4510 
	#SN_ÿm–lŸ_192_ùr
 "CAMELLIA-192-CTR"

	)

4511 
	#LN_ÿm–lŸ_192_ùr
 "ÿm–lŸ-192-ùr"

	)

4512 
	#NID_ÿm–lŸ_192_ùr
 967

	)

4513 
	#OBJ_ÿm–lŸ_192_ùr
 
OBJ_ÿm–lŸ
,29L

	)

4515 
	#SN_ÿm–lŸ_192_cmac
 "CAMELLIA-192-CMAC"

	)

4516 
	#LN_ÿm–lŸ_192_cmac
 "ÿm–lŸ-192-cmac"

	)

4517 
	#NID_ÿm–lŸ_192_cmac
 968

	)

4518 
	#OBJ_ÿm–lŸ_192_cmac
 
OBJ_ÿm–lŸ
,30L

	)

4520 
	#SN_ÿm–lŸ_256_ecb
 "CAMELLIA-256-ECB"

	)

4521 
	#LN_ÿm–lŸ_256_ecb
 "ÿm–lŸ-256-ecb"

	)

4522 
	#NID_ÿm–lŸ_256_ecb
 756

	)

4523 
	#OBJ_ÿm–lŸ_256_ecb
 
OBJ_ÿm–lŸ
,41L

	)

4525 
	#SN_ÿm–lŸ_256_ofb128
 "CAMELLIA-256-OFB"

	)

4526 
	#LN_ÿm–lŸ_256_ofb128
 "ÿm–lŸ-256-ofb"

	)

4527 
	#NID_ÿm–lŸ_256_ofb128
 768

	)

4528 
	#OBJ_ÿm–lŸ_256_ofb128
 
OBJ_ÿm–lŸ
,43L

	)

4530 
	#SN_ÿm–lŸ_256_cfb128
 "CAMELLIA-256-CFB"

	)

4531 
	#LN_ÿm–lŸ_256_cfb128
 "ÿm–lŸ-256-cfb"

	)

4532 
	#NID_ÿm–lŸ_256_cfb128
 759

	)

4533 
	#OBJ_ÿm–lŸ_256_cfb128
 
OBJ_ÿm–lŸ
,44L

	)

4535 
	#SN_ÿm–lŸ_256_gcm
 "CAMELLIA-256-GCM"

	)

4536 
	#LN_ÿm–lŸ_256_gcm
 "ÿm–lŸ-256-gcm"

	)

4537 
	#NID_ÿm–lŸ_256_gcm
 969

	)

4538 
	#OBJ_ÿm–lŸ_256_gcm
 
OBJ_ÿm–lŸ
,46L

	)

4540 
	#SN_ÿm–lŸ_256_ccm
 "CAMELLIA-256-CCM"

	)

4541 
	#LN_ÿm–lŸ_256_ccm
 "ÿm–lŸ-256-ccm"

	)

4542 
	#NID_ÿm–lŸ_256_ccm
 970

	)

4543 
	#OBJ_ÿm–lŸ_256_ccm
 
OBJ_ÿm–lŸ
,47L

	)

4545 
	#SN_ÿm–lŸ_256_ùr
 "CAMELLIA-256-CTR"

	)

4546 
	#LN_ÿm–lŸ_256_ùr
 "ÿm–lŸ-256-ùr"

	)

4547 
	#NID_ÿm–lŸ_256_ùr
 971

	)

4548 
	#OBJ_ÿm–lŸ_256_ùr
 
OBJ_ÿm–lŸ
,49L

	)

4550 
	#SN_ÿm–lŸ_256_cmac
 "CAMELLIA-256-CMAC"

	)

4551 
	#LN_ÿm–lŸ_256_cmac
 "ÿm–lŸ-256-cmac"

	)

4552 
	#NID_ÿm–lŸ_256_cmac
 972

	)

4553 
	#OBJ_ÿm–lŸ_256_cmac
 
OBJ_ÿm–lŸ
,50L

	)

4555 
	#SN_ÿm–lŸ_128_cfb1
 "CAMELLIA-128-CFB1"

	)

4556 
	#LN_ÿm–lŸ_128_cfb1
 "ÿm–lŸ-128-cfb1"

	)

4557 
	#NID_ÿm–lŸ_128_cfb1
 760

	)

4559 
	#SN_ÿm–lŸ_192_cfb1
 "CAMELLIA-192-CFB1"

	)

4560 
	#LN_ÿm–lŸ_192_cfb1
 "ÿm–lŸ-192-cfb1"

	)

4561 
	#NID_ÿm–lŸ_192_cfb1
 761

	)

4563 
	#SN_ÿm–lŸ_256_cfb1
 "CAMELLIA-256-CFB1"

	)

4564 
	#LN_ÿm–lŸ_256_cfb1
 "ÿm–lŸ-256-cfb1"

	)

4565 
	#NID_ÿm–lŸ_256_cfb1
 762

	)

4567 
	#SN_ÿm–lŸ_128_cfb8
 "CAMELLIA-128-CFB8"

	)

4568 
	#LN_ÿm–lŸ_128_cfb8
 "ÿm–lŸ-128-cfb8"

	)

4569 
	#NID_ÿm–lŸ_128_cfb8
 763

	)

4571 
	#SN_ÿm–lŸ_192_cfb8
 "CAMELLIA-192-CFB8"

	)

4572 
	#LN_ÿm–lŸ_192_cfb8
 "ÿm–lŸ-192-cfb8"

	)

4573 
	#NID_ÿm–lŸ_192_cfb8
 764

	)

4575 
	#SN_ÿm–lŸ_256_cfb8
 "CAMELLIA-256-CFB8"

	)

4576 
	#LN_ÿm–lŸ_256_cfb8
 "ÿm–lŸ-256-cfb8"

	)

4577 
	#NID_ÿm–lŸ_256_cfb8
 765

	)

4579 
	#OBJ_¬Ÿ
 1L,2L,410L,200046L,1L,1L

	)

4581 
	#SN_¬Ÿ_128_ecb
 "ARIA-128-ECB"

	)

4582 
	#LN_¬Ÿ_128_ecb
 "¬Ÿ-128-ecb"

	)

4583 
	#NID_¬Ÿ_128_ecb
 1065

	)

4584 
	#OBJ_¬Ÿ_128_ecb
 
OBJ_¬Ÿ
,1L

	)

4586 
	#SN_¬Ÿ_128_cbc
 "ARIA-128-CBC"

	)

4587 
	#LN_¬Ÿ_128_cbc
 "¬Ÿ-128-cbc"

	)

4588 
	#NID_¬Ÿ_128_cbc
 1066

	)

4589 
	#OBJ_¬Ÿ_128_cbc
 
OBJ_¬Ÿ
,2L

	)

4591 
	#SN_¬Ÿ_128_cfb128
 "ARIA-128-CFB"

	)

4592 
	#LN_¬Ÿ_128_cfb128
 "¬Ÿ-128-cfb"

	)

4593 
	#NID_¬Ÿ_128_cfb128
 1067

	)

4594 
	#OBJ_¬Ÿ_128_cfb128
 
OBJ_¬Ÿ
,3L

	)

4596 
	#SN_¬Ÿ_128_ofb128
 "ARIA-128-OFB"

	)

4597 
	#LN_¬Ÿ_128_ofb128
 "¬Ÿ-128-ofb"

	)

4598 
	#NID_¬Ÿ_128_ofb128
 1068

	)

4599 
	#OBJ_¬Ÿ_128_ofb128
 
OBJ_¬Ÿ
,4L

	)

4601 
	#SN_¬Ÿ_128_ùr
 "ARIA-128-CTR"

	)

4602 
	#LN_¬Ÿ_128_ùr
 "¬Ÿ-128-ùr"

	)

4603 
	#NID_¬Ÿ_128_ùr
 1069

	)

4604 
	#OBJ_¬Ÿ_128_ùr
 
OBJ_¬Ÿ
,5L

	)

4606 
	#SN_¬Ÿ_192_ecb
 "ARIA-192-ECB"

	)

4607 
	#LN_¬Ÿ_192_ecb
 "¬Ÿ-192-ecb"

	)

4608 
	#NID_¬Ÿ_192_ecb
 1070

	)

4609 
	#OBJ_¬Ÿ_192_ecb
 
OBJ_¬Ÿ
,6L

	)

4611 
	#SN_¬Ÿ_192_cbc
 "ARIA-192-CBC"

	)

4612 
	#LN_¬Ÿ_192_cbc
 "¬Ÿ-192-cbc"

	)

4613 
	#NID_¬Ÿ_192_cbc
 1071

	)

4614 
	#OBJ_¬Ÿ_192_cbc
 
OBJ_¬Ÿ
,7L

	)

4616 
	#SN_¬Ÿ_192_cfb128
 "ARIA-192-CFB"

	)

4617 
	#LN_¬Ÿ_192_cfb128
 "¬Ÿ-192-cfb"

	)

4618 
	#NID_¬Ÿ_192_cfb128
 1072

	)

4619 
	#OBJ_¬Ÿ_192_cfb128
 
OBJ_¬Ÿ
,8L

	)

4621 
	#SN_¬Ÿ_192_ofb128
 "ARIA-192-OFB"

	)

4622 
	#LN_¬Ÿ_192_ofb128
 "¬Ÿ-192-ofb"

	)

4623 
	#NID_¬Ÿ_192_ofb128
 1073

	)

4624 
	#OBJ_¬Ÿ_192_ofb128
 
OBJ_¬Ÿ
,9L

	)

4626 
	#SN_¬Ÿ_192_ùr
 "ARIA-192-CTR"

	)

4627 
	#LN_¬Ÿ_192_ùr
 "¬Ÿ-192-ùr"

	)

4628 
	#NID_¬Ÿ_192_ùr
 1074

	)

4629 
	#OBJ_¬Ÿ_192_ùr
 
OBJ_¬Ÿ
,10L

	)

4631 
	#SN_¬Ÿ_256_ecb
 "ARIA-256-ECB"

	)

4632 
	#LN_¬Ÿ_256_ecb
 "¬Ÿ-256-ecb"

	)

4633 
	#NID_¬Ÿ_256_ecb
 1075

	)

4634 
	#OBJ_¬Ÿ_256_ecb
 
OBJ_¬Ÿ
,11L

	)

4636 
	#SN_¬Ÿ_256_cbc
 "ARIA-256-CBC"

	)

4637 
	#LN_¬Ÿ_256_cbc
 "¬Ÿ-256-cbc"

	)

4638 
	#NID_¬Ÿ_256_cbc
 1076

	)

4639 
	#OBJ_¬Ÿ_256_cbc
 
OBJ_¬Ÿ
,12L

	)

4641 
	#SN_¬Ÿ_256_cfb128
 "ARIA-256-CFB"

	)

4642 
	#LN_¬Ÿ_256_cfb128
 "¬Ÿ-256-cfb"

	)

4643 
	#NID_¬Ÿ_256_cfb128
 1077

	)

4644 
	#OBJ_¬Ÿ_256_cfb128
 
OBJ_¬Ÿ
,13L

	)

4646 
	#SN_¬Ÿ_256_ofb128
 "ARIA-256-OFB"

	)

4647 
	#LN_¬Ÿ_256_ofb128
 "¬Ÿ-256-ofb"

	)

4648 
	#NID_¬Ÿ_256_ofb128
 1078

	)

4649 
	#OBJ_¬Ÿ_256_ofb128
 
OBJ_¬Ÿ
,14L

	)

4651 
	#SN_¬Ÿ_256_ùr
 "ARIA-256-CTR"

	)

4652 
	#LN_¬Ÿ_256_ùr
 "¬Ÿ-256-ùr"

	)

4653 
	#NID_¬Ÿ_256_ùr
 1079

	)

4654 
	#OBJ_¬Ÿ_256_ùr
 
OBJ_¬Ÿ
,15L

	)

4656 
	#SN_¬Ÿ_128_cfb1
 "ARIA-128-CFB1"

	)

4657 
	#LN_¬Ÿ_128_cfb1
 "¬Ÿ-128-cfb1"

	)

4658 
	#NID_¬Ÿ_128_cfb1
 1080

	)

4660 
	#SN_¬Ÿ_192_cfb1
 "ARIA-192-CFB1"

	)

4661 
	#LN_¬Ÿ_192_cfb1
 "¬Ÿ-192-cfb1"

	)

4662 
	#NID_¬Ÿ_192_cfb1
 1081

	)

4664 
	#SN_¬Ÿ_256_cfb1
 "ARIA-256-CFB1"

	)

4665 
	#LN_¬Ÿ_256_cfb1
 "¬Ÿ-256-cfb1"

	)

4666 
	#NID_¬Ÿ_256_cfb1
 1082

	)

4668 
	#SN_¬Ÿ_128_cfb8
 "ARIA-128-CFB8"

	)

4669 
	#LN_¬Ÿ_128_cfb8
 "¬Ÿ-128-cfb8"

	)

4670 
	#NID_¬Ÿ_128_cfb8
 1083

	)

4672 
	#SN_¬Ÿ_192_cfb8
 "ARIA-192-CFB8"

	)

4673 
	#LN_¬Ÿ_192_cfb8
 "¬Ÿ-192-cfb8"

	)

4674 
	#NID_¬Ÿ_192_cfb8
 1084

	)

4676 
	#SN_¬Ÿ_256_cfb8
 "ARIA-256-CFB8"

	)

4677 
	#LN_¬Ÿ_256_cfb8
 "¬Ÿ-256-cfb8"

	)

4678 
	#NID_¬Ÿ_256_cfb8
 1085

	)

4680 
	#SN_¬Ÿ_128_ccm
 "ARIA-128-CCM"

	)

4681 
	#LN_¬Ÿ_128_ccm
 "¬Ÿ-128-ccm"

	)

4682 
	#NID_¬Ÿ_128_ccm
 1120

	)

4683 
	#OBJ_¬Ÿ_128_ccm
 
OBJ_¬Ÿ
,37L

	)

4685 
	#SN_¬Ÿ_192_ccm
 "ARIA-192-CCM"

	)

4686 
	#LN_¬Ÿ_192_ccm
 "¬Ÿ-192-ccm"

	)

4687 
	#NID_¬Ÿ_192_ccm
 1121

	)

4688 
	#OBJ_¬Ÿ_192_ccm
 
OBJ_¬Ÿ
,38L

	)

4690 
	#SN_¬Ÿ_256_ccm
 "ARIA-256-CCM"

	)

4691 
	#LN_¬Ÿ_256_ccm
 "¬Ÿ-256-ccm"

	)

4692 
	#NID_¬Ÿ_256_ccm
 1122

	)

4693 
	#OBJ_¬Ÿ_256_ccm
 
OBJ_¬Ÿ
,39L

	)

4695 
	#SN_¬Ÿ_128_gcm
 "ARIA-128-GCM"

	)

4696 
	#LN_¬Ÿ_128_gcm
 "¬Ÿ-128-gcm"

	)

4697 
	#NID_¬Ÿ_128_gcm
 1123

	)

4698 
	#OBJ_¬Ÿ_128_gcm
 
OBJ_¬Ÿ
,34L

	)

4700 
	#SN_¬Ÿ_192_gcm
 "ARIA-192-GCM"

	)

4701 
	#LN_¬Ÿ_192_gcm
 "¬Ÿ-192-gcm"

	)

4702 
	#NID_¬Ÿ_192_gcm
 1124

	)

4703 
	#OBJ_¬Ÿ_192_gcm
 
OBJ_¬Ÿ
,35L

	)

4705 
	#SN_¬Ÿ_256_gcm
 "ARIA-256-GCM"

	)

4706 
	#LN_¬Ÿ_256_gcm
 "¬Ÿ-256-gcm"

	)

4707 
	#NID_¬Ÿ_256_gcm
 1125

	)

4708 
	#OBJ_¬Ÿ_256_gcm
 
OBJ_¬Ÿ
,36L

	)

4710 
	#SN_ki§
 "KISA"

	)

4711 
	#LN_ki§
 "ki§"

	)

4712 
	#NID_ki§
 773

	)

4713 
	#OBJ_ki§
 
OBJ_memb”_body
,410L,200004L

	)

4715 
	#SN_£ed_ecb
 "SEED-ECB"

	)

4716 
	#LN_£ed_ecb
 "£ed-ecb"

	)

4717 
	#NID_£ed_ecb
 776

	)

4718 
	#OBJ_£ed_ecb
 
OBJ_ki§
,1L,3L

	)

4720 
	#SN_£ed_cbc
 "SEED-CBC"

	)

4721 
	#LN_£ed_cbc
 "£ed-cbc"

	)

4722 
	#NID_£ed_cbc
 777

	)

4723 
	#OBJ_£ed_cbc
 
OBJ_ki§
,1L,4L

	)

4725 
	#SN_£ed_cfb128
 "SEED-CFB"

	)

4726 
	#LN_£ed_cfb128
 "£ed-cfb"

	)

4727 
	#NID_£ed_cfb128
 779

	)

4728 
	#OBJ_£ed_cfb128
 
OBJ_ki§
,1L,5L

	)

4730 
	#SN_£ed_ofb128
 "SEED-OFB"

	)

4731 
	#LN_£ed_ofb128
 "£ed-ofb"

	)

4732 
	#NID_£ed_ofb128
 778

	)

4733 
	#OBJ_£ed_ofb128
 
OBJ_ki§
,1L,6L

	)

4735 
	#SN_sm4_ecb
 "SM4-ECB"

	)

4736 
	#LN_sm4_ecb
 "sm4-ecb"

	)

4737 
	#NID_sm4_ecb
 1133

	)

4738 
	#OBJ_sm4_ecb
 
OBJ_sm_scheme
,104L,1L

	)

4740 
	#SN_sm4_cbc
 "SM4-CBC"

	)

4741 
	#LN_sm4_cbc
 "sm4-cbc"

	)

4742 
	#NID_sm4_cbc
 1134

	)

4743 
	#OBJ_sm4_cbc
 
OBJ_sm_scheme
,104L,2L

	)

4745 
	#SN_sm4_ofb128
 "SM4-OFB"

	)

4746 
	#LN_sm4_ofb128
 "sm4-ofb"

	)

4747 
	#NID_sm4_ofb128
 1135

	)

4748 
	#OBJ_sm4_ofb128
 
OBJ_sm_scheme
,104L,3L

	)

4750 
	#SN_sm4_cfb128
 "SM4-CFB"

	)

4751 
	#LN_sm4_cfb128
 "sm4-cfb"

	)

4752 
	#NID_sm4_cfb128
 1137

	)

4753 
	#OBJ_sm4_cfb128
 
OBJ_sm_scheme
,104L,4L

	)

4755 
	#SN_sm4_cfb1
 "SM4-CFB1"

	)

4756 
	#LN_sm4_cfb1
 "sm4-cfb1"

	)

4757 
	#NID_sm4_cfb1
 1136

	)

4758 
	#OBJ_sm4_cfb1
 
OBJ_sm_scheme
,104L,5L

	)

4760 
	#SN_sm4_cfb8
 "SM4-CFB8"

	)

4761 
	#LN_sm4_cfb8
 "sm4-cfb8"

	)

4762 
	#NID_sm4_cfb8
 1138

	)

4763 
	#OBJ_sm4_cfb8
 
OBJ_sm_scheme
,104L,6L

	)

4765 
	#SN_sm4_ùr
 "SM4-CTR"

	)

4766 
	#LN_sm4_ùr
 "sm4-ùr"

	)

4767 
	#NID_sm4_ùr
 1139

	)

4768 
	#OBJ_sm4_ùr
 
OBJ_sm_scheme
,104L,7L

	)

4770 
	#SN_hmac
 "HMAC"

	)

4771 
	#LN_hmac
 "hmac"

	)

4772 
	#NID_hmac
 855

	)

4774 
	#SN_cmac
 "CMAC"

	)

4775 
	#LN_cmac
 "cmac"

	)

4776 
	#NID_cmac
 894

	)

4778 
	#SN_rc4_hmac_md5
 "RC4-HMAC-MD5"

	)

4779 
	#LN_rc4_hmac_md5
 "rc4-hmac-md5"

	)

4780 
	#NID_rc4_hmac_md5
 915

	)

4782 
	#SN_«s_128_cbc_hmac_sha1
 "AES-128-CBC-HMAC-SHA1"

	)

4783 
	#LN_«s_128_cbc_hmac_sha1
 "«s-128-cbc-hmac-sha1"

	)

4784 
	#NID_«s_128_cbc_hmac_sha1
 916

	)

4786 
	#SN_«s_192_cbc_hmac_sha1
 "AES-192-CBC-HMAC-SHA1"

	)

4787 
	#LN_«s_192_cbc_hmac_sha1
 "«s-192-cbc-hmac-sha1"

	)

4788 
	#NID_«s_192_cbc_hmac_sha1
 917

	)

4790 
	#SN_«s_256_cbc_hmac_sha1
 "AES-256-CBC-HMAC-SHA1"

	)

4791 
	#LN_«s_256_cbc_hmac_sha1
 "«s-256-cbc-hmac-sha1"

	)

4792 
	#NID_«s_256_cbc_hmac_sha1
 918

	)

4794 
	#SN_«s_128_cbc_hmac_sha256
 "AES-128-CBC-HMAC-SHA256"

	)

4795 
	#LN_«s_128_cbc_hmac_sha256
 "«s-128-cbc-hmac-sha256"

	)

4796 
	#NID_«s_128_cbc_hmac_sha256
 948

	)

4798 
	#SN_«s_192_cbc_hmac_sha256
 "AES-192-CBC-HMAC-SHA256"

	)

4799 
	#LN_«s_192_cbc_hmac_sha256
 "«s-192-cbc-hmac-sha256"

	)

4800 
	#NID_«s_192_cbc_hmac_sha256
 949

	)

4802 
	#SN_«s_256_cbc_hmac_sha256
 "AES-256-CBC-HMAC-SHA256"

	)

4803 
	#LN_«s_256_cbc_hmac_sha256
 "«s-256-cbc-hmac-sha256"

	)

4804 
	#NID_«s_256_cbc_hmac_sha256
 950

	)

4806 
	#SN_chacha20_pŞy1305
 "ChaCha20-PŞy1305"

	)

4807 
	#LN_chacha20_pŞy1305
 "chacha20-pŞy1305"

	)

4808 
	#NID_chacha20_pŞy1305
 1018

	)

4810 
	#SN_chacha20
 "ChaCha20"

	)

4811 
	#LN_chacha20
 "chacha20"

	)

4812 
	#NID_chacha20
 1019

	)

4814 
	#SN_dhpubliúumb”
 "dhpubliúumb”"

	)

4815 
	#LN_dhpubliúumb”
 "X9.42 DH"

	)

4816 
	#NID_dhpubliúumb”
 920

	)

4817 
	#OBJ_dhpubliúumb”
 
OBJ_ISO_US
,10046L,2L,1L

	)

4819 
	#SN_b¿špoŞP160r1
 "b¿špoŞP160r1"

	)

4820 
	#NID_b¿špoŞP160r1
 921

	)

4821 
	#OBJ_b¿špoŞP160r1
 1L,3L,36L,3L,3L,2L,8L,1L,1L,1L

	)

4823 
	#SN_b¿špoŞP160t1
 "b¿špoŞP160t1"

	)

4824 
	#NID_b¿špoŞP160t1
 922

	)

4825 
	#OBJ_b¿špoŞP160t1
 1L,3L,36L,3L,3L,2L,8L,1L,1L,2L

	)

4827 
	#SN_b¿špoŞP192r1
 "b¿špoŞP192r1"

	)

4828 
	#NID_b¿špoŞP192r1
 923

	)

4829 
	#OBJ_b¿špoŞP192r1
 1L,3L,36L,3L,3L,2L,8L,1L,1L,3L

	)

4831 
	#SN_b¿špoŞP192t1
 "b¿špoŞP192t1"

	)

4832 
	#NID_b¿špoŞP192t1
 924

	)

4833 
	#OBJ_b¿špoŞP192t1
 1L,3L,36L,3L,3L,2L,8L,1L,1L,4L

	)

4835 
	#SN_b¿špoŞP224r1
 "b¿špoŞP224r1"

	)

4836 
	#NID_b¿špoŞP224r1
 925

	)

4837 
	#OBJ_b¿špoŞP224r1
 1L,3L,36L,3L,3L,2L,8L,1L,1L,5L

	)

4839 
	#SN_b¿špoŞP224t1
 "b¿špoŞP224t1"

	)

4840 
	#NID_b¿špoŞP224t1
 926

	)

4841 
	#OBJ_b¿špoŞP224t1
 1L,3L,36L,3L,3L,2L,8L,1L,1L,6L

	)

4843 
	#SN_b¿špoŞP256r1
 "b¿špoŞP256r1"

	)

4844 
	#NID_b¿špoŞP256r1
 927

	)

4845 
	#OBJ_b¿špoŞP256r1
 1L,3L,36L,3L,3L,2L,8L,1L,1L,7L

	)

4847 
	#SN_b¿špoŞP256t1
 "b¿špoŞP256t1"

	)

4848 
	#NID_b¿špoŞP256t1
 928

	)

4849 
	#OBJ_b¿špoŞP256t1
 1L,3L,36L,3L,3L,2L,8L,1L,1L,8L

	)

4851 
	#SN_b¿špoŞP320r1
 "b¿špoŞP320r1"

	)

4852 
	#NID_b¿špoŞP320r1
 929

	)

4853 
	#OBJ_b¿špoŞP320r1
 1L,3L,36L,3L,3L,2L,8L,1L,1L,9L

	)

4855 
	#SN_b¿špoŞP320t1
 "b¿špoŞP320t1"

	)

4856 
	#NID_b¿špoŞP320t1
 930

	)

4857 
	#OBJ_b¿špoŞP320t1
 1L,3L,36L,3L,3L,2L,8L,1L,1L,10L

	)

4859 
	#SN_b¿špoŞP384r1
 "b¿špoŞP384r1"

	)

4860 
	#NID_b¿špoŞP384r1
 931

	)

4861 
	#OBJ_b¿špoŞP384r1
 1L,3L,36L,3L,3L,2L,8L,1L,1L,11L

	)

4863 
	#SN_b¿špoŞP384t1
 "b¿špoŞP384t1"

	)

4864 
	#NID_b¿špoŞP384t1
 932

	)

4865 
	#OBJ_b¿špoŞP384t1
 1L,3L,36L,3L,3L,2L,8L,1L,1L,12L

	)

4867 
	#SN_b¿špoŞP512r1
 "b¿špoŞP512r1"

	)

4868 
	#NID_b¿špoŞP512r1
 933

	)

4869 
	#OBJ_b¿špoŞP512r1
 1L,3L,36L,3L,3L,2L,8L,1L,1L,13L

	)

4871 
	#SN_b¿špoŞP512t1
 "b¿špoŞP512t1"

	)

4872 
	#NID_b¿špoŞP512t1
 934

	)

4873 
	#OBJ_b¿špoŞP512t1
 1L,3L,36L,3L,3L,2L,8L,1L,1L,14L

	)

4875 
	#OBJ_x9_63_scheme
 1L,3L,133L,16L,840L,63L,0L

	)

4877 
	#OBJ_£cg_scheme
 
OBJ_û¹icom_¬c
,1L

	)

4879 
	#SN_dhSšgËPass_¡dDH_sha1kdf_scheme
 "dhSšgËPass-¡dDH-sha1kdf-scheme"

	)

4880 
	#NID_dhSšgËPass_¡dDH_sha1kdf_scheme
 936

	)

4881 
	#OBJ_dhSšgËPass_¡dDH_sha1kdf_scheme
 
OBJ_x9_63_scheme
,2L

	)

4883 
	#SN_dhSšgËPass_¡dDH_sha224kdf_scheme
 "dhSšgËPass-¡dDH-sha224kdf-scheme"

	)

4884 
	#NID_dhSšgËPass_¡dDH_sha224kdf_scheme
 937

	)

4885 
	#OBJ_dhSšgËPass_¡dDH_sha224kdf_scheme
 
OBJ_£cg_scheme
,11L,0L

	)

4887 
	#SN_dhSšgËPass_¡dDH_sha256kdf_scheme
 "dhSšgËPass-¡dDH-sha256kdf-scheme"

	)

4888 
	#NID_dhSšgËPass_¡dDH_sha256kdf_scheme
 938

	)

4889 
	#OBJ_dhSšgËPass_¡dDH_sha256kdf_scheme
 
OBJ_£cg_scheme
,11L,1L

	)

4891 
	#SN_dhSšgËPass_¡dDH_sha384kdf_scheme
 "dhSšgËPass-¡dDH-sha384kdf-scheme"

	)

4892 
	#NID_dhSšgËPass_¡dDH_sha384kdf_scheme
 939

	)

4893 
	#OBJ_dhSšgËPass_¡dDH_sha384kdf_scheme
 
OBJ_£cg_scheme
,11L,2L

	)

4895 
	#SN_dhSšgËPass_¡dDH_sha512kdf_scheme
 "dhSšgËPass-¡dDH-sha512kdf-scheme"

	)

4896 
	#NID_dhSšgËPass_¡dDH_sha512kdf_scheme
 940

	)

4897 
	#OBJ_dhSšgËPass_¡dDH_sha512kdf_scheme
 
OBJ_£cg_scheme
,11L,3L

	)

4899 
	#SN_dhSšgËPass_coçùÜDH_sha1kdf_scheme
 "dhSšgËPass-coçùÜDH-sha1kdf-scheme"

	)

4900 
	#NID_dhSšgËPass_coçùÜDH_sha1kdf_scheme
 941

	)

4901 
	#OBJ_dhSšgËPass_coçùÜDH_sha1kdf_scheme
 
OBJ_x9_63_scheme
,3L

	)

4903 
	#SN_dhSšgËPass_coçùÜDH_sha224kdf_scheme
 "dhSšgËPass-coçùÜDH-sha224kdf-scheme"

	)

4904 
	#NID_dhSšgËPass_coçùÜDH_sha224kdf_scheme
 942

	)

4905 
	#OBJ_dhSšgËPass_coçùÜDH_sha224kdf_scheme
 
OBJ_£cg_scheme
,14L,0L

	)

4907 
	#SN_dhSšgËPass_coçùÜDH_sha256kdf_scheme
 "dhSšgËPass-coçùÜDH-sha256kdf-scheme"

	)

4908 
	#NID_dhSšgËPass_coçùÜDH_sha256kdf_scheme
 943

	)

4909 
	#OBJ_dhSšgËPass_coçùÜDH_sha256kdf_scheme
 
OBJ_£cg_scheme
,14L,1L

	)

4911 
	#SN_dhSšgËPass_coçùÜDH_sha384kdf_scheme
 "dhSšgËPass-coçùÜDH-sha384kdf-scheme"

	)

4912 
	#NID_dhSšgËPass_coçùÜDH_sha384kdf_scheme
 944

	)

4913 
	#OBJ_dhSšgËPass_coçùÜDH_sha384kdf_scheme
 
OBJ_£cg_scheme
,14L,2L

	)

4915 
	#SN_dhSšgËPass_coçùÜDH_sha512kdf_scheme
 "dhSšgËPass-coçùÜDH-sha512kdf-scheme"

	)

4916 
	#NID_dhSšgËPass_coçùÜDH_sha512kdf_scheme
 945

	)

4917 
	#OBJ_dhSšgËPass_coçùÜDH_sha512kdf_scheme
 
OBJ_£cg_scheme
,14L,3L

	)

4919 
	#SN_dh_¡d_kdf
 "dh-¡d-kdf"

	)

4920 
	#NID_dh_¡d_kdf
 946

	)

4922 
	#SN_dh_coçùÜ_kdf
 "dh-coçùÜ-kdf"

	)

4923 
	#NID_dh_coçùÜ_kdf
 947

	)

4925 
	#SN_ù_´eû¹_sùs
 "ù_´eû¹_sùs"

	)

4926 
	#LN_ù_´eû¹_sùs
 "CT P»û¹ifiÿ‹ SCTs"

	)

4927 
	#NID_ù_´eû¹_sùs
 951

	)

4928 
	#OBJ_ù_´eû¹_sùs
 1L,3L,6L,1L,4L,1L,11129L,2L,4L,2L

	)

4930 
	#SN_ù_´eû¹_poisÚ
 "ù_´eû¹_poisÚ"

	)

4931 
	#LN_ù_´eû¹_poisÚ
 "CT P»û¹ifiÿ‹ PoisÚ"

	)

4932 
	#NID_ù_´eû¹_poisÚ
 952

	)

4933 
	#OBJ_ù_´eû¹_poisÚ
 1L,3L,6L,1L,4L,1L,11129L,2L,4L,3L

	)

4935 
	#SN_ù_´eû¹_sigÃr
 "ù_´eû¹_sigÃr"

	)

4936 
	#LN_ù_´eû¹_sigÃr
 "CT P»û¹ifiÿ‹ SigÃr"

	)

4937 
	#NID_ù_´eû¹_sigÃr
 953

	)

4938 
	#OBJ_ù_´eû¹_sigÃr
 1L,3L,6L,1L,4L,1L,11129L,2L,4L,4L

	)

4940 
	#SN_ù_û¹_sùs
 "ù_û¹_sùs"

	)

4941 
	#LN_ù_û¹_sùs
 "CT C”tifiÿ‹ SCTs"

	)

4942 
	#NID_ù_û¹_sùs
 954

	)

4943 
	#OBJ_ù_û¹_sùs
 1L,3L,6L,1L,4L,1L,11129L,2L,4L,5L

	)

4945 
	#SN_jurisdiùiÚLoÿl™yName
 "jurisdiùiÚL"

	)

4946 
	#LN_jurisdiùiÚLoÿl™yName
 "jurisdiùiÚLoÿl™yName"

	)

4947 
	#NID_jurisdiùiÚLoÿl™yName
 955

	)

4948 
	#OBJ_jurisdiùiÚLoÿl™yName
 1L,3L,6L,1L,4L,1L,311L,60L,2L,1L,1L

	)

4950 
	#SN_jurisdiùiÚS‹OrProvšûName
 "jurisdiùiÚST"

	)

4951 
	#LN_jurisdiùiÚS‹OrProvšûName
 "jurisdiùiÚS‹OrProvšûName"

	)

4952 
	#NID_jurisdiùiÚS‹OrProvšûName
 956

	)

4953 
	#OBJ_jurisdiùiÚS‹OrProvšûName
 1L,3L,6L,1L,4L,1L,311L,60L,2L,1L,2L

	)

4955 
	#SN_jurisdiùiÚCouÁryName
 "jurisdiùiÚC"

	)

4956 
	#LN_jurisdiùiÚCouÁryName
 "jurisdiùiÚCouÁryName"

	)

4957 
	#NID_jurisdiùiÚCouÁryName
 957

	)

4958 
	#OBJ_jurisdiùiÚCouÁryName
 1L,3L,6L,1L,4L,1L,311L,60L,2L,1L,3L

	)

4960 
	#SN_id_süy±
 "id-süy±"

	)

4961 
	#LN_id_süy±
 "süy±"

	)

4962 
	#NID_id_süy±
 973

	)

4963 
	#OBJ_id_süy±
 1L,3L,6L,1L,4L,1L,11591L,4L,11L

	)

4965 
	#SN_s1_´f
 "TLS1-PRF"

	)

4966 
	#LN_s1_´f
 "s1-´f"

	)

4967 
	#NID_s1_´f
 1021

	)

4969 
	#SN_hkdf
 "HKDF"

	)

4970 
	#LN_hkdf
 "hkdf"

	)

4971 
	#NID_hkdf
 1036

	)

4973 
	#SN_id_pkš™
 "id-pkš™"

	)

4974 
	#NID_id_pkš™
 1031

	)

4975 
	#OBJ_id_pkš™
 1L,3L,6L,1L,5L,2L,3L

	)

4977 
	#SN_pkIn™Cl›ÁAuth
 "pkIn™Cl›ÁAuth"

	)

4978 
	#LN_pkIn™Cl›ÁAuth
 "PKINIT Cl›Á Auth"

	)

4979 
	#NID_pkIn™Cl›ÁAuth
 1032

	)

4980 
	#OBJ_pkIn™Cl›ÁAuth
 
OBJ_id_pkš™
,4L

	)

4982 
	#SN_pkIn™KDC
 "pkIn™KDC"

	)

4983 
	#LN_pkIn™KDC
 "Signšg KDC Re¥Ú£"

	)

4984 
	#NID_pkIn™KDC
 1033

	)

4985 
	#OBJ_pkIn™KDC
 
OBJ_id_pkš™
,5L

	)

4987 
	#SN_X25519
 "X25519"

	)

4988 
	#NID_X25519
 1034

	)

4989 
	#OBJ_X25519
 1L,3L,101L,110L

	)

4991 
	#SN_X448
 "X448"

	)

4992 
	#NID_X448
 1035

	)

4993 
	#OBJ_X448
 1L,3L,101L,111L

	)

4995 
	#SN_ED25519
 "ED25519"

	)

4996 
	#NID_ED25519
 1087

	)

4997 
	#OBJ_ED25519
 1L,3L,101L,112L

	)

4999 
	#SN_ED448
 "ED448"

	)

5000 
	#NID_ED448
 1088

	)

5001 
	#OBJ_ED448
 1L,3L,101L,113L

	)

5003 
	#SN_kx_r§
 "KxRSA"

	)

5004 
	#LN_kx_r§
 "kx-r§"

	)

5005 
	#NID_kx_r§
 1037

	)

5007 
	#SN_kx_ecdhe
 "KxECDHE"

	)

5008 
	#LN_kx_ecdhe
 "kx-ecdhe"

	)

5009 
	#NID_kx_ecdhe
 1038

	)

5011 
	#SN_kx_dhe
 "KxDHE"

	)

5012 
	#LN_kx_dhe
 "kx-dhe"

	)

5013 
	#NID_kx_dhe
 1039

	)

5015 
	#SN_kx_ecdhe_psk
 "KxECDHE-PSK"

	)

5016 
	#LN_kx_ecdhe_psk
 "kx-ecdhe-psk"

	)

5017 
	#NID_kx_ecdhe_psk
 1040

	)

5019 
	#SN_kx_dhe_psk
 "KxDHE-PSK"

	)

5020 
	#LN_kx_dhe_psk
 "kx-dhe-psk"

	)

5021 
	#NID_kx_dhe_psk
 1041

	)

5023 
	#SN_kx_r§_psk
 "KxRSA_PSK"

	)

5024 
	#LN_kx_r§_psk
 "kx-r§-psk"

	)

5025 
	#NID_kx_r§_psk
 1042

	)

5027 
	#SN_kx_psk
 "KxPSK"

	)

5028 
	#LN_kx_psk
 "kx-psk"

	)

5029 
	#NID_kx_psk
 1043

	)

5031 
	#SN_kx_¤p
 "KxSRP"

	)

5032 
	#LN_kx_¤p
 "kx-¤p"

	)

5033 
	#NID_kx_¤p
 1044

	)

5035 
	#SN_kx_go¡
 "KxGOST"

	)

5036 
	#LN_kx_go¡
 "kx-go¡"

	)

5037 
	#NID_kx_go¡
 1045

	)

5039 
	#SN_kx_ªy
 "KxANY"

	)

5040 
	#LN_kx_ªy
 "kx-ªy"

	)

5041 
	#NID_kx_ªy
 1063

	)

5043 
	#SN_auth_r§
 "AuthRSA"

	)

5044 
	#LN_auth_r§
 "auth-r§"

	)

5045 
	#NID_auth_r§
 1046

	)

5047 
	#SN_auth_ecd§
 "AuthECDSA"

	)

5048 
	#LN_auth_ecd§
 "auth-ecd§"

	)

5049 
	#NID_auth_ecd§
 1047

	)

5051 
	#SN_auth_psk
 "AuthPSK"

	)

5052 
	#LN_auth_psk
 "auth-psk"

	)

5053 
	#NID_auth_psk
 1048

	)

5055 
	#SN_auth_dss
 "AuthDSS"

	)

5056 
	#LN_auth_dss
 "auth-dss"

	)

5057 
	#NID_auth_dss
 1049

	)

5059 
	#SN_auth_go¡01
 "AuthGOST01"

	)

5060 
	#LN_auth_go¡01
 "auth-go¡01"

	)

5061 
	#NID_auth_go¡01
 1050

	)

5063 
	#SN_auth_go¡12
 "AuthGOST12"

	)

5064 
	#LN_auth_go¡12
 "auth-go¡12"

	)

5065 
	#NID_auth_go¡12
 1051

	)

5067 
	#SN_auth_¤p
 "AuthSRP"

	)

5068 
	#LN_auth_¤p
 "auth-¤p"

	)

5069 
	#NID_auth_¤p
 1052

	)

5071 
	#SN_auth_nuÎ
 "AuthNULL"

	)

5072 
	#LN_auth_nuÎ
 "auth-nuÎ"

	)

5073 
	#NID_auth_nuÎ
 1053

	)

5075 
	#SN_auth_ªy
 "AuthANY"

	)

5076 
	#LN_auth_ªy
 "auth-ªy"

	)

5077 
	#NID_auth_ªy
 1064

	)

5079 
	#SN_pŞy1305
 "PŞy1305"

	)

5080 
	#LN_pŞy1305
 "pŞy1305"

	)

5081 
	#NID_pŞy1305
 1061

	)

5083 
	#SN_shash
 "SHash"

	)

5084 
	#LN_shash
 "shash"

	)

5085 
	#NID_shash
 1062

	)

5087 
	#SN_ffdhe2048
 "ffdhe2048"

	)

5088 
	#NID_ffdhe2048
 1126

	)

5090 
	#SN_ffdhe3072
 "ffdhe3072"

	)

5091 
	#NID_ffdhe3072
 1127

	)

5093 
	#SN_ffdhe4096
 "ffdhe4096"

	)

5094 
	#NID_ffdhe4096
 1128

	)

5096 
	#SN_ffdhe6144
 "ffdhe6144"

	)

5097 
	#NID_ffdhe6144
 1129

	)

5099 
	#SN_ffdhe8192
 "ffdhe8192"

	)

5100 
	#NID_ffdhe8192
 1130

	)

5102 
	#SN_ISO_UA
 "ISO-UA"

	)

5103 
	#NID_ISO_UA
 1150

	)

5104 
	#OBJ_ISO_UA
 
OBJ_memb”_body
,804L

	)

5106 
	#SN_ua_pki
 "ua-pki"

	)

5107 
	#NID_ua_pki
 1151

	)

5108 
	#OBJ_ua_pki
 
OBJ_ISO_UA
,2L,1L,1L,1L

	)

5110 
	#SN_d¡u28147
 "d¡u28147"

	)

5111 
	#LN_d¡u28147
 "DSTU Go¡ 28147-2009"

	)

5112 
	#NID_d¡u28147
 1152

	)

5113 
	#OBJ_d¡u28147
 
OBJ_ua_pki
,1L,1L,1L

	)

5115 
	#SN_d¡u28147_ofb
 "d¡u28147-ofb"

	)

5116 
	#LN_d¡u28147_ofb
 "DSTU Go¡ 28147-2009 OFB mode"

	)

5117 
	#NID_d¡u28147_ofb
 1153

	)

5118 
	#OBJ_d¡u28147_ofb
 
OBJ_d¡u28147
,2L

	)

5120 
	#SN_d¡u28147_cfb
 "d¡u28147-cfb"

	)

5121 
	#LN_d¡u28147_cfb
 "DSTU Go¡ 28147-2009 CFB mode"

	)

5122 
	#NID_d¡u28147_cfb
 1154

	)

5123 
	#OBJ_d¡u28147_cfb
 
OBJ_d¡u28147
,3L

	)

5125 
	#SN_d¡u28147_w¿p
 "d¡u28147-w¿p"

	)

5126 
	#LN_d¡u28147_w¿p
 "DSTU Go¡ 28147-2009 key w¿p"

	)

5127 
	#NID_d¡u28147_w¿p
 1155

	)

5128 
	#OBJ_d¡u28147_w¿p
 
OBJ_d¡u28147
,5L

	)

5130 
	#SN_hmacW™hD¡u34311
 "hmacW™hD¡u34311"

	)

5131 
	#LN_hmacW™hD¡u34311
 "HMAC DSTU Go¡ 34311-95"

	)

5132 
	#NID_hmacW™hD¡u34311
 1156

	)

5133 
	#OBJ_hmacW™hD¡u34311
 
OBJ_ua_pki
,1L,1L,2L

	)

5135 
	#SN_d¡u34311
 "d¡u34311"

	)

5136 
	#LN_d¡u34311
 "DSTU Go¡ 34311-95"

	)

5137 
	#NID_d¡u34311
 1157

	)

5138 
	#OBJ_d¡u34311
 
OBJ_ua_pki
,1L,2L,1L

	)

5140 
	#SN_d¡u4145Ë
 "d¡u4145Ë"

	)

5141 
	#LN_d¡u4145Ë
 "DSTU 4145-2002†™’dŸn"

	)

5142 
	#NID_d¡u4145Ë
 1158

	)

5143 
	#OBJ_d¡u4145Ë
 
OBJ_ua_pki
,1L,3L,1L,1L

	)

5145 
	#SN_d¡u4145be
 "d¡u4145be"

	)

5146 
	#LN_d¡u4145be
 "DSTU 4145-2002 bigƒndŸn"

	)

5147 
	#NID_d¡u4145be
 1159

	)

5148 
	#OBJ_d¡u4145be
 
OBJ_d¡u4145Ë
,1L,1L

	)

5150 
	#SN_uacurve0
 "uacurve0"

	)

5151 
	#LN_uacurve0
 "DSTU curv0"

	)

5152 
	#NID_uacurve0
 1160

	)

5153 
	#OBJ_uacurve0
 
OBJ_d¡u4145Ë
,2L,0L

	)

5155 
	#SN_uacurve1
 "uacurve1"

	)

5156 
	#LN_uacurve1
 "DSTU curv1"

	)

5157 
	#NID_uacurve1
 1161

	)

5158 
	#OBJ_uacurve1
 
OBJ_d¡u4145Ë
,2L,1L

	)

5160 
	#SN_uacurve2
 "uacurve2"

	)

5161 
	#LN_uacurve2
 "DSTU curv2"

	)

5162 
	#NID_uacurve2
 1162

	)

5163 
	#OBJ_uacurve2
 
OBJ_d¡u4145Ë
,2L,2L

	)

5165 
	#SN_uacurve3
 "uacurve3"

	)

5166 
	#LN_uacurve3
 "DSTU curv3"

	)

5167 
	#NID_uacurve3
 1163

	)

5168 
	#OBJ_uacurve3
 
OBJ_d¡u4145Ë
,2L,3L

	)

5170 
	#SN_uacurve4
 "uacurve4"

	)

5171 
	#LN_uacurve4
 "DSTU curv4"

	)

5172 
	#NID_uacurve4
 1164

	)

5173 
	#OBJ_uacurve4
 
OBJ_d¡u4145Ë
,2L,4L

	)

5175 
	#SN_uacurve5
 "uacurve5"

	)

5176 
	#LN_uacurve5
 "DSTU curv5"

	)

5177 
	#NID_uacurve5
 1165

	)

5178 
	#OBJ_uacurve5
 
OBJ_d¡u4145Ë
,2L,5L

	)

5180 
	#SN_uacurve6
 "uacurve6"

	)

5181 
	#LN_uacurve6
 "DSTU curv6"

	)

5182 
	#NID_uacurve6
 1166

	)

5183 
	#OBJ_uacurve6
 
OBJ_d¡u4145Ë
,2L,6L

	)

5185 
	#SN_uacurve7
 "uacurve7"

	)

5186 
	#LN_uacurve7
 "DSTU curv7"

	)

5187 
	#NID_uacurve7
 1167

	)

5188 
	#OBJ_uacurve7
 
OBJ_d¡u4145Ë
,2L,7L

	)

5190 
	#SN_uacurve8
 "uacurve8"

	)

5191 
	#LN_uacurve8
 "DSTU curv8"

	)

5192 
	#NID_uacurve8
 1168

	)

5193 
	#OBJ_uacurve8
 
OBJ_d¡u4145Ë
,2L,8L

	)

5195 
	#SN_uacurve9
 "uacurve9"

	)

5196 
	#LN_uacurve9
 "DSTU curv9"

	)

5197 
	#NID_uacurve9
 1169

	)

5198 
	#OBJ_uacurve9
 
OBJ_d¡u4145Ë
,2L,9L

	)

	@/usr/include/openssl/objectserr.h

11 #iâdeà
HEADER_OBJERR_H


12 
	#HEADER_OBJERR_H


	)

14 #ifdeà 
__ılu¥lus


17 
ERR_lßd_OBJ_¡ršgs
();

22 
	#OBJ_F_OBJ_ADD_OBJECT
 105

	)

23 
	#OBJ_F_OBJ_ADD_SIGID
 107

	)

24 
	#OBJ_F_OBJ_CREATE
 100

	)

25 
	#OBJ_F_OBJ_DUP
 101

	)

26 
	#OBJ_F_OBJ_NAME_NEW_INDEX
 106

	)

27 
	#OBJ_F_OBJ_NID2LN
 102

	)

28 
	#OBJ_F_OBJ_NID2OBJ
 103

	)

29 
	#OBJ_F_OBJ_NID2SN
 104

	)

30 
	#OBJ_F_OBJ_TXT2OBJ
 108

	)

35 
	#OBJ_R_OID_EXISTS
 102

	)

36 
	#OBJ_R_UNKNOWN_NID
 101

	)

	@/usr/include/openssl/pkcs7err.h

11 #iâdeà
HEADER_PKCS7ERR_H


12 
	#HEADER_PKCS7ERR_H


	)

14 #ifdeà 
__ılu¥lus


17 
ERR_lßd_PKCS7_¡ršgs
();

22 
	#PKCS7_F_DO_PKCS7_SIGNED_ATTRIB
 136

	)

23 
	#PKCS7_F_PKCS7_ADD0_ATTRIB_SIGNING_TIME
 135

	)

24 
	#PKCS7_F_PKCS7_ADD_ATTRIB_SMIMECAP
 118

	)

25 
	#PKCS7_F_PKCS7_ADD_CERTIFICATE
 100

	)

26 
	#PKCS7_F_PKCS7_ADD_CRL
 101

	)

27 
	#PKCS7_F_PKCS7_ADD_RECIPIENT_INFO
 102

	)

28 
	#PKCS7_F_PKCS7_ADD_SIGNATURE
 131

	)

29 
	#PKCS7_F_PKCS7_ADD_SIGNER
 103

	)

30 
	#PKCS7_F_PKCS7_BIO_ADD_DIGEST
 125

	)

31 
	#PKCS7_F_PKCS7_COPY_EXISTING_DIGEST
 138

	)

32 
	#PKCS7_F_PKCS7_CTRL
 104

	)

33 
	#PKCS7_F_PKCS7_DATADECODE
 112

	)

34 
	#PKCS7_F_PKCS7_DATAFINAL
 128

	)

35 
	#PKCS7_F_PKCS7_DATAINIT
 105

	)

36 
	#PKCS7_F_PKCS7_DATAVERIFY
 107

	)

37 
	#PKCS7_F_PKCS7_DECRYPT
 114

	)

38 
	#PKCS7_F_PKCS7_DECRYPT_RINFO
 133

	)

39 
	#PKCS7_F_PKCS7_ENCODE_RINFO
 132

	)

40 
	#PKCS7_F_PKCS7_ENCRYPT
 115

	)

41 
	#PKCS7_F_PKCS7_FINAL
 134

	)

42 
	#PKCS7_F_PKCS7_FIND_DIGEST
 127

	)

43 
	#PKCS7_F_PKCS7_GET0_SIGNERS
 124

	)

44 
	#PKCS7_F_PKCS7_RECIP_INFO_SET
 130

	)

45 
	#PKCS7_F_PKCS7_SET_CIPHER
 108

	)

46 
	#PKCS7_F_PKCS7_SET_CONTENT
 109

	)

47 
	#PKCS7_F_PKCS7_SET_DIGEST
 126

	)

48 
	#PKCS7_F_PKCS7_SET_TYPE
 110

	)

49 
	#PKCS7_F_PKCS7_SIGN
 116

	)

50 
	#PKCS7_F_PKCS7_SIGNATUREVERIFY
 113

	)

51 
	#PKCS7_F_PKCS7_SIGNER_INFO_SET
 129

	)

52 
	#PKCS7_F_PKCS7_SIGNER_INFO_SIGN
 139

	)

53 
	#PKCS7_F_PKCS7_SIGN_ADD_SIGNER
 137

	)

54 
	#PKCS7_F_PKCS7_SIMPLE_SMIMECAP
 119

	)

55 
	#PKCS7_F_PKCS7_VERIFY
 117

	)

60 
	#PKCS7_R_CERTIFICATE_VERIFY_ERROR
 117

	)

61 
	#PKCS7_R_CIPHER_HAS_NO_OBJECT_IDENTIFIER
 144

	)

62 
	#PKCS7_R_CIPHER_NOT_INITIALIZED
 116

	)

63 
	#PKCS7_R_CONTENT_AND_DATA_PRESENT
 118

	)

64 
	#PKCS7_R_CTRL_ERROR
 152

	)

65 
	#PKCS7_R_DECRYPT_ERROR
 119

	)

66 
	#PKCS7_R_DIGEST_FAILURE
 101

	)

67 
	#PKCS7_R_ENCRYPTION_CTRL_FAILURE
 149

	)

68 
	#PKCS7_R_ENCRYPTION_NOT_SUPPORTED_FOR_THIS_KEY_TYPE
 150

	)

69 
	#PKCS7_R_ERROR_ADDING_RECIPIENT
 120

	)

70 
	#PKCS7_R_ERROR_SETTING_CIPHER
 121

	)

71 
	#PKCS7_R_INVALID_NULL_POINTER
 143

	)

72 
	#PKCS7_R_INVALID_SIGNED_DATA_TYPE
 155

	)

73 
	#PKCS7_R_NO_CONTENT
 122

	)

74 
	#PKCS7_R_NO_DEFAULT_DIGEST
 151

	)

75 
	#PKCS7_R_NO_MATCHING_DIGEST_TYPE_FOUND
 154

	)

76 
	#PKCS7_R_NO_RECIPIENT_MATCHES_CERTIFICATE
 115

	)

77 
	#PKCS7_R_NO_SIGNATURES_ON_DATA
 123

	)

78 
	#PKCS7_R_NO_SIGNERS
 142

	)

79 
	#PKCS7_R_OPERATION_NOT_SUPPORTED_ON_THIS_TYPE
 104

	)

80 
	#PKCS7_R_PKCS7_ADD_SIGNATURE_ERROR
 124

	)

81 
	#PKCS7_R_PKCS7_ADD_SIGNER_ERROR
 153

	)

82 
	#PKCS7_R_PKCS7_DATASIGN
 145

	)

83 
	#PKCS7_R_PRIVATE_KEY_DOES_NOT_MATCH_CERTIFICATE
 127

	)

84 
	#PKCS7_R_SIGNATURE_FAILURE
 105

	)

85 
	#PKCS7_R_SIGNER_CERTIFICATE_NOT_FOUND
 128

	)

86 
	#PKCS7_R_SIGNING_CTRL_FAILURE
 147

	)

87 
	#PKCS7_R_SIGNING_NOT_SUPPORTED_FOR_THIS_KEY_TYPE
 148

	)

88 
	#PKCS7_R_SMIME_TEXT_ERROR
 129

	)

89 
	#PKCS7_R_UNABLE_TO_FIND_CERTIFICATE
 106

	)

90 
	#PKCS7_R_UNABLE_TO_FIND_MEM_BIO
 107

	)

91 
	#PKCS7_R_UNABLE_TO_FIND_MESSAGE_DIGEST
 108

	)

92 
	#PKCS7_R_UNKNOWN_DIGEST_TYPE
 109

	)

93 
	#PKCS7_R_UNKNOWN_OPERATION
 110

	)

94 
	#PKCS7_R_UNSUPPORTED_CIPHER_TYPE
 111

	)

95 
	#PKCS7_R_UNSUPPORTED_CONTENT_TYPE
 112

	)

96 
	#PKCS7_R_WRONG_CONTENT_TYPE
 113

	)

97 
	#PKCS7_R_WRONG_PKCS7_TYPE
 114

	)

	@/usr/include/openssl/stack.h

10 #iâdeà
HEADER_STACK_H


11 
	#HEADER_STACK_H


	)

13 #ifdeà 
__ılu¥lus


17 
¡ack_¡
 
	tOPENSSL_STACK
;

19 (*
OPENSSL_sk_compfunc
)(const *, const *);

20 (*
OPENSSL_sk_ä“func
)(*);

21 *(*
	tOPENSSL_sk_cİyfunc
)(const *);

23 
OPENSSL_sk_num
(cÚ¡ 
OPENSSL_STACK
 *);

24 *
OPENSSL_sk_v®ue
(cÚ¡ 
OPENSSL_STACK
 *, );

26 *
OPENSSL_sk_£t
(
OPENSSL_STACK
 *
¡
, 
i
, cÚ¡ *
d©a
);

28 
OPENSSL_STACK
 *
OPENSSL_sk_Ãw
(
OPENSSL_sk_compfunc
 
cmp
);

29 
OPENSSL_STACK
 *
OPENSSL_sk_Ãw_nuÎ
();

30 
OPENSSL_STACK
 *
OPENSSL_sk_Ãw_»£rve
(
OPENSSL_sk_compfunc
 
c
, 
n
);

31 
OPENSSL_sk_»£rve
(
OPENSSL_STACK
 *
¡
, 
n
);

32 
OPENSSL_sk_ä“
(
OPENSSL_STACK
 *);

33 
OPENSSL_sk_pİ_ä“
(
OPENSSL_STACK
 *
¡
, (*
func
) (*));

34 
OPENSSL_STACK
 *
OPENSSL_sk_d“p_cİy
(const OPENSSL_STACK *,

35 
OPENSSL_sk_cİyfunc
 
c
,

36 
OPENSSL_sk_ä“func
 
f
);

37 
OPENSSL_sk_š£¹
(
OPENSSL_STACK
 *
sk
, cÚ¡ *
d©a
, 
wh”e
);

38 *
OPENSSL_sk_d–‘e
(
OPENSSL_STACK
 *
¡
, 
loc
);

39 *
OPENSSL_sk_d–‘e_±r
(
OPENSSL_STACK
 *
¡
, cÚ¡ *
p
);

40 
OPENSSL_sk_fšd
(
OPENSSL_STACK
 *
¡
, cÚ¡ *
d©a
);

41 
OPENSSL_sk_fšd_ex
(
OPENSSL_STACK
 *
¡
, cÚ¡ *
d©a
);

42 
OPENSSL_sk_push
(
OPENSSL_STACK
 *
¡
, cÚ¡ *
d©a
);

43 
OPENSSL_sk_unshiá
(
OPENSSL_STACK
 *
¡
, cÚ¡ *
d©a
);

44 *
OPENSSL_sk_shiá
(
OPENSSL_STACK
 *
¡
);

45 *
OPENSSL_sk_pİ
(
OPENSSL_STACK
 *
¡
);

46 
OPENSSL_sk_z”o
(
OPENSSL_STACK
 *
¡
);

47 
OPENSSL_sk_compfunc
 
OPENSSL_sk_£t_cmp_func
(
OPENSSL_STACK
 *
sk
,

48 
OPENSSL_sk_compfunc
 
cmp
);

49 
OPENSSL_STACK
 *
OPENSSL_sk_dup
(cÚ¡ OPENSSL_STACK *
¡
);

50 
OPENSSL_sk_sÜt
(
OPENSSL_STACK
 *
¡
);

51 
OPENSSL_sk_is_sÜ‹d
(cÚ¡ 
OPENSSL_STACK
 *
¡
);

53 #ià
OPENSSL_API_COMPAT
 < 0x10100000L

54 
	#_STACK
 
OPENSSL_STACK


	)

55 
	#sk_num
 
OPENSSL_sk_num


	)

56 
	#sk_v®ue
 
OPENSSL_sk_v®ue


	)

57 
	#sk_£t
 
OPENSSL_sk_£t


	)

58 
	#sk_Ãw
 
OPENSSL_sk_Ãw


	)

59 
	#sk_Ãw_nuÎ
 
OPENSSL_sk_Ãw_nuÎ


	)

60 
	#sk_ä“
 
OPENSSL_sk_ä“


	)

61 
	#sk_pİ_ä“
 
OPENSSL_sk_pİ_ä“


	)

62 
	#sk_d“p_cİy
 
OPENSSL_sk_d“p_cİy


	)

63 
	#sk_š£¹
 
OPENSSL_sk_š£¹


	)

64 
	#sk_d–‘e
 
OPENSSL_sk_d–‘e


	)

65 
	#sk_d–‘e_±r
 
OPENSSL_sk_d–‘e_±r


	)

66 
	#sk_fšd
 
OPENSSL_sk_fšd


	)

67 
	#sk_fšd_ex
 
OPENSSL_sk_fšd_ex


	)

68 
	#sk_push
 
OPENSSL_sk_push


	)

69 
	#sk_unshiá
 
OPENSSL_sk_unshiá


	)

70 
	#sk_shiá
 
OPENSSL_sk_shiá


	)

71 
	#sk_pİ
 
OPENSSL_sk_pİ


	)

72 
	#sk_z”o
 
OPENSSL_sk_z”o


	)

73 
	#sk_£t_cmp_func
 
OPENSSL_sk_£t_cmp_func


	)

74 
	#sk_dup
 
OPENSSL_sk_dup


	)

75 
	#sk_sÜt
 
OPENSSL_sk_sÜt


	)

76 
	#sk_is_sÜ‹d
 
OPENSSL_sk_is_sÜ‹d


	)

79 #ifdeà 
__ılu¥lus


	@/usr/include/stdc-predef.h

18 #iâdef 
_STDC_PREDEF_H


19 
	#_STDC_PREDEF_H
 1

	)

36 #ifdeà
__GCC_IEC_559


37 #ià
__GCC_IEC_559
 > 0

38 
	#__STDC_IEC_559__
 1

	)

41 
	#__STDC_IEC_559__
 1

	)

44 #ifdeà
__GCC_IEC_559_COMPLEX


45 #ià
__GCC_IEC_559_COMPLEX
 > 0

46 
	#__STDC_IEC_559_COMPLEX__
 1

	)

49 
	#__STDC_IEC_559_COMPLEX__
 1

	)

58 
	#__STDC_ISO_10646__
 201706L

	)

61 
	#__STDC_NO_THREADS__
 1

	)

	@/usr/include/linux/stddef.h

4 #iâdeà
__®ways_šlše


5 
	#__®ways_šlše
 
__šlše__


	)

	@
1
.
1
/usr/include
584
14364
arraysize.h
async_invoker.cc
async_invoker.h
async_invoker_inl.h
async_packet_socket.cc
async_packet_socket.h
async_resolver_interface.cc
async_resolver_interface.h
async_socket.cc
async_socket.h
async_tcp_socket.cc
async_tcp_socket.h
async_tcp_socket_unittest.cc
async_udp_socket.cc
async_udp_socket.h
async_udp_socket_unittest.cc
atomic_ops.h
atomic_ops_unittest.cc
base64_unittest.cc
bind.h
bind_unittest.cc
bit_buffer.cc
bit_buffer.h
bit_buffer_unittest.cc
bounded_inline_vector.h
bounded_inline_vector_impl.h
bounded_inline_vector_unittest.cc
buffer.h
buffer_queue.cc
buffer_queue.h
buffer_queue_unittest.cc
buffer_unittest.cc
byte_buffer.cc
byte_buffer.h
byte_buffer_unittest.cc
byte_order.h
byte_order_unittest.cc
callback.h
callback_unittest.cc
checks.cc
checks.h
checks_unittest.cc
compile_assert_c.h
constructor_magic.h
copy_on_write_buffer.cc
copy_on_write_buffer.h
copy_on_write_buffer_unittest.cc
cpu_time.cc
cpu_time.h
cpu_time_unittest.cc
crc32.cc
crc32.h
crc32_unittest.cc
critical_section.cc
critical_section.h
critical_section_unittest.cc
crypt_string.cc
crypt_string.h
data_rate_limiter.cc
data_rate_limiter.h
data_rate_limiter_unittest.cc
deprecation.h
dscp.h
event.cc
event.h
event_tracer.cc
event_tracer.h
event_tracer_unittest.cc
event_unittest.cc
experiments/alr_experiment.cc
experiments/alr_experiment.h
experiments/balanced_degradation_settings.cc
experiments/balanced_degradation_settings.h
experiments/balanced_degradation_settings_unittest.cc
experiments/cpu_speed_experiment.cc
experiments/cpu_speed_experiment.h
experiments/cpu_speed_experiment_unittest.cc
experiments/field_trial_list.cc
experiments/field_trial_list.h
experiments/field_trial_list_unittest.cc
experiments/field_trial_parser.cc
experiments/field_trial_parser.h
experiments/field_trial_parser_unittest.cc
experiments/field_trial_units.cc
experiments/field_trial_units.h
experiments/field_trial_units_unittest.cc
experiments/jitter_upper_bound_experiment.cc
experiments/jitter_upper_bound_experiment.h
experiments/keyframe_interval_settings.cc
experiments/keyframe_interval_settings.h
experiments/keyframe_interval_settings_unittest.cc
experiments/min_video_bitrate_experiment.cc
experiments/min_video_bitrate_experiment.h
experiments/min_video_bitrate_experiment_unittest.cc
experiments/normalize_simulcast_size_experiment.cc
experiments/normalize_simulcast_size_experiment.h
experiments/normalize_simulcast_size_experiment_unittest.cc
experiments/quality_rampup_experiment.cc
experiments/quality_rampup_experiment.h
experiments/quality_rampup_experiment_unittest.cc
experiments/quality_scaler_settings.cc
experiments/quality_scaler_settings.h
experiments/quality_scaler_settings_unittest.cc
experiments/quality_scaling_experiment.cc
experiments/quality_scaling_experiment.h
experiments/quality_scaling_experiment_unittest.cc
experiments/rate_control_settings.cc
experiments/rate_control_settings.h
experiments/rate_control_settings_unittest.cc
experiments/rtt_mult_experiment.cc
experiments/rtt_mult_experiment.h
experiments/rtt_mult_experiment_unittest.cc
experiments/stable_target_rate_experiment.cc
experiments/stable_target_rate_experiment.h
experiments/stable_target_rate_experiment_unittest.cc
experiments/struct_parameters_parser.cc
experiments/struct_parameters_parser.h
experiments/struct_parameters_parser_unittest.cc
fake_clock.cc
fake_clock.h
fake_clock_unittest.cc
fake_mdns_responder.h
fake_network.h
fake_ssl_identity.cc
fake_ssl_identity.h
file_rotating_stream.cc
file_rotating_stream.h
file_rotating_stream_unittest.cc
firewall_socket_server.cc
firewall_socket_server.h
format_macros.h
gtest_prod_util.h
gunit.cc
gunit.h
helpers.cc
helpers.h
helpers_unittest.cc
http_common.cc
http_common.h
ifaddrs_android.cc
ifaddrs_android.h
ifaddrs_converter.cc
ifaddrs_converter.h
ignore_wundef.h
ip_address.cc
ip_address.h
ip_address_unittest.cc
keep_ref_until_done.h
location.cc
location.h
log_sinks.cc
log_sinks.h
logging.cc
logging.h
logging_unittest.cc
mac_ifaddrs_converter.cc
mdns_responder_interface.h
memory/aligned_malloc.cc
memory/aligned_malloc.h
memory/aligned_malloc_unittest.cc
memory/fifo_buffer.cc
memory/fifo_buffer.h
memory/fifo_buffer_unittest.cc
memory_stream.cc
memory_stream.h
memory_usage.cc
memory_usage.h
memory_usage_unittest.cc
message_buffer_reader.h
message_digest.cc
message_digest.h
message_digest_unittest.cc
message_handler.cc
message_handler.h
nat_server.cc
nat_server.h
nat_socket_factory.cc
nat_socket_factory.h
nat_types.cc
nat_types.h
nat_unittest.cc
net_helper.cc
net_helper.h
net_helpers.cc
net_helpers.h
network.cc
network.h
network/sent_packet.cc
network/sent_packet.h
network_constants.cc
network_constants.h
network_monitor.cc
network_monitor.h
network_route.cc
network_route.h
network_route_unittest.cc
network_unittest.cc
null_socket_server.cc
null_socket_server.h
null_socket_server_unittest.cc
numerics/divide_round.h
numerics/divide_round_unittest.cc
numerics/event_based_exponential_moving_average.cc
numerics/event_based_exponential_moving_average.h
numerics/event_based_exponential_moving_average_unittest.cc
numerics/event_rate_counter.cc
numerics/event_rate_counter.h
numerics/exp_filter.cc
numerics/exp_filter.h
numerics/exp_filter_unittest.cc
numerics/histogram_percentile_counter.cc
numerics/histogram_percentile_counter.h
numerics/histogram_percentile_counter_unittest.cc
numerics/math_utils.h
numerics/mod_ops.h
numerics/mod_ops_unittest.cc
numerics/moving_average.cc
numerics/moving_average.h
numerics/moving_average_unittest.cc
numerics/moving_max_counter.h
numerics/moving_max_counter_unittest.cc
numerics/moving_median_filter.h
numerics/moving_median_filter_unittest.cc
numerics/percentile_filter.h
numerics/percentile_filter_unittest.cc
numerics/running_statistics.h
numerics/running_statistics_unittest.cc
numerics/safe_compare.h
numerics/safe_compare_unittest.cc
numerics/safe_conversions.h
numerics/safe_conversions_impl.h
numerics/safe_minmax.h
numerics/safe_minmax_unittest.cc
numerics/sample_counter.cc
numerics/sample_counter.h
numerics/sample_counter_unittest.cc
numerics/sample_stats.cc
numerics/sample_stats.h
numerics/samples_stats_counter.cc
numerics/samples_stats_counter.h
numerics/samples_stats_counter_unittest.cc
numerics/sequence_number_util.h
numerics/sequence_number_util_unittest.cc
one_time_event.h
one_time_event_unittest.cc
openssl.h
openssl_adapter.cc
openssl_adapter.h
openssl_adapter_unittest.cc
openssl_certificate.cc
openssl_certificate.h
openssl_digest.cc
openssl_digest.h
openssl_identity.cc
openssl_identity.h
openssl_session_cache.cc
openssl_session_cache.h
openssl_session_cache_unittest.cc
openssl_stream_adapter.cc
openssl_stream_adapter.h
openssl_utility.cc
openssl_utility.h
openssl_utility_unittest.cc
operations_chain.cc
operations_chain.h
operations_chain_unittest.cc
physical_socket_server.cc
physical_socket_server.h
physical_socket_server_unittest.cc
platform_thread.cc
platform_thread.h
platform_thread_types.cc
platform_thread_types.h
platform_thread_unittest.cc
protobuf_utils.h
proxy_info.cc
proxy_info.h
proxy_server.cc
proxy_server.h
proxy_unittest.cc
race_checker.cc
race_checker.h
random.cc
random.h
random_unittest.cc
rate_limiter.cc
rate_limiter.h
rate_limiter_unittest.cc
rate_statistics.cc
rate_statistics.h
rate_statistics_unittest.cc
rate_tracker.cc
rate_tracker.h
rate_tracker_unittest.cc
ref_count.h
ref_counted_object.h
ref_counted_object_unittest.cc
ref_counter.h
rolling_accumulator.h
rolling_accumulator_unittest.cc
rtc_certificate.cc
rtc_certificate.h
rtc_certificate_generator.cc
rtc_certificate_generator.h
rtc_certificate_generator_unittest.cc
rtc_certificate_unittest.cc
sanitizer.h
sanitizer_unittest.cc
server_socket_adapters.cc
server_socket_adapters.h
signal_thread.cc
signal_thread.h
signal_thread_unittest.cc
sigslot_repeater.h
sigslot_tester.h
sigslot_tester_unittest.cc
sigslot_unittest.cc
socket.cc
socket.h
socket_adapters.cc
socket_adapters.h
socket_address.cc
socket_address.h
socket_address_pair.cc
socket_address_pair.h
socket_address_unittest.cc
socket_factory.h
socket_server.h
socket_stream.cc
socket_stream.h
socket_unittest.cc
socket_unittest.h
ssl_adapter.cc
ssl_adapter.h
ssl_adapter_unittest.cc
ssl_certificate.cc
ssl_certificate.h
ssl_fingerprint.cc
ssl_fingerprint.h
ssl_identity.cc
ssl_identity.h
ssl_identity_unittest.cc
ssl_roots.h
ssl_stream_adapter.cc
ssl_stream_adapter.h
ssl_stream_adapter_unittest.cc
stream.cc
stream.h
string_encode.cc
string_encode.h
string_encode_unittest.cc
string_to_number.cc
string_to_number.h
string_to_number_unittest.cc
string_utils.cc
string_utils.h
string_utils_unittest.cc
stringize_macros.h
stringize_macros_unittest.cc
strings/audio_format_to_string.cc
strings/audio_format_to_string.h
strings/json.cc
strings/json.h
strings/json_unittest.cc
strings/string_builder.cc
strings/string_builder.h
strings/string_builder_unittest.cc
strings/string_format.cc
strings/string_format.h
strings/string_format_unittest.cc
swap_queue.h
swap_queue_unittest.cc
synchronization/rw_lock_posix.cc
synchronization/rw_lock_posix.h
synchronization/rw_lock_win.cc
synchronization/rw_lock_win.h
synchronization/rw_lock_wrapper.cc
synchronization/rw_lock_wrapper.h
synchronization/sequence_checker.cc
synchronization/sequence_checker.h
synchronization/sequence_checker_unittest.cc
synchronization/yield_policy.cc
synchronization/yield_policy.h
synchronization/yield_policy_unittest.cc
system/arch.h
system/asm_defines.h
system/cocoa_threading.h
system/file_wrapper.cc
system/file_wrapper.h
system/gcd_helpers.h
system/ignore_warnings.h
system/inline.h
system/rtc_export.h
system/rtc_export_template.h
system/thread_registry.cc
system/thread_registry.h
system/unused.h
system/warn_current_thread_is_deadlocked.cc
system/warn_current_thread_is_deadlocked.h
task_queue.cc
task_queue.h
task_queue_for_test.cc
task_queue_for_test.h
task_queue_gcd.cc
task_queue_gcd.h
task_queue_libevent.cc
task_queue_libevent.h
task_queue_stdlib.cc
task_queue_stdlib.h
task_queue_unittest.cc
task_queue_win.cc
task_queue_win.h
task_utils/pending_task_safety_flag.cc
task_utils/pending_task_safety_flag.h
task_utils/pending_task_safety_flag_unittest.cc
task_utils/repeating_task.cc
task_utils/repeating_task.h
task_utils/repeating_task_unittest.cc
task_utils/to_queued_task.h
task_utils/to_queued_task_unittest.cc
test_base64.h
test_certificate_verifier.h
test_client.cc
test_client.h
test_client_unittest.cc
test_echo_server.cc
test_echo_server.h
test_utils.cc
test_utils.h
third_party/base64/base64.cc
third_party/base64/base64.h
third_party/sigslot/sigslot.cc
third_party/sigslot/sigslot.h
thread.cc
thread.h
thread_annotations.h
thread_annotations_unittest.cc
thread_checker.h
thread_checker_unittest.cc
thread_message.h
thread_unittest.cc
time/timestamp_extrapolator.cc
time/timestamp_extrapolator.h
time_utils.cc
time_utils.h
time_utils_unittest.cc
timestamp_aligner.cc
timestamp_aligner.h
timestamp_aligner_unittest.cc
trace_event.h
type_traits.h
unique_id_generator.cc
unique_id_generator.h
unique_id_generator_unittest.cc
units/unit_base.h
units/unit_base_unittest.cc
virtual_socket_server.cc
virtual_socket_server.h
virtual_socket_unittest.cc
weak_ptr.cc
weak_ptr.h
weak_ptr_unittest.cc
win/windows_version.cc
win/windows_version.h
win/windows_version_unittest.cc
win32.cc
win32.h
win32_socket_init.h
win32_socket_server.cc
win32_socket_server.h
win32_socket_server_unittest.cc
win32_unittest.cc
win32_window.cc
win32_window.h
win32_window_unittest.cc
zero_memory.cc
zero_memory.h
zero_memory_unittest.cc
/usr/include/arpa/inet.h
/usr/include/assert.h
/usr/include/ctype.h
/usr/include/dirent.h
/usr/include/endian.h
/usr/include/errno.h
/usr/include/fcntl.h
/usr/include/ifaddrs.h
/usr/include/inttypes.h
/usr/include/limits.h
/usr/include/linux/netlink.h
/usr/include/linux/rtnetlink.h
/usr/include/linux/sockios.h
/usr/include/malloc.h
/usr/include/math.h
/usr/include/net/if.h
/usr/include/netdb.h
/usr/include/netinet/in.h
/usr/include/netinet/in_systm.h
/usr/include/netinet/ip.h
/usr/include/netinet/tcp.h
/usr/include/openssl/bio.h
/usr/include/openssl/bn.h
/usr/include/openssl/crypto.h
/usr/include/openssl/dtls1.h
/usr/include/openssl/err.h
/usr/include/openssl/evp.h
/usr/include/openssl/ossl_typ.h
/usr/include/openssl/pem.h
/usr/include/openssl/rand.h
/usr/include/openssl/rsa.h
/usr/include/openssl/ssl.h
/usr/include/openssl/tls1.h
/usr/include/openssl/x509.h
/usr/include/openssl/x509v3.h
/usr/include/poll.h
/usr/include/pthread.h
/usr/include/sched.h
/usr/include/signal.h
/usr/include/stdint.h
/usr/include/stdio.h
/usr/include/stdlib.h
/usr/include/string.h
/usr/include/strings.h
/usr/include/time.h
/usr/include/unistd.h
/usr/include/wchar.h
/usr/include/alloca.h
/usr/include/features.h
/usr/include/linux/if_addr.h
/usr/include/linux/if_link.h
/usr/include/linux/kernel.h
/usr/include/linux/neighbour.h
/usr/include/linux/socket.h
/usr/include/linux/types.h
/usr/include/openssl/asn1.h
/usr/include/openssl/async.h
/usr/include/openssl/bioerr.h
/usr/include/openssl/bnerr.h
/usr/include/openssl/buffer.h
/usr/include/openssl/comp.h
/usr/include/openssl/conf.h
/usr/include/openssl/cryptoerr.h
/usr/include/openssl/ct.h
/usr/include/openssl/dh.h
/usr/include/openssl/dsa.h
/usr/include/openssl/e_os2.h
/usr/include/openssl/ebcdic.h
/usr/include/openssl/ec.h
/usr/include/openssl/evperr.h
/usr/include/openssl/hmac.h
/usr/include/openssl/lhash.h
/usr/include/openssl/objects.h
/usr/include/openssl/opensslv.h
/usr/include/openssl/pemerr.h
/usr/include/openssl/pkcs7.h
/usr/include/openssl/randerr.h
/usr/include/openssl/rsaerr.h
/usr/include/openssl/safestack.h
/usr/include/openssl/sha.h
/usr/include/openssl/srtp.h
/usr/include/openssl/ssl2.h
/usr/include/openssl/ssl3.h
/usr/include/openssl/sslerr.h
/usr/include/openssl/symhacks.h
/usr/include/openssl/x509_vfy.h
/usr/include/openssl/x509err.h
/usr/include/openssl/x509v3err.h
/usr/include/rpc/netdb.h
/usr/include/linux/posix_types.h
/usr/include/linux/sysinfo.h
/usr/include/openssl/asn1err.h
/usr/include/openssl/asyncerr.h
/usr/include/openssl/buffererr.h
/usr/include/openssl/comperr.h
/usr/include/openssl/conferr.h
/usr/include/openssl/cterr.h
/usr/include/openssl/dherr.h
/usr/include/openssl/dsaerr.h
/usr/include/openssl/ecerr.h
/usr/include/openssl/obj_mac.h
/usr/include/openssl/objectserr.h
/usr/include/openssl/pkcs7err.h
/usr/include/openssl/stack.h
/usr/include/stdc-predef.h
/usr/include/linux/stddef.h
